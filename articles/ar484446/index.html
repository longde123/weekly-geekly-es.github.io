<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คท ๐ต ๐คท๐ป ุจูุซูู 3.5 ุชูููุฐ ุงูุชุฒุงูู ุจุงุณุชุฎุฏุงู asyncio ๐ค๐ฝ ๐ฉ๐ฝโ๐ซ ๐ต๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุฑุฌูุฉ ุงููุตู 13 ุงูุชุฒุงูู 
 ูู ูุชุงุจ "ุฎุจูุฑ ุจูุซูู ุงูุจุฑูุฌุฉ" ุ 
 ุงูุทุจุนุฉ ุงูุซุงููุฉ 
 ููุฎุงุฆูู ุฌุงูุฑุณูู ูุทุงุฑู ุฒูุงุฏ ุ 2016 
 
 ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ 
 ูู ุงูุณููุงุช ุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจูุซูู 3.5 ุชูููุฐ ุงูุชุฒุงูู ุจุงุณุชุฎุฏุงู asyncio</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484446/" style=";text-align:right;direction:rtl">  <i>ุชุฑุฌูุฉ ุงููุตู 13 ุงูุชุฒุงูู</i> <i><br></i>  <i>ูู ูุชุงุจ "ุฎุจูุฑ ุจูุซูู ุงูุจุฑูุฌุฉ" ุ</i> <i><br></i>  <i>ุงูุทุจุนุฉ ุงูุซุงููุฉ</i> <i><br></i>  <i>ููุฎุงุฆูู ุฌุงูุฑุณูู ูุทุงุฑู ุฒูุงุฏ ุ 2016</i> <i><br></i> <br><h4 style=";text-align:right;direction:rtl">  ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ </h4><br>  ูู ุงูุณููุงุช ุงูุฃุฎูุฑุฉ ุ ุงูุชุณุจุช ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุดุนุจูุฉ ูุจูุฑุฉ.  ุญุตูุช Python 3.5 ุฃุฎูุฑูุง ุนูู ุจุนุถ ูุธุงุฆู ุจูุงุก ุงูุฌููุฉ ุงูุชู ุชุนุฒุฒ ููุงููู ุงูุญููู ุบูุฑ ุงููุชุฒุงููุฉ.  ูููู ูุฐุง ูุง ูุนูู ุฃู ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุฃุตุจุญุช ููููุฉ ููุท ููุฐ ุจูุซูู 3.5.  ุชู ุชูููุฑ ุงูุนุฏูุฏ ูู ุงูููุชุจุงุช ูุงูุฃุทุฑ ูู ููุช ูุจูุฑ ุ ููุนุธููุง ูุดุฃ ูู ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ ูู ุจูุซูู 2. ุญุชู ุฃู ููุงู ุชุทุจูููุง ุจุฏููุงู ูุงูููุง ูุจูุซูู ูุณูู Stackless (ุงูุธุฑ ุงููุตู 1 ุ "ุงููุถุน ุงูุญุงูู ูุจูุซูู") ุ ูุงูุฐู ูุฑูุฒ ุนูู ููุฌ ุงูุจุฑูุฌุฉ ุงููุฑุฏู ูุฐุง.  ุจุงููุณุจุฉ ูุจุนุถ ุงูุญููู ุ ูุซู <b>Twisted ุฃู Tornado</b> ุฃู <b>Eventlet</b> ุ ูุง ุชุฒุงู ุงููุฌุชูุนุงุช ุงููุดุทุฉ ููุฌูุฏุฉ ูุชุณุชุญู ุงููุนุฑูุฉ ุญููุง.  ูู ุฃู ุญุงู ุ ุจุฏุกูุง ูู Python 3.5 ุ ุฃุตุจุญุช ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุฃุณูู ูู ุฃู ููุช ูุถู.  ูุจุงูุชุงูู ุ ูู ุงููุชููุน ุฃู ุชุญู ูุธุงุฆููุง ุบูุฑ ุงููุชุฒุงููุฉ ุงููุฏูุฌุฉ ูุญู ูุนุธู ุงูุฃุฏูุงุช ุงููุฏููุฉ ุ ุฃู ุณุชุชุญูู ุงููุดุงุฑูุน ุงูุฎุงุฑุฌูุฉ ุชุฏุฑูุฌูุงู ุฅูู ููุน ูู ุงูุฃุทุฑ ุฑููุนุฉ ุงููุณุชูู ุชุนุชูุฏ ุนูู ุจูุซูู ุงููุฏูุฌุฉ. <br><a name="habracut"></a><br>  ุนูุฏ ูุญุงููุฉ ุดุฑุญ ูุงููุฉ ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุ ูู ุงูุฃุณูู ุงูุชูููุฑ ูู ูุฐุง ุงูููุฌ ูุดูุก ูุดุงุจู ููุคุดุฑุงุช ุงูุชุฑุงุจุท ุ ูููู ุฏูู ุฌุฏููุฉ ูุธุงู.  ูุฐุง ูุนูู ุฃู ุงูุจุฑูุงูุฌ ุบูุฑ ุงููุชุฒุงูู ููููู ูุนุงูุฌุฉ ุงูููุงู ูู ููุณ ุงูููุช ุ ูููู ูุชู ุชุจุฏูู ุณูุงูู ุฏุงุฎูููุง ูููุณ ุจูุงุณุทุฉ ุจุฑูุงูุฌ ุฌุฏููุฉ ุงููุธุงู. <br><br>  ูููู ุ ุจุงูุทุจุน ุ ูุง ูุณุชุฎุฏู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูููุนุงูุฌุฉ ุงููุชูุงุฒูุฉ ููููุงู ูู ุจุฑูุงูุฌ ุบูุฑ ูุชุฒุงูู.  ุชุณุชุฎุฏู ูุนุธู ุงูุญููู ููุงููู ูุฎุชููุฉ ุ ูููููุง ููุชูููุฐ ุ ุชุณูู ุจุทุฑููุฉ ูุฎุชููุฉ.  ูููุง ููู ุจุนุถ ุฃูุซูุฉ ุงูุฃุณูุงุก ุงููุณุชุฎุฏูุฉ ููุตู ูุงุฆูุงุช ุงูุจุฑูุงูุฌ ุงููุชูุงุฒูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุฎููุท ุฎุถุฑุงุก</b> - <b>ุฎููุท</b> ุฎุถุฑุงุก (ูุดุงุฑูุน greenlet ุ gevent ุฃู eventlet) </li><li style=";text-align:right;direction:rtl">  <b>Coroutines</b> - coroutines (ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุงูุจุญุชุฉ ูู Python 3.5) </li><li style=";text-align:right;direction:rtl">  <b>Tasklets (Stackless Python)</b> ูุฐู ูู ูู ุงูุฃุณุงุณ ููุณ ุงูููุงููู ุ ูููููุง ุบุงูุจุงู ูุง ุชููุฐ ุจุทุฑู ูุฎุชููุฉ ููููุงู. </li></ul><br>  ูุฃุณุจุงุจ ูุงุถุญุฉ ุ ุณูุฑูุฒ ูู ูุฐุง ุงููุณู ููุท ุนูู coroutines ุงููุฏุนููุฉ ูุจุฏุฆููุง ุจูุงุณุทุฉ Python ุ ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 3.5. <br><br><h4 style=";text-align:right;direction:rtl">  ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงูููุฉ ู I / O ุบูุฑ ูุชุฒุงูู </h4><br>  ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงูููุฉ ูู ุฌููุฑ ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ.  ูุจูุฐุง ุงููุนูู ุ ูุฅู ุชุนุฏุฏ ุงูููุงู ูู ูุธุงู ุงูุชุดุบูู ููุณ ูุทููุจูุง ูุจุฏุก ุชุจุฏูู ููุณูุงู (ุฅูู ุนูููุฉ ุฃู ูุคุดุฑ ุชุฑุงุจุท ุขุฎุฑ) ุ ูููู ุจุฏูุงู ูู ุฐูู ุ ุชุทูู ูู ุนูููุฉ ุทูุงุนูุฉ ุงูุชุญูู ุนูุฏูุง ุชููู ูู ูุถุน ุงูุงุณุชุนุฏุงุฏ ูุถูุงู ุงูุชูููุฐ ุงููุชุฒุงูู ูุนุฏุฉ ุจุฑุงูุฌ.  ูุฐุง ูู ุงูุณุจุจ ูุทูู ุนููู ุงูุชุนุงูููุฉ.  ูุฌุจ ุฃู ุชุนูู ุฌููุน ุงูุนูููุงุช ูุนูุง ูุถูุงู ูุฌุงุญ ุชุนุฏุฏ ุงูููุงู. <br><br>  ุชู ุงุณุชุฎุฏุงู ูููุฐุฌ ุชุนุฏุฏ ุงูููุงู ูู ุจุนุถ ุงูุฃุญูุงู ูู ุฃูุธูุฉ ุงูุชุดุบูู ุ ูููู ุงูุขู ูุง ูููู ุงูุนุซูุฑ ุนููู ูุญู ุนูู ูุณุชูู ุงููุธุงู.  ูุฐุง ูุฃูู ููุฌุฏ ุฎุทุฑ ูู ุฃู ุฎุฏูุฉ ุณูุฆุฉ ุงูุชุตููู ูููู ุฃู ุชุฒุนุฒุน ุจุณูููุฉ ุงุณุชูุฑุงุฑ ุงููุธุงู ุจุฃูููู.  ุชุนุฏ ุฌุฏููุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูุงูุนูููุงุช ุจุงุณุชุฎุฏุงู ููุงุชูุญ ุชุจุฏูู ุงูุณูุงู ุงูุชู ูุชุญูู ูููุง ูุจุงุดุฑุฉ ูุธุงู ุงูุชุดุบูู ูู ุงูุทุฑููุฉ ุงูุณุงุฆุฏุฉ ูู ุงูุชุฒุงูู ุนูู ูุณุชูู ุงููุธุงู.  ููู ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงูููุฉ ูุง ูุฒุงู ุฃุฏุงุฉ ุงูุชุฒุงูู ูุจูุฑุฉ ุนูู ูุณุชูู ุงูุชุทุจูู. <br><br>  ุงูุญุฏูุซ ุนู ุชุนุฏุฏ ุงูููุงู ุงููุดุชุฑูุฉ ุนูู ูุณุชูู ุงูุชุทุจูู ุ ูุญู ูุง ูุชุนุงูู ูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุฃู ุงูุนูููุงุช ุงูุชู ุชุญุชุงุฌ ุฅูู ุชุญุฑูุฑ ุงูุชุญูู ุ ูุฃู ูู ุงูุชูููุฐ ููุฌูุฏ ูู ุนูููุฉ ูุงุญุฏุฉ ููุคุดุฑ ุชุฑุงุจุท.  ุจุฏูุงู ูู ุฐูู ุ ูุฏููุง ุงูุนุฏูุฏ ูู ุงูููุงู (coroutines ูููุงู ุงูููุงู ูุงูุฎููุท ุงูุฎุถุฑุงุก) ุงูุชู ุชููู ุงูุชุญูู ุฅูู ูุธููุฉ ูุงุญุฏุฉ ุชุชุญูู ูู ุชูุณูู ุงูููุงู.  ูุฐู ุงููุธููุฉ ูู ุนุงุฏุฉ ููุน ูู ุญููุฉ ุงูุญุฏุซ. <br><br>  ูุชุฌูุจ ุงูุงูุชุจุงุณ (ุจุณุจุจ ูุตุทูุญุงุช ุจูุซูู) ุ ุณูู ูุฏุนู ุงูุขู ูุซู ูุฐู ุงูููุงู ุงููุชูุงุฒูุฉ coroutines.  ุงููุดููุฉ ุงูุฃูุซุฑ ุฃูููุฉ ูู ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงููู ูู ูุชู ูุชู ููู ุงูุชุญูู.  ูู ูุนุธู ุงูุชุทุจููุงุช ุบูุฑ ุงููุชุฒุงููุฉ ุ ูุชู ุชูุฑูุฑ ุงูุชุญูู ุฅูู ุงููุฌุฏูู ุฃู ุญููุฉ ุงูุญุฏุซ ุฃุซูุงุก ุนูููุงุช ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ.  ุจุบุถ ุงููุธุฑ ุนูุง ุฅุฐุง ูุงู ุงูุจุฑูุงูุฌ ููุฑุฃ ุงูุจูุงูุงุช ูู ูุธุงู ุงููููุงุช ุฃู ูุชุตู ุนุจุฑ ูุฃุฎุฐ ุชูุตูู ุ ูุฅู ุนูููุฉ ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ูุฐู ุชุฑุชุจุท ุฏุงุฆููุง ุจููุช ุงูุชุธุงุฑ ุนูุฏูุง ุชุตุจุญ ุงูุนูููุฉ ุบูุฑ ูุดุทุฉ.  ูุนุชูุฏ ุงููููู ุนูู ููุฑุฏ ุฎุงุฑุฌู ุ ูุฐุง ููุฐู ูุฑุตุฉ ุฌูุฏุฉ ูุชุญุฑูุฑ ุงูุชุญูู ุญุชู ูุชููู ููุฑููู ุขุฎุฑูู ูู ุฃุฏุงุก ุนูููู ุ ุญุชู ูุชุนูู ุนูููู ุงูุชุธุงุฑ ุฃู ูููู ูุฐุง ุงูููุฌ ูุดุงุจููุง ุฅูู ุญุฏ ูุง ูู ุงูุณููู ูููููุฉ ุชูููุฐ ุชุนุฏุฏ ุงูุนูููุงุช ูู ุจูุซูู.  ูุนูู ุฃู GIL ุชููู ุจุชุณูุณู ุฎููุท Python ุ ููู ูุชู ุชุญุฑูุฑูุง ุฃูุถูุง ูุน ูู ุนูููุฉ ุฅุฏุฎุงู / ุฅุฎุฑุงุฌ.  ูุชูุซู ุงูุงุฎุชูุงู ุงูุฑุฆูุณู ูู ุฃูู ูุชู ุชูููุฐ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูู Python ุจุงุนุชุจุงุฑูุง ูุคุดุฑุงุช ุชุฑุงุจุท ุนูู ูุณุชูู ุงููุธุงู ุ ุจุญูุซ ูููู ููุธุงู ุงูุชุดุบูู ุชูุฑูุบ ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุฌุงุฑู ุญุงูููุง ูู ุฃู ููุช ูููู ุงูุชุญูู ุฅูู ุขุฎุฑ. <br><br>  ูู ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุ ูุง ุชููุทุน ุงูููุงู ุนู ุทุฑูู ุญููุฉ ุงูุญุฏุซ ุงูุฑุฆูุณูุฉ.  ููุฐุง ุงูุณุจุจ ูุณูู ุฃุณููุจ ุชุนุฏุฏ ุงูููุงู ูุฐุง ุฃูุถูุง ุชุนุฏุฏ ุงูููุงู ุบูุฑ ุฐู ุงูุฃููููุฉ. <br><br>  ุจุงูุทุจุน ุ ูู ุชุทุจูู Python ูุนูู ุนูู ูุธุงู ุชุดุบูู ุญูุซ ุชูุฌุฏ ุนูููุงุช ุฃุฎุฑู ุชุชูุงูุณ ุนูู ุงูููุงุฑุฏ.  ูุฐุง ูุนูู ุฃู ูุธุงู ุงูุชุดุบูู ูุฏูู ุฏุงุฆููุง ุงูุญู ูู ุฅูุบุงุก ุชุญููู ุงูุนูููุฉ ุจุงููุงูู ูููู ุงูุชุญูู ุฅูู ุขุฎุฑ.  ูููู ุนูุฏูุง ูุจุฏุฃ ุชุทุจูููุง ุบูุฑ ุงููุชุฒุงูู ูุฑุฉ ุฃุฎุฑู ุ ูุฅูู ูุณุชูุฑ ูู ุญูุซ ุชู ุฅููุงูู ูุคูุชูุง ุนูุฏูุง ุชุฏุฎู ุจุฑูุงูุฌ ุฌุฏููุฉ ุงููุธุงู.  ูุฐุง ูู ุงูุณุจุจ ูู ุฃู ุงูููุฑูุชููุงุช ูู ูุฐุง ุงูุณูุงู ุชุนุชุจุฑ ุบูุฑ ูุฒุฏุญูุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุจูุซูู ูุชุฒุงูู ูููุชุธุฑ ุงููููุงุช ุงูุฑุฆูุณูุฉ </h4><br>  ุงููููุงุช ุงูุฃุณุงุณูุฉ ุบูุฑ <i>ุงููุชุฒุงููุฉ ูุงูุงูุชุธุงุฑ</i> ูู ุงููุจูุงุช ุงูุฃุณุงุณูุฉ ูู ุจุฑูุฌุฉ Python ุบูุฑ ุงููุชุฒุงููุฉ. <br><br>  <i>ุงููููุฉ ุงูุฃุณุงุณูุฉ ุบูุฑ ุงููุชุฒุงูู</i> ุงููุณุชุฎุฏูุฉ ูุจู ุจูุงู <i>def</i> ุชุญุฏุฏ coroutine ุฌุฏูุฏ.  ูููู ุชุนููู ูุธููุฉ coroutine ูุงุณุชุฆูุงููุง ูู ุธู ุธุฑูู ูุญุฏุฏุฉ ุจุฏูุฉ.  ูุดุจู ุจูุงุก ุงูุฌููุฉ ูุงูุณููููุงุช ุงููููุฏุงุช (ุฑุงุฌุน ุงููุตู 2 ุ "ุชูุตูุงุช ุจูุงุก ุงูุฌููุฉ" ุ ุฃุณูู ูุณุชูู ุงููุตู).  ูู ุงููุงูุน ุ ูุฌุจ ุงุณุชุฎุฏุงู ุงููููุฏุงุช ูู ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ ูู Python ูุชูููุฐ coroutines.  ูููุง ููู ูุซุงู ูุฅุนูุงู ุฏุงูุฉ ุชุณุชุฎุฏู <i>ุงููููุฉ ุงูุฃุณุงุณูุฉ ุบูุฑ ุงููุชุฒุงููุฉ</i> : <br><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">async_hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> print(<span class="hljs-string"><span class="hljs-string">"hello, world!"</span></span>)</code> </pre> <br>  ุงููุธุงุฆู ุงููุญุฏุฏุฉ ุจุงุณุชุฎุฏุงู <i>ุงููููุฉ ุงูุฃุณุงุณูุฉ</i> ุบูุฑ <i>ุงููุชุฒุงููุฉ</i> ุฎุงุตุฉ.  ุนูุฏ ุงูุงุชุตุงู ุ ูุง ูููููู ุจุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ุงูุฏุงุฎู ุ ูููู ุจุฏูุงู ูู ุฐูู ูุนุฑุถูู ูุงุฆู coroutine: <br><br><pre style=";text-align:right;direction:rtl"> <b><code class="plaintext hljs">&gt;&gt;&gt;&gt; async def async_hello(): ... print("hello, world!") ... &gt;&gt;&gt; async_hello() &lt;coroutine object async_hello at 0x1014129e8&gt;</code></b> </pre><br>  ูุง ูููู ูุงุฆู coroutine ุจุฃู ุดูุก ุญุชู ูุชู ุฌุฏููุฉ ุชูููุฐู ูู ุญููุฉ ุงูุญุฏุซ.  ุชุชููุฑ ุงููุญุฏุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูุชูููุฑ ุชูููุฐ ุฃุณุงุณู ูุญููุฉ ุงูุญุฏุซ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุงูุฃุฎุฑู: <br><br><pre style=";text-align:right;direction:rtl"> <b><code class="plaintext hljs">&gt;&gt;&gt; import asyncio &gt;&gt;&gt; async def async_hello(): ... print("hello, world!") ... &gt;&gt;&gt; loop = asyncio.get_event_loop() &gt;&gt;&gt; loop.run_until_complete(async_hello()) hello, world! &gt;&gt;&gt; loop.close()</code></b> </pre><br>  ุจุทุจูุนุฉ ุงูุญุงู ุ ุฅูุดุงุก coroutine ูุงุญุฏ ููุท ุจุณูุท ุ ูู ุจุฑูุงูุฌูุง ูุญู ูุง ูุทุจู ุงูุชูุงุฒู.  ูุฑุคูุฉ ุดูุก ูุชูุงุฒู ุญููุง ุ ูุญุชุงุฌ ุฅูู ุฅูุดุงุก ุงููุฒูุฏ ูู ุงูููุงู ุงูุชู ุณูุชู ุชูููุฐูุง ุจูุงุณุทุฉ ุญููุฉ ุญุฏุซ. <br><br>  ูููู ุฅุถุงูุฉ ููุงู ุฌุฏูุฏุฉ ุฅูู ุงูุญููุฉ ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <i>loop.create_task ()</i> ุฃู ุนู ุทุฑูู ุชูููุฑ ูุงุฆู ุขุฎุฑ ูุงูุชุธุงุฑ <i>ุงุณุชุฎุฏุงู</i> ูุธููุฉ <i>asyncio.wait ()</i> .  ุณูุณุชุฎุฏู ุงูุทุฑููุฉ ุงูุฃุฎูุฑุฉ ููุญุงูู ุทุจุงุนุฉ ุชุณูุณู ูู ุงูุฃุฑูุงู ุงูุชู ุชู ุฅูุดุงุคูุง ุจุงุณุชุฎุฏุงู ุฏุงูุฉ <i>range ()</i> ุจุดูู ุบูุฑ ูุชุฒุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> asyncio <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print_number</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(number)</span></span></span><span class="hljs-function">:</span></span> print(number) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: loop = asyncio.get_event_loop() loop.run_until_complete( asyncio.wait([ print_number(number) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> number <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>) ]) ) loop.close()</code> </pre><br>  ุชูุจู ุงูุฏุงูุฉ <i>asyncio.wait ()</i> ูุงุฆูุฉ ูู ุงููุงุฆูุงุช coroutine ูุชุนูุฏ ุนูู ุงูููุฑ.  ูุงููุชูุฌุฉ ูู ูููุฏ ููุชุฌ ูุงุฆูุงุช ุชูุซู ุงููุชุงุฆุฌ ุงููุณุชูุจููุฉ (ุงูุนููุฏ ุงููุณุชูุจููุฉ).  ููุง ููุญู ุงูุงุณู ุ ูุชู ุงุณุชุฎุฏุงูู ูุงูุชุธุงุฑ ุงุณุชููุงู ุฌููุน coroutines ุงูููุฏูุฉ.  ุณุจุจ ุฅุฑุฌุงุน ุงููููุฏ ุจุฏูุงู ูู ูุงุฆู coroutine ูู ุฃูู ูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูู Python ุ ูุงูุฐู ุณูุชู ุดุฑุญู ูุงุญููุง.  ูุฏ ุชููู ูุชูุฌุฉ ุชูููุฐ ูุฐุง ุงูุจุฑูุงูุฌ ุงููุตู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <b><code class="plaintext hljs">$ python asyncprint.py 0 7 8 3 9 4 1 5 2 6</code></b> </pre><br>  ููุง ูุฑู ุ ูุง ุชุชู ุทุจุงุนุฉ ุงูุฃุฑูุงู ุจุงูุชุฑุชูุจ ุงูุฐู ุฃูุดุฃูุง ุจู coroutines ูุฏููุง.  ูููู ูุฐุง ูู ุจุงูุถุจุท ูุง ุฃุฑุฏูุง ุชุญูููู. <br><br>  ุงููููุฉ ุงูุฑุฆูุณูุฉ ุงููุงูุฉ ุงูุซุงููุฉ ุงููุถุงูุฉ ูู Python 3.5 ูู ูู <i>ุงูุชุธุงุฑ</i> .  ูุชู ุงุณุชุฎุฏุงูู ูุงูุชุธุงุฑ ูุชุงุฆุฌ ุญุฏุซ coroutine ุฃู ุญุฏุซ ูู ุงููุณุชูุจู (ุชู ุดุฑุญู ูุงุญููุง) ูุชุญุฑูุฑ ุงูุชุญูู ูู ุงูุชูููุฐ ูู ุญููุฉ ุงูุญุฏุซ.  ูููู ููููุฉ ุนูู ูุฐุง ุจุดูู ุฃูุถู ุ ูุญุชุงุฌ ุฅูู ุงูุชูููุฑ ูู ูุซุงู ุฑูุฒ ุฃูุซุฑ ุชุนููุฏูุง. <br><br>  ูููุชุฑุถ ุฃููุง ูุฑูุฏ ุฅูุดุงุก ุงุซููู ูู coroutines ุงูุชู ุณุชุคุฏู ุจุนุถ ุงูููุงู ุงูุจุณูุทุฉ ูู ุญููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชุธุฑ ุนุฏุฏ ุนุดูุงุฆู ูู ุงูุซูุงูู </li><li style=";text-align:right;direction:rtl">  ูู ุจุทุจุงุนุฉ ุจุนุถ ุงููุตูุต ุงูููุฏูุฉ ููุณูุทุฉ ุ ูููุฏุงุฑ ุงูููุช ุงููุณุชุบุฑู ูู ุงูุงูุชุธุงุฑ.  ููุจุฏุฃ ุจุชูููุฐ ุจุณูุท ูุญุชูู ุนูู ุจุนุถ ูุดููุงุช ุงูุชุฒุงูู ุงูุชู ุณูุญุงูู ุชุญุณูููุง ูุงุญููุง ุจุงุณุชุฎุฏุงู ุฅุถุงูู ููุงูุชุธุงุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> asyncio <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">waiter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">4</span></span>): time_to_sleep = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) / <span class="hljs-number"><span class="hljs-number">4</span></span> time.sleep(time_to_sleep) print( <span class="hljs-string"><span class="hljs-string">"{} waited {} seconds"</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>.format(name, time_to_sleep) ) <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> asyncio.wait([waiter(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>), waiter(<span class="hljs-string"><span class="hljs-string">"bar"</span></span>)]) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: loop = asyncio.get_event_loop() loop.run_until_complete(main()) loop.close()</code> </pre></li></ul><br>  ุนูุฏ ุชูููุฐู ูู ุงูุฌูุงุฒ (ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ time ูููุงุณ ุงูููุช) ุ ููููู ุฑุคูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <b><code class="plaintext hljs">$ time python corowait.py bar waited 0.25 seconds bar waited 0.25 seconds bar waited 0.5 seconds bar waited 0.5 seconds foo waited 0.75 seconds foo waited 0.75 seconds foo waited 0.25 seconds foo waited 0.25 seconds real 0m3.734s user 0m0.153s sys 0m0.028s</code></b> </pre><br><br>  ููุง ูุฑู ุ ููุฏ ุฃุชู ููุงููุง ุชูููุฐููุง ุ ููู ููุณ ุจุดูู ุบูุฑ ูุชุฒุงูู.  ุงูุณุจุจ ูู ุฃููู ูุณุชุฎุฏููู ุงูุฏุงูุฉ <i>time.sleep ()</i> ุ ูุงูุชู ุชููู ุจุชุฃููู ูููู ูุง ูุชู ุชุญุฑูุฑ ุนูุตุฑ ุงูุชุญูู ูู ุญููุฉ ุงูุญุฏุซ.  ุณูุนูู ูุฐุง ุจุดูู ุฃูุถู ูู ุชุซุจูุช ูุชุนุฏุฏ ุงูุฎููุท ุ ููููุง ูุง ูุฑูุฏ ุงุณุชุฎุฏุงู ุงูุชุฏููุงุช ูู ุงูููุช ุงูุญุงูู.  ุฅุฐุง ููู ูููููุง ุฅุตูุงุญ ูุฐุงุ <br><br>  ุงูุฅุฌุงุจุฉ ูู ุงุณุชุฎุฏุงู <i>asyncio.sleep ()</i> ุ ููู ุฅุตุฏุงุฑ ุบูุฑ ูุชุฒุงูู ูู time.sleep () ุ ููุชููุน ุงููุชูุฌุฉ ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฑุฆูุณูุฉ <i>await</i> .  ููุฏ ุงุณุชุฎุฏููุง ูุฐุง ุงูุจูุงู ุจุงููุนู ูู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู <i>main ()</i> ุ ูููู ูุฐุง ูุงู ููุท ูุชุญุณูู ูุถูุญ ุงูููุฏ.  ูู ุงููุงุถุญ ุฃู ูุฐุง ูู ูุฌุนู ุชูููุฐูุง ุฃูุซุฑ ุชูุงุฒูุง.  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุณุฎุฉ ูุญุณูุฉ ูู coroutine <i>ุงููุงุฏู ()</i> ุงูุฐู ูุณุชุฎุฏู ูู ุงูุชุธุงุฑ asyncio.sleep (): <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">waiter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">4</span></span>): time_to_sleep = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) / <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> asyncio.sleep(time_to_sleep) print( <span class="hljs-string"><span class="hljs-string">"{} waited {} seconds"</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>.format(name, time_to_sleep) )</code> </pre><br><br>  ุนูุฏ ุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู ุงููุญุฏูุซ ุ ุณูุฑู ููู ูุชูุงูุจ ุฅุฎุฑุงุฌ ูุธููุชูู ูุน ุจุนุถููุง ุงูุจุนุถ: <br><br><pre style=";text-align:right;direction:rtl"> <b><code class="plaintext hljs">$ time python corowait_improved.py bar waited 0.25 seconds foo waited 0.25 seconds bar waited 0.25 seconds foo waited 0.5 seconds foo waited 0.25 seconds bar waited 0.75 seconds foo waited 0.25 seconds bar waited 0.5 seconds real 0m1.953s user 0m0.149s sys 0m0.026s</code></b> </pre><br><br>  ูุงุฆุฏุฉ ุฅุถุงููุฉ ููุฐุง ุงูุชุญุณูู ุงูุจุณูุท ูู ุฃู ุงูุดูุฑุฉ ุชุนูู ุจุดูู ุฃุณุฑุน.  ูุงู ุฅุฌูุงูู ููุช ุงูุชูููุฐ ุฃูู ูู ูุฌููุน ุฌููุน ุฃููุงุช ุงูููู ุ ูุฃู ุณูุทุฑูุง ุนูู ูุงุญุฏ ูู ูุงุญุฏ ุชูู ุงูุขุฎุฑ. <br><br><h4 style=";text-align:right;direction:rtl">  Asyncio ูู ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูู ุจูุซูู </h4><br>  ุธูุฑุช ุงููุญุฏุฉ ุบูุฑ ุงููุชูุงุซูุฉ ูู ุจูุซูู 3.4.  ูุฐู ูู ุงููุณุฎุฉ ุงููุญูุฏุฉ ูู ุจูุซูู ุงูุชู ูุฏููุง ุฏุนู ุฌุงุฏ ููุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูุจู ุจูุซูู 3.5.  ูุณูุก ุงูุญุธ ุ ูุจุฏู ุฃู ูุฐูู ุงูุฅุตุฏุงุฑูู ุงููุงุญููู ููููุงู ูุนุฑุถ ูุดููุงุช ุงูุชูุงูู. <br><br>  ุนูู ุฃู ุญุงู ุ ุชู ุชูุฏูู ุฃุณุงุณ ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงูู ูู Python ูุจู ุนูุงุตุฑ ุจูุงุก ุงูุฌููุฉ ุงูุชู ุชุฏุนู ูุฐุง ุงููุงูุจ.  ูุชุฃุฎุฑุง ุฃูุถู ูู ุฃูุง ุชุฃุชู ุฃุจุฏุง ุ ูููู ูุฐุง ุฎูู ูุถุนุง ุญูุซ ููุฌุฏ ุงุซููู ูู ุจูุงุก ุงูุฌููุฉ ููุนูู ูุน coroutines. <br><br>  ุจุฏุกูุง ูู Python 3.5 ุ ููููู ุงุณุชุฎุฏุงู <i>ุงููุฒุงููุฉ</i> <i>ูุงูุงูุชุธุงุฑ</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> asyncio.sleep(<span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre><br><br>  ููุน ุฐูู ุ ูู ุจูุซูู 3.4 ุ ุณูู ุชุถุทุฑ ุฅูู ุชุทุจูู ุงูุฏูููุฑ asyncio.coroutine ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ูู ุงููุต coroutine: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@asyncio.couroutine def main(): yield from asyncio.sleep(0)</span></span></code> </pre><br><br>  ุญูููุฉ ุฃุฎุฑู ูููุฏุฉ ูู ุฃู <i>ุงูุนุงุฆุฏ ูู ุงูุจูุงู</i> ุชู ุชูุฏููู ูู Python 3.3 ุ ูุฃู PyPI ูุฏููุง ุฎูููุฉ ุบูุฑ ูุชุฒุงููุฉ.  ูุฐุง ูุนูู ุฃูู ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู ูุฐุง ุงูุชุทุจูู ูุชุนุฏุฏ ุงูููุงู ุงูุชุนุงููู ูุน Python 3.3. <br><br><h4 style=";text-align:right;direction:rtl">  ูุซุงู ุนููู ููุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ </h4><br>  ููุง ุฐูุฑูุง ุนุฏุฉ ูุฑุงุช ูู ูุฐุง ุงููุตู ุ ุชุนุฏ ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุฃุฏุงุฉ ุฑุงุฆุนุฉ ููุชุนุงูู ูุน ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ.  ููุฏ ุญุงู ุงูููุช ูุฅูุดุงุก ุดูุก ุฃูุซุฑ ุนูููุฉ ูู ูุฌุฑุฏ ุทุจุงุนุฉ ุชุณูุณูุงุช ุฃู ุงูุชุธุงุฑ ุบูุฑ ูุชุฒุงูู. <br><br>  ูุถูุงู ุงูุงุชุณุงู ุ ุณูุญุงูู ุญู ููุณ ุงููุดููุฉ ุงูุชู ูููุง ุจุญููุง ุจูุณุงุนุฏุฉ ุชุนุฏุฏ ุงูุนูููุงุช ูุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ.  ูุฐูู ุ ุณูุญุงูู ุงุณุชุฎุฑุงุฌ ุจุนุถ ุงูุจูุงูุงุช ุจุดูู ุบูุฑ ูุชุฒุงูู ูู ุงูููุงุฑุฏ ุงูุฎุงุฑุฌูุฉ ูู ุฎูุงู ุงุชุตุงู ุงูุดุจูุฉ.  ุณูููู ูู ุงูุฑุงุฆุน ุฃู ูุชููู ูู ุงุณุชุฎุฏุงู ููุณ ุญุฒูุฉ <i>ุจูุซูู-ุบูุงุจุณ</i> ููุง ูู ุงูุฃูุณุงู ุงูุณุงุจูุฉ.  ูุณูุก ุงูุญุธ ุ ูุง ูููููุง ุฐูู. <br><br>  ูุงู ุฎุงูู <i>ุงูุซุนุจุงู gmaps</i> ูุณูููุง ูููููุง ููู ูุฃุฎุฐ ุณูู ุงูุงุณู.  ูุชุจุณูุท ุงูุชุทููุฑ ุ ุงุฎุชุงุฑ ุญุฒูุฉ ุงูุทูุจ ูููุชุจุฉ ุนููู HTTP ุงูุฎุงุตุฉ ุจู.  ูุณูุก ุงูุญุธ ุ ูุง ุชุฏุนู ุงูุทูุจุงุช ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุบูุฑ <i>ุงููุชุฒุงูู</i> ูุน <i>ุงููุฒุงููุฉ</i> <i>ูุชูุชุธุฑ</i> .  ููุงู ุจุนุถ ุงููุดุงุฑูุน ุงูุฃุฎุฑู ุงูุชู ุชูุฏู ุฅูู ุชูููุฑ ุจุนุถ ุงูุชูุงุฒู ููุดุฑูุน ุงูุงุณุชุนูุงู ุ ูููููุง ุชุนุชูุฏ ุฅูุง ุนูู <i>Gevent</i> ( <i>grequests</i> ุ ุฑุงุฌุน <i>https://github.com/ kennethreitz / grequests</i> ) ุฃู ุชุดุบูู ุชุฌูุน <i>ูุคุดุฑุงุช</i> ุชุฑุงุจุท / ุนูููุฉ (ุงุณุชุนูุงู - ุงูุนููุฏ ุงููุณุชูุจููุฉ ุงูุฑุฌูุน ุฅูู <i><a href="https://github.com/ross/requests-futures" rel="nofollow">github.com/ross/requests-futures</a></i> ).  ูุง ุฃุญุฏ ูููู ูุญู ูุดููุชูุง. <br><br><blockquote style=";text-align:right;direction:rtl">  <i>ูุจู ุชูุจูุฎ ููุณู ูุชูุจูุฎ ูุทูุฑ ุจุฑูุก ููุชูุญ ุงููุตุฏุฑ ุ ุชูุฏุฃ.</i>  <i>ุงูุดุฎุต <i>ุงูุฐู ููู ูุฑุงุก</i> ุญุฒูุฉ <i>python-gmaps</i> ูู ุฃูุง.</i>  <i>ุงุฎุชูุงุฑ ุงูููุฑุงุก ูู ุงูุชุจุนูุงุช ูู ูุงุญุฏุฉ ูู ูุดุงูู ูุฐุง ุงููุดุฑูุน.</i>  <i>ุฃูุฏ ููุท ุฃู ุฃูุชูุฏ ููุณู ุนูุงููุฉ ูู ููุช ูุขุฎุฑ.</i>  <i>ุณูููู ูุฐุง ุฏุฑุณูุง ูุฑูุฑูุง ุจุงููุณุจุฉ ูู ุ ุญูุซ ูุง ูููู ุฏูุฌ <i>python-gmaps</i> ูู ุฃุญุฏุซ ุฅุตุฏุงุฑ (0.3.1 ููุช ูุชุงุจุฉ ูุฐุง ุงููุชุงุจ) ุจุณูููุฉ ูุน I / O ุบูุฑ ุงููุชุฒุงูู ูู Python.</i>  <i>ูู ุฃู ุญุงู ุ ูุฏ ูุชุบูุฑ ูุฐุง ูู ุงููุณุชูุจู ุ ูุฐูู ูุง ูุถูุน ุดูุก.</i> <br></blockquote>  ูุน ุงูุนูู ุจุงููููุฏ ุงูููุฑูุถุฉ ุนูู ุงูููุชุจุฉ ุ ูุงูุชู ูุงูุช ุณููุฉ ุงูุงุณุชุฎุฏุงู ูู ุงูุฃูุซูุฉ ุงูุณุงุจูุฉ ุ ูุญุชุงุฌ ุฅูู ุฅูุดุงุก ุดูุก ูุณุฏ ูุฐู ุงููุฌูุฉ.  Google MapsAPI ุณูู ุงูุงุณุชุฎุฏุงู ุญููุง ุ ูุฐูู ุณูููู ุจุถุจุท ุฃุฏุงุฉ ุบูุฑ ูุชุฒุงููุฉ ููุชูุถูุญ ููุท.  ูุง ุชุฒุงู ุงูููุชุจุฉ ุงูููุงุณูุฉ ูุจูุซูู 3.5 ุชูุชูุฑ ุฅูู ููุชุจุฉ ูููููุง ุชูููุฐ ุทูุจุงุช HTTP ุบูุฑ ุงููุชุฒุงููุฉ ุจุณูููุฉ ูุซู ุงุณุชุฏุนุงุก <i>urllib.urlopen ()</i> .  ูู ุงููุคูุฏ ุฃููุง ูุง ูุฑูุฏ ุฅูุดุงุก ุฏุนู ุจุฑูุชูููู ูุงูู ูู ุงูุจุฏุงูุฉ ุ ูุฐูู ุณูุณุชุฎุฏู ุงููููู ูู ุงููุณุงุนุฏุฉ ูู ุญุฒูุฉ <i>aiohttp</i> ุงููุชููุฑุฉ ูู PyPI.  ูุฐู ููุชุจุฉ ูุงุนุฏุฉ ุญููุง ุชุถูู ููุงู ูู ุชุทุจููุงุช ุงูุนููู ูุงูุฎุงุฏู ูู HTTP ุบูุฑ ูุชุฒุงูู.  ูููุง ููู ูุญุฏุฉ ุตุบูุฑุฉ ูุจููุฉ ุนูู ุฃุนูู <i>aiohttp</i> ุชููู ุจุฅูุดุงุก ูุธููุฉ ูุณุงุนุฏ <i>geocode</i> <i>()</i> ูุงุญุฏุฉ ุชููุฐ ุทูุจุงุช ุงูุชุฑููุฒ ุงูุฌุบุฑุงูู ูุฎุฏูุฉ Google Maps API: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> aiohttp session = aiohttp.ClientSession() <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">geocode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(place)</span></span></span><span class="hljs-function">:</span></span> params = { <span class="hljs-string"><span class="hljs-string">'sensor'</span></span>: <span class="hljs-string"><span class="hljs-string">'false'</span></span>, <span class="hljs-string"><span class="hljs-string">'address'</span></span>: place } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> session.get( <span class="hljs-string"><span class="hljs-string">'https://maps.googleapis.com/maps/api/geocode/json'</span></span>, params=params ) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> response: result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> response.json() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result[<span class="hljs-string"><span class="hljs-string">'results'</span></span>]</code> </pre><br><br>  ูููุชุฑุถ ุฃู ูุฐุง ุงูุฑูุฒ ูุฎุฒูู ูู ูุญุฏุฉ ููุทูุฉ ุจุงุณู <i>asyncgmaps</i> ุ ูุงูุชู <i>ุณูุณุชุฎุฏููุง</i> ูุงุญููุง.  ูุญู ุงูุขู ุนูู ุงุณุชุนุฏุงุฏ ูุฅุนุงุฏุฉ ูุชุงุจุฉ ุงููุซุงู ุงููุณุชุฎุฏู ูู ููุงูุดุฉ ุชุนุฏุฏ ุงูุนูููุงุช ูุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ.  ูู ุงูุณุงุจู ุ ุงุนุชุฏูุง ุนูู ูุตู ุงูุนูููุฉ ุจุฃููููุง ุฅูู ูุฑุญูุชูู ูููุตูุชูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจููุก ุฌููุน ุงูุทูุจุงุช ุฅูู ุงูุฎุฏูุฉ ุงูุฎุงุฑุฌูุฉ ุจุงูุชูุงุฒู ุจุงุณุชุฎุฏุงู <i>ุฏุงูุฉ fetch_place ()</i> . </li><li style=";text-align:right;direction:rtl">  ุนุฑุถ ุฌููุน ุงููุชุงุฆุฌ ูู ุญููุฉ ุจุงุณุชุฎุฏุงู ุฏุงูุฉ <i>present_result ()</i> . </li></ol><br>  ูููู ูุธุฑูุง ูุฃู ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงูููุฉ ูุฎุชูู ุชูุงููุง ุนู ุงุณุชุฎุฏุงู ุนูููุงุช ุฃู ุณูุงุณู ุนูููุงุช ูุชุนุฏุฏุฉ ุ ููููููุง ุชุบููุฑ ููุฌูุง ููููุงู.  ูุนุธู ุงููุดููุงุช ุงูุชู ุฃุซูุฑุช ูู ุงุณุชุฎุฏุงู ููุถูุน ูุงุญุฏ ููู ุนูุตุฑ ูู ุชุนุฏ ุชูููุง. <br>  Coroutines ููุณุช ููุงุฆูุฉ ุ ูุฐูู ูููููุง ุจุณูููุฉ ุนุฑุถ ุงููุชุงุฆุฌ ูุจุงุดุฑุฉ ุจุนุฏ ุชููู ุฑุฏูุฏ HTTP.  ูุฐุง ุณูู ูุจุณุท ุงูููุฏ ุงูุฎุงุต ุจูุง ููุฌุนูู ุฃูุซุฑ ูุงุจููุฉ ููููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> asyncio <span class="hljs-comment"><span class="hljs-comment"># note: local module introduced earlier from asyncgmaps import geocode, session PLACES = ( 'Reykjavik', 'Vien', 'Zadar', 'Venice', 'Wrocลaw', 'Bolognia', 'Berlin', 'Sลubice', 'New York', 'Dehli', ) async def fetch_place(place): return (await geocode(place))[0] async def present_result(result): geocoded = await result print("{:&gt;25s}, {:6.2f}, {:6.2f}".format( geocoded['formatted_address'], geocoded['geometry']['location']['lat'], geocoded['geometry']['location']['lng'], )) async def main(): await asyncio.wait([ present_result(fetch_place(place)) for place in PLACES ]) if __name__ == "__main__": loop = asyncio.get_event_loop() loop.run_until_complete(main()) # aiohttp will raise issue about unclosed # ClientSession so we perform cleanup manually loop.run_until_complete(session.close()) loop.close()</span></span></code> </pre><br><br>  ุชุนุฏ ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูุจูุฑุฉ ููุทูุฑู ุงููุงุฌูุฉ ุงูุฎูููุฉ ุงูููุชููู ุจุฅูุดุงุก ุชุทุจููุงุช ูุงุจูุฉ ููุชุทููุฑ.  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุฐู ูุงุญุฏุฉ ูู ุฃูู ุงูุฃุฏูุงุช ูุฅูุดุงุก ุฎูุงุฏู ุฐุงุช ูุฏุฑุฉ ุชูุงูุณูุฉ ุนุงููุฉ. <br><br>  ููู ุงููุงูุน ูุญุฒู.  ุงูุนุฏูุฏ ูู ุงูุญุฒู ุงูุดุงุฆุนุฉ ุงูุชู ุชุชุนุงูู ูุน ูุดููุงุช I / O ุบูุฑ ูุฎุตุตุฉ ููุงุณุชุฎุฏุงู ูุน ุชุนูููุงุช ุจุฑูุฌูุฉ ุบูุฑ ูุชุฒุงููุฉ.  ุงูุฃุณุจุงุจ ุงูุฑุฆูุณูุฉ ููุฐุง ูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ูุฒุงู ุงูุชูููุฐ ููุฎูุถูุง ูู Python 3 ูุจุนุถ ููุฒุงุชู ุงููุชูุฏูุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุฎูุงุถ ููู ูุฎุชูู ููุงููู ุงูุชูุงูู ุจูู ุงููุจุชุฏุฆูู ูุชุนูู ุจูุซูู </li></ul><br>  ูุฐุง ูุนูู ุฃูู ุบุงูุจูุง ูุง ูููู ุชุฑุญูู ุงูุชุทุจููุงุช ูุงูุญุฒู ุงููุชุฒุงููุฉ ูุชุนุฏุฏุฉ ุงูุฎููุท ุฅูุง ูุณุชุญูููุง (ุจุณุจุจ ุงููููุฏ ุงููุนูุงุฑูุฉ) ุฃู ุจุงูุธ ุงูุชูููุฉ.  ูููู ุฃู ุชุณุชููุฏ ุงูุนุฏูุฏ ูู ุงููุดุฑูุนุงุช ุจุดูู ูุจูุฑ ูู ุชูููุฐ ููุท ุชุนุฏุฏ ุงูููุงู ุบูุฑ ุงููุชุฒุงูู ุ ูููู ุงููููู ูููุง ููุท ุณูู ููุนู ุฐูู ูู ุงูููุงูุฉ.  ูุฐุง ูุนูู ุฃูู ุณูููู ูุฏูู ุงูุขู ุงููุซูุฑ ูู ุงูุตุนูุจุงุช ูู ูุญุงููุฉ ุฅูุดุงุก ุชุทุจููุงุช ุบูุฑ ูุชุฒุงููุฉ ูู ุงูุจุฏุงูุฉ.  ูู ูุนุธู ุงูุญุงูุงุช ุ ุณูููู ูุฐุง ูุดุงุจููุง ูููุดููุฉ ุงููุฐููุฑุฉ ูู ูุณู "ูุซุงู ุนููู ููุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ" - ุงููุงุฌูุงุช ุบูุฑ ุงููุชูุงููุฉ ูุงูุญุธุฑ ุบูุฑ ุงููุชุฒุงูู ูุนูููุงุช ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ.  ุจุงูุทุจุน ุ ูู ุจุนุถ ุงูุฃุญูุงู ููููู ุงูุชุฎูู ุนู ุงูุงูุชุธุงุฑ ุนูุฏูุง ุชูุงุฌู ุนุฏู ุงูุชูุงูู ูุฐุง ูุงูุญุตูู ุนูู ุงูููุงุฑุฏ ุงููุงุฒูุฉ ุจุดูู ูุชุฒุงูู.  ูููู ูุฐุง ุณูู ูููุน ูู coroutine ุงูุขุฎุฑ ูู ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุฃุซูุงุก ุงูุชุธุงุฑ ุงููุชุงุฆุฌ.  ูู ุงููุงุญูุฉ ุงููููุฉ ุ ูุนูู ูุฐุง ุ ูููู ุฃูุถูุง ูุฏูุฑ ูู ููุงุฆุฏ ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ.  ูุจุงูุชุงูู ุ ูู ุงูููุงูุฉ ุ ูุฅู ุฏูุฌ I / O ุบูุฑ ุงููุชุฒุงูู ูุน I / O ุงููุชุฒุงูู ููุณ ุฎูุงุฑูุง.  ูุฐู ูุนุจุฉ ูููุง ุฃู ูุง ุดูุก. <br><br>  ูุดููุฉ ุฃุฎุฑู ูู ุนูููุงุช ุทูููุฉ ููุถูุฉ ุงููุนุงูุฌ.  ุนูุฏ ุฅุฌุฑุงุก ุนูููุฉ ุฅุฏุฎุงู / ุฅุฎุฑุงุฌ ุ ูุง ุชูุฌุฏ ูุดููุฉ ูู ุชุญุฑูุฑ ุงูุชุญูู ูู coroutine.  ุนูุฏ ุงููุชุงุจุฉ / ุงููุฑุงุกุฉ ูู ูุธุงู ุงููููุงุช ุฃู ุงูููุจุณ ุ ุณูู ุชูุชุธุฑ ูู ููุงูุฉ ุงููุทุงู ุ ูุฐูู ูุฅู ุงูููุงููุฉ ุงูุชู ุชุณุชุฎุฏู ูู ุงูุชุธุงุฑ ูู ุฃูุถู ูุง ููููู ุงูููุงู ุจู.  ูููู ูุงุฐุง ูู ููุช ุจุญุงุฌุฉ ูุญุณุงุจ ุดูุก ูุง ุ ูุฃูุช ุชุนูู ุฃู ุงูุฃูุฑ ุณูุณุชุบุฑู ุจุนุถ ุงูููุชุ  ุจุงูุทุจุน ุ ููููู ุชูุณูู ุงููุดููุฉ ุฅูู ุฃุฌุฒุงุก ูุฅูุบุงุก ุนูุตุฑ ุงูุชุญูู ูู ูู ูุฑุฉ ุชูุฏู ูููุง ุงูุนูู ููููุงู.  ูููู ุณุฑุนุงู ูุง ุณุชุฌุฏ ุฃู ูุฐุง ููุณ ูููุฐุฌูุง ุฌูุฏูุง ููุบุงูุฉ.  ูุซู ูุฐุง ุงูุดูุก ูููู ุฃู ูุฌุนู ุงูููุฏ ููุถูููุง ุ ููุง ูุง ูุถูู ูุชุงุฆุฌ ุฌูุฏุฉ. <br><br>  ุงูุฑุจุท ุงูุฒููู ูุฌุจ ุฃู ูููู ูุณุคูููุฉ ุงููุชุฑุฌู ุฃู ูุธุงู ุงูุชุดุบูู. <br><br><h4 style=";text-align:right;direction:rtl">  ุฏูุฌ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูุน ุงูุนููุฏ ุงููุณุชูุจููุฉ ุบูุฑ ุงููุชุฒุงููุฉ </h4><br>  ูุฐุง ุ ูุงุฐุง ุชูุนู ุฅุฐุง ูุงู ูุฏูู ุฑูุฒ ูุคุฏู ุฅูู ุฅุฏุฎุงู / ุฅุฎุฑุงุฌ ูุชุฒุงูู ุทููู ูุง ููููู ุฃู ูุง ุชุฑุบุจ ูู ุฅุนุงุฏุฉ ูุชุงุจุชู.  ุฃู ูุงุฐุง ุชูุนู ุนูุฏูุง ุชุถุทุฑ ุฅูู ุฅุฌุฑุงุก ุจุนุถ ุนูููุงุช ุงููุนุงูุฌุงุช ุงูุซูููุฉ ูู ุชุทุจูู ูุตูู ุจุดูู ุฃุณุงุณู ููุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุบูุฑ ุงููุชุฒุงููุ  ุญุณููุง ... ุฃูุช ุจุญุงุฌุฉ ุฅูู ุฅูุฌุงุฏ ุญู ุจุฏูู.  ูุฃุนูู ุจุฐูู ุชุนุฏุฏ ุงูุนูููุงุช ุฃู ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ. <br><br>  ูุฏ ูุง ูุจุฏู ูุฐุง ุฌูุฏูุง ุฌุฏูุง ุ ูููู ูู ุจุนุถ ุงูุฃุญูุงู ูุฏ ูููู ุฃูุถู ุญู ูู ูุง ุญุงูููุง ุงูุงุจุชุนุงุฏ ุนูู.  ุชุชู ุงููุนุงูุฌุฉ ุงููุชูุงุฒูุฉ ููููุงู ูุซููุฉ ุงูุงุณุชุฎุฏุงู ููููุงุฑุฏ ูู ุจูุซูู ุฏุงุฆููุง ุจุดูู ุฃูุถู ุจุณุจุจ ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ.  ููููู ููุชุนุฏุฏูุฉ ุงูุชุนุงูู ูุน ุนูููุงุช ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุจุดูู ุฌูุฏ ุนูู ูุฏู ุงููุณุงูุงุฉ (ุจุณุฑุนุฉ ูุฏูู ุงููุซูุฑ ูู ุงูููุงุฑุฏ) ุ ูุบูุฑ ูุชุฒุงูู ูุงูุงูุชุธุงุฑ ุฅุฐุง ุชู ุชูููููุง ุจุดูู ุตุญูุญ ูุงูุชุนุงูู ูุนูุง ุจุนูุงูุฉ. <br><br>  ูุฐุง ุ ูู ุจุนุถ ุงูุฃุญูุงู ุ ุนูุฏูุง ูุง ุชุนุฑู ูุง ูุฌุจ ุงูููุงู ุจู ุนูุฏูุง ูุง ูุชูุงุณุจ ุดูุก ูุง ูุน ุชุทุจููู ุบูุฑ ุงููุชุฒุงูู ุ ุงุณุชุฎุฏู ุฌุฒุกูุง ูู ุงูููุฏ ูุถุนู ูู ุฎูุท ุฃู ุนูููุฉ ูููุตูุฉ.  ููููู ุฃู ุชุชุธุงูุฑ ุจุฃููุง ุนูุตุฑ ุชุญูู ุ ุชุญูู ูู ุชุญุฑูุฑ ุญููุฉ ุงูุญุฏุซ ุ ููู ุงูููุงูุฉ ุณุชููู ุจูุนุงูุฌุฉ ุงููุชุงุฆุฌ ุนูุฏูุง ุชููู ุฌุงูุฒุฉ. <br><br>  ูุญุณู ุงูุญุธ ุจุงููุณุจุฉ ููุง ุ ุชููุฑ ููุชุจุฉ Python ุงูููุงุณูุฉ ูุญุฏุฉ <i>concurrent.futures</i> ุ ูุงูุชู ูุชู ุฏูุฌูุง ุฃูุถูุง ูุน ุงููุญุฏุฉ ุงูููุทูุฉ <i>asyncio</i> .  ุชุณูุญ ูู ูุงุชุงู ุงููุญุฏุชุงู ูุนูุง ุจุงูุชุฎุทูุท ูุญุธุฑ ุงููุธุงุฆู ุงูุชู ูุชู ุชูููุฐูุง ูู ุณูุงุณู ุงูุนูููุงุช ุฃู ุงูุนูููุงุช ุงูุฅุถุงููุฉ ุ ููุง ูู ูุงูุช coroutines ุบูุฑ ูุชุฒุงููุฉ ุบูุฑ ูุญุธูุฑุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ูููุฐู ุงูุนููุฏ ุงูุขุฌูุฉ </h4><br>  ูุจู ุฃู ูุฑู ููููุฉ ุชุถููู ุณูุงุณู ุงูุนูููุงุช ุฃู ุงูุนูููุงุช ูู ุญููุฉ ุญุฏุซ ุบูุฑ ูุชุฒุงูู ุ ูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุงููุญุฏุฉ ุงูููุทูุฉ <i>concurrent.futures</i> ุ ูุงูุชู ุณุชุตุจุญ ูููุง ุจุนุฏ ุงููููู ุงูุฑุฆูุณู ูุญููุง ุงููุฒุนูู. <br><br>  ุฃูู ุงููุฆุงุช ูู ูุญุฏุฉ <i>concurrent.futures</i> ูู <i>Executor</i> ู <i>Future</i> . <br><br>  <i>Executor</i> ูู ูุฌููุนุฉ ูู ุงูููุงุฑุฏ ุงูุชู ูููููุง ูุนุงูุฌุฉ ุนูุงุตุฑ ุงูุนูู ุจุดูู ูุชูุงุฒู.  ูุฏ ูุจุฏู ูุชุดุงุจููุง ุชูุงููุง ูู ุงูุบุฑุถ ูู ุงููุฆุงุช ูู ูุญุฏุฉ ุงููุนุงูุฌุงุช ุงููุชุนุฏุฏุฉ - <i>Pool</i> and <i>dummy.Pool</i> - ููู ูู ูุงุฌูุฉ ูุฏูุงูุงุช ูุฎุชููุฉ ุชูุงููุง.  ูุฐู ูุฆุฉ ุฃุณุงุณูุฉ ุบูุฑ ูุฎุตุตุฉ ููุชูููุฐ ููุฏููุง ุชุทุจููุงู ูุญุฏุฏุงู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <i>ThreadPoolExecutor</i> : ุงูุฐู ููุซู ุชุฌูุน ูุคุดุฑ ุชุฑุงุจุท </li><li style=";text-align:right;direction:rtl">  <i>ProcessPoolExecutor</i> : ุงูุฐู ููุซู ุชุฌูุน ุงูุนูููุงุช </li></ul><br>  ููุฏู ูู <i>ูููุฐ</i> ุซูุงุซ ุทุฑู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <i>ุฅุฑุณุงู (fn ุ * args ุ ** kwargs)</i> : ูููู ุจุฌุฏููุฉ ูุธููุฉ fn ููุชูููุฐ ูู ุชุฌูุน ุงูููุงุฑุฏ ูุฅุฑุฌุงุน ูุงุฆู Future ููุซู ุชูููุฐ ุงููุงุฆู ุงููุฏุนู </li><li style=";text-align:right;direction:rtl">  <i>map (func ุ * iterables ุ timeout = None ุ chunksize = 1)</i> : ูุชู ุชูููุฐ ูุธููุฉ <i>func</i> ุนูู ุงูุชูุฑุงุฑ ุนูู ุบุฑุงุฑ ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ.  ุทุฑููุฉ <i>Pool.map ()</i> </li><li style=";text-align:right;direction:rtl">  <i>ุฅููุงู ุงูุชุดุบูู (ุงูุชุธุฑ = ุตุญูุญ)</i> : ูุคุฏู ูุฐุง ุฅูู ุฅููุงู ุชุดุบูู <i>Executor</i> ูุชุญุฑูุฑ ุฌููุน ููุงุฑุฏู. </li></ul><br>  ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู <i>ุชูุฏูู ()</i> ุจุณุจุจ ูุงุฆู ุงููุณุชูุจู ุงูุฐู ุชุฑุฌุน.  ุฅูู ููุซู ุงูุชูููุฐ ุบูุฑ ุงููุชุฒุงูู ููุง ูุณูู ูููุซู ุงููุชูุฌุฉ ุจุดูู ุบูุฑ ูุจุงุดุฑ.  ููุญุตูู ุนูู ูููุฉ ุงูุฅุฑุฌุงุน ุงููุนููุฉ ูููุงุฆู ุงููุฑุณู ุงููุฑุณูู ุ ูุฌุจ ุนููู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <i>Future.result ()</i> .  ูุฅุฐุง ุชู ุฅููุงู ุงููุงุฆู ุงูุฐู ุชู ุงุณุชุฏุนุงุคู ุจุงููุนู ุ ููู ุชุญุธุฑู ุทุฑููุฉ <i>()</i> ูุฅุฑุฌุงุน ูุงุชุฌ ุงููุธููุฉ.  ุฅุฐุง ูู ููู ุงูุฃูุฑ ูุฐูู ุ ูุณูู ูููู ุจุญุธุฑู ุญุชู ุชุตุจุญ ุงููุชูุฌุฉ ุฌุงูุฒุฉ.  ููุฑ ูู ุงูุฃูุฑ ุนูู ุฃูู ูุนุฏ ุจุงููุชูุฌุฉ (ุฅูู ูู ุงููุงูุน ููุณ ููููู ุงููุนุฏ ูู JavaScript).  ูุง ุชุญุชุงุฌ ุฅูู ูููุง ูุจุงุดุฑุฉ ุจุนุฏ ุงุณุชูุงููุง (ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <i>ุงููุชูุฌุฉ ()</i> ) ุ ูููู ุฅุฐุง ุญุงููุช ุงูููุงู ุจุฐูู ุ ููู ุงููุถููู ูู ุงูููุงูุฉ ุฅุฑุฌุงุน ุดูุก ูุง: <br><br><pre style=";text-align:right;direction:rtl"> <b><code class="plaintext hljs">&gt;&gt;&gt; def loudy_return(): ... print("processing") ... return 42 ... &gt;&gt;&gt; from concurrent.futures import ThreadPoolExecutor &gt;&gt;&gt; with ThreadPoolExecutor(1) as executor: ... future = executor.submit(loudy_return) ... processing &gt;&gt;&gt; future &lt;Future at 0x33cbf98 state=finished returned int&gt; &gt;&gt;&gt; future.result() 42</code></b> </pre><br><br>  ุฅุฐุง ููุช ุชุฑูุฏ ุงุณุชุฎุฏุงู ุงูุฃุณููุจ <i>Executor.map ()</i> ุ ููู ูุง ูุฎุชูู ูู ุงูุงุณุชุฎุฏุงู ุนู ุทุฑููุฉ <i>Pool.map ()</i> ูููุฆุฉ <i>Pool</i> ูู ุงููุญุฏุฉ ุงูููุทูุฉ ูุชุนุฏุฏุฉ ุงููุนุงูุฌุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> ThreadPoolExecutor(POOL_SIZE) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pool: results = pool.map(fetch_place, PLACES) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> result <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> results: present_result(result)</code> </pre><br><br><h4 style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู <i>Executor</i> ูู <i>ุญููุฉ</i> ุญุฏุซ </h4><br>  ูุซููุงุช ูุฆุฉ Future ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุฃุณููุจ <i>Executor.submit ()</i> ูุฑูุจุฉ ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุฌุฏูุง ูู coroutines ุงููุณุชุฎุฏูุฉ ูู ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ.  ููุฐุง ุงูุณุจุจ ูููููุง ุงุณุชุฎุฏุงู ุงูููุงููู ูุฅูุดุงุก ูุฒูุฌ ุจูู ุชุนุฏุฏ ุงูููุงู ุงูุชุนุงูููุฉ ูุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ุฃู ุชุนุฏุฏ ุงูุนูููุงุช. <br><br>  ุฌููุฑ ูุฐุง ุงูุญู ุงูุจุฏูู ูู ุฃุณููุจ <i>BaseEventLoop.run_in_executor (ุงููููุฐ ุ func ุ * args)</i> ููุฆุฉ ุญููุฉ <i>ุงูุญุฏุซ</i> .  ูุฐุง ูุณูุญ ูู ุจุงูุชุฎุทูุท ูุชูููุฐ ูุธููุฉ func ูู ุนูููุฉ ุฃู ุชุฌูุน ูุคุดุฑุงุช ุชุฑุงุจุท ููุซูุฉ ุจูุงุณุทุฉ ูุณูุทุฉ ุงููููุฐ.  ุงูุดูุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ูุฐู ุงูุทุฑููุฉ ูู ุฃููุง ุชูุฑุฌุน ุงููุงุฆู ุงููุชููุน ุงูุฌุฏูุฏ (ุงููุงุฆู ุงูุฐู ูููู ุชููุนู ุจุงุณุชุฎุฏุงู ุนุงูู ุงูุชุธุงุฑ ุงูุงูุชุธุงุฑ).  ูุจุงูุชุงูู ุ ุจูุถู ูุฐุง ุ ููููู ุชูููุฐ ูุธููุฉ ุญุธุฑ ููุณุช coroutine ุชูุงููุง ูุซู coroutine ุ ููู ูุชู ุญุธุฑูุง ุ ุจุบุถ ุงููุธุฑ ุนู ุงููุฏุฉ ุงูุชู ูุณุชุบุฑููุง ุงูุงูุชูุงุก.  ุณูู ูุชููู ููุท ุนู ุงููุธููุฉ ุงูุชู ุชุชููุน ูุชุงุฆุฌ ูู ูุซู ูุฐู ุงูุฏุนูุฉ ุ ููู ุฏูุฑุฉ ุงูุฃุญุฏุงุซ ุจุฃููููุง ุณุชุณุชูุฑ. <br><br>  ูุงูุญูููุฉ ุงููููุฏุฉ ูู ุฃูู ูุณุช ุจุญุงุฌุฉ ุญุชู ุฅูู ุฅูุดุงุก ูุณุฎุฉ ูู ุงููููุฐ ุงูุฎุงุต ุจู.  ุฅุฐุง ููุช ุจุชูุฑูุฑ <i>None</i> ููุณูุทุฉ <i>ูููููุฐ</i> ุ ูุณูุชู ุงุณุชุฎุฏุงู ูุฆุฉ <i>ThreadPoolExecutor</i> ูุน ุงูุนุฏุฏ ุงูุงูุชุฑุงุถู <i>ููุคุดุฑุงุช ุงูุชุฑุงุจุท</i> (ุจุงููุณุจุฉ ูุจูุซูู 3.5 ุ ูุฐุง ูู ุนุฏุฏ ุงููุนุงูุฌุงุช ูุถุฑูุจุฉ ูู 5). <br><br>  ูุฐูู ุ ุฏุนูุง ููุชุฑุถ ุฃููุง ูู ูุฑุบุจ ูู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูุฌุฒุก ุงูุฅุดูุงูู ูู ุญุฒูุฉ python-gmaps ุงูุชู ูุงูุช ุชุณุจุจ ุงูุตุฏุงุน ูุฏููุง.  ูููููุง ุจุณูููุฉ ุชุฃุฌูู ููุงููุฉ ุญุธุฑ ุฅูู ุณูุณูุฉ <i>ุฑุณุงุฆู</i> ูููุตูุฉ ุนู ุทุฑูู ุงูุงุชุตุงู ุจู <i>loop.run_in_executor ()</i> ุ ูุน ุชุฑู ูุธููุฉ fetch_place () ุจุงุนุชุจุงุฑูุง coroutine ุงููุชููุนุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetch_place</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(place)</span></span></span><span class="hljs-function">:</span></span> coro = loop.run_in_executor(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, api.geocode, place) result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> coro <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซู ูุฐุง ุงูุญู ุฃุณูุฃ ูู ุงูุชูุงู ููุชุจุฉ ุบูุฑ ูุชุฒุงููุฉ ุชูุงููุง ููููุงู ุจุงููููุฉ ุ ูููู ุชุนูู ุฃู ููุงู ุดูุฆูุง ุนูู ุงูุฃูู ุฃูุถู ูู ูุง ุดูุก. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุชูุถูุญ ูุง ูู ุงูุชุฒุงูู ุญููุง ุ ุงุชุฎุฐูุง ุฅุฌุฑุงุกู ูุญูููุง ุฅุญุฏู ุงููุดููุงุช ุงููุชูุงุฒูุฉ ุงููููุฐุฌูุฉ ุจุงุณุชุฎุฏุงู ุชุนุฏุฏ ุงูุนูููุงุช. ุจุนุฏ ุชุญุฏูุฏ ุฃูุฌู ุงููุตูุฑ ุงูุฑุฆูุณูุฉ ูู ุงูููุฏ ูุฏููุง ูุชุตุญูุญูุง ุ ุชุญูููุง ุฅูู ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ููุฑู ููู ุณุชุนูู ูู ุญุงูุชูุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ูุฌุฏูุง ุฃูู ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ูุชุนุฏุฏุฉ ุงููุนุงูุฌุงุช ุ ูุฅู ุงุณุชุฎุฏุงู ุงูุนุฏูุฏ ูู ุงูุนูููุงุช ุฃุณูู ุจูุซูุฑ ูู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุฃุณุงุณูุฉ ุฐุงุช ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงููุชุนุฏุฏุฉ. ูููู ุจุนุฏ ุฐูู ููุท ุฃุฏุฑููุง ุฃูู ูููููุง ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ููุณูุง ูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุ ูุฐูู ุจูุถู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multiprocessing.dummy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุจุงูุชุงูู ุ ูุฅู ุงูุงุฎุชูุงุฑ ุจูู ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ูุชุนุฏุฏ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุขู ูุนุชูุฏ ููุท ุนูู ุงูุญู ุงูุฃูุณุจ ูููุดููุฉ ุ ูููุณ ุงูุญู ุงูุฐู ูุฏูู ุฃูุถู ูุงุฌูุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏ ุงูุญุฏูุซ ุนู ุชูุตูู ุงููุดููุฉ ุ ุฌุฑุจูุง ุฃุฎูุฑูุง ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุ ูุงูุชู ููุจุบู ุฃู ุชููู ุฃูุถู ุญู ููุชุทุจููุงุช ุงููุชุนููุฉ ุจุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุ ูููู ุฃููุง ูุง ูุณุชุทูุน ุฃู ููุณู ุงูุฎููุท ูุงูุนูููุงุช ุชูุงููุง. ูุฐูู ุตูุนูุง ุฏุงุฆุฑุฉ ุ ุนุฏูุง ุฅูู ุญูุซ ุจุฏุฃูุง!</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฐุง ูููุฏูุง ุฅูู ุงูุงุณุชูุชุงุฌ ุงูููุงุฆู ููุฐุง ุงููุตู. </font><font style="vertical-align: inherit;">ูุง ููุฌุฏ ุญู ููุงุณุจ ุงูุฌููุน. </font><font style="vertical-align: inherit;">ููุงู ุนุฏุฉ ุทุฑู ูุฏ ุชูุถููุง ุฃู ุชุนุฌุจู ุฃูุซุฑ. </font><font style="vertical-align: inherit;">ููุงู ุจุนุถ ุงูุทุฑู ุงูููุงุณุจุฉ ููุฐู ุงููุฌููุนุฉ ูู ุงููุดููุงุช ุ ููู ุนููู ุฃู ุชุนุฑู ูู ูุฐู ุงููุดุงูู ูุชููู ูุงุฌุญูุง. </font><font style="vertical-align: inherit;">ูู ุณููุงุฑูููุงุช ูุงูุนูุฉ ุ ููููู ุงุณุชุฎุฏุงู ุชุฑุณุงูุฉ ูุงููุฉ ูู ุงูุฃุฏูุงุช ูุฃููุงุท ุงูุชูุงุฒู ูู ุชุทุจูู ูุงุญุฏ ุ ููุฐุง ููุณ ูู ุบูุฑ ุงููุฃููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุงุณุชูุชุงุฌ ุงูุณุงุจู ูู ููุฏูุฉ ููุชุงุฒุฉ ูููุถูุน ุงููุตู ุงูุชุงูู ุ ุงููุตู 14 "ุฃููุงุท ุงูุชุตููู ุงููููุฏุฉ". </font><font style="vertical-align: inherit;">ูุฃูู ูุง ููุฌุฏ ูุงูุจ ูุงุญุฏ ูู ุดุฃูู ุญู ุฌููุน ูุดุงููู. </font><font style="vertical-align: inherit;">ูุฌุจ ุฃู ุชุนุฑู ุฃูุจุฑ ูุฏุฑ ูููู ุ ูุฃูู ูู ุงูููุงูุฉ ุณุชุณุชุฎุฏููุง ูู ููู.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar484446/">https://habr.com/ru/post/ar484446/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar484436/index.html">ูุตุฏุฑ ููุชูุญ ุบูุฑ ููุชู: ูุงู ูุทูุฑ ุฃุณุฑุน ุฎุงุฏู ููุจ ุจุญุฐู ูุณุชูุฏุนู - ุชุญุฏูุซ ููู</a></li>
<li><a href="../ar484438/index.html">ุชุณุฑุจุช ูุนุงุฏูุงุช ุงูุณูุงุฆู ุงูุดููุฑุฉ</a></li>
<li><a href="../ar484440/index.html">ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุงูู ูุน ุฃุฏูุงุช ูููุฏูุฒ ุงูููุงุณูุฉ</a></li>
<li><a href="../ar484442/index.html">ูุซุงู SNMPv3</a></li>
<li><a href="../ar484444/index.html">ููู ุชุคุซุฑ ุธุฑูู ุงูุชุดุบูู ุนูู ุงูุจุทุงุฑูุฉ ุ ุฃู ูุตุฉ ุงูููุงูุฉ ุงููุนุฌุฒุฉ</a></li>
<li><a href="../ar484448/index.html">DEFCON Conference 27. ุงุฎุชุฑู ุงูุดุฑุทุฉ. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar484454/index.html">ุงููุจุงุญุซ ูุจุฑุง: ุถุงุนุช ุตูุฑุชู</a></li>
<li><a href="../ar484456/index.html">ReactJS ุ ุชูุฏูู ุฌุงูุจ ุงูุฎุงุฏู ูุจุนุถ ุงูุชูุงุตูู ุงูุฏูููุฉ ููุนุงูุฌุฉ ุนูุงูุงุช ุชุนุฑูู ุงูุตูุญุฉ</a></li>
<li><a href="../ar484458/index.html">ูุฐุง ุจุงููุทุนุฉ ููุณูุฑ - ุฃุนุทูู ุงูุชุงูู</a></li>
<li><a href="../ar484462/index.html">ูุดุท ุฌูุซุจ: ุงูุจุญุซ ุนู "ุฃุณุฑุงุฑ" ูุชุทููุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>