<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßñüèæ ‚ôæ üë® Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 4: ‚ÄúCompartilhando Privil√©gios‚Äù, Parte 1 üíä üë©üèº‚Äçüöí üíè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula n¬∫ 6.858. "Seguran√ßa de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 4: ‚ÄúCompartilhando Privil√©gios‚Äù, Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418195/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula n¬∫ 6.858.  "Seguran√ßa de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security √© um curso sobre o desenvolvimento e implementa√ß√£o de sistemas de computador seguros.  As palestras abrangem modelos de amea√ßas, ataques que comprometem a seguran√ßa e t√©cnicas de seguran√ßa baseadas em trabalhos cient√≠ficos recentes.  Os t√≥picos incluem seguran√ßa do sistema operacional (SO), recursos, gerenciamento de fluxo de informa√ß√µes, seguran√ßa de idiomas, protocolos de rede, seguran√ßa de hardware e seguran√ßa de aplicativos da web. <br><br>  Palestra 1: ‚ÄúIntrodu√ß√£o: modelos de amea√ßas‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: ‚ÄúControle de ataques de hackers‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: ‚ÄúEstouros de Buffer: Explora√ß√µes e Prote√ß√£o‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: ‚ÄúSepara√ß√£o de Privil√©gios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Hoje falaremos sobre o compartilhamento de privil√©gios, pois acabamos com estouros de buffer em um determinado n√≠vel, mas voltamos a ele.  N√£o falaremos sobre os detalhes de como usar estouros de buffer, mas mudaremos para reduzir esse problema e falaremos sobre como desenvolver um sistema no qual estouros de buffer n√£o ser√£o um grande problema para voc√™, como outras vulnerabilidades. <br><br><img src="https://habrastorage.org/webt/qg/vx/up/qgvxupc-apnjpd8fb9sewmcfpry.jpeg"><br><br>  Hoje, falaremos sobre o compartilhamento de privil√©gios como um m√©todo que permite criar um sistema mais seguro. Nos materiais das palestras, mencionamos um servidor da Web chamado <b>OKWS</b> .  Este n√£o √© o exemplo mais revelador da separa√ß√£o de direitos, mas o sistema √© bem descrito aqui para entender como todas as suas partes funcionam.  Mas isso n√£o significa que voc√™ deve ir agora, baixar o <b>OKWS</b> e iniciar o seu site. <br><br>  Portanto, antes de nos aprofundarmos nos detalhes das <b>permiss√µes</b> do <b>OKWS</b> e do Unix, vamos ver o que √© o compartilhamento de privil√©gios e por que √© uma boa id√©ia?  Na semana passada, James mostrou que se voc√™ escrever um programa em C, quase inevitavelmente ter√° algo ruim ou errado.  Al√©m disso, o problema √© que, se voc√™ tem um aplicativo grande o suficiente e existe algum tipo de vulnerabilidade, os invasores podem se conectar ao programa, enviar solicita√ß√µes para esse aplicativo, engan√°-lo e fazer coisas "ruins". <br><br>  Qualquer aplicativo tem privil√©gios de acesso.  Isso significa que inclui muitos dados que podem ser obtidos com o acesso.  Voc√™ pode at√© excluir esses arquivos, como fizeram no laborat√≥rio n√∫mero 1.  O problema √© que uma vulnerabilidade nesse aplicativo grande pode permitir que um invasor modifique qualquer um desses dados ou obtenha privil√©gios suficientes para gerenciar o programa, se voc√™ n√£o tomar cuidado. <br>  Nesta palestra, veremos o que o compartilhamento de privil√©gios est√° tentando fazer.  Vale a pena pegar o programa, dividi-lo em partes e garantir que cada um dos elementos individuais possua apenas os privil√©gios necess√°rios para executar seu trabalho corretamente. <br><br><img src="https://habrastorage.org/webt/c2/2i/o3/c22io3cqb5h9wu-fzbs_3hnb-ae.jpeg"><br><br>  √Ä esquerda, temos um programa de tr√™s partes e, √† direita, dados, tamb√©m constitu√≠dos por tr√™s partes.  Privil√©gios atribu√≠dos corretamente significam que cada parte do aplicativo tem acesso apenas √† sua parte dos dados.  E se tivermos uma vulnerabilidade no programa X, ele nos permitir√° assumir o controle de apenas uma parte dos dados e n√£o poder√° afetar os dados nas outras duas partes. <br>  Portanto, essa ideia de compartilhar privil√©gios √© extremamente forte.  Ele n√£o serve para afetar especificamente o problema de estouros de buffer ou outras vulnerabilidades; eles s√£o simplesmente requisitos gerais para a arquitetura de produtos de software para garantir que as vulnerabilidades em um local do sistema n√£o afetem suas outras partes.  A separa√ß√£o de privil√©gios √© usada amplamente.  Portanto, para garantir o isolamento dos componentes em um programa, as m√°quinas virtuais s√£o frequentemente usadas. <br><br>  Voc√™ pode pegar seu sistema grande e dividi-lo em v√°rias VMs para isolar partes individuais, mas tamb√©m pode usar o Unix para realmente executar esse isolamento com "fatia".  O Unix fornece alguns mecanismos que o OKWS realmente usa para separar privil√©gios. <br><br>  Muitos aplicativos realmente usam pr√°ticas de compartilhamento de privil√©gios.  Voc√™s provavelmente usaram SSH, ou "shell seguro", com bastante frequ√™ncia.  Este √© um protocolo de rede usado para controlar remotamente o sistema operacional e transferir arquivos.  Ele usa o compartilhamento de privil√©gios em muitos de seus componentes para garantir que suas chaves de criptografia n√£o sejam desvendadas e que o servidor n√£o seja comprometido.  O navegador da web Chrome √© mais relevante para voc√™, no qual o compartilhamento de privil√©gios tamb√©m √© implementado amplamente.  Portanto, se houver algum tipo de "bug" no Chrome, o advers√°rio n√£o poder√° obter controle total sobre o seu computador. <br><br>  Este √© um resumo muito breve do que √© o compartilhamento de privil√©gios e por que o <b>OKWS</b> √© um exemplo interessante.  No entanto, ele √© mais um exemplo v√≠vido do que um software importante. <br><br>  Portanto, o <b>OKWS</b> , como mencionei, usar√° permiss√µes Unix e algum tipo de mecanismo Unix para separar os v√°rios componentes.  √â importante para n√≥s entender como funcionam os mecanismos de seguran√ßa Unix.  O Unix, como uma ferramenta para compartilhar privil√©gios, √© importante n√£o apenas para entender o <b>OKWS</b> , como qualquer outra ferramenta de isolamento, como <b>UID</b> , <b>VM</b> , <b>cont√™ineres</b> ou qualquer tecnologia similar, permite entender os detalhes do processo.  Como existem muitas partes complexas do processo de obten√ß√£o de direitos de acesso, √© poss√≠vel lidar com um invasor que aproveitar√° a vulnerabilidade de qualquer uma dessas partes.  Portanto, veremos o Unix em detalhes suficientes para entender o que √© e como deve ser em um mecanismo de seguran√ßa espec√≠fico. <br><br>  O Unix tem sido historicamente o melhor exemplo de como criar um mecanismo de seguran√ßa.  Seu mecanismo de seguran√ßa surgiu no processo de satisfazer a necessidade de separar usu√°rios um do outro no mesmo sistema Unix.  Ao mesmo tempo, acreditava-se que existem muitos usu√°rios que usam o mesmo computador e voc√™ precisa mant√™-los separados um do outro.  Portanto, este n√£o √© necessariamente um mecanismo de uso geral, mas ainda √© um dos mais comuns e amplamente utilizados.  Portanto, o Chrome est√° tentando usar muitos mecanismos de compartilhamento de privil√©gios do Unix. <br><br>  Quando voc√™ pensa em um mecanismo de prote√ß√£o, deve pensar em seus princ√≠pios, o que significa que existe algu√©m com privil√©gios ou direitos, e o Unix inicia ou ap√≥ia esses direitos.  Portanto, acho que o assunto ou assunto do Unix √© um processo, j√° que um processo √© suportado, porque toda opera√ß√£o ou solicita√ß√£o que consideramos do ponto de vista de seguran√ßa deve permitir ou negar algo.  Essa provavelmente ser√° a opera√ß√£o chamada pelo processo, fazendo a chamada do sistema <b>syscall</b> .  O que importa aqui √© como descrevemos quais privil√©gios esse processo possui. <br><br>  Em seguida, h√° um objeto em que nosso processo atua como sujeito.  Ele pode modificar objetos, l√™-los, observ√°-los.  Existem muitos objetos no sistema operacional que voc√™ deve se preocupar em proteger.  Com quais objetos voc√™ acha que devemos nos preocupar? <br><br>  <b>P√∫blico:</b> sobre arquivos! <br><br>  <b>Professor:</b> certo, sobre arquivos e diret√≥rios.  O que mais? <br><br><img src="https://habrastorage.org/webt/8f/rz/5y/8frz5ywintahyy6eclvmclejz84.jpeg"><br><br>  <b>P√∫blico:</b> Sobre os soquetes de rede! <br><br>  <b>Professor:</b> sim, √≥timo sobre soquetes de rede.  H√° mais alguma coisa acontecendo em nosso sistema? <br><br>  <b>P√∫blico:</b> outros processos. <br><br>  <b>Professor:</b> Isso mesmo.  De fato, isso √© semelhante ao que o aplicativo ou usu√°rio deve cuidar, mas existem v√°rios componentes internos do sistema que voc√™ tamb√©m deve proteger.  Portanto, o processo em si n√£o √© o assunto que faz a chamada do sistema, tamb√©m √© algo em que outro processo pode atuar.  Ele pode mat√°-lo ou criar um novo.  Portanto, voc√™ deve descobrir quais s√£o as regras para perceber um processo como um objeto que pode ser manipulado.  Que outras coisas podem nos preocupar? <br><br>  <b>P√∫blico:</b> vari√°veis ‚Äã‚Äãde ambiente. <br><br>  <b>Professor:</b> Eu acho que eles provavelmente n√£o s√£o um assunto que voc√™ possa mudar no sentido de gerenciar o OC e ter algum tipo de pol√≠tica de seguran√ßa.  Eu acho que as vari√°veis ‚Äã‚Äãde ambiente s√£o apenas algum tipo de estado de um processo contido na mem√≥ria.  Mas acho que, de maneira geral, nos preocupamos com essa parte do processo, que est√° contida na mem√≥ria - vari√°veis ‚Äã‚Äãde ambiente, pilhas, argumentos, isso tamb√©m √© muito importante.  Provavelmente, na mem√≥ria do processo, existem muitas coisas sens√≠veis √† interfer√™ncia externa.  O que mais? <br><br>  <b>P√∫blico:</b> descritores de arquivos em geral. <br><br>  <b>Professor:</b> h√° outra circunst√¢ncia interna de grande import√¢ncia.  Os arquivos que est√£o no disco devem nos preocupar.  Mas ainda existe uma ferramenta operacional como um descritor de arquivo, que o <b>OKWS</b> tenta usar amplamente, e veremos o que s√£o.  Que outras coisas voc√™ gostaria de proteger no sistema operacional? <br><br><img src="https://habrastorage.org/webt/_f/jr/0u/_fjr0ubufbefm3u8a2znb3l29-u.jpeg"><br><br>  <b>P√∫blico:</b> hardware ou hardware. <br><br>  <b>Professor:</b> sim, o hardware requer prote√ß√£o n√£o menos do que as coisas abstratas que o sistema operacional nos fornece, porque n√£o queremos que o nosso processador "congele" por algum motivo. <br><br>  <b>P√∫blico: Voc√™</b> tamb√©m deve pensar em proteger perif√©ricos! <br><br>  <b>Professor:</b> Ah sim!  Ent√£o, dispositivos adicionais, voc√™ est√° certo, especialmente em um computador de mesa, h√° muitas coisas desnecess√°rias: uma unidade USB, uma webcam, provavelmente a pr√≥pria tela - voc√™ desejar√° proteger parte disso, porque os aplicativos relacionados a elas n√£o devem estar ‚Äúandando‚Äù ¬ªEm toda a sua tela. <br><br>  Eu acho que, de fato, todos esses objetos n√£o est√£o do lado do servidor, eles est√£o bem pr√≥ximos.  No seu telefone, o microfone provavelmente tamb√©m √© um objeto muito importante, que voc√™ tamb√©m deseja proteger. <br><br>  Mas deixarei esta lista, porque a seguir, falaremos principalmente sobre aplicativos de servidor, mas voc√™ est√° absolutamente certo sobre a lista de objetos.  Acho que, para o <b>OKWS,</b> essa √© provavelmente uma lista mais ou menos exaustiva de coisas que poder√≠amos cuidar de proteger, ou pelo menos que usa o <b>OKWS</b> . <br><br>  Ent√£o, vamos falar sobre como o kernel do sistema operacional decide quando um processo pode fazer algo com qualquer um desses objetos.  Portanto, em um n√≠vel alto, pensamos principalmente no processo como uma entidade com os privil√©gios concedidos por esse princ√≠pio, e o princ√≠pio no sistema Unix √© algo bastante complicado. <br><br>  H√° algo chamado <b>ID do usu√°rio</b> , que √© um n√∫mero inteiro de 32 bits.  H√° uma <b>identifica√ß√£o de grupo</b> , que tamb√©m √© um n√∫mero inteiro de 32 bits.  De fato, n√£o h√° nenhuma raz√£o particular para que eles sejam diferentes. <br><br><img src="https://habrastorage.org/webt/kb/6z/pq/kb6zpqdaca-fohf0whwkj9_h1cg.jpeg"><br><br>  Seria bom se eles fizessem um √∫nico conjunto de n√∫meros inteiros de 32 bits, mas, infelizmente, o Unix os divide em duas categorias.  Existem n√∫meros inteiros de <b>ID do usu√°rio</b> e n√∫meros de <b>identifica√ß√£o do grupo</b> .  Quando falamos de um processo que possui certos privil√©gios, queremos dizer um processo associado a um determinado valor de <b>uid</b> .  Normalmente, um processo tem um <b>uid</b> , bem como uma lista de identificadores de grupo <b>gid</b> que o processo possui.  Por raz√µes hist√≥ricas, aconteceu que eles s√£o combinados em um <b>gid</b> e, em seguida, combinados em uma lista de outros identificadores.  Grosso modo, um processo pode exercer os privil√©gios representados por todos esses identificadores.  Portanto, se o <b>uid</b> fornece acesso a algo, o processo pode fazer qualquer coisa com ele. <br><br>  Agora vamos falar sobre arquivos, diret√≥rios e outros tipos de objetos.  Ent√£o, o que acontece com os arquivos, ou melhor, como criar permiss√µes Unix para trabalhar com arquivos?  Tudo √© relativamente simples com arquivos; voc√™ est√° preocupado com as opera√ß√µes que podem ser feitas com eles: leitura, grava√ß√£o, possivelmente execu√ß√£o, bem como a capacidade de alterar as pr√≥prias permiss√µes ou outras propriedades de seguran√ßa. <br><br>  <b>Audi√™ncia:</b> quebrando la√ßos! <br><br>  Professor: sim, quebrando links, <b>desvincular</b> - o que voc√™ acha que √© propriedade do arquivo ou diret√≥rio?  Na verdade, essa distin√ß√£o √© um pouco pouco clara.  Quando o Unix pensa em excluir um arquivo, trata-se mais do diret√≥rio, porque no Unix, o arquivo realmente √© um <b>inode</b> ou um inode.  Portanto, no Unix, voc√™ pode ter alguns links <b>f√≠sicos</b> para <b>inodes</b> e, ao desconectar um nome de arquivo espec√≠fico do Unix usando a op√ß√£o <b>desvincular,</b> na verdade destr√≥i apenas um dos nomes de arquivo, mas pode haver outros nomes e outros links para ele.  De fato, √© importante se voc√™ tem permiss√£o para alterar o diret√≥rio apontando para o arquivo e, ao mesmo tempo, n√£o fazer nada com o <b>inode do</b> pr√≥prio arquivo.  Normalmente, as opera√ß√µes de <b>desvincular</b> , <b>vincular</b> , <b>renomear</b> e <b>criar</b> s√£o opera√ß√µes associadas a um diret√≥rio, portanto, a cria√ß√£o afeta o diret√≥rio e o novo arquivo.  Portanto, devemos descobrir quais regras se aplicam l√°. <br><br><img src="https://habrastorage.org/webt/_m/as/nu/_masnucdu_i4wl4ilpuotbslb5u.jpeg"><br><br>  Para decidir que algu√©m pode ler ou gravar um arquivo, vamos inserir algumas permiss√µes ou bits no arquivo <b>inode</b> .  No Unix, todo <b>inode</b> que √© finalmente um arquivo ou diret√≥rio possui v√°rios campos interessantes por raz√µes de seguran√ßa.  Aqui est√° o ID do usu√°rio e o identificador do grupo, que, como dizemos, possui o arquivo ou o diret√≥rio.  Assim, voc√™ pode gerenciar todos os arquivos em seu diret√≥rio pessoal devido ao fato de o Unix ter seu <b>uid</b> . <br>  O Unix tamb√©m possui um conjunto de bits de permiss√£o que podem ser considerados como parte da matriz; no design b√°sico, eles se parecem com <b>r</b> (leitura), <b>w</b> (grava√ß√£o) e <b>x</b> (execu√ß√£o).  Podemos especificar essas permiss√µes para v√°rias entidades, e no Unix elas s√£o especificadas para o propriet√°rio, ou seja, para o <b>inode uid</b> , para o grupo de <b>grupos</b> ao qual o arquivo fornecido pertence, ou seja, para <b>gid</b> e para todos os outros - <b>outros</b> . <br><br>  Voc√™ pode preencher essa matriz bin√°ria de 3 a 3, onde 1 significa permiss√£o para executar uma determinada a√ß√£o e 0 pro√≠be sua execu√ß√£o: <br><br><img src="https://habrastorage.org/webt/ht/r6/s1/htr6s1ws7gwtvcwxh0mvf0mkywe.jpeg"><br><br>  √â assim que o Unix armazena permiss√µes.  Existe uma maneira tradicional de codificar essas coisas que voc√™ ver√° frequentemente e que provavelmente vale a pena mencionar.  No Unix, essa matriz √© codificada como um n√∫mero octal; portanto, cada linha aqui deve ser considerada como um n√∫mero base de 8; portanto, nossa matriz nessa codifica√ß√£o ter√° a seguinte apar√™ncia: <b>r</b> √© 4 bits, <b>w</b> √© 2 bits, <b>x</b> √© 1 bit, respectivamente, <b>propriet√°rio</b> - s√£o 6 bits e o <b>grupo</b> e <b>outro</b> cont√™m 4 bits. <br><br><img src="https://habrastorage.org/webt/_5/ky/37/_5ky37ro8mjlivja9di719r3udk.jpeg"><br><br>  Voc√™ frequentemente ver√° essas designa√ß√µes nos materiais da aula, para poder dizer que esse arquivo tem uma resolu√ß√£o de 6, 4, 4, ou seja, o propriet√°rio pode ler e escrever o arquivo, e o propriet√°rio do grupo e outras pessoas podem apenas l√™-lo. <br><br>  Essas nota√ß√µes nos dizem quando ler, gravar e executar um arquivo.  Que tal alterar permiss√µes para este arquivo?  Esta n√£o √© uma pergunta justa, mas o que voc√™s acham disso?  Como devemos decidir que algu√©m possa alterar essas permiss√µes, porque isso tamb√©m pode ser necess√°rio?  Alguma id√©ia sobre isso? <br><br>  <b>P√∫blico:</b> se essa pessoa tiver acesso ao arquivo? <br><br>  <b>Professor:</b> talvez tamb√©m dependa dos privil√©gios de acesso.  Por outro lado, voc√™ pode criar um arquivo regrav√°vel substitu√≠vel que deseja compartilhar com algu√©m para que ele possa ler, anexar e modificar seu arquivo, mas isso tamb√©m significa que voc√™ pode alterar repentinamente as permiss√µes para tornar o arquivo n√£o regrav√°vel ou atribuir apenas para mim mesmo. <br><br>  Portanto, os criadores do Unix decidiram que, se voc√™ possui um arquivo, ou seja, seu <b>uid</b> corresponde ao <b>uid</b> inserido no arquivo, ent√£o, por padr√£o, voc√™ pode alterar as permiss√µes.  Caso contr√°rio, voc√™ n√£o pode.  Portanto, se voc√™ tiver apenas <b>gid</b> e esse <b>grupo</b> tiver todas as permiss√µes no arquivo, ainda n√£o poder√° alterar as permiss√µes para esse arquivo.  Voc√™ pode simplesmente ler, reescrever, fazer qualquer coisa com ele, mas sem o <b>uid</b> voc√™ n√£o pode alterar as permiss√µes. <br><br>  Os diret√≥rios Unix seguem as mesmas regras.  Portanto, desanexar e vincular as entradas de <b>link</b> em um diret√≥rio significa que voc√™ tem permiss√£o para gravar neste diret√≥rio.  Se voc√™ deseja renomear um arquivo, provavelmente precisar√° ter acesso de grava√ß√£o ao diret√≥rio de onde o obt√©m e acesso de grava√ß√£o ao diret√≥rio em que o colocou.  Em alguns casos, os links f√≠sicos podem causar problemas, e nos materiais da palestra esses detalhes s√£o destacados. <br><br>  De fato, h√° outra opera√ß√£o interessante no cat√°logo - a pesquisa.  Gra√ßas a ela, voc√™ pode simplesmente encontrar o arquivo no diret√≥rio  O Unix codifica permiss√µes de <b>execu√ß√£o</b> como a capacidade de implementar uma pesquisa por diret√≥rios, portanto, ter permiss√£o de <b>execu√ß√£o</b> para um diret√≥rio significa realmente poder procurar um nome de arquivo espec√≠fico.  Pode ser que voc√™ n√£o precise ter permiss√£o para o diret√≥rio para procurar o nome do arquivo, mas se voc√™ n√£o tiver permiss√£o de leitura, n√£o poder√° visualizar o conte√∫do do diret√≥rio, ou seja, localize o arquivo.  Isso √© √∫til em algumas situa√ß√µes em que voc√™ precisa restringir a√ß√µes com alguns arquivos ou ocult√°-las do usu√°rio. <br><br>  Vejamos um exemplo.  O que acontece no Unix se eu digitar o comando <b>open ("/ etc / password")</b> ?  O que verifica o kernel do sistema em meu nome quando eu o ordeno para fazer uma chamada de sistema? <br><br>  <b>P√∫blico-alvo:</b> Verifica se voc√™ tem permiss√£o para executar, etc.? <br><br>  <b>Professor:</b> Sim, at√© certo ponto, este √© o caso.  Eu preciso fazer alguma coisa, etc. <br><br>  <b>P√∫blico:</b> e, em seguida, execute a barra especificada! <br><br>  <b>Professor:</b> sim, na verdade eu preciso olhar para o que <b>/ etc</b> aponta?  Portanto, se eu n√£o descobrir as <b>permiss√µes de root</b> - direitos, isso n√£o funcionar√°. <br><br>  <b>P√∫blico:</b> ent√£o voc√™ precisa ler <b>/ etc / password</b> . <br><br><img src="https://habrastorage.org/webt/62/e5/ka/62e5ka1mqrdqvxxpukqrl5fjhvk.jpeg"><br><br>  <b>Professor:</b> sim, isso faz sentido.  Aqui est√° um pequeno quebra-cabe√ßa para voc√™.  Suponha que o MIT crie um grupo para todas as pessoas associadas ao curso 6.858 e outros grupos para todos os ATs no MIT, que na terminologia Unix s√£o designados como <b>gids</b> , mas eles n√£o s√£o inclu√≠dos no grupo dos 6.858 ATs por alguns motivos tolos.  Como posso criar um arquivo que estar√° dispon√≠vel apenas para o grupo de ATs 6.858? <br><br>  Suponha que eu tenha 6.858 gid e TAs gid, mas s√≥ posso inserir um <b>gid</b> no arquivo. <br><br>  <b>P√∫blico:</b> voc√™ n√£o seria capaz de fazer isso, porque aqui voc√™ pode ter ATs, n√£o 6.858 ATs. <br><br>  <b>Professor:</b> sim, √© verdade.  Embora haja alunos do grupo 6.858 que s√£o ATs de outras turmas, talvez isso n√£o seja realmente bom.  Mas, no entanto, vamos tentar fazer de alguma forma as interse√ß√µes desses grupos.  Para fazer isso, podemos usar o mecanismo de permiss√£o. <br>    <b>/foo/bar/grades</b> ,   <b>foo</b> ,   <b>gid</b>   6.858         . ,      ,         <b>/foo</b> .        <b>/bar</b> ,    <b>gid</b>  TAs,          .           <b>/foo/bar/</b> ,         <b>grades</b> .  ,      . <br><br><img src="https://habrastorage.org/webt/v8/v4/3v/v8v43vkym696lpr9jvagffweq3s.jpeg"><br><br> <b>:</b> , ,     , ,    6.858 gid,   TA    -     -  6.858    ? <br><br> <b>:</b> ,  .  ,      ,   ,  Unix          ,  ,         ,    ,       ,  .    ,   <b>MACS</b> ‚Äî mandatory accesscontrol systems,    . ,     ,         :     ,        .       .   ,       - . <br><br>  Unix ,  ,  ,   TA        -   ,  Unix    .    ,          - .    - ,  Unix  ,     ,   . ,     ,         .      ,         ,     ,     .           ,        .        Unix. <br><br>   ,      ,  , ,  -   ,     .    -     ,  , ,    . <br><br> ,    ,        Unix. <br><br>  ,       ‚Äî   .      <b>OKWS</b> ,   Unix      .    Unix   ,              .    ,        ¬´¬ª   ,          . <br><br>  ,      :          ,       .        ,            .  -     ,       ,      Unix ‚Äì ,      ,          ,  ,          . <br><br>       ‚Äì    Unix  - ,        . <br><br>  <b>OKWS</b>   ,         .      ,              ,   ,  -   ,           .  ,    ,     ,    - .       -    ,      . <br><br>   ,     .      ,      ,  . <br><br>    ?    ?      ?  Unix   .    ,   ,   ‚Äì    Unix  ,   <b>ptrace</b> . <br><br><img src="https://habrastorage.org/webt/vf/hd/wp/vfhdwpltybem8kb4gielalhu2rs.jpeg"><br><br>    .  ,     ,   ,        ,   ,            .      , ,  <b>web</b> ,  <b>gid</b>    TAs,         . <br><br>     ,         ,    .     <b>userid</b>       .        <b>ptrace</b> ‚Äî     <b>uid</b>       <b>uid</b> . <br><br>      <b>ptrace</b>  Linux    . ,     ,        ,     -   ,         ,   ,     .      -       .           ,           ID. <br><br> 27:50  <br><br> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Curso MIT "Seguran√ßa de sistemas de computadores".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> 4: ¬´ ¬ª,  2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dNl22h1kW1k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . <br><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente n√≥s temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418195/">https://habr.com/ru/post/pt418195/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418185/index.html">Uma hist√≥ria de aut√≥psia: como revertemos o Hancitor</a></li>
<li><a href="../pt418187/index.html">Na Am√©rica, eles sugeriram a substitui√ß√£o de todas as bibliotecas pelos hubs da Amazon. O p√∫blico est√° indignado</a></li>
<li><a href="../pt418189/index.html">Herdeiro de Zeus: por que o Trojan IcedID √© perigoso para clientes de bancos</a></li>
<li><a href="../pt418191/index.html">An√°logos em Python e JavaScript. Parte tr√™s</a></li>
<li><a href="../pt418193/index.html">Como √© criar um jogo para o Game Boy em 2017</a></li>
<li><a href="../pt418197/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 4: ‚ÄúCompartilhando Privil√©gios‚Äù, Parte 2</a></li>
<li><a href="../pt418199/index.html">Como fazer uma tarefa t√©cnica simples e n√£o perder dinheiro e nervos</a></li>
<li><a href="../pt418201/index.html">Podemos reviver Duck Hunt?</a></li>
<li><a href="../pt418203/index.html">API do GraphQL (CRUD) on Go</a></li>
<li><a href="../pt418205/index.html">Space Language Vol. 2: Bem-vindo, GJ273b</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>