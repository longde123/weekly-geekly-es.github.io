<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèª üï¢ üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ Gra√ßas √† incr√≠vel falha em Ocarina of Time, foi poss√≠vel adicionar modelos da Star Fox 64 ü§¥üèª üòí ü¶ç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ao longo dos anos escrevendo artigos sobre jogos, falei sobre muitas falhas surpreendentes , c√≥digos desconhecidos por um longo tempo , truques com a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gra√ßas √† incr√≠vel falha em Ocarina of Time, foi poss√≠vel adicionar modelos da Star Fox 64</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485908/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57c/4bb/e19/57c4bbe1942225f6f87df254b77ca7de.jpg" alt="imagem"></div><br>  Ao longo dos anos escrevendo artigos sobre jogos, falei sobre muitas <a href="https://arstechnica.com/gaming/2019/02/after-glitch-grants-access-bethesda-says-locked-fallout-76-vault-will-open/">falhas surpreendentes</a> , <a href="https://arstechnica.com/gaming/2016/02/decades-later-players-are-still-unlocking-secrets-in-classic-mortal-kombat/">c√≥digos desconhecidos por um longo tempo</a> , <a href="https://arstechnica.com/gaming/2014/01/how-an-emulator-fueled-robot-reprogrammed-super-mario-world-on-the-fly/">truques com a execu√ß√£o arbitr√°ria de c√≥digos</a> e <a href="https://arstechnica.com/gaming/2017/09/searching-for-the-hidden-motion-to-unlock-the-switchs-nes-emulator/">pesquisas por conte√∫do profundamente oculto</a> em jogos e equipamentos cl√°ssicos.  Mas nada poderia me preparar para <a href="https://www.twitch.tv/zfg1/clip/StylishTallYogurtYee%3Ffilter%3Dclips%26amp%3Brange%3D7d%26amp%3Bsort%3Dtime">este v√≠deo do Twitch,</a> no qual uma frota de Arwing voador da <em>Star Fox 64</em> invade o mundo de <em>Ocarina of Time</em> para atacar Link. <br><br>  Voc√™ espera ver essa cena apenas em um desenho animado criado por um f√£ ou em um ROM que a Nintendo <a href="https://arstechnica.com/gaming/2016/12/nintendo-sends-cease-and-desist-notice-to-pokemon-rom-hacker/">adora tirar da Internet</a> .  Mas o mais surpreendente deste v√≠deo √© que ele mostra uma vers√£o n√£o modificada <em>da</em> ROM japonesa original do <em>Ocarina of Time</em> usando o console padr√£o e os controladores N64. <br><br>  Durante toda a manh√£, descobri como isso √© poss√≠vel.  Para explicar isso, voc√™ ter√° que se aprofundar nas instru√ß√µes de linguagem da m√°quina Nintendo 64, no gerenciamento de mem√≥ria <em>de Ocarina of Time</em> e no pr√≥prio processo de desenvolvimento de jogos dos anos 90.  Se voc√™ √© t√£o curioso quanto eu, junte-se a n√≥s. <br><a name="habracut"></a><br><h2>  Links desatualizados e c√≥digo novo </h2><br>  Essa passagem surpreendente come√ßou com a descoberta de uma falha importante em outubro do ano passado: o jogador Glitches0 e 0stuff usando emuladores e um estudo cuidadoso das √°reas de mem√≥ria do Nintendo 64 <a href="https://www.youtube.com/watch%3Fv%3DFX_1u7JaYLc">descobriram uma maneira de manipular links desatualizados</a> em <em>Ocarina of Time</em> . <br><br>  De fato, a falha √© que o jogador pega o item e depois engana o jogo para descarreg√°-lo diretamente das m√£os de Link quando cruza o limiar de um novo local de carregamento (por exemplo, a pr√≥xima sala).  Nesta fase, o jogo libera a √°rea de mem√≥ria ocupada por este item, para que possa ser usada para outros objetos do jogo durante o carregamento.  Mas, ao mesmo tempo, o jogo pensa que Link est√° segurando <em>alguma coisa</em> , ent√£o continua atualizando o ponteiro para o "link desatualizado" na mem√≥ria liberada, anotando dados que representam a posi√ß√£o e o √¢ngulo de um objeto inexistente.  Com manipula√ß√£o cuidadosa, esse ponteiro pode ser usado para "corromper" os dados do objeto rec√©m-carregado com valores arbitr√°rios. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/246/283/c4e/246283c4ea2d7a7e728215345d8006be.png"></div><br>  <i>Os combatentes espaciais n√£o podem se comparar com o Link.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c17/551/016/c175510164f143b6eff520c137a01d09.png"></div><br>  <i>Arwing de <em>Star Fox 64</em> pode sofrer danos e atirar em Link porque eles est√£o sempre no jogo.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57c/4bb/e19/57c4bbe1942225f6f87df254b77ca7de.jpg"></div><br>  <i>Com o bot√£o Z, √© f√°cil apontar um bumerangue na parte inferior do Arwing.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abc/30b/e25/abc30be25dd61c7ed1890738c44270dc.png"></div><br>  <i>O link cont√©m um objeto "vazio" - a prepara√ß√£o para a falha √© realizada com a execu√ß√£o de c√≥digo arbitr√°rio.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/284/b1c/9a5/284b1c9a5fe7b372b0343e6dc6f01424.png"></div><br>  <i>A parte mais importante da t√©cnica √© congelar a c√¢mera na posi√ß√£o de falha.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d5/0f2/8bf/5d50f28bfc957af49c3c292e6c526dab.png"></div><br>  <i>Um dispositivo para manter os bot√µes / posi√ß√µes necess√°rios do joystick anal√≥gico do controlador 3 para ir diretamente para os t√≠tulos.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c80/dd9/ad9/c80dd9ad93f3e8a357bbee17f42f4e61.png"></div><br>  <i>Ap√≥s dez minutos digitando o nome do arquivo, o c√≥digo Arwing est√° pronto para o download</i> <br><br>  Inicialmente, esse truque era usado para simplesmente "estragar" o jogo, por exemplo, para <a href="https://www.youtube.com/watch%3Fv%3DFX_1u7JaYLc">carregar novos itens em ba√∫s de tesouro</a> ou mudar as posi√ß√µes de outros itens dentro da sala (como <a href="https://www.youtube.com/watch%3Fv%3D_7E4dFD8Bmw">explicado em detalhes aqui</a> ).  No entanto, ap√≥s algum tempo, os jogadores descobriram que o mesmo m√©todo pode ser usado para <a href="https://www.youtube.com/watch%3Fv%3DRoEmGCNsbno">modificar c√≥digos de salto de montadores individuais</a> que informam ao jogo onde ele precisa procurar as pr√≥ximas instru√ß√µes ao realizar determinados eventos do jogo. <br><br>  Depois de inserir o c√≥digo desejado dessa maneira, voc√™ pode for√ßar o jogo a ir para a √°rea de mem√≥ria que cont√©m os √∫ltimos valores de rota√ß√£o conhecidos para os estilingues X e Y.  Se <em>esses</em> valores forem especificados exatamente, eles ser√£o interpretados como <em>mais um</em> c√≥digo de salto, que executa uma transi√ß√£o para a √°rea de mem√≥ria onde o nome do arquivo atual est√° armazenado.  Ent√£o, esse nome de arquivo ser√° interpretado como o c√≥digo normal da m√°quina N64, para que o jogador possa se mover rapidamente para qualquer lugar do jogo de que precisa (claro, se ele converter corretamente os caracteres bin√°rios do nome de arquivo nos <a href="https://www.zophar.net/documents/n64/n64-opcodes-list.html">c√≥digos de opera√ß√£o correspondentes</a> ). <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_7E4dFD8Bmw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Explica√ß√£o de falha com um link desatualizado que foi originalmente usado para substituir itens em ba√∫s.</i> <br><br>  O primeiro exemplo s√©rio de usar essa manipula√ß√£o com c√≥digos de transi√ß√£o foi <a href="https://www.youtube.com/watch%3Fv%3DwdRJWDKb5Bo">carregar a cena do jogo com legendas</a> .  Assim, o jogador estabeleceu um <a href="https://www.thegamer.com/ocarina-of-time-new-speedrun-record/">novo recorde mundial para a velocidade do jogo na categoria "Qualquer%"</a> .  Para fazer isso rapidamente na √°rea inicial do jogo, voc√™ precisa usar outras falhas, incluindo <a href="https://www.zeldaspeedruns.com/oot/misc/walking-while-talking">a falha da c√¢mera "caminhar durante a conversa"</a> , que permite carregar e descarregar pedras no local e hor√°rio ideais.  Tamb√©m para isso, √© necess√°rio manter certos bot√µes e posi√ß√µes do joystick anal√≥gico dos controladores conectados √†s primeira e terceira portas Nintendo 64, para que seus sinais sejam interpretados como um c√≥digo de localiza√ß√£o de cena com legendas. <br><br><h2>  Desbloquear Arwing </h2><br>  O m√©todo descrito acima √© bastante bom se voc√™ quiser apenas ir para a cena.  Mas ele tem uma limita√ß√£o s√©ria: o sistema de arquivos <em>Ocarina of Time</em> √© limitado a oito caracteres, ou seja, o nome do arquivo pode ser convertido apenas em algumas instru√ß√µes de c√≥digo de m√°quina.  Felizmente, esses dois slots de instru√ß√µes tamb√©m podem ser usados ‚Äã‚Äãpara praticamente eliminar o limite de caracteres. <br><br>  Isso √© feito de uma maneira extremamente confusa, descrita em detalhes <a href="https://pastebin.com/29hHtupt">neste Pastebin</a> e <a href="https://www.youtube.com/watch%3Fv%3DwIyEUScOMxc">neste v√≠deo</a> .  Basta dizer que ele usa o m√©todo descrito acima tr√™s vezes, o que elimina as verifica√ß√µes importantes do indicador de posi√ß√£o do nome do arquivo e, em seguida, defina esse ponteiro para um valor de posi√ß√£o negativo. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/RoEmGCNsbno" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Explica√ß√£o detalhada da execu√ß√£o arbitr√°ria de c√≥digos em <em>Ocarina of Time</em></i> <br><br>  Como resultado, os jogadores t√™m a oportunidade de inserir um c√≥digo com centenas de caracteres, o que lhes permite pr√©-carregar sequ√™ncias muito mais complexas de instru√ß√µes da m√°quina para implementar o m√©todo de transi√ß√£o de c√≥digo descrito acima.  Mas isso ainda n√£o √© suficiente para codificar os gr√°ficos, anima√ß√µes e l√≥gica de jogo necess√°rias para atacar Arwing.  Felizmente, a Nintendo nos ajudou bastante ao esconder convenientemente todo esse c√≥digo de Arwing dentro de todos os cartuchos <em>de Ocarina of Time</em> . <br><br>  Porque  O personagem e designer gr√°fico Satoru Takizawa <a href="http://iwataasks.nintendo.com/interviews/">disse a Iwata Asks em uma entrevista de 2011</a> que era apenas uma maneira de reutilizar o c√≥digo para mover um dos inimigos em <em>Zelda</em> : <br><br><blockquote>  <a href="https://zelda.gamepedia.com/Volvagia">Volvagia</a> √© um drag√£o, por isso se contorce e se move em ondas.  Acabei de entregar ao programador chefe Kazuaki Morita partes do modelo do drag√£o, e ele imediatamente o colocou em movimento.  Permaneceu um mist√©rio para mim como ele conseguiu ... ent√£o eu n√£o pude resistir a n√£o perguntar a ele.  Ele respondeu que era o mesmo que programar para o <em>Star Fox 64</em> .  H√° uma cena neste jogo em que outro lutador est√° pendurado na cauda de Arwing, e os movimentos de voo do lutador s√£o exatamente os mesmos que os da Volvagia.  Fiquei impressionado, foi um verdadeiro milagre para mim. </blockquote><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/H10Tl3sTpWM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Um v√≠deo de 2007 mostrando Arwing sobrevoando a Floresta Kokiri (c√≥digos e emulador GameShark usados).</i> <br><br>  Depois de copiar as anima√ß√µes necess√°rias para o Volvagia, Morita parece ter deixado todo o bloco do c√≥digo Arwing nos dados de lixo do jogo.  Muitos anos atr√°s, <a href="https://tcrf.net/Notes:The_Legend_of_Zelda:_Ocarina_of_Time">os pesquisadores de dados</a> aprenderam sobre isso.  E <a href="https://www.engadget.com/2005/10/05/hidden-star-fox-arwing-in-ocarina-of-time/">por mais de uma d√©cada, os</a> jogadores sabem como acessar essas partes ocultas do c√≥digo usando <a href="http://www.eeggs.com/items/46440.html">dispositivos como o GameShark</a> , que alteram os valores da mem√≥ria para substituir os inimigos por Arwing. <br><br>  Mas, gra√ßas aos truques com manipula√ß√µes de mem√≥ria descritas no artigo, um truque externo n√£o √© mais necess√°rio.  Em 23 de janeiro, o jogador ZFG1 <a href="https://www.twitch.tv/zfg1/clip/StylishTallYogurtYee%3Ffilter%3Dclips%26amp%3Brange%3D7d%26amp%3Bsort%3Dtime">provou isso de uma vez por todas</a> carregando Arwing usando a Zelda ROM n√£o modificada e o console Nintendo 64 padr√£o em um stream do Twitch.  O resultado foi um jogo no qual todas as portas foram substitu√≠das por Arwing, voando ao redor de Ling, atacando-o com tiros prejudiciais de explosivos e at√© caindo no ch√£o quando derrubado. <br><br>  A prepara√ß√£o para gravar este clipe <a href="https://www.twitch.tv/videos/540663120%3Ft%3D2h11m15s">levou mais de uma hora</a> , durante a qual tr√™s ciclos de execu√ß√£o arbitr√°ria de c√≥digo foram criados e, em 10 minutos, o nome do arquivo para carregar o Arwing foi digitado minuciosamente.  Mas, ao mesmo tempo, esse clipe foi o culminar de meses e anos de trabalho de uma comunidade obcecada pelo desejo de entender e dominar completamente o jogo cl√°ssico e suas falhas. <br><br>  Al√©m do valor do entretenimento, o clipe "Arwings in Zelda" era uma prova de que a comunidade, um grupo de especialistas em computa√ß√£o, com tempo e esfor√ßo suficientes, pode fazer coisas incr√≠veis com equipamentos e softwares cl√°ssicos de jogos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485908/">https://habr.com/ru/post/pt485908/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485888/index.html">Falsifica√ß√£o de solicita√ß√£o do servidor, opera√ß√£o de SSRF cego</a></li>
<li><a href="../pt485892/index.html">O fim da era Trident</a></li>
<li><a href="../pt485896/index.html">Banco de dados massivamente paralelo Greenplum - um pequeno programa educacional</a></li>
<li><a href="../pt485898/index.html">Exporte o Google Forms + fa√ßa o download do Google Script via API REST (Python)</a></li>
<li><a href="../pt485904/index.html">Meetup sobre Load Testing em Raiffeisenbank</a></li>
<li><a href="../pt485910/index.html">Implantando APIs com o AWS Elastic Beanstalk</a></li>
<li><a href="../pt485912/index.html">Por que traduzir em nomea√ß√£o √© ruim e outras caracter√≠sticas interessantes de nossa percep√ß√£o do c√≥digo</a></li>
<li><a href="../pt485914/index.html">Desenvolvido por ZeroTier. Um guia pr√°tico para a constru√ß√£o de redes virtuais. Parte 1</a></li>
<li><a href="../pt485916/index.html">Remover desnecess√°rio [limpe a programa√ß√£o de desnecess√°rio]</a></li>
<li><a href="../pt485918/index.html">Navegadores independentes n√£o s√£o mais competitivos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>