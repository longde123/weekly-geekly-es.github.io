<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ğŸ¼ ğŸ”µ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¾ Recommandations Ã  Okko: comment gagner des centaines de millions en multipliant quelques matrices ğŸ¤±ğŸ» ğŸ‘§ ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Connaissez-vous une situation dans laquelle vous passez Ã©normÃ©ment de temps Ã  choisir un film comparable Ã  la pÃ©riode pendant laquelle vous l'avez reg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Recommandations Ã  Okko: comment gagner des centaines de millions en multipliant quelques matrices</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/454224/"><p><img src="https://habrastorage.org/webt/lz/br/1e/lzbr1ep8ur0j8t_guasvydsyob8.jpeg" alt="Rekko - recommandations personnalisÃ©es au cinÃ©ma en ligne Okko"></p><br><p>  Connaissez-vous une situation dans laquelle vous passez Ã©normÃ©ment de temps Ã  choisir un film comparable Ã  la pÃ©riode pendant laquelle vous l'avez regardÃ©?  Pour les utilisateurs de cinÃ©mas en ligne, c'est un problÃ¨me commun, et pour les cinÃ©mas eux-mÃªmes - des pertes de profits. </p><br><p>  Heureusement, nous avons Rekko - un systÃ¨me de recommandations personnelles qui aide avec succÃ¨s les utilisateurs d'Okko depuis un an Ã  choisir des films et des sÃ©ries parmi plus de dix mille unitÃ©s de contenu.  Dans l'article, je vais vous dire comment il est organisÃ© du point de vue algorithmique et technique, comment nous abordons son dÃ©veloppement et comment nous Ã©valuons les rÃ©sultats.  Eh bien, je vais Ã©galement vous parler des rÃ©sultats du test A / B annuel. </p><a name="habracut"></a><br><p>  Tout d'abord, un peu d'histoire.  Okko a commencÃ© son existence en 2011 dans le cadre d'Iota, en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">commenÃ§ant</a> sous le nom de Yota Play. </p><br><p><img src="https://habrastorage.org/webt/mv/a1/56/mva156eoduu0n4mxwzndqw8okia.jpeg" alt="Interface Ancienne Yota Play"></p><br><div class="spoiler">  <b class="spoiler_title">DÃ©jÃ  en 2011, les utilisateurs ont acceptÃ© avec enthousiasme l'idÃ©e de regarder un film lÃ©galement sur Internet</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/x9/qt/lw/x9qtlwkwdtshpzms52bk2_fcsem.png" alt="Avis d'utilisateurs sur le coÃ»t du contenu dans une salle de cinÃ©ma en ligne"></p></div></div><br><p>  Yota Play Ã©tait un service unique pour son Ã©poque: il Ã©tait Ã©troitement intÃ©grÃ© aux rÃ©seaux sociaux et utilisait des informations sur les films visionnÃ©s et Ã©valuÃ©s par des amis dans de nombreuses parties du service, y compris des recommandations. </p><br><p><img src="https://habrastorage.org/webt/tg/es/vx/tgesvx1rincasogqygiajdlbkbc.jpeg" alt="Recommandations sociales sur Yota Play"></p><br><p>  En 2012, il a Ã©tÃ© dÃ©cidÃ© de complÃ©ter les recommandations sociales par des recommandations algorithmiques.  C'est ainsi qu'apparut Â«OracleÂ» - le premier systÃ¨me de recommandation du cinÃ©ma en ligne Okko.  Voici quelques extraits de son document de conception: </p><br><blockquote>  Une approche similaire a Ã©tÃ© utilisÃ©e dans le systÃ¨me mis en place de recommandations personnelles.  L'Ã©chelle des niveaux est utilisÃ©e de Â«rienÂ» (vide, absence) Ã  Â«toutÂ» (complÃ¨tement, au maximum).  Dans l'intervalle [127 .. + 127] 0 - est le milieu ou la Â«normeÂ».  Sur cette Ã©chelle, le degrÃ© de sympathie pour le personnage principal et le prix subjectif du produit et le degrÃ© de couleur Â«rougeÂ» sont Ã©galement Ã©valuÃ©s.  Par exemple, la taille de l'univers est estimÃ©e Ã  +127 (sur l'Ã©chelle des dimensions), et l'obscuritÃ© est estimÃ©e Ã  127 (sur l'Ã©chelle de l'intensitÃ© lumineuse). <br><br>  Lors de la formulation de recommandations, il est important non seulement le contexte, mais Ã©galement la nature de l'utilisateur particulier.  Le profil personnel contient Ã©galement 4 Ã©chelles de types de personnages (selon K. Leonhard - dÃ©monstratif, pÃ©dant, coincÃ©, excitable). <br><br>  Les limites physiologiques du cerveau ne dÃ©pendent pas des propriÃ©tÃ©s du caractÃ¨re d'une personne ni de son amabilitÃ© et de sa sociabilitÃ©.  Selon le professeur, des restrictions existent dans le nÃ©ocortex, le dÃ©partement responsable des pensÃ©es et de la parole conscientes.  Cette restriction est Ã©galement prise en compte dans le systÃ¨me mis en Å“uvre, en particulier lors de l'Ã©laboration de recommandations pour un type de personnage pÃ©dant et lors de la formation d'un Ã©chantillon de ces utilisateurs parmi les connexions sociales. </blockquote><p><img src="https://habrastorage.org/webt/2m/uu/lx/2muulx2mhqmdcnpife9rzqvosr8.jpeg" alt="TournÃ© Ã  partir du film &quot;Peur et dÃ©goÃ»t Ã  Las Vegas&quot;"></p><br><p>  Comme vous l'avez dÃ©jÃ  compris, les temps Ã©taient sauvages, les limites physiologiques du cerveau n'Ã©taient pas limitÃ©es Ã  rien, et le nÃ©ocortex overclockÃ© lui-mÃªme pouvait gÃ©nÃ©rer des recommandations personnelles Ã  la vitesse de la lumiÃ¨re.  Par consÃ©quent, le modÃ¨le a Ã©tÃ© dÃ©cidÃ© de passer immÃ©diatement en production. </p><br><p>  Autant que l'on puisse en juger par les artefacts survivants de la civilisation ancienne, "Oracle" Ã©tait un mÃ©lange sauvage d'algorithmes de filtrage collaboratifs, gÃ©nÃ©reusement assaisonnÃ©s de rÃ¨gles commerciales. </p><br><p><img src="https://habrastorage.org/webt/0o/no/pg/0onopgsv10ay9p1gghbbkuy-bsq.jpeg" alt="Architecture &quot;Oracle&quot;"></p><br><p>  Ã€ la mi-2013, tout le monde a commencÃ© Ã  lÃ¢cher un peu et il a finalement Ã©tÃ© dÃ©cidÃ© de vÃ©rifier la qualitÃ© de la machine de recommandation.  Pour ce faire, un Ã©diteur spÃ©cialement formÃ© a rempli les principales sections de l'application et le test A / B a Ã©tÃ© lancÃ©: la moitiÃ© des utilisateurs ont vu la sortie de l'algorithme, la moitiÃ© - le choix de l'Ã©diteur. </p><br><p>  C'est maintenant que nous lisons des articles sur les prochaines victoires de l'intelligence artificielle et imaginons avec horreur le jour oÃ¹ il perdra notre travail.  Puis, en 2013, la situation Ã©tait diffÃ©rente: une personne a hÃ©roÃ¯quement vaincu la voiture, crÃ©ant encore plus d'emplois dans le dÃ©partement du contenu.  L'Oracle a Ã©tÃ© dÃ©sactivÃ© et n'a jamais Ã©tÃ© rÃ©activÃ©.  BientÃ´t, tous les jetons sociaux ont disparu et Yota Play est devenu Okko. </p><br><p><img src="https://habrastorage.org/webt/zg/iy/si/zgiysix9gjqhvyvlzxxhbtkpjeo.jpeg" alt="L'interface du cinÃ©ma en ligne Okko immÃ©diatement aprÃ¨s le changement de nom"></p><br><p>  La pÃ©riode de 2013 Ã  2016 a Ã©tÃ© marquÃ©e par Â«l'hiverÂ» de l'intelligence artificielle et la rÃ¨gle totalitaire du dÃ©partement contenu: il n'y avait pas de recommandations personnelles dans le service. </p><br><p>  Ã€ la mi-2017, il est devenu clair que vous ne pouvez pas vivre comme Ã§a.  Les succÃ¨s de Netflix Ã©taient bien connus de tous et l'ensemble de l'industrie Ã©voluait rapidement vers la personnalisation.  Les utilisateurs n'Ã©taient plus intÃ©ressÃ©s par les services statiques Â«stupidesÂ», ils commenÃ§aient dÃ©jÃ  Ã  s'habituer aux interfaces Â«intelligentesÂ», Ã  les comprendre parfaitement et Ã  prÃ©voir tous leurs dÃ©sirs. </p><br><p>  Lors de la premiÃ¨re itÃ©ration, nous avons dÃ©cidÃ© de nous intÃ©grer Ã  deux grands fournisseurs russes de recommandations.  Une fois par jour, les deux services prenaient les donnÃ©es nÃ©cessaires Ã  Okko, bruissaient avec leurs boÃ®tes noires sur des serveurs distants et tÃ©lÃ©chargeaient les rÃ©sultats. </p><br><p>  Selon les rÃ©sultats du test A / B de six mois, aucune diffÃ©rence statistiquement significative n'a Ã©tÃ© trouvÃ©e dans les groupes tÃ©moin et test. </p><br><p>  Juste Ã  la fin de ce test A / B, je suis venu Ã  Okko pour commencer Ã  rendre le service vraiment personnel avec le chef de l'analyse, Mikhail Alekseev ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">malekseev</a> ).  Moins d'un an plus tard, Danil Kazakov ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">xaph</a> ) nous a rejoint, formant finalement l'Ã©quipe actuelle. </p><br><h2 id="obschie-soobrazheniya">  ConsidÃ©rations gÃ©nÃ©rales </h2><br><p>  Lorsqu'un problÃ¨me commercial Ã©tudiÃ© depuis longtemps par la communautÃ© internationale se pose devant vous et qui, en outre, doit Ãªtre rÃ©solu rapidement, il est tentant de prendre la premiÃ¨re solution populaire de rÃ©seau de neurones profonds que vous avez, enfoncez-y les donnÃ©es avec une pelle, enfoncez-les et jetez-les dans le produit. </p><br><p><img src="https://habrastorage.org/webt/wc/yk/q1/wcykq1ofa4dbrgtlxzgwvnwnrj8.png" alt="Bande dessinÃ©e de xkcd.com sur l'apprentissage automatique"></p><br><p>  L'essentiel est de ne pas succomber Ã  cette tentation.  La tÃ¢che de la communautÃ© scientifique - atteindre une vitesse maximale sur des ensembles de donnÃ©es pourris et synthÃ©tiques - ne coÃ¯ncide souvent pas avec la tÃ¢che commerciale - gagner plus d'argent tout en dÃ©pensant moins de ressources. </p><br><p><img src="https://habrastorage.org/webt/kz/7j/lv/kz7jlvh1g1-kyj_aivbafyjcei4.png"></p><br><p>  Non, cela ne signifie pas que vous n'avez pas besoin de rÃ©seaux rÃ©currents et que vous pouvez ratisser des milliards en utilisant la mÃ©thode k des voisins les plus proches.  Il se peut que la dÃ©composition matricielle classique vous permette de gagner 100 millions supplÃ©mentaires conditionnels par an et des rÃ©seaux rÃ©currents - 105 millions par an.  Dans le mÃªme temps, la maintenance d'un rack de serveurs avec des cartes vidÃ©o pour ces mÃªmes rÃ©seaux coÃ»tera 10 millions par an et nÃ©cessitera plusieurs mois supplÃ©mentaires pour se dÃ©velopper et mettre en Å“uvre, et la simple intÃ©gration d'une dÃ©composition matricielle prÃªte Ã  l'emploi dans une autre section du service et de la liste de diffusion nÃ©cessitera un mois d'amÃ©liorations et donnera 100 millions supplÃ©mentaires conditionnels par an. </p><br><p>  Par consÃ©quent, il est important de commencer par les bases - des mÃ©thodes de base Ã©prouvÃ©es - et de passer Ã  des approches toujours plus modernes, assurez-vous de mesurer et de prÃ©dire l'effet de chaque nouvelle mÃ©thode sur l'entreprise, combien cela coÃ»tera et combien cela vous permettra de gagner. </p><br><p>  Okko peut bien mesurer.  LittÃ©ralement, chaque nouvelle fonctionnalitÃ©, chaque innovation que nous avons passe par un test A / B, est examinÃ©e dans le contexte d'une variÃ©tÃ© de groupes d'utilisateurs, les effets sont vÃ©rifiÃ©s pour la signification statistique et seulement aprÃ¨s qu'une dÃ©cision est prise d'accepter ou de rejeter la nouvelle fonctionnalitÃ©. </p><br><p><img src="https://habrastorage.org/webt/a3/qs/52/a3qs52_u3h315fc3uilbjcfue6y.jpeg"></p><br><p>  Le tableau de bord Rekko actuel, par exemple, compare les groupes de contrÃ´le et de test pour plus de 50 mesures, y compris les revenus, le temps passÃ© dans le service, le temps pour choisir un film, le nombre de vues par abonnement, la conversion en achat et le renouvellement automatique, et bien d'autres.  Et oui, nous gardons toujours un petit groupe d'utilisateurs qui n'ont jamais reÃ§u de recommandations personnalisÃ©es (dÃ©solÃ©). </p><br><p><img src="https://habrastorage.org/webt/ji/wk/wa/jiwkwartjggsztf_2tnsv1yfezc.png"></p><br><h2 id="o-rekomendatelnyh-sistemah">  Ã€ propos des systÃ¨mes de recommandation </h2><br><p>  Pour commencer, une petite introduction aux systÃ¨mes de recommandation. </p><br><p>  L'objectif du systÃ¨me de recommandation est que pour chaque utilisateur <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.89ex" height="2.057ex" viewBox="0 -780.1 2536 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="1168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-55" x="1768" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> u \ in U </script>  sur son histoire d'interagir avec des Ã©lÃ©ments <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.752ex" height="2.057ex" viewBox="0 -780.1 2046 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="1541" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> i \ in I </script>  pour construire une relation d'ordre sur l'ensemble de tous les Ã©lÃ©ments.  Cela signifie ceci: quels que soient les deux Ã©lÃ©ments arbitraires que nous prenons, nous pouvons toujours dire lequel est le plus prÃ©fÃ©rable pour l'utilisateur et lequel l'est moins. </p><br><p><img src="https://habrastorage.org/webt/l5/er/eb/l5erebrzv_nfgsliqcvwsgnms4u.jpeg" alt="Illustration de la relation d'ordre sur de nombreux films"></p><br><p>  Cette tÃ¢che assez gÃ©nÃ©rale peut Ãªtre rÃ©duite Ã  une tÃ¢che plus simple: mapper des Ã©lÃ©ments Ã  un ensemble sur lequel une relation d'ordre est dÃ©jÃ  dÃ©finie.  Par exemple, sur un ensemble de nombres rÃ©els.  Dans ce cas, il est nÃ©cessaire que chaque utilisateur et chaque Ã©lÃ©ment puisse prÃ©dire une certaine valeur - combien cet utilisateur prÃ©fÃ¨re-t-il cet Ã©lÃ©ment. </p><br><p><img src="https://habrastorage.org/webt/jf/jq/ur/jfjqur-h18fc3rzmphqaqwcnpoi.jpeg" alt="Illustration de la mise en correspondance de nombreux films avec de nombreux nombres rÃ©els"></p><br><p>  Ayant une relation de commande sur nos Ã©lÃ©ments, nous sommes en mesure de rÃ©soudre de nombreux problÃ¨mes commerciaux, par exemple, choisir parmi tous les Ã©lÃ©ments N les plus pertinents pour l'utilisateur ou trier les rÃ©sultats de la recherche selon ses prÃ©fÃ©rences. </p><br><p>  IdÃ©alement, nous avons besoin de toute une famille de relations d'ordre contextuelles.  Si l'utilisateur est entrÃ© dans la collection Â«FightersÂ», il prÃ©fÃ©rera trÃ¨s probablement le film Â«DestroyerÂ» au film Â«OscarÂ», mais dans la collection Â«Films with Sylvester StalloneÂ», la prÃ©fÃ©rence pourrait bien Ãªtre le contraire.  Des exemples similaires peuvent Ãªtre donnÃ©s pour le jour de la semaine, l'heure ou l'appareil Ã  partir duquel l'utilisateur est entrÃ© dans le service. </p><br><p><img src="https://habrastorage.org/webt/-_/o4/qj/-_o4qjhy9azdbrp4plydn7yjkya.jpeg" alt="Illustration de la mise en correspondance de plusieurs films avec plusieurs nombres rÃ©els, en tenant compte du contexte"></p><br><p>  Traditionnellement, toutes les mÃ©thodes de construction de recommandations personnelles sont divisÃ©es en trois grands groupes: filtrage collaboratif (CF), modÃ¨les de contenu (modÃ¨les de contenu, CM) et modÃ¨les hybrides qui combinent les deux premiÃ¨res approches. </p><br><p>  Les mÃ©thodes de filtrage collaboratif utilisent des informations sur les interactions de tous les utilisateurs et de tous les Ã©lÃ©ments.  Ces informations, en rÃ¨gle gÃ©nÃ©rale, sont prÃ©sentÃ©es sous la forme d'une matrice clairsemÃ©e, oÃ¹ les lignes correspondent aux utilisateurs, les colonnes aux Ã©lÃ©ments, et l'utilisateur et l'Ã©lÃ©ment contiennent la valeur caractÃ©risant l'interaction entre eux, ou un Ã©cart s'il n'y avait pas une telle interaction.  La tÃ¢che de construire une relation d'ordre se rÃ©duit ici Ã  la tÃ¢che de remplir les Ã©lÃ©ments de matrice manquants. </p><br><p><img src="https://habrastorage.org/webt/_h/m3/7j/_hm37jb5xe7ddcdyg1nanl3fsbk.jpeg" alt="Illustration de la matrice d'interaction pour les mÃ©thodes de filtration collaborative"></p><br><p>  Ces mÃ©thodes, en rÃ¨gle gÃ©nÃ©rale, sont faciles Ã  comprendre et Ã  mettre en Å“uvre, rapides, mais ne montrent pas le meilleur rÃ©sultat. </p><br><p>  ModÃ¨les de contenu - mÃ©thodes d'apprentissage automatique arbitraires pour rÃ©soudre les problÃ¨mes de classification ou de rÃ©gression, paramÃ©trÃ©es par un certain ensemble de paramÃ¨tres <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.912ex" height="2.057ex" viewBox="0 -780.1 2545.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="1188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="1654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="2016" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ theta </script>  .  Ã€ l'entrÃ©e, ils acceptent les attributs de l'utilisateur et les attributs de l'Ã©lÃ©ment, et la sortie est le degrÃ© de pertinence de l'Ã©lÃ©ment donnÃ© pour cet utilisateur.  Ces modÃ¨les ne sont pas enseignÃ©s sur les interactions de tous les utilisateurs et de tous les Ã©lÃ©ments, tels que les mÃ©thodes de filtrage collaboratif, mais uniquement sur des prÃ©cÃ©dents individuels. </p><br><p><img src="https://habrastorage.org/webt/lx/lp/pd/lxlppd-mzqmhiy7yidyly3jeclu.jpeg" alt="Illustration du modÃ¨le de contenu"></p><br><p>  De tels modÃ¨les, en rÃ¨gle gÃ©nÃ©rale, sont beaucoup plus prÃ©cis que les mÃ©thodes de filtrage collaboratif, mais leur vitesse est beaucoup plus lente.  Imaginez que si nous avons une fonction d'une forme gÃ©nÃ©rale qui accepte les signes d'utilisateurs et d'Ã©lÃ©ments en entrÃ©e, elle doit Ãªtre appelÃ©e pour chaque paire <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>U</mi><mo>,</mo><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.685ex" height="2.66ex" viewBox="0 -832 7614.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="1752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="2142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="2587" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="3409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="3755" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-55" x="4355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="5123" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="5568" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="6164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="6509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="7110" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>,</mo><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>U</mi><mo>,</mo><mi>i</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> (u, i), u \ in U, i \ in I </script>  .  Dans le cas d'un millier d'utilisateurs et de dix mille Ã©lÃ©ments, cela reprÃ©sente un million d'appels. </p><br><p>  Les modÃ¨les hybrides combinent les forces des deux approches, offrant des recommandations de qualitÃ© dans un dÃ©lai raisonnable. </p><br><p>  L'approche hybride la plus populaire aujourd'hui est une architecture Ã  deux niveaux, oÃ¹ un modÃ¨le de filtrage collaboratif sÃ©lectionne un petit nombre (100 - 1000) de candidats parmi tous les Ã©lÃ©ments possibles, qui sont ensuite classÃ©s par un modÃ¨le de contenu beaucoup plus puissant.  Parfois, il peut y avoir plusieurs de ces Ã©tapes de sÃ©lection des candidats et un modÃ¨le de plus en plus complexe est utilisÃ© Ã  chaque nouveau niveau. </p><br><p><img src="https://habrastorage.org/webt/gg/mm/aj/ggmmaj0ypd3aioq8uqwg985w_uu.jpeg" alt="Illustration de l'architecture Ã  deux niveaux"></p><br><p>  Une telle architecture prÃ©sente de nombreux avantages: </p><br><ol><li>  Les parties collaboratives et de contenu ne sont pas interconnectÃ©es et peuvent Ãªtre entraÃ®nÃ©es sÃ©parÃ©ment avec diffÃ©rentes frÃ©quences; </li><li>  La qualitÃ© est toujours meilleure que celle d'un modÃ¨le collaboratif sÃ©parÃ©ment; </li><li>  La vitesse est beaucoup plus Ã©levÃ©e que celle du modÃ¨le de contenu sÃ©parÃ©ment; </li><li>  Â«GratuitÂ», nous obtenons des vecteurs Ã  partir d'un modÃ¨le collaboratif, qui peuvent ensuite Ãªtre utilisÃ©s pour rÃ©soudre des problÃ¨mes connexes. </li></ol><br><p>  Si nous parlons de technologies spÃ©cifiques, il existe de nombreuses combinaisons possibles. </p><br><p>  En tant que partie collaborative, vous pouvez prendre des abonnements utilisateur, du contenu populaire, du contenu populaire parmi les amis de l'utilisateur, vous pouvez appliquer une factorisation matricielle ou tensorielle, entraÃ®ner DSSM ou toute autre mÃ©thode avec une prÃ©diction assez rapide. </p><br><p>  En tant que modÃ¨le de contenu, toute approche peut Ãªtre utilisÃ©e en gÃ©nÃ©ral, de la rÃ©gression linÃ©aire aux grilles profondes. </p><br><p>  Chez Okko, nous nous concentrons actuellement sur une combinaison de factorisation matricielle avec perte de WARP et accentuation du gradient sur les arbres, dont je vais maintenant discuter en dÃ©tail. </p><br><h2 id="pervyy-etap-otbor-kandidatov">  PremiÃ¨re Ã©tape: sÃ©lection des candidats </h2><br><p>  Je pense que je ne mens pas si je dis que les algorithmes de factorisation matricielle sont de loin les mÃ©thodes les plus populaires de filtrage collaboratif.  L'essence de la mÃ©thode ressort clairement du nom: nous essayons de prÃ©senter la matrice dÃ©jÃ  mentionnÃ©e des interactions des utilisateurs avec le contenu par le produit de deux matrices de rang infÃ©rieur, dont l'une sera une Â«matrice d'utilisateurÂ» et l'autre une Â«matrice d'Ã©lÃ©mentsÂ».  Avec cette dÃ©composition, nous pouvons restaurer la matrice d'origine avec toutes les valeurs manquantes. </p><br><p><img src="https://habrastorage.org/webt/rn/_t/fv/rn_tfvt7uh_z56ojjyiqt-zpmky.jpeg" alt="Illustration de dÃ©composition matricielle"></p><br><p>  Dans ce cas, bien entendu, nous sommes libres de choisir un critÃ¨re de similitude des matrices disponibles et restaurÃ©es.  Le critÃ¨re le plus simple est l'Ã©cart type. </p><br><p>  Soit <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-5"> p_u </script>  - ligne de matrice utilisateur correspondant Ã  l'utilisateur <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.89ex" height="2.057ex" viewBox="0 -780.1 2536 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="1168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-55" x="1768" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> u \ in U </script>  et <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-7"> q_i </script>  - colonne de la matrice d'Ã©lÃ©ment correspondant Ã  l'Ã©lÃ©ment <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.752ex" height="2.057ex" viewBox="0 -780.1 2046 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="1541" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-8"> i \ in I </script>  .  Ensuite, lors de la multiplication des matrices, leur produit <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.15ex" height="2.419ex" viewBox="0 -780.1 8245.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="2159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="2457" y="0"></use><g transform="translate(2924,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="3932" y="0"></use><g transform="translate(4377,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="5418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="5869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="6399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="6999" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="7480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="7778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> \ langle p_u, q_i \ rangle </script>  signifiera l'ampleur de l'interaction prÃ©vue entre l'utilisateur donnÃ© et l'Ã©lÃ©ment.  Calculons maintenant l'Ã©cart type entre cette quantitÃ© et la valeur connue a priori de l'interaction <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.789ex" height="1.817ex" viewBox="0 -520.7 1200.6 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="572" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-10"> r_ {ui} </script>  pour toutes les paires d'utilisateurs et d'Ã©lÃ©ments en interaction <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>T</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.67ex" height="2.66ex" viewBox="0 -832 4163.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="1752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="2392" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="2858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-54" x="3459" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-11"> (u, i) \ en T </script>  , nous obtenons une fonction de perte qui peut Ãªtre minimisÃ©e. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="63.315ex" height="3.383ex" viewBox="0 -987.6 27260.7 1456.5" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-66" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="2875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="3326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-63" x="3856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="4289" y="0"></use><g transform="translate(4790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-54" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="3268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-76" x="3719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="4205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="5123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-73" x="10524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="10994" y="0"></use><g transform="translate(11566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="1586" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="2329" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="2674" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-54" x="3275" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="15358" y="0"></use><g transform="translate(15748,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="17171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="18422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="18720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="19250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="19850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="20331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="20629" y="0"></use><g transform="translate(21096,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="22104" y="0"></use><g transform="translate(22549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="23590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="24041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="24571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="25171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="25652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="25950" y="0"></use><g transform="translate(26417,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>âˆ’</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ min \ frac {1} {\ lvert T \ rvert} \ sum _ {(u, i) \ in T} (r_ {ui} - \ langle p_u, q_i \ rangle) ^ 2 </script></p><br><p>  En rÃ¨gle gÃ©nÃ©rale, la rÃ©gularisation y est toujours ajoutÃ©e. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>u</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>p</mi><mi>u</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="121.977ex" height="3.383ex" viewBox="0 -987.6 52517.7 1456.5" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-66" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="2875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="3326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-63" x="3856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="4289" y="0"></use><g transform="translate(4790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-54" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="3268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-76" x="3719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="4205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="5123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-73" x="10524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="10994" y="0"></use><g transform="translate(11566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="1586" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="2329" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="2674" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-54" x="3275" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="15358" y="0"></use><g transform="translate(15748,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="17171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="18422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="18720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="19250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="19850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="20331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="20629" y="0"></use><g transform="translate(21096,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="22104" y="0"></use><g transform="translate(22549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="23590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="24041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="24571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="25171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="25652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="25950" y="0"></use><g transform="translate(26417,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2B" x="27482" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="28733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="29032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="29561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-62" x="30440" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-64" x="30869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="31393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="31922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-73" x="32562" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="33031" y="0"></use><g transform="translate(33604,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="35237" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-56" x="35535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="36305" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="36771" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="37223" y="0"></use><g transform="translate(37584,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="38843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-56" x="39294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="40064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="40530" y="0"></use><g transform="translate(40982,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-32" x="511" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2B" x="42019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-73" x="43270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="43740" y="0"></use><g transform="translate(44312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="45785" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-56" x="46083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="46853" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="47319" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="47771" y="0"></use><g transform="translate(48132,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="49173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-56" x="49625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="50394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="50861" y="0"></use><g transform="translate(51312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-32" x="511" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="52128" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>âˆ’</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>u</mi></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>p</mi><mi>u</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> \ min \ frac {1} {\ lvert T \ rvert} \ sum _ {(u, i) \ in T} (r_ {ui} - \ langle p_u, q_i \ rangle) ^ 2 + \ lambda (\ sum_u \ lVert p_u \ rVert ^ 2 + \ sum_i \ lVert q_i \ rVert ^ 2) </script></p><br><p>  Un tel problÃ¨me n'est pas convexe et NP-complexe.  Cependant, il est facile de remarquer que lors de la fixation de l'une des matrices, la tÃ¢che se transforme en rÃ©gression linÃ©aire par rapport Ã  la deuxiÃ¨me matrice, ce qui signifie que nous pouvons rechercher une solution de maniÃ¨re itÃ©rative, en gelant alternativement la matrice utilisateur ou la matrice d'Ã©lÃ©ments.  Cette approche est appelÃ©e Alternating Least Squares (ALS). </p><br><p><img src="https://habrastorage.org/webt/pj/fd/-o/pjfd-owy8_ujaucnfd1pc4cilbc.jpeg"></p><br><p>  Le principal avantage de la SLA est la vitesse et la capacitÃ© de se parallÃ©liser facilement.  Pour cela, il est tellement aimÃ© Ã  Yandex.Zen et Vkontakte, oÃ¹ les utilisateurs et les Ã©lÃ©ments se comptent par dizaines de millions. </p><br><p>  Cependant, si nous parlons de la quantitÃ© de donnÃ©es qui tient sur une machine, ALS ne rÃ©siste pas aux critiques.  Son principal problÃ¨me est qu'il optimise la mauvaise fonction de perte.  N'oubliez pas la formulation de la tÃ¢che de construction d'un systÃ¨me de recommandation.  Nous voulons obtenir la relation d'ordre sur l'ensemble, et optimiser Ã  la place l'Ã©cart type. </p><br><p>  Il est facile de donner un exemple de matrice pour laquelle l'Ã©cart-type sera minime, mais l'ordre des Ã©lÃ©ments est dÃ©sespÃ©rÃ©ment dÃ©truit. </p><br><p>  Voyons ce que nous pouvons y faire.  Dans la tÃªte de l'utilisateur, tous les Ã©lÃ©ments avec lesquels il a interagi sont classÃ©s dans un certain ordre.  Par exemple, il sait avec certitude qu'Interstellar est meilleur que Gravity, Gravity et Alien sont des films tout aussi bons, et ils sont tous un peu pires que Terminator.  Dans le mÃªme temps, il Ã©prouve Ã©galement une certaine attitude envers les films que l'utilisateur n'a pas encore regardÃ©s, et la mÃªme chose pour tout le monde.  Il peut croire que de tels films sont a priori pires que les films qu'il a regardÃ©s.  Ou il peut considÃ©rer que, par exemple, PromÃ©thÃ©e est un mauvais film, et tout film qu'il n'a pas encore regardÃ© sera meilleur que lui. </p><br><p><img src="https://habrastorage.org/webt/gk/pn/0b/gkpn0byianfyacfeq1byt0cfsd8.jpeg" alt="Illustration de la relation d'ordre sur de nombreux films dans la tÃªte de l'utilisateur"></p><br><p>  Imaginez que selon certains signes de comportement des utilisateurs dans le service, nous pouvons restaurer cet ordre en affichant l'Ã©lÃ©ment avec lequel il a interagi, dans un entier en utilisant la fonction <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo>:</mo><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>I</mi><mtext>&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xE0;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Z</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.117ex" height="2.419ex" viewBox="0 -780.1 10814 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3A" x="2041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-55" x="2597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-66" x="3615" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="4165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="4651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-73" x="4996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="5466" y="0"></use><g transform="translate(6220,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">Ã </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="6885" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="7764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="8293" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="8655" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-62" x="9231" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-62" x="9661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-5A" x="10090" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo>:</mo><mi>U</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>I</mi><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mo>Ã </mo></mrow><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>Z</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-14"> \ rho: U \ fois I \ Ã  \ mathbb {Z} </script>  .  Beaucoup de films avec lesquels l'utilisateur <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> u </script>  interagi, dÃ©signent comme <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="622" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-16"> I_u </script>  .  Nous convenons que <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.488ex" height="2.66ex" viewBox="0 -832 5807.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="3583" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="4250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-30" x="5306" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-17"> \ rho (u, j) = 0 </script>  si l'utilisateur n'a pas interagi avec le film <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-18"> j </script>  c'est <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi><mtext>&amp;#xA0;</mtext><mi>n</mi><mi>o</mi><mi>t</mi><mi>i</mi><mi>n</mi><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.32ex" height="2.419ex" viewBox="-11.5 -780.1 4012.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="1263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="1748" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="2110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="2455" y="0"></use><g transform="translate(3056,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="622" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi><mtext>&nbsp;</mtext><mi>n</mi><mi>o</mi><mi>t</mi><mi>i</mi><mi>n</mi><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-19"> j \ notin I_u </script>  .  Ainsi, si l'utilisateur considÃ¨re que le film est mauvais, alors <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.332ex" height="2.66ex" viewBox="0 -832 5740.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3C" x="4183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-30" x="5239" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-20"> \ rho (u, i) <0 </script>  et si c'est bon, alors <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;gt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.332ex" height="2.66ex" viewBox="0 -832 5740.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3E" x="4183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-30" x="5239" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-21"> \ rho (u, i)> 0 </script>  . </p><br><p><img src="https://habrastorage.org/webt/cm/c1/xb/cmc1xb-_9fpvcdjszrwuu5yg45q.jpeg" alt="Illustration d'une fonction dÃ©crivant une valeur entiÃ¨re d'interaction utilisateur-film"></p><br><p>  Maintenant, nous pouvons entrer le rang <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo>:</mo><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>I</mi><mtext>&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xE0;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.288ex" height="2.419ex" viewBox="0 -780.1 11318.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3A" x="2380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-55" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-66" x="3954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="4505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="4990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-73" x="5336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="5805" y="0"></use><g transform="translate(6560,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">Ã </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="7225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="8103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="8633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="8994" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-62" x="9571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-62" x="10000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-4E" x="10430" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo>:</mo><mi>U</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>I</mi><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mo>Ã </mo></mrow><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>N</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22"> rank: U \ fois I \ Ã  \ mathbb {N} </script>  . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi><mo>:</mo><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></msub><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="92.595ex" height="3.021ex" viewBox="0 -832 39867 1300.8" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="4522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-73" x="5829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="6298" y="0"></use><g transform="translate(6871,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="766" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="1111" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="1712" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3A" x="2216" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="2848" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="3300" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="3876" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="4362" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="4751" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="5324" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="5602" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="6015" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3C" x="6404" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="7536" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-68" x="7988" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="8564" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="9050" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="9439" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="10012" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="10290" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="10636" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="15896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="16257" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="16724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="17296" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="17658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="18109" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="18988" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="19492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="20132" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="20430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="20960" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="21560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="22041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="22339" y="0"></use><g transform="translate(22806,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="23814" y="0"></use><g transform="translate(24259,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="25300" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="25751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="26281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="26881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="27362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="27660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3C" x="28405" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="29461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2B" x="30184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="31434" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="31733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="32262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="32863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="33343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="33642" y="0"></use><g transform="translate(34108,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="35117" y="0"></use><g transform="translate(35562,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="36650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="37101" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="37631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="38231" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="38712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="39010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="39477" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi><mo>:</mo><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msub><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi></mrow><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo>&lt;</mo><mn>1</mn><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-23"> rank (u, i) = \ sum_ {j \ in I: \ rho (u, j) <\ rho (u, i)} \ textrm {I} (\ langle p_u, q_i \ rangle <1 + \ langle p_u, q_j \ rangle) </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.073ex" height="2.66ex" viewBox="0 -832 5198 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="1650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="2012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6D" x="2463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="3342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="3846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="4236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="4808" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi></mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-24"> \ textrm {I} (x) </script>  dÃ©signe ici la fonction d'indicateur et est Ã©gal Ã  l'unitÃ© si <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-25"> x </script>  vrai et zÃ©ro sinon. </p><br><p>  ArrÃªtons-nous une minute et rÃ©flÃ©chissons Ã  la signification d'un tel rang. </p><br><p>  Nous rÃ©parons l'utilisateur <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-26"> u </script>  , il s'agit d'un utilisateur spÃ©cifique, lequel - nous ne sommes pas intÃ©ressÃ©s.  En consÃ©quence, son vecteur <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-27"> p_u </script>  sera corrigÃ©. </p><br><p>  Prenez maintenant n'importe quel film qu'il a regardÃ©, par exemple Interstellar.  Dans la formule, ce <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-28"> i </script>  .  Ensuite, nous trouvons un film que l'utilisateur considÃ¨re comme pire qu'Interstellar.  Nous pouvons choisir parmi "Attraction", "Alien", "PromÃ©thÃ©e", ou tout film qu'il n'a pas encore regardÃ©. </p><br><p><img src="https://habrastorage.org/webt/qv/mn/gm/qvmngmkgovxbalbbtbpdqjdnmrc.jpeg" alt="Illustration du dÃ©sordre"></p><br><p>  Prenez l 'Â«attractionÂ».  Dans la formule, ce <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-29"> j </script>  .  ,    Â«Â» <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-30">q_i</script>     ,    ,     Â«Â» <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>j</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.947ex" height="2.057ex" viewBox="0 -520.7 838.2 885.9" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>j</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-31">q_j</script>      .      .     Â«Â»,  Â«Â»    ,       . </p><br><p>   ,        ,  Â«Â».    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.024ex" height="2.66ex" viewBox="0 -832 2593.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="1413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="2204" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32">r(u, i)</script>         ,    . </p><br><p>       . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mo>&amp;#x2208;</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>&amp;#x2208;</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.093ex" height="5.672ex" viewBox="0 -1039.5 10804.1 2442.1" role="img" focusable="false" style="vertical-align: -3.258ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="959" y="0"></use><g transform="translate(2015,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJSZ2-2211" x="778" y="0"></use><g transform="translate(0,-1102)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2208" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-55" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="2007" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="2286" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2208" x="2631" y="0"></use><g transform="translate(2332,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="622" y="-213"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-3D5" x="5183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="5779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="6169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="6620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="7150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6B" x="7750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="8272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="8661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="9234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="9679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="10025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="10414" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><munder><mo>âˆ‘</mo><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mo>âˆˆ</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>âˆˆ</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>Ï•</mi><mo stretchy="false">(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-33">L = \sum_{u \in U, i \in I_u} \phi (rank(u, i))</script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo>:</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>N</mi></mrow><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>R</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.293ex" height="2.419ex" viewBox="0 -780.1 4431.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3A" x="874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJAMS-4E" x="1430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2192" x="2430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJAMS-52" x="3709" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Ï•</mi><mo>:</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">N</mi></mrow><mo stretchy="false">â†’</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-34">\phi: \mathbb{N} \to \mathbb{R}</script> â€”  ,      .     ,        .     ,  ,          . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.364ex" height="6.877ex" viewBox="0 -1662 5753.7 2960.8" role="img" focusable="false" style="vertical-align: -3.017ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="2225" y="0"></use><g transform="translate(3282,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJSZ2-2211" x="0" y="0"></use><g transform="translate(147,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="1124" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="735" y="1627"></use></g><g transform="translate(4726,0)"><g transform="translate(286,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="137" y="-686"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>Ï•</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>âˆ‘</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-35">\phi(x) = \sum_{i=1}^x \frac{1}{i}</script></p><br><p>    .       ? , ,        ,              ,           . </p><br><p>     :       .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">j</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.633ex" height="2.66ex" viewBox="-38.5 -832 6730.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="1465" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="1910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="2323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3C" x="2990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="4046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="4939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="5512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="5957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="6302" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-37">p(u, j) < p(u, i)</script>     ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.255ex" height="2.78ex" viewBox="0 -832 9151.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-27E8" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="1397" y="0"></use><g transform="translate(1842,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-27E9" x="2633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3C" x="3301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="4357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2B" x="5080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-27E8" x="6080" y="0"></use><g transform="translate(6470,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="7478" y="0"></use><g transform="translate(7923,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-27E9" x="8761" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">âŸ¨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">âŸ©</mo><mo>&lt;</mo><mn>1</mn><mo>+</mo><mo fence="false" stretchy="false">âŸ¨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence="false" stretchy="false">âŸ©</mo></math></span></span><script type="math/tex" id="MathJax-Element-38">\langle p_u , q_i \rangle < 1 + \langle p_u , q_j \rangle</script>  .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.066ex" height="2.178ex" viewBox="0 -780.1 2611.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="2111" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>âˆ’</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-39">N - 1</script>      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-40"> N </script> ,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">i</script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2248;</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230A;</mo><mfrac><mrow><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mo>&amp;#x2212;</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230B;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.327ex" height="5.431ex" viewBox="0 -1558.2 9613.2 2338.3" role="img" focusable="false" style="vertical-align: -1.812ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2248" x="4522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-230A" x="5579" y="0"></use><g transform="translate(6023,0)"><g transform="translate(120,0)"><rect stroke="none" width="2904" height="60" x="0" y="220"></rect><g transform="translate(60,719)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-7C" x="783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="2284" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-4E" x="1008" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-230B" x="9168" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>â‰ˆ</mo><mo fence="false" stretchy="false">âŒŠ</mo><mfrac><mrow><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo><mo>âˆ’</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence="false" stretchy="false">âŒ‹</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-42">rank(u, i) \approx \lfloor \frac{\lvert I \rvert - 1}{N} \rfloor</script></p><br><p>  oÃ¹ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.465ex" height="2.66ex" viewBox="0 -832 1061.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-7C" x="783" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo></math></span></span><script type="math/tex" id="MathJax-Element-43">\lvert I \rvert</script> â€”   . </p><br><p>   ,   ,         ,   . </p><br><p>     WARP        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WSABIE: Scaling Up To Large Vocabulary Image Annotation</a> .   ,          ,     .          10%. </p><br><p>     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.66ex" viewBox="0 -832 2659.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Ï</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-44">\rho(u, i)</script>  .  Okko       : </p><br><ol><li>  ; </li><li>   ; </li><li>    ( ); </li><li>   ; </li><li>    0  10. </li></ol><br><p>      ,          ,   .       399 ,  ,   .       ,     .      -,        . </p><br><p>  â€”  .      ,  explicit :               ,   .  ,   ,   implicit . </p><br><p>  ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.66ex" viewBox="0 -832 2659.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Ï</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-45">\rho(u, i)</script>    ,     .    .        ,     . </p><br><p><img src="https://habrastorage.org/webt/vm/qy/rx/vmqyrx0t4ts9hnrh6ixb2bc7e3w.png" alt="Exemples de graphiques de classement pour diffÃ©rents types de consommation"></p><br><p>  En mÃªme temps <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.091ex" height="2.66ex" viewBox="0 -832 5205.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="3993" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-63" x="4772" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Ï</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-46">\rho(u, i) = -c</script> ,          <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.283ex" height="2.66ex" viewBox="0 -832 4427.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-63" x="3993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Ï</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-47">\rho(u, i) = c</script> ,  . </p><br><p>     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cython</a> ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">LightFM</a> . </p><br><h2 id="vtoroy-etap-ranzhirovanie">  :  </h2><br><p><img src="https://habrastorage.org/webt/sf/p3/lm/sfp3lmbozxs5riogkbuwp9yuka8.jpeg"></p><br><p>     ,   top-N   :            .    ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Approximate nearest neighbor algorithm based on navigable small world graphs</a>        . </p><br><p>  , ,    ,    ,        .   ,       -  ,   .      :     ,   . </p><br><p> Ces problÃ¨mes sont Ã©vitÃ©s par les modÃ¨les de contenu.  Ils sont puissants, expressifs et vous pouvez y coller tous les signes, mais ils sont extrÃªmement lents.  La solution consiste Ã  exÃ©cuter le modÃ¨le de contenu non pas sur tous les Ã©lÃ©ments, mais sur des candidats issus de la dÃ©composition matricielle.  Il peut y avoir autant de candidats que vous parvenez Ã  traiter, mais de prÃ©fÃ©rence au moins deux fois plus que vous montrez aux utilisateurs.  Dans notre cas, pour les 100 films recommandÃ©s, la meilleure solution Ã©tait d'utiliser 400 candidats. </p><br><p><img src="https://habrastorage.org/webt/x8/yk/jg/x8ykjgbsvsfisy1-usfx9lsd7b4.jpeg"></p><br><p>  Les attributs que nous soumettons au modÃ¨le de contenu peuvent Ãªtre divisÃ©s en trois groupes: attributs utilisateur, attributs d'Ã©lÃ©ment et signes d'interaction.  Au total, environ 50 signes sont obtenus. </p><br><p>  En tant que signes d'utilisateurs, nous utilisons des statistiques agrÃ©gÃ©es de leur comportement dans le service, par exemple: </p><br><ul><li>  Pourcentage de vue d'abonnement </li><li>  distribution d'appareils Ã  partir desquels l'utilisateur se connecte Ã  l'application, </li><li>  durÃ©e de vie dans le service, </li><li>  etc. </li></ul><br><p>  Pour les films, nous utilisons presque toutes les mÃ©ta-informations disponibles: genre, annÃ©e de sortie, pays, acteur, rÃ©alisateur, limite d'Ã¢ge, etc. Les mesures commerciales agrÃ©gÃ©es sont Ã©galement utiles: pourcentage de visites sur la carte, nombre de vues, ajouts aux favoris, distribution par des mÃ©thodes de visualisation, des appareils, etc. </p><br><p>  Les signes d'interaction incluent la vitesse de l'Ã©tape de sÃ©lection des candidats et des statistiques agrÃ©gÃ©es pour toutes les interactions prÃ©cÃ©dentes avec les utilisateurs et les films avec la participation des mÃªmes acteurs, rÃ©alisateurs et scÃ©naristes que le film en question. </p><br><p>  La question la plus courante qui se pose lorsqu'il s'agit de classer les candidats avec un modÃ¨le de deuxiÃ¨me niveau est de savoir comment former ce modÃ¨le.  Dans le cas de la factorisation matricielle seule, nous avions besoin de deux ensembles, sÃ©parÃ©s par le temps - formation et test.  Dans le cas d'un systÃ¨me en deux Ã©tapes, nous en aurons besoin de trois - deux formations et un test. </p><br><p><img src="https://habrastorage.org/webt/8s/21/uq/8s21uqwknfro5hoexboth6n6f2y.png" alt="Illustration de la division des donnÃ©es en ensembles de formation et de test pour un modÃ¨le Ã  deux niveaux"></p><br><p>  Lors de la premiÃ¨re formation, nous formerons le modÃ¨le de premier niveau et formerons des candidats.  Des candidats, il est important d'exclure les Ã©lÃ©ments avec lesquels l'utilisateur a interagi dans cet ensemble.  Ensuite, nous verrons avec quels candidats l'utilisateur a interagi dans le deuxiÃ¨me ensemble de formation.  Nous les appelons positifs et les candidats restants nÃ©gatifs.  Ce sera notre ensemble de formation pour le modÃ¨le de contenu. </p><br><p><img src="https://habrastorage.org/webt/zd/dn/zw/zddnzwixuanlugakzjdv8hxe4j8.png" alt="Illustration de la formation d'un ensemble de formation pour un modÃ¨le Ã  deux niveaux"></p><br><p>  Pourquoi Ã§a marche?  PremiÃ¨rement, nous formons le modÃ¨le exactement sur les donnÃ©es sur lesquelles il sera utilisÃ© - la sortie du modÃ¨le de premier niveau.  DeuxiÃ¨mement, parmi tous les exemples nÃ©gatifs possibles, nous prenons les plus complexes - ceux que le modÃ¨le de premier niveau considÃ¨re comme pertinents pour l'utilisateur, mais ils ne le sont pas. </p><br><p>  Et ensuite?  La solution la plus simple et la plus Ã©vidente consiste Ã  rÃ©soudre le problÃ¨me de classification binaire, puis Ã  trier les Ã©lÃ©ments par ordre dÃ©croissant de probabilitÃ© pour Ãªtre un exemple positif.  Mais nous pouvons Ã  nouveau rappeler l'Ã©noncÃ© du problÃ¨me de la construction d'un systÃ¨me de recommandation, comprendre que la classification binaire n'est pas le problÃ¨me que nous rÃ©solvons et passer Ã  nouveau au problÃ¨me de classement. </p><br><p>  Dans XGBoost et LightGBM, la fonction de perte principale pour les tÃ¢ches de classement est LambdaMART.  Si vous n'entrez pas dans les dÃ©tails, l'intuition sous-jacente est assez simple.  Si <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.217ex" height="2.66ex" viewBox="0 -832 2246.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="550" y="0"></use><g transform="translate(940,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="1856" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-48"> f (x_i) </script>  - sortie modÃ¨le par exemple <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.129ex" height="1.817ex" viewBox="0 -520.7 916.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="809" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-49"> x_i </script>  , puis la probabilitÃ© que l'Ã©lÃ©ment <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-50"> i </script>  aura un rang supÃ©rieur Ã  l'Ã©lÃ©ment <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-51"> j </script>  sera Ã©gal </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>t</mi><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></mrow><mo>.</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.332ex" height="2.78ex" viewBox="0 -832 20379 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="345" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="1556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-50" x="2612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="3364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="3753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="4349" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="4829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="5191" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="5603" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="6270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-66" x="7577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-72" x="8127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-61" x="8579" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-63" x="9108" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="9542" y="0"></use><g transform="translate(10042,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2B" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-65" x="1973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="2439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-70" x="3012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="3515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-66" x="3905" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="4455" y="0"></use><g transform="translate(4845,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="5809" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="6421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-66" x="7422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="7972" y="0"></use><g transform="translate(8362,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="9278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="9668" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2E" x="20100" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>i</mi><mtext>&nbsp;</mtext><mi>g</mi><mi>t</mi><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>+</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><mo>.</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-52"> P_ {ij} = P (i \ gt j) = \ frac {1} {1 + \ exp (f (x_j) - f (x_i))}. </script></p><br><p>  La fonction de perte peut alors s'Ã©crire comme suit. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="39.584ex" height="2.78ex" viewBox="0 -832 17042.8 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="2015" y="0"></use><g transform="translate(2794,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="4261" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="4560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="5045" y="0"></use><g transform="translate(5526,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="7026" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="8027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="8416" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="9139" y="0"></use><g transform="translate(10140,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="11357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="11997" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6F" x="12295" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="12781" y="0"></use><g transform="translate(13261,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-2212" x="1112" y="0"></use><g transform="translate(2112,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-29" x="3391" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><mo>âˆ’</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>âˆ’</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-53"> L = - Y_ {ij} \ log {P_ {ij}} - (1 - Y_ {ij}) \ log {(1-P_ {ij})} </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.828ex" height="2.66ex" viewBox="0 -780.1 1217.5 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="345" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-54"> Y_ {ij} </script>  voici la vraie probabilitÃ© de classement.  Nous le dÃ©finirons comme 1 si <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>t</mi><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.297ex" height="2.298ex" viewBox="0 -728.2 1850 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="1076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="1437" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>g</mi><mi>t</mi><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-55"> i \ gt j </script>  , 0 si <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>t</mi><mi>g</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.032ex" height="2.419ex" viewBox="0 -780.1 1736 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6C" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-74" x="894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-67" x="1255" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>l</mi><mi>t</mi><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-56"> i \ lt g </script>  et 0,5 dans le cas <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>=</mo><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.859ex" height="2.298ex" viewBox="0 -728.2 2092.1 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMAIN-3D" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhikXs0fNS8I5fRQtbDkYBYgl3g46A#MJMATHI-6A" x="1679" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>=</mo><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-57"> i = j </script>  . </p><br><p>  Un modÃ¨le Ã  deux niveaux donne une augmentation de 50% des mesures par rapport Ã  un modÃ¨le Ã  un niveau.  La fonction de perte de classement ajoute 10% supplÃ©mentaires. </p><br><h2 id="bonus-pohozhie-filmy">  Bonus: films liÃ©s </h2><br><p>  Rappelez-vous, dans les avantages de notre approche, j'ai mentionnÃ© les vecteurs Â«libresÂ» de la factorisation matricielle qui peuvent Ãªtre utilisÃ©s pour rÃ©soudre des problÃ¨mes connexes?  Ainsi, l'une de ces tÃ¢ches - la recherche de films similaires - nous avons dÃ©cidÃ©. </p><br><p><img src="https://habrastorage.org/webt/pa/zp/bt/pazpbtfnwf1idcvg-qijo5wksac.jpeg" alt="Illustration d'une recherche de films similaires"></p><br><p>  La solution Ã  la honte est simple: pour chaque film, nous prenons son vecteur et recherchons les plus proches en cosinus.  Il semble tout Ã  fait adÃ©quat Ã  l'Å“il.  Le niveau suivant consiste Ã  ajouter des mÃ©ta-informations et Ã  utiliser des algorithmes graphiques. </p><br><p><img src="https://habrastorage.org/webt/ng/op/lf/ngoplf1c7oow_rrqxw6_lmujgwo.jpeg" alt="Films similaires Ã  Rekko et avec lui"></p><br><h2 id="tehnicheskaya-realizaciya">  ImplÃ©mentation technique </h2><br><p>  En plus de la partie algorithmique, je veux parler un peu de l'implÃ©mentation.  Rekko se compose de trois composants: lynch, rekko-tasks et rekko-service. </p><br><p>  Lynch s'exÃ©cute sur une machine puissante, se rÃ©veille pÃ©riodiquement, prÃ©pare les donnÃ©es pour le microservice et les place dans S3. </p><br><p>  Les microservices rekko-tasks et rekko-service se trouvent dans l'environnement du produit Okko, ainsi que tous les autres microservices et bases de donnÃ©es.  Le premier d'entre eux surveille constamment S3 pour les changements, le cas Ã©chÃ©ant, les tÃ©lÃ©charge et les met dans les bases d'Ã©picerie.  Le deuxiÃ¨me microservice utilise ces rÃ©sultats calculÃ©s afin de rÃ©pondre en temps rÃ©el aux demandes des utilisateurs et de calculer leurs recommandations. </p><br><p><img src="https://habrastorage.org/webt/i3/u3/ar/i3u3arrkx8ducuzbryj-efwzxmg.jpeg" alt="Architecture de service"></p><br><p>  Les microservices sont Ã©crits en Python en utilisant Falcon, Gunicorn et Gevent et ne reprÃ©sentent rien d'intÃ©ressant, sauf pour la logique mÃ©tier.  Comme tous les autres microservices de l'environnement du produit Okko, ils sont fermÃ©s par l'Ã©quilibreur. </p><br><p>  Lynch est beaucoup plus intÃ©ressant. </p><br><p>  Que faut-il faire pour calculer la prochaine partie des recommandations pour les utilisateurs?  Au moins: </p><br><ol><li>  TÃ©lÃ©chargez les nouvelles donnÃ©es apparues depuis le dernier recomptage; </li><li>  Traitez-les; </li><li>  Former la factorisation matricielle; </li><li>  Construire des candidats </li><li>  RÃ©organiser les candidats; </li><li>  Appliquer des rÃ¨gles mÃ©tier </li><li>  DÃ©chargez. </li></ol><br><p>  Il semble que cela ne semble pas effrayant, vous pouvez mettre chaque partie dans une fonction distincte et simplement les appeler Ã  tour de rÃ´le: </p><br><pre><code class="python hljs">data = extract_data() data = transform_data(data) mf_model = train_mf_model(data) candidates = build_candidates(mf_model) predictions = build_predictions(content_model, candidates) upload_predictions(predictions)</code> </pre> <br><p>  Eh bien, tout a fait du bon travail, sommes-nous en dÃ©saccord?  Pas vraiment.  Mais que faire si toute la feuille tombe quelque part?  Eh bien, par exemple, en raison d'un manque de mÃ©moire.  Nous devrons tout recommencer, mÃªme si nous avons dÃ©jÃ  passÃ© quelques heures Ã  former le modÃ¨le et Ã  construire des candidats. </p><br><p>  Eh bien, sauvegardons tous les rÃ©sultats intermÃ©diaires dans des fichiers, et aprÃ¨s la chute, vÃ©rifions ceux qui existent dÃ©jÃ , restaurons l'Ã©tat et commenÃ§ons les calculs au bon moment.  En fait, cette idÃ©e est encore pire que la prÃ©cÃ©dente.  Un programme peut Ãªtre interrompu au cours de l'Ã©criture dans un fichier, et bien qu'il existe, il sera dans un Ã©tat incorrect.  Dans le meilleur des cas, tout le calcul tombera; dans le pire, il se terminera avec un mauvais rÃ©sultat. </p><br><p>  Ok, Ã©crivons dans le fichier atomique.  Et nous supprimons chaque fonction dans une entitÃ© distincte et indiquons les dÃ©pendances entre elles.  Le rÃ©sultat est une chaÃ®ne de calculs dont chaque Ã©lÃ©ment peut Ãªtre effectuÃ© ou non. </p><br><p><img src="https://habrastorage.org/webt/le/ou/1r/leou1rkpcgl-g9mkkwygytfgwvu.jpeg" alt="Illustration des tÃ¢ches dÃ©pendantes"></p><br><p>  DÃ©jÃ  pas mal.  Mais en rÃ©alitÃ©, tous les calculs nÃ©cessaires ne seront guÃ¨re dÃ©crits par une liste.  L'apprentissage de la factorisation matricielle nÃ©cessitera non seulement des donnÃ©es de transaction, mais aussi des Ã©valuations des utilisateurs, les candidats Ã  la construction auront besoin d'une liste de films mÃ©morisÃ©s pour les exclure, le calcul de films similaires nÃ©cessitera une factorisation matricielle et des mÃ©ta-informations du catalogue, etc.  Nos tÃ¢ches ne sont plus construites dans une liste simplement connectÃ©e, mais dans un graphe orientÃ© sans cycles (graphe acyclique dirigÃ©, DAG). </p><br><p><img src="https://habrastorage.org/webt/-e/cc/nw/-eccnwex1lkhzeha9qwnk0er6au.jpeg" alt="Illustration du dag"></p><br><p>  DAG est une organisation informatique extrÃªmement populaire.  Il existe deux principaux cadres pour la construction d'un DAG: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Airflow</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Luigi</a> .  Chez Okko, nous nous sommes installÃ©s sur ce dernier.  Luigi est dÃ©veloppÃ© chez Spotify, se dÃ©veloppe activement, est entiÃ¨rement Ã©crit en python, est facilement extensible et vous permet d'organiser les calculs de maniÃ¨re trÃ¨s flexible. </p><br><p>  Une tÃ¢che dans Luigi est dÃ©finie par une classe qui hÃ©rite de <code>luigi.Task</code> et implÃ©mente trois mÃ©thodes requises: <code>luigi.Task</code> , <code>output</code> et <code>run</code> .  Voici Ã  quoi ressemble une tÃ¢che typique: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># RekkoTask  luigi.Task   class DoSomething(RekkoTask): #   date: datetime.datetime = luigi.DateSecondParameter() #   resources = { 'cores': 4, 'aws': 1, 'memory': 8 } # Namespace     task_namespace = 'Transform' def requires(self): # ,          return { 'data': DownloadData(date=self.date), 'element_mapping': MakeElementMapping(date=self.date) } def output(self): #      #       ,        s3 return luigi.LocalTarget( os.path.join(self.data_root, f'some_output_{self.date}.msg'), format=luigi.format.Nop ) def run(self): #  ,     #      with self.input()['data'].open('r') as f: data = pd.read_csv(f) with self.input()['element_mapping'].open('r') as f: element_mapping = json.load(f) #       result = ... #         Splunk self.log( n_results=len(result) ) #    with self.output().open('w') as f: result.to_msgpack(f)</span></span></code> </pre> <br><p>  Luigi s'assurera que les tÃ¢ches sont exÃ©cutÃ©es dans le bon ordre sans dÃ©passer la consommation des ressources disponibles.  Si les tÃ¢ches peuvent Ãªtre effectuÃ©es en parallÃ¨le, il les exÃ©cutera en parallÃ¨le, maximisant l'utilisation du processeur et minimisant le temps d'exÃ©cution global.  Si une tÃ¢che Ã©choue, il la redÃ©marrera plusieurs fois et en cas d'Ã©chec nous en informera.  Dans ce cas, toutes les tÃ¢ches pouvant Ãªtre effectuÃ©es seront exÃ©cutÃ©es.  Cela signifie, par exemple, qu'une erreur dans la tÃ¢che de classement des candidats n'empÃªche pas de compter et de tÃ©lÃ©charger une liste de films similaires. </p><br><p>  Actuellement, Lynch se compose de 47 tÃ¢ches uniques, produisant environ 100 de ses copies.  Certains d'entre eux sont occupÃ©s Ã  travailler directement, certains comptent les mÃ©triques et les envoient Ã  notre outil Splunk BI.  Lynch nous envoie Ã©galement pÃ©riodiquement des statistiques de base et des rapports sur son travail par tÃ©lÃ©gramme.  Il Ã©crit Ã©galement sur les erreurs, mais en PM. </p><br><h2 id="monitoring-splity-i-rezultaty">  Suivi, rÃ©partition et rÃ©sultats </h2><br><p><img src="https://habrastorage.org/webt/lc/3p/5j/lc3p5jberk7xqscaocnrr01bxja.jpeg"></p><br><p>  La premiÃ¨re rÃ¨gle de la Data Science: Ne parlez Ã  personne des salaires en Data Science.  DeuxiÃ¨me rÃ¨gle de la Data Science: ce qui ne peut pas Ãªtre mesurÃ© ne peut pas Ãªtre amÃ©liorÃ©. </p><br><p>  Nous essayons de garder une trace de tout.  Tout d'abord, cela, bien sÃ»r, le classement des mÃ©triques sur les donnÃ©es historiques.  Ils aident mÃªme au stade de la recherche Ã  choisir le meilleur modÃ¨le parmi plusieurs et Ã  choisir des hyper paramÃ¨tres pour celui-ci. </p><br><p>  Pour les modÃ¨les travaillant en production, nous considÃ©rons Ã©galement les mÃ©triques, mais dÃ©jÃ  au jour le jour.  De telles mÃ©triques sont assez volatiles, mais elles peuvent le dire si le modÃ¨le se dÃ©grade soudainement pour une raison quelconque.  Lorsqu'un nouveau modÃ¨le est lancÃ© dans la prod, vous pouvez le laisser inactif pendant une semaine et vous assurer que les mÃ©triques ne s'affaissent pas.  AprÃ¨s cela, vous pouvez l'activer pour certains utilisateurs, exÃ©cuter le test A / B et surveiller les mesures commerciales dÃ©jÃ . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/655/c71/0c9/655c710c96fa12b795f4a0457d592b47.png"></p><br><p>  De plus, nous considÃ©rons la distribution des recommandations par genre, pays, annÃ©e, type, etc. Cela nous permet de comprendre la nature actuelle des prÃ©fÃ©rences des utilisateurs, de les comparer avec des donnÃ©es de visualisation rÃ©elles et de dÃ©tecter les erreurs dans les rÃ¨gles commerciales. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b0c/494/02a/b0c49402add8febc6b6d667e766f32df.png"></p><br><p>  Il est Ã©galement important de garder une trace de la distribution de tous les caractÃ¨res utilisÃ©s.  Un changement brutal peut Ãªtre causÃ© par une erreur dans la source de donnÃ©es et conduire Ã  des rÃ©sultats imprÃ©visibles. </p><br><p>  Mais, bien sÃ»r, la chose la plus importante qui nÃ©cessite une attention particuliÃ¨re est les mesures commerciales.  Dans le cadre du systÃ¨me de recommandations, les principales mesures commerciales pour nous sont: </p><br><ol><li>  Revenus des modÃ¨les de consommation transactionnelle et d'abonnement (revenus TVOD / SVOD); </li><li>  Revenu moyen par visiteur (revenu moyen par visiteur, ARPV); </li><li>  Le chÃ¨que moyen (prix moyen par achat, APPP); </li><li>  Achats moyens par utilisateur (APPU); </li><li>  Conversion Ã  l'achat (CR Ã  l'achat); </li><li>  Conversion en vue par abonnement (CR Ã  regarder); </li><li>  Conversion pendant la pÃ©riode d'essai (CR en essai). </li></ol><br><p>  Dans le mÃªme temps, nous examinons sÃ©parÃ©ment les mÃ©triques des sections Â«RecommandationsÂ» et Â«SimilaireÂ» et les mÃ©triques de l'ensemble du service afin de prendre en compte l'effet de redistribution et de considÃ©rer la situation sous diffÃ©rents angles. </p><br><p>  Cela peut ressembler Ã  un tableau de bord comparant plusieurs modÃ¨les: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fd7/fcd/79f/fd7fcd79f0d63925319dc394844b6dc4.jpg"></p><br><p>  Comme je l'ai dit au dÃ©but, nous comparons non seulement les modÃ¨les entre eux, mais aussi un groupe d'utilisateurs avec des recommandations par rapport Ã  un groupe d'utilisateurs sans recommandations.  Cela nous permet d'Ã©valuer l'effet net de la mise en Å“uvre de Rekko et de comprendre oÃ¹ nous en sommes actuellement et quelle marge d'amÃ©lioration reste.  Selon ce test A / B, nous avons actuellement: </p><br><ul><li>  ARPV + 3,5% </li><li>  ARPV avec marge + 5% </li><li>  APPU + 4,3% </li><li>  CR Ã  l'essai + 2,6% </li><li>  CR Ã  surveiller + 2,5% </li><li>  APPP -1% </li></ul><br><p>  Les films d'un cinÃ©ma en ligne peuvent Ãªtre divisÃ©s en deux groupes: les nouveaux Ã©lÃ©ments et les anciens contenus.  Nous savons dÃ©jÃ  comment vendre de bonnes nouvelles.  Le but principal des recommandations personnelles est d'obtenir du contenu ancien pertinent pour les utilisateurs du catalogue.  Cela conduit Ã  une augmentation du nombre d'achats et de l'affaissement du chÃ¨que moyen, car un tel contenu est naturellement moins cher.  Mais un tel contenu a Ã©galement une marge Ã©levÃ©e, ce qui compense l'affaissement du chÃ¨que et donne une augmentation des revenus. </p><br><p>  Un contenu d'abonnement plus pertinent a entraÃ®nÃ© une augmentation des conversions pendant la pÃ©riode d'essai et une visualisation par abonnement. </p><br><h2 id="rekko-challenge">  DÃ©fi Rekko </h2><br><p>  Du 18 fÃ©vrier au 18 avril 2019, en collaboration avec la plateforme Boosters, nous avons organisÃ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le</a> Rekko Challenge, oÃ¹ nous avons invitÃ© les participants Ã  crÃ©er un systÃ¨me de recommandation basÃ© sur des donnÃ©es de produit anonymisÃ©es. </p><br><p><img src="https://habrastorage.org/webt/lc/93/ef/lc93efrsjm1w45ud7ftqev9leus.png" alt="Tableau des gagnants du dÃ©fi rekko"></p><br><p>  On s'attend Ã  ce que les participants qui ont construit un systÃ¨me Ã  deux niveaux semblable au nÃ´tre soient parmi les premiers.  Les gagnants qui ont pris les premiÃ¨re et troisiÃ¨me places ont rÃ©ussi Ã  complÃ©ter l'ensemble RNN.  Et le participant de la huitiÃ¨me place a rÃ©ussi Ã  grimper dessus en utilisant uniquement des modÃ¨les de filtrage collaboratif. </p><br><p>  Evgeni Smirnov, qui a pris la deuxiÃ¨me place du concours, a Ã©crit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un article dans</a> lequel il parlait de sa dÃ©cision. </p><br><p>  Ã€ l'heure actuelle, le concours est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">disponible</a> sous la forme d'un bac Ã  sable, de sorte que tous ceux qui sont intÃ©ressÃ©s par les systÃ¨mes de recommandation peuvent s'y essayer et acquÃ©rir une expÃ©rience utile. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Avec cet article, je voulais vous montrer que les systÃ¨mes de recommandation en production ne sont pas du tout difficiles, mais amusants et rentables.  L'essentiel est de penser aux objectifs, pas aux moyens de les atteindre et de tout mesurer en permanence. </p><br><p>  Dans de futurs articles, nous vous en dirons encore plus sur la cuisine intÃ©rieure Okko, alors n'oubliez pas de vous abonner et d'aimer. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr454224/">https://habr.com/ru/post/fr454224/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr454210/index.html">Enchantjs oubliÃ©s + nouveau 1C-Bitrix = Jeu pour la motivation du client</a></li>
<li><a href="../fr454214/index.html">Je dÃ©teste presque tous les logiciels</a></li>
<li><a href="../fr454216/index.html">Preuve trouvÃ©e que tous les changements sont un mÃ©lange d'ordre et de chance</a></li>
<li><a href="../fr454220/index.html">ThermomÃ¨tre Ã  deux chiffres</a></li>
<li><a href="../fr454222/index.html">Mettez Ã  niveau le sous-systÃ¨me de disque de l'ancien serveur avec le bus PCIe 1.0 - 2.0</a></li>
<li><a href="../fr454226/index.html">MÃ©moire sur domaines magnÃ©tiques cylindriques. Partie 1. Principe de travail</a></li>
<li><a href="../fr454232/index.html">POO dans les langages de programmation graphique. Partie 2 MOS et OOP</a></li>
<li><a href="../fr454236/index.html">Deux histoires sur la faÃ§on dont ANKI peut vous aider Ã  apprendre une langue Ã©trangÃ¨re et Ã  vous prÃ©parer Ã  un entretien</a></li>
<li><a href="../fr454238/index.html">Marvin Minsky "The Emotion Machine" (traduction Habra, Round Two)</a></li>
<li><a href="../fr454240/index.html">Analyse des ondelettes. 3e partie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>