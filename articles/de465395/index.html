<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📡 ♨️ ☝🏽 Was ist der Hauptunterschied zwischen Dependency Injection und Service Locator? 👨🏽‍🏫 ⁉️ ☔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ha, was für eine anmutige Verkleidung des Service Locator unter DI. Es könnte sogar wie ein DI erscheinen! :-) 

 Dies ist der erste Kommentar zu mein...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Was ist der Hauptunterschied zwischen Dependency Injection und Service Locator?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465395/"><blockquote>  Ha, was für eine anmutige Verkleidung des Service Locator unter DI.  Es könnte sogar wie ein DI erscheinen!  :-) </blockquote><p>  Dies ist der erste Kommentar zu meiner vorherigen Veröffentlichung, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dependency Injection, JavaScript und ES6 Modules</a> .  Vielen Dank an Kollegen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Symbix</a> 'u für diesen Kommentar, tk.  er war es, der die Ursache für das Eintauchen in die Feinheiten des Unterschieds zwischen dem einen und dem anderen wurde.  Unter dem Schnitt meine Antwort auf die Frage im Titel. </p><br><p><img src="https://habrastorage.org/webt/v3/8k/ax/v38kaxu_rzz_k0hweljvwl5n6vi.jpeg" alt="Bild"></p><br><p>  <em>(KDPV macht wenig Sinn und ist unter anderem in erster Linie zur visuellen Identifizierung dieser Publikation gedacht)</em> </p><a name="habracut"></a><br><p>  Zunächst werden wir uns mit den Definitionen befassen ( <em>einige der Codebeispiele, die ich in PHP bereitstellen werde, einige in JS, da diese beiden Sprachen derzeit in meinem aktiven Gepäck sind, und einige in anderen, weil ich diese Beispiele aus dem Internet gestohlen habe</em> ). </p><br><h1 id="dependency-injection">  Abhängigkeitsinjektion </h1><br><blockquote> DI auf den Punkt gebracht - Anstelle des Require / Import-Moduls fügen Sie die Abhängigkeit über den Konstruktorparameter (oder den Eigenschaftssetzer) ein.  Das heißt, hinter diesem großen Wort stehen die einfachen „Klassenabhängigkeiten durch Konstruktorparameter übergeben“. </blockquote><p>  Dieser Kommentar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">des</a> Kollegen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">risedphantom</a> vermittelt ziemlich genau die Essenz des Phänomens.  Um dem Entwickler das Verständnis des Codes zu erleichtern, werden alle Abhängigkeiten explizit beschrieben - in Form von Konstruktorparametern (normalerweise, aber nicht immer): </p><br><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($dep1, $dep2, $dep3)</span></span></span><span class="hljs-function"> </span></span>{} }</code> </pre> <br><p>  Das ist alles.  DI - er ist darüber.  Die Abhängigkeiten, die wir brauchen, werden von jemandem dort bereitgestellt.  Und wohin bringt sie dieser „Jemand da draußen“ - DI ist das egal. </p><br><p>  Bei der Analyse des Codes ist es wichtig zu verstehen, was genau „intern“ ist (und was wir sicher ändern können) und was über die Verantwortung dieses Codes hinausgeht / geht.  Das ist es, was DI begeistert.  Warum werden Abhängigkeiten meistens durch den Konstruktor und nicht in Setzern übergeben?  Weil es für den Entwickler bequemer ist, sieht er sofort alle Abhängigkeiten des analysierten Codes an einem Ort.  Wir sind es gewohnt zu denken, dass DI etwas auf Klassenebene ist, aber Funktions- / Methodenparameter sind auch DI: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dep1, dep2, dep3</span></span></span><span class="hljs-function">) </span></span>{}</code> </pre> <br><p>  Ein Konstruktor ist unter allen anderen eine so spezielle Methode. </p><br><h1 id="service-locator">  Service Locator </h1><br><p>  Service Locator ist ein bekanntes Anti-Pattern.  Was macht er  Bietet Zugriff auf ein Objekt für andere Objekte.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist eine</a> typische Schnittstelle für einen solchen Locator: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ServiceLocator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addInstance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $class, Service $service)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $class, array $params)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">has</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $interface)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $class)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Service</span></span></span></span>; }</code> </pre> <br><p>  Ein Locator ist ein Container, in den Sie vorgefertigte Objekte einfügen (oder die Regeln für deren Erstellung festlegen) und dann auf diese Objekte zugreifen können.  Für einen Locator spielt es im Großen und Ganzen keine Rolle, wie die Objekte darin angezeigt werden - sie werden explizit von außen erstellt und in den Container gestellt oder vom Container selbst gemäß den angegebenen Regeln erstellt. </p><br><p>  Der Service Locator ist dafür verantwortlich, Objekte zu speichern und Zugriff darauf zu gewähren.  Das ist alles. </p><br><h1 id="dependency-injection-container">  Abhängigkeitsinjektionscontainer </h1><br><p>  Was ist ein DI-Container?  Laut einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Freeware-Nacherzählung des</a> Inhalts von " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prinzipien, Praktiken und Mustern</a> der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Abhängigkeitsinjektion</a> ": <em>"Eine Softwarebibliothek, die DI-Funktionalität bietet und die Automatisierung vieler Aufgaben im Zusammenhang mit Objektzusammensetzung, Abfangen und Lebensdauerverwaltung ermöglicht. DI-Container werden auch als Inversion von bezeichnet Kontrollcontainer (IoC). (§3.2.2) "</em> </p><br><p>  Das heißt, der DI-Container ist in erster Linie für die Erstellung von Objekten verantwortlich, aber nur im zweiten - für deren Speicherung.  In einem DI-Container werden möglicherweise überhaupt keine erstellten Objekte gespeichert, wenn die Anwendung selbst keine Objekte benötigt, die der gesamten Anwendung gemeinsam sind (z. B. eine Konfiguration oder ein Logger). </p><br><p>  Hier ist zum Beispiel die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symfony</a> DI-Containerschnittstelle: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContainerInterface</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PsrContainerInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $id, ?object $service)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id, int $invalidBehavior = self::EXCEPTION_ON_INVALID_REFERENCE)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">has</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialized</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $id)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getParameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasParameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setParameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name, $value)</span></span></span></span>; }</code> </pre> <br><p>  Bei Bedarf können Sie sich sehr leicht davon überzeugen, dass die Schnittstelle des DI-Containers der Schnittstelle der Locator-Dienste sehr ähnlich ist - das gleiche <code>get</code> , <code>has</code> und <code>set</code> / <code>add</code> . </p><br><h1 id="chem-zhe-ploh-service-locator">  Warum ist der Service Locator schlecht? </h1><br><p>  Aber nichts.  Nicht die Vorlage selbst ist schlecht, aber die Art und Weise, wie sie manchmal verwendet wird.  Insbesondere gibt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">es die Meinung,</a> dass " <em>Service Locator die Kapselung in statisch typisierten Sprachen verletzt, weil dieses Muster die Voraussetzungen nicht klar ausdrückt</em> ."  Und ein Beispiel Verstoß: </p><br><pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> OrderProcessor : IOrderProcessor { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> void Process(Order order) { var validator = Locator.Resolve&lt;IOrderValidator&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validator.Validate(order)) { var shipper = Locator.Resolve&lt;IOrderShipper&gt;(); shipper.Ship(order); } } }</code> </pre> <br><p>  Das ist so schlecht, aber gut - so: </p><br><pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> OrderProcessor : IOrderProcessor { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> OrderProcessor(IOrderValidator validator, IOrderShipper shipper) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> void Process(Order order) }</code> </pre> <br><p>  Hey, wir haben gerade die Klammern des Augenblicks des Erstellens der Objekte mit den <code>IOrderShipper</code> <code>IOrderValidator</code> und <code>IOrderShipper</code> !  Es ist möglich, dass es in dieser Anwendung irgendwo anders so etwas wie diesen Code gibt: </p><br><pre> <code class="vbscript hljs">var validator = Locator.Resolve&lt;IOrderValidator&gt;(); var shipper = Locator.Resolve&lt;IOrderShipper&gt;(); var processor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrderProcessor(validator, shipper); processor.Process(order);</code> </pre> <br><h1 id="composition-root">  Kompositionswurzel </h1><br><p>  Apropos Abhängigkeitsinjektion: Wir können nicht anders, als zu einem Konzept wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Composition Root zu gelangen</a> (im Folgenden werde ich es den "Sammelpunkt" nennen).  Dies ist derselbe „ <em>Jemand</em> “, an den die Verantwortlichkeiten für das Erstellen von Abhängigkeiten und deren Implementierung delegiert sind. </p><br><p>  Am Sammelpunkt werden alle Abhängigkeiten explizit definiert, die entsprechenden Objekte werden dort erstellt und implementiert, wo sie warten.  Hier sind die Unterschiede zwischen dem Services Locator und dem DI-Container minimal.  Sowohl das als auch ein anderes ermöglichen das Erstellen neuer Objekte, das Speichern der erstellten Objekte und das Extrahieren gespeicherter Objekte.  Ich würde mich sogar verpflichten zu behaupten, dass es an dieser Stelle keine grundlegenden Unterschiede zwischen ihnen gibt. </p><br><h1 id="glavnoe-otlichie">  Der Hauptunterschied </h1><br><p>  Und wo sind die Unterschiede zwischen dem DI-Container und dem Container des Services Locator am offensichtlichsten?  An jedem anderen Ort und insbesondere bei statischem Zugang zum Container: </p><br><pre> <code class="php hljs">$obj = Container::getInstance()-&gt;get($objId);</code> </pre> <br><p>  Hier ist es.  In dieser Form wird jeder Container überall (es sei denn, es handelt sich um einen Sammelpunkt, aber die Verwendung eines statischen Zugriffs ist dort sehr zweifelhaft) zu einem Anti-Pattern namens Service Locator. </p><br><p>  Ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">VolCh-</a> Kollege beantwortete meine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Frage</a> kurz und prägnant: </p><br><blockquote>  Und wie unterscheidet sich True DI Ihrer Meinung nach von einem als DI getarnten Service Locator? </blockquote><p>  so: </p><br><blockquote>  Containerzugang </blockquote><p>  Tatsächlich ist diese gesamte Veröffentlichung nur eine detailliertere Darstellung seiner Antwort hier. </p><br><h1 id="legalnoe-primenenie-konteynera">  Legale Verwendung des Containers </h1><br><p>  Ob ein Container ein DI-Container oder ein Container für den Services Locator ist, hängt daher stark davon ab, wo und wie wir ihn verwenden.  Wie ich oben sagte, verschwindet am Sammelpunkt der Unterschied zwischen den Containertypen.  Aber was übergeben wir, wenn der Container selbst eine Abhängigkeit für eine Klasse ist? </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Container $container)</span></span></span></span>{} }</code> </pre> <br><p>  Auch hier hängt alles davon ab, wie wir den Container verwenden.  Hier sind zwei Beispiele, von denen eines genau zum Container des Services Locator passt und ein Anti-Pattern ist, während das andere unter bestimmten Bedingungen das Recht auf Leben hat. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $dep; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Container $container)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;dep = $container-&gt;get(<span class="hljs-string"><span class="hljs-string">'depId'</span></span>); } }</code> </pre> <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $container; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Container $container)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container = $container; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initModules</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($modules)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($modules <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $initClassId) { $init= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container-&gt;get($initClassId); $init-&gt;exec(); } } }</code> </pre> <br><h1 id="rezyume">  Zusammenfassung </h1><br><p>  Tatsächlich ist alles etwas komplizierter, der DI-Container sollte mehr Funktionen als der Services Locator haben, aber das Wesentliche dieser Veröffentlichung ist, dass selbst der anspruchsvollste DI-Container problemlos als Services Locator verwendet werden kann, aber um den Services Locator zu verwenden als DI-Container - müssen Sie versuchen. </p><br><p>  PS <br>  Ich kann nicht anders, als Links zu Sergei Teplyakovs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Programmierblog</a> bereitzustellen - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diese Themen</a> werden dort sehr gut behandelt. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465395/">https://habr.com/ru/post/de465395/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465375/index.html">Verkauf von dedizierten Servern in den Niederlanden und in Moskau</a></li>
<li><a href="../de465377/index.html">Mach es selbst Skype</a></li>
<li><a href="../de465379/index.html">Selbstgemachte drahtlose eigenständige Insulinpumpensteuerung</a></li>
<li><a href="../de465391/index.html">Auf den Spuren der russischen Scala-Bewegung. Teil 1</a></li>
<li><a href="../de465393/index.html">Batterieleistung für MySensors-Geräte</a></li>
<li><a href="../de465397/index.html">Wie ist der Nitro-Übersetzer entstanden, der Entwicklern bei der Lokalisierung und beim technischen Support hilft?</a></li>
<li><a href="../de465399/index.html">Stellen Sie verteilten CEPH-Speicher bereit und verbinden Sie ihn mit Kubernetes</a></li>
<li><a href="../de465401/index.html">5 Aktivitäten zur Beschleunigung der Problemlösung in einem beliebigen IT-Team</a></li>
<li><a href="../de465403/index.html">Achtung! Neue Kameras unterwegs oder aktuelle Informationen zu Radargeräten und Radarwarnern</a></li>
<li><a href="../de465407/index.html">1. Übersicht über Extreme Enterprise Layer Switches</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>