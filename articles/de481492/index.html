<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéâ üõ°Ô∏è üë©üèª‚Äçü§ù‚Äçüë®üèø Wir sammeln Farbmusik f√ºr das neue Jahr üö≠ üé¥ üë∑üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! 

 Bald ein neues Jahr und Sie m√ºssen irgendwie Ihr Zimmer f√ºr den Urlaub auf originelle Weise dekorieren. Daf√ºr ist Farbmusik ideal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir sammeln Farbmusik f√ºr das neue Jahr</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481492/"><img src="https://habrastorage.org/webt/89/fm/hs/89fmhsgai0nji3ug9sgpkh0b7du.jpeg" alt="Bild"><br><br>  Hallo allerseits! <br><br>  Bald ein neues Jahr und Sie m√ºssen irgendwie Ihr Zimmer f√ºr den Urlaub auf originelle Weise dekorieren.  Daf√ºr ist Farbmusik ideal, basierend auf Arduino und ws2812b LED-Streifen. <a name="habracut"></a><br><br>  Ich habe letztes Jahr Farbmusik gesammelt. Die Montage dauerte ungef√§hr 3 Stunden. Ich verbrachte viel Zeit damit, den Code zu analysieren und zu modifizieren, und machte einen Ausflug in den Laden, um ein Aluminiumprofil und Kn√∂pfe zu bekommen. <br><br>  Die Besonderheit dieser Farbmusik besteht darin, dass sie nicht an die Quelle des Audiosignals angeschlossen werden muss, da sie dank des eingebauten Mikrofonmoduls MAX9812 Audiodaten empf√§ngt.  Es ist √ºber einen Spannungsverst√§rker mit dem Arduino ADC verbunden.  Der Verst√§rker ist auf einem KT3102-Transistor aufgebaut, der viele fremde Analoga enth√§lt. <br><br>  Es gibt zwei Schaltfl√§chen zum Ausw√§hlen von Modi in den Farben Musik, Farbe und Muster.  Die Farbtaste schaltet die Farbschemata um, es gibt nur drei, und die Paterntaste schaltet die dynamischen Modi der Farbmusik um, es gibt nur acht. <br><br>  Zur Einstellung der Empfindlichkeit und Helligkeit ist ein Param-Potentiometer eingebaut, bei dem es sich um einen variablen Widerstand mit einem variablen Widerstandswert von 0 bis 10 kOhm handelt.  Es ist auch mit dem ADC verbunden und abh√§ngig von seiner Position erfolgt eine Software-Verarbeitung der Parameter.  Sie k√∂nnen den Code √§ndern und einen Encoder anstelle eines Potentiometers installieren, dies wird jedoch bereits in einem anderen Projekt implementiert. <br><br>  In den Einstellungen k√∂nnen Sie auch die Anzahl der im Band verwendeten LEDs 60, 120 oder 180 ausw√§hlen und das Frequenzfilter auf 8 Frequenzbereiche einstellen. Hierzu wird ein Software-Frequenzfilter verwendet, das auf dem schnellen Fourier-Transformationsalgorithmus basiert. <br><br>  Der LED-Streifen basiert auf vollfarbigen, ansteuerbaren LEDs der Serie ws2812b.  F√ºr die Dichte des Bandes habe ich 60 LEDs pro 1 Meter gew√§hlt.  Meiner Meinung nach ist dies das optimale Verh√§ltnis f√ºr viele Aufgaben.  Die Leistung von LED-Streifen sollte ernst genommen werden, da sie maximal 3,6 A pro Meter verbraucht.  Nat√ºrlich ist die Wahrscheinlichkeit eines solchen Szenarios, dass die Farbmusik alle LEDs in Wei√ü einschaltet und immer noch mit voller Leistung ist, Null.  Trotzdem ist es besser, sofort eine gute Stromversorgung zu bekommen.  Mindestens 5 Volt und 5 Ampere. <br><br>  <b>Farbmusikschema.</b> <br><img src="https://habrastorage.org/webt/4-/m5/y8/4-m5y8agsti4srvp-3hv8kncrew.png" alt="Bild"><br><br>  Das Schema hat nichts Besonderes zu kommentieren.  Es ist nur erforderlich, den Mittelpunkt des Verst√§rkers am KT3102-Transistor einzustellen.  Die Einstellung reduziert sich auf die Auswahl eines Bias-Widerstandes von 200 kOhm oder eines Lastwiderstandes von 1 kOhm, Sie m√ºssen die halbe Versorgungsspannung am Transistorkollektor oder Eingang A0 erreichen.  Der Transistor kann durch ein beliebiges npn-Analog ersetzt werden. <br><br>  Es ist besser, ein lineares Potentiometer mit einem Widerstand von 10 bis 50 kOhm zu verwenden. <br><br>  Wenn Sie den Arduino pro Mini-Controller in Ihrem Projekt verwenden, l√∂ten Sie sofort den 0,1 ŒºF Keramikkondensator auf den 20. Pin (ARef) des ATmega328-Mikrocontrollers.  Wenn Sie Arduino Nano verwenden, m√ºssen Sie den Kondensator nicht l√∂ten, er ist bereits auf dieser Platine gel√∂tet. <br><br>  <b>Hauptkomponenten</b> <br><br>  <a href="https://duino.ru/arduino-pro-mini.html" rel="nofollow">Arduino Pro Mini</a> <br>  <a href="https://duino.ru/svetodiodnaya-lenta-ws2812b" rel="nofollow">LED-Streifenlicht auf WS2812B</a> <br>  <a href="https://duino.ru/modul-mikrofon-s-usilitelem" rel="nofollow">Mikrofon mit Verst√§rker</a> <br>  <a href="https://duino.ru/potentsiometr---peremennyy-rezistor-s-ruchkoy" rel="nofollow">20 kŒ© Potentiometer</a> <br>  <a href="https://duino.ru/ac-dc--220v-5v-5a" rel="nofollow">5V, 5A Netzteil</a> <br><br>  <b>Skizze f√ºr Arduino</b> <br><br>  Ich habe in meinem Projekt den <a href="" rel="nofollow">Lumazoid-Farbmusikcode</a> mit geringf√ºgigen √Ñnderungen verwendet.  Die Originalskizze kann von <a href="" rel="nofollow">github</a> heruntergeladen <a href="" rel="nofollow">werden</a> . <br><br>  Sie m√ºssen auch die zus√§tzlichen Bibliotheken <a href="" rel="nofollow">NeoPixel.h</a> und <a href="" rel="nofollow">ffft.h</a> zum im Projekt verwendeten Bibliotheksordner <a href="" rel="nofollow">hinzuf√ºgen</a> <br><br>  Wenn Sie die Parameter Ihres LED-Streifens nicht in der Skizze registriert haben, k√∂nnen Sie diese √§ndern.  Dr√ºcken Sie dazu die Mustertaste, ohne sie loszulassen, und schalten Sie das Ger√§t ein.  Wenn Sie das Potentiometer drehen, m√ºssen Sie die Dichte des verwendeten LED-Streifens entsprechend den rot leuchtenden LEDs ausw√§hlen: Die erste ist 60, die zweite ist 120 oder die dritte ist 180 LEDs.  Dr√ºcken Sie die Mustertaste erneut, um die Parameter im EEPROM zu speichern. <br><br>  Halten Sie zum Anpassen der Helligkeit die Farbtaste gedr√ºckt und schalten Sie das Ger√§t ein.  Standardm√§√üig sind in der Skizze 8 LEDs registriert, die in Prim√§rfarben leuchten.  Mit dem Param-Potentiometer k√∂nnen Sie die Helligkeit √§ndern.  Dr√ºcken Sie die Farbtaste erneut, um die Parameter im EEPROM zu speichern. <br><br>  Das Farbschema ist besser, das 3. zu w√§hlen, da es das bunteste ist.  In diesem Modus hat jede Farbe einen eigenen Frequenzbereich.  In nur 8 Frequenzbereichen liste ich ihre Farben vom niedrigsten bis zum h√∂chsten auf: Rot, Orange, Gelb, Gr√ºn, Cyan, Blau, Violett, Wei√ü. <br><br>  Wenn Sie die Farb - und Mustertasten gedr√ºckt halten und das Param - Potentiometer drehen, k√∂nnen Sie den Frequenzbereich einschr√§nken, indem Sie den High - Medium - Bereich entfernen und so weiter bis zu den niedrigsten Frequenzen (rote LED).  Wenn Sie beispielsweise m√∂chten, dass die Farbmusik nur auf niedrige T√∂ne reagiert, reicht es aus, nur den niedrigen Frequenzbereich zu belassen. <br><br>  Video zur Demonstration der M√∂glichkeiten von Farbmusik. <br><br>  Bitten Sie mich sofort um Entschuldigung f√ºr die Qualit√§t des Videos. Ich habe es mit einem billigen Smartphone aufgenommen. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/W2bKQTvkuFQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  PS </h4><br>  Bevor ich das Mikrofonverbindungsdiagramm vereinfachen m√∂chte, verwende ich max9814 ohne zus√§tzliche Umreifung.  Das Vorhandensein von AGC im MAX9814 erm√∂glicht es der Farbmusik, ohne √úberlastung bei verschiedenen Lautst√§rkepegeln zu arbeiten. <br><br>  Ich hoffe, ich habe nichts verpasst.  Bei Fragen stehe ich Ihnen gerne zur Verf√ºgung. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481492/">https://habr.com/ru/post/de481492/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481482/index.html">Cross-Posting auf eine Facebook-Seite mit dem PHP-SDK</a></li>
<li><a href="../de481484/index.html">Die KI, die versucht, Probleme zu vermeiden, lernte komplexes Verhalten</a></li>
<li><a href="../de481486/index.html">‚ÄûAm Leben bleiben, am Leben bleiben‚Äú: Das neue Protokoll wird den Radius der m√∂glichen Nutzung von WLAN um 60 Meter vergr√∂√üern</a></li>
<li><a href="../de481488/index.html">Wie die Beamten der Region Moskau die Luftverschmutzung messen</a></li>
<li><a href="../de481490/index.html">Vitamin D. Ein kurzer Ausflug</a></li>
<li><a href="../de481496/index.html">DDoS-Angriff durch Social Engineering</a></li>
<li><a href="../de481500/index.html">Fanatischer Programmierer. Abstrakter Teil 3 + abstrakter Tisch. Planung und Kiesel in einem Eimer Wasser</a></li>
<li><a href="../de481502/index.html">Einf√ºhrung in GitHub-Aktionen</a></li>
<li><a href="../de481506/index.html">Die Zusammenstellung interessanter Materialien f√ºr den mobilen Entwickler # 327 (16. - 22. Dezember)</a></li>
<li><a href="../de481510/index.html">Optimierung der Einheit: Wie die Hierarchie der Szenen Sie stiehlt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>