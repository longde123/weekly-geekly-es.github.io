<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐พ โ๐ป ๐ง๐ฟโ๐คโ๐ง๐ฟ ุงููุคุดุฑุงุช ูุนูุฏุฉ ุ ุฃู ูุง ุงููุฎุฒูุฉ ูู ุจุงูุชุ ๐ฅ ๐ฉ๐ฟโ๐คโ๐จ๐ฝ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุจุฑ! ุฃูุฏู ููู ุชุฑุฌูุฉ ุงูููุงู "ูุคุดุฑุงุช ูุนูุฏุฉ ุ ุฃู: ูุง ูู ุงูุจุงูุชุ" ุชุฃููู ุฑุงูู ูููุบ. 


 ุฃุนูู ูุฐุง ุงูุตูู ูู Rust ุจุฏูุงู ูุงูู ูุฑุฉ ุฃุฎุฑู ุ ูุณุฃุนูู ูุฌุฏุฏูุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงููุคุดุฑุงุช ูุนูุฏุฉ ุ ุฃู ูุง ุงููุฎุฒูุฉ ูู ุจุงูุชุ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460953/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฑุญุจุง ูุง ูุจุฑ!  ุฃูุฏู ููู ุชุฑุฌูุฉ ุงูููุงู "ูุคุดุฑุงุช ูุนูุฏุฉ ุ ุฃู: ูุง ูู ุงูุจุงูุชุ"  ุชุฃููู ุฑุงูู ูููุบ. </p><br><p style=";text-align:right;direction:rtl">  ุฃุนูู ูุฐุง ุงูุตูู ูู Rust ุจุฏูุงู ูุงูู ูุฑุฉ ุฃุฎุฑู ุ ูุณุฃุนูู ูุฌุฏุฏูุง (ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู) ุนูู "ูููุฐุฌ ุฐุงูุฑุฉ" ููุธุงู Rust / MIR.  ููุน ุฐูู ุ ูุจู ุฃู ุฃุชุญุฏุซ ุนู ุฃููุงุฑู ุ ูุฌุจ ุฃุฎูุฑูุง ุชุจุฏูุฏ ุงูุฃุณุทูุฑุฉ ุงููุงุฆูุฉ ุจุฃู "ุงููุคุดุฑุงุช ุจุณูุทุฉ: ุฅููุง ูุฌุฑุฏ ุฃุฑูุงู".  ููุง ุงูุฌุฒุฃูู ูู ูุฐุง ุงูุจูุงู ุฎุงุทุฆุงู ุ ุนูู ุงูุฃูู ูู ุงููุบุงุช ุฐุงุช ุงูููุฒุงุช ุบูุฑ ุงูุขููุฉ ุ ูุซู Rust ุฃู C: ูุง ูููู ุชุณููุฉ ุงููุคุดุฑุงุช ุฅูุง ุจุงูุฃุฑูุงู ุงูุฃูููุฉ ุฃู (ุงูุนุงุฏูุฉ). </p><br><p style=";text-align:right;direction:rtl">  ุฃูุฏ ุฃูุถูุง ููุงูุดุฉ ุฌุฒุก ูููุฐุฌ ุงูุฐุงูุฑุฉ ุงูุฐู ูุฌุจ ูุนุงูุฌุชู ูุจู ุฃู ูุชุญุฏุซ ุนู ุงูุฃุฌุฒุงุก ุงูุฃูุซุฑ ุชุนููุฏูุง: ูู <em>ุฃู ุดูู ูุชู</em> ุชุฎุฒูู ุงูุจูุงูุงุช ูู ุงูุฐุงูุฑุฉุ  ุชุชููู ุงูุฐุงูุฑุฉ ูู ูุญุฏุงุช ุงูุจุงูุช ุ ูุงูุญุฏ ุงูุฃุฏูู ูู ุงููุญุฏุงุช ุงููุงุจูุฉ ููุนูููุฉ ูุฃุตุบุฑ ุงูุนูุงุตุฑ ุงูุชู ูููู ุงููุตูู ุฅูููุง (ุนูู ุงูุฃูู ูู ูุนุธู ุงูุฃูุธูุฉ ุงูุฃุณุงุณูุฉ) ุ ูููู ูุง ูู ููู ุงูุจุงูุช ุงููุญุชููุฉุ  ูุฑุฉ ุฃุฎุฑู ุ ุงุชุถุญ ุฃู "ุฅูู ูุฌุฑุฏ ุฑูู 8 ุจุช" ุบูุฑ ููุงุณุจ ูุฅุฌุงุจุฉ. <a name="habracut"></a></p><br><p style=";text-align:right;direction:rtl">  ุขูู ุฃูู ุจุนุฏ ูุฑุงุกุฉ ูุฐุง ุงูููุดูุฑ ุ ุณูู ุชุชูู ูุนู ุจุดุฃู ููุง ุงูุจูุงููู. </p><br><h1 id="ukazateli-slozhny" style=";text-align:right;direction:rtl">  ุงููุคุดุฑุงุช ูุนูุฏุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูุง ูู ุงููุดููุฉ ูุน "ุงููุคุดุฑุงุช ูู ุฃุฑูุงู ููุชุธูุฉ"ุ  ููููู ูุธุฑุฉ ุนูู ุงููุซุงู ุงูุชุงูู: (ุฃุณุชุฎุฏู C ++ ููุง ุ ูุฃู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงูุขููุฉ ูู C ++ ุฃุณูู ูู ุงููุชุงุจุฉ ูู Rust ุ ูุงูููุฏ ุบูุฑ ุงูุขูู ูู ููุท ุงูููุงู ุงูุฐู ุชุธูุฑ ููู ุงููุดููุงุช. ุชุนุงูู Insecure Rust ู C ูู ููุณ ุงููุดุงูู ุงูุชู ู C ++). </p><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> x = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[<span class="hljs-number"><span class="hljs-number">8</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> y = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[<span class="hljs-number"><span class="hljs-number">8</span></span>]; y[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">42</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-comment"><span class="hljs-comment">/* -     */</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> x_ptr = &amp;x[i]; *x_ptr = <span class="hljs-number"><span class="hljs-number">23</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> y[<span class="hljs-number"><span class="hljs-number">0</span></span>]; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนุฏ ุชุญุณูู ุงููุฑุงุกุฉ ุงูุฃุฎูุฑุฉ ูู y [0] ุจุนูุฏุฉ 42 ูููุฏูุง ุฏุงุฆููุง.  ุงูุฃุณุงุณ ุงูููุทูู ููุฐุง ุงูุชุญุณูู ูู ุฃู ุชุบููุฑ x_ptr ุงูุฐู ูุดูุฑ ุฅูู x ูุง ูููู ุชุบููุฑ ุฐ. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ุนูุฏ ุงูุชุนุงูู ูุน ูุบุงุช ููุฎูุถุฉ ุงููุณุชูู ูุซู C ++ ุ ูููููุง ุงูุชูุงู ูุฐุง ุงูุงูุชุฑุงุถ ุจุชุนููู i yx value.  ูุธุฑูุง ูุฃู &amp; x [i] ูู ููุณ x + i ุ ููุชุจ 23 ูู &amp; y [0]. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ูุฐุง ูุง ูููุน ูุชุฑุฌููู C ++ ูู ุงูููุงู ุจูุฐู ุงูุชุญุณููุงุช.  ูุญู ูุฐู ุงููุดููุฉ ุ ูุดูุฑ ุงููุนูุงุฑ ุฅูู ุฃู ุงูููุฏ ุงูุฎุงุต ุจูุง ูุญุชูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">UB</a> . </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูุง ููุณูุญ ุจุฅุฌุฑุงุก ุนูููุงุช ุญุณุงุจูุฉ ุนูู ุงููุคุดุฑุงุช (ููุง ูู ุญุงูุฉ &amp; x [i]) ุ ุฅุฐุง ุชุฌุงูุฒ ุงููุคุดุฑ ูู ูุฐู ุงูุญุงูุฉ <a href="">ุฃู ูู ุญุฏูุฏ ุงููุตูููุฉ</a> .  ููุชูู ุจุฑูุงูุฌูุง ูุฐู ุงููุงุนุฏุฉ: x [i] ูุชุฌุงูุฒ x ุ ูุฐูู ูู UB.  ุจูุนูู ุขุฎุฑ ุ ุญุชู <em>ุญุณุงุจ</em> ูููุฉ x_ptr ูู UB ุ ูุฐูู ูุญู ูุง ูุตู ุฅูู ุงูููุงู ุงูุฐู ูุฑูุฏ <em>ุงุณุชุฎุฏุงู</em> ูุฐุง ุงููุคุดุฑ ููู. </p><br><p style=";text-align:right;direction:rtl">  (ุงุชุถุญ ุฃู i = yx ูู UB ุฃูุถูุง ุ ุญูุซ ุฅู <a href="">ุงููุคุดุฑุงุช ุงูุชู ุชุดูุฑ ุฅูู ููุณ ุชุฎุตูุต ุงูุฐุงูุฑุฉ ููุท</a> ูู <a href="">ุงููุณููุญ ุจุทุฑุญูุง</a> . ููุน ุฐูู ุ ูููููุง ูุชุงุจุฉ i = ((size_t) y - (size_t) x) / sizeof (int) ูุชุฌุงูุฒ ูุฐุง ูู ุงูููุฏ.) </p><br><p style=";text-align:right;direction:rtl">  ููููุง ูู ููุชู ุจุนุฏ: ูุฐู ุงููุงุนุฏุฉ ูุฏููุง ุงูุงุณุชุซูุงุก ุงููุญูุฏ ุงูุฐู ูููููุง ุงุณุชุฎุฏุงูู ููุตูุญุชูุง.  ุฅุฐุง ูุงูุช ุงูุนูููุฉ ุงูุญุณุงุจูุฉ ุชุญุณุจ ูููุฉ ุงููุคุดุฑ ุฅูู ุงูุนููุงู <em>ุจุนุฏ</em> ููุงูุฉ ุงููุตูููุฉ ุชูุงููุง ุ ูุณูุชู ุชุฑุชูุจ ูู ุดูุก.  (ูุฐุง ุงูุงุณุชุซูุงุก ูุทููุจ ูุญุณุงุจ vec.end () ููุญููุงุช ุงูุฃูุซุฑ ุดููุนูุง ูู C ++ 98.) </p><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุบูุฑ ุงููุซุงู ููููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> x = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[<span class="hljs-number"><span class="hljs-number">8</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> y = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[<span class="hljs-number"><span class="hljs-number">8</span></span>]; y[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">42</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> x_ptr = x+<span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    if (x_ptr == &amp;y[0]) *x_ptr = 23; return y[0]; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุชุฎูู ุฃูู ุชู ุชุฎุตูุต x ู y <em>ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู</em> ุ ูุน ุฃู y ููุง ุนููุงู ุฃูุจุฑ.  ุซู ุชุดูุฑ x_ptr <em>ุฅูู ุจุฏุงูุฉ</em> y!  ุซู ุงูุดุฑุท ุตุญูุญ ูุชุญุฏุซ ุงููููุฉ.  ูู ุงูููุช ููุณู ุ ูุง ููุฌุฏ ุฃู UB ุจุณุจุจ ุฎุฑูุฌ ุงููุคุดุฑ ูู ุงูุฎุงุฑุฌ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุฃู ูุฐุง ูู ูุณูุญ ุจุงูุชุญุณูู.  ููุน ุฐูู ุ ูุญุชูู ุงููุนูุงุฑ C ++ ุนูู ุบูุงู ุขุฎุฑ ููุณุงุนุฏุฉ ููุดุฆู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู: ูู ุงููุงูุน ุ ูุง ูุณูุญ ููุง ุจุงุณุชุฎุฏุงู x_ptr.  ููููุง ููุง ููููู ุงููุนูุงุฑ ุญูู <a href="">ุฅุถุงูุฉ ุงูุฃุฑูุงู ุฅูู ุงููุคุดุฑุงุช</a> ุ ูุดูุฑ x_ptr ุฅูู ุงูุนููุงู ุจุนุฏ ุงูุนูุตุฑ ุงูุฃุฎูุฑ ููุตููู.  <em>ูุง</em> ูุดูุฑ ุฅูู ุนูุตุฑ ูุญุฏุฏ ููุงุฆู ุขุฎุฑ ุ <em>ุญุชู ุฅุฐุง ูุงู ูุฏููู ููุณ ุงูุนููุงู</em> .  (ุนูู ุงูุฃูู ูุฐุง ุชูุณูุฑ ุดุงุฆุน ูููุนูุงุฑ ุงุณุชูุงุฏูุง ุฅูู ููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">LLVM ุจุชุญุณูู ูุฐุง ุงูุฑูุฒ</a> .) </p><br><p style=";text-align:right;direction:rtl">  ูุนูู ุงูุฑุบู ูู ุฃู x_ptr ู &amp; y [0] ูุดูุฑุงู ุฅูู <em>ุงูุนููุงู</em> ููุณู ุ ูุฅู ูุฐุง ูุง ูุฌุนูููุง <em>ุงููุคุดุฑ ููุณู</em> ุ ุฃู ุฃูู ูุง ูููู ุงุณุชุฎุฏุงููุง ุจุงูุชุจุงุฏู: &amp; y [0] ูุดูุฑ ุฅูู ุงูุนูุตุฑ ุงูุฃูู ูู yุ  ูุดูุฑ x_ptr ุฅูู ุงูุนููุงู ุจุนุฏ x.  ุฅุฐุง ุงุณุชุจุฏููุง * x_ptr = 23 ุจุงูุณูุณูุฉ * &amp; y [0] = 0 ุ ูุณูุบูุฑ ูููุฉ ุงูุจุฑูุงูุฌ ุ ุนูู ุงูุฑุบู ูู ุฃู ุงููุคุดุฑูู ูุฏ ุชู ุงูุชุญูู ููููุง ูู ุฃุฌู ุงููุณุงูุงุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุณุชุญู ุงูุชูุฑุงุฑ: </p><br><blockquote style=";text-align:right;direction:rtl">  ููุท ูุฃู ูุคุดุฑูู ูุดูุฑุงู ุฅูู ููุณ ุงูุนููุงู ูุง ูุนููุงู ุฃูููุง ูุชุณุงููุงู ููููู ุงุณุชุฎุฏุงูููุง ุจุงูุชุจุงุฏู. </blockquote><p style=";text-align:right;direction:rtl">  ูุนู ุ ูุฐุง ุงูุงุฎุชูุงู ุจุนูุฏ ุงูููุงู.  ูู ุงููุงูุน ุ ูุง ูุฒุงู ูุฐุง ูุณุจุจ ุงุฎุชูุงูุงุช ูู ุงูุจุฑุงูุฌ ุงููุชุฑุฌูุฉ ุจุงุณุชุฎุฏุงู LLVM ู GCC. </p><br><p style=";text-align:right;direction:rtl">  ูุงุญุธ ุฃูุถูุง ุฃู ูุฐู ุงููุงุนุฏุฉ ุงููุงุญุฏุฉ ููุณุช ูู ุงูููุงู ุงููุญูุฏ ูู C / C ++ ุญูุซ ูููููุง ููุงุญุธุฉ ูุซู ูุฐุง ุงูุชุฃุซูุฑ.  ูุซุงู ุขุฎุฑ ูู ุชูููุฏ ุงููููุงุช ุงูุฑุฆูุณูุฉ ูู C ุ ูุงูุชู ูููู ุงุณุชุฎุฏุงููุง ููุชุนุจูุฑ ุนู ุนุฏู ุชุฏุงุฎู ุงููุคุดุฑุงุช (ููุณุช ูุชุณุงููุฉ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">restrict</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">restrict</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span><span class="hljs-function"> </span></span>{ *x = <span class="hljs-number"><span class="hljs-number">42</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x == y) { *y = <span class="hljs-number"><span class="hljs-number">23</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *x; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> foo(&amp;x, &amp;x); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุณุชุฏุนุงุก ุงูุงุฎุชุจุงุฑ () ูุณุชุฏุนู UB ุ ุญูุซ ูุง ูุฌุจ ุฃู ูุญุฏุซ ูุตููุงู ููุฐุงูุฑุฉ ูู foo ูู ููุณ ุงูุนููุงู.  ุงุณุชุจุฏุงู * y ุจู * x ูู foo ุ ุณูููู ุจุชุบููุฑ ูููุฉ ุงูุจุฑูุงูุฌ ุ ููู ูุฏุนู UB ุจุนุฏ ุงูุขู.  ูุฑุฉ ุฃุฎุฑู: ุนูู ุงูุฑุบู ูู ุฃู x ู y ูููุง ููุณ ุงูุนููุงู ุ ุฅูุง ุฃูููุง ูุง ูููู ุงุณุชุฎุฏุงูููุง ุจุงูุชุจุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุงููุคุดุฑุงุช ูู ุจุงูุชุฃููุฏ ููุณุช ูุฌุฑุฏ ุฃุฑูุงู. </p><br><h1 id="prostaya-model-ukazateley" style=";text-align:right;direction:rtl">  ูููุฐุฌ ูุคุดุฑ ุจุณูุท </h1><br><p style=";text-align:right;direction:rtl">  ุฅุฐู ูุง ูู ุงููุคุดุฑุ  ุฃูุง ูุง ุฃุนุฑู ุงูุฌูุงุจ ุงููุงูู.  ูู ุงููุงูุน ุ ูุฐุง ูุฌุงู ููุชูุญ ููุจุญุซ. </p><br><p style=";text-align:right;direction:rtl">  ููุทุฉ ูุงุญุฏุฉ ูููุฉ: ููุง ูุญู ููุธุฑ ุฅูู <em>ูููุฐุฌ</em> ูุคุดุฑ <em>ูุฌุฑุฏุฉ</em> .  ุจุงูุทุจุน ุ ุนูู ุฌูุงุฒ ููุจููุชุฑ ุญูููู ุ ุงููุคุดุฑุงุช ูู ุฃุฑูุงู.  ููู ุงูููุจููุชุฑ ุงูุญูููู ูุง ูููุฐ ุงูุชุญุณููุงุช ุงูุชู ูููู ุจูุง ูุชุฑุฌูู C ++ ุงูุญุฏูุซุฉ.  ุฅุฐุง ูุชุจูุง ุงูุจุฑุงูุฌ ุงููุฐููุฑุฉ ุฃุนูุงู ูู ุงููุฌูุน ุ ููู ูููู ููุงู ุฃู UB ุ ูุง ุชุญุณููุงุช.  ุชุชุฎุฐ C ++ ู Rust ููุงุฑุจุฉ ุฃูุซุฑ "ูุณุชูู ุฃุนูู" ููุฐุงูุฑุฉ ูุงููุคุดุฑุงุช ุ ููุง ูุญุฏ ุงููุจุฑูุฌ ูู ุงููุชุฑุฌู.  ุนูุฏูุง ูููู ูู ุงูุถุฑูุฑู ูุตู ูุง ูููู ูููุจุฑูุฌ ุงูููุงู ุจู ููุง ููููู ูุนูู ุจูุฐู ุงููุบุงุช ุ ูุชู ุชุญุทูู ูููุฐุฌ ุงููุคุดุฑุงุช ูุฃุฑูุงู ุ ูุฐูู ูุญู ุจุญุงุฌุฉ ุฅูู ุงูุนุซูุฑ ุนูู ุดูุก ุขุฎุฑ.  ูุฐุง ูุซุงู ุขุฎุฑ ุนูู ุงุณุชุฎุฏุงู "ุฌูุงุฒ ุงูุชุฑุงุถู" ูุฎุชูู ุนู ุฌูุงุฒ ููุจููุชุฑ ุญูููู ูุฃุบุฑุงุถ ุงูููุงุตูุงุช - ููุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุจุช ุนููุง ุณุงุจููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ูููุง ููู ุฌููุฉ ุจุณูุทุฉ (ูู ุงููุงูุน ุ ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงููููุฐุฌ ูู ุงููุคุดุฑุงุช ุจูุงุณุทุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CompCert</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนููู ูู ูุจู RustBelt</a> ุ ููุฐูู ุงูุทุฑููุฉ ุงูุชู ูููุฐ ุจูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุฑุฌู miri</a> <a href="">ุงููุคุดุฑุงุช</a> ): ุงููุคุดุฑ ุนุจุงุฑุฉ ุนู ุฒูุฌ ูู ุจุนุถ ุงููุนุฑูุงุช ูุญุฏุฏ ููุทูุฉ ุฐุงูุฑุฉ ุจุดูู ูุฑูุฏ (ุงูุชุฎุตูุต) ุ ูุงูุฅุฒุงุญุฉ ุจุงููุณุจุฉ ุฅูู ูุฐู ุงูููุทูุฉ.  ุฅุฐุง ูุชุจุช ูุฐุง ูู Rust: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Pointer</span></span></span></span> { alloc_id: <span class="hljs-built_in"><span class="hljs-built_in">usize</span></span>, offset: <span class="hljs-built_in"><span class="hljs-built_in">isize</span></span>, }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุคุซุฑ ุนูููุงุช ุฅุถุงูุฉ (ุทุฑุญ) ุฑูู ุฅูู ูุคุดุฑ (ูู ูุคุดุฑ) ุนูู ุงูุฅุฒุงุญุฉ ููุท ุ ูุจุงูุชุงูู ูุง ูููู ูููุคุดุฑ ูุบุงุฏุฑุฉ ููุทูุฉ ุงูุฐุงูุฑุฉ ุฃุจุฏูุง.  ูููู ุทุฑุญ ูุคุดุฑุงุช ูููููุง ููุท ุฅุฐุง ูุงูุช ุชูุชูู ุฅูู ููุณ ูุณุงุญุฉ ุงูุฐุงูุฑุฉ (ููููุง ูู <a href="">C ++</a> ). </p><br><p style=";text-align:right;direction:rtl">  (ููุง ูุฑู ุ ูุทุจู ูุนูุงุฑ C ++ ูุฐู ุงูููุงุนุฏ ุนูู ุงููุตูููุงุช ุ ูููุณ ููุงุทู ุงูุฐุงูุฑุฉ. ููุน ุฐูู ุ ูุฅู LLVM ูุทุจููุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูู ุงูููุทูุฉ</a> .) </p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ (ููุธูุฑ ููุฑู ุงูุดูุก ููุณู) ุฃู ูุฐุง ุงููููุฐุฌ ูููู ุฃู ูุฎุฏููุง ุจุดูู ุฌูุฏ.  ูุชุฐูุฑ ุฏุงุฆููุง ููุทูุฉ ุงูุฐุงูุฑุฉ ุงูุชู ููุชูู ุฅูููุง ุงููุคุดุฑ ุ ุญุชู ูุชููู ูู ุชูููุฒ ุงููุคุดุฑ ุงููุงุญุฏ ุชูู ุงูุขุฎุฑ ูู ููุทูุฉ ุงูุฐุงูุฑุฉ ูู ุงููุคุดุฑ ุฅูู ุจุฏุงูุฉ ููุทูุฉ ุฃุฎุฑู.  ูููุฐุง ูุฏ ุชุฌุฏ ููุฑู ุฃู ุงููุซุงู ุงูุซุงูู (ูุน &amp; x [8]) ูู UB. </p><br><h1 id="nasha-model-razvalivaetsya-na-kuski" style=";text-align:right;direction:rtl">  ูููุฐุฌูุง ูููุงุฑ </h1><br><p style=";text-align:right;direction:rtl">  ูู ูููุฐุฌูุง ุ ุงููุคุดุฑุงุช ุ ุนูู ุงูุฑุบู ูู ุฃููุง ููุณุช ุฃุฑูุงู ุ ููู ุจุณูุทุฉ ุนูู ุงูุฃูู.  ููุน ุฐูู ุ ุณูุจุฏุฃ ูุฐุง ุงููููุฐุฌ ูู ุงูุงูููุงุฑ ุฃูุงู ุฃุนูููุง ุ ุจูุฌุฑุฏ ุฃู ุชุชุฐูุฑ ุชุญููู ุงููุคุดุฑุงุช ุฅูู ุฃุฑูุงู.  ูู miri ุ ูุง ูุคุฏู ุฅุทูุงู ูุคุดุฑ ุฅูู ุฑูู ุฅูู ุดูุก ูู ุงููุงูุน ุ ููุญู ููุท ูุญุตู ุนูู ูุชุบูุฑ ุฑููู (ุนูู ุณุจูู ุงููุซุงู ุ ูุดูุฑ <em>ููุนู ุฅูู</em> ุฃูู ุฑูู) ุชููู <em>ูููุชู</em> ุนุจุงุฑุฉ ุนู ูุคุดุฑ (ุนูู ุณุจูู ุงููุซุงู ุ ุฒูุฌ ูู ูุณุงุญุฉ ุงูุฐุงูุฑุฉ ูุงูุฅุฒุงุญุฉ).  ููุน ุฐูู ุ ูุคุฏู ุถุฑุจ ูุฐุง ุงูุฑูู ูู 2 ุฅูู ุญุฏูุซ ุฎุทุฃ ุ ูุฃูู ูู ุบูุฑ ุงููุงุถุญ ุชูุงููุง ูุง ูุนููู "ุถุฑุจ ูุซู ูุฐุง ุงููุคุดุฑ ุงููุฌุฑุฏ ูู 2". </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุฃูุถุญ: ูุฐุง <em>ููุณ</em> ุญูุงู ุฌูุฏูุง ุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจุชุนุฑูู ุฏูุงูุงุช ุงููุบุฉ.  ููุน ุฐูู ุ ูุฐุง ูุนูู ุจุดูู ุฌูุฏ ูููุชุฑุฌู.  ูุฐุง ูู ุงูููุฌ ุงูุฃุจุณุท ุ ููุฏ ุงุฎุชุฑูุงู ูุฃูู ููุณ ูู ุงููุงุถุญ ููู ูููู ุงูููุงู ุจู ุจุทุฑููุฉ ุฃุฎุฑู (ุจุงุณุชุซูุงุก ุนุฏู ุฏุนู ูุซู ูุฐู ุงูุชุฎููุถุงุช ุนูู ุงูุฅุทูุงู - ูููู ูุน ุฏุนููู ูููู ุฃู ุชููู ููุฑู ุจุชุดุบูู ุงููุฒูุฏ ูู ุงูุจุฑุงูุฌ): ูู ุฌูุงุฒูุง ุงููุฌุฑุฏ ูุง ุชูุฌุฏ "ูุณุงุญุฉ ุนููุงู" ูุงุญุฏุฉ ุ ุญูุซ ุณูุชู ุชุญุฏูุฏ ูุงูุฉ ููุงุทู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุ ูุชู ุชุนููู ูุงูุฉ ุงููุคุดุฑุงุช ูุฃุฑูุงู ูุฎุชููุฉ ูุญุฏุฏุฉ.  ูุชู ุชุนุฑูู ูู ููุทูุฉ ุงูุฐุงูุฑุฉ ุจูุนุฑู (ูุฎูู).  ุงูุขู ูููููุง ุงูุจุฏุก ูู ุฅุถุงูุฉ ุจูุงูุงุช ุฅุถุงููุฉ ุฅูู ูููุฐุฌูุง ุ ูุซู ุงูุนููุงู ุงูุฃุณุงุณู ููู ููุทูุฉ ุฐุงูุฑุฉ ุ ูุงุณุชุฎุฏุงูู ุจุทุฑููุฉ ูุง ูุฅุนุงุฏุฉ ุงูุฑูู ุฅูู ุงููุคุดุฑ ... ููู ูุฐู ุงููุฑุญูุฉ ุชุตุจุญ ุงูุนูููุฉ ูุนูุฏุฉ ููุบุงูุฉ ุ ูุนูู ุฃู ุญุงู ุ ููุงูุดุฉ ููุฐุง ุงูููุงุฐุฌ ููุณุช ุบุฑุถ ูุชุงุจุฉ ููุดูุฑ.  ูุงูุบุฑุถ ููู ูู ููุงูุดุฉ ุงูุญุงุฌุฉ ุฅูู ูุซู ูุฐุง ุงููููุฐุฌ.  ุฅุฐุง ููุช ููุชููุง ุ ุฃูุตู ุจุฃู ุชูุฑุฃ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงููุณุชูุฏ</a> ุ ูุงูุฐู ูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุงูููุฑุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุงููุชูุซูุฉ ูู ุฅุถุงูุฉ ุนููุงู ุฃุณุงุณู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ ุ ุฅู ุฃุดูุงู ุงููุคุดุฑุงุช ูุงูุฃุฑูุงู ูุจุนุถูุง ุงูุจุนุถ ูุฑุจูุฉ ููุตุนุจ ุชุญุฏูุฏูุง ุจุดูู ุฑุณูู ุ ุจุงููุธุฑ ุฅูู ุงูุชุญุณููุงุช ุงูุชู ุชูุช ููุงูุดุชูุง ุฃุนูุงู.  ููุฌุฏ ุชุนุงุฑุถ ุจูู ุงูููุฌ ุฑููุน ุงููุณุชูู ุงููุงุฒู ููุชุญุณููุงุช ูุงูููุฌ ุงูููุฎูุถ ุงููุณุชูู ุงููุทููุจ ููุตู ูุคุดุฑุงุช ุงูุตุจ ุนูู ุงูุฃุฑูุงู ูุงูุนูุณ.  ุจุงููุณุจุฉ ููุฌุฒุก ุงูุฃูุจุฑ ุ ูุญู ุจุจุณุงุทุฉ ูุชุฌุงูู ูุฐู ุงููุดููุฉ ูู ููุฑู ููุญุงูู ุ ูููุง ูุงู ุฐูู ูููููุง ุ ุงูููุงู ุจุฃูุจุฑ ูุฏุฑ ูููู ุจุงุณุชุฎุฏุงู ุงููููุฐุฌ ุงูุจุณูุท ุงูุฐู ูุชุนุงูู ูุนู.  ุจุงูุทุจุน ุ ูุง ูููู ุฃู ูุฐูุจ ุงูุชุนุฑูู ุงููุงูู ููุบุงุช ูุซู C ++ ุฃู Rust ุ ุจุทุฑููุฉ ุจุณูุทุฉ ุ ุจู ูุฌุจ ุฃู ููุถุญ ูุง ูุญุฏุซ ุจุงููุนู.  ุนูู ุญุฏ ุนููู ุ ูุง ููุฌุฏ ุญู ููุงุณุจ ุ ููู ุงูุจุญุซ ุงูุฃูุงุฏููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุฑุจ ูู ุงูุญูููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุงูุณุจุจ ูู ุฃู ุงููุคุดุฑุงุช ููุณุช ุจุณูุทุฉ ุฃูุถูุง. </p><br><h1 id="ot-ukazateley-k-baytam" style=";text-align:right;direction:rtl">  ูู ุงููุคุดุฑุงุช ุฅูู ุงูุจุงูุช </h1><br><p style=";text-align:right;direction:rtl">  ุขูู ุฃู ูููู ูุฏู ุญุฌุฉ ูููุนุฉ ููุงุฏูุง ุฃู ุงูุฃุฑูุงู ููุณุช ูู ููุน ุงูุจูุงูุงุช ุงููุญูุฏ ุงูุฐู ูุฌุจ ูุฑุงุนุงุชู ุฅุฐุง ููุง ูุฑูุฏ ูุตู ุงููุบุงุช ุฐุงุช ุงููุณุชูู ุงูููุฎูุถ ุฑุณูููุง ูุซู C ++ ุฃู ุงูุฌุฒุก (ุบูุฑ ุงูุขูู) ูู Rust.  ููุน ุฐูู ุ ูุฐุง ูุนูู ุฃู ุงูุนูููุฉ ุงูุจุณูุทุฉ ูุซู ูุฑุงุกุฉ ุจุงูุช ูู ุงูุฐุงูุฑุฉ ูุง ูููููุง ููุท ุฅุฑุฌุงุน u8.  ุชุฎูู ุฃููุง <a href="">ูุทุจู memcpy ูู</a> ุฎูุงู ูุฑุงุกุฉ ูู ุจุงูุช ูู ุงููุตุฏุฑ ุจุฏูุฑู ุฅูู ุจุนุถ ุงููุชุบูุฑุงุช ุงููุญููุฉ v ุ ุซู ุชุฎุฒูู ูุฐู ุงููููุฉ ูู ุงููููุน ุงููุณุชูุฏู.  ูููู ูุงุฐุง ูู ูุงูุช ูุฐู ุงูุจุงูุชุฉ ุฌุฒุกูุง ูู ูุคุดุฑุ  ุฅุฐุง ูุงู ุงููุคุดุฑ ุนุจุงุฑุฉ ุนู ุฒูุฌ ูู ูุนุฑู ููุทูุฉ ุงูุฐุงูุฑุฉ ูุฅุฒุงุญุฉ ุ ููุง ูู ุงูุจุงูุช ุงูุฃููุ  ูุญุชุงุฌ ุฃู ูููู ูุง ูููุฉ v ุชุณุงูู ุ ูุฐูู ุณูููู ุนูููุง ุงูุฅุฌุงุจุฉ ุนูู ูุฐุง ุงูุณุคุงู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  (ููุฐู ูุดููุฉ ูุฎุชููุฉ ุชูุงููุง ุนู ูุดููุฉ ุงูุถุฑุจ ุ ูุงูุชู ูุงูุช ูู ุงููุณู ุงูุณุงุจู. ููุชุฑุถ ููุท ุฃู ููุงู ููุนูุง ูุฌุฑุฏุฉ ูู Ponter.) </p><br><p style=";text-align:right;direction:rtl">  ูุง ูููููุง ุชูุซูู ุจุงูุช ุงููุคุดุฑ ููููุฉ ูููุทุงู 0..256 (ููุงุญุธุฉ: ูููุง ููู 0 ุ ูู ูุชู ุชุดุบูู 256).  ุจุดูู ุนุงู ุ ุฅุฐุง ุงุณุชุฎุฏููุง ูููุฐุฌ ุชูุซูู ุณุงุฐุฌ ููุฐุงูุฑุฉ ุ ูุณูุชู ููุฏ ุงูุฌุฒุก "ุงููุฎูู" ุงูุฅุถุงูู ูู ุงููุคุดุฑ (ุงูุฐู ูุฌุนูู ุฃูุซุฑ ูู ูุฌุฑุฏ ุฑูู) ุนูุฏ ูุชุงุจุฉ ุงููุคุดุฑ ุนูู ุงูุฐุงูุฑุฉ ูุฅุนุงุฏุฉ ูุฑุงุกุชู ููู.  ุณูุชุนูู ุนูููุง ุฅุตูุงุญ ูุฐุง ุงูุฃูุฑ ุ ูููุฐุง ูุชุนูู ุนูููุง ุชูุณูุน ููููู "ุงูุจุงูุช" ูุชูุซูู ูุฐู ุงูุญุงูุฉ ุงูุฅุถุงููุฉ.  ูุจุงูุชุงูู ุ ุฃุตุจุญุช ุงูุจุงูุช ุงูุขู <em>ุฅูุง</em> ูููุฉ ุงููุทุงู 0..256 ("ุงูุจุชุงุช ุงูุฃูููุฉ") ุ <em>ุฃู</em> ุงูุจุงูุชุฉ ุงูุชุงุณุนุฉ ูู ุจุนุถ ุงููุคุดุฑุงุช ุงููุฌุฑุฏุฉ.  ุฅุฐุง ุงุถุทุฑุฑูุง ุฅูู ุชุทุจูู ูููุฐุฌ ุฐุงูุฑุชูุง ูู Rust ุ ููุฏ ูุจุฏู ุงูุฃูุฑ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ByteV1</span></span></span></span> { Bits(<span class="hljs-built_in"><span class="hljs-built_in">u8</span></span>), PtrFragment(Pointer, <span class="hljs-built_in"><span class="hljs-built_in">u8</span></span>), }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ PtrFragment (ptr ุ 0) ููุซู ุงูุจุงูุช ุงูุฃูู ูู ูุคุดุฑ ptr.  ูุจุงูุชุงูู ุ ูููู ูู memcpy "ุชูุณูู" ุงููุคุดุฑ ุฅูู ูุญุฏุงุช ุจุงูุช ูููุตูุฉ ุชูุซู ูุฐุง ุงููุคุดุฑ ูู ุงูุฐุงูุฑุฉ ุ ููุณุฎูุง ุจุดูู ูุฑุฏู.  ุนูู ุจููุฉ 32 ุจุช ุ ุณูุญุชูู ุชูุซูู ptr ุงููุงูู ุนูู 4 ุจุงูุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs">[PtrFragment(ptr, <span class="hljs-number"><span class="hljs-number">0</span></span>), PtrFragment(ptr, <span class="hljs-number"><span class="hljs-number">1</span></span>), PtrFragment(ptr, <span class="hljs-number"><span class="hljs-number">2</span></span>), PtrFragment(ptr, <span class="hljs-number"><span class="hljs-number">3</span></span>)]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฏุนู ูุฐุง ุงูุชูุซูู ุฌููุน ุนูููุงุช ููู ุงูุจูุงูุงุช ุนุจุฑ ุงููุคุดุฑุงุช ุนูู ูุณุชูู ุงูุจุงูุช ุ ููู ูุง ูููู ุชูุงููุง ููุจุทุงูุฉ.  ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุฃู ุนูููุงุช ุงูุจุช ุบูุฑ ูุฏุนููุฉ ุจุงููุงูู ุ  ููุง ุฐูุฑ ุฃุนูุงู ุ ูุฅู ูุฐุง ูุชุทูุจ ุชูุซูู ุฃูุซุฑ ุชุนููุฏูุง ูููุคุดุฑุงุช. </p><br><h1 id="neinicializirovannaya-pamyat" style=";text-align:right;direction:rtl">  ุฐุงูุฑุฉ ุบูุฑ ูููุฃุฉ </h1><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูู ููุชู ูู ุชุนุฑูููุง ูู "ุงูุจุงูุช".  ููุตู ุณููู ุงูุจุฑูุงูุฌ ุจุดูู ูุงูู ุ ูุญุชุงุฌ ุฅูู ุงูุชูููุฑ ูู ุฎูุงุฑ ุขุฎุฑ: ุงูุจุงูุช ูู ุงูุฐุงูุฑุฉ ูููู ุฃู ูููู <em>ุบูุฑ ูููุฃ</em> .  ุณูุจุฏู ุชุนุฑูู ุงูุจุงูุช ุงูุฃุฎูุฑ ุจูุฐุง ุงูุดูู (ูููุชุฑุถ ุฃู ูุฏููุง ููุน ูุคุดุฑ ูููุคุดุฑุงุช): </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Byte</span></span></span></span> { Bits(<span class="hljs-built_in"><span class="hljs-built_in">u8</span></span>), PtrFragment(Pointer, <span class="hljs-built_in"><span class="hljs-built_in">u8</span></span>), Uninit, }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู ูููุฉ Uninit ูุฌููุน ูุญุฏุงุช ุงูุจุงูุช ูู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุงูุชู ูู ููุชุจ ูููุง ุฃู ูููุฉ ุจุนุฏ.  ูู ุงููููู ูุฑุงุกุฉ ุฐุงูุฑุฉ ุบูุฑ ูููุฃุฉ ุฏูู ูุดุงูู ุ ูููู ุฃู <em>ุฅุฌุฑุงุกุงุช</em> ุฃุฎุฑู ุจุงุณุชุฎุฏุงู ูุฐู ุงูุจุงูุชุงุช (ุนูู ุณุจูู ุงููุซุงู ุ ุญุณุงุจ ุฑููู) ุชุคุฏู ุฅูู UB. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุดุจู ุฅูู ุญุฏ ูุจูุฑ ููุงุนุฏ LLVM ูููุง ูุชุนูู ุจูููุฉ ุงูุณู ุงูุฎุงุตุฉ.  ูุงุญุธ ุฃู LLVM ููุง <em>ุฃูุถูุง</em> ูููุฉ ุบูุฑ ูุนุฒููุฉ ุ ูุงูุชู ุชูุณุชุฎุฏู ููุฐุงูุฑุฉ ุบูุฑ ุงููููุฃุฉ ูุชุนูู ุจุดูู ูุฎุชูู ููููุงู.  ููุน ุฐูู ุ ูุฅู ุชุฌููุน Uninit to unef ุงูุฎุงุต ุจู ูู ุงูุตุญูุญ (undef ูู "ุฃุถุนู" ูู ุจุนุถ ุงูููุงุญู) ุ ูููุงู ุงูุชุฑุงุญุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฅุฒุงูุฉ undef ูู LLVM ูุงุณุชุฎุฏุงู ุงูุณู ุจุฏูุงู ูู ุฐูู</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุฏ ุชุชุณุงุกู ููุงุฐุง ูุฏููุง ูููุฉ Uninit ุฎุงุตุฉ ุนูู ุงูุฅุทูุงู.  ููุงุฐุง ูุง ุชุฎุชุงุฑ ุจุนุถ ุงูุชุนุณูู b: u8 ููู ุจุงูุช ุฌุฏูุฏ ุ ุซู ุงุณุชุฎุฏู Bits (b) ููููุฉ ุฃูููุฉุ  ูุฐุง ูู ุญูุง ุฎูุงุฑ ูุงุญุฏ.  ููุน ุฐูู ุ ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุฌุงุกุช ุฌููุน ุงููุฌูุนูู ุฅูู ุงูููุฌ ุจุงุณุชุฎุฏุงู ูููุฉ ุฎุงุตุฉ ููุฐุงูุฑุฉ ุบูุฑ ูููุฃ.  ูุง ูุนูู ุงุชุจุงุน ูุฐุง ุงูููุฌ ููุณ ููุท ุงูุชุณุจุจ ูู ูุดุงูู ุงูุชุฑุฌูุฉ ูู ุฎูุงู LLVM ุ ูููู ุฃูุถูุง ูุฑุงุฌุนุฉ ุฌููุน ุงูุชุญุณููุงุช ูุงูุชุฃูุฏ ูู ุฃููุง ุชุนูู ุจุดูู ุตุญูุญ ูุน ูุฐุง ุงููููุฐุฌ ุงููุนุฏู.  ุงูููุทุฉ ุงูุฃุณุงุณูุฉ ููุง: ููููู ุฏุงุฆููุง ุงุณุชุจุฏุงู Uninit ุจุฃูุงู ุจุฃู ูููุฉ ุฃุฎุฑู: ุฃู ุนูููุฉ ุชููู ูุฐู ุงููููุฉ ุณุชุคุฏู ูู ุฃู ุญุงู ุฅูู UB. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูุนุฏ ุชุญุณูู ููุฏ C ุฃุณูู ูุน Uninit: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condA()) x = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     ,       ,  condA() //  ,      x. use(x); //  x = 1. }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุน Uninit ุ ูููููุง ุฃู ูููู ุจุณูููุฉ ุฃู x ูู ุฅูุง ูููุฉ Uninit ุฃู ูููุฉ 1 ุ ูููุฐ ุงุณุชุจุฏุงู Uninit ุจู 1 ุฃุนูุงู ุ ูููู ุดุฑุญ ุงูุชุญุณูู ุจุณูููุฉ.  ุจุฏูู Uninit ุ x ุฅูุง "ููุน ูู ุฃููุงุน ุงูุจุช ุงูุชุนุณูู" ุฃู 1 ุ ููุตุนุจ ุดุฑุญ ุงูุชุญุณูู ุงูุฃูุซู. </p><br><p style=";text-align:right;direction:rtl">  (ูููููุง ุงูููู ุฅูู ูููููุง ูุจุงุฏูุฉ ุงูุนูููุงุช ุนูุฏูุง ูุชุฎุฐ ูุฑุงุฑูุง ุบูุฑ ุญุงุณู ุ ูููู ุจุนุฏ ุฐูู ูุญุชุงุฌ ุฅูู ุฅุซุจุงุช ุฃู ุงูุดูุฑุฉ ุงูุชู ูุตุนุจ ุชุญููููุง ูุง ุชุณุชุฎุฏู x ุจุฃู ุดูู ูู ุงูุฃุดูุงู. Uninit ูุชุฌูุจ ูุฐู ุงููุดููุฉ ุจุฃุฏูุฉ ุบูุฑ ุถุฑูุฑูุฉ.) </p><br><p style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ Uninit ูู ุงูุฎูุงุฑ ุงูุฃูุถู ูููุชุฑุฌููู ุงูููุฑููู ูุซู miri.  ููุงุฌู ูุคูุงุก ุงููุชุฑุฌููู ุงูููุฑููู ูุดุงูู ูู ุนูููุงุช ูุซู "ูุฌุฑุฏ ุงุฎุชูุงุฑ ุฃู ูู ูุฐู ุงูููู" (ุฃู ุ ุงูุนูููุงุช ุบูุฑ ุงููุทุนูุฉ) ุ ุญูุซ ูููููู ุฅูู ูุชุงุจุนุฉ ุฌููุน ุงููุณุงุฑุงุช ุงูููููุฉ ูุชูููุฐ ุงูุจุฑูุงูุฌ ุ ููุง ูุนูู ุฃููู ุจุญุงุฌุฉ ุฅูู ุชุฌุฑุจุฉ ูู ุงูููู ุงูููููุฉ.  ุงุณุชุฎุฏุงู Uninit ุจุฏูุงู ูู ููุท ุจุช ุชุนุณูู ูุนูู ุฃูู ูููู ูู miri ุฅุฎุจุงุฑู ุจุนุฏ ุชุดุบูู ุฃุญุฏ ุงูุจุฑุงูุฌ ูุง ุฅุฐุง ูุงู ุงูุจุฑูุงูุฌ ูุณุชุฎุฏู ููููุง ุบูุฑ ูููุฃุฉ ุจุดูู ุบูุฑ ุตุญูุญ. </p><br><h1 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h1><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฑุฃููุง ุฃูู ูู ูุบุงุช ูุซู C ++ ู Rust (ุนูู ุนูุณ ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุญููููุฉ) ุ ูููู ุฃู ุชููู ุงููุคุดุฑุงุช ูุฎุชููุฉ ุญุชู ูู ูุงูุช ุชุดูุฑ ุฅูู ููุณ ุงูุนููุงู ุ ูุฃู ุงูุจุงูุช ุฃูุซุฑ ูู ูุฌุฑุฏ ุฑูู ูู ุงููุทุงู 0..256.  ูุฐูู ุ ุฅุฐุง ูุงูุช ุงููุบุฉ C ูู ุนุงู 1978 ูููู ุฃู ุชููู "ูุฌููุน ูุชููู" ุ ููู ุงูุขู ุนุจุงุฑุฉ ุฎุงุทุฆุฉ ุจุดูู ูุง ูุตุฏู. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar460953/">https://habr.com/ru/post/ar460953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar460943/index.html">ููููุฉ ุงุฎุชูุงุฑ ููุงุชูุญ ูุงุนุฏุฉ ููุจุงุฑ ุงููุณุฆูููู ุงูุงูุชุตุงุฏููู ุนูู ุฃุณุงุณ ุณููุงุฑูู ุงูุชูุจุค ูู Google Data Studio (ูุงูุจ +)</a></li>
<li><a href="../ar460945/index.html">ุฎุจุฑุฉ ูู ุงุณุชุฎุฏุงู ููุงุฉ ุงูุชูุบุฑุงู ูุฒูุงุฏุฉ ุงูุงุนุชุฑุงู ูููู ุงูุฅูุฑุงุฏุงุช ูุงุณุชูุฏูู ุงูุฃูุนุงุจ</a></li>
<li><a href="../ar460947/index.html">WASM Meet Up 1/08</a></li>
<li><a href="../ar460949/index.html">"ูุงููุณุชุญูู ูููู": ูุญูู ุงูุตูุฏูู ุงูุฃุณูุฏ ุฅูู ุงูููู ุงูุฃุจูุถ ุจุงุณุชุฎุฏุงู ุงูุชุญููู ุงูุซูุงุฆู</a></li>
<li><a href="../ar460951/index.html">ุฅูุดุงุก ุฎูููุงุช ุฃูุฏุฑููุฏ ูุงูู</a></li>
<li><a href="../ar460955/index.html">ุจุฑูุงูุฌ ุชุนูููู ูุชูุฑูุฑ ุงููุนููุงุช ุญุณุจ ุงููููุฉ ููุจูุงุฆูู ูุงููุณุชูุทููู (C ++ ุงูุญุฏูุซุฉ ุ ุฃูุซูุฉ)</a></li>
<li><a href="../ar460959/index.html">ุชุณูุญ ุชูููุฉ Microsoft ุงูุฌุฏูุฏุฉ ุจูุณุฎ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ูุดุฎุต ุญูููู ููุชุญุฏุซ ุจุฃู ูุบุฉ</a></li>
<li><a href="../ar460961/index.html">ุฅุนุฏุงุฏ ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ูู ูุดุงุฑูุน ุณูููุช + ุงููุฏู ุฌูู</a></li>
<li><a href="../ar460965/index.html">ุงููุณุงู ุงููุฑุงูุจ ุงููุงูู ุฏูู ูุฐู ุงููุตุต ุงููุตูุฑุฉ ุงูุฎุงุตุฉ ุจู</a></li>
<li><a href="../ar460967/index.html">Troy Hunt: 10 ุฏุฑูุณ ูุงููุฉ ุดุฎุตูุฉ ููุชุฎุตุตู ุชูููููุฌูุง ุงููุนูููุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>