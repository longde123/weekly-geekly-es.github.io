<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤯 🌄 🧓 Arquitectura sin servidor y microservicios: ¿la combinación perfecta? 🗿 💘 🈴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se preparó una traducción del artículo para los estudiantes del curso de Prácticas y herramientas de DevOps en el proyecto educativo OTUS . 



 Cuand...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arquitectura sin servidor y microservicios: ¿la combinación perfecta?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/454598/"><p><img src="https://habrastorage.org/webt/ht/fr/ml/htfrmlitselle22_sgdgnmtn2rk.png" alt="imagen"></p><br><p>  <em>Se preparó una traducción del artículo para los estudiantes del curso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Prácticas y herramientas de DevOps en el</a> proyecto educativo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OTUS</a> .</em> </p><br><hr><br><p>  Cuando los primeros tutoriales comenzaron a usar AWS Lambda y la API de Gateway en 2015, no fue sorprendente que se centraran principalmente en copiar la arquitectura de microservicios.  Pero para aquellos que usaron AWS Lambda a gran escala, con el tiempo quedó claro que había limitaciones significativas para aplicar el enfoque de microservicio a AWS Lambda ... <a name="habracut"></a>  Al menos había restricciones sobre lo que la mayoría de la gente quería decir con la construcción adecuada de microservicios. </p><br><h1 id="davayte-pogovorim-o-pochemu-dlya-mikroservisov">  Hablemos del por qué de los microservicios. </h1><br><p>  Los microservicios aparecieron principalmente debido a la frustración con las aplicaciones monolíticas.  Monolith es una aplicación en la que toda la lógica está en una base de código lógico. </p><br><p>  Hubo momentos en que, debido al alto costo de los servidores, era común implementar toda la aplicación en un solo servidor.  La implementación de un monolito significaba que en el servidor estaba implementando parte o la totalidad de la aplicación. </p><br><p>  Además, desplegar un monolito significaba que tenía que asegurarse de no romper nada.  Muy a menudo, pequeños cambios conducen a la falla de todo el servidor y la aplicación completa. </p><br><p>  Por lo tanto, cuando aparecieron nubes con la capacidad de proporcionar instancias con un clic en cuestión de minutos (en lugar de días o semanas), la posibilidad de separación de tareas se hizo evidente. <br>  La destrucción del monolito se convirtió en una idea obvia, y nació la idea de los microservicios. </p><br><p>  En lugar de crear un monolito con toda la lógica en un servidor / instancia, puede colocar partes de la aplicación en diferentes servidores y conectarlas entre sí utilizando algún tipo de protocolo ligero, generalmente una API HTTP. </p><br><p>  Por lo tanto, la arquitectura de la aplicación ha pasado de monolitos a microservicios. </p><br><p>  Aunque, me pregunto por qué?  El valor de este enfoque es que, al editar el código, cambia la base del código no de toda la aplicación, sino del microservicio, solo la parte componente de la aplicación.  Esto significa que no puede romper la aplicación completa. </p><br><p>  Aunque esto es solo teóricamente, pero esta teoría es mejor que un monolito, aunque no es ideal. </p><br><p>  Un elemento clave para cada servicio es ... </p><br><p>  <strong>Interfaz de servicio</strong> </p><br><p>  Esta es a menudo una forma de interfaz HTTP (al menos este es el enfoque más común).  Como regla, esto no es un problema, excepto cuando tiene una gran cantidad de servicios y puede haber un problema de coordinación. </p><br><h1 id="dvizhemsya-k-besservernoy-arhitekture">  Avanzando hacia la arquitectura sin servidor </h1><br><p>  Entonces, el enfoque inicial para crear aplicaciones sin servidor en AWS fue "creemos microservicios" ... </p><br><p>  Esto significaba crear una API de puerta de enlace con la función Lambda detrás y una declaración de interruptor que actúa como un enrutador. </p><br><p>  Cada API de Gateway se convirtió en una interfaz de servicio, y eso parecía lógico. </p><br><p>  Puede realizar varios servicios que se escalen por separado, lo que en algunos casos puede ser muy importante. </p><br><p>  Excepto que no tiene sentido cuando se da cuenta de que las funciones de AWS Lambda y FaaS en general no deben considerarse como una instancia / servidor. </p><br><p> Porque aunque tienen servidores bajo el capó (bueno, hay servidores bajo la mayoría de las cosas que funcionan en Internet, pero nadie dice "S3 todavía tiene servidores" o "BigTable todavía tiene servidores" o "Azure Active Directory all todavía tiene servidores "...), existe la opinión de que debe tratar la función FaaS de la misma manera que el servicio ..." minilith ", como algunos lo llaman. </p><br><p>  El problema es que aquí falta lo que, en mi opinión, es la clave para la arquitectura sin servidor: </p><br><p>  <strong>La arquitectura sin servidor se trata de eventos</strong> </p><br><h1 id="besservernaya-arhitektura-sobytiya-i-triggery">  Arquitectura sin servidor, eventos y disparadores </h1><br><p>  Los sistemas sin servidor son inherentemente sistemas basados ​​en eventos y, por lo tanto, son representantes de la arquitectura controlada por eventos.  Cambia su enfoque de diseño, gestión y arquitectura. </p><br><p>  En el caso de los microservicios, la conclusión es responder a una interfaz; este es el mecanismo principal para interactuar con la lógica. </p><br><p>  La solución sin servidor se trata de responder a eventos, y la API en realidad es solo un mecanismo para generar eventos. </p><br><p>  Como parte del ecosistema de AWS, que es la más madura de las soluciones sin servidor, la API no se ve como la interfaz principal.  Los eventos son mucho más importantes. </p><br><p>  Y es por eso que hay alrededor de 50 eventos que pueden activar la función Lambda desde otros servicios de AWS. </p><br><p>  El consejo es que si puede ejecutar la función Lambda sin pasar por la API de Gateway, será mucho más rápido y más eficiente que usar la API de Gateway, especialmente si la ejecuta desde otra interfaz de AWS. </p><br><p>  Eche un vistazo a las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mejores prácticas sin servidor</a> , verá una serie de puntos que difieren de cuántos microservicios de diseño. </p><br><p>  En primer lugar, funciones unidireccionales.  La mayoría de los microservicios suelen usar una arquitectura de solicitud-respuesta porque la mayoría de las aplicaciones web funcionan de esta manera.  Las funciones en una aplicación sin servidor, como regla, son unidireccionales, y las colas se usan como un "disyuntor", por lo que la solicitud-respuesta se vuelve menos común. </p><br><p>  La capa de datos también se gestiona y comprende de diferentes maneras.  La mejor práctica es tener múltiples funciones, en lugar de una función proxy con una instrucción switch. </p><br><p>  La idea de múltiples funciones también proporciona ventajas adicionales sobre los microservicios.  Si una función arroja un error, esto solo afectará a esta función, y no al resto de la aplicación, porque la función no tiene estado (¡al menos debería serlo!).  ¡Y esta es una muy buena razón para no hacer "minilith"! </p><br><p>  Por lo tanto, aunque la experiencia en la creación de microservicios le brinda algunas ventajas al diseñar soluciones sin servidor, en realidad puede perder la mayor parte de lo que hace que las aplicaciones sin servidor sean valiosas. </p><br><p>  Los microservicios generalmente difieren de una aplicación sin servidor bien diseñada en varias formas.  Esto significa que, aunque es posible crear microservicios con un servidor sin servidor, en realidad no existe una ruta directa desde los microservicios a una arquitectura sin servidor. </p><br><h1 id="put-ot-mikroservisov-k-besservernoy-arhitekture">  La ruta de los microservicios a la arquitectura sin servidor </h1><br><p>  Entonces, ¿cuál es el camino desde los microservicios a las soluciones sin servidor?  ¿Existe una forma rápida de aprender los conceptos básicos para simplificar la transición de uno a otro, ya que los microservicios están muy extendidos? </p><br><p>  Creo que esto es lo que el mundo sin servidor está desconcertando.  Recientemente, hubo una gran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">discusión</a> en Twitter en la que hablamos sobre este tema.  Vale la pena consultarlo, aunque solo sea para ver de qué está hablando la comunidad (mire las diversas respuestas y verá numerosas opiniones sobre este tema, aunque nadie menciona directamente los microservicios). </p><br><p><img src="https://habrastorage.org/webt/4y/zs/hy/4yzshyn8cansnqfydkrysbcjmwe.png" alt="imagen"></p><br><p>  Hablan sobre algunas herramientas que se les indicarán para facilitar la creación de aplicaciones sin servidor, pero al final se convertirán en la plataforma en la que tendrás que construir todo.  No creo que beneficie o ayude a alguien a comprender mejor el estilo arquitectónico. </p><br><p>  Como comunidad, entendemos que la arquitectura sin servidor es el futuro.  Pero la transición de los viejos estilos arquitectónicos no siempre será fácil, incluso cuando la arquitectura sin servidor es la opción correcta (y a veces no la correcta). </p><br><p>  Hay una razón para esto.  No es tan fácil cambiar el pensamiento de una persona.  Es fácil construir una función Lambda.  Pero crear una aplicación sin servidor bien diseñada no es fácil.  Porque requiere un cambio de pensamiento, y es relativamente difícil. </p><br><p>  Y como he dicho varias veces, debemos dejar de enseñar a las personas aplicaciones de "hola mundo" y detenernos en esto porque muchas personas piensan que esto será suficiente para ellos. </p><br><p>  La razón por la que escribí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mejores prácticas sin servidor</a> fue para ayudar a las personas a comprender que no deberían hacer suposiciones sobre cómo construir aplicaciones sin servidor basadas en el conocimiento actual. </p><br><p>  Las herramientas que ahora utilizamos para crear soluciones sin servidor son las mismas herramientas que utilizamos para crear aplicaciones de "nube 1.0", pero no son completamente adecuadas para estos fines.  Estas herramientas son imperfectas, pero estamos tratando de explicarlas y hacerlas lo mejor posible. </p><br><h1 id="chto-nam-nuzhno-ot-vas">  ¿Qué necesitamos de ti? </h1><br><p>  <em>Creo que la comunidad, de hecho, está muy abierta para ayudar a las personas en capacitación y desarrollo en la creación de soluciones sin servidor.</em> </p><br><p>  Entonces, como comunidad, necesitamos sus preguntas: <br>  - ¿Cuáles son tus dificultades? <br>  - ¿Dónde están las brechas? <br>  - ¿Qué tutoriales faltan? </p><br><p>  Y algo por el estilo. </p><br><p>  Estoy listo para ayudar a las empresas a hacer esta transición.  Trabajé con la alta gerencia, los CTO y los CEO para ayudar a determinar qué valor crea una empresa utilizando un enfoque sin servidor, y estoy feliz de ayudar a otras empresas. </p><br><p>  Estoy muy feliz de ayudar  Póngase en contacto con LinkedIn <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454598/">https://habr.com/ru/post/454598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454586/index.html">Resolver crucigramas japoneses con P̶y̶t̶h̶o̶̶n̶ Rust y WebAssembly</a></li>
<li><a href="../454588/index.html">Gazprom Neft te invita a visitar: GPN Data Science Meetup</a></li>
<li><a href="../454590/index.html">Zimbra Collaboration Suite y control móvil con ABQ</a></li>
<li><a href="../454592/index.html">WAF a través de los ojos de los hackers</a></li>
<li><a href="../454596/index.html">Modelos mentales en seguridad de la información.</a></li>
<li><a href="../454600/index.html">Cómo hicimos un trato seguro en Freelansim: elija, reduzca funciones, compare comisiones</a></li>
<li><a href="../454604/index.html">Generando una aplicación React con un backend GraphQL en minutos</a></li>
<li><a href="../454606/index.html">Características del atributo inputmode para SO y navegadores móviles</a></li>
<li><a href="../454608/index.html">Acuerdo de nivel de servicio: escribimos SLA para ... otros, o la conclusión de un SLA con un operador de telecomunicaciones</a></li>
<li><a href="../454610/index.html">Marketing de contenidos, SEO, pruebas y encuestas: 9 herramientas para promover una startup en el extranjero</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>