<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍✈️ 👨‍❤️‍👨 📎 Die 10 häufigsten Fehler in C # -Projekten im Jahr 2019 🎍 👏 👩🏾‍🤝‍👨🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo an alle Fans von Bugs! Das neue Jahr steht vor der Tür, also ist es Zeit, Bilanz über das neue Jahr zu ziehen. Wir freuen uns, Ihnen die Liste d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die 10 häufigsten Fehler in C # -Projekten im Jahr 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/481174/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/970/122/d8c/970122d8c4434832fba26edb674ff23d.png" alt="Bild 1"></div><br>  Hallo an alle Fans von Bugs!  Das neue Jahr steht vor der Tür, also ist es Zeit, Bilanz über das neue Jahr zu ziehen.  Wir freuen uns, Ihnen die Liste der häufigsten vom PVS-Studio-Team gefundenen Fehler in offenen C # -Projekten im Jahr 2019 vorlegen zu können. Fertig?  Dann lass uns loslegen. <br><a name="habracut"></a><br><h2>  Zehnter Platz "Fool everyone" </h2><br>  <a href="https://www.viva64.com/en/w/v3066/">V3066</a> Mögliche falsche Reihenfolge der an die 'AdjustCellBorderStyle'-Methode übergebenen Argumente:' isFirstDisplayedRow 'und' isFirstDisplayedColumn '.  DataGridViewComboBoxCell.cs 1934 <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseMove</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">DataGridViewCellMouseEventArgs e</span></span></span><span class="hljs-function">)</span></span> { .... dgvabsEffective = AdjustCellBorderStyle( DataGridView.AdvancedCellBorderStyle, dgvabsPlaceholder, singleVerticalBorderAdded, singleHorizontalBorderAdded, isFirstDisplayedRow, <span class="hljs-comment"><span class="hljs-comment">// &lt;= isFirstDisplayedColumn); // &lt;= .... }</span></span></code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0653/">WinForms: Errors, Holmes</a> ".  Der Analysator weist darauf hin, dass wenn zwei letzte Argumente der Methode verwechselt werden.  Schauen wir uns die <i>AdjustCellBorderStyle-</i> Deklaration an: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> DataGridViewAdvancedBorderStyle </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AdjustCellBorderStyle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> DataGridViewAdvancedBorderStyledataGridViewAdvancedBorderStyleInput, DataGridViewAdvancedBorderStyle dataGridViewAdvancedBorderStylePlaceholder, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> singleVerticalBorderAdded, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> singleHorizontalBorderAdded, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isFirstDisplayedColumn, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isFirstDisplayedRow</span></span></span><span class="hljs-function">)</span></span> { .... }</code> </pre> <br>  Sieht aus wie der Analysator richtig ist.  Oft übergeben Entwickler einige Argumente absichtlich in umgekehrter Reihenfolge, um beispielsweise Variablen auszutauschen.  Aber es sieht nicht so aus.  Zunächst werden die Variablen vom Typ <i>bool vertauscht</i> .  Zweitens gibt es keine ungewöhnlichen Methodennamen: kein "Swap" oder "Reverse".  Darüber hinaus ist es nicht so schwierig, einen solchen Fehler zu machen: Die Sortierreihenfolge "Zeile / Spalte" wird von den Menschen unterschiedlich wahrgenommen. <br><br><h2>  Neunter Platz "Der Ewigkeit so nah" </h2><br>  <a href="https://www.viva64.com/en/w/v3110/">V3110</a> Mögliche unendliche Rekursion innerhalb der Methode 'TryValidateModel'.  PrefixedModuleUpdater.cs 48 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TryValidateModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> model, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> prefix</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> TryValidateModel(model, Prefix(prefix)); }</code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0681/">Scannen des Codes von Orchard CMS auf Bugs</a> ".  Es gab einen Fehler, der zu einer unendlichen Rekursion führte.  Um zu verstehen, wie der Fehler gemacht wurde, muss die <i>Überladung</i> der <i>TryValidateModel-</i> Methode <i>berücksichtigt</i> werden: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TryValidateModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> model</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _updateModel.TryValidateModel(model); }</code> </pre> <br>  Es ist wahrscheinlich, dass der erste Fall auch einen solchen Aufruf verwenden sollte: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TryValidateModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> model, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> prefix</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _updateModel.TryValidateModel(model, Prefix(prefix)); }</code> </pre> <br>  Der Code wurde erfolgreich kompiliert, da <i>_updateModel</i> vom Typ <i>IUpdateModel</i> ist und die aktuelle Klasse auch die Schnittstelle <i>IUpdateModel</i> implementiert. <br><br><h2>  Achte Stelle "Finde mich, wenn du kannst" </h2><br>  <a href="https://www.viva64.com/en/w/v3091/">V3091</a> Empirische Analyse.  Es ist möglich, dass das Zeichenfolgenliteral einen Tippfehler enthält: "Verwaltungsgruppen-ID".  Das Wort 'Id' ist verdächtig.  Konstanten.cs 36 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HelpMessages</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SubscriptionId = <span class="hljs-string"><span class="hljs-string">"Subscription Id of the subscription associated with the management"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> GroupId = <span class="hljs-string"><span class="hljs-string">"Management Group Id"</span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= public const string Recurse = "Recursively list the children of the management group"; public const string ParentId = "Parent Id of the management group"; public const string GroupName = "Management Group Id"; // &lt;= public const string DisplayName = "Display Name of the management group"; public const string Expand = "Expand the output to list the children of the management group"; public const string Force = "Force the action and skip confirmations"; public const string InputObject = "Input Object from the Get call"; public const string ParentObject = "Parent Object"; }</span></span></code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0678/">Azure PowerShell: Mostly Harmless</a> ".  Der Analysator vermutete, dass die <i>GroupName-</i> Konstante durch eine falsche Zeichenfolge initialisiert wurde.  Es sollte wahrscheinlich so etwas wie <i>"Name der Verwaltungsgruppe" geben</i> .  Die Kritikalität dieses Fehlers ist immer noch fraglich, aber der Fehler ist definitiv selten und schwer zu erkennen. <br><br><h2>  Siebter Platz "Just underlooked" </h2><br>  <a href="https://www.viva64.com/en/w/v3078/">V3078 Die</a> ursprüngliche Sortierreihenfolge geht nach wiederholtem Aufruf der 'OrderBy'-Methode verloren.  Verwenden Sie die 'ThenBy'-Methode, um die ursprüngliche Sortierung beizubehalten.  GridModel.Selection.cs 107 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GridModel</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BuildCellSelectionRegions</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MergeCellSelectionRegions(selectedItemsInView .OrderBy(c =&gt; c.Column.ItemInfo.LayoutInfo.Line) .OrderBy(c =&gt; c.RowItemInfo.LayoutInfo.Line)); } }</code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0677/">Überprüfen der Telerik-Benutzeroberfläche auf UWP als Einstieg in PVS-Studio</a> ".  Das Ergebnis der vorherigen Sortierung geht aufgrund eines wiederholten Aufrufs von <i>OrderBy</i> für die bereits sortierte Sammlung verloren.  In diesem Fall muss <i>ThenBy verwendet</i> werden: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MergeCellSelectionRegions(selectedItemsInView .OrderBy(c =&gt; c.Column.ItemInfo.LayoutInfo.Line) .ThenBy(c =&gt; c.RowItemInfo.LayoutInfo.Line));</code> </pre> <br>  Solche Fehler entstehen durch Unachtsamkeit oder Unwissenheit.  Ich denke, Copy-Paste ist hier schuld. <br><br><h2>  Sechster Platz "Der Code ist dokumentiert", sagten sie </h2><br>  <a href="https://www.viva64.com/en/w/v3009/">V3009</a> Es ist merkwürdig, dass diese Methode immer den gleichen Wert von 'true' zurückgibt.  MaskedTextProvider.cs 1529 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Remove</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> testPosition, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MaskedTextResultHint resultHint</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lastAssignedPos == INVALID_INDEX) { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">// nothing to remove. } .... return true; }</span></span></code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0656/">Überprüfen des .NET Core Libraries-Quellcodes mit dem PVS-Studio Static Analyzer</a> ".  Die Methode gibt immer <i>true zurück</i> .  Ja, es ist ein Fehler, aber es gibt noch eine andere Sache, die wirklich neugierig ist.  Der Methode folgt der ausführliche Kommentar: <br><br>  <i>Entfernt das letzte Zeichen aus der formatierten Zeichenfolge.</i>  <i>(Letztes Zeichen in virtueller Zeichenfolge entfernen).</i>  <i>Beim Beenden enthält der Parameter out die Position, an der die Operation tatsächlich ausgeführt wurde.</i>  <i>Diese Position ist relativ zum Teststring.</i>  <i>Der Parameter MaskedTextResultHint out gibt weitere Informationen zum Operationsergebnis.</i>  <i>Gibt</i> <i>bei Erfolg</i> <b><i>true zurück</i></b> <i>,</i> <i>andernfalls</i> <b><i>false</i></b> <i>.</i> <br><br>  Achte auf den letzten Satz.  Wer liest diese Kommentare überhaupt?  Wenn wir es jedoch ernst nehmen, wird ein solcher Fehler leicht unterstellt, beispielsweise beim Refactoring oder Debuggen.  Nun, die Autoren wollten die Variante überprüfen, wenn das Ergebnis der Methode immer <i>wahr ist</i> , vergaßen jedoch, alles so zurückzugeben, wie es war. <br><br><h2>  Fünfter Platz "Index mich jetzt!" </h2><br>  <a href="https://www.viva64.com/en/w/v3102/">V3102</a> Verdächtiger Zugriff auf ein Element eines ' <a href="https://www.viva64.com/en/w/v3102/">seq'</a> -Objekts durch einen konstanten Index innerhalb einer Schleife.  XmlQueryRuntime.cs 738 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MatchesXmlType</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IList&lt;XPathItem&gt; seq, ....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; seq.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!CreateXmlType(seq[<span class="hljs-number"><span class="hljs-number">0</span></span>]).IsSubtypeOf(....)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0656/">Überprüfen des .NET Core Libraries-Quellcodes mit dem PVS-Studio Static Analyzer</a> ".  Beim Durchlaufen der <i>seq-</i> Auflistung in der <i>for-</i> Schleife verwendet der Entwickler fälschlicherweise den Zugriff nur auf das erste Element aller Iterationen (Index 0 anstelle von <i>i</i> ). <br><br><h2>  Vierter Platz "Nur ein Dollar knapp" </h2><br>  <a href="https://www.viva64.com/en/w/v3138/">V3138</a> String-Literal enthält einen möglichen interpolierten Ausdruck.  Betrachten Sie die Inspektion: e.  SSPIHandleCache.cs 42 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CacheCredential</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SafeFreeCredentials newHandle</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { .... } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ExceptionCheck.IsFatal(e)) { NetEventSource.Fail(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Attempted to throw: {e}"</span></span>); } } }</code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0656/">Überprüfen des .NET Core Libraries-Quellcodes mit dem PVS-Studio Static Analyzer</a> ".  Anscheinend sollte der String <i>"Versuch zu werfen: {e}"</i> interpoliert werden.  Aufgrund des fehlenden <i>$</i> -Zeichens wird die Zeilendarstellung der <i>e-</i> Ausnahme nicht in die Zeichenfolge eingefügt.  Infolgedessen wird die Zeile "so wie sie ist" verwendet. <br><br><h2>  Dritter Platz „Es gibt keinen Ausweg“ </h2><br>  <a href="https://www.viva64.com/en/w/v3008/">V3008</a> [CWE-563] Der Variablen 'this.linker.s3.region' werden nacheinander zweimal Werte zugewiesen.  Vielleicht ist das ein Fehler.  Zeilen prüfen: 116, 114. AWSSDK.DynamoDBv2.Net45 S3Link.cs 116 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Region { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { .... } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linker.s3.region = <span class="hljs-string"><span class="hljs-string">"us-east-1"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linker.s3.region = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } }</code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0605/">Suchen nach Fehlern im Amazon Web Services SDK-Quellcode für .NET</a> ".  <i>Return</i> wurde im Body des <i>if-</i> Blocks verpasst.  Infolgedessen <i>erhält die</i> Variable <i>this.linker.s3.region</i> immer einen <i>Wert,</i> einschließlich einer leeren Zeile und <i>null.</i> <br><br><h2>  Zweiter Platz "Richtiges Kleid!" </h2><br>  <a href="https://www.viva64.com/en/w/v3070/">V3070</a> Nicht initialisierte Variable 'LANG_USER_DEFAULT' wird beim Initialisieren der Variablen 'LOCALE_USER_DEFAULT' verwendet.  NativeMethods.cs 890 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">NativeMethods</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LOCALE_USER_DEFAULT = MAKELCID(LANG_USER_DEFAULT); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LANG_USER_DEFAULT = MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT); .... }</code> </pre> <br>  Der Fehler aus dem Artikel " <a href="https://www.viva64.com/en/b/0653/">WinForms: Errors, Holmes</a> ".  Die Initialisierungsreihenfolge von Klassenfeldern ist verwirrt.  Um den Wert des Feldes <i>LOCALE_USER_DEFAULT</i> zu berechnen, wird das Feld <i>LANG_USER_DEFAULT</i> verwendet, das derzeit noch nicht initialisiert ist und den Wert 0 hat. Die Variable wird an keiner Stelle im Code weiter verwendet.  Um herauszufinden, wozu dieser Fehler führt, wurde ein komplettes Testprogramm geschrieben, das Methoden aus WinForms-Code enthält.  Anstelle einiger verwendeter Konstanten wurden der Einfachheit halber ihre tatsächlichen Werte eingesetzt: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">NativeMethods</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LOCALE_USER_DEFAULT = MAKELCID(LANG_USER_DEFAULT); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LANG_USER_DEFAULT = MAKELANGID(<span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x01</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MAKELANGID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> primary, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sub</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((((<span class="hljs-keyword"><span class="hljs-keyword">ushort</span></span>)(sub)) &lt;&lt; <span class="hljs-number"><span class="hljs-number">10</span></span>) | (<span class="hljs-keyword"><span class="hljs-keyword">ushort</span></span>)(primary)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MAKELCID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lgid</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MAKELCID(lgid, <span class="hljs-number"><span class="hljs-number">0x0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MAKELCID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lgid, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sort</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((<span class="hljs-number"><span class="hljs-number">0xFFFF</span></span> &amp; lgid) | (((<span class="hljs-number"><span class="hljs-number">0x000f</span></span>) &amp; sort) &lt;&lt; <span class="hljs-number"><span class="hljs-number">16</span></span>)); } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { System.Console.WriteLine(NativeMethods.LOCALE_USER_DEFAULT); } }</code> </pre> <br>  Als Ergebnis der Ausführung erhalten wir Folgendes: 0. Beheben wir nun den Fehler, indem wir die Deklaration der Felder <i>LOCALE_USER_DEFAULT</i> und <i>LANG_USER_DEFAULT vertauschen</i> .  Ergebnis der Programmausführung: 1024. <br><br><h2>  Erster Platz "Erst versuchen, dann vertrauen" </h2><br>  Mit dem ersten Platz ist es nie einfach.  Hier muss etwas Außergewöhnliches und Faszinierendes sein.  Anfangs habe ich für diesen Artikel mehr als zwanzig interessante Fehler ausgewählt, aber es gab nichts, was den ersten Platz unter ihnen verdient hätte.  Damals erinnerte ich mich an den Artikel meines Kollegen Sergey Vasiliev.  Der Artikel ging nur auf einen einzelnen Fehler ein.  Das Schöne an diesem Fehler ist, dass er die Arbeit unseres Analysators direkt beeinflusst.  Wie?  Sie können es bereits aus dem Titel des Artikels abrufen: " <a href="https://www.viva64.com/en/b/0654/">Die Geschichte, wie PVS-Studio einen Fehler in der in ... PVS-Studio verwendeten Bibliothek gefunden hat</a> ".  Hier fühlte ich mich zu faul, um den Fehler zu beschreiben, und würde daher vorschlagen, dass Sie dem Link folgen und die Details herausfinden.  :) Ich garantiere, es lohnt sich.  Darüber hinaus ist der Artikel kurz. <br><br><h2>  Fazit </h2><br>  Ich hoffe, die Fehler waren für Sie ausstehend und der Artikel war nicht anstrengend.  Sie können jederzeit den PVS-Studio-Analysator <a href="https://www.viva64.com/en/pvs-studio-download/">herunterladen</a> , um Fehler in Ihren Projekten und in Projekten von Drittanbietern zu finden, die Sie, Ihre Kollegen und jeden Tom, Dick oder Harry zufriedenstellen.  Lass die Fehler kleiner sein und Zeit für Selbstverbesserung - mehr!  :) <br><br>  Hast du bis zum Ende gelesen?  Herzlichen Glückwunsch zum Erreichen des neuen Levels!  Verpassen Sie nicht unsere neuesten Artikel in unserem Blog - die besten Fehler in <a href="https://habr.com/en/company/pvs-studio/blog/481184/">Java-</a> und <a href="https://habr.com/en/company/pvs-studio/blog/481188/">C ++ -</a> Projekten, die 2019 gefunden wurden. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b4c/f27/4c0/b4cf274c045d32ce12b08487befdede7.png" alt="Bild 2"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481174/">https://habr.com/ru/post/de481174/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481156/index.html">Yandex.Taxi und nicht nur: Was ist über die möglichen Börsengänge russischer Unternehmen im Jahr 2020 bekannt</a></li>
<li><a href="../de481158/index.html">„Technologien zu entwickeln, ohne darüber nachzudenken, wer sie einsetzt, ist völlig sinnlos“: ein großes Interview mit Anton Weiss</a></li>
<li><a href="../de481166/index.html">Prototyping von Spieloberflächen für die Geisteswissenschaften</a></li>
<li><a href="../de481168/index.html">Von Hadoop bis Cassandra: Top 5 Big Data Tools</a></li>
<li><a href="../de481172/index.html">Starkes KI-Modell</a></li>
<li><a href="../de481176/index.html">Kuriere Yandex.Food and Delivery Club brauchen eine Gewerkschaft</a></li>
<li><a href="../de481178/index.html">Top 10 Bugs in C # -Projekten für 2019</a></li>
<li><a href="../de481180/index.html">Müssen Entwickler Vorschläge von Benutzern erhalten?</a></li>
<li><a href="../de481182/index.html">Istio Service Mesh Beiträge Serie</a></li>
<li><a href="../de481184/index.html">Die 10 häufigsten Fehler in Java-Projekten im Jahr 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>