<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì∑ üê• ‚óÄÔ∏è Wie wir einem Auto beigebracht haben, mit Millionen von Menschen zu sprechen üóÇÔ∏è üõ¥ üç∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Marketing in X5 besteht aus vielen Daten. Pyaterochka beispielsweise sendet jeden Monat mehr als 30 Millionen Mitteilungen, und diese Zahl w√§chst st√§n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir einem Auto beigebracht haben, mit Millionen von Menschen zu sprechen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/430112/">  Marketing in X5 besteht aus vielen Daten.  Pyaterochka beispielsweise sendet jeden Monat mehr als 30 Millionen Mitteilungen, und diese Zahl w√§chst st√§ndig.  Es k√∂nnen mehrere Angebote gleichzeitig an einen Kunden gesendet werden, und es ist wichtig, die richtigen auszuw√§hlen.  Die Aktien des Gesch√§fts sollten f√ºr den Kunden interessant und f√ºr den Einzelh√§ndler wirtschaftlich gerechtfertigt sein.  In diesem Beitrag erfahren Sie, wie wir mithilfe von maschinellem Lernen wirklich beliebte Angebote ermittelt und die Auswirkungen von Spam beseitigt haben. <br><br><img src="https://habrastorage.org/webt/j4/h3/pq/j4h3pqwpk3fbr80vohjqfuxh1ce.jpeg"><br><a name="habracut"></a><br>  Um die Kommunikation mit Kunden von Pyaterochka, Perekrestok und Karusel zu verbessern, arbeitet ein gro√ües Team in der X5 Retail Group. <br><br>  Die Wartung dieses Systems erfordert die Arbeit von Dutzenden von Personen und Systemen: genaue Datenakkumulation in Oracle, Datenanalyse und Einrichtung von Kampagnen in SAS, Einrichtung von Bonusregeln in Comarch.  Jeden Tag treffen Analysten Entscheidungen dar√ºber, wie sie das aktuell relevanteste Angebot ausw√§hlen, und w√§hlen aus einer Vielzahl von Optionen aus, basierend auf historischen Daten zu den Ergebnissen der Aktie.  Wir arbeiten auch daran, dass die Kommunikation adressiert wird und nichts mit Spam zu tun hat. <br><br>  Wir haben dar√ºber nachgedacht, wie der Prozess der Auswahl eines kundenrelevanten Angebots mithilfe von maschinellem Lernen in den automatischen Modus √ºbersetzt werden kann, damit: <br><br><ul><li>  gesammelte Informationen √ºber Kunden und vergangene Kampagnen </li><li>  Das System selbst hat aus neuen Daten gelernt </li><li>  Die Planung wurde mehr als einen Schritt vorw√§rts berechnet </li></ul><br>  So kamen wir zur Realisierung selbstorganisierender Systeme und die √Ñra der Entwicklung des Reinforcement Learning-Systems in X5 begann. <br><br>  <b>Ein bisschen √ºber Reinforcement Learning</b> <br>  * RL (Reinforcement Learning) ist verst√§rktes Lernen.  Eine der M√∂glichkeiten des maschinellen Lernens, bei der das Testsystem (Agent) geschult wird und mit einer bestimmten Umgebung interagiert. <br><br>  Die Theorie des verst√§rkten Lernens basiert auf zwei Konzepten: Aktion und Zustand.  Basierend auf dem Status des Objekts entscheidet der Algorithmus √ºber die Auswahl der Aktionen.  Infolge der perfekten Aktion f√§llt das Objekt in einen neuen Zustand und so weiter. <br><br><img src="https://habrastorage.org/webt/ad/wc/ce/adwcceygr-9khoxjow8pbuf0urg.png"><br><br>  Vorausgesetzt, dass: <br><br><ul><li>  Agent - Client </li><li>  Aktion - Kommunikation mit dem Kunden </li><li>  state - state (Satz von Metriken) des Clients </li><li>  Zielfunktion - weiteres Kundenverhalten (z. B. Umsatzsteigerung oder Reaktion auf eine Zielkampagne) </li></ul><br>  ... dann sollte das beschriebene System das gesetzte Ziel l√∂sen und die Agenten (Kunden) selbst werden ihre Aktionen (Belohnungen und Kampagnen) f√ºr ihren Komfort und ihre sinnvollen Beziehungen zum Gesch√§ft ausw√§hlen. <br><br>  <b>Was der Weltverstand RL bietet</b> <br>  Zun√§chst suchten wir nach Beispielen f√ºr L√∂sungen f√ºr solche Probleme, die in Open Source beschrieben wurden. <br>  Einige interessante Beispiele gefunden: <br><br>  <i>√úber Tools:</i> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.quora.com/What-frameworks-are-verf√ºgbar-f√ºr- Verst√§rkungslernen</a> </li></ul><br>  <i>Informationen zum Anwenden von RL auf √§hnliche Marketingaufgaben:</i> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.researchgate.net/publication/221653839_Cross_channel_optimized_marketing_by_reinforcement_learning</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">cseweb.ucsd.edu/~elkan/254spring02/sequential.pdf</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www0.cs.ucl.ac.uk/staff/d.silver/web/Publications_files/concurrent-rl.pdf</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">arxiv.org/pdf/1504.01840.pdf</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">habrahabr.ru/company/ods/blog/325416</a> </li></ul><br>  Aber alle passten nicht zu unserem Fall oder erweckten kein Vertrauen. <br><br>  <b>Stufe 1. Prototypl√∂sungen</b> <br><br>  Aus diesem Grund haben wir uns entschlossen, unseren Ansatz weiterzuentwickeln. <br><br>  Um Risiken zu minimieren und nicht in eine Situation zu geraten, in der das System lange Zeit ohne wirklichen Einsatz entwickelt wurde und dann schlie√ülich nicht startete, haben wir uns entschlossen, mit einem Prototyp zu beginnen, der die RL-Methode nicht in ihrer reinen Form implementiert, sondern ein verst√§ndliches Gesch√§ftsergebnis liefert. <br><br>  Die Basis der grundlegenden Implementierungen des verst√§rkten Lernens ist die Zustands-Aktions-Ergebnis-Matrix, die jedes Mal aktualisiert wird, wenn neue Informationen aus der Umgebung empfangen werden. <br><br>  Um den Zustandsraum zu verkleinern, wurde als Teil des Prototyps ein √úbergang vom Client zum Segment vorgenommen, in dem alle Clients anhand der folgenden Parameter in 29 Gruppen unterteilt wurden: <br><br><ul><li>  durchschnittlicher Scheck </li><li>  H√§ufigkeit der Eink√§ufe </li><li>  Korbstabilit√§t </li><li>  Korbf√ºllung </li><li>  Kundenbindung (das Verh√§ltnis der Anzahl der Wochen mit Eink√§ufen zur Anzahl der Wochen, in denen eine Person am Kundenbindungsprogramm teilgenommen hat) </li></ul><br>  Daher wurde die Aufgabe darauf reduziert, eine Matrix der folgenden Form zu lernen: <br><br><img src="https://habrastorage.org/webt/xg/od/fy/xgodfykbktkdomfwiethcvsxn20.png"><br><br>  An der Kreuzung sollte die Matrix mit dem Wert der Zielfunktion gef√ºllt werden. <br><br>  In der ersten Version des Algorithmus wurde die spezifische Antwort auf die Kampagne als Funktion des Ziels ausgew√§hlt. <br><br>  Der erste Prototyp, den wir in ein paar Wochen in SQL (Oracle) und Python entwickelt haben.  Wir hatten historische Kommunikationsdaten, sodass wir die Matrix teilweise mit dem gesch√§tzten Gewicht der "Angebot-zu-Angebot" -Paare f√ºllen konnten.  Leider stellte sich heraus, dass f√ºr einige Paare nicht gen√ºgend Daten vorhanden sind.  Das hat uns nicht aufgehalten, wir haben uns nach Kampfversuchen gesehnt. <br><br>  Die Marketingabteilung von Pyaterochka beauftragte uns mit Daten zu zwei Millionen Kunden f√ºr zehnw√∂chige Experimente.  Zu diesem Zeitpunkt waren diese Kunden von allen anderen Kommunikationen getrennt.  Wir haben die H√§lfte der Kunden in der Kontrollgruppe identifiziert, in den √ºbrigen Gruppen haben wir den Prototyp getestet. <br><br>  Die RL-Theorie sagte uns, dass wir nicht nur die beste Aktion ausw√§hlen, sondern auch weiter lernen sollten.  Daher haben wir jedes Mal eine zuf√§llige Kampagne an einem kleinen Prozentsatz der Kunden getestet.  Dementsprechend erhielten die verbleibenden Kunden das beste Angebot (die beste Kampagne).  So haben wir die Œµ-gierige Methode zur Auswahl des optimalsten Angebots implementiert. <br><br><img src="https://habrastorage.org/webt/uj/56/al/uj56aldamk8c6-xyunn7dvyndw8.png"><br><br>  Nach drei Systemstarts wurde klar, dass die Auswahl der besten Antwortkampagne nicht zu einer Erh√∂hung der spezifischen RTO pro Kampagne f√ºhrt (dieser Indikator ist das Hauptma√ü f√ºr die Wirksamkeit einer gezielten Kampagne in einer Organisation). <br><br>  Durch die direkte √Ñnderung der Zielfunktion (und damit des Algorithmus zur Auswahl der besten Kampagne) in inkrementelle RTO haben wir festgestellt, dass die aus dieser Sicht erfolgreichsten Kampagnen hinsichtlich des ROI unrentabel sind. <br><br>  Zum achten Start des Systems haben wir die Funktion des Ziels zum dritten Mal ge√§ndert, jetzt auf ROI. <br><br>  <b>Schlussfolgerungen aus der Entwicklung des Prototyps</b> <br><br>  Nachfolgend finden Sie die Leistungsdiagramme f√ºr die Hauptindikatoren: <br><br><ul><li>  Nettokundenreaktion auf Kommunikation </li><li>  Inkrementelle RTO </li><li>  Marginalit√§t </li></ul><br><img src="https://habrastorage.org/webt/3z/xi/ln/3zxilngdig1is0jilssemdqlof0.png"><br><br><img src="https://habrastorage.org/webt/q0/zq/t7/q0zqt7qlsvrfvadiva3wy6ff3ui.png"><br><br><img src="https://habrastorage.org/webt/b-/9a/ga/b-9aga-qsikuynb_u6r9hramzu8.png"><br><br>  M√∂glicherweise stellen Sie fest, dass die Effizienz des Prototyps (in inkrementeller RTO) beim letzten Start das durchschnittliche Ergebnis der von Analysten gestarteten Kampagnen √ºberstieg. Wenn wir nur die ‚Äûbesten‚Äú Segmente und Angebote ber√ºcksichtigen, ist der Unterschied mehr als doppelt so hoch. <br><br>  F√ºr die Zukunft haben wir folgende Schlussfolgerungen gezogen: <br><br><ol><li>  Es reicht m√∂glicherweise nicht aus, im Voraus mit einem KPI-Unternehmen zu sprechen.  Auch die KPIs eines Gesch√§ftskunden √§ndern sich.  (Also sind wir von RTO zur Marginalit√§t √ºbergegangen). </li><li>  Indirekte Ziele (in unserem Fall die Antwort) sind gut, aber fr√ºher oder sp√§ter werden Sie aufgefordert, die direkten Leistungsindikatoren zu ber√ºcksichtigen. </li><li>  Die besten Paare wurden Segmentkampagnen gefunden, die durchweg gute Ergebnisse zeigen.  Diese Kampagnen wurden in der gesamten Basis gestartet und generieren regelm√§√üig Einnahmen. </li></ol><br>  Gesamt: <br><br><ol><li>  Schaltung funktioniert </li><li>  Es lohnt sich, die Kosten des Kunden zu ber√ºcksichtigen (der Sieg im IRTI hat das Wachstum des ROI nicht sichergestellt). </li><li>  Ich m√∂chte den Antwortverlauf ber√ºcksichtigen </li><li>  Jetzt ist es nicht mehr so ‚Äã‚Äãbe√§ngstigend, auf Client-Ebene zu wechseln </li></ol><br>  <b>Stufe 2. Wir beenden das System</b> <br><br>  Inspiriert von den Ergebnissen der ersten Phase haben wir beschlossen, das System fertigzustellen und die folgenden funktionalen Verbesserungen vorzunehmen: <br><br>  1) Gehen Sie von der Auswahl eines Angebots zu einem Kundensegment zur Auswahl eines individuellen Angebots f√ºr einen Kunden und beschreiben Sie es mit einer Reihe von Metriken: <br><br><ul><li>  Antwortflag f√ºr das letzte Angebot </li><li>  Das Verh√§ltnis der Zapfwelle des Kunden f√ºr 2 Wochen zur Zapfwelle f√ºr 6 Wochen </li><li>  Das Verh√§ltnis der Anzahl der Tage seit dem letzten Kauf zur durchschnittlichen Entfernung zwischen Transaktionen </li><li>  Anzahl der Wochen seit der letzten Mitteilung </li><li>  Das Verh√§ltnis der H√∂he der pro Monat verwendeten Boni zur H√∂he der RTO pro Monat </li><li>  Erreichen des Ziels in den letzten zwei Wochen </li><li>  Flaggen der Reaktion auf Angebote mit verschiedenen Arten von Belohnungen </li><li>  W√§hlen Sie nicht 1, sondern eine Kette von zwei aufeinander folgenden Kampagnen </li></ul><br>  2) um die Funktion des Ziels zu kl√§ren und zus√§tzlich zur Reaktion das Wachstum der Zapfwelle hinzuzuf√ºgen :). <br><br>  Bei der Auswahl eines individuellen Angebots f√ºr den Kunden konzentrieren wir uns nun auf den erwarteten Wert der Zielfunktion Q1: <br><br><ul><li>  Q = 1, wenn der Kunde auf die Kampagne reagiert hat und seine 2-w√∂chige RTO w√§hrend der Episode um m% gewachsen ist </li><li>  Q = 0, wenn der Kunde NICHT auf die Kampagne reagiert hat und seine 2-w√∂chige RTO w√§hrend der Episode um m% gewachsen ist </li><li>  Q = 0, wenn der Kunde auf die Kampagne reagiert hat und seine 2-w√∂chige RTO w√§hrend der Episode WENIGER als um m% gewachsen ist </li><li>  Q = -1, wenn der Kunde NICHT auf die Kampagne reagiert hat und seine 2-w√∂chige RTO w√§hrend der Episode WENIGER als um m% gewachsen ist </li></ul><br>  Jetzt ist die Pilotierung des zweiten Ansatzes in vollem Gange, aber wir haben bereits fr√ºhere Ergebnisse √ºbertroffen. <br><br>  <b>Was weiter</b> <br><br>  Gl√ºcklicherweise erfreuen die Ergebnisse nicht nur das Implementierungs- und Entwicklungsteam, sondern auch die Gesch√§ftskunden. Daher ist geplant, in Zukunft neben funktionalen Verbesserungen √§hnliche Systeme zu erstellen, die f√ºr Echtzeit- und Online-Marketing funktionieren. <br><br>  Dar√ºber hinaus wird ein aufmerksamer Leser feststellen, dass wir RL bisher nicht in seiner reinsten Form verwendet haben, sondern nur in seinem Konzept.  Trotz dieser Vereinfachung beobachten wir ein positives Ergebnis und sind nun bereit, weiterzumachen, was unseren Algorithmus kompliziert.  Mit unserem Beispiel m√∂chten wir andere dazu inspirieren, ‚Äûvon einfach zu komplex‚Äú zu wechseln. <br><br>  <i>Edition Habr X5 dankt der Firma Glowbyte Consulting f√ºr die Hilfe bei der Vorbereitung eines Beitrags.</i>  <i>Der Pilot wurde von einem kombinierten Team von sechs Spezialisten aus Pyaterochka und Glowbyte abgeschlossen.</i> <i><br><br></i>  <i>√úbrigens suchen wir einen Big Data-Produktentwicklungsmanager, Datenspezialisten, Analysespezialisten und Kundenbindungsprogrammmanager.</i> <i><br></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430112/">https://habr.com/ru/post/de430112/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430094/index.html">Retroconsole Regal kommt: PC Classic f√ºr diejenigen, die sich f√ºr DOS-Spiele interessieren</a></li>
<li><a href="../de430102/index.html">ENOG 15: ‚ÄûWarum ist das Internet immer noch online?‚Äú</a></li>
<li><a href="../de430104/index.html">Medizinische Daten | Stellen Sie keine Gesundheitskarte in Ihren H√§nden aus</a></li>
<li><a href="../de430106/index.html">Neu bei XYZprinting auf der IMTS 2018: 3D-Drucker und Roboter</a></li>
<li><a href="../de430108/index.html">Warum "Young Technician" keinen Laser bauen kann</a></li>
<li><a href="../de430114/index.html">So erstellen Sie zuverl√§ssige Spielmechaniken in Excel. Teil 2</a></li>
<li><a href="../de430116/index.html">Computer schreiben Prosa, sind aber den Menschen immer noch unterlegen. Warum?</a></li>
<li><a href="../de430118/index.html">Unity3D: √Ñndern Sie den iOS App Delegate</a></li>
<li><a href="../de430120/index.html">Z√§hme das Biest. Was wir bei der Entwicklung einer pers√∂nlichen Tagebuchanwendung f√ºr React Native gesehen haben</a></li>
<li><a href="../de430122/index.html">Workaholism ist eine schmerzhafte Erkrankung, √ºber die nicht √ºblich gesprochen wird.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>