<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>↔️ 🎣 👩🏻‍🍳 F # 8: الاتحادات التمييزية 🐠 ☃️ 🧗🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="لذلك تستمر رحلتنا F #. لقد بحثنا في بعض الأنواع الأساسية لبنات البناء ، مثل السجلات / المجموعات ، فقد حان الوقت الآن لإلقاء نظرة على الارتباطات المميز...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>F # 8: الاتحادات التمييزية</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470275/" style=";text-align:right;direction:rtl">  لذلك تستمر رحلتنا F #.  لقد بحثنا في بعض الأنواع الأساسية لبنات البناء ، مثل السجلات / المجموعات ، فقد حان الوقت الآن لإلقاء نظرة على الارتباطات المميزة. <br><a name="habracut"></a><br>  توفر النقابات المصنّفة الدعم للقيم ، والتي يمكن أن تكون واحدة من عدة قيم محتملة.  تُعرف القيم المحتملة باسم "الحالات المدمجة" ، وتأخذ النموذج الموضح أدناه: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">case-identifier1 [of [ fieldname1 : ] type1 [ * [ fieldname2 : ] type2 …]</code> </pre> <br>  لا تقلق إذا كان بناء الجملة هذا يبدو مخيفًا ، فإن ما يميزه حقًا هو وجود تسمية بحيث يمكن التعرف على كل حالة (تمييز) عن الحالات الأخرى ، ونوع حالة الجمع.  الاسم يحتوي على قواعد معينة ، مثل <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  يجب أن تبدأ بحرف كبير </li><li style=";text-align:right;direction:rtl">  يمكن أن يكون معرفًا ، بما في ذلك اسم نوع الاتحاد.  قد يكون هذا مربكًا بعض الشيء ، لكن من المفيد وصف حالة الدمج. </li></ul><br>  هنا مثال لمعرف سيء <br><br><img src="https://habrastorage.org/getpro/habr/post_images/832/c8a/fe0/832c8afe07d8b70c609873c18652b27e.png" alt="صورة"><br><br>  وهنا كيف يمكن أن يبدو شيء من هذا القبيل عند استخدام معرف علامة يطابق سجل الاتحاد ، والذي ، كما ذكر سابقًا ، صالح تمامًا <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">LabelUnionType</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Int</span></span></span><span class="hljs-class"> of int | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span><span class="hljs-class"> of string</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  بناء الجمعيات الموسومة </h4><br>  فكيف لبناء حالة التوحيد؟  حسنًا ، هناك طرق مختلفة ، يمكنك استخدام أحد الأساليب التالية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">let</span></span> currentLabelUnionType1 = <span class="hljs-number"><span class="hljs-number">13</span></span> printfn <span class="hljs-string"><span class="hljs-string">"let currentLabelUnionType1 = 13"</span></span> printfn <span class="hljs-string"><span class="hljs-string">"%O"</span></span> currentLabelUnionType1 <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> currentLabelUnionType2 = <span class="hljs-type"><span class="hljs-type">Int</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> printfn <span class="hljs-string"><span class="hljs-string">"let currentLabelUnionType2 = Int 23"</span></span> printfn <span class="hljs-string"><span class="hljs-string">"%O"</span></span> currentLabelUnionType2 printfn <span class="hljs-string"><span class="hljs-string">"%A"</span></span> currentLabelUnionType2 <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> currentLabelUnionType3 = <span class="hljs-string"><span class="hljs-string">"Cat"</span></span> printfn <span class="hljs-string"><span class="hljs-string">"let currentLabelUnionType3 = \"Cat\""</span></span> printfn <span class="hljs-string"><span class="hljs-string">"%O"</span></span> currentLabelUnionType3 printfn <span class="hljs-string"><span class="hljs-string">"%A"</span></span> currentLabelUnionType3 <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> currentLabelUnionType4 = <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-string"><span class="hljs-string">"Cat"</span></span> printfn <span class="hljs-string"><span class="hljs-string">"let currentLabelUnionType4 = String \"Cat\""</span></span> printfn <span class="hljs-string"><span class="hljs-string">"%O"</span></span> currentLabelUnionType4 printfn <span class="hljs-string"><span class="hljs-string">"%A"</span></span> currentLabelUnionType4</code> </pre> <br>  والتي عند بدء التشغيل يمكن أن تعطي النتائج التالية عند إطلاقها من خلال وظيفة printfn (يمكنني استخدام٪ A أو٪ O printfn المنسق أدناه): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf0/376/0be/cf03760be0b27e0621fb455e9e747871.png" alt="صورة"><br><br>  يمكنك استخدام أي نوع إلى حد كبير في الجمع بين مثل الحالات <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  قطار </li><li style=";text-align:right;direction:rtl">  الوثائق </li><li style=";text-align:right;direction:rtl">  أنواع أخرى </li></ul><br>  والقاعدة الوحيدة هي أنه يجب تحديد النوع قبل أن تستخدمه حالة الاتحاد الخاصة بك. <br><br>  فيما يلي مثال يستخدم نوع tuple في حالات الاتحاد: <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> unionUsingTuples = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CCY</span></span></span><span class="hljs-class"> of (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class"> * </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span><span class="hljs-class">) | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Rates</span></span></span><span class="hljs-class"> of (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class"> * </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">decimal</span></span></span><span class="hljs-class">) ..... ..... let tupledUnion = (12, "</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GBP</span></span></span><span class="hljs-class">")</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  النقابات الفارغة </h4><br>  يمكنك أيضًا استخدام النقابات الفارغة.  وهي تلك التي لا تحدد فيها النوع.  هذا يجعلها أكثر تشابهًا مع قيم التعداد .NET القياسية.  هنا مثال: <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Player</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Cross</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Nought</span></span></span><span class="hljs-class"> .... .... let emptyUnion = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Cross</span></span></span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  ماذا عن حالات مماثلة حسب النوع </h4><br>  يمكن لعين النسر ، مثلك ، رؤية المشكلة.  ماذا سيحدث إذا كان لدينا شيء مثل هذا: <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PurchaseOrders</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Orders</span></span></span><span class="hljs-class"> of (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">string</span></span></span><span class="hljs-class"> * </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class">) | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Empty</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ClientOrders</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Orders</span></span></span><span class="hljs-class"> of (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">string</span></span></span><span class="hljs-class"> * </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class">) | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Empty</span></span></span></span></code> </pre> <br>  هذا يسبب لنا مشاكل ، أليس كذلك.  كيف نميز بين هذه الأنواع من التحالفات المرسومة؟  لحسن الحظ ، يمكننا اتباع نهج مؤهل بالكامل لهذا ، حتى نتمكن من القيام بذلك ، وكل شيء سوف يعمل كما هو متوقع.  تجدر الإشارة إلى أنه يمكنك اتخاذ خطوة أخرى إلى الأمام وتضمين اسم الوحدة النمطية إذا كانت الوحدة متورطة (سنتعلم المزيد عن هذا لاحقًا في المقالة التالية): <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">let</span></span> purchaseOrders = <span class="hljs-type"><span class="hljs-type">PurchaseOrders</span></span>.<span class="hljs-type"><span class="hljs-type">Orders</span></span> (<span class="hljs-string"><span class="hljs-string">"box of 100 scrubbing brushes"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> clientOrders = <span class="hljs-type"><span class="hljs-type">ClientOrders</span></span>.<span class="hljs-type"><span class="hljs-type">Orders</span></span> (<span class="hljs-string"><span class="hljs-string">"scrubbing brush"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>)</code> </pre> <br><h4 style=";text-align:right;direction:rtl">  مقارنة </h4><br>  كما هو الحال مع العديد من أنواع F # ، تعتبر الصلات المحددة متساوية فقط إذا <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  طول قضيتهم مجتمعة هو نفسه. </li><li style=";text-align:right;direction:rtl">  تطابق أنواع حالات اتحادهم. </li><li style=";text-align:right;direction:rtl">  قيم حالات تكوين الجمعيات هي نفسها. </li></ul><br><h4 style=";text-align:right;direction:rtl">  غير متساو </h4><br>  فيما يلي مثال حيث لا تحترم المساواة: <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">let</span></span> purchaseOrders1 = <span class="hljs-type"><span class="hljs-type">PurchaseOrders</span></span>.<span class="hljs-type"><span class="hljs-type">Orders</span></span> (<span class="hljs-string"><span class="hljs-string">"box of 100 scrubbing brushes"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> purchaseOrders2 = <span class="hljs-type"><span class="hljs-type">PurchaseOrders</span></span>.<span class="hljs-type"><span class="hljs-type">Orders</span></span> (<span class="hljs-string"><span class="hljs-string">"10 pack of disks"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) printfn <span class="hljs-string"><span class="hljs-string">"purchaseOrders1 = purchaseOrders2 %A"</span></span> (purchaseOrders1 = purchaseOrders2)</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/6f7/16a/355/6f716a3554105e739c50e42de2846287.png" alt="صورة"><br><br><h4 style=";text-align:right;direction:rtl">  هي </h4><br>  هنا مثال على المساواة.  هذا يشبه رمز .NET المعتاد ، كما تعلمون ، إذا كان الأعضاء متماثلين ، لديهم نفس القيم ورقمهم الصحيح ، فسيكون هذا هو نفسه تقريبًا (إذا تجاهلنا رموز التجزئة): <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">let</span></span> purchaseOrders1 = <span class="hljs-type"><span class="hljs-type">PurchaseOrders</span></span>.<span class="hljs-type"><span class="hljs-type">Orders</span></span> (<span class="hljs-string"><span class="hljs-string">"box of 100 scrubbing brushes"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> purchaseOrders2 = <span class="hljs-type"><span class="hljs-type">PurchaseOrders</span></span>.<span class="hljs-type"><span class="hljs-type">Orders</span></span> (<span class="hljs-string"><span class="hljs-string">"box of 100 scrubbing brushes"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) printfn <span class="hljs-string"><span class="hljs-string">"purchaseOrders1 = purchaseOrders2 %A"</span></span> (purchaseOrders1 = purchaseOrders2)</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/f3a/df3/12d/f3adf312dd3da82030e5d77b694ba8ae.png" alt="صورة"><br><br>  تجدر الإشارة إلى أنه لا يمكننا استخدام المساواة عندما يتعين علينا تأهيل أنواع النقابات تمامًا ، نظرًا لأنها أنواع مختلفة ، لذلك لن ينجح ذلك: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ac/f7b/b25/6acf7bb25aba5d1778c173fd73c5efae.png" alt="صورة"><br><br><h4 style=";text-align:right;direction:rtl">  أنماط المقارنة </h4><br>  فيما يلي وظيفة صغيرة تأخذ اتحاداً للبطاقة وتعرض حالات الاتحاد التي تم استدعاؤها بها ، وتقوم ببساطة بإرجاع الوحدة (باطلة ، إذا كنت تتذكر هذا من المقالات السابقة في هذه السلسلة): <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Card</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ValueCard</span></span></span><span class="hljs-class"> of int | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Jack</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Queen</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">King</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Ace</span></span></span><span class="hljs-class"> .... .... let cardFunction card = match card with | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ValueCard</span></span></span><span class="hljs-class"> i -&gt; printfn "its a value card of %</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">" i | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Jack</span></span></span><span class="hljs-class"> -&gt; printfn "its a </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Jack</span></span></span><span class="hljs-class">" | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Queen</span></span></span><span class="hljs-class"> -&gt; printfn "its a </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Jack</span></span></span><span class="hljs-class">" | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">King</span></span></span><span class="hljs-class"> -&gt; printfn "its a </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Jack</span></span></span><span class="hljs-class">" | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Ace</span></span></span><span class="hljs-class"> -&gt; printfn "its a </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Ace</span></span></span><span class="hljs-class">" () //return unit //shows you how to pass it in without a </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Let</span></span></span><span class="hljs-class"> binding do cardFunction (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Card</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ValueCard</span></span></span><span class="hljs-class"> 8) //or you could use explicit </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Let</span></span></span><span class="hljs-class"> binding if you do desire let aceCard = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Ace</span></span></span><span class="hljs-class"> do cardFunction aceCard</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/ab7/a11/21e/ab7a1121eb25190c883400d09e939646.png" alt="صورة"><br><br><h4 style=";text-align:right;direction:rtl">  لذلك بالضبط ما يحدث وراء الكواليس </h4><br>  لقد رأينا الآن بعض الأمثلة على كيفية عمل الجمعيات التي تحمل علامات.  إذاً ، ما الذي يمكن أن يحدث ، برأيك ، إذا كانت لدينا مكتبة F # تستخدم صلات ترميز وقمنا باستخدامها من C # / VB.NET.  هل تعتقد أن هذا سوف ينجح.  الجواب: أنا متأكد من أنه سيكون.  سوف أقوم بنشر <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">منشور</a> كامل حول <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Interop</a> في مكان ما في المستقبل ، لكنني اعتقدت أنه قد يكون من المثير للاهتمام التفكير في بعض من هذا في الوقت الحالي بالنسبة للوصلات ذات العلامات المميزة ، لأنها مختلفة تمامًا عن كل شيء نراه في برمجة .NET القياسية. <br><br>  لذلك ، دعونا نأخذ البطاقة أعلاه ، والتي كانت هذه الكود: <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Card</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ValueCard</span></span></span><span class="hljs-class"> of int | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Jack</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Queen</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">King</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Ace</span></span></span></span></code> </pre> <br>  وتشغيله من خلال decompiler مثل Reflector / DotPeek (كل ما لديك).  لقد استخدمت DotPeek وحصلت على رمز C # لهذا السطر F # مفرد.  لذلك ، كما ترون ، قام المترجم F # بعمل رائع للتأكد من أن أنواع F # ستعمل بشكل جيد مع .NET العادية ، مثل C # / VB.NET. <br><br><pre style=";text-align:right;direction:rtl"> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Microsoft</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.FSharp</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Core</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">System</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">System</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Collections</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">System</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Diagnostics</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">System</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Runtime</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.CompilerServices</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">System</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Runtime</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.InteropServices</span></span>; <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilationMapping(SourceConstructFlags.Module)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span> { [EntryPoint] public static int main(string[] argv) { return 0; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerDisplay("{__DebugDisplay(),nq}")]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilationMapping(SourceConstructFlags.SumType)]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[Serializable]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[StructLayout(LayoutKind.Auto, CharSet = CharSet.Auto)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Card</span></span> : <span class="hljs-selector-tag"><span class="hljs-selector-tag">IEquatable</span></span>&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span>&gt;, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IStructuralEquatable</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IComparable</span></span>&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span>&gt;, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IComparable</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IStructuralComparable</span></span> { [CompilerGenerated] [DebuggerNonUserCode] [DebuggerBrowsable(DebuggerBrowsableState.Never)] public int Tag { [DebuggerNonUserCode] get { return this._tag; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bool</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IsValueCard</span></span> { [DebuggerNonUserCode] get { return this.get_Tag() == 0; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Jack</span></span> { [CompilationMapping(SourceConstructFlags.UnionCase, 1)] get { // <span class="hljs-attribute"><span class="hljs-attribute">ISSUE</span></span>: reference to a compiler-generated field return Program.Card._unique_Jack; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bool</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IsJack</span></span> { [DebuggerNonUserCode] get { return this.get_Tag() == 1; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Queen</span></span> { [CompilationMapping(SourceConstructFlags.UnionCase, 2)] get { // <span class="hljs-attribute"><span class="hljs-attribute">ISSUE</span></span>: reference to a compiler-generated field return Program.Card._unique_Queen; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bool</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IsQueen</span></span> { [DebuggerNonUserCode] get { return this.get_Tag() == 2; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">King</span></span> { [CompilationMapping(SourceConstructFlags.UnionCase, 3)] get { // <span class="hljs-attribute"><span class="hljs-attribute">ISSUE</span></span>: reference to a compiler-generated field return Program.Card._unique_King; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bool</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IsKing</span></span> { [DebuggerNonUserCode] get { return this.get_Tag() == 3; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Ace</span></span> { [CompilationMapping(SourceConstructFlags.UnionCase, 4)] get { // <span class="hljs-attribute"><span class="hljs-attribute">ISSUE</span></span>: reference to a compiler-generated field return Program.Card._unique_Ace; } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilerGenerated]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerNonUserCode]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerBrowsable(DebuggerBrowsableState.Never)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bool</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IsAce</span></span> { [DebuggerNonUserCode] get { return this.get_Tag() == 4; } } <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Card</span></span>() { } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilationMapping(SourceConstructFlags.UnionCase, 0)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NewValueCard</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">int</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">item</span></span>) { return (Program.Card) new Program.Card.ValueCard(item); } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilationMapping(SourceConstructFlags.UnionCase, 1)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">get_Jack</span></span>() { // <span class="hljs-attribute"><span class="hljs-attribute">ISSUE</span></span>: reference to a compiler-generated field return Program.Card._unique_Jack; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilationMapping(SourceConstructFlags.UnionCase, 2)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">get_Queen</span></span>() { // <span class="hljs-attribute"><span class="hljs-attribute">ISSUE</span></span>: reference to a compiler-generated field return Program.Card._unique_Queen; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilationMapping(SourceConstructFlags.UnionCase, 3)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">get_King</span></span>() { // <span class="hljs-attribute"><span class="hljs-attribute">ISSUE</span></span>: reference to a compiler-generated field return Program.Card._unique_King; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[CompilationMapping(SourceConstructFlags.UnionCase, 4)]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">get_Ace</span></span>() { // <span class="hljs-attribute"><span class="hljs-attribute">ISSUE</span></span>: reference to a compiler-generated field return Program.Card._unique_Ace; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Tags</span></span> { public const int ValueCard = 0; public const int Jack = 1; public const int Queen = 2; public const int King = 3; public const int Ace = 4; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerTypeProxy(typeof (Program.Card.ValueCard\u0040DebugTypeProxy))]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[DebuggerDisplay("{__DebugDisplay(),nq}")]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[Serializable]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[SpecialName]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ValueCard</span></span> : <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Card</span></span> { [CompilationMapping(SourceConstructFlags.Field, 0, 0)] [CompilerGenerated] [DebuggerNonUserCode] public int Item { [DebuggerNonUserCode] get { return this.item; } } } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[SpecialName]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">internal</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ValueCard</span></span>\<span class="hljs-selector-tag"><span class="hljs-selector-tag">u0040DebugTypeProxy</span></span> { [CompilationMapping(SourceConstructFlags.Field, 0, 0)] [CompilerGenerated] [DebuggerNonUserCode] public int Item { [DebuggerNonUserCode] get { return this._obj.item; } } } } }</code> </pre> <br><h4 style=";text-align:right;direction:rtl">  الحالات العودية (هياكل الأشجار) </h4><br>  يمكن أيضًا استخدام الوصلات المصنفة بطريقة متكررة ، حيث يمكن استخدام الاتحاد نفسه كواحد من الأنواع في حالة واحدة أو أكثر.  هذا يجعل الوصلات المميزة مناسبة جدًا لنمذجة هياكل الأشجار ، مثل: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  التعبيرات الرياضية </li><li style=";text-align:right;direction:rtl">  بناء جملة الأشجار </li><li style=";text-align:right;direction:rtl">  أكس </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">في الواقع ، لدى MSDN بعض الأمثلة الجيدة.</a> <br><br>  في التعليمة البرمجية التالية ، يتم استخدام اتحاد ذو علامة تكرارية لإنشاء بنية بيانات شجرة ثنائية.  يتكون الاتحاد من حالتين: Node ، وهي عقدة ذات قيمة عدد صحيح وشجرة فرعية الأيمن والأيسر ، و Tip ، والتي تكمل الشجرة. <br><br>  يظهر الشكل التالي لبنية شجرة myTree في المثال أدناه: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3dd/d4f/1f9/3ddd4f1f98668aa64a5d4b8577ca8ede.png" alt="صورة"><br><br>  وهذه هي الطريقة التي يمكن أن نمثلها في myTree باستخدام روابط مميزة.  لاحظ كيف نقوم بتصنيف صلة الترميز كأحد حالات الربط.  في هذه الحالة ، حالات الجمع أيضا <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  نصيحة (اتحاد فارغ ، بمثابة تعداد قياسي في .NET) </li><li style=";text-align:right;direction:rtl">  أو مجموعة مكونة من 3 أرقام من رقم ، شجرة ، شجرة </li></ul><br>  تجدر الإشارة أيضًا إلى أن الدالة sumTree مميزة بالكلمة الرئيسية rec.  ماذا تفعل هذه السحر الإملائي مع وظيفتنا؟  حسنًا ، هذا يمثل وظائف sumTree كتلك التي سيتم استدعاءها بشكل متكرر.  بدون الكلمة الأساسية "rec" في دالة sumTree ، سوف يشكو المترجم F #.  في هذه الحالة ، سيقوم المترجم بإلقاء الخطأ التالي. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea2/97f/878/ea297f878ef1675a089775fb38392d56.png" alt="صورة"><br><br>  لكننا رجال طيبون ، وسوف نستخدم الكلمات الرئيسية المناسبة لدعم حالة الاستخدام الخاصة بنا ، لذلك نواصل <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tree</span></span></span><span class="hljs-class"> = | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tip</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Node</span></span></span><span class="hljs-class"> of int * </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tree</span></span></span><span class="hljs-class"> * </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tree</span></span></span><span class="hljs-class"> .... .... .... .... let rec sumTree tree = match tree with | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tip</span></span></span><span class="hljs-class"> -&gt; 0 | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Node</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">value</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">) -&gt; value + sumTree(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">) + sumTree(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">) let myTree = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Node</span></span></span><span class="hljs-class">(0, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Node</span></span></span><span class="hljs-class">(1, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Node</span></span></span><span class="hljs-class">(2, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tip</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tip</span></span></span><span class="hljs-class">), </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Node</span></span></span><span class="hljs-class">(3, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tip</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tip</span></span></span><span class="hljs-class">)), </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Node</span></span></span><span class="hljs-class">(4, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tip</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Tip</span></span></span><span class="hljs-class">)) let resultSumTree = sumTree myTree printfn "</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class"> of sumTree is %</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">" resultSumTree</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/edd/bd4/a6d/eddbd4a6d557bd13c7b6d21ee11b73ba.png" alt="صورة"><br><br>  يوجد لدى MSDN أيضًا مثال جيد آخر أعتقد أنه سيكون من المفيد السرقة (نعم ، أنا أتحدث بصراحة حوله الآن. أعتقد أنه بينما تقوم أنت / شباب باستخراج شيء من هذا المثال المقترض ، مثل أنا أقول بوضوح ، أنا مقترض ، أنا لست في مجال الأعمال).  لنلقِ نظرة على هذا المثال هنا: <br><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expression</span></span></span><span class="hljs-class"> = | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Number</span></span></span><span class="hljs-class"> of int | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Add</span></span></span><span class="hljs-class"> of </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expression</span></span></span><span class="hljs-class"> * </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expression</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Multiply</span></span></span><span class="hljs-class"> of </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expression</span></span></span><span class="hljs-class"> * </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expression</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Variable</span></span></span><span class="hljs-class"> of string .... .... .... let rec </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Evaluate</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">env</span></span></span><span class="hljs-class">:</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Map</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">string</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class">&gt;) exp = match exp with | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Number</span></span></span><span class="hljs-class"> n -&gt; n | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Add</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">y</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Evaluate</span></span></span><span class="hljs-class"> env x + </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Evaluate</span></span></span><span class="hljs-class"> env y | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Multiply</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">y</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Evaluate</span></span></span><span class="hljs-class"> env x * </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Evaluate</span></span></span><span class="hljs-class"> env y | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Variable</span></span></span><span class="hljs-class"> id -&gt; env.[id] let environment = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Map</span></span></span><span class="hljs-class">.ofList [ "a", 1 ; "b", 2 ; "c", 3 ] // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Create</span></span></span><span class="hljs-class"> an expression tree that represents // the expression: a + 2 * b. let expressionTree1 = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Add</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Variable</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">", </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Multiply</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Number</span></span></span><span class="hljs-class"> 2, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Variable</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">")) // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Evaluate</span></span></span><span class="hljs-class"> the expression a + 2 * b, given the // table of values for the variables. let result = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Evaluate</span></span></span><span class="hljs-class"> environment expressionTree1 printfn "</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class"> of sumTree is %</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A</span></span></span><span class="hljs-class">" result</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/4f3/5cb/5ea/4f35cb5ea06ed795a8aa6a565ac72a37.png" alt="صورة"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar470275/">https://habr.com/ru/post/ar470275/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar470265/index.html">C ++ اختصار ورقة الغش وأكثر من ذلك. الجزء 1: C ++</a></li>
<li><a href="../ar470267/index.html">رصد درجة الحرارة المعتمدة</a></li>
<li><a href="../ar470269/index.html">ReactOS 0.4.12: 华为 ， 你 认为 这个 怎么 样？</a></li>
<li><a href="../ar470271/index.html">F # 6: Tuples</a></li>
<li><a href="../ar470273/index.html">F # 7: السجلات</a></li>
<li><a href="../ar470277/index.html">كيف يتم تنظيم وتنظيم الشبكة العالمية في الاتحاد الروسي؟</a></li>
<li><a href="../ar470279/index.html">الذكاء الاصطناعى ، التعلم الآلي ، البيانات الضخمة ، التعرف على الكلام وغيرها من الكلمات التي لن تساعدك على تعلم اللغة الإنجليزية</a></li>
<li><a href="../ar470281/index.html">وجه البرنامج الروسي. أو بعض الإحصاءات من السجل الموحد لبرامج الكمبيوتر وقواعد البيانات الروسية</a></li>
<li><a href="../ar470283/index.html">محرك البحث هو امرأة</a></li>
<li><a href="../ar470285/index.html">نمر رابض الكامنة في SQLAlchemy. الأساسيات</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>