<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêç üëù üíæ Lista de verifica√ß√£o de an√°lise de log de eventos de seguran√ßa üîº üåÇ üë©üèø‚Äçü§ù‚Äçüë©üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, o t√≥pico de monitoramento da infraestrutura de TI e an√°lise de log est√° ganhando cada vez mais popularidade. Antes de tudo, todo mundo pensa em ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lista de verifica√ß√£o de an√°lise de log de eventos de seguran√ßa</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tssolution/blog/416313/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/gw/bi/bu/gwbibuvy_uglbigvckezid55zzc.jpeg"></a> <br><br>  Hoje, o t√≥pico de monitoramento da infraestrutura de TI e an√°lise de log est√° ganhando cada vez mais popularidade.  Antes de tudo, todo mundo pensa em monitorar eventos de seguran√ßa, que ser√£o discutidos neste artigo.  Apesar de muito ter sido dito e escrito sobre esse assunto, ainda h√° mais perguntas.  Por isso, decidimos traduzir o artigo ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lista de verifica√ß√£o cr√≠tica de revis√£o de logs para incidentes de seguran√ßa</a> ‚Äù, escrito por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Anton Chuvakin</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lenny Zeltser</a> , que ser√° √∫til tanto para quem est√° come√ßando a trabalhar no monitoramento de eventos de seguran√ßa quanto para quem lida com isso. por um longo tempo, para verificar novamente se n√£o est√° perdendo algumas oportunidades. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/ze/ji/dt/zejidt2eanf4x8zrbhynjujbolo.jpeg"><br><br>  Esta lista de verifica√ß√£o lista as a√ß√µes necess√°rias se voc√™ deseja monitorar os logs do sistema de seguran√ßa e responder rapidamente a incidentes de seguran√ßa, bem como uma lista de poss√≠veis fontes e eventos que podem ser interessantes para an√°lise. <br><br><h3>  Esquema geral de a√ß√£o </h3><br><ol><li>  Determinar quais <b>fontes de</b> log e ferramentas automatizadas voc√™ pode usar para an√°lise </li><li>  Copie os lan√ßamentos no di√°rio <b>para um local</b> onde voc√™ possa visualizar e processar todos eles </li><li> Crie regras para determinar se os eventos s√£o necess√°rios para <b>reduzir automaticamente o "ru√≠do" dos logs</b> </li><li>  Determine se √© poss√≠vel confiar nos registros de <b>data e hora do</b> log;  considere diferen√ßas de fuso hor√°rio </li><li>  Preste aten√ß√£o <b>nas √∫ltimas altera√ß√µes, falhas, erros, altera√ß√µes de estado, acesso</b> e outros eventos incomuns para o seu ambiente de TI </li><li>  Examine o <b>hist√≥rico de eventos</b> a serem recuperados antes e depois do incidente. </li><li>  <b>Compare a√ß√µes em diferentes revistas</b> para obter uma imagem completa </li><li>  <b>Hipotize o</b> que aconteceu;  estude revistas para confirmar ou negar </li></ol><br><img src="https://habrastorage.org/webt/xp/my/7p/xpmy7pr-8u2mcdyxjhfe1l1gq9i.png"><br><br><h3>  Fontes potenciais de logs de seguran√ßa </h3><br><ul><li>  Logs do sistema operacional de servidores e esta√ß√µes de trabalho </li><li>  Logs de aplicativos (por exemplo, servidor web, servidor de banco de dados) </li><li>  Logs de ferramentas de seguran√ßa (por exemplo, antiv√≠rus, ferramentas de detec√ß√£o de altera√ß√µes, sistemas de detec√ß√£o / preven√ß√£o de intrus√µes) </li><li>  Logs de proxy de sa√≠da e logs de aplicativos do usu√°rio final </li><li>  Considere tamb√©m considerar outras fontes de eventos de seguran√ßa que n√£o est√£o nos logs. </li></ul><br><h3>  Layout de log padr√£o </h3><br><ul><li>  Sistema operacional Linux e principais aplicativos: <i>/ var / log</i> </li><li>  Sistema operacional Windows e principais aplicativos: <i>Registro de Eventos do Windows (Seguran√ßa, Sistema, Aplicativo)</i> </li><li>  Dispositivos de rede: geralmente registrados no <i>syslog</i> ;  alguns usam seu pr√≥prio layout e formatos </li></ul><br><h3>  O que procurar nos logs do Linux </h3><br><table><tbody><tr><th>  Evento </th><th>  Exemplo de entrada de log </th></tr><tr><td>  Login bem sucedido </td><td>  "Senha aceita", "Chave p√∫blica aceita", "sess√£o aberta" </td></tr><tr><td>  Tentativas malsucedidas de login </td><td>  "Falha na autentica√ß√£o", "falha na senha" </td></tr><tr><td>  Fim da sess√£o </td><td>  "Sess√£o encerrada" </td></tr><tr><td>  Altera√ß√£o de conta </td><td>  "Senha alterada", "novo usu√°rio", "excluir usu√°rio" </td></tr><tr><td>  A√ß√µes Sudo </td><td>  "Sudo: ... COMMAND = ...", "FAILED su" </td></tr><tr><td>  Mau funcionamento </td><td>  "Falha" ou "falha" </td></tr></tbody></table><br><h3>  O que procurar nos logs do Windows </h3><br>  Os identificadores de eventos est√£o listados abaixo para Windows 2008 R2 e 7, Windows 2012 R2 e 8.1, Windows 2016 e 10. (O artigo original usa principalmente identificadores para Windows 2003 e vers√µes anteriores, que podem ser obtidos subtraindo 4096 dos valores do EventID listados abaixo). <br><br>  A maioria dos eventos abaixo est√° no log de seguran√ßa (Log de Eventos do Windows: Seguran√ßa), mas alguns s√£o registrados apenas no controlador de dom√≠nio. <br><table><tbody><tr><th>  Tipo de evento </th><th>  Eventid </th></tr><tr><td>  Eventos de entrada e sa√≠da </td><td>  Logon com √™xito 4624;  falha no logon 4625;  logoff 4634, 4647 etc. </td></tr><tr><td>  Altera√ß√£o de conta </td><td>  Criado 4720;  ativado 4726; <br>  mudou 4738;  desativado 4725;  exclu√≠do 630 </td></tr><tr><td>  Alterar senha </td><td>  4724, 4723 </td></tr><tr><td>  Iniciando e Parando Servi√ßos </td><td>  7035.7036, etc. </td></tr><tr><td>  Acesso a instala√ß√µes </td><td>  4656, 4663 </td></tr></tbody></table><br><h3>  O que procurar nos logs dos dispositivos de rede </h3><br>  Aprenda as a√ß√µes de entrada e sa√≠da dos seus dispositivos de rede. <br><br>  Os exemplos abaixo s√£o trechos dos logs do Cisco ASA, mas outros dispositivos t√™m funcionalidade semelhante. <br><br><table><tbody><tr><th>  Tr√°fego de firewall </th><th>  "Built ... connection" "lista de acesso ... permitida" </th></tr><tr><td>  Tr√°fego bloqueado por firewall </td><td>  "Lista de acesso ... negado", "negar entrada";  Negar ... por </td></tr><tr><td>  Volume de tr√°fego (em bytes) </td><td>  "Conex√£o TCP de desmontagem ... dura√ß√£o ... bytes ..." </td></tr><tr><td>  Usando canais e protocolos </td><td>  "Limite ... excedido", "Utiliza√ß√£o da CPU" </td></tr><tr><td>  Detec√ß√£o de ataque </td><td>  "Ataque de" </td></tr><tr><td>  Altera√ß√£o de conta </td><td>  "Usu√°rio adicionado", "usu√°rio exclu√≠do", "N√≠vel de privacidade do usu√°rio alterado" </td></tr><tr><td>  Acesso de administrador </td><td>  "Usu√°rio AAA ...", "Usu√°rio ... bloqueado", "falha no login" </td></tr></tbody></table><br><h3>  O que procurar nos logs do servidor da web </h3><br><ul><li>  <b>Tentativas excessivas de acessar</b> arquivos inexistentes </li><li>  C√≥digo (SQL, HTML) como parte da URL </li><li>  <b>Extens√µes de acesso</b> que voc√™ n√£o instalou </li><li>  <b>Servi√ßo Web Parar / Iniciar / Crash</b> Messages </li><li>  <b>Acesso a p√°ginas "arriscadas"</b> que aceitam entrada do usu√°rio </li><li>  C√≥digo de erro 200 ( <b>solicita√ß√£o bem-sucedida</b> ) em arquivos que n√£o pertencem a voc√™ </li><li>  <b>Erro de autentica√ß√£o</b> : C√≥digo de <b>erro</b> 401.403 </li><li>  <b>Pedido inv√°lido</b> : c√≥digo de erro 400 </li><li>  <b>Erro interno do servidor</b> : C√≥digo de erro 500 </li></ul><br><h3>  Links √∫teis </h3><br>  Exemplos de eventos do Windows para cada EventID: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">EventID.Net</a> <br>  Refer√™ncia de evento do log de seguran√ßa do Windows: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Enciclop√©dia de Log de Seguran√ßa do Windows</a> <br>  Lista de ferramentas de an√°lise de log: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Melhores ferramentas de gerenciamento de logs</a> <br>  Outras "dicas" relacionadas √† resposta a incidentes de seguran√ßa no blog de um dos autores do artigo original: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Folhas de dicas sobre seguran√ßa de TI e seguran√ßa da informa√ß√£o</a> <br><br>  Se voc√™ est√° interessado neste t√≥pico, escreva coment√°rios, teremos o maior prazer em responder.  Inscreva-se no nosso grupo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VK</a> e no canal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Telegram</a> , se quiser acompanhar os novos artigos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt416313/">https://habr.com/ru/post/pt416313/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt416301/index.html">Navega√ß√£o no aplicativo Android usando coordenadores</a></li>
<li><a href="../pt416303/index.html">Recriando o primeiro gatilho</a></li>
<li><a href="../pt416305/index.html">A padroniza√ß√£o √© a mais longa aventura da Internet das Coisas</a></li>
<li><a href="../pt416307/index.html">iOS 12: novo nas notifica√ß√µes</a></li>
<li><a href="../pt416309/index.html">Como usar arquivos HDF5 em Python</a></li>
<li><a href="../pt416315/index.html">ASP.NET Razor: Solucionando alguns problemas de arquitetura para o modelo de exibi√ß√£o</a></li>
<li><a href="../pt416319/index.html">Contexto: listas brancas de IMEI e Rossvyaz</a></li>
<li><a href="../pt416321/index.html">Como se tornar um palestrante de confer√™ncias internacionais de TI</a></li>
<li><a href="../pt416323/index.html">A op√ß√£o de acesso aleat√≥rio √†s configura√ß√µes e grava√ß√µes do registrador de carros de qualquer lugar na Internet</a></li>
<li><a href="../pt416327/index.html">O novo padr√£o 802.11ax (WLAN de alta efici√™ncia), o que h√° de novo e quando esperar?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>