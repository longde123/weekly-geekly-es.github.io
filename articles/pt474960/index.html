<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî® ü§ó üë∏üèæ Demonstra√ß√£o de desenvolvimento para NES - HEOHdemo üèà ‚ú® üßúüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A hist√≥ria dos festivais de arte da computa√ß√£o, tamb√©m conhecida como demopati, existe h√° um quarto de s√©culo em nosso pa√≠s. Pessoas de todo o pa√≠s es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Demonstra√ß√£o de desenvolvimento para NES - HEOHdemo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474960/">  A hist√≥ria dos festivais de arte da computa√ß√£o, tamb√©m conhecida como demopati, existe h√° um quarto de s√©culo em nosso pa√≠s.  Pessoas de todo o pa√≠s est√£o se reunindo para mostrar seus exerc√≠cios para extrair o imposs√≠vel de computadores antigos ou modernos e quantidades muito pequenas de c√≥digo.  No primeiro per√≠odo de cinco anos, o <i>CAFe</i> (de repente, o <i>Computer Art Festival</i> ), realizado em Kazan de 1999 a 2003, tornou-se uma das principais demopatias do pa√≠s.  Mais tarde, ele desapareceu dos radares por um longo tempo, dando a palma das m√£os para as mais famosas <i>Chaos Constructions</i> e <i>DiHalt</i> , e este ano seu retorno foi bastante triunfante - se n√£o pela escala do evento, mas pelo n√∫mero de v√°rias obras, que duraram at√© as seis da manh√£.  Entre eles estava o meu, cuja cria√ß√£o ser√° discutida neste artigo. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/338r2BRYg3A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br>  No demosceno, sou mais solid√°rio do que um participante ativo.  Meus principais interesses est√£o no desenvolvimento de jogos retr√¥ e software de som.  Anteriormente, fiz apenas uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">demonstra√ß√£o</a> condicionalmente completa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de um telefone vermelho</a> , que se tornou um meme de cena, e cerca de uma d√∫zia de pequenas introdu√ß√µes para diferentes plataformas.  Os organizadores da <i>CAFe</i> , que iniciaram a agita√ß√£o pessoal dos autores com anteced√™ncia, primeiro remotamente, atrav√©s de amigos em comum e depois em reuni√µes pessoais, acabaram me motivando a criar meu primeiro trabalho verdadeiramente completo na categoria de demonstra√ß√£o completa.  Por acaso, em outra plataforma n√£o a mais popular - o console de jogos <i>NES</i> / <i>Famicom</i> , conhecido por muitos sob o nome Dandy. <br><br><h2>  Planejamento </h2><br>  Inicialmente, eu faria uma demonstra√ß√£o de longa data para outra plataforma de 8 bits mais popular.  Por√©m, para sua implementa√ß√£o, foi necess√°rio realizar uma quantidade significativa de trabalhos de pesquisa, ou seja, n√£o havia entendimento do momento, da viabilidade fundamental da ideia ou da qualidade do resultado poss√≠vel.  Portanto, a√ß√µes espec√≠ficas foram tomadas muito lentamente.  Os prazos come√ßaram a se esgotar significativamente e ficou claro que, se eu quero manter a promessa de participa√ß√£o, √© urgente escolher outro projeto mais previs√≠vel na implementa√ß√£o.  Depois de pensar na segunda id√©ia, para a categoria <i>Wild</i> , que tamb√©m exigia experimenta√ß√£o, decidi voltar aos espa√ßos em branco de demonstra√ß√£o de longa data do <i>NES</i> , feitos h√° tr√™s anos, e depois do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Multimatograph</a> .  Como resultado, eles pr√≥prios n√£o foram realmente utilizados, mas a dire√ß√£o do trabalho foi finalmente determinada. <br><br>  O plano para trabalhar especificamente para o <i>NES foi</i> finalmente aprovado no in√≠cio de outubro, at√© que o <i>CAFe</i> estivesse a tr√™s semanas de dist√¢ncia.  A pasta do projeto foi criada em 5 de outubro, mas alguns movimentos ocorreram antes disso. <br><br>  A primeira pergunta que precisava ser resolvida foi quantos efeitos (cenas) foram necess√°rios para tornar a dura√ß√£o da demonstra√ß√£o suficiente para reivindicar uma forma grande, em vez de uma introdu√ß√£o simples.  Tamb√©m era necess√°rio entender qual era essa dura√ß√£o suficiente. <br>  Para isso, entre outras coisas, os principais trabalhos atuais da plataforma selecionada em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Pouet foram revisados</a> e os dois melhores foram analisados ‚Äã‚Äã- <i>High Hopes</i> e <i>NESPECCY</i> .  O √∫ltimo, que √© um convite para o mesmo demopati, foi lan√ßado em dezembro de 2018 e, at√© aquele momento, de alguma forma eu n√£o tinha chamado minha aten√ß√£o.  No come√ßo, at√© atingiu um pouco a motiva√ß√£o, pois assumi inicialmente um n√≠vel mais f√°cil para o meu trabalho futuro. <br><br>  De acordo com os resultados da an√°lise, verificou-se que em <i>High Hopes existem</i> cerca de seis efeitos e uma dura√ß√£o de 2:45, e em <i>NESPECCY</i> cerca de 11 efeitos e uma dura√ß√£o de 3:45.  Isso √© uma m√©dia de cerca de 25 segundos por efeito.  Sugeri que, em m√©dia, 10 a 15 efeitos ser√£o suficientes, com base no pressuposto de que apenas 3-5 deles ser√£o relativamente complicados tecnicamente, e o restante poder√° ser simples, mas bonito.  Para n√£o atrasar a exibi√ß√£o de cenas simples, ocorrer√° em m√©dia cerca de 15 segundos por efeito, com a dura√ß√£o total da demonstra√ß√£o em aproximadamente dois ou tr√™s minutos. <br><br>  Isto foi seguido por um c√°lculo de quanto tempo pode ser gasto na cria√ß√£o de cada efeito.  Acabou por um dia e meio a dois dias, sem contar os muitos outros trabalhos necess√°rios, como m√∫sica, gr√°ficos, algum tipo de id√©ia e apenas preparar uma base t√©cnica que combina efeitos.  Esse cronograma n√£o parecia muito realista, mas decidi fazer o m√°ximo de efeitos poss√≠vel, tentando caber em dois dias para cada um. <br><br>  Assim, a tarefa priorit√°ria foi determinada - ser capaz de fazer a tempo, pelo menos, algo adequado para a participa√ß√£o na competi√ß√£o, bem como o modo de desenvolvimento no estilo de ‚Äún√£o h√° tempo para explicar‚Äù.  Isso tamb√©m descartou o di√°rio de desenvolvimento e agora voc√™ precisa recuperar os eventos da mem√≥ria, tentando n√£o mentir demais. <br><br>  A tarefa de fazer o trabalho, reivindicando o primeiro lugar, n√£o foi colocada.  O principal n√£o √© a vit√≥ria, mas a participa√ß√£o e tudo isso, e em geral a principal vit√≥ria est√° acima de si mesma.  N√£o fiz previs√µes especiais com base nos resultados da competi√ß√£o pela impopularidade da categoria selecionada, esperando que, no pior (melhor) caso de participa√ß√£o na competi√ß√£o de v√°rias obras razoavelmente fortes, as minhas se tornem compost fillers, que tamb√©m s√£o necess√°rias e importantes, e se n√£o houver obras, voltarei a um vencedor entre si, como j√° aconteceu em outras disciplinas.  Claro, eu queria ganhar uma luta decente, mas eu pr√≥prio classifiquei meu trabalho mais baixo do que o p√∫blico finalmente estimou. <br><br><h2>  C√≥digo </h2><br>  Depois que os prazos foram definidos, ficou claro que, para ter tempo para elaborar um projeto desse tipo, era necess√°rio vincular-se ao perfeccionismo inadequado e n√£o tentar criar o c√≥digo de demonstra√ß√£o mais tecnol√≥gico ou compacto.  Quanto mais simples e r√°pido, melhor, mantendo suficiente efeito externo. <br><br>  Foi decidido escolher uma configura√ß√£o bastante poderosa e at√© redundante - um mapeador <i>MMC3</i> com 256 kilobytes de c√≥digo ROM e 256 kilobytes de gr√°ficos, e tente n√£o se preocupar que todo o seu potencial permane√ßa inexplorado.  Essa configura√ß√£o n√£o √© a mais avan√ßada das existentes e, ainda mais poss√≠vel, foi amplamente utilizada em jogos comerciais, come√ßando com <i>Super Mario Bros.</i>  <i>3</i> (1988), mas anteriormente os autores da demonstra√ß√£o do <i>NES estavam</i> limitados a mapeadores mais simples e menos mem√≥ria.  Como resultado, 80% do volume do c√≥digo da ROM foi usado e pouco menos de dois ter√ßos do volume dos gr√°ficos da ROM.  A quantidade excessiva de mem√≥ria nos permitiu n√£o perder tempo extra resolvendo o problema de compacta√ß√£o de dados, embora isso n√£o ocorra sem ele. <br><br>  O m√©todo de desenvolvimento tamb√©m era √≥bvio - principalmente em C, com inser√ß√µes de montador conforme necess√°rio, principalmente copiando para a mem√≥ria de v√≠deo, manipuladores de interrup√ß√£o e um reprodutor de m√∫sica.  H√° muito tempo e com sucesso tenho usado essa abordagem em plataformas retr√¥.  Isso economiza bastante tempo de desenvolvimento, pois a prototipagem de c√≥digo pode ser feita localmente: primeiro implemente-a em C e obtenha imediatamente um resultado que funcione no <i>NES</i> ; depois, se n√£o funcionar r√°pido o suficiente, reescreva-a em partes para o assembler de acordo com um modelo j√° preparado, at√© A velocidade necess√°ria foi atingida. <br><br><img src="https://habrastorage.org/webt/tm/ii/gj/tmiigjgzmohxusl9gll2p7hqrqe.png"><br><br>  Um dos principais problemas esperados, que, na pr√°tica, n√£o causou muitos problemas, foi a quantidade de RAM principal - no <i>NES</i> , s√£o apenas 2 kilobytes e, no meu trabalho, decidi fazer sem expandi-lo, embora o mapeador basicamente permitisse essa mudan√ßa.  A mem√≥ria em sistemas baseados no <i>processador 6502,</i> em vista de sua capacidade total de oito bits, √© frequentemente considerada em p√°ginas de 256 bytes e, nelas, a distribui√ß√£o da RAM resultou da seguinte maneira: <br><br><ul><li>  Uma p√°gina para vari√°veis ‚Äã‚Äã"r√°pidas"; </li><li>  Uma p√°gina para a pilha e paleta de hardware (uma parte significativa da pilha n√£o √© usada); </li><li>  Uma p√°gina para o buffer da lista de sprites (os recursos da arquitetura do controlador de v√≠deo exigem); </li><li>  Uma p√°gina para uma lista de atualiza√ß√µes de mem√≥ria de v√≠deo; </li><li>  Uma p√°gina para uma lista de par√¢metros para efeitos de varredura. </li></ul><br>  Os dois √∫ltimos s√£o declarados no programa na forma de matrizes de caracteres comuns n√£o assinadas de 256 bytes e, em alguns locais, tamb√©m s√£o reutilizadas para outros fins.  As tr√™s p√°ginas restantes s√£o fornecidas na pilha do programa <i>cc65</i> , ou seja, nas vari√°veis ‚Äã‚Äãglobais e locais do programa C. <br><br>  Deve-se notar que a aloca√ß√£o din√¢mica de mem√≥ria (malloc / free) nessas plataformas praticamente n√£o √© usada, sendo necess√°ria uma solu√ß√£o est√°tica.  No come√ßo, segui o m√©todo de usar o maior n√∫mero poss√≠vel de vari√°veis ‚Äã‚Äãlocais, o que me permitiu reutilizar automaticamente a mem√≥ria da pilha de software para elas.  Por√©m, as vari√°veis ‚Äã‚Äãlocais trabalham muito mais lentamente e, como resultado, o volume dispon√≠vel para vari√°veis ‚Äã‚Äãglobais come√ßou a faltar, e era desconfort√°vel escrever c√≥digo dessa maneira, usando repetidamente vari√°veis ‚Äã‚Äãde mesmo nome.  Apliquei uma solu√ß√£o n√£o utilizada anteriormente: um an√∫ncio na configura√ß√£o do vinculador de v√°rios segmentos de RAM localizados fisicamente nos mesmos endere√ßos.  Grupos de vari√°veis ‚Äã‚Äãusadas no mesmo efeito foram colocados usando diretivas do compilador nesses segmentos, permitindo a reutiliza√ß√£o da mesma mem√≥ria. <br><br>  Outro problema - a distribui√ß√£o do c√≥digo do programa C pelos bancos de mem√≥ria de c√≥digo (o <i>NES</i> usa endere√ßamento de p√°gina para mem√≥ria estendida) - foi resolvido anteriormente por mim em outros projetos e n√£o causou problemas.  O c√≥digo para coloca√ß√£o nas p√°ginas √© limitado a 16 kilobytes (o tamanho da janela de mem√≥ria comut√°vel) em uma se√ß√£o funcionalmente conclu√≠da e √© chamado pelo m√©todo de sobreposi√ß√µes: a p√°gina desejada √© conectada, o c√≥digo √© processado, o c√≥digo √© processado, a execu√ß√£o retorna √† p√°gina principal e o acesso √† mem√≥ria entre as p√°ginas √© imposs√≠vel.  As fun√ß√µes s√£o alocadas aos bancos manualmente, por meio de diretivas do compilador.  O c√≥digo necess√°rio em todas as partes do programa, como um reprodutor de m√∫sica, sa√≠da de sprite e manipuladores de interrup√ß√£o, est√° localizado na janela de mem√≥ria n√£o comut√°vel superior, tamb√©m com 16 kilobytes de tamanho. <br><br>  Ao trabalhar no √∫ltimo efeito, no corredor com Mario, me deparei com uma mensagem de erro de compila√ß√£o divertida: <i>estouro de etiqueta local</i> .  Pelo que entendi, o compilador tem um limite interno no n√∫mero de etiquetas locais geradas (aparentemente 65536) dentro de um m√≥dulo de objeto, mas usei um m√≥dulo comum para simplificar o gerenciamento da mem√≥ria compartilhada.  Uma das solu√ß√µes poss√≠veis foi dividir o c√≥digo em v√°rios m√≥dulos, e eu j√° planejava aplic√°-lo, no entanto, depois de mover uma matriz de constantes da origem para C na parte do montador (com uma etiqueta externa), o problema resolvido por si s√≥, o limite deixou de ser excedido e mesmo depois de adicionar mais algumas centenas de linhas de c√≥digo, uma mensagem de erro n√£o ocorreu mais. <br><br><h2>  Desenvolvimento </h2><br>  Na escolha dos efeitos, havia um plano de nos limitarmos a trabalhar de forma simples, mas sempre suave, em velocidade total de exibi√ß√£o (60 quadros por segundo).  Os efeitos de demonstra√ß√£o tradicionais, como os rotadores de plasma e zoom, n√£o foram considerados inicialmente, pois n√£o se encaixam bem na arquitetura do decodificador, que possui restri√ß√µes significativas no acesso √† mem√≥ria de v√≠deo - isso seria p√©ssimo em compara√ß√£o com plataformas nas quais esses efeitos s√£o implementados repetidamente em toda a sua gl√≥ria. <br><br>  No come√ßo, eu queria fazer a maior parte dos efeitos de acordo com um plano de tr√™s anos, com base em manipula√ß√µes linha a linha com a varredura exibida - alterando o deslocamento vertical e horizontal de cada linha, bem como as margens do gr√°fico exibido, enquanto o raio passa pela varredura.  Essa abordagem poderia funcionar com base em um bloco de c√≥digo comum, economizando tempo de desenvolvimento, mas os efeitos seriam bastante uniformes e tamb√©m bastante tradicionais, encontrados em muitos outros trabalhos.  Al√©m disso, houve dificuldades para depurar esse bloco de c√≥digo geral e, como resultado, a demonstra√ß√£o incluiu apenas um efeito desse tipo, um cartucho rotativo. <br><br>  Brincando com alguns efeitos baseados em id√©ias antigas, um dos quais acabou se tornando o efeito Kirby e o segundo n√£o entrou na demo, comecei a escrever um documento de texto onde escrevia todas as id√©ias que me ocorriam, tanto para efeitos individuais quanto para o conceito geral.  Essa lista incluiu mais de 40 efeitos, enquanto no trabalho final foram implementados menos de 15. Ao mesmo tempo, a maioria dos efeitos s√£o anima√ß√µes de um tipo ou de outro, embora cada uma de suas variantes seja bastante √∫nica e use v√°rios truques para garantir um consumo de mem√≥ria aceit√°vel e a opera√ß√£o suave necess√°ria. .  Tamb√©m sem querer aconteceu que o tipo predominante de efeitos √© a rota√ß√£o de alguma coisa.  Em princ√≠pio, √© uma boa coincid√™ncia, pois surgiu uma esp√©cie de unidade conceitual. <br><br>  Uma introdu√ß√£o com um elefante foi concebida e feita, como uma piada sobre o t√≥pico do meu trabalho anterior, depois um efeito com listras coloridas e interfer√™ncia.  Sem muita reflex√£o, o t√≠tulo de trabalho, <i>HEOHdemo</i> , foi escolhido como continua√ß√£o da piada desde a introdu√ß√£o (ELE N√ÉO √â ELE).  Quando se tratou da realiza√ß√£o da cena com a exibi√ß√£o do nome, ela foi aprovada como final, porque n√£o havia mais ideias bem-sucedidas naquela √©poca e n√£o havia tempo para apresent√°-las. <br><br>  Uma decis√£o espont√¢nea com o nome demo levou ao conceito final de todo o trabalho, que finalmente tomou forma dez dias antes do prazo.  Isso implicava o uso de videogame reconhec√≠vel e material da cultura pop, como personagens, logotipos, cenas de jogos, mas modificado de maneira a tornar os originais um pouco diferentes (como "n√£o eles").  Tamb√©m foi decidido espalhar o humor das cenas inicial e final para toda a demo, compensando assim o n√≠vel t√©cnico n√£o muito alto, que est√° dentro do esp√≠rito da √©poca citada (meados dos anos 90), e atrai um p√∫blico maior - afinal, os consoles de jogos antigos t√™m o seu, n√£o se cruzando com o demosceno e n√£o muito esclarecido em tecnologia, mas um p√∫blico muito vasto.  Na mesma √©poca, decidiu-se usar a demo inerente dos anos 90, dividindo-se em cenas independentes separadas, como s√£o mais f√°ceis de fazer no tempo dispon√≠vel, e isso posteriormente ajudou muito na parte da m√∫sica e nos efeitos de sincroniza√ß√£o com ela. <br><br>  As id√©ias das cenas com Vid, um logotipo rotativo e parcialmente com Mario no corredor tamb√©m surgiram naturalmente durante o trabalho.  Eles foram feitos alternadamente, como uma esp√©cie de procrastina√ß√£o - at√© que os principais efeitos planejados fossem colados. <br><br><h2>  Assembl√©ia </h2><br>  Inicialmente, ficou claro que o tempo mais longo no tempo envolveria partes com uma introdu√ß√£o, t√≠tulo, sauda√ß√µes e cr√©ditos finais.  O trabalho neles foi realizado em primeiro lugar, ent√£o, em algum momento, a demo j√° tem um come√ßo e um fim completos (o mesmo que no lan√ßamento final), mas quase n√£o h√° meio termo para o qual apenas um estava mais ou menos pronto efeito  Os prazos estavam chegando ao fim.  O trabalho no projeto se transformou em uma maratona de uma hora, ocupando todo o tempo livre poss√≠vel, e tamb√©m n√£o livre.  Os efeitos restantes nos planos foram classificados por complexidade, todas as id√©ias foram simplificadas o m√°ximo poss√≠vel.  Invasores do espa√ßo foram criados, problemas com um cartucho rotativo foram derrotados e uma torre de f√°cil implementa√ß√£o com um rangido foi conclu√≠da (experimentada com a apar√™ncia).  Como os efeitos estavam prontos, a sequ√™ncia de sua exibi√ß√£o foi determinada. <br><br>  Cada ninharia demorou tr√™s vezes mais tempo do que parecia a princ√≠pio, e alguns dias antes do prazo, quando ainda n√£o havia metade dos efeitos ou da m√∫sica, havia uma forte sensa√ß√£o de que n√£o daria certo.  Considerou-se o plano B para concluir e expor o trabalho em outra demopati ou fora dela.  Mas ent√£o foi tomada uma decis√£o mais eficaz: coletar e concluir com urg√™ncia tudo o que j√° existe, em pelo menos uma apar√™ncia de produto pronto para lan√ßamento, mesmo completamente est√∫pido, de escrever alguma m√∫sica para isso e, se ainda houver tempo, tente adicionar mais efeitos.  Entre essas cenas adicionadas no √∫ltimo momento estavam Pakman e o corredor, ambos na vers√£o mais simplificada em compara√ß√£o √†s id√©ias originais. <br><br>  Esse m√©todo de montagem levou a uma not√°vel incoer√™ncia de efeitos no meio da demo e a uma completa mudan√ßa de m√∫sica entre muitas cenas.  No entanto, ajudou a economizar muito tempo e, de fato, o trabalho estava completamente pronto para ser lan√ßado um dia antes do prazo.  Esse tempo extra foi gasto na finaliza√ß√£o de v√°rias ninharias em todas as partes e na m√∫sica.  Em particular, foi nessa √©poca que os invasores e o sapo adquiriram sua apar√™ncia alternativa. <br><br><h2>  Depura√ß√£o </h2><br>  Por falta de recursos de depura√ß√£o em hardware real, bem como no pr√≥prio hardware, a demonstra√ß√£o foi depurada exclusivamente em emuladores.  O principal trabalho foi no emulador <i>FCEUX</i> .  N√£o √© muito preciso, mas possui um bom depurador e √© iniciado muito rapidamente, o que √© importante no m√©todo de desenvolvimento de "anexar algumas linhas, executar, verificar".  Os efeitos de tempo cr√≠tico tamb√©m foram depurados no <i>Mesen</i> , <i>punes</i> e <i>Nestopia</i> <i>,</i> muito mais preciso, mas menos conveniente. <br><br>  Como o pr√≥prio formato de demonstra√ß√£o implica o desejo de obter da plataforma o que ningu√©m havia feito anteriormente, ele testa a precis√£o dos emuladores quanto √† for√ßa, inclusive mostrando sua discord√¢ncia sobre v√°rios casos extremos.  Ap√≥s depurar o efeito em um emulador, √© poss√≠vel obter artefatos nele em outros emuladores.  Por esse motivo, e tamb√©m pelos recursos da arquitetura <i>NES</i> , muitos efeitos vinculados a hor√°rios precisos tiveram que ser depurados repetidamente v√°rias vezes.  Como resultado, configurei a demonstra√ß√£o para o trabalho limpo no popular emulador <i>FCEUX</i> , com o qual foi enviado para o concurso, e para o trabalho normal em todos os outros emuladores. <br><br>  Dos erros interessantes encontrados durante a depura√ß√£o, houve um problema na cena com um logotipo rotativo, manifestando-se exclusivamente no emulador de <i>Mesen</i> .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inicialmente, nesse efeito, a renderiza√ß√£o foi desativada imediatamente sob a inscri√ß√£o inspirada na transfer√™ncia de um grande bloco de dados para a mem√≥ria de v√≠deo e n√£o foi ativada novamente at√© o in√≠cio do pr√≥ximo quadro. Isso funcionou bem em todos os emuladores, mas em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , de </font><font style="vertical-align: inherit;">maneira incompreens√≠vel, a exibi√ß√£o de sprites de moedas voadoras parou completamente de funcionar normalmente. A ativa√ß√£o da renderiza√ß√£o ap√≥s o encaminhamento corrigiu esse problema. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A demonstra√ß√£o suporta diretamente apenas a </font><font style="vertical-align: inherit;">vers√£o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NTSC</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do console, pois o suporte a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PAL</font></font></i>            ‚Äî      ,                     .      ,    <i>PAL</i> -,      .     ,            17% . <br><br>           ‚Äì  <i>NES</i> , <i>Famicom AV</i> ,   <i>Pegasus</i> (  <i>Dendy Classic 2</i>  ,     ). ,         ,       ,    ,     .   , ,       <i>MMC3</i>   <i>Flash</i> -,            <i>MMC3</i> .      <i>Pegasus</i> ,           ‚Äî          .   ,          ‚Äî   ‚Äî       . <br><br>      ,       ,    .      ,        ,      .             <i>Flash</i> -. <br><br><h2>  M√∫sica </h2><br>          ¬´ ¬ª      ¬´¬ª.      .  '                 ,              .   ,    ,    ,       ,     .         ,           .         . <br><br>       <i>NES</i> ,       ,     ,       -.       ,   ,      ,       ,    ,      .               ,            . <br><br>      Reaper   MIDI-,         ,    <i>FamiTracker</i> .          MIDI-,   Reaper,  <i>FamiTracker</i>      . <br><br><img src="https://habrastorage.org/webt/_9/ey/on/_9eyonr2ehc6tms7pumjf6_suww.png"><br><br>     <i>FamiTracker</i>     <i>NES</i> ,      ,      ,              ‚Äî  ,     .     ,      .      , ¬´¬ª   <i>FamiTracker</i> ' <i>NSF</i> -        .  ,        ,   <i>NES</i>         . <br><br>             .            .     <i>FamiTracker</i>  <i>Zxx</i> ,          . <br><br><h2>   </h2><br><h3>    </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O c√≥digo √© emprestado de um projeto antigo. </font><font style="vertical-align: inherit;">A parte que aparece da linha √© exibida com sprites com paletas diferentes e depois impressa em segundo plano. </font><font style="vertical-align: inherit;">A inscri√ß√£o ‚Äúbaseada em efeitos reais‚Äù sugere que outros efeitos n√£o s√£o assim, isso √© uma piada sobre o tema do debate constante sobre a aceitabilidade e o papel da anima√ß√£o na demo.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Introdu√ß√£o com elefante e linha rastejante </font></font></h3><br>      ,     ,   .      . <br><br>    ,     ‚Äî    <i>Graphics Gale</i>    ,         (10).   ,    .    <i>NES Screen Tool</i>           . <br><img src="https://habrastorage.org/webt/17/du/6q/17du6q0j7ycr-12h2port8vl3fe.png"><br><br><h3>  </h3><br>       ,        ,   ,     .     ,     ,   . <br><br>    8      32 ,     PC.        .    MMC3,      (   ),         ,    .       ,     . <br><br><img src="https://habrastorage.org/webt/bp/hf/rg/bphfrggmjg8mugiw5ftm3e4egzq.png"><br><br><h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro efeito completo que foi escrito para a demo. De fato, ele consiste em duas partes - primeiro um temporizador √© exibido mostrando o tempo atual da demonstra√ß√£o pr√≥ximo ao real, depois o efeito muda para uma anima√ß√£o de bandas crescentes.</font></font><br><br>      ,       ,         .    12x16 ,       8x8,           ‚Äî      .             ‚Äî       00  99,          ‚Äî        .       .          ,     . <br><br><img src="https://habrastorage.org/webt/ja/df/cd/jadfcdjkmvbebxayxhljf7sesye.png"><br><br>  ,    ,      MMC3,     ,                  . <br><br>          ,      32  .   238 ,      7 .        ,       ,     ,   53.    ,         PC,      ,           . <br><img src="https://habrastorage.org/webt/el/6k/0k/el6k0kaduc7xipn96mj54w39u3k.png"><br><br><h3>  T√≠tulo </h3><br>       ,       ,          . <br><br>      .              .          .  Blender           .     ,     ,      <i>NES Screen Tool</i> ‚Äì     82       .       ,      . <br><br><img src="https://habrastorage.org/webt/gq/xs/wn/gqxswnend5wkbvqw3xea0i9l8zm.png"><br><br>      ,       .           ,    ,    .        ,        ,         .        ,      . <br><br><img src="https://habrastorage.org/webt/9c/va/e_/9cvae_5fl8mhrfj7umgt_faqmhi.png"><br><br>           <i>MMC3</i> ,              . <br><br><h3>   </h3><br>         ,    ,     ,     <i>Gale</i>       .      ,     ,      . <br><br><img src="https://habrastorage.org/webt/58/nv/ld/58nvldcfaj6upgcaap3x5fpbfsg.png"><br><br>        .   . <br><br>       ,    .       ,   ,     . <br><br><h3>   </h3><br>  Devido √† falta de efeitos e ao tempo para desenvolv√™-los, decidi reutilizar uma pequena introdu√ß√£o escrita alguns anos atr√°s, na qual as letras voavam pelo mesmo caminho em torno de um logotipo est√°tico.  Recentemente, fiquei novamente interessado no prefixo <i>N64</i> , que negligenciei no final dos anos 90, e no processo de trabalhar em outros efeitos, uma ideia espont√¢nea surgiu com a anima√ß√£o da rota√ß√£o do famoso logotipo, que parecia muito simples de implementar - esses dois pensamentos se uniram, mas a implementa√ß√£o demorou significativamente mais que o esperado. <br><br>  A principal complexidade t√©cnica da cena √© a redu√ß√£o da quantidade de mem√≥ria necess√°ria para uma anima√ß√£o t√£o suave e grande.  Se voc√™ armazenar seus quadros sem compacta√ß√£o, um quadro ocuparia um conjunto de 4 kilobytes (j√° que dois quadros n√£o caberiam em 256 blocos) e levaria 256 kilobytes de ROM gr√°fica, ou seja, todo o volume usado na demonstra√ß√£o.  Para resolver esse problema, tr√™s truques foram aplicados ao mesmo tempo: anima√ß√£o de rota√ß√£o de apenas 90 graus (64 quadros), ap√≥s o qual duas cores de face s√£o trocadas;  convers√£o de gr√°ficos com perdas para colocar grupos de quatro quadros em conjuntos de 256 blocos;  bem como atualizar a mem√≥ria de v√≠deo na parte vis√≠vel da varredura.  Assim, a anima√ß√£o ocupou quatro vezes menos espa√ßo. <br><br>  O modelo de letra e a anima√ß√£o de rota√ß√£o s√£o feitos no <i>Blender</i> .  Durante sua espelhar a sua ideia veio que corresponde ao conceito demo, e foi engra√ßado - "e-e-e-e-e-e" a cena est√° dizendo,  Os quadros de anima√ß√£o s√£o agrupados, a profundidade de cores √© reduzida para 4 e essas imagens s√£o convertidas pela fun√ß√£o de importa√ß√£o com perdas na <i>NES Screen Tool</i> .  Essa fun√ß√£o talvez seja minha principal arma secreta - se o limite de ladrilhos for excedido durante a compacta√ß√£o, ele procura os ladrilhos visuais mais semelhantes e os combina at√© que o n√∫mero necess√°rio de ladrilhos permane√ßa.  Obviamente, isso fornece artefatos de convers√£o visual e requer refinamento manual subseq√ºente, mas permite que voc√™ pressione imagens mais complexas com menos trabalho no limite. <br><br><img src="https://habrastorage.org/webt/ar/iu/to/ariutocxeivq50tx_frpvh2zfxu.png"><br><br>  Para anima√ß√£o do logotipo, os conjuntos de blocos s√£o trocados e a janela de 14 por 14 blocos no mapa de blocos de fundo √© atualizada, para a qual a interrup√ß√£o do MMC3, que √© acionada antes de uma linha de texto, √© usada.  A linha tamb√©m exige a troca dos gr√°ficos definidos para a fonte, ap√≥s o que h√° um atraso no c√≥digo para o tempo em que as linhas da inscri√ß√£o s√£o exibidas, o visor desliga (a cor de fundo √© constantemente exibida) e os dados s√£o transferidos para a mem√≥ria de v√≠deo. <br><br>  As moedas s√£o exibidas por sprites e voam por um caminho calculado de forma mais ou menos honesta (usando um ponto fixo).  O c√≥digo antigo foi modificado para que a rota√ß√£o prossiga, se poss√≠vel sem cruzar com o logotipo maior, bem como para que as moedas apare√ßam e desapare√ßam gradualmente nos momentos certos.  Eles v√£o al√©m dos gr√°ficos do logotipo usando a bandeira de prioridade que cada sprite possui. <br><br><h3>  Cartucho rotativo </h3><br>  A implementa√ß√£o do efeito √© muito simples em palavras, mas exigiu uma longa depura√ß√£o.  O manipulador de interrup√ß√£o lan√ßa um efeito de varredura na linha desejada (para deixar tempo para o encadeamento principal).  Em seguida, o c√≥digo com tempos selecionados com muita precis√£o √© executado para definir o deslocamento vertical pixel por pixel do mapa de blocos exibido para cada linha da tela.  Isso requer um esquema muito complicado de gravar nos registros <i>PPU</i> , e alguns deles devem estar exatamente em um determinado local da linha.  Na vers√£o <i>NTSC</i> do decodificador, a velocidade do clock do processador e a taxa de repeti√ß√£o de pixels n√£o s√£o m√∫ltiplas, e o tempo de execu√ß√£o do c√≥digo pode variar um pouco, dependendo de v√°rios fatores; portanto, os tempos de cada linha flutuam gradualmente e exigem corre√ß√£o. <br><br>  A parte principal dos gr√°ficos desta cena foi desenhada h√° v√°rios anos para uma tentativa anterior de fazer uma demonstra√ß√£o para o <i>NES</i> , mas agora foi complementada com outras faces do cartucho e um logotipo de demonstra√ß√£o.  A imagem original √© empilhada em altura em uma tela.  Para simplificar o c√≥digo do efeito, as mesmas linhas s√£o duplicadas v√°rias vezes na parte traseira do cartucho. <br><br><img src="https://habrastorage.org/webt/x8/in/3u/x8in3uasevydgdsbn2knytfzseq.png"><br><br>  A anima√ß√£o de rota√ß√£o √© totalmente calculada antecipadamente usando um programa para PC e ocupa uma quantidade significativa de c√≥digo ROM - tr√™s bancos de 16 kilobytes cada, nos quais, para cada um dos 256 quadros da anima√ß√£o, uma tabela √© armazenada em 176 n√∫meros das linhas de varredura exibidas.  Foi poss√≠vel fazer efeito em tempo real, j√° fiz uma demonstra√ß√£o semelhante para outra plataforma, mas nesse caso havia mem√≥ria livre suficiente e n√£o havia tempo extra. <br><br><h3>  Pacman </h3><br>  Inicialmente, uma cena mais complexa foi planejada, mas devido √† total falta de tempo, ela entrou na demo na vers√£o mais minimalista, na forma de um detalhamento das cenas no momento da mudan√ßa de m√∫sica. <br><br>  O principal problema foi encontrar uma maneira de criar anima√ß√µes rapidamente.  Primeiro, surgiu a id√©ia de usar o <i>Blender</i> ou outros programas gr√°ficos novamente.  Mas, ap√≥s as primeiras tentativas e alguns c√°lculos, ficou claro que apenas oito quadros da anima√ß√£o de abrir a boca de uma posi√ß√£o completamente fechada para uma completamente aberta seriam suficientes, e seriam muito mais f√°ceis e r√°pidos de desenhar manualmente em <i>Gale</i> . <br><br>  Em seguida, um programa foi escrito para o PC, obtendo uma sequ√™ncia de quadros de um ciclo completo de anima√ß√£o e encontrando quadros que mudavam entre os blocos.  Os endere√ßos desses blocos no mapa de blocos na mem√≥ria de v√≠deo s√£o salvos como listas de tamanho vari√°vel; o efeito na demonstra√ß√£o simplesmente atualiza as se√ß√µes alteradas dessas listas.  Os gr√°ficos de todos os quadros cabem em um conjunto de blocos e n√£o mudam durante o efeito. <br><br><img src="https://habrastorage.org/webt/vd/q6/au/vdq6au_yo_kcamlr_axpg3mki5k.png"><br><br><h3>  Kirby </h3><br>  Esse efeito foi depurado na minha <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">foto antiga do</a> <i>Catrix</i> .  Havia um plano para mudar a imagem do rosto de um gato para uma imagem alternativa com um gato de Cheshire atrav√©s de algum tipo de efeito visual.  Quando surgiu a id√©ia de adicionar personagens do jogo √† demo, ap√≥s uma breve elei√ß√£o - era urgente desenhar duas novas imagens em tela cheia - foi decidido pegar Kirby e torn√°-la uma vers√£o "Cheshire".  O efeito da altera√ß√£o de imagens no processo foi simplificado para uma r√°pida oscila√ß√£o. <br><br>  Os blocos de imagens em movimento s√£o exibidos como sprites e impressos no mapa de blocos quando chegam ao lugar certo.  Da mesma forma, ocorre a exclus√£o do bloco. <br><br><h3>  Torre </h3><br>  Eu sempre gostei do efeito no n√≠vel final do jogo <i>Battletoads</i> , e h√° muito tempo queria repeti-lo.  Na demo, ele chegou a um lugar na cena com sauda√ß√µes. <br><br>  A parte t√©cnica √© muito simples, √© uma rolagem vertical normal de uma camada de fundo.  O efeito de rota√ß√£o √© obtido pela anima√ß√£o dos gr√°ficos dos ladrilhos, mas o mapa dos ladrilhos permanece inalterado.  Para anima√ß√£o, o modo <i>MMC3</i> √© <i>usado</i> com quatro janelas <i>CHR</i> selecion√°veis.  A primeira janela cont√©m pe√ßas da parte est√°tica, enquanto as outras tr√™s alternam em velocidades diferentes.  Uma das janelas tamb√©m altera suavemente a dire√ß√£o da anima√ß√£o.  Como 64 blocos s√£o colocados em cada janela e o elemento animado requer apenas 28, os gr√°ficos dos blocos s√£o duplicados em cada janela para receber anima√ß√£o na dire√ß√£o oposta. <br><br><img src="https://habrastorage.org/webt/xf/pd/x2/xfpdx2ueqnid-jkhnpc2lr-7mke.png"><img src="https://habrastorage.org/webt/qm/dj/f_/qmdjf_ixlpbx3eiwc9_li-u5ndc.png"><img src="https://habrastorage.org/webt/y2/z2/ed/y2z2edauh83qgvyleevszwn9pic.png"><br><br>  O principal problema na realiza√ß√£o do efeito foi a prepara√ß√£o da anima√ß√£o.  Foi executado por um programa em um PC que usa uma textura de 16x16 e uma tabela de velocidade para cada coluna de pixel na entrada e gera um bloco de 16 quadros de anima√ß√£o na forma de um conjunto de 256 blocos (alguns dos quais est√£o vazios).  Os conjuntos s√£o convertidos para o formato desejado na <i>NES Screen Tool</i> e distribu√≠dos para bancos de gr√°ficos ROM com as compensa√ß√µes desejadas atrav√©s das op√ß√µes da diretiva <i>incbin</i> assembler. <br><br>  Outra tarefa importante em rela√ß√£o √†s sauda√ß√µes foi n√£o esquecer de repass√°-las a todos que desejarem.  Como esse n√∫mero tende ao infinito, uma cena excessivamente longa pareceria entediante.  Decidi me limitar apenas √†queles com quem cruzava h√° um ano.  Nomes coletados em um arquivo de texto como eles vieram √† mente.  Claro, depois de concluir o trabalho, acabei me esquecendo de mencionar muitas pessoas. <br><br><h3>  Corredor </h3><br>  Havia um desejo de fazer algum tipo de cena com uma perspectiva, como um t√∫nel cl√°ssico.  T√∫neis cl√°ssicos ou um verdadeiro rakester <i>3D Wolfenstein</i> desapareceram devido √† complexidade.  Al√©m disso, o <i>NES</i> j√° possui v√°rios rakasters reais, incluindo texturas, mas todos parecem pouco impressionantes devido √† velocidade extremamente baixa. <br><br>  Estou muito interessado em gr√°ficos pseudo-tridimensionais nos primeiros jogos e, entre os desenvolvimentos antigos, j√° havia um corredor de sprite com anima√ß√£o suave de curvas, inspirado no jogo <i>Zig Zag</i> para o <i>ZX Spectrum</i> .  Foi decidido us√°-lo.  Como o corredor abstrato em si n√£o √© muito interessante, foi inventada uma trama interna da cena com Mario e o humor do banheiro, que o completa logicamente, assim como a demo como um todo.  A cena foi feita pela √∫ltima vez e, apesar do uso de espa√ßos em branco, o trabalho levou mais de 11 horas seguidas, sem contar o trabalho preparat√≥rio durante o planejamento. <br><br>  Todos os quadros de movimento s√£o rastreados manualmente no Gale.  Este √© o √∫nico efeito na demonstra√ß√£o, atingindo uma velocidade abaixo de 60 quadros por segundo, embora possa funcionar nessa velocidade sem problemas.  Por raz√µes de legibilidade visual e sincroniza√ß√£o com a m√∫sica ao longo do corredor, a taxa de atualiza√ß√£o da tela foi limitada a 30 quadros por segundo, como alternativa √† adi√ß√£o de fases intermedi√°rias de movimento, para a prepara√ß√£o da qual n√£o havia mais tempo. <br><br>  Os quadros gr√°ficos usavam dois conjuntos de pe√ßas.  Nos momentos necess√°rios da anima√ß√£o, a camada de fundo √© atualizada, o conjunto de gr√°ficos desejado √© conectado e duas cores s√£o definidas em duas paletas (para a metade superior e inferior da tela), pois ao girar 90 graus as cores das paredes mudam de lugar. <br><br>  As placas de bloco de anima√ß√£o s√£o primeiro copiadas para a RAM por um c√≥digo em um banco fixo de um dos dois bancos inferiores do plug-in da ROM.  Durante a exibi√ß√£o da varredura imediatamente abaixo da janela exibida do efeito, a renderiza√ß√£o √© desativada e os dados s√£o transferidos da RAM para a mem√≥ria de v√≠deo.  Desativar a renderiza√ß√£o tamb√©m serve como o limite inferior do recorte visual para o sprite de Mario. <br><br><h3>  Legendas </h3><br>  Essa cena foi uma das primeiras, depois das barras coloridas, com base no c√≥digo de um dos projetos antigos.  Ele j√° tinha suporte para duas fontes, paletas diferentes e lentid√µes no final.  Para a demonstra√ß√£o, novas fontes foram desenhadas, usadas em todos os lugares, e um efeito foi adicionado nas bordas da tela. <br><br>  No come√ßo, eu queria fazer as bordas escurecerem suavemente, mas durante os experimentos preliminares tentei op√ß√µes com deslocamento de linha horizontal, gostei do resultado e decidi n√£o gastar mais tempo.  Um leve sombreamento √© adicionado usando o recurso controverso do <i>controlador de</i> v√≠deo <i>NES</i> , silenciamento de ganho de componentes de cores.  A controv√©rsia reside no fato de que em diferentes vers√µes regionais e clones do console, essa fun√ß√£o funciona de maneira diferente, mas nesta aplica√ß√£o n√£o deve haver problemas especiais (sem contar a chamada <i>PPU RGB</i> , onde as bordas ser√£o preenchidas com branco). <br><br><h3>  Ver </h3><br>  Por volta da √©poca em que a cena da legenda estava sendo feita, a ideia dessa cena surgiu espontaneamente.  A id√©ia inicial era inseri-lo em um momento aleat√≥rio, mas no final se encaixou com sucesso no final.  Apesar da curta dura√ß√£o, a cena consiste em tr√™s elementos: simulando a escala do sprite, aumentando o n√∫mero de tons de cinza alternando dois quadros e reproduzindo programaticamente uma amostra de <i>DPCM</i> . <br><br>  Para simular o dimensionamento, √© usado o fato de que todos os sprites grandes do <i>NES s√£o</i> compostos de pequenos, neste caso 8x16 em tamanho.  Se voc√™ troc√°-las uma em rela√ß√£o √† outra, poder√° obter o efeito de escala ou distor√ß√£o, o que parece bastante decente com pequenos valores de altera√ß√µes.  Para esse efeito, voc√™ precisa multiplicar o deslocamento de cada sprite do centro por uma escala, mas como o processador <i>NES</i> n√£o consegue lidar com um grande n√∫mero de multiplica√ß√µes pares, o truque √© aplicado - no in√≠cio do quadro, a grade de coordenadas ao longo dos eixos X e Y √© considerada, e a sa√≠da do sprite usa esses valores pr√©-calculados .  Assim, o n√∫mero de multiplica√ß√µes necess√°rias √© reduzido significativamente - com um spray composto de 8x8 elementos (64 sprites), s√£o necess√°rias apenas 16 (8 + 8) multiplica√ß√µes em vez de 128 (8 * 8 * 2). <br><br>  <i>O NES</i> pode exibir apenas 4 tons de cinza, incluindo branco e preto.  O efeito imita 7 grada√ß√µes: se voc√™ exibir um pixel branco e branco no quadro, ele ser√° branco, se cinza e cinza ser√° cinza, e se voc√™ alternar branco e cinza, visualmente parecer√° uma grada√ß√£o intermedi√°ria entre branco e cinza.  A principal dificuldade novamente √© a prepara√ß√£o de gr√°ficos, ou seja, dois semi-quadros da imagem, que foram executados por v√°rias manipula√ß√µes manuais no <i>Gale</i> e no <i>GIMP</i> .  Para reduzir a tremula√ß√£o, as linhas dos meios quadros alternam. <br><br><img src="https://habrastorage.org/webt/yc/1r/uf/yc1ruf7bi7cr6cmhz3rp5ryf_4w.png"><img src="https://habrastorage.org/webt/gr/fp/ky/grfpkygmrgieh8xy0nl75kbmh_q.png"><br><br>  A reprodu√ß√£o program√°tica do <i>DPCM foi</i> necess√°ria porque n√£o havia espa√ßo para a amostra em melhores formatos; o suporte de hardware n√£o p√¥de reproduzir amostras da metade inferior da mem√≥ria, mas n√£o havia espa√ßo para uma amostra desse tamanho na mem√≥ria superior n√£o comut√°vel.  O fragmento de som em si n√£o √© do protetor de tela original, mas um toque similar do conhecido jogo com acabamento cruel, soando no momento do acabamento real. <br><br><h3>  Cart√£o de mem√≥ria </h3><br>  No desenvolvimento, o utilit√°rio NES Space Checker era constantemente usado, o que visualiza o preenchimento de bancos de mem√≥ria.  √â bastante interessante ver um bom exemplo do que e onde est√° dentro do programa. <br><br><img src="https://habrastorage.org/webt/2o/wm/vi/2owmvixodm0fwzxlnofl0k83mew.png"><br><br>  <b>PRG00</b> ... <b>PRG02</b> - dados musicais <br>  <b>PRG03</b> - amostra para uma cena com uma View <br>  <b>PRG04</b> ... <b>PRG06</b> - dados de anima√ß√£o de rota√ß√£o de cartuchos <br>  <b>PRG07</b> - anima√ß√£o lado a lado no corredor <br>  <b>PRG08</b> - anima√ß√£o de rota√ß√£o de ladrilhos no corredor <br>  <b>PRG09</b> - c√≥digo da cena da torre <br>  <b>PRG0A</b> - c√≥digo de cena com um logotipo rotativo <br>  <b>PRG0B</b> - c√≥digo de cena com um nome e um corredor <br>  <b>PRG0C</b> - c√≥digo de cena com cartucho rotativo, Kirby, View, invaders, Pakman <br>  <b>PRG0D</b> - c√≥digo de cena com introdu√ß√µes, ru√≠do, barras coloridas, legendas <br>  <b>PRG0E</b> - o banco principal do c√≥digo, cont√©m apenas chamadas de todas as cenas <br>  <b>PRG0F</b> - banco de c√≥digo fixo, reprodutor de m√∫sica, sa√≠da de sprite, manipuladores de interrup√ß√£o <br><br>  <b>CHR00</b> - elefante beb√™ e azulejos para listras coloridas <br>  <b>CHR01</b> - fonte e ru√≠do <br>  <b>CHR02</b> - Visualizar sprite e blocos de letras rotativas no nome <br>  <b>CHR03</b> - <b>Ladrilhos</b> Kirby normais <br>  <b>CHR04</b> - Cheshire Kirby <b>Tiles</b> <br>  <b>CHR05</b> - gr√°ficos para uma cena com um cartucho rotativo <br>  <b>CHR06</b> ... <b>CHR0D</b> - anima√ß√£o rotativa do logotipo <br>  <b>CHR0E</b> - uma fonte para sauda√ß√µes e anima√ß√£o de blocos invasores <br>  <b>CHR0F</b> - Pakman <b>Tiles</b> <br>  <b>CHR10</b> ... <b>CHR13</b> - anima√ß√£o de textura de torre <br>  <b>CHR14</b> - <b>Azulejos de</b> corredor <br>  <b>CHR15</b> - <b>Sprite</b> Mario <br>  <b>CHR16</b> ... <b>CHR1F</b> - n√£o usado <br><br><h2>  Em vez de uma conclus√£o </h2><br>  Termino com um meme combinado: em qualquer situa√ß√£o incompreens√≠vel, escreva cenas de demonstra√ß√£o, senhores! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt474960/">https://habr.com/ru/post/pt474960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt474948/index.html">Existe uma perspectiva para "Orlan" ou nosso "Orlan" versus "IBM"</a></li>
<li><a href="../pt474950/index.html">Artem Svetlov: ‚ÄúTodos os dias no trabalho, vejo como o OSM ajuda uma variedade de empresas‚Äù</a></li>
<li><a href="../pt474954/index.html">Algoritmo de aprendizado de m√°quina bin√°rio com estrutura din√¢mica</a></li>
<li><a href="../pt474956/index.html">O filme de a√ß√£o americano faz sem persegui√ß√£o? Toby Galicki e seus 60 segundos</a></li>
<li><a href="../pt474958/index.html">Notas da estrutura de Zadroth: onipot√™ncia</a></li>
<li><a href="../pt474962/index.html">Platform Developers Conf by Miro: transmiss√£o ao vivo</a></li>
<li><a href="../pt474964/index.html">Simula√ß√£o de sincroniza√ß√£o com implementa√ß√µes reais</a></li>
<li><a href="../pt474966/index.html">Como escrever um contrato Python inteligente na rede Ontology. Parte 1: Blockchain e API de bloco</a></li>
<li><a href="../pt474968/index.html">RxDart para os menores ... projetos</a></li>
<li><a href="../pt474970/index.html">Como escrever um contrato inteligente com Python ontologia? Parte 5: API nativa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>