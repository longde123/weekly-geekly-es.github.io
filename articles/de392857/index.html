<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔶 👋🏼 🙇🏼 Umwandlung eines Druckknopf-Funkschalters in eine Berührung 🍛 🐚 👰🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich habe lange davon geträumt, einen Touch-Schalter zu Hause zu installieren. Ein Traum wurde wahr, als mir ein kostengünstiger FD Electronics-Touch-S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Umwandlung eines Druckknopf-Funkschalters in eine Berührung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zwave/blog/392857/"><img src="https://habrastorage.org/files/9ae/618/0f6/9ae6180f6c1b473096723fec1a723ce9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe lange davon geträumt, einen Touch-Schalter zu Hause zu installieren. Ein Traum wurde wahr, als mir ein kostengünstiger FD Electronics-Touch-Schalter vorgestellt wurde. Es sieht wunderschön aus, funktioniert super. Aber dies ist nur ein Schalter, und ich habe ein intelligentes Haus, das auf Z-Wave basiert, und natürlich wollte ich es in mein System integrieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FD Electronics, Livolo und DeLumo verfügen über Funkschalter, die mit Frequenzen von 433 MHz bzw. 868 MHz betrieben werden, können jedoch nicht in ein Smart Home integriert werden. Diese Schalter funktionieren nur mit Fernbedienungen des gleichen Herstellers, es gibt keine Steuerung vom Computer, es gibt keine Rückmeldung, d. H. Wenn jemand das Licht anmacht, weiß ich nichts davon. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde beschlossen, den </font><s><font style="vertical-align: inherit;">Igel mit der Schlange</font></s><font style="vertical-align: inherit;"> zu überqueren</font></font><s><font style="vertical-align: inherit;"></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mein Druckknopf-Funkschalter ist Z-Wave.Me Dimmer mit einem Berührungsschalter FD Electronics. Nachdem ich die Schaltkreise beider Schalter untersucht hatte, beschloss ich, den Leistungsteil des Berührungsschalters wegzuwerfen und nur das Gehäuse und das Touchpanel zu verwenden und den Strom- und Funkteil von meinem Z-Wave-Schalter zu nehmen. Das Wesentliche an der Änderung ist das Ersetzen mechanischer Tasten durch Berühren. Diese Methode eignet sich für jeden Technologie-Schalter.</font></font><br>
<br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der beliebteste Chip zum Erstellen einer Touch-Taste ist der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TTP-223</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Das Hauptmerkmal des TTP-223 ist die Fähigkeit zur automatischen Kalibrierung. Wenn Strom angelegt wird, misst die Mikroschaltung die Kapazität am Sensorschenkel </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und nimmt sie für 0 an. Dies ist praktisch, da Sie nichts konfigurieren müssen. Beim Berühren des Sensors </font><font style="vertical-align: inherit;">erscheint Spannung </font><font style="vertical-align: inherit;">am </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zweig </font><font style="vertical-align: inherit;">, wir schließen die Last dort an (LED, Relais, Optokoppler). </font></font><br>
<img src="https://habrastorage.org/files/5cf/fae/2c0/5cffae2c02de4f15ba52058c3b5abc45.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die </font><b><font style="vertical-align: inherit;">Füße </font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AHLB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> passen die Reaktion auf Berührungen des Sensors an. Ich </font><b><font style="vertical-align: inherit;">stelle</font></b><font style="vertical-align: inherit;"> den Ein-Modus ein, indem ich </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AHLB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem Boden verbinde. Das bedeutet, wenn ich den Sensor am </font><b><font style="vertical-align: inherit;">Q-</font></b><font style="vertical-align: inherit;"> Bein berühre</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spannung erscheint, wenn ich den Sensor loslasse, verschwindet die Spannung. Sie können auch den Schaltmodus konfigurieren. Bei jeder Berührung wird das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bein </font><font style="vertical-align: inherit;">in den entgegengesetzten Zustand versetzt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für den TTP-223-Test auf einem Steckbrett habe ich eine Relaissteuerschaltung für Arduino zusammengebaut. Es funktioniert großartig. </font></font><br>
<img src="https://habrastorage.org/files/1fb/570/5b4/1fb5705b422c4c75ab75da6fc3590e94.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um physische Tastendrücke zu simulieren, habe ich den Optokoppler </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PC817C verwendet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ich habe Optokoppler anstelle von Knöpfen an meinem Dimmer gelötet. Wenn der Optokoppler mit Spannung versorgt wird, schließt er sich. Bei einem Dimmer ist es so, als hätten sie einen Knopf gedrückt. Unter Verwendung der LUT wurde eine Adapterplatine hergestellt, einerseits eine Sensorschaltung, andererseits Optokoppler.</font></font><br>
<img src="https://habrastorage.org/files/a13/22a/9fe/a1322a9fe8b64784997a62872d4fbd69.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich das ganze Sandwich angeschlossen hatte, bekam ich einen Touch-Z-Wave-Dimmer. </font><font style="vertical-align: inherit;">Alle Tests und Montagen dauerten 14 Uhr. </font><font style="vertical-align: inherit;">Der Schalter wurde im Korridor installiert, wo er von einem Bewegungssensor gesteuert wird. Wenn Sie eine bestimmte Helligkeit zwangsweise ausschalten oder einschalten müssen, können Sie das Schöne leicht berühren! </font></font><br>
<img src="https://habrastorage.org/files/63f/204/7d6/63f2047d68e84d4d94c5f544ab1884ff.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS. </font><font style="vertical-align: inherit;">Ich entschied mich, die gesammelten Erfahrungen zu nutzen, um einen batteriebetriebenen Touch-Switch zu erstellen, und bestellte bereits ein Touch-Panel bei einem Livolo-Switch mit aliexpress, aber dazu später mehr.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de392857/">https://habr.com/ru/post/de392857/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de392843/index.html">Welche Entfernung muss ein autonomes Auto zurücklegen, um seine Zuverlässigkeit zu beweisen?</a></li>
<li><a href="../de392845/index.html">SpaceX hat Fotos des erfolgreichsten Starts des Raumfahrzeugs Falcon 9 in seiner Geschichte hochgeladen</a></li>
<li><a href="../de392849/index.html">Metallschäume können verschiedene Arten von Strahlung abschirmen und sogar panzerbrechende Kugeln stoppen</a></li>
<li><a href="../de392851/index.html">Roboterkellner haben die Schließung mehrerer Restaurants in China verursacht</a></li>
<li><a href="../de392855/index.html">Die Zukunft der Lagerung</a></li>
<li><a href="../de392859/index.html">Roboter stehlen Geld von russischen Bankkarten</a></li>
<li><a href="../de392861/index.html">Wir brauen Bier in einer Filterkaffeemaschine</a></li>
<li><a href="../de392863/index.html">Kleines Geheimnis des Künstlers Alexei Leonov</a></li>
<li><a href="../de392865/index.html">FLProg + Nextion HMI. Lektion 3</a></li>
<li><a href="../de392867/index.html">Die Chinesen bearbeiteten die DNA eines menschlichen Embryos ein zweites Mal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>