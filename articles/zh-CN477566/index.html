<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“ ğŸ—» ğŸ‘ƒğŸ» åä¸ºäº‘ï¼šä»Šå¤©PVS-Studioå¤šäº‘ ğŸ‘¨ğŸ»â€ğŸ¤ ğŸ‘‹ğŸ¾ ğŸš£ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬ä¸–çºªï¼Œæ¯ä¸ªäººéƒ½å¬è¯´è¿‡äº‘æœåŠ¡ã€‚ è®¸å¤šå…¬å¸å·²ç»æŒæ¡äº†è¿™ä¸€ç»†åˆ†å¸‚åœºï¼Œå¹¶åœ¨å„ä¸ªæ–¹å‘ä¸Šåˆ›å»ºäº†ä»–ä»¬çš„äº‘æœåŠ¡ã€‚ æˆ‘ä»¬çš„å›¢é˜Ÿæœ€è¿‘å¯¹å°†PVS-Studioä»£ç åˆ†æå™¨ä¸å…¶é›†æˆåœ¨ä¸€èµ·ä¹Ÿå¯¹è¿™äº›æœåŠ¡æ„Ÿå…´è¶£ã€‚ æˆ‘ä»¬è®¤ä¸ºæˆ‘ä»¬çš„æ™®é€šè¯»è€…å·²ç»çŒœåˆ°è¿™æ¬¡æˆ‘ä»¬å°†æ£€æŸ¥å“ªç§ç±»å‹çš„é¡¹ç›®ã€‚ é€‰æ‹©å–å†³äºåä¸ºçš„äº‘æœåŠ¡ä»£ç ã€‚ 

 å¼•è¨€ 
 å¦‚æœæ‚¨...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åä¸ºäº‘ï¼šä»Šå¤©PVS-Studioå¤šäº‘</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/477566/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ac/bd2/47b/2acbd247b999e7f8e9e45f77181e2f06.png" alt="å›¾ç‰‡2"></div><br> åœ¨æœ¬ä¸–çºªï¼Œæ¯ä¸ªäººéƒ½å¬è¯´è¿‡äº‘æœåŠ¡ã€‚ è®¸å¤šå…¬å¸å·²ç»æŒæ¡äº†è¿™ä¸€ç»†åˆ†å¸‚åœºï¼Œå¹¶åœ¨å„ä¸ªæ–¹å‘ä¸Šåˆ›å»ºäº†ä»–ä»¬çš„äº‘æœåŠ¡ã€‚ æˆ‘ä»¬çš„å›¢é˜Ÿæœ€è¿‘å¯¹å°†PVS-Studioä»£ç åˆ†æå™¨ä¸å…¶é›†æˆåœ¨ä¸€èµ·ä¹Ÿå¯¹è¿™äº›æœåŠ¡æ„Ÿå…´è¶£ã€‚ æˆ‘ä»¬è®¤ä¸ºæˆ‘ä»¬çš„æ™®é€šè¯»è€…å·²ç»çŒœåˆ°è¿™æ¬¡æˆ‘ä»¬å°†æ£€æŸ¥å“ªç§ç±»å‹çš„é¡¹ç›®ã€‚ é€‰æ‹©å–å†³äºåä¸ºçš„äº‘æœåŠ¡ä»£ç ã€‚ <br><a name="habracut"></a><br><h2> å¼•è¨€ </h2><br> å¦‚æœæ‚¨è·ŸéšPVS-Studioå›¢é˜Ÿï¼Œæ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œæœ€è¿‘æˆ‘ä»¬å¯¹äº‘æŠ€æœ¯éå¸¸æ„Ÿå…´è¶£ã€‚ æˆ‘ä»¬å·²ç»å‘è¡¨äº†ä¸è¯¥ä¸»é¢˜ç›¸å…³çš„å‡ ç¯‡æ–‡ç« ï¼š <br><br><ul><li>  <a href="https://www.viva64.com/ru/b/0670/">PVS-Studioèµ°å‘äº‘ç«¯ï¼šAzure DevOps</a> </li><li>  <a href="https://www.viva64.com/ru/b/0636/">PVS-Studioèµ°å‘ä¹Œäº‘ï¼šTravis CI</a> </li><li>  <a href="https://www.viva64.com/ru/b/0676/">PVS-Studioèµ°å‘äº‘ç«¯ï¼šCircleCI</a> </li><li>  <a href="https://www.viva64.com/ru/b/0686/">PVS-Studioèµ°å‘äº‘ç«¯ï¼šGitLab CI / CD</a> </li></ul><br> å› æ­¤ï¼Œå½“æˆ‘ä¸ºä¸‹ä¸€ç¯‡æ–‡ç« é€‰æ‹©å¦ä¸€ä¸ªæœ‰è¶£çš„é¡¹ç›®æ—¶ï¼Œæˆ‘æ”¶åˆ°äº†ä¸€å°æ¥è‡ª<a href="https://www.huawei.com/en/">åä¸º</a>çš„å·¥ä½œé‚€è¯·<a href="https://www.huawei.com/en/">å‡½</a> ã€‚ å½“æ”¶é›†æœ‰å…³è¯¥å…¬å¸çš„ä¿¡æ¯æ—¶ï¼Œäº‹å®è¯æ˜å®ƒä»¬æ‹¥æœ‰è‡ªå·±çš„äº‘æœåŠ¡ï¼Œä½†ä¸»è¦çš„æ˜¯è¿™äº›æœåŠ¡çš„æºä»£ç å¯åœ¨GitHubä¸Šå…è´¹è·å¾—ã€‚ è¿™æ˜¯æœ¬æ–‡é€‰æ‹©è¯¥å…¬å¸çš„ä¸»è¦åŸå› ã€‚ æ­£å¦‚ä¸€ä½ä¸­å›½åœ£è´¤æ‰€è¯´ï¼šâ€œäº‹æ•…å¹¶éå¶ç„¶ã€‚â€ <br><br> ç°åœ¨ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬çš„åˆ†æä»ªã€‚  PVS-Studioæ˜¯é™æ€ä»£ç åˆ†æå™¨ï¼Œç”¨äºè¯†åˆ«ç”¨Cï¼ŒC ++ï¼ŒCï¼ƒå’ŒJavaç¼–å†™çš„ç¨‹åºçš„æºä»£ç ä¸­çš„é”™è¯¯å’Œæ¼æ´ã€‚ è¯¥åˆ†æä»ªå¯åœ¨Windowsï¼ŒLinuxå’ŒmacOSå¹³å°ä¸Šè¿è¡Œã€‚ é™¤äº†ç”¨äºè¯¸å¦‚Visual Studioæˆ–IntelliJ IDEAè¿™æ ·çš„ç»å…¸å¼€å‘ç¯å¢ƒçš„æ’ä»¶ä¹‹å¤–ï¼Œè¯¥åˆ†æä»ªè¿˜å¯ä»¥ä¸SonarQubeå’ŒJenkinsé›†æˆï¼š <br><br><ul><li>  <a href="https://www.viva64.com/ru/m/0037/">å°†PVS-Studioåˆ†æç»“æœé›†æˆåˆ°SonarQubeä¸­</a> </li><li>  <a href="https://www.viva64.com/ru/m/0048/">åœ¨è©¹é‡‘æ–¯æ¨å‡ºPVS-Studio</a> </li></ul><br><h2> é¡¹ç›®åˆ†æ </h2><br> åœ¨æœç´¢æ–‡ç« çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°åä¸ºæœ‰ä¸€ä¸ª<a href="https://developer.huaweicloud.com/en-us">å¼€å‘äººå‘˜ä¸­å¿ƒ</a> ï¼Œæ‚¨å¯ä»¥åœ¨è¯¥<a href="https://developer.huaweicloud.com/en-us">ä¸­å¿ƒ</a>è·å–æœ‰å…³å…¶äº‘æœåŠ¡çš„ä¿¡æ¯ï¼ŒæŒ‡å—å’Œæºä»£ç ã€‚ å„ç§å„æ ·çš„ç¼–ç¨‹è¯­è¨€è¢«ç”¨æ¥åˆ›å»ºè¿™äº›æœåŠ¡ï¼Œä½†æ˜¯è¯¸å¦‚Goï¼ŒJavaå’ŒPythonä¹‹ç±»çš„è¯­è¨€å´æ˜¯æœ€å—æ¬¢è¿çš„ã€‚ <br><br> ç”±äºæˆ‘ä¸“é—¨ç ”ç©¶Javaï¼Œå› æ­¤ç›¸åº”åœ°é€‰æ‹©äº†é¡¹ç›®ã€‚ æœ¬æ–‡åˆ†æçš„é¡¹ç›®çš„æ¥æºå¯ä»¥åœ¨GitHubå­˜å‚¨åº“<a href="https://github.com/huaweicloud/">huaweicloudä¸­è·å¾—</a> ã€‚ <br><br> ä¸ºäº†åˆ†æé¡¹ç›®ï¼Œæˆ‘åªéœ€è¦æ‰§è¡Œä¸€äº›æ“ä½œï¼š <br><br><ul><li> ä»èµ„æºåº“ä¸­è·å–é¡¹ç›®ï¼› </li><li> ä½¿ç”¨<a href="https://www.viva64.com/ru/m/0044/">è¯´æ˜</a>å¯åŠ¨Javaåˆ†æå™¨ï¼Œå¹¶åœ¨æ¯ä¸ªé¡¹ç›®ä¸Šå¯åŠ¨åˆ†æã€‚ </li></ul><br> åœ¨åˆ†æäº†é¡¹ç›®ä¹‹åï¼Œæˆ‘ä»¬ä»…é€‰æ‹©äº†æˆ‘è¦æ³¨æ„çš„ä¸‰ä¸ªé¡¹ç›®ã€‚ è¿™æ˜¯ç”±äºå‰©ä½™Javaé¡¹ç›®çš„å¤§å°å¤ªå°æ‰€è‡´ã€‚ <br><br> é¡¹ç›®åˆ†æç»“æœï¼ˆè­¦å‘Šæ•°é‡å’Œæ–‡ä»¶æ•°é‡ï¼‰ï¼š <br><br><ul><li>  <a href="https://github.com/huaweicloud/huaweicloud-sdk-java">huaweicloud-sdk-java</a> ï¼š31-é«˜ï¼Œ2-ä¸­å’Œ16-ä½ï¼Œ2700 +ä¸ªæ–‡ä»¶ã€‚ </li><li>  <a href="https://github.com/huaweicloud/huaweicloud-dis-agent">huaweicloud-dis-agent</a> ï¼š7-é«˜ï¼Œ6-ä¸­å’Œ6-ä½ï¼Œ100å¤šä¸ªæ–‡ä»¶ã€‚ </li><li>  <a href="https://github.com/huaweicloud/huaweicloud-sdk-java-dis">huaweicloud-sdk-java-dis</a> ï¼š15-é«˜ï¼Œ6-ä¸­å’Œ1â€‹â€‹6-ä½ï¼Œ270 +ä¸ªæ–‡ä»¶ã€‚ </li></ul><br> å‡ ä¹æ²¡æœ‰è­¦å‘Šï¼Œå› æ­¤ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬å¯ä»¥è¯´ä»£ç çš„è´¨é‡å¾ˆå¥½ã€‚ æ­¤å¤–ï¼Œå¹¶éæ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ‰æ•ˆçš„é”™è¯¯ã€‚ è¿™æ˜¯ç”±äºä»¥ä¸‹äº‹å®ï¼šåˆ†æå™¨æœ‰æ—¶æ²¡æœ‰è¶³å¤Ÿçš„ä¿¡æ¯æ¥åŒºåˆ†æ­£ç¡®çš„ä»£ç å’Œé”™è¯¯çš„ä»£ç ã€‚ å› æ­¤ï¼Œå€ŸåŠ©ä»ç”¨æˆ·é‚£é‡Œæ”¶åˆ°çš„ä¿¡æ¯ï¼Œåˆ†æä»ªçš„è¯Šæ–­æ¯å¤©éƒ½åœ¨æ”¹è¿›ã€‚ å¦è¯·å‚é˜…æ–‡ç« â€œ <a href="https://www.viva64.com/ru/b/0488/">é™æ€åˆ†æå™¨å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆä¸è¯¯æŠ¥ä½œæ–—äº‰</a> â€ã€‚ <br><br> åœ¨åˆ†æé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é€‰æ‹©äº†æœ€æœ‰è¶£çš„è­¦å‘Šï¼Œæœ¬æ–‡å°†å¯¹æ­¤è¿›è¡Œè®¨è®ºã€‚ <br><br><h2> å­—æ®µåˆå§‹åŒ–é¡ºåº </h2><br>  <a href="https://www.viva64.com/ru/w/v6050/">V6050å­˜åœ¨</a>ç±»åˆå§‹åŒ–å‘¨æœŸã€‚ åœ¨åˆå§‹åŒ–â€œ LOGâ€ä¹‹å‰å‡ºç°â€œ INSTANCEâ€çš„åˆå§‹åŒ–ã€‚  UntrustedSSL.javaï¼ˆ32ï¼‰ï¼ŒUntrustedSSL.javaï¼ˆ59ï¼‰ï¼ŒUntrustedSSL.javaï¼ˆ33ï¼‰ <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UntrustedSSL</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> UntrustedSSL INSTANCE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UntrustedSSL(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger LOG = LoggerFactory.getLogger(UntrustedSSL.class); .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UntrustedSSL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { .... } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Throwable t) { LOG.error(t.getMessage(), t); <span class="hljs-comment"><span class="hljs-comment">// &lt;= } } }</span></span></code> </pre> <br> å¦‚æœ<i>UntrustedSSL</i>ç±»çš„æ„é€ å‡½æ•°ä¸­å‘ç”Ÿä»»ä½•å¼‚å¸¸ï¼Œåˆ™ä½¿ç”¨<i>LOG</i>è®°å½•å™¨å°†æœ‰å…³æ­¤å¼‚å¸¸çš„ä¿¡æ¯è®°å½•åœ¨<i>catchå—ä¸­</i> ã€‚ ä½†æ˜¯ï¼Œç”±äºé™æ€å­—æ®µçš„åˆå§‹åŒ–é¡ºåºï¼Œåˆå§‹åŒ–<i>INSTANCE</i>å­—æ®µæ—¶çš„<i>LOG</i>å°šæœªåˆå§‹åŒ–ã€‚ å› æ­¤ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­è®°å½•å¼‚å¸¸ä¿¡æ¯æ—¶ï¼Œå°†å¼•å‘<i>NullPointerException</i> ã€‚ æ­¤å¼‚å¸¸æ˜¯å¯¼è‡´å¦ä¸€ä¸ª<i>ExceptionInInitializerErrorå¼‚å¸¸</i>çš„åŸå› ï¼Œå¦‚æœåœ¨åˆå§‹åŒ–é™æ€å­—æ®µæ—¶å‘ç”Ÿ<i>å¼‚å¸¸</i> ï¼Œåˆ™ä¼šå¼•å‘è¯¥å¼‚å¸¸ã€‚ è§£å†³ä¸Šè¿°é—®é¢˜æ‰€éœ€è¦åšçš„å°±æ˜¯å°†<i>LOG</i>åˆå§‹åŒ–æ”¾åœ¨<i>INSTANCE</i>åˆå§‹åŒ–ä¹‹å‰ã€‚ <br><br><h2> çœ‹ä¸è§çš„é”™å­— </h2><br>  <a href="https://www.viva64.com/ru/w/v6005/">V6005</a>å˜é‡'this.metricSchema'è¢«åˆ†é…ç»™å®ƒè‡ªå·±ã€‚  OpenTSDBSchema.javaï¼ˆ72ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OpenTSDBSchema</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@JsonProperty</span></span>(<span class="hljs-string"><span class="hljs-string">"metric"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;SchemaField&gt; metricSchema; .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setMetricsSchema</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;SchemaField&gt; metricsSchema)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.metricSchema = metricSchema; <span class="hljs-comment"><span class="hljs-comment">// &lt;= } public void setMetricSchema(List&lt;SchemaField&gt; metricSchema) { this.metricSchema = metricSchema; } .... }</span></span></code> </pre> <br> ä¸¤ç§æ–¹æ³•éƒ½è®¾ç½®<i>metricSchema</i>å­—æ®µï¼Œä½†æ˜¯æ–¹æ³•åç§°çš„ä¸åŒä¹‹å¤„åœ¨äºä¸€ä¸ª's'å­—ç¬¦ã€‚ ç¨‹åºå‘˜æ ¹æ®æ–¹æ³•çš„åç§°æ¥å‘½åè¿™äº›æ–¹æ³•çš„å‚æ•°ã€‚ ç»“æœï¼Œåœ¨åˆ†æå™¨æ‰€æŒ‡å‘çš„è¡Œä¸­ï¼Œ <i>å‘å…¶</i>è‡ªèº«åˆ†é…äº†<i>metricSchema</i>å­—æ®µï¼Œå¹¶ä¸”æœªä½¿ç”¨<i>metricsSchema</i>æ–¹æ³•çš„å‚æ•°ã€‚ <br><br>  <a href="https://www.viva64.com/ru/w/v6005/">V6005</a>å˜é‡â€œæŒ‚èµ·â€å·²åˆ†é…ç»™è‡ªèº«ã€‚  SuspendTransferTaskRequest.javaï¼ˆ77ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SuspendTransferTaskRequest</span></span></span><span class="hljs-class"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> suspend; .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSuspend</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> suspend)</span></span></span><span class="hljs-function"> </span></span>{ suspend = suspend; } .... }</code> </pre> <br> è¿™æ˜¯ä¸€ä¸ªä¸ç²—å¿ƒå¤§æ„æœ‰å…³çš„å¹³åº¸é”™è¯¯ï¼Œç”±äºè¯¥é”™è¯¯ä¼šå¯¼è‡´å°†å‚æ•°<i>æŒ‚èµ·</i>åˆ†é…ç»™è‡ªèº«ã€‚ ç»“æœï¼Œéšå«åœ°ï¼Œåˆ°è¾¾çš„å‚æ•°çš„å€¼å°†ä¸ä¼šåˆ†é…ç»™<i>suspend</i>å­—æ®µã€‚ æ­£ç¡®åœ°ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSuspend</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> suspend)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.suspend = suspend; }</code> </pre> <br><h2> é¢„å®šæ¡ä»¶ </h2><br> ç»å¸¸å‘ç”Ÿçš„æ˜¯ï¼Œ <a href="https://www.viva64.com/ru/w/v6007/">V6007</a>è§„åˆ™åœ¨è­¦å‘Šæ•°é‡æ–¹é¢å¤„äºé¢†å…ˆåœ°ä½ã€‚ <br><br>  <a href="https://www.viva64.com/ru/w/v6007/">V6007</a>è¡¨è¾¾å¼â€œ firewallPolicyId == nullâ€å§‹ç»ˆä¸ºfalseã€‚  FirewallPolicyServiceImpl.javaï¼ˆ125ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> FirewallPolicy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeFirewallRuleFromPolicy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String firewallPolicyId, String firewallRuleId)</span></span></span><span class="hljs-function"> </span></span>{ checkNotNull(firewallPolicyId); checkNotNull(firewallRuleId); checkState(!(firewallPolicyId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; firewallRuleId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>), <span class="hljs-string"><span class="hljs-string">"Either a Firewall Policy or Firewall Rule identifier must be set"</span></span>); .... }</code> </pre> <br> åœ¨æ­¤æ–¹æ³•ä¸­ï¼Œç”¨<i>checkNotNull</i>æ–¹æ³•æ£€æŸ¥å‚æ•°æ˜¯å¦ä¸º<i>ç©º</i> ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@CanIgnoreReturnValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkNotNull</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T reference)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (reference == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NullPointerException(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reference; } }</code> </pre> <br> ä½¿ç”¨<i>checkNotNull</i>æ–¹æ³•æ£€æŸ¥å‚æ•°åï¼Œå¯ä»¥100ï¼…ç¡®ä¿ä¼ é€’ç»™æ­¤æ–¹æ³•çš„å‚æ•°ä¸ä¸º<i>null</i> ã€‚ ç”±äº<i>removeFirewallRuleFromPolicy</i>æ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°éƒ½ç”±<i>checkNotNull</i>æ–¹æ³•<i>æ£€æŸ¥</i> ï¼Œå› æ­¤å†æ¬¡æ£€æŸ¥å‚æ•°æ˜¯å¦ä¸º<i>ç©º</i> <i>å€¼</i>æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ ä½†æ˜¯ï¼Œå°†è¡¨è¾¾å¼ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’åˆ°<i>checkState</i>æ–¹æ³•ï¼Œå…¶ä¸­å°†é‡æ–°æ£€æŸ¥<i>firewallPolicyId</i>å’Œ<i>firewallRuleId</i>å‚æ•°æ˜¯å¦ä¸º<i>null</i> ã€‚ <br><br> å¯¹<i>firewallRuleId</i>å‘å‡ºç±»ä¼¼çš„è­¦å‘Šï¼š <br><br><ul><li>  V6007è¡¨è¾¾å¼â€œ firewallRuleId == nullâ€å§‹ç»ˆä¸ºfalseã€‚  FirewallPolicyServiceImpl.javaï¼ˆ125ï¼‰ </li></ul><br>  <a href="https://www.viva64.com/ru/w/v6007/">V6007</a>è¡¨è¾¾å¼'filteringParamsï¼= Null'å§‹ç»ˆä¸ºtrueã€‚  NetworkPolicyServiceImpl.javaï¼ˆ60ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Invocation&lt;NetworkServicePolicies&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildInvocation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map&lt;String, String&gt; filteringParams)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (filteringParams == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> servicePoliciesInvocation; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (filteringParams != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... } return servicePoliciesInvocation; }</span></span></code> </pre> <br> åœ¨æ­¤æ–¹æ³•ä¸­ï¼Œå¦‚æœå‚æ•°<i>filterParams</i>ä¸º<i>null</i> ï¼Œåˆ™è¯¥æ–¹æ³•å°†é€€å‡ºå¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚ å› æ­¤ï¼Œåˆ†æä»ªæ‰€æŒ‡å‘çš„æµ‹è¯•å°†å§‹ç»ˆæ˜¯æ­£ç¡®çš„ï¼Œè¿™æ„å‘³ç€è¯¥æµ‹è¯•æ²¡æœ‰æ„ä¹‰ã€‚ <br><br> ç±»ä¼¼çš„æƒ…å†µå‘ç”Ÿåœ¨13ä¸ªç±»ä¸­ï¼š <br><br><ul><li>  V6007è¡¨è¾¾å¼'filteringParamsï¼= Null'å§‹ç»ˆä¸ºtrueã€‚  PolicyRuleServiceImpl.javaï¼ˆ58ï¼‰ </li><li>  V6007è¡¨è¾¾å¼'filteringParamsï¼= Null'å§‹ç»ˆä¸ºtrueã€‚  GroupServiceImpl.javaï¼ˆ58ï¼‰ </li><li>  V6007è¡¨è¾¾å¼'filteringParamsï¼= Null'å§‹ç»ˆä¸ºtrueã€‚  ExternalSegmentServiceImpl.javaï¼ˆ57ï¼‰ </li><li>  V6007è¡¨è¾¾å¼'filteringParamsï¼= Null'å§‹ç»ˆä¸ºtrueã€‚  L3policyServiceImpl.javaï¼ˆ57ï¼‰ </li><li>  V6007è¡¨è¾¾å¼'filteringParamsï¼= Null'å§‹ç»ˆä¸ºtrueã€‚  PolicyRuleSetServiceImpl.javaï¼ˆ58ï¼‰ </li><li> ç­‰ç­‰... </li></ul><br><h2> ç©ºå‚è€ƒ </h2><br>  <a href="https://www.viva64.com/ru/w/v6008/">V6008</a>å¯èƒ½ä¼šå–æ¶ˆå¼•ç”¨'m.blockDeviceMapping'ã€‚  NovaServerCreate.javaï¼ˆ390ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ServerCreateBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">blockDevice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BlockDeviceMappingCreate blockDevice)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (blockDevice != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; m.blockDeviceMapping == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { m.blockDeviceMapping = Lists.newArrayList(); } m.blockDeviceMapping.add(blockDevice); <span class="hljs-comment"><span class="hljs-comment">// &lt;= return this; }</span></span></code> </pre> <br> åœ¨æ­¤æ–¹æ³•ä¸­ï¼Œå¦‚æœ<i>blockDevice</i>å‚æ•°ä¸º<i>nullï¼Œ</i> <i>åˆ™</i>ä¸ä¼šå‘ç”Ÿ<i>m.blockDeviceMapping</i>å‚è€ƒå­—æ®µçš„åˆå§‹åŒ–ã€‚ ä»…åœ¨æ­¤æ–¹æ³•ä¸­åˆå§‹åŒ–æ­¤å­—æ®µï¼Œå› æ­¤ï¼Œåœ¨è°ƒç”¨<i>add</i>æ–¹æ³•æ—¶ï¼Œ <i>m.blockDeviceMapping</i>å­—æ®µå°†å¼•å‘<i>NullPointerException</i> ã€‚ <br><br>  <a href="https://www.viva64.com/ru/w/v6008/">V6008</a>å‡½æ•°'&lt;init&gt;'ä¸­'FileId.getï¼ˆpathï¼‰'çš„æ½œåœ¨ç©ºå¼•ç”¨ã€‚  TrackedFile.javaï¼ˆ140ï¼‰ï¼ŒTrackedFile.javaï¼ˆ115ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrackedFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FileFlow&lt;?&gt; flow, Path path)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(flow, path, FileId.get(path), ....); }</code> </pre> <br> é™æ€æ–¹æ³•<i>FileId.getï¼ˆè·¯å¾„ï¼‰</i>çš„ç»“æœä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™<i>TrackedFile</i>ç±»çš„æ„é€ å‡½æ•°ã€‚ ä½†æ˜¯æ­¤æ–¹æ³•å¯ä»¥è¿”å›<i>null</i> ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> FileId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path file)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Files.exists(file)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } .... }</code> </pre> <br> åœ¨é€šè¿‡<i>this</i>è°ƒç”¨çš„æ„é€ å‡½æ•°ä¸­ï¼Œ <i>id</i>å‚æ•°åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨ä¹‹å‰ä¸ä¼šæ”¹å˜ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrackedFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...., ...., FileId id, ....)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ .... FileId newId = FileId.get(path); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!id.equals(newId)) { .... } }</code> </pre> <br> å› æ­¤ï¼Œå¦‚æœå°†<i>null</i>ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™è¯¥æ–¹æ³•ï¼Œåˆ™å°†å‘ç”Ÿå¼‚å¸¸ã€‚ <br><br> åœ¨å¦ä¸€ç§æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šå‘ç”Ÿç±»ä¼¼çš„æƒ…å†µï¼š <br><br><ul><li>  V6008å¯èƒ½ä¼šå–æ¶ˆå¼•ç”¨â€œç¼“å†²åŒºâ€ã€‚  PublishingQueue.javaï¼ˆ518ï¼‰ </li></ul><br>  <a href="https://www.viva64.com/ru/w/v6008/">V6008</a>å¯èƒ½ä¼šå–æ¶ˆå¼•ç”¨â€œ dataTmpFileâ€ã€‚  CacheManager.javaï¼ˆ91ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">putToCache</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PutRecordsRequest putRecordsRequest)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataTmpFile == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || !dataTmpFile.exists()) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { dataTmpFile.createNewFile(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= } catch (IOException e) { LOGGER.error("Failed to create cache tmp file, return.", e); return ; } } .... }</span></span></code> </pre> <br> å†æ¬¡æ˜¯NPEã€‚ æ¡ä»¶è¯­å¥ä¸­çš„è®¸å¤šæ£€æŸ¥å…è®¸<i>dataTmpFile</i>å¯¹è±¡ä¸ºnullä»¥ä¾¿è¿›ä¸€æ­¥å–æ¶ˆå¼•ç”¨ã€‚ æˆ‘è®¤ä¸ºè¿™é‡Œæœ‰ä¸¤ç§é”™åˆ«å­—ï¼Œæ£€æŸ¥å®é™…ä¸Šåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataTmpFile != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; !dataTmpFile.exists())</code> </pre> <br><h2> å­å­—ç¬¦ä¸²å’Œè´Ÿæ•° </h2><br>  <a href="https://www.viva64.com/ru/w/v6009/">V6009</a> â€œå­å­—ç¬¦ä¸²â€åŠŸèƒ½å¯ä»¥æ¥æ”¶â€œ -1â€å€¼ï¼Œè€Œé¢„æœŸä¸ºéè´Ÿå€¼ã€‚ æ£€æŸ¥å‚æ•°ï¼š2. RemoveVersionProjectIdFromURL.javaï¼ˆ37ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String url)</span></span></span><span class="hljs-function"> </span></span>{ String urlRmovePojectId = url.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, url.lastIndexOf(<span class="hljs-string"><span class="hljs-string">"/"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> urlRmovePojectId.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, urlRmovePojectId.lastIndexOf(<span class="hljs-string"><span class="hljs-string">"/"</span></span>)); }</code> </pre> <br> å¯ä»¥ç†è§£ï¼ŒURLæ˜¯ä½œä¸ºå­—ç¬¦ä¸²ä¼ é€’ç»™æ­¤æ–¹æ³•çš„ï¼Œæœªç»ä»»ä½•æ–¹å¼éªŒè¯ã€‚ ä½¿ç”¨<i>lastIndexOf</i>æ–¹æ³•å°†è¯¥å­—ç¬¦ä¸²ä¿®å‰ªå‡ æ¬¡ä¹‹åã€‚ å¦‚æœ<i>lastIndexOf</i>åœ¨å­—ç¬¦ä¸²ä¸­æ‰¾ä¸åˆ°åŒ¹é…é¡¹ï¼Œåˆ™å°†è¿”å›-1ã€‚ è¿™å°†æŠ›å‡º<i>StringIndexOutOfBoundsException</i> ï¼Œå› ä¸º<i>substring</i>æ–¹æ³•çš„å‚æ•°å¿…é¡»ä¸ºéè´Ÿæ•°ã€‚ ä¸ºäº†ä½¿è¯¥æ–¹æ³•æ­£å¸¸å·¥ä½œï¼Œå¿…é¡»æ·»åŠ è¾“å…¥å‚æ•°çš„éªŒè¯æˆ–éªŒè¯<i>lastIndexOf</i>æ–¹æ³•çš„ç»“æœä¸æ˜¯è´Ÿæ•°ã€‚ <br><br> è¿™æ˜¯å‘ç”Ÿæ­¤æƒ…å†µçš„å…¶ä»–ä¸€äº›åœ°æ–¹ï¼š <br><br><ul><li>  V6009â€œå­å­—ç¬¦ä¸²â€åŠŸèƒ½å¯ä»¥æ¥æ”¶â€œ -1â€å€¼ï¼Œè€Œé¢„æœŸä¸ºéè´Ÿå€¼ã€‚ æ£€æŸ¥å‚æ•°ï¼š2. RemoveProjectIdFromURL.javaï¼ˆ37ï¼‰ </li><li>  V6009â€œå­å­—ç¬¦ä¸²â€åŠŸèƒ½å¯ä»¥æ¥æ”¶â€œ -1â€å€¼ï¼Œè€Œé¢„æœŸä¸ºéè´Ÿå€¼ã€‚ æ£€æŸ¥å‚æ•°ï¼š2. RemoveVersionProjectIdFromURL.javaï¼ˆ38ï¼‰ </li></ul><br><h2> è¢«é—å¿˜çš„ç»“æœ </h2><br>  <a href="https://www.viva64.com/ru/w/v6010/">V6010</a>éœ€è¦ä½¿ç”¨åŠŸèƒ½â€œ concatâ€çš„è¿”å›å€¼ã€‚  AKSK.javaï¼ˆ278ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildCanonicalHost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(URL url)</span></span></span><span class="hljs-function"> </span></span>{ String host = url.getHost(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> port = url.getPort(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (port &gt; -<span class="hljs-number"><span class="hljs-number">1</span></span>) { host.concat(<span class="hljs-string"><span class="hljs-string">":"</span></span> + Integer.toString(port)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> host; }</code> </pre> <br> åœ¨ç¼–å†™æ­¤ä»£ç æ—¶ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°è°ƒç”¨<i>concat</i>æ–¹æ³•ä¸ä¼šæ›´æ”¹<i>ä¸»æœº</i>å­—ç¬¦ä¸²ï¼Œè¿™æ˜¯å› ä¸º<i>String</i>ç±»å‹çš„å¯¹è±¡æ˜¯ä¸å¯å˜æ€§çš„ã€‚ ä¸ºäº†ä½¿è¯¥æ–¹æ³•æ­£å¸¸å·¥ä½œï¼Œå¿…é¡»å°†<i>concat</i>æ–¹æ³•çš„ç»“æœåˆ†é…ç»™<i>if</i>å—ä¸­çš„<i>ä¸»æœº</i>å˜é‡ã€‚ æ­£ç¡®åœ°ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (port &gt; -<span class="hljs-number"><span class="hljs-number">1</span></span>) { host = host.concat(<span class="hljs-string"><span class="hljs-string">":"</span></span> + Integer.toString(port)); }</code> </pre> <br><h2> æœªä½¿ç”¨çš„å˜é‡ </h2><br>  <a href="https://www.viva64.com/ru/w/v6021/">V6021</a>ä¸ä½¿ç”¨å˜é‡â€œ urlâ€ã€‚  TriggerV2Service.javaï¼ˆ95ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deleteAllTriggersForFunction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String functionUrn)</span></span></span><span class="hljs-function"> </span></span>{ checkArgument(!Strings.isNullOrEmpty(functionUrn), ....); String url = ClientConstants.FGS_TRIGGERS_V2 + ClientConstants.URI_SEP + functionUrn; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> deleteWithResponse(uri(triggersUrlFmt, functionUrn)).execute(); }</code> </pre> <br> åœ¨æ­¤æ–¹æ³•ä¸­ï¼Œåˆå§‹åŒ–åä¸ä½¿ç”¨<i>url</i>å˜é‡ã€‚ å¾ˆæœ‰å¯èƒ½ï¼Œåº”è¯¥å°†<i>url</i>å˜é‡ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°è€Œä¸æ˜¯<i>functionUrn</i>ä¼ é€’ç»™<i>uri</i>æ–¹æ³•ï¼Œå› ä¸ºå˜é‡<i>functionUrn</i>æ¶‰åŠ<i>url</i>å˜é‡çš„åˆå§‹åŒ–ã€‚ <br><br><h2> æ„é€ å‡½æ•°ä¸­æœªä½¿ç”¨çš„å‚æ•° </h2><br>  <a href="https://www.viva64.com/ru/w/v6022/">V6022</a>åœ¨æ„é€ å‡½æ•°ä¸»ä½“å†…éƒ¨æœªä½¿ç”¨å‚æ•°'returnType'ã€‚  HttpRequest.javaï¼ˆ68ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HttpReQuest</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class">&gt; </span></span>{ .... Class&lt;R&gt; returnType; .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HttpRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...., Class&lt;R&gt; returnType)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">// &lt;= { this.endpoint = endpoint; this.path = path; this.method = method; this.entity = entity; } .... public Class&lt;R&gt; getReturnType() { return returnType; } .... }</span></span></span></span></code> </pre> <br> åœ¨æ­¤æ„é€ å‡½æ•°ä¸­ï¼Œä»–ä»¬å¿˜è®°äº†ä½¿ç”¨<i>returnType</i>å‚æ•°ï¼Œå¹¶å°†å…¶å€¼åˆ†é…ç»™<i>returnType</i>å­—æ®µã€‚ å› æ­¤ï¼Œåœ¨è°ƒç”¨<i>getReturnType</i>æ–¹æ³•æ—¶ï¼Œæ­¤æ„é€ æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡å°†è¿”å›é»˜è®¤å€¼<i>null</i> ï¼Œå°½ç®¡å®ƒæœ€æœ‰å¯èƒ½æ—¨åœ¨è·å–å…ˆå‰ä¼ é€’ç»™æ„é€ æ–¹æ³•çš„å¯¹è±¡ã€‚ <br><br><h2> ç›¸åŒçš„åŠŸèƒ½ </h2><br>  <a href="https://www.viva64.com/ru/w/v6032/">V6032</a>æ–¹æ³•â€œå¯ç”¨â€çš„ä¸»ä½“å®Œå…¨ç­‰åŒäºå¦ä¸€ç§æ–¹æ³•â€œç¦ç”¨â€çš„ä¸»ä½“ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  ServiceAction.javaï¼ˆ32ï¼‰ï¼ŒServiceAction.javaï¼ˆ36ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ServiceAction</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModelEntity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String binary; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String host; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ServiceAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String binary, String host)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.binary = binary; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.host = host; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> ServiceAction </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String binary, String host)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// &lt;= return new ServiceAction(binary, host); } public static ServiceAction disable(String binary, String host) { // &lt;= return new ServiceAction(binary, host); } .... }</span></span></code> </pre> <br> å­˜åœ¨ä¸¤ä¸ªç›¸åŒçš„æ–¹æ³•ä¸æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œä½†æ˜¯ä¸¤ä¸ªæ–¹æ³•æ‰§è¡Œç›¸åŒæ“ä½œçš„äº‹å®è‡³å°‘å¾ˆå¥‡æ€ªã€‚ æŸ¥çœ‹ä¸Šè¿°æ–¹æ³•çš„åç§°ï¼Œæˆ‘ä»¬å¯ä»¥å‡å®šå®ƒä»¬æ‰§è¡Œç›¸åçš„æ“ä½œã€‚ å®é™…ä¸Šï¼Œè¿™ä¸¤ç§æ–¹æ³•éƒ½åšåŒæ ·çš„äº‹æƒ…-å®ƒä»¬åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ª<i>ServiceAction</i>å¯¹è±¡ã€‚ æœ€æœ‰å¯èƒ½çš„æ˜¯ï¼Œ <i>disable</i>æ–¹æ³•æ˜¯é€šè¿‡å¤åˆ¶<i>enable</i>æ–¹æ³•çš„ä»£ç åˆ›å»ºçš„ï¼Œä½†æ˜¯å´å¿˜è®°äº†æ›´æ”¹æ–¹æ³•ä¸»ä½“ã€‚ <br><br><h2> å¿˜äº†æ£€æŸ¥ä¸»è¦çš„ä¸œè¥¿ </h2><br>  <a href="https://www.viva64.com/ru/w/v6060/">V6060</a>åœ¨å¯¹nullè¿›è¡ŒéªŒè¯ä¹‹å‰ï¼Œå·²ä½¿ç”¨â€œ paramsâ€å‚è€ƒã€‚  DomainService.javaï¼ˆ49ï¼‰ï¼ŒDomainService.javaï¼ˆ46ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Domains </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">list</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map&lt;String, String&gt; params)</span></span></span><span class="hljs-function"> </span></span>{ Preconditions.checkNotNull(params.get(<span class="hljs-string"><span class="hljs-string">"page_size"</span></span>), ....); Preconditions.checkNotNull(params.get(<span class="hljs-string"><span class="hljs-string">"page_number"</span></span>), ....); Invocation&lt;Domains&gt; domainInvocation = get(Domains.class, uri(<span class="hljs-string"><span class="hljs-string">"/domains"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (params != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... } return domainInvocation.execute(this.buildExecutionOptions(Domains.class)); }</span></span></code> </pre> <br> åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å†³å®šæ£€æŸ¥<i>Map</i>ç±»å‹ç»“æ„çš„å†…å®¹æ˜¯å¦å­˜åœ¨<i>ç©º</i>ä¸ç­‰å¼ã€‚ ä¸ºæ­¤ï¼Œ <i>params</i>å‚æ•°è°ƒç”¨<i>get</i>æ–¹æ³•ä¸¤æ¬¡ï¼Œå…¶ç»“æœä¼ é€’åˆ°<i>checkNotNull</i>æ–¹æ³•ã€‚ ä¸€åˆ‡ä¼¼ä¹åˆä¹é€»è¾‘ï¼Œä½†æ— è®ºå¦‚ä½•ï¼ åœ¨<i>ifä¸­</i> ï¼Œæ£€æŸ¥<i>params</i>å‚æ•°æ˜¯å¦ä¸º<i>null</i> ã€‚ ä¹‹åï¼Œå¯ä»¥å‡å®šè¾“å…¥å‚æ•°å¯ä»¥ä¸º<i>null</i> ï¼Œä½†æ˜¯åœ¨æ­¤æ£€æŸ¥ä¹‹å‰ï¼Œå·²ç»å¯¹<i>params</i>è°ƒç”¨äº†<i>get</i>æ–¹æ³•ä¸¤æ¬¡ã€‚ å¦‚æœå°†<i>null</i>ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ­¤æ–¹æ³•ï¼Œåˆ™ç¬¬ä¸€æ¬¡è°ƒç”¨<i>get</i>æ–¹æ³•æ—¶ï¼Œå°†å¼•å‘å¼‚å¸¸ã€‚ <br><br> åœ¨å¦å¤–ä¸‰ä¸ªåœ°æ–¹ä¹Ÿä¼šå‘ç”Ÿç±»ä¼¼çš„æƒ…å†µï¼š <br><br><ul><li>  V6060åœ¨å¯¹nullè¿›è¡ŒéªŒè¯ä¹‹å‰ï¼Œå·²ä½¿ç”¨â€œ paramsâ€å‚è€ƒã€‚  DomainService.javaï¼ˆ389ï¼‰ï¼ŒDomainService.javaï¼ˆ387ï¼‰ </li><li>  V6060åœ¨å¯¹nullè¿›è¡ŒéªŒè¯ä¹‹å‰ï¼Œå·²ä½¿ç”¨â€œ paramsâ€å‚è€ƒã€‚  DomainService.javaï¼ˆ372ï¼‰ï¼ŒDomainService.javaï¼ˆ369ï¼‰ </li><li>  V6060åœ¨å¯¹nullè¿›è¡ŒéªŒè¯ä¹‹å‰ï¼Œå·²ä½¿ç”¨â€œ paramsâ€å‚è€ƒã€‚  DomainService.javaï¼ˆ353ï¼‰ï¼ŒDomainService.javaï¼ˆ350ï¼‰ </li></ul><br><h2> ç»“è®º </h2><br> å¦‚ä»Šï¼Œç°ä»£å¤§å‹å…¬å¸ç¦»ä¸å¼€ä½¿ç”¨äº‘æœåŠ¡ã€‚ å¤§é‡çš„äººä½¿ç”¨è¿™äº›æœåŠ¡ï¼Œå› æ­¤ï¼Œå³ä½¿æ˜¯æœåŠ¡ä¸­çš„æœ€è½»å¾®çš„é”™è¯¯ä¹Ÿå¯èƒ½å¯¼è‡´è®¸å¤šäººçš„é—®é¢˜ï¼Œä»¥åŠå¯¼è‡´å…¬å¸æ›´æ­£æ­¤é”™è¯¯åæœçš„é¢å¤–è´¹ç”¨ã€‚ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå§‹ç»ˆå¿…é¡»è€ƒè™‘äººä¸ºå› ç´ ï¼Œå› ä¸ºä»»ä½•äººè¿Ÿæ—©éƒ½ä¼šçŠ¯é”™è¯¯ï¼Œæœ¬æ–‡å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‚¨åº”è¯¥ä½¿ç”¨æ‰€æœ‰å¯èƒ½çš„å·¥å…·æ¥æé«˜ä»£ç è´¨é‡çš„åŸå› ã€‚ <br><br>  PVS-Studioä¸€å®šä¼šé€šçŸ¥åä¸ºå…¶äº‘æœåŠ¡æ£€æŸ¥ç»“æœï¼Œä»¥ä¾¿è¯¥å…¬å¸çš„å¼€å‘äººå‘˜å¯ä»¥æ›´è¯¦ç»†åœ°ç ”ç©¶å®ƒä»¬ã€‚ <br><br> æœ¬æ–‡ä¸­æ¼”ç¤ºçš„ä¸€æ¬¡æ€§ä½¿ç”¨é™æ€ä»£ç åˆ†æä¸èƒ½æ˜¾ç¤ºå…¶æ‰€æœ‰ä¼˜ç‚¹ã€‚ æœ‰å…³å¦‚ä½•æ­£ç¡®ä½¿ç”¨é™æ€åˆ†æçš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://www.viva64.com/ru/b/0594/">æ­¤å¤„</a>å’Œ<a href="https://www.viva64.com/ru/b/0639/">æ­¤å¤„</a> ã€‚ æ‚¨å¯ä»¥åœ¨<a href="https://www.viva64.com/ru/pvs-studio-download/">æ­¤å¤„</a>ä¸‹è½½PVS-Studioåˆ†æä»ªã€‚ <br><br><p> <a href="https://habr.com/en/company/pvs-studio/blog/477558/"><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a> </p><br><br> å¦‚æœæ‚¨æƒ³ä¸è¯´è‹±è¯­çš„è¯»è€…åˆ†äº«è¿™ç¯‡æ–‡ç« ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é“¾æ¥ï¼šValery Komarovã€‚  <a href="https://habr.com/en/company/pvs-studio/blog/477558/">åä¸ºäº‘ï¼šå¦‚ä»ŠPVS-Studioå¤šäº‘</a> ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN477566/">https://habr.com/ru/post/zh-CN477566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN477554/index.html">.ORGåŸŸååŒºåŸŸå‡ºå”®ç»™ä¸€å®¶ç§äººå…¬å¸ã€‚ å…¬ä¼—å‘¼åICANNç»ˆæ­¢åˆåŒ</a></li>
<li><a href="../zh-CN477558/index.html">åä¸ºäº‘ï¼šä»Šå¤©PVS-Studioå¤šäº‘</a></li>
<li><a href="../zh-CN477560/index.html">ä½¿ç”¨SwiftUIæ”¹å˜å¿ƒæ€</a></li>
<li><a href="../zh-CN477562/index.html">æ¸¸æˆç•Œé¢è®¾è®¡ï¼Œç”»ä¸€åŒ…å›¾æ ‡</a></li>
<li><a href="../zh-CN477564/index.html">å¤æ‚çš„å®¢æˆ·ï¼šå¦‚ä½•ä¿æŠ¤æ‚¨çš„å›¢é˜Ÿå…å—ä»–ä»¬çš„ä¾µå®³</a></li>
<li><a href="../zh-CN477568/index.html">è¯¥æœåŠ¡å¾ˆå®¹æ˜“æ— æ¡ä»¶é€€è´§ã€‚ ä¿„ç½—æ–¯é‚®æ”¿</a></li>
<li><a href="../zh-CN477578/index.html">å¦‚ä½•é€‰æ‹©ç¼–ç¨‹è¯­è¨€æ¥åˆ›å»ºAndroidåº”ç”¨ç¨‹åº</a></li>
<li><a href="../zh-CN477580/index.html">Webå¼€å‘çš„æœ€ä½³PHPæ¡†æ¶</a></li>
<li><a href="../zh-CN477584/index.html">æ°¸æ’çš„ç»å…¸ï¼šç°ä»£åŠ¨ä½œæ¸¸æˆåº”è¯¥å‘DOOMå­¦ä¹ ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN477590/index.html">åµŒå…¥ä»£ç å’Œç›—ç‰ˆè½¯ä»¶çš„å±é™©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>