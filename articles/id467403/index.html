<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙅🏽 🧓🏼 👶🏿 Apa yang Anda bisa dan tidak bisa memeras komponen web 🚞 🤕 🔨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ini bukan tutorial atau ulasan lengkap - catatan berdarah panas setelah mengkompilasi pustaka komponen. Semuanya dimulai dengan kisah sehari-hari yang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apa yang Anda bisa dan tidak bisa memeras komponen web</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467403/"> Ini bukan tutorial atau ulasan lengkap - catatan berdarah panas setelah mengkompilasi pustaka komponen.  Semuanya dimulai dengan kisah sehari-hari yang biasa: ada kode warisan, Anda harus mengencangkan pipmochek dan tongkat kecil ke warisan, Anda tidak dapat menulis ulang apa pun, sekali, dan tidak menyentuh apa pun di sini dengan tangan Anda;  jangan menyentuh paket besar dan menakutkan untuk berjaga-jaga, dan memang, mengapa Anda tidak mengambil kerangka kerja <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Vanilla JS</a> terbaik dan mulai menulis di atasnya, karena kakek Anda diwariskan? <br><a name="habracut"></a><br>  Tetapi karena volume pekerjaan diramalkan akan sangat terlihat, untuk beberapa alasan tidak ada yang mengalami dorongan kreatif dari ide menulis segala sesuatu dalam JS kosong.  Kami pergi untuk melihat alat-alat dan memilih dari mereka yang tidak akan menakuti konsumen dari komponen kami untuk berlutut. <br><br><h2>  Alat-alatnya </h2><br>  Meskipun saya sudah merusak seluruh bagian ini, ada sesuatu yang perlu dikatakan di sini.  Pertama, komponen web segera menjadi benar-benar tidak terbantahkan: ketika hasil kreativitas adalah pustaka komponen, dan Anda tidak dapat menyeret monster besar ala Angular, yang akan sepenuhnya benar-benar memodulasi sendiri, maka yang tersisa adalah Anda tidak perlu menyeret kode perpustakaan sama sekali, dan bekerja "begitu saja" di browser modern.  Komponen web itu sendiri masih sama menakjubkan dengan kerangka kerja Vanilla JS, dengan hanya sedikit modularitas yang terselesaikan.  Masih ada terlalu banyak yang tersisa untuk ditulis dengan tangan Anda sendiri - Anda memerlukan pembungkus dengan standardisasi, dan juga diinginkan bahwa ada minimum pelat untuk setiap komponen. <br><br>  Tidak ada banyak pembungkus seperti itu, dan bahkan cukup matang untuk digunakan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">produk</a> serius: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Hibrida,</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">LitElement,</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Stensil.</a>  Dan mereka semua melakukan hal yang sama dengan cara yang sama, perbedaannya ada pada hal-hal kecil.  Hibrida berusaha menjadi trendi dan tidak berkelas, Stensil trendi dan seperti reaksi, LitElement bahkan tidak berusaha keras.  Dan menurut hasil memilih dari hal-hal sepele, LitElement tetap pada output - OOPshniki mengubah hidung mereka dari Hibrida, dan non-amatir reaksi - dari Stencil, di mana BEJ umumnya merasakan pengulangan bukan ide reaksi yang paling tak terbantahkan dari reaksi. <br><br><h2>  Untuk berperang? </h2><br>  Tidak begitu menarik untuk berbicara tentang apa yang Anda bisa, itu semua ada dalam dokumentasi, jadi saya akan terus berbicara terutama tentang apa yang tidak dapat Anda lakukan: mereka biasanya tidak menulis tentang hal ini dalam dokumentasi. <br><br><h3>  Pola </h3><br>  Dalam hal templating, LitElement menggunakan lit-html, yang sangat minimalis: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> template = html<span class="hljs-string"><span class="hljs-string">` &lt;div attr=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${a}</span></span></span><span class="hljs-string"> .property=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${b}</span></span></span><span class="hljs-string"> ?booleanAttr=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${c}</span></span></span><span class="hljs-string"> @click=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${handleClick}</span></span></span><span class="hljs-string"> &gt;&lt;/div&gt; `</span></span>;</code> </pre> <br>  Ini bukan html, tetapi Anda harus mengingat tepat tiga konstruksi dalam satu simbol di sini - ".", "?", Dan "@".  Yang lainnya adalah html.  Mengenai JSX, dengan className dan yang lainnya, ini sedikit lebih bagus dan terpisah secara hukum dari kode JS / TS.  Tapi, omong-omong, "mustahil" pertama mengikuti dari sini - untuk mengikat sesuatu yang buruk tidak berfungsi, Anda hanya dapat mengikat dalam nilai atribut dan properti, dan dalam konten teks.  Tentu saja, tidak ada keajaiban dalam literal templat yang ditandai, dan dengan biaya sejumlah penyimpangan, Anda dapat mengkompilasi string dalam runtime dan melampirkan binder yang menyala-html ke dalamnya, tetapi ini sebenarnya masuk ke render dengan tangan Anda, dan dengan keberhasilan yang sama Anda dapat mengumpulkan baris dan mengirimkannya di innerHTML.  Secara normal, ini semua dilakukan melalui komposisi templat dan penguraian komponen kompleks menjadi komponen yang lebih sederhana.  Platplate cukup kecil - binding template hampir tidak ada, karena itu hanya variabel, dan untuk membuat komponen, Anda memerlukan lima baris "ekstra". <br><br><h3>  Komponen </h3><br>  Satu-satunya masalah (tetapi signifikan) dari komponen adalah bahwa untuk sepenuhnya "mencampur" komponen dengan render anak-anak, di suatu tempat di dalam templat induk Anda memerlukan Shadow DOM.  Yang, tentu saja, termasuk dalam LitElement secara default, dan secara umum tampaknya tidak buruk.  Tapi bayangan DOM saat ini memiliki satu masalah besar dengan gaya, mirip dengan modul css: untuk mengisolasi gaya itu dengan sempurna mengisolasi, tetapi sepanjang jalan ini memotong seluruh kaskade.  Sangat tidak mungkin untuk masuk ke gaya yang terisolasi dari luar.  Umumnya (hampir) tidak ada. <br><br>  Ini sangat mengganggu, misalnya, dengan kemampuan untuk memutar komponen dari berbagai topik.  Semua yang dapat dilakukan dengan DOM bayangan adalah untuk mengemas semua opsi styling di dalam komponen, atau untuk mencoba membuat tema sepenuhnya tergantung pada variabel css - ini adalah "hampir" dengan mana Anda dapat mengejang gaya terisolasi.  Tetapi dengan itu diperlukan untuk memberikan variabel secara harfiah untuk setiap gaya yang masuk akal, dan, dengan probabilitas tinggi, masih kemudian ditambahkan lagi. <br><br>  Untungnya, Shadow DOM di LitElement dapat dengan mudah dinonaktifkan pada komponen.  Sayangnya, ini juga akan menonaktifkan kemampuan untuk menargetkan anak-anak elemen di tempat yang tepat dari template melalui &lt;slot&gt;.  Untungnya, setelah memutarbalikkan sedikit, Anda bisa mendapatkan yang pertama dan yang kedua: untuk ini, Anda <i>hanya</i> perlu meletakkan root shadow pada setiap slot yang diperlukan, dan tidak memiliki apa pun di dalamnya kecuali, pada kenyataannya, &lt;slot&gt;.  Dengan demikian, stilisasi komponen akan terbuka, dan slot akan hadir.  Saya ingin memberikan contoh singkat, tetapi sayangnya kode untuk memanipulasi slot tidak berhasil secara singkat - orang yang sangat tertarik dapat membaca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">masalah ini di sini.</a>  Saya terinspirasi oleh ide-ide dari sana. <br><br>  Yah, perlu juga disebutkan bahwa di masa yang akan datang dukungan browser dan polyfill <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">:: part</a> and :: theme kemungkinan akan turun, dan dengan mereka bayangan DOM akhirnya akan menjadi solusi yang semua orang telah menunggu selama bertahun-tahun - sehingga itu terisolasi dan extensible / bisa berubah.  Namun sejauh ini masih belum ada. <br><br><h3>  Sebarkan </h3><br>  Pada titik ini, menulis tentang "apa yang tidak mungkin" tidak lagi keluar, karena semuanya bisa lebih lanjut - perpustakaan menyala ada dalam bentuk modul ES, dan karenanya tanpa masalah mereka diambil oleh apa saja dan dengan cara apa pun (bahkan dengan browser telanjang yang dapat menangani modul itu sendiri) )  Untuk IE dan Edge saat ini, Anda perlu menghubungkan polyfill komponen web, untuk modul, jika Anda ingin mengangkatnya langsung dari browser, Anda memerlukan sesuatu yang mengurangi rasa sakit impor browser, misalnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">es-module-shims.</a>  Ya, atau bundler. <br><br>  Komponen web yang terhubung ke dalam aplikasi sederhana dan mudah digunakan, Anda dapat mulai menggunakannya dalam html dan menarik metode dan properti mereka dalam kode.  Anda dapat melihat seberapa baik semua ini dapat dilampirkan ke perpustakaan atau kerangka kerja lain di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> (reaksi telah unggul, tetapi rata-rata semuanya sangat baik).  Kami berpegang teguh pada AngularJS, dan semuanya basi: ng-prop memungkinkan Anda untuk mentransfer sesuatu ke komponen, dan ng-on memungkinkan Anda untuk mendengarkan acara. <br><br><h2>  Ringkasan </h2><br>  Jika Anda perlu membangun UI komponen dan kencangkan ke sesuatu yang Anda benar-benar tidak ingin masuki (kode warisan, kerangka menakutkan yang tidak modis, dan tempat-tempat buruk lainnya) - komponen web membantu dengan baik.  Pustaka "dewasa" utama yang dikelola dengan mereka berukuran kecil, tidak ada masalah teknis yang serius tentang modularitas dan tata letak, dan Anda bisa mengambil dan melakukannya.  Perpustakaan macam apa yang Anda ambil - walaupun tidak begitu penting, ada sangat sedikit perbedaan di antara mereka saat ini;  Secara khusus, LitElement yang kami ambil tidak menciptakan masalah tambahan bagi kami, dan bekerja dengan cara yang diharapkan dalam semua kasus. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id467403/">https://habr.com/ru/post/id467403/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id467391/index.html">Yandex memperkenalkan RPKI</a></li>
<li><a href="../id467393/index.html">NX Bootcamp dimulai pada bulan Oktober</a></li>
<li><a href="../id467395/index.html">Habr Weekly # 18 / New Apple Gadgets, smartphone sepenuhnya modular, desa programmer di Belarus, fenomena XY</a></li>
<li><a href="../id467399/index.html">Anda tidak dapat melarang untuk membawa: bagaimana menerapkan konsep BYOD dan tidak membahayakan keamanan informasi</a></li>
<li><a href="../id467401/index.html">Perbandingan Tesla Model S dan Porsche Taycan</a></li>
<li><a href="../id467405/index.html">Lyft meluncurkan kompetisi pengenalan objek 3D</a></li>
<li><a href="../id467407/index.html">Kami bekerja dengan cobot Dobot M1</a></li>
<li><a href="../id467409/index.html">Untuk melakukan bisnis di Lembah Silikon, Anda harus berperilaku baik</a></li>
<li><a href="../id467413/index.html">Kerangka kerja microservice PHP - `Halo dunia` dari Swoft</a></li>
<li><a href="../id467415/index.html">Pasar valuta asing modern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>