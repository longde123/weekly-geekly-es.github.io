<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ğŸ¾ ğŸ“© ğŸ“ Wir sammeln Kohortenanalyse / Analyse von FlÃ¼ssen am Beispiel von Excel ğŸ›‹ï¸ ğŸ”™ ğŸ¤¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einem frÃ¼heren Artikel habe ich die Verwendung der Kohortenanalyse beschrieben, um die GrÃ¼nde fÃ¼r die Dynamik des Kundenstamms zu ermitteln. Heute ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir sammeln Kohortenanalyse / Analyse von FlÃ¼ssen am Beispiel von Excel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416017/"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">In einem frÃ¼heren Artikel habe</a> ich die Verwendung der Kohortenanalyse beschrieben, um die GrÃ¼nde fÃ¼r die Dynamik des Kundenstamms zu ermitteln.  Heute ist es Zeit, Ã¼ber Datenvorbereitungstricks fÃ¼r die Kohortenanalyse zu sprechen. </p><br><p>  Es ist einfach, Bilder zu zeichnen, aber damit sie â€unter der Haubeâ€œ richtig gelesen und angezeigt werden kÃ¶nnen, muss noch viel Arbeit geleistet werden.  In diesem Artikel werden wir Ã¼ber die Implementierung der Kohortenanalyse sprechen.  Ich werde Ã¼ber die Implementierung mit Excel und in einem anderen Artikel mit R sprechen. </p><br><p>  Ob es uns gefÃ¤llt oder nicht, aber tatsÃ¤chlich ist Excel ein Datenanalysetool.  Mehr "arrogante" Analysten werden glauben, dass dies ein schwaches und nicht bequemes Werkzeug ist.  Auf der anderen Seite fÃ¼hren Hunderttausende von Menschen Datenanalysen in Excel durch, und in dieser Hinsicht wird es R / Python leicht schlagen.  Wenn wir Ã¼ber Fortschritte in der Analytik und im maschinellen Lernen sprechen, werden wir natÃ¼rlich an R / Python arbeiten.  Und ich mÃ¶chte, dass die meisten Analysen nur mit diesen Tools durchgefÃ¼hrt werden.  Es lohnt sich jedoch, die Fakten zu berÃ¼cksichtigen, da die Ã¼berwiegende Mehrheit der Unternehmen Daten in Excel verarbeitet und prÃ¤sentiert. Dies ist das Tool, das normale Analysten, Manager und Produktbesitzer verwenden.  DarÃ¼ber hinaus ist Excel in Bezug auf Einfachheit und Klarheit des Prozesses schwer zu besiegen, weil  Sie beherrschen Ihre Berechnungen und Modelle buchstÃ¤blich mit Ihren HÃ¤nden. </p><br><p>  Wie fÃ¼hren wir eine Kohortenanalyse in Excel durch?  Um solche Probleme zu lÃ¶sen, mÃ¼ssen Sie zwei Dinge bestimmen: </p><br><ol><li><p>  Welche Daten haben wir zu Beginn des Prozesses? </p><br></li><li><p>  Wie unsere Daten am Ende des Prozesses aussehen sollten. </p><a name="habracut"></a><br><p>  Um eine Kohortenanalyse zu erstellen, benÃ¶tigen wir nicht nur RÃ¼ckdaten zu Daten und Abteilungen.  Wir brauchen Daten auf individueller Kundenebene.  Zu Beginn des Prozesses brauchen wir: </p><br></li><li><p>  Kalenderdatum </p><br></li><li><p>  Kunden-ID </p><br></li><li><p>  Registrierungsdatum des Kunden </p><br></li><li><p>  Verkaufsvolumen dieses Kunden an diesem Kalendertag </p><br></li></ol><br><p>  Die erste Schwierigkeit, die Ã¼berwunden werden muss, besteht darin, diese Daten zu erhalten.  Wenn Sie den richtigen Speicher haben, sollten Sie ihn bereits haben.  Wenn Sie jedoch bisher nur die Erfassung von Daten zum Gesamtumsatz pro Tag implementiert haben, verfÃ¼gen Sie nur Ã¼ber Kundendaten zu â€Produktâ€œ.  FÃ¼r die Kohortenanalyse mÃ¼ssen Sie ETL implementieren und die Daten im Kontext von Clients in Ihrem Speicher ablegen, da Sie sonst keinen Erfolg haben.  Und das Beste ist, wenn Sie "Produkt" und Analyse in verschiedene Datenbanken trennen, weil  Analytische Aufgaben und die funktionierenden Aufgaben Ihres Produkts haben unterschiedliche Ziele: Wettbewerb um Ressourcen.  Analysten benÃ¶tigen fÃ¼r viele Benutzer schnelle Aggregate und Berechnungen. Das Produkt muss schnell einen bestimmten Benutzer bedienen.  Ich werde einen separaten Artikel Ã¼ber die Speicherorganisation schreiben. </p><br><p>  Sie haben also Startdaten: </p><br><p><img src="https://habrastorage.org/webt/ck/5w/b8/ck5wb8uk9d82ql7j_e07iitxa_y.png"></p><br><p>  Das erste, was wir tun mÃ¼ssen, ist, sie in â€Leiternâ€œ umzuwandeln.  Dazu mÃ¼ssen Sie Ã¼ber dieser Tabelle eine Pivot-Tabelle erstellen, in Zeilen - dem Registrierungsdatum, in Spalten - dem Kalenderdatum, als Werte - der Anzahl der Client-IDs.  Wenn Sie die Daten korrekt extrahiert haben, sollten Sie ein solches Dreieck / eine solche Leiter erhalten: </p><br><p><img src="https://habrastorage.org/webt/dz/r0/0c/dzr00cwwaye1v9i9fbw7oozcdly.png"></p><br><p>  Im Allgemeinen ist eine Leiter unser Kohortendiagramm, in dem jede Zeile die Dynamik einer separaten Kohorte anzeigt.  Clients in dieser Anzeige bewegen sich zeitlich nur innerhalb einer Zeile.  Die Dynamik der Kohorte spiegelt somit die Entwicklung der Beziehungen zu einer Gruppe von Kunden wider, die in einem bestimmten Zeitraum kamen.  Der Einfachheit halber und ohne QualitÃ¤tsverlust kÃ¶nnen Sie Kohorten hÃ¤ufig zu â€ZeilenblÃ¶ckenâ€œ kombinieren.  Sie kÃ¶nnen sie beispielsweise nach Woche und Monat gruppieren.  Auf die gleiche Weise kÃ¶nnen Sie auch eine Spalte gruppieren.  MÃ¶glicherweise erfordert Ihr Tempo bei der Produktentwicklung keine detaillierten Angaben bis zu Tagen. </p><br><p>  Basierend auf dieser Leiter kÃ¶nnen Sie aus meinem Artikel ein Diagramm erstellen (ich habe wirklich darauf hingewiesen, dass ich mehrere Zeilen zu einer zusammengefasst habe, sodass die Kohorte kleiner war): </p><br><p><img src="https://habrastorage.org/webt/cb/ff/pw/cbffpwi-gdfl89l-ujto3jvt-pk.png"></p><br><p>  Dies ist ein Diagramm mit kumulativen Bereichen, in denen jede Zeile eine Zeile horizontal eines Datums ist. </p><br><p>  Eine etwas kompliziertere Logik zur Implementierung des Zeitplans fÃ¼r "Flows".  FÃ¼r Threads mÃ¼ssen wir einige zusÃ¤tzliche Berechnungen durchfÃ¼hren.  In der Thread-Logik kommt jeder Client in verschiedenen ZustÃ¤nden an: </p><br><ol><li>  Neu - jeder Kunde, der einen Unterschied zwischen dem Registrierungsdatum und dem Kalenderdatum &lt;7 Tage hat </li><li>  Reaktiviert - Jeder Kunde, der nicht mehr neu ist, aber im letzten Kalendermonat keine Einnahmen erzielt hat </li><li>  GÃ¼ltig - jeder Kunde, der nicht neu ist, aber im Kalendermonat Umsatz generiert </li><li>  Abgereist - jeder Kunde, der 2 aufeinanderfolgende Monate lang keinen Umsatz erzielt </li></ol><br><p>  ZunÃ¤chst sollten Sie diese Definitionen im Unternehmen korrigieren, damit Sie diese Logik korrekt implementieren und die ZustÃ¤nde automatisch berechnen kÃ¶nnen.  Diese 4 Definitionen haben weitreichende Auswirkungen auf das Marketing im Allgemeinen.  Ihre Strategien zur Gewinnung, Bindung und RÃ¼ckkehr basieren auf dem Zustand, in dem sich der Kunde Ihrer Meinung nach befindet.  Wenn Sie mit der Implementierung von Modellen fÃ¼r maschinelles Lernen beginnen, um KundenabgÃ¤nge vorherzusagen, werden Definitionen zu Ihrem Eckpfeiler fÃ¼r den Erfolg dieser Modelle.  Im Allgemeinen werde ich einen separaten Artikel Ã¼ber die Organisation der Arbeit und die Bedeutung der analytischen Methodik schreiben.  Oben habe ich nur ein Beispiel gegeben, wie diese Definitionen aussehen kÃ¶nnen. </p><br><p>  In Excel mÃ¼ssen Sie eine zusÃ¤tzliche Spalte erstellen, in die Sie die oben beschriebene Logik eingeben kÃ¶nnen.  In unserem Fall mÃ¼ssen wir â€schwitzenâ€œ.  Wir haben zwei Arten von Kriterien: </p><br><ul><li>  Die Differenz zwischen dem Registrierungsdatum und dem Kalenderdatum - jede Zeile enthÃ¤lt diese Daten, und Sie mÃ¼ssen sie nur noch berechnen (das Subtrahieren von Daten in Excel ergibt nur die Differenz in Tagen). </li><li>  Umsatzdaten fÃ¼r den aktuellen und letzten Monat.  Diese Daten stehen uns in der Zeile nicht zur VerfÃ¼gung.  Unter BerÃ¼cksichtigung der Tatsache, dass die Bestellung in unserer Tabelle nicht garantiert ist, kÃ¶nnen Sie nicht genau sagen, wo Sie Daten an anderen Tagen des Monats fÃ¼r diesen Kunden haben. </li></ul><br><p>  Es gibt zwei MÃ¶glichkeiten, um das Problem zweier Arten von Kriterien zu lÃ¶sen: </p><br><ol><li>  Bitten Sie darum, dies in der Datenbank zu tun.  SQL ermÃ¶glicht die Verwendung der Analysefunktion, um fÃ¼r jeden Kunden die HÃ¶he des Umsatzes fÃ¼r den aktuellen und den letzten Monat zu berechnen (fÃ¼r den aktuellen Monat SUMME (Umsatz) ÃœBER (PARTITION NACH client_id, calendar_month und dann LAG, um den Offset fÃ¼r den letzten Monat zu erhalten): </li><li>  In Excel mÃ¼ssen Sie es folgendermaÃŸen implementieren: <br><ul><li>  FÃ¼r den aktuellen Monat: SUMMES () sind die Kriterien die Client-ID und der Monat der Kalendertagzelle </li><li>  FÃ¼r den letzten Monat: SUMMES () sind die Kriterien die Client-ID und der Monat der Kalendertagzelle minus genau 1 Kalendermonat.  In diesem Fall mache ich darauf aufmerksam, dass Sie den Kalendermonat und nicht 30 Tage abziehen mÃ¼ssen.  Andernfalls besteht die Gefahr, dass Sie aufgrund der ungeraden Anzahl von Tagen in den Monaten ein verschwommenes Bild erhalten.  Verwenden Sie auch die Funktion IF ERROR, um fehlerhafte Werte fÃ¼r Kunden zu ersetzen, die den letzten Monat nicht hatten. </li></ul></li></ol><br><p>  Durch HinzufÃ¼gen der Umsatzspalten des aktuellen Monats des letzten Monats kÃ¶nnen Sie eine eingebettete Bedingung erstellen, wenn alle Faktoren (Datumsunterschiede und Umsatzbetrag im aktuellen / letzten Monat) berÃ¼cksichtigt werden: <br>  IF (Datumsdifferenz &lt;7; "neu"; <br>  IF (AND (Umsatz des letzten Monats = 0; Umsatz des aktuellen Monats&gt; 0); â€Reaktivierungâ€œ; <br>  IF (AND (Umsatz im letzten Monat&gt; 0; Umsatz im laufenden Monat&gt; 0); â€aktuellâ€œ <br>  IF (AND (Umsatz des letzten Monats = 0; Umsatz des aktuellen Monats = 0); "abgereist"; "Fehler"))) </p><br><p>  "Fehler" wird hier nur benÃ¶tigt, um zu kontrollieren, dass Sie sich bei der Aufnahme nicht geirrt haben.  Die Logik der MECE-Zustandskriterien ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://en.wikipedia.org/wiki/MECE_principle</a> ), d.h.  Wenn alles richtig gemacht ist, wird jedem von ihnen ein Zustand von 4 hinzugefÃ¼gt </p><br><p>  Sie sollten es so bekommen: </p><br><p><img src="https://habrastorage.org/webt/y_/zo/wm/y_zowmltm2yxfv2evtkkrnl-mhg.png"></p><br><p>  Jetzt kann diese Tabelle mithilfe einer Pivot-Tabelle in eine Tabelle zum Plotten umgebaut werden.  Sie mÃ¼ssen es in eine Tabelle umwandeln: </p><br><p>  Kalenderdatum (Spalten) <br>  Zustand (Zeilen) <br>  Anzahl der Client-IDs (Werte in Zellen) </p><br><p>  Als nÃ¤chstes mÃ¼ssen wir einfach ein Balkendiagramm auf der Grundlage von Daten erstellen, mit Akkumulationen, auf der X-Achse das Kalenderdatum, Zeilen sind ZustÃ¤nde, Anzahl der Clients ist SpaltenhÃ¶he.  Sie kÃ¶nnen die Reihenfolge der ZustÃ¤nde im Diagramm Ã¤ndern, indem Sie die Reihenfolge der Zeilen im MenÃ¼ â€Daten auswÃ¤hlenâ€œ Ã¤ndern.  Als Ergebnis erhalten wir folgendes Bild: </p><br><p><img src="https://habrastorage.org/webt/n1/pt/k9/n1ptk9jxdzcjzqf0xcruvgyplyk.png"></p><br><p>  Jetzt kÃ¶nnen wir anfangen zu interpretieren und zu analysieren. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de416017/">https://habr.com/ru/post/de416017/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de416007/index.html">Fast kompliziert. Der Beginn der Schaffung eines drahtlosen "Smart Home". Basierend auf Linux-Technologie, Z-Wave- und MajorDoMo-Software</a></li>
<li><a href="../de416009/index.html">Probieren Sie Kaninchenkot, er ist krÃ¤ftig und fÃ¤ngt - Extrakte in der Pharmakologie</a></li>
<li><a href="../de416011/index.html">BIF-Muster: Sauberer Front-End-Code und bequemes Arbeiten mit Serverdaten</a></li>
<li><a href="../de416013/index.html">So fangen Sie an zu investieren und Geld zu sparen: Die Experten von Dow Jones nannten die fÃ¼nf Hauptfehler von AnfÃ¤ngern</a></li>
<li><a href="../de416015/index.html">Spielen mit Threads in Node.JS 10.5.0</a></li>
<li><a href="../de416019/index.html">Wie gut ist das Open-Source-Ã–kosystem von R fÃ¼r die LÃ¶sung von GeschÃ¤ftsproblemen?</a></li>
<li><a href="../de416021/index.html">Entwickeln Sie Ihr eigenes Framework und das berufliche Wachstum eines JS-Programmierers</a></li>
<li><a href="../de416023/index.html">Wie iOS 'Spitzname Telegram Bot schrieb, auf Swift</a></li>
<li><a href="../de416025/index.html">Implementieren der Navigation in Android-Anwendungen mithilfe der Navigationsarchitekturkomponente</a></li>
<li><a href="../de416027/index.html">Sowjetisches HI-FI und seine SchÃ¶pfer: Gesunde Leidenschaften - Elektronik 150AC - 001</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>