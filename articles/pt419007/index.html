<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßôüèΩ üõåüèª üêç Texturas para introdu√ß√£o de 64k: como √© feito hoje üéí üìà ‚úåÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo √© parte dois de nossa s√©rie H - Imers√£o . A primeira parte pode ser lida aqui: Imers√£o em Imers√£o . 

 Ao criar uma anima√ß√£o de apenas 64 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Texturas para introdu√ß√£o de 64k: como √© feito hoje</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419007/">  <i>Este artigo √© parte dois de nossa s√©rie</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>H - Imers√£o</i></a> <i>.</i>  <i>A primeira parte pode ser lida aqui:</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>Imers√£o em Imers√£o</i></a> <i>.</i> <br><br>  Ao criar uma anima√ß√£o de apenas 64 KB, √© dif√≠cil usar imagens prontas.  N√£o podemos armazen√°-los da maneira tradicional, porque n√£o √© eficiente o suficiente, mesmo se voc√™ aplicar compacta√ß√£o, por exemplo, JPEG.  Uma solu√ß√£o alternativa √© a gera√ß√£o procedural, ou seja, escrever c√≥digo que descreva a cria√ß√£o de imagens durante a execu√ß√£o do programa.  Nossa implementa√ß√£o desta solu√ß√£o foi um gerador de textura - uma parte fundamental de nossa cadeia de ferramentas.  Neste post, explicaremos como o desenvolvemos e o usamos na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>imers√£o</i></a> em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>H.</i></a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a8/2ee/a7e/6a82eea7ea42a6ca5cf4b437545b3893.jpg"></div><br>  <i>Os holofotes submarinos iluminam os detalhes do fundo do mar.</i> <br><a name="habracut"></a><br><h2>  Vers√£o inicial </h2><br>  A gera√ß√£o de textura foi um dos primeiros elementos de nossa base de c√≥digo: as texturas processuais j√° foram usadas em nossa primeira introdu√ß√£o √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>B - Incuba√ß√£o</i></a> .  <a href="">O c√≥digo</a> consistia em um conjunto de fun√ß√µes que preenchem, filtram, transformam e combinam texturas, al√©m de um loop grande que ignora todas as texturas.  Essas fun√ß√µes foram escritas em C ++ puro, mas a intera√ß√£o da API C foi adicionada posteriormente para que possam ser avaliadas pelo int√©rprete C <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PicoC</a> .  Naquele momento, usamos o PicoC para reduzir o tempo gasto em cada itera√ß√£o: dessa forma, conseguimos alterar e recarregar as texturas durante a execu√ß√£o do programa.  Mudar para o subconjunto C foi um pequeno sacrif√≠cio em compara√ß√£o ao fato de que agora poder√≠amos alterar o c√≥digo e ver o resultado imediatamente, sem nos preocupar em fechar, recompilar e recarregar a demonstra√ß√£o inteira. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70d/88e/4c9/70d88e4c948bfbd24f7d003b5a92f6af.png"></div><br>  <i>Usando um padr√£o simples, um pouco de ru√≠do e deforma√ß√£o, podemos obter uma textura de madeira estilizada.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e28/a67/83b/e28a6783bd53715bb1514bc6aa2c655f.jpg"></div><br>  <i>Nesta cena</i> da oficina <i>de</i> F - Felix, <i>foram utilizadas v√°rias texturas de madeira.</i> <br><br>  Por algum tempo, exploramos os recursos desse gerador e, como resultado, o publicamos em um servidor da web com um pequeno script PHP e uma interface simples da web.  Poder√≠amos escrever o c√≥digo da textura em um campo de texto e o script o passou para o gerador, que despejou o resultado como um arquivo PNG para exibir na p√°gina.  Logo, come√ßamos a desenhar no trabalho durante o intervalo do almo√ßo e a compartilhar nossas pequenas obras-primas com outros membros do grupo.  Essa intera√ß√£o nos motivou ao processo criativo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f15/be6/722/f15be672247f38176102734d115a5001.png"></div><br>  <i>Galeria da Web do nosso antigo gerador de texturas.</i>  <i>Todas as texturas podem ser editadas no navegador.</i> <br><br><h2>  Redesign completo </h2><br>  Durante muito tempo, o gerador de textura permaneceu quase inalterado;  n√≥s pensamos que era bom, e nossa efic√°cia parou de aumentar.  Por√©m, uma vez que descobrimos que h√° muitos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artistas</a> nos f√≥runs da Internet demonstrando suas texturas totalmente processadas, al√©m de organizar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">desafios</a> em v√°rios t√≥picos.  O conte√∫do dos procedimentos j√° foi um recurso da cena demo, mas o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Allegorithmic</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ShaderToy</a> e ferramentas similares o tornaram acess√≠vel ao p√∫blico em geral.  N√≥s n√£o prestamos aten√ß√£o a isso, e eles come√ßaram a nos colocar facilmente nas omoplatas.  Inaceit√°vel! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/12a/7cb/e33/12a7cbe33257454ca8e23c53dd84ef00.jpg"></div><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sof√° de tecido</a> .</i>  <i>Uma textura de tecido totalmente processual criada no Substance Designer.</i>  <i>Postado por: Imanol Delgado.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.artstation.com/imanoldelgado</a></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b3e/25a/47e/b3e25a47ed73c407de4335f5e58cc87b.jpg" alt="imagem"></div><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Assoalho da floresta</a> .</i>  <i>Textura de solo de floresta totalmente processual criada pelo Substance Designer.</i>  <i>Postado por Daniel Thiger.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.artstation.com/dete</a></i> <br><br>  H√° muito que precisamos repensar nossas ferramentas.  Felizmente, muitos anos de trabalho com o mesmo gerador de textura nos permitiram reconhecer suas defici√™ncias.  Al√©m disso, nosso gerador de malha nascente tamb√©m nos disse como deveria ser o pipeline de conte√∫do processual. <br><br>  O erro arquitet√¥nico mais importante foi a implementa√ß√£o da gera√ß√£o como um conjunto de opera√ß√µes com objetos de textura.  Do ponto de vista de uma perspectiva de alto n√≠vel, essa pode ser a abordagem correta, mas do ponto de vista da implementa√ß√£o, fun√ß√µes como <b>texture.DoSomething ()</b> ou <b>Combine (textureA, textureB)</b> apresentam s√©rias desvantagens. <br><br>  Primeiro, o estilo OOP exige que voc√™ declare essas fun√ß√µes como parte da API, por mais simples que sejam.  Esse √© um problema s√©rio, porque n√£o escala bem e, mais importante, cria atritos desnecess√°rios no processo criativo.  N√£o queremos alterar a API toda vez que precisamos experimentar algo novo.  Isso complica a experimenta√ß√£o e limita a liberdade criativa. <br><br>  Em segundo lugar, em termos de desempenho, essa abordagem exige que voc√™ processe dados de textura em ciclos quantas vezes houver opera√ß√µes.  Isso n√£o seria especialmente importante se essas opera√ß√µes fossem caras com rela√ß√£o ao custo de acessar grandes fragmentos de mem√≥ria, mas geralmente n√£o √© assim.  Com exce√ß√£o de uma fra√ß√£o muito pequena de opera√ß√µes, por exemplo, gerando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ru√≠do</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">preenchimento</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Perlin</a> , elas s√£o basicamente muito simples e requerem apenas algumas instru√ß√µes sobre o ponto de textura.  Ou seja, contornamos os dados de textura para executar opera√ß√µes triviais, o que √© extremamente ineficiente do ponto de vista do cache. <br><br>  A nova estrutura resolve esses problemas atrav√©s da reorganiza√ß√£o da l√≥gica.  A maioria das fun√ß√µes na pr√°tica executa independentemente a mesma opera√ß√£o para cada elemento de textura.  Portanto, em vez de escrever uma fun√ß√£o <b>texture.DoSomething ()</b> que ignora todos os elementos, podemos escrever <b>texture.ApplyFunction (f)</b> , onde <b>f (elemento)</b> funciona apenas para um √∫nico elemento de textura.  Ent√£o <b>f (elemento)</b> pode ser escrito de acordo com uma textura espec√≠fica. <br><br>  Parece uma pequena mudan√ßa.  No entanto, essa estrutura simplifica a API, torna o c√≥digo de gera√ß√£o mais flex√≠vel e expressivo, mais amig√°vel ao cache e permite o processamento paralelo com facilidade.  Muitos dos leitores j√° perceberam que isso √© essencialmente um sombreador.  No entanto, a implementa√ß√£o real permanece o c√≥digo C ++ executado no processador.  Ainda mantemos a capacidade de executar opera√ß√µes fora do loop, mas usamos essa op√ß√£o somente quando necess√°rio, por exemplo, por convolu√ß√£o. <br><br><h3>  Foi: </h3><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     . // API . //    -  API. //      . class ProceduralTexture { void DoSomething(parameters) { for (int i = 0; i &lt; size; ++i) { //   . (*this)[i] = ‚Ä¶ } } void PerlinNoise(parameters) { ‚Ä¶ } void Voronoi(parameters) { ‚Ä¶ } void Filter(parameters) { ‚Ä¶ } void GenerateNormalMap() { ‚Ä¶ } }; void GenerateSomeTexture(texture t) { t.PerlinNoise(someParameter); t.Filter(someOtherParameter); ‚Ä¶ //  .. t.GenerateNormalMap(); }</span></span></code> </pre> <br><h3>  Tornou-se: </h3><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//       . // API . //     . //      . class ProceduralTexture { void ApplyFunction(functionPointer f) { for (int i = 0; i &lt; size; ++i) { //    . (*this)[i] = f((*this)[i]); } } }; void GenerateNormalMap(ProceduralTexture t) { ‚Ä¶ } void SomeTextureGenerationPass(void* out, PixelInfo in) { result = PerlinNoise(in); result = Filter(result); ‚Ä¶ //  .. *out = result; } void GenerateSomeTexture(texture t) { t.ApplyFunction(SomeTextureGenerationPass); GenerateNormalMap(t); }</span></span></code> </pre> <br><h2>  Paraleliza√ß√£o </h2><br>  A gera√ß√£o de textura leva tempo, e um candidato √≥bvio para reduzir esse tempo √© a execu√ß√£o paralela de c√≥digo.  No m√≠nimo, voc√™ pode aprender a gerar v√°rias texturas ao mesmo tempo.  Foi exatamente isso que fizemos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>na oficina da F <em>-</em> Felix</i></a> , e isso reduziu bastante o tempo de carregamento. <br><br>  No entanto, isso n√£o economiza tempo onde √© mais necess√°rio.  Ainda leva muito tempo para gerar uma textura.  Isso se aplica √† altera√ß√£o, pois continuamos a recarregar a textura v√°rias vezes antes de cada modifica√ß√£o.  Em vez disso, √© melhor paralelizar o c√≥digo interno de gera√ß√£o de textura.  Como agora o c√≥digo consiste essencialmente de uma grande fun√ß√£o aplicada em um loop a cada texel, a paraleliza√ß√£o se torna simples e eficiente.  Reduz o custo de experimentos, ajustes e rascunhos, o que afeta diretamente o processo criativo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac9/cb7/21f/ac9cb721febdfc0b32300bb02f84fefe.jpg"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/191/c1e/a6d/191c1ea6de84670abe256fb67e7dc165.jpg"></div><br>  <i>Ilustra√ß√£o de uma id√©ia que exploramos e descartamos para a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>imers√£o</i></a> em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>H</i></a> : uma decora√ß√£o em mosaico com revestimento em orichalcon.</i>  <i>Aqui √© mostrado em nossa ferramenta de edi√ß√£o interativa.</i> <br><br><h2>  Gera√ß√£o lateral da GPU </h2><br>  Se isso ainda n√£o for √≥bvio, direi que a gera√ß√£o de textura √© realizada completamente na CPU.  Talvez alguns de voc√™s estejam lendo essas linhas agora e estejam perplexos "mas por qu√™?!".  Parece que o passo √≥bvio √© a gera√ß√£o de textura no processador de v√≠deo.  Para come√ßar, aumentar√° a taxa de gera√ß√£o em uma ordem de magnitude.  Ent√£o, por que n√£o usamos? <br><br>  A principal raz√£o √© que o objetivo do nosso pequeno reprojeto era permanecer na CPU.  Mudar para uma GPU significaria muito mais trabalho.  Ter√≠amos que resolver problemas adicionais para os quais ainda n√£o temos experi√™ncia suficiente.  Trabalhando com a CPU, temos uma compreens√£o clara do que queremos e sabemos como corrigir erros anteriores. <br><br>  No entanto, a boa not√≠cia √© que, gra√ßas √† nova estrutura, experimentar a GPU agora parece bastante trivial.  Testar combina√ß√µes de ambos os tipos de processadores ser√° um experimento interessante para o futuro. <br><br><h2>  Gera√ß√£o de textura e sombreamento fisicamente preciso </h2><br>  Outra limita√ß√£o do design antigo era que a textura era considerada apenas como uma imagem RGB.  Se precis√°ssemos gerar mais informa√ß√µes, digamos que a textura difusa e a textura das normais para a mesma superf√≠cie, nada nos impediu de fazer isso, mas a API n√£o ajudou muito.  Isso se tornou especialmente importante no contexto do sombreamento fisicamente baseado (PBR). <br><br>  Em um pipeline tradicional sem PBR, geralmente s√£o usadas texturas coloridas, nas quais muitas informa√ß√µes s√£o armazenadas.  Tais texturas geralmente representam a apar√™ncia final da superf√≠cie: elas j√° t√™m um certo volume, as rachaduras s√£o escurecidas e pode at√© haver reflex√µes sobre elas.  Se v√°rias texturas s√£o usadas ao mesmo tempo, os detalhes de grande e pequena escala s√£o geralmente combinados para adicionar mapas normais ou refletividade da superf√≠cie. <br><br>  Os transportadores PBR de superf√≠cie normalmente usam v√°rios conjuntos de texturas que representam valores f√≠sicos, em vez do resultado art√≠stico desejado.  A textura difusa da cor, que √© mais pr√≥xima do que costuma ser chamado de "cor" da superf√≠cie, geralmente √© plana e desinteressante.  A cor especular √© determinada pelo √≠ndice de refra√ß√£o da superf√≠cie.  A maioria dos detalhes e variabilidade s√£o extra√≠dos das texturas de normais e rugosidade (rugosidade) (que algu√©m pode considerar o mesmo, mas com duas escalas diferentes).  A refletividade percebida de uma superf√≠cie se torna uma conseq√º√™ncia do seu n√≠vel de rugosidade.  Nesta fase, ser√° mais l√≥gico pensar em termos de n√£o materiais, mas materiais. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e6/ad2/e95/2e6ad2e9555afadc279ff0227d1ff54a.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c2d/3a4/71f/c2d3a471f7fb9a352db83454e0288a91.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/446/8d1/52c/4468d152ce8ba5b8a4f563c8cc428533.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b58/dad/d05/b58dadd05ca838c5fdc4ec5daec0855b.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a8/2ee/a7e/6a82eea7ea42a6ca5cf4b437545b3893.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/156/2a7/53f/1562a753fe3172e4add501ed110d3f7d.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1e/91d/c4e/f1e91dc4ec162b76e1ba139f22e0e1d9.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf5/627/9e8/cf56279e8263eaea1411824f60d10503.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a9/525/b03/0a9525b03c6033b76587107f7a87a4bf.jpg"></div><br>  A nova estrutura nos permite declarar formatos arbitr√°rios de pixel para texturas.  Depois de fazer parte da API, permitimos que ele lide com todo o c√≥digo padr√£o.  Depois de declarar o formato do pixel, podemos nos concentrar no c√≥digo do criativo sem gastar muito esfor√ßo no processamento desses dados.  Em tempo de execu√ß√£o, ele gera v√°rias texturas e as transfere de forma transparente para a GPU. <br><br>  Em algumas tubula√ß√µes de PBR, cores difusas e especulares n√£o s√£o transmitidas diretamente.  Em vez disso, s√£o usados ‚Äã‚Äãos par√¢metros "cor de base" e "metalicidade", que t√™m suas vantagens e desvantagens.  Em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>H - imers√£o,</i></a> usamos o modelo difuso + especular, e o material geralmente consiste em cinco camadas: <br><br><ol><li>  Cor difusa (RGB; 0: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Vantablack</a> ; 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neve fresca</a> ). </li><li>  Cor especular (RGB: fra√ß√£o da luz refletida em 90 ¬∞, tamb√©m conhecida como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>F0</i> ou <i>R0</i></a> ). </li><li>  Rugosidade (A; 0: perfeitamente lisa; 1: semelhante a borracha). </li><li>  Normal (XYZ; vetor unit√°rio). </li><li>  Eleva√ß√£o do terreno (A; usado para o mapeamento de oclus√£o de paralaxe). </li></ol><br>  Quando usadas, as informa√ß√µes de emiss√£o de luz foram adicionadas diretamente ao shader.  N√£o achamos necess√°rio haver oclus√£o ambiental, porque na maioria das cenas n√£o h√° ilumina√ß√£o ambiente.  No entanto, n√£o ficarei surpreso que tenhamos camadas adicionais ou outros tipos de informa√ß√µes, por exemplo, anisotropia ou opacidade. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8b8/185/de9/8b8185de93298b085276109a8f30efef.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a2c/6bb/876/a2c6bb876297e1b0a21fbe8463e19b66.jpg"></div><br>  As imagens acima mostram um experimento recente com a gera√ß√£o de oclus√£o ambiental local com base na altitude.  Para cada dire√ß√£o, percorremos uma dist√¢ncia predeterminada e mantemos a maior inclina√ß√£o (diferen√ßa de altura dividida pela dist√¢ncia).  Depois calculamos a oclus√£o a partir da inclina√ß√£o m√©dia. <br><br><h2>  Restri√ß√µes e trabalhos futuros </h2><br>  Como voc√™ pode ver, a nova estrutura tornou-se uma grande melhoria em rela√ß√£o √† antiga.  Al√©m disso, ela incentiva a express√£o criativa.  No entanto, ela ainda tem limita√ß√µes que queremos eliminar no futuro. <br><br>  Por exemplo, embora n√£o tenha havido problemas nesta introdu√ß√£o, percebemos que a aloca√ß√£o de mem√≥ria pode ser um obst√°culo.  Ao gerar texturas, uma matriz de valores flutuantes √© usada.  Com texturas grandes com v√°rias camadas, voc√™ pode encontrar rapidamente um problema com a aloca√ß√£o de mem√≥ria.  Existem v√°rias maneiras de resolv√™-lo, mas todas elas t√™m suas desvantagens.  Por exemplo, podemos gerar texturas lado a lado, enquanto a escalabilidade ser√° melhor, no entanto, a implementa√ß√£o de algumas opera√ß√µes, como convolu√ß√£o, se torna menos √≥bvia. <br><br>  Al√©m disso, neste artigo, apesar da palavra "materiais" usados, falamos apenas sobre texturas, mas n√£o sobre shaders.  No entanto, o uso de materiais tamb√©m deve levar a shaders.  Essa contradi√ß√£o reflete as limita√ß√µes da estrutura existente: gera√ß√£o de textura e sombreamento s√£o duas partes separadas, separadas por uma ponte.  Tentamos facilitar a travessia dessa ponte, mas na verdade queremos que essas partes se tornem uma.  Por exemplo, se um material tiver par√¢metros est√°ticos e din√¢micos, queremos descrev√™-los em um s√≥ lugar.  Esse √© um t√≥pico complexo e ainda n√£o sabemos se existe uma boa solu√ß√£o, mas n√£o vamos nos antecipar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a5/ee7/42d/0a5ee742d8f5f83b3f0255176caa90c3.jpg" alt="imagem"></div><br>  <i>Um experimento para criar uma textura de tecido semelhante ao trabalho de Imadol Delgado mostrado acima.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt419007/">https://habr.com/ru/post/pt419007/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418997/index.html">Contribui√ß√£o real para c√≥digo-fonte aberto real</a></li>
<li><a href="../pt418999/index.html">[An√∫ncio, Peter] Reuni√£o do JUG.ru com Andrei Belyaev e Alexei Stukalov - Troll oprime CUBA: FAQ</a></li>
<li><a href="../pt419001/index.html">5 "super habilidades" necess√°rias para o trabalho do futuro</a></li>
<li><a href="../pt419003/index.html">Resumo de not√≠cias do Blockchain</a></li>
<li><a href="../pt419005/index.html">Excurs√£o √† subesta√ß√£o 220/110/20</a></li>
<li><a href="../pt419009/index.html">clang e IDE: uma hist√≥ria sobre amizade e amizade</a></li>
<li><a href="../pt419011/index.html">Jinja2 no mundo C ++, parte dois. Renderiza√ß√£o</a></li>
<li><a href="../pt419013/index.html">Atribui√ß√£o baseada em funil para empresas B2B SaaS - considerando o valor de todos os esfor√ßos de marketing</a></li>
<li><a href="../pt419017/index.html">O que h√° de novo no ConstraintLayout 1.1</a></li>
<li><a href="../pt419019/index.html">AlterEgo: um dispositivo que pode ler (alguns) pensamentos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>