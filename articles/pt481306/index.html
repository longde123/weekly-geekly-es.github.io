<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÑ üë©üèæ‚Äçüé§ üßü Apresentando o werf 1.0 est√°vel: o que o GitOps tem a ver com isso, status e planos üëÇ üëàüèø üòΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O werf √© um utilit√°rio GitOps CLI de c√≥digo aberto para criar e entregar aplicativos ao Kubernetes. O werf suporta a montagem de imagens de aplicativo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apresentando o werf 1.0 est√°vel: o que o GitOps tem a ver com isso, status e planos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/481306/"><img src="https://habrastorage.org/webt/3x/gd/dm/3xgddmaqs9o_1evxjgalmlsczzo.png"><br><br>  <a href="https://werf.io/">O werf</a> √© um utilit√°rio GitOps CLI de <a href="https://github.com/flant/werf">c√≥digo aberto</a> para criar e entregar aplicativos ao Kubernetes.  O werf suporta a montagem de imagens de aplicativos usando o Dockerfile ou seu pr√≥prio coletor interno (baseado na sintaxe YAML, com suporte Ansible e reconstru√ß√£o incremental baseada no Git).  O formato de configura√ß√£o compat√≠vel com o leme √© usado para entregar o aplicativo.  O c√≥digo do aplicativo, a configura√ß√£o das imagens coletadas e a configura√ß√£o de distribui√ß√£o do aplicativo s√£o armazenados em um reposit√≥rio Git. <br><br>  A t√£o esperada <a href="">vers√£o est√°vel 1.0</a> √© a vers√£o b√°sica do utilit√°rio conclu√≠da por fun√ß√µes <i>(o n√∫mero exato da vers√£o da primeira vers√£o est√°vel √© 1.0.6)</i> .  Na vers√£o b√°sica, o werf suporta todo o ciclo de entrega e manuten√ß√£o de aplicativos.  Isso inclui a montagem de imagens de aplicativos, a implanta√ß√£o no Kubernetes e a limpeza de imagens n√£o utilizadas. <a name="habracut"></a><br><br>  √â importante que na vers√£o 1.0, todas as opera√ß√µes em um projeto ( <code>build</code> , <code>deploy</code> , <code>cleanup</code> ) sejam executadas em um host.  Isso significa que um trabalhador fixo deve ser usado no sistema de IC.  Ao mesmo tempo, n√£o h√° restri√ß√µes ao paralelismo de tarefas: o werf resolve completamente esse problema.  Voc√™ tamb√©m pode distribuir diferentes projetos entre diferentes trabalhadores. <br><br>  Neste artigo dedicado ao lan√ßamento, examinaremos mais de perto o que esta vers√£o fornece e n√£o fornece, al√©m de nossos planos para vers√µes futuras.  Mas come√ßaremos entendendo o entendimento do termo ‚ÄúGitOps‚Äù e o papel do werf nos processos de integra√ß√£o cont√≠nua e entrega de aplicativos (CI / CD). <br><br><h2>  Por que werf √© GitOps </h2><br>  Ent√£o, o que queremos dizer com GitOps e quais √°reas o werf cobre? <br><br>  O termo ‚ÄúGitOps‚Äù foi cunhado pelo Weaveworks h√° cerca de 2,5 anos, e recentemente <a href="https://habr.com/ru/company/flant/blog/458878/">traduzimos</a> um artigo de seus autores que revela a ess√™ncia desse novo fen√¥meno para o blog.  Em nosso entendimento, a principal id√©ia e o principal significado do GitOps √© que o <b>Git √© uma "√∫nica fonte de verdade"</b> .  Lojas Git: <br><br><ul><li>  c√≥digo da aplica√ß√£o </li><li>  todas as depend√™ncias; </li><li>  informa√ß√µes sobre como coletar cont√™ineres; </li><li>  informa√ß√µes sobre como implantar no Kubernetes; </li><li>  e outros </li></ul><br>  E depois h√° "algo" que faz a <b>realidade mudar de acordo com as mudan√ßas do Git</b> .  Essa abordagem pode ser implementada n√£o apenas instalando algum operador no Kubernetes que monitora o Git, mas tamb√©m usando um utilit√°rio de console que pode ser chamado de qualquer sistema de IC.  Al√©m disso, do nosso ponto de vista, a abordagem com o utilit√°rio CLI n√£o imp√µe restri√ß√µes desnecess√°rias: podemos fazer IC com qualquer ferramenta e com in√∫meras nuances, chamando um utilit√°rio CLI que sincroniza a ‚Äúrealidade‚Äù (Kubernetes) com o estado do Git . <br><br>  O werf fornece uma interface CLI de alto n√≠vel com comandos b√°sicos para criar e publicar imagens, fornecendo aplicativos e limpando imagens: o <code>werf build-and-publish</code> , o <code>werf deploy</code> , o <code>werf dismiss</code> , o <code>werf cleanup</code> .  Sup√µe-se que esses comandos muito b√°sicos sejam incorporados em um sistema de IC espec√≠fico e forne√ßam a sincroniza√ß√£o necess√°ria com a realidade.  Al√©m disso, o werf tamb√©m fornece uma interface CLI de baixo n√≠vel para gerenciar v√°rios subsistemas - consulte os <a href="https://ru.werf.io/documentation/cli/management/stages/build.html">comandos de gerenciamento de baixo n√≠vel</a> na documenta√ß√£o. <br><br>  N√£o importa se o CI / CD interno funcionar√° de acordo com o modelo push ou pull <i>(leia mais sobre eles <a href="https://habr.com/ru/company/flant/blog/456754/">aqui</a> )</i> , porque o <b>werf pode ser incorporado em qualquer modelo</b> .  Ao mesmo tempo, o werf fecha problemas como trabalhar com utilit√°rios separados de baixo n√≠vel, como api-server <code>git</code> , <code>docker</code> e kubernetes, sendo a ‚Äúparte que falta‚Äù para configurar um aplicativo CI / CD unificado. <br><br><h2>  O que √© werf 1.0 est√°vel </h2><br><h3>  1. Montagem, publica√ß√£o e limpeza de imagens </h3><br>  Se seu aplicativo exigir a constru√ß√£o de imagens do Docker, usando o werf 1.0, voc√™ poder√°: <br><br><ul><li>  descreva as regras para montar imagens (voc√™ pode ter v√°rias) em uma √∫nica configura√ß√£o <code>werf.yaml</code> ; </li><li>  Colete imagens e publique no Docker Registry </li><li>  limpe periodicamente o Docker Registry para obter pol√≠ticas personalizadas. </li></ul><br>  O werf suporta <b>duas maneiras de descrever a montagem</b> : conectar o <code>werf.yaml</code> <b>Dockerfiles existentes</b> e instru√ß√µes para <b>o coletor Stapel</b> .  Construir com a Stapel tem suas vantagens: reconstru√ß√£o incremental mais r√°pida ao alterar o c√≥digo do aplicativo no Git, usando a sintaxe Ansible para montagem e outras.  Voc√™ pode <a href="https://ru.werf.io/documentation/reference/build_process.html">aprender</a> mais sobre esse coletor e sintaxe <a href="https://ru.werf.io/documentation/reference/build_process.html">na documenta√ß√£o</a> , e um exemplo de seu uso √© apresentado no <a href="https://ru.werf.io/documentation/guides/advanced_build/first_application.html">manual</a> . <br><br>  Esquemas diferentes para marca√ß√£o / controle de vers√£o de imagens coletadas est√£o dispon√≠veis com refer√™ncia a confirma√ß√µes, ramifica√ß√µes e tags do Git. <br><br>  A montagem de imagens √© um est√°gio opcional da implanta√ß√£o do aplicativo e pode ser ignorada na aus√™ncia de suas pr√≥prias imagens montadas. <br><br><h3>  2. Est√°gio de armazenamento em apenas um host </h3><br>  O werf introduz o conceito de armazenamento de est√°gios.  Os principais comandos werf usam o armazenamento em est√°gio da seguinte maneira: <br><br><ul><li>  Salvar resultados da montagem - imagens do Docker no armazenamento de palco </li><li>  use imagens do armazenamento de palco como um cache para reconstruir e montar novas imagens; </li><li>  use o reposit√≥rio para obter informa√ß√µes sobre as imagens coletadas para uso posterior (por exemplo, ao entregar um aplicativo ao Kubernetes). </li></ul><br>  Ao implantar um √∫nico aplicativo, um armazenamento de est√°gio √∫nico deve ser usado para todas as equipes (montagem, publica√ß√£o, limpeza de imagens, implanta√ß√£o de aplicativos). <br><br>  Na vers√£o 1.0, apenas o armazenamento do host local pode atuar como um armazenamento de est√°gio (o par√¢metro correspondente para os comandos √©: <code>--stages-storage=:local</code> ).  Ao usar <code>:local</code> est√°gios <code>:local</code> s√£o armazenados no disco.  A conseq√º√™ncia disso: <b>werf 1.0</b> pode ser usada apenas <b>em um host para</b> organizar a implanta√ß√£o de um <b>√∫nico aplicativo</b> .  Esse host deve salvar os dados entre as ativa√ß√µes do comando para que o werf funcione corretamente. <br><br>  Na vers√£o 1.0, n√£o h√° suporte para armazenar est√°gios no armazenamento externo, com o qual voc√™ pode organizar um assembly distribu√≠do.  No entanto, essa fun√ß√£o aparecer√° em vers√µes futuras do werf <i>(veja abaixo para mais detalhes)</i> . <br><br><h3>  3. Abra o aplicativo e verifique a disponibilidade </h3><br>  Para implementar o aplicativo, o usu√°rio descreve o gr√°fico em um formato compat√≠vel com o Helm: um conjunto de manifestos e par√¢metros de modelo do Kubernetes. <br><br>  O werf lan√ßa o aplicativo no Kubernetes e fornece uma garantia de que ele inicia e funciona antes de concluir o processo de lan√ßamento do aplicativo.  Isso inclui a sa√≠da dos logs de componentes e a resposta instant√¢nea a erros de lan√ßamento quando algo deu errado - o comando de lan√ßamento ser√° descartado com um c√≥digo diferente de zero.  Assim, ao usar o lan√ßamento do werf no CI / CD, <b>obtemos feedback adequado do software</b> : se o aplicativo foi baixado ou n√£o, e informa√ß√µes suficientes para depurar e corrigir problemas (sem a necessidade de executar outros utilit√°rios para encontrar problemas como o <code>kubectl</code> ). <br><br>  O werf √© totalmente compat√≠vel com as instala√ß√µes existentes do Helm 2, mas o werf tem v√°rias vantagens sobre ele.  Por exemplo, como um mecanismo para atualizar recursos, o Kubernetes usa patches de <a href="https://ru.werf.io/documentation/reference/deploy_process/resources_update_methods_and_adoption.html">3 vias</a> e tamb√©m h√° a possibilidade de receber feedback quando o aplicativo √© entregue ao cluster.  Uma lista completa de diferen√ßas √© descrita <a href="https://ru.werf.io/documentation/reference/deploy_process/differences_with_helm.html">nesta p√°gina</a> . <br><br><h3>  4. O relacionamento das imagens coletadas com o processo de entrega do aplicativo </h3><br>  O werf integra as imagens coletadas em um √∫nico sistema, o processo de identifica√ß√£o e controle de vers√£o com o processo de entrega do aplicativo ao Kubernetes.  As imagens que o werf coleta podem ser usadas nos modelos de descri√ß√£o de recurso do Kubernetes. <br><br>  √â devido a essas fun√ß√µes que podemos dizer que o <b>werf fornece uma interface de n√≠vel superior</b> ao Helm, Docker e outros construtores e utilit√°rios para implantar separadamente.  Essa interface permite que voc√™ simplesmente integre o werf em qualquer sistema de CI / CD existente e n√£o resolva os problemas de combinar todos os componentes usados ‚Äã‚Äã- ele cuida dessa tarefa. <br><br><h3>  5. Integra√ß√£o com sistemas CI / CD existentes </h3><br>  Na vers√£o 1.0, a integra√ß√£o autom√°tica est√° dispon√≠vel apenas <a href="https://ru.werf.io/documentation/reference/plugging_into_cicd/gitlab_ci.html">no sistema GitLab CI</a> .  Para fazer isso, o comando <code>werf ci-env</code> √© fornecido.  Ele recebe as informa√ß√µes necess√°rias do sistema de CI / CD e configura automaticamente o werf para funcionar corretamente no ambiente de CI. <br><br>  Voc√™ pode ler mais sobre como a integra√ß√£o com qualquer sistema de CI / CD funciona nos manuais ( <a href="https://ru.werf.io/documentation/reference/plugging_into_cicd/overview.html">revis√£o</a> , <a href="https://ru.werf.io/documentation/reference/plugging_into_cicd/gitlab_ci.html">especifica√ß√µes espec√≠ficas do GitLab CI</a> , <a href="https://ru.werf.io/documentation/guides/unsupported_ci_cd_integration.html">integra√ß√£o com outros sistemas</a> ). <br><br><h3>  6. Desenvolvimento de plataforma cruzada para Linux, Windows e macOS </h3><br>  O werf 1.0 √© um arquivo bin√°rio vinculado estaticamente que funciona independentemente com as vers√µes do Docker e do Helm.  Depend√™ncias externas no sistema host: <br><br><ul><li>  Daemon do Docker local </li><li>  utilit√°rio git. </li></ul><br>  O werf pode ser executado em qualquer sistema operacional e ambiente de GNU / Linux, Windows ou macOS.  Al√©m disso, o resultado da montagem ser√° o mesmo, independentemente do sistema utilizado: a mesma assinatura dos est√°gios de cache, o mesmo preenchimento dos est√°gios, independentemente do sistema em que esse est√°gio foi coletado.  Altera√ß√µes na configura√ß√£o para trabalhar em sistemas diferentes tamb√©m n√£o s√£o necess√°rias. <br><br>  Portanto, o werf 1.0 fornece ferramentas de plataforma cruzada para criar e entregar aplicativos ao Kubernetes. <br><br>  Tamb√©m deve ser observado aqui que o werf coleta imagens padr√£o do Docker para trabalhar em um ambiente Linux, mas <a href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/about/">os cont√™ineres do Windows</a> n√£o <a href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/about/">s√£o</a> suportados na vers√£o 1.0. <br><br><h3>  7. Cobrindo a funcionalidade com testes </h3><br>  Atualmente, 60% do c√≥digo werf √© coberto por testes e2e de integra√ß√£o e testes de unidade. <br><br>  O werf √© testado em todos os sistemas operacionais suportados (Linux, Windows e macOS) usando as a√ß√µes do GitHub para organizar seu lan√ßamento.  Alguns detalhes de teste tamb√©m est√£o dispon√≠veis no <a href="https://codeclimate.com/github/flant/werf">Code Climate</a> . <br><br><h3>  8. Vers√£o do werf </h3><br>  No momento, no lan√ßamento da vers√£o 1.0, <a href="https://github.com/flant/werf/releases">cerca de 700 lan√ßamentos</a> foram feitos no projeto. <br><br>  O werf usa um sistema avan√ßado de lan√ßamento com canais de estabilidade: <i>alfa</i> , <i>beta</i> , <i>ea (acesso antecipado)</i> , <i>est√°vel</i> e <i>s√≥lido</i> .  Este post foi programado para coincidir com o lan√ßamento da primeira vers√£o 1.0 no canal <i>est√°vel</i> .  Altera√ß√µes inst√°veis ‚Äã‚Äãna vers√£o passam por uma cadeia de canais e acabam sendo <i>s√≥lidas</i> .  Os lan√ßamentos s√£o frequentemente feitos (√†s vezes v√°rios por dia) e as altera√ß√µes s√£o entregues continuamente em "pequenas por√ß√µes". <br><br>  Os canais de estabilidade e muitas vers√µes frequentes permitem obter feedback cont√≠nuo sobre novas altera√ß√µes, a capacidade de revert√™-las rapidamente e geralmente garantir alta estabilidade do software e, ao mesmo tempo, uma velocidade aceit√°vel de seu desenvolvimento. <br><br>  O ponto importante √© que, ao alternar entre as vers√µes 1.0-&gt; 1.1, 1.1-&gt; 1.2, s√£o poss√≠veis altera√ß√µes no werf que requerem interven√ß√£o manual do usu√°rio (pode ser um script de migra√ß√£o ou apenas instru√ß√µes para execu√ß√£o manual descritas no release).  A atualiza√ß√£o das vers√µes dentro de 1.0 (1.0.1, 1.0.2, ... 1.0.6-alpha.1, 1.0.6-beta.2, etc.) garante que essas altera√ß√µes manuais n√£o sejam necess√°rias. <br><br>  Voc√™ pode ler mais sobre a promessa de compatibilidade com vers√µes anteriores <a href="https://github.com/flant/werf">aqui</a> . <br><br><h2>  Planos adicionais </h2><br>  Veja como s√£o as principais √°reas de trabalho principais para vers√µes futuras e os termos aproximados para sua implementa√ß√£o: <br><br><h3>  1. Desenvolvimento local e implanta√ß√£o de aplicativos com werf </h3><br>  O objetivo principal √© obter uma √∫nica configura√ß√£o unificada para implantar aplicativos localmente e em produ√ß√£o, sem a√ß√µes complexas, prontas para uso. <br><br>  O Werf tamb√©m precisa de um modo de opera√ß√£o no qual seja conveniente editar o c√≥digo do aplicativo e receber instantaneamente feedback de um aplicativo em funcionamento para depura√ß√£o. <br><br>  <i>Vers√£o 1.1, janeiro a fevereiro de 2020</i> <br><br><h3>  2. Marca√ß√£o baseada em conte√∫do </h3><br>  Etiquetar imagens quando publicadas, com base apenas no conte√∫do desta imagem.  Ao contr√°rio dos modos com liga√ß√£o √†s confirma√ß√µes do Git, esse modo se livra completamente das reconstru√ß√µes desnecess√°rias.  Git-commit-id n√£o √© um identificador universal para o conte√∫do da √°rvore de trabalho (embora dependa disso). <br><br>  No caso em que o c√≥digo do aplicativo n√£o foi alterado, mas uma nova confirma√ß√£o foi feita, o modo de marca√ß√£o atual para confirma√ß√µes do Git criar√° uma imagem com um novo nome quando ele for publicado.  Isso tamb√©m implicar√° uma revers√£o de recursos usando esta imagem no Kubernetes.  Ao mesmo tempo, o conte√∫do da imagem em si n√£o mudou. <br><br>  Para resolver esses problemas, o werf apresentar√° um novo tipo de marca√ß√£o com base nos c√°lculos das somas de verifica√ß√£o do <b>conte√∫do</b> do aplicativo - marca√ß√£o baseada em <b>conte√∫do</b> . <br><br>  <i>Vers√£o 1.1, fevereiro a mar√ßo de 2020</i> <br><br><h3>  3. A transi√ß√£o para o leme 3 </h3><br>  Inclui a transi√ß√£o para a nova base de c√≥digo do <a href="https://habr.com/ru/company/flant/news/t/475722/">Helm 3</a> e uma maneira comprovada e conveniente de migrar as instala√ß√µes existentes. <br><br>  <i>Vers√£o 1.1, fevereiro a mar√ßo de 2020</i> <br><br><h3>  4. Montagem paralela de imagens </h3><br>  No momento, o werf 1.0 coleta todos os est√°gios de imagens e artefatos declarados em <code>werf.yaml</code> sequencialmente.  Requer a capacidade de paralelizar o processo de montagem do palco. <br><br>  <i>Vers√£o: 1.1, janeiro-fevereiro de 2020</i> <br><br><h3>  5. Montagem distribu√≠da de imagens </h3><br>  No momento, o werf 1.0 pode ser usado apenas em um host dedicado <i>(consulte o ponto acima sobre o armazenamento do palco em apenas um host)</i> . <br><br>  Para abrir as possibilidades de montagem distribu√≠da, quando a montagem √© iniciada em v√°rios hosts e esses hosts n√£o mant√™m seu estado entre assemblies (corredores tempor√°rios), o werf √© necess√°rio para implementar a possibilidade de usar o Docker Registry como um reposit√≥rio de est√°gio. <br><br>  Anteriormente, quando o projeto werf tamb√©m era chamado dapp, havia uma oportunidade.  No entanto, encontramos v√°rios problemas que devem ser considerados ao implementar esta fun√ß√£o no werf. <br><br>  <i>Vers√£o 1.2: mar√ßo a abril de 2020</i> <br><br><h3>  6. Jsonnet para descrever a configura√ß√£o do Kubernetes </h3><br>  O werf suportar√° a descri√ß√£o da configura√ß√£o do Kubernetes no formato <a href="https://jsonnet.org/">Jsonnet</a> .  Ao mesmo tempo, o werf permanecer√° compat√≠vel com o Helm e ser√° poss√≠vel selecionar um formato de descri√ß√£o. <br><br>  O motivo √© o fato de que os modelos de linguagem Go, de acordo com muitas pessoas, t√™m um grande limite de entrada, e a inteligibilidade do c√≥digo desses modelos tamb√©m sofre. <br><br>  Outras op√ß√µes para implementar os sistemas de descri√ß√£o de configura√ß√£o do Kubernetes (como o Kustomize) tamb√©m est√£o sendo consideradas. <br><br>  <i>Vers√£o 1.1: janeiro a fevereiro de 2020</i> <br><br><h3>  7. Trabalhe dentro do Kubernetes </h3><br>  Objetivo: Garantir a montagem de imagens e a entrega de aplicativos usando corredores no Kubernetes.  I.e.  montagem de novas imagens, sua publica√ß√£o, limpeza e implanta√ß√£o podem ocorrer diretamente dos pods do Kubernetes. <br><br>  Para realizar esse recurso, voc√™ primeiro precisa distribuir imagens de maneira distribu√≠da <i>(consulte o par√°grafo acima)</i> . <br><br>  Ele tamb√©m requer suporte para o modo de opera√ß√£o de compila√ß√£o sem o daemon do Docker (ou seja, uma compila√ß√£o semelhante ao Kaniko ou uma <i>compila√ß√£o no espa√ßo do usu√°rio</i> ). <br><br>  O werf suportar√° compila√ß√µes do Kubernetes n√£o apenas com o Dockerfile, mas tamb√©m com seu construtor Stapel com reconstru√ß√µes incrementais. <br><br>  <i>Vers√£o 1.2: abril a maio de 2020</i> <br><br><h3>  8. Outros </h3><br>  Tamb√©m est√° planejado: <br><br><ul><li>  Atualiza√ß√£o da vers√£o Ansible e a capacidade de usar diferentes vers√µes do Ansible; </li><li>  suporte para pap√©is ans√≠veis; </li><li>  suporte para est√°gios de montagem arbitr√°rios no Stapel (atualmente o werf suporta um conjunto est√°tico de est√°gios: <code>beforeInstall</code> , <code>install</code> , <code>beforeSetup</code> , <code>setup</code> ); </li><li>  sintaxe <code>werf.yaml</code> aprimorada, alternando para <code>configVersion: 2</code> (associado, entre outros, aos dois pontos anteriores), suporte para a especifica√ß√£o OpenAPI; </li><li>  Suporte ao Git LFS no Stapel para armazenar arquivos grandes no Git; </li><li>  aprimoramento dos mecanismos de limpeza de imagens (falhas n√£o cr√≠ticas na vers√£o atual est√£o associadas a imagens n√£o declaradas na configura√ß√£o <code>werf.yaml</code> na ramifica√ß√£o principal principal - essas imagens ser√£o exclu√≠das pela limpeza peri√≥dica); </li><li>  trabalho mais correto com o namespace Kubernetes compartilhado, quando v√°rios aplicativos s√£o implantados em um namespace; </li><li>  revers√£o autom√°tica do aplicativo para a vers√£o de trabalho mais recente em caso de implanta√ß√£o malsucedida. </li></ul><br><h2>  Total </h2><br>  Serei breve em resumir.  N√≥s somos: <br><br><ul><li>  longa caminhada at√© o advento da vers√£o 1.0; </li><li>  levou em conta muita experi√™ncia real; </li><li>  Apresentamos para uso um utilit√°rio comprovado com funcionalidade est√°vel, verificado por dezenas de milhares de lan√ßamentos. </li></ul><br>  O lan√ßamento da vers√£o 1.0 marca o in√≠cio de uma nova fase de desenvolvimento do werf, na qual os novos recursos fundamentalmente ser√£o adicionados.  Acompanhe as novidades!  E tamb√©m participe <a href="https://t.me/werf_ru">do werf_ru tg-channel</a> , na vida em que participam os desenvolvedores diretos do werf, bem como nossos engenheiros e usu√°rios do utilit√°rio fora da empresa Flant. <br><br><h2>  PS </h2><br>  Leia tamb√©m em nosso blog: <br><br><ul><li>  ‚Äú <a href="https://habr.com/ru/company/flant/news/t/478716/">Werf tem documenta√ß√£o em russo</a> ‚Äù; </li><li>  Uma s√©rie de notas sobre inova√ß√µes no werf: <br><ul><li>  ‚Äú <a href="https://habr.com/ru/company/flant/blog/476646/">Fus√£o de tr√™s vias no werf: implanta√ß√£o no Kubernetes com Helm‚Äú on steroids ‚Äù</a> ‚Äù; </li><li>  ‚Äú <a href="https://habr.com/ru/company/flant/blog/468049/">Usando o werf para implementar gr√°ficos Helm complexos</a> ‚Äù; </li><li>  ‚Äú <a href="https://habr.com/ru/company/flant/blog/465131/">Suporte para monorepo e multirepo no werf e o que o Docker Registry tem a ver com isso</a> ‚Äù; </li><li>  ‚Äú <a href="https://habr.com/ru/company/flant/blog/463613/">Agora voc√™ pode montar imagens do Docker no werf usando o Dockerfile usual</a> ‚Äù; </li></ul></li><li>  ‚Äú <a href="https://habr.com/ru/company/flant/blog/460351/">Werf √© a nossa ferramenta de CI / CD no Kubernetes (revis√£o e reportagem em v√≠deo)</a> ‚Äù; </li><li>  ‚Äú <a href="https://habr.com/ru/company/flant/blog/458878/">O que √© GitOps?</a>  " </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt481306/">https://habr.com/ru/post/pt481306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt481290/index.html">Configura√ß√µes de HOW-to / Network e VLAN em um servidor Hetzner e Mikrotik dedicado</a></li>
<li><a href="../pt481294/index.html">10 melhores ferramentas de automa√ß√£o de teste de software</a></li>
<li><a href="../pt481296/index.html">Como escrever c√≥digo que ser√° reutilizado</a></li>
<li><a href="../pt481302/index.html">"Sobre, sim, n√£o um cluster" ou como importamos DBMS</a></li>
<li><a href="../pt481304/index.html">Classifica√ß√£o da bandeira americana</a></li>
<li><a href="../pt481312/index.html">Presentes perdidos do Papai Noel: an√∫ncio de uma miss√£o de TI em 6 de janeiro</a></li>
<li><a href="../pt481314/index.html">Plataforma DIY Crawler para rob√¥s e entretenimento</a></li>
<li><a href="../pt481316/index.html">Escrevendo um blog sobre microsservi√ßos - Servi√ßo de postagem da parte 4</a></li>
<li><a href="../pt481318/index.html">Hacking com Unicode (no exemplo do GitHub)</a></li>
<li><a href="../pt481320/index.html">Quatro inova√ß√µes tecnol√≥gicas reformulando os cuidados com a sa√∫de agora</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>