<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ผ ๐พ ใฐ๏ธ ูู ูุง ุชุฑูุฏ ูุนุฑูุชู ุนู ุฌุงูุน ุงูููุงูุฉ ูู ุจูุซูู ๐คณ๐ผ ๐จ๐พโ๐คโ๐จ๐ฝ ๐๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุจุดูู ุนุงู ุ ูุง ุฏุงุนู ููููู ุจุดุฃู ุฌุงูุน ุงูููุงูุฉ ูุงูุนูู ูุน ุงูุฐุงูุฑุฉ ุนูุฏ ูุชุงุจุฉ ุฑูุฒ Python. ุจูุฌุฑุฏ ุนุฏู ุงูุญุงุฌุฉ ุฅูู ุงููุงุฆูุงุช ุ ุชููู Python ุชููุงุฆููุง ุจุชุญุฑูุฑ ุงูุฐุงูุฑุฉ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูู ูุง ุชุฑูุฏ ูุนุฑูุชู ุนู ุฌุงูุน ุงูููุงูุฉ ูู ุจูุซูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417215/" style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุง ุฏุงุนู ููููู ุจุดุฃู ุฌุงูุน ุงูููุงูุฉ ูุงูุนูู ูุน ุงูุฐุงูุฑุฉ ุนูุฏ ูุชุงุจุฉ ุฑูุฒ Python.  ุจูุฌุฑุฏ ุนุฏู ุงูุญุงุฌุฉ ุฅูู ุงููุงุฆูุงุช ุ ุชููู Python ุชููุงุฆููุง ุจุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ูู ุชุญุชูุง.  ุนูู ุงูุฑุบู ูู ุฐูู ุ ุณูุณุงุนุฏู ููู ููููุฉ ุนูู GC ุนูู ูุชุงุจุฉ ุฑูุฒ ุฃูุถู. <br><br><h4 style=";text-align:right;direction:rtl">  ูุฏูุฑ ุงูุฐุงูุฑุฉ </h4><br>  ุนูู ุนูุณ ุงููุบุงุช ุงูุดุงุฆุนุฉ ุงูุฃุฎุฑู ุ ูุง ุชุญุฑุฑ Python ูู ุงูุฐุงูุฑุฉ ูุฑุฉ ุฃุฎุฑู ุฅูู ูุธุงู ุงูุชุดุบูู ุจูุฌุฑุฏ ุญุฐู ูุงุฆู.  ุจุฏูุงู ูู ุฐูู ุ ูุณุชุฎุฏู ูุฏูุฑ ุฐุงูุฑุฉ ุฅุถุงูููุง ูุตูููุง ููุงุฆูุงุช ุตุบูุฑุฉ (ุญุฌููุง ุฃูู ูู 512 ุจุงูุช).  ููุนูู ูุน ูุซู ูุฐู ุงูุฃุดูุงุก ุ ูุงู ุจุชุฎุตูุต ูุชู ูุจูุฑุฉ ูู ุงูุฐุงูุฑุฉ ุ ุญูุซ ุณูุชู ุชุฎุฒูู ุงูุนุฏูุฏ ูู ุงูุฃุดูุงุก ุงูุตุบูุฑุฉ ูู ุงููุณุชูุจู. <br><br>  ุจูุฌุฑุฏ ุญุฐู ุฃุญุฏ ุงููุงุฆูุงุช ุงูุตุบูุฑุฉ - ูุง ุชูุชูู ุงูุฐุงูุฑุฉ ูู ุชุญุชูุง ุฅูู ูุธุงู ุงูุชุดุบูู ุ ุชุชุฑููุง Python ููุงุฆูุงุช ุฌุฏูุฏุฉ ุจููุณ ุงูุญุฌู.  ุฅุฐุง ูู ููู ููุงู ุฃู ูุงุฆูุงุช ูุชุจููุฉ ูู ุฃุญุฏ ูุชู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุ ููููู ูู Python ุชุญุฑูุฑูุง ุฅูู ูุธุงู ุงูุชุดุบูู.  ุนุงุฏุฉ ุ ูุชู ุชุญุฑูุฑ ุงููุชู ุนูุฏูุง ููุดุฆ ุงูุจุฑูุงูุฌ ุงููุตู ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ุงููุคูุชุฉ. <br><a name="habracut"></a><br>  ูุจุงูุชุงูู ุ ุฅุฐุง ุจุฏุฃุช ุนูููุฉ Python ุทูููุฉ ุงูุนูุฑ ูู ุงุณุชููุงู ุงููุฒูุฏ ูู ุงูุฐุงูุฑุฉ ุจูุฑูุฑ ุงูููุช ุ ููุฐุง ูุง ูุนูู ุนูู ุงูุฅุทูุงู ุฃู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุจูุง ูุดููุฉ ุชุณุฑุจ ููุฐุงูุฑุฉ.  ุฅุฐุง ููุช ุชุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู ูุฏูุฑ ุงูุฐุงูุฑุฉ ูู Python ุ ููููู ุงููุฑุงุกุฉ ุนูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุชู ุงูุฃุฎุฑู</a> . <br><br><h4 style=";text-align:right;direction:rtl">  ุฎูุงุฑุฒููุงุช ุฌูุน ุงูููุงูุฉ </h4><br>  ูุณุชุฎุฏู ูุชุฑุฌู ุจุงูุซูู ุงูููุงุณู (CPython) ุฎูุงุฑุฒููุชูู ูู ููุช ูุงุญุฏ ุ ุงูุนุฏ ุงููุฑุฌุนู ููุฌูุน ุงูููุงูุฉ ุงูุฃุฌูุงู (ูุดุงุฑ ุฅููู ูููุง ููู ุจู GC) ุ ูุงููุนุฑูู ุจุงุณู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฏุฉ gc</a> ุงูููุงุณูุฉ ูู Python. <br><br>  ุฎูุงุฑุฒููุฉ ุญุณุงุจ ุงูุงุฑุชุจุงุท ุจุณูุทุฉ ุฌุฏูุง ููุนุงูุฉ ุ ูููู ููุง ุนูุจูุง ูุจูุฑูุง.  ูุง ูุนุฑู ููู ูุญุฏุฏ ุงููุฑุงุฌุน ุงูุฏุงุฆุฑูุฉ.  ูููุฐุง ุงูุณุจุจ ููุฌุฏ ูู ุจุงูุซูู ุฌุงูุน ุฅุถุงูู ูุณูู GC ุงูุฃุฌูุงู ุงูุฐู ูุฑุงูุจ ุงููุงุฆูุงุช ุฐุงุช ุงููุฑุงุฌุน ุงูุฏุงุฆุฑูุฉ ุงููุญุชููุฉ. <br><br>  ูู Python ุ ุชุนุฏ ุฎูุงุฑุฒููุฉ ุงูุญุณุงุจ ุงููุฑุฌุนู ุฃุณุงุณูุฉ ููุง ูููู ุชุนุทูููุง ุ ูู ุญูู ุฃู GC ุงุฎุชูุงุฑูุฉ ููููู ุชุนุทูููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ุฎูุงุฑุฒููุฉ ุญุณุงุจ ุงูุงุฑุชุจุงุท </h4><br>  ุฎูุงุฑุฒููุฉ ุญุณุงุจ ุงูุงุฑุชุจุงุท ูู ูุงุญุฏุฉ ูู ุฃุณูู ุชูููุงุช ุฌูุน ุงูููุงูุฉ.  ูุชู ุญุฐู ุงููุงุฆูุงุช ุจูุฌุฑุฏ ุนุฏู ุงูุฑุฌูุน ุฅูููุง. <br><br>  ูู Python ุ ูุง ุชุฎุฒู ุงููุชุบูุฑุงุช ุงูููู ุ ูููููุง ุชุนูู ููุฑุงุฌุน ูููุงุฆูุงุช.  ุฃู ุ ุนูุฏูุง ุชููู ุจุชุนููู ูููุฉ ููุชุบูุฑ ุฌุฏูุฏ ุ ูุชู ุฃููุงู ุฅูุดุงุก ูุงุฆู ุจูุฐู ุงููููุฉ ุ ูุนูุฏุฆุฐ ููุท ูุจุฏุฃ ุงููุชุบูุฑ ูู ุงูุฅุดุงุฑุฉ ุฅููู.  ูููู ุฃู ุชุดูุฑ ุงููุชุบูุฑุงุช ุงููุชุนุฏุฏุฉ ุฅูู ูุงุฆู ูุงุญุฏ. <br><br>  ูุญุชูู ูู ูุงุฆู ูู Python ุนูู ุญูู ุฅุถุงูู (ุนุฏุงุฏ ูุฑุฌุนู) ุ ูุงูุฐู ูุฎุฒู ุนุฏุฏ ุงูุฑูุงุจุท ุฅููู.  ุจูุฌุฑุฏ ุฃู ูุดูุฑ ุดุฎุต ูุง ุฅูู ูุงุฆู ูุง ุ ูุฒุฏุงุฏ ูุฐุง ุงูุญูู ุจููุฏุงุฑ ูุงุญุฏ.  ุฅุฐุง ุงุฎุชูู ุงูุงุฑุชุจุงุท ูุณุจุจ ูุง ุ ูุณูุชู ุชูููู ูุฐุง ุงูุญูู ุจููุฏุงุฑ ูุงุญุฏ. <br><br>  ุฃูุซูุฉ ุนูุฏูุง ูุฒูุฏ ุนุฏุฏ ุงูุฑูุงุจุท: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุงูู ุงูุชุนููู </li><li style=";text-align:right;direction:rtl">  ุชูุฑูุฑ ุงูุญุฌุฌ </li><li style=";text-align:right;direction:rtl">  ุฅุฏุฑุงุฌ ูุงุฆู ุฌุฏูุฏ ูู ุงููุฑูุฉ (ูุฒูุฏ ุนุฏุฏ ุงูุงุฑุชุจุงุทุงุช ูููุงุฆู) </li><li style=";text-align:right;direction:rtl">  ุจูุงุก ุงููููุฐุฌ foo = bar (foo ูุจุฏุฃ ุจุงูุฅุดุงุฑุฉ ุฅูู ููุณ ุงููุงุฆู ูุซู bar) </li></ul><br>  ุจูุฌุฑุฏ ุฃู ูุตู ุงูุนุฏุงุฏ ุงููุฑุฌุนู ููุงุฆู ูุนูู ุฅูู ุงูุตูุฑ ุ ูุจุฏุฃ ุงููุชุฑุฌู ุนูููุฉ ุชุฏููุฑ ุงููุงุฆู.  ุฅุฐุง ุงุญุชูู ุงููุงุฆู ุงูุจุนูุฏ ุนูู ุงุฑุชุจุงุทุงุช ุจูุงุฆูุงุช ุฃุฎุฑู ุ ูุณูุชู ุญุฐู ูุฐู ุงูุงุฑุชุจุงุทุงุช ุฃูุถูุง.  ูุจุงูุชุงูู ุ ูุฏ ูุณุชูุฒู ุฅุฒุงูุฉ ูุงุฆู ูุงุญุฏ ุฅุฒุงูุฉ ุฃุดูุงุก ุฃุฎุฑู. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุชู ุญุฐู ูุงุฆูุฉ ุ ูุณูุชู ุชูููู ุงูุนุฏุฏ ุงููุฑุฌุนู ูู ุฌููุน ุนูุงุตุฑูุง ุจููุฏุงุฑ ูุงุญุฏ.  ุฅุฐุง ูู ูุชู ุงุณุชุฎุฏุงู ุฌููุน ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ูู ุงููุงุฆูุฉ ูู ุฃู ููุงู ุขุฎุฑ ุ ูุณูุชู ุญุฐููุง ุฃูุถูุง. <br><br>  ุชุณูู ุงููุชุบูุฑุงุช ุงูุชู ูุชู ุงูุฅุนูุงู ุนููุง ุฎุงุฑุฌ ุงูุฏุงูุงุช ูุงููุฆุงุช ูุงููุชู ุงูุนููููุฉ.  ุนุงุฏุฉ ุ ุชููู ุฏูุฑุฉ ุญูุงุฉ ูุฐู ุงููุชุบูุฑุงุช ูุณุงููุฉ ูุญูุงุฉ ุนูููุฉ Python.  ูุจุงูุชุงูู ุ ูุง ููุฎูุถ โโุนุฏุฏ ุงูุฅุดุงุฑุงุช ุฅูู ุงููุงุฆูุงุช ุงูุชู ุชุดูุฑ ุฅูููุง ุงููุชุบูุฑุงุช ุงูุนุงูุฉ ุฅูู ุงูุตูุฑ. <br><br>  ุงููุชุบูุฑุงุช ุงููุนููุฉ ุฏุงุฎู ูุชูุฉ (ูุธููุฉ ุ ูุฆุฉ) ููุง ุฑุคูุฉ ูุญููุฉ (ุฃู ุฃููุง ูุฑุฆูุฉ ููุท ุฏุงุฎู ุงููุชูุฉ).  ุจูุฌุฑุฏ ุฃู ูุฎุฑุฌ ูุชุฑุฌู ุจุงูุซูู ูู ุงููุชูุฉ ุ ูุฅูู ูุฏูุฑ ุฌููุน ุงูุฑูุงุจุท ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ ุงููุชุบูุฑุงุช ุงููุญููุฉ ุฏุงุฎููุง. <br><br>  ููููู ุฏุงุฆููุง ุงูุชุญูู ูู ุนุฏุฏ ุงูุฑูุงุจุท ุจุงุณุชุฎุฏุงู ูุธููุฉ <code>sys.getrefcount</code> . <br><br>  ูุซุงู ูุนุฏุงุฏ ุงูุงุฑุชุจุงุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">foo = [] <span class="hljs-comment"><span class="hljs-comment"># 2 ,    foo    getrefcount print(sys.getrefcount(foo)) def bar(a): # 4  #  foo,   (a), getrefcount       print(sys.getrefcount(a)) bar(foo) # 2 ,      print(sys.getrefcount(foo))</span></span></code> </pre><br>  ุงูุณุจุจ ุงูุฑุฆูุณู ูุฑุงุก ุงุณุชุฎุฏุงู ุงููุชุฑุฌู ุงููุนูุงุฑู (CPython) ูุนุฏุงุฏ ูุฑุฌุนู ุชุงุฑูุฎู.  ููุงู ุญุงููุง ุงููุซูุฑ ูู ุงูููุงุด ุญูู ูุฐุง ุงูููุฌ.  ูุนุชูุฏ ุจุนุถ ุงููุงุณ ุฃู ุฌุงูุน ุงูููุงูุฉ ูููู ุฃู ูููู ุฃูุซุฑ ููุงุกุฉ ุจุฏูู ุฎูุงุฑุฒููุฉ ุญุณุงุจ ุงูุงุฑุชุจุงุท.  ุชุญุชูู ูุฐู ุงูุฎูุงุฑุฒููุฉ ุนูู ุงูุนุฏูุฏ ูู ุงููุดุงูู ุ ูุซู ุงูุฑูุงุจุท ุงูุฏุงุฆุฑูุฉ ุ ูุณูุงุณู ุงูุญุฌุจ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุญูู ุฅุถุงูู ููุฐุงูุฑุฉ ููุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ. <br><br>  ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ ููุฐู ุงูุฎูุงุฑุฒููุฉ ูู ุญุฐู ุงููุงุฆูุงุช ุนูู ุงูููุฑ ุจูุฌุฑุฏ ุนุฏู ุงูุญุงุฌุฉ ุฅูููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ุฌุงูุน ุงูููุงูุฉ ุงูุงุฎุชูุงุฑู </h4><br>  ููุงุฐุง ูุญุชุงุฌ ุฅูู ุฎูุงุฑุฒููุฉ ุฅุถุงููุฉ ุนูุฏูุง ูููู ูุฏููุง ุจุงููุนู ุญุณุงุจ ูุฑุฌุนุ <br><br>  ูุณูุก ุงูุญุธ ุ ูุฅู ุฎูุงุฑุฒููุฉ ุญุณุงุจ ุงูุงุฑุชุจุงุท ุงูููุงุณูููุฉ ููุง ุนูุจ ูุจูุฑ - ููู ูุง ุชุนุฑู ููููุฉ ุงูุนุซูุฑ ุนูู ุงูุฑูุงุจุท ุงูุฏุงุฆุฑูุฉ.  ุชุญุฏุซ ุงูุงุณุชุฑุฌุงุน ุนูุฏูุง ูุดูุฑ ูุงุฆู ุฃู ุฃูุซุฑ ุฅูู ุจุนุถูุง ุงูุจุนุถ. <br><br>  ูุซุงูุงู: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/46f/9b6/6ae/46f9b66aed851bb88c4c430a892e5670.svg" alt="ุงูุตูุฑุฉ"><br><br>  ููุง ุชุฑู ุ ูุดูุฑ ุงููุงุฆู <code>lst</code> ุฅูู ููุณู ุ ุจูููุง ูุดูุฑ ุงููุงุฆู <code>lst</code> ุงููุงุฆู <code>object2</code> ุฅูู ุจุนุถููุง ุงูุจุนุถ.  ุจุงููุณุจุฉ ุฅูู ูุฐู ุงููุงุฆูุงุช ุ ุณูููู ุงูุนุฏุฏ ุงููุฑุฌุนู ุฏุงุฆููุง 1. <br><br>  ุนุฑุถ ุจุงูุซูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gc <span class="hljs-comment"><span class="hljs-comment">#  ctypes        class PyObject(ctypes.Structure): _fields_ = [("refcnt", ctypes.c_long)] gc.disable() #   GC lst = [] lst.append(lst) #    lst lst_address = id(lst) #   lst del lst object_1 = {} object_2 = {} object_1['obj2'] = object_2 object_2['obj1'] = object_1 obj_address = id(object_1) #   del object_1, object_2 #          # gc.collect() #    print(PyObject.from_address(obj_address).refcnt) print(PyObject.from_address(lst_address).refcnt)</span></span></code> </pre><br>  ูู ุงููุซุงู ุฃุนูุงู ุ ุชุฒูู ุชุนูููุงุช del ุงููุฑุงุฌุน ุฅูู ูุงุฆูุงุชูุง (ูููุณ ุงููุงุฆูุงุช ููุณูุง).  ุจูุฌุฑุฏ ุชูููุฐ Python ูุนุจุงุฑุฉ del ุ ุชุตุจุญ ูุฐู ุงููุงุฆูุงุช ุบูุฑ ูุงุจูุฉ ูููุตูู ูู ููุฏ Python.  ููุน ุฐูู ุ ูุน ุฅููุงู ุชุดุบูู ูุญุฏุฉ gc ุ ุณุชุธู ูู ุงูุฐุงูุฑุฉ ุ ููุง  ูุงู ูุฏููู ูุฑุงุฌุน ุฏุงุฆุฑูุฉ ููุง ุฒุงู ุนุฏุงุฏูู ูุงุญุฏูุง.  ููููู ุงุณุชูุดุงู ูุฐู ุงูุนูุงูุงุช ุจุตุฑููุง ุจุงุณุชุฎุฏุงู ููุชุจุฉ <code>objgraph</code> . <br><br>  ูุฅุตูุงุญ ูุฐู ุงููุดููุฉ ุ ุชูุช ุฅุถุงูุฉ ุฎูุงุฑุฒููุฉ ุฅุถุงููุฉ ุชุนุฑู ุจุงุณู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฏุฉ gc</a> ูู Python 1.5.  ุงููููุฉ ุงููุญูุฏุฉ ูู ุฅุฒุงูุฉ ุงููุงุฆูุงุช ุงูุฏุงุฆุฑูุฉ ุงูุชู ูู ูุนุฏ ูู ุงููููู ุงููุตูู ุฅูููุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. <br><br>  ูููู ุฃู ุชุญุฏุซ ุงูุงุณุชุฑุฌุงุน ููุท ูู ูุงุฆูุงุช "ุงูุญุงููุฉ".  ุนูู ุณุจูู ุงููุซุงู  ูู ูุงุฆูุงุช ูููููุง ุชุฎุฒูู ูุงุฆูุงุช ุฃุฎุฑู ุ ูุซู ุงูููุงุฆู ูุงูููุงููุณ ูุงููุฆุงุช ูุงููุฌููุนุงุช.  ูุง ูุชุชุจุน GC ุงูุฃููุงุน ุงูุจุณูุทุฉ ูุงูุซุงุจุชุฉ ุ ุจุงุณุชุซูุงุก ุงูุตููู.  ูุชู ุฃูุถูุง ุงุณุชุจุนุงุฏ ุจุนุถ ุงูุตููู ูุงูููุงููุณ ูู ูุงุฆูุฉ ุงูุชุชุจุน ุนูุฏ ุงุณุชููุงุก ุดุฑูุท ูุนููุฉ.  ูุน ุฌููุน ุงููุงุฆูุงุช ุงูุฃุฎุฑู ุ ูุชู ุถูุงู ุฎูุงุฑุฒููุฉ ุงูุนุฏ ุงููุฑุฌุนูุฉ ููุชุนุงูู. <br><br><h4 style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุชู ุชุดุบูู GC </h4><br>  ุนูู ุนูุณ ุฎูุงุฑุฒููุฉ ุงูุนุฏ ุงููุฑุฌุนูุฉ ุ ูุง ูุนูู GC ุงูุฏูุฑู ูู ุงูููุช ุงููุนูู ููุชู ุชุดุบููู ุจุดูู ุฏูุฑู.  ูุคุฏู ูู ุชุดุบูู ููุฌุงูุน ุฅูู ุชููู ูุคูุช ูู ุงูุดูุฑุฉ ุ ูุฐูู ูุณุชุฎุฏู CPython (ุงููุชุฑุฌู ุงููุนูุงุฑู) ุงุณุชุฏูุงูุงุช ูุชููุนุฉ ูุชุญุฏูุฏ ุชูุฑุงุฑ ุฌุงูุน ุงูููุงูุฉ. <br><br>  ููุณู ุฌุงูุน ุงูููุงูุฉ ุงูุฏูุฑู ุฌููุน ุงููุงุฆูุงุช ุฅูู 3 ุฃุฌูุงู (ุฃุฌูุงู).  ุชูุน ุฃุดูุงุก ุฌุฏูุฏุฉ ูู ุงูุฌูู ุงูุฃูู.  ุฅุฐุง ูุฌุช ุงูููุดุฃุฉ ุงูุฌุฏูุฏุฉ ูู ุนูููุฉ ุฌูุน ุงูููุงูุฉ ุ ูุณุชูุชูู ุฅูู ุงูุฌูู ุงูุชุงูู.  ูููุง ุฒุงุฏ ุงูุฌูู ุ ูู ูุญุตู ุจุญุซูุง ุนู ุงูููุงูุฉ.  ูุธุฑูุง ูุฃู ุงููุงุฆูุงุช ุงูุฌุฏูุฏุฉ ุบุงูุจูุง ูุง ูููู ููุง ุนูุฑ ูุตูุฑ ุฌุฏูุง (ูุคูุชุฉ) ุ ููู ุงูููุทูู ุฅุฌุฑุงุก ููุงุจูุงุช ูุนูู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุฃูุซุฑ ูู ุชูู ุงูุชู ูุฑุช ุจุงููุนู ุจุงูุนุฏูุฏ ูู ูุฑุงุญู ุฌูุน ุงูููุงูุฉ. <br><br>  ูุญุชูู ูู ุฌูู ุนูู ุนุฏุงุฏ ุฎุงุต ูุนุชุจุฉ ุงุณุชุฌุงุจุฉ ุ ุนูุฏ ุงููุตูู ูุชู ุชุดุบูู ุนูููุฉ ุฌูุน ุงูููุงูุฉ.  ูููู ูู ุนุฏุงุฏ ุจุชุฎุฒูู ุนุฏุฏ ุงูุชุฎุตูุตุงุช ูุงูุต ุนุฏุฏ ุนูููุงุช ุงูุชุฎุตูุต ูู ุฌูู ูุนูู.  ุจูุฌุฑุฏ ุฅูุดุงุก ุฃู ูุงุฆู ุญุงููุฉ ูู Python ุ ูุฅูู ูุชุญูู ูู ูุฐู ุงูุนุฏุงุฏุงุช.  ุฅุฐุง ูุฌุญุช ุงูุธุฑูู ุ ูุณุชุจุฏุฃ ุนูููุฉ ุฌูุน ุงูููุงูุฉ. <br><br>  ุฅุฐุง ุชุฌุงูุฒุช ุนุฏุฉ ุฃุฌูุงู ุฃู ุฃูุซุฑ ุงูุนุชุจุฉ ูุฑุฉ ูุงุญุฏุฉ ุ ูุณูุชู ุงุฎุชูุงุฑ ุงูุฌูู ุงูุฃูุฏู.  ูุฐุง ูุฑุฌุน ุฅูู ุญูููุฉ ุฃู ุงูุฃุฌูุงู ุงูุฃูุจุฑ ุณูุง ุชููู ุฃูุถูุง ุจูุณุญ ุฌููุน ุงูุฃุฌูุงู ุงูุณุงุจูุฉ.  ูุชูููู ุนุฏุฏ ุงูุฅููุงู ุงููุคูุช ูุฌูุน ุงูููุงูุฉ ูููุงุฆูุงุช ุทูููุฉ ุงูุนูุฑ ุ ูุฏู ุงูุฌูู ุงูุฃูุฏู <a href="">ูุฌููุนุฉ ุฅุถุงููุฉ ูู ุงูุดุฑูุท</a> . <br><br>  ูุชู ุชุนููู ุงูุนุชุจุงุช ุงูููุงุณูุฉ ููุฃุฌูุงู ุนูู <code>700, 10  10</code> ุนูู ุงูุชูุงูู ุ ูููู ููููู ุฏุงุฆููุง ุชุบููุฑูุง ุจุงุณุชุฎุฏุงู <code>gc.get_threshold  gc.set_threshold</code> . <br><br><h4 style=";text-align:right;direction:rtl">  ุญููุฉ ุฎูุงุฑุฒููุฉ ุงูุจุญุซ </h4><br>  ูุชุทูุจ ุงููุตู ุงููุงูู ูุฎูุงุฑุฒููุฉ ุจุญุซ ุงูุญููุฉ ููุงูุฉ ูููุตูุฉ.  ุจุงุฎุชุตุงุฑ ุ ูุชูุฑุฑ GC ููู ูู ูุงุฆู ูู ุงูุฃุฌูุงู ุงููุญุฏุฏุฉ ููุฒูู ุฌููุน ุงูุฑูุงุจุท ูุคูุชูุง ูู ูุงุฆู ูุงุญุฏ (ุฌููุน ุงูุงุฑุชุจุงุทุงุช ุงูุชู ูุดูุฑ ุฅูููุง ูุฐุง ุงููุงุฆู).  ุจุนุฏ ุชูุฑูุฑ ูุงูู ุ ุชุนุชุจุฑ ุฌููุน ุงููุงุฆูุงุช ุงูุชู ุชุญุชูู ุนูู ุนุฏุฏ ุงุฑุชุจุงุทุงุช ุฃูู ูู ุงุซููู ุบูุฑ ูุงุจูุฉ ูููุตูู ูู python ููููู ุญุฐููุง. <br><br>  ูููู ุฃุนูู ุ ุฃูุตู ุจูุฑุงุกุฉ (ููุงุญุธุฉ ุงููุชุฑุฌู: ูุงุฏุฉ ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตู ุงูุฃุตูู ููุฎูุงุฑุฒููุฉ ูู ููู ุดููููุงูุฑ ููุธููุฉ ุงูุชุฌููุน</a> ูู <a href="">ูุตุงุฏุฑ CPython</a> .  ูููู ุฃูุถูุง ุฃู ูููู ูุตููุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Quora ูููุดูุฑูุง</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญูู ุฌุงูุน ุงูููุงูุฉ</a> ูููุฏูุง. <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุงููุดููุฉ ูุน ุงููุฏูุฑุงุช ุงูููุตููุฉ ูู ุงููุตู ุงูุฃุตูู ููุฎูุงุฑุฒููุฉ ูุฏ ุชู ุฅุตูุงุญูุง ููุฐ Python 3.4 (ูุฒูุฏ ูู ุงูุชูุงุตูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PEP 442</a> ). <br><br><h4 style=";text-align:right;direction:rtl">  ูุตุงุฆุญ ููุชุญุณูู </h4><br>  ุบุงูุจูุง ูุง ุชุญุฏุซ ุงูุญููุงุช ูู ุงูููุงู ุงููุงูุนูุฉ ุ ูููู ุงูุนุซูุฑ ุนูููุง ูู ูุดุงูู ุงูุฑุณูู ุงูุจูุงููุฉ ุฃู ุงูููุงุฆู ุงููุฑุชุจุทุฉ ุฃู ูู ููุงูู ุงูุจูุงูุงุช ุญูุซ ุชุญุชุงุฌ ุฅูู ุชุชุจุน ุงูุนูุงูุงุช ุจูู ุงููุงุฆูุงุช.  ุฅุฐุง ูุงู ุจุฑูุงูุฌู ูุญุชูู ุนูู ุญูููุฉ ุนุงููุฉ ููุทุงูุจ ุจุงูุชุฃุฎูุฑ ุ ููู ุงูุฃูุถู ุชุฌูุจ ุงูุญููุงุช ุฅู ุฃููู. <br><br>  ูู ุงูุฃูุงูู ุงูุชู ุชุณุชุฎุฏู ูููุง ุงูุฑูุงุจุท ุงูุฏุงุฆุฑูุฉ ุนู ุนูุฏ ุ ููููู ุงุณุชุฎุฏุงู ุงูุฑูุงุจุท "ุงูุถุนููุฉ".  ูุชู ุชูููุฐ ุงููุตูุงุช ุงูุถุนููุฉ ูู ูุญุฏุฉ ุงูุถุนูู ุ ูุนูู ุนูุณ ุงูุฑูุงุจุท ุงูุนุงุฏูุฉ ุ ูุง ุชุคุซุฑ ุนูู ุนุฏุงุฏ ุงููุตูุงุช ุจุฃู ุดูู ูู ุงูุฃุดูุงู.  ุฅุฐุง ุชุจูู ุญุฐู ุงููุงุฆู ุฐู ุงููุฑุงุฌุน ุงูุถุนููุฉ ุ ููู <code>None</code> ุฅุฑุฌุงุน <code>None</code> ุจุฏูุงู ูู ุฐูู. <br><br>  ูู ุจุนุถ ุงูุญุงูุงุช ุ ูู ุงููููุฏ ุชุนุทูู ุงูุฅูุดุงุก ุงูุชููุงุฆู ุจูุงุณุทุฉ ูุญุฏุฉ gc ูุงุณุชุฏุนุงุฆู ูุฏูููุง.  ููููุงู ุจุฐูู ุ ูุง <code>gc.disable()</code> ุณูู ุงุณุชุฏุนุงุก <code>gc.disable()</code> ุซู ุงุณุชุฏุนุงุก <code>gc.collect()</code> ูุฏูููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ููููุฉ ุงูุนุซูุฑ ุนูู ุงูุฑูุงุจุท ุงูุฏุงุฆุฑูุฉ ูุชุตุญูุญูุง </h4><br>  ูููู ุฃู ุชููู ุญููุงุช ุงูุชุตุญูุญ ูุคููุฉ ุ ุฎุงุตุฉ ุฅุฐุง ูุงูุช ุงูุดูุฑุฉ ุชุณุชุฎุฏู ุงูุนุฏูุฏ ูู ูุญุฏุงุช ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ. <br><br>  ุชููุฑ ูุญุฏุฉ gc ูุธุงุฆู ูุณุงุนุฏุฉ ูููููุง ุงููุณุงุนุฏุฉ ูู ุชุตุญูุญ ุงูุฃุฎุทุงุก.  ุฅุฐุง ุชู ุชุนููู ูุนููุงุช GC ุฅูู ุนูุงูุฉ <code>DEBUG_SAVEALL</code> ุ ูุณุชุชู ุฅุถุงูุฉ ุฌููุน ุงููุงุฆูุงุช ุงูุชู ูุชุนุฐุฑ ุงููุตูู ุฅูููุง ุฅูู ูุงุฆูุฉ <code>gc.garbage</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gc gc.set_debug(gc.DEBUG_SAVEALL) print(gc.get_count()) lst = [] lst.append(lst) list_id = id(lst) <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> lst gc.collect() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> gc.garbage: print(item) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> list_id == id(item)</code> </pre><br>  ุจูุฌุฑุฏ ุชุญุฏูุฏ ููุทุฉ ุงููุดููุฉ - ูููู ุชุตูุฑูุง ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">objgraph</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3d8/355/be9/3d8355be99fea997cae6aff7fd7fb6b2.svg" alt="ุงูุตูุฑุฉ"><br><br><h5 style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h5><br>  ูุชู ุชูููุฐ ุนูููุฉ ุฌูุน ุงูููุงูุฉ ุงูุฑุฆูุณูุฉ ุนู ุทุฑูู ุฎูุงุฑุฒููุฉ ุญุณุงุจ ุงูุงุฑุชุจุงุท ุ ููู ุนูููุฉ ุจุณูุทุฉ ุฌุฏูุง ููุง ุชุญุชูู ุนูู ุฅุนุฏุงุฏุงุช.  ูุชู ุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุฉ ุฅุถุงููุฉ ููุท ููุจุญุซ ูุญุฐู ุงููุงุฆูุงุช ุฐุงุช ุงููุฑุงุฌุน ุงูุฏุงุฆุฑูุฉ. <br><br>  ูุง ูุฌุจ ุฃู ุชุดุงุฑู ูู ุงูุชุญุณูู ุงููุจูุฑ ูุฃููุงุฏ ุฌุงูุน ุงูููุงูุฉ ุ ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุดุงูู ุฌูุน ุงูููุงูุฉ ูุงุฏุฑุฉ ุฌุฏูุง. <br><br>  ููุงุญุธุฉ: ุฃูุง ูุคูู ูุฐุง ุงูููุงู ุ ููููู ุทุฑุญ ุฃู ุฃุณุฆูุฉ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar417215/">https://habr.com/ru/post/ar417215/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar417201/index.html">ุฃูููุณู ุฒููููููู ุญูู BigData + ML ุนูู jug.msk.ru</a></li>
<li><a href="../ar417203/index.html">ูุณุฑ ุงูููุฏุณ ูู STM8</a></li>
<li><a href="../ar417207/index.html">ุงูุฎูููุฉ: ูุทุงุฑุงุช ุฑุตุงุตุฉ ูุงูุจุฑููุจ</a></li>
<li><a href="../ar417209/index.html">ุงูุดุจูุงุช ุงูุนุตุจูุฉ ูู ุงูุตูุฑ. ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุฏูุฑุงุช ูุงูููุงูุงุช ุจุงููุบุฉ ุงูุฑูุณูุฉ ุ ูุฌุงููุง ูุจุฏูู ุชุณุฌูู</a></li>
<li><a href="../ar417211/index.html">ุฌุฏูู ูุชุนูู ุฃุณุงุณูุงุช ุงูุฏูุงุฆุฑ ุงูููุฑุจุงุฆูุฉ. ููุง ูุงุ</a></li>
<li><a href="../ar417219/index.html">ุงูุณ ุฃูุฑ ุจุฑุฌุฑ ููุฌ! ููุงู ุชุณุฑุจ ูููุซุงุฆู ูู ุฃูุซุฑ ุฎุทูุฑุฉ</a></li>
<li><a href="../ar417221/index.html">3DTouch - ุงูููุงููุณ ุนูู iPhone: ุงูุดุฑูุน ูู ุงูุนูู</a></li>
<li><a href="../ar417223/index.html">ุงูุดุจูุงุช ุงูุนุตุจูุฉ ุงููุญูุธุฉ</a></li>
<li><a href="../ar417225/index.html">ูุธุฑูุฉ Boshernitsan</a></li>
<li><a href="../ar417227/index.html">ูุงุฐุง ุญุฏุซ ูููุงุฑูุฉ ููุฑูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>