<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëéüèª üßñüèº üë©üèª‚ÄçüöÄ C√¥t√© obscur MH-Z19 üïë üöÉ üòô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quoi encore? Combien pouvez-vous? 

 Oui, nous reparlerons aujourd'hui de notre capteur de dioxyde de carbone Winsen MH-Z19 bien-aim√©. Non, il n'y aur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√¥t√© obscur MH-Z19</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/401363/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quoi encore?</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Combien pouvez-vous?</a> <br><br>  Oui, nous reparlerons aujourd'hui de notre capteur de dioxyde de carbone Winsen MH-Z19 bien-aim√©.  Non, il n'y aura pas de r√©p√©titions *. <br><br><img src="https://habrastorage.org/files/fbf/b65/069/fbfb65069dd446b180901d854abd0dd1.JPG"><br><br>  * presque <br><br>  Comme vous l'avez peut-√™tre remarqu√©, <s>des histoires d'horreur</s> sur les dangers des concentrations √©lev√©es de CO2 dans la pi√®ce apparaissent r√©guli√®rement dans les pages de cette ressource.  Et bien que les affirmations selon lesquelles des concentrations sup√©rieures √† 1000 ppm portent l'enfer et la mort soient l√©g√®rement exag√©r√©es ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia</a> dit qu'au moins certains effets commencent par 1%, soit 10000 ppm, alors que le capteur a toute la plage de 5000 ppm) - le CO2 peut servir d'indicateur de la pr√©sence d'autres mauvaises choses en raison d'une ventilation insuffisante.  Par cons√©quent, j'ai √©galement d√©cid√© de rejoindre le monde fascinant de la mesure du CO2 et j'ai mis la main sur le capteur mentionn√©. <br><br>  La premi√®re chose, bien s√ªr, je l'ai connect√© √† Arduino.  J'ai copi√© (avec les modifications n√©cessaires) le code de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> , les chiffres ch√©ris sont apparus √† l'√©cran. <br><br>  Mais pendant que je le copiais, un ver de doute s'est gliss√© dans mon √¢me - pourquoi ce capteur a-t-il donn√© neuf octets, et seulement deux octets repr√©sentent le CO2 d'eux?  Peut-√™tre qu'il veut me dire autre chose? <br><a name="habracut"></a><br>  Une recherche sur Internet m'a conduit √† une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page aussi int√©ressante</a> .  L'auteur exp√©rimente avec le MH-Z19 et r√©v√®le sa r√©action aux commandes non document√©es (et document√©es).  Il n'a pas encore essay√© toutes les √©quipes, donc il y a encore de la place pour notre part de plaisir.  Voil√† ce que nous allons faire. <br><br>  Tout d'abord, nous traiterons de l'√©quipe ¬´classique¬ª 0x86 (ou simplement 134), avec laquelle nous obtenons la concentration de CO2.  Rapports Revspace: <br><br><blockquote>  Une r√©ponse √† la commande 0x86 ressemble g√©n√©ralement √† ceci: <br>  0xFF CM HH LL TT SS Uh Ul CS <br>  o√π <br>  CM est la commande r√©p√©t√©e en arri√®re <br>  HH / LL est la valeur CO2 ppm, partie haute / basse <br>  TT est la temp√©rature en degr√©s Celcius, plus 40. Par exemple, lorsque la temp√©rature est de 25 ¬∞ C, alors TT = 0x41 <br>  SS est une sorte d'octet d'√©tat, cet octet n'a toujours qu'un seul bit d√©fini! <br>  Uh / Ul est une valeur inconnue, peut-√™tre li√©e √† la pression?  Apr√®s avoir d√©marr√© le capteur, il d√©marre √† 15 000 exactement, puis s'installe g√©n√©ralement √† environ 10 500. <br>  Cs est la somme de contr√¥le </blockquote><br>  Autrement dit, la r√©ponse du capteur √† cette commande contient √©galement la temp√©rature T (d√©cal√©e de 40 degr√©s) et deux valeurs de destination inconnues - un octet S et deux octets U. S prend des valeurs de deux degr√©s, et U lorsque le capteur d√©marre, passe de 15 000 √† un peu plus de 10 000 <br><br>  Comment comprendre la signification des nombres S et U?  Bien s√ªr, vous devez dessiner un graphique!  Dans toute situation incompr√©hensible, tracez un graphique. <br><br><div class="spoiler">  <b class="spoiler_title">D√©tails techniques ternes</b> <div class="spoiler_text">  Et pour dessiner un graphique, ce serait bien de conduire les lectures du capteur dans un ordinateur.  Ce que j'ai fait avec Serial.println ().  Toutes les cinq secondes, l'arduin interroge le capteur et √©crit ses lectures sur USB-UART, il ne reste plus qu'√† les lire sur l'ordinateur et √† les enregistrer dans un fichier.  Je fais √ßa (sous Linux) comme ceci: <br><br><pre><code class="bash hljs">rlwrap cat | cu -l /dev/ttyACM0 &gt; sensor_$(date <span class="hljs-string"><span class="hljs-string">'+%Y%m%d_%H%M%S'</span></span>).<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">Ne donne pas de coups de pied</b> <div class="spoiler_text">  Oui, je sais que vous pouvez faire juste cat / dev / ttyACM0&gt; .., mais pour une raison quelconque, cela ne fonctionne pas toujours pour moi, parfois cette commande se termine imm√©diatement en silence.  J'aime aussi la commande donn√©e (rlwrap cat | cu -l / dev / ttyACM0) car elle vous permet de communiquer facilement avec le microcontr√¥leur en mode interactif (bien que dans ce cas ce ne soit pas n√©cessaire).  Il existe certainement de meilleurs outils √† cet effet, mais, malheureusement, je ne les connais pas. <br></div></div><br>  Dans une autre fen√™tre de terminal, vous pouvez regarder ce fichier en temps r√©el: <br><br><pre> <code class="hljs pgsql">tail -f sensor_.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span></code> </pre> <br>  Il se trouve une telle feuille de chiffres: <br><br><pre> <code class="hljs erlang">... <span class="hljs-number"><span class="hljs-number">1188</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> <span class="hljs-number"><span class="hljs-number">1188</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> <span class="hljs-number"><span class="hljs-number">1190</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> <span class="hljs-number"><span class="hljs-number">1191</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> <span class="hljs-number"><span class="hljs-number">1192</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> <span class="hljs-number"><span class="hljs-number">1193</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> <span class="hljs-number"><span class="hljs-number">1195</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> ...</code> </pre> <br>  Chaque ligne contient CO2, T, S, U (U est r√©p√©t√© deux fois - comme deux octets et un nombre √† deux octets, ne demandez pas pourquoi). <br><br>  Vous pouvez maintenant cr√©er des graphiques.  Je vais le faire avec ipython --pylab. <br><br><pre> <code class="python hljs">y = map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a: map(int, a.split()), open(<span class="hljs-string"><span class="hljs-string">"sensor1.log"</span></span>, <span class="hljs-string"><span class="hljs-string">"r"</span></span>).readlines()) <span class="hljs-comment"><span class="hljs-comment">#     ,     ,    yt = transpose(y) x = arange(len(yt[0])) / 720. #    ,        figure() plot(x, yt[0]) # CO2 figure(); plot(x, yt[1], "g"); # T figure(); plot(x, yt[2], "r"); # S figure(); plot(x, yt[-1], "m"); # U</span></span></code> </pre><br></div></div><br>  Ainsi, le graphique CO2: <br><img src="https://habrastorage.org/files/bb5/58b/958/bb558b958d4b484c9b70307c3f05d8e1.png"><br>  En principe, cela semble √™tre vrai.  Tristes √©clats seulement p√©riodiques.  Il semble que ce soit parce que le capteur est simplement pos√© sur la table, et √† la moindre brise ses lectures sont perdues. <br><br>  Temp√©rature: <br><img src="https://habrastorage.org/files/793/05e/1be/79305e1be11a4a69a29ef67608b2ad47.png"><br>  Le moment o√π j'ai ouvert la fen√™tre est clairement visible.  Pivote de 1 √† 2 degr√©s, ce qui n'est pas mauvais pour une opportunit√© non document√©e.  Cependant, si nous rappelons le principe du capteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NDIR</a> , nous pouvons comprendre qu'il ne faut pas s'attendre √† une grande pr√©cision du thermom√®tre int√©gr√©.  Ces instruments mesurent l'absorption de la lumi√®re dans l'infrarouge lointain, et la bonne vieille ampoule d'Ilyich est utilis√©e pour g√©n√©rer cette lumi√®re, et vous pouvez m√™me voir √† travers les fen√™tres comment elle s'allume toutes les cinq secondes (un tel moment est pris sur le KDPV).  Et cette ampoule consomme beaucoup d'√©nergie et, par cons√©quent, chauffe tout le capteur, et combien elle le chauffe d√©pend de la conjoncture momentan√©e des flux d'air. <br><br>  Nous abordons les plus int√©ressants.  Valeur S: <br><img src="https://habrastorage.org/files/739/510/7bd/7395107bd5e94483a0e746cfe94c3580.png"><br>  Ne dit rien?  Moi aussi.  Avec chagrin, nous dessinons CO2 et S sur le m√™me graphique et augmentons l√©g√®rement: <br><img src="https://habrastorage.org/files/c34/f9d/634/c34f9d63486441ae971fc9b76de17566.png"><br>  Ouais!  Maintenant, tout est clair!  Lorsque tout va bien, S est 64, et lorsque le capteur de CO2 commence √† faire des saucisses, il tombe √† 4. Ainsi, vous pouvez utiliser S pour savoir √† quel point le capteur se sent bien et √† quel point ses lectures sont pr√©cises. <br><br>  Il reste, comme disent les parachutistes, la valeur extr√™me est U: <br><img src="https://habrastorage.org/files/75f/af7/b52/75faf7b522b840968649ca3163900f4a.png"><br>  Malheureusement, une astuce de superposition ne fait pas grand-chose ici.  Il est seulement visible que, comme promis par revspace, il est au d√©but √©gal √† 15 000, puis tombe √† un peu plus de 10 000 (mais il peut tomber un peu apr√®s longtemps).  Et une fois par jour, le cycle se r√©p√®te. <br><br>  Mais quand j'ai connect√© la puissance du capteur non pas √† 5, mais √† 3,3 volts d'arduino, la situation a chang√©: <br><img src="https://habrastorage.org/files/3f6/765/09e/3f676509e04e4530a0e96794c5aff651.png"><br>  3,3 volts sur l'arduino proviennent de la puce LP2985, qui est un stabilisateur lin√©aire de 160 milliamp√®res.  Et l'ampoule, √† en juger par les articles sur Internet, mange √† peu pr√®s autant.  En regardant le capteur, il est √† noter que l'ampoule avec cette alimentation s'embrase plus longtemps qu'√† cinq volts.  Et la valeur de U est une fois et demie plus √©lev√©e. <br><br>  L'hypoth√®se suivante √©merge - le capteur d√©termine automatiquement le temps qu'il faut pour allumer l'ampoule pour obtenir suffisamment de rayonnement infrarouge, et s'il n'y a pas assez de courant, il br√ªle l'ampoule plus longtemps.  Et la valeur de U refl√®te simplement le temps de combustion de l'ampoule (ou une autre valeur associ√©e, par exemple, l'√©nergie d√©pens√©e). <br><br>  Pour tester cette hypoth√®se, nous alimentons le capteur √† partir d'une batterie lithium-ion, qui peut √©videmment produire un courant beaucoup plus important: <br><img src="https://habrastorage.org/files/4de/df5/1cc/4dedf51cc236498787bec68a5673b17a.png"><br>  En effet, U tombe parfois en dessous de 10 000!  Cependant, ce n'est √©videmment pas une preuve absolue, et apr√®s 24 heures, tout devient presque le contraire.  L'hypoth√®se n'est donc qu'une hypoth√®se, mais je n'ai rien trouv√© de mieux. <br><br>  <b>UPD:</b> Cher <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">unsvp a</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©solu l'</a> √©nigme de la valeur U. Je lui donne la parole: <br><br><blockquote>  la valeur de U est √©videmment la valeur minimale de l'absorption mesur√©e d'IR CO2 par jour, dans certaines unit√©s de mesure internes. <br></blockquote><br>  Rien √† ajouter, sauf que le planning: <br><img src="https://habrastorage.org/files/a10/338/7ce/a103387ce60f4df38695e4842a06feae.png"><br>  Pourquoi n‚Äôy ai-je pas pens√© moi-m√™me?  Tout est simple.  J'ai dessin√© un graphique de quatre valeurs √† la fois et je me suis install√© l√†-dessus.  Mais il √©tait n√©cessaire de tirer deux quantit√©s (comme dans l'image ci-dessus), puis les d√©chets √©trangers face √† la magnitude S n'interf√©reraient pas avec la perception.  Ne r√©p√©tez pas mes erreurs. <br><br>  J'ajouterai peut-√™tre ceci: voyez-vous une √©tape sup√©rieure √† 1000 ppm √† 48 heures?  Ce capteur est ainsi calibr√© automatiquement.  Dans ce cas, la valeur de U a chut√© par rapport √† ce qu'elle √©tait avant l'√©talonnage.  Alors qu'il est √©vident que la concentration r√©elle de CO2 durant cette p√©riode n'a fait qu'augmenter.  La conclusion de ceci est tr√®s simple - la valeur U n'est pas une valeur d'absorption tr√®s ¬´brute¬ª, mais est calcul√©e d√©j√† ajust√©e pour l'√©talonnage actuel, repr√©sentant apparemment une certaine diff√©rence dans les lectures minimales dans les cycles d'√©talonnage actuels et pr√©c√©dents. <br><br>  En g√©n√©ral, √† mon avis, l'auto-√©talonnage (au moins sous la forme sous laquelle il est impl√©ment√© dans le MH-Z19) est mauvais.  Revspace indique qu'il peut √™tre d√©sactiv√© √† l'aide de la commande d'activation / d√©sactivation de la logique 0x79: ABC. <br><br>  <b>/ UPD</b> <br><br>  Eh bien, avec une √©quipe tri√©e.  Il est temps d'aller plus loin, puis l'article touche √† sa fin, et 255 autres √©quipes n'ont pas √©t√© test√©es! <br><br>  Dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'article revspace, la</a> liste des commandes test√©es se termine comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">suit</a> : <br><br><blockquote>  commande 0x89-0x8F <br>  Aucune r√©ponse n'est retourn√©e, cependant la commande 0x8d semble r√©initialiser le capteur. <br><br>  commande 0x99 (plage) <br>  ... </blockquote><br>  De plus, les √©quipes avec des nombres inf√©rieurs ne sont pas toutes v√©rifi√©es.  Ainsi, il reste un peu plus de la moiti√© du nombre total d'√©quipes inconnues. <br><br>  Sans plus tarder, j'ai d√©cid√© de donner des commandes au hasard (plus pr√©cis√©ment, de fa√ßon pseudo-al√©atoire).  Et voici ce que j'ai obtenu: <br><br><pre> <code class="hljs perl">... Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">47</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">208</span></span> Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CRC: <span class="hljs-number"><span class="hljs-number">00</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0 Command: 255 1 17 0 0 0 0 0 238 Response: 0 0 0 0 0 0 0 0 0 CRC: 00 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0 Command: 255 1 45 0 0 0 0 0 210 Response: 0 0 0 0 0 0 0 0 0 CRC: 00 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">250</span></span> Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CRC: <span class="hljs-number"><span class="hljs-number">00</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0 Command: 255 1 88 0 0 0 0 0 167 Response: 0 0 0 0 0 0 0 0 0 CRC: 00 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0 Command: 255 1 245 0 0 0 0 0 10 Response: 0 0 0 0 0 0 0 0 0 CRC: 00 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">107</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">148</span></span> Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CRC: <span class="hljs-number"><span class="hljs-number">00</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0 Command: 255 1 214 0 0 0 0 0 41 Response: 0 0 0 0 0 0 0 0 0 CRC: 00 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0 Command: 255 1 136 0 0 0 0 0 119 Response: 0 0 0 0 0 0 0 0 0 CRC: 00 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">248</span></span> Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CRC: <span class="hljs-number"><span class="hljs-number">00</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0 Command: 255 1 153 0 0 0 0 0 102 Response: 255 153 1 0 0 0 0 0 102 CRC: 102102 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 256 0 0 0 Command: 255 1 146 0 0 0 0 0 109 Response: 0 0 0 0 0 0 0 0 0 CRC: 00 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">72</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">183</span></span> Response: <span class="hljs-number"><span class="hljs-number">96</span></span> <span class="hljs-number"><span class="hljs-number">249</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">211</span></span> <span class="hljs-number"><span class="hljs-number">215</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">215</span></span> <span class="hljs-number"><span class="hljs-number">204</span></span> CRC: <span class="hljs-number"><span class="hljs-number">159204</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 723 215 212 4567 Command: 255 1 51 0 0 0 0 0 204 Response: 93 151 80 143 212 255 255 255 217 CRC: 185217 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 20623 212 255 -1 Command: 255 1 98 0 0 0 0 0 157 Response: 16 136 252 75 66 50 48 48 13 CRC: 9313 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: -<span class="hljs-number"><span class="hljs-number">949</span></span> <span class="hljs-number"><span class="hljs-number">66</span></span> <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">12336</span></span> Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">65</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">190</span></span> Response: <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CRC: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0 Command: 255 1 243 0 0 0 0 0 12 Response: 0 0 0 0 0 0 0 0 0 CRC: 0 0 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0 Command: 255 1 13 0 0 0 0 0 242 Response: 0 0 0 0 0 0 0 0 0 CRC: 0 0 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">35</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">220</span></span> Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CRC: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0 Command: 255 1 229 0 0 0 0 0 26 Response: 0 0 0 0 0 0 0 0 0 CRC: 0 0 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0 Command: 255 1 95 0 0 0 0 0 160 Response: 0 0 0 0 0 0 0 0 0 CRC: 0 0 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">48</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">207</span></span> Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CRC: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0 Command: 255 1 209 0 0 0 0 0 46 Response: 0 0 0 0 0 0 0 0 0 CRC: 0 0 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0 Command: 255 1 200 0 0 0 0 0 55 Response: 0 0 0 0 0 0 0 0 0 CRC: 0 0 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> ...</code> </pre> <br>  Ici, la commande est ce qui a √©t√© envoy√© au capteur (le num√©ro de commande lui-m√™me est le troisi√®me nombre depuis le d√©but), la r√©ponse est ce que le capteur a r√©pondu, vous ne pouvez pas regarder le reste (CRC est la somme de contr√¥le calcul√©e / r√©elle, CO2 / t / s / u est le r√©sultat de la panne r√©ponse du capteur √† quatre chiffres, comme s'il r√©pondait √† une commande "par d√©faut"). <br><br>  Comme vous pouvez le voir, pas beaucoup.  De plus, √† un moment donn√©, le capteur a compl√®tement refus√© de donner autre chose que des z√©ros.  La derni√®re chose que j'ai re√ßue du capteur √©tait: <br><br><pre> <code class="hljs perl">Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">134</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">121</span></span> Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CRC: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0 Command: 255 1 130 0 0 0 0 0 125 Response: 242 98 200 201 207 216 178 130 33 CRC: 50 33 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: -14135 207 216 -19838 Command: 255 1 134 0 0 0 0 0 121 Response: 204 91 151 80 143 212 255 255 236 CRC: 93 236 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: -<span class="hljs-number"><span class="hljs-number">26800</span></span> <span class="hljs-number"><span class="hljs-number">143</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span> -<span class="hljs-number"><span class="hljs-number">1</span></span> Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">55</span></span> Response: <span class="hljs-number"><span class="hljs-number">181</span></span> <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-number"><span class="hljs-number">252</span></span> <span class="hljs-number"><span class="hljs-number">77</span></span> <span class="hljs-number"><span class="hljs-number">79</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">66</span></span> <span class="hljs-number"><span class="hljs-number">85</span></span> <span class="hljs-number"><span class="hljs-number">83</span></span> CRC: <span class="hljs-number"><span class="hljs-number">241</span></span> <span class="hljs-number"><span class="hljs-number">83</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: -947 79 68 16981 Command: 255 1 134 0 0 0 0 0 121 Response: 13 10 0 0 0 0 0 0 0 CRC: 246 0 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0 Command: 255 1 216 0 0 0 0 0 39 Response: 0 0 0 0 0 0 0 0 0 CRC: 0 0 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  Et puis des z√©ros.  J'ai essay√© d'entrer des commandes s√©quentiellement, en commen√ßant par 0x8e - encore des z√©ros.  J'ai essay√© de donner la commande "standard" 0x86 - z√©ros.  Ai-je tu√© le capteur?  En v√©rit√©, toutes les conditions sont r√©unies - j'entre de petites commandes non document√©es, donc je connecte √©galement l'interface du capteur directement √† l'arduine cinq volts, bien que la fiche technique indique explicitement qu'elle est con√ßue pour 3,3 volts. <br><br>  Tout d'abord, j'ai essay√© la bonne vieille recette de tout enikeyshchik - √©teignez-la et rallumez-la.  Autrement dit, il l'a sorti et l'a coll√© au capteur plus la puissance avec tout le reste fonctionnant.  Le capteur a produit approximativement les m√™mes que dans le dernier passage cit√© (mais avec des nombres l√©g√®rement diff√©rents).  Oui, cela signifie que le capteur n'est pas compl√®tement mort et dit quelque chose √† chaque d√©marrage, a devin√© les shtirlits. <br><br>  Ensuite, j'ai donn√© un peu plus √† mon cerveau et j'ai devin√© m√™me avant une v√©rit√© - ces z√©ros que nous avons vu ci-dessus ne sont pas du tout la r√©ponse du capteur.  En fait, le capteur est silencieux et mon programme tire ce que la fonction Arduin de r√©ception de n octets a donn√© (pour dire des z√©ros).  Et si √† chaque fois avant la r√©ception pour s'assurer qu'il y a quelque chose √† prendre, il s'av√®re qu'il n'y a rien √† accepter.  Sauf dans les cas o√π le capteur vient de red√©marrer. <br><br>  Il s'av√®re que le capteur a compl√®tement cess√© d'accepter les commandes.  Apparemment, 5 volts sur l'interface s√©rie n'√©taient pas vains.  Oui, l'article n'a pas demand√© en quelque sorte.  Merci √† tous pour votre attention.  Nous ne sommes pas d'accord, il n'y a rien √† regarder. <br><br>  Oh attends ... <br><br>  Voir ces chiffres √† la fin? <br><br><pre> <code class="hljs">13 10</code> </pre> <br>  √áa ne ressemble √† rien? <br><br>  Bien s√ªr, c'est un bon vieux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fil de ligne</a> !  En d'autres termes, 0x0D 0x0A - c'est la fa√ßon de traduire une cha√Æne, par exemple, sur Windows (et sur Unix, c'est plus facile - 0x0A, car certains fichiers perdent des sauts de ligne lorsqu'ils sont ouverts dans un bloc-notes Windows). <br><br>  Alors peut-√™tre que le capteur veut nous dire quelque chose en langage humain?  Cependant, si cette langue est le chinois, cela ne m'aidera pas beaucoup.  Esp√©rons donc qu'il s'agit d'un langage plus compr√©hensible, et d√©codons le message selon la table <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ASCII</a> : <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> reduce(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a, b: a + b, map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a: chr(int(a)), <span class="hljs-string"><span class="hljs-string">"255 255 255 250 24 220 207 254 77 79 68 66 85 83 13 10"</span></span>.split()))         MODBUS</code> </pre> <br>  Re√ßu jusqu'√† six lettres.  Et voici ce que le m√™me capteur a dit lors du chargement un peu plus t√¥t: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> reduce(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a, b: a + b, map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a: chr(int(a)), <span class="hljs-string"><span class="hljs-string">"96 249 2 211 215 212 17 215 204 93 151 80 143 212 255 255 255 217 16 136 252 75 66 50 48 48 13 10 "</span></span>.split())) `        ] P         KB200</code> </pre> <br>  La diff√©rence est √©vidente - la ligne KB200 est devenue la ligne MODBUS.  Le reste - il semble que ce ne soit pas du tout du texte, pas m√™me des caract√®res chinois - ne serait-ce que parce que la plupart d'entre eux changent de temps en temps. <br><br>  Alors, que nous dit le capteur?  √Ä la demande de KB200, une recherche sur Internet produit un clavier, un √©chantillonneur de base, un fer √† repasser, une table √† langer, un contr√¥leur pour contr√¥ler les cam√©ras PTZ, un m√©langeur, sauf un chauve.  Eh bien, mais on ne sait pas comment appliquer ces connaissances √† notre cas.  Eh bien, recherchons MODBUS.  Cette fois, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikip√©dia</a> est √† notre service: <br><br><blockquote>  Modbus est un protocole de communication ouvert bas√© sur l'architecture ma√Ætre-esclave.  Il est largement utilis√© dans l'industrie pour organiser les communications entre les appareils √©lectroniques.  Il peut √™tre utilis√© pour transmettre des donn√©es via des lignes de communication s√©rie RS-485, RS-422, RS-232, ainsi qu'un r√©seau TCP / IP (Modbus TCP). </blockquote><br>  L'hypoth√®se elle-m√™me se sugg√®re - apr√®s l'une des commandes non document√©es, le capteur est pass√© au protocole Modbus et maintenant il nous en informe en utilisant les m√©thodes disponibles.  Puisqu'aucune autre option n'est pr√©vue, nous allons tester directement cette hypoth√®se, c'est-√†-dire, essayons de contacter le capteur via Modbus. <br><br>  Sur Internet, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">impl√©mentation</a> Modbus pour les arduins a √©t√© trouv√©e.  Mais c'est une malchance - Arduino Leonardo n'est pas pris en charge, mais j'ai par hasard monstrueux juste Leonardo. <br><br>  Mais, comme je m'en suis vite rendu compte, c'est m√™me pour le mieux.  Le protocole Modbus est aussi simple que trois centimes.  Et d'ailleurs douloureusement similaire au protocole "natif" MH-Z19.  Alors, pourquoi faire glisser des choses d√©sagr√©ables sur Internet et le comprendre douloureusement lorsque vous pouvez mettre en ≈ìuvre tout ce dont vous avez besoin en deux minutes (enfin, deux heures) vous-m√™me? <br><br>  Donc, plus t√¥t, nous, voulant conna√Ætre les lectures, avons demand√© au capteur de les √©mettre comme suit: <br><br><pre> <code class="hljs">0xFF, 0x01, 0x86, 0x00, 0x00, 0x00, 0x00, 0x00, 0x79</code> </pre> <br>  Ou en d√©cimal: <br><br><pre> <code class="hljs">255, 1, 134, 0, 0, 0, 0, 0, 121</code> </pre> <br>  O√π 255 est le nombre magique, 1 est l'adresse du capteur, 134 est la commande, 121 est l'octet de la somme de contr√¥le. <br><br>  Et √† quoi cela ressemblera-t-il dans Modbus?  Il n'y aura pas de correspondance exacte, mais vous pouvez par exemple faire ceci: <br><br><pre> <code class="hljs">1, 4, 0, 0, 0, 4, 213, 197</code> </pre> <br>  1 - adresse du capteur. <br><br>  4 - num√©ro d'√©quipe.  Les commandes dans Modbus peuvent √™tre compt√©es sur les doigts, et jusqu'√† pr√©sent, nous ne nous int√©resserons qu'√† deux d'entre elles - 3 et 4. Pour des raisons cach√©es dans l'obscurit√© des si√®cles, elles sont appel√©es lire plusieurs registres de maintien et lire les registres d'entr√©e, mais en fait, ils donnent une commande pour lire une donn√©e le nombre de nombres √† deux octets √† une adresse donn√©e.  La commande 3 lit les nombres disponibles pour la lecture / l'√©criture et la commande 4 lit uniquement. <br><br>  0, 0 est l'adresse que nous allons lire (dans ce cas, 0).  Si vous d√©finissez la m√™me adresse avec une √©quipe de 3 ou 4, nous obtiendrons g√©n√©ralement des r√©sultats diff√©rents. <br><br>  0, 4 - le nombre de nombres que nous voulons lire (dans ce cas 4).  Il y a un moment amusant ici.  Bien que vous puissiez sp√©cifier ce nombre jusqu'√† 65535, en fait, le protocole vous permet de lire pas plus de 125 nombres √† la fois.  Et tout cela parce que la r√©ponse indique le nombre d'octets des informations envoy√©es, et elle ne prend qu'un seul octet (et les nombres sont sur deux octets).  De plus, si je comprends bien, la longueur de la r√©ponse elle-m√™me est limit√©e √† 255 octets. <br><br>  213, 197 - deux octets d'une somme de contr√¥le ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CRC16</a> ).  En g√©n√©ral, c'est le moment le plus difficile de toute notre mise en ≈ìuvre.  En v√©rit√©, je n'ai m√™me pas explor√© comment cela est consid√©r√©, mais j'ai simplement copi√© le code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'ici</a> .  Puisqu'il y a une mer de diff√©rents CRC16, il faut aborder de mani√®re responsable le choix de la fonction.  Vous pouvez v√©rifier si une fonction particuli√®re convient √† Modbus, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  En fait, c'est tout ce que nous devons savoir sur Modbus.  Au moins pour commencer. <br><br>  Bien que vous ayez longtemps devin√© que mon appel au MH-Z19 sur Modbus √©tait un succ√®s, mais supposons que l'intrigue persiste.  Jusqu'√† pr√©sent, nous ne savons m√™me pas quelle est l'adresse de notre capteur (bien que "dans l'original" c'est 1, c'est loin d'√™tre le m√™me sur Modbus).  Donc, vous devez r√©p√©ter la commande avec diff√©rentes adresses (et il n'y en a que 255) et voir √† quoi notre capteur va r√©pondre: <br><br><pre> <code class="hljs vbscript">... Command: <span class="hljs-number"><span class="hljs-number">254</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">213</span></span> <span class="hljs-number"><span class="hljs-number">197</span></span> CRC: <span class="hljs-number"><span class="hljs-number">213</span></span> <span class="hljs-number"><span class="hljs-number">197</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> CRC: <span class="hljs-number"><span class="hljs-number">212</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: Command: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> CRC: <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">202</span></span> CRC: <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">202</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: Command: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">249</span></span> CRC: <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">249</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">132</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">194</span></span> <span class="hljs-number"><span class="hljs-number">193</span></span> Command: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span> CRC: <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: Command: <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">159</span></span> CRC: <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">159</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: ...</code> </pre> <br>  Il semble que l'adresse soit 2. Je r√©p√®te plusieurs commandes avec l'adresse 2 - il n'y a pas de r√©ponse.  Je change l'adresse en 1 - il y a une r√©ponse!  Ainsi, l'adresse du capteur est la m√™me qu'elle √©tait - 1. <br><br>  Et pourquoi le passage 2 a-t-il obtenu l'adresse 2?  Ici encore, l'hindunisme de mon code rampe.  Apr√®s avoir √©mis la commande, je v√©rifie s'il y a des octets √† recevoir.  Mais comme je le fais tout de suite, le capteur n'a pas le temps d'envoyer quoi que ce soit, donc la r√©ponse du capteur n'est accept√©e par le programme qu'au cycle suivant.  Comme vous pouvez le voir dans le journal donn√© - le premier num√©ro de la r√©ponse est 1, et il indique simplement l'adresse du capteur.  J'ai contourn√© ce probl√®me en ajoutant simplement un d√©lai de 50 millisecondes avant de recevoir une r√©ponse. <br><br>  Consid√©rez la r√©ponse du capteur √† notre commande: <br><br><pre> <code class="hljs">1 132 2 194 193</code> </pre> <br>  1 - comme nous l'avons d√©j√† d√©couvert - l'adresse du capteur. <br><br>  132 - code de commande et code d'erreur.  S'il n'y avait pas d'erreur, ce nombre serait le m√™me que la commande envoy√©e - c'est-√†-dire 4. Mais une erreur s'est produite, comme indiqu√© par le bit le plus significatif mis √† 1, donc le nombre est devenu 4 + 128 = 132. Par cons√©quent, soit dit en passant, une commande dans Modbus ne peut pas avoir un nombre sup√©rieur √† 127 - pour une telle commande, le code de r√©ussite serait le m√™me que le code d'erreur. <br><br>  2 - code d'erreur.  Dit exactement quelle erreur s'est produite.  Comme le dit Wikipedia, 02 - L'adresse de donn√©es sp√©cifi√©e dans la demande n'est pas disponible.  Donc, il n'y a pas de poisson √† cette adresse et il n'y a rien √† attraper.  Nous essaierons d'autres adresses. <br><br>  194 193 - CRC16. <br><br>  Maintenant, enfin, il est temps de gratter l'espace d'adressage du capteur pour comprendre o√π se trouve le poisson.  Je l'ai fait simplement - j'ai envoy√© une commande pour lire un num√©ro avec une nouvelle adresse toutes les 0,1 secondes.  √âtant donn√© que les adresses sont 65536, ce processus se termine dans environ deux heures.  Les r√©sultats sont bri√®vement les suivants: <br><br>  Commande 1 (lecture des bobines) - erreur 2 avec n'importe quelle adresse. <br>  Commande 2 (lecture des entr√©es discr√®tes) - avec toute erreur d'adresse 2. <br>  Commande 4 (lecture des registres d'entr√©e) - erreur 2 avec n'importe quelle adresse. <br>  √âquipe 3 (lire plusieurs registres de d√©tention) - donne du succ√®s aux adresses de 0 √† 289. <br>  Les commandes d'√©criture de valeurs (par exemple, 6) semblent fonctionner, mais il semble que la valeur enregistr√©e soit bient√¥t remplac√©e par ce qu'elle √©tait.  Mais je n'ai pas √©tudi√© cette question de pr√®s. <br><br>  Ainsi, le cercle de recherche se r√©tr√©cit - nous avons besoin de nombres √† la commande 3 et d'adresses de 0 √† 289. L'id√©e du monde int√©rieur riche du capteur peut √™tre obtenue √† partir de ces lignes: <br><br><pre> <code class="hljs vbscript">Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">58</span></span> CRC: <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">58</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">158</span></span> <span class="hljs-number"><span class="hljs-number">124</span></span> Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">69</span></span> <span class="hljs-number"><span class="hljs-number">238</span></span> CRC: <span class="hljs-number"><span class="hljs-number">69</span></span> <span class="hljs-number"><span class="hljs-number">238</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">69</span></span> <span class="hljs-number"><span class="hljs-number">210</span></span> CRC: <span class="hljs-number"><span class="hljs-number">69</span></span> <span class="hljs-number"><span class="hljs-number">210</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">73</span></span> <span class="hljs-number"><span class="hljs-number">82</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">153</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">177</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">196</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">214</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">232</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">250</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">137</span></span> <span class="hljs-number"><span class="hljs-number">122</span></span> Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> CRC: <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">232</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">90</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">63</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">232</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">163</span></span> <span class="hljs-number"><span class="hljs-number">198</span></span></code> </pre> <br>  Il est vrai que les num√©ros ont √©t√© enregistr√©s dans l'archive uniquement √† l'adresse 255. Ici encore, 1 3 est l'adresse et la commande, 128 est le nombre d'octets transf√©r√©s, deux octets √† la fin sont CRC, et tout le reste est le contenu de la m√©moire. <br><br>  De toute cette splendeur, nous nous int√©ressons √©videmment aux adresses dont le contenu change avec le temps.  Et ici, le capteur s'est av√©r√© √™tre deux nouvelles pour moi - bonnes et mauvaises.  Bon - il y a de telles adresses.  Et le mauvais - il n'y en a que deux - 261 et 264. Comparez avec la ¬´vie pass√©e¬ª, quand quatre chiffres √©taient donn√©s sur une seule commande √† la fois!  J'ai d√©j√† roul√© ma l√®vre - je pensais avoir acc√®s √† toutes les variables internes.  Eh bien, deux donc deux. <br><br>  Il est temps de construire √† nouveau des graphiques! <br><br>  Valeur √† l'adresse 261: <br><img src="https://habrastorage.org/files/e92/388/2e5/e923882e53d54fa382b6a110a0fda313.png"><br>  Cela ressemble √† une concentration de CO2.  On peut le voir lorsque j'ai essay√© de respirer sur le capteur.  Certes, la valeur minimale est sensiblement inf√©rieure √† la "r√©f√©rence" 400 ppm, donc l'√©talonnage laisse beaucoup √† d√©sirer.  D'une mani√®re ou d'une autre, le capteur est d√©clar√© ressuscit√©. <br><br>    264: <br><img src="https://habrastorage.org/files/c7f/588/0a0/c7f5880a047c4b5bb3e3767579824987.png"><br>   ,      . <br><br>      : <br><img src="https://habrastorage.org/files/281/22a/172/28122a1724d7413ca57b665d6c705a5d.png"><br>    ‚Äî  ,     ‚Äî      ¬´¬ª ,               2?  ,           ,   ,       .     (   )      . <br><br>       ‚Äî     MH-Z19   . ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr401363/">https://habr.com/ru/post/fr401363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr401353/index.html">Les scientifiques ont cr√©√© un capteur compact pour le diagnostic du virus de la grippe</a></li>
<li><a href="../fr401355/index.html">Et √† ce moment</a></li>
<li><a href="../fr401357/index.html">CTRL Le Robot - de l'atelier √† la table</a></li>
<li><a href="../fr401359/index.html">Les adresses IP Ping en tant qu'outil universel des sciences sociales</a></li>
<li><a href="../fr401361/index.html">Bienvenue √† Alcatraz: l'une des plus grandes installations d'√©nergie distribu√©e aux √âtats-Unis</a></li>
<li><a href="../fr401367/index.html">Le livre "Programmation Arduino. Travail professionnel avec croquis "</a></li>
<li><a href="../fr401369/index.html">Courte critique du smartphone ASUS ZenFone 3 Max</a></li>
<li><a href="../fr401371/index.html">Analyse des ensembles de donn√©es du portail de donn√©es ouvertes data.gov.ru</a></li>
<li><a href="../fr401375/index.html">Recherche: le sommeil est n√©cessaire pour oublier</a></li>
<li><a href="../fr401379/index.html">Simulation virtuelle 3D de navires pour la marine russe - sommes-nous √† la pointe de l'informatique?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>