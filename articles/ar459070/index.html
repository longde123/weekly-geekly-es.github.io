<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉโ๐งโ๐ง ๐ธ ๐๐ผ ุฅูุดุงุก ุจุฑุฌ ุงูุฏูุงุน ูู ุงููุญุฏุฉ: ุฃุจุฑุงุฌ ูุฃุนุฏุงุก ุงูุฑูุงูุฉ ๐ ๐๏ธ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[ุงูุฌุฒุกุงู ุงูุฃูู ูุงูุซุงูู ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู] 



- ูุญู ูุถุน ูู ูุฌุงู ุงูุจุฑุฌ. 
- ูุญู ููุฏู ุฅูู ุฃุนุฏุงุก ุจูุณุงุนุฏุฉ ุงูููุฒูุงุก. 
- ูุญู ุชุชุจุน ููู ุจูููุง ูุงู ุฐูู ููููุง....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅูุดุงุก ุจุฑุฌ ุงูุฏูุงุน ูู ุงููุญุฏุฉ: ุฃุจุฑุงุฌ ูุฃุนุฏุงุก ุงูุฑูุงูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459070/" style=";text-align:right;direction:rtl">  [ุงูุฌุฒุกุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃูู</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงูุซุงูู</a> ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู] <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญู ูุถุน ูู ูุฌุงู ุงูุจุฑุฌ. </li><li style=";text-align:right;direction:rtl">  ูุญู ููุฏู ุฅูู ุฃุนุฏุงุก ุจูุณุงุนุฏุฉ ุงูููุฒูุงุก. </li><li style=";text-align:right;direction:rtl">  ูุญู ุชุชุจุน ููู ุจูููุง ูุงู ุฐูู ููููุง. </li><li style=";text-align:right;direction:rtl">  ูุญู ุงุทูุงู ุงููุงุฑ ุนูููู ูุน ุดุนุงุน ุงูููุฒุฑ. </li></ul><br>  ูุฐุง ูู ุงูุฌุฒุก ุงูุซุงูุซ ูู ุณูุณูุฉ ูู ุงูุฏุฑูุณ ุญูู ุฅูุดุงุก ููุน ุจุณูุท ูู ุจุฑุฌ ุงูุฏูุงุน.  ููุตู ุฅูุดุงุก ุงูุฃุจุฑุงุฌ ุ ูุชูุฏู ุฅูู ุฅุทูุงู ุงููุงุฑ ุนูู ุงูุฃุนุฏุงุก. <br><br>  ุชู ุฅูุดุงุก ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูู ุงููุญุฏุฉ 2018.3.0f2. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/470/ceb/183/470ceb1832b49ee7372fb79b8425b567.jpg" width="512" height="256"></div><br>  <i>ุฏุนููุง ุชุณุฎูู ุงูุฃุนุฏุงุก.</i> <br><br><h2 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุจุฑุฌ </h2><br>  ุงูุฌุฏุฑุงู ุชุจุทุฆ ุงูุฃุนุฏุงุก ููุท ุ ูุชุฒูุฏ ูู ุทูู ุงููุณุงุฑ ุงูุฐู ูุญุชุงุฌูู ุฅููู.  ููู ุงููุฏู ูู ุงููุนุจุฉ ูู ุชุฏููุฑ ุงูุฃุนุฏุงุก ูุจู ุจููุบูู ุงูููุทุฉ ุงูุฃุฎูุฑุฉ.  ูุชู ุญู ูุฐู ุงููุดููุฉ ุนู ุทุฑูู ูุถุน ุงูุฃุจุฑุงุฌ ูู ุงูุญูู ุงูุฐู ุณูุทูู ุนูููู ุงููุงุฑ. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ุจูุงุท ุงููุญุชูู </h3><br>  ุงูุฃุจุฑุงุฌ ูู ููุน ุขุฎุฑ ูู ูุญุชูู ุงูุชุฌุงูุจ ุ ูุฐูู <code>GameTileContent</code> ูุถูู ุฅุฏุฎุงููุง ุฅูููู ูู <code>GameTileContent</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> GameTileContentType { Empty, Destination, Wall, SpawnPoint, Towerโฌ }</code> </pre> <br>  ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ุณูุฏุนู ููุนูุง ูุงุญุฏูุง ููุท ูู ุงูุจุฑุฌ ุ ูุงูุฐู ูููู ุชูููุฐู ูู ุฎูุงู ุชุฒููุฏ <code>GameTileContentFactory</code> ูุงุญุฏ ุฅูู ุงูุจุฑุฌ ุงูุฌุงูุฒ ุ ูุงูุฐู ูููู ุฃูุถูุง ุฅูุดุงุก ูุซูู ูู ุนุจุฑ <code>Get</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] GameTileContent towerPrefab = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTileContent </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTileContentType type</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (type) { โฆ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GameTileContentType.Towerโฌ: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Get(towerPrefab); } โฆ }</code> </pre> <br>  ูููู ูุฌุจ ุฅุทูุงู ุงููุงุฑ ุนูู ุงูุฃุจุฑุงุฌ ุ ูุฐูู ุณุชุญุชุงุฌ ุญุงูุชูู ุฅูู ุงูุชุญุฏูุซ ููุญุชุงุฌูู ุฅูู ููุฏูู ุงูุฎุงุต.  ุฅูุดุงุก ูุฆุฉ <code>Tower</code> ููุฐุง ุงูุบุฑุถ ุงูุฐู ููุชุฏ ูุฆุฉ <code>GameTileContent</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Tower</span></span> : <span class="hljs-title"><span class="hljs-title">GameTileContent</span></span> {}</code> </pre> <br>  ููููู ุฌุนู ุงูุจุฑุฌ ุงูุฌุงูุฒ ูููููุง ุฎุงุตูุง ุจู ุนู ุทุฑูู ุชุบููุฑ ููุน ุญูู ุงููุตูุน ุฅูู <code>Tower</code> .  ูุธุฑูุง ูุฃู ุงููุตู ูุง ุฒุงู ูุนุชุจุฑ <code>GameTileContent</code> ุ ููุง ูุฌุจ ุชุบููุฑ ุฃู ุดูุก ุขุฎุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> Tower towerPrefab = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ููุฒู ุฌุงูุฒ </h3><br>  ุฅูุดุงุก ุงูุฌุงูุฒุฉ ููุจุฑุฌ.  ููููู ุงูุจุฏุก ูู ุฎูุงู ุชูุฑุงุฑ ุงูุฌุงูุฒุฉ ููุฌุฏุงุฑ ูุงุณุชุจุฏุงู ูููู <code>GameTileContent</code> ุงูุฎุงุต ุจู <code>GameTileContent</code> <code>Tower</code> ุ ุซู ุชุบููุฑ ููุนู ุฅูู <em>Tower</em> .  ูุฌุนู ุงูุจุฑุฌ ููุงุณุจูุง ููุฌุฏุฑุงู ุ ุงุญูุธ ููุนุจ ุงูุญุงุฆุท ููุงุนุฏุฉ ููุจุฑุฌ.  ุซู ุถุน ููุนุจ ุขุฎุฑ ูููู.  ุฃุนุทูุชู ูููุงุณ 0.5.  ุถุน ููุนุจูุง ุขุฎุฑ ุนููู ุ ูุดูุฑูุง ุฅูู ูุฌูุฏ ุจุฑุฌ ุ ูุฅู ูุฐุง ุงูุฌุฒุก ููุฏู ุฅูู ุฅุทูุงู ุงููุงุฑ ุนูู ุงูุฃุนุฏุงุก. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/392/e5d/633/392e5d63397672627c3b5ec018df0444.png" width="190" height="260"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d92/dec/c33/d92decc33036a1e973a7f20a3df2c00e.png" width="320" height="120"></div><br>  <i>ุซูุงุซุฉ ููุนุจุงุช ุชุดููู ุจุฑุฌ.</i> <br><br>  ุณูุชู ุชุฏููุฑ ุงูุจุฑุฌ ุ ููุฃูู ูุญุชูู ุนูู ูุตุงุฏู ุ ุณูุชู ุชุชุจุนู ุจูุงุณุทุฉ ูุญุฑู ูุนูู.  ููููุง ูุณูุง ุจุญุงุฌุฉ ุฅูู ุฃู ูููู ุฏููููู ููุบุงูุฉ ุ ูุฃููุง ูุณุชุฎุฏู ูุตุงุฏูุงุช ุงูุฃุจุฑุงุฌ ููุท ูุชุญุฏูุฏ ุงูุฎูุงูุง.  ููููู ุงูููุงู ุจุฐูู ุชูุฑูุจุง.  ูู ุจุฅุฒุงูุฉ ูุตุงุฏู ููุนุจ ุงูุจุฑุฌ ููู ุจุชุบููุฑ ูุตุงุฏู ููุนุจ ุงูุจุฑุฌ ุจุญูุซ ูุบุทู ููุง ููุนุจูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e01/11e/3b7/e0111e3b7221bbbe4e5b0d23373e4b3a.png" width="190" height="260"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a1f/857/09b/a1f85709bd504d176a18930240edea5a.png" width="320" height="152"></div><br>  <i>ูุตุงุฏู ุจุฑุฌ ุงูููุนุจ.</i> <br><br>  ุณูู ุจุฑุฌ ุงุทูุงู ุงููุงุฑ ุดุนุงุน ุงูููุฒุฑ.  ูููู ุชุตูุฑูุง ุจุนุฏุฉ ุทุฑู ุ ููููุง ูุณุชุฎุฏู ููุนุจูุง ุดูุงููุง ุ ูุณูุชูุณุน ูุชุดููู ุญุฒูุฉ.  ูุฌุจ ุฃู ูููู ููู ุจุฑุฌ ุดุนุงุน ุฎุงุต ุจู ุ ูุฐุง ุฃุถูู ุฅูู ุงูุจุฑุฌ ุงูุฌุงูุฒ.  ุถุนู ุฏุงุฎู ุงูุจุฑุฌ ุจุญูุซ ูุชู ุฅุฎูุงุคู ุงูุชุฑุงุถููุง ูููุญู ูููุงุณูุง ุฃุตุบุฑ ุ ุนูู ุณุจูู ุงููุซุงู 0.2.  ููุฌุนููุง ุทูููุง ูู ุงูุฌุฐุฑ ุงูุฌุงูุฒ ุ ูููุณ ููุนุจ ุงูุจุฑุฌ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/19a/1dc/29e/19a1dc29e70adb158e07f29653db2d66.png" width="190" height="260" alt="ุดุนุงุน ุงูููุฒุฑ"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/45a/273/081/45a273081365aa9e483f1aa97cbe39c8.png" width="226" height="108" alt="ุณูู"></div><br>  <i>ููุนุจ ุฎูู ูู ุดุนุงุน ุงูููุฒุฑ.</i> <br><br>  ุฅูุดุงุก ูุงุฏุฉ ููุงุณุจุฉ ูุดุนุงุน ุงูููุฒุฑ.  ููุฏ ุงุณุชุฎุฏูุช ุงููุงุฏุฉ ุงูุณูุฏุงุก ุงูุดูุงูุฉ ุงูููุงุณูุฉ ูุฃุทูุฃุช ุฌููุน ุงูุงูุนูุงุณุงุช ุ ูุฃุนุทูุชูุง ุฃูุถูุง ููููุง ุฃุญูุฑ ููุจุนุซ ูููุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/2fb/e49/860/2fbe498604cc4cc4ed6ee60a45eea63d.png" width="320" height="284" alt="ุงูููู"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0eb/b46/483/0ebb4648376a7fe68c96b7a16ce27db9.png" width="320" height="56" alt="ูุง ุชุฃููุงุช"></div><br>  <i>ุงูููุงุฏ ูู ุดุนุงุน ุงูููุฒุฑ.</i> <br><br>  ุชุฃูุฏ ูู ุฃู ุดุนุงุน ุงูููุฒุฑ ูุง ูุญุชูู ุนูู ูุตุงุฏู ุ ูุฃููู ุชุดุบููู ุฃูุถูุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ecf/f21/0ad/ecff210ad75ef4b12cb0a74102365492.png" width="320" height="162"></div><br>  <i>ุดุนุงุน ุงูููุฒุฑ ูุง ูุชูุงุนู ูุน ุงูุธูุงู.</i> <br><br>  ุจุนุฏ ุงูุงูุชูุงุก ูู ุฅูุดุงุก ุงูุจุฑุฌ ุงูุฌุงูุฒ ุ ุณูุถููู ุฅูู ุงููุตูุน. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/626/37c/935/62637c9353cf1e20e170e82bbefcdb11.png" width="320" height="114"></div><br>  <i>ูุตูุน ูุน ุจุฑุฌ.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ูุถุน ุจุฑุฌ </h3><br>  ุณูุถูู ููุฒูู ุงูุฃุจุฑุงุฌ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุชุญููู ุฃุฎุฑู.  ููููู ุจุจุณุงุทุฉ ุชูุฑุงุฑ <code>GameBoard.ToggleWall</code> ุนู ุทุฑูู ุชุบููุฑ ุงุณู ุงูุฃุณููุจ ูููุน ุงููุญุชูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToggleTower</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Towerโฌ) { tile.Content = contentFactory.Get(GameTileContentType.Empty); FindPaths(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Empty) { tile.Content = contentFactory.Get(GameTileContentType.Towerโฌ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!FindPaths()) { tile.Content = contentFactory.Get(GameTileContentType.Empty); FindPaths(); } } }</code> </pre> <br>  ูู <code>Game.HandleTouch</code> ุ ูุคุฏู ุงูุถุบุท ุจุงุณุชูุฑุงุฑ ุนูู ููุชุงุญ shift ุฅูู ุชุจุฏูู ุงูุฃุจุฑุงุฌ ุจุฏูุงู ูู ุงูุฌุฏุฑุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleTouch</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameTile tile = board.GetTile(TouchRay); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKey(KeyCode.LeftShift)) { board.ToggleTower(tile); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { board.ToggleWall(tile); } } }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/926/804/2ac/9268042acc19a28d6ff1a6d74d83144f.png" width="230" height="230"></div><br>  <i>ุฃุจุฑุงุฌ ุนูู ุงูููุฏุงู.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุญุฌุจ ุงููุณุงุฑ </h3><br>  ุญุชู ุงูุขู ุ ูููู ููุฌุฏุฑุงู ููุท ุฃู ุชููุน ุงูุจุญุซ ุนู ุงููุณุงุฑ ุ ูุจุงูุชุงูู ูุชุญุฑู ุงูุฃุนุฏุงุก ุนุจุฑ ุงูุฃุจุฑุงุฌ.  ุฏุนูุง ูุถูู ุฎุงุตูุฉ ูุณุงุนุฏุฉ ุฅูู <code>GameTileContent</code> ุชุดูุฑ ุฅูู ูุง ุฅุฐุง ูุงู ุงููุญุชูู ูุญุฌุจ ุงููุณุงุฑ ุฃู ูุง.  ูุชู ุญุธุฑ ุงููุณุงุฑ ุฅุฐุง ูุงู ุฌุฏุงุฑูุง ุฃู ุจุฑุฌูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> BlocksPath =&gt; Type == GameTileContentType.Wall || Type == GameTileContentType.Towerโฌ;</code> </pre> <br>  ุงุณุชุฎุฏู ูุฐู ุงูุฎุงุตูุฉ ูู <code>GameTile.GrowPathTo</code> ุจุฏูุงู ูู ุงูุชุญูู ูู ููุน ุงููุญุชูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-function">GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GrowPathTo</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile neighbor, Direction direction</span></span></span><span class="hljs-function">)</span></span> { โฆ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-comment"><span class="hljs-comment">//neighbor.Content.Type != GameTileContentType.Wall ? neighbor : null; neighbor.Content.BlocksPath ? null : neighbor; }</span></span></code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6fa/93f/eed/6fa93feedb4925ee12decb4233612a4c.png" width="230" height="230"></div><br>  <i>ุงูุขู ุชู ุญุธุฑ ุงููุณุงุฑ ูู ุฎูุงู ุงูุฌุฏุฑุงู ูุงูุฃุจุฑุงุฌ.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุงุณุชุจุฏุงู ุงูุฌุฏุฑุงู </h3><br>  ุนูู ุงูุฃุฑุฌุญ ุ ุบุงูุจุงู ูุง ูุณุชุจุฏู ุงููุงุนุจ ุงูุฌุฏุฑุงู ุจุฃุจุฑุงุฌ.  ุณูููู ูู ุบูุฑ ุงููุฑูุญ ุจุงููุณุจุฉ ูู ุฅุฒุงูุฉ ุงูุฌุฏุงุฑ ุฃููุงู ุ ูุฅูู ุฌุงูุจ ุฐูู ุ ูููู ููุฃุนุฏุงุก ุงุฎุชุฑุงู ูุฐู ุงููุฌูุฉ ุงูุชู ุธูุฑุช ุจุดูู ูุคูุช.  ููููู ุชุทุจูู ุจุฏูู ูุจุงุดุฑ ุนู ุทุฑูู ุฅุฌุจุงุฑ <code>GameBoard.ToggleTower</code> ููุชุญูู ููุง ุฅุฐุง ูุงู ุงูุฌุฏุงุฑ ุญุงูููุง ุนูู ุงูุจูุงุท.  ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูุงุณุชุจุฏูู ุนูู ุงูููุฑ ุจุจุฑุฌ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุง ูุชุนูู ุนูููุง ุงูุจุญุซ ุนู ุทุฑู ุฃุฎุฑู ุ ูุฃู ุงูุจูุงุทุฉ ูุง ุฒุงูุช ุชููุนูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToggleTower</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Tower) { tile.Content = contentFactory.Get(GameTileContentType.Empty); FindPaths(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Empty) { โฆ } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Wall) { tile.Content = contentFactory.Get(GameTileContentType.Tower); } }</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ูุญู ููุฏู ุงูู ุงูุงุนุฏุงุก </h2><br>  ูููู ููุจุฑุฌ ุฃู ููุฌุฒ ูููุชู ููุท ุนูุฏูุง ูุฌุฏ ุนุฏููุง.  ุจุนุฏ ุงูุนุซูุฑ ุนูู ุงูุนุฏู ุ ูุฌุจ ุฃู ุชูุฑุฑ ุฃู ุฌุฒุก ููู ููุฏู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุฏู ููุทุฉ </h3><br>  ูููุดู ุนู ุงูุฃูุฏุงู ุ ุณูู ูุณุชุฎุฏู ูุญุฑู ุงูููุฒูุงุก.  ููุง ูู ุงูุญุงู ูู ูุตุงุฏู ุงูุจุฑุฌ ุ ูุง ูุญุชุงุฌ ุฅูู ูุตุงุฏู ุงูุนุฏู ููุชุฒุงูู ุจุงูุถุฑูุฑุฉ ูุน ุดููู.  ููููู ุงุฎุชูุงุฑ ูุตุงุฏู ุฃุจุณุท ุ ุฃู ูุฑุฉ.  ุจุนุฏ ุงูุชุดุงู ุงูุนุฏู ุ ุณูู ูุณุชุฎุฏู ููุถุน ูุงุฆู ุงููุนุจุฉ ูุน ุงููุตุงุฏู ุงููุฑุชุจุท ุจู ูููุทุฉ ููุชูุฌูู. <br><br>  ูุง ูููููุง ุฑุจุท ุงููุตุงุฏู ุจุงููุงุฆู ุงูุฌุฐุฑู ููุนุฏู ุ ูุฃูู ูุง ูุชุทุงุจู ุฏุงุฆููุง ูุน ููุถุน ุงููููุฐุฌ ูุณูุฌุนู ุงูุจุฑุฌ ููุฌููุง ุนูู ุงูุฃุฑุถ.  ูุฐุง ูู ุ ุชุญุชุงุฌ ุฅูู ูุถุน ุงููุตุงุฏู ูู ููุงู ูุง ุนูู ุงููููุฐุฌ.  ุณูููุฑ ููุง ูุญุฑู ุงูููุฒูุงุก ุฑุงุจุทูุง ููุฐุง ุงููุงุฆู ุ ูุงูุฐู ูููููุง ุงุณุชุฎุฏุงูู ููุชูุฌูู ุ ููููุง ุณูุญุชุงุฌ ุฃูุถูุง ุฅูู ุงููุตูู ุฅูู ูููู <code>Enemy</code> ูููุงุฆู ุงูุฌุฐุฑ.  ูุชุจุณูุท ุงููููุฉ ุ ุฏุนูุง ููุดุฆ ูููู <code>TargetPoint</code> .  ุฏุนูุง ูุนุทูู ุฎุงุตูุฉ ููุชุฎุตูุต ุงูุฎุงุต ูุงูุงุณุชูุงู ุงูุนุงู ููููู <code>Enemy</code> ุ ูููุชููุงุช ุฃุฎุฑู ููุญุตูู ุนูู ูููุนู ูู ุงูุนุงูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TargetPoint</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Enemy Enemyโฌ { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector3 Position =&gt; transform.position; }</code> </pre> <br>  ุฏุนูุง ูุนุทูู ุทุฑููุฉ <code>Awake</code> ุชููู ุจุฅุนุฏุงุฏ ุฑุงุจุท ููููู <code>Enemy</code> ุงูุฎุงุต ุจู.  ุงูุชูู ูุจุงุดุฑุฉ ุฅูู ุงููุงุฆู ุงูุฌุฐุฑ ุจุงุณุชุฎุฏุงู <code>transform.root</code> .  ุฅุฐุง ูุงู ูููู <code>Enemy</code> ุบูุฑ ููุฌูุฏ ุ ููุฏ ุงุฑุชูุจูุง ุฎุทุฃ ุนูุฏ ุฅูุดุงุก ุงูุนุฏู ุ ูุฐูู ุฏุนููุง ูุถูู ุจูุงููุง ููุฐุง ุงูุบุฑุถ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Enemyโฌ = transform.root.GetComponent&lt;Enemy&gt;(); Debug.Assert(Enemyโฌ != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Target point without Enemy root!"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }</code> </pre> <br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฌุจ ุฅุฑูุงู ุงููุตุงุฏู ูุน ููุณ ูุงุฆู ุงููุนุจุฉ ุงูุฐู <code>TargetPoint</code> ุฅุฑูุงู <code>TargetPoint</code> ุจู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> Debug.Assert(Enemyโฌ != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Target point without Enemy root!"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); Debug.Assert( GetComponent&lt;SphereCollider&gt;() != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Target point without sphere collider!"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> );</code> </pre> <br>  ุฃุถู ูููููุง ููุตุงุฏููุง ุฅูู ุงูููุนุจ ุงูุฌุงูุฒ ููุนุฏู.  ูุฐุง ุณูุฌุนู ุงูุฃุจุฑุงุฌ ุชูุฏู ุฅูู ูุณุท ุงูููุนุจ.  ูุณุชุฎุฏู ูุตุงุฏู ูุฑูู ูุตู ูุทุฑู 0.25.  ูุจูุบ ุญุฌู ุงูููุนุจ 0.5 ุ ูุฐูู ุณูููู ูุตู ูุทุฑ ุงููุตุงุฏู ุงูุญูููู ูู 0.125.  ุจูุถู ูุฐุง ุ ุณูุชุนูู ุนูู ุงูุนุฏู ุนุจูุฑ ุฏุงุฆุฑุฉ ูุทุงู ุงูุจุฑุฌ ุจุดูู ูุฑุฆู ุ ูุจุนุฏ ูุฑูุฑ ุจุนุถ ุงูููุช ูุตุจุญ ุงููุฏู ุงูุญูููู.  ูุชุฃุซุฑ ุญุฌู ุงููุตุงุฏู ุฃูุถูุง ุจุงููููุงุณ ุงูุนุดูุงุฆู ููุนุฏู ุ ูุฐูู ุณูุฎุชูู ุญุฌูู ุฃูุถูุง ูู ุงููุนุจุฉ ููููุงู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/85e/5ca/5e4/85e5ca5e47b8d59fa4211c78126bd512.png" width="176" height="176"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/7ae/a71/aec/7aea71aecbd64d4e045df141ecd1c711.png" width="320" height="176" alt="ููุชุด"></div><br>  <i>ุนุฏู ูุน ููุทุฉ ุชูุฏู ููุตุงุฏู ุนูู ููุนุจ.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุทุจูุฉ ุงูุนุฏู </h3><br>  ุชูุชู ุงูุฃุจุฑุงุฌ ุจุงูุฃุนุฏุงุก ููุท ุ ููุง ุชุณุชูุฏู ุฃู ุดูุก ุขุฎุฑ ุ ูุฐูู ุณูุถุน ูู ุงูุฃุนุฏุงุก ูู ุทุจูุฉ ูููุตูุฉ.  ุณูุณุชุฎุฏู ุงูุทุจูุฉ 9. ูู ุจุชุบููุฑ ุงุณูู ุฅูู <em>ุงูุนุฏู</em> ูู ูุงูุฐุฉ <em>ุงูุทุจูุงุช ูุงูุนูุงูุงุช</em> ุ ูุงูุฐู ูููู ูุชุญู ุนุจุฑ ุฎูุงุฑ <em>ุชุญุฑูุฑ ุงูุทุจูุงุช</em> ูู ูุงุฆูุฉ <em>ุงูุทุจูุงุช</em> ุงูููุณุฏูุฉ ูู ุงูุฑูู ุงูุฃููู ุงูุนููู ูู ุงููุญุฑุฑ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8e6/9a5/762/8e69a5762e8eb1856175f9d9dc1ab388.png" width="320" height="308"></div><br>  <i>ุณูุชู ุงุณุชุฎุฏุงู ุงูุทุจูุฉ 9 ููุฃุนุฏุงุก.</i> <br><br>  ูุฐู ุงูุทุจูุฉ ูุทููุจุฉ ููุท ููุงุนุชุฑุงู ุจุงูุฃุนุฏุงุก ุ ูููุณ ููุชูุงุนูุงุช ุงูุฌุณุฏูุฉ.  ุฏุนูุง ูุดูุฑ ุฅูููุง ูู ุฎูุงู ุชุนุทูููุง ูู <em>Layer Collision Matrix</em> ุ ุงูููุฌูุฏ ูู ููุญุฉ <em>Physics</em> ููุนููุงุช ุงููุดุฑูุน. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/876/06e/e7d/87606ee7dfc4777760d81219517125ce.png" width="200" height="200"></div><br>  <i>ูุตูููุฉ ุงุตุทุฏุงู ุงูุทุจูุฉ.</i> <br><br>  ุชุฃูุฏ ูู ุฃู ูุงุฆู ุงููุนุจุฉ ุงูุฎุงุต ุจููุทุฉ ุงููุฏู ุนูู ุงูุทุจูุฉ ุงููุทููุจุฉ.  ูุฏ ุชููู ุจููุฉ ุงูุฌุงูุฒุฉ ููุนุฏู ุนูู ุทุจูุงุช ุฃุฎุฑู ุ ูููู ุณูููู ูู ุงูุฃุณูู ุชูุณูู ูู ุดูุก ููุถุน ุงูุฌุงูุฒุฉ ุจุงููุงูู ูู ุทุจูุฉ <em>ุงูุนุฏู</em> .  ุฅุฐุง ููุช ุจุชุบููุฑ ุทุจูุฉ ุงููุงุฆู ุงูุฌุฐุฑ ุ ูุณุชุชู ูุทุงูุจุชู ุจุชุบููุฑ ุงูุทุจูุฉ ูุฌููุน ุงููุงุฆูุงุช ุงูุชุงุจุนุฉ ููุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6d1/f75/062/6d1f75062420abadb285e9efca1e1a5e.png" width="320" height="44"></div><br>  <i>ุงูุนุฏู ุนูู ุงูุทุจูุฉ ุงูุตุญูุญุฉ.</i> <br><br>  ูููู ุจุฅุถุงูุฉ ุงูุนุจุงุฑุฉ ุงูุชู ุชุดูุฑ ุฅูู ุฃู <code>TargetPoint</code> ุจุงููุนู ุนูู ุงูุทุจูุฉ ุงูุตุญูุญุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ Debug.Assert(gameObject.layer == <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">"Target point on wrong layer!"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }</code> </pre> <br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฌุจ ุชุฌุงูู ุชุตุฑูุงุช ุงูุนุฏู ูู ูุจู ูุตุงุฏูุงุช ุงูุนุฏู.  ูููู ุชุญููู ุฐูู ุนู ุทุฑูู ุฅุถุงูุฉ ูุณูุทุฉ ููุงุน ุทุจูุฉ ุฅูู <code>Physics.Raycast</code> ูู <code>GameBoard.GetTile</code> .  ุชุญุชูู ูุฐู ุงูุทุฑููุฉ ุนูู ูููุฐุฌ ูุฃุฎุฐ ุงููุณุงูุฉ ุฅูู ุงูุญุฒูุฉ ูููุงุน ุงูุทุจูุฉ ููุณุงุฆุท ุฅุถุงููุฉ.  ุณูููุญู ุงูุญุฏ ุงูุฃูุตู ูููุณุงูุฉ ูููุงุน ุงูุทุจูุฉ ุงูุชุฑุงุถููุง ุ ุฃู 1. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetTile</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Ray ray</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Physics.Raycast(ray, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> RaycastHit hit, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>.MaxValue, <span class="hljs-number"><span class="hljs-number">1</span></span>)) { โฆ } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุง ููุจุบู ุฃู ูููู ููุงุน ุงูุทุจูุฉ 0ุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูุคุดุฑ ุงูุทุจูุฉ ุงูุงูุชุฑุงุถู ูู ุตูุฑ ุ ููููุง ููุฑ ููุงุน ุงูุทุจูุฉ.  ูุบูุฑ ุงูููุงุน ุงูุจุชุงุช ุงููุฑุฏูุฉ ููุฃุนุฏุงุฏ ุงูุตุญูุญุฉ ุฅูู 1 ุฅุฐุง ูุงูุช ุงูุทุจูุฉ ูู ุญุงุฌุฉ ุฅูู ุงูุชุดุบูู.  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุญุชุงุฌ ุฅูู ุชุนููู ุงูุจุช ุงูุฃูู ููุท ุ ุฃู ุงูุฃูู ุฃูููุฉ ุ ููุง ูุนูู 2 <sup>0</sup> ุ ุฃู ูุง ูุนุงุฏู 1. </div></div><br><h3 style=";text-align:right;direction:rtl">  ุชุญุฏูุซ ูุญุชูู ุงูุจูุงุท </h3><br>  ูุง ูููู ูุฃุจุฑุงุฌ ุฃุฏุงุก ููุงููุง ุฅูุง ุนูุฏ ุชุญุฏูุซ ุญุงูุชูุง.  ูููุทุจู ุงูุดูุก ููุณู ุนูู ูุญุชููุงุช ุงูุจูุงุท ููู ุ ุนูู ุงูุฑุบู ูู ุฃู ุจููุฉ ุงููุญุชููุงุช ูุง ุชูุนู ุดูุฆูุง ุญุชู ุงูุขู.  ูุฐูู ุ ูู ุจุฅุถุงูุฉ ุทุฑููุฉ ุงูุชุฑุงุถูุฉ <code>GameTileContent</code> ุฅูู <code>GameUpdate</code> ุ ูุงูุชู ูุง ุชูุนู ุดูุฆูุง ุจุดูู ุงูุชุฑุงุถู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {}</code> </pre> <br>  ููุฌุนู <code>Tower</code> ูุนูุฏ ุชุนุฑููู ุ ุญุชู ูู ุฃูู ูุนุฑุถ ุงูุขู ูู ูุญุฏุฉ ุงูุชุญูู ุฃูู ูุจุญุซ ุนู ูุฏู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Debug.Log(<span class="hljs-string"><span class="hljs-string">"Searching for target..."</span></span>); }</code> </pre> <br>  ูุชุนุงูู <code>GameBoard</code> ูุน <code>GameBoard</code> ููุญุชููุงุชูุง ุ ูุฐูู ุณูุชุงุจุน ุฃูุถูุง ุงููุญุชูู ุงููุทููุจ ุชุญุฏูุซู.  ููููุงู ุจุฐูู ุ ูู ุจุฅุถุงูุฉ ุงููุงุฆูุฉ ุฅููู ูุทุฑููุฉ <code>GameUpdate</code> ุงูุนุงูุฉ ุ ูุงูุชู ุชููู ุจุชุญุฏูุซ ูู ุดูุก ูู ุงููุงุฆูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> List&lt;GameTileContent&gt; updatingContent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;GameTileContent&gt;(); โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; updatingContent.Count; i++) { updatingContent[i].GameUpdate(); } }</code> </pre> <br>  ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูุฏููุง ุชุญุชุงุฌ ููุท ุฅูู ุชุญุฏูุซ ุงูุฃุจุฑุงุฌ.  ุชุบููุฑ <code>ToggleTower</code> ุจุญูุซ ูุถูู ููุฒูู ุงููุญุชูู ุฅุฐุง ูุฒู ุงูุฃูุฑ.  ุฅุฐุง ูุงูุช ููุงู ุญุงุฌุฉ ุฅูู ูุญุชูู ุขุฎุฑ ุฃูุถูุง ุ ูุณูุญุชุงุฌ ุฅูู ููุงุฑุจุฉ ุฃูุซุฑ ุนููููุฉ ุ ููู ูู ุงูููุช ุงูุญุงูู ุ ูุฐุง ูููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToggleTower</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Tower) { updatingContent.Remove(tile.Content); tile.Content = contentFactory.Get(GameTileContentType.Empty); FindPaths(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Empty) { tile.Content = contentFactory.Get(GameTileContentType.Tower); <span class="hljs-comment"><span class="hljs-comment">//if (!FindPaths()) { if (FindPaths()) { updatingContent.Add(tile.Content); } else { tile.Content = contentFactory.Get(GameTileContentType.Empty); FindPaths(); } } else if (tile.Content.Type == GameTileContentType.Wall) { tile.Content = contentFactory.Get(GameTileContentType.Tower); updatingContent.Add(tile.Content); } }</span></span></code> </pre> <br>  ูุฅูุฌุงุฒ ูุฐุง ุงูุนูู ุ ูููู ุงูุขู ุชุญุฏูุซ ุงูุญูู ูู <code>Game.Update</code> .  ุณูููู ุจุชุญุฏูุซ ุงูุญูู ุจุนุฏ ุงูุฃุนุฏุงุก.  ุจูุถู ูุฐุง ุ ุณูู ุชููู ุงูุฃุจุฑุงุฌ ูุงุฏุฑุฉ ุนูู ุงููุฏู ุจุงูุถุจุท ุฃูู ูู ุงูุฃุนุฏุงุก.  ุฅุฐุง ูุนููุง ุฎูุงู ุฐูู ุ ูุฅู ุงูุฃุจุฑุงุฌ ุชูุฏู ุญูุซ ูุงู ุงูุฃุนุฏุงุก ูู ุงูุฅุทุงุฑ ุงูุฃุฎูุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ enemies.GameUpdate(); board.GameUpdate(); }</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุชูุฏู ุงููุฏู </h3><br>  ุงูุฃุจุฑุงุฌ ููุง ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง ุชูุฏู ูุญุฏูุฏุฉ.  ููุฌุนููุง ูุฎุตุตุฉ ุจุฅุถุงูุฉ ุญูู ุฅูู ูุฆุฉ <code>Tower</code> .  ูุชู ููุงุณ ุงููุณุงูุฉ ูู ูุณุท ุจูุงุทุฉ ุงูุจุฑุฌ ุ ูุฐูู ูู ุญุฏูุฏ 0.5 ุณุชุบุทู ููุท ุงูุจูุงุท ุงูุฎุงุต ุจูุง.  ูุฐูู ุ ุณูููู ุงูุญุฏ ุงูุฃุฏูู ุงููุนููู ูุงููุทุงู ุงูููุงุณู ูู 1.5 ุ ูุงูุฐู ูุบุทู ูุนุธู ุงูุจูุงุท ุงููุฌุงูุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField, Range(1.5f, 10.5f)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> targetingRange = <span class="hljs-number"><span class="hljs-number">1.5f</span></span>;</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c38/ae4/ee8/c38ae4ee885cf5d89f24164b9c6bc5fe.png" width="320" height="74"></div><br>  <i>ุชูุฏู ุงููุฏู 2.5.</i> <br><br>  ุฏุนููุง ุชุตูุฑ ูุฌููุนุฉ ูุน ุงูุฃุฏุงุฉ.  ูุง ูุญุชุงุฌ ุฅูู ุฑุคูุชู ุจุงุณุชูุฑุงุฑ ุ ูุฐูู <code>OnDrawGizmosSelected</code> ุฃุณููุจ <code>OnDrawGizmosSelected</code> ูุฏุนู ููุท ูููุงุฆูุงุช ุงููุญุฏุฏุฉ.  ูุฑุณู ุงูุฅุทุงุฑ ุงูุฃุตูุฑ ูููุฑุฉ ุจูุตู ูุทุฑ ูุณุงูู ุงููุณุงูุฉ ููุชุฑูุฒ ุญูู ุงูุจุฑุฌ.  ุถุนู ููู ุงูุฃุฑุถ ููููุงู ุจุญูุซ ูููู ูุงุถุญูุง ุฏุงุฆููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDrawGizmosSelected</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Gizmos.color = Color.yellow; Vector3 position = transform.localPosition; position.y += <span class="hljs-number"><span class="hljs-number">0.01f</span></span>; Gizmos.DrawWireSphere(position, targetingRange); }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/674/6b7/3cd/6746b73cd2e015fd599b770bb89e1c8a.png" width="230" height="230"></div><br>  <i>ุงูุฃุฏุงุฉ ุชูุฏู ุงููุฏู.</i> <br><br>  ุงูุขู ูููููุง ุฃู ูุฑู ุฃู ูู ุงูุฃุนุฏุงุก ูู ูุฏู ููุณูุฑ ุงูุชูููุฉ ููู ุจุฑุฌ.  ููู ุงุฎุชูุงุฑ ุงูุฃุจุฑุงุฌ ูู ูุงูุฐุฉ ุงููุดูุฏ ุบูุฑ ูุฑูุญ ุ ูุฃูู ูุชุนูู ุนูููุง ุงุฎุชูุงุฑ ุฃุญุฏ ุงูููุนุจุงุช ุงููุฑุนูุฉ ุ ุซู ุงูุชุจุฏูู ุฅูู ุงููุงุฆู ุงูุฌุฐุฑ ููุจุฑุฌ.  ุฃููุงุน ุฃุฎุฑู ูู ูุญุชูู ุงูุจูุงุท ุชุนุงูู ุฃูุถุง ูู ููุณ ุงููุดููุฉ.  ูููููุง ูุฑุถ ุชุญุฏูุฏ ุฌุฐุฑ ูุญุชูู <code>GameTileContent</code> ูู ูุงูุฐุฉ ุงููุดูุฏ ุนู ุทุฑูู ุฅุถุงูุฉ ุณูุฉ <code>SelectionBase</code> ุฅูู <code>GameTileContent</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SelectionBase</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GameTileContent</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { โฆ }</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงููุจุถ ุนูู ุงููุฏู </h3><br>  ุฃุถู ุญูู <code>TargetPoint</code> ุฅูู ูุฆุฉ <code>Tower</code> ุจุญูุซ ููููู ุชุชุจุน ุงููุฏู ุงูุฐู ุชู ุงูุชูุงุทู.  ุซู ูููู <code>GameUpdate</code> ููุงุชุตุงู <code>AquireTarget</code> ุงูุฌุฏูุฏ ุ ูุงูุฐู ูุนุฑุถ ูุนูููุงุช ุญูู ูุง ุฅุฐุง ูุงู ูุฏ ูุฌุฏ ุงููุฏู.  ุนูุฏ ุงููุดู ุ ุณูุชู ุนุฑุถ ุฑุณุงูุฉ ูู ูุญุฏุฉ ุงูุชุญูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> TargetPoint target; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (AcquireTarget()) { Debug.Log(<span class="hljs-string"><span class="hljs-string">"Acquired target!"</span></span>); } }</code> </pre> <br>  ูู <code>AcquireTarget</code> ูุญุตู ุนูู ุฌููุน ุงูุฃูุฏุงู ุงููุชุงุญุฉ ุนู ุทุฑูู ุงูุงุชุตุงู ุจู <code>Physics.OverlapSphere</code> ูุน ูุถุน ุงูุจุฑุฌ ููุทุงู ุงููุณูุทุงุช.  ุณุชููู ุงููุชูุฌุฉ ูุตูููุฉ <code>Collider</code> ุชุญุชูู ุนูู ูู ุงููุตุงุฏูุงุช ุงูููุงูุณุฉ ูููุฑุฉ.  ุฅุฐุง ูุงู ุทูู ุงููุตูููุฉ ููุฌุจูุง ุ ูููุงู ููุทุฉ ูุฏู ูุงุญุฏุฉ ุนูู ุงูุฃูู ุ ูุจุจุณุงุทุฉ ูุฎุชุงุฑ ุงูููุทุฉ ุงูุฃููู.  ุฎุฐ ูููู <code>TargetPoint</code> ุ ูุงูุฐู ูุฌุจ ุฃู ูููู ููุฌูุฏูุง ุฏุงุฆููุง ุ ูู ุจุชุนูููู ุฅูู ุงูุญูู ุงููุฏู ุซู ุฃุจูุบ ุนู ูุฌุงุญ.  ุฎูุงู ุฐูู ุ ูุญู ูุณุญ ุงููุฏู ูุงูุฅุจูุงุบ ุนู ุงููุดู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcquireTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Collider[] targets = Physics.OverlapSphere( transform.localPosition, targetingRange ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (targets.Length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { target = targets[<span class="hljs-number"><span class="hljs-number">0</span></span>].GetComponent&lt;TargetPoint&gt;(); Debug.Assert(target != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Targeted non-enemy!"</span></span>, targets[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } target = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br>  ูุญู ูุถููููู ููุญุตูู ุนูู ููุงุท ุงููุฏู ุงูุตุญูุญุฉ ุ ุฅุฐุง ุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ ุงููุตุงุฏูุงุช ููุท ุนูู ุทุจูุฉ ุงูุฃุนุฏุงุก.  ูุฐู ูู ุงูุทุจูุฉ 9 ุ ูุฐูู ุณูููู ุจุชูุฑูุฑ ููุงุน ุงูุทุจูุฉ ุงูููุงุจู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> enemyLayerMask = <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">9</span></span>; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcquireTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Collider[] targets = Physics.OverlapSphere( transform.localPosition, targetingRange, enemyLayerMask ); โฆ }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููู ุชุนูู ูุฐู ุงูููุงุนุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุจูุง ุฃู ุทุจูุฉ ุงูุนุฏู ุชุญุชูู ุนูู ููุฑุณ 9 ุ ููุฌุจ ุฃู ูููู ูููููุฉ ุงูุนุงุดุฑุฉ ูู ููุงุน bitm ุงููููุฉ 1. ููุฐุง ูุชูุงูู ูุน ุนุฏุฏ ุตุญูุญ 2 <sup>9</sup> ุ ููู 512. ููู ุณุฌู ููุงุน ุงูุจุช ูุฐุง ุบูุฑ ุณูู.  ูููููุง ุฃูุถูุง ูุชุงุจุฉ ุญุฑูู ุซูุงุฆู ุ ุนูู ุณุจูู ุงููุซุงู <code>0b10_0000_0000</code> ุ ูููู ุจุนุฏ ุฐูู ุนูููุง ุญุณุงุจ ุงูุฃุตูุงุฑ.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูููู ุงูุฅุฏุฎุงู ุงูุฃูุซุฑ ููุงุกูุฉ ูู ุงุณุชุฎุฏุงู ุนุงูู ุงูุชุดุบูู ูููุณุงุฑ ุงูุฃูุณุฑ <code>&lt;&lt;</code> ุ ุงูุฐู ูููู ุงูุจุชุงุช ุฅูู ุงููุณุงุฑ.  ููู ูุง ูุชูุงูู ูุน ุนุฏุฏ ูู ููุฉ ุงุซููู. </div></div><br>  ููููู ุชุตูุฑ ุงููุฏู ุงูุฐู ุชู ุงูุชูุงุทู ุนู ุทุฑูู ุฑุณู ุฎุท gizmo ุจูู ููุงูุน ุงูุจุฑุฌ ูุงููุฏู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDrawGizmosSelected</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (target != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { Gizmos.DrawLine(position, target.Position); } }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/7a5/e99/4be/7a5e994be6b7d848c2d4bfe7d627c708.png" width="230" height="230"></div><br>  <i>ุชุตูุฑ ุงูุฃูุฏุงู.</i> <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุงุฐุง ูุง ุชุณุชุฎุฏู ุทุฑููุง ูุซู OnTriggerEnterุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ููุฒุฉ ุงูุชุญูู ูุฏูููุง ูู ุงูุฃูุฏุงู ุงูุดุงููุฉ ูู ุฃูู ูุง ูููููุง ุงูููุงู ุจุฐูู ุฅูุง ุนูุฏ ุงูุถุฑูุฑุฉ.  ูุง ููุฌุฏ ุณุจุจ ููุชุญูู ูู ุงูุฃูุฏุงู ุฅุฐุง ูุงู ุงูุจุฑุฌ ุจุงููุนู ูุงุญุฏ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ุฎูุงู ุงูุญุตูู ุนูู ุฌููุน ุงูุฃูุฏุงู ุงููุญุชููุฉ ูู ููุช ูุงุญุฏ ุ ูุง ูุชุนูู ุนูููุง ูุนุงูุฌุฉ ูุงุฆูุฉ ุจุงูุฃูุฏุงู ุงููุญุชููุฉ ููู ุจุฑุฌ ุ ูุงูุฐู ูุชุบูุฑ ุจุงุณุชูุฑุงุฑ. </div></div><br><h3 style=";text-align:right;direction:rtl">  ููู ุงููุฏู </h3><br>  ูุนุชูุฏ ุงููุฏู ุงูุฐู ุชู ุงุฎุชูุงุฑู ูุงูุชูุงุทู ุนูู ุงูุชุฑุชูุจ ุงูุฐู ููุซูู ุจู ุงููุญุฑู ุงููุนูู ุ ุฃู ุฃูู ูู ุงูุญูููุฉ ุชุนุณูู.  ูุฐูู ุ ุณูู ูุจุฏู ุฃู ุงููุฏู ุงูุฐู ุชู ุงูุชูุงุทู ูุชุบูุฑ ุฏูู ุณุจุจ.  ุจุนุฏ ุฃู ูุณุชูุจู ุงูุจุฑุฌ ุงููุฏู ุ ูููู ูู ุงูููุทูู ููุง ุชุชุจุน ูุณุงุฑูุง ุ ูููุณ ุงูุชุญูู ุฅูู ุงูุขุฎุฑ.  ุฃุถู ุทุฑููุฉ <code>TrackTarget</code> ุงูุชู ุชููุฐ ูุซู ูุฐุง ุงูุชุชุจุน ูุชุนุฑุถ ูุนูููุงุช ุญูู ูุฌุงุญู.  ุฃููุงู ุ ุณูุฎุจุฑู ููุท ุฅุฐุง ูุงู ุงููุฏู ูุฏ ุชู ุงูุชูุงุทู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrackTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (target == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ุณูู ูุฏุนู ูุฐู ุงูุทุฑููุฉ ูู <code>GameUpdate</code> ูููุท ุนูุฏ ุงูุฑุฌูุน ุฅูู false ุ ุณูู ูุณูู <code>AcquireTarget</code> .  ุฅุฐุง ุนุงุฏุช ุงูุทุฑููุฉ ุตุญูุญุฉ ุ ููุฏููุง ูุฏู.  ูููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ุฅุฌุฑุงุก ููุงููุงุช ูู ููุง ุงูุฃุณููุจูู ูู <code>if</code> ุชุญูู ูุน ุนุงูู ุงูุชุดุบูู OR ุ ูุฃูู ุฅุฐุง ุชู ุฅุฑุฌุงุน ุงููุนุงูู ุงูุฃูู <code>true</code> ุ ููู ูุชู ุงูุชุญูู ูู ุงูููุงููุฉ ุ ูุณูุชู ููุฏ ุงูููุงููุฉ.  ูุนูู ุนุงูู ุงูุชุดุบูู AND ุจุทุฑููุฉ ููุงุซูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TrackTarget() || AcquireTarget()) { Debug.Log(<span class="hljs-string"><span class="hljs-string">"Locked on target!"</span></span>); } }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8ec/27c/0a2/8ec27c0a2201434cba3725621b68aaa1.png" width="230" height="230"></div><br>  <i>ุชุชุจุน ุงูุฃูุฏุงู.</i> <br><br>  ูุชูุฌุฉ ูุฐูู ุ ูุชู ุชุซุจูุช ุงูุฃุจุฑุงุฌ ุนูู ุงููุฏู ุญุชู ุชุตู ุฅูู ููุทุฉ ุงูููุงูุฉ ููุชู ุชุฏููุฑูุง.  ุฅุฐุง ููุช ุชุณุชุฎุฏู ุงูุฃุนุฏุงุก ูุฑุงุฑูุง ูุชูุฑุงุฑูุง ุ ูุฃูุช ุชุญุชุงุฌ ุจุฏูุงู ูู ุฐูู ุฅูู ุงูุชุญูู ูู ุตุญุฉ ุงูุฑุงุจุท ุ ููุง ูู ุงูุญุงู ูุน ุฑูุงุจุท ุงูุฃุดูุงู ุงูุชู ุชูุช ูุนุงูุฌุชูุง ูู ุณูุณูุฉ ูู ุงูุจุฑุงูุฌ ุงูุชุนููููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฅุฏุงุฑุฉ ุงููุงุฆูุงุช</a> . <br><br>  ูุชุชุจุน ุงูุฃูุฏุงู ููุท ุนูุฏูุง ุชููู ุถูู ุงููุทุงู ุ ูุฌุจ ุฃู ูุชุนูุจ <code>TrackTarget</code> ุงููุณุงูุฉ ุจูู ุงูุจุฑุฌ ูุงููุฏู.  ุฅุฐุง ุชุฌุงูุฒุช ูููุฉ ุงููุทุงู ุ ููุฌุจ ุฅุนุงุฏุฉ ุชุนููู ุงููุฏู ูุฅุฑุฌุงุน ุฎุทุฃ.  ููููู ุงุณุชุฎุฏุงู ุทุฑููุฉ <code>Vector3.Distance</code> ููุฐุง ุงูุงุฎุชูุงุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrackTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (target == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } Vector3 a = transform.localPosition; Vector3 b = target.Position; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Vector3.Distance(a, b) &gt; targetingRange) { target = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ููุน ุฐูู ุ ูุง ูุฃุฎุฐ ูุฐุง ุงูุฑูุฒ ูู ุงูุงุนุชุจุงุฑ ูุตู ูุทุฑ ุงููุตุงุฏู.  ูุฐูู ุ ูุชูุฌุฉ ูุฐูู ุ ูุฏ ูููุฏ ุงูุจุฑุฌ ุงููุฏู ุ ุซู ููุชูุทู ูุฑุฉ ุฃุฎุฑู ุ ููุท ูุฅููุงู ุชุชุจุนู ูู ุงูุฅุทุงุฑ ุงูุชุงูู ุ ูููุฐุง.  ูููููุง ุชุฌูุจ ุฐูู ุนู ุทุฑูู ุฅุถุงูุฉ ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง ุงููุตุงุฏู ุฅูู ุงููุทุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Vector3.Distance(a, b) &gt; targetingRange + <span class="hljs-number"><span class="hljs-number">0.125f</span></span>) { โฆ }</code> </pre> <br>  ูุฐุง ูุนุทููุง ุงููุชุงุฆุฌ ุงูุตุญูุญุฉ ุ ูููู ููุท ุฅุฐุง ูู ูุชู ุชุบููุฑ ุญุฌู ุงูุนุฏู.  ูุธุฑูุง ูุฃููุง ูุนุทู ูู ุนุฏู ูููุงุณูุง ุนุดูุงุฆููุง ุ ูุฌุจ ุฃู ูุฃุฎุฐู ูู ุงูุงุนุชุจุงุฑ ุนูุฏ ุชุบููุฑ ุงููุทุงู.  ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ุชุฐูุฑ ุงููุทุงู ุงูุฐู ูุฏูู <code>Enemy</code> ููุชุญู ุจุงุณุชุฎุฏุงู ุฎุงุตูุฉ getter. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Scale { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> scale, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> speed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pathOffset</span></span></span><span class="hljs-function">)</span></span> { Scale = scale; โฆ }</code> </pre> <br>  ุงูุขู ูููููุง ุงูุชุญูู ูู ุงููุทุงู ุงูุตุญูุญ ูู <code>Tower.TrackTarget</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Vector3.Distance(a, b) &gt; targetingRange + <span class="hljs-number"><span class="hljs-number">0.125f</span></span> * target.Enemyโฌ.Scale) { โฆ }</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ูุญู ูุฒุงููุฉ ุงูููุฒูุงุก </h3><br>  ูุจุฏู ุฃู ูู ุดูุก ูุนูู ุจุดูู ุฌูุฏ ุ ูููู ุงูุฃุจุฑุงุฌ ุงูุชู ูููู ุฃู ุชุณุชูุฏู ูุณุท ุงูููุนุจ ูุงุฏุฑุฉ ุนูู ุงูุชูุงุท ุงูุฃูุฏุงู ุงูุชู ูุฌุจ ุฃู ุชููู ุฎุงุฑุฌ ุงููุทุงู.  ูู ูููููุง ูุงุฏุฑูู ุนูู ุชุชุจุน ูุฐู ุงูุฃูุฏุงู ุ ุจุญูุซ ูุชู ุชุซุจูุชูุง ุนูููุง ููุท ูุฅุทุงุฑ ูุงุญุฏ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e91/0a1/836/e910a1836ef729d95ebee121a67c3f2c.png" width="230" height="230"></div><br>  <i>ุชูุฏู ุบูุฑ ุตุญูุญ.</i> <br><br>  ูุญุฏุซ ูุฐุง ุจุณุจุจ ุชุฒุงูู ุญุงูุฉ ุงููุญุฑู ุงููุนูู ูุน ุญุงูุฉ ุงููุนุจุฉ.  ูุชู ุฅูุดุงุก ูุซููุงุช ุฌููุน ุงูุฃุนุฏุงุก ูู ุฃุตู ุงูุนุงูู ุ ูุงูุฐู ูุชุฒุงูู ูุน ูุฑูุฒ ุงูููุฏุงู.  ุซู ูููููู ุฅูู ููุทุฉ ุงูุฎูู ุ ููู ูุญุฑู ุงูููุฒูุงุก ูุง ูุนุฑู ุนููุง ุนูู ุงูููุฑ. <br><br>  ููููู ุชูููู ุงููุฒุงููุฉ ุงูููุฑูุฉ ุงูุชู ุชุญุฏุซ ุนูุฏ ุชุบููุฑ ุชุญูููุงุช ุงููุงุฆูุงุช ุนู ุทุฑูู ุชุนููู <code>Physics.autoSyncTransforms</code> ุฅูู <code>true</code> .  ูููู ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุชุนุทููู ุ ูุฃูู ุฃูุซุฑ ูุนุงููุฉ ุจูุซูุฑ ููุฒุงููุฉ ูู ุดูุก ูุนูุง ูุฅุฐุง ูุฒู ุงูุฃูุฑ.  ูู ุญุงูุชูุง ุ ูุง ููุฒู ุงูุชุฒุงูู ุฅูุง ุนูุฏ ุชุญุฏูุซ ุญุงูุฉ ุงูุฃุจุฑุงุฌ.  ูููููุง ุชูููุฐู ุนู ุทุฑูู ุงุณุชุฏุนุงุก <code>Physics.SyncTransforms</code> ุจูู ุชุญุฏูุซุงุช ุงูุนุฏู ูุงูุญูู ูู <code>Game.Update</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ enemies.GameUpdate(); Physics.SyncTransforms(); board.GameUpdate(); }</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุชุฌุงูู ุงูุงุฑุชูุงุน </h3><br>  ูู ุงููุงูุน ุ ูุฏููุง ุงููุนุจ ูุญุฏุซ ูู 2D.  ูุฐูู ุฏุนููุง ูุบูุฑ <code>Tower</code> ุจุญูุซ ูุฃุฎุฐ ุงูุฅุญุฏุงุซููู X ู Z ูู ุงูุญุณุจุงู ุนูุฏ ุฅุญุฏุงุซ ุงููุฏู ูุงูุชุชุจุน. ูุนูู ุงููุญุฑู ุงููุนูู ูู ุงููุถุงุก ุซูุงุซู ุงูุฃุจุนุงุฏ ุ ูููู ูู ุฌููุฑู ูููููุง ุชูููุฐ <code>AcquireTarget</code> ูู 2D: <code>AcquireTarget</code> ุงููุฑุฉ ุฅูู ุฃุนูู ุจุญูุซ ูุบุทู ูู ุงููุตุงุฏูุงุช ุ ุจุบุถ ุงููุธุฑ ูู ูููุนูุง ุงูุฑุฃุณู.  ูููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู ูุจุณููุฉ ุจุฏูุงู ูู ูุฑุฉ ุ ุงูููุทุฉ ุงูุซุงููุฉ ุณุชููู ุนุฏุฉ ูุญุฏุงุช ููู ุณุทุญ ุงูุฃุฑุถ (ุนูู ุณุจูู ุงููุซุงู ุ ุซูุงุซ). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcquireTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Vector3 a = transform.localPosition; Vector3 b = a; <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> += <span class="hljs-number"><span class="hljs-number">3f</span></span>; Collider[] targets = Physics.OverlapCapsule( a, b, targetingRange, enemyLayerMask ); โฆ }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุณ ูู ุงููููู ุงุณุชุฎุฏุงู ูุญุฑู ุซูุงุฆู ุงูุฃุจุนุงุฏุ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl">   ,       XZ,   2D-    XY.     ,     ,    2D-   .     3D-. </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุถุฑูุฑู ุฃูุถุง ุฃู ุชุชุบูุฑ </font></font><code>TrackTarget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุจุงูุทุจุน ุ ูููููุง ุงุณุชุฎุฏุงู ููุงูู ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ </font></font><code>Vector2.Distance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููู ุฏุนููุง ููุนู ุงูุญุณุงุจุงุช ุจุฃููุณูุง ูุจุฏูุงู ูู ุฐูู ุณููุงุฑู ูุฑุจุนุงุช ุงููุณุงูุงุช ุ ุณูููู ูุฐุง ูุงููุงู. </font><font style="vertical-align: inherit;">ูุฐูู ูุชุฎูุต ูู ุนูููุฉ ุญุณุงุจ ุงูุฌุฐุฑ ุงูุชุฑุจูุนู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrackTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (target == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } Vector3 a = transform.localPosition; Vector3 b = target.Position; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = ax - bx; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> z = az - bz; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> r = targetingRange + <span class="hljs-number"><span class="hljs-number">0.125f</span></span> * target.Enemyโฌ.Scale; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x * x + z * z &gt; r * r) { target = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ุชุนูู ุญุณุงุจุงุช ุงูุฑูุงุถูุงุช ูุฐูุ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl">     2D-   ,     .     ,       .  ,        ,    . </div></div><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุฌูุจ ุชุฎุตูุต ุงูุฐุงูุฑุฉ </font></font></h3><br>   <code>Physics.OverlapCapsule</code>   ,        .   ,         <code>OverlapCapsuleNonAlloc</code>      .       .       .        ,      1. <br><br>   <code>OverlapCapsuleNonAlloc</code>    ,    ,          . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Collider[] targetsBuffer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Collider[<span class="hljs-number"><span class="hljs-number">1</span></span>]; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcquireTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Vector3 a = transform.localPosition; Vector3 b = a; <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> += <span class="hljs-number"><span class="hljs-number">2f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> hits = Physics.OverlapCapsuleNonAlloc( a, b, targetingRange, targetsBuffer, enemyLayerMask ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hits &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { target = targetsBuffer[<span class="hljs-number"><span class="hljs-number">0</span></span>].GetComponent&lt;TargetPoint&gt;(); Debug.Assert(target != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Targeted non-enemy!"</span></span>, targetsBuffer[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } target = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br><h2 style=";text-align:right;direction:rtl">    </h2><br> ,      ,     .    ,     . <br><br><h3 style=";text-align:right;direction:rtl">   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุฌูู ุงูุจุฑุฌ ุฅูู ุงููุฏู ุ </font></font><code>Tower</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชุงุฌ </font><font style="vertical-align: inherit;">ุงููุตู </font><font style="vertical-align: inherit;">ุฅูู ุงุฑุชุจุงุท ุจูููู </font></font><code>Transform</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุจุฑุฌ. </font><font style="vertical-align: inherit;">ุฅุถุงูุฉ ุญูู ุงูุชูููู ููุฐุง ูุชูุตููู ุฅูู ุงูุจุฑุฌ ุงูุฌุงูุฒุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] Transform turret = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e0f/3be/41b/e0f3be41b0936993268316b8f01e1f67.png" width="320" height="90"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุจุฑุฌ ุงููุฑูู. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุงู </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ูุฏู ุญูููู ุ ูุนูููุง ุฅุทูุงู ุงููุงุฑ ุนููู. </font><font style="vertical-align: inherit;">ุถุน ููุฏ ุงูุฑูุงูุฉ ุจุทุฑููุฉ ูููุตูุฉ. </font><font style="vertical-align: inherit;">ุงุฌุนูู ูุฏูุฑ ุงูุจุฑุฌ ูุญู ุงููุฏู ุ ูุงุตููุง ุทุฑููุชู </font></font><code>Transform.LookAt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจููุทุฉ ุงููุฏู ูุญุฌุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TrackTarget() || AcquireTarget()) { <span class="hljs-comment"><span class="hljs-comment">//Debug.Log("Locked on target!"); Shoot(); } } void Shoot () { Vector3 point = target.Position; turret.LookAt(point); }</span></span></code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/00e/5bb/e9d/00e5bbe9d98e739800bf47435ca574af.png" width="230" height="230"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุท ุชูุฏู.</font></font></i> <br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญู ุงุทูุงู ุงููุงุฑ ููุฒุฑ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุถุน ุดุนุงุน ุงูููุฒุฑ ุ </font></font><code>Tower</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชุงุฌ </font><font style="vertical-align: inherit;">ุงููุตู </font><font style="vertical-align: inherit;">ุฃูุถูุง ุฅูู ุฑุงุจุท ุฅููู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] Transform turret = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, laserBeam = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/802/c9c/86e/802c9c86eac24112cb2b4f072fd0f410.png" width="320" height="110"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตููุง ุดุนุงุน ุงูููุฒุฑ. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุญููู ุงูููุนุจ ุฅูู ุญุฒูุฉ ููุฒุฑ ุญููููุฉ ุ ุชุญุชุงุฌ ุฅูู ุงุชุฎุงุฐ ุซูุงุซ ุฎุทูุงุช. </font><font style="vertical-align: inherit;">ุฃููุงู ุ ูุฌุจ ุฃู ูุชูุงูู ุงุชุฌุงูู ูุน ุงุชุฌุงู ุงูุจุฑุฌ. </font><font style="vertical-align: inherit;">ูููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ูุณุฎ ุฏูุฑุชู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Shoot</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Vector3 point = target.Position; turret.LookAt(point); laserBeam.localRotation = turret.localRotation; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุซุงููุงู ุ ูููุณ ุญุฒูุฉ ุงูููุฒุฑ ุจุญูุซ ูุณุงูู ุทูููุง ุงููุณุงูุฉ ุจูู ููุทุฉ ุงูููุดุฃ ุงููุญููุฉ ููุจุฑุฌ ูููุทุฉ ุงููุฏู. </font><font style="vertical-align: inherit;">ูููู ุจุชูุณูุน ูุทุงูู ุนูู ุทูู ุงููุญูุฑ Z ุ ุฃู ุงููุญูุฑ ุงููุญูู ุงูููุฌู ูุญู ุงููุฏู. </font><font style="vertical-align: inherit;">ููุญูุงุธ ุนูู ูููุงุณ XY ุงูุฃุตูู ุ ููุชุจ ุงููููุงุณ ุงูุฃุตูู ุนูุฏูุง ูุณุชููุธ ุนูู ุจุฑุฌ Awake.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> Vector3 laserBeamScale; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { laserBeamScale = laserBeam.localScale; } โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Shoot</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Vector3 point = target.Position; turret.LookAt(point); laserBeam.localRotation = turret.localRotation; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> d = Vector3.Distance(turret.position, point); laserBeamScale.z = d; laserBeam.localScale = laserBeamScale; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุซุงูุซูุง ุ ูุถุน ุดุนุงุน ุงูููุฒุฑ ูู ุงููุณุท ุจูู ุงูุจุฑุฌ ูููุทุฉ ุงููุฏู. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> laserBeam.localScale = laserBeamScale; laserBeam.localPosition = turret.localPosition + <span class="hljs-number"><span class="hljs-number">0.5f</span></span> * d * laserBeam.forward;</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/288/d96/438/288d96438354bd732fd7a3bb84ead491.png" width="230" height="230"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุทูุงู ุงููุงุฑ ุจุงูููุฒุฑ.</font></font></i> <br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุณ ูู ุงููููู ุฌุนู ุดุนุงุน ุงูููุฒุฑ ุทูู ุจุฑุฌุ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl">     ,         ,       forward.       ,     .     . </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูุนูู ุจูููุง ูุชู ุชุซุจูุช ุงูุจุฑุฌ ุนูู ุงููุฏู. </font><font style="vertical-align: inherit;">ููู ุนูุฏูุง ูุง ูููู ููุงู ูุฏู ุ ูุธู ุงูููุฒุฑ ูุดุทูุง. </font><font style="vertical-align: inherit;">ูููููุง ุฅููุงู ุชุดุบูู ุนุฑุถ ุงูููุฒุฑ ุนู ุทุฑูู </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุถุจุท </font><font style="vertical-align: inherit;">ุญุฌูู ุนูู </font><font style="vertical-align: inherit;">0.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TrackTarget() || AcquireTarget()) { Shoot(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { laserBeam.localScale = Vector3.zero; } }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/39b/8c8/c23/39b8c8c239e0936137c646f91a4197de.png" width="230" height="230"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุจุฑุงุฌ ุงูุฎููู ูุง ุชุทูู ุงููุงุฑ.</font></font></i> <br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุตุญุฉ ุงูุนุฏู </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุชู ุงูุขู ุ ุฃุดุนุฉ ุงูููุฒุฑ ูุฏููุง ุชููุณ ููุท ุงูุฃุนุฏุงุก ููู ุชุนุฏ ุชุคุซุฑ ุนูููู. </font><font style="vertical-align: inherit;">ูู ุงูุถุฑูุฑู ุงูุชุฃูุฏ ูู ุฃู ุงูููุฒุฑ ููุญู ุงูุถุฑุฑ ุจุงูุฃุนุฏุงุก. </font><font style="vertical-align: inherit;">ูุง ูุฑูุฏ ุชุฏููุฑ ุงูุฃุนุฏุงุก ุนูู ุงูููุฑ ุ ูุฐูู ุณูููุญ </font></font><code>Enemy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฎุงุตูุฉ ุงูุตุญุฉ. </font><font style="vertical-align: inherit;">ููููู ุงุฎุชูุงุฑ ุฃู ูููุฉ ูุตุญุฉ ุ ูุฐูู ุฏุนููุง ูุฃุฎุฐ 100. ูููู ุณูููู ูู ุงูููุทูู ุฃูุซุฑ ููุฃุนุฏุงุก ุงููุจุงุฑ ุฃู ูุชูุชุนูุง ุจูุฒูุฏ ูู ุงูุตุญุฉ ุ ูุฐูู ุณููุฏู ูุนุงูููุง ูุฐูู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Health { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> scale, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> speed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pathOffset</span></span></span><span class="hljs-function">)</span></span> { โฆ Health = <span class="hljs-number"><span class="hljs-number">100f</span></span> * scale; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฅุถุงูุฉ ุฏุนู ููุชุนุงูู ุงูุถุฑุฑ ุ ุฅุถุงูุฉ ุทุฑููุฉ ุนุงูุฉ </font></font><code>ApplyDamage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุทุฑุญ ุงููุนููุฉ ูู ุงูุตุญุฉ. </font><font style="vertical-align: inherit;">ุณููุชุฑุถ ุฃู ุงูุถุฑุฑ ุบูุฑ ุณูุจู ุ ูุฐูู ูุถูู ุจูุงููุง ุญูู ูุฐุง.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ApplyDamage</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> damage</span></span></span><span class="hljs-function">)</span></span> { Debug.Assert(damage &gt;= <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-string"><span class="hljs-string">"Negative damage applied."</span></span>); Health -= damage; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุชุฎูุต ุนูู ุงูููุฑ ูู ุงูุนุฏู ุจูุฌุฑุฏ ูุตูู ุตุญุชู ุฅูู ุงูุตูุฑ. </font><font style="vertical-align: inherit;">ุณูุชู ุงูุชุญูู ูู ุงุณุชููุงุฏ ุงูุตุญุฉ ูุชุฏููุฑ ุงูุนุฏู ูู ุงูุจุฏุงูุฉ </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Health &lt;= <span class="hljs-number"><span class="hljs-number">0f</span></span>) { OriginFactory.Reclaim(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } โฆ }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุจูุถู ูุฐุง ุ ุณูุชู ุฅุทูุงู ุงููุงุฑ ุนูู ุฌููุน ุงูุฃุจุฑุงุฌ ุจุดูู ูุชุฒุงูู ุ ูููุณ ุจุฏูุฑู ุ ููุง ุณูุณูุญ ููู ุจุงูุงูุชูุงู ุฅูู ุฃูุฏุงู ุฃุฎุฑู ุฅุฐุง ูุงู ุงูุจุฑุฌ ุงูุณุงุจู ูุฏ ุฏูุฑ ุงูุนุฏู ุ ูุงูุฐู ูุงู ุงููุฏู ููู ุฃูุถูุง. </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุถุฑุฑ ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูุญู ุจุญุงุฌุฉ ุฅูู ุชุญุฏูุฏ ููุฏุงุฑ ุงูุถุฑุฑ ุงูุฐู ุณุชุญุฏุซู ุงูููุฒุฑ. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ุฃุถู ุฅูู </font></font><code>Tower</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญูู ุงูุชูููู. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุญุฒูุฉ ุงูููุฒุฑ ุชุชุนุฑุถ ูุฃุถุฑุงุฑ ูุณุชูุฑุฉ ุ ูุฅููุง ูุนุจุฑ ุนููุง ูุถุฑุฑ ูู ุงูุซุงููุฉ. </font><font style="vertical-align: inherit;">ูุญู </font></font><code>Shoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุทุจููุง ุนูู ุงููููู </font></font><code>Enemy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฏู ูุน ุงูุถุฑุจ ุจุญููู ููุช ุฏูุชุง.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField, Range(1f, 100f)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> damagePerSecond = <span class="hljs-number"><span class="hljs-number">10f</span></span>; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Shoot</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ target.Enemy.ApplyDamage(damagePerSecond * Time.deltaTime); }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/886/18f/199/88618f199c9c08e7eaeb89b16083f545.png" width="320" height="128" alt="ููุชุด"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gk/vt/sf/gkvtsfa1ya4igbsjagqhtnzu0wq.gif"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูู ูู ุจุฑุฌ 20 ูุญุฏุฉ ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ.</font></font></i> <br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชูุฏู ุนุดูุงุฆู </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃููุง ูุฎุชุงุฑ ุฏุงุฆููุง ุงููุฏู ุงูุฃูู ุงููุชุงุญ ุ ูุนุชูุฏ ุณููู ุงูุชุตููุจ ุนูู ุงูุชุฑุชูุจ ุงูุฐู ูุชุญูู ุจู ูุญุฑู ุงูููุฒูุงุก ูู ุงููุตุงุฏู ุงููุชูุงุทุน. ูุฐุง ุงูุงุนุชูุงุฏ ููุณ ุฌูุฏูุง ููุบุงูุฉ ุ ูุฃููุง ูุง ูุนุฑู ุงูุชูุงุตูู ุ ูุง ูููููุง ุงูุชุญูู ููู ุ ุนูุงูุฉ ุนูู ุฐูู ุ ุณูุจุฏู ุบุฑูุจูุง ูุบูุฑ ูุชุณู. ุบุงูุจูุง ูุง ูุคุฏู ูุฐุง ุงูุณููู ุฅูู ููุฑุงู ูุฑูุฒุฉ ุ ููู ูุฐุง ููุณ ูู ุงูุญุงู ุฏุงุฆููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุงูุงุนุชูุงุฏ ุจุงููุงูู ุนูู ูุญุฑู ุงูููุฒูุงุก ุ ุฏุนูุง ูุถูู ุจุนุถ ุงูุนุดูุงุฆูุฉ. ูููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ุฒูุงุฏุฉ ุนุฏุฏ ุงูุชูุงุทุนุงุช ุงูุชู ุชุชููุงูุง ุงููุตุงุฏูุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุง ูุตู ุฅูู 100. ุฑุจูุง ูู ูููู ูุฐุง ูุงููุงู ููุญุตูู ุนูู ุฌููุน ุงูุฃูุฏุงู ุงูููููุฉ ูู ุญูู ูููุก ุจุงูุฃุนุฏุงุก ุ ูููู ูุฐุง ุณูููู ูุงููุงู ูุชุญุณูู ุงููุฏู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Collider[] targetsBuffer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Collider[<span class="hljs-number"><span class="hljs-number">100</span></span>];</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุขู ุ ุจุฏูุงู ูู ุงุฎุชูุงุฑ ุงููุฏู ุงููุญุชูู ุงูุฃูู ุ ุณูุฎุชุงุฑ ุนูุตุฑูุง ุนุดูุงุฆููุง ูู ุงูุตููู. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcquireTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hits &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { target = targetsBuffer[Random.Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, hits)].GetComponent&lt;TargetPoint&gt;(); โฆ } target = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/nv/lt/hi/nvlthij_ixh6lsxgwujtoipjwg4.gif"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฏู ุนุดูุงุฆู.</font></font></i> <br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูููู ุงุณุชุฎุฏุงู ูุนุงููุฑ ุฃุฎุฑู ูุงุฎุชูุงุฑ ุงูุฃูุฏุงูุ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"> , ,        .  ,      ,     .    .             . </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐูู ุ ูู ูุนุจุฉ ุจุฑุฌ ุงูุฏูุงุน ุ ุธูุฑุช ุงูุฃุจุฑุงุฌ ุฃุฎูุฑูุง. </font><font style="vertical-align: inherit;">ูู ุงูุฌุฒุก ุงูุชุงูู ุ ุณูู ุชุฃุฎุฐ ุงููุนุจุฉ ุดูููุง ุงูููุงุฆู ุฃูุซุฑ.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar459070/">https://habr.com/ru/post/ar459070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar459052/index.html">ููููุฉ ุงูููุงุฑูุฉ: "ุณูุงุฑุฉ ูุฐููุฉ" ู "ููุฎ ูุจูุญ" ุ ูู ุงุณุชุทูุงุน ุชุณูููู ููู ุจูุงูุงุช ูุจูุฑุฉ</a></li>
<li><a href="../ar459054/index.html">ุฎุฑูุทุฉ ุงูุญุฑุงุฑุฉ ููููุฑุงุช - ููู ูุชุตุฑู ุงููุณุชุฎุฏููู ุนูู ุงููููุน</a></li>
<li><a href="../ar459062/index.html">ููุฎุต ุงูููุงุฏ ุงููุซูุฑุฉ ููุงูุชูุงู ููุทููุฑ 305 ุงููุญููู (ูู 1 ุชููุฒ (ููููู))</a></li>
<li><a href="../ar459066/index.html">ูุงุนุฏุฉ ุจูุงูุงุช ุงููุชุงุจุฉ ููุฑุงุกุฉ ุงูุชูุงุฒู</a></li>
<li><a href="../ar459068/index.html">Windows Server 2008 R2 - ุงูููู ููุช ุ ูุนูุด ุงูููู</a></li>
<li><a href="../ar459074/index.html">ุชุงููุฉ ููููุง ุงููุฑุญ # 7: ุซูุงุซุฉ ูุณุนุฑ ูุงุญุฏ - ูุญุฏุฉ ุงูุชุญูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุ ุฎูุงุฑุฒููุงุช ูุชุตุญูุญ ุงูุฃุฎุทุงุก</a></li>
<li><a href="../ar459078/index.html">ูุชุญูู CERN ุฅูู ุจุฑูุงูุฌ ููุชูุญ ุงููุตุฏุฑ - ููุงุฐุงุ</a></li>
<li><a href="../ar459080/index.html">ููุฒุงุช HttpUrlConnection ูู java.net</a></li>
<li><a href="../ar459082/index.html">ูู ูู eidetics ุ ูููู ุชุนูู ุงูุฐูุฑูุงุช ุงูุฎุงุทุฆุฉ ุ ูุซูุงุซ ุฎุฑุงูุงุช ุดุนุจูุฉ ุญูู ุงูุฐุงูุฑุฉ</a></li>
<li><a href="../ar459084/index.html">ููููุงู ุนู Google Home Hub ุ ุฃู ููู ุงุดุชุฑูุช ุฅุทุงุฑ ุตูุฑุฉ ููุงุจู 130 ููุฑู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>