<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¹ ğŸ‘ˆğŸ½ ğŸ‘°ğŸ¼ Cara taksi dengan kode lama ketika sebuah proyek dibutuhkan kemarin ğŸ¤£ ğŸ¤— â†”ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai Nama saya Ivan Melnichuk, saya Kepala Departemen Pengembangan di sebuah perusahaan IT Ukraina. Dalam publikasi saya ingin berbagi pendekatan profe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara taksi dengan kode lama ketika sebuah proyek dibutuhkan kemarin</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431562/">  Hai  Nama saya Ivan Melnichuk, saya Kepala Departemen Pengembangan di sebuah perusahaan IT Ukraina.  Dalam publikasi saya ingin berbagi pendekatan profesional pribadi saya mengenai penyelesaian masalah kode warisan dalam konteks perkembangan cepat proyek dan menceritakan tentang teknik yang digunakan oleh tim kami dalam kasus "ketika fitur perlu diserahkan" untuk kemarin ". <br><br><h3>  Kami berurusan dengan proyek </h3><br>  Untuk menyampaikan seberapa akurat, bijaksana dan susah payah bekerja dengan warisan, saya akan memberikan analogi dengan rumah kartu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dbb/e10/658/dbbe10658bed914e04ba9514627493f7.jpg" alt="gambar"></div><br>  Ini adalah kode legacy.  Jika kami memutuskan untuk melepas atau mengganti setidaknya satu kartu dari gedung ini, kami berisiko membanjiri seluruh rumah dan meratakan sisa-sisanya dengan tanah. <br><br>  Warisan berperilaku kira-kira dengan cara yang sama.  Oleh karena itu, pekerjaan seorang programmer yang mengambil tugas memodernisasi dan "bernafas kehidupan kedua" ke dalam proyek harus sampai batas tertentu perhiasan.  Sebagian besar programmer mencoba untuk menghindari dan umumnya "melompat dari topik" hutang teknis.  Bahkan menyusun parade hit dari kutipan paling umum yang harus didengar dari programmer yang tertangkap dalam kondisi lama: <br><a name="habracut"></a><br><ol><li>  <i>Kami membuat situs "sederhana", dan sekarang Anda ingin mendapatkan "roti" baru, dan kami perlu menulis ulang semua ini, karena kami memiliki warisan ...</i> </li><li>  <i>Tidak ada yang tahu bagaimana ini bekerja ..</i> </li><li>  <i>Untuk menambahkan modul, Anda perlu memeriksa seluruh situs - hanya dengan cara ini kami akan mengerti apa dan di mana itu bisa keluar ...</i> </li><li>  <i>Saya tidak akan pergi ke sana dalam hal apapun, semuanya sudah buruk di sana ...</i> </li></ol><br>  Tetapi pengalaman dalam pemrograman menunjukkan bahwa kehidupan setelah warisan ada.  Tidak ada masalah dengan pemrograman.  Hanya ada tugas yang perlu ditangani.  Dan sebelum menyusun rencana tindakan "untuk mengatasi kode warisan", Anda perlu memahami seberapa buruk hal-hal buruk pada proyek secara keseluruhan.  Dalam praktiknya, ia mengidentifikasi 6 tahapan masalah proyek: <br><br><ol><li>  <i>Tidak ada dokumentasi teknis.</i>  Ambang masalah terendah, karena Anda dapat menguji dan sampai pada perkiraan awal tentang bagaimana ini seharusnya bekerja. </li><li>  <i>Tidak ada dokumentasi bisnis.</i>  Jika semua dokumentasi (baik teknis dan bisnis) hilang, perasaan "sepertinya kita terjebak dalam sejarah" tanpa sadar datang.  Memang, bahkan sebuah bisnis tidak ingat bagaimana ini harus bekerja, yang berarti bahwa tim, setidaknya, tidak memiliki pemahaman tentang hasil yang diharapkan. </li><li>  <i>Tidak ada yang mendesain ini.</i>  Jika, selain kurangnya dokumentasi, juga tidak ada pengembang yang bisa menjelaskan bagaimana proyek seharusnya bekerja, maka itu sudah tercium. </li><li>  <i>Kami tidak tahu apa yang harus didapatkan pengguna pada akhirnya.</i>  Ini adalah satu hal ketika pertanyaan muncul hanya di sekitar backend, tetapi jika kita masih sama sekali tidak tahu apa yang harus ditampilkan di depan, maka ini sudah dekat dengan keadaan "pasien lebih mungkin mati daripada hidup". </li><li>  <i>200+ penggunaan setiap fungsi dan mereka disebut getA</i> .  Tingkat kesulitan kelima: ketika Anda masuk ke Legacy, Anda melihat fungsi A dan 200 penggunaan, dan tidak ada yang tahu mengapa itu ... </li><li>  <i>Tidak ada programmer yang ingin / bisa mengembangkan.</i>  Tidak ada komentar </li></ol><br><h3>  Memahami bisnis </h3><br>  Bisnis menghitung uang.  Bisnis tidak ingin menghabiskan sumber daya keuangan tambahan hanya untuk mengulangi apa yang sudah berfungsi.  Sebuah bisnis tidak akan pernah membeli ide: "Saya akan melakukannya dengan cara baru karena saya tidak menyukainya."  Karena itu, selalu menawarkan lebih banyak. <br><br>  Seringkali, pengembang mendorong bisnis ke ide-ide yang tidak berguna.  Pada kesempatan ini, ada "dana kutipan emas" yang terpisah. <br><br><ul><li>  <i>Kami sedang merekrut tim baru untuk â€œmenggergajiâ€ kode berkualitas tinggi.</i>  Artinya, kita membutuhkan tim spesialis yang akan melakukan proyek secara paralel dengan tim yang ada.  Bukan fakta bahwa hasilnya akan berbeda, tetapi bisnis seharusnya sudah mengandung dua proyek. </li><li>  <i>Kami berhenti menambahkan fitur, sekarang hanya refactoring!</i>  Secara resmi Anda mendeklarasikan ke bisnis: Benar-benar tabu pada fitur, hanya mungkin untuk "menertibkan" di bawah tenda.  Secara tidak resmi, Anda mengatakan bahwa tidak akan ada peningkatan skala besar dan peningkatan proyek, hanya "memperbaikinya" secara lokal. </li><li>  <i>Saya sudah memiliki semua yang saya butuhkan di WP, saya hanya perlu memigrasi basis data.</i>  Ini adalah "gejala" dari seorang pemula.  Lagu favorit Juni: ini adalah situs yang sederhana, hanya bekerja selama satu atau dua jam ... </li></ul><br>  Untuk bernegosiasi dengan bisnis mengenai reinkarnasi kode usang, yang disajikan di bawah saus fitur menguntungkan baru, perlu dari posisi membuka cakrawala bisnis baru.  Namun, sebelum negosiasi, pertanyaan-pertanyaan berikut harus dijawab: <br><br><ol><li>  <b>Apakah bisnis sudah siap untuk tumbuh?</b>  Anda perlu memahami: apakah bisnis memiliki permintaan untuk meningkatkan standar keuangan atau hanya perlu layanan untuk bekerja lebih kompeten. </li><li>  <b>Tahap prototipe?</b>  Seringkali, suatu bisnis memesan prototipe sederhana, yang dengannya ia ingin â€œmenyelidikiâ€ pasar pada saat relevansi produk.  Dan hanya jika ia mulai menghasilkan uang, bisnis siap untuk mengembangkan fitur menjadi proyek yang lebih maju dan lengkap. </li><li>  <b>Pengembangan selesai dan sekarang hanya mendukung?</b>  Penting untuk memahami berbagai tugas. </li><li>  <b>Apakah ada cukup api di mata kita dan tidak akan padam?</b>  Proyek ini harus menginspirasi, bukan mendemotivasi.  Sangat penting bahwa tim Anda ingin terlibat dalam reinkarnasi Legacy, jika tidak orang akan secara bertahap menyebar ke proyek yang lebih menarik bagi mereka. </li><li>  <b>Apakah ada arsitek?</b>  Ini adalah pertanyaan yang paling penting - apakah Anda memiliki orang yang dapat membuat arsitektur yang tepat dan mulai menulis kode yang baik.  Tidak masuk akal untuk mencoba memulai jika tidak ada arsitek.  Jika tidak, dalam seminggu Anda akan menjadi orang yang menciptakan masalah warisan. </li></ol><br>  Saat Anda menjual ide ke bisnis, fokus pada pesan "baru, buat, tambahkan" ... Bisnis merespons dengan sangat baik penawaran dari seri: "Kami akan membuat Anda fitur baru dan proyek X akan lebih cepat ..." dan "Untuk meningkatkan konversi, tambahkan yang baru ... â€ <br><br><h3>  P - Perencanaan </h3><br>  Untuk bekerja dengan cepat dan efisien dengan utang teknis, Anda memerlukan rencana. <br><br>  1. <i>Definisi tugas yang akan kita parasitisasi.</i>  Mengapa parasit  Ini sering terjadi: kami menjual fitur, dan sebagian kami maksudkan refactoring. <br><br>  2. <i>Definisi persyaratan tingkat tinggi.</i>  Penting untuk mendaftarkan permintaan bisnis yang jelas untuk "standar tinggi" untuk menyusun dokumentasi yang benar. <br><br>  3. <i>Definisi modul utama sistem, pembebanan modul.</i>  Sebelum memulai refactoring, Anda perlu memahami modul utama sistem: di mana, bagaimana, apa, dan dengan apa yang dapat berinteraksi dan membatasi kode menjadi beberapa bagian. <br><br>  4. <i>Definisi integrasi.</i>  Saat membuat modul tertentu, kita perlu memikirkan terlebih dahulu tentang kemampuan untuk memasangnya di warisan tetangga. <br><br>  5. <i>Definisi tim.</i>  Satu di bidang refactoring bukanlah seorang pejuang.  Tim adalah elemen yang sangat penting dari hasil yang sukses.  Semangat, dorongan tim, dan interaksi yang sangat baik antara para peserta dalam harus memiliki proses. <br><br>  6. <i>Bagaimana kita akan menguji?</i>  Jika Anda akan mengambil proyek berkualitas tinggi, maka Anda harus berpikir ke depan dan opsi pengujian produk. <br><br>  Bersamaan dengan hal di atas, penting juga untuk menentukan seperti apa hasil akhir yang diinginkan, menyusun rencana penskalaan, dan mendaftarkan kemacetan proyek.  Misalnya, dalam kasus penskalaan kode, penting untuk memahami di mana masalah berpotensi timbul dalam kondisi beban tinggi (dapat berupa database, atau kueri berat, atau kisi, atau tautan perantara lainnya yang dapat "jatuh"). <cut></cut><br><br>  Sama pentingnya untuk menentukan batas-batas proyek, di mana ada kode lama dan di mana akan ada tingkat baru "karya besar".  Anda juga harus mempertimbangkan pendekatan untuk layanan-layanan microser, atau DDD, atau, mungkin, Anda memerlukan lebih banyak "nanomagy". <br><br><h3>  Teknik Warisan Ninja </h3><br>  Setelah "pekerjaan persiapan" kita sampai pada teknik yang memfasilitasi proses menabung utang teknis.  Tidak ada resep dan obat mujarab universal untuk semua penyakit di Legacy, tetapi saat mengerjakan proyek highload saya membuat daftar bahan-bahan yang dengannya Anda dapat menyiapkan kode yang benar-benar â€œenakâ€. <br><br>  1. <b>Jangan menemukan kembali roda.</b>  Bagi saya, ini adalah hack kehidupan utama untuk menulis kode.  Semuanya telah ditemukan sebelum Anda, jangan resor untuk menari dengan rebana dan eksperimen lain untuk memecahkan masalah dengan kode warisan. <br><br>  2. <b>Kode standar.</b>  Tanpa standar tunggal, setiap pengembang akan menulis dengan caranya sendiri.  "Gaya penulis" akan berkontribusi pada kekacauan dan meningkatkan lebih banyak lagi kode sampah. <br><br>  3. Ulasan <b>kode.</b>  Tidak hanya satu keberadaan standar kode.  Tim juga bertanggung jawab untuk memeriksanya.  Kalau tidak, semuanya akan kembali normal, yaitu ke level kode lama. <br><br>  4. <b>Analisis Kode Statis, detektor kekacauan PHP dll (bukan seribu buku)</b> .  Ini dan teknik otomatis lainnya akan diperlukan untuk mempercepat proses, khususnya dengan kode ulasan yang sama. <br><br>  5. <b>Kami mencoba layanan microser.</b>  Secara terpisah, mungkin ada modul atau perpustakaan.  Mengapa layanan microser?  Keuntungan mereka adalah mengisolasi logika sebanyak mungkin dan membatasinya pada API tertentu.  Keuntungan dari yang terakhir adalah bahwa API adalah entitas yang lebih monolitik dibandingkan dengan "adaptor dalam kode yang dapat diperbaiki".  Namun, API memiliki satu kelemahan dalam bentuk biaya jaringan tambahan. <cut></cut><br><br>  6. <b>Arsitektur basis data, sumber data.</b>  Ini adalah basis data yang saya anggap sebagai bottleneck pertama dari Legacy apa pun.  Tetapi semua orang mendesain sesuai keinginannya, dan bahkan dalam SQL, Anda dapat menemukan kekurangan yang tidak fokus.  Berikut ini beberapa kiat untuk bekerja dengan database baru: <br><br><ul><li>  <i>Sekrup tidak apa-apa, haus untuk segalanya.</i>  Jika Anda ingin mengubah struktur data yang salah menjadi format data baru, lebih cepat dan lebih produktif, Anda bisa menggunakan dua cara.  Yang pertama adalah menempatkan di basis baru, benar-benar menghapus yang lama, dan apa pun yang terjadi.  Yang kedua - dalam kasus warisan keras, memperkenalkan format baru secara paralel.  Secara kiasan, untuk menanam yang baru di dekat pohon tua.  Mengapa cara kedua dibenarkan dan lebih menjanjikan?  Karena semua yang baru akan bekerja secara efisien, dan jika masalah muncul selama tahap penerapan atau integrasi, Anda dapat memutar kembali kode, dan tidak perlu memutar kembali semua migrasi basis data yang kompleks. </li><li>  <i>Database baru dibuat dalam struktur yang benar.</i>  Saat membuat sumber daya baru, penting untuk mengontrol tempat kita menulis struktur baru.  Secara paralel, perlu untuk membuat dukungan untuk struktur lama, karena tidak praktis untuk menyingkirkannya sepenuhnya.  Artinya, kami terus menulis materi baru, dan pada saat yang sama kami mendukung templat lama, di mana kami menerjemahkan semua yang baru, dan dengan demikian memungkinkan yang lama untuk bekerja juga - seolah-olah dengan cara lama, tetapi mendukung struktur baru. </li><li>  <i>Kami mengontrol seluruh rekaman.</i>  Kami tidak ketinggalan detail dari bidang perhatian untuk menjamin dukungan database. </li></ul><br>  7. <b>Tapi SQL?</b>  Jika dari sudut pandang arsitektur Anda dapat beroperasi dengan entitas - beroperasi.  Konsep sesuatu yang pasti dan terbatas akan membantu Anda untuk tidak menciptakan hubungan duplikat yang tidak perlu. <cut></cut><br><br>  8. <b>Dekorator, adapter, picks ...</b> Pola-pola ini adalah salah satu yang utama untuk mengintegrasikan kode baru ke dalam warisan lama. <br><br>  9. <b>Rencana B, atau rencana rollback untuk integrasi.</b>  Banyak yang membuat kesalahan dengan melupakannya.  Sangat penting dalam situasi "ketika terjadi kesalahan" ketika menuangkan materi baru.  Yaitu, segera setelah kita mulai membangun arsitektur, sudah pada tahap ini kita harus memahami bagaimana kita akan mengembalikannya jika ada bug. <br><br>  10. <b>Kode baru tanpa tes (dok) menjadi warisan dalam seminggu.</b>  Tidak peduli betapa cantiknya kode Anda, tanpa dokumentasi dalam satu minggu kode itu akan berada dalam status "warisan" - karena tidak dapat dipahami. <br><br>  11. <b>Pengujian.</b>  Jika tes unit terlalu mahal, maka kami menggunakan tes asap, fungsional, dan integrasi.  Seberapa realistis untuk menjual unit test ke bisnis dengan saus "untuk membuat pekerjaan menjadi indah?"  Dalam realitas kita, ini lebih jarang daripada sebuah pola.  Jika karena alasan tertentu itu tidak berhasil dengan "unit", maka kami beralih ke smok, tes fungsional atau integrasi, dan juga jangan lupa bahwa kami dapat mendelegasikan tugas, misalnya, ke penguji manual. <br><br><h3>  Alih-alih sebuah epilog </h3><br>  Hal yang paling penting dalam cerita ini adalah melakukan pekerjaan dan tidak meninggalkan warisan 6 tahap bermasalah (tercantum dalam urutan dari yang sederhana hingga yang lebih kompleks): <br><br><ul><li>  Tidak ada dokumentasi teknis </li><li>  Tidak ada dokumentasi bisnis </li><li>  Tidak ada yang mengembangkan ini </li><li>  Kami tidak tahu apa yang harus diterima pengguna. </li><li>  200+ penggunaan setiap fungsi dan mereka disebut getA () </li><li>  Tidak ada orang yang mau / bisa mengembangkan ini. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id431562/">https://habr.com/ru/post/id431562/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id431550/index.html">Pembuatan Film Injeksi (IMD): Cara Kerjanya</a></li>
<li><a href="../id431554/index.html">Facebook menyukai penghitung dari meteran listrik lama</a></li>
<li><a href="../id431556/index.html">Sidenis bekerja dengan perusahaan asuransi, pelatihan lincah dan teknologi yang dilarang</a></li>
<li><a href="../id431558/index.html">Jika menciptakan bahasa pemrograman abad ke-21</a></li>
<li><a href="../id431560/index.html">Akses ke jaringan pensinyalan SS7 melalui subsistem radio - sekarang dimungkinkan</a></li>
<li><a href="../id431564/index.html">Kesalahan terbesar dalam sejarah fisika</a></li>
<li><a href="../id431566/index.html">Accelerometer dan Giroskop MEMS - Memahami Spesifikasi</a></li>
<li><a href="../id431568/index.html">Intisari Fintech: bayar melalui telepon, serangan ATM lagi, pelembagaan cryptosphere</a></li>
<li><a href="../id431570/index.html">Studi Keamanan Pembayaran Parkir</a></li>
<li><a href="../id431572/index.html">Cara menulis persyaratan fungsional</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>