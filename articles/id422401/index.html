<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ğŸ½ ğŸ˜¥ ğŸº Kerangka kerja plugin C ++ lainnya ğŸ¸ â˜¦ï¸ ğŸ†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entri 


 Siapa yang tidak mengunjungi, menggunakan perpustakaan open-source, berpikir: "Terima kasih kepada orang-orang ini untuk lib keren ini! Suat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kerangka kerja plugin C ++ lainnya</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422401/"><h2 id="vstuplenie">  Entri </h2><br><p>  Siapa yang tidak mengunjungi, menggunakan perpustakaan open-source, berpikir: <em>"Terima kasih kepada orang-orang ini untuk lib keren ini!</em>  <em>Suatu hari nanti saya akan menulis sesuatu yang bermanfaat dan menaruhnya di tempat umum agar orang lain dapat menggunakannya! "</em> </p><br><p>  Ya semuanya!  Atau tidak? </p><a name="habracut"></a><br><p> Dengan munculnya standar C ++ 17, kami <code></code> diselesaikan lebih cepat dan lebih ramping, hanya perlu ingin mewujudkan dikandung ide dan mampu menerapkan dalam kasus permen, yang kita memanjakan orang dari <strong>WG21.</strong> <br> <code>    ? : #,     )) ...</code> </p> <br><h2 id="predystoriya">  Latar belakang </h2><br><p>  Topik plugin cukup menarik, karena memungkinkan Anda untuk membuat fungsionalitas baru dalam Perangkat Lunak (perangkat lunak) tanpa membuat perubahan pada inti program, tetapi pada saat yang sama, antarmuka untuk interaksi harus dipikirkan dan ditulis: <strong>Perangkat Lunak</strong> &lt;-&gt; <strong>Plugins</strong> <strong>Manager</strong> &lt;-&gt; <strong>Plugins</strong> . </p><br><p>  Saya memiliki pengalaman (tidak berhasil) dalam mewawancarai perusahaan yang memiliki sistem plug-in sendiri untuk sistem embedded, karena kompleksitas arsitektur di mana saya gagal dalam tugas pengujian.  Ada banyak makro di dalam kelas dasar dari mana ia diturunkan, dan banyak hal yang membuat kehidupan sehari-hari programmer kelabu pada saat menggunakan solusi seperti itu ... </p><br><p>  Pada salah satu momen pendidikan mandiri, dan membaca artikel tentang C ++ 17, diputuskan untuk mengkonsolidasikan pengetahuan yang diperoleh saat menulis sistem plug-in yang akan dimengerti dan mudah digunakan. </p><br><p>  Seberapa buruk atau baiknya saya melakukannya - menghakimi Anda, orang Khabrovit tersayang ... </p><br><h2 id="obzor">  Ulasan </h2><br><h3 id="vozmozhnosti-biblioteki">  Fitur perpustakaan </h3><br><ul><li>  Plugin sebagai layanan (dijalankan dalam perdagangan terpisah) </li><li>  Bongkar plugin yang tidak digunakan secara otomatis </li></ul><br><h3 id="plyusy">  Pro </h3><br><ul><li>  Kemudahan penggunaan </li><li>  Eksekusi tugas yang tidak sinkron </li><li>  Desain hanya header </li></ul><br><h3 id="minusy">  Cons </h3><br><ul><li>  Jika sebuah plugin baru dimasukkan ke dalam sistem, itu harus dikompilasi dengan versi kompiler yang sama dengan manajer yang mengunduhnya (serta libstdc ++) untuk kompatibilitas ABI </li><li>  Tembolok konstan dari std :: any ke tipe yang digunakan? </li><li>  Validasi masa depan? </li></ul><br><h3 id="sozdanie-plagina">  Pembuatan plugin </h3><br><pre> <code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">myplugin</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> micro::iplugin { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: myplugin(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ver, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&amp; nm):micro::iplugin(ver, nm) { <span class="hljs-comment"><span class="hljs-comment">//     subscribe&lt;2&gt;("sum2", [](std::any a, std::any b)-&gt; std::any { return std::any_cast&lt;int&gt;(a) + std::any_cast&lt;int&gt;(b); }, "  " ); } };</span></span></code> </pre> <br><h3 id="zagruzka-plagina">  Unduh plugin </h3><br><pre> <code class="hljs cpp"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;micro::plugins&gt; manager = micro::plugins::get(); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;micro::iplugin&gt; myplugin = manager-&gt;get_plugin(<span class="hljs-string"><span class="hljs-string">"myplugin"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (myplugin &amp;&amp; myplugin-&gt;has&lt;<span class="hljs-number"><span class="hljs-number">2</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"sum2"</span></span>)) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::shared_future&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::any&gt; result = myplugin-&gt;run&lt;<span class="hljs-number"><span class="hljs-number">2</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"sum2"</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>); result.wait(); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::any_cast&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(result.get()) &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }</code> </pre> <br><p>  Lihat contoh lebih rinci <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di halaman proyek.</a> </p><br><h2 id="vmesto-zaklyucheniya">  Alih-alih sebuah kesimpulan </h2><br><p>  Saya sangat senang membaca artikel informatif tentang Habra di C ++ (dan tidak hanya di C ++), <br>  Saya harap Anda akan menemukan artikel ini menarik dan setidaknya informatif. </p><br><p>  Menurut pendapat saya yang sederhana, Anda dapat menggunakan lib di prod, biarkan mereka melihat C + + lebih otoritatif dan mengucapkan kata-kata mereka, kode sumber didokumentasikan dengan baik dan tidak banyak dari mereka - sekitar 1000 baris. </p><br><h2 id="ssylka-na-proekt">  Tautan ke proyek </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">microplugins</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id422401/">https://habr.com/ru/post/id422401/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id422385/index.html">Memori virtual di ARMv7</a></li>
<li><a href="../id422389/index.html">Seni membengkokkan yang terlupakan: bagaimana melindungi tulang belakang dalam budaya lain</a></li>
<li><a href="../id422395/index.html">Baru yang terlupakan: setelah bertahun-tahun, penerus MikroTik RB2011</a></li>
<li><a href="../id422397/index.html">â€œHal utama adalah saya melewatinyaâ€: apa dan bagaimana yang akan diajarkan oleh spesialis TI di Berlin</a></li>
<li><a href="../id422399/index.html">Proses ulasan kode di hh.ru</a></li>
<li><a href="../id422403/index.html">20 September, Moskow - pertemuan untuk para analis</a></li>
<li><a href="../id422407/index.html">Temukan dan urutkan teks terkait</a></li>
<li><a href="../id422409/index.html">Python: metaprogramming dalam produksi. Bagian satu</a></li>
<li><a href="../id422411/index.html">Peran baru dalam perusahaan di era servitisasi</a></li>
<li><a href="../id422413/index.html">Aplikasi Arm Mbed OS. Penyetelan yang bagus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>