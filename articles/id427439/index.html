<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¶üèº üßëüèΩ üîá Seluruh kebenaran tentang RTOS. Artikel # 16. Sinyal ü§® üé® üë©üèº‚Äçü§ù‚Äçüë®üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini akan melihat sinyal, yang merupakan mekanisme interaksi paling sederhana antara tugas-tugas di Nucleus SE. Mereka menyediakan cara murah u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Seluruh kebenaran tentang RTOS. Artikel # 16. Sinyal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427439/"><img src="https://habrastorage.org/webt/px/wm/t4/pxwmt4bbchih_uwlzsmgubcn1cy.jpeg"><br><br>  Artikel ini akan melihat sinyal, yang merupakan mekanisme interaksi paling sederhana antara tugas-tugas di Nucleus SE.  Mereka menyediakan cara murah untuk mentransfer pesan sederhana antar tugas. <br><a name="habracut"></a><br><br>  Artikel sebelumnya dalam seri: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 15.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Partisi Memori: Layanan dan Struktur Data</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 14.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian memori: pengantar dan layanan dasar</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 13.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Struktur data tugas dan panggilan API yang tidak didukung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 12.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Layanan untuk bekerja dengan tugas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 11.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tugas: konfigurasi dan pengantar API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 10.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penjadwal: fitur canggih dan pelestarian konteks</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 9.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penjadwal: implementasi</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nucleus SE: Desain dan Penyebaran Internal</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nucleus SE: Pendahuluan</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Layanan RTOS lainnya</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Interaksi tugas dan sinkronisasi</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tugas, pengalihan konteks, dan interupsi</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tugas dan Perencanaan</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RTOS: Struktur dan mode waktu-nyata</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RTOS: pengantar.</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><br></a> <br><h2>  Menggunakan sinyal </h2><br>  Sinyal berbeda dari semua jenis objek kernel lainnya karena tidak otonom: sinyal dikaitkan dengan tugas dan tidak dapat ada tanpa itu.  Jika aplikasi dikonfigurasi untuk menggunakan sinyal, maka setiap tugas memiliki satu set delapan tanda sinyal. <br><br>  Tugas apa pun dapat mengatur sinyal untuk tugas lain.  Sinyal hanya dapat dibaca oleh pemilik sinyal.  Saat membaca, sinyal diset ulang.  Tugas tidak dapat membaca atau mengatur ulang sinyal dari tugas lain. <br><br>  Nucleus RTOS memiliki alat yang memungkinkan tugas untuk menetapkan fungsi yang berjalan ketika tugas lain menetapkan satu atau lebih tanda sinyal.  Ini agak mengingatkan pada rutinitas interupsi.  Fitur ini tidak didukung di Nucleus SE; di sini, tugas harus meminta tanda sinyal secara eksplisit. <br><br><h2>  Pengaturan sinyal </h2><br>  Seperti kebanyakan objek Nucleus SE, penyetelan sinyal ditentukan oleh arahan <b>#define</b> di <b>nuse_config.h</b> .  Parameter utama adalah <b>NUSE_SIGNAL_SUPPORT</b> , yang mengaktifkan dukungan fungsionalitas (untuk semua tugas dalam aplikasi).  Pertanyaan menunjukkan jumlah sinyal tidak layak: 8 flag dialokasikan untuk setiap tugas. <br><br>  Pengaturan ini memungkinkan parameter berfungsi sebagai penggerak sinyal utama.  Ini memberikan struktur data yang jelas memiliki ukuran yang sesuai.  Selain itu, opsi ini mengaktifkan pengaturan API. <br><br><h3>  Aktifkan Panggilan API </h3><br>  Setiap fungsi API (panggilan utilitas) di Nucleus SE diaktifkan oleh arahan <b>#define</b> di <b>nuse_config.h</b> .  Untuk sinyal, ini termasuk: <br><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">NUSE_SIGNALS_SEND</span></span> NUSE_SIGNALS_RECEIVE</code> </pre> <br>  Secara default, mereka diatur ke <b>FALSE</b> , sehingga menonaktifkan setiap panggilan layanan dan mencegah kode yang mengaktifkannya diaktifkan.  Untuk mengkonfigurasi sinyal dalam aplikasi, Anda harus memilih panggilan API yang diperlukan dan mengatur arahan yang sesuai ke <b>TRUE</b> . <br><br>  Berikut ini adalah kutipan dari file <b>nuse_config.h</b> default: <br><br><pre> <code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> NUSE_SIGNAL_SUPPORT FALSE </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Enables support for signals */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> NUSE_SIGNALS_SEND FALSE </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Service call enabler */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> NUSE_SIGNALS_RECEIVE FALSE </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Service call enabler */</span></span></span></span></code> </pre><br>  Fungsi API yang diaktifkan dengan dukungan pensinyalan dimatikan akan menghasilkan kesalahan kompilasi.  Jika kode Anda menggunakan panggilan API yang belum diaktifkan, kesalahan tata letak akan terjadi karena kode implementasi tidak termasuk dalam aplikasi.  Tentu saja, penyertaan dua fungsi API agak tidak perlu, karena tidak ada gunanya mengaktifkan dukungan sinyal tanpa adanya API ini.  Aktivator telah ditambahkan untuk kompatibilitas dengan fitur Nucleus SE lainnya. <br><br><h2>  Sinyal Panggilan </h2><br>  Nucleus RTOS mendukung empat panggilan overhead terkait-sinyal yang menyediakan fungsionalitas berikut: <br><br><ul><li>  Mengirim sinyal ke tugas yang diberikan.  Nucleus SE diimplementasikan dalam fungsi <b>NUSE_Signals_Send ()</b> . </li><li>  Penerimaan sinyal.  Nucleus SE diimplementasikan dalam fungsi <b>NUSE_Signals_Receive ()</b> . </li><li>  Registrasi pengendali sinyal.  Tidak diterapkan di Nucleus SE. </li><li>  Menghidupkan / mematikan sinyal (kontrol).  Tidak diterapkan di Nucleus SE. </li></ul><br>  Implementasi dari masing-masing tantangan ini dibahas secara rinci di bawah ini. <br><br><h2>  Memberi sinyal dan menerima layanan </h2><br>  Operasi mendasar yang dapat dilakukan pada satu set sinyal tugas adalah mengirim data (dapat dilakukan oleh tugas apa pun) dan membaca data (karenanya, membersihkan data hanya dapat dilakukan oleh tugas pemilik).  Nucleus RTOS dan Nucleus SE menyediakan dua panggilan API dasar untuk operasi ini, yang akan dijelaskan di bawah ini. <br><br>  Karena sinyal adalah bit, mereka divisualisasikan sebagai angka biner.  Karena standar C secara historis tidak mendukung representasi konstanta biner (hanya oktal dan heksadesimal), Nucleus SE memiliki file header yang bermanfaat <b>nuse_binary.h</b> yang berisi karakter <b>#define</b> seperti <b>b01010101</b> untuk semua 256 nilai 8-bit.  Berikut ini adalah kutipan dari file <b>nuse_binary.h</b> : <br><br><pre> <code class="hljs lisp">#define b00000000 ((<span class="hljs-name"><span class="hljs-name">U8</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>x00) #define b00000001 ((<span class="hljs-name"><span class="hljs-name">U8</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>x01) #define b00000010 ((<span class="hljs-name"><span class="hljs-name">U8</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>x02) #define b00000011 ((<span class="hljs-name"><span class="hljs-name">U8</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>x03) #define b00000100 ((<span class="hljs-name"><span class="hljs-name">U8</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>x04) #define b00000101 ((<span class="hljs-name"><span class="hljs-name">U8</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>x05)</code> </pre><br><h3>  Mengirim sinyal </h3><br>  Tugas apa pun dapat mengirim sinyal ke tugas lain dalam aplikasi.  Mengirim sinyal melibatkan pengaturan satu atau beberapa flag sinyal.  Ini adalah operasi ATAU yang tidak memengaruhi flag yang ditetapkan sebelumnya. <br><br>  <b><i>Panggilan untuk mengirim sinyal ke Nucleus RTOS</i></b> <br>  Prototipe panggilan layanan: <br>  <b>STATUS NU_Send_Signals (tugas NU_TASK *, sinyal TANDA TANGAN);</b> <br><br>  Parameter: <br><br>  penunjuk <b>tugas</b> - ke unit kendali tugas di mana bendera sinyal yang ditetapkan berada; <br>  <b>sinyal</b> - nilai flag sinyal yang ditetapkan. <br><br>  Nilai pengembalian: <br><br>  <b>NU_SUCCESS</b> - panggilan berhasil diselesaikan; <br>  <b>NU_INVALID_TASK</b> - penunjuk tidak valid untuk tugas; <br><br>  <b><i>Panggilan untuk mengirim sinyal ke Nucleus SE</i></b> <br>  Panggilan API ini mendukung fungsionalitas inti API Nucleus RTOS. <br><br>  Prototipe panggilan layanan: <br><br>  <b>STATUS_NUSE_Signals_Send (Tugas NUSE_TASK, sinyal U8);</b> <br><br>  Parameter: <br><br>  <b>task</b> - index (ID) dari tugas yang dimiliki flag sinyal yang ditetapkan; <br>  <b>sinyal</b> - nilai flag sinyal yang ditetapkan. <br><br>  Nilai pengembalian: <br><br>  <b>NUSE_SUCCESS</b> - panggilan layanan berhasil diselesaikan; <br>  <b>NUSE_INVALID_TASK</b> - indeks tugas tidak valid. <br><br>  <b><i>Menerapkan Signaling di Nucleus SE</i></b> <br>  Di bawah ini adalah kode lengkap untuk fungsi NUSE_Signals_Send (): <br><br><pre> <code class="hljs kotlin">STATUS NUSE_Signals_Send(NUSE_TASK task, U8 signals) { #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> NUSE_API_PARAMETER_CHECKING <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (task &gt;= NUSE_TASK_NUMBER) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NUSE_INVALID_TASK; } #endif NUSE_CS_Enter(); NUSE_Task_Signal_Flags[task] |= signals; NUSE_CS_Exit(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NUSE_SUCCESS; }</code> </pre><br>  Kode ini sangat sederhana.  Setelah setiap verifikasi parameter, nilai sinyal melewati operasi ATAU pada bendera sinyal dari tugas yang ditentukan.  Mengunci tugas tidak mempengaruhi sinyal. <br><br><h3>  Menerima sinyal </h3><br>  Suatu tugas hanya dapat membaca set flag sinyalnya sendiri.  Saat membaca, nilai-nilai bendera diatur ulang. <br><br>  <b><i>Panggilan untuk menerima sinyal dalam Nucleus RTOS</i></b> <br>  Prototipe panggilan layanan: <br>  <b>NU_Receive_Signals (VOID) TIDAK DITANDATANGANI;</b> <br><br>  Parameter: tidak ada. <br><br>  Nilai pengembalian: <br>  Nilai bendera sinyal. <br><br>  <b><i>Panggilan untuk menerima sinyal dalam Nucleus SE</i></b> <br>  Panggilan API ini mendukung fungsionalitas inti API Nucleus RTOS. <br><br>  Prototipe panggilan layanan: <br>  <b>U8 NUSE_Signals_Receive (void);</b> <br><br>  Parameter: tidak ada. <br><br>  Nilai pengembalian: <br>  Nilai bendera sinyal. <br><br>  <b><i>Implementasi Penerimaan Sinyal Inti N</i></b> <br>  Berikut ini adalah kode lengkap untuk fungsi <b>NUSE_Signals_Receive ()</b> : <br><br><pre> <code class="hljs powershell">U8 NUSE_Signals_Receive(void) { U8 signals; NUSE_CS_Enter(); Signals = NUSE_Task_Signal_Flags[<span class="hljs-type"><span class="hljs-type">NUSE_Task_Active</span></span>]; NUSE_Task_Signal_Flags[<span class="hljs-type"><span class="hljs-type">NUSE_Task_Active</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span>; NUSE_CS_Exit(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> signals; }</code> </pre><br>  Kode ini sangat sederhana.  Nilai bendera disalin, nilai awal diatur ulang, dan salinan dikembalikan oleh fungsi API.  Mengunci tugas tidak mempengaruhi sinyal. <br><br><h2>  Struktur data </h2><br>  Karena sinyal bukan objek independen, penggunaan memori tergantung pada tugas yang menjadi tanggung jawabnya.  Di bawah ini adalah beberapa informasi untuk pemahaman lengkap.  Sinyal menggunakan satu struktur data (dalam RAM), yang, seperti objek Nucleus SE lainnya, adalah tabel yang dimensinya sesuai dengan jumlah tugas dalam aplikasi.  Struktur data ini hanya digunakan jika dukungan sinyal diaktifkan. <br><br>  Saya sangat merekomendasikan bahwa kode aplikasi tidak mengakses struktur data ini secara langsung, tetapi menggunakan fungsi API yang tersedia.  Ini menghindari ketidakcocokan dengan versi Nucleus SE di masa depan, efek samping yang tidak diinginkan, dan juga menyederhanakan porting aplikasi ke Nucleus RTOS.  Struktur data dibahas secara rinci di bawah ini untuk menyederhanakan pemahaman panggilan layanan dan prinsip-prinsip debugging. <br><br><h3>  Struktur data ditempatkan dalam RAM </h3><br>  Struktur data: <br>  <b>NUSE_Task_Signal_Flags []</b> - larik tipe U8 dengan satu entri untuk setiap tugas yang dikonfigurasi, bendera sinyal disimpan dalam larik ini. <br><br>  Struktur data ini diinisialisasi ke nol oleh fungsi <b>NUSE_Init_Task ()</b> saat memuat Nucleus SE. <br><br><h3>  Struktur data ditempatkan di ROM </h3><br>  Sinyal tidak memiliki struktur data dalam ROM. <br><br><h3>  Jumlah memori untuk menyimpan data sinyal </h3><br>  Seperti dengan semua objek inti Nucleus SE, jumlah memori yang diperlukan untuk sinyal dapat diprediksi. <br><br>  Jumlah data dalam ROM untuk semua sinyal dalam aplikasi adalah 0. <br><br>  Jumlah memori untuk menyimpan data dalam RAM (dalam byte) untuk semua sinyal dalam aplikasi sama dengan jumlah tugas yang dikonfigurasi ( <b>NUSE_TASK_NUMBER</b> ).  Namun pada kenyataannya, data ini milik tugas dan dijelaskan dalam artikel sebelumnya tentang tugas. <br><br><h2>  Panggilan API yang belum direalisasi </h2><br>  Dua panggilan pensinyalan Nucleus RTOS API tidak diterapkan di Nucleus SE: <br><br><h3>  Pendaftaran Pengendali Sinyal </h3><br>  Panggilan API ini mengatur prosedur pemrosesan sinyal (fungsi) untuk tugas saat ini.  Nucleus SE tidak memerlukan ini karena penangan sinyal tidak didukung. <br><br>  Prototipe panggilan layanan: <br>  <b>STATUS NU_Register_Signal_Handler (VOID (* signal_handler) (UNSIGNED));</b> <br><br>  Parameter: <br>  <b>signal_handler</b> - fungsi yang harus dipanggil saat menerima sinyal <br><br>  Nilai pengembalian: <br>  <b>NU_SUCCESS</b> - panggilan berhasil diselesaikan; <br>  <b>NU_INVALID_POINTER</b> - pointer nol ke penangan sinyal ( <b>NULL</b> ) <br><br><h3>  Kontrol (aktivasi / deaktivasi) sinyal </h3><br>  Layanan ini mengaktifkan dan / atau menonaktifkan sinyal untuk tugas saat ini.  Untuk setiap tugas, 32 sinyal tersedia.  Setiap sinyal diwakili oleh sedikit di <b>signal_enable_mask</b> .  Menambahkan sedikit ke <b>signal_enable_mask</b> memungkinkan sinyal yang sesuai, dan menghapus sedikit menonaktifkannya. <br><br>  Prototipe panggilan layanan: <br>  <b>NU_Control_Signals UNSIGNED (UNSIGNED enable_signal_mask);</b> <br><br>  Parameter: <br>  <b>enable_signal_mask</b> - pola bit yang mewakili sinyal yang benar. <br><br>  Nilai pengembalian: <br>  Mask untuk mengaktifkan / menonaktifkan sinyal sebelumnya. <br><br><h2>  Kompatibel dengan RTOS Inti </h2><br>  Ketika mengembangkan Nucleus SE, tujuan saya adalah menjaga level kode agar kompatibel dengan Nucleus RTOS.  Sinyal tidak terkecuali, dan, dari sudut pandang pengembang, mereka diimplementasikan dalam banyak cara yang sama seperti di Nucleus RTOS.  Ada beberapa ketidakcocokan yang saya anggap valid, mengingat bahwa kode akhir jauh lebih mudah dipahami dan dapat menggunakan memori lebih efisien.  Jika tidak, panggilan Nucleus RTOS API hampir dapat ditransfer langsung ke panggilan Nucleus SE. <br><br><h3>  Penangan sinyal </h3><br>  Dalam Nucleus SE, penangan sinyal tidak diterapkan untuk menyederhanakan struktur keseluruhan. <br><br><h3>  Ketersediaan dan kuantitas sinyal </h3><br>  Dalam Nucleus RTOS, tugas dapat memiliki 32 tanda sinyal.  Di Nucleus SE, saya memutuskan untuk mengurangi jumlah mereka menjadi delapan, karena ini akan cukup untuk aplikasi yang lebih sederhana dan akan menghemat sumber daya RAM.  Jika perlu, sinyal dapat dimatikan sepenuhnya. <br><br><h3>  Panggilan API yang belum direalisasi </h3><br>  Nucleus RTOS mendukung empat panggilan layanan pensinyalan.  Dari jumlah tersebut, dua tidak diimplementasikan dalam Nucleus SE.  Deskripsi mereka dapat ditemukan di atas di bagian "Panggilan API Tidak Direalisasikan". <br><br>  <b>Tentang Pengarang:</b> Colin Walls telah bekerja di industri elektronik selama lebih dari tiga puluh tahun, mencurahkan sebagian besar waktunya untuk firmware.  Dia sekarang seorang insinyur firmware di Mentor Embedded (sebuah divisi dari Mentor Graphics).  Colin Walls sering berbicara di konferensi dan seminar, penulis berbagai artikel teknis dan dua buku tentang firmware.  Tinggal di Inggris.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Blog</a> profesional <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Colin</a> , email: colin_walls@mentor.com. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id427439/">https://habr.com/ru/post/id427439/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id427429/index.html">Kerangka kerja GUI - per utas</a></li>
<li><a href="../id427431/index.html">Bagaimana Android Bekerja, Bagian 4</a></li>
<li><a href="../id427433/index.html">Penyeimbangan lalu lintas di jaringan IP operator</a></li>
<li><a href="../id427435/index.html">STM32H7 - pengaturan jam tanpa HAL</a></li>
<li><a href="../id427437/index.html">Mengkonfigurasi server tertaut: ms sql server dan teradata</a></li>
<li><a href="../id427441/index.html">Konvergensi dengan Kubernet</a></li>
<li><a href="../id427443/index.html">Pembedahan kesuksesan</a></li>
<li><a href="../id427447/index.html">PVS-Studio termasuk dukungan untuk GNU Arm Embedded Toolchain</a></li>
<li><a href="../id427449/index.html">Bagaimana memahami Tensorflow dan tidak mati, dan bahkan mengajarkan sesuatu tentang mobil</a></li>
<li><a href="../id427451/index.html">Hubungkan tugas phpStorm ke Bitrix24</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>