<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüç≥ üëêüèæ üí™üèΩ Interaktives Spiel auf XSLT üë∂üèø üëÖ ‚ôâÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es war einmal, als die Leute auf die XML-Sprache kamen und sahen, dass sie gut war. Und sie fingen an, es zu benutzen, wo immer es m√∂glich war, und so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Interaktives Spiel auf XSLT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441478/"><img src="https://habrastorage.org/webt/dh/fa/ki/dhfaki02qcnjz62awuxjzoncne4.png" alt="Bild"><br><br>  Es war einmal, als die Leute auf die XML-Sprache kamen und sahen, dass sie gut war.  Und sie fingen an, es zu benutzen, wo immer es m√∂glich war, und sogar dort, wo es nicht sein sollte.  Formate f√ºr Datenspeicherung und -√ºbertragung, Konfigurationen, Webdienste, Datenbanken ... Es schien sich umzusehen - XML, XML √ºberall.  Die Zeit verging, die Leute √§nderten ihre Meinung, erfanden verschiedene andere Datenformate (oder versteckten XML in Archiven) und der XML-Wahnsinn schien sich zu beruhigen.  Aber seitdem ist fast jedes System in der Lage, solche Systeme zu XML und zu integrieren (wer hat Apache Camel gesagt?). Ist der beste und einfachste Weg, XML-Dokumente zu verwenden. <br><br>  Wo XML ist, gibt es XSLT, eine Sprache, die zum Transformieren von XML-Dokumenten entwickelt wurde.  Diese Sprache ist spezialisiert, hat aber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">laut Turing</a> die Eigenschaft der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vollst√§ndigkeit</a> .  Daher ist die Sprache f√ºr "abnormale" Verwendung geeignet.  Hier gibt es zum Beispiel eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">L√∂sung f√ºr das Problem der 8 K√∂niginnen</a> .  Sie k√∂nnen also ein Spiel schreiben. <br><br>  F√ºr die Ungeduldigen: ein Arbeitsprogramm auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JSFiddle</a> , Quellen auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> . <br><a name="habracut"></a><br>  Jedes Programm wandelt Eingabe in Ausgabe um.  Im Programm k√∂nnen drei Teile unterschieden werden: Pr√§prozessor, Prozessor und Postprozessor.  Der Pr√§prozessor bereitet die Eingabedaten f√ºr die weitere Verarbeitung vor.  Der Prozessor ist mit der Hauptarbeit der Datenkonvertierung besch√§ftigt, falls erforderlich, indem Benutzereingaben und externe Signale und Ereignisse "gemischt" werden, einschlie√ülich in einem Zyklus.  Ein Postprozessor wird ben√∂tigt, um die Ergebnisse des Prozessors in eine f√ºr die menschliche Wahrnehmung geeignete Form (oder durch andere Programme) umzuwandeln. <br><br><img src="https://habrastorage.org/webt/_c/nr/ci/_cnrciga45icv1qpwjygfgs6vqq.png" alt="Bild"><br><br>  Bei einem interaktiven Spiel auf XSLT ist jeder der drei Teile des Programms eine separate XSLT-Datei.  Der Pr√§prozessor bereitet das Spielfeld vor.  Der Prozessor wendet den Zug des menschlichen Spielers an, macht den Zug des Computerspielers und bestimmt den Gewinner.  Der Postprozessor gibt den Status des Spiels wieder. <br><br>  Ein XSLT-Programm ben√∂tigt eine Laufzeit.  Die h√§ufigste Laufzeit, mit der XSLT ausgef√ºhrt werden kann, ist ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">moderner Browser</a> .  Wir werden XSLT Version 1.0 verwenden, da es von Browsern sofort unterst√ºtzt wird. <br><br><h3>  Ein bisschen √ºber XSLT und XPath </h3><br>  XSLT ist eine XML-Dokumenttransformationssprache.  XPath wird verwendet, um auf Teile eines XML-Dokuments zuzugreifen.  Die Spezifikationen f√ºr diese Sprachen werden auf w3.org ver√∂ffentlicht: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">XSLT Version 1.0</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">XPath Version 1.0</a> . <br><br>  Die Grundlagen und Verwendungsbeispiele von XSLT und XPath k√∂nnen einfach im Internet gesucht werden.  Hier mache ich auf die Funktionen aufmerksam, die bei der Verwendung von XSLT als "normale" Allzweck-Programmiersprache auf hoher Ebene ber√ºcksichtigt werden m√ºssen. <br><br>  XSLT hat Funktionen benannt.  Sie werden als Element deklariert. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"function_name"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  und hei√üen so: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:call-template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"function_name"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Funktionen k√∂nnen Parameter haben. <br><br>  Ank√ºndigung: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"x"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"y"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:value-of</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$x + $y"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Funktionsaufruf mit Parametern: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:call-template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:with-param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:with-param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"y"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:call-template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Parameter k√∂nnen Standardwerte haben. <br><br>  Parameter k√∂nnen von au√üen "global" sein.  Mit diesen Parametern werden Benutzereingaben an das Programm √ºbertragen. <br><br>  In der Sprache k√∂nnen Sie auch Variablen deklarieren, die einem Wert zugeordnet sein k√∂nnen.  Parameter und Variablen sind unver√§nderlich und k√∂nnen ihnen einmal zugewiesen werden (wie zum Beispiel in Erlang). <br><br>  XPath definiert vier grundlegende Datentypen: Zeichenfolge, Nummer, Boolescher Wert und Knotensatz.  XSLT f√ºgt einen f√ºnften Typ hinzu - ein Ergebnisbaumfragment.  Dieses Fragment sieht aus wie ein Knotensatz, aber damit k√∂nnen Sie einen begrenzten Satz von Operationen ausf√ºhren.  Es kann als Ganzes in das XML-Ausgabedokument kopiert werden, Sie k√∂nnen jedoch nicht auf die untergeordneten Knoten zugreifen. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:variable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"board"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cell</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cell</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cell</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cell</span></span></span><span class="hljs-tag">&gt;</span></span>4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:variable</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Die Board-Variable enth√§lt ein Fragment des XML-Dokuments.  Auf die untergeordneten Knoten kann jedoch nicht zugegriffen werden.  Dieser Code ist ung√ºltig: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:for-each</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$board/cell"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Das Beste, was Sie bekommen k√∂nnen, ist, auf die Textknoten des Fragments zuzugreifen und mit ihnen als Zeichenfolge zu arbeiten: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:value-of</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"substring(string($board), 2, 1)"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  wird "2" zur√ºckgeben. <br><br>  Aus diesem Grund wird in unserem Spiel das Brett (oder das Spielfeld) als Zeichenfolge dargestellt, damit es willk√ºrlich manipuliert werden kann. <br><br>  Mit XSLT k√∂nnen Sie einen Knotensatz mit dem Konstrukt xsl: for-each iterieren.  Aber die Sprache hat nicht die √ºblichen for- oder while-Schleifen.  Stattdessen k√∂nnen Sie einen rekursiven Funktionsaufruf verwenden (Iteration und Rekursion sind isomorph).  Eine Schleife des Formulars f√ºr x in a..b wird folgenderma√üen organisiert: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:call-template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"for_loop"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:with-param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$a"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:with-param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"to"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$b"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:call-template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"for_loop"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"x"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"to"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:if</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">test</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$x &lt; $to"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  -  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:call-template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"for_loop"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:with-param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$x + 1"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:with-param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"to"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$to"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:call-template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:if</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xsl:template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  Eine Laufzeit schreiben </h3><br>  Damit das Programm funktioniert, ben√∂tigen Sie: 3 XSLT, Quell-XML, Benutzereingaben (Parameter), internes Status-XML und Ausgabe-XML. <br><br>  Wir platzieren Textfelder mit Bezeichnern in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HTML-Datei</a> : "Pr√§prozessor-xslt", "Prozessor-xslt", "Postprozessor-xslt", "Eingabe-XML", "Parameter", "Ausgabe-XML", "Nachbearbeitete-XML".  Wir platzieren / /, um das Ergebnis in die Seite einzubetten (zur Visualisierung). <br><br>  F√ºgen Sie zwei Schaltfl√§chen hinzu: Initialisierung und Aufruf (Schritt) des Prozessors. <br><br>  Schreiben wir einen JavaScript-Code. <br><br><div class="spoiler">  <b class="spoiler_title">Ein wichtiges Merkmal ist die Verwendung der XSLT-Transformation.</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transform</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xslt, xml, params</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> processor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XSLTProcessor(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parser = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DOMParser(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xsltDom = parser.parseFromString(xslt, <span class="hljs-string"><span class="hljs-string">"application/xml"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> check errors .documentElement.nodeName == "parsererror" var xmlDom = parser.parseFromString(xml, "application/xml"); processor.importStylesheet(xsltDom); if (typeof params !== 'undefined') { params.forEach(function(value, key) { processor.setParameter("", key, value); }); } var result = processor.transformToDocument(xmlDom); var serializer = new XMLSerializer(); return serializer.serializeToString(result); }</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Funktionen zum Ausf√ºhren des Pr√§prozessors, Prozessors und Postprozessors:</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doPreprocessing</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xslt = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"preprocessor-xslt"</span></span>).value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xml = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"input-xml"</span></span>).value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = transform(xslt, xml); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"output-xml"</span></span>).value = result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doProcessing</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> params = parseParams(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"parameters"</span></span>).value); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xslt = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"processor-xslt"</span></span>).value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xml = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"output-xml"</span></span>).value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = transform(xslt, xml, params); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"output-xml"</span></span>).value = result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doPostprocessing</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xslt = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"postprocessor-xslt"</span></span>).value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xml = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"output-xml"</span></span>).value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = transform(xslt, xml); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"postprocessed-xml"</span></span>).value = result; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"output"</span></span>).innerHTML = result; }</code> </pre> <br></div></div><br>  Die Hilfsfunktion parseParams () analysiert Benutzereingaben in Schl√ºssel = Wert-Paare. <br><br><div class="spoiler">  <b class="spoiler_title">Die Initialisierungstaste wird aufgerufen</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onInit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ doPreprocessing(); doPostprocessing(); }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Prozessorstarttaste</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onStep</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ doProcessing(); doPostprocessing(); }</code> </pre> <br></div></div><br>  Die grundlegende Laufzeit ist bereit. <br><br>  Wie man es benutzt.  F√ºgen Sie drei XSLT-Dokumente in die entsprechenden Felder ein.  XML-Eingabedokument einf√ºgen.  Dr√ºcken Sie die "Init" -Taste.  Geben Sie ggf. die gew√ºnschten Werte in das Parameterfeld ein.  Klicken Sie auf die Schaltfl√§che Schritt. <br><br><h3>  Ein Spiel schreiben </h3><br>  Wenn jemand anderes es nicht erraten hat, ist das interaktive Spiel aus dem Titel das klassische 3 x 3-Tic-Tac-Toe. <br><br>  Das Spielfeld ist eine 3 x 3-Tabelle, deren Zellen von 1 bis 9 nummeriert sind. <br>  Der menschliche Spieler kreuzt immer (das Symbol "X"), der Computer - Nullen ("O").  Wenn die Zelle mit einem Kreuz oder einer Null belegt ist, wird die entsprechende Ziffer durch das Symbol ‚ÄûX‚Äú oder ‚ÄûO‚Äú ersetzt. <br><br>  Der Status des Spiels ist in einem XML-Dokument dieser Form enthalten: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">game</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">board</span></span></span><span class="hljs-tag">&gt;</span></span>123456789<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">board</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beginner</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beginner</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">message</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">message</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">game</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Das &lt;board /&gt; -Element enth√§lt das Spielfeld.  &lt;state /&gt; - der Status des Spiels (Gewinn eines der Spieler oder Unentschieden oder Fehler);  Das Element &lt;Anf√§nger /&gt; wird verwendet, um zu bestimmen, wer das aktuelle Spiel gestartet hat (damit ein anderer Spieler das n√§chste Spiel startet).  &lt;message /&gt; - Nachricht f√ºr den Player. <br><br>  <a href="">Der Pr√§prozessor</a> generiert aus einem beliebigen XML-Dokument einen Anfangszustand (leeres Feld). <br><br>  <a href="">Der Prozessor</a> validiert Benutzereingaben, wendet seine Bewegung an, berechnet den Status des Spiels, berechnet und wendet die Bewegung des Computers an. <br><br><div class="spoiler">  <b class="spoiler_title">Auf Pseudocode sieht es ungef√§hr so ‚Äã‚Äãaus</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">fn do_move() { let board_after_human_move = apply_move(board, "X", param) let state_after_human_move = get_board_state(board_after_human_move) if state_after_human_move = "" { let board_after_computer_move = make_computer_move(board_after_human_move) let state_after_computer_move = get_board_state(board_after_computer_move) return (board_after_computer_move, state_after_computer_move) } else { return (board_after_human_move, state_after_human_move) } } fn apply_move(board, player, index) { //     board    index   player     } fn get_board_state(board) { //   "X",   , "O",   , "tie"          } fn make_computer_move(board) { let position = get_the_best_move(board) return apply_move(board, "O", position) } fn get_the_best_move(board) { return get_the_best_move_loop(board, 1, 1, -1000) } fn get_the_best_move_loop(board, index, position, score) { if index &gt; 9 { return position } else if cell_is_free(board, index) { let new_board = apply_move(board, "O", index) let new_score = minimax(new_board, "X", 0) if score &lt; new_score { return get_the_best_move_loop(board, index + 1, index, new_score) } else { return get_the_best_move_loop(board, index + 1, position, score) } } else { return get_the_best_move_loop(board, index + 1, position, score) } } fn cell_is_free(board, index) { //   true,    board   index   ( ) } fn minimax(board, player, depth) { let state = get_board_state(board) if state = "X" { //   return -10 + depth } else if state = "O" { //   return 10 - depth } else if state = "tie" { //  return 0 } else { let score = if player = "X" { 1000 } else { -1000 } return minimax_loop(board, player, depth, 1, score) } } fn minimax_loop(board, player, depth, index, score) { if index &gt; 9 { return score } else if cell_is_free(board, index) { //   ,    let new_board = apply_move(board, player, index) let new_score = minimax(new_board, switch_player(player), depth + 1) let the_best_score = if player = "X" { //    if new_score &lt; score { new_score } else { score } } else { //    if new_score &gt; score { new_score } else { score } } return minimax_loop(board, player, depth, index + 1, the_best_score) } else { //      return minimax_loop(board, player, depth, index + 1, score) } } fn switch_player(player) { //   ; X -&gt; O, O -&gt; X }</code> </pre><br></div></div><br>  Die Computerbewegungsauswahlfunktion verwendet den Minimax-Algorithmus, bei dem der Computer seine Punktzahl maximiert und die Person sie minimiert.  Der Tiefenparameter der Minimax-Funktion wird ben√∂tigt, um einen Zug auszuw√§hlen, der bei der geringsten Anzahl von Z√ºgen zum Sieg f√ºhrt. <br><br>  Dieser Algorithmus verwendet eine gro√üe Anzahl rekursiver Aufrufe und die erste Bewegung des Computers wird auf meinem Computer bis zu 2-3 Sekunden berechnet.  Wir m√ºssen irgendwie beschleunigen.  Sie k√∂nnen einfach die besten Bewegungen des Computers f√ºr alle m√∂glichen akzeptablen Spielfeldbedingungen vornehmen und vorberechnen.  Es stellte sich heraus, dass solche Zust√§nde 886 sind. Es ist m√∂glich, diese Anzahl aufgrund von Rotationen und Reflexionen des Feldes zu verringern, dies ist jedoch nicht erforderlich.  <a href="">Die neue Version</a> ist schnell. <br><br>  Es ist Zeit, das Spielfeld wundersch√∂n darzustellen.  Was ist zu verwenden, wenn dies a) Grafiken zeichnen soll (21. Jahrhundert auf dem Hof, welche Art von Spiel ohne Grafiken ?!) Und b) es w√ºnschenswert ist, ein XML-Format zu haben?  Nat√ºrlich SVG! <br><br>  <a href="">Der Postprozessor</a> zeichnet ein kariertes Feld und ordnet darin gr√ºne Kreuze, blaue Nullen und kleine schwarze <s>Kleider an</s> .  Es werden auch Meldungen zum Spielende angezeigt. <br><br>  Und jetzt scheint das Spiel fertig zu sein.  Aber etwas stimmt nicht.  Um zu spielen, m√ºssen Sie viele unn√∂tige, langweilige und nervige Aktionen ausf√ºhren: Geben Sie die Zellennummer in das Feld f√ºr den n√§chsten Code ein und dr√ºcken Sie die Taste.  Klicken Sie einfach auf die gew√ºnschte Zelle! <br><br>  Wir finalisieren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Laufzeit</a> und <a href="">Postprozessor</a> . <br><br>  F√ºgen Sie zur Laufzeit die Antwortfunktion zum Klicken auf das SVG-Element hinzu: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSvgClick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"parameters"</span></span>).value = arg; onStep(); }</code> </pre> <br>  Im Postprozessor f√ºgen wir √ºber jedem Zellenquadrat ein Quadrat hinzu (Transparenz wird durch den rect.btn-Stil angegeben). Wenn Sie darauf klicken, wird eine Funktion mit der Zellennummer aufgerufen: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rect</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-23"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-23"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"45"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"45"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"onSvgClick({$index})"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Wenn der Stapel abgeschlossen ist, wird durch Klicken auf eine beliebige Zelle eine neue Zelle gestartet.  Die Taste ‚ÄûInit‚Äú muss zu Beginn nur einmal gedr√ºckt werden. <br><br>  Jetzt k√∂nnen Sie das Spiel als beendet betrachten.  Die Sache ist klein: Verstecken Sie die Innenseiten, packen Sie sie in eine Elektronenanwendung, stellen Sie sie auf Steam, ???, wachen Sie reich und ber√ºhmt auf. <br><br><h3>  Fazit </h3><br>  Ein starker Programmierer kann <s>auch in JavaScript</s> alles auf alles schreiben.  Es ist jedoch besser, f√ºr jede Aufgabe das richtige Werkzeug zu verwenden. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de441478/">https://habr.com/ru/post/de441478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de441458/index.html">Mechanisierte Arme und Manipulatoren - erz√§hlen Sie, was das Robotiklabor der ITMO University tut</a></li>
<li><a href="../de441460/index.html">Und wie sehen Sie die IT-Ausbildung?</a></li>
<li><a href="../de441468/index.html">Facebook wird seine Spyware VPN Onavo schlie√üen</a></li>
<li><a href="../de441472/index.html">Das neuronale Netz lehrte, die fehlenden Details auf dem Foto von Menschen zu zeichnen</a></li>
<li><a href="../de441476/index.html">JaCarta Editor erstellen</a></li>
<li><a href="../de441482/index.html">Die neue Chronologie von Iyon the Pacific</a></li>
<li><a href="../de441484/index.html">Microsoft-Mitarbeiter lehnten den Einsatz von HoloLens in der Armee ab, da der Krieg zu einem Computerspiel wird</a></li>
<li><a href="../de441490/index.html">Worauf Sie bei der Auswahl eines Leseger√§ts achten sollten - Betriebssysteme und Hardware</a></li>
<li><a href="../de441496/index.html">Ton auf dem Draht: die Geschichte des Telegraphen</a></li>
<li><a href="../de441498/index.html">Kuril Online</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>