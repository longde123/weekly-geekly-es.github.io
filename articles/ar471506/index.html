<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👸🏿 👩‍❤️‍👩 👩‍💻 التقريب الصحيح للأرقام العشرية في الرمز الثنائي 🧘 📊 🕺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="إحدى المشكلات الرئيسية في العمل مع الأرقام العشرية الممثلة في الكود الثنائي هي مشكلة تقريب الرقم الثنائي إلى قيمة الرقم العشري القابل للتمثيل الأقرب إ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>التقريب الصحيح للأرقام العشرية في الرمز الثنائي</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471506/" style=";text-align:right;direction:rtl"> إحدى المشكلات الرئيسية في العمل مع الأرقام العشرية الممثلة في الكود الثنائي هي مشكلة تقريب الرقم الثنائي إلى قيمة الرقم العشري القابل للتمثيل الأقرب إلى رقم عشري مستدير بشكل صحيح.  نناقش أدناه هذه المشكلة ونعطي خوارزمية بسيطة للتقريب المناسب.  يتضح تشغيل الخوارزمية بواسطة برنامج اختبار في C ++. <br><a name="habracut"></a><br>  تذكر أن الرقم العشري القابل للتمثيل هو رقم يمكن تمثيل قيمته بدقة بواسطة الكود الثنائي.  لذلك ، الرقم 0.125 يساوي تمامًا الرقم الثنائي 0.001.  يمكن أيضًا القول بأن قيمة أي رقم ثنائي <i>y</i> تساوي عدد عشري يمكن تمثيله <i>x</i> .  على سبيل المثال ، قيمة الرقم الثنائي <i>y</i> = 1.001101 * 2 ^ -3 تساوي قيمة الرقم العشري القابل للتمثيل <i>x</i> = 0.150390625. <br>  نقول أن الرقم الثنائي y مكافئ للرقم العشري <i>x</i> .  على العكس ، الرقم العشري <i>x</i> مكافئ للرقم الثنائي <i>y</i> . <br><br>  دعونا نرى ما يحدث برقم عشري عند إدخاله من وحدة التحكم ، أو عندما يظهر في البرنامج على أنه ثابت. <br>  يتم تحويل (تحويل) أي رقم عشري بواسطة المحول البرمجي إلى التنسيق المحدد بواسطة المبرمج.  نظرًا لأن الأرقام الثنائية تتم معالجتها بشكل أسرع في جهاز كمبيوتر ، يتم تحويل الرقم العشري للإدخال ، في أغلب الأحيان ، إما إلى تنسيق نقطة ثابتة (بما في ذلك int) ، أو إلى أحد تنسيقات الفاصلة العائمة - مفرد ، مزدوج ، أو إلى تنسيق ثنائي آخر . <br><br>  وفقًا لمعيار IEEE754 ، يتم تمثيل الأرقام الحقيقية بالتنسيق الداخلي للجهاز في شكل ثنائي عادي.  لذلك ، يمكن تمثيل رقم حقيقي موجب ثنائي <i>y</i> كـ <i>y</i> <i>= b0.b1 ... bp * 2 ^ e (b0 ≠ 0).</i> <br>  يمكن تمثيل نفس الرقم على أنه <i>0.b0b1 ... bp * 2 ^ (e + 1) (b0 ≠ 0)</i> إذا <i>e + 1&gt; 0</i> و <i>0.b0b1 ... bp * 2 ^ e (b0 ≠ 0)</i> إذا <i>ه &lt;0</i> . <br>  كذلك سوف نلتزم الرأي الثاني ، منذ ذلك الحين  في برنامج اختبار C ++ الخاص بنا أدناه ، هناك دالة q = frexp (x ، &amp; e) ، والتي تتيح لنا تحديد قيمة الأس الأس في الرقم الثنائي الذي يمثل <i>b0.b1 ... bp * 2 ^</i> <i>e</i> . <br><br>  لذلك ، المكافئ العشري لأي رقم ثنائي <i>ثابت y = 0.b0b1 ... bp * 2 ^ e (b0 ≠ 0)</i> يساوي بعض الأرقام العشرية المقيسة <i>x = 0.d0d1 ... dN ... dn * 10 ^ E (d0 ≠ 0).</i> <br>  على سبيل المثال ، الرقم <i>y = 0.1001101 * 2 ^ -2</i> مكافئ للرقم العشري <i>القابل للتمثيل x = 0.150390625</i> . <br>  للحصول على الرقم <i>Xr</i> من <i>x</i> مساوٍ للرقم مقربة إلى أرقام هامة <i>N</i> ، يجب ضرب <i>X</i> بعامل <i>10 ^ k</i> ، حيث <i>k = NE</i> .  يعد ذلك ضروريًا حتى يحتوي الرقم الناتج على جزء صحيح مع أرقام <i>N</i> مهمة ، والتي يمكن تقريبها إلى أقرب عدد صحيح.  يجب بعد ذلك تخفيض العدد الصحيح المستدير إلى المقياس السابق بضربه بـ <i>10 ^ -k</i> .  رياضيا ، يمكن كتابة ذلك بالصيغة التالية: <br>  <i>X = [x * 10 ^ k + 0.5] * 10 ^ -k = [y * 10 ^ k + 0.5] * 10 ^ -k ،</i> حيث [] هو الجزء الصحيح من الرقم. <br><br>  يمكن إثبات أن عدد ثنائي صحيح <i>B</i> يحتوي على <i>m</i> رقمين ثنائيين يساوي قيمة الرقم العشري <i>D</i> ، الذي يحتوي على <i>n = ⌊m * log2⌋</i> المنازل العشرية ، بشرط أن <i>B &lt;10 ^ n.</i>  <i>ويساوي n = n + 1</i> ، بشرط أن <i>B ≥ 10 ^ n</i> .  في الحسابات ، يمكننا أن نأخذ <i>log2≈0.301</i> . <br><br>  نحدد قيمة <i>k</i> بناءً على المعلومات المتاحة في التمثيل الثنائي لـ <i>y</i> .  في صيغة <i>k ،</i> تُعرف دقة التقريب لـ <i>N</i> ، لذلك نحن بحاجة إلى تحديد الأس <i>.</i> <br>  <i>يتم</i> تحديد الأس <i>E</i> من العلاقة: <i>E = ⌊e * 0.301⌋</i> . <br>  يبقى أن نأخذ في الاعتبار الظروف التالية.  إذا كانت <i>x * 10 ^ k = X&gt; 10 ^ N</i> ، فأنت بحاجة إلى ضربها في <i>10 ^ (- 1)</i> وضبط معامل <i>k</i> .  نحصل على <i>X = X * 10 ^ (- 1) ، k = k-1</i> . <br>  سيكون العدد المستدير مساوياً <i>Xr = X * 10 ^ (- k)</i> . <br><br>  نتيجة لذلك ، نحصل على الخوارزمية البسيطة التالية للتقريب العشري الصحيح للأرقام الحقيقية الثنائية.  الخوارزمية مناسبة لأي تنسيق رقمي ثنائي بدقة تقريبية عشرية محددة بدقة <i>N.</i> <br>  عند المدخل: <br>  دقة التقريب العشري <i>N</i> ؛ <br>  هو رقم ثنائي بالتنسيق <i>y = 0.b0b1 ... bp * 2 ^ e (b0 ≠ 0)</i> . <br>  الإخراج: رقم عشري مدور <i>X = 0.d0d1 ... dN * 10 ^ E.</i> <br>  - 1. حدد الأس الأسي للرقم الثنائي y ؛ <br>  2. E = *e * 0.3⌋ ؛ <br>  3. ك = NE ؛ <br>  4. س = س * 10 ^ ك ؛ <br>  5. إذا كانت علامة &lt;10 ^ N ، ثم العنصر 8 ؛ <br>  6. X = X * 10 ^ -1 ؛ <br>  7. ك = ك -1 ؛ <br>  8. Xr = [X + 0.5] * 10 ^ (- k) ؛ <br>  ينتهي. <br>  - في الخوارزمية أعلاه ، يكون الرقم <i>Xr</i> هو الرقم العشري <i>القابل</i> للتمثيل الأقرب إلى الرقم ، وهو التقريب الصحيح للرقم <i>x</i> ، والذي بدوره يكون المكافئ العشري للرقم <i>y</i> . <br>  نظرًا لأننا معتادون على العمل مع الأرقام العشرية ، إذن ، كقاعدة عامة ، فإن تدفق المدخلات هو أرقام عشرية بالضبط.  في الإخراج ، نريد الحصول على أرقام عشرية أيضًا.  على سبيل المثال ، كما في Excel.  ولكن بعد تحويل الأرقام العشرية إلى رمز ثنائي ، يتم تحويلها عادةً بشكل لا رجعة فيه.  نتيجة لذلك ، قد لا يتزامن التقريب المحول إلى أرقام ثنائية مع التقريب الصحيح للأرقام المطبوعة على وحدة التحكم.  ينطبق هذا بشكل أساسي على الحالات التي نحاول فيها تقريب الرقم العشري إلى أقصى عدد ممكن من الأرقام المهمة.  للأفراد ، هذا هو 7 ، ومضاعفة 15. <br>  يمكن التحقق من ذلك جيدًا في برنامج الاختبار أدناه ، والذي كتبه المؤلف في C ++. <br><br>  في برنامج الاختبار ، عند الطلب ، يتم إدخال ما يلي في وحدة التحكم: <br>  - دقة التقريب العشري <i>N</i> للرقم <i>X</i> ، وهو أقرب رقم يمكن تمثيله من المكافئ الثنائي للرقم <i>x</i> ؛ <br>  هو الرقم <i>العاشر</i> في شكل تعسفي. <br><br>  تحت الرقم العشري الذي تم إدخاله <i>x ،</i> تتم طباعة الرقم <i>X</i> ، وهو الرقم القابل للتمثيل الأقرب إلى <i>x</i> (انظر لقطة الشاشة أدناه). <br>  يتم التقريب على الرقم <i>X</i> ، لأن  يتم فقد القيمة الدقيقة لـ <i>x</i> في التحويل الثنائي. <br>  العوائد: <br>  - الرقم العشري بالتنسيق <i>Xr = M * 10 ^ (N + e) ​​،</i> حيث <i>M</i> هو رقم عشري صحيح مع أرقام <i>N</i> كبيرة ؛ <br>  هو الرقم <i>xr</i> ، الذي يساوي الرقم القابل للتمثيل الأقرب إلى المكافئ الثنائي المقيس للرقم <i>X.</i> <br><img src="https://habrastorage.org/webt/su/5-/g5/su5-g5wfbg4xm6py0ged3m9yeaq.png" alt="صورة"><br>  في لقطة الشاشة: <br><br>  N = 15 - عدد الأرقام العشرية الهامة التي يتم تقريب الرقم العشري للإدخال إليها. <br>  x = 7.123456789098765321 e-89 هو الرقم العشري الذي نود تقريبه إلى 15 رقمًا مهمًا. <br>  X = 7.12345678909876559 e-089 - رقم عشري يمكن تمثيله ، وقيمته مساوية للرقم الثنائي الذي تم الحصول عليه عن طريق تحويل الرقم x إلى التنسيق p = 53. <br>  Xr = x = 712345678909877e-103 - عدد سلالة النجم الصحيح الذي تم الحصول عليه عن طريق تقريب الرقم X. <br>  xr = x = 7.12345678909877e-089 - الرقم الذي تم الحصول عليه عن طريق تطبيع المكافئ الثنائي للرقم العشري Xr.  هذا هو الأقرب إلى Xr. <br><br>  فيما يلي رمز برنامج الاختبار للتقريب الصحيح للأرقام العشرية الممثلة في الكود الثنائي في C ++. <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp">#include &lt;iostream&gt;
#include &lt;math.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;iomanip&gt;
using namespace std;

int main()
{
   double q,x,xr,X;
   unsigned long long int Xr;
   int N,p,E,e,k;

  cout &lt;&lt;"Input a binary precision p=";
  cin&gt;&gt;p;
  cout &lt;&lt;"Input a decimal precision N=";
  cin&gt;&gt;N;
  cout &lt;&lt;endl&lt;&lt;"Input a number and press ENTER:"&lt;&lt;"\n"&lt;&lt;"x= ";
  cin&gt;&gt;x;
   cout&lt;&lt;"X= "&lt;&lt; setprecision(18)&lt;&lt;x &lt;&lt; '\n';

    q=frexp (x, &amp;e);
    E =static_cast &lt;int&gt; (e*0.301);
    k=N-E;
   if (E&lt;0)       //for format xr=d0.d1...dN*10^E (d0≠0).
        k=k+1;
    X=x*pow(10,k);
       if (X &gt; pow (10,N)){
            X=X/10;
            k=k-1;
      }

       X=X+0.5;
       Xr=static_cast &lt;unsigned long long int&gt; (X);
       xr=Xr*pow(10,-k);

    cout&lt;&lt;endl &lt;&lt;"Xr= "&lt;&lt;Xr&lt;&lt;"e"&lt;&lt;-k&lt;&lt;'\n';
    cout&lt;&lt;"xr="&lt;&lt;xr&lt;&lt;'\n';

   system("pause");
      return 0;
}</code></pre><br>
<br>
      pow(10,k). ,   <i> k</i> ,    ,    <i>10^k</i>,   <i>5^k</i>.</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar471506/">https://habr.com/ru/post/ar471506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar471496/index.html">قليلا عن نموذج الاشتراك في متجر التطبيقات</a></li>
<li><a href="../ar471498/index.html">تم نشر خريطة كاميرات تثبيت الطرق على الطرق العامة: هل نبتهج أم تبكي؟</a></li>
<li><a href="../ar471500/index.html">رد الاتصال أو "زيادة ولاء العملاء"</a></li>
<li><a href="../ar471502/index.html">فكرة المزرعة</a></li>
<li><a href="../ar471504/index.html">ثنائي ثنائي الأبعاد: إنشاء heterostor البوروفين الجرافين</a></li>
<li><a href="../ar471508/index.html">المسؤول الأعزل = فرط التقارب؟</a></li>
<li><a href="../ar471512/index.html">28 أكتوبر ، يكاترينبرج - جودة الاتصالات</a></li>
<li><a href="../ar471514/index.html">العنوان "اقرأ مقالات لك". يناير - يونيو 2019</a></li>
<li><a href="../ar471516/index.html">Intel 665p - SSD مع QLC NAND 96 طبقة</a></li>
<li><a href="../ar471518/index.html">Apple في 2019 هو Linux في 2000</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>