<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¼â€ğŸ¤â€ğŸ‘©ğŸ» ğŸ‘©ğŸ»â€ğŸš’ ğŸ¤·ğŸ» å­©å­ä»¬ï¼Œæ•°å­¦å’ŒR ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ â›¹ğŸ½ â›¹ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å½“å‰åœ¨å­¦æ ¡çš„æ•™è‚²è¶Šæ¥è¶Šå‡å°‘ã€‚ åœ¨å…¶ä½™éƒ¨åˆ†ä¸­ï¼Œé‡ç‚¹è¶Šæ¥è¶Šæ”¾åœ¨å¤–éƒ¨æ•ˆæœä¸Šã€‚ â€œé¡¹ç›®å·¥ä½œâ€ï¼Œæ¼”ç¤ºæ–‡ç¨¿ï¼Œæ•ˆæœç­‰ç­‰ã€‚ æ­¤å¤–ï¼Œé€šå¸¸ä¸æ¸…æ¥šå°†è¿™äº›ç»ƒä¹ çš„å¯¹è±¡åˆ†å‘ç»™è°-å„¿ç«¥è¿˜æ˜¯çˆ¶æ¯ï¼Ÿ æ‰€æœ‰è¿™äº›çš„ç»“æœæ˜¯ï¼Œéœ€è¦åœ¨å­¦æ ¡å†…çš„å„ä¸ªåœˆå­ä¸­æˆ–åœ¨ç›®æ ‡æ˜¯ä½¿å­©å­æ¥å—å…¨é¢æ•™è‚²çš„æƒ…å†µä¸‹ï¼Œåœ¨å„ä¸ªåœˆå­ä¸­å¢åŠ ç­çº§ã€‚ 


 åœ¨æ•°å­¦æˆ–ç‰©ç†å­¦çš„æƒ…å†µä¸‹...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å­©å­ä»¬ï¼Œæ•°å­¦å’ŒR</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462619/"><p> å½“å‰åœ¨å­¦æ ¡çš„æ•™è‚²è¶Šæ¥è¶Šå‡å°‘ã€‚ åœ¨å…¶ä½™éƒ¨åˆ†ä¸­ï¼Œé‡ç‚¹è¶Šæ¥è¶Šæ”¾åœ¨å¤–éƒ¨æ•ˆæœä¸Šã€‚  â€œé¡¹ç›®å·¥ä½œâ€ï¼Œæ¼”ç¤ºæ–‡ç¨¿ï¼Œæ•ˆæœç­‰ç­‰ã€‚ æ­¤å¤–ï¼Œé€šå¸¸ä¸æ¸…æ¥šå°†è¿™äº›ç»ƒä¹ çš„å¯¹è±¡åˆ†å‘ç»™è°-å„¿ç«¥è¿˜æ˜¯çˆ¶æ¯ï¼Ÿ æ‰€æœ‰è¿™äº›çš„ç»“æœæ˜¯ï¼Œéœ€è¦åœ¨å­¦æ ¡å†…çš„å„ä¸ªåœˆå­ä¸­æˆ–åœ¨ç›®æ ‡æ˜¯ä½¿å­©å­æ¥å—å…¨é¢æ•™è‚²çš„æƒ…å†µä¸‹ï¼Œåœ¨å„ä¸ªåœˆå­ä¸­å¢åŠ ç­çº§ã€‚ </p><br><p> åœ¨æ•°å­¦æˆ–ç‰©ç†å­¦çš„æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥å°è¯•ç”¨ä¸€å—çŸ³å¤´æŠ“æ•ä¸¤åªé¸Ÿï¼ˆå¥½å§ï¼Œæˆ–è€…ä¸€åªé‡å…”å’Œä¸€åªé‡å…”ï¼‰ã€‚ ç»“åˆextçš„é—®é¢˜è§£å†³æ–¹æ¡ˆã€‚ ç­çº§ï¼ˆå­¦æ ¡è¯¾ç¨‹ä¸é€‚åˆæ­¤è¯¾ç¨‹ï¼‰ï¼ŒåŒæ—¶è¿›è¡Œæ•°æ®å¤„ç†å’Œç®—æ³•æ–¹æ³•åŸ¹è®­æ–‡åŒ–çš„å¹¶è¡Œæ•™è‚²ã€‚ è¿™å¹¶ä¸æ˜¯å…³äºèŠå¤©æœºå™¨äººçš„ä¸‰è¡Œè®¨è®ºï¼Œè€Œæ˜¯å…³äºå°†è®¡ç®—æœºç”¨ä½œåŸå§‹ç›®æ ‡çš„ä¸€éƒ¨åˆ†-æ‰§è¡Œè®¡ç®—ï¼Œè¿›è¡Œæ•°å€¼å®éªŒï¼Œå»ºæ¨¡å¹¶æ­ç¤ºéšè—çš„ä¾å­˜å…³ç³»ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå¯ä»¥å»ºç«‹æ–°çš„å‡è®¾ã€‚ </p><br><p> æˆ‘ç«‹å³æ³¨æ„åˆ°å¹¶éæ‰€æœ‰äººéƒ½å¯¹è¯¥ä¸»é¢˜æ„Ÿå…´è¶£ã€‚ ä¸è°æ— å…³ç´§è¦ã€‚ è°ä¼šæœ‰é¢å¤–çš„ã€‚ æƒ³æ³•ï¼Œç»“è¯†ä¹Ÿå¾ˆæœ‰è¶£ã€‚ æ¥ä¸‹æ¥æ˜¯ä¸€ç³»åˆ—ä»ä¸‰å¹´çº§æ•°å­¦â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Metashkola</a> â€è¯¾ç¨‹ä¸­å€Ÿæ¥çš„é—®é¢˜ã€‚ è‡ªç„¶ï¼Œé¦–å…ˆé€šè¿‡é€»è¾‘æ¨ç†è§£å†³é—®é¢˜ï¼Œç„¶åè®¨è®ºä½¿ç”¨è®¡ç®—æœºçš„è§£å†³æ–¹æ³•ã€‚ </p><br><p>ä»¥ä¸‹è®¨è®ºçš„é‡è¦è¡¥å……ï¼š </p><br><ol><li> è¿™äº›ææ–™æ˜¯ä»çˆ¶æ¯è€Œä¸æ˜¯è€å¸ˆçš„è§’åº¦å†™çš„ã€‚ æ²¡æœ‰æœåŠ¡å’Œå…¬å…³ã€‚ è¿™åªæ˜¯ä¸€ç³»åˆ—å®é™…è€ƒè™‘ã€‚ </li><li>  Rè¢«ç”¨ä½œå·¥å…·æ˜¯å› ä¸ºå®ƒæ›´æ–¹ä¾¿ã€‚ </li></ol><br><p> å®ƒæ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»¥å‰å‡ºç‰ˆç‰©</a>çš„å»¶ç»­ã€‚ <a name="habracut"></a></p><br><h2 id="obschaya-preambula"> ä¸€èˆ¬åºè¨€ </h2><br><pre><code class="plaintext hljs">library(tidyverse) library(glue) library(magrittr) library(lubridate) library(hms) library(numbers) library(polynom) library(Ryacas) library(stringi) library(tictoc)</code> </pre> <br><p> ä»¥ä¸‹æ˜¯å¯ä»¥æ‰©å±•åˆ°æ— ç©·å¤§çš„ä¸€ç³»åˆ—ä»»åŠ¡ã€‚ </p><br><h2 id="vosstanovite-zapis"> æ¢å¤è®°å½• </h2><br><h3 id="zadacha"> æŒ‘æˆ˜èµ› </h3><br><p> æ¢å¤è®°å½•ï¼š <code>3âˆ—âˆ—:âˆ—3=3âˆ—</code> ã€‚ æ‰¾åˆ°æ‰€æœ‰é—æ¼æ•°å­—çš„æ€»å’Œã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#  3ab = c3*3d df &lt;- 0:9 %&gt;% {tidyr::crossing(a = ., b = ., c = ., d = .)} %&gt;% filter(300 + a * 10 + b == (c * 10 + 3) * (30 + d)) df</code> </pre> </div></div><br><h3 id="zadacha-1"> æŒ‘æˆ˜èµ› </h3><br><p> æ˜¯å¦å¯ä»¥åœ¨è®°å½•<code>7âˆ—(7âˆ—7âˆ—7)âˆ—7</code>æ”¾ç½®ç®—æœ¯è¿ç®—ç¬¦è€Œä¸æ˜¯<code>â€œâˆ—â€</code>ä»¥å¾—åˆ°8ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">ops &lt;- c('*', '/', '+', '-') #      df &lt;- tidyr::crossing(op1 = ops, op2 = ops, op3 = ops, op4 = ops) %&gt;% #        mutate(data = glue::glue("7 {op1} (7 {op2} 7 {op3} 7) {op4} 7"), expr = rlang::parse_exprs(data)) %&gt;% mutate(res = purrr::map_dbl(expr, rlang::eval_bare)) %&gt;% arrange(res) %&gt;% filter(res == 8) print(tbl_df(df), n = 20)</code> </pre> </div></div><br><h3 id="zadacha-2"> æŒ‘æˆ˜èµ› </h3><br><p> ä»1åˆ°100çš„æ‰€æœ‰æ•°å­—éƒ½è¢«å†™å‡ºï¼Œæ•°å­—4åœ¨è®°å½•ä¸­å‡ºç°å‡ æ¬¡ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#  100   4,      99 #    tidyr::crossing(d1 = 0:9, d2 = 0:9) %&gt;% #   ,   4 filter(d1 == 4 | d2 == 4) %&gt;% arrange(d1, d2)</code> </pre> </div></div><br><h3 id="zadacha-3"> æŒ‘æˆ˜èµ› </h3><br><p> ä¸‰ä½æ•°å­—å¼€å¤´çš„æ•°å­—9ç§»åˆ°äº†æ•°å­—çš„æœ«å°¾ã€‚ ç»“æœæ˜¯ä¸€ä¸ªæ•°å­—å°‘216ã€‚ åŸå§‹æ•°å­—çš„ä½æ•°ä¹‹å’Œæ˜¯å¤šå°‘ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#   : abc df &lt;- tidyr::crossing(b = 0:9, c = 0:9) %&gt;% #    9     mutate(delta = (900 + 10*b + c) - (100*b + 10*c + 9)) %&gt;% filter(between(delta, 200, 230)) df</code> </pre> </div></div><br><h3 id="zadacha-4"> æŒ‘æˆ˜èµ› </h3><br><p>  5ä¸ªè¿ç»­è‡ªç„¶æ•°çš„ä¹˜ç§¯æ˜¯2520ã€‚è¾ƒå°çš„æ•°å­—æ˜¯å¤šå°‘ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹æ–¹æ³•1</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">numbers::primeFactors(2520)</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹æ–¹æ³•2</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"># https://joftius.wordpress.com/2015/10/19/finding-multiple-roots-of-univariate-functions-in-r/ f &lt;- function(x) {x * (x+1) * (x+2) * (x+3) * (x+4) - 2520} rootSolve::uniroot.all(f, c(0, 2520))</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹ï¼Œæ–¹æ³•3</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">eq &lt;- "x * (x+1) * (x+2) * (x+3) * (x+4) - 2520" yacas(glue("Simplify({eq})")) #            rts &lt;- base::polyroot(c(-2520, 24, 50, 35, 10, 1)) #     n-1 #     # http://www.johnmyleswhite.com/notebook/2009/12/18/using-complex-numbers-in-r/ Re(rts[abs(Im(rts)) &lt; 1^-10])</code> </pre> </div></div><br><h3 id="zadacha-5"> æŒ‘æˆ˜èµ› </h3><br><p> ä»€ä¹ˆæ•°å­—å¯ä»¥ä»£æ›¿<code>"âˆ—"</code> ï¼Œä»¥ä½¿æ•°å­—<code>543âˆ—</code> <code>4</code>æ•´é™¤ï¼Ÿ æœ‰å“ªäº›é€‰æ‹©ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">tibble(num = 5430 + 0:9, mod = mod(num, 4)) %&gt;% arrange(mod, num)</code> </pre> </div></div><br><h3 id="zadacha-6"> æŒ‘æˆ˜èµ› </h3><br><p> ç¬¬ä¸‰ä½æ•°60çš„ä¸¤å€æ˜¯å¤šå°‘ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">2*(1/3*(1/4*60)) 60 %&gt;% {./4} %&gt;% {./3} %&gt;% {.*2}</code> </pre> </div></div><br><h3 id="zadacha-7"> æŒ‘æˆ˜èµ› </h3><br><p> å°†æ²¡æœ‰æŒ‡é’ˆçš„è¡¨ç›˜åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä»¥ä½¿æ¯ä¸ªéƒ¨åˆ†ä¸­å¯ç”¨çš„æ•°å­—æ€»å’Œç›¸åŒã€‚ <br> æ·»åŠ ã€‚ é—®é¢˜æ˜¯ï¼šé’Ÿé¢å¯ä»¥è¿›ä¸€æ­¥åˆ’åˆ†å¤šå°‘ä¸ªéƒ¨åˆ†ï¼Œä»¥ä¾¿æ¯ä¸ªéƒ¨åˆ†ä¸­çš„æ•°å­—ä¹‹å’Œå½¼æ­¤ç›¸ç­‰ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#       2  ,   #    ,    =  sum(1:12) / 2 #    for (i in 1:12){ res &lt;- cumsum(i:12) print(glue(" : {i},  : {glue_collapse(res, ', ')}")) val &lt;- which(res == 39) if(! identical(val, integer(0))){ print(glue("  [{i}; {val + i - 1}]")) } }</code> </pre> </div></div><br><h2 id="byki-i-korovy">  â€œç‰›å’Œç‰›â€ </h2><br><h3 id="variaciya-1"> å˜ä½“1 </h3><br><p> åœ¨è®°å½•å·ä¸­ï¼Œä»1åˆ°5ï¼ˆåŒ…æ‹¬1å’Œ5ï¼‰çš„å„ä¸ªæ•°å­—ã€‚ <br> çŒœä¸­çš„æ•°å­—ä»£è¡¨å…¬ç‰›çš„æ•°é‡ã€‚ é”™ä½çš„çŒœæµ‹æ•°å­—å°±æ˜¯æ¯ç‰›çš„æ•°é‡ã€‚ </p><br><p> ä»€ä¹ˆæ˜¯ä¸‰ä½æ•°çš„æ•°å­—ï¼Œå¦‚æœæ‚¨çŸ¥é“ï¼š </p><br><ul><li>  314-1å¤´å…¬ç‰›å’Œ1å¤´ç‰›ï¼› </li><li>  124-1å…¬ç‰›å’Œ1å¤´ç‰›; </li><li>  523-1å¤´å…¬ç‰›å’Œ1å¤´ç‰›ã€‚ </li></ul><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">library(tidyverse) library(stringi) #   "an_bn_cn". c --    df &lt;- c(1, 2, 3, 4, 5) %&gt;% {tidyr::crossing(an = ., bn = ., cn = .)} %&gt;% #    mutate(comb = purrr::pmap(., c)) %&gt;% #     mutate(val = stri_join(an, bn, cn)) %&gt;% #      # 314 -  1  filter(stri_detect_regex(val, "3[^1][^4]|[^3]1[^4]|[^3][^1]4")) %&gt;% # 124 -  1  filter(stri_detect_regex(val, "1[^2][^4]|[^1]2[^4]|[^1][^2]4")) %&gt;% # 523 -  1  filter(stri_detect_regex(val, "5[^2][^3]|[^5]2[^3]|[^5][^2]3")) %&gt;% #      filter(purrr::map_int(comb, n_distinct) == 3) %&gt;% #      (1   1 ) filter(purrr::map(comb, ~length(base::intersect(.x, c(3, 1, 4)))) == 2) %&gt;% filter(purrr::map(comb, ~length(base::intersect(.x, c(1, 2, 4)))) == 2) %&gt;% filter(purrr::map(comb, ~length(base::intersect(.x, c(5, 2, 3)))) == 2) df</code> </pre> </div></div><br><h3 id="variaciya-2"> å˜åŒ–2 </h3><br><p> åœ¨è®°å½•å·ä¸­ï¼Œä»1åˆ°5ï¼ˆåŒ…æ‹¬1å’Œ5ï¼‰çš„å„ä¸ªæ•°å­—ã€‚ <br> çŒœä¸­çš„æ•°å­—ä»£è¡¨å…¬ç‰›çš„æ•°é‡ã€‚ <br> é”™ä½çš„çŒœæµ‹æ•°å­—å°±æ˜¯æ¯ç‰›çš„æ•°é‡ã€‚ <br> ä»€ä¹ˆæ˜¯ä¸‰ä½æ•°çš„æ•°å­—ï¼Œå¦‚æœæ‚¨çŸ¥é“ï¼š </p><br><p>  543-1å¤´å…¬ç‰›;  0å¤´ç‰›ï¼› <br>  235-1å…¬ç‰›;  0å¤´æ¯ç‰›ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">library(tidyverse) library(stringi) df &lt;- c(1, 2, 3, 4, 5) %&gt;% tidyr::crossing(d3 = ., d2 = ., d1 = .) %&gt;% #    mutate(comb = purrr::pmap(., c)) %&gt;% #     mutate(val = stri_join(d3, d2, d1)) %&gt;% #      # 543 -- 1 ; 0  filter(stri_detect_regex(val, "5..|.4.|..3")) %&gt;% # 235 -- 1 ; 0  filter(stri_detect_regex(val, "2..|.3.|..5")) %&gt;% #      filter(purrr::map_int(comb, n_distinct) == 3) %&gt;% #      filter(purrr::map(comb, ~length(base::intersect(.x, c(5, 4, 3)))) == 1) %&gt;% filter(purrr::map(comb, ~length(base::intersect(.x, c(2, 3, 5)))) == 1) df</code> </pre> </div></div><br><h2 id="zapolnyaem-kvadrat"> å¡«è¡¥å¹¿åœº </h2><br><p> æ˜¯å¦å¯ä»¥åœ¨4Ã—4çš„æ–¹å½¢è¡¨çš„å•å…ƒæ ¼ä¸­æ’åˆ—åä¸ªè´Ÿå·ï¼Œä»¥ä¾¿æ¯ä¸€åˆ—å…·æœ‰å¥‡æ•°ä¸ªè´Ÿå·ï¼Œè€Œæ¯ä¸€è¡Œå…·æœ‰å¶æ•°ä¸ªè´Ÿå·ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹ï¼Œé€‰é¡¹1</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#      ,    10.  : 3, 3, 3, 1 library(arrangements) library(foreach) #   : # 1 2 3 4 # 5 6 7 8 # 9 10 11 12 # 13 14 15 16 cmb &lt;- arrangements::combinations(1:16, k = 10, replace = FALSE) pryr::object_size(cmb) #   ,   ,   .  icomb &lt;- icombinations(1:16, k = 10, replace = FALSE) foreach(x = icomb, .combine=c) %do% { # x -    ,    "" #       #  isOdd &lt;- function(x, set){ #   length(base::intersect(x, set)) %% 2 == 1 } isEven &lt;- function(x, set){ #   length(base::intersect(x, set)) %% 2 == 0 } col_flag &lt;- all( isOdd(x, c(1, 5, 9, 13)), isOdd(x, c(2, 6, 10, 14)), isOdd(x, c(3, 7, 11, 15)), isOdd(x, c(4, 8, 12, 16)) ) row_flag &lt;- all( isEven(x, c(1, 2, 3, 4)), isEven(x, c(5, 6, 7, 8)), isEven(x, c(9, 10, 11, 12)), isEven(x, c(13, 14, 15, 16)) ) if(col_flag &amp;&amp; row_flag) print(x) }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹ï¼Œé€‰é¡¹2</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#      ,    10.  : 3, 3, 3, 1 library(tidyverse) library(magrittr) library(arrangements) library(foreach) #   : # 1 2 3 4 # 5 6 7 8 # 9 10 11 12 # 13 14 15 16 #   ,   ,   .  icomb &lt;- icombinations(1:16, k = 10, replace = FALSE) df &lt;- foreach(x = icomb, .combine = rbind) %do% { # x -    ,    "" #       #   v &lt;- rep(0, 16) #   ,   # browser() v[x] &lt;- 1 m &lt;- matrix(v, nrow = 4, ncol = 4, byrow = TRUE) #  :      , #        if (all(colSums(m) %% 2 == 1) &amp;&amp; all(rowSums(m) %% 2 == 0)) x else NULL } df %&lt;&gt;% as_tibble(.name_repair = "minimal") #       v &lt;- rep(0, 16) #   ,   v[purrr::flatten_int(df[5, ])] &lt;- 1 matrix(v, nrow = 4, ncol = 4, byrow = TRUE)</code> </pre> </div></div><br><h2 id="kombinatorika"> ç»„åˆå­¦ </h2><br><h3 id="zadacha-8"> æŒ‘æˆ˜èµ› </h3><br><p> é€šè¿‡é‡æ–°æ’åˆ—å­—æ¯Kï¼ŒAï¼ŒWå’ŒAï¼Œå¯ä»¥åˆ¶æˆå‡ ä¸ªä¸åŒçš„å­—æ¯ç»„åˆï¼Œå…¶ä¸­ä¸¤ä¸ªç›¸åŒçš„å­—æ¯å½¼æ­¤ä¸ç›¸é‚»ï¼Ÿ </p><br><p> çœ‹ä¸€ä¸‹å„ç§æ³¨æ„äº‹é¡¹ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨Rä¸­ç”Ÿæˆåˆ—è¡¨çš„æ‰€æœ‰ä¸åŒæ’åˆ—</a> </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#     # https://stackoverflow.com/questions/44918645/split-a-string-into-character-efficiently lset &lt;- unlist(base::strsplit("", split = "", fixed = TRUE)) #       ,      lset &lt;- c("", "1", "", "2") # library(permutations) df &lt;- tidyr::crossing(p1 = lset, p2 = lset, p3 = lset, p4 = lset) ff &lt;- function(...){ vals &lt;- rlang::list2(...) # browser() n_distinct(unlist(vals)) } df %&gt;% # mutate(u = purrr::pmap_int(., ~n_distinct(.x))) mutate(u = purrr::pmap_int(., ff)) %&gt;% filter(u == 4) %&gt;% select(-u) %&gt;% #      mutate(s = purrr::pmap_chr(., stri_join)) %&gt;% mutate_at(vars(s), stri_replace_all_regex, pattern = "(\\d+)", replacement = "") %&gt;% distinct(s) %&gt;% #     filter(!stri_detect_fixed(s, ""))</code> </pre> </div></div><br><h3 id="zadacha-9"> æŒ‘æˆ˜èµ› </h3><br><p> ä¸€å¹´ä¸­å¯ä»¥æœ‰å‡ ä¸ªæ˜ŸæœŸå¤©ï¼Ÿ å¯èƒ½çš„æœ€å¤§æ•°ç›®æ˜¯å¤šå°‘ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#   ,     366 %/% 7 #   .         366 %% 7</code> </pre> </div></div><br><h3 id="zadachka-pro-piratov"> æµ·ç›—çš„ä»»åŠ¡ </h3><br><p> æµ·ç›—ï¼šAï¼ŒBï¼ŒC <br> è¯´1 <br>  Aï¼šBæœ‰2åªçœ¼ç› <br>  Bï¼šCæœ‰2åªçœ¼ç› <br>  Cï¼šAæœ‰ä¸¤åªçœ¼ç› </p><br><p> è¯´2 <br> ç­”ï¼šæˆ‘ä»¬éƒ½æœ‰ä¸¤åªçœ¼ç› <br>  Bï¼šæˆ‘ä»¬éƒ½æœ‰ä¸‰åªçœ¼ç› <br>  Cï¼šæˆ‘ä»¬éƒ½æœ‰å››åªçœ¼ç› </p><br><p> æ¯ä¸ªæµ·ç›—éƒ½åƒä»–çš„çœ¼ç›ä¸€æ ·æ’’è°å¤šæ¬¡ã€‚ æ¯ä¸ªæµ·ç›—æœ‰å‡ åªçœ¼ç›ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">è§£å†³æ–¹æ¡ˆç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">df &lt;- tidyr::crossing(a = 0:2, b = 0:2, c = 0:2) %&gt;% mutate(total = a + b + c) %&gt;% mutate(a_lie = (b != 2) + (total != 2), b_lie = (c != 2) + (total != 3), c_lie = (a != 2) + (total != 4)) %&gt;% filter(a_lie == a, b_lie == b, c_lie == c) df</code> </pre> </div></div><br><p> ç­‰ç­‰ ç­‰ </p><br><p> å¯¹äºæŸäº›äººæ¥è¯´ï¼Œè¿™å¯èƒ½æ˜¯èŠ±æ—¶é—´é™ªä¼´å­©å­çš„æœºä¼šã€‚ </p><br><p> ä¸Š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€ç¯‡</a>æ–‡ç« - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œé’ˆå¯¹â€œä¼ä¸šâ€ä»»åŠ¡çš„Rä¸­å¹¶è¡Œè®¡ç®—çš„ä¸€äº›æ³¨æ„äº‹é¡¹</a> ã€‚ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN462619/">https://habr.com/ru/post/zh-CN462619/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN462597/index.html">æ‰“å­—ç¨¿å’Œååº”</a></li>
<li><a href="../zh-CN462601/index.html">åœ¨AWSä¸­å¤‡ä»½WindowsæœåŠ¡å™¨</a></li>
<li><a href="../zh-CN462605/index.html">åŠ å¯†ä¸­çš„æ„å¤§åˆ©è¯­ç—•è¿¹</a></li>
<li><a href="../zh-CN462607/index.html">æˆ‘å¦‚ä½•ä¸ºYandex.MusicæœåŠ¡ç¼–å†™åº“</a></li>
<li><a href="../zh-CN462615/index.html">ä¸ºä»€ä¹ˆé€‰æ‹©è§‚çœ‹å“ªéƒ¨ç”µå½±å¦‚æ­¤å›°éš¾ï¼ˆç¥ç»ç½‘ç»œæ— æ³•è§£å†³æ­¤é—®é¢˜ï¼‰</a></li>
<li><a href="../zh-CN462625/index.html">æˆ´å°”G5 5590ï¼šé…å¤‡RTX 2060çš„æœ€å®æƒ çš„æ¸¸æˆç¬”è®°æœ¬ç”µè„‘ä¹‹ä¸€</a></li>
<li><a href="../zh-CN462631/index.html">ç½‘ç»œå‘¨æœ«ï¼šå¯†é›†å‹Netologyå¯†é›†å‹ç½‘ç«™å¼€å‘</a></li>
<li><a href="../zh-CN462635/index.html">é‡å­ï¼Œæˆ–å¾€è¿”é‡å­ï¼šç ”ç©¶é‡å­ç»å…¸è·ƒè¿çš„æ–°ç®—æ³•</a></li>
<li><a href="../zh-CN462641/index.html">ç†æƒ³äº§å“ç»ç†çš„52ä¸ªç‰¹å¾</a></li>
<li><a href="../zh-CN462643/index.html">ä½¿ç”¨pythonç¡®å®šæ¿ç»“æ„ä¸Šç›¸äº’ä¾èµ–çš„ä¸ªä½“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>