<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé® ‚úåüèº ü§í VariFlight ADS-B - Flightradar en chinois üö¥üèø ü¶Ü üë®üèª‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Flightradar, √† certains √©gards, est devenu un nom familier, rempla√ßant en fait la notion de ¬´site o√π vous pouvez regarder des avions en temps r√©el¬ª . ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VariFlight ADS-B - Flightradar en chinois</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423989/">  <b>Flightradar,</b> √† certains √©gards, est devenu un nom familier, rempla√ßant en fait la notion de <i>¬´site o√π vous pouvez regarder des avions en temps r√©el¬ª</i> .  Bien qu'il existe en fait plusieurs sites de cette taille, et encore plus de petits projets, vous pouvez souvent voir dans les m√©dias les informations sur l'√©v√©nement a√©ronautique avec la phrase "selon le site Flightradar" et une capture d'√©cran d'une autre ressource. <br><br>  Il existe un certain nombre de publications sur Habr√© sur le radarporting dans lesquelles ou dans des commentaires auxquels non seulement Flightradar est mentionn√©.  Dans cette publication, je parlerai du service chinois de suivi du trafic a√©rien et de son r√©cepteur ADSB <i>chinois</i> , qu'ils envoient gratuitement. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ye/_h/7a/ye_h7atxvw-x1mhbzgc0dcj-0zm.jpeg"></div><br><a name="habracut"></a><br>  Le radar radar est une activit√© suffisamment int√©ressante pour captiver un nombre notable de personnes.  Plusieurs articles sur Habr√© d√©crivent assez bien l'essence de la le√ßon: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Plaine et radar, ou je suis malade de l'aviation</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√âtape par √©tape: diffuser des donn√©es vers flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flightradar24 - comment √ßa marche?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment suivre les objets volants identifi√©s avec le Raspberry Pi</a> </li><li>  <abbr title="jalonn√© une place pour un article couch√© dans des brouillons et d'o√π quelques illustrations ont √©t√© tir√©es dans cet article">Station radar facile et √©conomique</abbr> </li></ul><br>  Le r√©cepteur re√ßoit, transmis par avion, un signal √† une fr√©quence de 1090 MHz, d√©chiffre et transmet dans un certain format.  Par exemple, comme ceci: <br><br><pre><code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"updatetime"</span></span>:<span class="hljs-number"><span class="hljs-number">1537902225</span></span>,<span class="hljs-attr"><span class="hljs-attr">"UTC Time"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-09-25 19:03:45"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"anum"</span></span>:<span class="hljs-string"><span class="hljs-string">"TCETM"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"fnum"</span></span>:<span class="hljs-string"><span class="hljs-string">"KKK6944"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"position"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"long"</span></span>:<span class="hljs-number"><span class="hljs-number">30.66455078125</span></span>,<span class="hljs-attr"><span class="hljs-attr">"lat"</span></span>:<span class="hljs-number"><span class="hljs-number">39.351677</span></span>},<span class="hljs-attr"><span class="hljs-attr">"height"</span></span>:<span class="hljs-number"><span class="hljs-number">10005.06</span></span>,<span class="hljs-attr"><span class="hljs-attr">"speed"</span></span>:<span class="hljs-number"><span class="hljs-number">888.96</span></span>,<span class="hljs-attr"><span class="hljs-attr">"angle"</span></span>:<span class="hljs-number"><span class="hljs-number">130</span></span>},</code> </pre> <br>  Cette activit√© est non seulement int√©ressante, mais est devenue l'activit√© de plusieurs entreprises: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flightaware</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Planefinder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Radarbox r√©seau AirNav</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©seau Avdelphi</a> </li></ul><br>  Peu de gens pensent comment ils gagnent leur vie et comment fonctionnent des services comme Flightradar.  Un exemple de cela peut √™tre vu sur wikipedia " <i>service Web public qui permet une surveillance en temps r√©el de la position des avions dans les airs</i> ."  L'article lui-m√™me et le titre donnent une fausse impression de Flightradar comme une sorte de service de divertissement. <br><br>  En fait, ayant √©merg√© comme un passe-temps au d√©but des ann√©es 2000, ces entreprises ont rapidement atteint une p√©riode de r√©cup√©ration et augmentent leurs revenus chaque ann√©e.  Par exemple, Flightaware, fond√©e en 2005, est devenue rentable d√®s 2006, gagnant plus de 1 million de dollars au cours des 18 premiers mois et affichant une croissance annuelle de 40 √† 75%.  Selon certaines ressources, les revenus annuels de Flightaware d√©passent 9 millions de dollars et ceux de Flightradar de plus de 2 millions de dollars. <br><br>  Si en Europe il y a Flightradar, aux USA - Flightaware, alors en Chine il y a VariFlight.  De m√™me, le service n√©gocie les statuts de vol, les statistiques et les archives de vol, effectue des analyses et des pr√©visions pour les clients - organisations et clients individuels. <br><br>  VariFlight propres mots: <br><br><pre> <code class="plaintext hljs"> &lt;meta name="description" content="VariFlight         .    ,      ,    .    ,     ,         ."&gt; &lt;meta name="keywords" content=" ,   ,  ,  ,  ,  ,  ,  ,  ,   ,  ,  ,  ,  ,  "&gt; &lt;meta property="og:url" content="http://www.variflight.com/ru/"&gt;</code> </pre> <br>  Les entreprises √©changent des donn√©es, tant les leurs que celles obtenues, par exemple, de la Federal Aviation Administration des √âtats-Unis.  Mais vous pouvez tirer le meilleur parti de vos propres r√©cepteurs, dont le fonctionnement ne co√ªte rien √† l'entreprise.  ils sont install√©s par des amateurs de radarspotting, il vous suffit de d√©penser de l'argent pour la fabrication et l'exp√©dition.  Par cons√©quent, √† partir d'un moment donn√©, les entreprises ont commenc√© √† vendre et √† distribuer gratuitement leurs r√©cepteurs.  Gratuit l√† o√π l'entreprise n'a pas encore de couverture avec son r√©seau de r√©cepteurs et o√π il n'y a pas de donn√©es. <br><br>  Le co√ªt des donn√©es justifie la distribution ¬´gratuite¬ª des r√©cepteurs (attention au texte sous le tableau - le r√©cepteur reste la propri√©t√© de Flightaware, officiellement lou√© gratuitement). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/_s/fo/xt_sfoqxfdfzr7yl8cex0omn2eu.png"></div><br>  En 2015, le r√©seau Flightradar comptait plus de 8 000 r√©cepteurs actifs et Flightaware en avait environ 4 500. Mais Flightaware a commenc√© √† distribuer les r√©cepteurs deux ans auparavant, et Flightradar avait d√©j√† construit son r√©seau depuis pr√®s de dix ans.  Il existe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">actuellement</a> plus de 15 000 r√©cepteurs sur le r√©seau Flightaware.  Le logiciel r√©cepteur Flightaware est constamment am√©lior√© et fonctionne actuellement avec les donn√©es FMSDATA, FMSWX. <br><br>  Carte de localisation des r√©cepteurs en mars 2017: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ec7/7cb/81b/ec77cb81ba574463aacc88bbbe2180e2.png" alt="image"></div><br>  Orange est pour les r√©cepteurs Flightaware gratuits, blanc pour les r√©cepteurs maison, rouge pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PlanePlotter</a> payant. <br><br>  Voici la couverture du r√©seau de r√©cepteurs Flightaware en d√©cembre 2015: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ib/rc/mv/ibrcmvzeioalsr24lc9rrqu9hmi.png"></div><br>  Et en mars 2017, le r√©seau de r√©cepteurs Flightaware ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©tat actuel sur le site ext√©rieur</a> ) a assur√© une telle couverture: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fd7/44e/65d/fd744e65db8e464c8466c7d0618cfe6f.png" alt="image" width="600"></div><br>  Il n'est pas toujours possible d'installer des r√©cepteurs, donc en 2018, les donn√©es des r√©cepteurs au sol sont compl√©t√©es par les donn√©es des satellites Iridium NEXT - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Pour la premi√®re fois, il sera possible de surveiller en permanence les avions partout dans le monde</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"</a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e5/kj/4i/e5kj4iu27uca4hwemcagg3mte4c.gif"></div><br>  Couleur gris-bleu - donn√©es des satellites Iridium NEXT.  Vert et jaune (le dernier est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MLAT</a> ) - donn√©es des r√©cepteurs au sol. <br><br>  Le rayon de la zone couverte par une station est limit√© par la courbure de la surface de la Terre et les obstacles couvrant l‚Äôhorizon et ne d√©passe pas 450 km au mieux.  Et dans le "cas habituel" d'environ 150 km.  Avec un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">passage troposph√©rique</a> rare pour cette radiofr√©quence, il est possible de regarder au-del√† de l'horizon.  Un exemple des zones de couverture maximale des stations diffusant sur <abbr title="planeradar.ru/virtualradar/">Planeradar.ru:</abbr> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d6/hg/u2/d6hgu2xf1c6ypsg6tn3knl-fc8c.png"></div><br>  Les pics nets dans les diagrammes de r√©ception ne sont que des cas isol√©s de r√©ception √† de tr√®s grandes distances. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ln/ux/ly/lnuxlyvtt9lgjwqh8s4drhq_wua.jpeg"></div><br>  L'animation ci-dessous montre ce qui entra√Æne la n√©cessit√© d'envoyer des r√©cepteurs.  En dehors de l'UE / USA, ce hobby n'est pas tr√®s populaire.  Il peut y avoir une raison au co√ªt d'un passe-temps, et cette carte indique indirectement le niveau de richesse, l'enseignement technique et la densit√© de population dans la r√©gion.  La question est peut-√™tre d'un int√©r√™t pratique - les utilisateurs qui transmettent les donn√©es de leurs r√©cepteurs re√ßoivent un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">compte Flightaware d'entreprise gratuit</a> , d'un co√ªt de 90 $ par mois. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rv/pi/iy/rvpiiyuijvmsb-ewvntooqfzbn4.gif"></div><br>  Et donc la situation est d√©crite.  Le march√© de ce service est en croissance, le march√© a besoin de plus de donn√©es et VariFlight a √©galement commenc√© √† d√©ployer son r√©seau.  En avril 2018, VariFlight a annonc√© qu'il recherchait des volontaires pour h√©berger du mat√©riel gratuit.  Un exemple d'une telle publication dans une publication <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Instagram</a> . <br><br>  Et en ao√ªt, je suis tomb√© sur cette offre pour commander le r√©cepteur gratuitement sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://flightadsb.feeyo.com</a> (le site a √©t√© ferm√© en septembre 2019 - le nouveau site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">flightadsb.variflight.com</a> et le lien pour commander l'appareil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ).  Apr√®s avoir √©tudi√© le site, j'ai remarqu√© que la soci√©t√© recherchait des membres du r√©seau volontaire dans les pays proches des fronti√®res de la Chine.  Et en remplissant le questionnaire, il ne s‚Äôattendait pas particuli√®rement √† ce que le District f√©d√©ral du Sud soit dans la zone d‚Äôint√©r√™t de l‚Äôentreprise. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jq/tk/gn/jqtkgnxt7ufd9rbhiafof8wbl0e.png"></div><br>  Dans l'application elle-m√™me, il est n√©cessaire d'indiquer sur la carte l'emplacement d'installation ( <i>Emplacement d'installation</i> ), le sol de l'installation d'antenne sur le b√¢timent ( <i>√âtage d'installation</i> , par exemple 7/9 - 7e √©tage d'un immeuble de 9 √©tages), le code de l'a√©roport le plus proche ( <i>Code d'a√©roport</i> - j'ai indiqu√© le code IATA) et T√©l√©chargez les photographies d'horizon depuis le site d'installation.  Le reste est presque le m√™me que la commande sur Aliexpress, √† l'exception des articles Titre, Nationalit√©, Occupation, Soci√©t√©.  Il est rempli en anglais avec un nom complet. <br><br>  Apr√®s avoir v√©rifi√© le courrier quelques semaines plus tard, j'ai trouv√© deux <b>courriels</b> de l' <b>ADSB Â±ïÁ§∫ Á≥ªÁªü (syst√®me d'affichage de l'ADS-B)</b> que la demande a √©t√© approuv√©e presque imm√©diatement et que le colis se pr√©cipitait depuis longtemps, ayant d√©j√† pass√© les douanes √† l'√©poque. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/qc/jj/znqcjjlrquqas4qt8bliader-6q.png"></div><br>  Dans la deuxi√®me lettre, il y avait un nom d'utilisateur, un mot de passe et un num√©ro de piste du colis.  Et aussi une instruction que je n'ai pas remarqu√©e et lue quand ... vous savez vous-m√™me quand ils lisent habituellement l'instruction. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qk/tg/3p/qktg3pugddffvb9lzbf0v4kcrka.png"></div><br>  La connexion correspondait au nom complet dans l'application, et le mot de passe est clairement envoy√© de la m√™me mani√®re √† tout le monde.  Par cons√©quent, allez changer le mot de passe imm√©diatement (et connectez-vous si n√©cessaire). <br><br>  En g√©n√©ral, l'expression ¬´Ceci est une sorte de non-sens¬ª du jeu Sudden-strike est apparue de plus en plus souvent dans ma t√™te, si quelqu'un se souvient de la fa√ßon dont les Allemands parlent russe dans le jeu avec un accent.  Parfois calme, parfois bruyant. <br><br>  Au fait, le profil √©tait la seule page en anglais, alors tout sera en chinois.  Sur Habr√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">wtigga a</a> publi√© un excellent article sur Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chinois "Internet chinois et logiciels: √† propos de douloureux"</a> .  J'ai ressenti toute la douleur tout √† l'heure.  Si vous n'avez pas lu, il est temps de vous pr√©parer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/oi/ay/1koiayqeuae_alsvu_yxcqrheug.png"></div><br>  Le navigateur Google Chrome avec la fonction de traduction vous aidera √† travailler sur le site, mais de nombreuses pages qui se sont av√©r√©es ne pas toujours √™tre r√©alisables pour lui. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/nm/yg/tqnmygwscpsyjyuskdb0iny0oyq.png"></div><br>  Les lieux seront des phrases dr√¥les. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/xw/-2/5axw-2211tuxsg4zqbgh1hyhoyg.png"></div><br>  Et donc connectez-vous avec les donn√©es du deuxi√®me e-mail. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ni/cb/jd/nicbjd2losvkfsgprjxppsloyx8.png"></div><br>  Et allez √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Informations personnelles</a> .  En fin de compte, Google Chrome ne peut pas toujours traduire une page ou elle √©choue pas la premi√®re fois, et dans ce cas, apr√®s plusieurs tentatives de traduction automatique, nous avons d√ª copier le texte dans Google Translate.  Par cons√©quent, je poste un conseil pour ceux qui sont confront√©s au m√™me probl√®me. <br><br>  Il y a deux onglets sur la page, dont l'actif est marqu√© d'une ligne rouge.  Le premier, vous ne pouvez rien toucher. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-s/sr/xy/-ssrxyi8w0fjdrs13rpzod_hgtg.png"></div><br><ol><li>  Nom complet </li><li>  Votre numero de telephone </li><li>  Votre email </li><li>  Code d'a√©roport </li><li>  Le nom de votre r√©cepteur ADSB </li></ol><br>  Le point QQ est le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">messager chinois Tencent QQ</a> . <br><br>  Dans le deuxi√®me onglet, modifiez le mot de passe <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gd/no/n-/gdnon-flkgykpprdisx-ghcztlu.png"></div><br><ol><li>  Ancien mot de passe </li><li>  Nouveau mot de passe </li><li>  R√©p√©tez le nouveau mot de passe </li></ol><br>  En dehors de cela, la traduction automatique fonctionne presque toujours.  La conception du plan du site est tr√®s proche du site Flightradar et les "fonctionnalit√©s" de la traduction n'entravent pas son utilisation. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ti/rv/zz/tirvzzf2wwbat2fvqm-xfgv0qxe.png"></div><br>  Apr√®s une inspection d√©taill√©e, le service est diff√©rent, par exemple, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fonctionnalit√© int√©ressante</a> que Flightaware n'a pas - une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">carte thermique</a> , traduite par Google Chrome par "analyse thermique". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/xn/oh/tqxnoh__qsuaa1pzvnmra5husrs.png"></div><br>  Une caract√©ristique int√©ressante sur certains vols: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/kf/fu/jlkffukwq0xrwfd931hqwvuoyk0.png" width="100"></div><br>  Il n'y a probablement aucune information sur les a√©roports de d√©part et d'atterrissage pour ce vol. <br><br><h2>  <font color="#cc0000">Pr√©sentation de l'emballage et du r√©cepteur</font> </h2><br>  Selon le num√©ro de piste, le colis a √©t√© envoy√© le 6 septembre et re√ßu le 18 septembre.  La bo√Æte a des dimensions solides qui ont surpris les postiers.  Sur le chemin du bureau de poste √† l'int√©rieur, quelque chose a secou√©, sonn√© et roul√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ea/nj/yj/eanjyj4bgyexd-nasadkur7prvu.jpeg" width="400"></div><br>  La bo√Æte ouverte a √©t√© quelque peu surprise par le manque de mat√©riaux d'emballage. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fk/q_/xl/fkq_xlageyzym4psi5huluhuo5o.jpeg" width="400"></div><br>  √Ä titre de comparaison, la bo√Æte du r√©cepteur Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/jp/vz/kojpvzknaatsndykd2qfmz77ng4.jpeg"></div><br>  √âtonnamment, le contenu de la bo√Æte ne semble pas √™tre affect√©.  Seulement sur l'antenne il y avait une √©gratignure - le film a √©t√© arrach√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iz/j5/37/izj537mwxv512fiw6em5b3u0nks.jpeg" width="400"></div><br>  Le r√©cepteur lui-m√™me a les inscriptions de seulement deux connecteurs - alimentation et HDMI.  En plus de deux, tous les connecteurs sont affich√©s sur un c√¥t√©.  LAN, 2 ports USB, connecteur √† quatre broches (l'hypoth√®se que cette interface s√©rie a √©t√© confirm√©e en composant le BCM 14 (8 broches TXD / Transmit), <br>  BCM 15 (10 broches RXD / r√©ception)), alimentation 5 volts et connecteur SMA (femelle) pour antenne. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xo/c9/dn/xoc9dnespvqq3r1f2frwjjs7zay.jpeg" width="400"></div><br>  Sur le c√¥t√© oppos√©, derri√®re deux trous dans le bo√Ætier, il y a des LED vertes et rouges.  Et √† c√¥t√© se trouve un autocollant avec le "num√©ro de s√©rie" du r√©cepteur, enregistr√© √† la main.  Le r√©cepteur dispose √©galement de HDMI et microUSB. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e_/8j/zv/e_8jzvvbk2_bp1nt46icd1uijke.jpeg" width="400"></div><br>  Le couvercle du r√©cepteur a deux oreilles pour un montage mural, ce qui le distingue positivement du m√™me bo√Ætier que le r√©cepteur Flightaware, auquel le fabricant ne fournissait que quatre pieds en silicone en bas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bq/iw/af/bqiwafgqodhiap_-hdd3ipizm3s.jpeg" width="400"></div><br>  V√©rifier si ces deux oreilles peuvent √™tre utilis√©es pour monter le r√©cepteur: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/9f/pg/qw9fpg1gij5ndga6urbayxv2qle.jpeg" width="400"></div><br>  Flightaware Flightfeeder √† l'envers: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/4s/wx/lf4swxpj43wvnjxbfsqu5rd2gom.jpeg" width="400"></div><br>  Pour comparer les tailles de r√©cepteur: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/bv/zr/nrbvzre_u9jhgkzusug0jqtgk1w.jpeg" width="400"></div><br>  La question naturelle est "qu'est-ce qu'il y a √† l'int√©rieur?"  Apr√®s avoir retir√© le couvercle fix√© par 4 vis, on voit une telle disposition. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/40/qq/k9/40qqk99d-ac9ppuikahdjmic7oc.jpeg" width="400"></div><br>  Les connecteurs sont situ√©s sur une carte de r√©cepteur s√©par√©e, r√©alis√©e sous la forme d'une carte d'extension pour le Raspberry Pi 3 mod√®le B V1.2. <br><br>  √Ä titre de comparaison, une photographie d'un Flightaware Flightfeeder (G6) sans couvercle.  Cette g√©n√©ration de r√©cepteurs a √©t√© envoy√©e jusqu'en 2017 environ.  Construit sur RPi 2 mod√®le B v.1.1 et r√©cepteur-d√©codeur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mode-Beast</a> simplifi√© sur un canal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/ya/4e/koya4exme2bh95occfbtkdb7wx8.jpeg" width="400"></div><br>  Le verso de cette conception a cach√© un √©l√©ment inattendu.  Un radiateur massif situ√© en bas de la planche est une surprise.  Le besoin en est incompr√©hensible (une semaine plus tard je pense que c'est une ¬´performance tropicale¬ª. Dans mes conditions, le radiateur est l√©g√®rement chaud). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t9/2o/le/t92ole4een-gqivnp2ksqweixqi.jpeg" width="400"></div><br>  De plus, la carte d'extension est connect√©e au connecteur RPi √† quatre broches avec trois fils soud√©s aux points de test PP27 (USB VCC), PP44 (USB D-), <br>  PP45 (USB D +). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/he/vc/ui/hevcuirbhsyjqagyrtsie2n9kuy.jpeg" width="400"></div><br>  C'est-√†-dire  rien ne peut √™tre connect√© au connecteur USB sup√©rieur droit.  Par cons√©quent, la photo du bo√Ætier situ√©e ci-dessus montre que des deux connecteurs USB appari√©s, la fente du bo√Ætier est uniquement oppos√©e √† celle la plus proche du LAN. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8l/vs/xf/8lvsxfznp3keyqhthe4cnq7lh4u.jpeg" width="400"></div><br>  Ils ont fait de m√™me dans Flightaware, soudant le r√©cepteur aux contacts de l'un des connecteurs. <br><br>  La plupart des cartes d'extension sont des √©crans m√©talliques.  Parmi les parties visibles, les connecteurs sont d'un c√¥t√©, et de l'autre c√¥t√© se trouvent deux indicateurs et une certaine ¬´bobine¬ª avec des robinets.  Rappelle le shunt avec une r√©sistance variable.  Peut-√™tre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">1div0</a> , auteur de l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´Pourquoi plier les pistes?¬ª</a>  sait ce que c'est.  Pendant le fonctionnement normal, la LED verte est allum√©e.  Dans quels cas le voyant rouge est allum√© - je ne sais pas.  Jusqu'√† ce que je regarde son inclusion. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k5/nx/ul/k5nxuli9peb2vtru9ktvvlkqm44.jpeg" width="400"></div><br>  Sur le c√¥t√© des connecteurs, il y a des connecteurs d'alimentation et d'antenne, et un connecteur √† quatre broches de destination inconnue. <br><br>  Tous les appareils √©lectroniques sont cach√©s sous un grand couvercle en fer blanc de l'√©cran.  Avec Flightaware Flightfeeder, la carte du r√©cepteur n'est pas blind√©e.  Lors du forum Flightaware, les d√©veloppeurs ont r√©pondu √† cette question que le bo√Ætier m√©tallique du r√©cepteur lui-m√™me est suffisant pour le prot√©ger des interf√©rences externes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/sw/w9/drsww9uvadqiqaagbhk99ibhatg.jpeg" width="400"></div><br>  Une tentative de regarder sous l'√©cran a √©t√© un succ√®s de la deuxi√®me approche.  Le couvercle est tomb√© et il s'est av√©r√© ... <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/wy/a_/1q/wya_1qu4awvmsaop9eulebq8o7e.jpeg" width="400"></a> </div><br>  ... il s'est av√©r√© que tout √©tait en vain - le marquage avec des micropuces a √©t√© soigneusement coup√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/hc/38/eghc38dwf3d24o6hqmzrznpchoi.jpeg" width="400"></div><br>  Pour l'avenir, je dirai qu'il s'est av√©r√© √™tre un r√©cepteur RTLSDR presque ordinaire - RTL2832U <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DVB-T</a> (0bda: 2838), appel√© "dongles", "whistles", et qui est consacr√© √† plusieurs articles sur Habr√© qui donnent une id√©e de ces appareils et comment ils ont simplifi√© et r√©duit la mise en ≈ìuvre de la r√©ception et du traitement des signaux radio sur les ordinateurs.  Par exemple: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tuners TV USB sur RTL2832 - ou comment tout entendre √† la radio pour 600 roubles</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Encore une fois sur la r√©ception HF sur RTL-SDR</a> </li></ul><br>  La derni√®re d√©crit bien l'arri√®re-plan du probl√®me: <br><blockquote>  La publication de la puce RTL2832U pour les r√©cepteurs de t√©l√©vision num√©rique au format DVB-T n'a pas promis de sensations, car Realtek √©tait d√©j√† un peu en retard avec sa sortie.  En 2010, une norme DVB-T2 plus progressive avec un codage plus efficace des informations √©tait d√©j√† en cours d'introduction, donc au d√©part la nouveaut√© n'a pas attir√© beaucoup d'attention.  Pendant deux ans, des tuners USB bon march√© bas√©s sur celui-ci ont √©t√© utilis√©s pour leur usage pr√©vu, jusqu'√† ce qu'au d√©but de 2012, il y ait eu une fuite de certaines informations techniques sur les modes de fonctionnement de cette puce.  Il s'est av√©r√© que pour recevoir la radio analogique (FM) et num√©rique (DAB) dans la bande VHF, cette puce utilise le principe du d√©codage logiciel d'une bande de fr√©quence pr√©alablement num√©ris√©e dans l'√©ther.  C'est-√†-dire  En gros, il num√©rise un signal haute fr√©quence provenant de l'entr√©e d'antenne et le filtrage d'une porteuse sp√©cifique et sa d√©tection (extraction d'informations utiles) du flux num√©rique re√ßu est laiss√© au processeur central.  √âvidemment, cela a √©t√© fait pour des raisons d'√©conomie, de la m√™me mani√®re qu'au moment de la fermeture du Dial-UP, des ¬´soft-modems¬ª extr√™mement bon march√©, qui ne repr√©sentaient √©galement qu'une paire avanc√©e de DAC et ADC, se sont r√©pandus, et tout le traitement du signal a √©t√© effectu√© par le CPU dans fil avec la priorit√© la plus √©lev√©e. </blockquote><br>  Contrairement aux ¬´tuners r√©guliers¬ª que j'ai, cette instance d'ID usb 0bda: 2832 a un num√©ro de s√©rie √† 17 chiffres. <br>  <b>Bus 001 P√©riph√©rique 005: ID 0bda: 2832 Realtek Semiconductor Corp.</b>  <b>RTL2832U DVB-T</b> <br>  <b>Trouv√© Rafael Micro R820T tuner</b> <br>  C'est-√†-dire  analogue au ¬´sifflet bleu¬ª utilis√© pour cr√©er des r√©cepteurs ADSB faits maison.  Sur la photo, le r√©cepteur est sur OrangePI. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8v/h2/2x/8vh22xmude7pxxexaxkiqbupdjw.jpeg" width="400"></div><br>  En remontant le r√©cepteur, j'ai install√© un radiateur au cas o√π.  Achet√© sp√©cifiquement pour l'ach√®vement des routeurs et autres √©quipements domestiques. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i8/r2/rq/i8r2rqvr2yriumcf8x_n8kk0gwg.jpeg" width="400"></div><br>  Alimentation 5V 2A.  Il semble plus solide que l'alimentation pour Flightaware Flightfeeder.  Mais avec une prise chinoise ... J'ai essay√© de me rappeler o√π j'avais l'adaptateur qui tra√Ænait. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/lc/l5/ajlcl51jfqqhg0trs2xaykrva-u.jpeg" width="400"></div><br>  Dans une bo√Æte en carton blanc √©tait une si belle pochette en velours. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/di/w7/zy/diw7zywbjqf1oadipbx68qxsajq.jpeg" width="400"></div><br>  "... dans la poitrine - un li√®vre, dans un li√®vre - un canard, dans un canard - un ≈ìuf, dans un ≈ìuf - une aiguille ..." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bi/mh/jb/bimhjbyxhtpskqn8qppiebop1t4.jpeg" width="400"></div><br>  √Ä l'int√©rieur se trouvait un puzzle de trois adaptateurs, qui a r√©solu la question ¬´o√π se trouve mon adaptateur¬ª. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jw/2j/bm/jw2jbm8zmoxzdfkp2xh6l4giapk.jpeg" width="400"></div><br>  Dans une bo√Æte en carton marron se trouvait un parafoudre "CA-23RP 2.5GHZ 400W Made in Japan".  Je ne connais pas cette configuration d'autres r√©cepteurs ADS-B.  Tr√®s raisonnable pour la protection contre les accidents de faible puissance. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xd/vj/3i/xdvj3iho-lnma7j8xsdyxc6ltko.jpeg" width="400"></div><br>  L'antenne int√©rieure est susceptible de tester le r√©cepteur sans installer d'antenne externe.  Ne convient pas pour une utilisation pratique.  Mais elle est vendue sur Aliexpress / Ebay comme une "antenne ADS-B", mais son v√©ritable objectif est donn√© par l'inscription sur la semelle magn√©tique.  J'avais l'habitude d'attraper des avions sur cette antenne dans un rayon de 30 √† 40 km. <br><br>  Pr√®s de l'adaptateur N (femelle) - SMA (m√¢le).  Peut-√™tre un cadeau en cas de connexion d'un filtre ou d'un amplificateur √† faible bruit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aq/lo/6w/aqlo6wt-ekzwdj5gi2lz1peqeyc.jpeg" width="400"></div><br>  C√¢ble coaxial pour une antenne de 5 m√®tres avec connecteurs N et SMA, et un c√¢ble √† paire torsad√©e de 10 m√®tres ("100% cuivre sans oxyg√®ne, blablabla"). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iv/wb/fu/ivwbfuae7vic79oosq7ycp5gyds.jpeg" width="400"></div><br>  C√¢ble d'antenne marqu√© KOPA PLESS RG400-KF MIL-C-17.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">C√¢ble coaxial flexible √† double tresse googl√© M17 / 128-RG400 RG-400</a> avec une couleur de gaine diff√©rente: <br><br><ul><li>  Fr√©quence de fonctionnement maximale 6 GHz </li><li>  √Ä une fr√©quence de 1,20 GHz, l'att√©nuation maximale est de 0,54 dB / m </li></ul><br>  Il est tr√®s douteux que ce soient les caract√©ristiques du c√¢ble chinois.  Soit dit en passant, Flightaware a inclus un c√¢ble d'antenne moche, bien qu'italien.  Le raccourcissement du c√¢ble de l'antenne √† plusieurs dizaines de centim√®tres trois fois a augment√© le nombre de paquets re√ßus par le r√©cepteur Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ax/iy/dtaxiyp-0hsnbkxoyxvwxqppmpm.jpeg" width="400"></div><br>  Antenne ext√©rieure et sa fixation au m√¢t. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/od/cd/uw/odcduwhuzkas2_16eb-bvkonhgk.jpeg" width="400"></div><br>  La bizarrerie de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FlightFeeder ADS-B VariFlight</a> sur Facebook: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/-v/xt/in-vxt5ycgivunptwzqwlteg1ns.png"></div><br>  L'antenne est l√©g√®rement plus petite que Flightaware <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/57/og/_c/57og_cudvkojungdjrhx7nbvmmm.jpeg" width="400"></div><br>  Support de m√¢t Flightaware de duralumin <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-v/rd/df/-vrddfifb-tgjkc4chgcxonphki.jpeg" width="400"></div><br>  Un cadeau avec le symbole de VariFlight.  A en juger par les inscriptions au dos, cette √©tiquette doit √™tre accroch√©e aux bagages en cas de perte √† l'a√©roport, en renseignant les coordonn√©es du propri√©taire. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/na/ay/3t/naay3txh_wtm7qlo9hpe1zbczji.jpeg" width="400"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/uy/sq/xhuysqq2i9mjm8r5kmsy8eo6md8.jpeg" width="400"></div><br><h2>  <font color="#cc0000">Premi√®re inclusion</font> </h2><br>  La mise sous tension n'a fondamentalement rien chang√© √† l'apparence de l'appareil.  Seuls les indicateurs LAN √©taient allum√©s, le routeur a un nouveau nom d'h√¥te raspberrypi dans la liste des adresses IP dhcp √©mises.  HDMI avait la sortie de d√©marrage RPi habituelle et la demande de connexion. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u3/jq/la/u3jqlagqk0w2vni0vquhtllulk0.jpeg" width="400"></div><br>  Et c'est tout.  L'interface Web attendue pour ces appareils sur IP: 8080 n'√©tait pas disponible.  L'analyse des ports de l'appareil n'a trouv√© que le port 22. Dans une tentative de connexion en tant qu'utilisateur et mot de passe par d√©faut, il a √©t√© envoy√© de loin dans la console et dans ssh: <br><br><pre> <code class="bash hljs">login as: pi pi@raspberrypi<span class="hljs-string"><span class="hljs-string">'s password: Access denied</span></span></code> </pre> <br>  Le r√©cepteur s'est allum√© et √©teint plusieurs fois, est rest√© allum√© pendant des jours en supposant qu'il pourrait t√©l√©charger quelque chose √† ce moment-l√† ou essayer d'atteindre des serveurs en Chine.  Ni le voyant rouge ni le voyant vert ne s'allument. <br><br>  √Ä ce moment, je suis all√© hors site √† la recherche de FAQ, de support technique ou de quelque chose d'autre qui pourrait dire que cet appareil devrait et ne devrait pas.  Je me suis connect√© pour la premi√®re fois, mais cela n'a rien chang√© fondamentalement - il n'y a pas de formulaires de contact ou de formulaires de commentaires.  La seule chose qui a √©t√© trouv√©e √©tait que le r√©cepteur √©tait li√© √† un compte et avait le statut hors ligne.  J'ai remarqu√© que le syst√®me l'a vu pour la derni√®re fois sur le r√©seau le 2 septembre √† 17h18, heure de P√©kin, 4 jours avant son envoi par courrier.  C'est-√†-dire  Il a √©t√© v√©rifi√© et connect√© au compte. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0b/-0/fs/0b-0fsjl_qfuohrhfdanizpv9y8.png"></div><br>  Apr√®s avoir pass√© quelques jours √† fl√¢ner sur les sites de "l'Internet chinois", que certains liens renvoyaient hors site ou qui √©taient li√©s hors site, et fatigu√© de leur conception d'origine, j'ai r√©alis√© que ce produit ne b√©n√©ficiait d'aucune assistance technique.  Et √† ce moment-l√†, je me suis souvenu de deux e-mails de l'ADSB Â±ïÁ§∫ Á≥ªÁªü (syst√®me d'affichage de l'ADS-B). <br><br>  ¬´C'est une sorte de non-sens¬ª - encore une fois, j'ai entendu une voix famili√®re avec un accent dans la t√™te.  Mon e-mail √† cette adresse est retourn√© PostMaster feeyo.com <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7q/bh/vw/7qbhvwk-bzc6ljjz6rpqfusctgi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et puis l'≈ìil a attrap√© l'attachement √† la deuxi√®me lettre, qui avait pr√©c√©demment √©chapp√© au regard (en raison du nouveau design inhabituel de GMail). </font><font style="vertical-align: inherit;">Cela s'est av√©r√© √™tre une instruction d'installation pour VariFlight ADS-B. </font><font style="vertical-align: inherit;">Il est temps de d√©couvrir comment cela devait fonctionner.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rencontrez È£û Â∏∏ ÂáÜ ADS-B ËÆæÂ§á ÂÆâË£Ö ËØ¥Êòé</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vous trouverez ci-dessous une traduction des instructions en 6 pages et en deux langues, dont la plupart sont des illustrations. </font></font><br><br><h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instructions d'installation du VariFlight ADS-B</font></font></font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/eg/id/qd/egidqdatgtfzejqa91n4nfh-zn8.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Br√®ve description</font></font></font></i> </h3> <i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VariFlight ADS-B est un √©quipement con√ßu pour les passionn√©s de l'aviation civile pour suivre les avions. </font><font style="vertical-align: inherit;">Le kit comprend un r√©cepteur ADS-B, une alimentation, un cordon de raccordement (cordon de raccordement), une antenne et un c√¢ble pour celui-ci.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/mo/gu/kz/mogukz2z2_ohzy4un1bhz3pk6pa.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Emplacement de l'antenne</font></font></font></i> </h3> <i><br>         ,        ;    .    ADS-B     ,    . <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/7_/3a/ru/7_3aruxylxvhzffbg2xwormtdmk.jpeg" width="400"></i> </div> <i><br>   ,    ADS-B   ,   : <br><br></i> <ol><li> <i>    .</i> </li><li> <i>   -      ADS-B .</i> </li><li> <i>    .</i> </li></ol> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/gi/me/bv/gimebv-tiw4td7c_m3evyd34tro.jpeg" width="400"></i> </div> <i><br>    ,        .  IP  ,  DHCP. <br><br></i> <h3> <i><font color="#00cc00">   </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/ac/vj/sr/acvjsruuug3lop68iq8xm-7act4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">    </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/lg/4u/iv/lg4uivsn2odmoktyc6pbuc63ze4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">      ADS-B      </font></i> </h3> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La premi√®re m√©thode. </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les param√®tres de votre routeur, recherchez l'adresse IP du r√©cepteur ADS-B et ouvrez </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http // XXX.XXX.XXX: 8080</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans un navigateur Web, o√π XXX.XXX.XXX est l'adresse IP interne de votre r√©seau local.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/wp/di/d3/wpdid3rucptn5hlql698q1murns.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxi√®me m√©thode:</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ouvrez le lien </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans un navigateur Web, connectez-vous et cliquez sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airport</font></font></a> <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/9o/hs/ja/9ohsja9e_inbqrha1kivz6rzrsw.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La troisi√®me m√©thode, uniquement pour les volontaires chinois</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour les utilisateurs chinois, l'utilisation de WeChat est possible. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur cette instruction a pris fin. </font><font style="vertical-align: inherit;">Conform√©ment √† cette instruction, l'appareil fonctionne partiellement - il re√ßoit l'IP sur le r√©seau local, mais n'affiche pas d'interface Web o√π vous pouvez reconna√Ætre</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dump1090</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un d√©codeur Mode S con√ßu pour les dongles RTLSDR et utilis√© dans de tels appareils.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/647/54e/431/64754e43182b4740b7c08d138527a1f9.jpg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sans fonctionnement de dump1090, aucune donn√©e n'arrivera sur le serveur. </font><font style="vertical-align: inherit;">Il est √©trange que l'appareil ait fonctionn√© pendant la v√©rification avant l'exp√©dition. </font><font style="vertical-align: inherit;">"C'est une sorte de non-sens." </font><font style="vertical-align: inherit;">√âtant donn√© que les Chinois ne sont en aucun cas int√©ress√©s par le sort de l'appareil et qu'aucun signe d'assistance technique n'a pu √™tre trouv√©, ma conscience est compl√®tement propre si j'essaie de le r√©parer moi-m√™me.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous prenons le contr√¥le de l'appareil</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Apr√®s avoir d√©mont√© le r√©cepteur, imm√©diatement apr√®s r√©ception, j'ai fait l'image microSD dans l'√©tat avant la premi√®re mise sous tension et j'ai examin√© un peu le contenu, soup√ßonnant imm√©diatement que le r√©cepteur envoyait des donn√©es au serveur - il y avait des fichiers et des scripts avec des adresses de service dans / root /. </font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©initialiser le mot de passe utilisateur PI</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les instructions pour changer le ¬´mot de passe oubli√©¬ª avec des images peuvent √™tre trouv√©es sur ce </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je d√©monte √† nouveau le r√©cepteur. </font><font style="vertical-align: inherit;">Pour acc√©der √† microSD, vous devez d√©visser toutes les vis et retirer les deux cartes. </font><font style="vertical-align: inherit;">√Ä l'avenir, en travaillant avec le r√©cepteur, je ne l'ai pas remont√© dans le b√¢timent. </font><font style="vertical-align: inherit;">a d√ª changer deux microSD avec des syst√®mes diff√©rents. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous retirons la microSD de Rpi, faisons une copie de sauvegarde sur l'ordinateur, si vous ne l'avez pas encore fait, et </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©ditons</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le fichier - </font><b><font style="vertical-align: inherit;">cmdline.txt</font></b><font style="vertical-align: inherit;"> .</font></font><br><br><pre> <code class="bash hljs">dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √Ä la fin de cette ligne, ajoutez </font></font><br><br><pre> <code class="bash hljs">init=/bin/sh</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous renvoyons microSD √† RPi, connectons le moniteur et le clavier. </font><font style="vertical-align: inherit;">Nous connectons le pouvoir. </font><font style="vertical-align: inherit;">Lorsque les lignes ne fonctionnent plus √† l'√©cran, appuyez sur Entr√©e. </font><font style="vertical-align: inherit;">Une invite de console appara√Æt, dans laquelle nous tapons</font></font><br><br><pre> <code class="bash hljs">mount -rw -o remount / passwd pi sync <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> /sbin/init</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les lignes fonctionnent encore et encore, attendez qu'elles s'arr√™tent, puis d√©sactivez-les. </font><font style="vertical-align: inherit;">Nous obtenons microSD de RPi. </font><font style="vertical-align: inherit;">Sur l'ordinateur, nous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©ditons ou restaurons la</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> copie de sauvegarde de </font><b><font style="vertical-align: inherit;">cmdline.txt</font></b><font style="vertical-align: inherit;"> - supprimez ¬´init = / bin / sh¬ª. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La derni√®re fois que nous retournons microSD √† RPi. </font><font style="vertical-align: inherit;">Allumez. </font><font style="vertical-align: inherit;">Connectez-vous avec succ√®s avec un nouveau mot de passe. </font><font style="vertical-align: inherit;">Nous activons ssh en entrant raspi-config et en s√©lectionnant SSH dans le menu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, avec la commande sup√©rieure, je veux voir comment vit le r√©cepteur et remarquer de mani√®re inattendue les processus wget et ... dump-1090. </font><font style="vertical-align: inherit;">Sc√®ne silencieuse. </font><font style="vertical-align: inherit;">Je v√©rifie dans le navigateur Web http // XXX.XXX.XXX: 8080 - il y a une interface.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/r_/io/t1/r_iot1vh1tljjqcj6gqdat3ufkq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ne pas dire cela de mani√®re inattendue, mais certainement inhabituelle. </font><font style="vertical-align: inherit;">Je v√©rifie la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deuxi√®me m√©thode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans les instructions </font><font style="vertical-align: inherit;">- tout va bien l√† aussi: l'ic√¥ne du r√©cepteur est devenue verte, et en dessous de la liste des avions qu'il a entendus.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il serait possible de terminer l√†-dessus, mais tout d'abord, utiliser RPi3 juste pour cela serait impardonnable. Et deuxi√®mement, si cet appareil fonctionnait de mani√®re stable. Par exemple, il a disparu de la liste des adresses IP du routeur DHCP, alors qu'il √©tait disponible lors de l'acc√®s √† l'IP pr√©c√©demment re√ßue, et en m√™me temps il n'y avait pas d'image sur HDMI. Mais le plus important √©tait l'instabilit√© de l'√©mission. Selon les statistiques sur la page du r√©cepteur, cela a fonctionn√© plusieurs heures par jour. Parfois une journ√©e enti√®re, parfois plusieurs heures, parfois z√©ro heure. Il a fallu plusieurs jours pour √©tudier le syst√®me - tous les logiciels n'√©taient pas install√©s. D√©p√¥ts chinois ... La voix allemande a finalement convaincu que nous devons fabriquer un r√©cepteur ADS-B pour une personne en bonne sant√©, et pour cela nous devons rouler l'image PiAware sur une autre microSD. La microSD d'origine √©tait toujours utile pour savoir comment cela fonctionne.</font></font><font color="#FF0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au minimum, enregistrez les fichiers depuis / root. </font><font style="vertical-align: inherit;">Rendre une image d√©sirable.</font></font></font> <br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></font> </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un logiciel Linux pour transf√©rer des donn√©es de vol vers FlightAware. </font><font style="vertical-align: inherit;">Contient la fourche dump1090-mutability. </font><font style="vertical-align: inherit;">Selon les d√©veloppeurs, l'une des diff√©rences est qu'il n'envoie pas de packages aux serveurs FlightAware s'ils ne diff√®rent pas du premier.</font></font> C'est-√†-dire<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si l'avion n'a pas chang√© de vitesse, d'altitude, alors ces donn√©es n'ont pas besoin d'√™tre trait√©es, et r√©duisent ainsi la charge sur le serveur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a environ deux ans, FlightAware a commenc√© √† traduire des textes du site en russe. Et beaucoup pour cr√©er votre propre station PiAware peut √™tre trouv√©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hors site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'essence de la cr√©ation d'une station sur RPi avec RTLSDR est d'√©crire sur la microSD de l'image PiAware sur Raspbian Linux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">termin√©e √† l'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aide d' </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Etcher</font></a><font style="vertical-align: inherit;"> . Ensuite, avant d'ins√©rer la carte dans le RPi et d'attendre le t√©l√©chargement, vous devez apporter quelques modifications. Pour activer l'acc√®s SSH, cr√©ez un fichier vide sans l'extension portant le nom ssh dans la partition de d√©marrage (/ partition de d√©marrage). Et dans le fichier piaware-config.txt, vous pouvez effectuer les </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">r√©glages</font></a><font style="vertical-align: inherit;"> n√©cessaires</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par exemple, sp√©cifiez une IP statique ou activez le WiFi et sp√©cifiez un SSID / mot de passe, √† condition qu'un adaptateur WiFi USB pris en charge soit connect√©. </font><font style="vertical-align: inherit;">Les m√™mes param√®tres peuvent √™tre d√©finis √† partir de la console avec la commande piaware-config </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setting_name Possible_values</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez d√©j√† un compte Flightaware, apr√®s 5 minutes, la station sera </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attach√©e au compte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , apr√®s avoir re√ßu un identifiant unique. </font><font style="vertical-align: inherit;">Et le r√©cepteur aura sa propre page de statistiques. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par d√©faut, l'utilisateur PI poss√®de un mot de passe de d√©tection de vol. </font><font style="vertical-align: inherit;">C'est une bonne id√©e de changer votre mot de passe imm√©diatement.</font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tests"</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les tests sont entre guillemets, juste des impressions. Avoir deux appareils avec presque le m√™me logiciel peut √©valuer leurs capacit√©s. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai un r√©cepteur Flightaware gratuit et la premi√®re chose que j'ai connue a √©t√© l'antenne VariFlight compl√®te. Je viens de remplacer l'antenne Flightaware par elle. Et pendant que j'√©tudiais le r√©cepteur VariFlight, des statistiques FlightFeeder ont √©t√© collect√©es sur la page Flightaware. La conclusion est d√©cevante. Bien que rien n'ait chang√© dans la port√©e maximale, comme FlightFeeder, dans le sens de la visibilit√© directe, en attrapant certains √† une distance de 400 km, mais les statistiques des avions par heure / jour ont baiss√© 2-3 fois. Accepte s√ªrement les c√¥t√©s pour plus de 300 kilom√®tres, mais voit un peu moins de messages. Je ne sais pas ce qu'il y a √† l'int√©rieur du corps de l'antenne - ce n'est pas pliable.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une antenne Flightaware √©tait connect√©e au r√©cepteur VariFlight et montrait des statistiques du m√™me ordre. </font><font style="vertical-align: inherit;">Et avec une antenne native encore plus basse.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ed/tq/0z/edtq0z5qbkaioqmq8khv4q75nse.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je vais d√©coder les statistiques. </font><font style="vertical-align: inherit;">Statistiques 10-05 √† 10-07 est un r√©cepteur VariFlight avec une antenne Flightaware. </font><font style="vertical-align: inherit;">Le 10-08, l'antenne compl√®te √©tait connect√©e et du 10-09 au 10-11 les statistiques du kit VariFlight. </font><font style="vertical-align: inherit;">10-12, le script send_message.py a √©t√© modifi√© pour collecter les donn√©es de Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">Apr√®s cela, VariFlight a envoy√© des donn√©es et 10-13 - des statistiques quotidiennes bas√©es sur les donn√©es Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">De plus, par exemple, pour 10-18 - 396 vols, 814176 packages, pour 10-19 - 471 vols, 860415 packages. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âvaluons dans quelle mesure le r√©cepteur VariFlight est sensible aux interf√©rences radio. </font><font style="vertical-align: inherit;">Pour ce faire, num√©risez la plage de 800 MHz √† 1200 MHz et g√©n√©rez une carte thermique.</font></font><br><br><pre> <code class="bash hljs">sudo apt-get install python-imaging sudo wget https://raw.githubusercontent.com/keenerd/rtl-sdr-misc/master/heatmap/heatmap.py sudo chmod +x heatmap.py sudo systemctl stop dump1090-fa sudo rtl_power -f 800M:1200M:100k -i 30 -c 50% -e 30m -g 30 -F 9 &gt;scan.csv</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Apr√®s une demi-heure (-e 30m), la num√©risation s'arr√™te et une image est g√©n√©r√©e. </font></font><br><pre> <code class="bash hljs">./heatmap.py scan.csv scan.png</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Red√©marrage de l'appareil pour restaurer dump1090. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et copiez l'image r√©sultante sur un ordinateur √† l'aide de (win) scp. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il s'agit d'un fragment d'un balayage de carte thermique √† une fr√©quence de 1090 MHz. </font><font style="vertical-align: inherit;">Image compl√®te disponible par clic.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/qs/jl/om/qsjlomhpqztfezcodd2c__ik-zy.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les rayures jaune vif sont une communication mobile. Rien d'inhabituel - il n'a pas de pr√©filtres comme le Flightfeeder, et il est fortement interrompu par les stations mobiles. En cela, il est absolument identique au simple ¬´sifflet bleu¬ª mentionn√© pr√©c√©demment. Peut-√™tre que la fabrication sous la forme d'une carte d'extension sp√©ciale a un certain sens, par exemple, le r√¥le des ¬´pistes pli√©es¬ª sur cette carte n'est pas clair. Fabriquant une carte sp√©cialis√©e, il ne serait pas difficile d'installer √† la fois un amplificateur √† faible bruit et un filtre SAW √† 1090 MHz. En regardant les scripts de l'appareil, j'ai eu une id√©e de pourquoi cela a √©t√© fait - un script appel√© acars.py.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gj/je/c5/gjjec5drhpf-ummw90sui3ar5vw.jpeg" width="640"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'ampleur et le filtre am√©lioreraient les caract√©ristiques du r√©cepteur montre un exemple du groupe susmentionn√© sur Facebook. </font><font style="vertical-align: inherit;">Au lieu d'un r√©cepteur ordinaire, l'un des utilisateurs de VariFlight Box a connect√© un dongle sp√©cialis√© de Flightaware, ce qui l'a amen√© √† la cote sup√©rieure d'un millier d'utilisateurs (bien s√ªr, l'emplacement d'installation et une autre antenne ont √©galement √©t√© affect√©s).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wn/wx/vx/wnwxvxmudv-gpbpatzreybmtgzk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlightAware lance deux mod√®les de dongles - Pro Stick et Pro Stick Plus, qui sont toujours le m√™me ¬´sifflet bleu¬ª mais ont un amplificateur de signal pr√©liminaire, et ce dernier a en outre un </font></font><abbr title="Filtre SAW"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtre SAW</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui √©limine les signaux inutiles dans les zones avec beaucoup d'interf√©rences, par exemple dans les villes, ainsi que ces mod√®les sont √©quip√©s d'un connecteur d'antenne SMA. </font><font style="vertical-align: inherit;">Ces dongles sont utilis√©s dans les r√©cepteurs Flightaware Flightfeeder Orange.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/bv/m0/zobvm0srdsqzwa0zj-sn4jnpkow.jpeg" width="400"></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec couvercle retir√©</font></font></b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/_r/do/al_rdoa1ezof9rwtjv6v97o2nd8.jpeg"></div><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nom du script "acars.py" laisse entendre que l'absence de filtres n'est pas une erreur ni une sauvegarde. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Syst√®me d'adresse et de communication des communications a√©riennes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le syst√®me d'adressage et de communication des communications des a√©ronefs (ACARS) est un syst√®me de radiocommunication num√©rique utilis√© dans l'aviation pour transmettre des messages courts entre un a√©ronef et des stations au sol. </font><font style="vertical-align: inherit;">La fr√©quence de fonctionnement d'ACARS en Europe est de 131,725 ‚Äã‚ÄãMHz. </font><font style="vertical-align: inherit;">Par cons√©quent, l'appareil ne peut pas avoir de filtre uniquement pour 1090 MHz, sinon il ne pourra pas recevoir de signal √† 131 MHz. </font><font style="vertical-align: inherit;">Ce qui se trouve √† l'int√©rieur de l'antenne est inconnu, je ne vais pas le casser, mais il est √©vident que sa "large couverture" est √©galement assur√©e par les cr√©ateurs. </font><font style="vertical-align: inherit;">De mani√®re similaire √† la m√©thode ci-dessus, une carte thermique a √©t√© g√©n√©r√©e dans la plage de 100 MHz √† 500 MHz. </font><font style="vertical-align: inherit;">Un fragment d'une carte thermique de balayage √† une fr√©quence de 450 MHz. </font><font style="vertical-align: inherit;">Image compl√®te √©galement disponible par clic.</font></font><br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/pl/16/as/pl16astc_zfrbh2svvnrmzmurss.png"></a> </div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur la carte thermique, vous pouvez voir les panneaux de commande, les capteurs de s√©curit√©, les sonnettes sans fil, les capteurs sans fil des stations m√©t√©orologiques, les radio-amateurs, les stations de radio FM, etc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par exemple, en d√©finissant rtl_433, vous pouvez voir les donn√©es des capteurs sans fil voisins des stations m√©t√©orologiques et, si vous le souhaitez, les utiliser comme auteur de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/mm/ze/ucmmzezt7bnrtnsqxlkan5gtiwa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et en ex√©cutant rtl_tcp, vous pouvez √©couter la radio amateur et la radio FM. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x3/an/ti/x3antiicq0ssing7bra1wpglk_q.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fait int√©ressant, tous les jambons talkie-walkie ne gardent pas pr√©cis√©ment la fr√©quence. </font><font style="vertical-align: inherit;">C'√©tait dr√¥le de voir comment les radio-amateurs √©valuaient la fa√ßon dont ils entendaient l'interlocuteur, et la fr√©quence de l'une des stations de radio √©tait quelque part en marge. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais le r√©cepteur chinois sur le syst√®me natif a montr√© une pr√©cision de - 0 PPM. </font><font style="vertical-align: inherit;">Vous pouvez lire sur la technique de mesure PPM sur Habr dans l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quwy </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Encore une fois sur la r√©ception de HF sur RTL-SDR"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il est fortement conseill√© d'ajuster le PPM pour une meilleure r√©ception. </font><font style="vertical-align: inherit;">C'est ce que les Chinois ont fait. </font><font style="vertical-align: inherit;">Il y a une petite erreur sur Piaware qui peut et doit √™tre corrig√©e en sp√©cifiant la valeur PPM correcte avec la commande sudo piaware-config rtlsdr-ppm &lt;valeur PPM&gt;.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instructions d'√©talonnage RTLSDR avec rtl_test et kalibrate-rtl</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> rtl_test -p</code> </pre> <br>   10 ,    .    ppm. <br><br>            kalibrate-rtl. <br><pre> <code class="bash hljs">sudo apt-get install libtool autoconf automake libfftw3-dev git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/asdil12/kalibrate-rtl.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> kalibrate-rtl git checkout arm_memory ./bootstrap ./configure make sudo make install kal -s GSM900</code> </pre><br>     ,    ¬´power¬ª . <br>       kal -c &lt; &gt; -e &lt;  PPM,      rtl_test&gt; -v <br>    ¬´average absolute error¬ª.     ppm,   ,   sudo piaware-config rtlsdr-ppm &lt; PPM&gt; <br></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cons√©quence, nous pouvons dire que le r√©cepteur VariFlight pour le fer est l√©g√®rement meilleur que ce que vous pouvez assembler vous-m√™me. </font><font style="vertical-align: inherit;">C'est une bonne base pour commencer √† pratiquer ce passe-temps (et cela a montr√© des tests de fer qui peuvent √™tre utilis√©s pour un large √©ventail d'autres t√¢ches. De plus, il y a trois ports USB gratuits). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un inconv√©nient certain en tant que r√©cepteur ADSB est le logiciel et l'interface du site chinois. </font><font style="vertical-align: inherit;">Si vous ne pouvez rien faire avec le site chinois, vous pouvez modifier le logiciel du r√©cepteur lui-m√™me. </font><font style="vertical-align: inherit;">Le moyen le plus simple consiste √† installer PiAware et √† configurer la distribution sur VariFlight. </font><font style="vertical-align: inherit;">Ensuite, vous pouvez configurer la distribution sur Flightradar24 et y cr√©er un compte avec des conditions sp√©ciales. </font><font style="vertical-align: inherit;">Un exemple d'utilisation d'un compte avec des fonctionnalit√©s sp√©ciales est l'acc√®s aux donn√©es d'archives Flightaware (le crash de la An-148 Saratov Airlines).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ug/du/dtugduq0reih0v5pv5pphsrxn2a.jpeg" alt="image" width="640"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ua/zc/u8/uazcu8jmy0bk0-wpmw-a_9rm63c.png"></div><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous donnons des donn√©es √† VariFlight</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous revenons au contenu du r√©pertoire racine. </font><font style="vertical-align: inherit;">Il peut √™tre trouv√© sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les noms de fichiers indiquent sans ambigu√Øt√© leurs fonctions.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root -l total 24 drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 drwxr-xr-x 5 root root 4096 Oct 16 18:54 get_message -rwxr-xr-x 1 root root 567 Nov 22 2016 install.sh drwxr-xr-x 7 root root 4096 Nov 22 2016 rtl-sdr -rwxr-xr-x 1 root root 62 Nov 22 2016 synctime.sh -rwxr-xr-x 1 root root 1300 Nov 29 2016 task.sh</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash apt-get update apt-get install cmake libusb-1.0-0-dev build-essential vim ntpdate -y apt-get remove ntp cd get_message/ mv rtl-sdr-blacklist.conf /etc/modprobe.d/ mv dump.sh /etc/init.d/dump chmod +x /etc/init.d/dump mv task.sh ../ chmod +x ../task.sh cd ../rtl-sdr/ mkdir rtl cd rtl cmake ../ -DINSTALL_UDEV_RULES=ON make install ldconfig cd ../../dump1090/ make cd /root/get_message/ python get_ip.py ps aux | grep py update-alternatives --config editor crontab -e * * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1 * * */6 * * /root/synctime.sh &gt;/dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les derni√®res lignes de install.sh montrent que cron ajoute deux t√¢ches - ex√©cutez task.sh toutes les minutes et synctime.sh tous les 6 jours </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">synctime.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash /usr/sbin/ntpdate 115.182.42.248 &gt; /dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115.182.42.248 - BeiJing wanglianxuntong Telecom Technology Co., Ltd, P√©kin, Chine. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remarques: Veuillez noter que CNNIC n'est pas un FAI et n'est pas des </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remarques: autoris√© √† enqu√™ter sur les plaintes d'abus de r√©seau. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remarques: Veuillez contacter le technicien ou l'administrateur du r√©seau.</font></font></blockquote><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep dump1090 | grep -v grep if [ $? -eq 1 ] then /etc/init.d/dump stop sleep 1 /etc/init.d/dump start echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 running" echo "------------------------------------------------------------------------" fi ps -eaf | grep send_message.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python -O /root/get_message/send_message.py &amp; echo `date "+%G-%m-%d %H:%M:%S"`" send_message restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" send_message running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le script task.sh, ex√©cut√© toutes les minutes par cron, v√©rifie et, si n√©cessaire, red√©marre les scripts dump1090, send_message.py et get_ip.py. </font></font><br><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -eaf | grep dump1090 | grep -v grep root 830 1 14 Oct12 ? 13:49:25 ./dump1090 --net --net-sbs-port 30003 pi@raspberrypi:~ $ ps -eaf | grep get_ip.py | grep -v grep pi@raspberrypi:~ $ ps -eaf | grep send_message.py | grep -v grep root 838 1 0 Oct12 ? 00:09:20 python -O /root/get_message/send_message.py</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le r√©pertoire </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contient des scripts python, dont l'un, send_message.py, envoie des donn√©es.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root/get_message -l total 40 -rw-r--r-- 1 root root 954 Nov 22 2016 acars.py -rw-r--r-- 1 root root 1341 Nov 22 2016 acars.sh -rw-r--r-- 1 root root 173 Nov 22 2016 config.ini drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 -rwxr-xr-x 1 root root 1731 Nov 22 2016 get_ip.py drwxr-xr-x 3 root root 4096 Nov 22 2016 get_message1117 -rwxr-xr-x 1 root root 3400 Dec 7 2016 init.sh -rw-r--r-- 1 root root 33 Oct 16 18:51 md5.txt -rwxr-xr-x 1 root root 1143 Oct 12 18:16 send_message.py -rw-r--r-- 1 root root 16 May 27 2016 UUID</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">init.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash path='/root/get_message/' DATE=`date -d "today" +"%Y-%m-%d_%H:%M:%S"` result="" UUID="" execom="" FromServer="" SourceMD5="" device="" if ps -ef |grep dump1090 |grep -v grep &gt;/dev/null then device="adsb" elif ps -ef |grep acarsdec |grep -v grep &gt;/dev/null then device="acars" else device="unknow" fi IpAddr=`/sbin/ifconfig |grep "addr:" |grep -v 127.0.0.1 |cut -d ':' -f2 |cut -d ' ' -f1` if [ -f "/root/get_message/UUID" ] then UUID=`cat /root/get_message/UUID` fi execut(){ while read command do eval $command if [ $? -ne 0 ] then execom=$command result=0 break fi result=1 done &lt;$path/package/exe.txt } removefile(){ rm -rf $path/package rm -f $path/*tar.gz* } main(){ ps -eaf | grep "pic.veryzhun.com/ADSB/update/newpackage.tar.gz" | grep -v grep if [ $? -eq 1 ] then /usr/bin/wget -P $path -c -t 1 -T 2 pic.veryzhun.com/ADSB/update/newpackage.tar.gz if [ -f "$path/newpackage.tar.gz" ] then dmd5=`md5sum $path/newpackage.tar.gz|cut -d ' ' -f1` if [ "$SourceMD5" = "$dmd5" ] then /bin/tar -xzf $path/newpackage.tar.gz -C $path echo $SourceMD5 &gt; $path/md5.txt /bin/touch /usr/src/start.pid echo $DATE &gt; /usr/src/start.pid execut if [ $result -eq 1 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="success" http://receive.cdn35.com/ADSB/result.php else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="fail" http://receive.cdn35.com/ADSB/result.php fi removefile else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="post file has been changed" http://receive.cdn35.com/ADSB/result.php removefile fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="download failed" http://receive.cdn35.com/ADSB/result.php removefile fi fi } if curl -m 2 -s pic.veryzhun.com/ADSB/update.php &gt;/dev/null;then removefile FromServer=`curl -m 2 -s -d UUID="$UUID" -d IpAddr="$IpAddr" -d Device="$device" pic.veryzhun.com/ADSB/update.php` SourceMD5=`echo $FromServer|cut -d ' ' -f1` length=`echo $SourceMD5 |wc -L` if [ $length -ne 32 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="md5 style error" http://receive.cdn35.com/ADSB/result.php exit fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="curl failed" http://receive.cdn35.com/ADSB/result.php exit fi DesMD5=`cat $path/md5.txt` if [ "$SourceMD5" = "$DesMD5" ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="no update,md5 without change " http://receive.cdn35.com/ADSB/result.php exit else main fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le script init.sh v√©rifie s'il y a une mise √† jour et d√©finit un nouveau send_message.py </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_ip.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fcntl <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> struct <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys,os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> hashlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uuid config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> source_data=source_data.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>,<span class="hljs-string"><span class="hljs-string">'$$$'</span></span>) f=urllib2.urlopen( url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"ipurl"</span></span>), data = source_data, timeout = <span class="hljs-number"><span class="hljs-number">60</span></span> ) tmp_return=f.read() request_json=json.loads(tmp_return) request_md5=request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] tmp_hash=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> request_json: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> tmp_hash==<span class="hljs-string"><span class="hljs-string">''</span></span> : tmp_hash=tmp_hash+request_json[i] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : tmp_hash=tmp_hash+<span class="hljs-string"><span class="hljs-string">','</span></span>+request_json[i] md5=hashlib.md5(tmp_hash.encode(<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)).hexdigest() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (md5 == request_md5): operate(request_json) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'MD5 ERR'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"return: "</span></span>+tmp_return; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_ip_address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ifname)</span></span></span><span class="hljs-function">:</span></span> skt = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) pktString = fcntl.ioctl(skt.fileno(), <span class="hljs-number"><span class="hljs-number">0x8915</span></span>, struct.pack(<span class="hljs-string"><span class="hljs-string">'256s'</span></span>, ifname[:<span class="hljs-number"><span class="hljs-number">15</span></span>])) ipString = socket.inet_ntoa(pktString[<span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ipString <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request_json)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'reboot'</span></span> : os.system(<span class="hljs-string"><span class="hljs-string">'/sbin/reboot'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'code'</span></span> : fileHandle = open ( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'path'</span></span>] ) , <span class="hljs-string"><span class="hljs-string">'w'</span></span> ) fileHandle.write( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'content'</span></span>] ) ) fileHandle.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'OK'</span></span> eth=get_ip_address(<span class="hljs-string"><span class="hljs-string">'eth0'</span></span>) send_message(mid+<span class="hljs-string"><span class="hljs-string">'|'</span></span>+eth+<span class="hljs-string"><span class="hljs-string">'|'</span></span>)</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le sens de l'√©change de r√©seau effectu√© par le script, je ne comprends pas particuli√®rement. </font><font style="vertical-align: inherit;">Un UUID unique est g√©n√©r√© s'il en manque un. </font><font style="vertical-align: inherit;">Et il y a un certain √©change avec les adresses sp√©cifi√©es dans le fichier config.ini. </font><font style="vertical-align: inherit;">Ce script particulier est probablement responsable de la liaison des donn√©es transmises et de l'IP avec le compte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La ligne "if request_json ['type'] == 'reboot': os.system ('/ sbin / reboot')" est √† noter.</font></font><br><br><pre> <code class="plaintext hljs">[global] name = NEW ipurl = http://receive.cdn35.com/ADS-B_IP.php sendurl = http://adsb.feeyo.com/adsb/ReceiveCompressADSB.php version = 1.0 passwd = 'null'</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et enfin, le script envoyant les donn√©es </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">send_message.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> zlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os,uuid serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">30003</span></span> config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() sockobj = socket.socket(socket.AF_INET,socket.SOCK_STREAM) sockobj.connect((serverHost,serverPort)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: source_data=base64.b64encode(zlib.compress(source_data)) f=urllib2.urlopen(url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"sendurl"</span></span>),data = urllib.urlencode({<span class="hljs-string"><span class="hljs-string">'from'</span></span>:mid,<span class="hljs-string"><span class="hljs-string">'code'</span></span>:source_data}),timeout = <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception,e: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> str(e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: buf = sockobj.recv(<span class="hljs-number"><span class="hljs-number">1024</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> buf: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(buf) != <span class="hljs-number"><span class="hljs-number">0</span></span>: tmp_buf=tmp_buf+buf <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> buf[len(buf)<span class="hljs-number"><span class="hljs-number">-1</span></span>] == <span class="hljs-string"><span class="hljs-string">'\n'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> send_message(tmp_buf) : tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai modifi√© la ligne serverHost = 'localhost' en rempla√ßant 'localhost' par 'ff-1234' - le nom de r√©seau de mon Flightaware Flightfeeder et en red√©marrant le r√©cepteur VariFlight. Apr√®s cela, les donn√©es de Flightfeeder sont all√©es √† VariFlight. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les scripts restants sont la r√©ception des messages ACARS. Peut-√™tre le reste d'une fonctionnalit√© ou d'une fonction qui sera impl√©ment√©e √† l'avenir. Les scripts fonctionnent avec /root/acarsdec-3.0/acarsdec, qui manque sur ce chemin. ACARSDEC est un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©codeur ACARS SDR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui d√©code des messages, par exemple, √† une fr√©quence de 131,725 ‚Äã‚ÄãMHz. Apparemment, sur la base de la r√©ception de cette fr√©quence, il n'y a pas de filtres √† 1090 MHz √† l'entr√©e du r√©cepteur.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qz/kh/hu/qzkhhuoty6nf40do5noeftc1psk.jpeg" width="400"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le syst√®me de communication a√©ronautique d'adresse et de communication (ACARS) est un syst√®me de communication num√©rique utilis√© dans l'aviation pour transmettre des messages courts et relativement simples entre un a√©ronef et des stations au sol, soit par radiocommunication directe, soit par satellite. </font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus d'informations sur ACARS, par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cliquez ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le script acars.sh est similaire √† task.sh dans son impl√©mentation - il red√©marre acarsdec et les scripts get_ip.py et acars.py s'il ne d√©tecte pas le processus n√©cessaire.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep acarsdec | grep -v grep if [ $? -eq 1 ] then /root/acarsdec-3.0/acarsdec -n 127.0.0.1:8888 -o 0 -p -8 -r 0 127.272 126.475 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi ps -eaf | grep acars.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/acars.py echo `date "+%G-%m-%d %H:%M:%S"`" acars restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acars running" echo "------------------------------------------------------------------------" fi /usr/sbin/ntpdate cn.pool.ntp.org &gt; /dev/null</span></span></code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python import socket, traceback ,time,urllib2,urllib,sys,ConfigParser def send_message(source_data): try: f=urllib2.urlopen(url = config.get("global","sendurl"),data = urllib.urlencode({'from':config.get("global","name"),'code':source_data}),timeout = 10) print "return: "+f.read(); return True except Exception,e: print str(e) return False host = '127.0.0.1' port = 8888 config = ConfigParser.ConfigParser() config.readfp(open(sys.path[0]+'/config.ini',"rb")) s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) s.bind((host, port)) while 1: try: message, address = s.recvfrom(8192) socket_udp_str='{0} :{1} \n\n'.format(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time())),message) send_message(socket_udp_str) except (KeyboardInterrupt, SystemExit): raise except: traceback.print_exc()</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Au travail, cela ressemble √† ceci: </font></font><br><br><pre> <code class="bash hljs">PID TTY STAT TIME COMMAND 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps -afx compl√®tement</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -afx PID TTY STAT TIME COMMAND 2 ? S 0:00 [kthreadd] 3 ? S 0:59 \_ [ksoftirqd/0] 5 ? S&lt; 0:00 \_ [kworker/0:0H] 7 ? S 5:28 \_ [rcu_sched] 8 ? S 0:00 \_ [rcu_bh] 9 ? S 0:01 \_ [migration/0] 10 ? S 0:01 \_ [migration/1] 11 ? S 0:05 \_ [ksoftirqd/1] 13 ? S&lt; 0:00 \_ [kworker/1:0H] 14 ? S 0:01 \_ [migration/2] 15 ? S 0:04 \_ [ksoftirqd/2] 17 ? S&lt; 0:00 \_ [kworker/2:0H] 18 ? S 0:01 \_ [migration/3] 19 ? S 0:04 \_ [ksoftirqd/3] 21 ? S&lt; 0:00 \_ [kworker/3:0H] 22 ? S 0:00 \_ [kdevtmpfs] 23 ? S&lt; 0:00 \_ [netns] 24 ? S&lt; 0:00 \_ [perf] 25 ? S 0:00 \_ [khungtaskd] 26 ? S&lt; 0:00 \_ [writeback] 27 ? S&lt; 0:00 \_ [crypto] 28 ? S&lt; 0:00 \_ [bioset] 29 ? S&lt; 0:00 \_ [kblockd] 31 ? S&lt; 0:00 \_ [rpciod] 32 ? S 0:00 \_ [kswapd0] 33 ? S&lt; 0:00 \_ [vmstat] 34 ? S 0:00 \_ [fsnotify_mark] 35 ? S&lt; 0:00 \_ [nfsiod] 44 ? S&lt; 0:00 \_ [kthrotld] 46 ? S&lt; 0:00 \_ [bioset] 47 ? S&lt; 0:00 \_ [bioset] 48 ? S&lt; 0:00 \_ [bioset] 49 ? S&lt; 0:00 \_ [bioset] 50 ? S&lt; 0:00 \_ [bioset] 51 ? S&lt; 0:00 \_ [bioset] 52 ? S&lt; 0:00 \_ [bioset] 53 ? S&lt; 0:00 \_ [bioset] 54 ? S&lt; 0:00 \_ [bioset] 55 ? S&lt; 0:00 \_ [bioset] 56 ? S&lt; 0:00 \_ [bioset] 57 ? S&lt; 0:00 \_ [bioset] 58 ? S&lt; 0:00 \_ [bioset] 59 ? S&lt; 0:00 \_ [bioset] 60 ? S&lt; 0:00 \_ [bioset] 61 ? S&lt; 0:00 \_ [bioset] 62 ? S&lt; 0:00 \_ [bioset] 63 ? S&lt; 0:00 \_ [bioset] 64 ? S&lt; 0:00 \_ [bioset] 65 ? S&lt; 0:00 \_ [bioset] 66 ? S&lt; 0:00 \_ [bioset] 67 ? S&lt; 0:00 \_ [bioset] 68 ? S&lt; 0:00 \_ [bioset] 69 ? S&lt; 0:00 \_ [bioset] 70 ? S&lt; 0:00 \_ [VCHIQ-0] 71 ? S&lt; 0:00 \_ [VCHIQr-0] 72 ? S&lt; 0:00 \_ [VCHIQs-0] 73 ? S&lt; 0:00 \_ [iscsi_eh] 74 ? S&lt; 0:00 \_ [dwc_otg] 75 ? S&lt; 0:00 \_ [DWC Notificatio] 77 ? S 0:00 \_ [irq/92-mmc1] 78 ? S 0:00 \_ [VCHIQka-0] 79 ? S&lt; 0:00 \_ [SMIO] 80 ? S&lt; 0:00 \_ [deferwq] 83 ? S&lt; 0:00 \_ [bioset] 84 ? S 0:11 \_ [mmcqd/0] 87 ? S 0:04 \_ [jbd2/mmcblk0p2-] 88 ? S&lt; 0:00 \_ [ext4-rsv-conver] 89 ? S&lt; 0:00 \_ [ipv6_addrconf] 172 ? S 415:15 \_ [w1_bus_master1] 224 ? S&lt; 0:00 \_ [cfg80211] 227 ? S&lt; 0:00 \_ [brcmf_wq/mmc1:0] 229 ? S 0:00 \_ [brcmf_wdog/mmc1] 493 ? S&lt; 0:00 \_ [kworker/1:1H] 550 ? S&lt; 0:00 \_ [kworker/3:1H] 632 ? S&lt; 0:00 \_ [kworker/u9:0] 633 ? S&lt; 0:00 \_ [hci0] 634 ? S&lt; 0:00 \_ [hci0] 638 ? S&lt; 0:00 \_ [kworker/u9:2] 3856 ? S&lt; 0:00 \_ [kworker/2:1H] 9346 ? S&lt; 0:00 \_ [kworker/0:1H] 15564 ? S 0:00 \_ [kworker/1:0] 17556 ? S 0:00 \_ [kworker/u8:2] 17878 ? S 0:00 \_ [kworker/0:0] 17879 ? S 0:00 \_ [kworker/2:2] 19234 ? S 0:00 \_ [kworker/u8:4] 19566 ? S 0:00 \_ [kworker/3:1] 20143 ? S 0:00 \_ [kworker/2:1] 20259 ? S 0:00 \_ [kworker/3:2] 20352 ? S 0:00 \_ [kworker/0:2] 20416 ? S 0:00 \_ [kworker/1:2] 20600 ? S 0:00 \_ [kworker/3:0] 20601 ? S 0:00 \_ [kworker/2:0] 20605 ? S 0:00 \_ [kworker/u8:0] 20725 ? S 0:00 \_ [kworker/0:1] 1 ? Ss 0:10 /sbin/init 134 ? Ss 1:00 /lib/systemd/systemd-journald 136 ? Ss 0:08 /lib/systemd/systemd-udevd 416 ? Ss 0:09 /usr/sbin/cron -f 426 ? Ss 0:01 /lib/systemd/systemd-logind 429 ? Ss 0:00 avahi-daemon: running [raspberrypi.local] 458 ? S 0:00 \_ avahi-daemon: chroot helper 433 ? Ss 0:00 /usr/bin/dbus-daemon --system --address=systemd: --no 450 ? Ss 0:02 /usr/sbin/thd --daemon --triggers /etc/triggerhappy/t 496 ? Ss 0:03 /sbin/wpa_supplicant -s -B -P /run/wpa_supplicant.wla 498 ? Ssl 0:13 /usr/sbin/rsyslogd -n 636 ? S 0:00 /usr/bin/hciattach /dev/serial1 bcm43xx 921600 noflow 640 ? Ss 0:00 /usr/lib/bluetooth/bluetoothd 729 ? Ss 0:02 /sbin/dhcpcd -q -w 749 ? Ss 0:00 /usr/sbin/sshd -D 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela montre que vous pouvez prendre des donn√©es de PiAware presque sans contrainte, en fait, seulement transf√©rer des scripts vers le nouveau syst√®me. </font><font style="vertical-align: inherit;">Et si vous avez d√©j√† une station adsb existante - faite maison, Flightradar24, Flightaware, alors le r√©cepteur existant peut √™tre utilis√© √† votre discr√©tion pour d'autres objectifs personnels et t√¢ches avec une conscience compl√®tement claire.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer VariFlight sur PiAware</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous transf√©rons les fichiers n√©cessaires vers le nouveau syst√®me de l'ancien. </font></font> C'est-√†-dire<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenu du r√©pertoire racine: r√©pertoire </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message et fichiers install.sh, synctime.sh, task.sh. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le r√©pertoire get_message:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> config.ini </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> get_ip.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> init.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> send_message.py </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et le fichier UUID est votre identifiant sur le r√©seau VariFlight. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez commencer √† partager des donn√©es sans VariFlight Feeder, la premi√®re fois que vous ex√©cutez le script, votre UUID est g√©n√©r√©. </font><font style="vertical-align: inherit;">Ce fichier et le nom de l'a√©roport le plus proche doivent √™tre envoy√©s √† chengyi (at) variflight.com pour cr√©er votre compte sur le service.</font></font></i> <br><br>  Suivant: <br><pre> <code class="bash hljs">pi@piaware:~ $ sudo apt-get install -y python ntpdate pi@piaware:~ $ su root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># sh task.sh root@piaware:~# crontab -e</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modification de crontab dans nano par collage </font></font><br><pre> <code class="bash hljs">* * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enregistrez le fichier en appuyant sur [Ctrl + O] et fermez [Ctrl + X]. </font></font><br><pre> <code class="bash hljs">root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># chmod 777 task.sh root@piaware:~# reboot</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s le red√©marrage, nous v√©rifions la page avec ses statistiques </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.feeyo.com/user/rank</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la quatri√®me colonne, il devrait y avoir une inscription verte en ligne. </font><font style="vertical-align: inherit;">Et dans la liste de l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a√©roport, les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> panneaux accept√©s (troisi√®me colonne - il y a combien de secondes un signal a √©t√© re√ßu de l'avion). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä ce stade, mon projet a ¬´pendu¬ª ind√©finiment, car </font><font style="vertical-align: inherit;">ici, je voulais √©crire comment ex√©cuter un script sur le routeur avec openwrt et ModeSMixer pour distribuer des donn√©es aux services et ainsi √©teindre ce r√©cepteur et l'appliquer √† d'autres fins. </font><font style="vertical-align: inherit;">Mais je ne m'attends toujours pas √† du temps libre et j'ai d√©cid√© de publier tel quel. </font><font style="vertical-align: inherit;">Peut-√™tre que quelqu'un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">veut commander un</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> r√©cepteur </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gratuit</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et cet article sera utile.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModeSMixer</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un r√©cepteur peut distribuer des donn√©es √† plusieurs services et le programme ModeSMixer est utilis√© pour cela. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModeSMixer est une application console pour combiner et relayer des flux avec des donn√©es Mode-S dans diff√©rents formats. </font><font style="vertical-align: inherit;">Exemple d'utilisation:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k_/r_/kg/k_r_kgk9z0hxapzmioayflatyce.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le programme est con√ßu pour combiner et relayer diff√©rents formats de flux de donn√©es ModeS. </font><font style="vertical-align: inherit;">Le programme n'a pas de param√®tres par d√©faut. </font><font style="vertical-align: inherit;">Tout est d√©fini par des param√®tres. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le param√®tre --inConnect sp√©cifie les adresses et les ports √† partir desquels les donn√©es sont re√ßues. </font><font style="vertical-align: inherit;">Et le param√®tre --outServer d√©finit le format et le port pour les donn√©es relay√©es. </font><font style="vertical-align: inherit;">Un exemple dans l'image ressemblera √† ceci:</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect 192.168.0.105:30005 --inConnect 127.0.0.1:30005 --outServer sbs10001:10001 --outServer beast:31001 --globes 32000:tablename:home --location XX.XXXXX:YY.YYYYY --web 8765 &amp;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le param√®tre --location d√©termine la latitude et la longitude de l'emplacement d'installation de la station, et le param√®tre --web d√©termine le port sur lequel l'interface Web du programme fonctionnera. En savoir plus sur le programme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s avoir mis en place la distribution de plusieurs services, le propri√©taire de la station b√©n√©ficie d'un abonnement sp√©cial sur chaque service et d'un acc√®s aux informations non publiques et aux archives de vol pendant une certaine p√©riode. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le cas de l'utilisation de PiAware, les donn√©es sont d√©j√† envoy√©es √† FlightAware et il ne reste plus qu'√† collecter ces donn√©es √† l'aide de modesmixer2. Et dans le cas de Variflight, vous devez obtenir des donn√©es BaseStation sur un port libre, par exemple, 10001. Le param√®tre ressemblera √† ceci --outServer msg: 10001. Si n√©cessaire, vous pouvez ajouter le port 10002 pour le programme VirtualRadar: --outServer beast: 10002</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --outServer beast:10002 --location &lt;&gt;:&lt;&gt; --web 8765 &amp;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour que cela d√©marre et red√©marre automatiquement, vous devez modifier task.sh, en ajoutant: </font></font><br><pre> <code class="bash hljs">ps -eaf | grep modesmixer2 | grep -v grep <span class="hljs-comment"><span class="hljs-comment"># if not found - equals to 1, start it if [ $? -eq 1 ] then ./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --location &lt;&gt;:&lt;&gt; --web 8765 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enfin, modifiez le script get_message / send_message.py, en sp√©cifiant un nouveau port de donn√©es: </font></font><br><pre> <code class="python hljs">serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">10001</span></span></code> </pre><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pendant ce temps,</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alors que cet article √©tait en cours de r√©daction, des informations sont parvenues de Chine concernant ces services. </font><font style="vertical-align: inherit;">En novembre 2018, les autorit√©s chinoises ont commenc√© √† √©teindre les r√©cepteurs ADSB des services √©trangers. </font><font style="vertical-align: inherit;">Cela peut √™tre vu dans les statistiques publiques des stations Flightaware en Chine: </font></font><br><br><img src="https://habrastorage.org/webt/qt/ao/zw/qtaozwosymnimbutqn0miisq_mu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La nouvelle est que les amateurs de rep√©rage radar chinois ont d√©clar√© avoir √©t√© appel√©s par des repr√©sentants des autorit√©s chinoises et ont √©t√© visit√©s par la police, qui "tr√®s gentille et polie" leur a demand√© de cesser d'envoyer des donn√©es ADS-B √† l'√©tranger. services, ce qui, apparemment, "met en danger la s√©curit√© nationale et la souverainet√© de la Chine".</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certains ont affirm√© avoir re√ßu un appel, m√™me s'ils n'avaient pas re√ßu de r√©cepteur de FlightRadar24 et FlightAware. </font><font style="vertical-align: inherit;">Ces √©v√©nements ont provoqu√© un √©moi parmi les passionn√©s, et beaucoup d'entre eux ont cess√© de transmettre des donn√©es ADS-B. </font><font style="vertical-align: inherit;">FlightRadar24 est connu pour avoir tent√© d'anonymiser les stations d'utilisateurs en Chine. </font><font style="vertical-align: inherit;">On ne sait pas encore √† quel point cela est spectaculaire. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avis aux autorit√©s chinoises en anglais:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5g/ib/aq/5gibaqetlgqzcqxaul0ognxlau0.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Cela met en danger la s√©curit√© nationale et la souverainet√© de la Chine¬ª, le fait que ces services permettent la localisation d'avions militaires chinois (am√©ricains, europ√©ens et autres que les pays de l'ex-URSS). </font><font style="vertical-align: inherit;">Par exemple, la trajectoire hebdomadaire de l'UAV de reconnaissance strat√©gique am√©ricain au-dessus des eaux internationales √† une altitude de 16 km:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hv/zz/oy/hvzzoywpk5ukuehepkkdjgcbvt0.png" alt="image" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe deux syst√®mes radar secondaires dans le monde, des √âtats-Unis et de l'URSS. </font><font style="vertical-align: inherit;">Par cons√©quent, ces r√©cepteurs et services ne peuvent pas montrer o√π se trouvent la plupart des avions, h√©licopt√®res ¬´sovi√©tiques¬ª √† moins qu'ils ne soient √©quip√©s d'un transpondeur radar ¬´am√©ricain¬ª, qui n'est n√©cessaire que pour les vols dans l'espace a√©rien, par exemple aux √âtats-Unis ou dans l'UE. </font><font style="vertical-align: inherit;">Par cons√©quent, vous pouvez voir quelque chose d'int√©ressant sur le territoire de la F√©d√©ration de Russie dans les zones frontali√®res, de pr√©f√©rence en bord de mer. </font><font style="vertical-align: inherit;">Par exemple, l'officier du renseignement am√©ricain mentionn√© ci-dessus est remarquablement visible depuis Krasnodar. </font><font style="vertical-align: inherit;">En raison de cette situation c√¥ti√®re du r√©cepteur, le service PlaneRadar susmentionn√© entre p√©riodiquement dans l'actualit√© des m√©dias russes.</font></font><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1067760621398253569"></twitter-widget><blockquote class="twitter-tweet" data-lang="en_US" data-twitter-extracted-i1584352276818610906="true"><p lang="ru" dir="ltr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15:40 heure de Moscou. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pic.twitter.com/sTCSsoY1VV</font></font></a> </p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- PlaneRadar (@ ua4wiy_) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28 novembre 2018</font></font></a> </blockquote><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS VariFlight ADS-B </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">lance</font></a><font style="vertical-align: inherit;"> la version anglaise - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423989/">https://habr.com/ru/post/fr423989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423979/index.html">Panel de biomarqueurs sur le vieillissement sain au Royaume-Uni</a></li>
<li><a href="../fr423981/index.html">Livre DDIA (livre avec un porc) - passez au niveau sup√©rieur dans la compr√©hension des bases de donn√©es</a></li>
<li><a href="../fr423983/index.html">11 biblioth√®ques de visualisation JavaScript √† conna√Ætre en 2018</a></li>
<li><a href="../fr423985/index.html">Roskomnadzor propose d'abolir la neutralit√© du r√©seau dans les r√©seaux 5G</a></li>
<li><a href="../fr423987/index.html">Comment devenir programmeur Java</a></li>
<li><a href="../fr423991/index.html">Secrets de gestion des abonnements √† l'App Store d'Apple</a></li>
<li><a href="../fr423993/index.html">Comment dessiner un trou noir. Tra√ßage des rayons g√©od√©siques dans l'espace-temps courbe</a></li>
<li><a href="../fr423995/index.html">Propret√© dans un atelier de geek. 2e partie</a></li>
<li><a href="../fr423997/index.html">"IT CRIMEA": un nouveau parc technologique √† S√©bastopol - il sera op√©rationnel √† la fin de cette ann√©e</a></li>
<li><a href="../fr423999/index.html">Les donn√©es utilisateur Windows sur un PC avec prise en charge de la saisie tactile sont √©crites dans un fichier s√©par√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>