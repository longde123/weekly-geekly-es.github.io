<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎨 ✌🏼 🤒 VariFlight ADS-B - Flightradar en chinois 🚴🏿 🦆 👨🏻‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Flightradar, à certains égards, est devenu un nom familier, remplaçant en fait la notion de «site où vous pouvez regarder des avions en temps réel» . ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VariFlight ADS-B - Flightradar en chinois</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423989/">  <b>Flightradar,</b> à certains égards, est devenu un nom familier, remplaçant en fait la notion de <i>«site où vous pouvez regarder des avions en temps réel»</i> .  Bien qu'il existe en fait plusieurs sites de cette taille, et encore plus de petits projets, vous pouvez souvent voir dans les médias les informations sur l'événement aéronautique avec la phrase "selon le site Flightradar" et une capture d'écran d'une autre ressource. <br><br>  Il existe un certain nombre de publications sur Habré sur le radarporting dans lesquelles ou dans des commentaires auxquels non seulement Flightradar est mentionné.  Dans cette publication, je parlerai du service chinois de suivi du trafic aérien et de son récepteur ADSB <i>chinois</i> , qu'ils envoient gratuitement. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ye/_h/7a/ye_h7atxvw-x1mhbzgc0dcj-0zm.jpeg"></div><br><a name="habracut"></a><br>  Le radar radar est une activité suffisamment intéressante pour captiver un nombre notable de personnes.  Plusieurs articles sur Habré décrivent assez bien l'essence de la leçon: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Plaine et radar, ou je suis malade de l'aviation</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Étape par étape: diffuser des données vers flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flightradar24 - comment ça marche?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment suivre les objets volants identifiés avec le Raspberry Pi</a> </li><li>  <abbr title="jalonné une place pour un article couché dans des brouillons et d'où quelques illustrations ont été tirées dans cet article">Station radar facile et économique</abbr> </li></ul><br>  Le récepteur reçoit, transmis par avion, un signal à une fréquence de 1090 MHz, déchiffre et transmet dans un certain format.  Par exemple, comme ceci: <br><br><pre><code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"updatetime"</span></span>:<span class="hljs-number"><span class="hljs-number">1537902225</span></span>,<span class="hljs-attr"><span class="hljs-attr">"UTC Time"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-09-25 19:03:45"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"anum"</span></span>:<span class="hljs-string"><span class="hljs-string">"TCETM"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"fnum"</span></span>:<span class="hljs-string"><span class="hljs-string">"KKK6944"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"position"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"long"</span></span>:<span class="hljs-number"><span class="hljs-number">30.66455078125</span></span>,<span class="hljs-attr"><span class="hljs-attr">"lat"</span></span>:<span class="hljs-number"><span class="hljs-number">39.351677</span></span>},<span class="hljs-attr"><span class="hljs-attr">"height"</span></span>:<span class="hljs-number"><span class="hljs-number">10005.06</span></span>,<span class="hljs-attr"><span class="hljs-attr">"speed"</span></span>:<span class="hljs-number"><span class="hljs-number">888.96</span></span>,<span class="hljs-attr"><span class="hljs-attr">"angle"</span></span>:<span class="hljs-number"><span class="hljs-number">130</span></span>},</code> </pre> <br>  Cette activité est non seulement intéressante, mais est devenue l'activité de plusieurs entreprises: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flightaware</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Planefinder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Radarbox réseau AirNav</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Réseau Avdelphi</a> </li></ul><br>  Peu de gens pensent comment ils gagnent leur vie et comment fonctionnent des services comme Flightradar.  Un exemple de cela peut être vu sur wikipedia " <i>service Web public qui permet une surveillance en temps réel de la position des avions dans les airs</i> ."  L'article lui-même et le titre donnent une fausse impression de Flightradar comme une sorte de service de divertissement. <br><br>  En fait, ayant émergé comme un passe-temps au début des années 2000, ces entreprises ont rapidement atteint une période de récupération et augmentent leurs revenus chaque année.  Par exemple, Flightaware, fondée en 2005, est devenue rentable dès 2006, gagnant plus de 1 million de dollars au cours des 18 premiers mois et affichant une croissance annuelle de 40 à 75%.  Selon certaines ressources, les revenus annuels de Flightaware dépassent 9 millions de dollars et ceux de Flightradar de plus de 2 millions de dollars. <br><br>  Si en Europe il y a Flightradar, aux USA - Flightaware, alors en Chine il y a VariFlight.  De même, le service négocie les statuts de vol, les statistiques et les archives de vol, effectue des analyses et des prévisions pour les clients - organisations et clients individuels. <br><br>  VariFlight propres mots: <br><br><pre> <code class="plaintext hljs"> &lt;meta name="description" content="VariFlight         .    ,      ,    .    ,     ,         ."&gt; &lt;meta name="keywords" content=" ,   ,  ,  ,  ,  ,  ,  ,  ,   ,  ,  ,  ,  ,  "&gt; &lt;meta property="og:url" content="http://www.variflight.com/ru/"&gt;</code> </pre> <br>  Les entreprises échangent des données, tant les leurs que celles obtenues, par exemple, de la Federal Aviation Administration des États-Unis.  Mais vous pouvez tirer le meilleur parti de vos propres récepteurs, dont le fonctionnement ne coûte rien à l'entreprise.  ils sont installés par des amateurs de radarspotting, il vous suffit de dépenser de l'argent pour la fabrication et l'expédition.  Par conséquent, à partir d'un moment donné, les entreprises ont commencé à vendre et à distribuer gratuitement leurs récepteurs.  Gratuit là où l'entreprise n'a pas encore de couverture avec son réseau de récepteurs et où il n'y a pas de données. <br><br>  Le coût des données justifie la distribution «gratuite» des récepteurs (attention au texte sous le tableau - le récepteur reste la propriété de Flightaware, officiellement loué gratuitement). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/_s/fo/xt_sfoqxfdfzr7yl8cex0omn2eu.png"></div><br>  En 2015, le réseau Flightradar comptait plus de 8 000 récepteurs actifs et Flightaware en avait environ 4 500. Mais Flightaware a commencé à distribuer les récepteurs deux ans auparavant, et Flightradar avait déjà construit son réseau depuis près de dix ans.  Il existe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">actuellement</a> plus de 15 000 récepteurs sur le réseau Flightaware.  Le logiciel récepteur Flightaware est constamment amélioré et fonctionne actuellement avec les données FMSDATA, FMSWX. <br><br>  Carte de localisation des récepteurs en mars 2017: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ec7/7cb/81b/ec77cb81ba574463aacc88bbbe2180e2.png" alt="image"></div><br>  Orange est pour les récepteurs Flightaware gratuits, blanc pour les récepteurs maison, rouge pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PlanePlotter</a> payant. <br><br>  Voici la couverture du réseau de récepteurs Flightaware en décembre 2015: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ib/rc/mv/ibrcmvzeioalsr24lc9rrqu9hmi.png"></div><br>  Et en mars 2017, le réseau de récepteurs Flightaware ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">état actuel sur le site extérieur</a> ) a assuré une telle couverture: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fd7/44e/65d/fd744e65db8e464c8466c7d0618cfe6f.png" alt="image" width="600"></div><br>  Il n'est pas toujours possible d'installer des récepteurs, donc en 2018, les données des récepteurs au sol sont complétées par les données des satellites Iridium NEXT - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Pour la première fois, il sera possible de surveiller en permanence les avions partout dans le monde</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"</a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e5/kj/4i/e5kj4iu27uca4hwemcagg3mte4c.gif"></div><br>  Couleur gris-bleu - données des satellites Iridium NEXT.  Vert et jaune (le dernier est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MLAT</a> ) - données des récepteurs au sol. <br><br>  Le rayon de la zone couverte par une station est limité par la courbure de la surface de la Terre et les obstacles couvrant l’horizon et ne dépasse pas 450 km au mieux.  Et dans le "cas habituel" d'environ 150 km.  Avec un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">passage troposphérique</a> rare pour cette radiofréquence, il est possible de regarder au-delà de l'horizon.  Un exemple des zones de couverture maximale des stations diffusant sur <abbr title="planeradar.ru/virtualradar/">Planeradar.ru:</abbr> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d6/hg/u2/d6hgu2xf1c6ypsg6tn3knl-fc8c.png"></div><br>  Les pics nets dans les diagrammes de réception ne sont que des cas isolés de réception à de très grandes distances. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ln/ux/ly/lnuxlyvtt9lgjwqh8s4drhq_wua.jpeg"></div><br>  L'animation ci-dessous montre ce qui entraîne la nécessité d'envoyer des récepteurs.  En dehors de l'UE / USA, ce hobby n'est pas très populaire.  Il peut y avoir une raison au coût d'un passe-temps, et cette carte indique indirectement le niveau de richesse, l'enseignement technique et la densité de population dans la région.  La question est peut-être d'un intérêt pratique - les utilisateurs qui transmettent les données de leurs récepteurs reçoivent un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">compte Flightaware d'entreprise gratuit</a> , d'un coût de 90 $ par mois. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rv/pi/iy/rvpiiyuijvmsb-ewvntooqfzbn4.gif"></div><br>  Et donc la situation est décrite.  Le marché de ce service est en croissance, le marché a besoin de plus de données et VariFlight a également commencé à déployer son réseau.  En avril 2018, VariFlight a annoncé qu'il recherchait des volontaires pour héberger du matériel gratuit.  Un exemple d'une telle publication dans une publication <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Instagram</a> . <br><br>  Et en août, je suis tombé sur cette offre pour commander le récepteur gratuitement sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://flightadsb.feeyo.com</a> (le site a été fermé en septembre 2019 - le nouveau site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">flightadsb.variflight.com</a> et le lien pour commander l'appareil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ).  Après avoir étudié le site, j'ai remarqué que la société recherchait des membres du réseau volontaire dans les pays proches des frontières de la Chine.  Et en remplissant le questionnaire, il ne s’attendait pas particulièrement à ce que le District fédéral du Sud soit dans la zone d’intérêt de l’entreprise. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jq/tk/gn/jqtkgnxt7ufd9rbhiafof8wbl0e.png"></div><br>  Dans l'application elle-même, il est nécessaire d'indiquer sur la carte l'emplacement d'installation ( <i>Emplacement d'installation</i> ), le sol de l'installation d'antenne sur le bâtiment ( <i>Étage d'installation</i> , par exemple 7/9 - 7e étage d'un immeuble de 9 étages), le code de l'aéroport le plus proche ( <i>Code d'aéroport</i> - j'ai indiqué le code IATA) et Téléchargez les photographies d'horizon depuis le site d'installation.  Le reste est presque le même que la commande sur Aliexpress, à l'exception des articles Titre, Nationalité, Occupation, Société.  Il est rempli en anglais avec un nom complet. <br><br>  Après avoir vérifié le courrier quelques semaines plus tard, j'ai trouvé deux <b>courriels</b> de l' <b>ADSB 展示 系统 (système d'affichage de l'ADS-B)</b> que la demande a été approuvée presque immédiatement et que le colis se précipitait depuis longtemps, ayant déjà passé les douanes à l'époque. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/qc/jj/znqcjjlrquqas4qt8bliader-6q.png"></div><br>  Dans la deuxième lettre, il y avait un nom d'utilisateur, un mot de passe et un numéro de piste du colis.  Et aussi une instruction que je n'ai pas remarquée et lue quand ... vous savez vous-même quand ils lisent habituellement l'instruction. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qk/tg/3p/qktg3pugddffvb9lzbf0v4kcrka.png"></div><br>  La connexion correspondait au nom complet dans l'application, et le mot de passe est clairement envoyé de la même manière à tout le monde.  Par conséquent, allez changer le mot de passe immédiatement (et connectez-vous si nécessaire). <br><br>  En général, l'expression «Ceci est une sorte de non-sens» du jeu Sudden-strike est apparue de plus en plus souvent dans ma tête, si quelqu'un se souvient de la façon dont les Allemands parlent russe dans le jeu avec un accent.  Parfois calme, parfois bruyant. <br><br>  Au fait, le profil était la seule page en anglais, alors tout sera en chinois.  Sur Habré <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">wtigga a</a> publié un excellent article sur Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chinois "Internet chinois et logiciels: à propos de douloureux"</a> .  J'ai ressenti toute la douleur tout à l'heure.  Si vous n'avez pas lu, il est temps de vous préparer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/oi/ay/1koiayqeuae_alsvu_yxcqrheug.png"></div><br>  Le navigateur Google Chrome avec la fonction de traduction vous aidera à travailler sur le site, mais de nombreuses pages qui se sont avérées ne pas toujours être réalisables pour lui. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/nm/yg/tqnmygwscpsyjyuskdb0iny0oyq.png"></div><br>  Les lieux seront des phrases drôles. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/xw/-2/5axw-2211tuxsg4zqbgh1hyhoyg.png"></div><br>  Et donc connectez-vous avec les données du deuxième e-mail. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ni/cb/jd/nicbjd2losvkfsgprjxppsloyx8.png"></div><br>  Et allez à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Informations personnelles</a> .  En fin de compte, Google Chrome ne peut pas toujours traduire une page ou elle échoue pas la première fois, et dans ce cas, après plusieurs tentatives de traduction automatique, nous avons dû copier le texte dans Google Translate.  Par conséquent, je poste un conseil pour ceux qui sont confrontés au même problème. <br><br>  Il y a deux onglets sur la page, dont l'actif est marqué d'une ligne rouge.  Le premier, vous ne pouvez rien toucher. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-s/sr/xy/-ssrxyi8w0fjdrs13rpzod_hgtg.png"></div><br><ol><li>  Nom complet </li><li>  Votre numero de telephone </li><li>  Votre email </li><li>  Code d'aéroport </li><li>  Le nom de votre récepteur ADSB </li></ol><br>  Le point QQ est le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">messager chinois Tencent QQ</a> . <br><br>  Dans le deuxième onglet, modifiez le mot de passe <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gd/no/n-/gdnon-flkgykpprdisx-ghcztlu.png"></div><br><ol><li>  Ancien mot de passe </li><li>  Nouveau mot de passe </li><li>  Répétez le nouveau mot de passe </li></ol><br>  En dehors de cela, la traduction automatique fonctionne presque toujours.  La conception du plan du site est très proche du site Flightradar et les "fonctionnalités" de la traduction n'entravent pas son utilisation. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ti/rv/zz/tirvzzf2wwbat2fvqm-xfgv0qxe.png"></div><br>  Après une inspection détaillée, le service est différent, par exemple, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fonctionnalité intéressante</a> que Flightaware n'a pas - une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">carte thermique</a> , traduite par Google Chrome par "analyse thermique". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/xn/oh/tqxnoh__qsuaa1pzvnmra5husrs.png"></div><br>  Une caractéristique intéressante sur certains vols: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/kf/fu/jlkffukwq0xrwfd931hqwvuoyk0.png" width="100"></div><br>  Il n'y a probablement aucune information sur les aéroports de départ et d'atterrissage pour ce vol. <br><br><h2>  <font color="#cc0000">Présentation de l'emballage et du récepteur</font> </h2><br>  Selon le numéro de piste, le colis a été envoyé le 6 septembre et reçu le 18 septembre.  La boîte a des dimensions solides qui ont surpris les postiers.  Sur le chemin du bureau de poste à l'intérieur, quelque chose a secoué, sonné et roulé. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ea/nj/yj/eanjyj4bgyexd-nasadkur7prvu.jpeg" width="400"></div><br>  La boîte ouverte a été quelque peu surprise par le manque de matériaux d'emballage. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fk/q_/xl/fkq_xlageyzym4psi5huluhuo5o.jpeg" width="400"></div><br>  À titre de comparaison, la boîte du récepteur Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/jp/vz/kojpvzknaatsndykd2qfmz77ng4.jpeg"></div><br>  Étonnamment, le contenu de la boîte ne semble pas être affecté.  Seulement sur l'antenne il y avait une égratignure - le film a été arraché. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iz/j5/37/izj537mwxv512fiw6em5b3u0nks.jpeg" width="400"></div><br>  Le récepteur lui-même a les inscriptions de seulement deux connecteurs - alimentation et HDMI.  En plus de deux, tous les connecteurs sont affichés sur un côté.  LAN, 2 ports USB, connecteur à quatre broches (l'hypothèse que cette interface série a été confirmée en composant le BCM 14 (8 broches TXD / Transmit), <br>  BCM 15 (10 broches RXD / réception)), alimentation 5 volts et connecteur SMA (femelle) pour antenne. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xo/c9/dn/xoc9dnespvqq3r1f2frwjjs7zay.jpeg" width="400"></div><br>  Sur le côté opposé, derrière deux trous dans le boîtier, il y a des LED vertes et rouges.  Et à côté se trouve un autocollant avec le "numéro de série" du récepteur, enregistré à la main.  Le récepteur dispose également de HDMI et microUSB. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e_/8j/zv/e_8jzvvbk2_bp1nt46icd1uijke.jpeg" width="400"></div><br>  Le couvercle du récepteur a deux oreilles pour un montage mural, ce qui le distingue positivement du même boîtier que le récepteur Flightaware, auquel le fabricant ne fournissait que quatre pieds en silicone en bas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bq/iw/af/bqiwafgqodhiap_-hdd3ipizm3s.jpeg" width="400"></div><br>  Vérifier si ces deux oreilles peuvent être utilisées pour monter le récepteur: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/9f/pg/qw9fpg1gij5ndga6urbayxv2qle.jpeg" width="400"></div><br>  Flightaware Flightfeeder à l'envers: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/4s/wx/lf4swxpj43wvnjxbfsqu5rd2gom.jpeg" width="400"></div><br>  Pour comparer les tailles de récepteur: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/bv/zr/nrbvzre_u9jhgkzusug0jqtgk1w.jpeg" width="400"></div><br>  La question naturelle est "qu'est-ce qu'il y a à l'intérieur?"  Après avoir retiré le couvercle fixé par 4 vis, on voit une telle disposition. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/40/qq/k9/40qqk99d-ac9ppuikahdjmic7oc.jpeg" width="400"></div><br>  Les connecteurs sont situés sur une carte de récepteur séparée, réalisée sous la forme d'une carte d'extension pour le Raspberry Pi 3 modèle B V1.2. <br><br>  À titre de comparaison, une photographie d'un Flightaware Flightfeeder (G6) sans couvercle.  Cette génération de récepteurs a été envoyée jusqu'en 2017 environ.  Construit sur RPi 2 modèle B v.1.1 et récepteur-décodeur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mode-Beast</a> simplifié sur un canal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/ya/4e/koya4exme2bh95occfbtkdb7wx8.jpeg" width="400"></div><br>  Le verso de cette conception a caché un élément inattendu.  Un radiateur massif situé en bas de la planche est une surprise.  Le besoin en est incompréhensible (une semaine plus tard je pense que c'est une «performance tropicale». Dans mes conditions, le radiateur est légèrement chaud). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t9/2o/le/t92ole4een-gqivnp2ksqweixqi.jpeg" width="400"></div><br>  De plus, la carte d'extension est connectée au connecteur RPi à quatre broches avec trois fils soudés aux points de test PP27 (USB VCC), PP44 (USB D-), <br>  PP45 (USB D +). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/he/vc/ui/hevcuirbhsyjqagyrtsie2n9kuy.jpeg" width="400"></div><br>  C'est-à-dire  rien ne peut être connecté au connecteur USB supérieur droit.  Par conséquent, la photo du boîtier située ci-dessus montre que des deux connecteurs USB appariés, la fente du boîtier est uniquement opposée à celle la plus proche du LAN. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8l/vs/xf/8lvsxfznp3keyqhthe4cnq7lh4u.jpeg" width="400"></div><br>  Ils ont fait de même dans Flightaware, soudant le récepteur aux contacts de l'un des connecteurs. <br><br>  La plupart des cartes d'extension sont des écrans métalliques.  Parmi les parties visibles, les connecteurs sont d'un côté, et de l'autre côté se trouvent deux indicateurs et une certaine «bobine» avec des robinets.  Rappelle le shunt avec une résistance variable.  Peut-être <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">1div0</a> , auteur de l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«Pourquoi plier les pistes?»</a>  sait ce que c'est.  Pendant le fonctionnement normal, la LED verte est allumée.  Dans quels cas le voyant rouge est allumé - je ne sais pas.  Jusqu'à ce que je regarde son inclusion. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k5/nx/ul/k5nxuli9peb2vtru9ktvvlkqm44.jpeg" width="400"></div><br>  Sur le côté des connecteurs, il y a des connecteurs d'alimentation et d'antenne, et un connecteur à quatre broches de destination inconnue. <br><br>  Tous les appareils électroniques sont cachés sous un grand couvercle en fer blanc de l'écran.  Avec Flightaware Flightfeeder, la carte du récepteur n'est pas blindée.  Lors du forum Flightaware, les développeurs ont répondu à cette question que le boîtier métallique du récepteur lui-même est suffisant pour le protéger des interférences externes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/sw/w9/drsww9uvadqiqaagbhk99ibhatg.jpeg" width="400"></div><br>  Une tentative de regarder sous l'écran a été un succès de la deuxième approche.  Le couvercle est tombé et il s'est avéré ... <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/wy/a_/1q/wya_1qu4awvmsaop9eulebq8o7e.jpeg" width="400"></a> </div><br>  ... il s'est avéré que tout était en vain - le marquage avec des micropuces a été soigneusement coupé. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/hc/38/eghc38dwf3d24o6hqmzrznpchoi.jpeg" width="400"></div><br>  Pour l'avenir, je dirai qu'il s'est avéré être un récepteur RTLSDR presque ordinaire - RTL2832U <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DVB-T</a> (0bda: 2838), appelé "dongles", "whistles", et qui est consacré à plusieurs articles sur Habré qui donnent une idée de ces appareils et comment ils ont simplifié et réduit la mise en œuvre de la réception et du traitement des signaux radio sur les ordinateurs.  Par exemple: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tuners TV USB sur RTL2832 - ou comment tout entendre à la radio pour 600 roubles</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Encore une fois sur la réception HF sur RTL-SDR</a> </li></ul><br>  La dernière décrit bien l'arrière-plan du problème: <br><blockquote>  La publication de la puce RTL2832U pour les récepteurs de télévision numérique au format DVB-T n'a pas promis de sensations, car Realtek était déjà un peu en retard avec sa sortie.  En 2010, une norme DVB-T2 plus progressive avec un codage plus efficace des informations était déjà en cours d'introduction, donc au départ la nouveauté n'a pas attiré beaucoup d'attention.  Pendant deux ans, des tuners USB bon marché basés sur celui-ci ont été utilisés pour leur usage prévu, jusqu'à ce qu'au début de 2012, il y ait eu une fuite de certaines informations techniques sur les modes de fonctionnement de cette puce.  Il s'est avéré que pour recevoir la radio analogique (FM) et numérique (DAB) dans la bande VHF, cette puce utilise le principe du décodage logiciel d'une bande de fréquence préalablement numérisée dans l'éther.  C'est-à-dire  En gros, il numérise un signal haute fréquence provenant de l'entrée d'antenne et le filtrage d'une porteuse spécifique et sa détection (extraction d'informations utiles) du flux numérique reçu est laissé au processeur central.  Évidemment, cela a été fait pour des raisons d'économie, de la même manière qu'au moment de la fermeture du Dial-UP, des «soft-modems» extrêmement bon marché, qui ne représentaient également qu'une paire avancée de DAC et ADC, se sont répandus, et tout le traitement du signal a été effectué par le CPU dans fil avec la priorité la plus élevée. </blockquote><br>  Contrairement aux «tuners réguliers» que j'ai, cette instance d'ID usb 0bda: 2832 a un numéro de série à 17 chiffres. <br>  <b>Bus 001 Périphérique 005: ID 0bda: 2832 Realtek Semiconductor Corp.</b>  <b>RTL2832U DVB-T</b> <br>  <b>Trouvé Rafael Micro R820T tuner</b> <br>  C'est-à-dire  analogue au «sifflet bleu» utilisé pour créer des récepteurs ADSB faits maison.  Sur la photo, le récepteur est sur OrangePI. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8v/h2/2x/8vh22xmude7pxxexaxkiqbupdjw.jpeg" width="400"></div><br>  En remontant le récepteur, j'ai installé un radiateur au cas où.  Acheté spécifiquement pour l'achèvement des routeurs et autres équipements domestiques. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i8/r2/rq/i8r2rqvr2yriumcf8x_n8kk0gwg.jpeg" width="400"></div><br>  Alimentation 5V 2A.  Il semble plus solide que l'alimentation pour Flightaware Flightfeeder.  Mais avec une prise chinoise ... J'ai essayé de me rappeler où j'avais l'adaptateur qui traînait. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/lc/l5/ajlcl51jfqqhg0trs2xaykrva-u.jpeg" width="400"></div><br>  Dans une boîte en carton blanc était une si belle pochette en velours. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/di/w7/zy/diw7zywbjqf1oadipbx68qxsajq.jpeg" width="400"></div><br>  "... dans la poitrine - un lièvre, dans un lièvre - un canard, dans un canard - un œuf, dans un œuf - une aiguille ..." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bi/mh/jb/bimhjbyxhtpskqn8qppiebop1t4.jpeg" width="400"></div><br>  À l'intérieur se trouvait un puzzle de trois adaptateurs, qui a résolu la question «où se trouve mon adaptateur». <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jw/2j/bm/jw2jbm8zmoxzdfkp2xh6l4giapk.jpeg" width="400"></div><br>  Dans une boîte en carton marron se trouvait un parafoudre "CA-23RP 2.5GHZ 400W Made in Japan".  Je ne connais pas cette configuration d'autres récepteurs ADS-B.  Très raisonnable pour la protection contre les accidents de faible puissance. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xd/vj/3i/xdvj3iho-lnma7j8xsdyxc6ltko.jpeg" width="400"></div><br>  L'antenne intérieure est susceptible de tester le récepteur sans installer d'antenne externe.  Ne convient pas pour une utilisation pratique.  Mais elle est vendue sur Aliexpress / Ebay comme une "antenne ADS-B", mais son véritable objectif est donné par l'inscription sur la semelle magnétique.  J'avais l'habitude d'attraper des avions sur cette antenne dans un rayon de 30 à 40 km. <br><br>  Près de l'adaptateur N (femelle) - SMA (mâle).  Peut-être un cadeau en cas de connexion d'un filtre ou d'un amplificateur à faible bruit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aq/lo/6w/aqlo6wt-ekzwdj5gi2lz1peqeyc.jpeg" width="400"></div><br>  Câble coaxial pour une antenne de 5 mètres avec connecteurs N et SMA, et un câble à paire torsadée de 10 mètres ("100% cuivre sans oxygène, blablabla"). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iv/wb/fu/ivwbfuae7vic79oosq7ycp5gyds.jpeg" width="400"></div><br>  Câble d'antenne marqué KOPA PLESS RG400-KF MIL-C-17.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Câble coaxial flexible à double tresse googlé M17 / 128-RG400 RG-400</a> avec une couleur de gaine différente: <br><br><ul><li>  Fréquence de fonctionnement maximale 6 GHz </li><li>  À une fréquence de 1,20 GHz, l'atténuation maximale est de 0,54 dB / m </li></ul><br>  Il est très douteux que ce soient les caractéristiques du câble chinois.  Soit dit en passant, Flightaware a inclus un câble d'antenne moche, bien qu'italien.  Le raccourcissement du câble de l'antenne à plusieurs dizaines de centimètres trois fois a augmenté le nombre de paquets reçus par le récepteur Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ax/iy/dtaxiyp-0hsnbkxoyxvwxqppmpm.jpeg" width="400"></div><br>  Antenne extérieure et sa fixation au mât. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/od/cd/uw/odcduwhuzkas2_16eb-bvkonhgk.jpeg" width="400"></div><br>  La bizarrerie de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FlightFeeder ADS-B VariFlight</a> sur Facebook: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/-v/xt/in-vxt5ycgivunptwzqwlteg1ns.png"></div><br>  L'antenne est légèrement plus petite que Flightaware <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/57/og/_c/57og_cudvkojungdjrhx7nbvmmm.jpeg" width="400"></div><br>  Support de mât Flightaware de duralumin <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-v/rd/df/-vrddfifb-tgjkc4chgcxonphki.jpeg" width="400"></div><br>  Un cadeau avec le symbole de VariFlight.  A en juger par les inscriptions au dos, cette étiquette doit être accrochée aux bagages en cas de perte à l'aéroport, en renseignant les coordonnées du propriétaire. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/na/ay/3t/naay3txh_wtm7qlo9hpe1zbczji.jpeg" width="400"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/uy/sq/xhuysqq2i9mjm8r5kmsy8eo6md8.jpeg" width="400"></div><br><h2>  <font color="#cc0000">Première inclusion</font> </h2><br>  La mise sous tension n'a fondamentalement rien changé à l'apparence de l'appareil.  Seuls les indicateurs LAN étaient allumés, le routeur a un nouveau nom d'hôte raspberrypi dans la liste des adresses IP dhcp émises.  HDMI avait la sortie de démarrage RPi habituelle et la demande de connexion. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u3/jq/la/u3jqlagqk0w2vni0vquhtllulk0.jpeg" width="400"></div><br>  Et c'est tout.  L'interface Web attendue pour ces appareils sur IP: 8080 n'était pas disponible.  L'analyse des ports de l'appareil n'a trouvé que le port 22. Dans une tentative de connexion en tant qu'utilisateur et mot de passe par défaut, il a été envoyé de loin dans la console et dans ssh: <br><br><pre> <code class="bash hljs">login as: pi pi@raspberrypi<span class="hljs-string"><span class="hljs-string">'s password: Access denied</span></span></code> </pre> <br>  Le récepteur s'est allumé et éteint plusieurs fois, est resté allumé pendant des jours en supposant qu'il pourrait télécharger quelque chose à ce moment-là ou essayer d'atteindre des serveurs en Chine.  Ni le voyant rouge ni le voyant vert ne s'allument. <br><br>  À ce moment, je suis allé hors site à la recherche de FAQ, de support technique ou de quelque chose d'autre qui pourrait dire que cet appareil devrait et ne devrait pas.  Je me suis connecté pour la première fois, mais cela n'a rien changé fondamentalement - il n'y a pas de formulaires de contact ou de formulaires de commentaires.  La seule chose qui a été trouvée était que le récepteur était lié à un compte et avait le statut hors ligne.  J'ai remarqué que le système l'a vu pour la dernière fois sur le réseau le 2 septembre à 17h18, heure de Pékin, 4 jours avant son envoi par courrier.  C'est-à-dire  Il a été vérifié et connecté au compte. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0b/-0/fs/0b-0fsjl_qfuohrhfdanizpv9y8.png"></div><br>  Après avoir passé quelques jours à flâner sur les sites de "l'Internet chinois", que certains liens renvoyaient hors site ou qui étaient liés hors site, et fatigué de leur conception d'origine, j'ai réalisé que ce produit ne bénéficiait d'aucune assistance technique.  Et à ce moment-là, je me suis souvenu de deux e-mails de l'ADSB 展示 系统 (système d'affichage de l'ADS-B). <br><br>  «C'est une sorte de non-sens» - encore une fois, j'ai entendu une voix familière avec un accent dans la tête.  Mon e-mail à cette adresse est retourné PostMaster feeyo.com <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7q/bh/vw/7qbhvwk-bzc6ljjz6rpqfusctgi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et puis l'œil a attrapé l'attachement à la deuxième lettre, qui avait précédemment échappé au regard (en raison du nouveau design inhabituel de GMail). </font><font style="vertical-align: inherit;">Cela s'est avéré être une instruction d'installation pour VariFlight ADS-B. </font><font style="vertical-align: inherit;">Il est temps de découvrir comment cela devait fonctionner.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rencontrez 飞 常 准 ADS-B 设备 安装 说明</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vous trouverez ci-dessous une traduction des instructions en 6 pages et en deux langues, dont la plupart sont des illustrations. </font></font><br><br><h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instructions d'installation du VariFlight ADS-B</font></font></font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/eg/id/qd/egidqdatgtfzejqa91n4nfh-zn8.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brève description</font></font></font></i> </h3> <i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VariFlight ADS-B est un équipement conçu pour les passionnés de l'aviation civile pour suivre les avions. </font><font style="vertical-align: inherit;">Le kit comprend un récepteur ADS-B, une alimentation, un cordon de raccordement (cordon de raccordement), une antenne et un câble pour celui-ci.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/mo/gu/kz/mogukz2z2_ohzy4un1bhz3pk6pa.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Emplacement de l'antenne</font></font></font></i> </h3> <i><br>         ,        ;    .    ADS-B     ,    . <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/7_/3a/ru/7_3aruxylxvhzffbg2xwormtdmk.jpeg" width="400"></i> </div> <i><br>   ,    ADS-B   ,   : <br><br></i> <ol><li> <i>    .</i> </li><li> <i>   -      ADS-B .</i> </li><li> <i>    .</i> </li></ol> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/gi/me/bv/gimebv-tiw4td7c_m3evyd34tro.jpeg" width="400"></i> </div> <i><br>    ,        .  IP  ,  DHCP. <br><br></i> <h3> <i><font color="#00cc00">   </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/ac/vj/sr/acvjsruuug3lop68iq8xm-7act4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">    </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/lg/4u/iv/lg4uivsn2odmoktyc6pbuc63ze4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">      ADS-B      </font></i> </h3> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La première méthode. </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les paramètres de votre routeur, recherchez l'adresse IP du récepteur ADS-B et ouvrez </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http // XXX.XXX.XXX: 8080</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans un navigateur Web, où XXX.XXX.XXX est l'adresse IP interne de votre réseau local.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/wp/di/d3/wpdid3rucptn5hlql698q1murns.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxième méthode:</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ouvrez le lien </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans un navigateur Web, connectez-vous et cliquez sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airport</font></font></a> <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/9o/hs/ja/9ohsja9e_inbqrha1kivz6rzrsw.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La troisième méthode, uniquement pour les volontaires chinois</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour les utilisateurs chinois, l'utilisation de WeChat est possible. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur cette instruction a pris fin. </font><font style="vertical-align: inherit;">Conformément à cette instruction, l'appareil fonctionne partiellement - il reçoit l'IP sur le réseau local, mais n'affiche pas d'interface Web où vous pouvez reconnaître</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dump1090</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un décodeur Mode S conçu pour les dongles RTLSDR et utilisé dans de tels appareils.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/647/54e/431/64754e43182b4740b7c08d138527a1f9.jpg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sans fonctionnement de dump1090, aucune donnée n'arrivera sur le serveur. </font><font style="vertical-align: inherit;">Il est étrange que l'appareil ait fonctionné pendant la vérification avant l'expédition. </font><font style="vertical-align: inherit;">"C'est une sorte de non-sens." </font><font style="vertical-align: inherit;">Étant donné que les Chinois ne sont en aucun cas intéressés par le sort de l'appareil et qu'aucun signe d'assistance technique n'a pu être trouvé, ma conscience est complètement propre si j'essaie de le réparer moi-même.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous prenons le contrôle de l'appareil</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Après avoir démonté le récepteur, immédiatement après réception, j'ai fait l'image microSD dans l'état avant la première mise sous tension et j'ai examiné un peu le contenu, soupçonnant immédiatement que le récepteur envoyait des données au serveur - il y avait des fichiers et des scripts avec des adresses de service dans / root /. </font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réinitialiser le mot de passe utilisateur PI</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les instructions pour changer le «mot de passe oublié» avec des images peuvent être trouvées sur ce </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je démonte à nouveau le récepteur. </font><font style="vertical-align: inherit;">Pour accéder à microSD, vous devez dévisser toutes les vis et retirer les deux cartes. </font><font style="vertical-align: inherit;">À l'avenir, en travaillant avec le récepteur, je ne l'ai pas remonté dans le bâtiment. </font><font style="vertical-align: inherit;">a dû changer deux microSD avec des systèmes différents. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous retirons la microSD de Rpi, faisons une copie de sauvegarde sur l'ordinateur, si vous ne l'avez pas encore fait, et </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éditons</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le fichier - </font><b><font style="vertical-align: inherit;">cmdline.txt</font></b><font style="vertical-align: inherit;"> .</font></font><br><br><pre> <code class="bash hljs">dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> À la fin de cette ligne, ajoutez </font></font><br><br><pre> <code class="bash hljs">init=/bin/sh</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous renvoyons microSD à RPi, connectons le moniteur et le clavier. </font><font style="vertical-align: inherit;">Nous connectons le pouvoir. </font><font style="vertical-align: inherit;">Lorsque les lignes ne fonctionnent plus à l'écran, appuyez sur Entrée. </font><font style="vertical-align: inherit;">Une invite de console apparaît, dans laquelle nous tapons</font></font><br><br><pre> <code class="bash hljs">mount -rw -o remount / passwd pi sync <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> /sbin/init</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les lignes fonctionnent encore et encore, attendez qu'elles s'arrêtent, puis désactivez-les. </font><font style="vertical-align: inherit;">Nous obtenons microSD de RPi. </font><font style="vertical-align: inherit;">Sur l'ordinateur, nous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éditons ou restaurons la</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> copie de sauvegarde de </font><b><font style="vertical-align: inherit;">cmdline.txt</font></b><font style="vertical-align: inherit;"> - supprimez «init = / bin / sh». </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La dernière fois que nous retournons microSD à RPi. </font><font style="vertical-align: inherit;">Allumez. </font><font style="vertical-align: inherit;">Connectez-vous avec succès avec un nouveau mot de passe. </font><font style="vertical-align: inherit;">Nous activons ssh en entrant raspi-config et en sélectionnant SSH dans le menu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, avec la commande supérieure, je veux voir comment vit le récepteur et remarquer de manière inattendue les processus wget et ... dump-1090. </font><font style="vertical-align: inherit;">Scène silencieuse. </font><font style="vertical-align: inherit;">Je vérifie dans le navigateur Web http // XXX.XXX.XXX: 8080 - il y a une interface.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/r_/io/t1/r_iot1vh1tljjqcj6gqdat3ufkq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ne pas dire cela de manière inattendue, mais certainement inhabituelle. </font><font style="vertical-align: inherit;">Je vérifie la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deuxième méthode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans les instructions </font><font style="vertical-align: inherit;">- tout va bien là aussi: l'icône du récepteur est devenue verte, et en dessous de la liste des avions qu'il a entendus.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il serait possible de terminer là-dessus, mais tout d'abord, utiliser RPi3 juste pour cela serait impardonnable. Et deuxièmement, si cet appareil fonctionnait de manière stable. Par exemple, il a disparu de la liste des adresses IP du routeur DHCP, alors qu'il était disponible lors de l'accès à l'IP précédemment reçue, et en même temps il n'y avait pas d'image sur HDMI. Mais le plus important était l'instabilité de l'émission. Selon les statistiques sur la page du récepteur, cela a fonctionné plusieurs heures par jour. Parfois une journée entière, parfois plusieurs heures, parfois zéro heure. Il a fallu plusieurs jours pour étudier le système - tous les logiciels n'étaient pas installés. Dépôts chinois ... La voix allemande a finalement convaincu que nous devons fabriquer un récepteur ADS-B pour une personne en bonne santé, et pour cela nous devons rouler l'image PiAware sur une autre microSD. La microSD d'origine était toujours utile pour savoir comment cela fonctionne.</font></font><font color="#FF0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au minimum, enregistrez les fichiers depuis / root. </font><font style="vertical-align: inherit;">Rendre une image désirable.</font></font></font> <br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></font> </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un logiciel Linux pour transférer des données de vol vers FlightAware. </font><font style="vertical-align: inherit;">Contient la fourche dump1090-mutability. </font><font style="vertical-align: inherit;">Selon les développeurs, l'une des différences est qu'il n'envoie pas de packages aux serveurs FlightAware s'ils ne diffèrent pas du premier.</font></font> C'est-à-dire<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si l'avion n'a pas changé de vitesse, d'altitude, alors ces données n'ont pas besoin d'être traitées, et réduisent ainsi la charge sur le serveur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a environ deux ans, FlightAware a commencé à traduire des textes du site en russe. Et beaucoup pour créer votre propre station PiAware peut être trouvée </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hors site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'essence de la création d'une station sur RPi avec RTLSDR est d'écrire sur la microSD de l'image PiAware sur Raspbian Linux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terminée à l'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aide d' </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Etcher</font></a><font style="vertical-align: inherit;"> . Ensuite, avant d'insérer la carte dans le RPi et d'attendre le téléchargement, vous devez apporter quelques modifications. Pour activer l'accès SSH, créez un fichier vide sans l'extension portant le nom ssh dans la partition de démarrage (/ partition de démarrage). Et dans le fichier piaware-config.txt, vous pouvez effectuer les </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">réglages</font></a><font style="vertical-align: inherit;"> nécessaires</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par exemple, spécifiez une IP statique ou activez le WiFi et spécifiez un SSID / mot de passe, à condition qu'un adaptateur WiFi USB pris en charge soit connecté. </font><font style="vertical-align: inherit;">Les mêmes paramètres peuvent être définis à partir de la console avec la commande piaware-config </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setting_name Possible_values</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez déjà un compte Flightaware, après 5 minutes, la station sera </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attachée au compte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , après avoir reçu un identifiant unique. </font><font style="vertical-align: inherit;">Et le récepteur aura sa propre page de statistiques. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par défaut, l'utilisateur PI possède un mot de passe de détection de vol. </font><font style="vertical-align: inherit;">C'est une bonne idée de changer votre mot de passe immédiatement.</font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tests"</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les tests sont entre guillemets, juste des impressions. Avoir deux appareils avec presque le même logiciel peut évaluer leurs capacités. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai un récepteur Flightaware gratuit et la première chose que j'ai connue a été l'antenne VariFlight complète. Je viens de remplacer l'antenne Flightaware par elle. Et pendant que j'étudiais le récepteur VariFlight, des statistiques FlightFeeder ont été collectées sur la page Flightaware. La conclusion est décevante. Bien que rien n'ait changé dans la portée maximale, comme FlightFeeder, dans le sens de la visibilité directe, en attrapant certains à une distance de 400 km, mais les statistiques des avions par heure / jour ont baissé 2-3 fois. Accepte sûrement les côtés pour plus de 300 kilomètres, mais voit un peu moins de messages. Je ne sais pas ce qu'il y a à l'intérieur du corps de l'antenne - ce n'est pas pliable.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une antenne Flightaware était connectée au récepteur VariFlight et montrait des statistiques du même ordre. </font><font style="vertical-align: inherit;">Et avec une antenne native encore plus basse.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ed/tq/0z/edtq0z5qbkaioqmq8khv4q75nse.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je vais décoder les statistiques. </font><font style="vertical-align: inherit;">Statistiques 10-05 à 10-07 est un récepteur VariFlight avec une antenne Flightaware. </font><font style="vertical-align: inherit;">Le 10-08, l'antenne complète était connectée et du 10-09 au 10-11 les statistiques du kit VariFlight. </font><font style="vertical-align: inherit;">10-12, le script send_message.py a été modifié pour collecter les données de Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">Après cela, VariFlight a envoyé des données et 10-13 - des statistiques quotidiennes basées sur les données Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">De plus, par exemple, pour 10-18 - 396 vols, 814176 packages, pour 10-19 - 471 vols, 860415 packages. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Évaluons dans quelle mesure le récepteur VariFlight est sensible aux interférences radio. </font><font style="vertical-align: inherit;">Pour ce faire, numérisez la plage de 800 MHz à 1200 MHz et générez une carte thermique.</font></font><br><br><pre> <code class="bash hljs">sudo apt-get install python-imaging sudo wget https://raw.githubusercontent.com/keenerd/rtl-sdr-misc/master/heatmap/heatmap.py sudo chmod +x heatmap.py sudo systemctl stop dump1090-fa sudo rtl_power -f 800M:1200M:100k -i 30 -c 50% -e 30m -g 30 -F 9 &gt;scan.csv</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Après une demi-heure (-e 30m), la numérisation s'arrête et une image est générée. </font></font><br><pre> <code class="bash hljs">./heatmap.py scan.csv scan.png</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redémarrage de l'appareil pour restaurer dump1090. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et copiez l'image résultante sur un ordinateur à l'aide de (win) scp. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il s'agit d'un fragment d'un balayage de carte thermique à une fréquence de 1090 MHz. </font><font style="vertical-align: inherit;">Image complète disponible par clic.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/qs/jl/om/qsjlomhpqztfezcodd2c__ik-zy.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les rayures jaune vif sont une communication mobile. Rien d'inhabituel - il n'a pas de préfiltres comme le Flightfeeder, et il est fortement interrompu par les stations mobiles. En cela, il est absolument identique au simple «sifflet bleu» mentionné précédemment. Peut-être que la fabrication sous la forme d'une carte d'extension spéciale a un certain sens, par exemple, le rôle des «pistes pliées» sur cette carte n'est pas clair. Fabriquant une carte spécialisée, il ne serait pas difficile d'installer à la fois un amplificateur à faible bruit et un filtre SAW à 1090 MHz. En regardant les scripts de l'appareil, j'ai eu une idée de pourquoi cela a été fait - un script appelé acars.py.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gj/je/c5/gjjec5drhpf-ummw90sui3ar5vw.jpeg" width="640"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'ampleur et le filtre amélioreraient les caractéristiques du récepteur montre un exemple du groupe susmentionné sur Facebook. </font><font style="vertical-align: inherit;">Au lieu d'un récepteur ordinaire, l'un des utilisateurs de VariFlight Box a connecté un dongle spécialisé de Flightaware, ce qui l'a amené à la cote supérieure d'un millier d'utilisateurs (bien sûr, l'emplacement d'installation et une autre antenne ont également été affectés).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wn/wx/vx/wnwxvxmudv-gpbpatzreybmtgzk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlightAware lance deux modèles de dongles - Pro Stick et Pro Stick Plus, qui sont toujours le même «sifflet bleu» mais ont un amplificateur de signal préliminaire, et ce dernier a en outre un </font></font><abbr title="Filtre SAW"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtre SAW</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui élimine les signaux inutiles dans les zones avec beaucoup d'interférences, par exemple dans les villes, ainsi que ces modèles sont équipés d'un connecteur d'antenne SMA. </font><font style="vertical-align: inherit;">Ces dongles sont utilisés dans les récepteurs Flightaware Flightfeeder Orange.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/bv/m0/zobvm0srdsqzwa0zj-sn4jnpkow.jpeg" width="400"></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec couvercle retiré</font></font></b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/_r/do/al_rdoa1ezof9rwtjv6v97o2nd8.jpeg"></div><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nom du script "acars.py" laisse entendre que l'absence de filtres n'est pas une erreur ni une sauvegarde. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Système d'adresse et de communication des communications aériennes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le système d'adressage et de communication des communications des aéronefs (ACARS) est un système de radiocommunication numérique utilisé dans l'aviation pour transmettre des messages courts entre un aéronef et des stations au sol. </font><font style="vertical-align: inherit;">La fréquence de fonctionnement d'ACARS en Europe est de 131,725 ​​MHz. </font><font style="vertical-align: inherit;">Par conséquent, l'appareil ne peut pas avoir de filtre uniquement pour 1090 MHz, sinon il ne pourra pas recevoir de signal à 131 MHz. </font><font style="vertical-align: inherit;">Ce qui se trouve à l'intérieur de l'antenne est inconnu, je ne vais pas le casser, mais il est évident que sa "large couverture" est également assurée par les créateurs. </font><font style="vertical-align: inherit;">De manière similaire à la méthode ci-dessus, une carte thermique a été générée dans la plage de 100 MHz à 500 MHz. </font><font style="vertical-align: inherit;">Un fragment d'une carte thermique de balayage à une fréquence de 450 MHz. </font><font style="vertical-align: inherit;">Image complète également disponible par clic.</font></font><br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/pl/16/as/pl16astc_zfrbh2svvnrmzmurss.png"></a> </div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur la carte thermique, vous pouvez voir les panneaux de commande, les capteurs de sécurité, les sonnettes sans fil, les capteurs sans fil des stations météorologiques, les radio-amateurs, les stations de radio FM, etc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par exemple, en définissant rtl_433, vous pouvez voir les données des capteurs sans fil voisins des stations météorologiques et, si vous le souhaitez, les utiliser comme auteur de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/mm/ze/ucmmzezt7bnrtnsqxlkan5gtiwa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et en exécutant rtl_tcp, vous pouvez écouter la radio amateur et la radio FM. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x3/an/ti/x3antiicq0ssing7bra1wpglk_q.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fait intéressant, tous les jambons talkie-walkie ne gardent pas précisément la fréquence. </font><font style="vertical-align: inherit;">C'était drôle de voir comment les radio-amateurs évaluaient la façon dont ils entendaient l'interlocuteur, et la fréquence de l'une des stations de radio était quelque part en marge. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais le récepteur chinois sur le système natif a montré une précision de - 0 PPM. </font><font style="vertical-align: inherit;">Vous pouvez lire sur la technique de mesure PPM sur Habr dans l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quwy </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Encore une fois sur la réception de HF sur RTL-SDR"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il est fortement conseillé d'ajuster le PPM pour une meilleure réception. </font><font style="vertical-align: inherit;">C'est ce que les Chinois ont fait. </font><font style="vertical-align: inherit;">Il y a une petite erreur sur Piaware qui peut et doit être corrigée en spécifiant la valeur PPM correcte avec la commande sudo piaware-config rtlsdr-ppm &lt;valeur PPM&gt;.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instructions d'étalonnage RTLSDR avec rtl_test et kalibrate-rtl</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> rtl_test -p</code> </pre> <br>   10 ,    .    ppm. <br><br>            kalibrate-rtl. <br><pre> <code class="bash hljs">sudo apt-get install libtool autoconf automake libfftw3-dev git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/asdil12/kalibrate-rtl.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> kalibrate-rtl git checkout arm_memory ./bootstrap ./configure make sudo make install kal -s GSM900</code> </pre><br>     ,    «power» . <br>       kal -c &lt; &gt; -e &lt;  PPM,      rtl_test&gt; -v <br>    «average absolute error».     ppm,   ,   sudo piaware-config rtlsdr-ppm &lt; PPM&gt; <br></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En conséquence, nous pouvons dire que le récepteur VariFlight pour le fer est légèrement meilleur que ce que vous pouvez assembler vous-même. </font><font style="vertical-align: inherit;">C'est une bonne base pour commencer à pratiquer ce passe-temps (et cela a montré des tests de fer qui peuvent être utilisés pour un large éventail d'autres tâches. De plus, il y a trois ports USB gratuits). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un inconvénient certain en tant que récepteur ADSB est le logiciel et l'interface du site chinois. </font><font style="vertical-align: inherit;">Si vous ne pouvez rien faire avec le site chinois, vous pouvez modifier le logiciel du récepteur lui-même. </font><font style="vertical-align: inherit;">Le moyen le plus simple consiste à installer PiAware et à configurer la distribution sur VariFlight. </font><font style="vertical-align: inherit;">Ensuite, vous pouvez configurer la distribution sur Flightradar24 et y créer un compte avec des conditions spéciales. </font><font style="vertical-align: inherit;">Un exemple d'utilisation d'un compte avec des fonctionnalités spéciales est l'accès aux données d'archives Flightaware (le crash de la An-148 Saratov Airlines).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ug/du/dtugduq0reih0v5pv5pphsrxn2a.jpeg" alt="image" width="640"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ua/zc/u8/uazcu8jmy0bk0-wpmw-a_9rm63c.png"></div><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous donnons des données à VariFlight</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous revenons au contenu du répertoire racine. </font><font style="vertical-align: inherit;">Il peut être trouvé sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les noms de fichiers indiquent sans ambiguïté leurs fonctions.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root -l total 24 drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 drwxr-xr-x 5 root root 4096 Oct 16 18:54 get_message -rwxr-xr-x 1 root root 567 Nov 22 2016 install.sh drwxr-xr-x 7 root root 4096 Nov 22 2016 rtl-sdr -rwxr-xr-x 1 root root 62 Nov 22 2016 synctime.sh -rwxr-xr-x 1 root root 1300 Nov 29 2016 task.sh</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash apt-get update apt-get install cmake libusb-1.0-0-dev build-essential vim ntpdate -y apt-get remove ntp cd get_message/ mv rtl-sdr-blacklist.conf /etc/modprobe.d/ mv dump.sh /etc/init.d/dump chmod +x /etc/init.d/dump mv task.sh ../ chmod +x ../task.sh cd ../rtl-sdr/ mkdir rtl cd rtl cmake ../ -DINSTALL_UDEV_RULES=ON make install ldconfig cd ../../dump1090/ make cd /root/get_message/ python get_ip.py ps aux | grep py update-alternatives --config editor crontab -e * * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1 * * */6 * * /root/synctime.sh &gt;/dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les dernières lignes de install.sh montrent que cron ajoute deux tâches - exécutez task.sh toutes les minutes et synctime.sh tous les 6 jours </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">synctime.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash /usr/sbin/ntpdate 115.182.42.248 &gt; /dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115.182.42.248 - BeiJing wanglianxuntong Telecom Technology Co., Ltd, Pékin, Chine. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remarques: Veuillez noter que CNNIC n'est pas un FAI et n'est pas des </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remarques: autorisé à enquêter sur les plaintes d'abus de réseau. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remarques: Veuillez contacter le technicien ou l'administrateur du réseau.</font></font></blockquote><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep dump1090 | grep -v grep if [ $? -eq 1 ] then /etc/init.d/dump stop sleep 1 /etc/init.d/dump start echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 running" echo "------------------------------------------------------------------------" fi ps -eaf | grep send_message.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python -O /root/get_message/send_message.py &amp; echo `date "+%G-%m-%d %H:%M:%S"`" send_message restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" send_message running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le script task.sh, exécuté toutes les minutes par cron, vérifie et, si nécessaire, redémarre les scripts dump1090, send_message.py et get_ip.py. </font></font><br><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -eaf | grep dump1090 | grep -v grep root 830 1 14 Oct12 ? 13:49:25 ./dump1090 --net --net-sbs-port 30003 pi@raspberrypi:~ $ ps -eaf | grep get_ip.py | grep -v grep pi@raspberrypi:~ $ ps -eaf | grep send_message.py | grep -v grep root 838 1 0 Oct12 ? 00:09:20 python -O /root/get_message/send_message.py</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le répertoire </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contient des scripts python, dont l'un, send_message.py, envoie des données.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root/get_message -l total 40 -rw-r--r-- 1 root root 954 Nov 22 2016 acars.py -rw-r--r-- 1 root root 1341 Nov 22 2016 acars.sh -rw-r--r-- 1 root root 173 Nov 22 2016 config.ini drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 -rwxr-xr-x 1 root root 1731 Nov 22 2016 get_ip.py drwxr-xr-x 3 root root 4096 Nov 22 2016 get_message1117 -rwxr-xr-x 1 root root 3400 Dec 7 2016 init.sh -rw-r--r-- 1 root root 33 Oct 16 18:51 md5.txt -rwxr-xr-x 1 root root 1143 Oct 12 18:16 send_message.py -rw-r--r-- 1 root root 16 May 27 2016 UUID</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">init.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash path='/root/get_message/' DATE=`date -d "today" +"%Y-%m-%d_%H:%M:%S"` result="" UUID="" execom="" FromServer="" SourceMD5="" device="" if ps -ef |grep dump1090 |grep -v grep &gt;/dev/null then device="adsb" elif ps -ef |grep acarsdec |grep -v grep &gt;/dev/null then device="acars" else device="unknow" fi IpAddr=`/sbin/ifconfig |grep "addr:" |grep -v 127.0.0.1 |cut -d ':' -f2 |cut -d ' ' -f1` if [ -f "/root/get_message/UUID" ] then UUID=`cat /root/get_message/UUID` fi execut(){ while read command do eval $command if [ $? -ne 0 ] then execom=$command result=0 break fi result=1 done &lt;$path/package/exe.txt } removefile(){ rm -rf $path/package rm -f $path/*tar.gz* } main(){ ps -eaf | grep "pic.veryzhun.com/ADSB/update/newpackage.tar.gz" | grep -v grep if [ $? -eq 1 ] then /usr/bin/wget -P $path -c -t 1 -T 2 pic.veryzhun.com/ADSB/update/newpackage.tar.gz if [ -f "$path/newpackage.tar.gz" ] then dmd5=`md5sum $path/newpackage.tar.gz|cut -d ' ' -f1` if [ "$SourceMD5" = "$dmd5" ] then /bin/tar -xzf $path/newpackage.tar.gz -C $path echo $SourceMD5 &gt; $path/md5.txt /bin/touch /usr/src/start.pid echo $DATE &gt; /usr/src/start.pid execut if [ $result -eq 1 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="success" http://receive.cdn35.com/ADSB/result.php else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="fail" http://receive.cdn35.com/ADSB/result.php fi removefile else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="post file has been changed" http://receive.cdn35.com/ADSB/result.php removefile fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="download failed" http://receive.cdn35.com/ADSB/result.php removefile fi fi } if curl -m 2 -s pic.veryzhun.com/ADSB/update.php &gt;/dev/null;then removefile FromServer=`curl -m 2 -s -d UUID="$UUID" -d IpAddr="$IpAddr" -d Device="$device" pic.veryzhun.com/ADSB/update.php` SourceMD5=`echo $FromServer|cut -d ' ' -f1` length=`echo $SourceMD5 |wc -L` if [ $length -ne 32 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="md5 style error" http://receive.cdn35.com/ADSB/result.php exit fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="curl failed" http://receive.cdn35.com/ADSB/result.php exit fi DesMD5=`cat $path/md5.txt` if [ "$SourceMD5" = "$DesMD5" ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="no update,md5 without change " http://receive.cdn35.com/ADSB/result.php exit else main fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le script init.sh vérifie s'il y a une mise à jour et définit un nouveau send_message.py </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_ip.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fcntl <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> struct <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys,os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> hashlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uuid config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> source_data=source_data.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>,<span class="hljs-string"><span class="hljs-string">'$$$'</span></span>) f=urllib2.urlopen( url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"ipurl"</span></span>), data = source_data, timeout = <span class="hljs-number"><span class="hljs-number">60</span></span> ) tmp_return=f.read() request_json=json.loads(tmp_return) request_md5=request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] tmp_hash=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> request_json: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> tmp_hash==<span class="hljs-string"><span class="hljs-string">''</span></span> : tmp_hash=tmp_hash+request_json[i] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : tmp_hash=tmp_hash+<span class="hljs-string"><span class="hljs-string">','</span></span>+request_json[i] md5=hashlib.md5(tmp_hash.encode(<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)).hexdigest() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (md5 == request_md5): operate(request_json) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'MD5 ERR'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"return: "</span></span>+tmp_return; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_ip_address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ifname)</span></span></span><span class="hljs-function">:</span></span> skt = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) pktString = fcntl.ioctl(skt.fileno(), <span class="hljs-number"><span class="hljs-number">0x8915</span></span>, struct.pack(<span class="hljs-string"><span class="hljs-string">'256s'</span></span>, ifname[:<span class="hljs-number"><span class="hljs-number">15</span></span>])) ipString = socket.inet_ntoa(pktString[<span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ipString <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request_json)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'reboot'</span></span> : os.system(<span class="hljs-string"><span class="hljs-string">'/sbin/reboot'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'code'</span></span> : fileHandle = open ( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'path'</span></span>] ) , <span class="hljs-string"><span class="hljs-string">'w'</span></span> ) fileHandle.write( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'content'</span></span>] ) ) fileHandle.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'OK'</span></span> eth=get_ip_address(<span class="hljs-string"><span class="hljs-string">'eth0'</span></span>) send_message(mid+<span class="hljs-string"><span class="hljs-string">'|'</span></span>+eth+<span class="hljs-string"><span class="hljs-string">'|'</span></span>)</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le sens de l'échange de réseau effectué par le script, je ne comprends pas particulièrement. </font><font style="vertical-align: inherit;">Un UUID unique est généré s'il en manque un. </font><font style="vertical-align: inherit;">Et il y a un certain échange avec les adresses spécifiées dans le fichier config.ini. </font><font style="vertical-align: inherit;">Ce script particulier est probablement responsable de la liaison des données transmises et de l'IP avec le compte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La ligne "if request_json ['type'] == 'reboot': os.system ('/ sbin / reboot')" est à noter.</font></font><br><br><pre> <code class="plaintext hljs">[global] name = NEW ipurl = http://receive.cdn35.com/ADS-B_IP.php sendurl = http://adsb.feeyo.com/adsb/ReceiveCompressADSB.php version = 1.0 passwd = 'null'</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et enfin, le script envoyant les données </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">send_message.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> zlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os,uuid serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">30003</span></span> config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() sockobj = socket.socket(socket.AF_INET,socket.SOCK_STREAM) sockobj.connect((serverHost,serverPort)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: source_data=base64.b64encode(zlib.compress(source_data)) f=urllib2.urlopen(url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"sendurl"</span></span>),data = urllib.urlencode({<span class="hljs-string"><span class="hljs-string">'from'</span></span>:mid,<span class="hljs-string"><span class="hljs-string">'code'</span></span>:source_data}),timeout = <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception,e: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> str(e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: buf = sockobj.recv(<span class="hljs-number"><span class="hljs-number">1024</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> buf: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(buf) != <span class="hljs-number"><span class="hljs-number">0</span></span>: tmp_buf=tmp_buf+buf <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> buf[len(buf)<span class="hljs-number"><span class="hljs-number">-1</span></span>] == <span class="hljs-string"><span class="hljs-string">'\n'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> send_message(tmp_buf) : tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai modifié la ligne serverHost = 'localhost' en remplaçant 'localhost' par 'ff-1234' - le nom de réseau de mon Flightaware Flightfeeder et en redémarrant le récepteur VariFlight. Après cela, les données de Flightfeeder sont allées à VariFlight. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les scripts restants sont la réception des messages ACARS. Peut-être le reste d'une fonctionnalité ou d'une fonction qui sera implémentée à l'avenir. Les scripts fonctionnent avec /root/acarsdec-3.0/acarsdec, qui manque sur ce chemin. ACARSDEC est un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">décodeur ACARS SDR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui décode des messages, par exemple, à une fréquence de 131,725 ​​MHz. Apparemment, sur la base de la réception de cette fréquence, il n'y a pas de filtres à 1090 MHz à l'entrée du récepteur.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qz/kh/hu/qzkhhuoty6nf40do5noeftc1psk.jpeg" width="400"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le système de communication aéronautique d'adresse et de communication (ACARS) est un système de communication numérique utilisé dans l'aviation pour transmettre des messages courts et relativement simples entre un aéronef et des stations au sol, soit par radiocommunication directe, soit par satellite. </font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus d'informations sur ACARS, par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cliquez ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le script acars.sh est similaire à task.sh dans son implémentation - il redémarre acarsdec et les scripts get_ip.py et acars.py s'il ne détecte pas le processus nécessaire.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep acarsdec | grep -v grep if [ $? -eq 1 ] then /root/acarsdec-3.0/acarsdec -n 127.0.0.1:8888 -o 0 -p -8 -r 0 127.272 126.475 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi ps -eaf | grep acars.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/acars.py echo `date "+%G-%m-%d %H:%M:%S"`" acars restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acars running" echo "------------------------------------------------------------------------" fi /usr/sbin/ntpdate cn.pool.ntp.org &gt; /dev/null</span></span></code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python import socket, traceback ,time,urllib2,urllib,sys,ConfigParser def send_message(source_data): try: f=urllib2.urlopen(url = config.get("global","sendurl"),data = urllib.urlencode({'from':config.get("global","name"),'code':source_data}),timeout = 10) print "return: "+f.read(); return True except Exception,e: print str(e) return False host = '127.0.0.1' port = 8888 config = ConfigParser.ConfigParser() config.readfp(open(sys.path[0]+'/config.ini',"rb")) s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) s.bind((host, port)) while 1: try: message, address = s.recvfrom(8192) socket_udp_str='{0} :{1} \n\n'.format(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time())),message) send_message(socket_udp_str) except (KeyboardInterrupt, SystemExit): raise except: traceback.print_exc()</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Au travail, cela ressemble à ceci: </font></font><br><br><pre> <code class="bash hljs">PID TTY STAT TIME COMMAND 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps -afx complètement</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -afx PID TTY STAT TIME COMMAND 2 ? S 0:00 [kthreadd] 3 ? S 0:59 \_ [ksoftirqd/0] 5 ? S&lt; 0:00 \_ [kworker/0:0H] 7 ? S 5:28 \_ [rcu_sched] 8 ? S 0:00 \_ [rcu_bh] 9 ? S 0:01 \_ [migration/0] 10 ? S 0:01 \_ [migration/1] 11 ? S 0:05 \_ [ksoftirqd/1] 13 ? S&lt; 0:00 \_ [kworker/1:0H] 14 ? S 0:01 \_ [migration/2] 15 ? S 0:04 \_ [ksoftirqd/2] 17 ? S&lt; 0:00 \_ [kworker/2:0H] 18 ? S 0:01 \_ [migration/3] 19 ? S 0:04 \_ [ksoftirqd/3] 21 ? S&lt; 0:00 \_ [kworker/3:0H] 22 ? S 0:00 \_ [kdevtmpfs] 23 ? S&lt; 0:00 \_ [netns] 24 ? S&lt; 0:00 \_ [perf] 25 ? S 0:00 \_ [khungtaskd] 26 ? S&lt; 0:00 \_ [writeback] 27 ? S&lt; 0:00 \_ [crypto] 28 ? S&lt; 0:00 \_ [bioset] 29 ? S&lt; 0:00 \_ [kblockd] 31 ? S&lt; 0:00 \_ [rpciod] 32 ? S 0:00 \_ [kswapd0] 33 ? S&lt; 0:00 \_ [vmstat] 34 ? S 0:00 \_ [fsnotify_mark] 35 ? S&lt; 0:00 \_ [nfsiod] 44 ? S&lt; 0:00 \_ [kthrotld] 46 ? S&lt; 0:00 \_ [bioset] 47 ? S&lt; 0:00 \_ [bioset] 48 ? S&lt; 0:00 \_ [bioset] 49 ? S&lt; 0:00 \_ [bioset] 50 ? S&lt; 0:00 \_ [bioset] 51 ? S&lt; 0:00 \_ [bioset] 52 ? S&lt; 0:00 \_ [bioset] 53 ? S&lt; 0:00 \_ [bioset] 54 ? S&lt; 0:00 \_ [bioset] 55 ? S&lt; 0:00 \_ [bioset] 56 ? S&lt; 0:00 \_ [bioset] 57 ? S&lt; 0:00 \_ [bioset] 58 ? S&lt; 0:00 \_ [bioset] 59 ? S&lt; 0:00 \_ [bioset] 60 ? S&lt; 0:00 \_ [bioset] 61 ? S&lt; 0:00 \_ [bioset] 62 ? S&lt; 0:00 \_ [bioset] 63 ? S&lt; 0:00 \_ [bioset] 64 ? S&lt; 0:00 \_ [bioset] 65 ? S&lt; 0:00 \_ [bioset] 66 ? S&lt; 0:00 \_ [bioset] 67 ? S&lt; 0:00 \_ [bioset] 68 ? S&lt; 0:00 \_ [bioset] 69 ? S&lt; 0:00 \_ [bioset] 70 ? S&lt; 0:00 \_ [VCHIQ-0] 71 ? S&lt; 0:00 \_ [VCHIQr-0] 72 ? S&lt; 0:00 \_ [VCHIQs-0] 73 ? S&lt; 0:00 \_ [iscsi_eh] 74 ? S&lt; 0:00 \_ [dwc_otg] 75 ? S&lt; 0:00 \_ [DWC Notificatio] 77 ? S 0:00 \_ [irq/92-mmc1] 78 ? S 0:00 \_ [VCHIQka-0] 79 ? S&lt; 0:00 \_ [SMIO] 80 ? S&lt; 0:00 \_ [deferwq] 83 ? S&lt; 0:00 \_ [bioset] 84 ? S 0:11 \_ [mmcqd/0] 87 ? S 0:04 \_ [jbd2/mmcblk0p2-] 88 ? S&lt; 0:00 \_ [ext4-rsv-conver] 89 ? S&lt; 0:00 \_ [ipv6_addrconf] 172 ? S 415:15 \_ [w1_bus_master1] 224 ? S&lt; 0:00 \_ [cfg80211] 227 ? S&lt; 0:00 \_ [brcmf_wq/mmc1:0] 229 ? S 0:00 \_ [brcmf_wdog/mmc1] 493 ? S&lt; 0:00 \_ [kworker/1:1H] 550 ? S&lt; 0:00 \_ [kworker/3:1H] 632 ? S&lt; 0:00 \_ [kworker/u9:0] 633 ? S&lt; 0:00 \_ [hci0] 634 ? S&lt; 0:00 \_ [hci0] 638 ? S&lt; 0:00 \_ [kworker/u9:2] 3856 ? S&lt; 0:00 \_ [kworker/2:1H] 9346 ? S&lt; 0:00 \_ [kworker/0:1H] 15564 ? S 0:00 \_ [kworker/1:0] 17556 ? S 0:00 \_ [kworker/u8:2] 17878 ? S 0:00 \_ [kworker/0:0] 17879 ? S 0:00 \_ [kworker/2:2] 19234 ? S 0:00 \_ [kworker/u8:4] 19566 ? S 0:00 \_ [kworker/3:1] 20143 ? S 0:00 \_ [kworker/2:1] 20259 ? S 0:00 \_ [kworker/3:2] 20352 ? S 0:00 \_ [kworker/0:2] 20416 ? S 0:00 \_ [kworker/1:2] 20600 ? S 0:00 \_ [kworker/3:0] 20601 ? S 0:00 \_ [kworker/2:0] 20605 ? S 0:00 \_ [kworker/u8:0] 20725 ? S 0:00 \_ [kworker/0:1] 1 ? Ss 0:10 /sbin/init 134 ? Ss 1:00 /lib/systemd/systemd-journald 136 ? Ss 0:08 /lib/systemd/systemd-udevd 416 ? Ss 0:09 /usr/sbin/cron -f 426 ? Ss 0:01 /lib/systemd/systemd-logind 429 ? Ss 0:00 avahi-daemon: running [raspberrypi.local] 458 ? S 0:00 \_ avahi-daemon: chroot helper 433 ? Ss 0:00 /usr/bin/dbus-daemon --system --address=systemd: --no 450 ? Ss 0:02 /usr/sbin/thd --daemon --triggers /etc/triggerhappy/t 496 ? Ss 0:03 /sbin/wpa_supplicant -s -B -P /run/wpa_supplicant.wla 498 ? Ssl 0:13 /usr/sbin/rsyslogd -n 636 ? S 0:00 /usr/bin/hciattach /dev/serial1 bcm43xx 921600 noflow 640 ? Ss 0:00 /usr/lib/bluetooth/bluetoothd 729 ? Ss 0:02 /sbin/dhcpcd -q -w 749 ? Ss 0:00 /usr/sbin/sshd -D 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela montre que vous pouvez prendre des données de PiAware presque sans contrainte, en fait, seulement transférer des scripts vers le nouveau système. </font><font style="vertical-align: inherit;">Et si vous avez déjà une station adsb existante - faite maison, Flightradar24, Flightaware, alors le récepteur existant peut être utilisé à votre discrétion pour d'autres objectifs personnels et tâches avec une conscience complètement claire.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer VariFlight sur PiAware</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous transférons les fichiers nécessaires vers le nouveau système de l'ancien. </font></font> C'est-à-dire<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenu du répertoire racine: répertoire </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message et fichiers install.sh, synctime.sh, task.sh. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le répertoire get_message:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> config.ini </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> get_ip.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> init.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> send_message.py </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et le fichier UUID est votre identifiant sur le réseau VariFlight. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez commencer à partager des données sans VariFlight Feeder, la première fois que vous exécutez le script, votre UUID est généré. </font><font style="vertical-align: inherit;">Ce fichier et le nom de l'aéroport le plus proche doivent être envoyés à chengyi (at) variflight.com pour créer votre compte sur le service.</font></font></i> <br><br>  Suivant: <br><pre> <code class="bash hljs">pi@piaware:~ $ sudo apt-get install -y python ntpdate pi@piaware:~ $ su root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># sh task.sh root@piaware:~# crontab -e</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modification de crontab dans nano par collage </font></font><br><pre> <code class="bash hljs">* * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enregistrez le fichier en appuyant sur [Ctrl + O] et fermez [Ctrl + X]. </font></font><br><pre> <code class="bash hljs">root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># chmod 777 task.sh root@piaware:~# reboot</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Après le redémarrage, nous vérifions la page avec ses statistiques </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.feeyo.com/user/rank</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la quatrième colonne, il devrait y avoir une inscription verte en ligne. </font><font style="vertical-align: inherit;">Et dans la liste de l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aéroport, les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> panneaux acceptés (troisième colonne - il y a combien de secondes un signal a été reçu de l'avion). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À ce stade, mon projet a «pendu» indéfiniment, car </font><font style="vertical-align: inherit;">ici, je voulais écrire comment exécuter un script sur le routeur avec openwrt et ModeSMixer pour distribuer des données aux services et ainsi éteindre ce récepteur et l'appliquer à d'autres fins. </font><font style="vertical-align: inherit;">Mais je ne m'attends toujours pas à du temps libre et j'ai décidé de publier tel quel. </font><font style="vertical-align: inherit;">Peut-être que quelqu'un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">veut commander un</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> récepteur </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gratuit</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et cet article sera utile.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModeSMixer</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un récepteur peut distribuer des données à plusieurs services et le programme ModeSMixer est utilisé pour cela. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModeSMixer est une application console pour combiner et relayer des flux avec des données Mode-S dans différents formats. </font><font style="vertical-align: inherit;">Exemple d'utilisation:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k_/r_/kg/k_r_kgk9z0hxapzmioayflatyce.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le programme est conçu pour combiner et relayer différents formats de flux de données ModeS. </font><font style="vertical-align: inherit;">Le programme n'a pas de paramètres par défaut. </font><font style="vertical-align: inherit;">Tout est défini par des paramètres. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le paramètre --inConnect spécifie les adresses et les ports à partir desquels les données sont reçues. </font><font style="vertical-align: inherit;">Et le paramètre --outServer définit le format et le port pour les données relayées. </font><font style="vertical-align: inherit;">Un exemple dans l'image ressemblera à ceci:</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect 192.168.0.105:30005 --inConnect 127.0.0.1:30005 --outServer sbs10001:10001 --outServer beast:31001 --globes 32000:tablename:home --location XX.XXXXX:YY.YYYYY --web 8765 &amp;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le paramètre --location détermine la latitude et la longitude de l'emplacement d'installation de la station, et le paramètre --web détermine le port sur lequel l'interface Web du programme fonctionnera. En savoir plus sur le programme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Après avoir mis en place la distribution de plusieurs services, le propriétaire de la station bénéficie d'un abonnement spécial sur chaque service et d'un accès aux informations non publiques et aux archives de vol pendant une certaine période. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le cas de l'utilisation de PiAware, les données sont déjà envoyées à FlightAware et il ne reste plus qu'à collecter ces données à l'aide de modesmixer2. Et dans le cas de Variflight, vous devez obtenir des données BaseStation sur un port libre, par exemple, 10001. Le paramètre ressemblera à ceci --outServer msg: 10001. Si nécessaire, vous pouvez ajouter le port 10002 pour le programme VirtualRadar: --outServer beast: 10002</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --outServer beast:10002 --location &lt;&gt;:&lt;&gt; --web 8765 &amp;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour que cela démarre et redémarre automatiquement, vous devez modifier task.sh, en ajoutant: </font></font><br><pre> <code class="bash hljs">ps -eaf | grep modesmixer2 | grep -v grep <span class="hljs-comment"><span class="hljs-comment"># if not found - equals to 1, start it if [ $? -eq 1 ] then ./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --location &lt;&gt;:&lt;&gt; --web 8765 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enfin, modifiez le script get_message / send_message.py, en spécifiant un nouveau port de données: </font></font><br><pre> <code class="python hljs">serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">10001</span></span></code> </pre><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pendant ce temps,</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alors que cet article était en cours de rédaction, des informations sont parvenues de Chine concernant ces services. </font><font style="vertical-align: inherit;">En novembre 2018, les autorités chinoises ont commencé à éteindre les récepteurs ADSB des services étrangers. </font><font style="vertical-align: inherit;">Cela peut être vu dans les statistiques publiques des stations Flightaware en Chine: </font></font><br><br><img src="https://habrastorage.org/webt/qt/ao/zw/qtaozwosymnimbutqn0miisq_mu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La nouvelle est que les amateurs de repérage radar chinois ont déclaré avoir été appelés par des représentants des autorités chinoises et ont été visités par la police, qui "très gentille et polie" leur a demandé de cesser d'envoyer des données ADS-B à l'étranger. services, ce qui, apparemment, "met en danger la sécurité nationale et la souveraineté de la Chine".</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certains ont affirmé avoir reçu un appel, même s'ils n'avaient pas reçu de récepteur de FlightRadar24 et FlightAware. </font><font style="vertical-align: inherit;">Ces événements ont provoqué un émoi parmi les passionnés, et beaucoup d'entre eux ont cessé de transmettre des données ADS-B. </font><font style="vertical-align: inherit;">FlightRadar24 est connu pour avoir tenté d'anonymiser les stations d'utilisateurs en Chine. </font><font style="vertical-align: inherit;">On ne sait pas encore à quel point cela est spectaculaire. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avis aux autorités chinoises en anglais:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5g/ib/aq/5gibaqetlgqzcqxaul0ognxlau0.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Cela met en danger la sécurité nationale et la souveraineté de la Chine», le fait que ces services permettent la localisation d'avions militaires chinois (américains, européens et autres que les pays de l'ex-URSS). </font><font style="vertical-align: inherit;">Par exemple, la trajectoire hebdomadaire de l'UAV de reconnaissance stratégique américain au-dessus des eaux internationales à une altitude de 16 km:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hv/zz/oy/hvzzoywpk5ukuehepkkdjgcbvt0.png" alt="image" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe deux systèmes radar secondaires dans le monde, des États-Unis et de l'URSS. </font><font style="vertical-align: inherit;">Par conséquent, ces récepteurs et services ne peuvent pas montrer où se trouvent la plupart des avions, hélicoptères «soviétiques» à moins qu'ils ne soient équipés d'un transpondeur radar «américain», qui n'est nécessaire que pour les vols dans l'espace aérien, par exemple aux États-Unis ou dans l'UE. </font><font style="vertical-align: inherit;">Par conséquent, vous pouvez voir quelque chose d'intéressant sur le territoire de la Fédération de Russie dans les zones frontalières, de préférence en bord de mer. </font><font style="vertical-align: inherit;">Par exemple, l'officier du renseignement américain mentionné ci-dessus est remarquablement visible depuis Krasnodar. </font><font style="vertical-align: inherit;">En raison de cette situation côtière du récepteur, le service PlaneRadar susmentionné entre périodiquement dans l'actualité des médias russes.</font></font><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1067760621398253569"></twitter-widget><blockquote class="twitter-tweet" data-lang="en_US" data-twitter-extracted-i1584352276818610906="true"><p lang="ru" dir="ltr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15:40 heure de Moscou. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pic.twitter.com/sTCSsoY1VV</font></font></a> </p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- PlaneRadar (@ ua4wiy_) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28 novembre 2018</font></font></a> </blockquote><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS VariFlight ADS-B </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">lance</font></a><font style="vertical-align: inherit;"> la version anglaise - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423989/">https://habr.com/ru/post/fr423989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423979/index.html">Panel de biomarqueurs sur le vieillissement sain au Royaume-Uni</a></li>
<li><a href="../fr423981/index.html">Livre DDIA (livre avec un porc) - passez au niveau supérieur dans la compréhension des bases de données</a></li>
<li><a href="../fr423983/index.html">11 bibliothèques de visualisation JavaScript à connaître en 2018</a></li>
<li><a href="../fr423985/index.html">Roskomnadzor propose d'abolir la neutralité du réseau dans les réseaux 5G</a></li>
<li><a href="../fr423987/index.html">Comment devenir programmeur Java</a></li>
<li><a href="../fr423991/index.html">Secrets de gestion des abonnements à l'App Store d'Apple</a></li>
<li><a href="../fr423993/index.html">Comment dessiner un trou noir. Traçage des rayons géodésiques dans l'espace-temps courbe</a></li>
<li><a href="../fr423995/index.html">Propreté dans un atelier de geek. 2e partie</a></li>
<li><a href="../fr423997/index.html">"IT CRIMEA": un nouveau parc technologique à Sébastopol - il sera opérationnel à la fin de cette année</a></li>
<li><a href="../fr423999/index.html">Les données utilisateur Windows sur un PC avec prise en charge de la saisie tactile sont écrites dans un fichier séparé</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>