<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òëÔ∏è üë®üèΩ‚Äçüíº ü§Ωüèª D√©veloppement informatique enti√®rement autonome üöµüèΩ üíáüèΩ üé≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Traduction de la premi√®re partie de la pr√©sentation de la Tesla Autonomy Investor Day sur le d√©veloppement d'un ordinateur enti√®rement autonome pour l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©veloppement informatique enti√®rement autonome</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450500/"> <em>Traduction de la premi√®re partie de la pr√©sentation de la Tesla Autonomy Investor Day sur le d√©veloppement d'un ordinateur enti√®rement autonome pour le pilote automatique Tesla.</em>  <em>Nous comblons l'√©cart entre les critiques de th√®se pour la pr√©sentation et son contenu.</em> <br><a name="habracut"></a><br>  <em>Le texte de la pr√©sentation est traduit proche de l'original.</em>  <em>Questions √† l'orateur - s√©lectivement avec des abr√©viations.</em> <br><br>  <strong>Animateur:</strong> Bonjour √† tous.  D√©sol√© d'√™tre en retard.  Bienvenue √† notre premi√®re journ√©e de conduite autonome.  J'esp√®re que nous pourrons le faire plus r√©guli√®rement pour vous tenir au courant de nos d√©veloppements. <br><br>  Il y a environ trois mois, nous pr√©parions le rapport sur les r√©sultats du quatri√®me trimestre avec Ilon et d'autres dirigeants.  J'ai ensuite dit que le plus grand √©cart dans les conversations avec les investisseurs, entre ce que je vois √† l'int√©rieur de l'entreprise et sa perception externe, est notre progr√®s dans la conduite autonome.  Et cela est compr√©hensible, au cours des deux derni√®res ann√©es, nous avons parl√© d'augmenter la production du mod√®le 3, autour duquel il y avait beaucoup de controverse.  En fait, beaucoup de choses se sont pass√©es en arri√®re-plan. <br><br>  Nous avons travaill√© sur une nouvelle puce pour le pilote automatique, compl√®tement repens√© le r√©seau neuronal de vision industrielle et finalement commenc√© √† lancer le Full Self-Driving Computer (FSDC).  Nous avons pens√© que c'√©tait une bonne id√©e d'ouvrir le voile, d'inviter tout le monde et de raconter tout ce que nous avons fait au cours des deux derni√®res ann√©es. <br><br>  Il y a environ trois ans, nous voulions utiliser, nous voulions trouver la meilleure puce pour la conduite autonome.  Nous avons constat√© qu'aucune puce n'avait √©t√© con√ßue √† partir de z√©ro pour les r√©seaux de neurones.  C'est pourquoi nous avons invit√© mon coll√®gue Pete Bannon, vice-pr√©sident de la conception de circuits int√©gr√©s, √† d√©velopper une telle puce pour nous.  Il a environ 35 ans d'exp√©rience dans le d√©veloppement de puces.  Dont 12 ans chez PASemi, rachet√© par la suite par Apple.  Il a travaill√© sur des dizaines d'architectures et d'impl√©mentations diff√©rentes et √©tait le concepteur en chef de l'iPhone 5 d'Apple, peu de temps avant de rejoindre Tesla.  Nous rejoint √©galement sur Elon Musk.  Je vous remercie <br><br>  <strong>Ilon:</strong> En fait, j'allais pr√©senter Pete, mais comme ils l'ont d√©j√† fait, j'ajouterai qu'il est tout simplement le meilleur architecte de syst√®mes et de circuits int√©gr√©s au monde que je connaisse.  C'est un honneur pour vous et votre √©quipe chez Tesla.  Veuillez simplement nous parler du travail incroyable que vous avez accompli. <br><br>  <strong>Pete:</strong> Merci Ilon.  Je suis heureux d'√™tre ici ce matin et c'est vraiment agr√©able de vous parler de tout le travail que mes coll√®gues et moi avons fait ici √† Tesla au cours des trois derni√®res ann√©es.  Je vais vous expliquer un peu comment tout a commenc√©, puis je vais vous pr√©senter l'ordinateur FSDC et vous expliquer un peu comment cela fonctionne.  Nous allons nous plonger dans la puce elle-m√™me et consid√©rer certains d√©tails.  Je vais d√©crire le fonctionnement de l'acc√©l√©rateur de r√©seau neuronal sp√©cialis√© que nous avons con√ßu, puis montrer quelques r√©sultats, et j'esp√®re qu'√† ce moment-l√†, vous ne vous endormirez pas encore. <br><br>  J'ai √©t√© embauch√© en f√©vrier 2016.  J‚Äôai demand√© √† Ilon s‚Äôil √©tait pr√™t √† d√©penser autant que n√©cessaire pour cr√©er ce syst√®me sp√©cialis√©, il a demand√©: ¬´Allons-nous gagner?¬ª, J‚Äôai r√©pondu: ¬´Eh bien, oui, bien s√ªr¬ª, puis il a r√©pondu ¬´Je suis en affaires¬ª et tout a commenc√© .  Nous avons embauch√© un groupe de personnes et commenc√© √† penser √† quoi ressemblerait une puce con√ßue sp√©cifiquement pour la conduite enti√®rement autonome.  Nous avons pass√© dix-huit mois √† d√©velopper la premi√®re version et, en ao√ªt 2017, nous l'avons mise en production.  Nous avons obtenu la puce en d√©cembre, cela a fonctionn√© et a tr√®s bien fonctionn√© du premier coup.  En avril 2018, nous avons apport√© plusieurs modifications et publi√© la version B zero Rev.  En juillet 2018, la puce a √©t√© certifi√©e et nous avons commenc√© la production √† grande √©chelle.  En d√©cembre 2018, la pile de conduite autonome a √©t√© lanc√©e sur de nouveaux √©quipements, et nous avons pu proc√©der √† la conversion des voitures de soci√©t√© et aux tests dans le monde r√©el.  En mars 2019  nous avons commenc√© √† installer un nouvel ordinateur dans les mod√®les S et X, et en avril - dans le mod√®le 3. <br><br>  Ainsi, tout le programme, de l'embauche des premiers employ√©s au lancement complet dans les trois mod√®les de nos voitures, a pris un peu plus de trois ans.  C'est peut-√™tre le programme de d√©veloppement de syst√®mes le plus rapide auquel j'ai jamais particip√©.  Et cela parle vraiment des avantages d'une int√©gration verticale √©lev√©e, vous permettant de faire une conception parall√®le et d'acc√©l√©rer le d√©ploiement. <br><br>  En termes d'objectifs, nous nous sommes compl√®tement concentr√©s uniquement sur les exigences de Tesla, ce qui simplifie consid√©rablement la vie.  Si vous avez un seul client, vous n'avez pas √† vous soucier des autres.  L'un des objectifs √©tait de maintenir la puissance en dessous de 100 watts afin de pouvoir convertir les machines existantes.  Nous voulions √©galement r√©duire les co√ªts pour fournir une redondance pour une plus grande s√©curit√©. <br><br>  Au moment o√π nous passions nos doigts vers le ciel, j'ai soutenu que conduire une voiture n√©cessiterait une performance du r√©seau neuronal d'au moins 50 billions d'op√©rations par seconde.  Par cons√©quent, nous voulions obtenir au moins autant, et mieux, plus.  Les tailles de lot d√©terminent le nombre d'√©l√©ments avec lesquels vous travaillez en m√™me temps.  Par exemple, les TPU Google ont une taille de paquet de 256 et vous devez attendre que vous ayez 256 √©l√©ments √† traiter avant de commencer.  Nous ne voulions pas attendre et avons d√©velopp√© notre moteur avec une taille de package d'un.  D√®s que l'image appara√Æt, nous la traitons imm√©diatement pour minimiser les retards et augmenter la s√©curit√©. <br><br>  Nous avions besoin d'un processeur graphique pour effectuer un post-traitement.  Au d√©but, cela occupait beaucoup, mais nous avons suppos√© qu'avec le temps, il deviendrait plus petit, car les r√©seaux de neurones s'am√©liorent de mieux en mieux.  Et c'est vraiment arriv√©.  Nous avons pris des risques en mettant un processeur graphique assez modeste dans la conception, et cela s'est av√©r√© √™tre une bonne id√©e. <br><br>  La s√©curit√© est tr√®s importante, si vous n'avez pas de voiture prot√©g√©e, vous ne pouvez pas avoir de voiture s√ªre.  Par cons√©quent, une grande attention est accord√©e √† la s√©curit√© et, bien s√ªr, √† la s√©curit√©. <br><br>  En termes d'architecture de puce, comme Ilon l'a mentionn√© plus t√¥t, en 2016, il n'y avait pas d'acc√©l√©rateur cr√©√© √† l'origine pour les r√©seaux de neurones.  Tout le monde a simplement ajout√© des instructions √† son CPU, GPU ou DSP.  Personne n'a fait de d√©veloppement avec 0. Par cons√©quent, nous avons d√©cid√© de le faire nous-m√™mes.  Pour les autres composants, nous avons achet√© des CPU et GPU industriels IP standard, ce qui nous a permis de r√©duire le temps de d√©veloppement et les risques. <br><br>  Une autre chose un peu inattendue pour moi √©tait la possibilit√© d'utiliser les commandes existantes dans Tesla.  Tesla avait d'excellentes √©quipes de d√©veloppeurs d'alimentations, d'analyse d'int√©grit√© du signal, de conception de bo√Ætier, de firmware, de logiciel syst√®me, de d√©veloppement de circuits imprim√©s et un tr√®s bon programme de validation de syst√®me.  Nous avons pu utiliser tout cela pour acc√©l√©rer le programme. <br><br><img src="https://habrastorage.org/webt/xe/mh/pf/xemhpf4cvjuh2ry86hx_kor7fru.png"><br><br>  Voil√† √† quoi √ßa ressemble.  Sur la droite, vous voyez les connecteurs pour la vid√©o provenant des cam√©ras de la voiture.  Deux ordinateurs de conduite autonomes au centre de la carte, √† gauche - les connecteurs d'alimentation et de contr√¥le.  J'adore quand une solution se r√©sume √† ses √©l√©ments de base.  Vous avez une vid√©o, un ordinateur et une alimentation simple et claire.  Voici la pr√©c√©dente solution Hardware 2.5, qui incluait l'ordinateur, et que nous avons install√©e au cours des deux derni√®res ann√©es.  Voici une nouvelle conception pour un ordinateur FSD.  Ils sont tr√®s similaires.  Ceci, bien s√ªr, est d√ª aux limites du programme de modernisation des voitures.  Je voudrais souligner qu'il s'agit en fait d'un ordinateur plut√¥t petit.  Il est plac√© derri√®re la bo√Æte √† gants et n'occupe pas la moiti√© du coffre. <br><br>  Comme je l'ai dit plus t√¥t, il y a deux ordinateurs compl√®tement ind√©pendants sur la carte.  Ils sont surlign√©s en bleu et vert.  Sur les c√¥t√©s de chaque SoC, vous pouvez voir des puces DRAM.  En bas √† gauche, vous voyez des puces FLASH qui repr√©sentent le syst√®me de fichiers.  Il existe deux ordinateurs ind√©pendants qui d√©marrent et s'ex√©cutent sous leur propre syst√®me d'exploitation. <br><br>  <strong>Ilon:</strong> Le principe g√©n√©ral est que si une pi√®ce tombe en panne, la machine peut continuer √† se d√©placer.  La cam√©ra, le circuit d'alimentation, l'une des puces informatiques Tesla tombe en panne - la machine continue de bouger.  La probabilit√© de panne de cet ordinateur est nettement inf√©rieure √† la probabilit√© que le conducteur perde connaissance.  Il s'agit d'un indicateur cl√©, au moins d'un ordre de grandeur. <br><br>  <strong>Pete:</strong> Oui, donc l'une des choses que nous faisons pour maintenir l'ordinateur en marche est des blocs d'alimentation redondants.  La premi√®re puce fonctionne sur une source d'alimentation et la seconde sur une autre.  Il en va de m√™me pour les cam√©ras, la moiti√© des cam√©ras sur l'alimentation sont marqu√©es en bleu, l'autre moiti√© en vert.  Les deux puces re√ßoivent toute la vid√©o et la traitent ind√©pendamment. <br><br>  Du point de vue de la conduite, la s√©quence consiste √† collecter beaucoup d'informations sur le monde qui vous entoure, nous avons non seulement des cam√©ras, mais aussi des radars, GPS, des cartes, un stabilisateur gyroscopique (IMU), des capteurs √† ultrasons autour de la voiture.  Nous avons un angle de braquage, nous savons √† quoi devrait ressembler l'acc√©l√©ration d'une voiture.  Tout cela se r√©unit pour former un plan.  Lorsque le plan est pr√™t, les deux ordinateurs √©changent leurs versions du plan pour s'assurer qu'elles correspondent. <br><br>  En supposant que le plan est le m√™me, nous √©mettons des signaux de commande et conduisons.  Maintenant que vous vous d√©placez avec les nouveaux contr√¥les, vous voulez certainement le tester.  Nous v√©rifions que les signaux de commande transmis co√Øncident avec ce que nous avions l'intention de transmettre aux actionneurs de la voiture.  Des capteurs sont utilis√©s pour v√©rifier que le contr√¥le a bien lieu.  Si vous demandez √† la voiture d'acc√©l√©rer, de ralentir ou de tourner √† droite ou √† gauche, vous pouvez regarder les acc√©l√©rom√®tres et vous assurer que cela se produit r√©ellement.  Il existe une redondance et une duplication importantes de nos donn√©es et de nos capacit√©s de surveillance des donn√©es. <br><br>  Parlons de la puce.  Il est emball√© dans un BGA de 37,5 mm avec 1600 broches, dont la plupart sont aliment√©es et mises √† la terre.  Si vous retirez le couvercle, vous pouvez voir le substrat et le cristal au centre.  Si vous s√©parez le cristal et le retournez, vous verrez 13 000 bosses C4 dispers√©es √† travers la surface.  Voici les douze couches m√©talliques du circuit int√©gr√©.  Il s'agit d'un processus CMOS FinFET de 14 nanom√®tres mesurant 260 mm¬≤, un petit circuit.  A titre de comparaison, une puce de t√©l√©phone portable classique mesure environ 100 mm2.  Un processeur graphique hautes performances mesurera environ 600 √† 800 mm.kv.  Nous sommes donc au milieu.  Je dirais que c'est le moyen d'or, c'est une taille pratique pour l'assemblage.  Il y a 250 millions d'√©l√©ments logiques et 6 milliards de transistors qui, bien que j'y travaille depuis tout ce temps, m'√©tonnent.  La puce est fabriqu√©e et test√©e conform√©ment √† la norme automobile AEC Q100. <br><br>  Je voudrais juste faire le tour de la puce et expliquer toutes ses parties.  J'irai dans le m√™me ordre que le pixel provenant de la cam√©ra.  Dans le coin sup√©rieur gauche, vous pouvez voir l'interface de la cam√©ra.  Nous pouvons prendre 2,5 milliards de pixels par seconde, ce qui est plus que suffisant pour tous les capteurs disponibles.  Un r√©seau qui distribue les donn√©es d'un syst√®me de m√©moire aux contr√¥leurs de m√©moire sur les bords droit et gauche de la puce.  Nous utilisons le LPDDR4 standard fonctionnant √† une vitesse de 4266 gigabits par seconde.  Cela nous donne un d√©bit maximum de 68 gigaoctets par seconde.  Il s'agit d'une bande passante assez bonne, mais pas excessive, nous essayons de rester au milieu.  Le processeur de traitement d'image dispose d'un pipeline interne de 24 bits, ce qui nous permet d'utiliser pleinement les capteurs HDR qui se trouvent dans la voiture.  Il effectue une cartographie avanc√©e des tons, ce qui permet de mieux mettre en √©vidence les d√©tails et les ombres, et effectue √©galement une r√©duction avanc√©e du bruit, ce qui am√©liore simplement la qualit√© globale des images que nous utilisons dans un r√©seau de neurones. <br><br><img src="https://habrastorage.org/webt/bv/tl/fb/bvtlfbnqm6y9qdogsqgzse9ap_4.png"><br><br>  L'acc√©l√©rateur de r√©seau neuronal lui-m√™me.  Il y en a deux sur la puce.  Chacun d'eux dispose de 32 m√©gaoctets de m√©moire SRAM pour stocker les r√©sultats temporaires.  Cela minimise la quantit√© de donn√©es que nous devons transf√©rer sur la puce et vice versa, ce qui contribue √† r√©duire la consommation d'√©nergie.  Chacun contient un tableau de multiplicateurs 96x96 avec accumulation, ce qui nous permet de faire pr√®s de 10 000 op√©rations MUL / ADD par cycle.  Il existe un acc√©l√©rateur ReLU d√©di√©, un acc√©l√©rateur de pooling.  Chacun d'eux fournit 36 ‚Äã‚Äãbillions d'op√©rations par seconde fonctionnant √† une fr√©quence de 2 GHz.  Deux acc√©l√©rateurs sur une puce donnent 72 000 milliards d'op√©rations par seconde, ce qui est nettement sup√©rieur √† l'objectif de 50 000 milliards. <br><br>  L'encodeur vid√©o, la vid√©o √† partir de laquelle nous utilisons dans la voiture pour de nombreuses t√¢ches, y compris la sortie d'images de la cam√©ra de recul, l'enregistrement vid√©o et √©galement pour l'enregistrement de donn√©es dans le cloud, Stuart et Andrew en parleront plus tard.  Un processeur graphique assez modeste est situ√© sur la puce.  Il prend en charge les nombres √† virgule flottante 32 et 16 bits.  √âgalement 12 processeurs A72 polyvalents 64 bits.  Ils fonctionnent √† une fr√©quence de 2,2 GHz, soit environ 2,5 fois plus que les performances de la solution pr√©c√©dente.  Le syst√®me de s√©curit√© contient deux processeurs qui fonctionnent en mode verrouillage.  Ce syst√®me prend la d√©cision finale de savoir s‚Äôil est s√ªr de transmettre des signaux de commande aux entra√Ænements du v√©hicule.  C'est l√† que les deux avions se rencontrent et nous d√©cidons s'il est s√ªr d'avancer.  Et enfin, un syst√®me de s√©curit√© dont la t√¢che est de s'assurer que seule la puce du logiciel Tesla sign√© cryptographiquement est utilis√©e sur cette puce. <br><br>  Je vous ai parl√© de nombreux indicateurs de performance diff√©rents, et je pense qu'il serait utile d'envisager l'avenir.  Nous consid√©rerons un r√©seau neuronal de notre cam√©ra (√©troite).  Il faut 35 milliards d'op√©rations.  Si nous utilisons les 12 CPU pour traiter ce r√©seau, nous pouvons faire 1,5 images par seconde, c'est tr√®s lent.  Absolument pas assez pour conduire une voiture.  Si nous utilisions des GPU avec 600 GFLOP pour le m√™me r√©seau, nous obtiendrions 17 images par seconde, ce qui n'est pas encore suffisant pour conduire une voiture avec 8 cam√©ras.  Notre acc√©l√©rateur de r√©seau neuronal peut produire 2100 images par seconde.  Vous pouvez voir que la quantit√© de calcul dans le CPU et le GPU est n√©gligeable par rapport √† l'acc√©l√©rateur de r√©seau neuronal. <br><br>  Passons maintenant √† un acc√©l√©rateur de r√©seau neuronal.  Je ne bois que de l'eau.  Sur la gauche, voici un dessin d'un r√©seau de neurones pour vous donner une id√©e de ce qui se passe.  Les donn√©es arrivent en haut et traversent chacun des blocs.  Les donn√©es sont transmises le long des fl√®ches vers diff√©rents blocs, qui sont g√©n√©ralement des convolutions ou des convolutions inverses avec des fonctions d'activation (ReLU).  Les blocs verts combinent des couches.  Il est important que les donn√©es re√ßues par un bloc soient ensuite utilis√©es par le bloc suivant, et que vous n'en ayez plus besoin - vous pouvez les jeter.  Ainsi, toutes ces donn√©es temporaires sont cr√©√©es et d√©truites lors du passage sur le r√©seau.  Il n'est pas n√©cessaire de les stocker en dehors de la puce dans la DRAM.  Par cons√©quent, nous ne les stockons que dans SRAM, et dans quelques minutes, je vais expliquer pourquoi cela est tr√®s important. <br><br><img src="https://habrastorage.org/webt/_u/yq/o0/_uyqo0ngomf_emvueuf3soglms0.png"><br><br>  Si vous regardez du c√¥t√© droit, vous verrez que dans ce r√©seau de 35 milliards d'op√©rations, presque toutes sont des convolutions, essentiellement des produits scalaires, le reste est une d√©convolution (convolutions inverses), √©galement bas√©e sur le produit scalaire, puis ReLU et la mise en commun sont relativement simples op√©rations.  Par cons√©quent, si vous d√©veloppez un acc√©l√©rateur, vous vous concentrez sur la mise en ≈ìuvre de produits scalaires bas√©s sur l'addition avec accumulation et les optimisez.  Mais imaginez que vous acc√©l√©rez cette op√©ration de 10 000 fois et que 100% se transforment en 0,1%.  Du coup, les op√©rations de ReLU et de mise en commun deviennent tr√®s importantes.  Par cons√©quent, notre impl√©mentation comprend des acc√©l√©rateurs d√©di√©s pour le traitement et la mise en commun ReLU. <br><br>  La puce fonctionne avec un budget thermique limit√©.  Nous devions √™tre tr√®s prudents sur la fa√ßon dont nous consommons de l'√©nergie.  Nous voulons maximiser la quantit√© d'arithm√©tique que nous pouvons faire.  Par cons√©quent, nous avons choisi l'ajout d'entiers 32 bits, il consomme 9 fois moins d'√©nergie que l'addition en virgule flottante.  Et nous avons choisi la multiplication enti√®re sur 8 bits, qui consomme √©galement beaucoup moins d'√©nergie que les autres op√©rations de multiplication, et a probablement suffisamment de pr√©cision pour obtenir de bons r√©sultats.  Quant √† la m√©moire.  L'acc√®s √† la DRAM externe est environ cent fois plus cher en termes de consommation d'√©nergie que l'utilisation de la SRAM locale.  Il est clair que nous voulons tirer le meilleur parti de la SRAM locale. <br><br>  Du point de vue de la gestion, voici les donn√©es qui ont √©t√© publi√©es dans un article de Mark Horowitz, o√π il a examin√© de mani√®re critique la quantit√© d'√©nergie n√©cessaire pour ex√©cuter une seule instruction sur un processeur entier normal.  Et vous voyez que l'op√©ration d'addition ne consomme que 0,15% de la puissance totale.  Tout le reste est des frais g√©n√©raux pour la gestion et plus encore.  Par cons√©quent, dans notre conception, nous nous effor√ßons de nous d√©barrasser de tout cela autant que possible.  Ce qui nous int√©resse vraiment, c'est l'arithm√©tique. <br><br><img src="https://habrastorage.org/webt/oj/gm/ae/ojgmaegdd7ztkk58mziq_9tsq-8.png"><br><br>  Voici donc le design que nous avons termin√©.  Vous pouvez voir que la place principale est occup√©e par 32 m√©gaoctets de SRAM, ils sont √† gauche, √† droite, au centre et en bas.  Tous les calculs sont effectu√©s dans la partie centrale sup√©rieure.  Chaque cycle, nous lisons 256 octets de donn√©es d'activation de la matrice SRAM, 128 octets de poids de la matrice SRAM et les combinons dans une matrice 96x96, qui effectue 9000 ajouts avec une accumulation par cycle √† 2 GHz.  Ce n'est que 36,8 billions.  op√©rations.  Maintenant que nous avons termin√© avec le produit scalaire, nous t√©l√©chargeons les donn√©es, les transmettons √† travers la ReLU d√©di√©e, √©ventuellement en tirant, et enfin les mettons dans le tampon d'√©criture, o√π tous les r√©sultats sont agr√©g√©s.  Et puis nous r√©√©crivons 128 octets par horloge dans SRAM.  Et tout cela se produit en continu.  Nous travaillons avec des produits scalaires, pendant que nous d√©chargeons les r√©sultats pr√©c√©dents, effectuons l'extraction et r√©√©crivons les r√©sultats en m√©moire.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous empilez le tout √† 2 GHz, vous aurez besoin de 1 t√©raoctet par seconde de bande passante SRAM pour prendre en charge le fonctionnement. Et le fer fournit cela. Un t√©raoctet par seconde de bande passante par acc√©l√©rateur, deux acc√©l√©rateurs par puce - deux t√©raoctets par seconde. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'acc√©l√©rateur a un ensemble de commandes relativement petit. Il existe une op√©ration de lecture DMA pour charger les donn√©es de la m√©moire, une op√©ration d'√©criture DMA pour t√©l√©charger les r√©sultats en m√©moire. Trois instructions de convolution (convolution, d√©convolution, produit int√©rieur). Deux op√©rations relativement simples sont le d√©calage et le fonctionnement √©l√©ment par √©l√©ment (eltwise). Et bien s√ªr, l'arr√™t de l'op√©ration lorsque les calculs sont termin√©s.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons d√ª d√©velopper un compilateur de r√©seau neuronal. Nous avons pris un r√©seau de neurones form√© par notre √©quipe de d√©veloppement, sous la forme sous laquelle il √©tait utilis√© dans l'ancien mat√©riel. Lorsque vous le compilez pour une utilisation sur un nouvel acc√©l√©rateur, le compilateur effectue la fusion des couches, ce qui nous permet d'augmenter le nombre de calculs pour chaque appel √† SRAM. Il effectue √©galement le lissage des acc√®s m√©moire. Nous effectuons un remplissage de canal pour r√©duire les conflits entre les banques de m√©moire. L'allocation de m√©moire prend √©galement en compte les banques SRAM. C'est le cas lorsque le traitement des conflits peut √™tre impl√©ment√© dans le mat√©riel. Mais avec l'impl√©mentation logicielle, nous √©conomisons sur le mat√©riel en raison d'une certaine complexit√© logicielle. Nous ins√©rons √©galement automatiquement les op√©rations DMA afin que les donn√©es arrivent pour les calculs √† temps, sans arr√™ter le traitement. √Ä la fin, nous g√©n√©rons le code,pond√®re les donn√©es, compresse et ajoute une somme de contr√¥le CRC pour plus de fiabilit√©. Le r√©seau de neurones est charg√© dans SRAM au d√©marrage et est l√† tout le temps.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ainsi, pour d√©marrer le r√©seau, vous sp√©cifiez l'adresse du tampon d'entr√©e, qui contient une nouvelle image qui vient d'arriver de la cam√©ra; d√©finir l'adresse du tampon de sortie; r√©glez le pointeur sur le poids du r√©seau; allons-y. L'acc√©l√©rateur ¬´entre en lui-m√™me¬ª et traversera s√©quentiellement l'ensemble du r√©seau neuronal, g√©n√©ralement pendant un ou deux millions de cycles d'horloge. √Ä la fin, vous recevez une interruption et pouvez post-traiter les r√©sultats.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passons aux r√©sultats. Notre objectif √©tait d'atteindre 100 watts. Les mesures sur les voitures qui conduisent avec une pile compl√®te de pilote automatique ont montr√© que nous dissipons 72 watts. C'est l√©g√®rement plus grand que dans le projet pr√©c√©dent, mais une am√©lioration significative des performances est une bonne excuse. Sur ces 72 watts, environ 15 watts sont consomm√©s dans les r√©seaux de neurones. Le co√ªt de cette solution repr√©sente environ 80% de ce que nous avons pay√© auparavant. En termes de performances, nous avons pris le r√©seau neuronal (√©troit) de la cam√©ra, que j'ai d√©j√† mentionn√©, avec 35 milliards d'op√©rations, nous l'avons lanc√© sur du vieux mat√©riel et re√ßu 110 images par seconde. Nous avons pris les m√™mes donn√©es et le m√™me r√©seau, les avons compil√©es pour le nouvel ordinateur FSD et, en utilisant les quatre acc√©l√©rateurs, nous pouvons traiter 2300 images par seconde. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je pense que c'est peut-√™tre </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diapositive </font><strong><font style="vertical-align: inherit;">la</font></strong><font style="vertical-align: inherit;"> plus importante de </font><strong><font style="vertical-align: inherit;">Pete:</font></strong><font style="vertical-align: inherit;"> je n'ai jamais travaill√© sur un projet o√π l'am√©lioration de la productivit√© √©tait sup√©rieure √† 3. Donc, c'√©tait assez amusant. Par rapport √† la solution nvidia Drive Xavier, la puce fournit 21 billions de dollars. op√©rations, tandis que notre FSDC avec deux puces - 144 billions. op√©rations.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Donc, en conclusion, je pense que nous avons cr√©√© une solution qui offre des performances exceptionnelles de 144 billions. op√©rations de traitement d'un r√©seau neuronal. Il a des caract√©ristiques de puissance exceptionnelles. Nous avons r√©ussi √† int√©grer toute cette productivit√© dans le budget de chaleur que nous avions. Cela vous permet de mettre en ≈ìuvre une solution de duplication. L'ordinateur a un co√ªt mod√©r√©, et ce qui est vraiment important, le FSDC fournira un nouveau niveau de s√©curit√© et d'autonomie dans les voitures Tesla, sans affecter leur co√ªt et leur kilom√©trage. Nous l'attendons tous avec impatience. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous avez des questions sur l'√©quipement, posez-les d√®s maintenant.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La raison pour laquelle j'ai demand√© √† Pete de faire une analyse d√©taill√©e, beaucoup plus d√©taill√©e que la plupart des gens auraient peut-√™tre appr√©ci√© de plonger dans un ordinateur Tesla FSD, est la suivante. √Ä premi√®re vue, il semble incroyable de voir comment Tesla, qui n'avait jamais con√ßu de telles puces auparavant, a cr√©√© la meilleure puce du monde. Mais c'est exactement ce qui s'est pass√©. Et pas seulement le meilleur par une petite marge, mais le meilleur par une √©norme marge. Tous les Tesla fabriqu√©s actuellement ont cet ordinateur. Nous sommes pass√©s de la solution Nvidia pour S et X il y a environ un mois et avons chang√© de mod√®le 3 il y a une dizaine de jours. Toutes les voitures produites ont tout le mat√©riel n√©cessaire et tout le n√©cessaire pour une conduite enti√®rement autonome. Je le r√©p√®te: toutes les voitures Tesla produites maintenant,avoir tout ce dont vous avez besoin pour une conduite enti√®rement autonome. Tout ce que vous avez √† faire est d'am√©liorer le logiciel. Plus tard dans la journ√©e, vous pourrez conduire des voitures avec une version destin√©e aux d√©veloppeurs de logiciels de conduite autonome am√©lior√©s. Vous verrez par vous-m√™me. Des questions.</font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avez-vous la possibilit√© d'utiliser des fonctions d'activation autres que ReLU? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oui, nous avons un sigmo√Øde, par exemple </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cela valait peut </font><strong><font style="vertical-align: inherit;">-</font></strong><font style="vertical-align: inherit;"> √™tre la peine de passer √† un processus de </font><font style="vertical-align: inherit;">fabrication </font><font style="vertical-align: inherit;">plus compact, peut-√™tre 10 nm ou 7 nm? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> au moment o√π nous avons commenc√© √† concevoir, toutes les IP que nous voulions obtenir n'√©taient pas disponibles en </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10 nm </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> il convient de noter que nous avons termin√© cette conception il y a environ un an et demi et commenc√© la g√©n√©ration suivante. Aujourd'hui, nous ne parlons pas de la prochaine g√©n√©ration, mais nous sommes d√©j√† √† mi-chemin. Tout cela est √©vident pour la puce de prochaine g√©n√©ration, nous le faisons. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q: L'</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ordinateur est con√ßu pour fonctionner avec des cam√©ras. Puis-je l'utiliser avec du lidar? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lidar est une d√©cision d√©sastreuse, et toute personne qui d√©pend du lidar est condamn√©e. Doomed. Cher Chers capteurs qui ne sont pas n√©cessaires. C'est comme avoir un tas d'applications inutiles co√ªteuses. Un petit n'est rien, mais un groupe est d√©j√† un cauchemar. C'est stupide, tu verras. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pouvez-vous √©valuer l'impact de la consommation d'√©nergie sur le kilom√©trage? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour le mod√®le 3, la consommation cible est de 250 watts par mile. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©pend de la nature de la conduite. En ville, l'effet sera beaucoup plus important que sur l'autoroute. Vous conduisez en ville pendant une heure et vous avez une solution hypoth√©tique qui consomme 1 kW. Vous perdrez 6 km sur le mod√®le 3. Si la vitesse moyenne est de 25 km / h, vous perdez 25%. La consommation du syst√®me a un impact √©norme sur le kilom√©trage dans une ville o√π nous pensons qu'il y aura une grande partie du march√© de robotax, donc la puissance est extr√™mement importante. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quelle est la fiabilit√© de votre technologie en termes d'IP, n'allez-vous pas donner gratuitement l'IP? </font></font><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous avons d√©pos√© une douzaine de brevets pour cette technologie. Il s'agit essentiellement d'alg√®bre lin√©aire, que je ne pense pas que vous puissiez breveter. (Ilon rit) </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">votre microcircuit peut faire quelque chose, peut-√™tre crypter tous les poids pour que votre propri√©t√© intellectuelle reste √† l'int√©rieur, et personne ne peut simplement le voler. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Oh, j'aimerais rencontrer quelqu'un qui peut le faire. Je l'embaucherais en un instant. C'est un probl√®me tr√®s difficile. M√™me si vous pouvez extraire les donn√©es, vous aurez besoin d'une √©norme quantit√© de ressources pour les utiliser d'une mani√®re ou d'une autre.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le gros avantage durable pour nous est la flotte. Personne n'a de flotte. Les poids sont constamment mis √† jour et am√©lior√©s en fonction des milliards de kilom√®tres parcourus. Tesla poss√®de cent fois plus de voitures avec le mat√©riel n√©cessaire √† la formation que toutes les autres combin√©es. D'ici la fin de ce trimestre, nous aurons 500 000 v√©hicules avec 8 cam√©ras et 12 capteurs √† ultrasons. Dans un an, nous aurons plus d'un million de voitures avec FSDC. C'est juste un √©norme avantage de donn√©es. Cela est similaire √† la fa√ßon dont le moteur de recherche Google a un √©norme avantage, car les gens l'utilisent et les gens forment r√©ellement Google avec leurs requ√™tes. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√¥te:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une chose √† retenir √† propos de notre FSD est qu'il peut fonctionner avec des r√©seaux de neurones beaucoup plus complexes pour une reconnaissance d'image beaucoup plus pr√©cise. Il est temps de parler de la fa√ßon dont nous obtenons r√©ellement ces images et de la fa√ßon dont nous les analysons. Ici, nous avons un directeur principal de l'IA - Andrey Karpaty, qui vous expliquera tout cela. Andrei est titulaire d'un doctorat de l'Universit√© de Stanford, o√π il a √©tudi√© l'informatique en mettant l'accent sur la reconnaissance et l'apprentissage profond. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Andrey, pourquoi ne commencez-vous pas, allez. Beaucoup de m√©decins sont sortis de Stanford, peu importe. Andrey enseigne un cours de vision par ordinateur √† Stanford, ce qui est beaucoup plus important. Veuillez parler de vous.</font></font><br><br><hr><br> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(La traduction ne s'est pas av√©r√©e assez rapide, je ne sais pas si j'en ai assez pour la deuxi√®me partie sur le syst√®me d'entra√Ænement du r√©seau neuronal, bien que cela me semble le plus int√©ressant.)</font></font></em> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr450500/">https://habr.com/ru/post/fr450500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr450488/index.html">Chock Norris Facts Android App sur Kotlin</a></li>
<li><a href="../fr450490/index.html">Accord de 6,9 ‚Äã‚Äãmilliards de dollars: pourquoi un d√©veloppeur de GPU ach√®te-t-il un fabricant d'√©quipement r√©seau</a></li>
<li><a href="../fr450492/index.html">Travail social et design ouvert. Pr√©sentation</a></li>
<li><a href="../fr450494/index.html">Comment la traduction du terme trunk d√©pend-elle du fournisseur du commutateur?</a></li>
<li><a href="../fr450498/index.html">Comment presser le temps?</a></li>
<li><a href="../fr450504/index.html">Comment cr√©er une application √† partir du site et la mettre sur Google Play en quelques heures. Partie 1/2: Application Web progressive</a></li>
<li><a href="../fr450506/index.html">Comment cr√©er une application √† partir du site et la mettre sur Google Play en quelques heures. Partie 2/2: Activit√© Web de confiance</a></li>
<li><a href="../fr450508/index.html">Joe Armstrong √† propos d'Elixir, Erlang, FP et OOP</a></li>
<li><a href="../fr450510/index.html">Cinq probl√®mes dans les processus d'exploitation et de support des syst√®mes informatiques Highload</a></li>
<li><a href="../fr450514/index.html">CVT vs √©tat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>