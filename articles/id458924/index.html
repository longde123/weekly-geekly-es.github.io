<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ´ ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸ‘¨ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ» Kecelakaan membantu Anda belajar ğŸ›Œ ğŸ½ ğŸ™ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selama 3 tahun terakhir, lebih dari seribu insiden berbagai tingkat epik terjadi di Contour. Alasannya berbeda: misalnya, 36% disebabkan oleh rilis be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kecelakaan membantu Anda belajar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/458924/">  Selama 3 tahun terakhir, lebih dari seribu insiden berbagai tingkat epik terjadi di Contour.  Alasannya berbeda: misalnya, 36% disebabkan oleh rilis berkualitas buruk, dan 14% - karena pemeliharaan besi di pusat data.  Dari mana statistik berasal?  Setelah setiap kejadian, sebuah laporan ditulis - post mortem.  Mereka ditulis oleh insinyur tugas yang menanggapi pemberitahuan kecelakaan dan merupakan orang pertama yang memahami penyebabnya.  Post-mortem dianalisis, diidentifikasi dan dihilangkan penyebab insiden, sehingga di masa depan insiden tersebut tidak terjadi.  Tapi itu tidak selalu terjadi. <br><br>  <strong>Alexey Kirpichnikov</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">BeeVee</a> ) telah pemrograman di Yandex sejak 2008.  Kemacetan lalu lintas, bekerja pada proyek-proyek khusus olahraga, adalah pemimpin tim dari backend Yandex.Taxi.  Sejak 2014, ia telah terlibat dalam DevOps dan infrastruktur di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kontur</a> - ia telah mengembangkan alat yang membuat hidup lebih mudah bagi pengembang dari tim produk.  Gagasan untuk menulis dan menganalisis topik post-mortem muncul lima tahun yang lalu, dan selama ini topik post-mortem ditumbuhi templat, glosarium, memo, screenshot, dan analitik.  Tapi ini bukan yang paling sulit - <strong>lebih sulit untuk mengatasi inersia, ketakutan dan kesalahpahaman tentang makna laporan insiden di antara para insinyur</strong> .  Apa yang akhirnya terjadi dan apa manfaat yang tidak dapat diperbaiki dari "analisis sofa" dapat dilakukan dalam menguraikan laporan Alexey. <br><br><img src="https://habrastorage.org/webt/ur/pv/rw/urpvrwxzfruc7xv3b7vzpmn-eqc.jpeg"><br>  <i>Harap dicatat - di bawah kaki meja panjang yang berbeda ada buku "Metrik", "Tes" dan "Menyebarkan".</i> <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tuSZq4rW8TQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Di Kontur, setelah merekrut, mereka memberikan satu set suvenir: pena, cangkir, buku catatan.  Saya datang ke SKB Kontur ke tim infrastruktur baru 5 tahun yang lalu, ketika perusahaan berusia 25 tahun. <br><br><img src="https://habrastorage.org/webt/5l/-o/ov/5l-oovwyznszo5q4di-2zjn4cp0.jpeg"><br><br>  Kontur masa itu, dan sekarang juga, adalah perusahaan produk di mana beberapa lusin produk mengembangkan jumlah tim yang sama, tidak tergantung satu sama lain dalam hal pemilihan teknologi dan peralatan. <br><br>  Pada saat itu, saya pertama kali membaca â€œProject '' Phoenix ''â€ dan terinspirasi oleh ide-ide baru yang dikembangkan oleh DevOps-practices.  Saya mulai menuliskan ide-ide saya untuk perbaikan di buku catatan, dan sekarang ini adalah artefak dengan noda kopi dan catatan sejarah. <br><br><ul><li>  " <strong>Pemantauan!</strong>  Mari kita letakkan Grafana, kumpulkan metrik, dan buat grafik.  Kami akan lebih memahami apa yang terjadi dalam produksi. "  Untuk 2014, ini adalah ide baru yang cukup segar dan praktik DevOps yang solid. â€ </li><li>  " <strong>Menabrak otomatis!"</strong>  Berapa banyak file zip yang dapat diunggah ke folder bersama, unzip di server dan jalankan exe di penjadwal tugas di Windows?  "Mari kita perkenalkan sistem penyebaran industri dan rilis rilis melalui itu, CI!" </li><li>  â€œ <strong>Post-mortem</strong> !  Jika ada semacam kecelakaan dalam produksi, mari kita semua mencari tahu apa itu, menemukan alasannya, menulis laporan, dan mengubah pengembangan, pengujian, proses CI kami sehingga tidak ada insiden seperti itu di masa depan â€ </li></ul><br>  Selama 5 tahun kami telah melangkah maju di semua bidang ini.  Kami memiliki sistem peringatan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Moira</a> kami sendiri, sistem orkestrasi aplikasi dan banyak alat.  Tetapi dari semua hal di atas, <strong>menulis laporan insiden ternyata merupakan praktik rekayasa yang paling sulit untuk diterapkan</strong> .  Insinyur menyukai semua jenis alat - kencangkan semacam sistem hosting atau CI, skrip sesuatu, otomatisasi, dan mereka tidak suka menulis laporan, meskipun praktik ini sangat bermanfaat. <br><br>  Saya akan memberi tahu Anda bagaimana kami menerapkan sistem post-mortem dan manfaat apa yang kami dapatkan.  Mungkin menyapu kami akan membantu untuk pergi dengan cara ini lebih cepat dan mengisi lebih sedikit kerucut.  Sebelum mulai berbicara tentang bedah mayat, kita akan memahami definisi tersebut. <br><br><h2>  Apa itu insiden? </h2><br>  Yang mana dari insiden ini? <br><br><ul><li>  Contoh No. 1.  Pada platform blog dengan sejuta pengguna, sebagai akibat dari beberapa jenis kesalahan, semua entri dari satu pengguna hilang. </li><li>  Contoh No. 2.  Layanan untuk karyawan kantor berfungsi pada hari kerja dari 9 hingga 6, dan di saat lain tidak ada pengguna di dalamnya.  Layanan tidak tersedia pada malam Sabtu hingga Minggu selama dua jam berturut-turut, tidak ada yang memperhatikan. </li><li>  Contoh No. 3.  Grafana dengan metrik produksi turun 15 menit.  Dalam produksi, tidak ada yang rusak, tetapi grafiknya tidak tersedia. </li></ul><br>  Untuk memahami apa dari kepalsuan ini, kita beralih ke pengalaman para guru - Google, Atlassian, PagerDuty.  Gurus tahu cara menyiapkan shift, insinyur yang bertugas, dan bagaimana menulis laporan untuk memahaminya.  Panduan online mereka memiliki definisi insiden. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Definisi</a> dari PagerDuty. <br><blockquote>  Suatu insiden adalah gangguan layanan yang tidak direncanakan atau degradasi layanan yang mempengaruhi ketersediaan layanan kepada pengguna.  Insiden serius adalah insiden apa pun yang membutuhkan respons terkoordinasi dari beberapa tim. </blockquote><br>  Kedengarannya logis, tetapi definisinya tidak jelas.  Dalam praktiknya, sedikit membantu untuk memahami apa yang merupakan insiden dan apa yang tidak. <br><br>  Buku <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rekayasa Keandalan Situs</a> Google memiliki kriteria yang jelas: <br><br><ul><li>  Pengguna memperhatikan penurunan layanan. </li><li>  Semua data hilang. </li><li>  Butuh intervensi dari insinyur tugas, misalnya, untuk memutar kembali rilis secara manual. </li><li>  Memecahkan masalah butuh waktu terlalu lama.  Jika masalah diselesaikan dalam 2 jam, dan kemudian satu minggu dihabiskan untuk itu - ini adalah insiden yang membutuhkan penyelidikan. </li><li>  Pemantauan tidak berhasil.  Misalnya, Anda belajar tentang masalah dari pengguna. </li></ul><br>  Contour tidak memiliki definisi yang diterbitkan tentang fakap, tetapi kami telah merumuskan kriteria kami sendiri untuk menentukan apa yang merupakan insiden. <br><br>  <strong>Pengguna eksternal atau internal telah memperhatikan penurunan layanan</strong> .  Contoh No. 3 dengan Grafana, yang terbentang, adalah insiden yang jelas.  Produksi tidak putus dan pengguna eksternal tidak memperhatikan ini, tetapi meskipun demikian, bagi Contour itu adalah fakap, karena alat internal tidak berfungsi. <br><br>  <strong>Keberuntungan</strong>  Dalam contoh No. 2, layanan untuk pekerja kantor berbaring selama 2 jam pada malam hari - untungnya jatuh pada malam hari.  Waktu berikutnya, itu mungkin sial, dan karena itu kejadian malam juga memerlukan pengadilan, seolah-olah itu terjadi pada siang hari. <br><br>  <strong>Insiden itu menyangkut beberapa tim</strong> .  Kami mengambil definisi ini dari PagerDuty.  Mengurai insiden adalah alasan bagus bagi beberapa tim untuk bekerja bersama.  Budaya â€œDi pihak kami, peluru itu terbang keluar, tetapi ada sesuatu yang pecah untuk Anda - itu kesalahan Andaâ€ dihilangkan dengan analisis bersama. <br><br>  <strong>Setidaknya satu insinyur menganggap ini sebagai insiden</strong> .  Definisi yang paling kabur, tetapi juga yang paling penting.  Aturan sederhana: jika insinyur percaya bahwa itu layak untuk dilaporkan, maka itu layak untuk dilaporkan.  Jika itu membuat Anda takut bahwa para insinyur akan mulai menulis laporan untuk siapa saja dan menyebut hal kecil sebagai kecelakaan, ini tidak benar.  <strong>Insinyur adalah orang-orang yang masuk akal, percayai mereka.</strong> <br><br>  Dengan definisi dan berbagai jenis kerusakan beres.  Mari beralih ke cara memanfaatkan insiden. <br><br><h2>  Apa gunanya fakap? </h2><br>  Instruksi sederhana yang akan saya berikan lebih lanjut, bisa Anda terapkan sendiri, bahkan tanpa melalui artikel sampai akhir.  Tapi tetap baca sampai akhir. <br><br><h3>  Instruksi klasik </h3><br>  Temukan pelakunya terlebih dahulu.  Kemudian lakukan pekerjaan "pendidikan" dengan para insinyur. <br><br><ul><li>  Minta lebih berhati-hati lain kali. </li><li>  Jika tidak membantu, kirim ke kursus pelatihan ulang.  Mungkin mereka akan belajar untuk lebih berhati-hati di sana. </li><li>  Jika ini tidak membantu, singkirkan pelaku dari bekerja dengan bagian-bagian penting dari sistem.  Berhenti membiarkan pengembang berproduksi jika mereka mengacaukannya. </li><li>  Jika tidak ada yang membantu, tembak yang buruk dan pekerjakan yang kompeten. </li></ul><br><blockquote>  Jika instruksinya mengganggu Anda, ini adalah kabar baik. </blockquote><br>  Pendekatan ini dianggap tradisional untuk perusahaan klasik yang berorientasi vertikal dengan bos yang memarahi semua orang dan dapat memecatnya.  Salah satu dasar gerakan DevOps dan ideologi DevOps adalah keberangkatan dari organisasi yang terintegrasi secara vertikal ke organisasi horizontal, dengan kepercayaan yang lebih besar pada karyawan. <br><br>  Saya akan menggambarkan pergeseran paradigma ini dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">instruksi dari</a> John Alspaw, salah satu pemimpin gerakan DevOps, yang sebelumnya bekerja untuk CTO di Etsy.  Instruksi ini diambil dari artikel kanonik 2013-nya, Blameless Post Mortem dan Budaya Adil. <br><br>  Tanyakan kepada para insinyur: <br><br><ul><li>  peristiwa apa yang mereka amati; </li><li>  kapan dan tindakan apa yang diambil; </li><li>  hasil apa yang diharapkan dari tindakan ini; </li><li>  apa asumsi yang berasal; </li><li>  sebagaimana dipahami oleh urutan kejadian yang terjadi. </li></ul><br><blockquote>  Para insinyur perlu ditanyai tanpa ancaman hukuman. </blockquote><br>  Ini adalah hal utama dalam rekomendasi John. <br><br>  Ancaman hukuman: pelatihan ulang, penghapusan produksi atau pemecatan, memotivasi orang untuk berbohong.  Dan kebenaran itu penting bagi kita.  Laporan insiden - ini adalah tautan umpan balik yang sangat hilang dalam proses pengembangan dan penempatan fitur dalam produksi. <br><br>  Dalam paradigma lama, para pengembang berkembang, melemparkan kerajinan itu ke pagar para insinyur operasi, dan mereka entah bagaimana mencoba membuatnya bekerja.  Mereka terganggu oleh pembaruan apa pun, karena dapat merusak segalanya, dan para insinyur memulai semuanya dengan kesulitan seperti itu. <br><br><img src="https://habrastorage.org/webt/vu/l6/lo/vul6locumgejop93bd_wec32vgu.jpeg"><br><br><blockquote>  Proses umpan balik membantu mengubah proses, infrastruktur, alat dan pendekatan pengembangan sehingga ada lebih sedikit crash dalam produksi. </blockquote><br>  Ini akan meyakinkan para pemimpin tim dan manajer pengembangan tentang manfaat post-mortem.  Tetapi yang menarik adalah sulit untuk membuat insinyur melakukan apa yang mereka pikir tidak ada gunanya dan tidak berguna.  Kami memiliki budaya rekayasa di perusahaan kami, dan saya tidak bisa datang begitu saja, melambaikan keputusan CEO dan menuntut agar semua orang menulis post-mortem.  Saya perlu meyakinkan para insinyur ini. <br><br><img src="https://habrastorage.org/webt/r_/bx/z6/r_bxz6wh5wxshbqejunizuaspxk.jpeg"><br><br>  Bagaimana cara "menjual" gagasan insinyur post-mortem ke insinyur?  Untuk menyiasati keberatan, untuk menunjukkan mengapa post-mortem itu keren, untuk menunjukkan manfaat dari laporan, bahwa ini bukan hanya berhenti berlangganan, jika hanya bos di belakang. <br><br><h2>  Keberatan No. 1: Sekali </h2><br>  Ini adalah masalah pertama insinyur yang membongkar fakap - perang akan berakhir, maka kita akan bicara!  Ketika fakap terjadi, saya ingin memperbaikinya dengan cepat, tetapi saya tidak ingin menulis laporan yang panjang dan membosankan. <br><br>  Untuk mengatasi masalah, ada hack kehidupan, bagaimana menulis sesuatu dengan benar saat kecelakaan.  Ia dipopulerkan oleh Artemy Lebedev: <br><blockquote>  â€œAda cara sederhana mengatur waktu - metodeâ€œ jip progresif â€.  Setiap saat, proyek apa pun sudah 100% siap, meskipun mungkin 4% lebih maju.  Tergantung pada waktu yang tersedia, proyek dapat dikerjakan hingga satu piksel, atau dapat dibiarkan pada tahap sketsa konseptual. " </blockquote><br>  Saya akan mengilustrasikan metode jeepeg progresif menggunakan gambar.  Di Internet yang lambat, gambar tidak langsung diunduh, tetapi secara bertahap. <br><br><img src="https://habrastorage.org/webt/ug/af/nu/ugafnukcgr0qse0ffzyd1_og898.jpeg"><br><br>  Selama kebakaran, Anda tidak perlu menulis laporan yang keren dan panjang.  Cukup bagi Anda di sudut kiri atas.  Cukup menandai hal-hal yang sulit dipulihkan dari ingatan.  Jangan mencoba menulis teks sastra yang koheren pada saat semuanya rusak saat diproduksi. <br><br><blockquote>  Lakukan tindakan sederhana - tuliskan kronologi peristiwa. </blockquote><br><h3>  Garis waktu </h3><br>  Timeline kemudian sangat sulit untuk dipulihkan, jika tidak segera direkam.  Contoh rekaman dari mayat nyata di sirkuit. <br><br><pre><code class="plaintext hljs">15.01.18 17:25 YEKT    PrefixSearch  50   . ,     .</code> </pre> <br>  Ini adalah pengamatan singkat dan sederhana.  Menurut kronologi ini, nanti mudah untuk mengembalikan urutan kejadian dan menemukan penyebab gangguan.  Tetapi jika Anda tidak merekam apa pun secara langsung selama kebakaran, akan sulit atau tidak mungkin untuk mengembalikan acara nanti. <br><br><h3>  Tangkapan layar </h3><br>  Suatu hal yang praktis, terutama ketika bekerja dengan situs web atau aplikasi desktop.  Situasi ini terkadang sulit dijelaskan dengan kata-kata, dan tangkapan layar hanya satu klik tombol pintas. <br><br><img src="https://habrastorage.org/webt/a5/vw/ek/a5vwektoqktqkzwwatkfkirlbdk.jpeg"><br><br>  Keberatan pertama berhasil.  Merekam informasi minimal, laporan kecil selama insiden tidak sulit dan tidak memakan waktu yang berharga.  Ketika semuanya selesai, itu harus diselesaikan dan dieksekusi dalam dokumen yang dimengerti dan koheren. <br><br><h2>  Keberatan No. 2: Kemalasan </h2><br>  Anda tidak tidur selama dua hari dan memperbaiki kecelakaan serius, secara fatal tertinggal dalam semua tugas yang akan Anda selesaikan minggu ini.  Tapi ternyata ada hal lain yang perlu dilakukan, tetapi apinya sudah padam!  Pada saat ini, kemalasan yang tak terbayangkan menyusul. <br><br>  Untuk benar-benar mengalahkan masalah tidak akan berhasil.  Tetapi Anda dapat memfasilitasi pekerjaan Anda terlebih dahulu. <br><br><h3>  Pola </h3><br>  Ini yang pertama dan terpenting.  Ada ketakutan besar terhadap dokumen kosong yang perlu diisi dengan teks yang bermakna.  Jauh lebih mudah jika templat disiapkan.  Biasanya itu terdiri dari bagian dan pertanyaan di dalamnya.  Kami memasukkan jawaban untuk pertanyaan di setiap bagian, dan templat diisi. <br><br>  Templat laporan insiden besar.  Baca tentang mereka secara detail dengan guru.  Semua dokumen dan buku yang saya rujuk berisi pola kejadian yang digunakan oleh perusahaan.  Dalam pengalaman kami, saya bisa menambahkan yang berikut ini. <br><br><h3>  Buat memo dengan contoh </h3><br>  Templat kami memiliki bagian "Kerusakan" dengan subbagian. <br><br>  <strong>Bagian "Penilaian kualitatif".</strong>  Itu menggambarkan apa yang dilihat insinyur di depannya ketika dia mengisi bagian templat ini: <br><br><ul><li>  fungsionalitas apa yang tidak berfungsi, berapa lama dan untuk siapa; </li><li>  apakah ada kehilangan atau kerusakan data. </li></ul><br>  Setelah mencapai tempat ini di templat, insinyur menulis: "Ada sejuta pengguna di platform blog kami, kami kehilangan semua entri dari salah satu dari mereka."  Ini jauh lebih mudah daripada menulis esai dari awal, seperti dalam pelajaran sastra. <br><br>  <strong>Bagian "Kuantifikasi":</strong> <br><br><ul><li>  berapa banyak permintaan yang hilang; </li><li>  berapa banyak latensi yang tumbuh dalam metrik aplikasi dan aplikasi klien; </li><li>  berapa banyak panggilan yang hilang; </li><li>  Ukuran antrian untuk dukungan teknis pengguna untuk masalah tersebut. </li></ul><br>  Seperangkat pertanyaan seperti itu adalah polanya. <br><br>  Contoh dari salah satu template yang sudah selesai. <br><br><img src="https://habrastorage.org/webt/kv/4o/yq/kv4oyqs_2ukhu-o1hdrxgtc01s8.jpeg"><br><br><h3>  Tambahkan glosarium </h3><br>  Peretasan lain untuk laporan kecelakaan, yang tidak saya lihat di buku bersama guru.  Saat menulis laporan, nyaman untuk menggunakan istilah yang Anda ketahui dengan baik.  Misalnya, jika saya bekerja dengan Graphite, di mana metrik disimpan, saya tahu apa itu "relay".  Tetapi insinyur yang akan membaca laporan dalam setahun mungkin tidak akrab dengan istilah tersebut.  Sepertinya dia tidak akan bisa membaca laporan, yang terdiri dari kata-kata yang tidak dikenalnya.  Di sisi lain, jika setiap istilah dan definisi terus-menerus dikunyah di dalam laporan, kemalasan akan membuatnya takut dan laporan tidak akan selesai. <br><br><blockquote>  Tulis glosarium kecil yang menjelaskan semua istilah yang digunakan dalam laporan. </blockquote><br><img src="https://habrastorage.org/webt/it/fm/6z/itfm6zuhzxdahe90n6fqvaifhz0.jpeg"><br><br><h3>  Salin semua artefak </h3><br>  Jika Anda melampirkan artefak ke laporan: snapshot di Grafana, riwayat pesan dalam obrolan, di mana insiden dianalisis dengan insinyur lain, buat salinannya.  Metrik memiliki kemampuan untuk "berputar", dan obrolan berubah.  Setahun yang lalu Anda berada di Slack, sekarang di Telegram - tautan obrolan sudah usang dan tidak berfungsi, dan metrik retensi akan jatuh - disimpan selama setahun. <br><br><blockquote>  Salin artefak - peretasan kehidupan ini memudahkan untuk mengisi laporan. </blockquote><br><h2>  Keberatan No 3: Tidak Ada Yang Akan Membaca </h2><br>  Pertanyaan terbesar dan tidak dapat dipahami yang diajukan oleh para insinyur adalah: "Siapa yang akan membaca laporan ini?"  Misalkan saya mengatasi kemalasan dan menulis kronologi peristiwa selama kecelakaan itu.  Kemudian dia mengumpulkan kekuatannya dan menambahkan laporan beberapa halaman tentang apa yang terjadi dan penyebab kecelakaan itu.  Tetapi jika tidak ada pemahaman tentang siapa yang akan membaca semua ini dan siapa yang akan mendapat manfaat, maka tidak ada keinginan untuk mengisi laporan. <br><br><blockquote>  Post-mortem adalah umpan balik dalam proses peningkatan berkelanjutan dari proses pembangunan. </blockquote><br>  Dalam buku guru mana pun, misalnya, dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Buku Pegangan Insiden Atlassian</a> , tertulis bahwa sesuai dengan hasil setiap post-mortem, diperlukan: <br><br><ul><li>  merumuskan tugas-tugas dalam pengembangan; </li><li>  buat tugas di bugtracker dari mana pengembang Anda akan mengambilnya; </li><li>  letakkan tautan dari post-mortem ke tugas-tugas ini. </li></ul><br>  <strong>Umpan balik ditutup</strong> : di sini adalah post-mortem, di sini di dalamnya <strong>item tindakan</strong> - tugas yang perlu diselesaikan agar kecelakaan tidak terjadi lagi.  Tugas jatuh ke dalam tumpukan tim, tim mengembangkannya, meluncurkan - lagi fakap dan post-mortem.  Roda samsara telah ditutup. <br><br>  Inilah yang semua guru gabungkan.  Tidak ada yang perlu diperdebatkan - manfaatnya jelas. <br><br>  Contoh tugas item tugas dari post-mortem nyata. <br><br><img src="https://habrastorage.org/webt/bi/rh/-u/birh-ug-du80xmxqt3eqvdrdst8.jpeg"><br><br>  Tapi kami di Kontur menambahkan analis untuk ini. <br><br><h2>  Analisis sofa </h2><br>  Kami biasa menganalisis kejadian itu secara terpisah.  Kegagalan terjadi sendiri dalam satu tim, dalam satu sistem hosting - ada yang rusak, kami memperbaikinya. <br><br>  Tetapi ada banyak insiden.  Selama tiga tahun terakhir, lebih dari 1.000 laporan insiden telah terakumulasi di sirkuit.  Saya ingin tahu apakah mungkin mendapatkan manfaat dari seluruh kumpulan laporan yang terakumulasi, dan tidak hanya dari masing-masing individu.  Apakah mungkin atas dasar mereka untuk menghitung statistik sistem dan melihat apa yang harus diperbaiki dalam sistem secara keseluruhan. <br><br>  Tim infrastruktur khusus bekerja di Kontur, yang bergerak dalam analisis post-mortem dan menerbitkan hasil dan kesimpulan berdasarkan seluruh massa laporan yang dikumpulkan.  Kami menyebutnya "analitik sofa."  Saya akan memberikan fragmen dari salah satu artikel tim, yang dipublikasikan di jaringan internal kami untuk karyawan. <br><br>  Apa yang kami analisis dalam analisis sofa? <br><br><h3>  Durasi Fakap </h3><br><br><img src="https://habrastorage.org/webt/2b/yq/wz/2byqwzifhia0nzxypk0eqmqrdh8.jpeg"><br><br>  <em>Dalam diagram, selain kolom terakhir, di mana waktu tidak diketahui, ada dua puncak yang lebih jelas.</em> <br><br>  <strong>Durasi urutan satu jam</strong> - oranye dan bar merah.  Sebagian besar waktu ini dihabiskan untuk mentransmisikan informasi tentang apa yang terjadi, mulai dari insinyur yang memperhatikan kecelakaan hingga insinyur yang tahu cara memperbaikinya.  <strong>Masalahnya adalah komunikasi</strong> . <br><br>  Jika kami memperbaiki alat kami sehingga insinyur yang memperbaiki masalah menerima informasi lebih cepat, maka durasi fakap dan kerusakan dari mereka akan sangat berkurang.  Ini adalah sesuatu yang tidak akan kita kenali dengan melihat setiap fakap secara individual. <br><br>  <strong>Durasi sekitar 12 jam</strong> - kolom kuning.  Penjelasan untuk fakta bahwa ada banyak fakap yang bertahan lebih dari 12 jam adalah sederhana: mereka meluncurkan rilis di malam hari, dan di pagi hari pengguna datang dan semuanya rusak.  Kesimpulan dari apa yang harus dilakukan untuk mengurangi jumlah fakaps tersebut jelas. <br><br><h3>  Kerusakan kualitas </h3><br><img src="https://habrastorage.org/webt/js/l0/i9/jsl0i9hoqlos7n2uloqh0nnki_y.jpeg"><br><br>  Kerusakan kualitatif dibagi menjadi beberapa kategori.  3 teratas termasuk: <br><br><ul><li>  tidak dapat diaksesnya, kesalahan; </li><li>  rem, peningkatan latensi; </li><li>  terlihat perilaku yang salah. </li></ul><br>  Menurut analitik, sebagian besar kesalahan tersebut.  Di satu sisi, ini adalah kabar baik.  Tiga jenis kesalahan yang paling umum mudah dideteksi - kami menyesuaikan metrik dengan latensi dan jumlah kesalahan, dan dengan cepat memperhatikan hal-hal seperti itu. <br><br>  Berita buruknya adalah bahwa ada sebagian besar kesalahan ini.  Ini adalah kesalahan teknis yang sederhana, yang berarti bahwa kita dapat meningkatkan sesuatu dalam pengujian pipa, melakukan lebih banyak uji tekanan dan meningkatkan sistem pemantauan. <br><br><h3>  Pemicu </h3><br>  Inilah yang secara langsung menyebabkan kerusakan, yaitu, bukan akar penyebab kecelakaan, tetapi "sedotan terakhir": log memenuhi disk dan karena ini, semuanya pecah, dilepaskan - semuanya meledak. <br><br><img src="https://habrastorage.org/webt/vi/u5/iy/viu5iyoxhj_ykvpg9itnr-7qy0u.jpeg"><br><br>  Di tempat pertama adalah "pembaruan instalasi".  Alasan ini memungkinkan kami untuk memahami di mana kami, sebagai tim infrastruktur, harus berinvestasi.  Misalnya, untuk meningkatkan sistem penyebaran dan memperkenalkan penyebaran kenari.  Ini adalah titik aktivitas yang akan memiliki dampak terbesar pada kualitas sistem kami. <br><br><blockquote>  Ini adalah poin dari semua analitik - untuk memahami di mana tim infrastruktur kecil harus berinvestasi saat ini dalam kondisi sumber daya yang terbatas. </blockquote><br>  Apa yang harus ditingkatkan - lansiran atau penerapan?  Apa yang harus dilakukan - hosting atau keindahan grafik? <br><br>  Berikut ini adalah wawasan bagus lainnya.  Di tempat kedua adalah "penyebabnya tidak diketahui."  Ini merupakan indikator pelaporan laporan insiden yang buruk. <br><br><h3>  Kemungkinan "pil" </h3><br>  Itu memungkinkan solusi teknis sederhana untuk mengurangi jumlah kecelakaan dari jenis tertentu.  Misalnya, kita tahu bahwa hal terpenting yang mengurangi jumlah fakap adalah pemberitahuan dari sistem pemantauan.  Jika ada lebih banyak peringatan dalam memantau peristiwa ini, berapa banyak insiden yang bisa kita cegah?  Persentase menunjukkan berapa banyak: <br><br><ul><li>  pada jumlah kesalahan HTTP dari klien - 10%; </li><li>  pada tampilan jenis kesalahan baru dalam log: instalasi, pengaturan notifikasi - 8%; </li><li>  pada sumber daya sistem: CPU, memori, disk, utas, GC - 6%. </li></ul><br>  Jika peringatan itu dikonfigurasi dengan benar, dan insinyur yang diinginkan menerima pemberitahuan tepat waktu, 24% dari insiden tidak akan terjadi atau akan memiliki durasi yang jauh lebih pendek.  Kesimpulan ini dapat dibuat atas dasar analisis seluruh massa insiden. <br><br>  Di sini saya sekali lagi akan mengiklankan sistem peringatan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Moira</a> kami, yang terletak di Open Source. <br><br><img src="https://habrastorage.org/webt/fz/yu/tb/fzyutbmpcgj2xnarmqhxwnqbrjk.jpeg"><br><br>  Jika Anda memiliki Graphite, Anda dapat mengunduh dan menggunakannya.  Saya berharap akan ada lebih sedikit insiden. <br><br><h3>  Rekomendasi </h3><br>  Rekomendasi organisasi yang dapat diikuti oleh tim, dan juga mengurangi jumlah kecelakaan.  3 teratas kami. <br><br><ul><li>  <strong>Kesamaan situs tes dan pertempuran</strong> .  5% insiden terjadi karena fakta bahwa lokasi uji tidak cukup mirip dengan lokasi pertempuran. </li><li>  <strong>Kompatibilitas mundur dalam rilis</strong> .  Rilis ini kempes, tidak kompatibel dengan yang sebelumnya, migrasi data muncul - 4% kesalahan. </li><li>  <strong>Penolakan rilis malam hari</strong> .  Jika Anda berhenti menyebarkan rilis yang rusak, pada malam hari, 4% insiden lainnya akan hilang. </li></ul><br>  Saya menekankan bahwa ini bukan instruksi, tetapi cerita tentang bagaimana kami mengumpulkan analitik.  Analitik Anda mungkin berbeda. <br><br><h2>  Bagaimana cara menulis </h2><br>  Jika Anda menyadari bahwa analitik kejadian adalah hal yang keren dan Anda perlu menulis laporan, saya akan memberi tahu Anda cara melakukannya. <br><br><h3>  Posting post-mortem dan tugas dalam satu pelacak bug </h3><br>  Di bugtracker, tidak seperti Google Docs atau Wiki, ada bidang yang tetap di mana Anda dapat mengatur serangkaian nilai.  Ini memfasilitasi analisis statistik grafik nanti. <br><br>  Di buku SRE, Google menyediakan templat di Google Documents tempat mereka menulis laporan dalam dokumen internal mereka.  Saya tidak bisa membayangkan bagaimana kami dapat mengumpulkan analitik yang kami kumpulkan dari dokumen Google yang tidak terstruktur. <br><br>  Kami menulis laporan dalam pelacak bug yang sama dengan tugas utama, karena kami dapat menghubungkan tugas dengan post-mortem.  Mari kita melihat post-mortem dan segera melihat tugas-tugas yang ditutup, mana yang tidak, dan yang harus dilakukan. <br><br><h3>  Buat bidang khusus </h3><br>  Saya sudah bicara tentang bidang khusus.  Kami memiliki yang berikut ini. <br><br><ul><li>  Awal dan akhir fakap dapat dianalisis secara otomatis.  Jika Anda menempatkan prangko waktu yang dapat dibaca mesin, Anda dapat merencanakan durasi fakap tersebut. </li><li>  Awal dan akhir investigasi. </li><li>  Pemicu  Siapkan daftar pemicu drop-down, lebih nyaman. </li><li>  Seperti dicatat. </li><li>  Kerusakan kuantitatif dan kualitatif. </li><li>  Tim dan layanan yang terpengaruh. </li></ul><br>  Semua data dari bidang khusus memungkinkan Anda memahami cara kerja infrastruktur Anda. <br><br>  Contoh laporan insiden lengkap kami. <br><br><img src="https://habrastorage.org/webt/2r/dk/c3/2rdkc3flemuokdisdblhr6ls0cg.jpeg"><br><br>  Bidang kolom kanan hanya diisi melalui pemilihan dari daftar drop-down. <br><br><h3>  Kumpulkan tim insinyur yang peduli dengan kualitas </h3><br>  Untuk mendapatkan laporan yang akan membantu Anda memahami bagaimana mengembangkan infrastruktur Anda, Anda akan membutuhkan orang-orang yang peduli dengan kualitas layanan Anda.  Tidak harus insinyur yang terlibat dalam analisis purna waktu post-mortem saja.  Adalah penting bahwa ini adalah orang-orang yang sangat peduli dengan apa yang terjadi.  Dari waktu ke waktu mereka akan berkumpul, menganalisis seluruh massa insiden, menulis artikel besar dan membawa manfaat - tutup cincin umpan balik. <br><br>  Tim kami disebut tim-Q - dari kata "Kualitas".  Ini memiliki 3 orang - salah satu insinyur paling berbakat dari perusahaan yang bekerja di bidang infrastruktur. <br><br><h2>  Total </h2><br>  <strong>Baca guru -</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel John Allspaw</a> dan buku manajemen kejadian: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rekayasa Keandalan Situs</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Proses PagerDuty Post-Mortem</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Atlassian Incident Handbook</a> . <br><br>  Dan ketika Anda datang kerja besok, <strong>ambil</strong> saja <strong>langkah pertama</strong> : <br><br><ul><li>  memulai proyek untuk fakaps di bugtracker di mana Anda melakukan tugas; </li><li>  ambil templat apa pun - jangan mencoba untuk menulis milik Anda, ambil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">milik kami</a> , atau dari Google di SRE; </li><li>  ketika sesuatu meledak, tulis saja. </li></ul><br>  Pada saat Anda menulis laporan pertama, kedua, ketiga, Anda tidak akan memiliki analitik yang indah dengan kolom multi-warna.  Tetapi setelah satu atau dua tahun, ketika data telah terkumpul, Anda melihat ke belakang dan berterima kasih pada diri sendiri untuk langkah pertama. <br><br><blockquote>  Kami harap, maka Anda akan mengingat dan berterima kasih kepada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Alexei</a> atas kisah pengalaman seperti itu.  Dan kami, pada gilirannya, akan mencoba untuk mengumpulkan laporan berguna baru ke dalam program <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DevOpsConf</a> , rekomendasi dari mana Anda dapat pergi dan mendaftar.  Konferensi ini akan diadakan <strong>30â€“1 September 2019</strong> , hingga 20 Agustus kami masih menunggu aplikasi dari pendukung DevOps, tetapi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">12</a> telah disetujui, artinya kompetisi akan semakin tinggi mendekati tenggat waktu. <br><br>  Jika Anda ingin berbagi pengalaman, buat keputusan dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kirim abstrak Anda</a> .  Jika Anda ingin menerima berita program - berlangganan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">buletin</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">saluran telegram kami</a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id458924/">https://habr.com/ru/post/id458924/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id458914/index.html">Apa (tidak) yang perlu Anda ketahui untuk membuat game di Unity</a></li>
<li><a href="../id458916/index.html">Di bawah kap React. Kami menulis implementasi kami dari awal</a></li>
<li><a href="../id458918/index.html">Apa yang bisa Anda pelajari dari desain gim kasual</a></li>
<li><a href="../id458920/index.html">Konferensi untuk penggemar DevOps</a></li>
<li><a href="../id458922/index.html">Cara pindah dari ESXi ke KVM / LXD dan tidak kehilangan akal</a></li>
<li><a href="../id458926/index.html">Tragedi tidak datang sendiri</a></li>
<li><a href="../id458928/index.html">XLNet vs BERT</a></li>
<li><a href="../id458930/index.html">Bagaimana siswa dari Perm berhasil mencapai final kejuaraan penambangan data internasional, Piala Penambangan Data 2019</a></li>
<li><a href="../id458932/index.html">Yota - atau bagaimana Anda bisa mengetahui semuanya</a></li>
<li><a href="../id458934/index.html">Menyebarkan aplikasi pada beberapa kluster Kubernet dengan Helm</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>