<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•í ü§∏ üöõ Interface reativa. Palestra de Artyom Belov no FrontTalks 2018 ‚ò™Ô∏è üë∞üèø üëéüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No JavaScript baseado em navegador, as interfaces s√£o previs√≠veis. "Single-threaded", com um script de renderiza√ß√£o transacional: tela em branco - car...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Interface reativa. Palestra de Artyom Belov no FrontTalks 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/434130/">  No JavaScript baseado em navegador, as interfaces s√£o previs√≠veis.  "Single-threaded", com um script de renderiza√ß√£o transacional: tela em branco - carregamento - interface.  O desenvolvedor Artyom Belov, da Cxense, com foco na lei de Pareto, contou como, gastando 20% do tempo, tornando o aplicativo 80% mais r√°pido devido √†s t√©cnicas de "design reativo" - ainda n√£o formuladas, mas j√° utilizadas em produtos com prioridade no UX. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/N1vRiKV0iC4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><blockquote>  Mas, quanto aos caras mais experientes que n√£o saem do Webpack e fazem com que o Webpack sofra, e n√£o vice-versa?  Eles conectam plugins.  Mas como estamos no in√≠cio do desenvolvimento dessa t√©cnica, o ecossistema nos oferece um plug-in que pega seu HTML, gera HTML com CSS embutido, fornece um c√≥digo QR para publicidade ... S√©rio?  Depois disso, voc√™ pode ver e interromper os estilos "! Important" ... Talvez valha a pena fazer uma pergunta: por que ainda estou no front-end? </blockquote><br><a name="habracut"></a>  - Ol√° pessoal, sou Artyom Belov.  Atualmente, a palavra reativo pode ser mal compreendida: h√° uma grande porcentagem de pessoas que aprenderam a reagir antes de aprender JavaScript.  Portanto, pronunciar essas palavras-raiz √© um pouco amb√≠guo.  Mas para mim ainda √© a f√≠sica, a lei da conserva√ß√£o do momento. <br><br>  Vamos come√ßar com o problema.  Este √© o nosso perfeccionismo profissional.  Afinal, n√£o mostramos a interface antes que ela n√£o seja "perfeita" - em nossa opini√£o.  E n√£o sei o que ganhar√° na indica√ß√£o de conte√∫do informativo: uma tela branca do navegador ou um bot√£o girat√≥rio com a inscri√ß√£o "Sinta-se √† vontade para esperar para sempre";  n√£o est√° claro para mim. <br><br><img src="https://habrastorage.org/webt/lp/6n/im/lp6nimmouvk7ykz4jww1kxtbao0.gif"><br><br>  Mas uma coisa √© certa: a renderiza√ß√£o, como a resposta de um aplicativo, n√£o √© uma transa√ß√£o.  A exibi√ß√£o de uma interface n√£o √© uma unidade l√≥gica, portanto voc√™ precisa venc√™-la em lotes. <br><br><img src="https://habrastorage.org/webt/ij/ye/mg/ijyemgrfvrmwrqzfqjuhgij4fv0.png"><br><br>  E no front-end, em geral, ajudamos a n√≥s mesmos, mentimos. <br><br><img src="https://habrastorage.org/webt/xt/oq/wy/xtoqwysiydkejdbgl-5hks8zlss.png"><br><br>  Basicamente, quando falamos sobre o "tempo de carregamento" de nosso aplicativo, n√£o dizemos a frase completamente - "tempo m√©dio de carregamento".  Embora voc√™ n√£o precise ter sete extens√µes na testa para fazer o download do segundo aplicativo instant√¢neo, usando o Service Worker. <br><br>  E √© triste que o Lighthouse incentive o fato de o aplicativo n√£o mostrar sinais de vida e apenas nos √∫ltimos dois ou tr√™s quadros da auditoria dizer: "Eu realmente me preparei para desenhar". <br><br><img src="https://habrastorage.org/webt/hp/de/x6/hpdex6uk7jnysvos09h9bmzqjlw.png"><br><br>  E obter menos de 100 pontos no teste de desempenho para aplicativos agora n√£o √© o mais dif√≠cil.  O Google percebeu isso, obrigado. <br><br><img src="https://habrastorage.org/webt/nf/od/yc/nfodyc04egapyj2qguraxrtuqgs.png"><br><br>  E um conceito t√£o abrangente como "Tempo para interativo" foi dividido em etapas, a saber: "Primeiro interativo", "Tempo para interatividade consistente" e "Primeiro atraso na entrada".  Se, com os dois primeiros termos do Google Tradutor, voc√™ entender como interagir e melhorar, o √∫ltimo poder√° ser explicado na se√ß√£o principal do navegador. <br><br><img src="https://habrastorage.org/webt/xl/d0/ii/xld0iivk6nhvadqiitkkno1wf3a.png"><br><br>  Um exemplo  Se, imediatamente ap√≥s carregar a interface, o usu√°rio clicar no campo de texto, poder√° ocorrer uma pausa antes que o campo de texto exiba um cursor com a capacidade de entrar.  Isso ocorre porque o segmento principal estava ocupado e a interface no momento do clique parecia pronta para a intera√ß√£o. <br><br><img src="https://habrastorage.org/webt/se/hs/3r/sehs3rflulvrztgsmqwmiedgseo.png"><br><br>  Tudo se resume ao fato de que as m√©tricas em Lighthouse t√™m quase o mesmo tempo de conclus√£o - enquanto devem ser equilibradas. <br><br><img src="https://habrastorage.org/webt/r9/yi/ry/r9yiryefiv4vpmmgjz16xjkuk0c.png"><br><br>  A "primeira pintura significativa" deve ser o mais r√°pida poss√≠vel, a "primeira pintura com conte√∫do" deve estar por tr√°s dela e o "Time to consistentemente interativo" n√£o deve ter um delta t√£o grande da tela branca do navegador at√© a prontid√£o da interface. <br><br>  Obviamente, existem especialistas que dir√£o que isso √© alcan√ßado simplesmente: <br><br>  ‚ÄúPrecisamos dividir o aplicativo em rotas no Webpack e fazer a renderiza√ß√£o no servidor.  Sim, h√° trabalho por meia hora! " <br><br>  Mas isso n√£o √© inteiramente verdade ... Caro especialista, n√£o menciona que cada nova rota faz a mesma coisa - carregando.  E, novamente, todas as m√©tricas em Lighthous t√™m um pequeno delta entre si, porque a rota geralmente √© significativa. <br><br>  E √†s vezes voc√™ n√£o trabalha em uma grande empresa de sucesso, e a renderiza√ß√£o do lado do servidor n√£o existe.  E, aproveitando sua posi√ß√£o oficial, voc√™ inicia a pesquisa e desenvolvimento com um objetivo claro - obter renderiza√ß√£o progressiva.  Como um JPEG progressivo, que est√° no par√°grafo 167 do ‚ÄúCovodry‚Äù de Lebedev. <br><br>  Em princ√≠pio, o plano de P&amp;D parece muito simples ... Voc√™ precisa obter algum lucro.  E n√£o se esque√ßa da coisa principal - sobre a hora e as datas que gostam de queimar.  E, com o manifesto de um programador minimalista em suas m√£os, lembre-se: gaste 20% do tempo em 80% do resultado. <br><br>  Eu tenho ferramentas.  Por exemplo, lag-radar. <br><br><img src="https://habrastorage.org/webt/me/ui/gi/meuigirky5fida7bawgkzjkrhq4.gif"><br><br>  √â verdade que eu n√£o entrei em Santa Barbara, que roubou a id√©ia, Dan Abramov, de algu√©m ou vice-versa ... Na √∫ltima apresenta√ß√£o do JSConf Iceland 2018, um conceito bastante interessante foi mostrado: o radar √© verde at√© detectar um atraso na banda de rodagem principal e quando s√£o sens√≠veis, o radar fica amarelo e, quando cr√≠tico, fica vermelho. <br><br>  E pressionando Cmd + Shift + P no Mac - ou Ctrl + Shift + P no Windows - observei a porcentagem de cobertura do c√≥digo.  E ent√£o ele olhou para o pacote. <br><br><img src="https://habrastorage.org/webt/qm/zp/xh/qmzpxh1534fuw7wmb12pcahwbu0.png"><br><br><img src="https://habrastorage.org/webt/n9/kb/b4/n9kbb4yn0tr_elsgaqcjmxoabsi.png"><br><br>  E novamente para cobrir e novamente para agrupar.  E ele simplesmente decidiu aceitar a situa√ß√£o.  N√£o preciso tirar nada daqui.  De fato, em projetos, muitos usam ferramentas que s√£o padr√µes de fato.  Por exemplo, Ivan Akulov, junto com o Google Chrome Labs, h√° muito tempo criou um reposit√≥rio para otimiza√ß√£o de webpack, webpack-libs-optimizations.  E por que devo repetir isso, falar sobre Code Split, sobre carga pregui√ßosa?  √â isso que √© conhecido e padr√µes progressivos em 2018. <br><br><img src="https://habrastorage.org/webt/bl/hq/sf/blhqsfhtguvdph0phjugkxdii8k.png"><br><br>  E respondendo √† pergunta "O que pode ser baixado em meio segundo?"  - JS e aqui est√° o vencedor.  Por exemplo, voc√™ pode fazer upload de 100 kilobytes de JPG e gastar 0,04 em seu processamento, mas o JS faz isso porque leva muito mais tempo para process√°-lo, 20 vezes. <br><br><img src="https://habrastorage.org/webt/i5/2t/bf/i52tbfz_iunvezbqv4inaps2gbu.png"><br><br>  Porque voc√™ precisa se lembrar do que acontece quando o aplicativo √© iniciado. <br><br><img src="https://habrastorage.org/webt/zg/ma/2b/zgma2bclq-utain_9wewam-znea.png"><br><br>  Ap√≥s o download, o que voc√™ deseja recompor come√ßa: fa√ßa o download de uma s√≥ vez e analise, compile e execute o c√≥digo em outro momento. <br><br><img src="https://habrastorage.org/webt/ut/ac/cn/utaccnuew-ezap0uwwa5gwdeptm.png"><br><br>  Eu olhei o que a tag &lt;script /&gt; nos oferece.  Existem muitas op√ß√µes, e pensei em usar uma dica. <br><br><img src="https://habrastorage.org/webt/lp/zm/wv/lpzmwvxsbdqhy601fquwvbfxh3g.png"><br><br>  Hmm, n√£o h√° controles remotos na sala, nem telefone.  Eu tomo 50:50.  Ainda temos as op√ß√µes "adiar" e digite = "m√≥dulo". <br><br><img src="https://habrastorage.org/webt/p9/4m/xn/p94mxnan7l_grkm1eeboiwompra.png"><br><br>  Eles carregam sem bloquear a an√°lise, mas se processam e executam mais tarde, quando o aplicativo estiver mais pronto para isso - liberando o encadeamento principal. <br><br>  Mas n√£o h√° op√ß√£o certa, e as palavras do grande homem Ben Schwartz s√£o lembradas.  N√£o que ele tenha dito isso em russo, mas: <br><br><img src="https://habrastorage.org/webt/hp/fm/pj/hpfmpjka7cobou4-ycbslc75fr8.png"><br><br>  Para evit√°-lo, preciso de JS; portanto, a Solicita√ß√£o inicial √© o √∫nico m√©todo de como me livrar de solicita√ß√µes desnecess√°rias. <br><br><img src="https://habrastorage.org/webt/j2/_a/gk/j2_agk43qhz_filmtvcb5nqisps.png"><br><br>  Bem, voc√™ precisa configurar o Webpack novamente.  Isso nem sempre √© a conex√£o de plugins. <br><br><img src="https://habrastorage.org/webt/py/br/dv/pybrdv0jaypvevaxpxmyxztnre8.png"><br><br>  Observando o pacote no contexto, eu realmente n√£o entendo como repito esses ou aqueles fragmentos de c√≥digo entre arquivos. <br><br><img src="https://habrastorage.org/webt/ip/ns/ac/ipnsacv2uyzzh71ojjbvzq84-8s.png"><br><br>  Provavelmente, eles precisam ser retirados na solicita√ß√£o cr√≠tica? <br><br><img src="https://habrastorage.org/webt/je/bj/sg/jebjsglelbtzg5ae1qpebqp6qpu.png"><br><br>  Usando ConcatenationPlugin (), limparemos o manifesto do Webpack, ou seja, uma lista de todos os arquivos dos m√≥dulos do Webpack e, em seguida, incorporaremos esse JSON, eliminando dessa solicita√ß√£o desnecess√°ria.  Em seguida, determine se h√° c√≥digo ass√≠ncrono que pode ser incorporado.  E, finalmente, incorpore o c√©rebro do Webpack diretamente na p√°gina para n√£o esperar o carregamento de todos os m√≥dulos.  Sim, pegue o peda√ßo de tempo de execu√ß√£o e incorpore-o em HTML. <br><br><img src="https://habrastorage.org/webt/ez/se/mn/ezsemnw4njhrkyzacjq9ou3mpj8.png"><br><br>  Em geral, a integra√ß√£o dos c√©rebros do Webpack n√£o oferece o aumento mais encantador, mas agora vamos falar sobre CSS cr√≠tico. <br><br><img src="https://habrastorage.org/webt/qk/to/yp/qktoypf0izvaipse92pg8y5xrsc.png"><br><br>  Mas ... percebemos que o CSS cr√≠tico √© para pessoas que n√£o t√™m um aplicativo de p√°gina √∫nica.  Afinal, sem uma rota HTML completa, as ferramentas n√£o podem criar CSS cr√≠tico. <br><br><img src="https://habrastorage.org/webt/bb/q6/h7/bbq6h7fs1wp0en6enqpq_fghdce.png"><br><br>  E √© bom que haja um marionetista que possa. <br><br><img src="https://habrastorage.org/webt/u4/np/ah/u4npah85nsmbspbasfgjblwndzw.png"><br><br>  Afinal, o que foi apresentado a ele - a pasta ‚Äúexemplos de marionetistas‚Äù no GitHub foi inclu√≠da nos projetos.  E assim o projeto Rendertron surgiu.  √â verdade que, para obter pelo menos algum tipo de erro dele, voc√™ deve inserir o endere√ßo, pressionar Enter ... e √© isso. <br><br><img src="https://habrastorage.org/webt/l-/ld/lu/l-ldlucikl595sr-nblxzeyltgw.png"><br><br>  Ainda bem que existem outros pacotes npm que funcionam.  Eles est√£o no mercado, aparentemente, por mais tempo. <br><br><img src="https://habrastorage.org/webt/we/uk/ka/weukkaysbo1vbcd5dkoq6hlz3_i.png"><br><br>  Depois de instalar e criar o pacote, com a curvatura usual, posso renderizar novamente o HTML do meu aplicativo no servidor local e, assim, obter o HTML Cr√≠tico, necess√°rio para criar CSS Cr√≠tico. <br><br><img src="https://habrastorage.org/webt/zn/yu/zy/znyuzyyszqvrvvyiw7ymmol2qe0.png"><br><br>  O HTML de autoinicializa√ß√£o, em vez de esperar uma renderiza√ß√£o, deu um aumento, como esperado, mas √© muito cedo para insistir nisso.  Vamos continuar o caminho para CSS cr√≠tico. <br><br><img src="https://habrastorage.org/webt/jq/tr/qp/jqtrqp3qmikvmse5u1o_hsenvii.png"><br><br>  Agradecemos novamente a Eddie Osmani por cuidar do ecossistema e criar o HtmlCriticalWebpackPlugin (), onde para a configura√ß√£o voc√™ precisa responder apenas algumas perguntas: onde salvar CSS cr√≠tico e de que forma? <br><br><img src="https://habrastorage.org/webt/m8/bp/e4/m8bpe4c-ycf0ycrpp61za6enyvs.png"><br><br>  Ah, voc√™ pode ver a linha suspeita "painthouse".  Este √© um momento muito interessante quando Eddie Osmani usa um pacote de terceiros que possui, ao que parece, at√© uma interface web. <br><br><img src="https://habrastorage.org/webt/1w/e5/fx/1we5fxpgriedvqtvzvpet_-xtck.png"><br><br>  Mas, para ser sincero, tenho vergonha de usar a interface da Web, aparentemente isso √© para designers de layout que n√£o possuem uma linha de comando.  Mas tudo √© simples, como no an√∫ncio do Yuppy dos anos 90: basta clicar em "Criar". <br><br><img src="https://habrastorage.org/webt/xw/gu/3b/xwgu3bgd2swexdr43zgtvchpjru.png"><br><br>  E isso n√£o proporciona o crescimento mais encantador, mas √© muito sens√≠vel √† primeira colora√ß√£o do aplicativo. <br><br><img src="https://habrastorage.org/webt/oh/a4/qv/oha4qvyjpbhbs7i0na3urkctw6k.png"><br><br>  Com um tra√ßo do mundo, o aplicativo muda levemente quando as fontes come√ßam a dan√ßar.  Essa linha √© conhecida como 3 segundos.  E come√ßa a se√ß√£o em que n√≥s, o front-end, raramente perdemos, a saber, o jogo com fontes. <br><br>  Receitas para baixar fontes.  Aqui, a exibi√ß√£o da fonte nos ajudar√°.  Tendo entendido que aqui voc√™ n√£o precisa sair do bast√£o, primeiro decidimos: flash de texto invis√≠vel, FOIT, ou flash de texto n√£o estilizado, FOUT, √© assustador para n√≥s. <br><br><img src="https://habrastorage.org/webt/ud/o3/hb/udo3hbctfrr-fhnau-vnzbxqd0a.png"><br><br>  E - o spoiler - o mais terr√≠vel para n√≥s √© o flash de texto invis√≠vel, pois causa um n√∫mero maior de redesenhos. <br><br><img src="https://habrastorage.org/webt/ae/re/1h/aere1hwgbcmtxarci1bmzgzuwne.gif"><br><br>  Em poucas palavras, olhando para quais propriedades de exibi√ß√£o de fonte existem, √© certo escolher swap ou fallback para si mesmo.  De um modo geral, das cinco propriedades que voc√™ pode escolher a certa, n√£o h√° uma op√ß√£o certa. <br><br><img src="https://habrastorage.org/webt/fv/tc/jt/fvtcjt7ei2axij5oq-qmg5oeicq.png"><br><br>  Al√©m disso, ouvi dizer que existe um projeto do Font Style Matcher que me permitir√° selecionar uma fonte decente do sistema de fallback para a minha fonte Comic Sans e n√£o carreg√°-la com o Google Fonts.  Embora isso n√£o esteja certo ... <br><br>  Existem pessoas como Zach Zezerman que inventaram o conceito FOFT. <br><br><img src="https://habrastorage.org/webt/h7/bh/_k/h7bh_kzwxghwdaoczjamornpc3q.png"><br><br>  O que praticamente n√£o √© vis√≠vel no navegador. <br><br>  Isso ocorre devido ao fato de que quando voc√™ baixa uma fonte romana de estilo padr√£o, e o navegador j√° √© t√£o inteligente que pode criar uma fonte "falsa" em negrito, it√°lico, sublinhado e riscada, com base no estilo padr√£o.  Isso d√° um flash, mas quase nenhum.  Para fazer isso, implemente a chamada fonte de pr√©-carregamento. <br><br><img src="https://habrastorage.org/webt/v8/he/o6/v8heo68v8tmi1l-n4xhk_iy925c.png"><br><br>  Mas e se eu disser que a fonte pode ser incorporada no CSS?  E isso √© verdade, e tamb√©m d√° um ganho! <br><br><img src="https://habrastorage.org/webt/fb/rw/or/fbrworg5hz3rnlf4xb0_jumd81u.png"><br><br>  Parece uma combina√ß√£o de t√©cnicas.  Voc√™ s√≥ precisa incorporar a fonte roman diretamente no CSS.  Assim, para obter crescimento com o primeiro conhecimento principal do usu√°rio com o aplicativo e, em seguida, carregar os demais fones de ouvido quando necess√°rio, mas n√£o imediatamente. <br><br><img src="https://habrastorage.org/webt/vc/2n/u_/vc2nu_vy1q3yhdvrjm3tiiuidek.png"><br><br>  E assim, depois de tantas manipula√ß√µes, o "Tempo para Consistentemente Interativo" ainda possui um delta significativo de outros indicadores.  Eu apenas melhorei a colora√ß√£o do aplicativo.  Isso n√£o √© ruim, mas n√£o √© o que eu estava lutando.  Na minha opini√£o, eu preciso pegar algum tipo de problema.  E ela foi pega e pelo rabo.  Afinal: <br><br><img src="https://habrastorage.org/webt/zj/_-/ym/zj_-ymrryk3ncctvdj3draofpqc.png"><br><br>  √â bastante √≥bvio por que isso n√£o √© implementado em muitos navegadores.  Um pergaminho de salto e como determinar o que voc√™ precisa e o que n√£o precisa carregar n√£o √© o mais f√°cil.  Talvez d√™ uma carona. <br><br>  Mas, novamente, os especialistas dir√£o a voc√™ - h√° uma carga pregui√ßosa. <br><br><img src="https://habrastorage.org/webt/yt/mn/gc/ytmngczroz9syd-jilxja1j1lga.gif"><br><br>  Mas lembre-se de como voc√™ interage com ele.  Voc√™ n√£o pode cobrir 100% dos casos. <br><br><img src="https://habrastorage.org/webt/e1/xy/to/e1xytoccbdrthqr7t8mwkpz7xy0.png"><br><br>  Sim, e se voc√™ seguir o caminho da otimiza√ß√£o e concluir todos os pontos de verifica√ß√£o do livro de Eddie Osmani ‚ÄúEssential Image Optimization‚Äù, tamb√©m ficar√° com problemas n√£o resolvidos ... <br><br>  Mas vi que Eddie Osmani gosta de mencionar o Reddit em seus almanaques e artigos no Medium.  Lembrei-me de que um amigo trabalhava para mim l√° e o chamava de aconselhamento, ele me lembrou que havia algo como desempenho percebido, e essa defini√ß√£o estava nos corredores da minha mente. <br><br><img src="https://habrastorage.org/webt/wq/7b/ir/wq7bircpigeuun2zq-1dnd2olnc.gif"><br><br>  Aqui, a prop√≥sito, os designers nos ajudam.  √â quando n√£o √© hora de tocar, mas como voc√™ apresenta seu aplicativo.  E a t√°tica certa para isso √© "marcadores de conte√∫do". <br><br><img src="https://habrastorage.org/webt/sw/sp/as/swspasimeyisz0xpntedhjtwzws.gif"><br><br>  Por exemplo, o YouTube pode fazer isso. <br><br><img src="https://habrastorage.org/webt/hs/dg/oc/hsdgocb3gd43zf28rdk9mrp8sw0.gif"><br><br>  O YouTube consegue reproduzir o v√≠deo antes que todos os componentes de suporte tenham sido baixados.  Isso √© feito, olhando para o futuro, devido aos espa√ßos reservados para conte√∫do, como dados animados em cinza. <br><br><img src="https://habrastorage.org/webt/r-/mn/hd/r-mnhdfosuuxnoxjmo3nkyirbiw.png"><br><br>  E o que o ecossistema nos oferece no momento?  Nada de especial.  CodePen  Vamos ver suas implementa√ß√µes. <br><br><img src="https://habrastorage.org/webt/i3/yg/rn/i3ygrnaewv6egvo6m30viqtnizc.gif"><br><br>  √â um cart√£o que ocorre em qualquer padr√£o de design.  Vamos ver ... <br><br><img src="https://habrastorage.org/webt/vh/bt/ol/vhbtolsbdzrzwsbjwbssns2k9ku.png"><br><br>  Precisamos declarar algumas vari√°veis ‚Äã‚Äãem 30 linhas, declarar um grama de propriedade em 50 linhas, algumas anima√ß√µes e obter 100 linhas de c√≥digo ... Isso √© 10 em cada 10 na escala Lea Viru. <br><br>  Mas, quanto aos caras mais experientes que n√£o saem do Webpack e fazem com que o Webpack sofra, e n√£o vice-versa?  Eles conectam plugins.  Mas como estamos no in√≠cio do desenvolvimento dessa t√©cnica, o ecossistema nos oferece um plug-in que pega seu HTML, gera HTML com CSS embutido, fornece um c√≥digo QR para publicidade, aparentemente ... S√©rio?  Depois disso, voc√™ pode ver e interromper os estilos "! Important" ... Talvez valha a pena fazer uma pergunta: por que ainda estou no front-end? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2e1/eb8/136/2e1eb8136cda41afbcb5c57377fa0b39.gif"><br><br>  Mas h√° uma equipe de pessoas para quem as piadas sobre seus produtos simplesmente n√£o s√£o engra√ßadas.  PostCSS. <br><br><img src="https://habrastorage.org/webt/gs/oz/4p/gsoz4pnecxwewknvoeibchl3jt4.png"><br><br>  Voc√™ sempre pode confiar neles.  Em particular, voc√™ pode implementar essa t√©cnica - "espa√ßos reservados contant" - no conceito CSS "multi background".  √â quando uma √∫nica propriedade "segundo plano" pode conter v√°rios valores em uma v√≠rgula. <br><br><img src="https://habrastorage.org/webt/-d/ib/ve/-dibve2ok-afdcgtacyxwmnoy7o.png"><br><br>  CanIUse apenas respostas, sim. <br><br><img src="https://habrastorage.org/webt/kj/rl/cy/kjrlcyol1rb9wjelcbypmi27cbg.png"><br><br>  Parece o seguinte, familiar para n√≥s.  Familiar - gra√ßas ao Medium. <br><br><img src="https://habrastorage.org/webt/6z/gg/k8/6zggk89ocfmdsweepjofkwynb7y.png"><br><br>  Um gradiente linear √© aplicado √† sua imagem, que √© exibido o mais r√°pido poss√≠vel, e uma imagem em tamanho real aparecer√° acima dela mais tarde.  No c√≥digo, √© algo parecido com isto. <br><br><img src="https://habrastorage.org/webt/aa/vz/gp/aavzgp6cvedhymo93jwi_qlgavi.png"><br><br>  A primeira solicita√ß√£o de prioridade come√ßa a carregar a imagem, √© claro, pesada.  E instantaneamente, quando voc√™ obt√©m CSS, um gradiente linear aparecer√°.  Mas o gradiente linear n√£o √© t√£o reto e suave quanto a flexibiliza√ß√£o. <br><br><img src="https://habrastorage.org/webt/qo/2v/5t/qo2v5tly1crltm-rhtr13byfwqs.png"><br><br>  Portanto, o c√≥digo deve ser escolhido por outro plug-in, o que tornar√° o gradiente linear mais suave. <br><br><img src="https://habrastorage.org/webt/vq/5o/hl/vq5ohlkxagfq4phxowdhbhdwjju.png"><br><br>  Por√©m, com um pouco de gradiente, voc√™ far√° sobreposi√ß√µes para que cubram todos os casos. <br><br><img src="https://habrastorage.org/webt/mc/2p/ko/mc2pkosyyjuaqzywe5n7snaxt2s.png"><br><br>  Nesse caso, isso n√£o funcionar√° corretamente, pois a imagem √© muito complexa para criar uma abstra√ß√£o com apenas um gradiente linear.  Mas aqui o sqip funcionar√°. <br><br><img src="https://habrastorage.org/webt/go/9q/k-/go9qk-zubonia-f8ce9rxpyjkjm.png"><br><br>  Este √© um m√≥dulo CLI para criar um espa√ßo reservado para sua imagem e anex√°-lo usando a t√©cnica de v√°rios fundos. <br><br><img src="https://habrastorage.org/webt/yr/vo/3w/yrvo3wxdsdkoz3ycvvb63n_l7ja.png"><br><br>  Obviamente, a imagem em tamanho normal ser√° carregada por muito mais tempo, e o espa√ßo reservado do sqip, devido ao seu peso, ser√° exibido muito mais rapidamente. <br><br><img src="https://habrastorage.org/webt/k9/-f/ya/k9-fyawdkhg5wnj-g9ad0kg5ada.png"><br><br>  Mas n√£o √© exatamente isso que estou buscando.  Gostaria que imagens pesadas viessem quando eu precisasse, e n√£o quando o navegador quiser.  E eu preciso dividir isso em dois arquivos CSS, colocar um no &lt;head&gt;, onde estar√£o as imagens claras e carregar as imagens pesadas no &lt;body&gt;. <br><br><img src="https://habrastorage.org/webt/0x/3f/tp/0x3ftpbxbusr1rx9azjw0qwowfm.png"><br><br>  Mas e as imagens restantes, por exemplo, em JS? <br><br><img src="https://habrastorage.org/webt/7i/pt/cd/7iptcduyrpohelvzqfoi7bh5n1a.png"><br><br>  A manipula√ß√£o com SVG, em particular, parece decepcionante.  Voc√™ parece querer redesenhar o SVG, mas por meio de CSS familiar, ele n√£o est√° sob seu controle. <br><br><img src="https://habrastorage.org/webt/3n/aa/os/3naaosb4noviggdmao_ddela4ua.png" width="400"><br><br>  Aparentemente, de acordo com as novas tend√™ncias, o SVG ter√° que se tornar um componente. <br><br><img src="https://habrastorage.org/webt/np/mz/8i/npmz8i9lz8-4hvuot6hkeaabpiw.png"><br><br>  Com a ajuda do pacote adotado por Dan Abramov no "create-react-app" - este √© o "svgr". <br><br><img src="https://habrastorage.org/webt/4h/cy/w0/4hcyw0pbrpkries7-9uubkcdxfw.png"><br><br>  Esta √© uma ferramenta CLI que simplesmente insere SVG no seu JS e voc√™ pode trabalhar com ele como um componente.  Essas s√£o tr√™s linhas de c√≥digo, de fato. <br><br><img src="https://habrastorage.org/webt/do/2n/5v/do2n5vqnu2abhdcvg5tyzi4rfm0.png"><br><br>  Mas os projetistas, aparentemente, n√£o sabem que muitas estruturas devem ter um elemento raiz do componente.  N√£o vou pedir para ele "exportar" SVG do Sketch de uma "maneira especial"? <br><br><img src="https://habrastorage.org/webt/-r/e8/ec/-re8eccxf55jvammpcjxbmrdjqy.png"><br><br>  Devido a v√°rios problemas menores, √© preciso prestar aten√ß√£o a projetos suspeitos de popularidade. <br><br><img src="https://habrastorage.org/webt/4b/ia/a9/4biaa9-smgckysguhn6icrhoxr0.png"><br><br>  Por exemplo, alguns "react-icon-base" que se oferecem como um substituto para a tag &lt;SVG&gt;.  Ou seja, o pacote, por assim dizer, nos diz: em vez da tag &lt;SVG&gt;, envolva seu c√≥digo SVG em mim, ap√≥s o qual aplicarei as propriedades: preenchimento, texto, tra√ßo e o que for, eu mesmo, porque tenho a l√≥gica que serve " bridge "do CSS. <br><br><img src="https://habrastorage.org/webt/68/0t/nu/680tnuknxotglxqfkedecjeimom.png"><br><br>  E com a ajuda de um comando simples, voc√™ pode criar o seu svgr-template para o seu projeto. <br><br><img src="https://habrastorage.org/webt/lj/5e/a1/lj5ea1ltfxnqds_ryjlihtscmuk.png"><br><br><img src="https://habrastorage.org/webt/ab/4d/ru/ab4drujwtqjw58qy7qy_ymkkp9k.png"><br><br>  Para ser sincero, n√£o sei por que esse projeto √© apenas para o React. <br><br>  Em seguida, voc√™ pode importar os √≠cones que n√£o s√£o cobertos com a√ß√∫car sint√°tico, independentemente da sua conveni√™ncia. <br><br><img src="https://habrastorage.org/webt/fo/fa/ip/fofaipth6nhgfrhxfkzvo-qkqye.png"><br><br>  E, finalmente, afaste-se da marca obsoleta, possivelmente &lt;img&gt;, em dire√ß√£o √† abordagem componente que todo mundo est√° falando. <br><br><img src="https://habrastorage.org/webt/xb/mn/r_/xbmnr_cmfjvvuiiaynjd94ntbpo.png"><br><br>  E a favor do que?  Por exemplo, a favor de voc√™ tentar a pseudo-classe ‚Äú: export‚Äù nos seus arquivos SCSS \ SASS. <br><br><img src="https://habrastorage.org/webt/da/gc/ab/dagcabkl5ljvze-pi5byymjvezs.png"><br><br>  Tenho certeza de que isso tamb√©m funciona no Webpack da sua vers√£o.  A pseudo classe ‚Äú: export‚Äù descarrega as vari√°veis ‚Äã‚Äãque voc√™ declara no SCSS.  Em seguida, voc√™ pode import√°-los no c√≥digo JS.  E √© isso, e voc√™ n√£o precisa cultivar bicicletas, como algum tipo de arquivo JSON com todas as cores e tudo. <br><br><img src="https://habrastorage.org/webt/az/et/4p/azet4purq7uyv1by9ieb2t4quey.png"><br><br>  Svgr permite reduzir a primeira colora√ß√£o do aplicativo.  Mas n√£o √© t√£o honesto, porque o c√≥digo simplesmente migrou de CSS para JS. <br><br>  Mas segundo, esquecemos o sqip, qual ser√° o crescimento ap√≥s a sua aplica√ß√£o? <br><br><img src="https://habrastorage.org/webt/uo/kz/a_/uokza_2mediwdi2zvrbde81ocrk.png"><br><br>  Tendo habilidades simples de importa√ß√£o din√¢mica, aplicamos a seguinte t√©cnica.  Carregamos a vers√£o light da imagem, espa√ßo reservado sqip e a exibimos na interface.  Em seguida, na importa√ß√£o din√¢mica, em .then (), aguardaremos o √≠cone em tamanho real sem bloquear a intera√ß√£o com a interface. <br><br><img src="https://habrastorage.org/webt/jp/8z/os/jp8zosqdywuruwqgm3uvctgrm64.png"><br><br>  Isso leva ao fato de termos o assunto SVG, que podemos substituir por argumentos, como um componente JS real. <br><br><img src="https://habrastorage.org/webt/s4/om/yc/s4omyca_uxov66_rf0cwwkkpkkc.png"><br><br>  E, finalmente, aumenta as m√©tricas necess√°rias do "interativo".  E, assim, voc√™ responde √† pergunta principal que se expressa nos artigos de Eddie Osmani: "Algo est√° acontecendo em geral?"  Voc√™ responde muito antes: "Sim, est√° acontecendo." <br><br><img src="https://habrastorage.org/webt/sw/sp/as/swspasimeyisz0xpntedhjtwzws.gif" width="400"><br><br>  Mas parece que tenho apenas √≠cones no aplicativo.  Tamb√©m existem campos de formul√°rio, por exemplo. <br><br><img src="https://habrastorage.org/webt/zi/uv/zm/ziuvzmaqb4r8qjqxzkrovjs6ija.png"><br><br>  Aqui est√° uma solu√ß√£o que voc√™ pode pesquisar no Google agora.  Por exemplo, "react-content-placeholder" e "vue-content-placeholder".  Mas pare, aqui √© oferecido para desenhar espa√ßos reservados SVG de componentes manualmente. <br><br><img src="https://habrastorage.org/webt/sg/px/ig/sgpxigjx8adf8m086qspkr_uzmo.png"><br><br>  H√° tamb√©m uma vers√£o da web em que voc√™ pode arrastar e criar espa√ßos reservados via arrastar e soltar.  Qual ser√° exatamente como seus componentes reais. <br><br><img src="https://habrastorage.org/webt/4s/x4/ql/4sx4qlbodank-sxpc_2gjwkwrou.png"><br><br>  Mas seja para carregar componentes estilizados cinco vezes - n√£o!  - e o sistema de estilo que eu uso. <br><br><img src="https://habrastorage.org/webt/ws/5t/99/ws5t99mmlkoxoltvtieoqyrq6hc.png"><br><br>  E torne uma regra que voc√™ precisa aderir estritamente ao sistema de design.  E n√£o √≠cones e imagens devem ser exportados corretamente, mas um sistema de design deve regular esse processo.  A largura do campo de texto n√£o deve ser codificada, mas o sistema de design, em cima, deve regular isso. <br><br><img src="https://habrastorage.org/webt/zk/rh/j9/zkrhj9u2cfz5flb8wzo4cny7xdc.png"><br><br>  E a coisa mais dif√≠cil, finalmente, √© manter um operador tern√°rio que exiba nosso espa√ßo reservado mais f√°cil, o que permitir√° que o usu√°rio saiba que ele finalmente chegou ao endere√ßo e fa√ßa o download do componente completo apenas quando for necess√°rio. <br><br>  Em geral, deve haver uma demonstra√ß√£o, mas eu n√£o vim aqui para um relat√≥rio de publicidade.  Mas os outros caras que voc√™s conhecem s√£o dignos de respeito. <br><br><img src="https://habrastorage.org/webt/xx/mf/j-/xxmfj-n04brdzux-8cw0pqetkgk.png"><br><br>  E se eu estivesse no Oscar, pegaria um envelope e diria algo como: ‚ÄúPela incr√≠vel engenhosidade na implementa√ß√£o do espa√ßo reservado para o conte√∫do, ou seja, na implementa√ß√£o da anima√ß√£o usando um gif de 10x10 pixel, em vez de escrever estilos CSS, o t√≠tulo √© concedido "especialistas em anima√ß√£o, com sauda√ß√µes do passado, Instagram!" <br><br><img src="https://habrastorage.org/webt/xe/mt/ts/xemttszhiqkiwn9j7gdbhom4_5y.gif"><br><br>  Espero que eles n√£o recuem GIFs transparentes de um pixel e a propriedade border n√£o seja uma tabela dupla. <br><br>  E gostaria de lembr√°-lo: conte com o monitoramento real do usu√°rio, RUM. <br><br><img src="https://habrastorage.org/webt/qh/mc/wi/qhmcwipplhkttpsr0dpvkp2juvq.png"><br><br>  Para usu√°rios reais de seus projetos e m√©tricas relevantes. ,      ,  , first input delay. <br><br>  ,      ,    common-,       . <br><br>   ,        ,          . <br><br>  ,     ,     JPG    ,     . <br><br>   ,       . ,   . <br><br><img src="https://habrastorage.org/webt/m-/ld/d3/m-ldd3rl4p_uxyjrdch8rpojsdm.png"><br><br>  E o √∫ltimo.  ,    ,   ,       ,     ,    - loadable-. ÃÅ,    ,     . ,    ‚Äî     ,   .      ‚Äî    ,     .  , , ,         Webpack.      ,  ‚Ä¶ great loading component?  ,  -   ?      ? <br><br>  ,      ,  , ,    .     . <br><br><img src="https://habrastorage.org/webt/fk/fh/vn/fkfhvn0b1unjt3c39uyebo8lczm.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt434130/">https://habr.com/ru/post/pt434130/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt434120/index.html">Tutorial React, Parte 5: Introdu√ß√£o a um aplicativo TODO, estilo b√°sico</a></li>
<li><a href="../pt434122/index.html">Roteiro - N√£o √© um objeto de p√°gina</a></li>
<li><a href="../pt434124/index.html">Ative a acelera√ß√£o de GPU no Photoshop no Wine</a></li>
<li><a href="../pt434126/index.html">Reproduzir m√≠dia usando a biblioteca VLCj</a></li>
<li><a href="../pt434128/index.html">PHP Digest No. 146 (10 a 24 de dezembro de 2018) + Resultados de 2018</a></li>
<li><a href="../pt434132/index.html">Compre uma TV e enrole-a: LG planeja come√ßar a vender TVs flex√≠veis no pr√≥ximo ano</a></li>
<li><a href="../pt434134/index.html">An√°lise dos resultados da Pesquisa Kaggle ML & DS 2018</a></li>
<li><a href="../pt434136/index.html">Anatomia Corporativa</a></li>
<li><a href="../pt434138/index.html">N√≥s escrevemos nossa pr√≥pria m√°quina virtual</a></li>
<li><a href="../pt434140/index.html">Uma Breve Hist√≥ria dos Recursos Ass√≠ncronos Javascript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>