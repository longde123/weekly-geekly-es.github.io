<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèùÔ∏è üòÑ üõ≥Ô∏è Automatische Segmentierung der Atmungsorgane ü§õüèº #‚É£ üë®‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die manuelle Lungensegmentierung dauert etwa 10 Minuten und erfordert eine bestimmte F√§higkeit, um das gleiche qualitativ hochwertige Ergebnis wie bei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatische Segmentierung der Atmungsorgane</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inobitec/blog/461329/"><p>  Die manuelle Lungensegmentierung dauert etwa 10 Minuten und erfordert eine bestimmte F√§higkeit, um das gleiche qualitativ hochwertige Ergebnis wie bei der automatischen Segmentierung zu erzielen.  Die automatische Segmentierung dauert ca. 15 Sekunden. </p><br><p>  Ich nahm an, dass es ohne ein neuronales Netzwerk m√∂glich w√§re, eine Genauigkeit von nicht mehr als 70% zu erreichen.  Ich nahm auch an, dass morphologische Operationen nur die Erstellung eines Bildes f√ºr komplexere Algorithmen sind.  Als Ergebnis der Verarbeitung dieser, wenn auch nur wenigen, 40 Proben tomographischer Daten, segmentierte der Algorithmus die Lungen fehlerfrei.  Dar√ºber hinaus √§nderte sich der Algorithmus nach dem Testen in den ersten f√ºnf F√§llen nicht signifikant und funktionierte bei den anderen 35 Studien korrekt, ohne die Einstellungen zu √§ndern. </p><br><p>  Auch neuronale Netze haben einen Nachteil: F√ºr ihr Training ben√∂tigen wir Hunderte von Trainingsmustern der Lunge, die manuell markiert werden m√ºssen. </p><br><p><img src="https://habrastorage.org/webt/fg/uv/-r/fguv-r_mn7ybraf34p_1ybbphwa.jpeg"></p><a name="habracut"></a><br><h1>  Inhalt </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Struktur der Atemwege</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Haunsfield-Skala</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mathematische Morphologie</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lee-Algorithmus und RLE-Komprimierung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schwellentransformation des Basisvolumens</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Externe Luftentfernung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Segmentierung des Objekts mit maximalem Volumen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schlie√üen der Gef√§√üe in der Lunge</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Segmentierungsalgorithmus f√ºr Atmungsorgane</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Algorithmusimplementierung im MATLAB</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fazit</a> </li></ul><br><h1 id="paragraph1">  Struktur der Atemwege </h1><br><p>  Das Atmungssystem umfasst die Atemwege und Lungen.  Die Atemwege sind in die oberen und unteren Atemwege unterteilt.  Der Trennungspunkt zwischen den unteren und oberen Atemwegen ist der Schnittpunkt von Speiser√∂hre und Atemwegen.  Alle Organe, die sich √ºber dem Kehlkopf befinden, sind der obere Trakt und der Kehlkopf und die Organe darunter sind der untere Trakt. </p><br><p>  Liste der Atmungsorgane: </p><br><p>  <strong>Die Nasenh√∂hle</strong> ist eine luftgef√ºllte H√∂hle zwischen Nase und Rachen. <br>  <strong>Der Pharynx</strong> ist ein Kanal, durch den Nahrung und Luft gelangen. <br>  <strong>Die Luftr√∂hre</strong> ist ein Schlauch, der mit dem Kehlkopf und den Bronchien verbunden ist. <br>  <strong>Der Kehlkopf</strong> ist f√ºr die Stimmbildung verantwortlich.  Es befindet sich auf der H√∂he der Halswirbel C4-C6. <br>  <strong>Die Bronchien</strong> sind die Atmungskan√§le, deren Hauptteil sich in der Lunge befindet. <br>  <strong>Die Lunge</strong> ist das Hauptorgan der Atemwege. </p><br><p><img src="https://habrastorage.org/webt/kf/jv/kj/kfjvkjeioihehmpbzprc5bvgf8y.png"></p><br><h1 id="paragraph2">  Haunsfield-Skala </h1><br><p> Godfrey Hounsfield war ein englischer Elektrotechniker, der zusammen mit dem amerikanischen Theoretiker Allan Cormack die Computertomographie entwickelte, f√ºr die er 1979 den Nobelpreis erhielt. </p><br><p><img src="https://habrastorage.org/webt/jv/bl/ho/jvblho_x-0woitx02gbfjuxxhju.jpeg"></p><br><p>  Die Hounsfield-Skala - ist eine quantitative Skala zur Beschreibung der Radiodichte, die in Hounsfield-Einheiten gemessen wird und als HU bezeichnet wird. </p><br><p>  Die Radiodichte wird auf Basis des Strahlungsd√§mpfungskoeffizienten berechnet.  Der D√§mpfungskoeffizient gibt an, wie leicht die Strahlung in ein Materialvolumen eindringen kann. </p><br><p>  Die Radiodichte wird nach folgender Formel berechnet: </p><br><p><math> </math> $$ Anzeige $$ {Œº_ {X} -Œº_ {Wasser} \ √ºber Œº_ {Wasser} -Œº_ {Luft}} \ mal 1000 $$ Anzeige $$ </p><br><p>  wo <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mi>X</mi></msub><mo>,</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>W</mi><mi>a</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>,</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>u</mi><mi>f</mi><mi>t</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.568ex" height="2.298ex" viewBox="0 -520.7 7564.1 989.6" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-3BC" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-58" x="853" y="-357"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMAIN-2C" x="1306" y="0"></use><g transform="translate(1751,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-3BC" x="0" y="0"></use><g transform="translate(603,-253)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-57" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-61" x="1048" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-73" x="1578" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-73" x="2047" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-65" x="2517" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-72" x="2983" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMAIN-2C" x="4883" y="0"></use><g transform="translate(5329,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-3BC" x="0" y="0"></use><g transform="translate(603,-253)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-75" x="681" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-66" x="1254" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/461329/&amp;usg=ALkJrhhpWkOaLAOMNqdVOtdGNeuSC-aydw#MJMATHI-74" x="1804" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mi>X</mi></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><mi>a</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>u</mi><mi>f</mi><mi>t</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> Œº_X, Œº_ {Wasser}, Œº_ {Luft} </script>  sind lineare D√§mpfungskoeffizienten f√ºr das gemessene Material, Wasser und Luft. </p><br><p>  Die Radiodichte kann negativ sein, da die Radiodichte Null dem Wasser entspricht.  Dies bedeutet, dass alle Materialien mit einem niedrigeren D√§mpfungskoeffizienten als dem Wasserschw√§chungskoeffizienten (z. B. Lungengewebe, Luft) eine negative Radiodichte aufweisen. </p><br><p>  Die ungef√§hren Radiodichten f√ºr verschiedene Gewebe sind nachstehend aufgef√ºhrt: </p><br><ul><li>  Luft: -1000 HU. </li><li>  Atmungsorgane: von -950 bis -300 HE. </li><li>  Blut (ohne Kontrast der Gef√§√üe): von 0 bis 100 HE. </li><li>  Knochen: 100 bis 1000 HU. </li></ul><br><p><img src="https://habrastorage.org/webt/zv/zz/v_/zvzzv_n2koandwhyv-nw1ciunou.png"></p><br><p>  Links zu Wikipedia: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hounsfield-Skala</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Godfrey Hounsfield</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">D√§mpfungskoeffizient</a> . </p><br><h1 id="paragraph3">  Mathematische Morphologie </h1><br><p>  <strong>Morphologische Operationen</strong> sind die Hauptwerkzeuge, die im Algorithmus verwendet wurden. <br>  Im Bereich der Bildverarbeitung werden morphologische Operationen als eine Gruppe von Algorithmen zur Transformation der Form von Objekten bezeichnet.  Am h√§ufigsten werden morphologische Operationen auf bin√§risierte Bilder angewendet, bei denen Einheiten Objektvoxeln entsprechen und Nullen leer sind. <br>  Die wichtigsten morphologischen Operationen umfassen: </p><br><p>  <strong>Morphologische Dilatation</strong> ist das Hinzuf√ºgen neuer Voxel zu allen Randvoxeln der Objekte.  Mit anderen Worten, der Algorithmus scannt alle Voxel, die der Kante des Objekts entsprechen, und vergr√∂√üert sie mithilfe eines Kernels mit einer bestimmten Form (Kugel, W√ºrfel, Kreuz usw.).  Der Kernel hat einen eigenen Radius (f√ºr die Kugel) oder die Breite der Seite (f√ºr den W√ºrfel).  Diese Operation wird h√§ufig verwendet, um mehrere Objekte in der N√§he zu einem einzigen Objekt zusammenzuf√ºhren. </p><br><p>  <strong>Morphologische Erosion</strong> ist das Abschneiden aller Voxel, die an der Grenze der Objekte liegen.  Dieser Vorgang ist umgekehrt zur Dilatation.  Diese Operation ist n√ºtzlich, um Rauschen zu entfernen, das die Form vieler kleiner miteinander verbundener Objekte hat.  Diese Methode zur Ger√§uschentfernung sollte jedoch nur angewendet werden, wenn das interessierende Objekt eine Dicke aufweist, die viel gr√∂√üer als der Erosionsradius ist.  Andernfalls gehen die n√ºtzlichen Informationen verloren. </p><br><p>  <strong>Das morphologische Schlie√üen</strong> ist eine Erweiterung, gefolgt von einer Erosion.  Es wird verwendet, um L√∂cher in Objekten zu schlie√üen und Objekte in der N√§he zusammenzuf√ºhren. </p><br><p>  <strong>Die morphologische √ñffnung</strong> ist eine Erosion, gefolgt von einer Erweiterung.  Es wird verwendet, um kleine Rauschobjekte zu entfernen und die Objekte in mehrere Objekte aufzuteilen. </p><br><p><img src="https://habrastorage.org/webt/7n/tt/ux/7nttuxnqs66djkmrav1amhg4mei.gif"></p><br><h1 id="paragraph4">  Lee-Algorithmus und RLE-Komprimierung </h1><br><p>  Zur Auswahl von Objekten im bin√§risierten Voxelvolumen wird der Lie-Algorithmus verwendet.  Urspr√ºnglich wurde dieser Algorithmus erfunden, um den k√ºrzesten Weg aus dem Labyrinth zu finden.  Wir verwenden es, um das Objekt auszuw√§hlen und es von einem dreidimensionalen Array von Voxeln zu einem anderen zu verschieben.  Die Grundidee des Algorithmus besteht in einer parallelen Bewegung in alle m√∂glichen Richtungen vom Startpunkt aus.  F√ºr einen dreidimensionalen Fall ist es m√∂glich, sich von einem Voxel aus in 26 oder 6 Richtungen zu bewegen. </p><br><p>  Um die Leistung zu optimieren, wurde der Laufl√§ngencodierungsalgorithmus angewendet.  Die Hauptidee des Algorithmus besteht darin, dass die Folge von Einsen und Nullen durch eine Ziffer ersetzt wird, die der Anzahl der Elemente in der Folge entspricht.  Beispielsweise kann die Zeichenfolge "00110111" ersetzt werden durch: "2;  2;  1;  3 ".  Dies reduziert die Anzahl der Speicherzugriffe. </p><br><p><img src="https://habrastorage.org/webt/if/kr/h6/ifkrh6br6sgi65g8sowexfxxsis.gif"><img src="https://habrastorage.org/webt/9f/rr/nc/9frrncdin9axwhdwgad8vndnlqy.gif"></p><br><p>  Wikipedia-Links: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lee-Algorithmus</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RLE-Algorithmus</a> . </p><br><h1 id="paragraph5">  Schwellentransformation des Basisvolumens </h1><br><p>  Unter Verwendung des Tomographen wurden die Daten √ºber eine Radiodichte an jedem Punkt des gescannten Raums erhalten.  Luftvoxel haben eine Radiodichte im Bereich von -1100 bis -900 HE, und Voxel von Atmungsorganen haben eine Radiodichte von -900 bis -300 HE.  Daher k√∂nnen wir alle unn√∂tigen Voxel mit einer Radiodichte von mehr als -300 HE entfernen.  Als Ergebnis erhalten wir ein bin√§risiertes Voxelvolumen, das nur die Atmungsorgane und Luft enth√§lt. </p><br><p><img src="https://habrastorage.org/webt/di/lv/ss/dilvssyv2do2rvjlbb3xov798rw.gif"></p><br><h1 id="paragraph6">  Externe Luftentfernung </h1><br><p>  Um die innere Luft des K√∂rpers zu segmentieren, l√∂schen wir alle Objekte, die an die Ecken des 3D-Volumens angrenzen.  So entfernen wir die Au√üenluft. </p><br><p><img src="https://habrastorage.org/webt/_b/ol/mh/_bolmh5kdpm65pt0ysosn-zk4iu.png"></p><br><p>  In nicht allen F√§llen wird jedoch die Luft im Tomographentisch entfernt, da m√∂glicherweise keine Verbindung zu den Ecken des 3D-Volumens besteht. </p><br><p><img src="https://habrastorage.org/webt/mu/m1/bi/mum1bidj1at0nvceitxh5jtzqs4.png"></p><br><p>  Daher scannen wir nicht nur die Ecken, sondern auch alle Voxel, die auf einer der Kantenebenen des f liegen.  Wie wir im Bild unten sehen k√∂nnen, wurden auch die Lungen entfernt.  Es stellt sich heraus, dass die Luftr√∂hre auch eine Verbindung mit der oberen Ebene des 3D-Volumens hatte. </p><br><p><img src="https://habrastorage.org/webt/fu/zb/3b/fuzb3bzxnvxvofjz-mxoelly5w4.gif"></p><br><p>  Wir m√ºssen die oberste Ebene aus dem Scanbereich ausschlie√üen.  Es gibt auch Studien, bei denen die Lunge nicht vollst√§ndig erfasst wurde und die untere Ebene mit der Lunge verbunden ist. <br>  Wenn Sie m√∂chten, k√∂nnen Sie auch die untere Ebene ausschlie√üen. </p><br><p><img src="https://habrastorage.org/webt/uf/ja/mb/ufjambvoavwiks-09hms7wc02lg.png"></p><br><p>  Diese Methode betrifft jedoch nur Brustuntersuchungen.  Bei der Erfassung des gesamten K√∂rpervolumens tritt die Verbindung von innerer und √§u√üerer Luft durch die Nasenh√∂hle auf. Daher ist es notwendig, morphologische Erosion anzuwenden, um die innere und √§u√üere Luft zu trennen. </p><br><p><img src="https://habrastorage.org/webt/zf/za/ej/zfzaejokke75l8wiqqj20ma_mjs.gif"></p><br><p>  Nach dem Anwenden der Erosion k√∂nnen wir zu der zuvor erhaltenen Methode zur Segmentierung der Au√üenluft zur√ºckkehren, die auf der Konnektivit√§t der Au√üenluft mit den Seitenebenen des 3D-Volumens basiert. </p><br><p><img src="https://habrastorage.org/webt/yj/i7/nh/yji7nhiveqpxbky3_qgj9b6n0zq.png"></p><br><p>  Nach der Segmentierung der Au√üenluft konnten wir die Au√üenluft sofort vom gesamten Luft- und Lungenvolumen abziehen und die Innenluft von K√∂rper und Lunge abrufen.  Es gibt jedoch ein Problem.  Nach der Erosion gingen einige Informationen √ºber die Au√üenluft verloren.  Um es wiederherzustellen, wenden wir eine Erweiterung der Au√üenluft an. </p><br><p><img src="https://habrastorage.org/webt/vn/tu/ns/vntunsho-og3pm1at7dqi3_ltna.gif"></p><br><p>  Als n√§chstes subtrahieren wir die Au√üenluft von der gesamten Luft und den Atmungsorganen und erhalten die Innenluft und die Atmungsorgane. </p><br><p><img src="https://habrastorage.org/webt/fr/hx/df/frhxdfz7ax9fz-ps7x9zjrlgiqo.png"></p><br><p><img src="https://habrastorage.org/webt/mw/d6/qc/mwd6qcn4xkuj5m5xsp-trc0usk4.png"></p><br><h1 id="paragraph7">  Segmentierung des Objekts mit maximalem Volumen </h1><br><p>  Als n√§chstes segmentieren wir die Atmungsorgane als maximales Volumenobjekt.  Die Atmungsorgane haben keine Verbindung zur Luft im Magen-Darm-Trakt. </p><br><p><img src="https://habrastorage.org/webt/7l/gt/bd/7lgtbdfvf0st73wqzlacvax1r-0.png"><img src="https://habrastorage.org/webt/5d/ce/8u/5dce8urp2qvopyat905ex9y_qqs.png"></p><br><p>  Es ist anzumerken, dass die richtige Wahl der Radiodensit√§tsschwelle im ersten Schritt wichtig ist.  Andernfalls besteht in einigen F√§llen aufgrund der geringen Aufl√∂sung m√∂glicherweise keine Verbindung zwischen den beiden Lungen.  Wenn wir beispielsweise annehmen, dass Voxel der Atmungsorgane eine Radiodichte von -500 HE und weniger aufweisen, f√ºhrt die Segmentierung der Atmungsorgane als gr√∂√ütes Volumenobjekt im folgenden Fall zu einem Fehler, da kein Zusammenhang zwischen diesen besteht die zwei Lungen.  Daher sollte der Schwellenwert auf -300 HE erh√∂ht werden. </p><br><p><img src="https://habrastorage.org/webt/jr/mi/m2/jrmim2de5siht6zo2nhoz8l1e5e.png"></p><br><h1 id="paragraph8">  Schlie√üen der Gef√§√üe in der Lunge </h1><br><p>  Um die Gef√§√üe in der Lunge zu erfassen, verwenden wir den morphologischen Verschluss, dh die Erweiterung, gefolgt von der Erosion mit demselben Radius.  Die Radiodichte der Gef√§√üe (ohne Kontrastmittel) betr√§gt etwa 0..100 HU. </p><br><p><img src="https://habrastorage.org/webt/po/1a/nz/po1anz0m9em66lsawok9fuwncvo.png"></p><br><p>  Auf dem Bild sehen wir, dass gro√üe Blutkan√§le nicht geschlossen sind.  Dies ist jedoch nicht erforderlich.  Der Zweck dieser Operation war es, die vielen kleinen L√∂cher in der Lunge zu zerst√∂ren, um den Lungensegmentierungsprozess in den n√§chsten Schritten zu vereinfachen. </p><br><h1 id="paragraph9">  Segmentierungsalgorithmus f√ºr Atmungsorgane </h1><br><p>  Als Ergebnis erhalten wir den folgenden Segmentierungsalgorithmus f√ºr Atmungsorgane: </p><br><ol><li>  Schwellenwerttransformation des Basisvolumens mit dem Schwellenwert "&lt;-300 HU". </li><li>  Morphologische Erosion mit einem Radius von 3 mm zur Trennung von Au√üen- und Innenluft. </li><li>  Segmentierung der Au√üenluft basierend auf der Au√üenluftverbindung mit den Grenzseitenebenen des 3D-Volumens. </li><li>  Morphologische Erweiterung der Au√üenluft zur Wiederherstellung der nach der Erosion verlorenen Informationen. </li><li>  Subtraktion der Au√üenluft von der gesamten Luft und den Atmungsorganen, um die Innenluft und die Atmungsorgane zu erhalten. </li><li>  Segmentierung des Objekts mit maximalem Volumen. </li><li>  Morphologisches Schlie√üen der Gef√§√üe in der Lunge. </li></ol><br><p><img src="https://habrastorage.org/webt/pv/xf/ee/pvxfee1i06siq8wa66ynzbuxku0.png"></p><br><h1 id="paragraph10">  Algorithmusimplementierung in MATLAB </h1><br><h3 id="function-getrespiratoryorgans">  Funktion "getRespiratoryOrgans" </h3><br><pre><code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">% Returns the whole respiratory organs volume (lung and airway volume) % without separating of the left and right lung. % V = base volume with radiodensity data in Hounsfield units. % cr = radius of vessels morphological closing. % ci = iteration count of vessels morphological closing (fe 3-times % make dilation and after that 3-times make erosion. function RO = getRespiratoryOrgans(V,cr,ci) % Threshold transform of the base volume with the threshold level "&lt;-300 HU". AL=~imbinarize(V,-300); % Morphological erosion with the 3 mm radius for the separation of external % and internal air. SE=strel('sphere',3); EAL=imerode(AL,SE); % Segmentation of external air based on external air connectivity with the % boundary side planes of the 3D volume. EA=getExternalAir(EAL); % Morphological dilation of the external air to restore the information lost % after the erosion. DEA=EA; for i=1:4 DEA=imdilate(DEA,SE); DEA=DEA&amp;AL; end % Subtraction of the external air from the whole air and respiratory organs to % obtain the internal air and respiratory organs. IAL=AL-DEA; % Segmentation of the maximum volume object. RO=getMaxObject(IAL); Morphological closing of the vessels inside the lungs. RO=closeVoxelVolume(RO,3,2);</span></span></code> </pre> <br><h3 id="function-getexternalair">  Funktion "getExternalAir" </h3><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">% Returns the volume which is connected with the edge surfaces of % the voxel scene (except the top surface, because lungs can have % a connection with the top surface). % EAL = eroded lung-and-air binarized volume. function EA = getExternalAir(EAL) % The ‚Äúbwlabeln‚Äù function segments objects: voxels of a one object % equates to 1, and of another one - to 2, etc. V=bwlabeln(EAL); % We request such characteristics of the objects as bounding box and % list of all object voxels. R=regionprops3(V,'BoundingBox','VoxelList'); n=height(R); % Create a 3D matrix for storing external air voxels. s=size(EAL); EA=zeros(s,'logical'); % Scan all the objects to find objects belonging to the external air. for i=1:n % Define the minimum and maximum x and y coordinates of the object. x0=R(i,1).BoundingBox(1); y0=R(i,1).BoundingBox(2); x1=x0+R(i,1).BoundingBox(4); y1=y0+R(i,1).BoundingBox(5); % If the edge voxels of the object are in contact with the side planes of % the 3D volume, then copy all the voxels of this object into the matrix EA. if (x0 &lt; 1 || x1 &gt; s(1)-1 || y0 &lt; 1 || y1 &gt; s(2)-1) % Convert the object voxel coordinates data to the matrix type: % [[x1 y1 z1] [x2 y2 z3] ... [xn yn zn]]. mat=cell2mat(R(i,2).VoxelList); ms=size(mat); % Fill the matrix containing the voxels of the external air. for j=1:ms(1) x=mat(j,2); y=mat(j,1); z=mat(j,3); EA(x,y,z)=1; end end end</span></span></code> </pre> <br><h3 id="function-getmaxobject">  Funktion "getMaxObject" </h3><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">% Returns the largest object in the voxel volume V. % O = the voxels of the largest object. % m = the volume of the largest object. function [O,m] = getMaxObject(V) % Segment the objects. V=bwlabeln(V); % Reqiest the information about the objects volume and objects voxel coordinates. R=regionprops3(V,'Volume','VoxelList'); % Determine the index of the maximum volume object. v=R(:,1).Volume; [m,i]=max(v); % Create the 3D matrix for storing the largest object voxels. s=size(V); O=zeros(s,'logical'); % Copy the largest object voxels to the new matrix. mat=cell2mat(R(i,2).VoxelList); ms=size(mat); for j=1:ms(1) x=mat(j,2); y=mat(j,1); z=mat(j,3); O(x,y,z)=1; end</span></span></code> </pre> <br><p>  Der Quellcode kann √ºber die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Referenz</a> heruntergeladen werden. </p><br><h1 id="paragraph11">  Fazit </h1><br><p>  Die folgenden Artikel werden sein: </p><br><ol><li>  Segmentierung der Luftr√∂hre und der Bronchien; </li><li>  Lungensegmentierung; </li><li>  Segmentierung der Lungenlappen. </li></ol><br><p>  Die folgenden Algorithmen werden ber√ºcksichtigt: </p><br><ol><li>  Entfernungstransformation; </li><li>  Transformation des n√§chsten Nachbarn, auch als Feature-Transformation bekannt; </li><li>  Berechnung der Eigenwerte der Hessischen Matrix zur Segmentierung flacher 3D-Objekte; </li><li>  Segmentierung von Wassereinzugsgebieten. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de461329/">https://habr.com/ru/post/de461329/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de461319/index.html">Was macht ein Spieledesigner?</a></li>
<li><a href="../de461321/index.html">Generische und Metaprogrammiermodelle: Go, Rust, Swift, D und andere</a></li>
<li><a href="../de461323/index.html">Eine leicht zug√§ngliche Erkl√§rung des Wellenfunktionskollapsalgorithmus</a></li>
<li><a href="../de461325/index.html">Sieg bei PHDays 9. Wir teilen Life Hacks in drei Teilen. Teil 3</a></li>
<li><a href="../de461327/index.html">Frontend-Krise?</a></li>
<li><a href="../de461333/index.html">ITX5 Mitap: Live JAVA, Kotlin Magic und Tomatenzunder</a></li>
<li><a href="../de461339/index.html">Wie man datengetrieben ist. Von Anfang an</a></li>
<li><a href="../de461341/index.html">Mobile Entwicklung hh.ru und wo es lebt</a></li>
<li><a href="../de461345/index.html">Wie wir menschliche W√§rme in Elektrizit√§t umwandelten</a></li>
<li><a href="../de461349/index.html">Timlid oder Hin und zur√ºck</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>