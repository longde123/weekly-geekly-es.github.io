<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèåÔ∏è üßê üèÇüèø ‚ÄúConfiabilidade e confiabilidade como no Google‚Äù - e n√£o apenas: tradu√ß√£o do artigo ‚ÄúC√°lculo da confiabilidade do servi√ßo‚Äù üë®üèΩ‚Äçüéì üëí üè£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A principal tarefa dos servi√ßos comerciais (e n√£o comerciais tamb√©m) √© estar sempre dispon√≠vel para o usu√°rio. Embora todos falhem, a quest√£o √© o que ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>‚ÄúConfiabilidade e confiabilidade como no Google‚Äù - e n√£o apenas: tradu√ß√£o do artigo ‚ÄúC√°lculo da confiabilidade do servi√ßo‚Äù</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/435662/"><img src="https://habrastorage.org/webt/4y/cb/hg/4ycbhgnlttaomlm6vkgjdlorwgi.png" alt="imagem"><br><br>  A principal tarefa dos servi√ßos comerciais (e n√£o comerciais tamb√©m) √© estar sempre dispon√≠vel para o usu√°rio.  Embora todos falhem, a quest√£o √© o que a equipe de TI faz para minimiz√°-los.  Traduzimos um artigo de Ben Treynor, Mike Dahlin, Vivek Rau e Betsy Beyer ‚ÄúC√°lculo da confiabilidade do servi√ßo‚Äù, que diz, incluindo, por exemplo, o Google, por que 100% √© um ponto de refer√™ncia errado para o indicador de confiabilidade, qual √© a ‚Äúregra dos quatro noves‚Äù e como, na pr√°tica, prever matematicamente a viabilidade de interrup√ß√µes grandes e pequenas do servi√ßo e / ou de seus componentes cr√≠ticos - a quantidade esperada de tempo de inatividade, o tempo necess√°rio para detectar uma falha e o tempo para restaurar o servi√ßo. <a name="habracut"></a><br><br><h2 id="raschet-nadezhnosti-servisa">  C√°lculo da confiabilidade do servi√ßo </h2><br><h3 id="vasha-sistema-nadezhna-nastolko-naskolko-nadezhny-eyokomponenty">  <em>Seu sistema √© t√£o confi√°vel quanto seus componentes</em> </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ben Trainor, Mike Dalin, Vivec Rau, Betsy Beyer</a> </p><br><p>  Conforme descrito no livro " <em>Engenharia de confiabilidade do site: Confiabilidade e confiabilidade como no Google</em> " (doravante referido como livro de SRE), o desenvolvimento de produtos e servi√ßos do Google pode atingir alta velocidade de libera√ß√£o de novas fun√ß√µes, mantendo o SLO agressivo (objetivos de n√≠vel de servi√ßo, metas de n√≠vel de servi√ßo) ) para garantir alta confiabilidade e resposta r√°pida.  Os SLOs exigem que o servi√ßo esteja quase sempre em boas condi√ß√µes e quase sempre r√°pido.  Al√©m disso, os SLOs tamb√©m indicam os valores exatos disso "quase sempre" para um servi√ßo espec√≠fico.  Os SLOs s√£o baseados nas seguintes observa√ß√µes: </p><br><p>  <em>Geralmente, para qualquer servi√ßo ou sistema de software, 100% √© o ponto de refer√™ncia errado para o indicador de confiabilidade, pois nenhum usu√°rio pode notar a diferen√ßa entre 100% e 99.999% de disponibilidade.</em>  <em>Entre o usu√°rio e o servi√ßo, existem muitos outros sistemas (laptop, Wi-Fi dom√©stico, provedor, fonte de alimenta√ß√£o ...), e todos esses sistemas agregados est√£o dispon√≠veis n√£o em 99,999% dos casos, mas com muito menos frequ√™ncia.</em>  <em>Portanto, a diferen√ßa entre 99,999% e 100% √© perdida devido a fatores aleat√≥rios causados ‚Äã‚Äãpela inacessibilidade de outros sistemas, e o usu√°rio n√£o se beneficia do fato de termos investido muito esfor√ßo em atingir essa √∫ltima fra√ß√£o da porcentagem de disponibilidade do sistema.</em>  <em>Exce√ß√µes s√©rias a esta regra s√£o freios e marcapassos antibloqueio!</em> </p><br><p> Para uma discuss√£o detalhada de como os SLOs se relacionam com os SLIs (indicadores de n√≠vel de servi√ßo) e os SLAs (acordos de n√≠vel de servi√ßo), consulte o cap√≠tulo N√≠vel de servi√ßo de destino do SRE.  Este cap√≠tulo tamb√©m descreve em detalhes como selecionar m√©tricas relevantes para um servi√ßo ou sistema espec√≠fico, o que, por sua vez, determina a escolha do SLO apropriado para esse servi√ßo ou sistema. </p><br><p>  Este artigo estende o t√≥pico SLO para se concentrar nos componentes de servi√ßo.  Em particular, examinaremos como a confiabilidade de componentes cr√≠ticos afeta a confiabilidade de um servi√ßo, bem como como projetar sistemas para mitigar o impacto ou reduzir o n√∫mero de componentes cr√≠ticos. </p><br><p>  A maioria dos servi√ßos oferecidos pelo Google visa fornecer 99,99% (√†s vezes chamado de "quatro noves") de acessibilidade para os usu√°rios.  Para alguns servi√ßos, um n√∫mero menor √© indicado no contrato do usu√°rio, no entanto, a meta de 99,99% √© armazenada dentro da empresa.  Essa barra superior oferece uma vantagem em situa√ß√µes em que os usu√°rios reclamam do desempenho do servi√ßo muito antes da viola√ß√£o dos termos do contrato, uma vez que o objetivo n√∫mero 1 da equipe do SRE √© fazer os usu√°rios felizes com os servi√ßos.  Para muitos servi√ßos, uma meta interna de 99,99% representa o meio termo, que equilibra custo, complexidade e confiabilidade.  Para alguns outros, em particular os servi√ßos globais de nuvem, a meta interna √© de 99,999%. </p><br><h2 id="nadezhnost-9999-nablyudeniya-i-vyvody">  Confiabilidade 99,99%: observa√ß√µes e conclus√µes </h2><br><p>  Vejamos algumas observa√ß√µes e conclus√µes importantes sobre o design e a opera√ß√£o do servi√ßo com uma confiabilidade de 99,99%, e depois passemos √† pr√°tica. </p><br><h4 id="nablyudenie-1-prichiny-sboev">  Observa√ß√£o n¬∫ 1: causas de falhas </h4><br><p>  As falhas ocorrem por dois motivos principais: problemas com o pr√≥prio servi√ßo e problemas com componentes cr√≠ticos do servi√ßo.  Um componente cr√≠tico √© um componente que, no caso de uma falha, causa uma falha correspondente na opera√ß√£o de todo o servi√ßo. </p><br><h4 id="nablyudenie-2-matematika-nadezhnosti">  Observa√ß√£o n¬∫ 2: Matem√°tica de confiabilidade </h4><br><p>  A confiabilidade depende da frequ√™ncia e dura√ß√£o do tempo de inatividade.  √â medido atrav√©s de: </p><br><ul><li>  Freq√º√™ncia ociosa ou inversa: MTTF (tempo m√©dio at√© a falha). </li><li>  Tempo de inatividade, MTTR (tempo m√©dio para reparo).  O tempo de inatividade √© determinado pelo tempo do usu√°rio: desde o in√≠cio do mau funcionamento at√© a retomada da opera√ß√£o normal do servi√ßo. <br>  Assim, a confiabilidade √© matematicamente definida como MTTF / (MTTF + MTTR) usando as unidades apropriadas. </li></ul><br><h4 id="vyvod-1-pravilo-dopolnitelnyh-devyatok">  Conclus√£o # 1: Regra de noves extras </h4><br><p>  Um servi√ßo n√£o pode ser mais confi√°vel do que todos os seus componentes cr√≠ticos combinados.  Se seu servi√ßo procura garantir a disponibilidade em um n√≠vel de 99,99%, todos os componentes cr√≠ticos devem estar dispon√≠veis significativamente mais de 99,99% do tempo. <br>  Dentro do Google, usamos a seguinte regra geral: os componentes cr√≠ticos devem fornecer noves adicionais em compara√ß√£o com a confiabilidade declarada do seu servi√ßo - no exemplo acima, 99,999% de disponibilidade - porque qualquer servi√ßo ter√° v√°rios componentes cr√≠ticos, al√©m de seus pr√≥prios problemas espec√≠ficos.  Isso √© chamado de "regra dos noves extras". <br>  Se voc√™ possui um componente cr√≠tico que n√£o fornece noves suficientes (um problema relativamente comum!), Voc√™ deve minimizar as consequ√™ncias negativas. </p><br><h4 id="vyvod-2-matematika-chastoty-vremeni-obnaruzheniya-ivremeni-vosstanovleniya">  Conclus√£o No. 2: Matem√°tica da frequ√™ncia, tempo de detec√ß√£o e tempo de recupera√ß√£o </h4><br><p>  Um servi√ßo n√£o pode ser mais confi√°vel que o produto da frequ√™ncia de incidentes e do tempo de detec√ß√£o e recupera√ß√£o.  Por exemplo, tr√™s desligamentos totais por ano de 20 minutos cada levam a um total de 60 minutos de tempo de inatividade.  Mesmo que o servi√ßo funcionasse perfeitamente no resto do ano, seria imposs√≠vel 99,99% de confiabilidade (n√£o mais que 53 minutos de inatividade por ano). <br>  Essa √© uma observa√ß√£o matem√°tica simples, mas geralmente √© ignorada. </p><br><h4 id="zaklyuchenie-izvyvodov-1i-2">  Conclus√£o das conclus√µes n¬∫s 1 e 2 </h4><br><p>  Se o n√≠vel de confiabilidade em que seu servi√ßo depende n√£o puder ser alcan√ßado, devem ser feitos esfor√ßos para corrigir a situa√ß√£o - aumentando a disponibilidade do servi√ßo ou minimizando as consequ√™ncias negativas, conforme descrito acima.  Reduzir as expectativas (isto √©, confiabilidade declarada) tamb√©m √© uma op√ß√£o, e geralmente a mais verdadeira: deixe claro para o servi√ßo dependente de voc√™ que ele deve reconstruir seu sistema para compensar o erro na confiabilidade do seu servi√ßo ou reduzir suas pr√≥prias metas de n√≠vel de servi√ßo .  Se voc√™ mesmo n√£o eliminar a discrep√¢ncia, uma falha suficientemente longa do sistema exigir√° inevitavelmente ajustes. </p><br><h2 id="prakticheskoe-primenenie">  Aplica√ß√£o pr√°tica </h2><br><p>  Vejamos um exemplo de servi√ßo com uma confiabilidade de destino de 99,99% e elabore os requisitos para seus componentes e trabalhe com suas falhas. </p><br><h4 id="cifry">  Figuras </h4><br><p>  Suponha que seu servi√ßo de 99,99% esteja dispon√≠vel com as seguintes caracter√≠sticas: </p><br><ul><li>  Uma grande interrup√ß√£o e tr√™s pequenas interrup√ß√µes por ano.  Parece assustador, mas observe que um n√≠vel de confian√ßa de 99,99% implica em um tempo de inatividade em larga escala de 20 a 30 minutos e em alguns desligamentos parciais curtos por ano.  (A matem√°tica indica que: a) a falha de um segmento n√£o √© considerada uma falha de todo o sistema do ponto de vista do SLO eb) a confiabilidade total √© calculada pela soma da confiabilidade dos segmentos.) </li><li>  Cinco componentes cr√≠ticos na forma de outros servi√ßos independentes com confiabilidade de 99,999%. </li><li>  Cinco segmentos independentes que n√£o podem falhar um ap√≥s o outro. </li><li>  Todas as altera√ß√µes s√£o realizadas gradualmente, um segmento de cada vez. </li></ul><br><p>  O c√°lculo matem√°tico da confiabilidade ser√° o seguinte: </p><br><h4 id="trebovaniya-kkomponentam">  Requisitos de componentes </h4><br><ul><li>  O limite total de erros para o ano √© de 0,01% de 525.600 minutos por ano ou 53 minutos (com base no ano de 365 dias, no pior cen√°rio). </li><li>  O limite alocado para o desligamento de componentes cr√≠ticos √© de cinco componentes cr√≠ticos independentes, com um limite de 0,001% cada = 0,005%;  0,005% de 525.600 minutos por ano ou 26 minutos. </li><li>  O limite de erro restante do seu servi√ßo √© 53-26 = 27 minutos. </li></ul><br><h4 id="trebovaniya-kreagirovaniyu-naotklyucheniya">  Requisitos de resposta de desligamento </h4><br><ul><li>  Tempo de inatividade esperado: 4 (1 desligamento total e 3 desligamentos que afetam apenas um segmento) </li><li>  O efeito cumulativo das interrup√ß√µes previstas: (1 √ó 100%) + (3 √ó 20%) = 1,6 </li><li>  Detec√ß√£o e recupera√ß√£o de falhas ap√≥s: 27 / 1,6 = 17 minutos </li><li>  Tempo alocado para o monitoramento para detectar uma falha e notific√°-la: 2 minutos </li><li>  Tempo concedido ao especialista de plant√£o para iniciar a an√°lise do alerta: 5 minutos.  (O sistema de monitoramento deve rastrear viola√ß√µes de SLO e enviar um sinal ao pager de plant√£o toda vez que ocorre uma falha do sistema. Muitos servi√ßos do Google s√£o suportados por engenheiros de turno e turno de plant√£o que respondem a perguntas urgentes.) </li><li>  Tempo restante para minimizar efetivamente os efeitos adversos: 10 minutos </li></ul><br><h2 id="vyvod-rychagi-dlya-uvelicheniya-nadezhnosti-servisa">  Conclus√£o: alavancagem para aumentar a confiabilidade do servi√ßo </h2><br><p>  Vale a pena examinar cuidadosamente os n√∫meros apresentados, pois enfatizam o ponto fundamental: existem tr√™s alavancas principais para aumentar a confiabilidade do servi√ßo. </p><br><ul><li>  Reduza a frequ√™ncia de interrup√ß√µes - por meio de pol√≠ticas de libera√ß√£o, testes, avalia√ß√µes peri√≥dicas da estrutura do projeto, etc. </li><li>  Reduza seu tempo de inatividade m√©dio com segmenta√ß√£o, isolamento geogr√°fico, degrada√ß√£o gradual ou isolamento do cliente. </li><li>  Reduza o tempo de recupera√ß√£o - com monitoramento, opera√ß√µes de resgate com um bot√£o (por exemplo, retornando a um estado anterior ou adicionando energia em espera), pr√°ticas de prontid√£o operacional, etc. <br>  Voc√™ pode equilibrar esses tr√™s m√©todos para simplificar a implementa√ß√£o da toler√¢ncia a falhas.  Por exemplo, se for dif√≠cil obter um MTTR de 17 minutos, concentre-se em reduzir o tempo de inatividade m√©dio.  Estrat√©gias para minimizar os efeitos adversos e mitigar os efeitos dos componentes cr√≠ticos s√£o discutidas em mais detalhes posteriormente neste artigo. </li></ul><br><h2 id="utochnenie-pravila-dopolnitelnyh-devyatok-dlya-vlozhennyh-komponentov">  Esclarecimento ‚ÄúRegras para noves adicionais‚Äù para componentes aninhados </h2><br><p>  Um leitor aleat√≥rio pode concluir que cada link adicional na cadeia de depend√™ncia requer nove adicionais; portanto, nove adicionais s√£o necess√°rios para depend√™ncias de segunda ordem, tr√™s adicionais s√£o necess√°rios para depend√™ncias de terceira ordem, etc. </p><br><p>  Esta √© a conclus√£o errada.  √â baseado em um modelo ing√™nuo de uma hierarquia de componentes na forma de uma √°rvore com uma ramifica√ß√£o constante em cada n√≠vel.  Nesse modelo, como mostrado na Fig.  1, existem 10 componentes de primeira ordem exclusivos, 100 componentes de segunda ordem exclusivos, 1.000 componentes de terceira ordem exclusivos, etc., resultando em um total de 1.111 servi√ßos exclusivos, mesmo se a arquitetura estiver limitada a quatro camadas.  Um ecossistema de servi√ßos altamente confi√°veis ‚Äã‚Äãcom tantos componentes cr√≠ticos independentes √© claramente irrealista. </p><br><img src="https://habrastorage.org/webt/u6/lt/p3/u6ltp33ofzyn8qgmvvgtnlfi90u.png" alt="imagem"><br><p>  <i>Fig.</i>  <i>1 - Hierarquia de componentes: modelo inv√°lido</i> </p><br><p>  Um componente cr√≠tico por si s√≥ pode causar a falha de todo o servi√ßo (ou segmento de servi√ßo), independentemente de onde esteja na √°rvore de depend√™ncia.  Portanto, se um determinado componente de X for exibido como uma depend√™ncia de v√°rios componentes de primeira ordem, X dever√° ser contado apenas uma vez, pois sua falha levar√° a uma falha de servi√ßo, independentemente de quantos servi√ßos intermedi√°rios tamb√©m sejam afetados. </p><br><p>  Uma leitura correta da regra √© a seguinte: </p><br><ul><li>  Se um servi√ßo tiver N componentes cr√≠ticos exclusivos, cada um deles contribuir√° com 1 / N para a falta de confiabilidade de todo o servi√ßo causado por esse componente, n√£o importa qu√£o baixo seja na hierarquia de componentes. </li><li>  Cada componente deve ser contado apenas uma vez, mesmo que apare√ßa v√°rias vezes na hierarquia de componentes (em outras palavras, apenas componentes √∫nicos s√£o contados).  Por exemplo, ao calcular os componentes do Servi√ßo A na Fig.  2, o Servi√ßo B deve ser considerado apenas uma vez. </li></ul><br><img src="https://habrastorage.org/webt/ng/_y/8h/ng_y8hcswjcctczza1mkhzaejb0.png" alt="imagem"><br><p>  <i>Fig.</i>  <i>2 - Componentes na hierarquia</i> </p><br><p>  Por exemplo, considere um servi√ßo hipot√©tico A com um limite de erro de 0,01 por cento.  Os propriet√°rios do servi√ßo est√£o prontos para gastar metade desse limite em seus pr√≥prios erros e perdas e metade em componentes cr√≠ticos.  Se o servi√ßo tiver N tais componentes, cada um deles receber√° 1 / N do limite de erro restante.  Os servi√ßos t√≠picos geralmente t√™m de 5 a 10 componentes cr√≠ticos e, portanto, cada um deles pode recusar apenas um d√©cimo ou um vig√©simo grau do limite de erro do Servi√ßo A. Portanto, como regra, as partes cr√≠ticas do servi√ßo devem ter nove confiabilidade adicionais. </p><br><h2 id="limity-oshibok">  Limites de erro </h2><br><p>  O conceito de limites de erro √© abordado com alguns detalhes no livro SRE, mas aqui deve ser mencionado.  Os engenheiros do Google SR usam limites de erro para equilibrar a confiabilidade e o ritmo das atualiza√ß√µes.  Esse limite determina o n√≠vel aceit√°vel de falha do servi√ßo por um determinado per√≠odo de tempo (geralmente um m√™s).  O limite de erro √© de apenas 1 menos o SLO do servi√ßo; portanto, o servi√ßo dispon√≠vel de 99,99% dispon√≠vel discutido anteriormente possui um "limite" de 0,01% na falta de confiabilidade.  At√© o servi√ßo esgotar seu limite de erros dentro de um m√™s, a equipe de desenvolvimento estar√° livre (dentro do motivo) para lan√ßar novas fun√ß√µes, atualiza√ß√µes etc. </p><br><p>  Se o limite de erro for esgotado, as altera√ß√µes no servi√ßo ser√£o suspensas (com exce√ß√£o de corre√ß√µes de seguran√ßa urgentes e altera√ß√µes destinadas a causar a viola√ß√£o em primeiro lugar) at√© que o servi√ßo reponha a reserva no limite de erro ou at√© que o m√™s mude.  Muitos servi√ßos no Google usam um m√©todo de janela deslizante para o SLO, para que o limite de erros seja restaurado gradualmente.  Para servi√ßos s√©rios com um SLO de mais de 99,99%, √© recomend√°vel usar uma redefini√ß√£o zero trimestral em vez de mensal, porque o n√∫mero de tempo de inatividade permitido √© pequeno. </p><br><p>  Os limites de erro eliminam a tens√£o entre departamentos que poderiam surgir entre engenheiros de SR e desenvolvedores de produtos, fornecendo a eles uma ferramenta comum de avalia√ß√£o de risco baseada em dados para o lan√ßamento de um produto.  Eles tamb√©m d√£o aos engenheiros e equipes de desenvolvimento de SR um objetivo comum de desenvolver m√©todos e tecnologias que lhes permitam inovar mais rapidamente e lan√ßar produtos sem um "or√ßamento inchado". </p><br><h2 id="strategii-sokrascheniya-i-smyagcheniya-vliyaniya-kriticheskih-komponentov">  Estrat√©gias cr√≠ticas de redu√ß√£o e mitiga√ß√£o de componentes </h2><br><p>  Neste ponto, neste artigo, estabelecemos o que pode ser chamado de <strong>"Regra de Ouro para Confiabilidade de Componentes"</strong> .  Isso significa que a confiabilidade de qualquer componente cr√≠tico deve ser 10 vezes maior que o n√≠vel-alvo de confiabilidade de todo o sistema, para que sua contribui√ß√£o para a falta de confiabilidade do sistema permane√ßa no n√≠vel de erro.  Daqui resulta que, no caso ideal, a tarefa √© tornar o m√°ximo poss√≠vel de componentes n√£o cr√≠ticos.  Isso significa que os componentes podem aderir a um n√≠vel mais baixo de confiabilidade, dando aos desenvolvedores a oportunidade de inovar e assumir riscos. </p><br><p>  A estrat√©gia mais simples e √≥bvia para reduzir depend√™ncias cr√≠ticas √© eliminar pontos √∫nicos de falha sempre que poss√≠vel.  Um sistema maior deve poder operar de forma aceit√°vel sem nenhum componente que n√£o seja depend√™ncia cr√≠tica ou SPOF. <br>  De fato, voc√™ provavelmente n√£o pode se livrar de todas as depend√™ncias cr√≠ticas;  mas voc√™ pode seguir algumas diretrizes de design do sistema para otimizar a confiabilidade.  Embora isso nem sempre seja poss√≠vel, √© mais f√°cil e mais eficiente obter alta confiabilidade do sistema se voc√™ depositar confiabilidade nos est√°gios de design e planejamento, e n√£o depois que o sistema funcionar e afetar os usu√°rios reais. </p><br><h4 id="ocenka-struktury-proekta">  Avalia√ß√£o da estrutura do projeto </h4><br><p>  Ao planejar um novo sistema ou servi√ßo, ou ao redesenhar ou aprimorar um sistema ou servi√ßo existente, uma revis√£o da arquitetura ou do projeto pode revelar uma infraestrutura comum, bem como depend√™ncias internas e externas. </p><br><h4 id="razdelyaemaya-infrastruktura">  Infraestrutura compartilhada </h4><br><p>  Se o seu servi√ßo usar uma infraestrutura compartilhada (por exemplo, o principal servi√ßo de banco de dados usado por v√°rios produtos dispon√≠veis para os usu√°rios), considere se essa infraestrutura √© usada corretamente.  Identifique claramente os propriet√°rios da infraestrutura compartilhada como participantes adicionais do projeto.  Al√©m disso, cuidado com as sobrecargas de componentes - para isso, coordene cuidadosamente o processo de inicializa√ß√£o com os propriet√°rios desses componentes. </p><br><h4 id="vnutrennie-ivneshnie-zavisimosti">  Depend√™ncias internas e externas </h4><br><p>  √Äs vezes, um produto ou servi√ßo depende de fatores fora do controle da sua empresa - por exemplo, de bibliotecas ou servi√ßos de software e dados de terceiros.  A identifica√ß√£o desses fatores minimizar√° as consequ√™ncias imprevis√≠veis de seu uso. </p><br><p>  <strong>Planejar e projetar sistemas com cuidado</strong> <br>  Ao projetar seu sistema, preste aten√ß√£o aos seguintes princ√≠pios: </p><br><h4 id="rezervirovanie-iizolyaciya">  Redund√¢ncia e isolamento </h4><br><p>  Voc√™ pode tentar reduzir o impacto do componente cr√≠tico criando v√°rias inst√¢ncias independentes dele.  Por exemplo, se o armazenamento de dados em uma inst√¢ncia garantir 99,9% da disponibilidade desses dados, o armazenamento de tr√™s c√≥pias em tr√™s c√≥pias amplamente distribu√≠das fornecer√°, em teoria, um n√≠vel de disponibilidade de 1 a 0,013 ou nove noves, se a inst√¢ncia falhar independentemente, com correla√ß√£o zero. </p><br><p>  No mundo real, a correla√ß√£o nunca √© zero (observe as falhas da rede de backbone que afetam muitas c√©lulas ao mesmo tempo); portanto, a confiabilidade real nunca chegar√° perto de nove e nove, mas excede em muito tr√™s. </p><br><p>  Da mesma forma, o envio de uma RPC (chamada de procedimento remoto) para um pool de servidores no mesmo cluster pode fornecer 99% de disponibilidade dos resultados, enquanto o envio de tr√™s RPCs simult√¢neos para tr√™s pools de servidores diferentes e a aceita√ß√£o da primeira resposta ajudar√° a atingir o n√≠vel de disponibilidade superior a tr√™s noves (veja acima).  Essa estrat√©gia tamb√©m pode diminuir o atraso do tempo de resposta se os pools de servidores estiverem equidistantes do remetente RPC.  (Como o custo do envio de tr√™s RPCs ao mesmo tempo √© alto, o Google geralmente aloca estrategicamente o tempo para essas chamadas: a maioria dos nossos sistemas espera um pouco do tempo alocado antes do envio do segundo RPC e um pouco mais de tempo antes do envio do terceiro RPC.) </p><br><h4 id="rezerv-iego-primenenie">  Reserva e sua aplica√ß√£o </h4><br><p>  Configure o lan√ßamento e a portabilidade do software para que os sistemas continuem funcionando quando partes individuais falham (√† prova de falhas) e se isolam quando ocorrem problemas.  O princ√≠pio b√°sico aqui √© que, quando voc√™ conectar a pessoa para ativar a reserva, √© prov√°vel que voc√™ exceda o seu limite de erro. </p><br><h4 id="asinhronnost">  Assincronia </h4><br><p>  Para impedir que os componentes se tornem cr√≠ticos, projete-os de forma ass√≠ncrona sempre que poss√≠vel.  Se um servi√ßo espera uma resposta RPC de uma de suas partes n√£o cr√≠ticas, o que mostra uma forte desacelera√ß√£o no tempo de resposta, essa desacelera√ß√£o piorar√° desnecessariamente o desempenho do servi√ßo pai.  Definir o RPC para um componente n√£o cr√≠tico para o modo ass√≠ncrono liberar√° o tempo de resposta do servi√ßo pai de ser vinculado ao desempenho desse componente.  E embora a assincronia possa complicar o c√≥digo e a infraestrutura do servi√ßo, ainda assim esse compromisso vale a pena. </p><br><h4 id="planirovanie-resursov">  Planejamento de recursos </h4><br><p>  Verifique se todos os componentes s√£o fornecidos com tudo que voc√™ precisa.  ,     ‚Äî    . </p><br><h4 id="konfiguraciya">  </h4><br><p>     ,           \  . </p><br><h4 id="obnaruzhenie-iustranenie-nepoladok">     </h4><br><p>   ,       .        .        .       ,      . </p><br><h4 id="bystryy-inadezhnyy-otkat-vpredyduschee-sostoyanie">        </h4><br><p>                 SLO.  ,   ,       .   ,    ,       ,    MTTR      . </p><br><h4 id="sistematicheski-proveryayte-vse-vozmozhnye-rezhimy-otkaza">       </h4><br><p>     ,          .    : </p><br><ul><li>               ?  ,    . </li><li>         ?   ?    ? </li></ul><br><h4 id="provedite-tschatelnoe-testirovanie">    </h4><br><p>      ,   ,     ,           .       : </p><br><ul><li>        -,         . </li><li>         / .       . </li><li>    .   ,  ,    .   ,       ;       ,     . </li></ul><br><h4 id="plan-nabuduschee">    </h4><br><p>  ,   : ,         ,            .        ‚Äî     ,     . ,  ,        ,   . <br>    ,             .     ,   Google    ,     10          . </p><br><h2 id="zaklyuchenie">  Conclus√£o </h2><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embora os leitores provavelmente estejam familiarizados com alguns ou muitos dos conceitos descritos neste artigo, exemplos espec√≠ficos de seu uso os ajudar√£o a entender melhor sua ess√™ncia e a transmitir esse conhecimento para outras pessoas. </font><font style="vertical-align: inherit;">Nossas recomenda√ß√µes n√£o s√£o simples, mas inating√≠veis. </font><font style="vertical-align: inherit;">V√°rios servi√ßos do Google demonstraram repetidamente confiabilidade al√©m de quatro noves, n√£o devido a esfor√ßos ou intelig√™ncia sobre-humanos, mas devido √† aplica√ß√£o criteriosa dos princ√≠pios e melhores pr√°ticas desenvolvidas ao longo de muitos anos (consulte o SRE, Ap√™ndice B: Diretrizes Pr√°ticas para Servi√ßos em Opera√ß√µes Industriais).</font></font></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt435662/">https://habr.com/ru/post/pt435662/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt435648/index.html">Bot gera tutoriais de artigos da Wikipedia</a></li>
<li><a href="../pt435650/index.html">Como incorporar uma biblioteca C em uma estrutura Swift</a></li>
<li><a href="../pt435652/index.html">Como n√£o senhas em scripts Python</a></li>
<li><a href="../pt435654/index.html">Armadilhas das propriedades CSS personalizadas</a></li>
<li><a href="../pt435656/index.html">Scooter Rolls Royce - Ninebot KickScooter ES4 da Segway</a></li>
<li><a href="../pt435664/index.html">Falsifica√ß√£o do mecanismo de pesquisa do Google</a></li>
<li><a href="../pt435666/index.html">Dessincroniza√ß√£o ass√≠ncrona: antipadr√µes no trabalho com async / waitit no .NET</a></li>
<li><a href="../pt435668/index.html">Outra lei da primavera: o deputado prop√¥s permitir √† pol√≠cia rastrear a localiza√ß√£o de crian√ßas usando geolocaliza√ß√£o</a></li>
<li><a href="../pt435670/index.html">Algoritmo supremo - distribui√ß√£o de algoritmos por n√≠vel de dificuldade</a></li>
<li><a href="../pt435672/index.html">Como treinar novamente em business intelligence</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>