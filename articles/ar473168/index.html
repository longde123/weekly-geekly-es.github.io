<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕣 🙌🏽 🖕🏼 تغييرات ملفات تعريف الارتباط SameSite القادمة في ASP.NET و ASP.NET Core ♨️ 🆖 🍠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SameSite هو امتداد ملف تعريف ارتباط HTTP 2016 مصمم لمنع تزوير الطلبات عبر المواقع (CSRF). في البداية ، كان تصميمه ميزة إضافية يمكن استخدامها عن طريق إ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>تغييرات ملفات تعريف الارتباط SameSite القادمة في ASP.NET و ASP.NET Core</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/473168/" style=";text-align:right;direction:rtl">  SameSite هو <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">امتداد ملف تعريف ارتباط HTTP</a> 2016 مصمم لمنع تزوير الطلبات عبر المواقع (CSRF).  في البداية ، كان تصميمه ميزة إضافية يمكن استخدامها عن طريق إضافة خاصية SameSite جديدة إلى ملفات تعريف الارتباط.  كان لها معنيان ، لاكس و صارم. <br><br>  عند تعيين قيمة Lax ، من المفهوم أنه يجب إرسال ملفات تعريف الارتباط عند تصفح موقع واحد أو عبر تصفح GET إلى موقعك من مواقع أخرى.  تقتصر القيمة الصارمة لملفات تعريف الارتباط على الطلبات الواردة من موقع واحد فقط.  عدم وجود أي خاصية لا يفرض أي قيود على كيفية عمل ملفات تعريف الارتباط في الطلبات.  يمكن لعمليات المصادقة في OpenIdConnect (مثل تسجيل الدخول وتسجيل الخروج) والوظائف الأخرى التي ترسل طلبات POST من موقع خارجي إلى الموقع تطلب العملية استخدام ملفات تعريف الارتباط لربط و / أو حماية CSRF.  يجب أن ترفض هذه العمليات موقع SameSite دون تعيين خاصية على الإطلاق لضمان إرسال ملفات تعريف الارتباط هذه أثناء تدفق الطلبات المتخصصة. <br><br>  تعمل Google حاليًا على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تحديث المعيار</a> وتقديم التغييرات المقترحة في إصدار مستقبلي من Chrome.  يضيف التغيير نفس SameSite "بلا" القيمة ويغير السلوك الافتراضي إلى "Lax".  هذا يكسر عمليات تسجيل الدخول OpenIdConnect وربما غيرها من الميزات التي يمكن لموقع الويب الخاص بك البناء عليها.  ستحتاج هذه الميزات إلى استخدام ملفات تعريف الارتباط التي تم تعيين خاصية SameSite الخاصة بها إلى بلا. <br><br>  ومع ذلك ، فإن المتصفحات التي تلتزم بالمعيار الأصلي ولا تدرك القيمة الجديدة تتصرف بشكل مختلف عن المتصفحات التي تستخدم المعيار الجديد.  هذا يعني أن موقع الويب .NET الخاص بك سيحتاج الآن إلى إضافة استنشاق وكيل المستخدم لتحديد ما إذا كان سيتم إرسال قيمة بلا جديدة أو عدم إرسال سمة على الإطلاق. <br><br><img src="https://habrastorage.org/webt/k2/2l/7q/k22l7q1la86bjehti0k8zzmdmru.jpeg"><a name="habracut"></a><br><br>  سيتلقى .NET تحديثات لتغيير سلوك سمة SameSite في .NET 4.7.2 و .NET Core 2.1 والإصدارات الأحدث للتكيف مع مقدمة Google للقيمة الجديدة.  ستتوفر تحديثات .NET Framework في 19 نوفمبر كتحديث إضافي من خلال Microsoft Update و WSUS إذا كنت تستخدم ميزة التحقق من وجود تحديثات.  في 10 ديسمبر ، سيصبح التحديث متاحًا للجمهور وسيظهر في مركز Microsoft Update.  ستتوفر تحديثات .NET Core في نوفمبر مع إصدار .NET Core 3.1 ، بدءًا من Preview 1. <br><br>  سيتضمن .NET Core 3.1 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تعريف التعداد المحدّث</a> ، SameSite.Unspecified ، والذي لن يقوم بتعيين خاصية SameSite. <br><br>  سيتم تحديث OpenIdConnect الوسيطة لـ Microsoft.Owin v4.1 و .NET Core بشكل متزامن مع تحديثات .NET Framework و .NET ، ومع ذلك ، لا يمكننا إضافة رمز استنشاق وكيل المستخدم إلى الإطار ، يجب تنفيذ ذلك في رمز موقعك.  يعتمد تطبيق استنشاق الوكيل على إصدار ASP.NET أو ASP.NET Core الذي تستخدمه والمتصفحات التي تريد دعمها. <br><br>  ل ASP.NET 4.7.2 مع Microsoft.Owin 4.1.0 يمكن استنشاق عامل شم باستخدام <a href="">ICookieManager</a> ؛ <br><br><pre style=";text-align:right;direction:rtl"><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SameSiteCookieManager</span></span> : <span class="hljs-title"><span class="hljs-title">ICookieManager</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> ICookieManager _innerManager; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SameSiteCookieManager</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">this</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">new CookieManager(</span></span></span><span class="hljs-function">))</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SameSiteCookieManager</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ICookieManager innerManager</span></span></span><span class="hljs-function">)</span></span> { _innerManager = innerManager; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AppendResponseCookie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IOwinContext context, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> key, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span><span class="hljs-function"><span class="hljs-params">, CookieOptions options</span></span></span><span class="hljs-function">)</span></span> { CheckSameSite(context, options); _innerManager.AppendResponseCookie(context, key, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, options); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeleteCookie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IOwinContext context, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> key, CookieOptions options</span></span></span><span class="hljs-function">)</span></span> { CheckSameSite(context, options); _innerManager.DeleteCookie(context, key, options); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetRequestCookie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IOwinContext context, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> key</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _innerManager.GetRequestCookie(context, key); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckSameSite</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IOwinContext context, CookieOptions options</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (DisallowsSameSiteNone(context) &amp;&amp; options.SameSite == SameSiteMode.None) { options.SameSite = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DisallowsSameSiteNone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IOwinContext context</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment">    User Agent . var userAgent = context.Request.Headers["User-Agent"]; return userAgent.Contains("BrokenUserAgent") || userAgent.Contains("BrokenUserAgent2") } }</span></span></code> </pre> <br>  ثم قم بتكوين إعدادات OpenIdConnect لاستخدام CookieManager الجديد ؛ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">app.UseOpenIdConnectAuthentication( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OpenIdConnectAuthenticationOptions { <span class="hljs-comment"><span class="hljs-comment">// …    … CookieManager = new SameSiteCookieManager(new SystemWebCookieManager()) });</span></span></code> </pre> <br>  لكي يعمل SystemWebCookieManager بشكل صحيح ، ستحتاج إلى تثبيت SameSite .NET 4.7.2 أو أحدث. <br><br>  بالنسبة لـ ASP.NET Core ، يجب تثبيت التصحيحات ثم حقن رمز استنشاق الوكيل في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">سياسة ملفات تعريف الارتباط</a> .  بالنسبة للإصدارات السابقة لـ 3.1 ، استبدل SameSiteMode.Unspecified بـ (SameSiteMode) (- 1). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckSameSite</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">HttpContext httpContext, CookieOptions options</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (options.SameSite &gt; SameSiteMode.Unspecified) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> userAgent = httpContext.Request.Headers[<span class="hljs-string"><span class="hljs-string">"User-Agent"</span></span>].ToString(); <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment">    User Agent . if (/* UserAgent doesn't support new behavior */) { //  .NET Core &lt; 3.1  SameSite = -1 options.SameSite = SameSiteMode.Unspecified; } } } public void ConfigureServices(IServiceCollection services) { services.Configure&lt;CookiePolicyOptions&gt;(options =&gt; { options.MinimumSameSitePolicy = SameSiteMode.Unspecified; options.OnAppendCookie = cookieContext =&gt; CheckSameSite(cookieContext.Context, cookieContext.CookieOptions); options.OnDeleteCookie = cookieContext =&gt; CheckSameSite(cookieContext.Context, cookieContext.CookieOptions); }); } public void Configure(IApplicationBuilder app) { app.UseCookiePolicy(); // Before UseAuthentication or anything else that writes cookies. app.UseAuthentication(); // … }</span></span></code> </pre> <br>  عند الاختبار مع فريق Azure Active Directory ، وجدنا أن الاختبارات التالية تعمل لجميع وكلاء المستخدم المشتركين ، وفقًا لـ Azure Active Directory ، لا يفهمون القيمة الجديدة. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DisallowsSameSiteNone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userAgent</span></span></span><span class="hljs-function">)</span></span> {    <span class="hljs-comment"><span class="hljs-comment">//      iOS.   :    // - Safari  iOS 12  iPhone, iPod Touch, iPad    // - WkWebview  iOS 12  iPhone, iPod Touch, iPad    // - Chrome  iOS 12  iPhone, iPod Touch, iPad    if (userAgent.Contains("CPU iPhone OS 12") || userAgent.Contains("iPad; CPU OS 12"))    {        return true;    }    //     Mac OS X.   :    // - Safari  Mac OS X.    //  :    // - Chrome  Mac OS X    //        Mac OS.    if (userAgent.Contains("Macintosh; Intel Mac OS X 10_14") &amp;&amp; userAgent.Contains("Version/") &amp;&amp; userAgent.Contains("Safari"))    {        return true;    }    //    Chrome 50-69,      SameSite=None.    if (userAgent.Contains("Chrome/5") || userAgent.Contains("Chrome/6"))    {        return true;    }    return false; }</span></span></code> </pre> <br>  قائمة المستعرضات هذه ليست بأي حال من الأحوال شيئًا يمكنك الاعتماد عليه بالكامل ، ويجب عليك التحقق من أن المتصفحات العادية ووكلاء المستخدم الآخرين المدعومين من قِبل النظام لديك يتصرفون بشكل صحيح بعد تثبيت التحديث. <br><br>  من المقرر <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">أن ينتقل</a> Chrome 80 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">إلى سلوك جديد</a> في فبراير أو مارس 2020.  إذا كنت تريد التحقق من السلوك الجديد ، فإن الإصدارات الأقدم من Chromium <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">متاحة للتنزيل</a> . <br><br>  إذا لم تتمكن من ترقية إصدار إطارك بحلول الوقت الذي يمكّن فيه Chrome السلوك الجديد في أوائل عام 2020 ، فقد تتمكن من تغيير دفق OpenIdConnect إلى دفق Code ، وليس إلى دفق يستخدمه ASP.NET و ASP.NET Core.  ولكن هذا يجب أن ينظر إليه كإجراء مؤقت. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  لدعم ASP.NET MVC و Microsoft.Owin ، يمكنك استخدام مستودع Katana GitHub على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/aspnet/AspNetKatana</a> . </li><li style=";text-align:right;direction:rtl">  لدعم ASP.NET Core ، يمكنك استخدام مستودع ASP.NET Core GitHub على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/aspnet/AspNetCore</a> . </li><li style=";text-align:right;direction:rtl">  للحصول على معلومات حول دعم .NET Framework ، راجع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://dotnet.microsoft.com/platform/support/policy/dotnet-framework</a> </li></ul><br>  نوصي بشدة بتنزيل الإصدارات المحدثة من .NET Framework و .NET Core عندما تصبح متوفرة في نوفمبر وبدء التخطيط للتحديث قبل إجراء التغييرات على Chrome. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar473168/">https://habr.com/ru/post/ar473168/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar473150/index.html">الآن هو الوقت المناسب لإنشاء Windows Terminal profiles.json جديد</a></li>
<li><a href="../ar473154/index.html">ودية الفضاء المفتوح JS: التقديم من جانب العميل وإنشاء التفاف</a></li>
<li><a href="../ar473156/index.html">كيفية اختبار المعرفة في الممارسة العملية ، وتلقي فوائد للقبول في برنامج الماجستير والدعوات الوظيفية</a></li>
<li><a href="../ar473158/index.html">كيف يكون حال 75٪ من موظفيك مصابون بالتوحد</a></li>
<li><a href="../ar473166/index.html">ترجمة FFmpeg إلى WebAssembly (= ffmpeg.js): الجزء 3 - تحويل avi إلى mp4</a></li>
<li><a href="../ar473172/index.html">سيناريوهات استخدام خادم Blazor والأداء في .NET Core 3.0</a></li>
<li><a href="../ar473182/index.html">مبدأ زيادة مرونة خصائص ICES الحديثة للسيارات</a></li>
<li><a href="../ar473184/index.html">عامل الميناء + php-fpm + PhpStorm + Xdebug</a></li>
<li><a href="../ar473186/index.html">تخطيط غير بديهي للعناصر على flexbox بدون طلبات وسائط</a></li>
<li><a href="../ar473190/index.html">TAME metformin project: الآراء مقسمة</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>