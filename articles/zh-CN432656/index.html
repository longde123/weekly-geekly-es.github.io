<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â±ï¸ ğŸ ğŸ›ï¸ Pythonç±»å‹æ³¨é‡Šç®€ä»‹ ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¿ ğŸ‘©ğŸ¿â€âš•ï¸ ğŸ†š</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¼•è¨€ 



 Magdalena Tomczykçš„æ’å›¾ 


 ç¬¬äºŒéƒ¨åˆ† 


 Pythonæ˜¯ä¸€ç§å…·æœ‰åŠ¨æ€ç±»å‹çš„è¯­è¨€ï¼Œå®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿè‡ªç”±åœ°æ“çºµä¸åŒç±»å‹çš„å˜é‡ã€‚ ä½†æ˜¯ï¼Œåœ¨ç¼–å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬å‡è®¾å°†ä½¿ç”¨å“ªç§ç±»å‹çš„å˜é‡ï¼ˆè¿™å¯èƒ½æ˜¯ç”±äºç®—æ³•æˆ–ä¸šåŠ¡é€»è¾‘çš„é™åˆ¶æ‰€è‡´ï¼‰ã€‚ å¯¹äºç¨‹åºçš„æ­£ç¡®è¿è¡Œï¼Œå¯¹æˆ‘ä»¬æ¥è¯´ï¼Œé‡è¦çš„æ˜¯è¦åŠæ—©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pythonç±»å‹æ³¨é‡Šç®€ä»‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lamoda/blog/432656/"><h2 id="vvedenie"> å¼•è¨€ </h2><br><p><img src="https://habrastorage.org/webt/y7/ga/db/y7gadbfhjtos8fwsz0adszur0is.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Magdalena Tomczykçš„</a>æ’å›¾ </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬äºŒéƒ¨åˆ†</a> </p><br><p>  Pythonæ˜¯ä¸€ç§å…·æœ‰åŠ¨æ€ç±»å‹çš„è¯­è¨€ï¼Œå®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿè‡ªç”±åœ°æ“çºµä¸åŒç±»å‹çš„å˜é‡ã€‚ ä½†æ˜¯ï¼Œåœ¨ç¼–å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬å‡è®¾å°†ä½¿ç”¨å“ªç§ç±»å‹çš„å˜é‡ï¼ˆè¿™å¯èƒ½æ˜¯ç”±äºç®—æ³•æˆ–ä¸šåŠ¡é€»è¾‘çš„é™åˆ¶æ‰€è‡´ï¼‰ã€‚ å¯¹äºç¨‹åºçš„æ­£ç¡®è¿è¡Œï¼Œå¯¹æˆ‘ä»¬æ¥è¯´ï¼Œé‡è¦çš„æ˜¯è¦åŠæ—©å‘ç°ä¸é”™è¯¯ç±»å‹çš„æ•°æ®ä¼ è¾“ç›¸å…³çš„é”™è¯¯ã€‚ </p><br><p> åœ¨ç°ä»£ç‰ˆæœ¬çš„Pythonï¼ˆ3.6+ï¼‰ä¸­ä¿ç•™äº†åŠ¨æ€ç±»å‹åŒ–é¸­å­çš„æƒ³æ³•ï¼Œå®ƒæ”¯æŒå˜é‡ç±»å‹ï¼Œç±»å­—æ®µï¼Œå‚æ•°å’Œå‡½æ•°çš„è¿”å›å€¼çš„æ³¨é‡Šï¼š </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PEP 3107-åŠŸèƒ½æ³¨é‡Š</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PEP 484-ç±»å‹æç¤º</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PEP 526-å˜é‡æ³¨é‡Šçš„è¯­æ³•</a> </li><li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code> typing</code></a> </li> </ul><br><p> ç±»å‹æ³¨é‡Šä»…ç”±Pythonè§£é‡Šå™¨è¯»å–ï¼Œä¸å†å¤„ç†ï¼Œä½†å¯ä»ç¬¬ä¸‰æ–¹ä»£ç ä½¿ç”¨ï¼Œå¹¶ä¸”ä¸»è¦è®¾è®¡ç”¨äºé™æ€åˆ†æå™¨ã€‚ </p><br><p> æˆ‘å«Andrey Tikhonovï¼Œæˆ‘åœ¨Lamodaä»äº‹åç«¯å¼€å‘ã€‚ </p><br><p> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³è§£é‡Šä½¿ç”¨ç±»å‹æ³¨é‡Šçš„åŸºç¡€ï¼Œå¹¶è€ƒè™‘é€šè¿‡<code>typing</code>æ³¨é‡Šå®ç°çš„å…¸å‹ç¤ºä¾‹ã€‚ </p><a name="habracut"></a><br><h2 id="instrumenty-podderzhivayuschie-annotacii"> æ³¨é‡Šå·¥å…· </h2><br><p> è®¸å¤šPython IDEéƒ½æ”¯æŒç±»å‹æ³¨é‡Šï¼Œè¿™äº›æ³¨é‡Šä¼šçªå‡ºæ˜¾ç¤ºé”™è¯¯çš„ä»£ç æˆ–åœ¨æ‚¨é”®å…¥æ—¶æä¾›æç¤ºã€‚ </p><br><p> ä¾‹å¦‚ï¼Œè¿™æ˜¯åœ¨Pycharmä¸­çš„æ ·å­ï¼š </p><br><p> çªå‡ºæ˜¾ç¤ºé”™è¯¯ </p><br><p><img src="https://habrastorage.org/webt/om/ie/-5/omie-5lg0_mmryhx7mjmu508yg0.png"></p><br><p> æ¸©é¦¨æç¤ºï¼š </p><br><p><img src="https://habrastorage.org/webt/w1/g_/so/w1g_sofll8zwct_ynf8co4bxs74.png"></p><br><p> ç±»å‹æ³¨é‡Šä¹Ÿç”±æ§åˆ¶å°linterå¤„ç†ã€‚ </p><br><p> è¿™æ˜¯pylintçš„è¾“å‡ºï¼š </p><br><pre> <code class="bash hljs">$ pylint example.py ************* Module example example.py:7:6: E1101: Instance of <span class="hljs-string"><span class="hljs-string">'int'</span></span> has no <span class="hljs-string"><span class="hljs-string">'startswith'</span></span> member (no-member)</code> </pre> <br><p> ä½†æ˜¯å¯¹äºmypyæ‰¾åˆ°çš„ç›¸åŒæ–‡ä»¶ï¼š </p><br><pre> <code class="bash hljs">$ mypy example.py example.py:7: error: <span class="hljs-string"><span class="hljs-string">"int"</span></span> has no attribute <span class="hljs-string"><span class="hljs-string">"startswith"</span></span> example.py:10: error: Unsupported operand types <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> // (<span class="hljs-string"><span class="hljs-string">"str"</span></span> and <span class="hljs-string"><span class="hljs-string">"int"</span></span>)</code> </pre> <br><p> ä¸åŒåˆ†æä»ªçš„è¡Œä¸ºå¯èƒ½æœ‰æ‰€ä¸åŒã€‚ ä¾‹å¦‚ï¼Œmypyå’Œpycharmå¤„ç†å˜é‡çš„ç±»å‹ä¸åŒã€‚ åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†ç»§ç»­å…³æ³¨mypyçš„è¾“å‡ºã€‚ </p><br><p> åœ¨æŸäº›ç¤ºä¾‹ä¸­ï¼Œä»£ç å¯ä»¥åœ¨å¯åŠ¨æ—¶æ— ä¾‹å¤–åœ°è¿è¡Œï¼Œä½†æ˜¯ç”±äºä½¿ç”¨äº†é”™è¯¯ç±»å‹çš„å˜é‡ï¼Œå¯èƒ½åŒ…å«é€»è¾‘é”™è¯¯ã€‚ åœ¨æŸäº›ç¤ºä¾‹ä¸­ï¼Œå®ƒç”šè‡³å¯èƒ½ä¸ä¼šæ‰§è¡Œã€‚ </p><br><h2 id="osnovy"> åŸºç¡€çŸ¥è¯† </h2><br><p> ä¸æ—§ç‰ˆæœ¬çš„Pythonä¸åŒï¼Œç±»å‹æ³¨é‡Šä¸æ˜¯ç”¨æ³¨é‡Šæˆ–æ–‡æ¡£å­—ç¬¦ä¸²ç¼–å†™çš„ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ä»£ç ä¸­ç¼–å†™çš„ã€‚ ä¸€æ–¹é¢ï¼Œè¿™ç ´åäº†å‘ä¸‹å…¼å®¹æ€§ï¼Œå¦ä¸€æ–¹é¢ï¼Œè¿™æ˜¾ç„¶æ„å‘³ç€å®ƒæ˜¯ä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ç›¸åº”åœ°è¿›è¡Œå¤„ç†ã€‚ </p><br><p> åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œæ³¨é‡ŠåŒ…å«ç›´æ¥é¢„æœŸçš„ç±»å‹ã€‚ ä¸‹é¢å°†è®¨è®ºæ›´å¤æ‚çš„æƒ…å†µã€‚ å¦‚æœå°†åŸºç±»æŒ‡å®šä¸ºæ³¨é‡Šï¼Œåˆ™å¯ä»¥å°†å…¶åä»£çš„å®ä¾‹ä½œä¸ºå€¼ä¼ é€’ã€‚ ä½†æ˜¯ï¼Œæ‚¨åªèƒ½ä½¿ç”¨åœ¨åŸºç±»ä¸­å®ç°çš„é‚£äº›åŠŸèƒ½ã€‚ </p><br><p> å˜é‡çš„æ³¨é‡Šå†™åœ¨æ ‡è¯†ç¬¦åçš„å†’å·åé¢ã€‚ æ­¤åï¼Œå¯ä»¥åˆå§‹åŒ–è¯¥å€¼ã€‚ ä¸¾ä¸ªä¾‹å­ </p><br><pre> <code class="python hljs">price: int = <span class="hljs-number"><span class="hljs-number">5</span></span> title: str</code> </pre> <br><p> å‡½æ•°å‚æ•°çš„æ³¨é‡Šæ–¹å¼ä¸å˜é‡ç›¸åŒï¼Œè¿”å›å€¼åœ¨ç®­å¤´<code>-&gt;</code>å’Œæœ€åä¸€ä¸ªå†’å·ä¹‹å‰è¡¨ç¤ºã€‚ ä¸¾ä¸ªä¾‹å­ </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indent_right</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s: str, width: int)</span></span></span><span class="hljs-function"> -&gt; str:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> * (max(<span class="hljs-number"><span class="hljs-number">0</span></span>, width - len(s))) + s</code> </pre> <br><p> å¯¹äºç±»å­—æ®µï¼Œå®šä¹‰ç±»æ—¶å¿…é¡»æ˜¾å¼æŒ‡å®šæ³¨é‡Šã€‚ ä½†æ˜¯ï¼Œåˆ†æå™¨å¯ä»¥åŸºäº<code>__init__</code>æ–¹æ³•è‡ªåŠ¨è¾“å‡ºå®ƒä»¬ï¼Œä½†æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬å°†åœ¨è¿è¡Œæ—¶ä¸å¯ç”¨ã€‚ åœ¨æœ¬æ–‡çš„ç¬¬äºŒéƒ¨åˆ†ä¸­é˜…è¯»æœ‰å…³åœ¨è¿è¡Œæ—¶ä¸­ä½¿ç”¨æ³¨é‡Šçš„æ›´å¤šä¿¡æ¯ã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Book</span></span></span><span class="hljs-class">:</span></span> title: str author: str <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, title: str, author: str)</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> self.title = title self.author = author b: Book = Book(title=<span class="hljs-string"><span class="hljs-string">'Fahrenheit 451'</span></span>, author=<span class="hljs-string"><span class="hljs-string">'Bradbury'</span></span>)</code> </pre> <br><p> é¡ºä¾¿è¯´ä¸€å¥ï¼Œåœ¨ä½¿ç”¨æ•°æ®ç±»æ—¶ï¼Œå¿…é¡»åœ¨ç±»ä¸­æŒ‡å®šå­—æ®µç±»å‹ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœ‰å…³æ•°æ®ç±»çš„æ›´å¤šä¿¡æ¯</a> </p><br><h2 id="vstroennye-tipy"> å†…ç½®ç±»å‹ </h2><br><p> å°½ç®¡æ‚¨å¯ä»¥ä½¿ç”¨æ ‡å‡†ç±»å‹ä½œä¸ºæ³¨é‡Šï¼Œä½†æ˜¯åœ¨<code>typing</code>æ¨¡å—ä¸­éšè—äº†è®¸å¤šæœ‰ç”¨çš„ä¸œè¥¿ã€‚ </p><br><h3 id="optional"> é€‰é… </h3><br><p> å¦‚æœæ‚¨å°†å˜é‡æ ‡è®°ä¸º<code>int</code>ç±»å‹ï¼Œç„¶åå°è¯•å°†å…¶åˆ†é…ä¸º<code>None</code> ï¼Œåˆ™ä¼šå‡ºç°é”™è¯¯ï¼š </p><br><p> <code>Incompatible types in assignment (expression has type "None", variable has type "int")</code> </p> <br><p> å¯¹äºæ­¤ç±»æƒ…å†µï¼Œåœ¨é”®å…¥æ¨¡å—ä¸­æä¾›äº†å…·æœ‰ç‰¹å®šç±»å‹çš„<code>Optional</code>æ³¨é‡Šã€‚ è¯·æ³¨æ„ï¼Œå¯é€‰å˜é‡çš„ç±»å‹åœ¨<strong>æ–¹</strong>æ‹¬å·ä¸­æŒ‡å‡ºã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> typing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Optional amount: int amount = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-comment"><span class="hljs-comment"># Incompatible types in assignment (expression has type "None", variable has type "int") price: Optional[int] price = None</span></span></code> </pre> <br><h3 id="any"> ä»»ä½• </h3><br><p> æœ‰æ—¶æ‚¨ä¸æƒ³é™åˆ¶å˜é‡çš„å¯èƒ½ç±»å‹ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¿™ç¡®å®ä¸é‡è¦ï¼Œæˆ–è€…æ‚¨æ‰“ç®—è‡ªå·±è¿›è¡Œä¸åŒç±»å‹çš„å¤„ç†ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>Any</code>æ³¨é‡Šã€‚  Mypyä¸ä¼šå‘èª“ä»¥ä¸‹ä»£ç ï¼š </p><br><pre> <code class="python hljs">unknown_item: Any = <span class="hljs-number"><span class="hljs-number">1</span></span> print(unknown_item) print(unknown_item.startswith(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>)) print(unknown_item // <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><p> å¯èƒ½å‡ºç°é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨<code>object</code> ï¼Ÿ ä½†æ˜¯ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‡å®šå°½ç®¡å¯ä»¥ä¼ è¾“ä»»ä½•å¯¹è±¡ï¼Œä½†åªèƒ½å°†å…¶ä½œä¸º<code>object</code>çš„å®ä¾‹è¿›è¡Œè®¿é—®ã€‚ </p><br><pre> <code class="python hljs">unknown_object: object print(unknown_object) print(unknown_object.startswith(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># error: "object" has no attribute "startswith" print(unknown_object // 0) # error: Unsupported operand types for // ("object" and "int")</span></span></code> </pre> <br><h3 id="union"> è”ç›Ÿ </h3><br><p> å¯¹äºéœ€è¦ä¸ä»…å…è®¸ä½¿ç”¨ä»»ä½•ç±»å‹ï¼Œè€Œä¸”ä»…å…è®¸ä½¿ç”¨æŸäº›ç±»å‹çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨<code>typing.Union</code>æ‰¹æ³¨ï¼Œå¹¶åœ¨æ–¹æ‹¬å·ä¸­å¸¦æœ‰ç±»å‹åˆ—è¡¨ã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hundreds</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x: Union[int, float])</span></span></span><span class="hljs-function"> -&gt; int:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (int(x) // <span class="hljs-number"><span class="hljs-number">100</span></span>) % <span class="hljs-number"><span class="hljs-number">10</span></span> hundreds(<span class="hljs-number"><span class="hljs-number">100.0</span></span>) hundreds(<span class="hljs-number"><span class="hljs-number">100</span></span>) hundreds(<span class="hljs-string"><span class="hljs-string">"100"</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Argument 1 to "hundreds" has incompatible type "str"; expected "Union[int, float]"</span></span></code> </pre> <br><p> é¡ºä¾¿è¯´ä¸€å¥ï¼Œ <code>Optional[T]</code>æ³¨é‡Šç­‰æ•ˆäº<code>Union[T, None]</code> ï¼Œå°½ç®¡ä¸å»ºè®®è¿™æ ·çš„æ¡ç›®ã€‚ </p><br><h3 id="kollekcii"> é¦†è— </h3><br><p> ç±»å‹æ³¨é‡Šæœºåˆ¶æ”¯æŒé€šç”¨æœºåˆ¶ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Generics</a> ï¼Œåœ¨æœ¬æ–‡çš„ç¬¬äºŒéƒ¨åˆ†ä¸­æœ‰æ›´å¤šä»‹ç»ï¼‰ï¼Œè¯¥æœºåˆ¶å…è®¸ä¸ºå®¹å™¨æŒ‡å®šå­˜å‚¨åœ¨å…¶ä¸­çš„å…ƒç´ çš„ç±»å‹ã€‚ </p><br><h4 id="spiski"> æ¸…å• </h4><br><p> ä¸ºäº†æŒ‡ç¤ºå˜é‡åŒ…å«åˆ—è¡¨ï¼Œå¯ä»¥å°†åˆ—è¡¨ç±»å‹ç”¨ä½œæ‰¹æ³¨ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨è¦æŒ‡å®šåˆ—è¡¨åŒ…å«çš„å…ƒç´ ï¼Œåˆ™æ­¤æ³¨é‡Šå°†ä¸å†é€‚ç”¨ã€‚ è¿™é‡Œæœ‰<code>typing.List</code> ã€‚ <code>typing.List</code> ã€‚ ä¸æˆ‘ä»¬æŒ‡å®šå¯é€‰å˜é‡ç±»å‹çš„æ–¹å¼ç±»ä¼¼ï¼Œæˆ‘ä»¬åœ¨æ–¹æ‹¬å·ä¸­æŒ‡å®šåˆ—è¡¨é¡¹çš„ç±»å‹ã€‚ </p><br><pre> <code class="python hljs">titles: List[str] = [<span class="hljs-string"><span class="hljs-string">"hello"</span></span>, <span class="hljs-string"><span class="hljs-string">"world"</span></span>] titles.append(<span class="hljs-number"><span class="hljs-number">100500</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Argument 1 to "append" of "list" has incompatible type "int"; expected "str" titles = ["hello", 1] # List item 1 has incompatible type "int"; expected "str" items: List = ["hello", 1]</span></span></code> </pre> <br><p> å‡å®šåˆ—è¡¨åŒ…å«æ— é™æ•°é‡çš„ç›¸åŒç±»å‹çš„å…ƒç´ ã€‚ ä½†æ˜¯å¯¹å…ƒç´ çš„æ³¨é‡Šæ²¡æœ‰ä»»ä½•é™åˆ¶ï¼šæ‚¨å¯ä»¥ä½¿ç”¨<code>Any</code> ï¼Œ <code>Optional</code> ï¼Œ <code>List</code>å’Œå…¶ä»–å…ƒç´ ã€‚ å¦‚æœæœªæŒ‡å®šé¡¹ç›®ç±»å‹ï¼Œåˆ™å‡å®šä¸º<code>Any</code> ã€‚ </p><br><p> é™¤äº†åˆ—è¡¨ä¹‹å¤–ï¼Œé›†åˆä¹Ÿæœ‰ç±»ä¼¼çš„æ³¨é‡Šï¼š <code>typing.FrozenSet</code> ã€‚é›†åˆå’Œ<code>typing.FrozenSet</code> ã€‚ </p><br><h4 id="kortezhi"> å…ƒç»„ </h4><br><p> ä¸åˆ—è¡¨ä¸åŒï¼Œå…ƒç»„é€šå¸¸ç”¨äºå¼‚æ„å…ƒç´ ã€‚ è¯­æ³•ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªåŒºåˆ«ï¼šæ–¹æ‹¬å·åˆ†åˆ«è¡¨ç¤ºå…ƒç»„çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚ </p><br><p> å¦‚æœè®¡åˆ’ä½¿ç”¨ç±»ä¼¼äºè¯¥åˆ—è¡¨çš„å…ƒç»„ï¼šå­˜å‚¨æœªçŸ¥æ•°é‡çš„ç›¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ™å¯ä»¥ä½¿ç”¨çœç•¥å·ï¼ˆ <code>...</code> ï¼‰ã€‚ </p><br><p> ä¸æŒ‡å®šå…ƒç´ ç±»å‹çš„æ³¨é‡Š<code>Tuple</code>å·¥ä½œæ–¹å¼ç±»ä¼¼äº<code>Tuple[Any, ...]</code> </p><br><pre> <code class="python hljs">price_container: Tuple[int] = (<span class="hljs-number"><span class="hljs-number">1</span></span>,) price_container = (<span class="hljs-string"><span class="hljs-string">"hello"</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Incompatible types in assignment (expression has type "str", variable has type "Tuple[int]") price_container = (1, 2) # Incompatible types in assignment (expression has type "Tuple[int, int]", variable has type "Tuple[int]") price_with_title: Tuple[int, str] = (1, "hello") prices: Tuple[int, ...] = (1, 2) prices = (1, ) prices = (1, "str") # Incompatible types in assignment (expression has type "Tuple[int, str]", variable has type "Tuple[int, ...]") something: Tuple = (1, 2, "hello")</span></span></code> </pre> <br><h4 id="slovari"> è¾å…¸ </h4><br><p> å¯¹äºå­—å…¸ï¼Œä½¿ç”¨<code>typing.Dict</code> ã€‚ é”®ç±»å‹å’Œå€¼ç±»å‹åˆ†åˆ«æ³¨é‡Šï¼š </p><br><pre> <code class="python hljs">book_authors: Dict[str, str] = {<span class="hljs-string"><span class="hljs-string">"Fahrenheit 451"</span></span>: <span class="hljs-string"><span class="hljs-string">"Bradbury"</span></span>} book_authors[<span class="hljs-string"><span class="hljs-string">"1984"</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment"># Incompatible types in assignment (expression has type "int", target has type "str") book_authors[1984] = "Orwell" # Invalid index type "int" for "Dict[str, str]"; expected type "str"</span></span></code> </pre><br><p> ç±»ä¼¼ä½¿ç”¨çš„<code>typing.DefaultDict</code>å’Œ<code>typing.OrderedDict</code> </p><br><h3 id="rezultat-vypolneniya-funkcii"> åŠŸèƒ½ç»“æœ </h3><br><p> æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•æ³¨é‡Šæ¥æŒ‡ç¤ºå‡½æ•°ç»“æœçš„ç±»å‹ã€‚ ä½†æ˜¯æœ‰ä¸€äº›ç‰¹æ®Šæƒ…å†µã€‚ </p><br><p> å¦‚æœä¸€ä¸ªå‡½æ•°ä»€ä¹ˆä¹Ÿä¸è¿”å›ï¼ˆä¾‹å¦‚ï¼Œç±»ä¼¼äº<code>print</code> ï¼‰ï¼Œåˆ™å…¶ç»“æœå§‹ç»ˆä¸º<code>None</code> ã€‚ å¯¹äºæ³¨é‡Šï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨<code>None</code> ã€‚ </p><br><p> ç»“æŸè¯¥å‡½æ•°çš„æœ‰æ•ˆé€‰é¡¹æ˜¯ï¼šæ˜¾å¼è¿”å›<code>None</code> ï¼Œä¸æŒ‡å®šå€¼å°±è¿”å›ï¼Œä¸è°ƒç”¨<code>return</code>ç»ˆæ­¢ã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nothing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a: int)</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a == <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> a == <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> a == <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-comment"><span class="hljs-comment"># No return value expected else: pass</span></span></code> </pre> <br><p> å¦‚æœå‡½æ•°<strong>æ°¸ä¸</strong>è¿”å›ï¼ˆä¾‹å¦‚ï¼Œåƒ<code>sys.exit</code> ï¼‰ï¼Œåˆ™åº”ä½¿ç”¨<code>NoReturn</code>æ‰¹æ³¨ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forever</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> -&gt; NoReturn:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre> <br><p> å¦‚æœå®ƒæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œå³å®ƒçš„ä¸»ä½“åŒ…å«<code>yield</code> ï¼Œåˆ™å¯ä»¥å¯¹è¿”å›çš„å‡½æ•°ä½¿ç”¨<code>Iterable[T]</code>æˆ–<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>Generator[YT, ST, RT]</code></a>æ‰¹æ³¨ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generate_two</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> -&gt; Iterable[int]:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-string"><span class="hljs-string">"2"</span></span> <span class="hljs-comment"><span class="hljs-comment"># Incompatible types in "yield" (actual type "str", expected type "int")</span></span></code> </pre><br><h2 id="vmesto-zaklyucheniya"> è€Œä¸æ˜¯ç»“è®º </h2><br><p> åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œé”®å…¥æ¨¡å—ä¸­éƒ½æœ‰åˆé€‚çš„ç±»å‹ï¼Œä½†æ˜¯æˆ‘ä¸ä¼šè€ƒè™‘æ‰€æœ‰å†…å®¹ï¼Œå› ä¸ºå…¶è¡Œä¸ºä¸æ‰€è€ƒè™‘çš„è¡Œä¸ºç›¸ä¼¼ã€‚ <br> ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ª<code>Iterator</code>ä½œä¸º<code>collections.abc.Iterator</code>çš„é€šç”¨ç‰ˆæœ¬ï¼Œ <code>typing.SupportsInt</code>è¡¨ç¤ºå¯¹è±¡æ”¯æŒ<code>__int__</code>æ–¹æ³•ï¼Œæˆ–è€…å¯¹æ”¯æŒ<code>__call__</code>æ–¹æ³•çš„å‡½æ•°å’Œå¯¹è±¡<code>Callable</code> ã€‚ </p><br><p> è¯¥æ ‡å‡†è¿˜ä»¥æ³¨é‡Šå’Œå­˜æ ¹æ–‡ä»¶çš„å½¢å¼å®šä¹‰äº†æ³¨é‡Šçš„æ ¼å¼ï¼Œè¿™äº›æ³¨é‡Šå’Œå­˜æ ¹æ–‡ä»¶ä»…åŒ…å«é™æ€åˆ†æå™¨çš„ä¿¡æ¯ã€‚ </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œ</a>æˆ‘å°†è¯¦ç»†ä»‹ç»æ³›å‹çš„å·¥ä½œæœºåˆ¶ä»¥åŠåœ¨è¿è¡Œæ—¶ä¸­å¤„ç†æ‰¹æ³¨çš„æœºåˆ¶ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN432656/">https://habr.com/ru/post/zh-CN432656/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN432646/index.html">è‡ªä¸Šè€Œä¸‹å’Œè‡ªä¸‹è€Œä¸Šçš„å¹³è¡¡å…¼å¹¶</a></li>
<li><a href="../zh-CN432648/index.html">æˆ‘ä»¬å¦‚ä½•è¿›å…¥äº‘æä¾›å•†çš„å¸‚åœºå¹¶çˆ±ä¸ŠB2Bã€‚ æ¡ˆä¾‹MCS</a></li>
<li><a href="../zh-CN432650/index.html">æ”¶é›†è½¯ä»¶é¡¹ç›®çš„éœ€æ±‚-æ— éœ€å‰Šå‡</a></li>
<li><a href="../zh-CN432652/index.html">æ‚¨éœ€è¦SD-WANå—ï¼Ÿ</a></li>
<li><a href="../zh-CN432654/index.html">æ•°æ®å­˜å‚¨ä½ç½®ï¼šIXcellerateæ•°æ®ä¸­å¿ƒæ¸¸è§ˆ</a></li>
<li><a href="../zh-CN432658/index.html">æœé©¬å·äººå¤§ä»£è¡¨æè®®ç¦æ­¢æœªç»ä¸­å¤®é“¶è¡Œæ³¨å†Œè€Œè¿ä½œçš„æ±‡æ¬¾ç³»ç»Ÿ</a></li>
<li><a href="../zh-CN432660/index.html">PVS-Studioï¼šæ”¯æŒç¼–ç æ ‡å‡†MISRA Cå’ŒMISRA C ++</a></li>
<li><a href="../zh-CN432664/index.html">å¦‚æœéœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Reactï¼ŒVueç”šè‡³jQueryä¸­å®ç°Angularç»„ä»¶</a></li>
<li><a href="../zh-CN432666/index.html">äº§å“ç®¡ç†èšä¼šè§†é¢‘å½•åˆ¶</a></li>
<li><a href="../zh-CN432668/index.html">è½»æ¾çš„ç½‘ç»œç«¯å£ç®¡ç†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>