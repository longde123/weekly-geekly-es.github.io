<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•¶ üìò üèÄ Le livre ¬´Head First. Kotlin ¬ª üëÇüèø üéÖüèª ‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut, habrozhiteli! Nous avons un livre publi√© pour √©tudier Kotlin en utilisant la technique Head First, qui va au-del√† de la syntaxe et des instruct...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le livre ¬´Head First. Kotlin ¬ª</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/473614/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/ev/fj/ao/evfjaohk2b8qeka0nzciygs_q70.jpeg" align="left" alt="image"></a>  Salut, habrozhiteli!  Nous avons un livre publi√© pour √©tudier Kotlin en utilisant la technique Head First, qui va au-del√† de la syntaxe et des instructions pour r√©soudre des probl√®mes sp√©cifiques.  Ce livre vous donnera tout ce dont vous avez besoin - des bases du langage aux m√©thodes avanc√©es.  Et vous pouvez pratiquer la programmation orient√©e objet et fonctionnelle. <br><br>  Un extrait "Data Classes" est pr√©sent√© sous la coupe. <br><a name="habracut"></a><br><h3>  Travailler avec des donn√©es </h3><br>  Personne ne veut perdre de temps et refaire ce qui a d√©j√† √©t√© fait.  La plupart des applications utilisent des classes pour stocker des donn√©es.  Pour simplifier le travail, les cr√©ateurs de Kotlin ont propos√© le concept d'une classe de donn√©es.  Dans ce chapitre, vous apprendrez comment les classes de donn√©es vous aident √† √©crire du code plus √©l√©gant et concis dont vous ne pouviez que r√™ver auparavant.  Nous allons examiner les fonctions d'assistance des classes de donn√©es et apprendre √† d√©composer un objet de donn√©es en composants.  Dans le m√™me temps, nous vous expliquerons comment les valeurs des param√®tres par d√©faut rendent le code plus flexible et vous pr√©senterons √©galement Any, l'anc√™tre de toutes les superclasses. <br><br><h3>  L'op√©rateur == appelle une fonction appel√©e √©gal </h3><br>  Comme vous le savez d√©j√†, l'op√©rateur == peut √™tre utilis√© pour v√©rifier l'√©galit√©.  Chaque fois que l'instruction == est ex√©cut√©e, une fonction appel√©e √©gal est appel√©e.  Chaque objet contient une fonction √©gale et l'impl√©mentation de cette fonction d√©termine le comportement de l'op√©rateur ==. <br><br>  Par d√©faut, la fonction √©gal pour v√©rifier l'√©galit√© v√©rifie si deux variables font r√©f√©rence au m√™me objet. <br><br>  Pour comprendre comment cela fonctionne, imaginez deux variables Wolf nomm√©es w1 et w2.  Si w1 et w2 contiennent des r√©f√©rences √† un objet Wolf, lors de leur comparaison avec l'op√©rateur ==, le r√©sultat est vrai: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/21/xu/jv/21xujvaljehbr6dvg7klxpu7qi8.png" alt="image"></div><br>  Mais si w1 et w2 contiennent des r√©f√©rences √† des objets Wolf diff√©rents, leur comparaison avec l'op√©rateur == donne le r√©sultat faux, m√™me si les objets contiennent les m√™mes valeurs de propri√©t√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/de/xo/fb/dexofbmvz5qakq1ls-hhvp7h8r8.png" alt="image"></div><br>  Comme mentionn√© pr√©c√©demment, la fonction equals est automatiquement incluse dans chaque objet que vous cr√©ez.  Mais d'o√π vient cette fonction? <br><br><h3>  est √©gal √† h√©rite de la superclasse Any </h3><br>  Chaque objet contient une fonction appel√©e √©gal car sa classe h√©rite d'une fonction d'une classe nomm√©e Any.  La classe Any est l'anc√™tre de toutes les classes: la superclasse r√©sultante de tout.  Chaque classe que vous d√©finissez est une sous-classe de Any, et vous n'avez pas besoin de le signaler dans le programme.  Ainsi, si vous √©crivez un code de classe appel√© myClass, qui ressemble √† ceci: <br><br><pre><code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> </span></span>{ ... }</code> </pre> <br>  Le compilateur le convertira automatiquement au format suivant: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tv/04/lg/tv04lgenrnekhx2uqa2bsfr4meu.png" alt="image"></div><br><blockquote>  Chaque classe est une sous-classe de Any et h√©rite de son comportement.  Chaque classe est une sous-classe de Any, et vous n'avez pas √† le signaler dans le programme. </blockquote><br><h3>  L'importance de tout h√©ritage </h3><br>  Inclure Any en tant que superclasse r√©sultante pr√©sente deux avantages importants: <br><br><ul><li>  <b>Il garantit que chaque classe h√©rite d'un comportement commun.</b>  La classe Any d√©finit un comportement important dont d√©pend le fonctionnement du syst√®me.  Et puisque chaque classe est une sous-classe de Any, ce comportement est h√©rit√© par tous les objets que vous cr√©ez.  Ainsi, la classe Any d√©finit une fonction appel√©e √©gal, et par cons√©quent, cette fonction est automatiquement h√©rit√©e par tous les objets. </li><li>  <b>Cela signifie que le polymorphisme peut √™tre utilis√© avec n'importe quel objet.</b>  Chaque classe est une sous-classe de Any, donc tout objet que vous cr√©ez a la classe Any comme super-type final.  Cela signifie que vous pouvez cr√©er une fonction avec des param√®tres Any ou un type de retour Any qui fonctionnera avec des objets de tout type.  Cela signifie √©galement que vous pouvez cr√©er des tableaux polymorphes pour stocker des objets de tout type avec du code de la forme suivante: </li></ul><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> myArray = arrayOf(Car(), Guitar(), Giraffe())</code> </pre><br>  Le compilateur remarque que chaque objet du tableau a un prototype commun de Any et cr√©e donc un tableau de type Array. <br><br>  Le comportement g√©n√©ral h√©rit√© de la classe Any m√©rite un examen plus approfondi. <br><br><h3>  Comportement commun h√©rit√© de Any </h3><br>  La classe Any d√©finit plusieurs fonctions h√©rit√©es par chaque classe.  Voici des exemples de fonctions de base et de leur comportement: <br><br><ul><li>  <b>√©gal (tout: Tout): bool√©en</b> <br>  V√©rifie si deux objets sont consid√©r√©s comme ¬´√©gaux¬ª.  Par d√©faut, la fonction renvoie true si elle est utilis√©e pour v√©rifier un objet, ou false - pour diff√©rents objets.  Dans les coulisses, la fonction d'√©galit√© est appel√©e chaque fois que l'op√©rateur == est utilis√© dans le programme. </li></ul><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> w1 = Wolf() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> w1 = Wolf() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> w2 = Wolf() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> w2 = w1 println(w1.equals(w2)) println(w1.equals(w2)) <span class="hljs-literal"><span class="hljs-literal">false</span></span> (equals  <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span> (equals  <span class="hljs-literal"><span class="hljs-literal">true</span></span>,   w1  w2   w1  w2        .)      ‚Äî   ,   w1 == w2.</code> </pre> <br><ul><li>  <b>hashCode (): Int</b> <br>  Renvoie un code de hachage pour un objet.  Les codes de hachage sont souvent utilis√©s par certaines structures de donn√©es pour stocker et r√©cup√©rer efficacement les valeurs. </li></ul><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> w = Wolf() println(w.hashCode())</code> </pre> <br>  <b>523429237</b> (valeur du code de hachage w) <br><br><ul><li>  <b>toString (): String</b> <br>  Renvoie un message String repr√©sentant l'objet.  Par d√©faut, le message contient le nom de la classe et un num√©ro, ce qui ne nous int√©resse g√©n√©ralement pas. </li></ul><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> w = Wolf() println(w.toString())</code> </pre> <br>  <b>Wolf @ 1f32e575</b> <br><br><blockquote>  Par d√©faut, la fonction equals v√©rifie si deux objets sont le m√™me objet r√©el. <br><br>  La fonction equals d√©termine le comportement de l'op√©rateur ==. </blockquote><br>  La classe Any fournit une impl√©mentation par d√©faut pour toutes les fonctions r√©pertori√©es, et ces impl√©mentations sont h√©rit√©es par toutes les classes.  Cependant, vous pouvez remplacer ces impl√©mentations pour modifier le comportement par d√©faut de toutes les fonctions r√©pertori√©es. <br><br><h3>  V√©rification simple de l'√©quivalence de deux objets </h3><br>  Dans certaines situations, vous devez modifier l'impl√©mentation de la fonction equals pour modifier le comportement de l'op√©rateur ==. <br><br>  Supposons que vous ayez une classe de recette qui vous permet de cr√©er des objets pour stocker des recettes.  Dans une telle situation, vous consid√©rerez probablement deux objets Recette √©gaux (ou √©quivalents) s'ils contiennent une description de la m√™me recette.  Disons que la classe Recipe est d√©finie avec deux propri√©t√©s - title et isVegetarian: <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Recipe</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> title: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> isVegetarian: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>) { }</code> </pre> <br>  L'op√©rateur == retournera true s'il est utilis√© pour comparer deux objets Recipe avec les m√™mes propri√©t√©s, title et isVegetarian: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r1 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r2 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x6/xf/mf/x6xfmfs4maim5uck7papwh2pqdg.png" alt="image"></div><br>  Bien que vous puissiez changer le comportement de l'op√©rateur == en √©crivant du code suppl√©mentaire pour remplacer la fonction equals, les d√©veloppeurs de Kotlin ont fourni une solution plus pratique: ils ont cr√©√© le concept d'une classe de donn√©es.  Voyons ce que sont ces classes et comment elles sont cr√©√©es. <br><br><h3>  La classe de donn√©es vous permet de cr√©er des objets de donn√©es. </h3><br>  Une classe de donn√©es est une classe de cr√©ation d'objets pour le stockage de donn√©es.  Il comprend des outils utiles pour travailler avec des donn√©es - par exemple, une nouvelle impl√©mentation de la fonction equals, qui v√©rifie si deux objets de donn√©es contiennent les m√™mes valeurs de propri√©t√©.  Si deux objets contiennent les m√™mes donn√©es, ils peuvent √™tre consid√©r√©s comme √©gaux. <br><br>  Pour d√©finir une classe de donn√©es, faites pr√©c√©der la d√©finition de donn√©es habituelle avec le mot-cl√© data.  Le code suivant convertit la classe de recette cr√©√©e pr√©c√©demment en une classe de donn√©es: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Recipe</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> title: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> isVegetarian: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>) { }</code> </pre> <br>  Le pr√©fixe de donn√©es convertit une classe r√©guli√®re en classe de donn√©es. <br><br><h3>  Comment cr√©er des objets bas√©s sur une classe de donn√©es </h3><br>  Les objets de classe de donn√©es sont cr√©√©s de la m√™me mani√®re que les objets de classe standard: en appelant le constructeur de cette classe.  Par exemple, le code suivant cr√©e un nouvel objet de donn√©es de recette et l'affecte √† une nouvelle variable nomm√©e r1: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r1 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)</code> </pre> <br>  Les classes de donn√©es remplacent automatiquement leurs fonctions √©gales pour modifier le comportement de l'op√©rateur == afin que l'√©galit√© des objets soit v√©rifi√©e en fonction des valeurs de propri√©t√© de chaque objet.  Si, par exemple, vous cr√©ez deux objets Recette avec les m√™mes valeurs de propri√©t√©, la comparaison des deux objets avec l'op√©rateur == donnera le r√©sultat vrai, car les m√™mes donn√©es y sont stock√©es: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r1 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r2 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-comment"><span class="hljs-comment">//r1 == r2  true</span></span></code> </pre><br>  r1 et r2 sont consid√©r√©s comme ¬´√©gaux¬ª car deux objets Recette contiennent les m√™mes donn√©es. <br><br>  En plus de la nouvelle impl√©mentation de la fonction equals h√©rit√©e de la superclasse Any, les classes de donn√©es <br>  remplacer √©galement les fonctions hashCode et toString.  Voyons comment ces fonctions sont impl√©ment√©es. <br><br><h3>  Les objets de classe red√©finissent leur comportement h√©rit√© </h3><br>  Pour travailler avec des donn√©es, une classe de donn√©es a besoin d'objets, elle fournit donc automatiquement les impl√©mentations suivantes pour les fonctions equals, hashCode et toString h√©rit√©es de la superclasse Any: <br><br><h3>  La fonction equals compare les valeurs des propri√©t√©s </h3><br>  Lors de la d√©finition d'une classe de donn√©es, sa fonction √©gale (et donc l'op√©rateur ==) renvoie toujours true si les liens pointent vers le m√™me objet.  Mais elle renvoie √©galement true si les objets ont les m√™mes valeurs de propri√©t√© d√©finies dans le constructeur: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r1 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r2 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) println(r1.equals(r2)) <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br><blockquote>  Les objets de donn√©es sont consid√©r√©s comme √©gaux si leurs propri√©t√©s contiennent la m√™me valeur. </blockquote><br><h3>  Pour des objets √©gaux, les m√™mes valeurs hashCode sont retourn√©es </h3><br>  Si deux objets de donn√©es sont consid√©r√©s comme √©gaux (en d'autres termes, ils ont les m√™mes valeurs de propri√©t√©), la fonction hashCode renvoie la m√™me valeur pour ces objets: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r1 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r2 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) println(r1.hashCode()) println(r2.hashCode())</code> </pre> <br>  <b>241131113</b> <b><br></b>  <b>241131113</b> <br><br><h3>  toString renvoie les valeurs de toutes les propri√©t√©s </h3><br>  Enfin, la fonction toString ne renvoie plus le nom de la classe, suivi d'un nombre, mais renvoie une cha√Æne utile avec les valeurs de toutes les propri√©t√©s d√©finies dans le constructeur de la classe de donn√©es: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r1 = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) println(r1.toString()) Recipe(title=Chicken Bhuna, isVegetarian=<span class="hljs-literal"><span class="hljs-literal">false</span></span>)</code> </pre> <br>  En plus de remplacer les fonctions h√©rit√©es de la superclasse Any, la classe de donn√©es fournit √©galement des outils suppl√©mentaires qui permettent un travail plus efficace avec les donn√©es, par exemple, la possibilit√© de copier des objets de donn√©es.  Voyons comment fonctionnent ces outils. <br><br><h3>  Copie d'objets de donn√©es avec la fonction de copie </h3><br>  Si vous devez cr√©er une copie de l'objet de donn√©es en modifiant certaines de ses propri√©t√©s, mais en laissant les autres propri√©t√©s dans leur √©tat d'origine, utilisez la fonction de copie.  Pour ce faire, la fonction est appel√©e pour l'objet que vous souhaitez copier et les noms de toutes les propri√©t√©s modifiables avec de nouvelles valeurs lui sont transmis. <br><br>  Supposons que vous ayez un objet Recipe nomm√© r1, qui est d√©fini dans le code comme ceci: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r1 = Recipe(<span class="hljs-string"><span class="hljs-string">"Thai Curry"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tu/hk/oi/tuhkoizk5srtgdpish28kozd5o4.png" alt="image"></div><br>  Si vous souhaitez cr√©er une copie de l'objet Recipe, en rempla√ßant la valeur de la propri√©t√© isVegetarian par true, cela se fait comme suit: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p1/_9/xb/p1_9xbbjnwqi2p-lwlsh7jzjvcw.png" alt="image"></div><br>  Essentiellement, cela signifie ¬´cr√©er une copie de l'objet r1, changer la valeur de sa propri√©t√© isVegetarian sur true et affecter un nouvel objet √† une variable nomm√©e r2¬ª.  Cela cr√©e une nouvelle copie de l'objet et l'objet d'origine reste inchang√©. <br><br>  En plus de la fonction de copie, les classes de donn√©es fournissent √©galement un ensemble de fonctions pour diviser un objet de donn√©es en un ensemble de valeurs de ses propri√©t√©s - ce processus est appel√© d√©structuration.  Voyons comment cela se fait. <br><br><h3>  Les classes de donn√©es d√©finissent les fonctions componentN ... </h3><br>  Lors de la d√©finition d'une classe de donn√©es, le compilateur ajoute automatiquement √† la classe un ensemble de fonctions qui peuvent √™tre utilis√©es comme m√©canisme alternatif pour acc√©der aux valeurs des propri√©t√©s des objets.  Ces fonctions sont connues sous le nom g√©n√©ral des fonctions componentN, o√π N est le nombre de propri√©t√©s √† r√©cup√©rer (dans l'ordre de d√©claration). <br><br>  Pour voir comment fonctionnent les fonctions componentN, supposons que vous ayez l'objet Recipe suivant: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r = Recipe(<span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)</code> </pre> <br>  Si vous souhaitez obtenir la valeur de la premi√®re propri√©t√© de l'objet (propri√©t√© title), vous pouvez appeler la fonction component1 () de l'objet pour cela: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> title = r.component1()</code> </pre> <br>  component1 () renvoie la r√©f√©rence contenue dans la premi√®re propri√©t√© d√©finie dans le constructeur de la classe de donn√©es. <br><br>  La fonction fait la m√™me chose que le code suivant: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> title = r.title</code> </pre> <br>  Le code avec la fonction est plus universel.  Pourquoi les fonctions ComponentN sont-elles si utiles dans les classes de donn√©es? <br><br><h3>  ... con√ßu pour restructurer les objets de donn√©es </h3><br>  Les fonctions g√©n√©riques de componentN sont utiles principalement parce qu'elles fournissent un moyen simple et pratique de diviser un objet de donn√©es en valeurs de propri√©t√© ou de le d√©truire. <br><br>  Supposons que vous souhaitiez prendre les valeurs des propri√©t√©s d'un objet Recette et affecter la valeur de chacune de ses propri√©t√©s √† une variable distincte.  Au lieu de code <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> title = r.title <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> vegetarian = r.isVegetarian</code> </pre> <br>  avec le traitement s√©quentiel de chaque propri√©t√©, vous pouvez utiliser le code suivant: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> (title, vegetarian) = r</code> </pre> <br>  Attribue un titre √† la premi√®re propri√©t√© r et v√©g√©tarien √† la deuxi√®me propri√©t√©. <br><br>  Ce code signifie "cr√©er deux variables, titre et v√©g√©tarien, et attribuer la valeur de l'une des r propri√©t√©s de chaque variable."  Il fait la m√™me chose que le prochain fragment <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> title = r.component1() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> vegetarian = r.component2()</code> </pre> <br>  mais il s'av√®re plus compact. <br><br>  <b>L'op√©rateur === v√©rifie toujours si deux variables se r√©f√®rent au m√™me objet.</b> <br><br>  Si vous souhaitez v√©rifier si deux variables font r√©f√©rence au m√™me objet quel que soit leur type, utilisez l'op√©rateur === au lieu de ==.  L'op√©rateur === donne le r√©sultat vrai si (et seulement si) lorsque deux variables contiennent une r√©f√©rence √† un objet r√©el.  Si vous avez deux variables, x et y, et l'expression suivante: <br><br><pre> <code class="kotlin hljs">x === y</code> </pre> <br>  donne le r√©sultat vrai, alors vous savez que les variables x et y doivent faire r√©f√©rence au m√™me objet. <br><br>  Contrairement √† l'op√©rateur ==, le comportement de l'op√©rateur === est ind√©pendant de la fonction √©gal.  L'op√©rateur === se comporte toujours de la m√™me mani√®re quel que soit le type de classe. <br><br>  Maintenant que vous avez appris √† cr√©er et √† utiliser des classes de donn√©es, cr√©ez un projet pour le code de recette. <br><br><h3>  Cr√©ation d'un projet de recettes </h3><br>  Cr√©ez un nouveau projet Kotlin pour la JVM et nommez-le ¬´Recettes¬ª.  Ensuite, cr√©ez un nouveau <br>  Fichier Kotlin nomm√© Recipes.kt: s√©lectionnez le dossier src, ouvrez le menu Fichier et s√©lectionnez la commande <br>  Nouveau ‚Üí Fichier / classe Kotlin.  Saisissez le nom de fichier ¬´Recettes¬ª et s√©lectionnez l'option Fichier dans le groupe Type. <br><br>  Nous ajoutons une nouvelle classe de donn√©es au projet appel√© Recette et cr√©ons des objets de donn√©es Recette.  Voici le code.  Mettez √† jour votre version de Recipes.kt et alignez-la avec la n√¥tre: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Recipe</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> title: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> isVegetarian: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>) (  {} ,        .) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r1 = Recipe(<span class="hljs-string"><span class="hljs-string">"Thai Curry"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r2 = Recipe(<span class="hljs-string"><span class="hljs-string">"Thai Curry"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> r3 = r1.copy(title = <span class="hljs-string"><span class="hljs-string">"Chicken Bhuna"</span></span>) (  r1    title) println(<span class="hljs-string"><span class="hljs-string">"r1 hash code: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${r1.hashCode()}</span></span></span><span class="hljs-string">"</span></span>) println(<span class="hljs-string"><span class="hljs-string">"r2 hash code: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${r2.hashCode()}</span></span></span><span class="hljs-string">"</span></span>) println(<span class="hljs-string"><span class="hljs-string">"r3 hash code: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${r3.hashCode()}</span></span></span><span class="hljs-string">"</span></span>) println(<span class="hljs-string"><span class="hljs-string">"r1 toString: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${r1.toString()}</span></span></span><span class="hljs-string">"</span></span>) println(<span class="hljs-string"><span class="hljs-string">"r1 == r2? </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${r1 == r2}</span></span></span><span class="hljs-string">"</span></span>) println(<span class="hljs-string"><span class="hljs-string">"r1 === r2? </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${r1 === r2}</span></span></span><span class="hljs-string">"</span></span>) println(<span class="hljs-string"><span class="hljs-string">"r1 == r3? </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${r1 == r3}</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> (title, vegetarian) = r1 ( r1) println(<span class="hljs-string"><span class="hljs-string">"title is </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$title</span></span></span><span class="hljs-string"> and vegetarian is </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$vegetarian</span></span></span><span class="hljs-string">"</span></span>) }</code> </pre> <br>  Lorsque vous ex√©cutez votre code, le texte suivant appara√Æt dans la fen√™tre de sortie de l'EDI: <br><br><pre> <code class="kotlin hljs">r1 hash code: -<span class="hljs-number"><span class="hljs-number">135497891</span></span> r2 hash code: -<span class="hljs-number"><span class="hljs-number">135497891</span></span> r3 hash code: <span class="hljs-number"><span class="hljs-number">241131113</span></span> r1 toString: Recipe(title=Thai Curry, isVegetarian=<span class="hljs-literal"><span class="hljs-literal">false</span></span>) r1 == r2? <span class="hljs-literal"><span class="hljs-literal">true</span></span> r1 === r2? <span class="hljs-literal"><span class="hljs-literal">false</span></span> r1 == r3? <span class="hljs-literal"><span class="hljs-literal">false</span></span> title <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Thai Curry and vegetarian <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre><br><br>  ¬ªPlus d'informations sur le livre sont disponibles sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site Web de l'√©diteur</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Contenu</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Extrait</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a> <br>  25% de r√©duction sur le coupon pour Khabrozhitel - <b>Kotlin</b> <br><br>  Lors du paiement de la version papier du livre, un livre √©lectronique est envoy√© par e-mail. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr473614/">https://habr.com/ru/post/fr473614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr473600/index.html">Qui a besoin de Chromebooks?</a></li>
<li><a href="../fr473602/index.html">Travailler de mani√®re asynchrone</a></li>
<li><a href="../fr473608/index.html">Un guide pour comprendre le concept de d√©veloppement d'applications Web modernes</a></li>
<li><a href="../fr473610/index.html">Analyse de la nouvelle console Web Plesk Obsidian</a></li>
<li><a href="../fr473612/index.html">Trait√© sur la broche. R√©flexions sur la configuration et l'utilisation des broches en C ++ pour les microcontr√¥leurs (en utilisant CortexM comme exemple)</a></li>
<li><a href="../fr473626/index.html">¬´Le d√©veloppeur veut acheter un avion dans trois ans. Ma t√¢che est de l'aider ¬ª- Denis Pushkin sur la motivation Skyeng</a></li>
<li><a href="../fr473628/index.html">C ++ au service de l'orthodontie: entretien avec Mikhail Matrosov, d√©veloppeur CAO chez Align Technology</a></li>
<li><a href="../fr473630/index.html">Meilleures pratiques et outils pour d√©velopper des applications iOS</a></li>
<li><a href="../fr473632/index.html">Nous avons vu un article sur Habr</a></li>
<li><a href="../fr473634/index.html">Les lobbies de Comcast interdisent le cryptage DNS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>