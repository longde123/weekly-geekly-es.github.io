<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏫 🎋 🎒 Binäre C ++ - Kompatibilität und schmerzfreie Upgrades auf Visual Studio 2019 🤽🏾 🤰🏿 👨🏽‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Visual Studio 2019 erweitert die Grenzen der Produktivität von Einzelpersonen und Teams . Wir hoffen, dass Sie diese neuen Funktionen überzeugend find...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Binäre C ++ - Kompatibilität und schmerzfreie Upgrades auf Visual Studio 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/439664/"><img width="120" align="left" src="https://habrastorage.org/webt/gq/ke/xi/gqkexi_dekwffzpjqtx04zp7ee8.png"><p>  Visual Studio 2019 erweitert die Grenzen der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Produktivität</a> von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einzelpersonen</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teams</a> .  Wir hoffen, dass Sie diese neuen Funktionen überzeugend finden und bald mit dem Upgrade auf Visual Studio 2019 beginnen. </p><br><p>  Wenn Sie über dieses Upgrade nachdenken, können Sie sicher sein, dass es mit Visual Studio 2019 sehr einfach ist, Ihre Codebasis von früheren Versionen von Visual Studio zu verschieben.  In diesem Beitrag werden die Gründe aufgeführt, warum Ihr Upgrade auf Visual Studio 2019 schmerzfrei ist. </p><br><ul><li>  Sie können <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die <strong>neueste IDE neben</strong></a> allen älteren VS-Versionen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">installieren</a> </li><li>  Sie können <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ihren C ++ - Code mit den <strong>Toolsets MSVC v140 (VS 2015.3) oder v141 (VS 2017) fortsetzen</strong></a> </li><li>  Sie können <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf die neueste Version von MSVC v142 (VS 2019) aktualisieren und <strong>die Binärkompatibilität</strong></a> mit Bibliotheken Ihrer Drittanbieter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>beibehalten</strong></a> , die noch nicht migriert wurden </li><li>  Unabhängig davon, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf welchem</a> Toolset Sie sich befinden, erhalten Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zugriff auf die <strong>vollständige Sammlung der</strong> in Vcpkg verfügbaren <strong>OSS-Bibliotheken</strong></a> </li></ul><a name="habracut"></a><br><h3>  Side-by-Side-Visual Studio-Installationen </h3><br><p>  Sie können die neueste Version von Visual Studio auf einem Computer installieren, auf dem bereits eine frühere Version installiert ist, und beide Versionen ohne Störungen parallel verwenden.  Dies ist eine großartige Möglichkeit, Visual Studio 2019 auszuprobieren oder für einige Ihrer Projekte zu übernehmen.  Mit dem Visual Studio-Installationsprogramm können Sie Installationen von Visual Studio 2017 und 2019 über eine zentrale Benutzeroberfläche verwalten. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a8d/36e/7f4/a8d36e7f4380f755741ad150db6173a4.png" alt="Visual Studio Installer-Image, das zeigt, wie VS 2017 und VS 2019 nebeneinander installiert werden" width="1200" height="728"></p><br><h3>  Toolsets für MSVC v140 (VS 2015.3) und MSVC v141 (VS 2017) in der Visual Studio 2019-IDE </h3><br><p>  Auch wenn Sie noch nicht bereit sind, Ihr Projekt auf das neueste Toolset (MSVC v142) zu verschieben, können Sie Ihr Projekt dennoch in die Visual Studio 2019-IDE laden und Ihr aktuelles älteres Toolset weiterhin verwenden. </p><br><p>  Durch das Laden Ihrer vorhandenen C ++ - Projekte in die IDE werden Ihre Projektdateien nicht aktualisiert / geändert.  Auf diese Weise werden Ihre Projekte auch in der vorherigen Version der IDE geladen, falls Sie zurückkehren müssen oder Teamkollegen haben, die noch nicht auf VS 2019 aktualisiert wurden (diese Funktionalität wird auch als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Projekt-Roundtripping bezeichnet</a> ). </p><br><p>  Toolsets aus älteren VS-Installationen auf Ihrer Box werden in der neuesten IDE als Plattform-Toolsets angezeigt.  Wenn Sie neu starten und nur VS 2019 auf Ihrem Computer installiert ist, können Sie diese älteren Toolsets ganz einfach direkt vom Visual Studio Installer abrufen, indem Sie die C ++ Desktop-Arbeitslast anpassen (auf der Registerkarte Einzelkomponenten werden alle Optionen aufgelistet). </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/69b/98e/6d1/69b98e6d1b99d009786dbed9e7a119a6.jpg" alt="Registerkarte Einzelkomponenten von VS Installer mit der vollständigen Liste der in VS 2019 verfügbaren C ++ - Komponenten" width="736" height="527"></p><br><h3>  Neues v142-Toolset jetzt verfügbar </h3><br><p>  Innerhalb der Wave von Visual Studio 2019 (Vorschau, allgemeine Verfügbarkeit und zukünftige Updates) planen wir, unsere C ++ - Compiler und -Bibliotheken mit weiterzuentwickeln </p><br><ul><li>  neue C ++ 20 Funktionen, </li><li>  schnellerer Build-Durchsatz und </li><li>  noch bessere Codegen-Optimierungen. </li></ul><br><p>  Das MSVC v142-Toolset ist jetzt verfügbar und bietet Ihnen bereits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mehrere</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anreize</a> für die Migration. </p><br><h4>  VC Runtime im neuesten MSVC v142-Toolset ist binär kompatibel mit v140 und v141 </h4><br><p>  Wir haben laut und deutlich gehört, dass ein Hauptgrund für die schnelle Einführung von MSVC v141 heute die binäre Kompatibilität mit MSVC v140 ist.  Auf diese Weise konnten Sie Ihren eigenen Code in Ihrem eigenen Tempo auf das v141-Toolset migrieren, ohne warten zu müssen, bis eine der Bibliotheksabhängigkeiten von Drittanbietern zuerst migriert wurde. </p><br><p>  Wir möchten die Dynamik aufrechterhalten und sicherstellen, dass Sie auch mit MSVC v142 eine ähnlich erfolgreiche Adoptionserfahrung haben.  Aus diesem Grund geben wir heute bekannt, dass sich unser Team verpflichtet hat <strong>, Binärkompatibilität für MSVC v142 mit MSVC v141 und v140 bereitzustellen</strong> . </p><br><p>  Dies bedeutet, dass, wenn Sie Ihren gesamten Code mit dem Toolset v142 kompilieren, aber noch eine oder mehrere Bibliotheken haben, die mit dem Toolset v140 oder v141 erstellt wurden, die Verknüpfung des gesamten Codes (mit dem neuesten Linker) wie erwartet funktioniert.  Um dies zu ermöglichen, ändert VC Runtime seine Hauptversion in VS 2019 nicht und bleibt abwärtskompatibel mit früheren VC Runtime-Versionen. </p><br><pre><code class="cs hljs">C:\source\repos\TimerApp\Debug&gt;dumpbin TimerApp2019.exe /IMPORTS | findstr .dll mfc140ud.dll KERNEL32.dll USER32.dll GDI32.dll COMCTL32.dll OLEAUT32.dll gdiplus.dll VCRUNTIME140D.dll ucrtbased.dll <span class="hljs-number"><span class="hljs-number">2</span></span>EE _seh_filter_dll</code> </pre> <br><p>  Wenn Sie Binärdateien mischen, die mit verschiedenen unterstützten Versionen des MSVC-Toolset erstellt wurden, besteht für den VCRedist eine Versionsanforderung, die Sie mit Ihrer App neu verteilen.  Insbesondere darf der VCRedist nicht älter sein als eine der Toolset-Versionen, die zum Erstellen Ihrer App verwendet wurden. </p><br><h4>  Unabhängig vom verwendeten Toolset sind Hunderte von C ++ - Bibliotheken in Vcpkg verfügbar </h4><br><p>  Wenn Sie Vcpkg heute mit VS 2015 oder VS 2017 für eine oder mehrere Ihrer Open-Source-Abhängigkeiten verwenden, werden Sie erfreut sein zu erfahren, dass diese Bibliotheken (zum Zeitpunkt des Schreibens fast 900) jetzt mit der MSVC kompiliert werden können v142-Toolset und können in Visual Studio 2019-Projekten verwendet werden. </p><br><p>  Wenn Sie gerade erst mit Vcpkg beginnen, keine Sorge - Vcpkg ist ein Open-Source-Projekt von Microsoft, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das den Erwerb und die</a> Erstellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von Open-Source-C ++ - Bibliotheken unter Windows, Linux und Mac vereinfacht</a> . </p><br><p>  Da v142 binär kompatibel mit v141 und v140 ist, funktionieren alle bereits installierten Pakete auch in VS 2019 ohne Neukompilierung weiter.  Wir empfehlen jedoch, neu zu kompilieren, wenn Sie können, damit Sie die neuen Compiler-Optimierungen genießen können, die wir zu v142 hinzugefügt haben! </p><br><p>  Wenn Sie VS 2019 Preview neben einer älteren Version von VS (z. B. VS 2017) installiert haben, bevorzugt Vcpkg die stabile Version. Daher müssen Sie die Triplettvariable <a href="">VCPKG_PLATFORM_TOOLSET</a> von Vcpkg auf <a href="">v142</a> setzen, um das neueste MSVC-Toolset zu verwenden. </p><br><h4>  Die Version des MSVC-Compilers ändert sich auf 19.2x (von 19.1x in MSVC v141). </h4><br><p>  Last but not least ändert der Compiler-Teil des MSVC v142-Toolset seine Version auf 19.20 - nur ein geringfügiges Versionsinkrement im Vergleich zu MSVC v141. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6c6/a09/d97/6c6a09d9706ae814819e523586a57d62.png" alt="VS-Editor mit Quick Info, der zeigt, dass das Makro _MSC_VER gleich 1920 ist" width="334" height="99"><br>  Beachten Sie, dass Feature-Test-Makros im MSVC-Compiler und in der STL ab MSVC v141 unterstützt werden. Sie sollten die bevorzugte Option sein, damit Ihr Code mehrere MSVC-Versionen unterstützt. </p><br><h3>  Aufruf zum Handeln </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Laden Sie Visual Studio 2019 noch heute herunter</a> und teilen Sie uns Ihre Meinung mit.  Unser Ziel ist es, Ihren Übergang zu VS 2019 so einfach wie möglich zu gestalten. Daher sind wir wie immer sehr an Ihrem Feedback interessiert.  Sie erreichen uns über die folgenden Kommentare oder per E-Mail ( <a href="">visualcpp@microsoft.com</a> ). <br>  Wenn Sie auf andere Probleme mit Visual Studio oder MSVC stoßen oder einen Vorschlag haben, teilen Sie uns dies bitte über Hilfe&gt; Feedback senden&gt; Problem melden / Vorschlag im Produkt oder über die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwickler-Community mit</a> .  Sie finden uns auch auf Twitter unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@VisualC</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439664/">https://habr.com/ru/post/de439664/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439652/index.html">So transportieren Sie Ihr Startup in die USA: 4 wichtige Schritte</a></li>
<li><a href="../de439654/index.html">Vollständiges Eintauchen: Wie kühlen wir ASIC-Chips bei Bitfury?</a></li>
<li><a href="../de439656/index.html">Zeichenrechner in C #</a></li>
<li><a href="../de439658/index.html">Anmerkungen Phytochemiker 2020. Buchweizen oder Geschichte von Volkskörnern</a></li>
<li><a href="../de439662/index.html">Ankündigung von TypeScript 3.3</a></li>
<li><a href="../de439668/index.html">Skalieren eines Tech-Newsletters für 700.000 Abonnenten in 300 Städten: Die Geschichte von Techstars Startup Digest</a></li>
<li><a href="../de439670/index.html">Russisches KI-System zur Krebsdiagnose Botkin.AI. Jetzt auf dem Azure-Marktplatz</a></li>
<li><a href="../de439672/index.html">PowerShell-Grundlagen: Erkennen, ob eine Zeichenfolge mit einem bestimmten Zeichen endet</a></li>
<li><a href="../de439674/index.html">Reinforcement Deep Learning: Ping-Pong mit rohen Pixeln</a></li>
<li><a href="../de439676/index.html">Reagieren Sie auf Native- und C ++ - Integration für iOS und Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>