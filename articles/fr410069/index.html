<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìî üà∂ üßùüèø Comment en r√©alit√© un patch contre les vuln√©rabilit√©s Meltdown et Specter affecte les performances üßñüèø üë©üèæ‚Äçü§ù‚Äçüë©üèΩ üë®‚Äçüë®‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Depuis la publication d'informations sur les vuln√©rabilit√©s de Meltdown, les passions se sont d√©j√† calm√©es. Microsoft a r√©ussi √† publier un correctif,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment en r√©alit√© un patch contre les vuln√©rabilit√©s Meltdown et Specter affecte les performances</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/410069/">  Depuis la publication d'informations sur les vuln√©rabilit√©s de Meltdown, les passions se sont d√©j√† calm√©es.  Microsoft a r√©ussi √† publier un correctif, √† se d√©barrasser de ses probl√®mes, √† le rappeler et √† le publier √† nouveau. <br><br>  Il se trouve que j'avais sous la main deux syst√®mes aux caract√©ristiques proches: <br>  i5 7600K + Z270 et i7 3770K + Z77.  Windows 10 Pro est install√© sur les deux syst√®mes avec la derni√®re s√©rie de mises √† jour.  Le syst√®me d'exploitation est install√© sur le SSD, pour les tests, nous avons utilis√© un SSD NVME distinct, le m√™me dans les deux cas.  Des tests graphiques ont √©t√© effectu√©s sur le principe de ¬´marcher comme marcher¬ª sur la GTX 1080Ti, mais en m√™me temps, dans des sc√©narios r√©alistes pour une telle carte vid√©o.  Autrement dit, aucun abaissement des param√®tres graphiques pour identifier la d√©pendance au processeur pur et simple n'a pas √©t√© effectu√©.  Sur ce mat√©riel, il a √©t√© d√©cid√© de v√©rifier la v√©racit√© des d√©clarations de Microsoft sur l'effet des correctifs sur les performances du fer moderne et ancien, mais pas encore tr√®s d√©pass√©. <br><a name="habracut"></a><br>  Le vice-pr√©sident ex√©cutif de Microsoft pour Windows, Terry Myerson, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crit</a> dans un article de blog officiel: <br><br><blockquote>  En r√©sumant les r√©sultats de recherche actuels, nous pouvons dire ce qui suit: <br><br>  Sur les ordinateurs ex√©cutant Windows 10 sur des processeurs modernes (appartenant √† des g√©n√©rations de 2016 ou plus r√©centes, c'est-√†-dire Skylake, Kabylake et plus r√©cent), les tests d√©montreront un ralentissement de la puissance par unit√©s de pourcentage, que la grande majorit√© des utilisateurs ne pourra pas remarquer, car dans l'absolu la diff√©rence de magnitude sera mesur√©e en millisecondes. <br><br>  Les ordinateurs avec Windows 10 sur des processeurs relativement plus anciens (y compris les g√©n√©rations jusqu'√† 2015 inclus, Haswell et plus) dans certains tests peuvent montrer une baisse plus importante des performances, peut-√™tre que certains utilisateurs le remarqueront. <br><br>  Les performances des syst√®mes ex√©cutant Windows Server sur n'importe quel processeur en souffriront sensiblement, en particulier sur les applications qui utilisent intensivement les E / S lors de l'activation de l'isolement du code non approuv√©. </blockquote><br>  Pour tester diff√©rents aspects des performances du syst√®me ont √©t√© utilis√©s: <br><br><ul><li>  3DMark Time Spy 1.1 </li><li>  CineBench R15.038 </li><li>  AS SSD Benchmark 1.7.4739.38088 </li><li>  Crystal DiskMark 5.5.0 </li></ul><br>  L'activation et la d√©sactivation de l'isolement du processus ont √©t√© effectu√©es par l'utilitaire InSpectre.  Une mise √† jour du BIOS avec des correctifs de microcode est install√©e sur la carte m√®re Z270. <br><br>  R√©sultat attendu: selon les d√©clarations officielles de Microsoft, la d√©gradation des performances sur l'ancien CPU devrait √™tre plusieurs fois plus importante.  Sur la base d'une analyse des publications et des d√©clarations des repr√©sentants de Microsoft, les E / S devraient souffrir le plus. <br><br><h2>  C'est parti! </h2><br>  (une <i>petite remarque avant les captures d'√©cran avec les r√©sultats</i> ) <br><br>  Il n'a pas √©t√© possible de tester des configurations compl√®tement √©quivalentes la premi√®re fois en raison de l'absence d'un emplacement M.2 sur l'ancienne carte m√®re et de l'absence d'un √©l√©vateur PCI-E-&gt; M.2.  Il a √©t√© command√© sur une plateforme de trading chinoise bien connue, et entre-temps, j'ai effectu√© des tests sur NVME SSD (A-Data XPG SX8000 512GB) sur Kaby Lake et sur SATA (Silicon Power S55 240GB (Phison) sur Ivy Bridge. Les r√©sultats √©taient directement incomparables mais curieux. <br><br>  Captures d'√©cran des tests: <br><br>  i5 7600K @ 4315 (102,76 * 42) <br><br>  Patch d√©sactiv√©: <br><br><img src="https://habrastorage.org/webt/4a/m8/bu/4am8bu5ebimxnwkltbvefr-7_50.png"><br><br>  Patch activ√©: <br><br><img src="https://habrastorage.org/webt/2y/rw/op/2yrwoppx7ku-w8mfekvrkjawekk.png"><br><br>  i7 3770K @ 4355 (103,7 * 42) <br><br>  Patch d√©sactiv√©: <br><br><img src="https://habrastorage.org/webt/ct/gk/fw/ctgkfwknc5byvllt3n6gmwbmjai.png"><br><br>  Patch activ√©: <br><br><img src="https://habrastorage.org/webt/fs/xy/2j/fsxy2jkyxylq1bjcyrddlfjpo28.png"><br><br>  Hmm ... les r√©sultats √©taient encore plus qu'int√©ressants.  Les performances des CPU elles-m√™mes dans les calculs complexes variaient dans la marge d'erreur.  Le plus durement touch√©, comme le craignait Microsoft, a √©t√© l'entr√©e / sortie.  Et puis les diff√©rences commencent avec ce qui √©tait attendu. <br><br>  La baisse des performances d'E / S sur le nouveau processeur (Kaby Lake, i5 7600K) apr√®s l'activation du correctif dans le pire des cas dans le sc√©nario CrystalMark Write 4K √©tait de plus de 70%.  Soixante-douze pour cent!  Si IO se pr√©sente sur le nouveau processeur comme √ßa, qu'adviendra-t-il franchement des vieux?!  Et sur l'ancien i7 3770K en 2011, la baisse de performance √©tait au pire d'environ 6%.  Oui, et les nombres absolus de ces diff√©rents disques avec le patch activ√© diff√®rent pour ne pas dire parfois.  Microsoft et Intel sont-ils fous?  Ou n‚Äôavons-nous pas remarqu√© quelque chose? <br><br>  Alors, o√π est le goulot d'√©tranglement?  Il restait encore √† voir, il restait √† attendre le relanceur PCI-E -&gt; M.2 et r√©p√©ter les tests.  Pour l'avenir, je dirai que les tests dans des conditions √©gales n'ont pas fonctionn√©.  Le SSD NVME fonctionnait avec une bande passante PCI-E.2 x2. <br><br>  Voici les r√©sultats du test: <br><br>  Patch d√©sactiv√©: <br><br><img src="https://habrastorage.org/webt/va/jw/r8/vajwr8azt3ovlyojvfm3n39mwlo.png"><br><br>  Patch activ√©: <br><br><img src="https://habrastorage.org/webt/eq/dn/mj/eqdnmjkq5yb07oktkr1yab6ejc4.png"><br><br>  Tableau r√©capitulatif des r√©sultats: <br><br><img src="https://habrastorage.org/webt/gw/dv/jo/gwdvjo9icjszvwea9ad0dlkh7ce.png"><br><br><h2>  R√©sum√© </h2><br><h3>  Mauvaise nouvelle </h3><br>  Les lecteurs rapides, m√™me sur les processeurs modernes, apr√®s l'installation du correctif, perdent jusqu'√† 70% des performances dans un certain nombre de sc√©narios. <br><br><h3>  Bonne nouvelle </h3><br><ol><li>  M√™me les disques tr√®s rapides perdent en performances sur les processeurs plus anciens dans le pire des cas, pas plus que sur les nouveaux, malgr√© les d√©clarations bruyantes d'Intel.  Une v√©rification fiable n'a pas encore √©t√© possible dans des conditions absolument √©gales.  Mais!  √âtant donn√© la limite de bande passante sur les processeurs plus anciens, ils perdent %% de moins.  Les vieillards sont √©videmment en avance au repos, peu importe comment Intel aimerait vendre plus de nouvelles pierres. </li><li>  Les SSD domestiques classiques perdent tr√®s peu de performances.  √Ä propos du disque dur, je garde g√©n√©ralement le silence.  C'est-√†-dire  dans la vie de tous les jours, sans utiliser un ordinateur comme serveur de base de donn√©es, vous devez vous efforcer de remarquer la diff√©rence sur le mat√©riel ordinaire. </li><li>  Dans une charge purement processeur, il n'y a aucune diff√©rence avant et apr√®s. </li><li>  Les joueurs ne peuvent pas s'inqui√©ter - la vitesse de rendu varie de l'activation du patch dans la marge d'erreur. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr410069/">https://habr.com/ru/post/fr410069/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr410055/index.html">Comparaison honn√™te de l'appareil photo et de l'appareil photo reflex</a></li>
<li><a href="../fr410059/index.html">Musk a expliqu√© pourquoi SpaceX n'a ‚Äã‚Äãpas peur de lancer une fus√©e avec 27 moteurs</a></li>
<li><a href="../fr410061/index.html">Harley-Davidson lance une moto √©lectrique</a></li>
<li><a href="../fr410063/index.html">La NASA a appris √† √©liminer dynamiquement la distorsion du picom√®tre de l'optique du t√©lescope</a></li>
<li><a href="../fr410065/index.html">Satellites centenaires</a></li>
<li><a href="../fr410071/index.html">Un satellite chinois utilise la cryptographie quantique pour mener une vid√©oconf√©rence intercontinentale s√©curis√©e</a></li>
<li><a href="../fr410073/index.html">Le ¬´vaccin¬ª anticanc√©reux tue les tumeurs canc√©reuses chez la souris</a></li>
<li><a href="../fr410075/index.html">Interview R√©volution des centres d'appels: quels employ√©s de bureau seront r√©ellement remplac√©s par des robots</a></li>
<li><a href="../fr410077/index.html">Tesla a r√©ussi la man≈ìuvre et s'est dirig√© vers Mars</a></li>
<li><a href="../fr410081/index.html">ZX Spectrum 128k DIY</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>