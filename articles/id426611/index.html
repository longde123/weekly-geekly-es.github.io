<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöâ üé´ ‚òùüèΩ Integrasi dengan SAP ERP, menggunakan Django-python sebagai contoh, menggunakan protokol oData (rest) üìî ‚úçüèª üå∂Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang, Habr! 

 Topik integrasi sistem besar seperti SAP dengan yang kecil, tetapi yang lebih fleksibel, bisa dikatakan, adalah mengambil yang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Integrasi dengan SAP ERP, menggunakan Django-python sebagai contoh, menggunakan protokol oData (rest)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426611/"> Selamat siang, Habr! <br><br>  Topik integrasi sistem besar seperti SAP dengan yang kecil, tetapi yang lebih fleksibel, bisa dikatakan, adalah mengambil yang terbaik dari keduanya. <br><br>  Secara khusus, contoh saya akan menjelaskan integrasi SAP ERP dengan Django. <br><br><h4>  Tantangan </h4><br>  Karena berbagai sistem kontrol yang diperkenalkan oleh negara tercinta kita: Egais, Merkurius, dan banyak lagi, banyak perusahaan telah mulai mengadaptasi beratnya, dan menempatkannya dengan sistem yang canggung (untuk perusahaan besar) ke kondisi baru.  Saya tidak akan mengatakan yang mana yang saya adaptasikan secara khusus, tetapi pikiran itu selalu berputar di kepala saya - untuk menciptakan sistem pelacakan terpadu untuk semuanya berdasarkan platform yang terpisah. <br><br><h4>  Berarti </h4><br>  Tidak butuh waktu terlalu lama untuk memilih alat mana yang harus diambil, saya memilih: Bahasa pemrograman Python - mengingat banyaknya perpustakaan dengan segalanya dan segalanya, platform Django, jangan tanya mengapa Django, bukan Flask atau Odoo.  Saya sudah mengambil Odoo untuk platform dan ingin mempelajari salah satunya, mengambil yang pertama, yah, saya tidak tahu mengapa, mungkin karena kesederhanaannya yang lebih besar.  Sistem ERP untuk pengembangan SAP-well, di sini saya tidak punya pilihan  Saya bekerja untuk perusahaan integrator SAP, jadi saya memiliki pengetahuan dan akses ke kotak pasir sistem ini, sehingga memiliki semua kondisi, saya dengan tenang akan melakukan pekerjaan saya tanpa hambatan. <br><a name="habracut"></a><br><h4>  Frontend Django </h4><br>  Hal pertama yang saya mulai dengan adalah merumuskan tugas tertentu dan menulisnya di selembar kertas, umumnya saya menyarankan semua orang sebelum melakukan pengkodean sesuatu, menjelaskan prosesnya, dan SANGAT penting jika Anda mengubahnya saat bepergian, ubah juga dalam uraiannya. <br><br>  Berikut adalah versi kasar pertama dari deskripsi program. <br><blockquote>  <b>Proses keluar</b> <br><br>  1) Pengiriman keluar dibuat. <br><br>  2) Saat melewati palet melalui gerbang - Operasi otomatis dan operasi semi-otomatis <br><br>  a.  Operasi otomatis / Ketika palet melewati gerbang, program meminta oleh RFC dalam informasi sistem WMS tentang jenis pengirimannya, nomornya dan mengirimkan kembali respons identifikasi terhadap pengiriman ke sistem WMS (mungkin mengkonfirmasi tugas-tugas gudang (memilih tugas) untuk ini palet dan semua investasi).  Juga periksa semua perangko cukai dengan informasi dalam sistem WMS <br><br>  b.  Operasi semi-otomatis / Operator memasukkan nomor pengiriman / mesin dalam sistem gerbang dan mendorong palet melalui gerbang, sistem gerbang mengirimkan permintaan untuk setiap palet ke sistem WMS untuk memeriksa perangko cukai di dalam. <br><br>  3) Komposisi pengiriman dikirim ke Sistem Akuntansi <br><br>  <b>Proses masuk</b> <br><br>  1) Pengiriman masuk dibuat. <br><br>  2) Pallet melewati gerbang <br><br>  3) Permintaan dikirim ke sistem akuntansi tentang komposisi piutang di gudang saat ini <br><br>  4) Komposisi internal palet prangko diperiksa berdasarkan sistem akuntansi ini <br><br>  5) Sinyal dikirim ke sistem WMS untuk menurunkan palet. <br><br>  <b>Tabel yang Diperlukan</b> : <br><br>  Gerbang: <br>  Identifier <br>  Gudang: <br>  Deskripsi <br>  <b>Pesan bagian</b> : <br><br>  Judul: <br>  Waktu, sistem, nomor gudang, ID gerbang. <br>  Posisi: <br>  Cap cukai, waktu pendaftaran, pengikatan judul <br>  <b>Pesan komposisi ERP (pengiriman masuk)</b> <br><br>  Judul: <br>  Waktu, sistem, nomor pengiriman, <br>  Posisi: <br>  Bahan, stempel cukai, nomor palet (jika ada) <br><br>  <b>Pesan teragregasi (berdasarkan data dari ERP)</b> : <br><br>  Judul: <br><br>  Waktu, sistem, nomor gudang, pengenal gerbang, nomor pengiriman dari sistem Akuntansi, tanda Tujuan (Keluar masuk), tanda skrip verifikasi, nomor mesin, nomor gerbang gudang, <br><br>  Posisi: Cukai, nomor palet (opsional), bahan (opsional), nomor pengiriman, nomor mesin, nomor item dalam dokumen, batch (opsional), kemasan (opsional) <br></blockquote>  Selanjutnya, saya mulai belajar Django dan menggambar proses dan skema database. <br>  Ternyata di Django, membuat model tabel sangat mudah dan nyaman, tampilannya seperti ini: <br><br><pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SapOptions</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> name = models.CharField(verbose_name=<span class="hljs-string"><span class="hljs-string">' '</span></span>, max_length=<span class="hljs-number"><span class="hljs-number">50</span></span>) baseurl = models.CharField(max_length=<span class="hljs-number"><span class="hljs-number">500</span></span>, verbose_name=<span class="hljs-string"><span class="hljs-string">'Url  '</span></span>, help_text = <span class="hljs-string"><span class="hljs-string">'URL  ,  ,  :"https://moses1005:44300/sap/opu/odata/sap/ZLS_SUPPLYCHAIN_SRV/"'</span></span>)<span class="hljs-comment"><span class="hljs-comment">#  URL sapset = models.CharField(default='Enter Sapset', max_length=100, verbose_name=' ()') mandt = models.CharField(max_length=3, verbose_name='') user = models.CharField(max_length=15, verbose_name='       ') passwd = models.CharField(max_length=15, verbose_name='') verify = models.BooleanField(default=False, help_text = '   ') def __str__(self): return ': '+self.name + ',  : '+self.mandt class Gates(models.Model): from mainAPP.sap_connector import get_lgorts_fromsap ident = models.CharField(verbose_name='', max_length=10, help_text='',unique=True) wh = models.CharField(verbose_name='  ', default='',max_length=10, help_text='   WMS') help = models.CharField(verbose_name='', default='',max_length= 500,help_text=' , ,  ,   ') try: lgorts = get_lgorts_fromsap() except: lgorts = [('No Connect', 'No Connect'),] lgort = models.CharField(verbose_name='',default='0000', max_length=20, choices=lgorts) def __str__(self): return self.ident +' : '+self.wh+' : '+self.help</span></span></code> </pre> <br>  Setelah itu saya sudah mengerti cara menarik direktori dari SAP, sehingga integrasi tampak benar-benar "mulus", kata kunci "tampak", tetapi lebih pada nanti. <br><br>  Jadi, setelah mempelajari Django (membunuh beberapa malam ini), saya menulis sebuah antarmuka untuk memasukkan informasi dan kemudian mengirimkannya ke SAP ERP. <br><br>  Layar pertama untuk memasukkan informasi penerimaan terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/cx/3v/ci/cx3vci4bzz4zh72c4ivloz4biny.jpeg"><br><br><ul><li>  Gudang - integrasi langsung dengan SAP ERP dengan deskripsi singkat, </li><li>  Pengiriman ERP - Pengiriman dari SAP ERP dimasukkan, diverifikasi setelah masuk (permintaan dibuat untuk SAP apakah ada pengiriman seperti itu atau tidak, </li><li>  TTN - semuanya jelas di sini (waybill), </li><li>  Nomor mitra - Ini adalah nomor mitra SAP ERP, bidang ini opsional, dibuat untuk masa depan untuk menemukan pengiriman, </li><li>  Pengidentifikasi Paket - Ini adalah salah satu bidang yang paling penting, ini adalah nomor palet atau paket. </li></ul><br>  Juga, antarmuka diadaptasi untuk terminal mobile (TSD) <br><br><img src="https://habrastorage.org/webt/b6/hs/ob/b6hsobjjorhs7vydoygkbz3bmu8.jpeg"><br><br>  Kolom dibuat sedemikian rupa sehingga setelah setiap menekan ENTER kursor melompat ke bidang input berikutnya, sehingga akan lebih mudah untuk memindai semua informasi dari TTN, Gerbang, Pallet. <br><br>  Kemudian, setelah memindai bidang terakhir atau mengklik "Simpan", layar masuk ke dialog untuk memasukkan pengidentifikasi setiap produk: <br><br><img src="https://habrastorage.org/webt/kk/hu/0l/kkhu0l-iw8c2z95gk9ui-pcv3na.jpeg"><br><br>  Bidang: <br><br><ol><li>  Ini adalah layar daftar pengidentifikasi yang dikirim oleh sistem EGAIS itu sendiri, di mana The Reds adalah pengidentifikasi yang belum dipindai, Kuning adalah pengidentifikasi yang dipindai, tetapi tidak ada dalam pesan EGAIS, dan yang hijau adalah yang dikirim oleh EGAIS dan dipindai. </li><li>  Memasuki pengidentifikasi, berikut ini juga tombol "+", yang diperlukan untuk tampilan bidang lain, dll. </li><li>  Tampilkan pesan kesalahan, jika ada. </li></ol><br><h4>  Implementasi Integrasi: </h4><br>  Untuk integrasi dari Django, semuanya jelas "istirahat" mudah diimplementasikan, tetapi dari SAP ERP, saya harus membaca sedikit). <br><br>  Jadi bagaimana ini dilakukan, bagaimana itu tidak terlalu sulit <br><br>  1) Perlu untuk membuat kelas integrasi untuk implementasi, masing-masing paket pengembangan untuk itu.  Ini dilakukan dalam transaksi SEGW <br><br><img src="https://habrastorage.org/webt/kk/oa/uu/kkoauu4havyfpbmyprqnhie4ncg.jpeg"><br><br>  2) Setelah membuat kelas, Anda perlu mendefinisikan Model Data, ada beberapa opsi, buat bidang Anda sendiri, atau klik pada tabel SAP.  Ini berarti bahwa sebelum membuat model data untuk integrasi, Anda perlu membuat tabel untuk data, ini dilakukan dalam transaksi SE11 dan bagaimana melakukannya dapat ditemukan di Internet.  Jadi, seperti strukturnya, <br><br><img src="https://habrastorage.org/webt/sw/xe/5_/swxe5_rjpvpxehvwuseuhumuty4.jpeg"><br><br>  Saya suka struktur tabel yang telah saya buat <br><br><img src="https://habrastorage.org/webt/nr/np/1r/nrnp1rrodp_uoyh6m5ivjujymeo.jpeg"><br><br>  3) Ini pekerjaan yang telah kami lakukan: <br><br><img src="https://habrastorage.org/webt/qn/_d/9x/qn_d9xptayqbqnlb6xxk4voygfu.jpeg"><br><br>  Klik "Hasilkan". Kelas menghasilkan struktur yang diperlukan untuk integrasi, dan kami akan bekerja dengannya. <br><br>  4) Selanjutnya, pada tab implementasi Layanan kami, struktur kami muncul dengan semua metode yang tersedia untuk itu, khususnya: <br><br>  a.  Buat - Metode untuk membuat catatan di tabel kami sesuai dengan data yang dikirim dari luar <br>  b.  Hapus- Metode untuk menghapus catatan dengan pengidentifikasi <br>  c.  GetEntity - Metode Permintaan Rekaman Tunggal <br>  d.  GetEntitySet - Metode untuk mendapatkan beberapa catatan berdasarkan kriteria <br>  e.  Pembaruan - Metode Modifikasi Rekam <br>  Sebenarnya, semua metode ini cukup abstrak, tetapi tentu saja ada perbedaan <br><br>  5) Setelah membuat kelas, kami membuat daftar kelas di cabang Artefak Runtime, pilih satu dengan DPC_EXT di akhir <br><br><img src="https://habrastorage.org/webt/hj/tk/wb/hjtkwb3idr9vx-ixoxwt4sxvxok.jpeg"><br>  Klik dua kali untuk masuk ke kelas itu sendiri <br><br>  6) Setelah masuk ke daftar metode kelas, pada akhirnya Anda melihat daftar semua metode, pastikan untuk mendefinisikan kembali, jika tidak setelah perubahan berikutnya dalam model data, semuanya akan dihapus, saya menemukan ini, itu menghina ... <br><br><img src="https://habrastorage.org/webt/sd/er/cy/sdercy8c6na4bc_ocvleabuabok.jpeg"><br>  Sebagai contoh, saya akan menunjukkan implementasi metode Buat <br><br><img src="https://habrastorage.org/webt/hc/7k/tq/hc7ktqnmwk-dw2gcefxour8rl6m.jpeg"><br><br>  Semuanya sangat sederhana, IT_KEY_TAB dimasukkan ke input dan berdasarkan data ini, kami menerapkan beberapa tindakan, dalam kode ini catatan biasa dalam tabel, atau output kesalahan, yang kemudian akan ditransfer ke Django.  Output dari kreasi yang sukses ditulis ke struktur ER_ENTITY. <br><br>  7) Menguji antarmuka kita dalam transaksi / IWFND / MAINT_SERVICE, lama.  Kami masuk ke dalamnya, temukan kelas kami dibuat dan klik "SAP Gateway Client" <br><br><img src="https://habrastorage.org/webt/t1/_5/ek/t1_5ekysdkj8qya8byuclvvfk9i.jpeg"><br><br>  Kami pada dasarnya dibuka dengan GET \ POST \ PUT \ DELETE permintaan web EMULATOR, hanya dari SAP, <br><br>  PS. Anda dapat menguji layanan yang dibuat dalam apa saja., Saya menguji dalam program <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tukang pos</a> <br><br><img src="https://habrastorage.org/webt/ds/-5/2h/ds-52hhqphdejb_2s8rujel19z0.jpeg"><br><br>  Seperti inilah permintaan get, ‚ÄúGetEntitySet‚Äù <br>  <i>/ getah / opu / odata / getah / ZLS_SUPPLYCHAIN_SRV / ZLS_INBOUND_HEADSet? $ format = json</i> <br>  Dimana: <br>  <b><i>/ ZLS_SUPPLYCHAIN_SRV /</i></b> - Ini adalah kelas yang kami buat <br>  <b><i>/ ZLS_INBOUND_HEADSet</i></b> adalah model data kami, <br>  <b><i>format = json</i></b> adalah format data yang kita dapatkan, pilihan xml atau json, saya memilih json, karena itulah mengapa lebih nyaman bagi saya. <br><br>  8) Demikian pula, kami menulis metode <br><br>  Apa yang kami miliki, membuat front pada Django, membuat antarmuka di sisi SAP <br>  Sekarang kita perlu menghidupkan kembali semuanya, dan di pihak Django kita menulis metode: <br><br>  1) Metode membuat sesi, untuk masuk, dapatkan scrf-token dan sudah lebih jauh <br>  tarik informasi yang diperlukan dari database menggunakan antarmuka kami yang telah dikonfigurasi atau buat yang baru <br>  merekam.  Untuk melakukan ini, buat file terpisah di Django, saya menamainya Sap_connector.py dan dijelaskan <br>  ini memiliki metode dasar. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sap_createSession</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#     oDATA from scanner.models import SapOptions #   SAP sap_opt = SapOptions.objects.all()[0] #       s = requests.Session() s.headers.update({'Connection': 'keep-alive', 'X-CSRF-TOKEN': 'Fetch'}) auth = (sap_opt.user, sap_opt.passwd) try: r = s.get(sap_opt.baseurl, auth=auth,verify=sap_opt.verify) except: message = "    %s %s"%(sap_opt.mandt, sap_opt.name) return ('NO TOKEN', 'NoSession', message) token = r.headers['x-csrf-token'] session = s sess = (token, session, None) return sess</span></span></code> </pre><br>  2) Metode verifikasi pengiriman dalam SAP ERP <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sap_delivery_verify</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(token, session, delivery)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#      ERP from scanner.models import SapOptions, Gates sap_opt = SapOptions.objects.all()[0] s = session format = '?$format=json' set = 'likpSet' url = sap_opt.baseurl + set + "('"+delivery+"')"+format headers = {'Content-type': 'application/json;charset=utf-8', 'X-CSRF-TOKEN': token} #      auth = (sap_opt.user, sap_opt.passwd) # auth get = s.get(url, headers=headers, auth=auth,verify=sap_opt.verify)#   if get.status_code ==200: delivery_out = json.loads(get.text).get('d').get('Vbeln') return (True, 'OK') else: error_text = json.loads(get.text).get('error').get('message').get('value') return (False, error_text)</span></span></code> </pre> <br>  3) Metode mengintegrasikan gudang SAP dengan Django <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_lgorts_fromsap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scanner.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SapOptions session = sap_createSession() <span class="hljs-comment"><span class="hljs-comment">#   token = session[0] session = session[1] sap_opt = SapOptions.objects.all()[0] #   s = session format = '?$format=json' set = 't001lSet' url = sap_opt.baseurl + set +format headers = {'Content-type': 'application/json;charset=utf-8', 'X-CSRF-TOKEN': token} #      auth = (sap_opt.user, sap_opt.passwd) # auth get = s.get(url, headers=headers, auth=auth,verify=sap_opt.verify)#   jdata = json.loads(get.text) lgorts = [] for l in jdata.get('d').get('results'): l.get('lgort') lgorts.append((l.get('Lgort'),l.get('Lgort'))) return lgorts</span></span></code> </pre><br>  <b>Dan bagian kedua di bagian model:</b> <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Gates</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> mainAPP.sap_connector <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> get_lgorts_fromsap ident = models.CharField(verbose_name=<span class="hljs-string"><span class="hljs-string">''</span></span>, max_length=<span class="hljs-number"><span class="hljs-number">10</span></span>, help_text=<span class="hljs-string"><span class="hljs-string">''</span></span>,unique=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) wh = models.CharField(verbose_name=<span class="hljs-string"><span class="hljs-string">'  '</span></span>, default=<span class="hljs-string"><span class="hljs-string">''</span></span>,max_length=<span class="hljs-number"><span class="hljs-number">10</span></span>, help_text=<span class="hljs-string"><span class="hljs-string">'   WMS'</span></span>) help = models.CharField(verbose_name=<span class="hljs-string"><span class="hljs-string">''</span></span>, default=<span class="hljs-string"><span class="hljs-string">''</span></span>,max_length= <span class="hljs-number"><span class="hljs-number">500</span></span>,help_text=<span class="hljs-string"><span class="hljs-string">' , ,  ,   '</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-comment"><span class="hljs-comment">#   SAP lgorts = get_lgorts_fromsap() except: lgorts = [('No Connect', 'No Connect'),] lgort = models.CharField(verbose_name='',default='0000', max_length=20, choices=lgorts) def __str__(self): return self.ident +' : '+self.wh+' : '+self.help</span></span></code> </pre><br>  Integrasi terlihat seperti ini: ketika saya membuat gudang baru di pengaturan Django, sistem menampilkan gudang dari SAP ERP yang saat ini dibuat di sana di bidang gudang. <br><br><img src="https://habrastorage.org/webt/bh/yn/9n/bhyn9noryaek8d8p1kxvnlsofe0.jpeg"><br><br>  4) Metode untuk membuat catatan baru dalam SAP ERP <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sap_connect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(token, session, data)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scanner.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SapOptions, Gates <span class="hljs-comment"><span class="hljs-comment">#      SAP ERP sap_opt = SapOptions.objects.all()[0] s = session delivery = data.get('delivery') url = sap_opt.baseurl + sap_opt.sapset #  URL +    headers = {'Content-type': 'application/json;charset=utf-8', 'X-CSRF-TOKEN': token} #      auth = (sap_opt.user, sap_opt.passwd) # auth data =json.dumps({"d":{ "Mandt": sap_opt.mandt, "Lgort": Gates.objects.get(id=data.get('gates')).wh, "Vbeln":data.get('delivery'), "Mark": data.get('mark'), "Matnr": "", "Posnr": "", "Mbl": "", "InbDicid":"AAAAAAAAAAAAAAAAAAAAAA==", "DocExt": data.get('ttn'), "Exidv": data.get('pack') }}) try: r2 = s.post(url, data=data, headers=headers, auth=auth) except: return (False, '   ') if r2.status_code ==201: print(' %s   '%(delivery)) return (True, '  %s : '%delivery) else: print('  %s   '%(delivery)) text = r2.text SO = soup(text) s = SO.find_all("message")[0].text return (False, s)</span></span></code> </pre> <br>  Bahkan, kami hanya membuat permintaan POST dan menulis data dalam format json di sana <br><br><h4>  Kesimpulan </h4><br>  Kami telah menciptakan program yang terintegrasi dengan SAP ERP, dengan skenario sederhana, <br>  Mobil tiba, kami memasukkan informasi pada setiap palet di antarmuka, program memeriksa kami apakah semua data dimasukkan dengan benar, dan memberikan informasi tentang apa yang seharusnya dan apa yang sudah dimasukkan.  Setelah memasukkan data, ini melaporkan apa yang telah dilakukan dan mentransfer data ke SAP ERP.  Juga, antarmuka ini diadaptasi dari antarmuka entri data seluler, yang penting untuk gudang dengan terminal pengumpulan data (TSD).  Setelah mentransfer data ke ERP, sistem juga menyimpan semua data ke gudang mana, pengenal mana yang datang, jenis pengenal apa, siapa yang menerimanya, dan sebagainya. <br><br>  Sebagai hasilnya, kami memiliki program untuk memproses pengidentifikasi produk yang masuk dan keluar di perusahaan, sementara 90% dari semua pekerjaan dilakukan secara tepat dalam sistem eksternal yang terintegrasi dengan sistem utama. <br><br>  Di masa depan, perlu diselesaikan untuk pemeliharaan batch yang masuk, nomor seri dan hal-hal lain, dan bahkan lebih dekat untuk berintegrasi dengan SAP, misalnya, untuk membuat transaksi penerimaan dari antarmuka ini, baik ini adalah pemikiran untuk pengembangan :) <br><br>  <i>PS Saya tidak mengecat kode ABAP atau python-django dari solusi yang berfungsi ini, saya tidak mengecat pengaturan template Django atau html, tetapi berkonsentrasi pada integrasi dengan SAP ERP untuk menunjukkan bahwa membuat modul untuk terhubung ke sistem besar seperti SAP tidak sulit. Saya pergi ke sistem seperti itu, jika kita memasukkan studi Django selama sekitar 4 malam.</i> <br><br>  <b>Terima kasih atas perhatian Anda, saya akan berterima kasih atas kritik yang membangun!</b> <b><br></b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id426611/">https://habr.com/ru/post/id426611/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id426595/index.html">Richard Hamming "Bab tidak ada": Seperti yang kita tahu apa yang kita ketahui (1-10 menit dari 40)</a></li>
<li><a href="../id426597/index.html">Madrobots di IFA 2018. Bagian 2 - Proyektor Cerdas: Dari XGIMI ke Anker</a></li>
<li><a href="../id426603/index.html">Spiral berputar: matematika dan halusinasi</a></li>
<li><a href="../id426605/index.html">Analisis statis kode PHP menggunakan PHPStan, Phan dan Mazmur sebagai contoh</a></li>
<li><a href="../id426609/index.html">Office 365 dan produk MS lainnya akan menambahkan suara I / O untuk penderita disleksia</a></li>
<li><a href="../id426613/index.html">Jangan biarkan printer 3D menjadi malas</a></li>
<li><a href="../id426615/index.html">Menulis CLI di NodeJS</a></li>
<li><a href="../id426617/index.html">Lisensi untuk mengendarai mobil, atau mengapa aplikasi harus Single-Activity</a></li>
<li><a href="../id426621/index.html">String ringkas di Jawa 9</a></li>
<li><a href="../id426623/index.html">Ini adalah bus listrik: apa yang kita ketahui tentang transportasi dengan baterai</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>