<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úåüèª üëö ü§òüèª C√≥mo ayud√© a Alice a no responder a otros nombres. Pasant√≠a Yandex üëáüèª üëéüèæ üàµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr Mi nombre es Aleksey Rak, soy el desarrollador de la asistente de voz Alice en la oficina de Minsk de Yandex. Obtuve este puesto yendo aqu√≠ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo ayud√© a Alice a no responder a otros nombres. Pasant√≠a Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/438768/">  Hola Habr  Mi nombre es Aleksey Rak, soy el desarrollador de la asistente de voz Alice en la oficina de Minsk de Yandex.  Obtuve este puesto yendo aqu√≠ en el mismo equipo para una pasant√≠a de tres meses el a√±o pasado.  Te voy a contar sobre ella.  Si desea probarlo usted mismo, aqu√≠ hay un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace a la pasant√≠a 2019</a> . <br><br><img src="https://habrastorage.org/webt/4b/9m/2c/4b9m2c6ys4-cfjxicgd3-2kc2fw.jpeg"><br><br><a name="habracut"></a><h4>  ¬øC√≥mo me instal√©? </h4><br>  Soy un estudiante de cuarto a√±o en BSU, en 2018 me gradu√© de la Escuela de An√°lisis de Datos, vivo y vivo en Minsk. <br><br>  Primero, yo, como otros graduados de SHAD, recib√≠ un enlace a una pasant√≠a en 2018.  Dentro de una semana despu√©s de enviar el cuestionario, fue necesario asignar tiempo, 6 horas seguidas, para completar el concurso en l√≠nea.  Conten√≠a tareas sobre la teor√≠a de la probabilidad, la capacidad de codificar, crear algoritmos.  Fue posible escribir el c√≥digo en el idioma en el que sabes c√≥mo.  Escrib√≠ varias tareas en C ++, varias en Python, eleg√≠ el lenguaje dependiendo de la facilidad de uso para una tarea en particular. <br><br>  Cuando env√≠a una decisi√≥n, llega inmediatamente un veredicto, luego de lo cual la tarea puede resolverse nuevamente para obtener una respuesta m√°s correcta.  Me llev√≥ un par de horas completar todas las tareas. No resolv√≠ algunos de los problemas en el primer intento. <br><br>  Pocos d√≠as despu√©s, los reclutadores se pusieron en contacto conmigo y me pidieron una primera entrevista cara a cara en la oficina de Minsk.  Fue con Alexei Kolesov, el jefe del equipo de modelos ac√∫sticos y biom√©tricos, donde tuve que trabajar.  La entrevista consisti√≥ en resolver problemas en una hoja de papel o en una pizarra y responder preguntas sobre teor√≠a de la probabilidad, algoritmos y aprendizaje autom√°tico.  Creo que los antecedentes de la programaci√≥n de la Olimpiada me permitir√≠an hacer frente al concurso en l√≠nea, incluso si no hubiera estudiado en el ShAD, pero en la entrevista, la experiencia de ShAD fue realmente √∫til para m√≠. <br><br>  Unos d√≠as m√°s tarde, tuvo lugar la segunda reuni√≥n, donde me pidieron dos tareas m√°s sobre el conocimiento de algoritmos: calentamiento y b√°sico.  Con cada tarea era as√≠: propuse una soluci√≥n, respond√≠ varias preguntas sobre esta soluci√≥n y luego escrib√≠ el c√≥digo en una hoja de papel. <br><br>  Pocos d√≠as despu√©s me informaron que me aceptaron para una pasant√≠a.  Se supon√≠a que deb√≠a durar tres meses completos (como resultado, sucedi√≥).  No prometieron cambiar a una posici√≥n permanente, pero dijeron que esa opci√≥n es posible. <br><br><h4>  Empezando </h4><br>  El primer d√≠a, despu√©s de resolver los problemas de organizaci√≥n y comprar una computadora port√°til, fui a almorzar con mis colegas.  Hablamos, luego arm√© un repositorio de equipo y tom√© la primera tarea: compilar un script Python simple para comenzar a ejecutar un programa ya terminado en varios hilos y acelerar as√≠ su ejecuci√≥n.  En el proceso de creaci√≥n del script, me familiaric√© con el sistema de revisi√≥n de c√≥digo, cuando otros miembros del equipo verifican su c√≥digo.  Sabiendo que sus colegas m√°s cercanos tratar√°n con √©l primero y, en el futuro, con otros desarrolladores, intente escribir con mayor claridad.  En la programaci√≥n ol√≠mpica, todo es algo diferente: la velocidad con la que programa es importante, y lo m√°s probable es que ni siquiera necesite ver lo que ha escrito.  Por otro lado, cuando tuve que enfrentar una situaci√≥n antes de Yandex de que todav√≠a ten√≠a que leer el c√≥digo, tambi√©n trat√© de hacerlo m√°s o menos claro. <br><br>  Durante la pasant√≠a, resolv√≠ varias veces problemas similares a este script, pero mi tiempo principal lo dediqu√© a un proyecto mucho m√°s grande: un nuevo decodificador para el observador Alice. <br><br>  Para los dispositivos y aplicaciones Yandex donde se puede llamar al asistente por voz, todo funciona como el usuario espera, necesita un observador de alta calidad: un mecanismo de activaci√≥n por voz.  Muy a menudo, la frase de activaci√≥n (que debe pronunciar para iniciar Alice) contiene la palabra "Alice" en s√≠. <br><br>  Spotter incluye la preparaci√≥n de funciones (funciones para el aprendizaje autom√°tico), una red neuronal y un decodificador. <br><br><h4>  Decodificador anterior </h4><br>  La versi√≥n anterior del decodificador funcionaba procesando vectores de probabilidad.  Hay un modelo ac√∫stico: una red neuronal, que para cada cuadro (un fragmento de discurso que dura entre 10 y 20 milisegundos) devuelve la probabilidad de que se haya pronunciado.  Los marcos pueden superponerse.  El decodificador conten√≠a una matriz con probabilidades para los √∫ltimos 100 cuadros "escuchados" por el dispositivo.  El sonido de cada letra corresponde a un determinado vector de probabilidades.  En el vector para la letra A, el algoritmo encontr√≥ el elemento con la probabilidad m√°s alta, despu√©s de lo cual consider√≥ solo la parte correcta de la matriz en relaci√≥n con este elemento.  Luego, la operaci√≥n se repiti√≥ para las letras L, I, C y A, cada vez que la matriz fue "cortada" por el elemento encontrado.  Los sonidos de A al principio y al final de la palabra son realmente diferentes: el segundo de ellos generalmente se llama Shva, parece A, E y O al mismo tiempo. <br><br>  Si la probabilidad final result√≥ ser mayor que el valor umbral, entonces el algoritmo consider√≥ que la palabra en realidad fue dicha y activ√≥ a Alice para el usuario. <br><br><img src="https://habrastorage.org/webt/wd/iu/ko/wdiukoij45gbcg83m_cmsvuqy0m.jpeg"><br><br>  Tal esquema condujo al hecho de que el asistente a veces se encend√≠a espont√°neamente no solo cuando la gente dec√≠a "Alicia", sino tambi√©n cuando escuchaba otras palabras, por ejemplo, "Alejandro".  Los sonidos en la primera parte de esta palabra ("Alex") siguen en el mismo orden y b√°sicamente coinciden con los sonidos en la palabra "Alice".  La diferencia est√° solo en las letras E y K, pero E en su sonido est√° muy cerca de I, y el algoritmo no tuvo en cuenta la presencia de la letra K. <br><br><img src="https://habrastorage.org/webt/nv/pr/ur/nvprurwxlaaatkavmzq3cwvhp8k.jpeg"><br><br>  En teor√≠a, puede buscar en el discurso pronunciado no solo la palabra "Alice", sino tambi√©n palabras similares.  No hay tantos: "Alexander", "Alexa", "arrestado", "escaleras", "aristarco".  Si el algoritmo creyera que el usuario con una alta probabilidad dijo uno de ellos, entonces ser√≠a posible prohibir la activaci√≥n, independientemente del resultado del decodificador principal. <br><br>  Sin embargo, la activaci√≥n por voz deber√≠a funcionar incluso sin Internet.  Por lo tanto, el decodificador es un mecanismo local.  Funciona gracias a una red neuronal, que cada vez se ejecuta directamente en el dispositivo del usuario (por ejemplo, en el tel√©fono), sin comunicarse con los servidores Yandex.  Y dado que todo sucede localmente, el rendimiento (del mismo tel√©fono en comparaci√≥n con todo el centro de datos) deja mucho que desear.  Reconocer no solo la palabra "Alice" significar√≠a complicar significativamente el trabajo de esta peque√±a red neuronal y exceder los l√≠mites de rendimiento.  La activaci√≥n comenzar√≠a a funcionar m√°s lentamente, el asistente responder√≠a con un largo retraso. <br><br>  Se necesitaba un decodificador fundamentalmente diferente.  Los colegas me sugirieron que implementara la idea del Modelo Oculto de Markov, HMM: al comienzo de mi pasant√≠a, la comunidad ya lo describ√≠a bien y tambi√©n encontr√≥ aplicaci√≥n en el asistente Alexa de Amazon. <br><br><h4>  Nuevo decodificador HMM </h4><br>  El decodificador HMM crea un gr√°fico de 6 v√©rtices: uno para cada sonido en la palabra "Alice", m√°s uno m√°s para todos los dem√°s sonidos: otro discurso o ruido.  Las probabilidades de transiciones entre v√©rtices se estiman en una muestra de voz grabada y anotada.  Para cada sonido escuchado, se consideran 6 probabilidades: coincidir con cada una de las cinco letras y con el sexto v√©rtice (es decir, con cualquier sonido que no sea el que se encuentra en la palabra "Alicia").  Si el usuario dice "Alexander", el decodificador caer√° en K: la probabilidad de que el sonido hablado no sea parte de la frase de activaci√≥n ser√° demasiado grande y el asistente no funcionar√°. <br><br><img src="https://habrastorage.org/webt/ds/np/r3/dsnpr3vxuxavi5e_14wnnakigiq.jpeg"><br><br>  En un futuro pr√≥ximo, estos cambios estar√°n disponibles para todos los usuarios de la biblioteca Alice y SpeechKit. <br><br><h4>  Finalizaci√≥n de la pasant√≠a y transici√≥n a un trabajo permanente. </h4><br>  De los tres meses de la pasant√≠a, me llev√≥ un a√±o y medio escribir un decodificador HMM.  Al final de este mes y medio, el gerente me dijo que una transici√≥n a un puesto permanente y un contrato ilimitado ser√≠a posible (aunque no garantizado) si continuaba trabajando de manera productiva.  Casi al mismo tiempo, tom√© unas vacaciones de dos semanas para ir al campamento de programaci√≥n de la Olimpiada.  Al regresar, comenc√© una nueva tarea: entrenar a observadores para varios dispositivos: Yandex.Phone, computadora de a bordo con Yandex.Auto y otros. <br><br>  Despu√©s de un par de semanas, aproximadamente un mes antes del final de la pasant√≠a, se realiz√≥ mi primera entrevista sobre un puesto permanente, y unos d√≠as despu√©s, el segundo, el √∫ltimo.  Habl√© con los l√≠deres de equipos relacionados.  En la primera de las entrevistas, me hicieron preguntas te√≥ricas: sobre aprendizaje autom√°tico, redes neuronales, regresi√≥n log√≠stica, m√©todos de optimizaci√≥n.  Adem√°s, preguntaron sobre la regularizaci√≥n, es decir, sobre la reducci√≥n del grado de reentrenamiento de un algoritmo dado y sobre qu√© algoritmos se aplican los m√©todos de regularizaci√≥n.  La segunda entrevista fue pr√°ctica: hablamos por Skype con un colega de Mosc√∫, y en el proceso escrib√≠ el c√≥digo en un simple editor en l√≠nea. <br><br>  Por mi propia iniciativa, no consegu√≠ un trabajo a tiempo completo, pero en ¬æ, el hecho es que mis estudios en BSU a√∫n no han terminado.  En una posici√≥n constante, tambi√©n participo en la selecci√≥n autom√°tica de valores de umbral y otros hiperpar√°metros.  En cada momento, el sistema gana la probabilidad de que se pronuncie la palabra clave "Alice".  El clasificador final compara esta probabilidad con un valor umbral y, si se supera el umbral, activa a Alice.  Anteriormente, el umbral fue seleccionado por los desarrolladores, la tarea actual es aprender c√≥mo hacer esto autom√°ticamente. <br><br>  Entonces llegu√© a Yandex, conservando mi lugar en el equipo de Alice. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438768/">https://habr.com/ru/post/438768/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438756/index.html">Sexto control de cromo, ep√≠logo</a></li>
<li><a href="../438758/index.html">¬øPor qu√© Google cambia la interfaz URL est√°ndar en el navegador?</a></li>
<li><a href="../438762/index.html">DBX: intente deshacerse de compilar consultas MySQL</a></li>
<li><a href="../438764/index.html">Sexta prueba de cromo, ep√≠logo</a></li>
<li><a href="../438766/index.html">ADN extracelular como biomarcador del envejecimiento y diversas patolog√≠as.</a></li>
<li><a href="../438770/index.html">Manejo de pulsaciones de teclado, tambi√©n conocidos como atajos y depuraci√≥n</a></li>
<li><a href="../438772/index.html">HX711 ADC de 3.3V: no crea en la documentaci√≥n china y no solo</a></li>
<li><a href="../438774/index.html">Todo lo mejor a la vez. Los art√≠culos m√°s v√≠vidos del blog LANIT sobre Habr√© - 2018</a></li>
<li><a href="../438776/index.html">Consejos y trucos de mi canal de Telegram @pythonetc, enero de 2019</a></li>
<li><a href="../438778/index.html">@Pythonetc Enero 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>