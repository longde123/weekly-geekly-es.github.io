<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙍 🤽🏻 ☎️ Bukan bahasa pemrograman lain. Bagian 3: Fisika 🥌 🏮 😆</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bagian ketiga dan terakhir dari serangkaian artikel tentang bahasa lsFusion (tautan ke bagian pertama dan kedua ) 

 Ini akan fokus pada model fisik: ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bukan bahasa pemrograman lain. Bagian 3: Fisika</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/460887/"><img src="https://habrastorage.org/webt/4i/rl/y5/4irly5rc9xjxdf1v-zdadc_ijgg.png"><br><br>  Bagian ketiga dan terakhir dari serangkaian artikel tentang bahasa lsFusion (tautan ke bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pertama</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kedua</a> ) <br><br>  Ini akan fokus pada model fisik: segala sesuatu yang tidak terhubung dengan fungsionalitas sistem, tetapi terkait dengan pengembangan dan optimalisasi kinerjanya, ketika ada terlalu banyak data. <br><br>  Artikel ini, seperti yang sebelumnya, sangat tidak cocok untuk membaca yang menghibur, tetapi, tidak seperti yang lain, akan ada lebih banyak rincian teknis dan "panas" topik (seperti mengetik atau metaprogramming), ditambah artikel ini akan memberikan sebagian dari jawaban untuk pertanyaan, bagaimana semuanya bekerja di dalam. <br><a name="habracut"></a><br>  Dalam artikel ini, kami akan melakukan tanpa gambar (tidak ada tumpukan seperti ini), tetapi kami akan melakukan daftar isi, seperti yang diminta dalam artikel sebelumnya: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar isi</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengembangan proyek besar</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Identifikasi Barang</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ruang nama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengetikan eksplisit</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Modularitas</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ekstensi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Modul</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Metaprogramming</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Integrasi</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Banding ke sistem eksternal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Banding dari sistem eksternal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Banding ke sistem internal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Banding dari sistem internal</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Migrasi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Internasionalisasi</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mengoptimalkan kinerja proyek data besar</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Terwujudnya</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Indeks</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tabel</a> </li></ul></li></ul></div></div><br><a name="id"></a><h2>  Identifikasi Barang </h2><br>  Jika proyek terdiri dari beberapa file kecil, maka masalah dengan penamaan elemen biasanya tidak muncul.  Semua nama sudah terlihat, dan cukup mudah untuk memastikan bahwa mereka tidak tumpang tindih.  Jika proyek, sebaliknya, terdiri dari banyak modul yang dikembangkan oleh sejumlah besar orang yang berbeda, dan abstraksi dalam modul-modul ini dari satu domain domain, konflik nama menjadi jauh lebih mungkin.  LsFusion memiliki dua mekanisme untuk menyelesaikan masalah ini: <br><br><ul><li>  Namespaces - pemisahan nama menjadi penuh dan pendek, dan kemampuan untuk menggunakan hanya nama pendek saat mengakses suatu elemen </li><li>  Pengetikan eksplisit (lebih tepatnya, kelebihan fungsi) - kemampuan untuk menamai properti (dan tindakan) dengan cara yang sama, dan kemudian, ketika mengaksesnya, tergantung pada kelas argumen, secara otomatis menentukan properti mana yang dituju oleh panggilan tersebut. </li></ul><br><a name="namespace"></a><h3>  Ruang nama </h3><br>  Setiap proyek kompleks biasanya terdiri dari sejumlah besar elemen yang harus dinamai.  Dan, jika domain domain bersinggungan, sangat sering ada kebutuhan untuk menggunakan nama yang sama dalam konteks yang berbeda.  Misalnya, kami memiliki nama kelas atau formulir Faktur (faktur), dan kami ingin menggunakan nama ini di berbagai blok fungsi, misalnya: Pembelian (Pembelian), Penjualan (Sale), Pengembalian pembelian (PurchaseReturn), Pengembalian penjualan (SaleReturn).  Jelas bahwa kelas / formulir dapat disebut PurchaseInvoice, SaleInvoice, dan sebagainya.  Tapi, pertama-tama, nama-nama seperti itu dalam diri mereka akan terlalu besar.  Dan kedua, dalam satu blok fungsional, panggilan, sebagai aturan, pergi ke elemen-elemen dari blok fungsional yang sama, yang berarti bahwa ketika mengembangkan, misalnya, blok fungsi Pembelian dari pengulangan konstan kata Pembelian, itu hanya akan riak di mata Anda.  Untuk mencegah hal ini terjadi, platform memiliki konsep seperti namespace.  Ia bekerja sebagai berikut: <br><br><ul><li>  setiap elemen dalam platform dibuat di beberapa namespace <br></li><li>  jika dalam proses membuat elemen, elemen lain direferensikan, elemen yang dibuat dalam namespace yang sama diutamakan <br></li></ul><div class="scrollable-table"><table><tbody><tr><td><code><font color="#a626a4">MODULE</font> PurchaseInvoice; <br> <font color="#a626a4">NAMESPACE</font> Purchase; <br> <font color="#a626a4">CLASS</font> Invoice <font color="#50a14f">' ()'</font> ; <br></code> </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> SaleInvoice; <br> <font color="#a626a4">NAMESPACE</font> Sale; <br> <font color="#a626a4">CLASS</font> Invoice <font color="#50a14f">' ()'</font> ; <br></code> </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> PurchaseShipment; <br> <font color="#a626a4">REQUIRE</font> PurchaseInvoice, SaleInvoice; <br> <font color="#a626a4">NAMESPACE</font> Purchase; <br> <font color="#808080"><i>//   Invoice    Purchase.Invoice,   Sale.invoice</i></font> <br> <font color="#808080"><i>//   namespace   Purchase    namespace Purchase </i></font> <br> shipment(Invoice invoice) = <font color="#a626a4">AGGR</font> ShipmentInvoce <font color="#a626a4">WHERE</font> createShipment(invoice); <br></code> </td></tr></tbody></table></div>  Ruang nama dalam versi bahasa saat ini ditetapkan untuk seluruh modul segera di header modul.  Secara default, jika tidak ada namespace yang ditentukan, itu dibuat secara implisit dengan nama yang sama dengan nama modul.  Jika Anda perlu mengakses elemen dari namespace non-prioritas, Anda dapat melakukan ini dengan menentukan nama lengkap elemen (misalnya, Sale.Invoice). <br><br><a name="exptype"></a><h3>  Pengetikan eksplisit </h3><br>  Ruang nama itu penting, tetapi bukan satu-satunya cara untuk membuat kode lebih pendek dan lebih mudah dibaca.  Selain mereka, saat mencari properti (dan tindakan), dimungkinkan juga untuk memperhitungkan kelas argumen yang diteruskan kepada mereka di input.  Jadi misalnya: <br><div class="scrollable-table"><table><tbody><tr><td> <code>sum = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> sum(OrderDetail od) <font color="#a626a4">BY</font> order(od); <br> <font color="#808080"><i>//     ,        Order</i></font> <br> <font color="#808080"><i>//             OrderDetail</i></font> <br> <font color="#a626a4">CONSTRAINT</font> sum(Order o) &lt; <font color="#986801">0</font> <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'    '</font> ; <br></code> </td></tr></tbody></table></div>  Di sini, tentu saja, pertanyaan mungkin timbul: apa yang akan terjadi jika namespace properti yang diinginkan bukan prioritas, tetapi lebih cocok untuk kelas?  Faktanya, algoritma pencarian umum cukup rumit (uraian lengkapnya ada di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> ) dan ada banyak kasus "ambigu" seperti itu, jadi jika terjadi ketidakpastian, disarankan untuk menentukan ruang nama / kelas properti yang diinginkan secara eksplisit, atau memeriksa ulang pada IDE (menggunakan Go to Declaration - CTRL + B) yang ditemukan oleh properti persis seperti yang dimaksudkan. <br><br>  Juga, perlu dicatat bahwa mengetik secara eksplisit di lsFusion umumnya tidak diperlukan.  Kelas parameter dapat dihilangkan, dan jika platform memiliki informasi yang cukup untuk menemukan properti yang diinginkan, itu akan melakukannya.  Di sisi lain, dalam proyek yang sangat kompleks, masih disarankan untuk mengatur kelas parameter secara eksplisit, tidak hanya dari sudut pandang singkatnya kode, tetapi juga dari sudut pandang berbagai fitur tambahan, seperti: diagnosis kesalahan awal, penyelesaian otomatis pintar dari IDE dan sebagainya.  Kami memiliki pengalaman luas bekerja baik dengan pengetikan implisit (5 tahun pertama) dan dengan eksplisit (sisa waktu), dan saya harus mengatakan bahwa waktu pengetikan implisit sekarang diingat dengan gemetar (walaupun mungkin saja “kami tidak tahu cara memasaknya”). <br><br><a name="moduleness"></a><h2>  Modularitas </h2><br>  Modularitas adalah salah satu sifat paling penting dari sistem, memungkinkan untuk memastikan ekstensibilitasnya, penggunaan kembali kode, serta interaksi yang efektif dari tim pengembangan. <br><br>  LsFusion menyediakan modularitas dengan dua mekanisme berikut: <br><br><ul><li>  Extensions - kemampuan untuk memperluas (mengubah) elemen-elemen sistem setelah mereka dibuat. <br></li><li>  Modul - kemampuan untuk mengelompokkan beberapa fungsionalitas bersama untuk digunakan kembali lebih lanjut. <br></li></ul><br><a name="extend"></a><h3>  Ekstensi </h3><br>  lsFusion mendukung kemampuan untuk memperluas kelas dan bentuk, serta properti dan tindakan, melalui mekanisme polimorfisme yang dijelaskan dalam artikel pertama. <br><div class="scrollable-table"><table><tbody><tr><td> <code>sum = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> sum(OrderDetail od) <font color="#a626a4">BY</font> order(od); <br> <font color="#808080"><i>//     ,        Order</i></font> <br> <font color="#808080"><i>//             OrderDetail</i></font> <br> <font color="#a626a4">CONSTRAINT</font> sum(Order o) &lt; <font color="#986801">0</font> <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'    '</font> ; <br> <font color="#a626a4">CLASS</font> <font color="#a626a4">ABSTRACT</font> Shape; <br> <font color="#a626a4">CLASS</font> Box : Shape; <br> <br> <font color="#a626a4">CLASS</font> Quadrilateral; <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">CLASS</font> Box : Quadrilateral; <font color="#808080"><i>//  </i></font> <br> <br> <font color="#a626a4">CLASS</font> ShapeType { <br> point <font color="#50a14f">''</font> , <br> segment <font color="#50a14f">''</font> <br> } <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">CLASS</font> ShapeType { <font color="#808080"><i>//   </i></font> <br> circle <font color="#50a14f">''</font> <br> } <br> <br> <font color="#a626a4">CLASS</font> ItemGroup; <br> name = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">100</font> ] (ItemGroup); <br> <br> itemGroup = <font color="#a626a4">DATA</font> ItemGroup (Item); <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> items <br> <font color="#a626a4">PROPERTIES</font> (i) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">DELETE</font> <font color="#808080"><i>//     </i></font> <br> <br> <font color="#a626a4">OBJECTS</font> g = ItemGroup <font color="#a626a4">BEFORE</font> i <font color="#808080"><i>//        </i></font> <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">FILTERS</font> itemGroup(i) == g <font color="#808080"><i>//         ,       ,    </i></font> <br> ; <br></code> </td></tr></tbody></table></div>  Juga, kami mencatat bahwa hampir semua desain platform lainnya (misalnya, navigator, desain formulir) dapat diperpanjang menurut definisi, oleh karena itu tidak ada logika ekstensi terpisah untuknya. <br><br><a name="module"></a><h3>  Modul </h3><br>  Modul adalah beberapa bagian yang berfungsi secara fungsional dari suatu proyek.  Dalam versi lsFusion saat ini, modul adalah file terpisah yang terdiri dari header dan badan modul.  Judul modul, pada gilirannya, terdiri dari: nama modul, serta, jika perlu, daftar modul yang digunakan dan nama namespace dari modul ini.  Badan modul terdiri dari deklarasi dan / atau ekstensi elemen sistem: properti, tindakan, batasan, bentuk, metacode, dan sebagainya. <br><br>  Biasanya, modul menggunakan elemen dari modul lain untuk mendeklarasikan sendiri / memperluas elemen yang ada.  Dengan demikian, jika modul B menggunakan elemen dari modul A, maka perlu untuk menunjukkan dalam modul B bahwa itu tergantung pada A. <br><br>  Berdasarkan dependensinya, semua modul dalam proyek diatur dalam urutan tertentu di mana mereka diinisialisasi (urutan ini memainkan peran penting ketika menggunakan mekanisme ekstensi yang disebutkan sebelumnya).  Dijamin bahwa jika modul B tergantung pada modul A, maka inisialisasi modul A akan terjadi lebih awal dari inisialisasi modul B. Ketergantungan siklik antara modul dalam proyek tidak diperbolehkan. <br><br>  Ketergantungan antar modul bersifat transitif.  Yaitu, jika modul C tergantung pada modul B, dan modul B tergantung pada modul A, maka dianggap bahwa modul C juga tergantung pada modul A. <br><br>  Setiap modul selalu secara otomatis tergantung pada modul sistem Sistem, terlepas dari apakah itu ditunjukkan secara eksplisit atau tidak. <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> EmployeeExample; <font color="#808080"><i>//   </i></font> <br> <br> <font color="#a626a4">REQUIRE</font> Authentication, Utils; <font color="#808080"><i>//  ,     Employee</i></font> <br> <font color="#a626a4">NAMESPACE</font> Employee; <font color="#808080"><i>//   </i></font> <br> <br> <font color="#a626a4">CLASS</font> Employee <font color="#50a14f">''</font> ; <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">CLASS</font> Position <font color="#50a14f">''</font> ; <font color="#808080"><i>//    </i></font> <br> <br> employeePosition(employee) = <font color="#a626a4">DATA</font> Position (Employee); <font color="#808080"><i>//  </i></font> <br></code> </td></tr></tbody></table></div><br><a name="meta"></a><h3>  Metaprogramming </h3><br>  Metaprogramming adalah jenis pemrograman yang terkait dengan penulisan kode program, yang sebagai hasilnya menghasilkan kode program lain.  LsFusion menggunakan apa yang disebut metacode untuk metaprogramming. <br><br>  Metacode terdiri dari: <br><br><ul><li>  nama metacode </li><li>  parameter metacode </li><li>  badan metacode - blok kode yang terdiri dari deklarasi dan / atau ekstensi elemen sistem (properti, tindakan, peristiwa, metacode lain, dll.) </li></ul><br>  Dengan demikian, sebelum memulai pemrosesan utama kode, platform menyiapkannya - menggantikan semua penggunaan metacode dengan badan metacode ini.  Dalam kasus ini, semua parameter metacode yang digunakan dalam pengenal / string literal diganti dengan argumen yang diteruskan ke metacode ini: <br><br>  Pengumuman: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">META</font> addActions(formName) <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> formName <br> <font color="#a626a4">PROPERTIES</font> () showMessage, closeForm <br> ; <br> <font color="#a626a4">END</font> <br></code> </td></tr></tbody></table></div>  Penggunaan: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#4078f2">@addActions</font> (documentForm); <br> <font color="#4078f2">@addActions</font> (orderForm); <br></code> </td></tr></tbody></table></div>  Kode yang dihasilkan: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> documentForm <br> <font color="#a626a4">PROPERTIES</font> () showMessage, closeForm <br> ; <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> orderForm <br> <font color="#a626a4">PROPERTIES</font> () showMessage, closeForm <br> ; <br></code> </td></tr></tbody></table></div>  Selain hanya mengganti parameter metacode, platform ini juga memungkinkan Anda untuk menggabungkan parameter ini dengan pengidentifikasi / string string yang ada (atau dengan satu sama lain), misalnya: <br><br>  Pengumuman: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">META</font> objectProperties(object, caption) <br> object <font color="#4078f2">##</font> Name <font color="#50a14f">' '</font> <font color="#4078f2">##</font> caption = <font color="#a626a4">DATA</font> <font color="#a626a4">BPSTRING</font> [ <font color="#986801">100</font> ](object); <br> object <font color="#4078f2">##</font> Type <font color="#50a14f">' '</font> <font color="#4078f2">##</font> caption = <font color="#a626a4">DATA</font> Type (object); <br> object <font color="#4078f2">##</font> Value <font color="#50a14f">' '</font> <font color="#4078f2">##</font> caption = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (object); <br> <font color="#a626a4">END</font> <br></code> </td></tr></tbody></table></div>  Penggunaan: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#4078f2">@objectProperties</font> (document, <font color="#50a14f">''</font> ); <br></code> </td></tr></tbody></table></div>  Kode yang dihasilkan: <br><div class="scrollable-table"><table><tbody><tr><td> <code>DocumentName <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">BPSTRING</font> [ <font color="#986801">100</font> ](Document); <br> DocumentType <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> Type (Document); <br> DocumentValue <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (Document); <br></code> </td></tr></tbody></table></div>  Metacode sangat mirip dengan makro di C, tetapi, tidak seperti yang terakhir, mereka tidak bekerja di tingkat teks (mereka tidak bisa, misalnya, meneruskan kata kunci dalam parameter), tetapi hanya pada tingkat pengidentifikasi / string literal (pembatasan ini, khususnya, memungkinkan parsing badan metacode di IDE). <br><br>  Dalam lsFusion, metacode memecahkan masalah yang mirip dengan generik di Jawa (melewati kelas sebagai parameter) dan lambda di FP (melewati fungsi sebagai parameter), namun, mereka tidak melakukannya dengan sangat indah.  Tetapi, di sisi lain, mereka melakukan ini dalam kasus yang jauh lebih umum (yaitu, misalnya, dengan kemungkinan menggabungkan pengidentifikasi, digunakan dalam konstruksi sintaksis apa pun - bentuk, desain, navigator, dll.) <br><br>  Perhatikan bahwa "penyebaran" metacode didukung tidak hanya di platform itu sendiri, tetapi juga di IDE.  Jadi, dalam IDE ada mode khusus Aktifkan meta, yang menghasilkan kode yang dihasilkan langsung di sumber dan dengan demikian memungkinkan kode yang dihasilkan ini untuk berpartisipasi dalam pencarian penggunaan, pelengkapan otomatis, dll.  Dalam hal ini, jika badan metacode berubah, IDE secara otomatis memperbarui semua penggunaan metacode ini. <br><br><img src="https://habrastorage.org/webt/_x/3p/xo/_x3pxoomnmxrrrxk7qinrjkmca4.gif"><br><br>  Juga, metacode dapat digunakan tidak hanya untuk otomatis, tetapi juga untuk pembuatan kode manual (sebagai templat).  Untuk melakukan ini, cukup menulis @@ alih-alih satu @ dan segera setelah string penggunaan metacode dimasukkan sepenuhnya (hingga titik koma), IDE akan mengganti penggunaan metacode ini dengan kode yang dihasilkan oleh metacode ini: <br><br><img src="https://habrastorage.org/webt/bd/jr/lv/bdjrlvo5a2fkwgyosx07rg56-20.gif"><br><br><a name="integration"></a><h3>  Integrasi </h3><br>  Integrasi mencakup segala sesuatu yang berkaitan dengan interaksi sistem lsFusion dengan sistem lain.  Dari sudut pandang arah interaksi ini, integrasi dapat dibagi menjadi: <br><br><ul><li>  Mengakses sistem lsFusion dari sistem lain. </li><li>  Akses dari sistem lsFusion ke sistem lain. </li></ul><br>  Dari sudut pandang model fisik, integrasi dapat dibagi menjadi: <br><br><ul><li>  Interaksi dengan sistem yang berjalan di "lingkungan yang sama" dengan sistem lsFusion (yaitu, di Java Virtual Machine (JVM) dari server lsFusion dan / atau menggunakan server SQL yang sama dengan sistem lsFusion). </li><li>  Interaksi dengan sistem jarak jauh melalui protokol jaringan. </li></ul><br>  Dengan demikian, sistem yang pertama akan disebut internal, yang kedua - eksternal. <br><br>  Dengan demikian, ada empat jenis integrasi dalam platform: <br><br><ul><li>  Banding ke sistem eksternal </li><li>  Banding dari sistem eksternal </li><li>  Banding ke sistem internal </li><li>  Banding dari sistem internal </li></ul><br><a name="toext"></a><h3>  Banding ke sistem eksternal </h3><br>  Akses ke sistem eksternal di lsFusion dalam banyak kasus diimplementasikan menggunakan operator EKSTERNAL khusus.  Operator ini mengeksekusi kode yang diberikan dalam bahasa / dalam paradigma sistem eksternal yang diberikan.  Selain itu, operator ini memungkinkan Anda untuk mentransfer objek tipe primitif sebagai parameter panggilan tersebut, serta menulis hasil panggilan ke properti yang ditentukan (tanpa parameter). <br><br>  Saat ini, platform mendukung jenis interaksi / sistem eksternal berikut: <br><br>  <b>HTTP - Melakukan permintaan http dari server web.</b> <br><br>  Untuk jenis interaksi ini, Anda harus menentukan string kueri (URL), yang secara bersamaan menentukan alamat server dan permintaan yang perlu dijalankan.  Parameter dapat ditransfer baik di baris permintaan (untuk mengakses parameter, karakter khusus $ dan jumlah parameter ini, mulai dari 1) digunakan, serta dalam tubuhnya (BODY).  Diasumsikan bahwa semua parameter yang tidak digunakan dalam string kueri diteruskan ke BODY.  Jika ada lebih dari satu parameter dalam BODY, tipe konten BODY selama transmisi diatur ke multipart / campuran, dan parameter ditransfer sebagai komponen dari BODY ini. <br><br>  Saat memproses parameter kelas file (FILE, PDFFILE, dll.) Di BODY, tipe konten dari parameter ditentukan tergantung pada ekstensi file (sesuai dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tabel</a> berikut).  Jika ekstensi file tidak ada dalam tabel ini, tipe konten diatur ke aplikasi / &lt;ekstensi file&gt;. <br><br>  Jika perlu, menggunakan opsi khusus (HEADERS), Anda dapat mengatur header dari permintaan yang dieksekusi.  Untuk melakukan ini, Anda perlu menentukan properti dengan tepat satu parameter dari kelas string di mana judul akan disimpan, dan nilai kelas string di mana nilai header ini akan disimpan. <br><br>  Hasil dari permintaan http diproses dengan cara yang sama seperti parameternya, hanya dalam arah yang berlawanan: misalnya, jika tipe konten dari hasil ditampilkan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tabel</a> berikut atau sama dengan aplikasi / *, maka dianggap bahwa hasil yang diperoleh adalah file dan harus ditulis ke properti dengan nilai FILE .  Header dari hasil permintaan-http diproses secara analogi dengan header dari permintaan ini sendiri (dengan satu-satunya perbedaan adalah bahwa opsi tersebut disebut HEADERSTO, bukan HEADERS). <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTERNAL</font> <font color="#a626a4">HTTP</font> <font color="#a626a4">GET</font> <font color="#50a14f">'https://www.cs.cmu.edu/~chuck/lennapg/len_std.jpg'</font> <font color="#a626a4">TO</font> exportFile; <br> open(exportFile()); <br> <br> <font color="#a626a4">LOCAL</font> headers = <font color="#a626a4">STRING</font> ( <font color="#a626a4">STRING</font> ); <br> headers( <font color="#50a14f">'Authentication : Bearer'</font> ) &lt;- <font color="#50a14f">'d43ks43ds343dd233'</font> '; <br> <font color="#a626a4">EXTERNAL</font> <font color="#a626a4">HTTP</font> <font color="#50a14f">'http://tryonline.lsfusion.org/exec?action=getExamples'</font> <br> <font color="#a626a4">HEADERS</font> headers <br> <font color="#a626a4">HEADERSTO</font> headers <br> <font color="#a626a4">PARAMS</font> <font color="#a626a4">JSONFILE</font> ( <font color="#50a14f">'\{"mode"=1\}'</font> ) <br> <font color="#a626a4">TO</font> exportFile; <br> <br> <font color="#a626a4">IMPORT</font> <font color="#a626a4">FROM</font> exportFile() <font color="#a626a4">FIELDS</font> () <font color="#a626a4">STRING</font> caption, <font color="#a626a4">STRING</font> code <font color="#a626a4">DO</font> <br> <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'Example : '</font> + caption + <font color="#50a14f">', code : '</font> + code; <br> <font color="#a626a4">FOR</font> v = headers( <font color="#a626a4">STRING</font> s) <font color="#a626a4">DO</font> <br> <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'Result Header is : Key - '</font> + s + <font color="#50a14f">', Value - '</font> + v; <br></code> </td></tr></tbody></table></div>  <b>SQL - mengeksekusi perintah SQL server.</b> <br><br>  Untuk jenis interaksi ini, string koneksi dan perintah SQL yang akan dieksekusi ditentukan.  Parameter dapat dilewatkan dalam string koneksi dan dalam perintah SQL.  Untuk mengakses parameter, karakter khusus $ dan jumlah parameter ini digunakan (mulai dari 1). <br><br>  Parameter kelas file (FILE, PDFFILE, dll.) Hanya dapat digunakan dalam perintah SQL.  Selain itu, jika salah satu parameter selama eksekusi adalah file TABLE (TABLEFILE atau FILE dengan ekstensi tabel), maka parameter ini dianggap sebagai tabel dalam kasus ini juga: <br><br><ul><li>  sebelum menjalankan perintah SQL, nilai setiap parameter tersebut dimuat ke server dalam tabel sementara <br></li><li>  saat mengganti parameter, bukan nilai parameter itu sendiri yang diganti, tetapi nama tabel sementara yang dibuat <br></li></ul><br>  Hasil eksekusi adalah: untuk kueri DML - angka sama dengan jumlah catatan yang diproses, untuk kueri SELECT - File format TABEL (FILE dengan ekstensi tabel) yang berisi hasil kueri ini.  Urutan hasil ini bertepatan dengan urutan pelaksanaan kueri yang sesuai dalam perintah SQL. <br><div class="scrollable-table"><table><tbody><tr><td> <code>externalSQL ()  { <br> <font color="#a626a4">EXPORT</font> <font color="#a626a4">TABLE</font> <font color="#a626a4">FROM</font> bc=barcode(Article a) <font color="#a626a4">WHERE</font> name(a) <font color="#a626a4">LIKE</font> <font color="#50a14f">'%%'</font> ; <font color="#808080"><i>//   -    </i></font> <br> <font color="#a626a4">EXTERNAL</font> <font color="#a626a4">SQL</font> <font color="#50a14f">'jdbc:mysql://$1/test?user=root&amp;password='</font> <br> <font color="#a626a4">EXEC</font> <font color="#50a14f">'select price AS pc, articles.barcode AS brc from $2 x JOIN articles ON x.bc=articles.barcode'</font> <br> <font color="#a626a4">PARAMS</font> <font color="#50a14f">'localhost'</font> ,exportFile() <br> <font color="#a626a4">TO</font> exportFile; <font color="#808080"><i>//     -</i></font> <br> <br> <font color="#808080"><i>//      -  </i></font> <br> <font color="#a626a4">LOCAL</font> price = <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#a626a4">LOCAL</font> barcode = <font color="#a626a4">STRING</font> [ <font color="#986801">30</font> ] ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#a626a4">IMPORT</font> <font color="#a626a4">FROM</font> exportFile() <font color="#a626a4">TO</font> price=pc,barcode=brc; <br> <font color="#a626a4">FOR</font> barcode(Article a) = barcode( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">DO</font> <br> price(a) &lt;- price(i); <br> } <br></code> </td></tr></tbody></table></div>  <b>LSF - panggilan aksi dari server lsFusion lain.</b> <br><br>  Untuk jenis interaksi ini, string koneksi ke server lsFusion (atau server webnya, jika ada) diatur, tindakan yang akan dilakukan, serta daftar properti (tanpa parameter), dalam nilai yang akan dituliskan hasil panggilan.  Parameter yang akan ditransfer harus bertepatan dalam jumlah dan kelas dengan parameter tindakan yang dilakukan. <br><br>  Metode pengaturan aksi dalam jenis interaksi ini sepenuhnya konsisten dengan metode pengaturan aksi ketika mengakses dari sistem eksternal (tentang jenis akses ini di bagian selanjutnya). <br><div class="scrollable-table"><table><tbody><tr><td> <code>externalLSF()  { <br> <font color="#a626a4">EXTERNAL</font> <font color="#a626a4">LSF</font> <font color="#50a14f">'http://localhost:7651'</font> <font color="#a626a4">EXEC</font> <font color="#50a14f">'System.testAction[]'</font> ; <br> } <br></code> </td></tr></tbody></table></div>  Secara default, jenis interaksi ini diimplementasikan menggunakan protokol HTTP menggunakan antarmuka yang sesuai untuk mengakses ke / dari sistem eksternal. <br><br>  Jika Anda perlu mengakses sistem menggunakan protokol yang berbeda dari yang di atas, Anda selalu dapat melakukan ini dengan membuat tindakan di Jawa dan menerapkan panggilan ini di sana (tetapi lebih lanjut di bagian “Mengakses Sistem Internal”) <br><br><a name="fromext"></a><h3>  Banding dari sistem eksternal </h3><br>  Platform ini memungkinkan sistem eksternal untuk mengakses sistem yang dikembangkan di lsFusion menggunakan protokol jaringan HTTP.  Antarmuka interaksi ini adalah untuk memanggil beberapa tindakan dengan parameter yang diberikan dan, jika perlu, mengembalikan nilai beberapa properti (tanpa parameter) sebagai hasilnya.  Diasumsikan bahwa semua objek parameter dan hasil adalah objek tipe primitif. <br><br>  Tindakan yang disebut dapat diatur dalam salah satu dari tiga cara: <br><br><ul><li>  / exec? action = &lt;action name&gt; - mengatur nama aksi yang dipanggil. </li><li>  / eval? script = &lt;code&gt; - mengatur kode dalam lsFusion.  Diasumsikan bahwa dalam kode ini ada pernyataan tindakan dengan nama run, tindakan inilah yang akan dipanggil.  Jika parameter skrip tidak ditentukan, diasumsikan kode dilewatkan sebagai parameter BODY pertama. </li><li>  / eval / action? script = &lt;action code&gt; - mengatur kode aksi di lsFusion.  Untuk mengakses parameter, Anda dapat menggunakan karakter khusus $ dan nomor parameter (mulai dari 1). </li></ul><br>  Dalam kasus kedua dan ketiga, jika parameter skrip tidak ditentukan, maka diasumsikan kode dilewatkan oleh parameter BODY pertama. <br><br>  Pemrosesan parameter dan hasil simetris untuk mengakses sistem eksternal menggunakan protokol HTTP (dengan satu-satunya perbedaan adalah bahwa parameter diproses sebagai hasil, dan, sebaliknya, hasilnya diproses sebagai parameter), sehingga kami tidak akan mengulangi banyak hal. <br><br>  Misalnya, jika kita memiliki tindakan: <br><div class="scrollable-table"><table><tbody><tr><td> <code>importOrder( <font color="#a626a4">INTEGER</font> no, <font color="#a626a4">DATE</font> date, <font color="#a626a4">FILE</font> detail) { <br> <font color="#a626a4">NEW</font> o = FOrder { <br> no(o) &lt;- no; <br> date(o) &lt;- date; <br> <font color="#a626a4">LOCAL</font> detailId = <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#a626a4">LOCAL</font> detailQuantity = <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#a626a4">IMPORT</font> <font color="#a626a4">FROM</font> detail <font color="#a626a4">TO</font> detailId, detailQuantity; <br> <font color="#a626a4">FOR</font> imported( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">DO</font> { <br> <font color="#a626a4">NEW</font> od = FOrderDetail { <br> id(od) &lt;- detailId(i); <br> quantity(od) &lt;- detailQuantity(i); <br> price(od) &lt;- <font color="#986801">5</font> ; <br> order(od) &lt;- o; <br> } <br> } <br> <font color="#a626a4">APPLY</font> ; <br> <font color="#a626a4">EXPORT</font> <font color="#a626a4">JSON</font> <font color="#a626a4">FROM</font> price = price(FOrderDetail od), id = id(od) <font color="#a626a4">WHERE</font> order(od) = o; <br> <font color="#a626a4">EXPORT</font> <font color="#a626a4">FROM</font> orderPrice(o), exportFile(); <br> } <br> } <br></code> </td></tr></tbody></table></div>  Kemudian Anda dapat mengaksesnya menggunakan permintaan POST yang: <br><ul><li>  URL - http: // server_address / exec? Action = importOrder &amp; p = 123 &amp; p = 2019-01-01 </li><li>  BODY - file json dengan string kueri </li></ul><br><div class="spoiler">  <b class="spoiler_title">Contoh panggilan python</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests_toolbelt.multipart <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> decoder lsfCode = (<span class="hljs-string"><span class="hljs-string">"run(INTEGER no, DATE date, FILE detail) {\n"</span></span> <span class="hljs-string"><span class="hljs-string">" NEW o = FOrder {\n"</span></span> <span class="hljs-string"><span class="hljs-string">" no(o) &lt;- no;\n"</span></span> <span class="hljs-string"><span class="hljs-string">" date(o) &lt;- date;\n"</span></span> <span class="hljs-string"><span class="hljs-string">" LOCAL detailId = INTEGER (INTEGER);\n"</span></span> <span class="hljs-string"><span class="hljs-string">" LOCAL detailQuantity = INTEGER (INTEGER);\n"</span></span> <span class="hljs-string"><span class="hljs-string">" IMPORT JSON FROM detail TO detailId, detailQuantity;\n"</span></span> <span class="hljs-string"><span class="hljs-string">" FOR imported(INTEGER i) DO {\n"</span></span> <span class="hljs-string"><span class="hljs-string">" NEW od = FOrderDetail {\n"</span></span> <span class="hljs-string"><span class="hljs-string">" id(od) &lt;- detailId(i);\n"</span></span> <span class="hljs-string"><span class="hljs-string">" quantity(od) &lt;- detailQuantity(i);\n"</span></span> <span class="hljs-string"><span class="hljs-string">" price(od) &lt;- 5;\n"</span></span> <span class="hljs-string"><span class="hljs-string">" order(od) &lt;- o;\n"</span></span> <span class="hljs-string"><span class="hljs-string">" }\n"</span></span> <span class="hljs-string"><span class="hljs-string">" }\n"</span></span> <span class="hljs-string"><span class="hljs-string">" APPLY;\n"</span></span> <span class="hljs-string"><span class="hljs-string">" EXPORT JSON FROM price = price(FOrderDetail od), id = id(od) WHERE order(od) == o;\n"</span></span> <span class="hljs-string"><span class="hljs-string">" EXPORT FROM orderPrice(o), exportFile();\n"</span></span> <span class="hljs-string"><span class="hljs-string">" }\n"</span></span> <span class="hljs-string"><span class="hljs-string">"}"</span></span>) order_no = <span class="hljs-number"><span class="hljs-number">354</span></span> order_date = <span class="hljs-string"><span class="hljs-string">'10.10.2017'</span></span> order_details = [dict(id=<span class="hljs-number"><span class="hljs-number">1</span></span>, quantity=<span class="hljs-number"><span class="hljs-number">10</span></span>), dict(id=<span class="hljs-number"><span class="hljs-number">2</span></span>, quantity=<span class="hljs-number"><span class="hljs-number">15</span></span>), dict(id=<span class="hljs-number"><span class="hljs-number">5</span></span>, quantity=<span class="hljs-number"><span class="hljs-number">4</span></span>), dict(id=<span class="hljs-number"><span class="hljs-number">10</span></span>, quantity=<span class="hljs-number"><span class="hljs-number">18</span></span>), dict(id=<span class="hljs-number"><span class="hljs-number">11</span></span>, quantity=<span class="hljs-number"><span class="hljs-number">1</span></span>), dict(id=<span class="hljs-number"><span class="hljs-number">12</span></span>, quantity=<span class="hljs-number"><span class="hljs-number">3</span></span>)] order_json = json.dumps(order_details) url = <span class="hljs-string"><span class="hljs-string">'http://localhost:7651/eval'</span></span> payload = {<span class="hljs-string"><span class="hljs-string">'script'</span></span>: lsfCode, <span class="hljs-string"><span class="hljs-string">'no'</span></span>: str(order_no), <span class="hljs-string"><span class="hljs-string">'date'</span></span>: order_date, <span class="hljs-string"><span class="hljs-string">'detail'</span></span>: (<span class="hljs-string"><span class="hljs-string">'order.json'</span></span>, order_json, <span class="hljs-string"><span class="hljs-string">'text/json'</span></span>)} response = requests.post(url, files=payload) multipart_data = decoder.MultipartDecoder.from_response(response) sum_part, json_part = multipart_data.parts sum = int(sum_part.text) data = json.loads(json_part.text) <span class="hljs-comment"><span class="hljs-comment">############################################################## print(sum) for item in data: print('{0:3}: price {1}'.format(int(item['id']), int(item['price']))) ############################################################## # 205 # 4: price 5 # 18: price 5 # 3: price 5 # 1: price 5 # 10: price 5 # 15: price 5</span></span></code> </pre></div></div><br><a name="toint"></a><h3>  Banding ke sistem internal </h3><br>  Ada dua jenis interaksi internal: <br><br>  <b>Interoperabilitas Java</b> <br><br>  Jenis interaksi ini memungkinkan Anda untuk memanggil kode Java di dalam server lsFusion JVM.  Untuk melakukan ini, Anda harus: <br><br><ul><li>  memastikan bahwa kelas Java yang dikompilasi dapat diakses di classpath dari server aplikasi.  Juga diperlukan bahwa kelas ini mewarisi lsfusion.server.physics.dev.integration.internal.to.InternalAction. <br><div class="spoiler">  <b class="spoiler_title">Contoh kelas Java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.data.sql.exception.SQLHandledException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.language.ScriptingErrorLog; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.language.ScriptingLogicsModule; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.logics.action.controller.context.ExecutionContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.logics.classes.ValueClass; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.logics.property.classes.ClassPropertyInterface; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.physics.dev.integration.internal.to.InternalAction; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.math.BigInteger; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.sql.SQLException; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CalculateGCD</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InternalAction</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CalculateGCD</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ScriptingLogicsModule LM, ValueClass... classes)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(LM, classes); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeInternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ExecutionContext&lt;ClassPropertyInterface&gt; context)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException, SQLHandledException </span></span>{ BigInteger b1 = BigInteger.valueOf((Integer)getParam(<span class="hljs-number"><span class="hljs-number">0</span></span>, context)); BigInteger b2 = BigInteger.valueOf((Integer)getParam(<span class="hljs-number"><span class="hljs-number">1</span></span>, context)); BigInteger gcd = b1.gcd(b2); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { findProperty(<span class="hljs-string"><span class="hljs-string">"gcd[]"</span></span>).change(gcd.intValue(), context); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ScriptingErrorLog.SemanticErrorException ignored) { } } }</code> </pre></div></div></li><li>  mendaftarkan suatu tindakan menggunakan operator panggilan internal khusus (INTERNAL) <br><div class="scrollable-table"><table><tbody><tr><td> <code>calculateGCD <font color="#50a14f">' '</font> <font color="#a626a4">INTERNAL</font> <font color="#50a14f">'CalculateGCD'</font> ( <font color="#a626a4">INTEGER</font> , <font color="#a626a4">INTEGER</font> ); <br></code> </td></tr></tbody></table></div></li><li>  tindakan terdaftar, seperti yang lainnya, dapat dipanggil menggunakan operator panggilan.  Dalam hal ini, metode executeInternal (lsfusion.server.logics.action.controller.context.ExecutionContext konteks) dari kelas Java yang ditentukan akan dieksekusi. <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">FORM</font> gcd <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> (a = <font color="#a626a4">INTEGER</font> , b = <font color="#a626a4">INTEGER</font> ) <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> <font color="#50a14f">'A'</font> = <font color="#a626a4">VALUE</font> (a), <font color="#50a14f">'B'</font> = <font color="#a626a4">VALUE</font> (b) <br> <br> <font color="#a626a4">PROPERTIES</font> gcd(), calculateGCD(a, b) <br> ; <br> <br> <font color="#808080"><i>//   </i></font> <br> run() { <br> calculateGCD( <font color="#986801">100</font> , <font color="#986801">200</font> ); <br> } <br></code> </td></tr></tbody></table></div></li></ul>  <b>Interaksi SQL</b> <br><br>  Jenis interaksi ini memungkinkan Anda untuk mengakses objek / konstruksi sintaks dari server SQL yang digunakan oleh sistem lsFusion yang dikembangkan.  Untuk menerapkan jenis interaksi ini di platform, operator khusus digunakan - FORMULA.  Operator ini memungkinkan Anda untuk membuat properti yang mengevaluasi beberapa rumus dalam bahasa SQL.  Rumus diatur dalam bentuk string di mana karakter khusus $ dan jumlah parameter ini digunakan untuk mengakses parameter (mulai dari 1).  Dengan demikian, jumlah parameter dari properti yang diperoleh akan sama dengan maksimum dari jumlah parameter yang digunakan. <br><div class="scrollable-table"><table><tbody><tr><td> <code>round(number, digits) = <font color="#a626a4">FORMULA</font> <font color="#50a14f">'round(CAST(($1) as numeric),$2)'</font> ; <font color="#808080"><i>//    :       </i></font> <br> jumpWorkdays = <font color="#a626a4">FORMULA</font> <font color="#a626a4">NULL</font> <font color="#a626a4">DATE</font> <font color="#a626a4">PG</font> <font color="#50a14f">'jumpWorkdays($1, $2, $3)'</font> , <font color="#a626a4">MS</font> <font color="#50a14f">'dbo.jumpWorkdays($1, $2, $3)'</font> ; <font color="#808080"><i>//         SQL</i></font> <br></code> </td></tr></tbody></table></div>  Disarankan untuk menggunakan operator ini hanya dalam kasus di mana masalah tidak dapat diselesaikan dengan bantuan operator lain, dan juga jika dijamin bahwa server SQL tertentu dapat digunakan, atau konstruksi sintaks yang digunakan mematuhi salah satu standar SQL terbaru. <br><br><a name="fromint"></a><h3>  Banding dari sistem internal </h3><br>  Semuanya simetris dengan daya tarik ke sistem internal.  Ada dua jenis interaksi: <br><br>  <b>Interoperabilitas Java</b> <br><br>  Dalam kerangka interaksi jenis ini, sistem internal dapat secara langsung mengakses elemen Java dari sistem lsFusion (seperti objek Java biasa).  Dengan demikian, Anda dapat melakukan semua operasi yang sama seperti menggunakan protokol jaringan, tetapi pada saat yang sama menghindari overhead yang signifikan dari interaksi tersebut (misalnya, serialisasi parameter / deserialisasi hasil, dll.).  Selain itu, metode komunikasi ini jauh lebih nyaman dan efisien jika interaksi sangat dekat (yaitu, selama pelaksanaan satu operasi, kontak konstan diperlukan di kedua arah - dari sistem lsFusion ke sistem lain dan sebaliknya) dan / atau memerlukan akses ke node platform tertentu. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk mengakses elemen Java dari sistem lsFusion secara langsung, Anda harus terlebih dahulu mendapatkan tautan ke beberapa objek yang akan memiliki antarmuka untuk menemukan elemen Java ini. </font><font style="vertical-align: inherit;">Ini biasanya dilakukan dengan satu dari dua cara:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jika pada awalnya panggilan tersebut berasal dari sistem lsFusion (melalui mekanisme yang dijelaskan di atas), maka sebagai "objek pencarian" Anda dapat menggunakan objek aksi "melalui mana" panggilan ini berjalan (kelas tindakan ini harus diwarisi dari lsfusion.server.physics.dev.integration. internal.to.InternalAction, yang, pada gilirannya, memiliki semua antarmuka yang diperlukan). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jika objek dari metode yang perlu untuk mengakses sistem lsFusion adalah kacang Spring, maka tautan ke objek logika bisnis dapat diperoleh dengan menggunakan injeksi dependensi (masing-masing kacang disebut businessLogics). </font></font></li></ul><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh kelas Java</font></font></b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.data.sql.exception.SQLHandledException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.data.value.DataObject; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.language.ScriptingErrorLog; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.language.ScriptingLogicsModule; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.logics.action.controller.context.ExecutionContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.logics.classes.ValueClass; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.logics.property.classes.ClassPropertyInterface; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lsfusion.server.physics.dev.integration.internal.to.InternalAction; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.math.BigInteger; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.sql.SQLException; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CalculateGCDObject</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InternalAction</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CalculateGCDObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ScriptingLogicsModule LM, ValueClass... classes)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(LM, classes); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeInternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ExecutionContext&lt;ClassPropertyInterface&gt; context)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException, SQLHandledException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { DataObject calculation = (DataObject)getParamValue(<span class="hljs-number"><span class="hljs-number">0</span></span>, context); BigInteger a = BigInteger.valueOf((Integer)findProperty(<span class="hljs-string"><span class="hljs-string">"a"</span></span>).read(context, calculation)); BigInteger b = BigInteger.valueOf((Integer)findProperty(<span class="hljs-string"><span class="hljs-string">"b"</span></span>).read(context, calculation)); BigInteger gcd = a.gcd(b); findProperty(<span class="hljs-string"><span class="hljs-string">"gcd[Calculation]"</span></span>).change(gcd.intValue(), context, calculation); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ScriptingErrorLog.SemanticErrorException ignored) { } } }</code> </pre></div></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interaksi SQL</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sistem yang memiliki akses ke server SQL dari sistem lsFusion (salah satu dari sistem tersebut, misalnya, adalah server SQL itu sendiri), dapat langsung mengakses tabel dan bidang yang dibuat oleh sistem lsFusion menggunakan alat server SQL. Harus diingat bahwa jika membaca data relatif aman (kecuali untuk kemungkinan penghapusan / modifikasi tabel dan bidangnya), maka tidak ada peristiwa yang akan dipicu ketika data ditulis (dan, karenanya, semua elemen menggunakannya - pembatasan, agregasi, dll. n.), dan juga tidak ada materialisasi yang akan dihitung ulang. Oleh karena itu, menulis data langsung ke tabel sistem lsFusion sangat tidak disarankan, dan jika memang perlu, penting untuk mempertimbangkan semua fitur di atas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perhatikan bahwa interaksi langsung semacam itu (tetapi hanya untuk membaca) terutama nyaman untuk integrasi dengan berbagai sistem OLAP, di mana seluruh proses harus terjadi dengan overhead yang minimal. </font></font><br><br><a name="migration"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Migrasi </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam praktiknya, situasi sering muncul ketika karena berbagai alasan perlu untuk mengubah nama elemen sistem yang ada. Jika elemen yang akan diganti namanya tidak terkait dengan data primer apa pun, ini dapat dilakukan tanpa gerakan yang tidak perlu. Tetapi jika elemen ini adalah properti atau kelas utama, maka penggantian nama yang "sepi" akan mengarah pada fakta bahwa data properti atau kelas utama ini akan hilang begitu saja. Untuk mencegah hal ini, pengembang dapat membuat file migrasi.script migrasi khusus, letakkan di server classpath, dan tunjukkan di dalamnya bagaimana nama elemen lama sesuai dengan nama baru. Semuanya bekerja sebagai berikut:</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migrasi terdiri dari blok yang menjelaskan perubahan yang dibuat dalam versi tertentu dari struktur database. </font><font style="vertical-align: inherit;">Saat memulai server, semua perubahan dari file migrasi yang memiliki versi lebih tinggi dari versi yang disimpan dalam database diterapkan. </font><font style="vertical-align: inherit;">Perubahan diterapkan sesuai dengan versi, dari versi yang lebih kecil ke versi yang lebih besar. </font><font style="vertical-align: inherit;">Jika struktur database berhasil diubah, maka versi maksimum dari semua blok yang diterapkan ditulis ke database sebagai yang sekarang. </font><font style="vertical-align: inherit;">Sintaks untuk deskripsi setiap blok adalah sebagai berikut:</font></font><br><br><pre> <code class="plaintext hljs">V&lt; &gt; { 1 ... N }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perubahan, pada gilirannya, adalah dari jenis berikut: </font></font><br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">DATA</font> <font color="#a626a4">PROPERTY</font> oldNS.oldName[class1,...,classN] -&gt; newNS.newName[class1,...,classN] <br> <font color="#a626a4">CLASS</font> oldNS.oldName -&gt; newNS.newName <br> <font color="#a626a4">OBJECT</font> oldNS.oldClassName.oldName -&gt; newNS.newClassName.newName <br> <br> <font color="#a626a4">TABLE</font> oldNS.oldName -&gt; newNS.newName <br> <font color="#a626a4">PROPERTY</font> oldNS.oldName[class1,...,classN] -&gt; newNS.newName[class1,...,classN] <br> <font color="#a626a4">FORM</font> <font color="#a626a4">PROPERTY</font> oldNS.oldFormName.oldName(object1,...,objectN) -&gt; newNS.newFormName.newName(object1,...,objectN) <br> <font color="#a626a4">NAVIGATOR</font> oldNS.oldName -&gt; newNS.newName <br></code> </td></tr></tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk migrasi data pengguna, hanya tiga jenis perubahan pertama yang relevan (perubahan properti primer, kelas, objek statis). </font><font style="vertical-align: inherit;">Empat jenis perubahan yang tersisa diperlukan:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk migrasi metadata (kebijakan keamanan, pengaturan tabel, dll.) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mengoptimalkan migrasi data pengguna (agar tidak menghitung ulang agregasi dan tidak mentransfer data antar tabel sekali lagi). </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dengan demikian, jika migrasi metadata tidak diperlukan atau tidak ada banyak data, perubahan dalam skrip migrasi tersebut dapat dihilangkan. </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh migrasi</font></font></b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code>V0. <font color="#986801">3.1</font> { <br> <font color="#a626a4">DATA</font> <font color="#a626a4">PROPERTY</font> Item.gender[Item.Article] -&gt; Item.dataGender[Item.Article] <font color="#808080"><i>//   DATA </i></font> <br> <font color="#a626a4">PROPERTY</font> System.SIDProperty[Reflection.Property] -&gt; Reflection.dbNameProperty[Reflection.Property] <font color="#808080"><i>//          </i></font> <br> <font color="#a626a4">FORM</font> <font color="#a626a4">PROPERTY</font> Item.itemForm.name(i) -&gt; Item.itemForm.itemName(i) <br> } <br> <br> V0. <font color="#986801">4</font> { <br> <font color="#a626a4">FORM</font> <font color="#a626a4">PROPERTY</font> Document.documentForm.name(i) -&gt; Document.itemForm.itemName(i) <br> <font color="#a626a4">FORM</font> <font color="#a626a4">PROPERTY</font> Item.itemForm.itemName(i) -&gt; Item.itemForm.iname <font color="#808080"><i>//       : iname = itemName(i)</i></font> <br> <font color="#a626a4">CLASS</font> Date.DateInterval -&gt; Date.Interval <br> <font color="#a626a4">OBJECT</font> Geo.Direction.North -&gt; Geo.Direction.north <br> <font color="#a626a4">TABLE</font> User.oldTable -&gt; User.newTable <br> } <br></code> </td></tr></tbody></table></div><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perlu dicatat bahwa biasanya sebagian besar pekerjaan pembuatan skrip migrasi dilakukan menggunakan IDE. </font><font style="vertical-align: inherit;">Jadi, ketika mengganti nama sebagian besar elemen, Anda dapat menentukan kotak centang khusus Ubah file migrasi (diaktifkan secara default), dan IDE akan menghasilkan semua skrip yang diperlukan secara otomatis.</font></font><br><br><a name="internationalization"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Internasionalisasi </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam praktiknya, kadang-kadang muncul situasi ketika perlu untuk dapat menggunakan satu aplikasi dalam bahasa yang berbeda. </font><font style="vertical-align: inherit;">Tugas ini biasanya turun untuk melokalkan semua data string yang dilihat pengguna, yaitu: pesan teks, header properti, tindakan, formulir, dll. </font><font style="vertical-align: inherit;">Semua data ini di lsFusion diatur menggunakan string literal (string dalam tanda kutip tunggal, misalnya 'abc'), masing-masing, lokalisasi mereka dilakukan sebagai berikut:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alih-alih teks yang akan dilokalisasi, string mengidentifikasi data string, terlampir dalam kurung kurawal (misalnya, '{button.cancel}'). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ketika string ini dikirim ke klien di server, itu mencari semua pengidentifikasi yang ditemukan dalam string, kemudian mencari masing-masing di semua </font><font style="vertical-align: inherit;">file proyek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ResourceBundle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di lokal yang diinginkan (yaitu, klien lokal), dan ketika opsi yang tepat ditemukan, pengidentifikasi di kurung diganti dengan teks yang sesuai.</font></font></li></ul><div class="scrollable-table"><table><tbody><tr><td> <code>script <font color="#50a14f">'{scheduler.script.scheduled.task.detail}'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">TEXT</font> (ScheduledTaskDetail); <br> <font color="#a626a4">CONSTRAINT</font> script(ScheduledTaskDetail d) <font color="#a626a4">AND</font> action(d) <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'{scheduler.constraint.script.and.action}'</font> ; <br> <font color="#a626a4">FORM</font> scheduledTask <font color="#50a14f">'{scheduler.form.scheduled.task}'</font> ; <br></code> </td></tr></tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ServerResourceBundle.properties: </font></font><br><pre> <code class="plaintext hljs">scheduler.script.scheduled.task.detail=Script scheduler.constraint.script.and.action=In the scheduler task property and script cannot be selected at the same time scheduler.form.scheduled.task=Tasks</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ServerResourceBundle_ru.properties </font></font><br><pre> <code class="plaintext hljs">scheduler.script.scheduled.task.detail= scheduler.constraint.script.and.action=           scheduler.form.scheduled.task=</code> </pre><br><a name="optimization"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mengoptimalkan kinerja proyek data besar </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika sistemnya kecil dan relatif sedikit data di dalamnya, sebagai aturan, ia bekerja cukup efisien tanpa optimasi tambahan. Jika logika menjadi sangat rumit, dan jumlah data meningkat secara signifikan, kadang-kadang masuk akal untuk memberi tahu platform cara terbaik untuk menyimpan dan memproses semua data ini. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platform ini memiliki dua mekanisme utama untuk bekerja dengan data: properti dan tindakan. Yang pertama bertanggung jawab untuk menyimpan dan menghitung data, yang kedua adalah untuk mentransfer sistem dari satu negara ke negara lain. Dan jika pekerjaan tindakan dapat dioptimalkan secara terbatas (termasuk karena efek sampingnya), maka untuk properti ada serangkaian fitur yang memungkinkan mengurangi waktu respons operasi spesifik dan meningkatkan kinerja sistem secara keseluruhan:</font></font><br><br><ul><li> .      ( ,  ),     ,   ,  . </li><li> .        ,  ,       . </li><li> .           /       ,         .       «»  . </li></ul><br><a name="materialized"></a><h3>  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hampir semua properti teragregasi dalam platform dapat terwujud. Dalam hal ini, properti akan disimpan dalam database secara terus-menerus dan secara otomatis diperbarui ketika data yang bergantung pada properti ini diubah. Selain itu, ketika membaca nilai-nilai properti terwujud, nilai-nilai ini akan dibaca langsung dari database, seolah-olah properti itu primer (dan tidak dihitung setiap kali). Oleh karena itu, semua properti primer diwujudkan dengan definisi. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Properti dapat terwujud jika dan hanya jika untuk itu ada sejumlah terbatas set objek yang nilai properti ini bukan NULL. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umumnya, topik materialisasi diperiksa secara cukup rinci dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel terbaru.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentang keseimbangan penulisan dan membaca dalam basis data, sehingga untuk membahasnya secara rinci di sini, menurut pendapat saya, tidak masuk akal. </font></font><br><br><a name="index"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Indeks </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membangun indeks dengan properti memungkinkan Anda untuk menyimpan dalam semua nilai-nilai properti ini dalam urutan. </font><font style="vertical-align: inherit;">Dengan demikian, indeks diperbarui setiap kali nilai properti yang diindeks berubah. </font><font style="vertical-align: inherit;">Berkat indeks, jika, misalnya, pemfilteran oleh properti yang diindeks sedang berlangsung, Anda dapat dengan cepat menemukan objek yang diperlukan, daripada melihat semua objek yang ada dalam sistem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hanya properti terwujud yang dapat diindeks (dari bagian di atas). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indeks juga dapat dibangun di atas beberapa properti sekaligus (ini efektif jika, misalnya, penyaringan dilakukan segera pada beberapa properti ini). </font><font style="vertical-align: inherit;">Selain itu, parameter properti dapat dimasukkan dalam indeks komposit. </font><font style="vertical-align: inherit;">Jika properti yang ditentukan disimpan dalam tabel yang berbeda, maka upaya untuk membangun indeks akan menghasilkan kesalahan yang sesuai.</font></font><br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">INDEX</font> customer(Order o); <br> <br> date = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (Order); <br> <font color="#a626a4">INDEX</font> date(Order o), o; <br> <br> <font color="#a626a4">INDEX</font> name(Sku s), price(s, <font color="#a626a4">DATE</font> d), d; <br></code> </td></tr></tbody></table></div><a name="table"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tabel </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LsFusion menggunakan database relasional untuk menyimpan dan menghitung nilai properti. Semua properti utama, serta semua properti teragregasi yang ditandai sebagai terwujud, disimpan di bidang tabel database. Untuk setiap tabel, ada seperangkat bidang kunci dengan nama key0, key1, ..., keyN, di mana nilai-nilai objek disimpan (misalnya, untuk kelas kustom, pengidentifikasi objek-objek ini). Semua bidang lainnya menyimpan nilai properti sedemikian rupa sehingga dalam bidang yang sesuai dari setiap baris adalah nilai properti untuk objek dari bidang kunci. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saat membuat tabel, Anda harus menentukan daftar kelas objek yang akan menjadi kunci dalam tabel ini.</font></font><br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">TABLE</font> book (Book); <br> <br> in = <font color="#a626a4">DATA</font> <font color="#a626a4">BOOLEAN</font> (Sku, Stock); <br> <font color="#a626a4">TABLE</font> skuStock (Sku, Stock); <font color="#808080"><i>//      in</i></font> <br> <br> price = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (Sku, <font color="#a626a4">DATE</font> ); <br> <font color="#a626a4">TABLE</font> skuDate (Sku, <font color="#a626a4">DATE</font> ); <font color="#808080"><i>//      Sku</i></font> <br> <br> <font color="#a626a4">TABLE</font> sku (Sku); <br></code> </td></tr></tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk setiap properti, Anda dapat menentukan di tabel mana ia harus disimpan. </font><font style="vertical-align: inherit;">Dalam hal ini, jumlah kunci tabel harus cocok dengan jumlah parameter properti, dan kelas parameter harus cocok dengan kelas kunci tabel ini. </font><font style="vertical-align: inherit;">Jika tabel di mana ia akan disimpan tidak diatur secara eksplisit untuk properti, properti akan secara otomatis ditempatkan di tabel "terdekat" yang ada dalam sistem (yaitu, jumlah kunci yang bertepatan dengan jumlah parameter properti, dan yang kelas kuncinya paling dekat dengan kelas parameter ) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nama-nama tabel dan bidang di mana properti disimpan dalam DBMS dibentuk sesuai dengan kebijakan penamaan yang ditentukan. </font><font style="vertical-align: inherit;">Saat ini, platform mendukung tiga kebijakan penamaan standar.</font></font><br><div class="scrollable-table"><table><tbody><tr><th>  Politik </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nama tabel </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nama bidang </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Penuh dengan tanda tangan (default) </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Space Name_NameTables </font></font></td><td> __1 <br> _2..._N </td></tr><tr><td>    </td><td> _ </td><td> _ </td></tr><tr><td>  </td><td>  </td><td>  </td></tr></tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika perlu, untuk setiap properti, pengembang dapat secara eksplisit menentukan nama bidang di mana properti ini akan disimpan. Selain itu, dimungkinkan untuk membuat kebijakan Anda sendiri untuk penamaan bidang properti jika alasan di atas karena tidak cocok. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketika memilih kebijakan penamaan, penting untuk diingat bahwa menggunakan kebijakan penamaan properti yang terlalu singkat, jika jumlah properti terwujud cukup besar, dapat sangat menyulitkan penamaan properti ini (sehingga unik), atau, oleh karena itu, menyebabkan terlalu sering kebutuhan untuk menyebutkan nama secara eksplisit. Kolom tempat properti ini akan disimpan.</font></font><br><br><h2>  Kesimpulan </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seperti yang mereka katakan dalam satu film animasi terkenal: "kami membangun, membangun, dan akhirnya membangun." Tentu saja, ini mungkin sedikit dangkal, tapi saya pikir Anda bisa mengetahui fitur dasar dari bahasa / platform lsFusion untuk tiga artikel ini. Saatnya beralih ke bagian yang paling menarik - membandingkan dengan teknologi lain. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seperti yang ditunjukkan oleh pengalaman dan format Habr, melakukan ini lebih efektif dengan bermain bukan sendirian, tetapi di lapangan asing. Yaitu, untuk pergi bukan dari peluang, tetapi dari masalah dan, dengan demikian, untuk berbicara bukan tentang keuntungan mereka, tetapi tentang kelemahan teknologi alternatif, dan dalam terminologi mereka sendiri. Pendekatan ini biasanya lebih baik dirasakan di pasar konservatif, dan menurut pendapat saya, pasar seperti itu adalah pasar untuk pengembangan sistem informasi, dalam hal apa pun, di ruang pasca-Soviet.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jadi segera akan ada beberapa artikel dengan gaya: "Mengapa tidak ...?", Dan saya yakin mereka akan jauh lebih menarik daripada tutorial yang sangat membosankan ini. </font></font><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id460887/">https://habr.com/ru/post/id460887/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id460877/index.html">Kubernetes-adventure Dailymotion: membangun infrastruktur di awan + di tempat</a></li>
<li><a href="../id460879/index.html">DUMP Kazan 2019 - Tatarstan Developers Conference. Kami menerima aplikasi untuk laporan</a></li>
<li><a href="../id460881/index.html">Kesulitan menerapkan teknologi OCR dalam sistem DLP, atau Bagaimana kami mempersiapkan OCR</a></li>
<li><a href="../id460883/index.html">Tentang kehidupan di dunia perubahan persyaratan dan manfaat fitur kecil</a></li>
<li><a href="../id460885/index.html">Laporan menarik di HighLoad ++ Siberia 2019 menurut Plesk</a></li>
<li><a href="../id460891/index.html">Bagaimana membedakan SCRUM baik dari buruk, menggunakan pendekatan pendiri komputasi kuantum</a></li>
<li><a href="../id460893/index.html">Melihat relokasi ke Estonia dari dalam ke luar - pro, kontra, dan perangkap</a></li>
<li><a href="../id460897/index.html">JUnit di GitLab CI dengan Kubernetes</a></li>
<li><a href="../id460899/index.html">26 Juli, Deworkacy - DocOps dari Rostelecom</a></li>
<li><a href="../id460901/index.html">Mengapa Pengembang Senior Tidak Dapat Mendapatkan Pekerjaan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>