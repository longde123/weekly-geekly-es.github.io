<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßóüèΩ üôÖüèæ üçâ Layout e estilos autom√°ticos do Unity: nosso novo pipeline e ferramentas para interface do usu√°rio üë®üèº‚Äçüé§ ü¶ñ üë®üèª‚Äçüåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Come√ßarei com o principal: criamos uma ferramenta de layout conveniente e alteramos o pipeline de trabalho. Agora em ordem. 

 Existem muitas interfac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Layout e estilos autom√°ticos do Unity: nosso novo pipeline e ferramentas para interface do usu√°rio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pixonic/blog/462835/"><img src="https://habrastorage.org/webt/py/zj/bi/pyzjbiha5nept3fqmkkpoezrbms.gif"><br><br>  Come√ßarei com o principal: criamos uma ferramenta de layout conveniente e alteramos o pipeline de trabalho.  Agora em ordem. <br><br>  Existem muitas interfaces diferentes em jogos para celular, incluindo HUD e um grande n√∫mero de telas para meta.  Os designers de UX os projetam, os designers de UI desenham e, para que tudo isso apare√ßa no mecanismo, h√° pessoas especialmente treinadas - designers t√©cnicos de UI.  Bem, ou simplesmente designers de layout.  Parte de seu trabalho √© transferir meticulosamente tudo, desde o layout do PSD at√© a pr√©-fabricada, n√∫mero ap√≥s n√∫mero.  Eles tamb√©m participam de anima√ß√µes da interface do usu√°rio, preenchem sprites, tornam o layout adapt√°vel, organizam as chaves de localiza√ß√£o e assim por diante. <br><br>  E estabelecemos v√°rios objetivos: <br><br><ul><li>  acelerar o trabalho do designer de layout e salv√°-lo da rotina; </li><li>  agilizar a intera√ß√£o entre os departamentos de design e desenvolvimento de UI; </li><li>  uniformizar a interface do usu√°rio: criar diretrizes e formar ativos do Unity com base; </li><li>  forne√ßa extensibilidade e versatilidade da interface do usu√°rio, reutiliza√ß√£o de ativos, resist√™ncia a edi√ß√µes e f√°cil otimiza√ß√£o. </li></ul><br>  Foi assim que aconteceu. <a name="habracut"></a><br><br>  Tentamos criar algum tipo de sistema de design a partir do mecanismo Unity e do Adobe Photoshop (que, aparentemente, exceto por um desenvolvedor de jogos, dificilmente √© usado para criar interfaces).  Grosso modo, nos deparamos com a tarefa de fazer amigos Photoshop e Unity. <br><br><img src="https://habrastorage.org/webt/ew/ze/6i/ewze6ipw85qpsvsdfdnlwvvzky8.jpeg"><br><br>  Antes de tudo, era necess√°rio projetar todo o conjunto de "linguagem visual" no Unity.  Para fazer isso, escolhemos estilos e os adaptamos √†s nossas pr√≥prias necessidades.  Essa √© uma pr√°tica bastante comum entre as empresas.  Assim, um conjunto de fontes se tornou um estilo de fonte, um conjunto de layouts se tornou um estilo com sprites desses layouts, um conjunto de cores se tornou um estilo com cores e assim por diante.  Foi o suficiente para criar tudo isso uma vez e simplesmente reutilizar e complementar a extens√£o psd com as diretrizes.  Assim, o designer da interface do usu√°rio √© for√ßado a abandonar 1001 substratos em diferentes telas e criar v√°rios universais. <br><br>  Estilos atuais que s√£o: <br><br><ol><li>  <b>Estilo de cor</b> &lt;Nome, Cor&gt; </li><li>  <b>Estilo do texto</b> &lt;Nome, Fonte, Tamanho da fonte, Material da fonte, Espa√ßamento entre linhas&gt; </li><li>  <b>Estilo da fonte</b> &lt;T√≠tulo, Fonte, Material da fonte&gt; </li><li>  <b>Estilo do bot√£o</b> &lt;Nome, Configura√ß√µes do bot√£o&gt; </li><li>  <b>Estilo do layout</b> &lt;Nome, Sprite, Recuo&gt; </li><li>  <b>Estilo Sprite</b> &lt;Nome, Sprite&gt; </li><li>  <b>Estilo de Localiza√ß√£o</b> &lt;Nome, Chave&gt; </li><li>  <b>Estilo do √≠cone</b> &lt;Nome, Sprite&gt; </li></ol><br>  E, em geral, voc√™ pode criar estilos de maneira f√°cil e simples, herdando-o da base.  Por exemplo: <br><br><pre><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">CreateAssetMenu(menuName = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"UIStyles/ColorStyle"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ColorStyle</span></span> : <span class="hljs-title"><span class="hljs-title">BaseStyle</span></span>&lt;<span class="hljs-title"><span class="hljs-title">Color</span></span>&gt; { }</code> </pre> <br>  A √∫nica limita√ß√£o: o tipo deve ser serializ√°vel.  Assim, mesmo o compositor ir√° lidar com a cria√ß√£o de seu pr√≥prio tipo de estilo. <br><br><img src="https://habrastorage.org/webt/ap/-u/7g/ap-u7gb-mj4d4jl8ngy3wt3wkb0.jpeg"><br><br>  Alguns estilos s√£o necess√°rios para alterar o estado da interface do usu√°rio.  Por exemplo, Estilo de cor, Estilo de texto, Estilo Sprite, Estilo de bot√£o, Estilo de localiza√ß√£o.  Todos eles afetam diferentes objetos do jogo.  As imagens s√£o pintadas em cores diferentes, sprites diferentes s√£o substitu√≠das nelas e assim por diante. <br><br>  At√© agora, n√£o estava claro como usar tudo isso.  Vou dar um exemplo simples.  Digamos que temos um bot√£o de ofertas de cores diferentes.  A cor do bot√£o depende da oferta em si.  E eles ficam assim: <br><br><img src="https://habrastorage.org/webt/_y/8h/bv/_y8hbvtkew9spcztt21fjn_af5s.jpeg"><br><br>  Em seguida, criamos uma pr√©-fabricada com Image, na qual penduramos o ColorStyleComponent, inserimos o estilo ColorStyle nele, onde todas as cores em que o bot√£o pode ser repintado ser√£o armazenadas e, em seguida, aplicamos os estilos, dependendo da oferta dentro do c√≥digo. <br><br><img src="https://habrastorage.org/webt/4z/mz/wp/4zmzwp5ptez9lika0pydr7dzata.jpeg"><br><br>  Os estilos FontStyle, IconStyle e LayoutStyle s√£o usados ‚Äã‚Äãpara o construtor autom√°tico.  Esta √© uma biblioteca de todas as fontes, √≠cones e subjac√™ncias no projeto. <br><br>  Um sistema com estilos tem um grande n√∫mero de vantagens (apenas um monte de ativos em um projeto pode ser irritante): <br><br><ul><li>  reutiliza√ß√£o; </li><li>  ao alterar o estilo, a pr√©-fabricada n√£o muda, mas se algo precisar ser alterado, isso afetar√° todas as pr√©-fabricadas; </li><li>  os tip√≥grafos criam os pr√≥prios estilos, os alteram e os excluem, o que permite aos programadores esquecer o monte de campos em monobekh com flores; </li><li>  Os estilos podem ser aplicados diretamente no editor devido ao fato de que, para o Editor BaseStyleComponent &lt;T, TStyle&gt;, seu pr√≥prio Editor √© gravado. </li></ul><br>  Para alterar o estado de um widget grande, v√°rios estilos podem ser usados, diferentes objetos podem ser ativados / desativados.  Para fazer isso, o StateStyleComponent foi criado no projeto, que coleta todos os estilos e objetos que precisam ser ativados / desativados.  Ent√£o, diretamente no widget, todos os seus estados poss√≠veis s√£o criados e alternados.  Isso salva os programadores de um monte do mesmo c√≥digo de mudan√ßa de cor / fonte / texto / sprite. <br><br><img src="https://habrastorage.org/webt/ob/oz/6z/oboz6zrkayuamm0ew9bq7nzzcto.png"><br><br><img src="https://habrastorage.org/webt/e0/1e/kx/e01ekxz1euufcifycetldyvgbyg.gif"><br><br>  Ent√£o criamos um fabricante de autom√≥veis.  Esta √© uma ferramenta na qual voc√™ coloca o psd e, na sa√≠da, √© criada uma pr√©-fabricada bruta, na qual alguns sprites j√° est√£o inseridos, posi√ß√µes, nomes, fontes, tamanhos, aliases s√£o colocados - tudo o que √© t√£o cuidadosamente copiado do psd pelos designers de layout com canetas.  At√© ancora e mant√©m uma hierarquia aproximadamente.  E faz isso em quest√£o de segundos, o que economiza horas de c√≥pias meticulosas. <br><br><img src="https://habrastorage.org/webt/xk/tr/mt/xktrmt-ytwtagbt7hdyolid9ou4.jpeg"><br><br>  A janela do computador autom√°tico parece insuficiente nas configura√ß√µes.  Durante o uso, essas configura√ß√µes ser√£o adicionadas. <br><br><img src="https://habrastorage.org/webt/f3/me/uy/f3meuyl1gwvet3kostin0yvheci.png"><br><br>  Para obter todos os dados, o analisador psd foi escrito especificamente para essas necessidades, com base na especifica√ß√£o psd.  Este √© um processo bastante chato, voc√™ pode pegar bibliotecas prontas.  Mas como quer√≠amos fazer tudo com um bot√£o, tive que escrever do zero. <br><br>  O fabricante de autom√≥veis copia toda a hierarquia no Photoshop.  Primeiro, um objeto raiz √© criado com o nome da pr√©-fabricada, ancorada nas bordas da tela.  Dentro dele, os objetos s√£o criados de acordo com o princ√≠pio descrito acima - o objeto √© criado no objeto raiz e, em seguida, um pai real √© atribu√≠do a ele, mantendo a posi√ß√£o global.  As √¢ncoras s√£o colocadas de acordo com o princ√≠pio - em qual borda ou centro o objeto est√° localizado mais pr√≥ximo do que √© pregado, separadamente ao longo dos eixos OX e OY.  Todas as posi√ß√µes e tamanhos s√£o feitos inteiros.  O fabricante de autom√≥veis ignora objetos ocultos. <br><br><img src="https://habrastorage.org/webt/pe/id/cq/peidcqq35yq5dnw-ohma-pdbw0s.jpeg"><br><br>  No Photoshop, existem 5 tipos de camadas: grupos, pixel, formas, textos e objetos inteligentes. <br><br><ol><li>  <b>Grupos (camada de grupo)</b> no criador de autom√≥veis se transformam em um objeto de jogo vazio, de modo que um grande componente de interface como had, slot, grupo de slots e assim por diante pode ser facilmente combinado em um grupo. </li><li>  <b>A camada de pixel</b> simplesmente se torna imagem com a cor branca.  Pode ser √≠cones, costas, fotos, vaga-lumes.  Em seguida, eles s√£o adicionados manualmente ao projeto, como sprites, e inseridos na imagem. </li><li>  <b>Formas (camada de forma)</b> tornam-se uma imagem com a cor da <b>forma</b> .  Pode ser qualquer elemento do vetor: layouts, √≠cones e outros. </li><li>  <b>Os textos</b> no computador autom√°tico se tornam TextMeshProUGUI e herdam texto, fonte, cor, tra√ßado, sombra, gradiente, tamanho da fonte, posicionamento (direita, centro, esquerda). </li><li>  <b>Objetos inteligentes</b> se tornam <b>objetos de jogo</b> vazios comuns.  √â l√≥gico usar objetos inteligentes para fazer o que j√° foi imposto como prefabs aninhados (por exemplo, a barra superior, que √© a mesma em todos os lugares) </li></ol><br>  O wrapper autom√°tico tamb√©m sabe como coletar cores de todos os lugares (por exemplo, cor da forma, cor da fonte, efeito da cor, camada de cores) e convert√™-las em um hexadecimal.  Da mesma forma com transpar√™ncia. <br><br>  Separadamente, o designer da interface do usu√°rio coloca imediatamente op√ß√µes nos nomes de camadas e grupos (como no Zeplin). <br><br><div class="spoiler">  <b class="spoiler_title">Exemplos de op√ß√µes na tabela</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><th>  Op√ß√£o </th><th>  Argumentos </th><th>  Valor </th><th>  Exemplo </th><th>  Objeto na unidade </th></tr><tr><td>  -l </td><td>  Nome da diretriz das diretrizes (sem espa√ßos) </td><td>  Adicionando um sprite √† imagem </td><td>  Hud Layout -l pink228 </td><td>  Image_HudLayout com o componente Image com o sprite de layout pink228 inserido nas diretrizes </td></tr><tr><td>  -cs </td><td>  Style_name.  Opcional (sem espa√ßos) </td><td>  Adiciona um ColorStyleComponent ao estilo StyleName. </td><td>  Hud Layout -cs HudLayoutColors <br>  Hud layout -cs </td><td>  Image_HudLayout com o componente ColorStyleComponent com estilo dentro do HudLayoutColors <br>  Image_HudLayout com o componente ColorStyleComponent </td></tr><tr><td>  -ts </td><td>  Style_name.  Opcional (sem espa√ßos) </td><td>  Adiciona um TextStyleComponent com o estilo StyleName. </td><td>  Ability -tsAbilityColors <br>  Habilidade -ts </td><td>  Text_Ability com o componente TextStyle com estilo dentro de AbilityColors <br>  Text_Ability com o componente TextStyle </td></tr><tr><td>  -bs </td><td>  Style_name. <br>  Opcional (sem espa√ßos) </td><td>  Adiciona ButtonStyleComponent com o estilo StyleName </td><td>  Reproduzir -b -bs </td><td></td></tr><tr><td>  -b </td><td></td><td>  Este √© o bot√£o </td><td>  Reproduzir -b <br>  Tocar -b -l 1 </td><td>  Button_Play com bot√£o e imagem <br>  Button_Play com o bot√£o e o componente Image com o sprite de layout inserido 1 das diretrizes </td></tr><tr><td>  Opcional </td><td></td><td></td><td></td><td></td></tr><tr><td>  -hg </td><td></td><td>  Grupo horizontal (exclusivamente no grupo) </td><td>  Bot√µes do m√≥dulo - hg </td><td>  ModuleButtons with component Horizontal layout group </td></tr><tr><td>  -vg </td><td></td><td>  Grupo vertical (exclusivamente no grupo) </td><td>  Bot√µes do m√≥dulo - vg </td><td>  ModuleButtons com componente <br>  Grupo de layout vertical </td></tr></tbody></table></div><br></div></div><br>  Vantagens da ferramenta: layout r√°pido, salvando a hierarquia, adicionando os componentes necess√°rios, unificando os nomes dos objetos do jogo, adicionando automaticamente estilos por nome, desativando rakecasts onde n√£o √© necess√°rio, afixa√ß√£o aproximada. <br><br>  Mas a abordagem tem suas desvantagens: se o layout do psd for composto de 1000 camadas para apenas um bot√£o, ser√° praticamente in√∫til; nesse caso, √© recomend√°vel adicionar o bot√£o ao objeto inteligente.  Al√©m disso, a ferramenta exige uma nomea√ß√£o normal e correta do designer da interface do usu√°rio - n√£o ser√° mais poss√≠vel nomear as camadas "Rectangle_copy_21_1005".  Por outro lado, isso torna os layouts mais leg√≠veis para outros designers de interface do usu√°rio. <br><br>  Os planos s√£o criar um sistema que economize na exporta√ß√£o de sprites de substrato. <br><br>  O layout com o pop-up do fabricante de autom√≥veis deste artigo levou 3 minutos e 13 segundos (exceto para lan√ßar sprites no projeto).  As canetas levam 18 minutos e 32 segundos.  Ao mesmo tempo, tamb√©m existem problemas no layout com canetas - em alguns lugares, posi√ß√µes incorretas que o olho afiado de um designer de interface do usu√°rio notar√° e precisar√° ser refeito.  Portanto, o layout autom√°tico tamb√©m √© bom porque elimina o fator humano. <br><br>  E algumas opini√µes sobre o fabricante de autom√≥veis: <br><blockquote>  <i>‚ÄúO fabricante de autom√≥veis acelera significativamente o trabalho, mas at√© agora parece que √© necess√°rio simplificar o limiar de entrada, instala√ß√£o e configura√ß√£o‚Äù</i> </blockquote><blockquote>  <i>"Acho que se voc√™ configurar estilos para o tip√≥grafo, n√£o haver√° muita diferen√ßa no tempo, mas designers e programadores economizar√£o tempo e nervos com certeza"</i> </blockquote><blockquote>  <i>"A coisa √© muito legal))"</i> </blockquote><blockquote>  <i>‚ÄúEstilos - o t√≥pico √© muito legal, isso n√£o √© suficiente no nosso projeto, porque eles gostam de repintar bot√µes em layouts, textos, etc.</i>  <i>√â √≥timo que agora isso possa ser corrigido no estilista e n√£o haja dor de cabe√ßa, que voc√™ tenha cores diferentes ou sprites diferentes em locais uniformes "</i> </blockquote><blockquote>  <i>‚ÄúOs pr√≥prios designers de interface do usu√°rio devem fazer o layout, porque somente eles conhecem os recursos de seus layouts.</i>  <i>E o designer de layout autom√°tico √© √≥timo para aqueles que n√£o querem entender os meandros do layout.</i>  <i>Se o instrumento tiver uma interface intuitiva e aprender com a Figma, ser√° simplesmente luxuoso ‚Äù</i> </blockquote>  Pessoalmente, acho que tudo o que pode ser automatizado deve ser automatizado, e as pessoas devem ter a oportunidade de se envolver em um trabalho mais criativo e inventivo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt462835/">https://habr.com/ru/post/pt462835/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt462821/index.html">Como avaliar computadores que ainda n√£o existem</a></li>
<li><a href="../pt462825/index.html">Relat√≥rios de v√≠deo do Summer Droid Meetup</a></li>
<li><a href="../pt462827/index.html">Vida e sucesso de Larry Ellison, fundador da Oracle</a></li>
<li><a href="../pt462831/index.html">Ride the Web 3.0 Wave</a></li>
<li><a href="../pt462833/index.html">O livro "Modelagem preditiva na pr√°tica"</a></li>
<li><a href="../pt462837/index.html">Black Box Testing</a></li>
<li><a href="../pt462843/index.html">Limita√ß√µes de jogos de 8 bits e sua recrea√ß√£o exata no Unity</a></li>
<li><a href="../pt462845/index.html">Massagem para o seu c√©rebro: fale sobre ASMR</a></li>
<li><a href="../pt462847/index.html">Webinars da Hewlett Packard Enterprise em agosto-outubro de 2019</a></li>
<li><a href="../pt462849/index.html">Algo sobre inode</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>