<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📩 🥝 💪🏿 Choses à retenir pour un programmeur passant à Python 🏹 👩🏾‍🚒 ⏹️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il était une fois, dans mes jours d'étudiant, j'ai été mordu par un python, bien que la période d'incubation ait été retardée et il s'est avéré que je...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Choses à retenir pour un programmeur passant à Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426277/"><p>  Il était une fois, dans mes jours d'étudiant, j'ai été mordu par un python, bien que la période d'incubation ait été retardée et il s'est avéré que je suis devenu un programmeur de perles. </p><br><p>  Cependant, à un moment donné, la perle s'est épuisée et j'ai décidé de prendre du python, au début, j'ai juste fait quelque chose et compris ce qui était nécessaire pour cette tâche, puis j'ai réalisé que j'avais besoin d'une sorte de connaissance systématique et lu plusieurs livres: </p><br><ul><li>  Bill Lyubanovich «Simple Python.  Style de programmation moderne » </li><li>  Dan Bader "Pure Python.  Les subtilités de la programmation pour les pros » </li><li>  Brett Slatkin «Secrets Python: 59 conseils pour écrire un code efficace» </li></ul><br><p> Ce qui m'a semblé tout à fait approprié pour comprendre les subtilités de base de la langue, bien que je ne me souvienne pas y avoir mentionné des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>fentes</strong></a> , mais je ne suis pas sûr que ce soit une fonctionnalité vraiment nécessaire - si je l'ai pressé de mémoire, alors cette méthode ne sera probablement pas suffisante, mais bien sûr tout dépend de la situation. </p><br><p>  En conséquence, j'ai accumulé quelques notes sur les fonctionnalités de python, qui, il me semble, peuvent être utiles à quelqu'un qui souhaite y migrer à partir d'autres langues. </p><a name="habracut"></a><br><p> J'ai remarqué que lors des entretiens sur python, ils posent assez souvent des questions sur des choses qui ne sont pas liées au développement réel, comme ce qui pourrait être la clé du dictionnaire (ou ce que <code>x = yield y</code> signifie), enfin les mecs, dans la vraie vie, la clé peut être seulement un nombre ou une chaîne, dans ces cas uniques où ce n'est pas le cas, vous pouvez lire la documentation et comprendre pourquoi demander cela?  Pour trouver ce que la personne interrogée ne sait pas?  Donc à la fin, tout le monde se souviendra de la réponse à cette question particulière et elle cessera de fonctionner. </p><br><p>  Je considère que les versions de python supérieures à 3.5 sont pertinentes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il est</a> temps <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'oublier</a> le deuxième python depuis longtemps) car  c'est la version dans debian stable, ce qui signifie qu'à tous les autres endroits il y a des versions plus récentes) </p><br><p>  Comme je ne suis pas du tout un gourou du python, j'espère qu'ils me corrigeront dans les commentaires si j'ai soudainement gelé une sorte de stupidité. </p><br><h2 id="tipizaciya">  Dactylographie </h2><br><p>  Python est un langage typé dynamiquement, c'est-à-dire  il vérifie la correspondance des types lors de l'exécution, par exemple: </p><br><pre> <code class="plaintext hljs">cat type.py a=5 b='5' print(a+b)</code> </pre> <br><p>  effectuer: </p><br><pre> <code class="plaintext hljs">python3 type.py ... TypeError: unsupported operand type(s) for +: 'int' and 'str'</code> </pre> <br><p>  Cependant, si votre projet a mûri au besoin de typage statique, alors python fournit également une telle opportunité en utilisant l'analyseur statique <code>mypy</code> : </p><br><pre> <code class="plaintext hljs">mypy type.py type.py:3: error: Unsupported operand types for + ("int" and "str")</code> </pre> <br><p>  Certes, toutes les erreurs ne sont pas détectées de cette façon: </p><br><pre> <code class="plaintext hljs">cat type2.py def greeting(name): return 'Hello ' + name greeting(5)</code> </pre> <br><p>  mypy ne jurera pas ici, mais une erreur se produira pendant l'exécution, donc les versions actuelles de python prennent en charge une syntaxe spéciale pour spécifier les types d'arguments de fonction: </p><br><pre> <code class="plaintext hljs">cat type3.py def greeting(name: str) -&gt; str: return 'Hello ' + name greeting(5)</code> </pre> <br><p>  et maintenant: </p><br><pre> <code class="plaintext hljs">mypy type3.py type3.py:4: error: Argument 1 to "greeting" has incompatible type "int"; expected "str"</code> </pre> <br><h2 id="peremennye-i-dannye">  Variables et données </h2><br><p>  Les variables en python ne stockent pas de données, mais s'y réfèrent uniquement, et les données peuvent être mutables (mutables) et immuables (immuables). <br>  Cela conduit à un comportement différent selon le type de données dans des situations presque identiques, par exemple, un tel code: </p><br><pre> <code class="plaintext hljs">x = 1 y = x x = 2 print(y)</code> </pre> <br><p>  conduit au fait que les variables <code>x</code> et <code>y</code> réfèrent à des données différentes, et ceci: </p><br><pre> <code class="plaintext hljs">x = [1, 2, 3] y = x x[0] = 7 print(y)</code> </pre> <br><p>  non, <code>x</code> et <code>y</code> restent des liens vers la même liste (bien que, comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">indiqué dans les commentaires, l'</a> exemple ne soit pas très réussi, mais je n'ai pas encore pensé à un meilleur) qu'en passant en python vous pouvez vérifier avec l'opérateur <code>is</code> (je suis sûr que le créateur de Java perdra à jamais un bon sommeil) de honte quand j'ai découvert cet opérateur en python). </p><br><p>  Bien que les lignes ressemblent à une liste, elles sont un type de données immuable, cela signifie que la chaîne elle-même ne peut pas être modifiée, vous pouvez uniquement en créer une nouvelle, mais vous pouvez attribuer une valeur différente à la variable, bien que les données d'origine ne changeront pas: </p><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; mystr = 'sss' &gt;&gt;&gt; newstr = mystr #       &gt;&gt;&gt; mystr[0] = 'a' ... TypeError: 'str' object does not support item assignment &gt;&gt;&gt; mystr = 'ssa' #    &gt;&gt;&gt; newstr #         'sss'</code> </pre> <br><p>  En parlant de chaînes, en raison de leur immunité, concaténer une très grande liste de chaînes en ajoutant ou en ajoutant dans une boucle peut ne pas être très efficace (selon l'implémentation dans un compilateur / version particulier), généralement dans de tels cas, il est recommandé d'utiliser la méthode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">join</a> , qui se comporte un peu inattendu: </p><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; str_list = ['ss', 'dd', 'gg'] &gt;&gt;&gt; 'XXX'.join(str_list) 'ssXXXddXXXgg' &gt;&gt;&gt; str = 'hello' &gt;&gt;&gt; 'XXX'.join(str) 'hXXXeXXXlXXXlXXXo'</code> </pre> <br><p>  Premièrement, la ligne où la méthode est appelée devient un séparateur, et non le début d'une nouvelle ligne comme on pourrait le penser, et deuxièmement, vous devez passer une liste (un objet itérable), et non une ligne séparée, car c'est aussi un objet itérable et sera symbolisé . </p><br><p>  Comme les variables sont des liens, il est tout à fait normal de vouloir faire une copie d'un objet afin de ne pas casser l'objet d'origine, mais il y a un piège - la fonction de copie ne copie qu'un niveau, ce qui n'est clairement pas ce qui est attendu d'une fonction avec ce nom, alors utilisez <code>deepcopy</code> . </p><br><p>  Un problème similaire avec la copie peut se produire lorsqu'une collection est multipliée par un scalaire, comme expliqué <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><h2 id="oblast-vidimosti">  Portée </h2><br><p>  Le sujet de la portée mérite probablement un article séparé, mais il y a une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bonne réponse à SO</a> . <br>  En bref, la portée est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lexicale</a> et il y a six domaines de visibilité - les variables dans le corps de la fonction, en fermeture, dans le module, dans le corps de la classe, les fonctions python intégrées et les variables dans la liste et d'autres inclusions. <br>  Il y a une subtilité - la variable par défaut est lisible dans les espaces de noms imbriqués lexicalement, mais la modification nécessite l'utilisation de mots clés spéciaux <code>nonlocal</code> et <code>global</code> pour modifier les variables d'un niveau supérieur ou d'une visibilité globale, respectivement. </p><br><p>  Par exemple, un code comme celui-ci: </p><br><pre> <code class="plaintext hljs">x = 7 print(id(x)) def func(): print(id(x)) return x print(func())</code> </pre> <br><p>  Cela fonctionne avec une variable globale, et celle-ci: </p><br><pre> <code class="plaintext hljs">x = 7 print(id(x)) def func(): x = 1 print(id(x)) return x print(func()) print(x)</code> </pre> <br><p>  en génère déjà un local. <br>  De mon point de vue, ce n'est pas très bon, en principe, toute utilisation de variables non locales dans une fonction fait partie de l'interface publique de la fonction, sa signature, ce qui signifie qu'elle doit être déclarée explicitement et visible au début de la fonction.  De plus, les mots clés ne sont pas très informatifs - <code>global</code> sonne comme une définition d'une fonction globale, mais signifie en fait <code>use global</code> . </p><br><p>  En python, il n'y a pas de point d'entrée obligatoire à partir duquel le programme démarre, comme cela se fait dans de nombreuses langues, tout ce qui est écrit au niveau du module est exécuté séquentiellement, cependant, puisque les variables au niveau du module sont des variables globales, de mon point de vue, cela devrait être une bonne pratique cramming le code principal dans la fonction <code>main()</code> , suivi de son appel à la fin du fichier: </p><br><pre> <code class="plaintext hljs">if __name__ == '__main__': main()</code> </pre> <br><p>  cette condition fonctionnera si le fichier est appelé en tant que script et non importé en tant que module. </p><br><h2 id="argumenty-funkciy">  Arguments de fonction </h2><br><p>  Python offre des opportunités tout simplement chics pour définir des arguments de fonction - positionnels, arguments nommés et leurs combinaisons. </p><br><p>  Mais vous devez comprendre comment les arguments sont transmis - car  en python, toutes les variables sont des liens vers des données, alors vous pouvez deviner que le transfert est par référence, mais il y a une particularité - le lien lui-même est passé par valeur, c'est-à-dire  vous pouvez modifier la valeur mutable par référence: </p><br><pre> <code class="plaintext hljs">def add_element(mylist): mylist.append(3) mylist = [1,2] add_element(mylist) print(mylist)</code> </pre> <br><p>  effectuer: </p><br><pre> <code class="plaintext hljs">python3 arg_modify.py [1, 2, 3]</code> </pre> <br><p>  cependant, vous ne pouvez pas remplacer le lien d'origine dans une fonction: </p><br><pre> <code class="plaintext hljs">def try_del(mylist): mylist = [] return mylist mylist = [1,2] try_del(mylist) print(mylist)</code> </pre> <br><p>  le lien source est vivant et fonctionne: </p><br><pre> <code class="plaintext hljs">python3 arg_kill.py [1, 2]</code> </pre> <br><p>  Vous pouvez également définir des valeurs par défaut pour les arguments, mais il y a une chose non évidente à retenir: les valeurs par défaut sont calculées une fois lors de la définition de la fonction, cela ne crée aucun problème si vous transmettez des données inchangées comme valeur par défaut et si vous passez données variables ou valeur dynamique, le résultat sera un peu inattendu: </p><br><p>  données mutables: </p><br><pre> <code class="plaintext hljs">cat arg_list.py def func(arg = []): arg.append('x') return arg print(func()) print(func()) print(func())</code> </pre> <br><p>  résultat: </p><br><pre> <code class="plaintext hljs">python3 arg_list.py ['x'] ['x', 'x'] ['x', 'x', 'x']</code> </pre> <br><p>  valeur dynamique: </p><br><pre> <code class="plaintext hljs">cat arg_now.py from datetime import datetime def func(arg = datetime.now()): return arg print(func()) print(func()) print(func())</code> </pre> <br><p>  nous obtenons: </p><br><pre> <code class="plaintext hljs">python3 arg_now.py 2018-09-28 10:28:40.771879 2018-09-28 10:28:40.771879 2018-09-28 10:28:40.771879</code> </pre> <br><h2 id="oop">  OOP </h2><br><p>  La POO en python a été faite de manière très intéressante (certaines propriétés en valent la peine) et c'est un gros sujet, mais les sapiens familiers avec la POO peuvent bien tout google (ou le trouver sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hub</a> ), donc il n'a pas besoin de le répéter, même s'il vaut la peine de dire que le python devrait être un peu une philosophie différente - est qu'un programmeur plus intelligent des machines, et ne sont pas une menace (UPD: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus</a> ), de sorte que le défaut de python est pas habituel pour d' autres langues modificateurs d'accès: méthodes privées mises en œuvre par l' ajout d' un double trait de soulignement (qui modifie l'exécution du nom de la méthode n'est pas OPair  Discussion chance de l'utiliser), et protégé d'un trait de soulignement (qui ne fait rien, il est juste une convention de nommage). <br>  Ceux qui manquent les fonctionnalités habituelles peuvent rechercher des tentatives pour apporter de telles opportunités à python, quelques options ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lang</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">python-access</a> ) ont été googlé par moi, mais je ne les ai pas testées ni étudiées. </p><br><p>  Le seul inconvénient des classes standard est le code passe-partout dans toutes les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">méthodes Dunder</a> , j'aime personnellement la bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">attrs</a> , elle est beaucoup plus pythonique. <br>  Il convient de mentionner que, car en Python tous les objets, y compris les fonctions et les classes, les classes peuvent être créées dynamiquement (sans utiliser <code>eval</code> ) par la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">type</a> . <br>  Il vaut également la peine d'être lu sur les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">métaclasses</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur le Habr</a> ) et les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">descripteurs</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Habr</a> ). <br>  Une particularité qui mérite d'être rappelée est que les attributs d'une classe et d'un objet ne sont pas la même chose, dans le cas d'attributs immuables, cela ne pose pas de problème car les attributs sont «ombragés» - les attributs de l'objet avec le même nom sont créés automatiquement, mais dans le cas d'attributs mutables, vous pouvez obtenir pas tout à fait ce qui était attendu: </p><br><pre> <code class="plaintext hljs">cat class_attr.py class MyClass: storage = [7,] def __init__(self, number): self.number = number obj = MyClass(1) obj2 = MyClass(2) obj.number = 5 obj.storage.append(8) print(obj2.storage, obj2.number)</code> </pre> <br><p>  nous obtenons: </p><br><pre> <code class="plaintext hljs">python3 class_attr.py [7, 8] 2</code> </pre> <br><p>  comme vous pouvez le voir - ils ont changé <code>obj</code> , et le <code>storage</code> changé dans <code>obj2</code> .  cet attribut (contrairement au <code>number</code> ) n'appartient pas à l'instance, mais à la classe. </p><br><h2 id="konstanty">  Constantes </h2><br><p>  Comme dans le cas des modificateurs d'accès, python n'essaie pas de limiter le développeur, par conséquent, il est impossible de définir une variable scalaire protégée contre la modification de la manière standard, il y a simplement un accord que les variables avec un nom en majuscule doivent être considérées comme des constantes. <br>  Python, d'autre part, a des structures de données immuables telles que tuple, donc si vous voulez rendre une structure globale comme une configuration immuable et ne voulez pas de dépendances supplémentaires, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">namedtuple</a> est un bon choix, bien qu'il faudra un peu plus d'efforts pour décrire les types, donc J'aime l'implémentation alternative de la structure immuable avec la notation par points - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Box</a> (voir le paramètre freez_box). <br>  Eh bien, si vous voulez des constantes scalaires, alors vous pouvez implémenter le contrôle d'accès au stade de la "compilation" ie  vérifie par mypy, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exemple</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">détails</a> . </p><br><h2 id="sort-vs-sorted">  .sort () vs trié () </h2><br><p>  Il existe deux façons de trier une liste en python.  La première est la méthode <code>.sort()</code> qui modifie la liste d'origine et ne renvoie rien (None) i.e.  ne peut pas faire cela: </p><br><pre> <code class="plaintext hljs">my_list = my_list.sort()</code> </pre> <br><p>  La seconde est la fonction <code>sorted()</code> , qui génère une nouvelle liste et peut fonctionner avec tous les objets itérables.  Qui veut plus d'informations devrait commencer par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SO</a> . </p><br><h2 id="standartnaya-biblioteka">  Bibliothèque standard </h2><br><p>  Habituellement, la bibliothèque Python standard comprend d'excellentes solutions aux problèmes courants, mais cela vaut la peine d'être critique, car il y a suffisamment de bizarreries.  Certes, il arrive aussi que ce qui semble étrange à première vue se révèle être la meilleure solution, il suffit de connaître toutes les conditions (voir ci-dessous pour la portée), mais il y a encore des bizarreries. </p><br><p>  Par exemple, le module unitaire le plus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">complet</a> fourni avec le kit n'a rien à voir avec le python et les odeurs de Java, par conséquent, comme le dit l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">auteur du python</a> : "Eveybody utilise py.test ...".  Bien que très intéressant, mais pas toujours adapté, le module <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">doctest</a> est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">proposé</a> en standard. </p><br><p>  Le module <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">urllib fourni n'a</a> pas une si belle interface que le module de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">requêtes</a> tierces. </p><br><p>  La même histoire avec le module d'analyse des paramètres de ligne de commande - l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">argparse fourni</a> est une démonstration de la POO du cerveau, et le module <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">docopt</a> semble être juste une solution intelligente - l'auto-documentation ultime!  Bien que, selon les rumeurs, malgré le docopt et pour le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">clic, une</a> niche demeure. </p><br><p>  Avec le débogueur aussi - si je comprends bien, peu de gens utilisent le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pdb</a> inclus dans le package, il existe de nombreuses alternatives, mais il semble que la majorité des développeurs utilisent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ipdb</a> , qui, à mon avis, est plus pratique à utiliser via le module de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">débogage</a> . <br>  Il permet au lieu d' <code>import ipdb;ipdb.set_trace()</code> écrire simplement le <code>import debug</code> , il ajoute également un module <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">see</a> pour une inspection facile des objets. </p><br><p>  Pour remplacer le module de sérialisation standard, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cornichon est</a> fait à l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">aneth</a> , en passant, il convient de se rappeler que ces modules ne sont pas adaptés à l'échange de données dans des systèmes externes, car  la restauration d'objets arbitraires reçus d'une source non contrôlée n'est pas sûre, dans de tels cas, il existe json (pour REST) ​​et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gRPC</a> (pour RPC). </p><br><p>  Pour remplacer le module standard de traitement des expressions régulières, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">re</a> fabrique le module <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">regex</a> avec toutes sortes de bonus supplémentaires, tels que les classes de caractères ala <code>\p{Cyrillic}</code> . <br>  Soit dit en passant, quelque chose n'est pas apparu pour Python, un débogueur amusant pour les expressions rationnelles similaires à l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">orge perlé</a> . </p><br><p>  Voici un autre exemple - une personne a créé son module sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">place</a> pour corriger la courbure et l'incomplétude de l'API du module d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">entrée de fichier</a> standard dans la partie en place des fichiers d'édition. </p><br><p>  Eh bien, je pense beaucoup à de tels cas, puisque j'en ai même rencontré plus d'un, alors soyez prudent et n'oubliez pas de regarder toutes sortes de listes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">impressionnantes</a> utiles, je pense qu'un bon nutritionniste a un parfum à la mesure de la nature nutritionnelle de la solution, c'est d'ailleurs un sujet pour une autre discussion - selon mes sentiments (bien sûr, il n'y a pas de statistiques à ce sujet et ne peut apparemment pas l'être) dans le monde python le niveau de spécialistes est supérieur à la moyenne, car souvent les bons logiciels s'avèrent être écrits en python, écrivez dans les commentaires ce que vous en pensez. </p><br><h2 id="parallelizm-i-konkurentnost">  Concurrence et concurrence </h2><br><p>  Python offre de nombreuses opportunités pour une programmation parallèle et compétitive, mais pas sans fonctionnalités. </p><br><p>  Si vous avez besoin de parallélisme, et cela se produit lorsque vos tâches nécessitent un calcul, alors vous devez faire attention au module de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">multitraitement</a> . </p><br><p>  Et si vos tâches ont beaucoup d'attentes en matière d'E / S, alors python fournit un grand nombre d'options parmi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lesquelles</a> choisir, des threads et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gevent</a> , à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">asyncio</a> . <br>  Toutes ces options semblent tout à fait utilisables (bien que les threads nécessitent beaucoup plus de ressources), mais on a le sentiment qu'asyncio élimine lentement le reste, y compris grâce à toutes sortes de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">goodies</a> comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">uvloop</a> . </p><br><p>  Si quelqu'un n'a pas remarqué - en python, les threads ne sont pas sur le parallélisme, je ne suis pas assez compétent pour bien parler de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GIL</a> , mais il y a suffisamment de matériel sur ce sujet, donc il n'y a pas un tel besoin, la principale chose à retenir est que les threads en python (plus précisément dans CPython), ils se comportent différemment des autres langages de programmation - ils s'exécutent sur un seul cœur, ce qui signifie qu'ils ne conviennent pas aux cas où vous avez besoin d'un réel parallélisme, cependant, l'exécution du thread s'interrompt en attendant l'entrée / la sortie, afin qu'ils puissent être utilisés  pour rivaliser. </p><br><h2 id="inye-strannosti">  Autres bizarreries </h2><br><p>  En python, <code>a = a + b</code> pas toujours équivalent à <code>a += b</code> : </p><br><pre> <code class="plaintext hljs">a = [1] a = a + (2,3) TypeError: can only concatenate list (not "tuple") to list a += (2,3) a [1, 2, 3]</code> </pre> <br><p>  Je l'envoie à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SO</a> pour plus de détails, jusqu'à ce que j'aie trouvé le temps de comprendre pourquoi il en est ainsi, dans le sens pour quelle raison ils l'ont fait, comme ceci est à nouveau une question de mutabilité. </p><br><h2 id="strannosti-kotorye-ne-strannosti">  Des bizarreries qui ne sont pas des bizarreries </h2><br><p>  À première vue, il me semblait étrange que le type de gamme n'inclue pas la bordure droite, mais ensuite une personne gentille <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">m'a</a> dit d'ignorer où <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">je devais apprendre</a> et il s'est avéré que tout est assez logique. </p><br><p>  Un autre sujet important est l'arrondi (bien que ce problème soit commun à presque tous les langages de programmation), en plus d'utiliser l'arrondi comme vous le souhaitez, sauf que tout le monde a étudié au cours de mathématiques de l'école, de sorte que les problèmes de représentation des nombres à virgule flottante y sont toujours superposés, je me réfère à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> détaillé. <br>  En gros, au lieu de l'algorithme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">demi-</a> tour habituel pour les mathématiques scolaires, l'algorithme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">demi-pair</a> est utilisé, ce qui réduit le risque de distorsion dans l'analyse statistique et est donc recommandé par la norme IEEE 754. </p><br><p>  De plus, je ne pouvais pas comprendre pourquoi <code>-22//10=-3</code> , puis une autre personne gentille a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">souligné</a> que cela découle inévitablement de la définition mathématique elle-même, selon laquelle le reste ne peut pas être négatif, ce qui conduit à un comportement aussi inhabituel pour nombres négatifs. <br>  ACHTUNG!  Maintenant, c'est encore une chose étrange et je ne comprends rien, voir ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fil</a> . </p><br><h2 id="otladka-regulyarnyh-vyrazheniy">  Débogage des expressions régulières </h2><br><p>  Et ici, il s'est avéré que dans le monde python, il n'y a pas d'outil pour le débogage interactif d'expressions régulières similaires à l'excellent module perle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Regexp :: Debugger</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">présentation vidéo</a> ), bien sûr, il y a un tas d'outils en ligne, il existe une sorte de solutions propriétaires de Windows, mais pour moi ce n'est pas ça, peut-être que cela vaut la peine d'utiliser un outil de barre de perles, parce que les rexes en python ne sont pas très différents de la barre de perles, j'écrirai une instruction pour ceux qui ne possèdent pas de barre de perles: </p><br><pre> <code class="plaintext hljs">sudo apt install cpanminus cpanm Regexp::Debugger perl -I ~/perl5/lib/perl5/ -E "use Regexp::Debugger; 'ababc' =~ /(a|b) b+ c/x"</code> </pre> <br><p>  Je pense que même une personne peu familière avec la perle comprendra où il est nécessaire d'entrer dans la ligne, et où est l'expression régulière, <code>x</code> est un drapeau similaire au python re.VERBOSE. <br>  Appuyez sur <code>s</code> et parcourez l'expression régulière, une description détaillée des commandes disponibles dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> . </p><br><h2 id="dokumentaciya">  La documentation </h2><br><p>  Il existe une fonction d'aide en python, qui vous permet d'obtenir de l'aide sur n'importe quelle fonction chargée (tirée de sa docstring), le nom de la fonction est passé en paramètre: </p><br><pre> <code class="plaintext hljs">$ python3 &gt;&gt;&gt; help(help)</code> </pre> <br><p>  mais ce n'est pas toujours un moyen pratique et il est souvent plus pratique d'utiliser l'utilitaire pydoc: </p><br><pre> <code class="plaintext hljs">pydoc3 urllib.parse.urlparse</code> </pre> <br><p>  l'utilitaire vous permet de rechercher par mots clés et même de démarrer un serveur local avec la documentation html, mais je n'ai pas testé ce dernier. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr426277/">https://habr.com/ru/post/fr426277/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr426267/index.html">Une chanson sur la façon dont la création de projets s'est transformée en enfer</a></li>
<li><a href="../fr426269/index.html">Une application python kivy pour une alimentation variée. Du code à la réception du fichier .apk pour Android</a></li>
<li><a href="../fr426271/index.html">Sécurité de la Tesla Model 3</a></li>
<li><a href="../fr426273/index.html">Installer et configurer Oracle Internet Directory pour résoudre les noms de base de données</a></li>
<li><a href="../fr426275/index.html">Comment nous avons recherché les signes d'erreur médicale</a></li>
<li><a href="../fr426279/index.html">Comment les formats audio et les technologies audio ont «combattu» et évolué: un grand condensé historique</a></li>
<li><a href="../fr426281/index.html">Les fondateurs d'Amazon, Google, Microsoft et Facebook ont ​​perdu plus de 30 milliards de dollars lors d'un krach boursier</a></li>
<li><a href="../fr426283/index.html">WeChat en Inde: d'un lancement puissant à une perte totale d'intérêt</a></li>
<li><a href="../fr426285/index.html">Dans l'un des ateliers AvtoVAZ a trouvé une ferme pour l'exploitation minière</a></li>
<li><a href="../fr426287/index.html">Envoi vers la lune</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>