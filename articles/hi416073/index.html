<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯМД ЁЯСБя╕П ЁЯТ╣ рдПрдХ рд╕рд░рд▓ рдХреНрд░рд┐рдкреНрдЯреЛрдХреНрдпреВрд░реЗрдВрд╕реА рдЯреНрд░реЗрдбрд┐рдВрдЧ рдмреЙрдЯ ЁЯС│ ЁЯдЬЁЯП╛ тП╕я╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕рднреА рдХреЛ рдирдорд╕реНрдХрд╛рд░! рдЖрдЬ рд╣рдо рд╕реНрдЯреЙрдХ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдкрд░ рдЦреЗрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдирд╛ рдкрд╣рд▓рд╛ рдореБрдХрд╛рдмрд▓рд╛ рдЯреНрд░реЗрдбрд┐рдВрдЧ рд░реЛрдмреЛрдЯ рд▓рд┐рдЦреЗрдВрдЧреЗред Kriptobirzheред рдХреНрд░рд┐рдкреНрдЯреЛрдХреНрдпреВрд░реЗрдВрд╕реА рдПрдХреНрд╕рдЪреЗрдВрдЬ рдХреНрдпреЛрдВ? 


 рдХ) ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХ рд╕рд░рд▓ рдХреНрд░рд┐рдкреНрдЯреЛрдХреНрдпреВрд░реЗрдВрд╕реА рдЯреНрд░реЗрдбрд┐рдВрдЧ рдмреЙрдЯ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416073/"><p>  рд╕рднреА рдХреЛ рдирдорд╕реНрдХрд╛рд░!  рдЖрдЬ рд╣рдо рд╕реНрдЯреЙрдХ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдкрд░ рдЦреЗрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдирд╛ рдкрд╣рд▓рд╛ рдореБрдХрд╛рдмрд▓рд╛ рдЯреНрд░реЗрдбрд┐рдВрдЧ рд░реЛрдмреЛрдЯ рд▓рд┐рдЦреЗрдВрдЧреЗред  Kriptobirzheред  рдХреНрд░рд┐рдкреНрдЯреЛрдХреНрдпреВрд░реЗрдВрд╕реА рдПрдХреНрд╕рдЪреЗрдВрдЬ рдХреНрдпреЛрдВ? </p><br><p>  рдХ) рдкреНрд░рдЪрд╛рд░ рд╡рд┐рд╖рдп; <br>  b) рд╡реЗ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕рд░рд▓ рд╣реИрдВред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рддреБрд░рдВрдд рддреАрди рдПрдХреНрд╕рд┐рд╕ рдХреИрд╕реАрдиреЛ рдХреЗ рдкреНрд░рд╢рдВрд╕рдХреЛрдВ рдХреЛ рдЪреЗрддрд╛рд╡рдиреА рджреЗрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ: рдЖрдкрдиреЗ рдХрд▓ рдПрдХ рдХрд╛рд░ рдирд╣реАрдВ рдХрдорд╛рдИред  рд▓реЗрдЦ рдЖрдкрдХреЗ рд░реЛрдмреЛрдЯ рдХреЛ рд▓рд┐рдЦрдирд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдЖрджрд┐рдо рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдХрд╛рдо рдХрд░рдирд╛ред </p><br><p>  рджреВрд╕рд░реЗ, рдЖрдк рдХрдорд╛рдПрдВрдЧреЗред  рдмрд╕ рдереЛрдбрд╝рд╛ рд╕рд╛ред </p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">рд╕реА / рдПрдл "рдПрдХ рдЧрд┐рд░рд╛рд╡рдЯ рдХреЗ рд▓рд┐рдП рдЦреЗрд▓" (2015)</b> <div class="spoiler_text"><blockquote>  - рдпрд╣ рдЧрдВрдз, рдпрд╣ рдХреНрдпрд╛ рд╣реИ?  рдХреНрдпрд╛ рдЦреБрд╢рдмреВ рдЖ рд░рд╣реА рд╣реИ? <br>  - рдХреЛрд▓реЛрди? <br>  - рдирд╣реАрдВ ... <br>  - рдЕрд╡рд╕рд░? <br>  - рдирд╣реАрдВред  рдордиреАред <br>  - рдУрд╣ ... рд╕рдм рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рд╣реИ <br>  - рдкреИрд╕реЗ рдХреА рдЧрдВрдз! <br>  - рдореИрдВ рджреЗрдЦ рд░рд╣рд╛ рд╣реВрдВред </blockquote></div></div><br><p> рд╕рдмрд╕реЗ рдЕрдзреАрд░ рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХреНрд╕реЛ-рдПрдХреНрд╕рдЪреЗрдВрдЬ-рдЯреНрд░реЗрдб-рдмреЙрдЯ рдЧрд┐рдердм</a> рдкрд░ рд╕рднреА рдХреЛрдбред </p><br><p>  <strong>рдЪрд░рдг 1: рд╡рд┐рдирд┐рдордпред</strong> </p><br><p>  рд╣рдо EXMO рдПрдХреНрд╕рдЪреЗрдВрдЬ рдкрд░ рдЯреНрд░реЗрдб рдХрд░реЗрдВрдЧреЗред  рдЗрд╕рдХреЗ рдХрдИ рдХрд╛рд░рдг рд╣реИрдВред  рдПрдХреНрд╕рдЪреЗрдВрдЬ рд╕реАрдЖрдИрдПрд╕ рдореЗрдВ рд▓реЛрдХрдкреНрд░рд┐рдп рд╣реИ, рдпрд╣ рд░реВрд╕реА рднрд╛рд╖реА рд╣реИ рдФрд░ рд░реВрдмрд▓ рдХреЗ рдЗрдирдкреБрдЯ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рдореЗрдВ рд░реВрдмрд▓ рдХреЗ рд▓рд┐рдП рдЬреЛрдбрд╝реЗ рдмрдирд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИред </p><br><p>  рдордВрддреНрд░рд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ рд░реВрдмрд▓ рдЬрдорд╛ рдХрд░рдиреЗ рдХреА рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИ, рдПрдХ рд╕рднреНрдп рдХрдореАрд╢рди, рдХреБрдЫ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдХ рдЬреЛрдбрд╝реЗред </p><br><p>  рд╣рдорд╛рд░реЗ рд▓рд┐рдП, рдореБрдЦреНрдп рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕рдХреЗ рдкрд╛рд╕ рдЕрдкрдиреЗ рдПрдкреАрдЖрдИ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╕рдорд╛рдзрд╛рди рд╣реИрдВред  рдЗрд╕рд╕реЗ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╣рдорд╛рд░реЗ рдХрд╛рдо рдореЗрдВ рдЖрд╕рд╛рдиреА рд╣реЛрдЧреАред </p><br><p>  рддреЛ рдЪрд▓рд┐рдП рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдмреЗрд╢рдХ, рдЖрдкрдХреЛ рд╕реНрдЯреЙрдХ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдореЗрдВ рдкрдВрдЬреАрдХрд░рдг рдХрд░рдиреЗ рдФрд░ рдХреБрдЫ рдкреИрд╕реЗ рдЬрдорд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ $ 5 рдХрд╛ рдпреЛрдЧрджрд╛рди рджрд┐рдпрд╛ред </p><br><p>  рдЖрдкрдХреЗ рдЦрд╛рддреЗ рдореЗрдВ рдЖрдЧреЗ рдЖрдкрдХреЛ рдПрдкреАрдЖрдИ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд╛рдмрд┐рдпрд╛рдВ рдорд┐рд▓реЗрдВрдЧреАред </p><br><p>  рдореИрдВ NodeJS рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реВрдВрдЧрд╛ (рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдиреЛрдбрдЬ рдФрд░ рдПрдирдкреАрдПрдо рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА)ред </p><br><p>  рдЕрдкрдиреЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░, рдПрдХ рдирдпрд╛ рдлрд╝реЛрд▓реНрдбрд░ рдФрд░ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдВ рдЬрд┐рд╕рдореЗрдВ рд╣рдорд╛рд░рд╛ рдЯреНрд░реЗрдбрд┐рдВрдЧ рд░реЛрдмреЛрдЯ рд╣реЛрдЧрд╛ (рдЬреИрд╕реЗ exmo / index.js), рдХрдВрд╕реЛрд▓ рдЦреЛрд▓реЗрдВ рдФрд░ рдЕрдВрддрд┐рдо рдорд╛рдирдХ рддреИрдпрд╛рд░реА рдХрд░реЗрдВред </p><br><p>  рд╣рдо рдЕрдкрдиреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд╕рд╛рде рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рд▓рд┐рдЦрддреЗ рд╣реИрдВ - npm init, рдлрд┐рд░ рд╕рднреА рд╕рд╡рд╛рд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдВрдЯрд░ рджрдмрд╛рдПрдВред </p><br><p>  рдЖрдЧреЗ рд╣рдо рд▓рд┐рдЦрддреЗ рд╣реИрдВ </p><br><pre><code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> exmo-api</code> </pre> <br><p>  рдЬрдмрдХрд┐ рдкреИрдХреЗрдЬ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, рдПрдХ рдЕрдиреНрдп рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдВ, рдЗрд╕реЗ exmo.js рдХрд╣реЗрдВ рдФрд░ рдЗрд╕реЗ рдЗрд╕ рд╕рд╛рдордЧреНрд░реА рд╕реЗ рднрд░реЗрдВред </p><br><div class="spoiler">  <b class="spoiler_title">рдЗрди рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде</b> <div class="spoiler_text"><pre> <code class="hljs lua">var CryptoJS = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"crypto-js"</span></span>) http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>), querystring = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'querystring'</span></span>), request = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'request'</span></span>), <span class="hljs-built_in"><span class="hljs-built_in">config</span></span> = { url: <span class="hljs-string"><span class="hljs-string">'https://api.exmo.me/v1/'</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sign</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> CryptoJS.HmacSHA512(message, <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.secret).toString(CryptoJS.enc.hex); } exports.init_exmo = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cfg)</span></span></span></span> { <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.key = cfg.key; <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.secret = cfg.secret; <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.nonce = Math.<span class="hljs-built_in"><span class="hljs-built_in">floor</span></span>(new Date().getTime()*<span class="hljs-number"><span class="hljs-number">1000</span></span>); }; exports.api_query = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(method_name, data, callback)</span></span></span></span>{ data.nonce = <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.nonce++; var post_data = querystring.stringify(data); var options = { url: <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.url + method_name, method: <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, headers: { <span class="hljs-string"><span class="hljs-string">'Key'</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.key, <span class="hljs-string"><span class="hljs-string">'Sign'</span></span>: sign(post_data) }, form:data }; request(options, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(error, response, body)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-built_in"><span class="hljs-built_in">error</span></span> &amp;&amp; response.statusCode == <span class="hljs-number"><span class="hljs-number">200</span></span>) { callback(body); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ callback(<span class="hljs-built_in"><span class="hljs-built_in">error</span></span>); } }); }; exports.api_query2 = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(method_name, data, callback)</span></span></span></span>{ data.nonce = <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.nonce++; var post_data = querystring.stringify(data); var post_options = { host: <span class="hljs-string"><span class="hljs-string">'api.exmo.me'</span></span>, port: <span class="hljs-string"><span class="hljs-string">'80'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/v1/'</span></span> + method_name, method: <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, headers: { <span class="hljs-string"><span class="hljs-string">'Key'</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.key, <span class="hljs-string"><span class="hljs-string">'Sign'</span></span>: sign(post_data), <span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/x-www-form-urlencoded'</span></span>, <span class="hljs-string"><span class="hljs-string">'Content-Length'</span></span>: Buffer.byteLength(post_data) } }; var post_req = http.request(post_options, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(res)</span></span></span></span> { res.setEncoding(<span class="hljs-string"><span class="hljs-string">'utf8'</span></span>); res.on(<span class="hljs-string"><span class="hljs-string">'data'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(chunk)</span></span></span></span> { callback(chunk); }); }); post_req.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(post_data); post_req.<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>(); }; exports.test = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">config</span></span>.key; };</code> </pre> </div></div><br><p>  рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдПрдкреАрдЖрдИ рдХрд╛ рдкрддрд╛, рдЕрддрд┐рд░рд┐рдХреНрдд рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХрд╛ рдХрдиреЗрдХреНрд╢рди рд╣реИ рдЬрд┐рд╕реЗ рд╣рдореЗрдВ рдПрдкреАрдЖрдИ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдПрдкреАрдЖрдИ рдХреЗ рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП рдореБрдЦреНрдп рдХрд╛рд░реНрдпред </p><br><p>  рдмрд╕ рдЗрддрдирд╛ рд╣реА, рд╣рдордиреЗ рд╕рдм рдХреБрдЫ рддреИрдпрд╛рд░ рдХрд░ рд▓рд┐рдпрд╛ рд╣реИ рдФрд░ рдЕрдм рд╣рдо рд╕реАрдзреЗ "рдкреИрд╕рд╛ рдмрдирд╛рдиреЗ рд╡рд╛рд▓реА рдорд╢реАрди" рдмрдирд╛рдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ;) </p><br><p>  <strong>рд╕реНрдЯреЗрдЬ 2: рдХреЛрдб</strong> </p><br><p>  рд╣рдорд╛рд░реА index.js рдЦреЛрд▓реЗрдВ рдФрд░ exmo.js рдлрд╝рд╛рдЗрд▓ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ: </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> exmo = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./exmo"</span></span>);</code> </pre> <br><p>  рдЗрд╕рдХреЗ рдмрд╛рдж, рдЕрдкрдиреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ рдореЗрдВ рдЙрд╕ рд╕реНрдерд╛рди рдкрд░ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдкрд░ рдЬрд╛рдПрдВ рдЬрд╣рд╛рдВ рд╣рдордиреЗ рдПрдкреАрдЖрдИ рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА рдЪрд╛рдмрд┐рдпрд╛рдВ рдмрдирд╛рдИ рдереАрдВред  рд╣рдо рдЙрдиреНрд╣реЗрдВ рдХреЙрдкреА рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЪрд░ рдореЗрдВ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> apiKey = <span class="hljs-string"><span class="hljs-string">' '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> apiSecret = <span class="hljs-string"><span class="hljs-string">' '</span></span>;</code> </pre> <br><p>  рдЕрдм рджреЛ рдЪрд░ рдмрдирд╛рдПрдВ: <br>  Currency1 рд╣рдо рдХреНрдпрд╛ рдЦрд░реАрджрддреЗ рд╣реИрдВ; <br>  Currency2 - рд╡рд╣ рдореБрджреНрд░рд╛ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рд╣рдо рдЦрд░реАрдж рд░рд╣реЗ рд╣реИрдВред </p><br><p>  рдореИрдВ рдбреЙрд▓рд░ рдХреЗ рд▓рд┐рдП рдмрд┐рдЯрдХреЙрдЗрди рдЦрд░реАрджрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> currency1 = <span class="hljs-string"><span class="hljs-string">'BTC'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> currency2 = <span class="hljs-string"><span class="hljs-string">'USD'</span></span>;</code> </pre> <br><p>  рдЕрдЧрд▓рд╛, рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ - рд╣рдо рдПрдХ рдиреНрдпреВрдирддрдо рд╢рд░реНрдд рд░рд╛рд╢рд┐ рдХреЗ рд╕рд╛рде рдПрдХ рдЪрд░ рдмрдирд╛рддреЗ рд╣реИрдВред  рдПрдХреНрд╕рдЪреЗрдВрдЬ рдЗрд╕ рд░рд╛рд╢рд┐ рд╕реЗ рдХрдо рдЦрд░реАрджрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред </p><br><p>  рд╣рдо рдкрддреЗ рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рдПрдБ https://api.exmo.com/v1/pair_settings/</a> рдЕрдкрдиреА рдЬреЛрдбрд╝реА рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдВ (рдореЗрд░реЗ рд▓рд┐рдП рдпрд╣ BTC_USD рд╣реИ) рдФрд░ рдкрд╣рд▓реЗ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рджреЗрдЦреЗрдВ - min_quantity - 0.001 </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> currency1MinQuantity = <span class="hljs-number"><span class="hljs-number">0.001</span></span>;</code> </pre> <br><p>  рдФрд░ рдХреБрдЫ рдФрд░ рдЪрд░: </p><br><p>  рдорд┐рдирдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдПрдХ рдЕрдзреВрд░рд╛ рдЦрд░реАрдж рдЖрджреЗрд╢ рдореБрджреНрд░рд╛ 1 рдХреЛ рд░рджреНрдж рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> orderLifeTime = <span class="hljs-number"><span class="hljs-number">3</span></span>;</code> </pre> <br><p>  рд╡рд┐рдирд┐рдордп рдЖрдпреЛрдЧ (0.002 = 0.2%) </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stockFee = <span class="hljs-number"><span class="hljs-number">0.002</span></span>;</code> </pre> <br><p>  рдФрд╕рдд рдореВрд▓реНрдп рдХреА рдЧрдгрдирд╛ рдХреЗ рд▓рд┐рдП рд╕рдордп рдХреА рдЕрд╡рдзрд┐ (рдорд┐рдирдЯ рдореЗрдВ) (рдпрд╣ рд╣рдорд╛рд░реЗ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛) </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> avgPricePeriod = <span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre> <br><p>  Currency2 рдХреЛ рдПрдХ рдмрд╛рд░ рдХреЗ рд▓реЗрдирджреЗрди рдореЗрдВ Currency1 рдЦрд░реАрджрдиреЗ рдХреЗ рд▓рд┐рдП 2 рдХреА рд░рд╛рд╢рд┐ (рдореИрдВрдиреЗ $ 5 рдлреЗрдВрдХ рджрд┐рдпрд╛ - рдореИрдВ рдЙрдирдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реВрдВрдЧрд╛) </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> canSpend = <span class="hljs-number"><span class="hljs-number">5</span></span>;</code> </pre> <br><p>  рдкреНрд░рддреНрдпреЗрдХ рд▓реЗрдирджреЗрди рд╕реЗ рд▓рд╛рдн рдХреА рд╡рд╛рдВрдЫрд┐рдд рд░рд╛рд╢рд┐ (0.001 = 0.1%) </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> profit = <span class="hljs-number"><span class="hljs-number">0.001</span></span>;</code> </pre> <br><p>  рдпрджрд┐ рд╡рд┐рдирд┐рдордп рд╕рдордп рд╡рд░реНрддрдорд╛рди рд╕реЗ рдЕрд▓рдЧ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stockTimeOffset = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br><p>  рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЕрдкрдиреА рдЬреЛрдбрд╝реА рдХреЛ _ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> currentPair = currency1+<span class="hljs-string"><span class="hljs-string">'_'</span></span>+currency2;</code> </pre> <br><p>  рдХрдиреЗрдХреНрд╢рди рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВред </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">exmo</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.init_exmo</span></span>({<span class="hljs-attribute"><span class="hljs-attribute">key</span></span>:apiKey, secret:apiSecret});</code> </pre> <br><p>  рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рдЕрдкрдиреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="hljs pgsql">exmo.api_query("user_info", { }, result =&gt; console.log(result););</code> </pre> <br><p>  рдХрдВрд╕реЛрд▓ рдкрд░ рдЬрд╛рдПрдВ рдФрд░ рдЪрд▓рд╛рдПрдВ </p><br><pre> <code class="hljs pgsql">node <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.js</code> </pre> <br><p>  рдпрджрд┐ рд╕рдм рдХреБрдЫ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЖрдк рдЕрдкрдиреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦреЗрдВрдЧреЗ! </p><br><p>  рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЖрдк рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рднрд╛рдЧ рдкрд░ рдЖрдЧреЗ рдмрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ - рд╡рд╣ рдлрд╝рдВрдХреНрд╢рди рдЬреЛ рджрд╛рджреА рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЙрддреНрдкрдиреНрди рдХрд░реЗрдЧрд╛ред </p><br><p>  рдЗрд╕рд▓рд┐рдП, рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдКрдкрд░ рдХрд╣рд╛ рдерд╛ рдХрд┐ рд╣рдорд╛рд░рд╛ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдмреЗрд╡рдХреВрдл рд╣реЛрдЧрд╛, рдЕрдм рдЖрдк рд╕рдордЭреЗрдВрдЧреЗ рдХрд┐ рдХрд┐рддрдирд╛) </p><br><p>  рдЪрд╛рд▓ рдХрд┐рд╕реА рднреА рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рдкреВрд░реНрдг рд▓реЗрдирджреЗрди рдХрд╛ рдЗрддрд┐рд╣рд╛рд╕ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ - рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ avgPricePeriod рдХрд╛ рдЪрд░ рд╣реИ - рдФрд░ рдФрд╕рдд рдореВрд▓реНрдп рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдВ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП Currency1 рдмреЗрдЪрд╛ рдЧрдпрд╛ рдерд╛ред  рдЗрд╕ рдФрд╕рдд рдореВрд▓реНрдп рдХреЗ рд▓рд┐рдП, рд╣рдо рдЕрдкрдирд╛ рдСрд░реНрдбрд░ рджреЗрдВрдЧреЗред </p><br><p>  рддреЛ рдЪрд▓рд┐рдП рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рд╣рдо рдЕрдкрдирд╛ рд╡реНрдпрд╛рдкрд╛рд░ () рдлрд╝рдВрдХреНрд╢рди рд▓рд┐рдЦрддреЗ рд╣реИрдВ </p><br><pre> <code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trade</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{}</code> </pre> <br><p>  рдкрд╣рд▓реЗ рд╣рдореЗрдВ рдЕрдкрдиреЗ рдЦреБрд▓реЗ рдЖрд░реНрдбрд░ рдХреА рд╕реВрдЪреА рдорд┐рд▓рддреА рд╣реИ: </p><br><p>  1) рд╣рдо рдЬрд╛рдБрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ user_open_orders api рдкрджреНрдзрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣рдорд╛рд░реА рдЬреЛрдбрд╝реА рдХреЗ рд▓рд┐рдП рдЦреБрд▓реЗ рдСрд░реНрдбрд░ рд╣реИрдВред  рдпрджрд┐ рдмрд┐рдХреНрд░реА рдХреЗ рд▓рд┐рдП рднреА рд╣реИрдВ, </p><br><p>  рддрдм рд╣рдо рдмрд╕ рдЙрдирдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рддреЗ рд╣реИрдВ (рдХрднреА-рдХрднреА рд╕рдордп рдХреЗ рдЕрдВрдд рддрдХ)ред  рдпрджрд┐ рдЦрд░реАрдж рдХреЗ рдЖрджреЗрд╢ рд╣реИрдВ, рддреЛ рдЙрдиреНрд╣реЗрдВ рдпрд╛рдж рд░рдЦреЗрдВред </p><br><pre> <code class="hljs markdown">exmo.api<span class="hljs-emphasis"><span class="hljs-emphasis">_query("user_</span></span>open_orders", { }, result =&gt; { let res = JSON.parse(result); if(res[<span class="hljs-string"><span class="hljs-string">currentPair</span></span>] == undefined) console.log('  '); let buyOrders = [<span class="hljs-string"></span><span class="hljs-string"></span>]; for(let i in res[<span class="hljs-string"><span class="hljs-string">currentPair</span></span>]){ console.log(res[<span class="hljs-string"><span class="hljs-string">currentPair</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">i</span></span>]); if(res[<span class="hljs-string"><span class="hljs-string">currentPair</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">i</span></span>].type == 'sell'){ console.log(',    /    '); }else{ buyOrders.push(res[<span class="hljs-string"><span class="hljs-string">currentPair</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">i</span></span>]); } }</code> </pre> <br><p>  2) рд╣рдо рдЬрд╛рдБрдЪ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЦреБрд▓реА рдЦрд░реАрдж рдХреЗ рдЖрджреЗрд╢ рд╣реИрдВред </p><br><p>  рд╣рдо рд╕рднреА рдЖрджреЗрд╢реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреНрд░рдордмрджреНрдз рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдЗрддрд┐рд╣рд╛рд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЖрджреЗрд╢ рдЖрдИрдбреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрджреЗрд╢ рдЖрдИрдбреА рдХреЛ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред </p><br><p>  3 рд╡рд┐рдХрд▓реНрдк рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="hljs powershell"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(buyOrders.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(let key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> buyOrders){ console.log(<span class="hljs-string"><span class="hljs-string">',     '</span></span>, buyOrders[<span class="hljs-type"><span class="hljs-type">key</span></span>][<span class="hljs-string"><span class="hljs-string">'order_id'</span></span>]); exmo.api_query(<span class="hljs-string"><span class="hljs-string">'order_trades'</span></span>, {<span class="hljs-string"><span class="hljs-string">"order_id"</span></span>: buyOrders[<span class="hljs-type"><span class="hljs-type">key</span></span>][<span class="hljs-string"><span class="hljs-string">'order_id'</span></span>]}, result =&gt; { let res = JSON.parse(result);</code> </pre> <br><p>  1) рд╣рдо рдЖрд╡рд╢реНрдпрдХ рдореБрджреНрд░рд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рд╡рд┐рдХреНрд░реЗрддрд╛рдУрдВ рдХреЗ рдЖрджреЗрд╢реЛрдВ рд╕реЗ рдЦрд░реАрдж рд╕рдХрддреЗ рд╣реИрдВред <br>  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╡рд╛рдВрдЫрд┐рдд рдореВрд▓реНрдп рдкрд░ рдЦрд░реАрджрд╛ рд╣реИ, рддреЛ рд╣рдо рдкреВрд░реА рд░рд╛рд╢рд┐ рдХреА рдЦрд░реАрдж рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВред </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(res.result !== <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>){ console.log(<span class="hljs-string"><span class="hljs-string">',       ,     '</span></span>); }</code> </pre> <br><p>  2) рджреВрд╕рд░реЗ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде, рд╣рдореЗрдВ рдпрд╣ рдЬрд╛рдВрдЪрдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдХреНрдпрд╛ рд╣рдорд╛рд░рд╛ рдСрд░реНрдбрд░ рдмрд╣реБрдд рд▓рдВрдмрд╛ рд╣реИред  рдХреАрдорддреЗрдВ рдЬрд▓реНрджреА рд╕реЗ рдмрджрд▓рддреА рд╣реИрдВ рдФрд░ рд╢рд╛рдпрдж рдФрд╕рдд рдХреАрдордд рдЕрдм рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдирд╣реАрдВ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ рд╡реИрд░рд┐рдПрдмрд▓ рдСрд░реНрдбрд░рд▓рд╛рдЗрдлрдЯрд╛рдЗрдо рдмрдирд╛рдпрд╛, рдЬрд╣рд╛рдВ рд╣рдо рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдорд┐рдирдЯреЛрдВ рдореЗрдВ рд╣рдорд╛рд░рд╛ рдСрд░реНрдбрд░ рдХрд┐рддрдирд╛ рд▓рдЯрдХрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдпрджрд┐ рд╕рдордп рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдСрд░реНрдбрд░ рдЖрдИрдбреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <strong>рдСрд░реНрдбрд░_рдХреИрдВрд╕реЗрд▓</strong> рдкрджреНрдзрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдСрд░реНрдбрд░ рдХреЛ рд░рджреНрдж рдХрд░ рджреЗрдВред </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> timePassed = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime() / <span class="hljs-number"><span class="hljs-number">1000</span></span>) + stockTimeOffset * <span class="hljs-number"><span class="hljs-number">60</span></span> * <span class="hljs-number"><span class="hljs-number">60</span></span> - (buyOrders[key][<span class="hljs-string"><span class="hljs-string">'created'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(timePassed &gt; orderLifeTime * <span class="hljs-number"><span class="hljs-number">60</span></span>){ exmo.api_query(<span class="hljs-string"><span class="hljs-string">'order_cancel'</span></span>,{<span class="hljs-string"><span class="hljs-string">"order_id"</span></span>:buyOrders[key][<span class="hljs-string"><span class="hljs-string">'order_id'</span></span>]}, res =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> result = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(res); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(result.error) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(result.error); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`   </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${orderLifeTime}</span></span></span><span class="hljs-string">     </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${currency1}</span></span></span><span class="hljs-string">`</span></span>); }); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{</code> </pre> <br><p>  3) рдпрджрд┐ рд╕рдордп рдЕрднреА рддрдХ рдирд╣реАрдВ рдЖрдпрд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рд╣рдо рдЕрдкрдиреА рдХреАрдордд рдкрд░ рдЦрд░реАрдж рд╕рдХрддреЗ рд╣реИрдВред </p><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`,        ,      </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${timePassed}</span></span></span><span class="hljs-string"> `</span></span>); } } }); } }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{</code> </pre> <br><p>  рд╕рдм рдХреБрдЫ, рд╣рдо рдЦреБрд▓реЗ рдЖрджреЗрд╢реЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддреЗ рд╣реИрдВ, рдЕрдм рд╣рдорд╛рд░рд╛ рд░реЛрдмреЛрдЯ рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рдЬрдм рд╡рд╣ рдЙрдиреНрд╣реЗрдВ рдмрдирд╛рддрд╛ рд╣реИ рддреЛ рдЖрджреЗрд╢реЛрдВ рдХрд╛ рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИред  рдЖрдзрд╛ рдХрд╛рдо рд╣реЛ рдЧрдпрд╛ред </p><br><p>  рддреЛ, рдПрдХ рдмреНрд▓реЙрдХ рдЕрдЧрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдСрд░реНрдбрд░ рдирд╣реАрдВ рд╣реИред </p><br><p>  рд╣рдореЗрдВ <strong>user_info</strong> рдкрджреНрдзрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ рдЦрд╛рддреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА <strong>рдорд┐рд▓рддреА</strong> рд╣реИ: </p><br><pre> <code class="hljs coffeescript">exmo.api_query(<span class="hljs-string"><span class="hljs-string">'user_info'</span></span>,{},<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(result)</span></span></span><span class="hljs-function">=&gt;</span></span>{ let res = JSON.parse(result);</code> </pre> <br><p>  рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЕрдкрдиреА рдЬреЛрдбрд╝реА рдХреЗ рд▓рд┐рдП рд╢реЗрд╖ рд░рд╛рд╢рд┐ рд▓рд┐рдЦрддреЗ рд╣реИрдВ: </p><br><pre> <code class="hljs powershell">let balance = res.balances[<span class="hljs-type"><span class="hljs-type">currency1</span></span>]; let balance2 = res.balances[<span class="hljs-type"><span class="hljs-type">currency2</span></span>];</code> </pre> <br><p>  рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХрд┐ рдХреНрдпрд╛ Currency1 рд╣реИ рдЬрд┐рд╕реЗ рдмреЗрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ? </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(balance &gt;= currency1MinQuantity){}</code> </pre> <br><p>  рдпрджрд┐ рд╣рд╛рдВ, рддреЛ рд╣рдореЗрдВ рд╡рд┐рдХреНрд░рдп рджрд░ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рдЖрдкрдХреЛ рдЦрд░реАрджреА рдЧрдИ рд╕рднреА рдореБрджреНрд░рд╛ рдХреЛ рдмреЗрдЪрдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ, рдЬреЛ рд░рд╛рд╢рд┐ рдЖрдкрдиреЗ рдЦрд░реАрджреА рдереА, рд╡рд╣ рд╡рд┐рдирд┐рдордп рдЖрдпреЛрдЧ рдХреЛ рдШрдЯрд╛ рджреА рдЧрдИ рдереАред </p><br><p>  <strong>рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ!</strong>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЦрд░реАрджреА рдЧрдИ рдореБрджреНрд░рд╛рдУрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрдо рдореБрджреНрд░рд╛рдПрдВ рд╣реИрдВ - рд╡рд┐рдирд┐рдордп рдиреЗ рдХрдореАрд╢рди рд▓рд┐рдпрд╛ред </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> wannaGet = canSpend + canSpend * (stockFee+profit); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'sell'</span></span>, balance, wannaGet, (wannaGet/balance));</code> </pre> <br><p>  рдСрд░реНрдбрд░ рдмрдирд╛рддреЗ рд╕рдордп, <strong>рдСрд░реНрдбрд░_рдХреНрд░рд┐рдПрдЯ</strong> рд╡рд┐рдзрд┐ рдХреЛ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдкрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ: </p><br><ul><li>  рд╡реНрдпрд╛рдкрд╛рд░ рдХреЗ рд▓рд┐рдП рдЬреЛрдбрд╝реА рд╣рдорд╛рд░реА рд╡рд░реНрддрдорд╛рди рдЬреЛрдбрд╝реА рд╣реИ; </li><li>  рдорд╛рддреНрд░рд╛ - рдорд╛рддреНрд░рд╛; </li><li>  рдореВрд▓реНрдп - рдореВрд▓реНрдп; </li><li>  рдкреНрд░рдХрд╛рд░ - рдирд┐рд░реНрдорд┐рдд рдЖрджреЗрд╢ рдХрд╛ рдкреНрд░рдХрд╛рд░ (рдЦрд░реАрдж / рдмрд┐рдХреНрд░реА); </li></ul><br><p>  рд╣рдо рдмреЗрдЪрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ - рдЙрд╕ рдкреНрд░рдХрд╛рд░ рдореЗрдВ рдЬреИрд╕реЗ рд╣рдо <strong>рдмреЗрдЪрддреЗ рд╣реИрдВ</strong> ред </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> options = { <span class="hljs-string"><span class="hljs-string">"pair"</span></span>: currentPair, <span class="hljs-string"><span class="hljs-string">"quantity"</span></span>: balance, <span class="hljs-string"><span class="hljs-string">"price"</span></span>: wannaGet / balance, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">'sell'</span></span> };</code> </pre> <br><p>  рдФрд░ рдПрдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬреЗрдВ, рдЕрдЧрд░ рд╕рдм рдХреБрдЫ рд╕рд╣реА рд╣реИ, рддреЛ рдЖрдк рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рджреЗрдЦреЗрдВрдЧреЗ "рдПрдХ рдмрд┐рдХреНрд░реА рдЖрджреЗрд╢ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ" </p><br><pre> <code class="hljs coffeescript">exmo.api_query(<span class="hljs-string"><span class="hljs-string">"order_create"</span></span>, options,<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(result)</span></span></span><span class="hljs-function">=&gt;</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(result.error) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(result.error); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"   "</span></span>, currency1, result.order_id); });</code> </pre> <br><p>  рд╡рд╣ рд╕рдм рд╣реИред  рдпрджрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдореБрджреНрд░рд╛ рдереА, рддреЛ рд╣рдордиреЗ рдЗрд╕реЗ рдмреЗрдЪрдиреЗ рдХрд╛ рдЖрджреЗрд╢ рджрд┐рдпрд╛ред </p><br><p>  рдЕрдм рд╣рдо рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рдмреНрд▓реЙрдХ рдХреА рдУрд░ рд░реБрдЦ рдХрд░рддреЗ рд╣реИрдВ: рдпрджрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрд░реЗрдВрд╕реА 1 (btc) рдирд╣реАрдВ рд╣реИ рдФрд░ рд╣рдо рдЗрд╕реЗ рдЕрдкрдиреА рдХрд░реЗрдВрд╕реА 2 (usd) рдХреЗ рд▓рд┐рдП рдЦрд░реАрджрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред </p><br><p>  рдкрд╣рд▓реЗ, рдпрд╣ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдХрд░реЗрдВрд╕реА 2 рдореЗрдВ рдмреИрд▓реЗрдВрд╕ рд╢реАрдЯ рдкрд░ рдкрд░реНрдпрд╛рдкреНрдд рдкреИрд╕рд╛ рд╣реИред </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(balance2 &gt;= canSpend){}</code> </pre> <br><p>  рдЕрдЧрд░ рд╡рд╣рд╛рдБ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдФрд╕рдд рдореВрд▓реНрдп рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП <em>Currency1</em> (btc) рдЙрд╕ рд╕рдордп рдХреА рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рдмреЗрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рд╣рдордиреЗ <em>avgPricePeriod</em> рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ <em>рдерд╛</em> ред </p><br><p>  <em>рдЧрд╛рдиреЗ рдХреЗ рдмреЛрд▓:</em> <br>  Exmo рдореЗрдВ рдореБрджреНрд░рд╛ рдЬреЛрдбрд╝реЗ рдХреЗ рд▓рд┐рдП рдЖрдВрдХрдбрд╝реЛрдВ рдФрд░ рдЯреНрд░реЗрдбрд┐рдВрдЧ рд╡реЙрд▓реНрдпреВрдо рдХреЗ рд╕рд╛рде рдПрдХ <strong>рдЯрд┐рдХрд░</strong> рд╡рд┐рдзрд┐ рд╣реИред  рдЖрдВрдХрдбрд╝реЗ рдкрд┐рдЫрд▓реЗ 24 рдШрдВрдЯреЛрдВ рдХреЗ рд▓рд┐рдП рдФрд╕рдд рдореВрд▓реНрдп рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдФрд╕рдд рдХреАрдордд рдФрд░ рдЬрд┐рд╕ рдкрд░ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдиреАрд▓рд╛рдореА рд╣реЛ рд░рд╣реА рд╣реИ, рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдмрд╣реБрдд рдЕрд▓рдЧ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдЗрд╕ рд╡рдЬрд╣ рд╕реЗ, рд╣рдо рдПрдХ рдмреЗрдЪрдиреЗ рдХреЗ рдЖрджреЗрд╢ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╣рдо рдЕрдкрдиреА рдмрд╛рдЗрдХ рдмрдирд╛рдПрдВрдЧреЗред </p><br><p>  Exmo рдореЗрдВ рдПрдХ <strong>рдЯреНрд░реЗрдб</strong> рд╡рд┐рдзрд┐ рд╣реИ, рдпрд╣ рдПрдХ рдореБрджреНрд░рд╛ рдЬреЛрдбрд╝реА рдХреЗ рд▓рд┐рдП рд╕реМрджреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рджреЗрддрд╛ рд╣реИред </p><br><p>  рд╣рдо рдЬрд┐рд╕ <em>avgPricePeriod</em> рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЙрдирд╕реЗ рдФрд╕рдд рдХреАрдордд рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдВрдЧреЗ, <em>рдЙрд╕рдХреЗ рд▓рд┐рдП</em> рд╣рдо рд╕рд╣реА рд╕реМрджрд╛ рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдпрд╣ рдПрдХ рдЖрджрд░реНрд╢ рд╡рд┐рдХрд▓реНрдк рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХреАрдорддреЛрдВ рдХреЛ рджрд┐рдЦрд╛рдПрдЧрд╛ рдЬрд┐рд╕ рдкрд░ рд╡реЗ рдмреЗрдЪрддреЗ рд╣реИрдВ рдФрд░ рдЦрд░реАрджрддреЗ рд╣реИрдВред </p><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд▓реЗрдЦрди рдХреЗ рд╕рдордп, BTC_USD рдХреА рдФрд╕рдд рдХреАрдордд 8314 рд╣реИ, рдЬрдмрдХрд┐ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдкрд░ рдЦрд░реАрдж 7970 рдХреА рдХреАрдордд рдкрд░ рдХреА рдЬрд╛рддреА рд╣реИред </p><br><p>  рдпрджрд┐ рд╣рдо рдФрд╕рдд рдореВрд▓реНрдп рдкрд░ рдСрд░реНрдбрд░ рджреЗрддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕реЗ рддреБрд░рдВрдд рдмреЗрдЪрдиреЗ рдХреЗ рдЖрджреЗрд╢реЛрдВ рдореЗрдВ рдЗрдВрдЧрд┐рдд рдиреНрдпреВрдирддрдо рдореВрд▓реНрдп рдкрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  рд▓реЗрдХрд┐рди рд▓рд╛рдн рдФрд░ рд╡рд┐рдирд┐рдордп рдЖрдпреЛрдЧ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдкрд░, рд╣рдореЗрдВ рдмрд┐рдХреНрд░реА рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рд▓рдВрдмрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред </p><br><p>  рддреЛ, рдЪрд▓рд┐рдП <strong>рдЯреНрд░реЗрдбреЛрдВ рдХреА</strong> рд╡рд┐рдзрд┐ рдХреА рдУрд░ рдореБрдбрд╝рддреЗ рд╣реИрдВ рдФрд░ рдЙрдирд╕реЗ рд╣рдорд╛рд░реА <em>рдХрд░рдВрдЯ</em> рдЬреЛрдбрд╝реА рдкрд░ рдЖрдВрдХрдбрд╝реЗ рдорд╛рдВрдЧрддреЗ рд╣реИрдВ: </p><br><pre> <code class="hljs javascript">exmo.api_query(<span class="hljs-string"><span class="hljs-string">"trades"</span></span>,{<span class="hljs-string"><span class="hljs-string">"pair"</span></span>:currentPair}, result =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> res = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(result); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> prices = []; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> summ = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br><p>  рд╣рдо рд╕рднреА рдкрд░рд┐рдгрд╛рдореЛрдВ рдкрд░ рдЬрд╛рдПрдВрдЧреЗ рдФрд░ рдХреЗрд╡рд▓ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЛ рдЫреЛрдбрд╝ рджреЗрдВрдЧреЗ рдЬреЛ рд╣рдорд╛рд░реЗ рд╕рдордп рдХреА рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИрдВред </p><br><pre> <code class="hljs markdown">for(deal in res[<span class="hljs-string"><span class="hljs-string">currentPair</span></span>]){ let timePassed = (new Date().getTime() / 1000) + stockTimeOffset <span class="hljs-bullet"><span class="hljs-bullet">* 60 *</span></span> 60 - res[<span class="hljs-string"><span class="hljs-string">currentPair</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">deal</span></span>].date; if(timePassed <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">avgPricePeriod</span></span></span></span><span class="xml"><span class="hljs-tag"> * </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">60</span></span></span></span><span class="xml"><span class="hljs-tag">){ </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">summ</span></span></span></span><span class="xml"><span class="hljs-tag"> += </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">parseInt(res[currentPair][deal].price);</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">prices.push</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parseInt</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">res</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">currentPair</span></span></span></span><span class="xml"><span class="hljs-tag">][</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">deal</span></span></span></span><span class="xml"><span class="hljs-tag">]</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.price</span></span></span></span><span class="xml"><span class="hljs-tag">)); } }</span></span></span></span></code> </pre> <br><p>  рдФрд░ рдФрд╕рдд рдореВрд▓реНрдп рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдВред </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> avgPrice = summ2 / prices.length;</code> </pre> <br><p>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдФрд╕рдд рдореВрд▓реНрдп рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдЗрд╕реЗ рдереЛрдбрд╝рд╛ рдареАрдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ - <em>рд╕реНрдЯреЙрдХрдлреА</em> рдПрдХреНрд╕рдЪреЗрдВрдЬ <em>рдХрдореАрд╢рди</em> рдХреЛ <em>рдШрдЯрд╛рдПрдВ</em> рдФрд░ рд╡рд╛рдВрдЫрд┐рдд рд▓рд╛рдн рдЬреЛрдбрд╝реЗрдВред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдФрд╕рдд рдмрд╛рдЬрд╛рд░ рдореВрд▓реНрдп рд╕реЗ рдиреАрдЪреЗ рдПрдХ рдореВрд▓реНрдп рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдереЛрдбрд╝реА рдЕрдзрд┐рдХ рдореБрджреНрд░рд╛ рдЦрд░реАрдж рд▓реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рдмрд╛рдж рдореЗрдВ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдЗрд╕рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд▓реЗрддрд╛ рд╣реИ; </p><br><pre> <code class="hljs lisp">let needPrice = avgPrice - avgPrice * (<span class="hljs-name"><span class="hljs-name">stockFee</span></span> + profit)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br><p>  рд╣рдореЗрдВ рдЕрдВрддрд┐рдо рд░рд╛рд╢рд┐ рдорд┐рд▓рддреА рд╣реИ рдЬрд┐рд╕реЗ рд╣рдореЗрдВ рдЦрд░реАрджрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> ammount = canSpend / needPrice; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Buy'</span></span>, ammount, needPrice);</code> </pre> <br><p>  рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдЗрд╕ рддрд░рд╣ рдХреА рдореБрджреНрд░рд╛ рдЦрд░реАрджрдирд╛ рд╕рдВрднрд╡ рд╣реИ (рдХреНрдпрд╛ рдиреНрдпреВрдирддрдо рдЦрд░реАрдж рд░рд╛рд╢рд┐ рдХрд╛ рдЙрд▓реНрд▓рдВрдШрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛)ред </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ammount &gt;= currency1MinQuantity){}</code> </pre> <br><p>  рдпрджрд┐ рд╣рдорд╛рд░реА рдорд╛рддреНрд░рд╛ рдЕрдзрд┐рдХ рд╣реИ, рддреЛ рд╣рдо <strong>рдСрд░реНрдбрд░_рдХреНрд░рд┐рдПрдЯ</strong> рд╡рд┐рдзрд┐ рдХреЗ рд▓рд┐рдП рдкреИрд░рд╛рдореАрдЯрд░ <strong>рдмрдирд╛рддреЗ рд╣реИрдВ</strong> , рдХреЗрд╡рд▓ рдЗрд╕ рдмрд╛рд░ <strong>рдЦрд░реАрдж</strong> рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рдеред </p><br><pre> <code class="hljs pgsql"> let <span class="hljs-keyword"><span class="hljs-keyword">options</span></span> = { "pair": currentPair, "quantity": ammount, "price": needPrice, **"type": <span class="hljs-string"><span class="hljs-string">'buy'</span></span>** }; exmo.api_query(<span class="hljs-string"><span class="hljs-string">'order_create'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>, res =&gt; { let result = <span class="hljs-type"><span class="hljs-type">JSON</span></span>.parse(res); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(result.error) console.log(result.error); console.log(<span class="hljs-string"><span class="hljs-string">'   '</span></span>, result.order_id); }); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ console.log(<span class="hljs-string"><span class="hljs-string">',      '</span></span>); } }); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ console.log(<span class="hljs-string"><span class="hljs-string">',   '</span></span>); }</code> </pre> <br><p>  рдЕрдм рд╣рдореЗрдВ рдЕрдкрдиреЗ рдХрд╛рд░реНрдп рдХреЛ рдЯрд╛рдЗрдорд░ рдкрд░ рд░рдЦрдирд╛ рд╣реЛрдЧрд╛ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рд╕реАрдорд╛ рд╣рд░ 5 рд╕реЗрдХрдВрдб рдореЗрдВ рдПрдХ рдмрд╛рд░ рд╣реЛрддреА рд╣реИ) рдФрд░ рд╣рдо рдЗрд╕реЗ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВред </p><br><pre> <code class="hljs matlab">var timerId = setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trade</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">timerId</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTimeout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(tick, 5000)</span></span></span><span class="hljs-function">; }, 5000);</span></span></code> </pre> <br><pre> <code class="hljs pgsql">node <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.js</code> </pre> <br><p>  рдмрдзрд╛рдИ рд╣реЛ, рдЖрдкрдиреЗ рдЕрдкрдирд╛ рдкрд╣рд▓рд╛ рдЯреНрд░реЗрдбрд┐рдВрдЧ рд░реЛрдмреЛрдЯ рд▓рд┐рдЦрд╛: рдЖрдк рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЛ рдкреВрд░рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдмрд╣реБрдд рд╕рд╛рд░рд╛ рдкреИрд╕рд╛ рдХрдорд╛ рд╕рдХрддреЗ рд╣реИрдВ) <del>  рдмрд╕ рдордЬрд╛рдХ рдХрд░ рд░рд╣реЗ рд╣реИрдВ </del>  ред </p><br><p>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдЙрдЪрд┐рдд рд╕рд╡рд╛рд▓ рд╣реИ, "рдЖрдк рдЗрд╕ рддрд░рд╣ рд╕реЗ рдХрд┐рддрдирд╛ рдкреИрд╕рд╛ рдХрдорд╛ рд╕рдХрддреЗ рд╣реИрдВ?" </p><br><p>  $ 5 рдХреЗ рд╕рд╛рде рдПрдХ рдСрдкрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП, рдореИрдВ рд▓рдЧрднрдЧ 2-3 рд╕реЗрдВрдЯ рдХрдорд╛рддрд╛ рд╣реВрдВред  рдпрд╣ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреА рдкреНрд░рдзрд╛рдирддрд╛ рдХреЗ рдХрд╛рд░рдг рд╣реИ, рдЬреЛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдпрджрд┐ рдХреАрдордд рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕реАрдорд╛ рдореЗрдВ рдЙрддрд╛рд░-рдЪрдврд╝рд╛рд╡ рдХрд░рддреА рд╣реИ (рдФрд░ рдпрд╣ рд▓рдЧрднрдЧ рд╣рдореЗрд╢рд╛ рдХреНрд░рд┐рдкреНрдЯреЛрдХреНрдпреВрд░реЗрдВрд╕реА рдПрдХреНрд╕рдЪреЗрдВрдЬреЛрдВ рдкрд░ рдорд╛рдорд▓рд╛ рдирд╣реАрдВ рд╣реИ)ред  рд▓рдЧрднрдЧ 10-20 рдСрдкрд░реЗрд╢рди рдкреНрд░рддрд┐ рджрд┐рди (рдЕрдЪреНрдЫреЗ рд╣рд╛рдереЛрдВ рд╕реЗ) рд╣реЛрддреЗ рд╣реИрдВред  рдЖрдк рдЦреБрдж рдХреЛ рдЧрд┐рди рд╕рдХрддреЗ рд╣реИрдВ;) </p><br><p>  рд▓реЗрдХрд┐рди рд╣рдо рдкреИрд╕реЗ рдХреА рдЦрд╛рддрд┐рд░ рдХреЛрдб рдореЗрдВ рдорд╣рд╛рд░рдд рд╣рд╛рд╕рд┐рд▓ рдирд╣реАрдВ рдХрд░ рд░рд╣реЗ рд╣реИрдВ) </p><br><p>  рдПрдХ рдмрд╛рд░ рдлрд┐рд░, рдмреЙрдЯ рдФрд░ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЗ рдкреВрд░реНрдг рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рдЬреАрдердм рдХрд╛ рд▓рд┐рдВрдХред <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/v-florinskiy/exmo-exchange-trade-bot</a> </p><br><p>  рдпрд╣ рдореЗрд░рд╛ рдкрд╣рд▓рд╛ рд▓реЗрдЦ рд╣реИ - рдХрдбрд╝рд╛рдИ рд╕реЗ рдиреНрдпрд╛рдп рди рдХрд░реЗрдВ) </p><br><p>  рд╕рднреА рд▓рд╛рднред </p><br><p>  рдкреБрдирд╢реНрдЪ: рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ рдиреЛрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреЗ рдереЗ, рдЖрдкрдХреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧреА рдЬрдмрдХрд┐ рдХрдВрд╕реЛрд▓ рдЦреБрд▓рд╛ рд╣реИред </p><br><p>  рдЖрдкрдХреЗ рд░реЛрдмреЛрдЯ рдХреЛ 24/7 рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХреБрдЫ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡реАрдкреАрдПрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: рд╡рд╣рд╛рдВ рдЖрдкрдиреЗ рдиреЛрдбрдЬ, рдПрдирдкреАрдПрдо рдФрд░, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкреАрдПрдо 2 рд▓рдЧрд╛рдпрд╛ред  рдЗрд╕ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛рдо рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦреЗрдЧреА, рднрд▓реЗ рд╣реА рдХрдВрд╕реЛрд▓ рдмрдВрдж рд╣реЛред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi416073/">https://habr.com/ru/post/hi416073/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi416061/index.html">рддреЛ-рддреЛ, рдореИрдВ рд╕рдм рдХреБрдЫ рджреЗрдЦрддрд╛ рд╣реВрдВ</a></li>
<li><a href="../hi416063/index.html">рд░реВрд╕рд┐рдпреЛрдВ рдХреА рдмрд╛рддрдЪреАрдд рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣реАрдВ рдирд╣реАрдВ рд╣реИ</a></li>
<li><a href="../hi416067/index.html">рдорд┐рдХрд░реЛрдЯрд┐рдХ рд╡рд┐рдирдмреЙрдХреНрд╕ рднреЗрджреНрдпрддрд╛ рдЕрд╡рд▓реЛрдХрдиред рдпрд╛ рдПрдХ рдмрдбрд╝реА рдлрд╛рдЗрд▓</a></li>
<li><a href="../hi416069/index.html">рджреЛрд╖рд░рд╣рд┐рдд рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ рдЦреЛрдЬ рдбреЗрдЯрд╛ рдорд╛рдЗрдЧреНрд░реЗрд╢рди</a></li>
<li><a href="../hi416071/index.html">рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ, рд╕рдВрдЪрд╛рд▓рди, рд╡рд┐рд╡рд┐рдзрддрд╛ рдФрд░ рдЯреЛрдкреЛрд▓реЙрдЬреА рдХреЗ рдореВрд▓рднреВрдд рд╕рд┐рджреНрдзрд╛рдВрдд</a></li>
<li><a href="../hi416075/index.html">FSB рд╕реНрдорд╛рд░реНрдЯрдлреЛрди рдореЗрдВ рд╡реЙрдпрд╕ рд░рд┐рдХрд╛рд░реНрдбрд░ рдФрд░ рдХреИрдорд░реЛрдВ рдХреЗ рдЫрд┐рдкреЗ рд╣реБрдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд┐рдореНрдореЗрджрд╛рд░реА рд▓реЗрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ [рдФрд░ рди рдХреЗрд╡рд▓]</a></li>
<li><a href="../hi416077/index.html">PlantUML - рд╕рдм рдХреБрдЫ рд╡реНрдпрд╛рдкрд╛рд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдХреЛрдВ рдХреЛ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдЪрд╛рд░реНрдЯ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ</a></li>
<li><a href="../hi416079/index.html">рдПрдВрдбреНрд░реЙрдЗрдб рдХреЗ рд▓рд┐рдП рдХреЛрд░реЛрдирд╛ рдиреЗрдЯрд┐рд╡ - рдХреЛрд░реЛрдирд╛ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдЧреЗрдо рдореЗрдВ рдХрд╕реНрдЯрдо рдЬрд╛рд╡рд╛ рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a></li>
<li><a href="../hi416081/index.html">рд╣реИрдмрд░ рдХреА рд╡рд╛рдкрд╕реА рдХреЗ рд╕рд╛рде рдЕрднреА рднреА рдХреБрдЫ рдЧрд▓рдд рд╣реИ</a></li>
<li><a href="../hi416083/index.html">рджрдХреНрд╖рддрд╛ рдХреЗ рд▓рд┐рдП рдореЗрд░реЗ рдирд┐рдпрдо: рдХрд╛рд░реНрдпреЛрдВ, рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ, рдкреБрд╕реНрддрдХреЛрдВ рдФрд░ рдиреЛрдЯреНрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>