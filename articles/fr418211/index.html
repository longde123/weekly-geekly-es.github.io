<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👇 👎🏼 👐🏼 Cours MIT "Sécurité des systèmes informatiques". Conférence 4: «Partager les privilèges», partie 3 🎗️ ↘️ 🙍🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 4: «Partager les privilèges», partie 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418211/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 4: «Séparation des privilèges» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  Ainsi, notre dessin représente une «œuvre d'art», que ses créateurs ont essayé de protéger contre les menaces.  Dans leur cas, je pense qu'ils étaient très inquiets, car en créant le <b>site de</b> rencontres <b>okcupid.com</b> , ils voulaient vraiment s'assurer que la réputation des utilisateurs du site ne serait pas affectée par la divulgation des données personnelles.  D'après une conversation avec l'un des développeurs du site qui a écrit l'article à ce sujet, il est connu qu'ils n'ont pas été réellement compromis.  Au moins, aucune fuite de données due à l'utilisation de l'architecture <b>OKWS</b> et en partie due à la surveillance d'activités malveillantes ne s'est produite. <br><br>  La raison pour laquelle les gens ne décomposent pas leurs applications en composants plus petits est que ce processus demande un certain effort.  Il est nécessaire de sélectionner toutes les parties du code, de définir des interfaces claires entre elles et de décider à quelles données chaque composant doit avoir accès.  Si vous décidez d'implémenter une nouvelle fonction, vous devrez modifier les données auxquelles chaque composant du programme a accès, lui donner de nouveaux privilèges ou en sélectionner, etc.  C'est donc un processus assez long. <br><br><img src="https://habrastorage.org/webt/th/7c/nb/th7cnbytweb-shrbg6mai4qmhpw.jpeg"><br><br>  Essayons de comprendre comment le serveur Web est conçu, et peut-être une façon de le faire est de suivre comment la demande http est traitée par le serveur <b>OKWS</b> .  Donc, semblable à celui montré dans la figure précédente, nous avons un navigateur Web qui veut aller sur <b>okcupid.com</b> .  Les développeurs du projet de site ont imaginé qu'ils auraient un tas de machines, mais nous ne regarderons que l'interface du site où <b>OKWS</b> fonctionnera, et une autre machine en arrière-plan qui stockera la base de données.  Cette deuxième machine utilise <b>MySQL</b> car c'est un bon logiciel pour de nombreuses tâches.  Ils veulent vraiment protéger ces données car il est vraiment difficile d'accéder à un disque <b>brut</b> ou à une base de données avec des datagrammes bruts bruts. <br><br>  Alors, comment fonctionne la demande, comment la demande est-elle traitée par le serveur <b>OKWS</b> ?  Tout d'abord, il arrive et est traité par un processus appelé <b>okd</b> pour le répartiteur <b>OKWS</b> .  Il vérifie qu'il demande cette demande, puis fait deux ou trois choses.  Comme vous devrez peut-être d'abord enregistrer cette demande, il la redirige vers un composant appelé <b>oklogd</b> , après quoi vous devrez créer des modèles, et il peut être nécessaire de les créer avant même que la demande n'arrive.  Et il fait un autre composant appelé <b>pubd</b> . <br><br><img src="https://habrastorage.org/webt/wq/uz/o0/wquzo0-ivmzrydzbxgj_ckcecsw.jpeg"><br><br>  Et enfin, il y a un service spécifique auquel cette demande est envoyée, donc dans <b>okd</b> il y a un tableau de l'ensemble des services qu'il prend en charge.  Vraisemblablement, cette demande vient à l'un de ces services, donc après avoir examiné <b>okd</b> redirigera cette demande vers un processus de service <b>svc</b> spécifique.  Ce service fera exactement ce que la demande requiert, par exemple, abonner l'utilisateur à la newsletter, ou permettre de visualiser l'annuaire des utilisateurs d' <b>ocupid</b> , en utilisant la base de données, etc. <br><br>  Et pour cela, vous avez probablement besoin du service pour laisser les informations d'application dans le <b>journal des</b> composants <b>oklogd</b> .  Et à la fin de la journée, il devrait "parler" à la base de données.  Les créateurs du site ont implémenté ce processus de «communication» un peu différemment de ce qui se passe habituellement dans <b>Apache</b> , où vous communiquez simplement avec la base de données et émettez <b>des</b> requêtes <b>SQL</b> arbitraires.  Ils ont proposé ce concept de proxy de base de données, <b>dbproxy</b> , qui est situé en face de la <b>base de données MySQL</b> et accepte les demandes du service <b>svc</b> pour les exécuter.  Je pense que cette illustration montre essentiellement comment fonctionne <b>OKWS</b> . <br><br><img src="https://habrastorage.org/webt/e1/nb/be/e1nbbexq_wqwyqtsop6vnvlmfd0.jpeg"><br><br>  Il y a un autre composant qui initie tout cela, il s'appelle <b>okld</b> , et il est responsable du démarrage de tous les processus dans l'interface de ce serveur Web.  J'espère que certaines de ces choses vous semblent familières, car c'est exactement l'architecture qui a été prise en compte dans le laboratoire.  Il semble que ce soit un bon design.  Vous n'aviez pas <b>pubd</b> , <b>logd</b> et <b>dbproxy dans LR</b> , mais vous aviez <b>okd</b> et <b>svc</b> .  Vous avez des questions sur <b>OKWS</b> ? <br><br>  <b>Public:</b> avons-nous bien compris que <b>dbproxy</b> n'accepte pas les requêtes SQL, mais un type de requête différent? <br><br>  <b>Professeur:</b> oui, c'est ça!  À quoi ressemble cette interface?  Ils ne décrivent pas cela en détail, mais une chose que vous pourriez faire avec ce <b>dbproxy</b> est de stocker de nombreux arguments pour <b>les</b> modèles de requête <b>SQL</b> .  Par exemple, il peut s'agir d'un modèle de requête de recherche pour vos amis, en les sélectionnant par <b>ID</b> . <br><br><img src="https://habrastorage.org/webt/0e/fv/33/0efv33jbe-yuwdw82mwqzxof_xc.jpeg"><br><br>  Supposons qu'il existe un modèle comme «sélectionnez <b>^ ID</b> dans votre liste d'amis, où <b>^ ID =«% S »</b> .  Supposons que vous souhaitiez retrouver <b>Alice</b> parmi vos amis et envoyer une requête <b>S</b> , où l'argument est <b>«alice»</b> .  Faites savoir à notre application, disponible dans l'interface, que <b>dbproxy est</b> prêt à exécuter trois types de requêtes en son nom.  Si vous souhaitez exécuter la requête n ° 1 et que son argument est <b>"Alice"</b> , cela vous donne accès à la base de données. <br><br>  <b>Public:</b> un utilisateur externe au niveau d'un navigateur Web peut-il envoyer une telle demande à la base de données ou tout cela ne s'applique-t-il qu'aux utilisateurs internes du réseau? <br><br>  <b>Professeur:</b> oui, peut-être.  Alors comment ça marche?  En fait, il est étrange que cette base de données se trouve sur une machine distincte, car vous pourriez simplement vous connecter à la base de données <b>OKWS</b> ou au serveur <b>MySQL</b> ?  Alors qu'est-ce qui arrête ça? <br><br>  <b>Public:</b> pare-feu? <br><br>  <b>Professeur:</b> oui, probablement à un certain niveau.  Les développeurs ne décrivent pas cela trop en détail, mais il y a probablement un réseau interne sur la deuxième machine, et il y a un basculement entre l'interface et la base de données qui ne peut pas être atteint du monde extérieur.  En fait, les deux machines sont sur le même réseau, mais il existe un pare-feu <b>Fw</b> qui a certaines règles.  Peut-être que vous ne pouvez vous connecter à cet ordinateur d'interface que par le port 80, mais pas directement au serveur interne.  C'est l'une des options de protection. <br><br><img src="https://habrastorage.org/webt/uu/lq/pt/uulqptu9yvouev1n-gdwegusujc.jpeg"><br><br>  Un autre, probablement, est que lorsque vous vous connectez à ce <b>proxy de</b> base de données <b>dbproxy</b> , vous devez fournir un jeton cryptographique de 20 octets, ou clé, et si vous ne le fournissez pas, <b>dbproxy</b> rejettera votre connexion.  La règle est donc que vous ouvrez une connexion TCP, envoyez vos 20 octets, et s'ils sont incorrects, la connexion se ferme.  C'est, je pense, le sens d'une telle conception de système. <br><br>  Essayons donc de découvrir comment ces différents processus sont isolés ici.  Comment pouvez-vous vous assurer que tous ces composants ne se submergent pas? <br><br>  <b>Public:</b> différents droits root et différents ID utilisateur? <br><br>  <b>Professeur:</b> oui, presque chacun de ces composants fonctionne comme un <b>uid</b> différent, donc ici, dans la description du système, il y a un tableau complet qui décrit pour chaque composant où il fonctionne et avec quel <b>uid</b> .  Nous pouvons donc écrire que <b>okd</b> a son propre <b>uid</b> , <b>pubd</b> a son propre <b>uid</b> et <b>oklogd a</b> également son propre <b>uid</b> . <br><br>  <b>Okld</b> fonctionne en tant que <b>root</b> , ce qui est plutôt infructueux, mais ce n'est peut-être pas un gros problème.  Ensuite, il y a tout un tas d'identifiants d'utilisateurs attribués dynamiquement pour chaque service, par exemple l'ID 51001, etc. <br><br><img src="https://habrastorage.org/webt/hc/bp/bj/hcbpbjjrkwqqhtdun36v3fm7b_s.jpeg"><br><br>  Ainsi, cela garantit que chaque service ne peut pas interférer avec les processus des autres services.  <b>Chroot est</b> également largement utilisé ici, donc certains de ces composants ont des droits de <b>chroot</b> dans des répertoires séparés.  Par exemple, <b>okd</b> et <b>svc</b> sont dotés de droits de <b>chroot</b> communs dans certains répertoires.  Pourquoi pensez-vous que ces deux composants ont un séparé et pas commun avec d'autres composants <b>chroot</b> ? <br><br>  <b>Public:</b> car <b>okd</b> n'a pas de privilèges root. <br><br>  <b>Professeur:</b> oui, mais pourquoi ne mettent-ils pas <b>pubd</b> , <b>oklogd</b> et tout le monde dans le même <b>chroot</b> ? <br><br>  <b>Public: est-</b> il possible que si les services ont besoin de partager beaucoup de données, devraient-ils être isolés les uns des autres? <br><br>  <b>Professeur:</b> peut <b>-</b> être.  Je pense qu'ils devraient partager certaines données, mais ces données ne sont pas dans les fichiers, elles sont transférées via des sockets de <b>okd</b> aux services.  Mais en fait, aucun de ces composants ne stocke quelque chose d'intéressant dans le système de fichiers. <br><br>  Par conséquent, il n'y a rien d'intéressant dans le répertoire <b>chroot</b> , et je pense que les gars d' <b>OKWS ont</b> simplement décidé de réduire les dépenses improductives pour <b>chroot</b> , comme la nécessité de créer une copie du répertoire.  Peut-être voulaient-ils également se débarrasser de certains frais généraux de gestion pour chaque commande <b>chroot</b> .  Mais comme il n'y a pas de vrais fichiers ici, alors tout est en ordre. <br><br>  La raison pour laquelle ces gars-là ont attribué un <b>chroot</b> différent pour les composants d'environnement est à cause de certaines choses intéressantes.  Il peut y avoir des modèles, mais ici, peut-être, il y a un fichier journal, donc ils ne voudraient pas que le fichier journal soit lu accidentellement, etc. <br><br>  <b>Public:</b> ces services ont-ils des fichiers, par exemple, comme <b>aspx</b> ? <br><br>  <b>Professeur:</b> comme ils le décrivent dans l'article, le service est un seul binaire <b>C ++</b> compilé, donc en fait il n'y a pas de fichiers supplémentaires. <br><br>  Il existe des modèles, mais ils sont vraiment transmis par ce mécanisme étrange: <b>pubd</b> a des modèles dans son répertoire, il les affiche dans certains pré-ordinateurs, sous forme d'accueil dans <b>okd</b> , et <b>okd</b> fournit déjà des modèles pour tous les services via des appels <b>RPC</b> .  Ainsi, ils restent en mémoire, mais sont en fait inaccessibles directement via le système de fichiers.  C'est une conception un peu paranoïaque quand je ne peux même pas lire les modèles. <br>  Alors, quel est l'intérêt de séparer tous ces composants?  Pourquoi avons-nous besoin d'un <b>oklogd</b> distinct? <br><br>  <b>Public:</b> pour éliminer la possibilité d'écraser ou de rogner le journal? <br><br>  <b>Professeur:</b> oui, donc nous voulons vraiment nous assurer que si quelque chose ne va pas, le journal, au moins, ne sera pas corrompu.  Par conséquent, il existe un fichier journal distinct accessible en écriture par cet <b>uid</b> , et tous les messages de journal sont envoyés en tant que <b>RPC</b> pour ce service de journal.  Et même si tout le reste est ruiné, eh bien, à l'exception de <b>okld</b> , le magazine restera indemne. <br><br>  <b>Public:</b> que se passe-t-il si vous avez accidentellement trouvé un moyen de lire le magazine et ne voyez pas ce que les autres en ont fait? <br><br>  <b>Professeur:</b> non, je pense que si vous "piratez" un service, un <b>pubd</b> ou autre chose, vous pouvez écrire n'importe quoi dans le journal.  Par conséquent, la création d'une <b>entrée oklogd</b> distincte est logique.  En fait, <b>oklogd</b> est un processus distinct, et pas seulement mis à jour en joignant des fichiers en tant <b>que fichier à ajouter uniquement</b> .  Ainsi, <b>oklogd</b> ne peut pas ajouter d'informations supplémentaires à chaque entrée de journal, car si le système d'exploitation prend en charge le fichier à <b>ajouter uniquement</b> , vous ne saurez pas que quelqu'un a écrit dans le fichier lorsque cela se produit.  Tandis <b>qu'oklogd</b> met un horodatage pour chaque message et vous permet de savoir quel service a effectué l'enregistrement ou s'il provient d' <b>okd</b> .  Par conséquent, vous obtenez réellement des informations supplémentaires dans ce fichier journal car il s'agit d'un service distinct. <br><br>  Et quelle est la signification de la séparation <b>okld</b> et pourquoi devrait-elle fonctionner avec les droits root?  Je pense qu'il y a plusieurs raisons à cela. <br><br>  Public: si vous voulez que personne d'autre n'agisse avec les privilèges root, vous devez déléguer la <b>fonction</b> d'authentification utilisateur <b>okld</b> . <br><br><img src="https://habrastorage.org/webt/xg/c2/p0/xgc2p0qzezaptmg1jagd1l3koxi.jpeg"><br><br>  <b>Professeur:</b> oui.  Quelqu'un doit configurer tout cela <b>chroot uid</b> , et vous avez besoin de <b>root</b> pour cet <b>Unix</b> , donc <b>okld</b> fournit cela.  C’est une des raisons.  Autre chose? <br><br>  <b>Public:</b> définition de 80 ports? <br><br>  <b>Professeur:</b> oui, bien sûr!  Vous devez lier l'écoute au port 80, qui est <b>okld</b> et fournit autre chose? <br><br>  <b>Public:</b> il termine l'ouverture du fichier journal <b>oklogd</b> car nous ne voulons pas laisser <b>oklogd</b> ouvert pour empêcher l'accès au fichier journal. <br><br>  <b>Professeur:</b> peut <b>-</b> être.  Mais je ne sais pas si les développeurs l'ont vraiment fait parce qu'ils n'ont pas regardé leur code source.  Pensez-vous que <b>okld</b> ouvre le fichier journal et le transmet <b>oklogd</b> ?  C'est possible. <br><br>  <b>Public:</b> car sinon, un attaquant qui aurait compromis <b>oklogd</b> pourrait effacer l'intégralité du journal. <br><br>  <b>Professeur:</b> oui, c'est vrai.  Vous souhaitez peut-être l'ouvrir en mode <b>ajout</b> , puis le passer <b>oklogd</b> , puis vous avez plus de garanties de sécurité pour le journal.  C'est quelque chose que vous ne pouvez pas faire sans privilèges root. <br><br>  Donc, nous avions une question sur les devoirs, que se passera-t-il lorsque ce jeton de 20 octets sera «divulgué» pour accéder à la base de données.  Quels dommages cela peut-il causer?  Faut-il s'en inquiéter? <br><br>  <b>Public:</b> dans ce cas, un attaquant peut prendre le contrôle d'un service particulier. <br><br>  <b>Professeur:</b> oui, c'est vrai, car maintenant vous pouvez vous connecter et obtenir tous les modèles de requête.  Cela semble en fait assez simple.  Vous devrez probablement compromettre l'un de ces composants afin de pouvoir vous connecter à la base de données du serveur en premier.  Je pense donc que si vous avez ce jeton et que vous pouvez compromettre l'un de ces composants illustrés dans la figure, vous pouvez utiliser toutes ces requêtes. <br><br>  Voyons maintenant comment cette conception <b>OKWS</b> peut être améliorée?  Par exemple, vous pouvez allouer une unité <b>uid</b> distincte pour chaque utilisateur, sauf pour allouer un <b>uid</b> distinct pour chaque service.  Ici, chaque service, par exemple les actualités, la recherche d'amis ou la création d'un compte, a un <b>ID utilisateur</b> distinct, mais chaque utilisateur <b>OKWS n'est</b> pas représenté comme un <b>UID</b> <b>Unix</b> .  En fait, il n'y a pas d' <b>ID utilisateur</b> ici, seuls les <b>ID de</b> service sont présents ici.  Pensez-vous que vous devez avoir un <b>uid</b> différent pour chaque client <b>OKWS</b> ? <br><br>  <b>Public:</b> dans ce cas, il s'avère que si un utilisateur «pirate» un service, il pourra accéder à toutes les données des autres utilisateurs de ce serveur. <br><br>  <b>Professeur:</b> oui, c'est vrai! <br><br>  <b>Public:</b> mais si vous aviez, en fait, un service et un <b>dbproxy</b> distincts pour chaque utilisateur, il serait impossible d'accéder aux données des autres. <br><br>  <b>Professeur:</b> oui, mais cela pourrait-il être un modèle plus fort?  Je pense que les développeurs <b>OKWS</b> ne prennent pas une telle mesure pour deux raisons.  Le premier est la performance.  Si vous avez quelques millions d'utilisateurs du site <b>okcupid</b> , plusieurs millions de processus en cours d'exécution et quelques millions de <b>dbproxie</b> , des <b>surcoûts de</b> performances sont possibles.  Et cela ne permettra pas d'atteindre les mêmes performances que celles <b>fournies par l'</b> architecture <b>OKWS</b> existante. <br><br>  <b>Public: la</b> description <b>OKWS</b> indique que les performances de ce système sont meilleures que celles des autres systèmes.  Comment cela a-t-il été réalisé? <br><br>  <b>Professeur:</b> Je pense que c'est en partie parce qu'ils ont affiné leur conception à une charge de travail spécifique, en plus, ils ont écrit tout cela en <b>C ++</b> .  Une alternative est d'écrire certaines choses en <b>PHP</b> , alors vous obtiendrez probablement des avantages sur ce front. <br><br>  De plus, ils n'ont pas beaucoup des fonctionnalités d' <b>Apache</b> .  Il a une conception polyvalente, il a donc de nombreux processus de travail et il les recharge de temps en temps.  Il existe de nombreuses connexions <b>TTP</b> qui garantissent la durée du processus de connexion et maintiennent leur activité.  Il augmente également le nombre de processus en cours d'exécution sur le système.  <b>Apache a été</b> rendu plus universel et peut faire tout ce que vous souhaitez obtenir du serveur Internet, et les gars d' <b>OKWS sont</b> plus concentrés sur la résolution de problèmes spécifiques. <br><br>  Mais je pense qu'il existe d'autres serveurs Web de nos <b>jours</b> qui peuvent probablement correspondre <b>aux</b> performances <b>OKWS</b> .  Par exemple, <b>Nginx</b> est un serveur Web très optimisé que vous pouvez exécuter de nos jours.  Si vous souhaitez des applications hautes performances côté serveur, vous souhaiterez probablement que le long processus soit très similaire au service <b>OKWS</b> .  Et pour qu'il ait un mécanisme pour une interface de passerelle <b>CGI</b> commune rapide pour connecter un programme externe à un serveur Web, ou une sorte de protocole qui pourrait être utilisé côté serveur pour l'implémenter même dans <b>Apache</b> ou <b>Nginx</b> .  Par conséquent, je pense que beaucoup de ces idées ne sont pas exclusives à <b>OKWS</b> , elles peuvent être implémentées dans d'autres serveurs Web.  Ils montrent simplement que l'amélioration de la sécurité n'empêche pas l'utilisation de ces «astuces».  Je pense qu'ils ont commencé avec un schéma similaire à <b>Apache</b> , mais pensaient que ce ne serait pas assez sûr. <br><br>  Je pense donc que l'une des raisons pour lesquelles les créateurs d' <b>OKWS</b> n'ont pas voulu introduire de privilèges distincts pour les utilisateurs était une possible dégradation des performances. <br><br><img src="https://habrastorage.org/webt/ai/s9/zb/ais9zbrgrmnoslcojxk0jacxdyc.jpeg"><br><br>  Une autre raison est que leur modèle d'application complet «tourne» autour d'un service qui essaie d'accéder aux données de chaque utilisateur, comme trouver des amis sur <b>okcupid</b> ou quelqu'un que vous pouvez inviter à une date.  Par conséquent, ce modèle d'isolement des utilisateurs n'a pas beaucoup de sens, car, en fin de compte, il devrait y avoir un service pour lequel vous envoyez une demande, et il examinera toutes les autres données pour trouver une correspondance pour votre demande.  Donc, même si vous avez des identifiants utilisateur ou un mécanisme pour les isoler, vous devez toujours ouvrir l'accès au service pour chaque utilisateur. <br><br>  Pour d'autres services, tels que <b>Gmail</b> ou <b>Dropbox</b> , qui sont beaucoup plus axés sur un utilisateur spécifique et ne fournissent pas une capacité ouverte de partager leurs fichiers, l'isolement des utilisateurs peut offrir plus d'avantages.  Par exemple, sur le serveur <b>Dropbox,</b> il existe un <b>ID utilisateur</b> pour chaque client <b>Dropbox</b> .  Et s'il y a un processus en cours pour vous et un processus en cours pour quelqu'un d'autre, alors même en utilisant un exploit malveillant, vous ne pourrez pas mettre la main sur les informations des autres. <br>  Voyons maintenant si <b>OKWS a vraiment</b> réussi à améliorer la sécurité dans un tel modèle de serveur.  Pour évaluer la sécurité, vous devez considérer chaque composant du système et déterminer quel type d'attaques pourrait lui nuire. <br><br>  Commençons par <b>okd</b> .  Il peut être attaqué avec des requêtes via le navigateur, par exemple, provoquant un débordement de tampon.       c++,  ,       - ,   <b>okd</b>  .      ? <br><br><img src="https://habrastorage.org/webt/qz/md/d9/qzmdd9xheqlsc2fpbgs4e5to3_i.jpeg"><br><br> <b>:</b>        ? <br><br> <b>:</b> ,  ,      .   ? <br><br> <b>:</b>       ,  . <br><br> <b>:</b> ,  .  , ,       ,        <b>http</b> ,   ,   ,     .  ,     . <br><br> <b>:</b>           ? <br><br> <b>:</b> ,       .    ,  ,      ,        , ,  <b>match.com</b>    . , ,      <b>OkCupid</b> . , - ?          ? <br><br> <b>:</b> ,    ,      <b>okd</b> .           ,    ? <br><br> <b>:</b> .   , <b>okd</b>     . <br><br> <b>:</b> ,     ? <br><br> <b>:</b> !      ,      , , ,      ,   .      ,   , ,   ,      . , ,   .   «» <b>okd</b> ,     ,     ,         . <br><br> <b>:</b>         DOS-? <br><br> <b>:</b> ,  , , «»       «»  ,   DOS-    -   . <br><br> <b>:</b>       <b>okd</b> ,     ,  … <br><br> <b>:</b> ,  .  ,   , <b>okd</b>    ,         <b>okd</b> ,     .     <b>okd</b> ,           .  ,    <b>okd</b>  ,       ,      ,   ,            . <br><br> <b>:</b>          . <br><br> <b>:</b> ,    .  , <b>okd</b>     .   ,    <b>oklogd</b> ?    ? <br><br> <b>:</b>      . <br><br> <b>:</b> ,          ,             ,   ?       <b>pubd</b> ,  ,     ,  -  . <br><br> <b>:</b> ,    ,   «»  <b>oklogd</b> . <br><br> <b>:</b> ,  .      ,      ,   <b>append-only</b>    ,        . <br><br> <b>:</b> ,      … <br><br> <b>:</b> ,        ,   .          . <br><br>     <b>svc</b> ? ,  ,   .       , ,   <b>okd</b>  <b>oklogd</b>    .         ,  ,        . <br><br>   <b>svc</b>  - -,        ,       ,         .   ,         ,        ,       . <br><br>      <b>okld</b> ?       ,      root.       ? ,       .           <b>dbproxy</b> .    <b>okld</b> ?      «»?    ? <br><br> <b>:</b> ,  -   ? <br><br> <b>:</b> ,       .          ,    ,       . ,        ,  -    ,     , ,     -    .         -     .          root-   . <br><br> <b>:</b> -,    ,     -   <b>dbproxy</b> . <br><br> <b>:</b> ! <br><br> <b>:</b>  ,     ,  ,     <b>RPC</b> ,       ,     ,     ,  ,   !      . <br><br><img src="https://habrastorage.org/webt/qs/cu/x6/qscux6nxwgoo9wqu10wj04npz38.jpeg"><br><br> <b>:</b> ,    .       <b>dbproxy</b> ?  ,            .   ,   «»   ,      <b>dbproxy</b>  - . <br><br> <b>:</b>      ,   <b>svc</b>  … <br><br> <b>:</b> ,  <b>svc</b>   ,     ! <br><br> <b>:</b>  ,    ,     ! <br><br> <b>:</b>  ,  ,      <b>«»</b> ,       … <br><br> <b>:</b>   <b></b>     <b>dbproxy</b> . <br><br> <b>:</b> . ,      <b>dbproxy</b> ,   . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'espère que vous comprenez ce que le partage des privilèges d'application nous donne. </font><font style="vertical-align: inherit;">Et comme nous pouvons le voir, ce n'est pas parfait. </font><font style="vertical-align: inherit;">Il y a beaucoup d'autres choses qui peuvent mal tourner. </font><font style="vertical-align: inherit;">Mais il semble que cette solution soit en tout cas meilleure que la conception d'applications individuelles sans privilèges d'accès, là où nous avons commencé.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dNl22h1kW1k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La version complète du cours est disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418211/">https://habr.com/ru/post/fr418211/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418201/index.html">Pouvons-nous relancer Duck Hunt?</a></li>
<li><a href="../fr418203/index.html">API GraphQL (CRUD) sur Go</a></li>
<li><a href="../fr418205/index.html">Space Language Vol.2: Bienvenue, GJ273b</a></li>
<li><a href="../fr418207/index.html">Examen des ordinateurs portables de jeu ASUS ROG Strix GL504GS SCAR II et ASUS ROG Strix GL504GM HERO II</a></li>
<li><a href="../fr418209/index.html">Nous recevons des données des compteurs Mercury 203.2T sur RS-485</a></li>
<li><a href="../fr418213/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 5: «D'où viennent les systèmes de sécurité», partie 1</a></li>
<li><a href="../fr418215/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 5: «D'où viennent les erreurs du système de sécurité», partie 2</a></li>
<li><a href="../fr418217/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 6: «Opportunités», partie 1</a></li>
<li><a href="../fr418219/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 6: Opportunités, partie 2</a></li>
<li><a href="../fr418221/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 6: «Opportunités», partie 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>