<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘‡ ğŸ‘ğŸ¼ ğŸ‘ğŸ¼ Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 4: Â«Partager les privilÃ¨gesÂ», partie 3 ğŸ—ï¸ â†˜ï¸ ğŸ™ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "SÃ©curitÃ© des systÃ¨mes informatiques." Nikolai Zeldovich, James Mickens. 2014 annÃ©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 4: Â«Partager les privilÃ¨gesÂ», partie 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418211/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "SÃ©curitÃ© des systÃ¨mes informatiques."  Nikolai Zeldovich, James Mickens.  2014 annÃ©e </h3><br>  Computer Systems Security est un cours sur le dÃ©veloppement et la mise en Å“uvre de systÃ¨mes informatiques sÃ©curisÃ©s.  Les confÃ©rences couvrent les modÃ¨les de menace, les attaques qui compromettent la sÃ©curitÃ© et les techniques de sÃ©curitÃ© basÃ©es sur des travaux scientifiques rÃ©cents.  Les sujets incluent la sÃ©curitÃ© du systÃ¨me d'exploitation (OS), les fonctionnalitÃ©s, la gestion du flux d'informations, la sÃ©curitÃ© des langues, les protocoles rÃ©seau, la sÃ©curitÃ© matÃ©rielle et la sÃ©curitÃ© des applications Web. <br><br>  Cours 1: Â«Introduction: modÃ¨les de menaceÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 2: Â«ContrÃ´le des attaques de piratesÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 3: Â«DÃ©bordements de tampon: exploits et protectionÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 4: Â«SÃ©paration des privilÃ¨gesÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  Ainsi, notre dessin reprÃ©sente une Â«Å“uvre d'artÂ», que ses crÃ©ateurs ont essayÃ© de protÃ©ger contre les menaces.  Dans leur cas, je pense qu'ils Ã©taient trÃ¨s inquiets, car en crÃ©ant le <b>site de</b> rencontres <b>okcupid.com</b> , ils voulaient vraiment s'assurer que la rÃ©putation des utilisateurs du site ne serait pas affectÃ©e par la divulgation des donnÃ©es personnelles.  D'aprÃ¨s une conversation avec l'un des dÃ©veloppeurs du site qui a Ã©crit l'article Ã  ce sujet, il est connu qu'ils n'ont pas Ã©tÃ© rÃ©ellement compromis.  Au moins, aucune fuite de donnÃ©es due Ã  l'utilisation de l'architecture <b>OKWS</b> et en partie due Ã  la surveillance d'activitÃ©s malveillantes ne s'est produite. <br><br>  La raison pour laquelle les gens ne dÃ©composent pas leurs applications en composants plus petits est que ce processus demande un certain effort.  Il est nÃ©cessaire de sÃ©lectionner toutes les parties du code, de dÃ©finir des interfaces claires entre elles et de dÃ©cider Ã  quelles donnÃ©es chaque composant doit avoir accÃ¨s.  Si vous dÃ©cidez d'implÃ©menter une nouvelle fonction, vous devrez modifier les donnÃ©es auxquelles chaque composant du programme a accÃ¨s, lui donner de nouveaux privilÃ¨ges ou en sÃ©lectionner, etc.  C'est donc un processus assez long. <br><br><img src="https://habrastorage.org/webt/th/7c/nb/th7cnbytweb-shrbg6mai4qmhpw.jpeg"><br><br>  Essayons de comprendre comment le serveur Web est conÃ§u, et peut-Ãªtre une faÃ§on de le faire est de suivre comment la demande http est traitÃ©e par le serveur <b>OKWS</b> .  Donc, semblable Ã  celui montrÃ© dans la figure prÃ©cÃ©dente, nous avons un navigateur Web qui veut aller sur <b>okcupid.com</b> .  Les dÃ©veloppeurs du projet de site ont imaginÃ© qu'ils auraient un tas de machines, mais nous ne regarderons que l'interface du site oÃ¹ <b>OKWS</b> fonctionnera, et une autre machine en arriÃ¨re-plan qui stockera la base de donnÃ©es.  Cette deuxiÃ¨me machine utilise <b>MySQL</b> car c'est un bon logiciel pour de nombreuses tÃ¢ches.  Ils veulent vraiment protÃ©ger ces donnÃ©es car il est vraiment difficile d'accÃ©der Ã  un disque <b>brut</b> ou Ã  une base de donnÃ©es avec des datagrammes bruts bruts. <br><br>  Alors, comment fonctionne la demande, comment la demande est-elle traitÃ©e par le serveur <b>OKWS</b> ?  Tout d'abord, il arrive et est traitÃ© par un processus appelÃ© <b>okd</b> pour le rÃ©partiteur <b>OKWS</b> .  Il vÃ©rifie qu'il demande cette demande, puis fait deux ou trois choses.  Comme vous devrez peut-Ãªtre d'abord enregistrer cette demande, il la redirige vers un composant appelÃ© <b>oklogd</b> , aprÃ¨s quoi vous devrez crÃ©er des modÃ¨les, et il peut Ãªtre nÃ©cessaire de les crÃ©er avant mÃªme que la demande n'arrive.  Et il fait un autre composant appelÃ© <b>pubd</b> . <br><br><img src="https://habrastorage.org/webt/wq/uz/o0/wquzo0-ivmzrydzbxgj_ckcecsw.jpeg"><br><br>  Et enfin, il y a un service spÃ©cifique auquel cette demande est envoyÃ©e, donc dans <b>okd</b> il y a un tableau de l'ensemble des services qu'il prend en charge.  Vraisemblablement, cette demande vient Ã  l'un de ces services, donc aprÃ¨s avoir examinÃ© <b>okd</b> redirigera cette demande vers un processus de service <b>svc</b> spÃ©cifique.  Ce service fera exactement ce que la demande requiert, par exemple, abonner l'utilisateur Ã  la newsletter, ou permettre de visualiser l'annuaire des utilisateurs d' <b>ocupid</b> , en utilisant la base de donnÃ©es, etc. <br><br>  Et pour cela, vous avez probablement besoin du service pour laisser les informations d'application dans le <b>journal des</b> composants <b>oklogd</b> .  Et Ã  la fin de la journÃ©e, il devrait "parler" Ã  la base de donnÃ©es.  Les crÃ©ateurs du site ont implÃ©mentÃ© ce processus de Â«communicationÂ» un peu diffÃ©remment de ce qui se passe habituellement dans <b>Apache</b> , oÃ¹ vous communiquez simplement avec la base de donnÃ©es et Ã©mettez <b>des</b> requÃªtes <b>SQL</b> arbitraires.  Ils ont proposÃ© ce concept de proxy de base de donnÃ©es, <b>dbproxy</b> , qui est situÃ© en face de la <b>base de donnÃ©es MySQL</b> et accepte les demandes du service <b>svc</b> pour les exÃ©cuter.  Je pense que cette illustration montre essentiellement comment fonctionne <b>OKWS</b> . <br><br><img src="https://habrastorage.org/webt/e1/nb/be/e1nbbexq_wqwyqtsop6vnvlmfd0.jpeg"><br><br>  Il y a un autre composant qui initie tout cela, il s'appelle <b>okld</b> , et il est responsable du dÃ©marrage de tous les processus dans l'interface de ce serveur Web.  J'espÃ¨re que certaines de ces choses vous semblent familiÃ¨res, car c'est exactement l'architecture qui a Ã©tÃ© prise en compte dans le laboratoire.  Il semble que ce soit un bon design.  Vous n'aviez pas <b>pubd</b> , <b>logd</b> et <b>dbproxy dans LR</b> , mais vous aviez <b>okd</b> et <b>svc</b> .  Vous avez des questions sur <b>OKWS</b> ? <br><br>  <b>Public:</b> avons-nous bien compris que <b>dbproxy</b> n'accepte pas les requÃªtes SQL, mais un type de requÃªte diffÃ©rent? <br><br>  <b>Professeur:</b> oui, c'est Ã§a!  Ã€ quoi ressemble cette interface?  Ils ne dÃ©crivent pas cela en dÃ©tail, mais une chose que vous pourriez faire avec ce <b>dbproxy</b> est de stocker de nombreux arguments pour <b>les</b> modÃ¨les de requÃªte <b>SQL</b> .  Par exemple, il peut s'agir d'un modÃ¨le de requÃªte de recherche pour vos amis, en les sÃ©lectionnant par <b>ID</b> . <br><br><img src="https://habrastorage.org/webt/0e/fv/33/0efv33jbe-yuwdw82mwqzxof_xc.jpeg"><br><br>  Supposons qu'il existe un modÃ¨le comme Â«sÃ©lectionnez <b>^ ID</b> dans votre liste d'amis, oÃ¹ <b>^ ID =Â«% S Â»</b> .  Supposons que vous souhaitiez retrouver <b>Alice</b> parmi vos amis et envoyer une requÃªte <b>S</b> , oÃ¹ l'argument est <b>Â«aliceÂ»</b> .  Faites savoir Ã  notre application, disponible dans l'interface, que <b>dbproxy est</b> prÃªt Ã  exÃ©cuter trois types de requÃªtes en son nom.  Si vous souhaitez exÃ©cuter la requÃªte n Â° 1 et que son argument est <b>"Alice"</b> , cela vous donne accÃ¨s Ã  la base de donnÃ©es. <br><br>  <b>Public:</b> un utilisateur externe au niveau d'un navigateur Web peut-il envoyer une telle demande Ã  la base de donnÃ©es ou tout cela ne s'applique-t-il qu'aux utilisateurs internes du rÃ©seau? <br><br>  <b>Professeur:</b> oui, peut-Ãªtre.  Alors comment Ã§a marche?  En fait, il est Ã©trange que cette base de donnÃ©es se trouve sur une machine distincte, car vous pourriez simplement vous connecter Ã  la base de donnÃ©es <b>OKWS</b> ou au serveur <b>MySQL</b> ?  Alors qu'est-ce qui arrÃªte Ã§a? <br><br>  <b>Public:</b> pare-feu? <br><br>  <b>Professeur:</b> oui, probablement Ã  un certain niveau.  Les dÃ©veloppeurs ne dÃ©crivent pas cela trop en dÃ©tail, mais il y a probablement un rÃ©seau interne sur la deuxiÃ¨me machine, et il y a un basculement entre l'interface et la base de donnÃ©es qui ne peut pas Ãªtre atteint du monde extÃ©rieur.  En fait, les deux machines sont sur le mÃªme rÃ©seau, mais il existe un pare-feu <b>Fw</b> qui a certaines rÃ¨gles.  Peut-Ãªtre que vous ne pouvez vous connecter Ã  cet ordinateur d'interface que par le port 80, mais pas directement au serveur interne.  C'est l'une des options de protection. <br><br><img src="https://habrastorage.org/webt/uu/lq/pt/uulqptu9yvouev1n-gdwegusujc.jpeg"><br><br>  Un autre, probablement, est que lorsque vous vous connectez Ã  ce <b>proxy de</b> base de donnÃ©es <b>dbproxy</b> , vous devez fournir un jeton cryptographique de 20 octets, ou clÃ©, et si vous ne le fournissez pas, <b>dbproxy</b> rejettera votre connexion.  La rÃ¨gle est donc que vous ouvrez une connexion TCP, envoyez vos 20 octets, et s'ils sont incorrects, la connexion se ferme.  C'est, je pense, le sens d'une telle conception de systÃ¨me. <br><br>  Essayons donc de dÃ©couvrir comment ces diffÃ©rents processus sont isolÃ©s ici.  Comment pouvez-vous vous assurer que tous ces composants ne se submergent pas? <br><br>  <b>Public:</b> diffÃ©rents droits root et diffÃ©rents ID utilisateur? <br><br>  <b>Professeur:</b> oui, presque chacun de ces composants fonctionne comme un <b>uid</b> diffÃ©rent, donc ici, dans la description du systÃ¨me, il y a un tableau complet qui dÃ©crit pour chaque composant oÃ¹ il fonctionne et avec quel <b>uid</b> .  Nous pouvons donc Ã©crire que <b>okd</b> a son propre <b>uid</b> , <b>pubd</b> a son propre <b>uid</b> et <b>oklogd a</b> Ã©galement son propre <b>uid</b> . <br><br>  <b>Okld</b> fonctionne en tant que <b>root</b> , ce qui est plutÃ´t infructueux, mais ce n'est peut-Ãªtre pas un gros problÃ¨me.  Ensuite, il y a tout un tas d'identifiants d'utilisateurs attribuÃ©s dynamiquement pour chaque service, par exemple l'ID 51001, etc. <br><br><img src="https://habrastorage.org/webt/hc/bp/bj/hcbpbjjrkwqqhtdun36v3fm7b_s.jpeg"><br><br>  Ainsi, cela garantit que chaque service ne peut pas interfÃ©rer avec les processus des autres services.  <b>Chroot est</b> Ã©galement largement utilisÃ© ici, donc certains de ces composants ont des droits de <b>chroot</b> dans des rÃ©pertoires sÃ©parÃ©s.  Par exemple, <b>okd</b> et <b>svc</b> sont dotÃ©s de droits de <b>chroot</b> communs dans certains rÃ©pertoires.  Pourquoi pensez-vous que ces deux composants ont un sÃ©parÃ© et pas commun avec d'autres composants <b>chroot</b> ? <br><br>  <b>Public:</b> car <b>okd</b> n'a pas de privilÃ¨ges root. <br><br>  <b>Professeur:</b> oui, mais pourquoi ne mettent-ils pas <b>pubd</b> , <b>oklogd</b> et tout le monde dans le mÃªme <b>chroot</b> ? <br><br>  <b>Public: est-</b> il possible que si les services ont besoin de partager beaucoup de donnÃ©es, devraient-ils Ãªtre isolÃ©s les uns des autres? <br><br>  <b>Professeur:</b> peut <b>-</b> Ãªtre.  Je pense qu'ils devraient partager certaines donnÃ©es, mais ces donnÃ©es ne sont pas dans les fichiers, elles sont transfÃ©rÃ©es via des sockets de <b>okd</b> aux services.  Mais en fait, aucun de ces composants ne stocke quelque chose d'intÃ©ressant dans le systÃ¨me de fichiers. <br><br>  Par consÃ©quent, il n'y a rien d'intÃ©ressant dans le rÃ©pertoire <b>chroot</b> , et je pense que les gars d' <b>OKWS ont</b> simplement dÃ©cidÃ© de rÃ©duire les dÃ©penses improductives pour <b>chroot</b> , comme la nÃ©cessitÃ© de crÃ©er une copie du rÃ©pertoire.  Peut-Ãªtre voulaient-ils Ã©galement se dÃ©barrasser de certains frais gÃ©nÃ©raux de gestion pour chaque commande <b>chroot</b> .  Mais comme il n'y a pas de vrais fichiers ici, alors tout est en ordre. <br><br>  La raison pour laquelle ces gars-lÃ  ont attribuÃ© un <b>chroot</b> diffÃ©rent pour les composants d'environnement est Ã  cause de certaines choses intÃ©ressantes.  Il peut y avoir des modÃ¨les, mais ici, peut-Ãªtre, il y a un fichier journal, donc ils ne voudraient pas que le fichier journal soit lu accidentellement, etc. <br><br>  <b>Public:</b> ces services ont-ils des fichiers, par exemple, comme <b>aspx</b> ? <br><br>  <b>Professeur:</b> comme ils le dÃ©crivent dans l'article, le service est un seul binaire <b>C ++</b> compilÃ©, donc en fait il n'y a pas de fichiers supplÃ©mentaires. <br><br>  Il existe des modÃ¨les, mais ils sont vraiment transmis par ce mÃ©canisme Ã©trange: <b>pubd</b> a des modÃ¨les dans son rÃ©pertoire, il les affiche dans certains prÃ©-ordinateurs, sous forme d'accueil dans <b>okd</b> , et <b>okd</b> fournit dÃ©jÃ  des modÃ¨les pour tous les services via des appels <b>RPC</b> .  Ainsi, ils restent en mÃ©moire, mais sont en fait inaccessibles directement via le systÃ¨me de fichiers.  C'est une conception un peu paranoÃ¯aque quand je ne peux mÃªme pas lire les modÃ¨les. <br>  Alors, quel est l'intÃ©rÃªt de sÃ©parer tous ces composants?  Pourquoi avons-nous besoin d'un <b>oklogd</b> distinct? <br><br>  <b>Public:</b> pour Ã©liminer la possibilitÃ© d'Ã©craser ou de rogner le journal? <br><br>  <b>Professeur:</b> oui, donc nous voulons vraiment nous assurer que si quelque chose ne va pas, le journal, au moins, ne sera pas corrompu.  Par consÃ©quent, il existe un fichier journal distinct accessible en Ã©criture par cet <b>uid</b> , et tous les messages de journal sont envoyÃ©s en tant que <b>RPC</b> pour ce service de journal.  Et mÃªme si tout le reste est ruinÃ©, eh bien, Ã  l'exception de <b>okld</b> , le magazine restera indemne. <br><br>  <b>Public:</b> que se passe-t-il si vous avez accidentellement trouvÃ© un moyen de lire le magazine et ne voyez pas ce que les autres en ont fait? <br><br>  <b>Professeur:</b> non, je pense que si vous "piratez" un service, un <b>pubd</b> ou autre chose, vous pouvez Ã©crire n'importe quoi dans le journal.  Par consÃ©quent, la crÃ©ation d'une <b>entrÃ©e oklogd</b> distincte est logique.  En fait, <b>oklogd</b> est un processus distinct, et pas seulement mis Ã  jour en joignant des fichiers en tant <b>que fichier Ã  ajouter uniquement</b> .  Ainsi, <b>oklogd</b> ne peut pas ajouter d'informations supplÃ©mentaires Ã  chaque entrÃ©e de journal, car si le systÃ¨me d'exploitation prend en charge le fichier Ã  <b>ajouter uniquement</b> , vous ne saurez pas que quelqu'un a Ã©crit dans le fichier lorsque cela se produit.  Tandis <b>qu'oklogd</b> met un horodatage pour chaque message et vous permet de savoir quel service a effectuÃ© l'enregistrement ou s'il provient d' <b>okd</b> .  Par consÃ©quent, vous obtenez rÃ©ellement des informations supplÃ©mentaires dans ce fichier journal car il s'agit d'un service distinct. <br><br>  Et quelle est la signification de la sÃ©paration <b>okld</b> et pourquoi devrait-elle fonctionner avec les droits root?  Je pense qu'il y a plusieurs raisons Ã  cela. <br><br>  Public: si vous voulez que personne d'autre n'agisse avec les privilÃ¨ges root, vous devez dÃ©lÃ©guer la <b>fonction</b> d'authentification utilisateur <b>okld</b> . <br><br><img src="https://habrastorage.org/webt/xg/c2/p0/xgc2p0qzezaptmg1jagd1l3koxi.jpeg"><br><br>  <b>Professeur:</b> oui.  Quelqu'un doit configurer tout cela <b>chroot uid</b> , et vous avez besoin de <b>root</b> pour cet <b>Unix</b> , donc <b>okld</b> fournit cela.  Câ€™est une des raisons.  Autre chose? <br><br>  <b>Public:</b> dÃ©finition de 80 ports? <br><br>  <b>Professeur:</b> oui, bien sÃ»r!  Vous devez lier l'Ã©coute au port 80, qui est <b>okld</b> et fournit autre chose? <br><br>  <b>Public:</b> il termine l'ouverture du fichier journal <b>oklogd</b> car nous ne voulons pas laisser <b>oklogd</b> ouvert pour empÃªcher l'accÃ¨s au fichier journal. <br><br>  <b>Professeur:</b> peut <b>-</b> Ãªtre.  Mais je ne sais pas si les dÃ©veloppeurs l'ont vraiment fait parce qu'ils n'ont pas regardÃ© leur code source.  Pensez-vous que <b>okld</b> ouvre le fichier journal et le transmet <b>oklogd</b> ?  C'est possible. <br><br>  <b>Public:</b> car sinon, un attaquant qui aurait compromis <b>oklogd</b> pourrait effacer l'intÃ©gralitÃ© du journal. <br><br>  <b>Professeur:</b> oui, c'est vrai.  Vous souhaitez peut-Ãªtre l'ouvrir en mode <b>ajout</b> , puis le passer <b>oklogd</b> , puis vous avez plus de garanties de sÃ©curitÃ© pour le journal.  C'est quelque chose que vous ne pouvez pas faire sans privilÃ¨ges root. <br><br>  Donc, nous avions une question sur les devoirs, que se passera-t-il lorsque ce jeton de 20 octets sera Â«divulguÃ©Â» pour accÃ©der Ã  la base de donnÃ©es.  Quels dommages cela peut-il causer?  Faut-il s'en inquiÃ©ter? <br><br>  <b>Public:</b> dans ce cas, un attaquant peut prendre le contrÃ´le d'un service particulier. <br><br>  <b>Professeur:</b> oui, c'est vrai, car maintenant vous pouvez vous connecter et obtenir tous les modÃ¨les de requÃªte.  Cela semble en fait assez simple.  Vous devrez probablement compromettre l'un de ces composants afin de pouvoir vous connecter Ã  la base de donnÃ©es du serveur en premier.  Je pense donc que si vous avez ce jeton et que vous pouvez compromettre l'un de ces composants illustrÃ©s dans la figure, vous pouvez utiliser toutes ces requÃªtes. <br><br>  Voyons maintenant comment cette conception <b>OKWS</b> peut Ãªtre amÃ©liorÃ©e?  Par exemple, vous pouvez allouer une unitÃ© <b>uid</b> distincte pour chaque utilisateur, sauf pour allouer un <b>uid</b> distinct pour chaque service.  Ici, chaque service, par exemple les actualitÃ©s, la recherche d'amis ou la crÃ©ation d'un compte, a un <b>ID utilisateur</b> distinct, mais chaque utilisateur <b>OKWS n'est</b> pas reprÃ©sentÃ© comme un <b>UID</b> <b>Unix</b> .  En fait, il n'y a pas d' <b>ID utilisateur</b> ici, seuls les <b>ID de</b> service sont prÃ©sents ici.  Pensez-vous que vous devez avoir un <b>uid</b> diffÃ©rent pour chaque client <b>OKWS</b> ? <br><br>  <b>Public:</b> dans ce cas, il s'avÃ¨re que si un utilisateur Â«pirateÂ» un service, il pourra accÃ©der Ã  toutes les donnÃ©es des autres utilisateurs de ce serveur. <br><br>  <b>Professeur:</b> oui, c'est vrai! <br><br>  <b>Public:</b> mais si vous aviez, en fait, un service et un <b>dbproxy</b> distincts pour chaque utilisateur, il serait impossible d'accÃ©der aux donnÃ©es des autres. <br><br>  <b>Professeur:</b> oui, mais cela pourrait-il Ãªtre un modÃ¨le plus fort?  Je pense que les dÃ©veloppeurs <b>OKWS</b> ne prennent pas une telle mesure pour deux raisons.  Le premier est la performance.  Si vous avez quelques millions d'utilisateurs du site <b>okcupid</b> , plusieurs millions de processus en cours d'exÃ©cution et quelques millions de <b>dbproxie</b> , des <b>surcoÃ»ts de</b> performances sont possibles.  Et cela ne permettra pas d'atteindre les mÃªmes performances que celles <b>fournies par l'</b> architecture <b>OKWS</b> existante. <br><br>  <b>Public: la</b> description <b>OKWS</b> indique que les performances de ce systÃ¨me sont meilleures que celles des autres systÃ¨mes.  Comment cela a-t-il Ã©tÃ© rÃ©alisÃ©? <br><br>  <b>Professeur:</b> Je pense que c'est en partie parce qu'ils ont affinÃ© leur conception Ã  une charge de travail spÃ©cifique, en plus, ils ont Ã©crit tout cela en <b>C ++</b> .  Une alternative est d'Ã©crire certaines choses en <b>PHP</b> , alors vous obtiendrez probablement des avantages sur ce front. <br><br>  De plus, ils n'ont pas beaucoup des fonctionnalitÃ©s d' <b>Apache</b> .  Il a une conception polyvalente, il a donc de nombreux processus de travail et il les recharge de temps en temps.  Il existe de nombreuses connexions <b>TTP</b> qui garantissent la durÃ©e du processus de connexion et maintiennent leur activitÃ©.  Il augmente Ã©galement le nombre de processus en cours d'exÃ©cution sur le systÃ¨me.  <b>Apache a Ã©tÃ©</b> rendu plus universel et peut faire tout ce que vous souhaitez obtenir du serveur Internet, et les gars d' <b>OKWS sont</b> plus concentrÃ©s sur la rÃ©solution de problÃ¨mes spÃ©cifiques. <br><br>  Mais je pense qu'il existe d'autres serveurs Web de nos <b>jours</b> qui peuvent probablement correspondre <b>aux</b> performances <b>OKWS</b> .  Par exemple, <b>Nginx</b> est un serveur Web trÃ¨s optimisÃ© que vous pouvez exÃ©cuter de nos jours.  Si vous souhaitez des applications hautes performances cÃ´tÃ© serveur, vous souhaiterez probablement que le long processus soit trÃ¨s similaire au service <b>OKWS</b> .  Et pour qu'il ait un mÃ©canisme pour une interface de passerelle <b>CGI</b> commune rapide pour connecter un programme externe Ã  un serveur Web, ou une sorte de protocole qui pourrait Ãªtre utilisÃ© cÃ´tÃ© serveur pour l'implÃ©menter mÃªme dans <b>Apache</b> ou <b>Nginx</b> .  Par consÃ©quent, je pense que beaucoup de ces idÃ©es ne sont pas exclusives Ã  <b>OKWS</b> , elles peuvent Ãªtre implÃ©mentÃ©es dans d'autres serveurs Web.  Ils montrent simplement que l'amÃ©lioration de la sÃ©curitÃ© n'empÃªche pas l'utilisation de ces Â«astucesÂ».  Je pense qu'ils ont commencÃ© avec un schÃ©ma similaire Ã  <b>Apache</b> , mais pensaient que ce ne serait pas assez sÃ»r. <br><br>  Je pense donc que l'une des raisons pour lesquelles les crÃ©ateurs d' <b>OKWS</b> n'ont pas voulu introduire de privilÃ¨ges distincts pour les utilisateurs Ã©tait une possible dÃ©gradation des performances. <br><br><img src="https://habrastorage.org/webt/ai/s9/zb/ais9zbrgrmnoslcojxk0jacxdyc.jpeg"><br><br>  Une autre raison est que leur modÃ¨le d'application complet Â«tourneÂ» autour d'un service qui essaie d'accÃ©der aux donnÃ©es de chaque utilisateur, comme trouver des amis sur <b>okcupid</b> ou quelqu'un que vous pouvez inviter Ã  une date.  Par consÃ©quent, ce modÃ¨le d'isolement des utilisateurs n'a pas beaucoup de sens, car, en fin de compte, il devrait y avoir un service pour lequel vous envoyez une demande, et il examinera toutes les autres donnÃ©es pour trouver une correspondance pour votre demande.  Donc, mÃªme si vous avez des identifiants utilisateur ou un mÃ©canisme pour les isoler, vous devez toujours ouvrir l'accÃ¨s au service pour chaque utilisateur. <br><br>  Pour d'autres services, tels que <b>Gmail</b> ou <b>Dropbox</b> , qui sont beaucoup plus axÃ©s sur un utilisateur spÃ©cifique et ne fournissent pas une capacitÃ© ouverte de partager leurs fichiers, l'isolement des utilisateurs peut offrir plus d'avantages.  Par exemple, sur le serveur <b>Dropbox,</b> il existe un <b>ID utilisateur</b> pour chaque client <b>Dropbox</b> .  Et s'il y a un processus en cours pour vous et un processus en cours pour quelqu'un d'autre, alors mÃªme en utilisant un exploit malveillant, vous ne pourrez pas mettre la main sur les informations des autres. <br>  Voyons maintenant si <b>OKWS a vraiment</b> rÃ©ussi Ã  amÃ©liorer la sÃ©curitÃ© dans un tel modÃ¨le de serveur.  Pour Ã©valuer la sÃ©curitÃ©, vous devez considÃ©rer chaque composant du systÃ¨me et dÃ©terminer quel type d'attaques pourrait lui nuire. <br><br>  CommenÃ§ons par <b>okd</b> .  Il peut Ãªtre attaquÃ© avec des requÃªtes via le navigateur, par exemple, provoquant un dÃ©bordement de tampon.       c++,  ,       - ,   <b>okd</b>  .      ? <br><br><img src="https://habrastorage.org/webt/qz/md/d9/qzmdd9xheqlsc2fpbgs4e5to3_i.jpeg"><br><br> <b>:</b>        ? <br><br> <b>:</b> ,  ,      .   ? <br><br> <b>:</b>       ,  . <br><br> <b>:</b> ,  .  , ,       ,        <b>http</b> ,   ,   ,     .  ,     . <br><br> <b>:</b>           ? <br><br> <b>:</b> ,       .    ,  ,      ,        , ,  <b>match.com</b>    . , ,      <b>OkCupid</b> . , - ?          ? <br><br> <b>:</b> ,    ,      <b>okd</b> .           ,    ? <br><br> <b>:</b> .   , <b>okd</b>     . <br><br> <b>:</b> ,     ? <br><br> <b>:</b> !      ,      , , ,      ,   .      ,   , ,   ,      . , ,   .   Â«Â» <b>okd</b> ,     ,     ,         . <br><br> <b>:</b>         DOS-? <br><br> <b>:</b> ,  , , Â«Â»       Â«Â»  ,   DOS-    -   . <br><br> <b>:</b>       <b>okd</b> ,     ,  â€¦ <br><br> <b>:</b> ,  .  ,   , <b>okd</b>    ,         <b>okd</b> ,     .     <b>okd</b> ,           .  ,    <b>okd</b>  ,       ,      ,   ,            . <br><br> <b>:</b>          . <br><br> <b>:</b> ,    .  , <b>okd</b>     .   ,    <b>oklogd</b> ?    ? <br><br> <b>:</b>      . <br><br> <b>:</b> ,          ,             ,   ?       <b>pubd</b> ,  ,     ,  -  . <br><br> <b>:</b> ,    ,   Â«Â»  <b>oklogd</b> . <br><br> <b>:</b> ,  .      ,      ,   <b>append-only</b>    ,        . <br><br> <b>:</b> ,      â€¦ <br><br> <b>:</b> ,        ,   .          . <br><br>     <b>svc</b> ? ,  ,   .       , ,   <b>okd</b>  <b>oklogd</b>    .         ,  ,        . <br><br>   <b>svc</b>  - -,        ,       ,         .   ,         ,        ,       . <br><br>      <b>okld</b> ?       ,      root.       ? ,       .           <b>dbproxy</b> .    <b>okld</b> ?      Â«Â»?    ? <br><br> <b>:</b> ,  -   ? <br><br> <b>:</b> ,       .          ,    ,       . ,        ,  -    ,     , ,     -    .         -     .          root-   . <br><br> <b>:</b> -,    ,     -   <b>dbproxy</b> . <br><br> <b>:</b> ! <br><br> <b>:</b>  ,     ,  ,     <b>RPC</b> ,       ,     ,     ,  ,   !      . <br><br><img src="https://habrastorage.org/webt/qs/cu/x6/qscux6nxwgoo9wqu10wj04npz38.jpeg"><br><br> <b>:</b> ,    .       <b>dbproxy</b> ?  ,            .   ,   Â«Â»   ,      <b>dbproxy</b>  - . <br><br> <b>:</b>      ,   <b>svc</b>  â€¦ <br><br> <b>:</b> ,  <b>svc</b>   ,     ! <br><br> <b>:</b>  ,    ,     ! <br><br> <b>:</b>  ,  ,      <b>Â«Â»</b> ,       â€¦ <br><br> <b>:</b>   <b></b>     <b>dbproxy</b> . <br><br> <b>:</b> . ,      <b>dbproxy</b> ,   . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'espÃ¨re que vous comprenez ce que le partage des privilÃ¨ges d'application nous donne. </font><font style="vertical-align: inherit;">Et comme nous pouvons le voir, ce n'est pas parfait. </font><font style="vertical-align: inherit;">Il y a beaucoup d'autres choses qui peuvent mal tourner. </font><font style="vertical-align: inherit;">Mais il semble que cette solution soit en tout cas meilleure que la conception d'applications individuelles sans privilÃ¨ges d'accÃ¨s, lÃ  oÃ¹ nous avons commencÃ©.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dNl22h1kW1k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La version complÃ¨te du cours est disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matÃ©riaux plus intÃ©ressants?  Soutenez-nous en passant une commande ou en le recommandant Ã  vos amis, une <b>rÃ©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrÃ©e de gamme que nous avons inventÃ©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vÃ©ritÃ© sur VPS (KVM) E5-2650 v4 (6 cÅ“urs) 10 Go DDR4 240 Go SSD 1 Gbps Ã  partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'Ã  24 cÅ“urs et jusqu'Ã  40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV Ã  partir de 249 $</a> aux Pays-Bas et aux Ã‰tats-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">crÃ©ation d'un bÃ¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coÃ»tant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418211/">https://habr.com/ru/post/fr418211/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418201/index.html">Pouvons-nous relancer Duck Hunt?</a></li>
<li><a href="../fr418203/index.html">API GraphQL (CRUD) sur Go</a></li>
<li><a href="../fr418205/index.html">Space Language Vol.2: Bienvenue, GJ273b</a></li>
<li><a href="../fr418207/index.html">Examen des ordinateurs portables de jeu ASUS ROG Strix GL504GS SCAR II et ASUS ROG Strix GL504GM HERO II</a></li>
<li><a href="../fr418209/index.html">Nous recevons des donnÃ©es des compteurs Mercury 203.2T sur RS-485</a></li>
<li><a href="../fr418213/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 5: Â«D'oÃ¹ viennent les systÃ¨mes de sÃ©curitÃ©Â», partie 1</a></li>
<li><a href="../fr418215/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 5: Â«D'oÃ¹ viennent les erreurs du systÃ¨me de sÃ©curitÃ©Â», partie 2</a></li>
<li><a href="../fr418217/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 6: Â«OpportunitÃ©sÂ», partie 1</a></li>
<li><a href="../fr418219/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 6: OpportunitÃ©s, partie 2</a></li>
<li><a href="../fr418221/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 6: Â«OpportunitÃ©sÂ», partie 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>