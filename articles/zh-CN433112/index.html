<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>↕️ 🔸 🌠 有趣的JavaScript：下雪天 🧗🏿 🚫 👩🏾‍💼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JavaScript中异常编程的另一项人为任务。 这次是在即将到来的2019年新年之际。 我希望决定对我来说有多有趣也会同样有趣。 我问好奇下猫。 所有的香槟和所有的快乐！ 


 先前的任务： 


- 支架混淆 
- 最短的备忘录 
 措辞 
在过去的一年中，圣诞老人收集了一份不错的普通开发人员...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>有趣的JavaScript：下雪天</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433112/"><p><img src="https://habrastorage.org/webt/zf/ez/9p/zfez9p_xyavjo1-wdofbde446sq.jpeg" alt="图片"></p><br><p>  <strong>JavaScript中</strong>异常编程的另一项人为任务。 这次是在即将到来的2019年新年之际。 我希望决定对我来说有多有趣也会同样有趣。 我问好奇下猫。 所有的香槟和所有的快乐！ </p><a name="habracut"></a><br><p> 先前的任务： </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">支架混淆</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">最短的备忘录</a> </li></ul><br><h2 id="formulirovka"> 措辞 </h2><br><blockquote>在过去的一年中，圣诞老人收集了一份不错的普通开发人员名单，现在计划编写一个祝贺程序。 格式为： <code>happy new year, ${username}!</code>  。 但是，这是不幸的事情：键盘崩溃，并且不允许您输入许多拉丁字符。 在检查了缺陷之后，精灵们得出了一个有趣的发现，从其他方面来看，您可以<code>Snowing day</code> 。 您可以自行选择输出源。 </blockquote><p> 因此，在输入处-一组非空字符串（名称不能为空）。 要求仅使用拉丁字符<code>S</code> ， <code>n</code> ， <code>o</code> ， <code>w</code> ， <code>i</code> ， <code>g</code> ， <code>d</code> ， <code>a</code> ， <code>y</code> （总共9个字符，其中一个为大写）编写程序。 程序应遍历传递的数组，并为每个名称输出短语<code>happy new year, ${username}!</code> 使用某种输出源： <em>alert</em> ， <em>console.log</em>或任何想到的东西。 好吧，最好不要污染全球环境。 </p><br><h2 id="privychnoe-reshenie"> 习惯性解决方案 </h2><br><p> 如果您什么都不做，那么一切都很简单： </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">happy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i !== users.length; i += <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`happy new year, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${users[i]}</span></span></span><span class="hljs-string">!`</span></span>); } }</code> </pre> <br><p> 或更好的是： </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">happy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ users.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`happy new year, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${user}</span></span></span><span class="hljs-string">!`</span></span>)); }</code> </pre> <br><p> 我们使用我们的数组，让它成为<em>用户</em> ： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> users = [<span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-string"><span class="hljs-string">'Jack'</span></span>, <span class="hljs-string"><span class="hljs-string">'James'</span></span>]; happy(users); <span class="hljs-comment"><span class="hljs-comment">// happy new year, John! // happy new year, Jack! // happy new year, James!</span></span></code> </pre> <br><p> 但是这是牵强的：在拉丁语实现中仅使用允许的字符。 尝试自己应对，然后加入讨论。 </p><br><h2 id="zanimatelnoe-reshenie"> 有趣的决定 </h2><br><p> 不耐烦的人现在可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JSFiddle中</a>看到下面的解决方案。 </p><br><p> 要解决此问题，您需要在以下方面消除多余的拉丁语： </p><br><ol><li>  <em>函数</em>声明中的关键字<em>函数</em> 。 </li><li>  <em>let</em> （或<em>var</em> ）关键字，用于声明变量。 </li><li> 组织循环以迭代传递的数组时的关键字。 </li><li> 消息文本的形成。 </li><li> 调用一些函数以输出结果。 </li></ol><br><p> 箭头功能可以轻松帮助我们解决第一个问题： </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr</span></span></span><span class="hljs-function"> =&gt;</span></span> el.forEach(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>))(users);</code> </pre> <br><p> 我们现在不会关注变量名，因为我们可以很容易地在最后对它们进行重命名。 </p><br><p> 在需要功能或其立即产生结果的地方，我们在IIFE中使用“箭头”。 另外，函数允许您通过两种方式摆脱<em>let</em>和<em>var</em>指令： </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">param</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>)(value); <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(param = value</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>)();</code> </pre> <br><p> 在这两种情况下，我们都在函数参数中声明一个变量。 仅在第一种情况下，我们在调用函数时传递值，而在第二种情况下，我们使用默认函数参数。 </p><br><p> 确实，问题从<strong>第三</strong>点开始。 我们没有足够的字符来表示经典的<em>for</em> ， <em>do</em> ， <em>while</em>循环，也没有足够的字符通过<em>for..in</em>和<em>for..of</em>进行<em>遍历</em> ，也没有<em>足够</em>的数组方法<em>forEach</em> ， <em>map</em> ， <em>filter</em> （可以在其中传递回调）。 但是我们可以在数组上实现迭代功能： </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arr[i]) { consume(arr[i]); iter(++i); } } iter(<span class="hljs-number"><span class="hljs-number">0</span></span>); }</code> </pre> <br><p> 我们递归地遍历元素，直到当前条件的验证失败为止。 为什么在这里我们可以依靠逻辑转换？ 因为数组的元素不是一个空字符串（只包装了<em>false</em> ），但是当我们通过索引的增量退出数组时，我们得到的是<em>不确定的</em> （传递给<em>false</em> ）。 </p><br><p> 我们使用箭头表达式重写该函数： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> iterate = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; { </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">if</span></span></span></span><span class="hljs-function"><span class="hljs-params"> (arr[i]</span></span></span><span class="hljs-function">) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">consume</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr[i]</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">); } }) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>) )();</code> </pre> <br><p> 但是我们不能使用<em>if语句</em> ，因为我们没有字符<code>f</code> 。 为了使我们的功能满足条件，我们需要摆脱它： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> iterate = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; arr[i] ? (consume(arr[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>) )();</code> </pre> <br><p> 三元运算符以及通过<em>逗号运算符</em>将两个表达式组合为一个表达式的能力帮助了我们。 我们稍后将在解决方案的布局中使用此功能。 </p><br><p>  <strong>第四个</strong>问题是，无论如何我们都需要获得一个字符串，该字符串缺少字符。 显然，我们将使用数字来表示字符。 有几种选择： </p><br><ul><li> 一个<em>String.fromCharCode</em>函数，期望返回整数并返回从指定Unicode序列创建的字符串。 </li><li>  <code>\uhhhh</code>序列<code>\uhhhh</code>允许<code>\uhhhh</code>使用指定的十六进制代码输出任何Unicode字符。 </li><li> 格式<code>&amp;#dddd;</code>  for html-characters允许您使用指定的十进制代码在页面文档中显示符号。 </li><li>  <em>Number</em>原型对象的<em>toString</em>函数具有一个附加的<em>基数</em>参数-数字系统的基础。 </li><li> 也许还有别的东西... </li></ul><br><p> 您可以按照前三个选项的方向进行研究，现在考虑执行此任务的最简单的选择： <em>Number.prototype.toString</em> 。  <em>基数</em>参数的最大值为36（10位数字+ 26个小写拉丁字符）： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>).toString(<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p> 因此，我们可以通过字母中的数字（从1开始）获取任何拉丁字符。唯一的限制是所有字符均小写。 是的，这足以让我们在消息中显示文本，但是我们无法添加一些方法和功能（ <em>forEach</em>相同）。 </p><br><p> 但是现在还为时过早，首先您需要在函数条目中删除<em>toString</em> 。 首先，我们转向如下方法： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>)[<span class="hljs-string"><span class="hljs-string">'toString'</span></span>](<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p> 如果仔细看，对于字符串<code>toString</code>我们只需要两个字符： <code>t</code>和<code>r</code> ：其余所有字符都在<code>Snowing</code>一词中。 获取它们非常简单，因为它们的顺序已经暗示了<code>true</code> 。 使用隐式类型转换，我们可以获取此字符串和所需的字符，如下所示： </p><br><pre> <code class="javascript hljs">!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 'true' (!0+'')[0]; // 't' (!0+'')[1]; // 'r'</span></span></code> </pre> <br><p> 我们实现了获取任何拉丁字母的功能： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>)[(!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-string"><span class="hljs-string">'oS'</span></span> + (!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] + (!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>] + <span class="hljs-string"><span class="hljs-string">'ing'</span></span>](<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p> 要使用<em>symb</em>从字母序列号数组中获取单词，我们使用标准的<em>Array.prototype.reduce</em>函数： </p><br><pre> <code class="javascript hljs">[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>].reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res, sn</span></span></span><span class="hljs-function">) =&gt;</span></span> res += symb(sn), <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 'abc'</span></span></code> </pre> <br><p> 是的，这不适合我们。 但是在我们的解决方案中，我们可以使用<em>迭代</em>函数执行类似的操作： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> word = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">chars</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> (iterate(chars, ch =&gt; res += symb(ch)), res))(<span class="hljs-string"><span class="hljs-string">''</span></span>); word([<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// 'abc'</span></span></code> </pre> <br><p> 细心的人会注意到，我们为字符串数组开发了<em>迭代</em>函数，但此处将其与数字一起使用。 这就是为什么字母表的初始索引为1而不是0的原因。否则，即兴循环将在遇到0时结束（字母<code>a</code> ）。 </p><br><p> 为了便于将字符映射到其序列号，您可以获取一个词典： </p><br><pre> <code class="javascript hljs">[...Array(<span class="hljs-number"><span class="hljs-number">26</span></span>).keys()].reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map, i</span></span></span><span class="hljs-function">) =&gt;</span></span> (map[symb(i + <span class="hljs-number"><span class="hljs-number">1</span></span>)] = i + <span class="hljs-number"><span class="hljs-number">1</span></span>, map), {}); <span class="hljs-comment"><span class="hljs-comment">// {a: 1, b: 2, c: 3, d: 4, e: 5, …}</span></span></code> </pre> <br><p> 但是，更简单地编写单词整体逆变换的功能是更明智的： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> reword = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> str.split(<span class="hljs-string"><span class="hljs-string">''</span></span>).map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(s, <span class="hljs-number"><span class="hljs-number">36</span></span>) - <span class="hljs-number"><span class="hljs-number">9</span></span>); reword(<span class="hljs-string"><span class="hljs-string">'happy'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [8,1,16,16,25] reword('new'); // [14,5,23] reword('year'); // [25,5,1,18]</span></span></code> </pre> <br><p> 我们完成了形成消息本身的功能： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> message = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function"> =&gt;</span></span> word([<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + word([<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + word([<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>]) + <span class="hljs-string"><span class="hljs-string">', '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'!'</span></span>;</code> </pre> <br><p> 关于<strong>第五个</strong>问题的结论，剩下的很少。 想到<em>控制台</em> ， <em>警报</em> ， <em>确认</em> ， <em>提示</em> ， <em>innerHTML</em> ， <em>document.write</em> 。 但是列出的所有选项都无法直接实现。 </p><br><p> 我们也有机会使用<em>word</em>函数获取任何单词。 这意味着我们可以通过使用方括号访问对象来调用对象的许多函数，就像<em>toString一样</em> 。 </p><br><p> 假定我们使用箭头函数，则<em>此</em>上下文保持全局（并且无需转发它）。 在任何地方，我们都可以通过一行访问其许多功能： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[word([<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>])](<span class="hljs-string"><span class="hljs-string">'hello'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// alert('hello'); this[word([3,15,14,19,15,12,5])][word([12,15,7])]('hello'); // console.log('hello');</span></span></code> </pre> <br><p> 但是，为了“绘制” <code>this</code>我们再次缺少字符。 我们可以用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Window.self</a>替换它，但是就可用字母而言，它甚至更糟。 但是，值得注意的是<em>窗口</em>对象本身，其“轮廓”对于我们来说是相当令人满意的，即使它本来可以是山羊，也要更长！ </p><br><p> 顺便说一句，在该任务的第一个版本中，关键短语仅是<code>Snowing</code>单词，并且无法折叠<code>window</code> （由于缺少<code>d</code>字符）。 对上下文的访问基于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">jsfuck</a>技巧之一： </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)[<span class="hljs-string"><span class="hljs-string">'constructor'</span></span>](<span class="hljs-string"><span class="hljs-string">'return this'</span></span>)()[<span class="hljs-string"><span class="hljs-string">'alert'</span></span>](<span class="hljs-string"><span class="hljs-string">'hello'</span></span>);</code> </pre> <br><p> 或者，您也可以直接在全局上下文中访问某些内容： </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)[<span class="hljs-string"><span class="hljs-string">'constructor'</span></span>](<span class="hljs-string"><span class="hljs-string">'return alert'</span></span>)()(<span class="hljs-string"><span class="hljs-string">'hello'</span></span>);</code> </pre> <br><p> 如您所见，在示例中，整个拉丁语排成一行。 在这里，我们从字符串创建函数，然后从浪费的箭头函数访问<em>函数</em> （构造函数）。 但这太多了！ 也许其他人知道如何在我们的条件下访问上下文？ </p><br><p> 最后，我们将所有内容放在一起！ 我们的“ main”函数的主体将为传递的数组调用<em>iterate</em> ，并且使用者将输出已经内置的消息编译函数的结果。 对于消息和命令的文本，使用了一个<em>单词</em>函数，该函数也需要<em>迭代</em> ，我们将在<em>默认参数中</em>确定它。 像这样： </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">//</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstly we need the iterating </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">function</span></span></span></span><span class="hljs-function"><span class="hljs-params"> iterate = (array, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> (<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; array[i] ? (consume(array[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>))(), <span class="hljs-comment"><span class="hljs-comment">// then we determine the word-creating function word = chars =&gt; (res =&gt; (iterate(chars, ch =&gt; res += (ch + 9)[(!0+'')[0] + 'oS' + (!0+'')[0] + (!0+'')[1] + 'ing'](36) ), res) )('') ) =&gt; iterate(users, name =&gt; // using console.log in window for printing out window[word([3,15,14,19,15,12,5])][word([12,15,7])]( word([8,1,16,16,25]) + ' ' + word([14,5,23]) + ' ' + word([25,5,1,18]) + ', ' + name + '!' ) ))() ))(users);</span></span></code> </pre> <br><p> 使用允许的字母重命名变量： </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_10</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( _123 = (ann, snow</span></span></span><span class="hljs-function">) =&gt;</span></span> (<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_12 = i =&gt; ann[i] ? (snow(ann[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_12</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> _12(<span class="hljs-number"><span class="hljs-number">0</span></span>))(), wo = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ann</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w</span></span></span><span class="hljs-function"> =&gt;</span></span> (_123(ann, an =&gt; w += <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">an + </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">9</span></span></span></span></span><span class="hljs-function">)[(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[0] + '</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oS</span></span></span><span class="hljs-function">' + (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[0] + (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[1] + '</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ing</span></span></span><span class="hljs-function">'](</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">36</span></span></span></span></span><span class="hljs-function">) ), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w</span></span></span><span class="hljs-function">) )(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">) ) =&gt;</span></span> _123(_10, _1 =&gt; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>[wo([<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>])][wo([<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>])]( wo([<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + wo([<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + wo([<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>]) + <span class="hljs-string"><span class="hljs-string">', '</span></span> + _1 + <span class="hljs-string"><span class="hljs-string">'!'</span></span> ) ))() ))(users);</code> </pre> <br><table><thead><tr><th> 可变的 </th><th> 内容描述 </th></tr></thead><tbody><tr><td>  <strong>_123</strong> <code>{function}</code> </td><td>  <em>迭代</em>函数可迭代数组的元素。 </td></tr><tr><td>  <strong>_12</strong> <code>{function}</code> </td><td>  <em>迭代</em>调用的本地<em>iter</em>函数。 </td></tr><tr><td>  <strong>雪</strong> <code>{function}</code> </td><td>  <em>使用</em>函数作为<em>iterate</em>的回调。 </td></tr><tr><td>  <strong>安</strong> <code>{Array&lt;Any&gt;}</code> </td><td> 数组参数。 </td></tr><tr><td>  <code>{Any}</code> </td><td> 数组元素参数。 </td></tr><tr><td>  <strong>wo</strong> <code>{function}</code> </td><td>  <em>单词</em>功能形成单词。 </td></tr><tr><td>  <strong>w</strong> <code>{string}</code> </td><td> 局部变量，用于累积<em>单词中</em>的字符串。 </td></tr><tr><td>  <strong>_10</strong> <code>{Array&lt;string&gt;}</code> </td><td> 原始的用户数组。 </td></tr><tr><td>  <strong>_1</strong> <code>{string}</code> </td><td> 源数组中的用户，他的名字。 </td></tr></tbody></table><br><p> 仅此而已。 写出您对此的想法和想法，因为有很多选择可以做一些不同的事情或根本不做。 </p><br><h2 id="zaklyuchenie"> 结论 </h2><br><p> 有趣的是，针对问题的条件提出一个单词或短语是一项真正的考验。 我希望她简短而不是很有启发性，并且适合或多或少的简洁解决方案。 </p><br><p>  JavaScript的功能和许多人所<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">熟知的6个字符</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">同义性</a>为这项任务提供了灵感。 如先前讨论的任务，这可能在主题上有多种变体，而不是唯一的解决方案。 只需简单的措辞和关键词即可。 新的一年见！ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN433112/">https://habr.com/ru/post/zh-CN433112/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN433102/index.html">为什么科学家相信第九颗行星不存在</a></li>
<li><a href="../zh-CN433104/index.html">Foobar挑战：Google对开发人员的秘密测试</a></li>
<li><a href="../zh-CN433106/index.html">SpaceX和NASA重申了他们打算在2019年1月启动Crew Dragon船的首次发射的意图</a></li>
<li><a href="../zh-CN433108/index.html">ld -z分隔码</a></li>
<li><a href="../zh-CN433110/index.html">创建高性能组织：协作软件的战略重要性</a></li>
<li><a href="../zh-CN433114/index.html">PMP认证：通勤类考试准备</a></li>
<li><a href="../zh-CN433116/index.html">喷火器，坦克上的圣诞老人，大脚怪，Endurica上的Baba Yaga（可能还有喷气背包）-新年的孩子们所需的一切</a></li>
<li><a href="../zh-CN433118/index.html">基准测试和排列算法的快速分析</a></li>
<li><a href="../zh-CN433122/index.html">React-Hot-Loader v4.6</a></li>
<li><a href="../zh-CN433126/index.html">Zabbix审查：如何组织代码审查以监视配置</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>