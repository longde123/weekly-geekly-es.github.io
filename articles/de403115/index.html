<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèπ üôÅ ‚öïÔ∏è In Pac-Man durch die Geister gehen üî∫ ‚öóÔ∏è üëãüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist ein Fragment meines Buches Bug Voyage: Eine Tour durch klassische Spielst√∂rungen. Das Buch enth√§lt auch Informationen zum Generiere...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>In Pac-Man durch die Geister gehen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/403115/"> <em>Dieser Artikel ist ein Fragment meines Buches Bug Voyage: Eine Tour durch klassische Spielst√∂rungen.</em>  <em>Das Buch enth√§lt auch Informationen zum Generieren von Pseudozufallszahlen, zum Durchf√ºhren von Berechnungen auf niedriger Ebene mit Bin√§r- und Dezimalzahlen sowie zum Verursachen eines Fehlers in einer Galaga-Maschine, ohne dort M√ºnzen fallen zu lassen.</em> <br><br>  Wenn Sie Pac-Man Arcade Machine in Ihrer N√§he haben, Frau  Pac-Man oder so, Sie haben Gl√ºck, heute sind sie Mangelware.  Sogar die in der Vergangenheit sehr verbreiteten ‚Äû20 Year Reunion‚Äú -Maschinen, bei denen Frau zusammen installiert ist  Pac-Man und Galaga sind jetzt weniger verbreitet. <br><br>  Um zu verstehen, was besprochen wird, reicht es jedoch aus, ein Video von YouTube √ºber eines dieser Spiele herunterzuladen und es in nur einer Minute anzusehen: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0LTUHRgzCS8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Hast du es bemerkt?  Wie bewegen sich Pac-Man und Geister reibungslos durch das Labyrinth?  Sie gleiten so selbstbewusst und klar. <br><br>  Diese Flie√üf√§higkeit ist, wie wir sehen werden, eine Illusion, und das ist noch nicht alles.  Hier ist ein weiteres YouTube-Video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VbzW6iNDx9U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Es wird von Jamey Pittman hochgeladen, dem Autor des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>Pac-Man-Dossier-</em></a> Artikels, aus dem viele Pac-Man-Informationen f√ºr mein Buch stammen.  Das Video wurde etwas zur√ºckgespult, um Ihnen Zeit zu sparen.  Schau es dir an.  Behalten Sie insbesondere Pac-Man und den roten Geist im Auge (das Handbuch besagt, dass er Blinky hei√üt).  Beachten Sie, was ungef√§hr in der vierzigsten Sekunde passiert! <br><a name="habracut"></a><br>  Hast du gesehen  Pac-Man ging ohne Probleme durch einen roten Geist!  Wie ist das passiert?  Ist es m√∂glich sicherzustellen, dass dies st√§ndig geschieht? <br><br>  Beruhige dich, jetzt erkl√§re ich alles und ja, das ist ein st√§ndiges Verhalten.  Wenn Sie die Anweisungen von Pittman auf der ersten Ebene genau befolgen, wird dies immer passieren. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/84c/c16/fba/84cc16fba84cd8cebb0ed65f21cc405a.png"><br>  <em>Pac-Man</em> <br><br><h2>  Was ist ein Sprite? </h2><br>  Ein Teil der zweidimensionalen Grafikausr√ºstung verwendete spezielle Grafikobjekte in Spielen, die Sprites genannt wurden.  Sie haben diesen Begriff wahrscheinlich in modernen Gespr√§chen √ºber die Pixelgrafiken von Zeichen geh√∂rt. <br><br>  Zuvor war die Bedeutung des Begriffs jedoch anders: Er bezeichnete ein sich unabh√§ngig bewegendes Grafikobjekt, das an einer beliebigen Stelle auf dem Bildschirm oder √ºber den √ºbrigen Grafiken, dem Hintergrund oder darunter, platziert werden konnte.  Das Sprite erh√§lt die X- und Y-Koordinaten, das Bild und seine Farbe.  Oft wurden sie f√ºr Spielfiguren verwendet, aber auch als Erg√§nzung zum Hintergrund und f√ºr andere Zwecke. <br><br>  Die meisten Systeme unterst√ºtzten mehrere oder (im Fall von Galaga) viele Sprites.  Sie hatten andere Namen: Atari nannte sie zuerst "Player-Missile Graphics", und in der fr√ºhen Commodore-Dokumentation wurden sie als "Movable Object Blocks" (MOBs) bezeichnet.  Nach und nach nannten sie jedoch fast alle Sprites. <br><br>  Ger√§te-Arcade-Maschine Pac-Man unterst√ºtzt Sprite-Grafiken.  Es k√∂nnen bis zu acht Sprites gleichzeitig auf dem Bildschirm angezeigt werden, ohne dass Tricks mit Scanlinien verwendet werden m√ºssen.  Einer der Sprites ist das Bild von Pac-Man selbst, und vier weitere werden von Geistern verwendet.  Wenn Pac-Man den Geist isst, benutzen seine Augen, die nach Hause zur√ºckkehren, das Geister-Sprite. <br><br>  Nicht alles, was sich auf dem Bildschirm √§ndert, ist ein Sprite.  Eine andere Art von Grafik, die von den Ger√§ten dieser Zeit verwendet wird, ist der Kachelhintergrund.  Es war nur ein Raster einzelner grafischer Elemente, die im Speicher gespeichert waren.  Wenn Sie den Inhalt eines Speicherbereichs √§ndern, √§ndert sich auch sofort ein kleiner Teil des Bildschirms, der diesem Teil des Rasters entspricht.  Daher ist die Arbeit mit diesen Gittern einfach. <br><br>  Punkte im Pac-Man-Spiel sind Kacheln (Kacheln) des Hintergrunds, die gel√∂scht werden, wenn Pac-Man sie isst.  Das Flackern des Energizers, das Pac-Man St√§rke verleiht, erfolgt durch F√§rben dieser Zellen alle paar Frames schwarz und dann wei√ü.  Diese Objekte bewegen sich jedoch nicht, sie k√∂nnen nur entfernt oder ersetzt werden. <br><br>  Das Problem mit Zeichenkachelgrafiken ist, dass sie sich nicht reibungslos bewegen k√∂nnen.  Es befindet sich im Raster, sodass sich ein sich bewegendes Hintergrundobjekt nicht reibungslos auf dem Bildschirm bewegen kann, wie dies Pac-Man und Geister tun.  Es kann sich nur zwischen Gitterzellen bewegen.  Es ist unm√∂glich, einen Teil des Gitterraums zu verschieben, entweder ist er da oder nicht. <br><br>  Ja, das ist interessant.  Aber was nun? <br><br><h2>  Grundlagen der Pac-Man-Welt </h2><br>  Als Kind habe ich f√ºr meinen Commodore 64 kleine Spiele auf Microsoft BASIC geschrieben. Diese Implementierung von BASIC hatte Probleme.  Die Programme wurden langsam ausgef√ºhrt und verwendeten fast nie die Sound- und Grafikressourcen des Computers, die f√ºr ihre Zeit erstaunlich waren.  Wenn Sie etwas mit Grafik und Sound anfangen wollten, mussten Sie die kryptischen technischen Direktspeicherzugriffsbefehle namens POKEs erlernen oder das Schreiben in Maschinencode lernen. <br><br>  Eine L√∂sung bestand darin, Zeichenobjekte anstelle von Sprite-Systemgrafiken zu verwenden, wie oben beschrieben.  Objekte machten fliesengro√üe Spr√ºnge, aber es war viel einfacher, damit zu arbeiten.  Es war m√∂glich, ein Spiel mit Charaktergrafiken zu erstellen, und dann, als das Projekt bereits gro√ü und ernst wurde und ich es den Leuten zeigen wollte, auf die Verwendung von Hardware-Sprites umzusteigen. <br><br>  Ein Objekt im Speicher konnte immer noch im gleichen Schritt von acht Pixeln √ºberspringen, aber der Player hat dies nicht gesehen.  Alles, was er sah, war ein flackerndes Sprite-Bild, das gr√∂√üer sein konnte als die Charakterkachel und das versteckte, was tats√§chlich geschah.  Wenn man sich der Programmierung mit Bedacht n√§herte, war es m√∂glich, die Position des Sprites so zu interpolieren, dass seine Bewegung ruhiger schien.  Wenn Sie es gut genug gemacht haben, hat der Spieler den Unterschied nie bemerkt.  Nur du w√ºrdest die Wahrheit wissen. <br><br>  Sie m√ºssen erraten haben, wohin ich f√ºhre.  Denn so wurde <em>Pac-Man programmiert</em> . <br><br>  Tats√§chlich hatten sowohl Pac-Man als auch Geister jeweils zwei Positionen.  Dies ist die Position von Sprite-Grafiken, die sich reibungslos auf dem Bildschirm bewegen, den der Player sieht.  Solche Informationen werden dem Spieler gegeben, wenn er das Spiel spielt, aber dies ist nur ein Schatten, eine Illusion.  Wenn Sie verstehen m√∂chten, wie Pac-Man tats√§chlich funktioniert, m√ºssen Sie genauer hinschauen. <br><br>  Hinter den Kulissen des Spiels ber√ºcksichtigt Pac-Man auch, welche Charakterzellen von Pac-Man und Geistern besetzt sind.  Es gibt keine Spuren dieser Koordinaten auf dem Bildschirm.  Ich vermute, dass die Entwickler in den fr√ºhen Phasen von Pac-Man beim Experimentieren mit dem Gameplay Kacheln direkt auf den Bildschirm zeichnen konnten.  Jamie Pittman entdeckte, dass diese Koordinaten f√ºr die k√ºnstliche Intelligenz aller Geister verwendet werden und dass sie auch zur Erkennung aller Kollisionen im Spiel verwendet werden. <br><br>  Um diese Illusion aufrechtzuerhalten, muss das Spiel Tricks ausf√ºhren.  Sie verfolgt, wie weit sich Pac-Man und die Geister auf Abonnentenebene von ihrer aktuellen Zelle entfernt haben, und wechselt sie in eine neue Position, wenn sie weit genug entfernt sind.  Ein etwas schnelleres Objekt hat eine Geschwindigkeit, die das √Ñndern von Zellen etwas h√§ufiger macht. <br><br>  Diese Elemente - Gitterkoordinaten, Verfolgung zwischen Zellen und die Position des Sprites auf dem Bildschirm - erzeugen die Illusion einer reibungslosen Bewegung.  Aus Sicht des Spiels wird die Bewegung jedoch genauso ausgef√ºhrt wie in meinem Fall, als ich die Zellgrafiken von Charakteren auf Commodore 64 programmiert habe. <br><br><h2>  Abrechnung </h2><br>  Jetzt haben wir alle Informationen, die Sie ben√∂tigen, um zu verstehen, wie Pac-Man durch Geister gehen kann. <br><br>  Pac-Man-Kollisionen werden durch Vergleichen ihrer Gitterkoordinaten mit den Koordinaten von Geistern erkannt.  Wenn sie gleich sind, tritt eine Kollision auf und einer frisst den anderen.  Wenn sie unterschiedlich sind, gibt es keine Kollision.  Das ist alles, nicht mehr und nicht weniger. <br><br>  Sie sehen, dass der Grund f√ºr diese Entscheidung die Geschwindigkeit der Kollisionserkennung in Prozessorzyklen ist.  In jedem Frame vergleicht er die Zahlen X und Y eines Pac-Man-Charakters mit den Zahlen der vier Geister.  Dank dessen muss er sich keine Sorgen um Entfernungen und riskante Situationen machen.  Kollisionen sind exakte √úbereinstimmungen von Koordinaten im Rastersystem. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/63b/745/f6e/63b745f6eba1e94d8b8598b971d7e610.png"><br>  <em>Dieses Gitter entspricht (ungef√§hr) dem Kachelkoordinatensystem, das die wahren Positionen der Spielfiguren darstellt.</em>  <em>Die Kollisionserkennung verwendet dieses Raster.</em>  <em>Das Spiel registriert nur dann eine Kollision, wenn die Koordinaten der Kacheln beider Charaktere √ºbereinstimmen.</em>  <em>Dies bedeutet, dass sie eine Gitterzelle belegen m√ºssen.</em> <br><br>  Das Problem tritt auf, wenn die Positionen von Pac-Man und dem Geist, die sich aufeinander zu bewegen, zur n√§chsten Zelle im selben Frame wechseln.  Die Kollisionspr√ºfung wird durchgef√ºhrt, nachdem sich alle Objekte im aktuellen Frame bewegt haben.  Wenn Pac-Man zur Blinky-Zelle und Blinky zur vorherigen Pac-Man-Zelle im selben Frame wechselt, tritt ein Fehler auf, wenn eine Kollision erkannt wird.  Sie haben die Pl√§tze getauscht! <br><br>  Da dies die einzige Realit√§tsebene ist, die wirklich etwas im Spiel bedeutet, <em>ist es</em> nicht wichtig, was der Spieler <em>sieht</em> .  Pac-Man und der Geist gehen einfach durch und "divergieren wie Schiffe im Meer". <br><br>  K√ºnstliche Intelligenz (KI) im Spiel hat einen deterministischen Charakter, sodass Sie ein Muster f√ºr die Wiederholung von Verhalten identifizieren k√∂nnen.  Trotz der Tatsache, dass die Zeit f√ºr die Manifestation eines Fehlers beim Durchlaufen genau auf das Bild abgestimmt sein muss, muss der <em>Spieler</em> nicht genau auf das Bild genau sein, wenn er die Regeln f√ºr die Ausf√ºhrung von Pac-Man-Bewegungsmustern befolgt.  So wurde Jamie Pittmans Video aufgenommen. <br><br>  Ich habe eine so detaillierte Beschreibung gegeben, um eine wichtige Tatsache hervorzuheben.  Es ist sehr einfach, Objekte im Spiel als real wahrzunehmen.  Pac-Man ist so <em>ein Objekt</em> auf dem Bildschirm, Geister sind auch Objekte wie ein Raumschiff, Mario, Sonic, Solid Snake, ein Soldat von Call of Duty.  Alle von ihnen sind Objekte.  Aber das ist eine Illusion. <br><br>  Tats√§chlich geben sie alle nur einen Hinweis auf ein internes, tieferes System.  In diesem System muss der Computer ernsthafte Arbeit leisten, um festzustellen, ob sich zwei Objekte <em>ber√ºhren</em> .  Was Sie auf dem Bildschirm sehen, ist eine Illustration der abstrakten Welt, und ein Teil des Spiels √ºbertr√§gt Informationen aus dieser Welt √ºber den Bildschirm auf eine Weise an den Spieler, die seinem Realit√§tssinn entspricht. <br><br>  Es ist sehr leicht zu vergessen, wie d√ºnn diese Verbindung ist.  Woher wissen Sie, welches Objekt Sie auf dem Bildschirm steuern?  Er unterscheidet sich von anderen und reagiert auf das Management.  Was aber, wenn genau dasselbe auf dem Bildschirm angezeigt wird?  Oder bewegt sich Ihr Objekt manchmal zuf√§llig, reagiert verz√∂gert auf Steuersignale, wird manchmal unsichtbar, zweigeteilt und wird wie einer der Feinde? <br><br>  Die Aufgabe des Designers ist es, die Verbindung zwischen der inneren Welt des Spiels und dem, was Sie auf dem Bildschirm sehen, so einfach und unmittelbar wie m√∂glich herzustellen (nat√ºrlich, wenn er nicht versucht, einen Spezialeffekt zu erzielen).  Dies ist, was <em>Eintauchen</em> bedeutet oder bedeuten sollte. <br><br><h2>  Weitere Informationen </h2><br>  Wirf eine M√ºnze in den Arcade-Automaten ‚Äû20 Year Reunion‚Äú und betrete sie mit dem Joystick des ersten Spielers: hoch, hoch, hoch, runter, runter, runter, links, rechts, links, rechts, links.  Wenn der Geist auf dem Game Select-Bildschirm rosa wird und Sie einen Ton h√∂ren, ist alles korrekt.  Nun, wenn Sie das Spiel w√§hlen, Frau  Pac-Man, dann spielen Sie stattdessen den originalen Pac-Man. <br><br>  Auf einigen Grafikhardware k√∂nnen Sie Tricks mit Scanlinien verwenden, um m√§chtige Magie zu erzeugen.  In einem System, das nur acht Sprites anzeigen kann, kann beispielsweise mehr erreicht werden, allerdings auf Kosten der Prozessorzeit und der verringerten Flexibilit√§t. <br><br>  In dieser Hinsicht ist die Atari VCS / 2600-Konsole am bemerkenswertesten, da die meisten Systemgrafiken dort mit Tricks mit Scanlinien erstellt wurden.  Lesen Sie mehr √ºber diese Techniken im Buch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>Racing The Beam</em></a> . <br><br>  <em>Quellen:</em> <em><br></em>  <em>Dossier √ºber Pac-Man: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://www.gamasutra.com/view/feature/3938/the_pacman_dossier.php?print=1</a></em> <em><br></em>  <em>Jamie Pittmans YouTube-Kanal: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://www.youtube.com/user/jameypittman/videos</a></em> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de403115/">https://habr.com/ru/post/de403115/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de403101/index.html">Was ist bei der Auswahl einer unterbrechungsfreien Stromversorgung zu beachten?</a></li>
<li><a href="../de403105/index.html">Rombica-Ladeger√§te liefern Energie von Notebooks bis hin zu Koptern</a></li>
<li><a href="../de403107/index.html">7 mobile Anwendungen aus Russland erschienen aufgrund von Crowdfunding</a></li>
<li><a href="../de403109/index.html">Es wurde ein Skript entwickelt, um einen PIN-Code √ºber einen Smartphone-Browser zu stehlen</a></li>
<li><a href="../de403113/index.html">Intel Xeon Prozessoren, Fr√ºhjahr-Sommer 2017 Lineup</a></li>
<li><a href="../de403117/index.html">ESUN 3D-Druck - √úbersicht</a></li>
<li><a href="../de403121/index.html">Sichere Kopfh√∂rer und Headsets f√ºr Radfahrer</a></li>
<li><a href="../de403123/index.html">Wenn Sie wirklich wollen, k√∂nnen Sie jeden finden</a></li>
<li><a href="../de403125/index.html">Polar auf Kartesisch oder was macht der Ring der M√ºnzen</a></li>
<li><a href="../de403127/index.html">Praktischer Fall: Warum ben√∂tigt der B√∂rsenhandel m√∂glicherweise eine Blockchain?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>