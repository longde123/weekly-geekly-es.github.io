<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ® âºï¸ ğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ‘©ğŸ¾ å¦‚ä½•ä½¿ç”¨ç”Ÿæˆå™¨å‡å°‘å†…å­˜ä½¿ç”¨å¹¶åŠ é€ŸPythonä»£ç  ğŸ¤º ğŸ¤¾ğŸ¾ ğŸšµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¤§å®¶å¥½ ä»Šå¤©ï¼Œæˆ‘ä»¬è¦åˆ†äº«ä¸€ç§æœ‰ç”¨çš„ç¿»è¯‘ï¼Œè¯¥ç¿»è¯‘æ˜¯åœ¨â€œ Pythonçš„Webå¼€å‘äººå‘˜â€è¯¾ç¨‹å¯åŠ¨ä¹‹å‰å‡†å¤‡çš„ã€‚ åœ¨åˆ›å»ºWebåº”ç”¨ç¨‹åºï¼Œæœºå™¨å­¦ä¹ æ¨¡å‹æˆ–æµ‹è¯•æ—¶ï¼Œç”¨Pythonç¼–å†™èŠ‚çœæ—¶é—´å’Œå†…å­˜çš„ä»£ç å°¤ä¸ºé‡è¦ã€‚ 





 å½“æˆ‘å¼€å§‹ç”¨Pythonå­¦ä¹ ç”Ÿæˆå™¨æ—¶ï¼Œæˆ‘ä¸çŸ¥é“å®ƒä»¬æœ‰å¤šé‡è¦ã€‚ ä½†æ˜¯ï¼Œä»–ä»¬åœ¨æœºå™¨å­¦ä¹ çš„æ•´ä¸ª...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å¦‚ä½•ä½¿ç”¨ç”Ÿæˆå™¨å‡å°‘å†…å­˜ä½¿ç”¨å¹¶åŠ é€ŸPythonä»£ç </h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/477926/"><p> å¤§å®¶å¥½ ä»Šå¤©ï¼Œæˆ‘ä»¬è¦åˆ†äº«ä¸€ç§æœ‰ç”¨çš„ç¿»è¯‘ï¼Œè¯¥ç¿»è¯‘æ˜¯åœ¨<a href="https://otus.pw/m8hh/">â€œ Pythonçš„Webå¼€å‘äººå‘˜â€</a>è¯¾ç¨‹å¯åŠ¨ä¹‹å‰å‡†å¤‡çš„ã€‚ åœ¨åˆ›å»ºWebåº”ç”¨ç¨‹åºï¼Œæœºå™¨å­¦ä¹ æ¨¡å‹æˆ–æµ‹è¯•æ—¶ï¼Œç”¨Pythonç¼–å†™èŠ‚çœæ—¶é—´å’Œå†…å­˜çš„ä»£ç å°¤ä¸ºé‡è¦ã€‚ </p><br><p><img src="https://habrastorage.org/webt/ii/2f/-o/ii2f-oqb0scheybgzq7yavjz1ue.png"></p><a name="habracut"></a><br><p> å½“æˆ‘å¼€å§‹ç”¨Pythonå­¦ä¹ ç”Ÿæˆå™¨æ—¶ï¼Œæˆ‘ä¸çŸ¥é“å®ƒä»¬æœ‰å¤šé‡è¦ã€‚ ä½†æ˜¯ï¼Œä»–ä»¬åœ¨æœºå™¨å­¦ä¹ çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ä¸æ–­åœ°å¸®åŠ©æˆ‘ç¼–å†™åŠŸèƒ½ã€‚ </p><br><p> ç”Ÿæˆå™¨å‡½æ•°ä½¿æ‚¨å¯ä»¥å£°æ˜ä¸€ä¸ªè¡Œä¸ºç±»ä¼¼äºè¿­ä»£å™¨çš„å‡½æ•°ã€‚ å®ƒä»¬å…è®¸ç¨‹åºå‘˜åˆ›å»ºå¿«é€Ÿï¼Œç®€å•å’Œå¹²å‡€çš„è¿­ä»£å™¨ã€‚ è¿­ä»£å™¨æ˜¯å¯ä»¥é‡å¤ï¼ˆå¾ªç¯ï¼‰çš„å¯¹è±¡ã€‚ å®ƒç”¨äºæŠ½è±¡æ•°æ®å®¹å™¨å¹¶ä½¿å®ƒçš„è¡Œä¸ºç±»ä¼¼äºå¯è¿­ä»£çš„å¯¹è±¡ã€‚ ä¾‹å¦‚ï¼Œå¯è¿­ä»£å¯¹è±¡çš„ç¤ºä¾‹å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ—è¡¨å’Œå­—å…¸ã€‚ </p><br><p> ç”Ÿæˆå™¨çœ‹èµ·æ¥åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯ä½¿ç”¨yieldå…³é”®å­—è€Œä¸æ˜¯returnã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼Œä½¿å…¶æ›´æ¸…æ¥šã€‚ </p><br><pre><code class="plaintext hljs">def generate_numbers(): n = 0 while n &lt; 3: yield n n += 1</code> </pre> <br><p> è¿™æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨åŠŸèƒ½ã€‚ è°ƒç”¨å®ƒæ—¶ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ã€‚ </p><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; numbers = generate_numbers() &gt;&gt;&gt; type(numbers) &lt;class 'generator'&gt;</code> </pre> <br><p> é‡è¦çš„æ˜¯è¦æ³¨æ„çŠ¶æ€å¦‚ä½•å°è£…åœ¨ç”Ÿæˆå™¨å‡½æ•°çš„ä¸»ä½“ä¸­ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å†…ç½®çš„nextï¼ˆï¼‰å‡½æ•°ä¸€æ¬¡è¿­ä»£ä¸€ä¸ªï¼š </p><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; next_number = generate_numbers() &gt;&gt;&gt; next(next_number) 0 &gt;&gt;&gt; next(next_number) 1 &gt;&gt;&gt; next(next_number) 2</code> </pre> <br><h2 id="chto-proizoydet-esli-vy-vyzovete-next-posle-okonchaniya-vypolneniya"> å¦‚æœæ‰§è¡Œç»“æŸåè°ƒç”¨nextï¼ˆï¼‰ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ </h2><br><p>  StopIterationæ˜¯å†…ç½®çš„å¼‚å¸¸ç±»å‹ï¼Œä¸€æ—¦ç”Ÿæˆå™¨åœæ­¢è¿”å›ç»“æœï¼Œè¯¥å¼‚å¸¸å°±ä¼šè‡ªåŠ¨å‘ç”Ÿã€‚ è¿™æ˜¯forå¾ªç¯çš„åœæ­¢ä¿¡å·ã€‚ </p><br><h2 id="operator-yield"> æ”¶ç›Šå£°æ˜ </h2><br><p> å®ƒçš„ä¸»è¦ä»»åŠ¡æ˜¯æ§åˆ¶ç”Ÿæˆå™¨å‡½æ•°çš„æµç¨‹ï¼Œä½¿å…¶çœ‹èµ·æ¥åƒä¸€ä¸ªreturnè¯­å¥ã€‚ å½“è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°æˆ–ä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼æ—¶ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªç§°ä¸ºç”Ÿæˆå™¨çš„ç‰¹æ®Šè¿­ä»£å™¨ã€‚ è¦ä½¿ç”¨ç”Ÿæˆå™¨ï¼Œè¯·å°†å…¶åˆ†é…ç»™æŸä¸ªå˜é‡ã€‚ åœ¨ç”Ÿæˆå™¨ä¸­è°ƒç”¨è¯¸å¦‚nextï¼ˆï¼‰ä¹‹ç±»çš„ç‰¹æ®Šæ–¹æ³•æ—¶ï¼Œå°†æ‰§è¡ŒåŠŸèƒ½ä»£ç ï¼Œç›´åˆ°yieldä¸ºæ­¢ã€‚ </p><br><p> å½“å®ƒè¿›å…¥yieldè¯­å¥æ—¶ï¼Œç¨‹åºå°†æš‚åœè¯¥å‡½æ•°ï¼Œå¹¶å°†è¯¥å€¼è¿”å›ç»™å¯åŠ¨æ‰§è¡Œçš„å¯¹è±¡ã€‚  ï¼ˆè€Œreturnä¼šå®Œå…¨åœæ­¢æ‰§è¡Œè¯¥å‡½æ•°ã€‚ï¼‰å½“å‡½æ•°æŒ‚èµ·æ—¶ï¼Œå…¶çŠ¶æ€å°†ä¿ç•™ã€‚ </p><br><p> æ—¢ç„¶æˆ‘ä»¬ç†Ÿæ‚‰äº†Pythonä¸­çš„ç”Ÿæˆå™¨ï¼Œå°±å¯ä»¥å°†å¸¸ç”¨æ–¹æ³•ä¸ä½¿ç”¨ç”Ÿæˆå™¨çš„æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œä»¥èŠ‚çœåœ¨ä»£ç æ‰§è¡Œä¸ŠèŠ±è´¹çš„å†…å­˜å’Œæ—¶é—´ã€‚ </p><br><h2 id="postanovka-problemy"> é—®é¢˜é™ˆè¿° </h2><br><p> å‡è®¾æˆ‘ä»¬éœ€è¦éå†å¤§é‡æ•°å­—ï¼ˆä¾‹å¦‚ï¼Œ1,000,000,000ï¼‰ï¼Œç„¶åå°†éœ€è¦å•ç‹¬å­˜å‚¨çš„æ‰€æœ‰æ•°å­—çš„å¹³æ–¹ä¿å­˜åœ¨å¦ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚ </p><br><h2 id="obychnyy-podhod"> é€šå¸¸çš„æ–¹æ³• </h2><br><pre> <code class="plaintext hljs">import memory_profiler import time def check_even(numbers): even = [] for num in numbers: if num % 2 == 0: even.append(num*num) return even if __name__ == '__main__': m1 = memory_profiler.memory_usage() t1 = time.clock() cubes = check_even(range(100000000)) t2 = time.clock() m2 = memory_profiler.memory_usage() time_diff = t2 - t1 mem_diff = m2[0] - m1[0] print(f"It took {time_diff} Secs and {mem_diff} Mb to execute this method")</code> </pre> <br><p> è¿è¡Œä¸Šé¢çš„ä»£ç åï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼š </p><br><pre> <code class="plaintext hljs">It took 21.876470000000005 Secs and 1929.703125 Mb to execute this method</code> </pre> <br><p> ä½¿ç”¨å‘ç”µæœº </p><br><pre> <code class="plaintext hljs">import memory_profiler import time def check_even(numbers): for num in numbers: if num % 2 == 0: yield num * num if __name__ == '__main__': m1 = memory_profiler.memory_usage() t1 = time.clock() cubes = check_even(range(100000000)) t2 = time.clock() m2 = memory_profiler.memory_usage() time_diff = t2 - t1 mem_diff = m2[0] - m1[0] print(f"It took {time_diff} Secs and {mem_diff} Mb to execute this method")</code> </pre> <br><p> è¿è¡Œä¸Šé¢çš„ä»£ç åï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼š </p><br><pre> <code class="plaintext hljs">It took 2.9999999995311555e-05 Secs and 0.02656277 Mb to execute this method</code> </pre> <br><p> å¦‚æˆ‘ä»¬æ‰€è§ï¼Œè¿è¡Œæ—¶å’Œä½¿ç”¨çš„å†…å­˜å¤§å¤§å‡å°‘äº†ã€‚ ç”Ÿæˆå™¨ä»¥ç§°ä¸ºâ€œæƒ°æ€§è®¡ç®—â€çš„åŸç†è¿›è¡Œæ“ä½œã€‚ è¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥èŠ‚çœå¤„ç†å™¨ï¼Œå†…å­˜å’Œå…¶ä»–è®¡ç®—èµ„æºã€‚ </p><br><h2 id="zaklyuchenie"> ç»“è®º </h2><br><p> æˆ‘å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿè¯´æ˜å¦‚ä½•ä½¿ç”¨Pythonä¸­çš„ç”Ÿæˆå™¨æ¥èŠ‚çœè¯¸å¦‚å†…å­˜å’Œæ—¶é—´ä¹‹ç±»çš„èµ„æºã€‚ ä¹‹æ‰€ä»¥å‡ºç°è¿™ç§ä¼˜åŠ¿ï¼Œæ˜¯å› ä¸ºç”Ÿæˆå™¨æ²¡æœ‰å°†æ‰€æœ‰ç»“æœå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè€Œæ˜¯å³æ—¶è®¡ç®—å®ƒä»¬ï¼Œå¹¶ä¸”ä»…å½“æˆ‘ä»¬è¯·æ±‚è®¡ç®—ç»“æœæ—¶æ‰ä½¿ç”¨å†…å­˜ã€‚ ç”Ÿæˆå™¨è¿˜å…è®¸æ‚¨æŠ½è±¡å¤§é‡çš„æ ·æ¿ä»£ç ï¼Œè¿™æ˜¯ç¼–å†™è¿­ä»£å™¨æ‰€å¿…éœ€çš„ï¼Œå› æ­¤å®ƒä»¬è¿˜æœ‰åŠ©äºå‡å°‘ä»£ç é‡ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN477926/">https://habr.com/ru/post/zh-CN477926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN477910/index.html">é»‘è‰²æ˜ŸæœŸäº”2019-è«æ–¯ç§‘å’Œé˜¿å§†æ–¯ç‰¹ä¸¹çš„VDSï¼Œå¸¦GPUçš„æœåŠ¡å™¨</a></li>
<li><a href="../zh-CN477912/index.html">å…·æœ‰E Ink Carta Mobiuså±å¹•çš„10.3è‹±å¯¸PocketBook Xé˜…è¯»å™¨çš„ç¬¬ä¸€å°è±¡</a></li>
<li><a href="../zh-CN477914/index.html">æŠ•å½±åœ¨å¤©èŠ±æ¿ä¸Šï¼šä½¿ç”¨æŠ•å½±æœºä¸€å‘¨åçš„å°è±¡ï¼Œæ”¾åœ¨â€œæœ«ç«¯â€</a></li>
<li><a href="../zh-CN477916/index.html">æ¶æ„è½¯ä»¶çš„åˆ›å»ºè€…å¦‚ä½•å°è¯•é¿å…å¯¹å…¶è¿›è¡Œæ£€æµ‹ï¼šæˆ‘ä»¬ä»¥Spy.GmFUToMitmä¸ºä¾‹è¿›è¡Œåˆ†æ</a></li>
<li><a href="../zh-CN477924/index.html">JavaFXæ•™ç¨‹ï¼šCSSæ ·å¼</a></li>
<li><a href="../zh-CN477928/index.html">QA-mitap Redmadrobotçš„æŠ¥å‘Šè®°å½•</a></li>
<li><a href="../zh-CN477930/index.html">MVPçš„æœ€ä½³ä½“ç³»ç»“æ„ï¼šæ•´ä½“å¼ï¼ŒSOAï¼Œå¾®æœåŠ¡è¿˜æ˜¯æ— æœåŠ¡å™¨ï¼Ÿ..ç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN477934/index.html">æˆ¿ä¸œåœ¨é»‘è‰²æ˜ŸæœŸäº”2019çš„æŠ˜æ‰£</a></li>
<li><a href="../zh-CN477936/index.html">ITå­—å…¸è¿˜æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨å“ª å»å“ªé‡Œ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN477940/index.html">åˆ›å»ºAndroidåº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨çš„åŸºå‡†ORM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>