<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ท โ๏ธ ๐ฉ๐ปโ๐ง ุชุฃุซูุฑ ุตูุญุงุช ุถุฎูุฉ ุดูุงูุฉ ุนูู ุฃุฏุงุก ุงููุธุงู ๐ ๐ ๐ต๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุชู ูุดุฑ ุงูููุงู ููุงุจุฉ ุนู ุฌูู ุฃุฎุงูุชุณูู ุ ุฌูุฌุง 
 
 Tinkoff.ru ุงูููู ููุณ ูุฌุฑุฏ ุจูู ุ ุจู ูู ุดุฑูุฉ ุชูููููุฌูุง ุงููุนูููุงุช. ุฅูู ูุง ูููุฑ ุงูุฎุฏูุงุช ุงููุตุฑููุฉ ูุญุณุจ ุ ุจู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุฃุซูุฑ ุตูุญุงุช ุถุฎูุฉ ุดูุงูุฉ ุนูู ุฃุฏุงุก ุงููุธุงู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/446342/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <i>ูุชู ูุดุฑ ุงูููุงู ููุงุจุฉ ุนู ุฌูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ุฃุฎุงูุชุณูู</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ุฌูุฌุง</a></i> <i><br></i> <br>  Tinkoff.ru ุงูููู ููุณ ูุฌุฑุฏ ุจูู ุ ุจู ูู ุดุฑูุฉ ุชูููููุฌูุง ุงููุนูููุงุช.  ุฅูู ูุง ูููุฑ ุงูุฎุฏูุงุช ุงููุตุฑููุฉ ูุญุณุจ ุ ุจู ูุจูู ุฃูุถูุง ูุธุงููุง ุจูุฆููุง ูู ุญูููู. </p><br><p style=";text-align:right;direction:rtl">  ูุญู ูู Tinkoff.ru ูุฏุฎู ูู ุดุฑุงูุฉ ูุน ูุฎุชูู ุงูุฎุฏูุงุช ูุชุญุณูู ุฌูุฏุฉ ุฎุฏูุฉ ุงูุนููุงุก ุ ูุงููุณุงุนุฏุฉ ูู ุฃู ูุตุจุญ ุฎุฏูุงุช ุฃูุถู.  ุนูู ุณุจูู ุงููุซุงู ุ ุฃุฌุฑููุง ุงุฎุชุจุงุฑ ุงูุญูู ูุชุญููู ุงูุฃุฏุงุก ูุฃุญุฏ ูุฐู ุงูุฎุฏูุงุช ุงูุชู ุณุงุนุฏุช ูู ุงูุนุซูุฑ ุนูู ุงูุงุฎุชูุงูุงุช ูู ุงููุธุงู - ูุดููุช ุตูุญุงุช ุถุฎูุฉ ุดูุงูุฉ ูู ุชูููู ูุธุงู ุงูุชุดุบูู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุฑุบุจ ูู ูุนุฑูุฉ ููููุฉ ุฅุฌุฑุงุก ุชุญููู ูุฃุฏุงุก ุงููุธุงู ููุงุฐุง ุฌุงุก ูุนูุง ุ ููุฑุญุจุงู ุจู ูู cat. </p><a name="habracut"></a><br><h3 id="opisanie-problemy" style=";text-align:right;direction:rtl">  ูุตู ุงููุดููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุช ุงูุญุงูู ุ ุจููุฉ ุงูุฎุฏูุฉ ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎุงุฏู ุงูููุจ Nginx ููุนุงูุฌุฉ ุงุชุตุงูุงุช HTTP </li><li style=";text-align:right;direction:rtl">  php-fpm ููุชุญูู ูู ุนูููุฉ php </li><li style=";text-align:right;direction:rtl">  Redis ููุชุฎุฒูู ุงููุคูุช </li><li style=";text-align:right;direction:rtl">  PostgreSQL ูุชุฎุฒูู ุงูุจูุงูุงุช </li><li style=";text-align:right;direction:rtl">  ุญู ุงูุชุณูู ูููุฉ ูุงุญุฏุฉ </li></ul><br><p style=";text-align:right;direction:rtl">  ูุงูุช ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ูุฌุฏูุงูุง ุฃุซูุงุก ุนูููุฉ ุงูุจูุน ุงูุชุงููุฉ ุชุญุช ุงูุญูู ุงููุจูุฑ ูู ุงูุงุณุชุฎุฏุงู ุงูุนุงูู ููุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ุจูููุง ุฒุงุฏ ููุช ุงููุนุงูุฌ ูู ูุถุน kernel (ููุช ุงููุธุงู) ููุงู ุฃุทูู ูู ุงูููุช ูู ูุถุน ุงููุณุชุฎุฏู (ููุช ุงููุณุชุฎุฏู). </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุช ุงููุณุชุฎุฏู - ุงูููุช ุงูุฐู ููุถูู ุงููุนุงูุฌ ูู ููุงู ุงููุณุชุฎุฏู.  ูุฐุง ูู ุงูุดูุก ุงูุฑุฆูุณู ุงูุฐู ุชุฏูุนู ููุงุจู ุดุฑุงุก ูุนุงูุฌ. </li><li style=";text-align:right;direction:rtl">  ููุช ุงููุธุงู - ููุฏุงุฑ ุงูููุช ุงูุฐู ููุถูู ุงููุธุงู ูู ุงูุชุฑุญูู ูุชุบููุฑ ุงูุณูุงูุงุช ูุชุดุบูู ุงูููุงู ุงููุฌุฏููุฉ ูููุงู ุงููุธุงู ุงูุฃุฎุฑู. </li></ul><br><h3 id="opredelenie-pervichnyh-harakteristik-sistemy" style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ุงูุฎุตุงุฆุต ุงูุฃุณุงุณูุฉ ูููุธุงู </h3><br><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุฌูุนูุง ุฏุงุฆุฑุฉ ุชุญููู ุจููุงุฑุฏ ูุฑูุจุฉ ูู ุงูุฅูุชุงุฌูุฉ ุ ููููุง ุจุชุฌููุน ููู ุชุนุฑูู ุชุญููู ูุทุงุจู ููุชุญููู ุงูุนุงุฏู ูู ููู ุนุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุงุฎุชูุงุฑ Gatling ุงูุฅุตุฏุงุฑ 3 ูุฃุฏุงุฉ ูููุตู ุ ูุชู ุชูููุฐ ุงููุตู ููุณู ุฏุงุฎู ุงูุดุจูุฉ ุงููุญููุฉ ุนุจุฑ ุนุฏุงุก gitlab.  ูุฑุฌุน ูููุน ุงููููุงุก ูุงูุฃูุฏุงู ูู ููุณ ุงูุดุจูุฉ ุงููุญููุฉ ุฅูู ุงูุฎูุงุถ ุชูุงููู ุงูุดุจูุฉ ุ ูุฐูู ูุญู ูุฑูุฒ ุนูู ุงูุชุญูู ูู ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููุณูุง ุ ูููุณ ุนูู ุฃุฏุงุก ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุชู ุชู ูุดุฑ ุงููุธุงู ูููุง. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุญุฏูุฏ ุงูุฎุตุงุฆุต ุงูุฃุณุงุณูุฉ ูููุธุงู ุ ูููู ุณููุงุฑูู ูุน ุฒูุงุฏุฉ ุงูุญูู ุงูุฎุทู ุจุชูููู http ููุงุณุจูุง: </p><br><pre style=";text-align:right;direction:rtl"><code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> httpConfig: <span class="hljs-type"><span class="hljs-type">HttpProtocolBuilder</span></span> = http .baseUrl(<span class="hljs-string"><span class="hljs-string">"https://test.host.ru"</span></span>) .inferHtmlResources() <span class="hljs-comment"><span class="hljs-comment">//      .disableCaching //  ,      "" . .disableFollowRedirect //   /// MULTIPLIER   JAVA_OPTS setUp( Scenario.inject( rampUsers(100 * MULTIPLIER) during (200 * MULTIPLIER seconds)) ).protocols(httpConfig) .maxDuration(1 hour)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงููุฑุญูุฉ ุ ูููุง ุจุชูููุฐ ุจุฑูุงูุฌ ูุตู ููุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุชูุฒูู ุฌููุน ุงูููุงุฑุฏ </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/6y/7s/dn/6y7sdnc1rymvwh6i9tbm1jnnmqk.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃุธูุฑุช ูุชุงุฆุฌ ูุฐุง ุงูุงุฎุชุจุงุฑ ุฃูุตู ุฃุฏุงุก ูุฏุฑู 1500 ุฏูุฑุฉ ูู ุงูุซุงููุฉ ุ ููุง ุฃุฏู ุฅูู ุฒูุงุฏุฉ ุดุฏุฉ ุงูุญูู ุฅูู ุชุฏููุฑ ุงููุธุงู ุงููุฑุชุจุท ุจุฒูุงุฏุฉ ููุช softirq. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pb/rn/st/pbrnstk2hbvjxehzazn6eklcbqs.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/i4/kl/_o/i4kl_opztz6cszphnk8z7iti320.png"></p><br><p style=";text-align:right;direction:rtl">  Softirq ูู ุขููุฉ ููุงุทุนุฉ ูุคุฌูุฉ ููุชู ูุตููุง ูู ููู kernel / softirq.s.  ูู ุงูููุช ููุณู ุ ููุฑุฑูู ูุงุฆูุฉ ุงูุฅุฑุดุงุฏุงุช ุฅูู ุงููุนุงูุฌ ุ ููุง ูููุนูู ูู ุฅุฌุฑุงุก ุญุณุงุจุงุช ูููุฏุฉ ูู ูุถุน ุงููุณุชุฎุฏู.  ูููู ููุนุงูุฌุงุช ุงูููุงุทุนุฉ ุฃูุถูุง ุชุฃุฎูุฑ ุงูุนูู ุงูุฅุถุงูู ูุน ุญุฒู ุงูุดุจูุฉ ูู ูุคุดุฑุงุช ุชุฑุงุจุท ูุธุงู ุงูุชุดุบูู (ููุช ุงููุธุงู).  ุจุงุฎุชุตุงุฑ ุญูู ุนูู ููุฏุณ ุงูุดุจูุฉ ูุงูุชุญุณููุงุช ูููู ุงูุนุซูุฑ ุนูููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ููุงูุฉ ูููุตูุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูู ูุชู ุชุฃููุฏ ุงูุดููู ุญูู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ุ ูุฃูู ูุงู ููุงู ููุช ุฃุทูู ุจูุซูุฑ ุนูู ุงููุธุงู ูุน ูุดุงุท ุฃูู ุนูู ุงูุดุจูุฉ. </p><br><h3 id="polzovatelskie-scenarii" style=";text-align:right;direction:rtl">  ูุตูุต ุงููุณุชุฎุฏู </h3><br><p style=";text-align:right;direction:rtl">  ูุงูุช ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุชุทููุฑ ุจุฑุงูุฌ ูุตูุฉ ูุฎุตุตุฉ ูุฅุถุงูุฉ ุดูุก ุฃูุซุฑ ูู ูุฌุฑุฏ ูุชุญ ุตูุญุฉ ุจูุง ุตูุฑ.  ูุชุถูู ููู ุงูุชุนุฑูู ุนูููุงุช ุซูููุฉ ุ ุชุชุถูู ุจุดูู ูุงูู ุฑูุฒ ุงููููุน ููุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูููุณ ุฎุงุฏู ููุจ ูููุฑ ููุงุฑุฏ ุซุงุจุชุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุฅุทูุงู ุงุฎุชุจุงุฑ ุงูุญูู ุงููุณุชูุฑ ุจูุซุงูุฉ ุฃูู ูู ุงูุญุฏ ุงูุฃูุตู ุ ูุชูุช ุฅุถุงูุฉ ุงูุชูุงู ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุงูุชูููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> httpConfig: <span class="hljs-type"><span class="hljs-type">HttpProtocolBuilder</span></span> = http .baseUrl(<span class="hljs-string"><span class="hljs-string">"https://test.host.ru"</span></span>) .inferHtmlResources() <span class="hljs-comment"><span class="hljs-comment">//      .disableCaching //  ,      "" . /// MULTIPLIER   JAVA_OPTS setUp( MainScenario .inject(rampUsers(50 * MULTIPLIER) during (200 * MULTIPLIER seconds)), SideScenario .inject(rampUsers(100 * MULTIPLIER) during (200 * MULTIPLIER seconds)) ).protocols(httpConfig) .maxDuration(2 hours)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hz/re/ja/hzrejalbqq3ungtuzcxhxfmjypk.png"><br><img src="https://habrastorage.org/webt/28/vo/om/28voomhlbebmlu7p6tcyppt_boe.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃุธูุฑ ุงูุงุณุชุฎุฏุงู ุงูุฃูุซุฑ ุงูุชูุงูุง ููุฃูุธูุฉ ุฒูุงุฏุฉ ูู ููุงุณ ููุช ุงููุธุงู ุ ููุฐูู ูููู ุฎูุงู ุงุฎุชุจุงุฑ ุงูุงุณุชูุฑุงุฑ.  ุชู ุชูุฑุงุฑ ุงููุดููุฉ ุงููุชุนููุฉ ุจุจูุฆุฉ ุงูุฅูุชุงุฌ. </p><br><h3 id="setevoe-vzaimodeystvie-s-redis" style=";text-align:right;direction:rtl">  ุงูุชูุงุตู ูุน Redis </h3><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุญููู ุงููุดููุงุช ุ ูู ุงูููู ุฌุฏูุง ูุฑุงูุจุฉ ุฌููุน ููููุงุช ุงููุธุงู ูููู ููููุฉ ุนููู ูุชุฃุซูุฑ ุงูุญูู ุงููููุฑ ุนููู. </p><br><p style=";text-align:right;direction:rtl">  ูุน ุธููุฑ ูุฑุงูุจุฉ Redis ุ ุฃุตุจุญ ูู ุงููููู ุนุฏู ุงููุธุฑ ุฅูู ุงูููุงููุณ ุงูุนุงูุฉ ูููุธุงู ุ ูููู ุฅูู ููููุงุชู ุงููุญุฏุฏุฉ.  ุชู ุชุบููุฑ ุณููุงุฑูู ุงุฎุชุจุงุฑ ุงูุฅุฌูุงุฏ ุ ููุง ุณุงุนุฏ ุ ุฅูู ุฌุงูุจ ุงููุฑุงูุจุฉ ุงูุฅุถุงููุฉ ุ ุนูู ูุนุงูุฌุฉ ูุดููุฉ ุชูุทูู ุงููุดููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/8a/4n/c0/8a4nc0gvymij8dh0r0ihpxhrsjg.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุฑุงูุจุฉ ุ ุฑุฃู Redis ุตูุฑุฉ ููุงุซูุฉ ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ุฃู ุจุงูุฃุญุฑู ุ ููุช ุงููุธุงู ุฃุทูู ุจูุซูุฑ ูู ููุช ุงููุณุชุฎุฏู ุ ูู ุญูู ุฃู ุงูุงุณุชุฎุฏุงู ุงูุฑุฆูุณู ููุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุงู ูู ุนูููุฉ SET ุ ุฃู ุชุฎุตูุต ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูุชุฎุฒูู ุงููููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/iy/ey/wn/iyeywnci02gnc2xrv71el7qtllu.png"></p><br><p style=";text-align:right;direction:rtl">  ูููุถุงุก ุนูู ุชุฃุซูุฑ ุชูุงุนู ุงูุดุจูุฉ ูุน Redis ุ ุชูุฑุฑ ุงุฎุชุจุงุฑ ุงููุฑุถูุฉ ูุชุญููู Redis ุฅูู ููุจุณ UNIX ุจุฏูุงู ูู ููุจุณ tcp.  ุชู ุฐูู ูู ุงูุฅุทุงุฑ ุงูุฐู ูุชู ูู ุฎูุงูู ุฑุจุท php-fpm ุจูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูู ุงูููู / yiisoft/yii/framework/caching/CRedisCache.php ุ ุงุณุชุจุฏููุง ุงูุณุทุฑ ูู host: port ุจู redis.sock hardode.  ุงูุฑุฃ ุงููุฒูุฏ ุนู ุฃุฏุงุก ุงูููุจุณ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุงูููุงูุฉ</a> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** * Establishes a connection to the redis server. * It does nothing if the connection has already been established. * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> CException if connecting fails */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_socket=@stream_socket_client( <span class="hljs-comment"><span class="hljs-comment">// $this-&gt;hostname.':'.$this-&gt;port, "unix:///var/run/redis/redis.sock", $errorNumber, $errorDescription, $this-&gt;timeout ? $this-&gt;timeout : ini_get("default_socket_timeout"), $this-&gt;options ); if ($this-&gt;_socket) { if($this-&gt;password!==null) $this-&gt;executeCommand('AUTH',array($this-&gt;password)); $this-&gt;executeCommand('SELECT',array($this-&gt;database)); } else { $this-&gt;_socket = null; throw new CException('Failed to connect to redis: '.$errorDescription,(int)$errorNumber); } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ูู ููู ููุฐุง ุชุฃุซูุฑ ูุจูุฑ.  ุงุณุชูุฑ ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ููููุงู ุ ูููู ูู ูุญู ูุดููุชูุง - ูุงู ูุนุธู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ุงูุญูุณุจุฉ ูู ูุถุน kernel. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/w7/8y/5r/w78y5rvvebeefe7r0t34w5lfi-u.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/97/mv/y6/97mvy6jkpi8loxuw-dwq_7spfis.png"></p><br><h3 id="benchmark-s-pomoschyu-stress-i-vyyavlenie-problemy-thp" style=";text-align:right;direction:rtl">  ุงููุนูุงุฑ ุจุงุณุชุฎุฏุงู ุงูุฅุฌูุงุฏ ูุชุญุฏูุฏ ูุดุงูู THP </h3><br><p style=";text-align:right;direction:rtl">  ุณุงุนุฏุช ุฃุฏุงุฉ ุงูุฅุฌูุงุฏ ูู ุชูุทูู ุงููุดููุฉ - ูููุฏ ุนุจุก ุนูู ุจุณูุท ูุฃูุธูุฉ POSIX ุ ูุงูุฐู ูููู ุชุญููู ููููุงุช ุงููุธุงู ุงููุฑุฏูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุงูุฐุงูุฑุฉ ู IO. <br>  ููุชุฑุถ ุงูุงุฎุชุจุงุฑ ุนูู ุฅุตุฏุงุฑ ุงูุฃุฌูุฒุฉ ููุธุงู ุงูุชุดุบูู: </p><br><blockquote style=";text-align:right;direction:rtl">  ุฃูุจููุชู 18.04.1 LTS <br>  12 ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ Intelยฎ Xeonยฎ </blockquote><p style=";text-align:right;direction:rtl">  ูุชู ุชุซุจูุช ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">sudo apt-get install stress</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุธุฑ ุฅูู ููููุฉ ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุชุญุช ุงูุญูู ุ ููุฌุฑู ุงุฎุชุจุงุฑูุง ูุฎูู ุนูุงููุง ูุญุณุงุจ ุงูุฌุฐูุฑ ุงูุชุฑุจูุนูุฉ ููุฏุฉ 300 ุซุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">-c, --cpu N spawn N workers spinning on sqrt() &gt; stress --cpu 12 --timeout 300s stress: info: [39881] dispatching hogs: 12 cpu, 0 io, 0 vm, 0 hdd</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/q2/fv/lz/q2fvlzxwmzo-qxvctkrizjjwykw.png"></p><br><p style=";text-align:right;direction:rtl">  ููุถุญ ุงูุฑุณู ุงูุจูุงูู ุงูุงุณุชุฎุฏุงู ุงููุงูู ูู ูุถุน ุงููุณุชุฎุฏู - ููุฐุง ูุนูู ุฃู ุฌููุน ูุฑุงูุฒ ุงููุนุงูุฌ ูุชู ุชุญููููุง ูุฅุฌุฑุงุก ุญุณุงุจุงุช ูููุฏุฉ ุ ูููุณ ููุงููุงุช ุฎุฏูุฉ ุงููุธุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ ุนูุฏ ุงูุนูู ุจุดูู ููุซู ูุน io.  ูู ุจุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑ ููุฏุฉ 300 ุซุงููุฉ ูุน ุฅูุดุงุก 12 ุนุงููุงู ูููููู ุจุชูููุฐ ุงููุฒุงููุฉ ().  ููุชุจ ุฃูุฑ ุงููุฒุงููุฉ ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ูุคูุชูุง ูู ุงูุฐุงูุฑุฉ ุนูู ุงููุฑุต.  ูููู kernel ุจุชุฎุฒูู ุงูุจูุงูุงุช ูู ุงูุฐุงูุฑุฉ ูุชุฌูุจ ุนูููุงุช ูุฑุงุกุฉ ููุชุงุจุฉ ุงููุฑุต (ุนุงุฏุฉู ูุง ุชููู ุจุทูุฆุฉ).  ูุถูู ุงูุฃูุฑ sync () ูุชุงุจุฉ ูู ุดูุก ูุฎุฒูู ูู ุงูุฐุงูุฑุฉ ุนูู ุงููุฑุต. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">-i, --io N spawn N workers spinning on sync() &gt; stress --io 12 --timeout 300s stress: info: [39907] dispatching hogs: 0 cpu, 0 io, 0 vm, 12 hdd</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zj/rq/f9/zjrqf9zvn9ejwhwgzogs-iwocyy.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zu/g4/1r/zug41ror5fyqgcduomicj0dpwcw.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฑู ุฃู ุงููุนุงูุฌ ูุนูู ุจุดูู ุฑุฆูุณู ูู ูุนุงูุฌุฉ ุงูููุงููุงุช ูู ูุถุน kernel ูููููุง ูู iowait ุ ููููู ุฃูุถูุง ุฑุคูุฉ&gt; 35k ops ููุชุจ ุนูู ุงููุฑุต.  ูุดุจู ูุฐุง ุงูุณููู ูุดููุฉ ุงุฑุชูุงุน ููุช ุงููุธุงู ุ ุญูุซ ูุญูู ุฃุณุจุงุจู.  ูููู ููุง ุชูุฌุฏ ุนุฏุฉ ุงุฎุชูุงูุงุช: ูุฐู iowait ู iops ุฃูุจุฑ ูู ุชูู ุงูููุฌูุฏุฉ ูู ุงูุฏุงุฆุฑุฉ ุงูุฅูุชุงุฌูุฉ ุ ุนูู ุงูุชูุงูู ุ ููุฐุง ูุง ููุงุณุจ ุญุงูุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุญุงู ุงูููุช ููุชุญูู ูู ุฐุงูุฑุชู.  ูุทูู 20 ุนุงููุงู ูููููู ุจุชุฎุตูุต ุฐุงูุฑุฉ ูุฌุงููุฉ ููุฏุฉ 300 ุซุงููุฉ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"> -m, --vm N spawn N workers spinning on malloc()/free() &gt; stress -m 20 --timeout 300s stress: info: [39954] dispatching hogs: 0 cpu, 0 io, 20 vm, 0 hdd</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fj/pt/q5/fjptq53tbw5s_s6ksdcr2on6eow.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฑู ุนูู ุงูููุฑ ุงูุงุณุชุฎุฏุงู ุงูุนุงูู ููุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ูุถุน ุงููุธุงู ูุงููููู ูู ูุถุน ุงููุณุชุฎุฏู ุ ููุฐูู ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุจุฃูุซุฑ ูู 2 ุฌูุฌุงุจุงูุช. </p><br><p style=";text-align:right;direction:rtl">  ุชุดุจู ูุฐู ุงูุญุงูุฉ ุฅูู ุญุฏ ูุจูุฑ ูุดููุฉ prod ุ ูุงูุชู ุชุคูุฏูุง ุงูุงุณุชุฎุฏุงู ุงููุจูุฑ ููุฐุงูุฑุฉ ูู ุงุฎุชุจุงุฑุงุช ุงูุญูู.  ูุฐูู ุ ูุฌุจ ุงูุจุญุซ ุนู ุงููุดููุฉ ูู ุนูููุฉ ุงูุฐุงูุฑุฉ.  ูุญุฏุซ ุชุฎุตูุต ุงูุฐุงูุฑุฉ ูุชุญุฑูุฑูุง ุจูุณุงุนุฏุฉ malloc ูุงูููุงููุงุช ุงููุฌุงููุฉ ุ ุนูู ุงูุชูุงูู ุ ูุงูุชู ุณุชุชู ูุนุงูุฌุชูุง ูู ุงูููุงูุฉ ุจูุงุณุทุฉ ููุงููุงุช ูุธุงู kernel ุ ููุง ูุนูู ุฃูู ุณูุชู ุนุฑุถูุง ูู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (CPU) ูููุช ูููุธุงู. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุนุธู ุฃูุธูุฉ ุงูุชุดุบูู ุงูุญุฏูุซุฉ ุ ูุชู ุชูุธูู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ุจุงุณุชุฎุฏุงู ุงูุชุฑุญูู ุ ูุน ูุฐุง ุงูููุฌ ุ ุชููุณู ูุณุงุญุฉ ุงูุฐุงูุฑุฉ ุจุฃููููุง ุฅูู ุตูุญุงุช ุจุทูู ุซุงุจุช ุ ุนูู ุณุจูู ุงููุซุงู 4096 ุจุงูุช (ุงูุชุฑุงุถู ููุนุฏูุฏ ูู ุงูุฃูุธูุฉ ุงูุฃุณุงุณูุฉ) ุ ูุนูุฏ ุชุฎุตูุต ุ ุนูู ุณุจูู ุงููุซุงู ุ 2 ุบูุบุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ุ ุณูุชุนูู ุนูู ูุฏูุฑ ุงูุฐุงูุฑุฉ ุงูุนูู ุฃูุซุฑ ูู 500000 ุตูุญุฉ.  ูู ูุฐุง ุงูููุฌ ุ ุชูุฌุฏ ุญููุงุช ุฅุฏุงุฑุฉ ูุจูุฑุฉ ูุตูุญุงุช ุถุฎูุฉ ููุฏ ุชู ุงุฎุชุฑุงุน ุชูููุงุช ุตูุญุงุช ุงูุดูุงููุฉ ุงูุถุฎูุฉ ูุชูููููุง ุ ุจูุณุงุนุฏุชูู ููููู ุฒูุงุฏุฉ ุญุฌู ุงูุตูุญุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅูู 2 ููุบุงุจุงูุช ุ ููุง ุณูุคุฏู ุฅูู ุชูููู ุนุฏุฏ ุงูุตูุญุงุช ูู ูููุฉ ุงูุฐุงูุฑุฉ ุจุดูู ูุจูุฑ.  ุงููุฑู ูู ุงูุชูููููุฌูุง ูู ุฃูู ุจุงููุณุจุฉ ููุตูุญุงุช ุงูุถุฎูุฉ ุ ูุฌุจ ุนูููุง ุชููุฆุฉ ุงูุจูุฆุฉ ุจุดูู ุตุฑูุญ ูุชุนููู ุงูุจุฑูุงูุฌ ููููุฉ ุงูุชุนุงูู ูุนูุง ุ ุจูููุง ุชุนูู ุดูุฑุงุช ุงูุตูุญุงุช ุงูุถุฎูุฉ "ุจุดูุงููุฉ" ููุจุฑุงูุฌ. </p><br><h3 id="thp-i-reshenie-problemy" style=";text-align:right;direction:rtl">  THP ูุญู ุงููุดููุงุช </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชูุชูู ูุนูููุงุช ุญูู ุตูุญุงุช Huge ุงูุดูุงูุฉ ุ ูููููู ุฃู ุชุฑู ูู ูุชุงุฆุฌ ุงูุจุญุซ ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูุตูุญุงุช ูุน ุงูุฃุณุฆูุฉ "ููููุฉ ุฅููุงู ุชุดุบูู THP". </p><br><p style=";text-align:right;direction:rtl">  ููุง ุงุชุถุญ ูููุง ุจุนุฏ ุ ุชู ุชูุฏูู ูุฐู ุงูููุฒุฉ "ุงููุทููุฉ" ุจูุงุณุทุฉ ุดุฑูุฉ ุฑูุฏ ูุงุช ูู ููุงุฉ ููููุณ ุ ูุฌููุฑ ูุฐู ุงูููุฒุฉ ูู ุฃู ุงูุชุทุจููุงุช ูููู ุฃู ุชุนูู ุจุดูุงููุฉ ูุน ุงูุฐุงูุฑุฉ ุ ููุง ูู ูุงูุช ุชุนูู ูุน ุตูุญุฉ ุถุฎูุฉ ุญููููุฉ.  ููููุง ูููุนุงููุฑ ุ ุชุณุฑุน THP ุงูุชุทุจูู ุงูุชุฌุฑูุฏู ุจูุณุจุฉ 10ูช ุ ูููููู ุฑุคูุฉ ุงููุฒูุฏ ูู ุงูุชูุงุตูู ูู ุงูุนุฑุถ ุงูุชูุฏููู ุ ูููู ูู ุงููุงูุน ูู ุดูุก ูุฎุชูู.  ูู ุจุนุถ ุงูุญุงูุงุช ุ ูุชุณุจุจ THP ูู ุฒูุงุฏุฉ ุบูุฑ ูุนูููุฉ ูู ุงุณุชููุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ุงูุฃูุธูุฉ.  ููุฒูุฏ ูู ุงููุนูููุงุช ุ ุฑุงุฌุน ุชูุตูุงุช Oracle. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูุจ ูุงูุชุญูู ูู ุงููุนููุฉ ูุฏููุง.  ุนูุฏ ุชุดุบููู ุ ูุชู ุชุดุบูู THP ุงูุชุฑุงุถููุง ุ ููุญู ูุทูุฆู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> never &gt; /sys/kernel/mm/transparent_hugepage/enabled</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุคูุฏ ูุน ุงูุงุฎุชุจุงุฑ ูุจู ุฅููุงู ุชุดุบูู THP ูุจุนุฏ ุฐูู ุ ูู ููู ุชุนุฑูู ุงูุชุญููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs">setUp( <span class="hljs-type"><span class="hljs-type">MainScenario</span></span>.inject( rampUsers(<span class="hljs-number"><span class="hljs-number">150</span></span>) during (<span class="hljs-number"><span class="hljs-number">200</span></span> seconds)), <span class="hljs-type"><span class="hljs-type">Peak</span></span>.inject( nothingFor(<span class="hljs-number"><span class="hljs-number">20</span></span> minutes), rampUsers(<span class="hljs-number"><span class="hljs-number">5000</span></span>) during (<span class="hljs-number"><span class="hljs-number">30</span></span> minutes)) ).protocols(httpConfig)</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/bx/zu/wj/bxzuwjbchq4rj4ckyog4e-9liis.png"></p><br><p style=";text-align:right;direction:rtl">  ุดุงูุฏูุง ูุฐู ุงูุตูุฑุฉ ูุจู ุฅููุงู ุชุดุบูู THP </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pi/jo/si/pijosicrbyv3xukk3uv2babyyie.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅููุงู ุชุดุบูู THP ุ ูููููุง ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ ุงููุฎูุถ ุจุงููุนู. </p><br><p style=";text-align:right;direction:rtl">  ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูุงูุช ูุญููุฉ.  ุชู ุชูููู ุงูุณุจุจ ุจุดูู ุงูุชุฑุงุถู ูู ูุธุงู ุงูุชุดุบูู <br>  ุขููุฉ ุตูุญุงุช ูุจูุฑุฉ ุดูุงูุฉ.  ุจุนุฏ ุชุนุทูู ุฎูุงุฑ THP ุ ุงูุฎูุถ ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ูุถุน ุงููุธุงู ูุฑุชูู ุนูู ุงูุฃูู ุ ููุง ุฃุฏู ุฅูู ุชูููุฑ ุงูููุงุฑุฏ ููุถุน ุงููุณุชุฎุฏู.  ุฃุซูุงุก ุชุญููู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ุ ุชู ุงูุนุซูุฑ ุนูู "ุงุฎุชูุงูุงุช" ุงูุชูุงุนู ูุน ููุฏุณ ุงูุดุจูุฉ ููุธุงู ุงูุชุดุบูู ู Redis ุ ููุฐุง ูู ุงูุณุจุจ ูุฑุงุก ุฏุฑุงุณุฉ ุฃุนูู.  ููู ูุฐู ูุตุฉ ูุฎุชููุฉ ุชูุงูุง. </p><br><h3 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฎุชุงู ุ ุฃูุฏ ุฃู ุฃูุฏู ุจุนุถ ุงููุตุงุฆุญ ููุจุญุซ ุจูุฌุงุญ ุนู ูุดุงูู ุงูุฃุฏุงุก: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุจู ุงูุจุญุซ ุนู ุฃุฏุงุก ุงููุธุงู ุ ุชููู ุจููุฉ ุชูุงุนูุงุชู ูููููุงุชู ุจุนูุงูุฉ. </li><li style=";text-align:right;direction:rtl">  ูู ุจุชูููู ุงููุฑุงูุจุฉ ูุฌููุน ููููุงุช ุงููุธุงู ูุงููุณุงุฑ ุ ุฅุฐุง ูู ุชูู ููุงู ููุงุณุงุช ููุงุณูุฉ ูุงููุฉ ุ ูุงูุชูู ุฅูู ุฃุนูู ูุชูุณุน. </li><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงูุฃุฏูุฉ ุนูู ุงููุธู ุงููุณุชุฎุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  ุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ูู ูููุงุช ุงูุชูููู ุงูุฎุงุตุฉ ุจูุธุงู ุงูุชุดุบูู ูููููุงุช ุงููุธุงู. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar446342/">https://habr.com/ru/post/ar446342/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar446332/index.html">ูุธุงู IBM i (ุงููุนุฑูู ุฃูุถูุง ุจุงุณู AS / 400) - ููู ูููุง ุจุฅุฌุฑุงุก ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ ูุชุทุจูู ุงูุดุงุดุฉ ุงูุฎุถุฑุงุก</a></li>
<li><a href="../ar446334/index.html">ุชุฃููุงุช ูู ูููุฉ ูู ูุฌุงู ุชูููููุฌูุง ุงููุนูููุงุช ููุตุงุฆุญ ูููุจุชุฏุฆูู</a></li>
<li><a href="../ar446336/index.html">ููููุฉ ุญุธุฑ ูููุงุช ุงููุฑูุฑ ุงูููุงุณูุฉ ูุฌุนู ุงูุฌููุน ููุฑูููู</a></li>
<li><a href="../ar446338/index.html">SVG 3D: ุฅูุดุงุก ูุชุฏููุฑ ูุชุญุฑูู</a></li>
<li><a href="../ar446340/index.html">ุฃูุธูุฉ ุงูุชุดุบูู: ุซูุงุซ ูุทุน ุณููุฉ. ุงูุฌุฒุก 1: ููุฏูุฉ (ุชุฑุฌูุฉ)</a></li>
<li><a href="../ar446344/index.html">ุงููุจูุงุช ุงูุฃุณุงุณูุฉ ููุชุทุจููุงุช ุงูููุฒุนุฉ. ุงูุชูุฑูุจ ุงูุซุงูู</a></li>
<li><a href="../ar446346/index.html">ูุดุจู ุชุทููุฑ ุชุทุจููุงุช Android ูููู ูููุน YouTube (ูููุฃ)</a></li>
<li><a href="../ar446348/index.html">ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุจุณูุทุฉ ุชุดุจู JSON-RPC ูู PHP</a></li>
<li><a href="../ar446350/index.html">ูุง ูุชู ูู ุงูููุงูุฉ AirPower</a></li>
<li><a href="../ar446352/index.html">ุงูุญูุงูุฉ ุฏูู ุญูุงูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>