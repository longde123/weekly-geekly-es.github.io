<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฆ๐ป ๐คด๐พ ๐ฏ ูุญุฏุฉ ูุนุงูุฌุฉ ูุฑูุฒูุฉ 24 ููุงุฉ ุ ูููู ูุง ูููููู ูุชุงุจุฉ ุจุฑูุฏ ุฅููุชุฑููู (ุงูุฌุฒุก 2) โพ๏ธ ๐๐ฟ ๐จ๐ฟโ๐คโ๐จ๐พ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ููุงู ุณุงุจู ุ ูุนุฏุช ุจุฃู ุฃูุดู ุจูุฒูุฏ ูู ุงูุชูุตูู ุจุนุถ ุงูุชูุงุตูู ุงูุชู ุญุฐูุชูุง ุฃุซูุงุก ุงูุชุญููู [ุชุนููู Gmail ูู Chrome ุนูู Windows - ุชูุฑูุจูุง. ููู.] ุ ุจูุง ูู ุฐูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุญุฏุฉ ูุนุงูุฌุฉ ูุฑูุฒูุฉ 24 ููุงุฉ ุ ูููู ูุง ูููููู ูุชุงุจุฉ ุจุฑูุฏ ุฅููุชุฑููู (ุงูุฌุฒุก 2)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421153/" style=";text-align:right;direction:rtl"> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงู ุณุงุจู ุ</a> ูุนุฏุช ุจุฃู ุฃูุดู ุจูุฒูุฏ ูู ุงูุชูุตูู ุจุนุถ ุงูุชูุงุตูู ุงูุชู ุญุฐูุชูุง ุฃุซูุงุก ุงูุชุญููู [ุชุนููู Gmail ูู Chrome ุนูู Windows - ุชูุฑูุจูุง.  ููู.] ุ ุจูุง ูู ุฐูู ุฌุฏุงูู ุงูุตูุญุงุช ูุฃููุงู ู WMI ูุฎุทุฃ vmmap.  ุงูุขู ุฃููู ุจููุก ูุฐู ุงููุฌูุงุช ูุน ุฃูุซูุฉ ููุฏ ูุญุฏุซุฉ.  ููู ุฃููุงู ุ ุญุฏุฏ ุจุงุฎุชุตุงุฑ ุงูุฌููุฑ. <br><br>  ูุงูุช ุงูููุทุฉ ูู ุฃู ุงูุนูููุฉ ุงูุชู ุชุฏุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Control Flow Guard</a> (CFG) ุชุฎุตุต ุฐุงูุฑุฉ ูุงุจูุฉ ููุชูููุฐ ุ ุจูููุง ุชุฎุตุต ุฃูุถูุง ุฐุงูุฑุฉ CFG ุงูุชู ูุง ูุญุฑุฑูุง Windows ูุทูููุง.  ูุฐูู ุ ุฅุฐุง ูุงุตูุช ุชุฎุตูุต ุฐุงูุฑุฉ ูุงุจูุฉ ููุชูููุฐ ูุชุญุฑูุฑูุง <i>ูู ุนูุงููู ูุฎุชููุฉ</i> ุ ูุฅู ุงูุนูููุฉ ุชุฌูุน ูููุฉ ุนุดูุงุฆูุฉ ูู ุฐุงูุฑุฉ CFG.  ูููู ูุชุตูุญ Chrome ุจุฐูู ุ ููุง ูุคุฏู ุฅูู ุชุณุฑุจ ุบูุฑ ูุญุฏูุฏ ููุฐุงูุฑุฉ ููุชุฌูุฏ ุนูู ุจุนุถ ุงูุฃุฌูุฒุฉ. <br><br>  ูุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูู ุงูุตุนุจ ุชุฌูุจ ุงูุชุฌูุฏ ุฅุฐุง ุจุฏุฃ VirtualAlloc ูู ุงูุชุดุบูู ุฃูุซุฑ ูู ููููู ูุฑุฉ ุจุดูู ุฃุจุทุฃ ูู ุงููุนุชุงุฏ. <br><a name="habracut"></a><br>  ุจุงูุฅุถุงูุฉ ุฅูู CFG ุ ููุงู ุฐุงูุฑุฉ ุถุงุฆุนุฉ ุฃุฎุฑู ุ ุนูู ุงูุฑุบู ูู ุฃููุง ููุณุช ุจูุฏุฑ ุงุฏุนุงุกุงุช vmmap. <br><br><h1 style=";text-align:right;direction:rtl">  CFG ูุงูุตูุญุงุช </h1><br>  ูุชู ุชุฎุตูุต ูู ูู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ ูุฐุงูุฑุฉ CFG ูู ุงูููุงูุฉ ูุน 4 ููููุจุงูุช ูู ุงูุตูุญุงุช (ุงููุฒูุฏ ุนู ูุฐุง ูุงุญููุง).  ูุธุฑูุง ูุฃู 4 ููููุจุงูุช ูู ุฐุงูุฑุฉ CFG ูููููุง ูุตู 256 ููููุจุงูุช ูู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ (ุงููุฒูุฏ ุนู ุฐูู ูุงุญููุง) ุ ูุฅู ูุฐุง ูุนูู ุฃูู ุฅุฐุง ููุช ุจุชุญุฏูุฏ ูุชูุฉ ุฐุงูุฑุฉ 256 ููููุจุงูุช ูุญุงุฐุงุฉ ูุน 256 ููููุจุงูุช ุ ูุณุชุญุตู ุนูู ุตูุญุฉ CFG ูุงุญุฏุฉ ุจุญุฌู 4 ููููุจุงูุช.  ูุฅุฐุง ููุช ุจุชุฎุตูุต ูุชูุฉ ูุงุจูุฉ ููุชูููุฐ ุจุญุฌู 4 ููููุจุงูุช ุ ูุณุชุธู ุชุญุตู ุนูู ุตูุญุฉ CFG ุจุญุฌู 4 ููููุจุงูุช ุ ูููู ูู ูุชู ุงุณุชุฎุฏุงู ูุนุธููุง. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f10/0c2/e19/f100c2e19331ea5b1e313961be362c80.png" align="right">  ูู ุดูุก ูููู ุฃูุซุฑ ุชุนููุฏูุง ุฅุฐุง ุชู ุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ุงููุงุจูุฉ ููุชูููุฐ.  ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุธููุฉ VirtualFree ุนูู ูุชูุฉ ูู ุงูุฐุงูุฑุฉ ุงููุงุจูุฉ ููุชูููุฐ ุงูุชู ููุณุช ูู ูุถุงุนูุงุช 256 ููููุจุงูุช ุฃู ุบูุฑ ูุญุงุฐุงุฉ ุนูุฏ 256 ููููุจุงูุช ุ ููุฌุจ ุนูู ูุธุงู ุงูุชุดุบูู ุฅุฌุฑุงุก ุจุนุถ ุงูุชุญููู ูุงูุชุญูู ูู ุฃู ุจุนุถ ุงูุฐุงูุฑุฉ ุงูุชูููุฐูุฉ ุงูุฃุฎุฑู ูุง ุชุณุชุฎุฏู ุตูุญุฉ CFG.  ูุฑุฑ ูุคููู CFG ุฃูุง ูุฒุนุฌูุง - ูุชุฑู ุจุจุณุงุทุฉ ุฐุงูุฑุฉ CFG ุงููุฎุตุตุฉ ุฅูู ุงูุฃุจุฏ.  ุฅูู ุฃูุฑ ูุคุณู ููุบุงูุฉ.  ูุฐุง ูุนูู ุฃูู ุนูุฏูุง ูุฎุตุต ุจุฑูุงูุฌ ุงูุงุฎุชุจุงุฑ ุงูุฎุงุต ุจู ุซู ูุญุฑุฑ 1 ุฌูุฌุง ุจุงูุช ูู ุงูุฐุงูุฑุฉ ุงููุงุจูุฉ ููุชูููุฐ ุ ูุฅูู ูุชุฑู 16 ููุบุงุจุงูุช ูู ุฐุงูุฑุฉ CFG. <br><br>  ูู ุงููุงุญูุฉ ุงูุนูููุฉ ุ ุงุชุถุญ ุฃูู ุนูุฏูุง ูุฎุตุต ูุญุฑู Chrome JavaScript ุซู ูุทูู 128 ููุฌุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ุงููุงุจูุฉ ููุชูููุฐ ุงููุญุงุฐูุฉ (ูู ูุชู ุงุณุชุฎุฏุงู ูู ุฐูู ุ ูููู ุชู ุชุฎุตูุต ุงููุทุงู ุจุงููุงูู ูุชุญุฑูุฑู ุนูู ุงูููุฑ) ุ ูุณูุธู ุชุฎุตูุต ูุง ูุตู ุฅูู 2 ููุฌุงุจุงูุช ูู ุฐุงูุฑุฉ CFG ุ ุนูู ุงูุฑุบู ูู ุฃูู ูู ุงูุณูู ุชุญุฑูุฑู ุจุงููุงูู .  ูุธุฑูุง ูุฃู Chrome ูุฎุตุต ุจุดูู ูุชูุฑุฑ ุงูุฐุงูุฑุฉ ููุญุฑุฑูุง ูู ุนูุงููู ุนุดูุงุฆูุฉ ุ ูุฅู ูุฐุง ูุคุฏู ุฅูู ุงููุดููุฉ ุงูููุถุญุฉ ุฃุนูุงู. <br><br><h1 style=";text-align:right;direction:rtl">  ููุฏุงู ุงูุฐุงูุฑุฉ ุงูุฅุถุงููุฉ </h1><br>  ูู ุฃู ูุธุงู ุชุดุบูู ุญุฏูุซ ุ ุชุญุตู ูู ุนูููุฉ ุนูู ูุณุงุญุฉ ุนููุงู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ุงูุฎุงุตุฉ ุจูุง ุ ุจุญูุซ ูุนุฒู ูุธุงู ุงูุชุดุบูู ุงูุนูููุงุช ููุญูู ุงูุฐุงูุฑุฉ.  ูุชู ุฐูู ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ</a> (MMU) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌุฏุงูู ุงูุตูุญุงุช</a> .  ุงูุฐุงูุฑุฉ ููุณูุฉ ุฅูู 4 ููููุจุงูุช.  ูุฐุง ูู ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุฐุงูุฑุฉ ุงูุชู ูููุฑูุง ูู ูุธุงู ุงูุชุดุบูู.  ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ูู ุตูุญุฉ ุจุณุฌู ุซูุงููุฉ ุจุงูุช ูู ุฌุฏูู ุงูุตูุญุฉ ุ ููุชู ุชุฎุฒูู ุงูุณุฌูุงุช ููุณูุง ูู ุตูุญุงุช 4 ููููุจุงูุช.  ูุดูุฑ ูู ูููุง ุฅูู 512 ุตูุญุฉ ูุฎุชููุฉ ูุญุฏ ุฃูุตู ูู ุงูุฐุงูุฑุฉ ุ ูุฐูู ูุญู ุจุญุงุฌุฉ ุฅูู ุชุณูุณู ูุฑูู ูุฌุฏุงูู ุงูุตูุญุงุช.  ุจุงููุณุจุฉ ููุณุงุญุฉ ุนููุงู 48 ุจุช ูู ูุธุงู ุชุดุบูู 64 ุจุช ุ ูููู ุงููุธุงู ููุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุบุทู ุฌุฏูู ุงููุณุชูู 1 256 ุชูุฑุงุจุงูุช (48 ุจุช) ุ ูุดูุฑุงู ุฅูู 512 ุฌุฏููุงู ูุฎุชููุงู ุนูู ูุณุชูู ุงูุตูุญุฉ 2 </li><li style=";text-align:right;direction:rtl">  ูุบุทู ูู ุฌุฏูู ูู ุงููุณุชูู 2 512 ุฌูุฌุงุจุงูุช ุ ูุดูุฑูุง ุฅูู 512 ูุณุชูู ูู 3 ุทุงููุงุช </li><li style=";text-align:right;direction:rtl">  ูุบุทู ูู ุฌุฏูู ูู ุงููุณุชูู 3 1 ุบูุบุงุจุงูุช ุ ูุดูุฑุงู ุฅูู 512 ูุณุชูู ูู 4 ุฌุฏุงูู </li><li style=";text-align:right;direction:rtl">  ููุชุฏ ูู ุฌุฏูู ูู ุงููุณุชูู 4 ุนูู 2 ููุฌุงุจุงูุช ุ ูุดูุฑูุง ุฅูู 512 ุตูุญุฉ ูุนููุฉ </li></ul><br>  ุชููู MMU ุจููุฑุณุฉ ุฌุฏูู ุงููุณุชูู ุงูุฃูู ูู ุฃูู 9 ุจุชุงุช (ูู ุฃุตู 48) ูู ุงูุนููุงู ุ ูุฌุฏุงูู ุงููุณุชูู ุงูุซุงูู ูู ุงูุจุชุงุช ุงูุชุณุน ุงูุชุงููุฉ ุ ูุงููุณุชููุงุช ุงููุชุจููุฉ ุชุนุทู 9 ุจุชุงุช ุ ุฃู 36 ุจุช ููุท.  ูุชู ุงุณุชุฎุฏุงู 12 ุจุช ุงููุชุจููุฉ ูููุฑุณุฉ 4 ูููู ุจุงูุช ูู ุฌุฏูู ุงููุณุชูู ุงูุฑุงุจุน.  ุญุณููุง ุ ุญุณููุง. <br><br>  ุฅุฐุง ููุช ุจููุก ุฌููุน ูุณุชููุงุช ุงูุฌุฏุงูู ุนูู ุงูููุฑ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุฃูุซุฑ ูู 512 ุบูุบุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ุจุญูุซ ูุชู ููุคูุง ุญุณุจ ุงูุถุฑูุฑุฉ.  ูุฐุง ูุนูู ุฃูู ุนูุฏ ุชุฎุตูุต ุตูุญุฉ ุฐุงูุฑุฉ ุ ูุฎุชุงุฑ ูุธุงู ุงูุชุดุบูู ุจุนุถ ุฌุฏุงูู ุงูุตูุญุงุช - ูู ุตูุฑ ุฅูู ุซูุงุซุฉ ุ ุงุนุชูุงุฏูุง ุนูู ูุง ุฅุฐุง ูุงูุช ุงูุนูุงููู ุงููุฎุตุตุฉ ูู ููุทูุฉ ุบูุฑ ูุณุชุฎุฏูุฉ ุณุงุจููุง ุชุจูุบ 2 ููุฌุงุจุงูุช ุ ุฃู ููุทูุฉ ุบูุฑ ูุณุชุฎุฏูุฉ ุณุงุจููุง ุชุจูุบ 1 ุฌูุฌุงุจุงูุช ุฃู ููุทูุฉ ุบูุฑ ูุณุชุฎุฏูุฉ ุณุงุจููุง 512 ุฌูุฌุงุจุงูุช (ุฌุฏูู ุตูุญุงุช ุงููุณุชูู 1 ุชุจุฑุฒ ุฏุงุฆูุง). <br><br>  ุจุงุฎุชุตุงุฑ ุ ุงูุชุฎุตูุต ููุนูุงููู ุงูุนุดูุงุฆูุฉ ุฃุบูู ุจูุซูุฑ ูู ุงูุชุฎุตูุต ููุนูุงููู ุงููุฌุงูุฑุฉ ุ ูุฃูู ูู ุงูุญุงูุฉ ุงูุฃููู ูุง ูููู ูุดุงุฑูุฉ ุฌุฏุงูู ุงูุตูุญุงุช.  ุชุณุฑูุจุงุช CFG ูุงุฏุฑุฉ ุ ูุฐูู ุนูุฏูุง ุฃุธูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">vmmap 412.480</a> ููููุจุงูุช ูู ุฌุฏุงูู ุงูุตูุญุงุช ุงููุณุชุฎุฏูุฉ ูู Chrome ุ ุงูุชุฑุถุช ุฃู ุงูุฃุฑูุงู ุตุญูุญุฉ.  ูููุง ููู ููุทุฉ ุดุงุดุฉ ูููู vmmap ูุน ุชุฎุทูุท ุฐุงูุฑุฉ chrome.exe ูู ุงูููุงูุฉ ุงูุณุงุจูุฉ ุ ูููู ูุน ุณุทุฑ ุฌุฏูู ุงูุตูุญุฉ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/08b/7b7/b4d/08b7b7b4dda4d0b54b3017b5eb80c7ab.png"><br><br>  ููู ุดูุฆูุง ุจุฏุง ุฎุงุทุฆูุง.  ูุฑุฑุช ุฅุถุงูุฉ ูุญุงูู ุฌุฏูู ุตูุญุงุช ุฅูู ุฃุฏุงุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">VirtualScan ุงูุฎุงุตุฉ</a> ุจู.  ูููู ุจุญุณุงุจ ุนุฏุฏ ุตูุญุงุช ุฌุฏุงูู ุงูุตูุญุงุช ุงููุทููุจุฉ ููู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุฃุซูุงุก ุนูููุฉ ุงููุณุญ.  ุชุญุชุงุฌ ููุท ุฅูู ูุณุญ ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุ ูุถูููุง ุฅูู ุนุฏุงุฏ ูุงุญุฏ ูู ุฑูู ูุถุงุนู 2 ููุฌุงุจุงูุช ุ 1 ุฌูุฌุงุจุงูุช ุฃู 512 ุฌูุฌุงุจุงูุช. <br><br>  ุณุฑุนุงู ูุง ุชู ุงูุชุดุงู ุฃู ูุชุงุฆุฌ ุงููุญุงูู ุชุชูุงูู ูุน vmmap ุนูู ุงูุนูููุงุช ุงูุนุงุฏูุฉ ุ ูููู ููุณ ุนูู ุงูุนูููุงุช ุงูุชู ุชุญุชูู ุนูู ูููุฉ ูุจูุฑุฉ ูู ุฐุงูุฑุฉ CFG.  ููุงุจู ุงููุฑู ุชูุฑูุจูุง ุฐุงูุฑุฉ CFG ุงููุฎุตุตุฉ.  ุจุงููุณุจุฉ ููุนูููุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ุญูุซ ูุชุญุฏุซ vmmap ุนู 402.8 ููุฌุงุจุงูุช (412480 ููููุจุงูุช) ูู ุฌุฏุงูู ุงูุตูุญุงุช ุ ุชุนุฑุถ ุฃุฏุงุชู 67.7 ููุฌุงุจุงูุช. <br><br><pre style=";text-align:right;direction:rtl">  ููุช ุงููุณุญ ุ ุงูุงูุชุฒุงู ุ ุฌุฏุงูู ุงูุตูุญุงุช ุ ุงููุชู ุงูููุชุฒูุฉ
 ุงููุฌููุน: 41.763s ุ 1457.7 MiB ุ 67.7 MiB ุ 32112 ุ 98 ูุชู ููุฏ
 CFG: 41.759 ุซุงููุฉ ุ 353.3 ููุฌุงุจุงูุช ุ 59.2 ููุฌุงุจุงูุช ุ 24866 </pre><br><br>  ููุฏ ุชุฃูุฏุช ูู ุฎุทุฃ vmmap ุนู ุทุฑูู ุชุดุบูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">VAllocStress</a> ุ ูุงูุฐู ูุคุฏู ูู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ุฅูู ููุงู Windows ุจุชุฎุตูุต 2 ุบูุบุงุจุงูุช ูู ุฐุงูุฑุฉ CFG.  ุงุฏุนู vmmap ุฃูู ุฎุตุต 2 ุบูุบุงุจุงูุช ูู ุฌุฏุงูู ุงูุตูุญุงุช: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/89c/e6e/33f/89ce6e33f668a6de32abc6a0231bd3e1.png"><br><br>  ูุนูุฏูุง ุฃูููุช ุงูุนูููุฉ ูู ุฎูุงู ุฅุฏุงุฑุฉ ุงูููุงู ุ ุฃุธูุฑ vmmap ุฃู ุญุฌู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุงูุฎูุถ ุจููุฏุงุฑ 2 ุบูุบุงุจุงูุช ููุท.  ูุฐุง ุ ูุฅู vmmap ุฎุงุทุฆ ุ ูุญุณุงุจุงุชู ูุน ุฌุฏุงูู ุงูุตูุญุงุช ุตุญูุญุฉ ุ ูุจุนุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุดุฉ</a> ูุซูุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู Twitter ุ</a> ุฃุฑุณูุช ุชูุฑูุฑูุง ุนู ุฎุทุฃ vmmap ุ ูุงูุฐู ูุฌุจ ุฅุตูุงุญู.  ูุง ุชุฒุงู ุฐุงูุฑุฉ CFG ุชุณุชููู ุงููุซูุฑ ูู ุฅุฏุฎุงูุงุช ุฌุฏูู ุงูุตูุญุฉ (59.2 ููุบุงุจุงูุช ูู ุงููุซุงู ุฃุนูุงู) ุ ูููู ููุณ ููุง ุชููู vmmap ุ ูุจุนุฏ ุฅุตูุงุญูุง ูู ุชุณุชููู ุฃู ุดูุก ุนูู ุงูุฅุทูุงู. <br><br><h1 style=";text-align:right;direction:rtl">  ูุง ูู CFG ู CFGุ </h1><br>  ุฃุฑูุฏ ุฃู ุฃุชุฑุงุฌุน ููููุงู ูุฃู ุฃููู ุจูุฒูุฏ ูู ุงูุชูุตูู ูุง ูู CFG. <br><br>  CFG ูู ุงุฎุชุตุงุฑ ูู Control Flow Guard.  ูุฐู ุทุฑููุฉ ููุญูุงูุฉ ูู ุงูุงุณุชุบูุงู ูู ุฎูุงู ุฅุนุงุฏุฉ ูุชุงุจุฉ ูุคุดุฑุงุช ุงูุฏูุงู.  ูุน ุชูููู CFG ุ ูุชุญูู ุงููุชุฑุฌู ููุธุงู ุงูุชุดุบูู ูุนูุง ูู ุตุญุฉ ูุฏู ุงููุฑุน.  ุฃููุงู ุ ูุชู ุชุญููู ุจุงูุช ุงูุชุญูู CFG ุงูููุงุจู ูู ููุทูุฉ CFG ุงููุญุฌูุฒุฉ 2 ุชูุฑุงุจุงูุช.  ุชุฏูุฑ ุนูููุฉ 64 ุจุช ูู Windows ูุณุงุญุฉ ุนููุงู 128 ุชูุฑุงุจุงูุช ุ ูุฐุง ูุชูุญ ูู ุชูุณูู ุงูุนููุงู ุนูู 64 ุงูุนุซูุฑ ุนูู ุจุงูุช CFG ุงูููุงุจู ููุฐุง ุงููุงุฆู. <br><br> <code>uint8_t cfg_byte = cfg_base[size_t(target_addr) / 64];</code> <br> <br>  ูุฏููุง ุงูุขู ุจุงูุช ูุงุญุฏ ูุฌุจ ุฃู ูุตู ุฃู ุนูุงููู ูู ูุทุงู 64 ุจุงูุช ูู ุฃูุฏุงู ูุฑุนูุฉ ุตุงูุญุฉ.  ููููุงู ุจุฐูู ุ ูุนุงูู CFG ุงูุจุงูุช ุนูู ุฃูู ุฃุฑุจุน ููู ุซูุงุฆูุฉ ุงูุจุงูุช ุ ูู ูููุง ูุชูุงูู ูุน ูุทุงู 16 ุจุงูุช.  ูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุณูุฑ</a> ูุฐุง ุงูุฑูู ุงููููู ูู ุฌุฒุฃูู (ุงูุฐู ุชุชุฑุงูุญ ูููุชู ูู ุตูุฑ ุฅูู ุซูุงุซุฉ) ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุญู ุงูุชุงูู</a> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  0 - ุฌููุน ุงูุฃูุฏุงู ูู ูุฐู ุงููุชูุฉ ุฐุงุช 16 ุจุงูุช ูู ุฃูุฏุงู ุบูุฑ ุตุงูุญุฉ ูููุฑูุน ุบูุฑ ุงููุจุงุดุฑุฉ </li><li style=";text-align:right;direction:rtl">  1 - ุนููุงู ุงูุจุฏุงูุฉ ูู ูุชูุฉ 16 ุจุงูุช ูู ุงููุฏู ุงูุตุญูุญ ูููุฑุน ุบูุฑ ุงููุจุงุดุฑ </li><li style=";text-align:right;direction:rtl">  2 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุชุจุทุฉ ุจููุงููุงุช CFG "ุงููุญุธูุฑุฉ"</a> ุ  ูู ุงููุญุชูู ุฃู ูููู ุงูุนููุงู ุบูุฑ ุตุงูุญ </li><li style=";text-align:right;direction:rtl">  3 - ุชุนุฏ ุงูุนูุงููู ุบูุฑ ุงููุญุงุฐุงุฉ ูู ูุชูุฉ 16 ุจุงูุช ูุฐู ุฃูุฏุงููุง ุตุงูุญุฉ ููุฑุน ุบูุฑ ูุจุงุดุฑ ุ ูููู ูู ุงููุญุชูู ุฃู ูููู ุงูุนููุงู ุงููุญุงุฐู 16 ุจุงูุช ุบูุฑ ุตุงูุญ </li></ul><br>  ุฅุฐุง ูุงู ูุฏู ุงููุฑุน ุบูุฑ ุงููุจุงุดุฑ ุบูุฑ ุตุงูุญ ุ ุชูุชูู ุงูุนูููุฉ ููููุน ุงูุงุณุชุบูุงู.  ูุฑุญู! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a08/1af/827/a081af827b3df7b40e8b8530b7cbd1a4.png"><br><br>  ูู ูุฐุง ูููููุง ุฃู ูุณุชูุชุฌ ุฃูู ูุชุญููู ุฃูุตู ูุฏุฑ ูู ุงูุฃูุงู ุ ูุฌุจ ูุญุงุฐุงุฉ ุงูุฃูุฏุงู ุบูุฑ ุงููุจุงุดุฑุฉ ูููุฑุน ุจููุฏุงุฑ 16 ุจุงูุช ุ ููููููุง ุฃู ูููู ููุงุฐุง ุชููู ุฐุงูุฑุฉ CFG ููุนูููุฉ ุญูุงูู 1/64 ูู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ. <br><br><blockquote style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ุชููู CFG ุจุชุญููู 32 ุจุช ูู ุงููุฑุฉ ุงููุงุญุฏุฉ ุ ูููู ูุฐู ุชูุงุตูู ุงูุชูููุฐ.  ุชุตู ุงูุนุฏูุฏ ูู ุงููุตุงุฏุฑ ุฐุงูุฑุฉ CFG ุนูู ุฃููุง 8 ุจุช ุฃุญุงุฏูุฉ ุงูุจุช ุจุฏูุงู ูู 16 ุจุงูุช ูุฒุฏูุฌุฉ ุงูุจุช.  ุชูุณูุฑู ุฃูุถู. </blockquote><br><h1 style=";text-align:right;direction:rtl">  ููุฐุง ุงูุณุจุจ ูู ุดูุก ุณูุก </h1><br>  ุชููู Gmail ูุณุจุจูู.  ุฃููุงู ุ ูุนุฏ ูุญุต ุฐุงูุฑุฉ CFG ุนูู ูุธุงู ุงูุชุดุบูู Windows 10 16299 ุฃู ุฅุตุฏุงุฑูุง ุณุงุจููุง ุจุทูุฆูุง ุจุดูู <i>ูุคูู</i> .  ููุฏ ุฑุฃูุช ููู ูุณุชุบุฑู ูุณุญ ูุณุงุญุฉ ุงูุนููุงู ูุนูููุฉ 40 ุซุงููุฉ ุฃู ุฃูุซุฑ ุ ูุจุดูู ุญุฑูู 99.99ูช ูู ูุฐุง ุงูููุช ูุชู ูุญุต ุฐุงูุฑุฉ CFG ุงููุญุฌูุฒุฉ ุ ุนูู ุงูุฑุบู ูู ุฃููุง ูุง ุชุดูู ุณูู 75ูช ูู ูุชู ุงูุฐุงูุฑุฉ ุงูุซุงุจุชุฉ.  ูุง ุฃุนุฑู ููุงุฐุง ูุงู ุงููุณุญ ุจุทูุฆูุง ููุบุงูุฉ ุ ููููู ูุงููุง ุจุฅุตูุงุญู ูู Windows 10 17134 ุ ูุฐูู ูุง ูุนูู ูุฏุฑุงุณุฉ ุงููุดููุฉ ุจูุฒูุฏ ูู ุงูุชูุงุตูู. <br><br>  ุชุณุจุจ ุงููุณุญ ุงูุจุทูุก ูู ุญุฏูุซ ุชุจุงุทุค ูุฃู Gmail ุฃุฑุงุฏ ุชูุฑุงุฑุง CFG ุ ูุนูุฏ WMI ุงูููู ุทูุงู ูุชุฑุฉ ุงููุญุต.  ูููู ูู ูุชู ููู ููู ุงูุฐุงูุฑุฉ ุทูุงู ุงููุญุต.  ูู ุงููุซุงู ุงูุฎุงุต ุจู ุ ููุงู ูุง ููุฑุจ ูู 49000 ูุชูุฉ ูู ููุทูุฉ CFG ุ ูุชู <i>ุงุณุชุฏุนุงุก</i> ูุธููุฉ <i>NtQueryVirtualMemory</i> ุ ุงูุชู ุชุชููู ุงูููู <i>ูุชุญุฑุฑู</i> ุ ูุฑุฉ ูุงุญุฏุฉ ููู ูููุง.  ูุฐูู ุ ุชู ุงูุญุตูู ุนูู ุงูููู ูุชุญุฑูุฑู ~ 49000 ูุฑุฉ ุ ูุชู ุงูุงุญุชูุงุธ ุจู ูู ูู ูุฑุฉ ููุฏุฉ ุชูู ุนู 1 ูููู ุซุงููุฉ. <br><br>  ูููู ุนูู ุงูุฑุบู ูู ุชุญุฑูุฑ ุงูููู 49000 ูุฑุฉ ุ ุฅูุง ุฃู ุนูููุฉ Chrome ูุณุจุจ ูุง ูู ุชุชููู ูู ุงูุญุตูู ุนููู.  ูุฐุง ุบูุฑ ุนุงุฏู! <br><br>  ูุฐุง ูู ุฌููุฑ ุงููุดููุฉ.  ููุง ูุชุจุช ุขุฎุฑ ูุฑุฉ: <br><br><blockquote style=";text-align:right;direction:rtl">  ูุฐุง ูุฃู ุฃููุงู Windows <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุบูุฑ ุนุงุฏูุฉ</a> ุจุทุจูุนุชูุง - ูุฅุฐุง ูุงู ุงูุฎูุท ุจุชุญุฑูุฑ ุงูููู ุซู ุทูุจู ูุฑุฉ ุฃุฎุฑู ุนูู ุงูููุฑ ุ ูููููู ุงูุญุตูู ุนููู ุฅูู ุงูุฃุจุฏ. </blockquote><br>  ุงูููู ุงูููุจูู ูุนูู ุฃู ุฎูุทูู ูุชูุงูุณูู ุณูุญุตูุงู ุนููู ุจุฏูุฑู.  ูููู ูุฐุง ูุนูู ุงููุซูุฑ ูู ููุงุชูุญ ุงูุณูุงู ุงูุจุงูุธุฉ ุงูุซูู ุ ูุฐูู ูู ูุชู ุงุณุชุฎุฏุงู ุงูููู ููุชุฑุฉ ุทูููุฉ. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/713/348/9de/7133489de2c1eca7dc2b2c91b08e1871.png"><br><br>  ุฃููุงู ุบูุฑ ุนุงุฏูุฉ ุฃุฑุฎุต ููุง ุชุฌุนู ุงูุฎููุท ุชูุชุธุฑ ูู ุงูุทุงุจูุฑ.  ุฅููู ููุท ููุชูุทูู ุงูููู ุ ููุง ูู ูุฐููุฑ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุฉ ุฌู ุฏุงูู</a> .  ููุชุจ ุฃูุถูุง: <br><br><blockquote style=";text-align:right;direction:rtl">  ุฅู ุฅุฏุฎุงู ุฃููุงู ุบูุฑ ุนุงุฏูุฉ ูููู ุฃู ูุคุฏู ุจูุง ุดู ุฅูู ุงูุฌูุน.  ูููู ุฅุญุตุงุฆููุง ุ ูููู ุงูููุช ูู ุงูุฃูุธูุฉ ุงูููุงุฒูุฉ ุฅูู ุฃู ูููู ูุชุบูุฑูุง ุฅูู ุญุฏ ุฃู ูู ุฎูุท ุณูู ูุชููู ูู ุงูููุงูุฉ ุฏูุฑูุง ููุชูููุฐ ุ ูู ูุฌูุฉ ูุธุฑ ุงุญุชูุงููุฉ. </blockquote><br>  ููู ูููู ุฑุจุท ุจูุงู ุฌู ูู ุนุงู 2006 ุญูู ูุฏุฑุฉ ุงูุฌูุน ุจุชุฌุฑุจุชู ุญูู ูุดููุฉ ูุชูุฑุฑุฉ ูุทูููุฉ ุงูุฃูุฏ ุจูุณุจุฉ 100ูชุ  ุฃุนุชูุฏ ุฃู ุงูุณุจุจ ุงูุฑุฆูุณู ูู ูุง ุญุฏุซ ูู ุนุงู 2006.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุตุฏุฑุช</a> Intel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Core Duo</a> ุ ูุฃุฌูุฒุฉ ุงูููุจููุชุฑ ูุชุนุฏุฏุฉ ุงูููุงุฉ ููุฌูุฏุฉ ูู ูู ููุงู. <br><br>  ุจุนุฏ ูู ุดูุก ุ ุงุชุถุญ ุฃู ูุดููุฉ ุงูุฌูุน ูุฐู ุชุญุฏุซ ููุท ุนูู ูุธุงู ูุชุนุฏุฏ ุงูููุงุฉ!  ูู ูุซู ูุฐุง ุงููุธุงู ุ ุณูููู ูุคุดุฑ ุชุฑุงุจุท WMI ุจุชุญุฑูุฑ ุงูููู ุ ูุงูุฅุดุงุฑุฉ ุฅูู ูุคุดุฑ ุชุฑุงุจุท Chrome ููุชูุจูู ุ ูุงููุชุงุจุนุฉ.  ูุธุฑูุง ูุฃู ุฏูู WMI ููุฏ ุงูุชุดุบูู ุจุงููุนู ุ ูุฅูู ูุญุชูู ุนูู "ุฅุนุงูุฉ" ุฃูุงู ุฏูู Chrome ุ ูุฐูู ูููู ุจุณูููุฉ ุงุณุชุฏุนุงุก <i>NtQueryVirtualMemory</i> ูุฑุฉ ุฃุฎุฑู ูุงูุญุตูู ุนูู ุงูููู ูุฑุฉ ุฃุฎุฑู ูุจู ุฃู ุชุชุงุญ ูู Chrome ูุฑุตุฉ ููููุงู ุจุฐูู. <br><br>  ูู ุงููุงุถุญ ุฃูู ูู ูุธุงู ุฃุญุงุฏู ุงูููุงุฉ ุ ูููู ุฃู ูุนูู ุฎูุท ูุงุญุฏ ููุท ูู ูู ูุฑุฉ.  ููุงุนุฏุฉ ุ ูุฒูุฏ Windows ุฃููููุฉ ุณูุณูุฉ ุงููุญุงุฏุซุงุช ุงูุฌุฏูุฏุฉ ุ ูุชุนูู ุฒูุงุฏุฉ ุงูุฃููููุฉ ุฃูู ุนูุฏูุง ูุชู ุชุญุฑูุฑ ุงูููู ุ ุณุชููู ุณูุณูุฉ ูุญุงุฏุซุงุช Chrome ุงูุฌุฏูุฏุฉ ุฌุงูุฒุฉ ูุณุชุชูุฏู ููุฑูุง <i>ุฅูู ุณูุณูุฉ</i> ุฑุณุงุฆู WMI.  ูููุญ ูุฐุง ูุคุดุฑ ุชุฑุงุจุท Chrome ุงููุซูุฑ ูู ุงูููุช ููุงุณุชููุงุธ ูุงูุญุตูู ุนูู ููู ุ ูุงูุฌูุน ูุง ูุฃุชู ุฃุจุฏูุง. <br><br>  ูู ุชูููุ  ูู ูุธุงู ูุชุนุฏุฏ ุงูููุงุฉ ุ ูุง ุชุคุซุฑ ุฒูุงุฏุฉ ุงูุฃููููุฉ ูู ูุนุธู ุงูุญุงูุงุช ุนูู ุฏูู WMI ุ ูุฃููุง ุณุชุนูู ุนูู ููุงุฉ ูุฎุชููุฉ! <br><br>  ูุฐุง ูุนูู ุฃู ุงููุธุงู ุงูุฐู ูุญุชูู ุนูู ููู ุฅุถุงููุฉ ูููู ุฃู <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชุฌูุจ ุจุดูู ุฃุจุทุฃ</a></i> ูู ุงููุธุงู ุงูุฐู ูู ููุณ ุนุจุก ุงูุนูู ูุนุฏุฏ ุฃูู ูู ุงูููู.  ุงุณุชูุชุงุฌ ุขุฎุฑ ูุซูุฑ ูููุถูู: ุฅุฐุง ูุงู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ูุญุชูู ุนูู ุญูููุฉ ุซูููุฉ - ุฎููุท ุฐุงุช ุฃููููุฉ ููุงุจูุฉ ุ ูุงูุนูู ุนูู ุฌููุน ููู ุงููุนุงูุฌ - ููููู ุชุฌูุจ ุญุฏูุซ ุชุนููู (ูุง ุชุญุงูู ุชูุฑุงุฑ ุฐูู ูู ุงูููุฒู). <br><br>  ูุจุงูุชุงูู ุ ุชุคุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃููุงู ุบูุฑ ุงูุนุงุฏูุฉ ุฅูู</a> ุฒูุงุฏุฉ ุงูุฅูุชุงุฌูุฉ ุ ูููููุง ูููู ุฃู ุชุคุฏู ุฅูู ุงูุฌูุน.  ุฃุดู ูู ุฃู ุงูุญู ูุฏ ูููู ูุง ุฃุณููู ุฃููุงู "ุนุงุฏูุฉ ูู ุจุนุถ ุงูุฃุญูุงู".  ูููุชุฑุถ ุฃู 99ูช ูู ุงููุฑุงุช ุณุชููู ุบูุฑ ุนุงุฏูุฉ ุ ูููู ุจูุณุจุฉ 1ูช ุชุนุทู ููููุง ูุนูููุฉ ุฃุฎุฑู.  ูุฐุง ุณูุญุงูุธ ุนูู ููุงุฆุฏ ุงูุฅูุชุงุฌูุฉ ูุน ุงููุฒูุฏ ุ ูุชุฌูุจ ูุดููุฉ ุงูุฌูุน.  ูู ุงูุณุงุจู ุ ูุงูุช ุงูุฃููุงู ูู Windows ุชูุฒุน ุจุดูู ุนุงุฏู ุ ูุฑุจูุง ููููู ุงูุนูุฏุฉ ุฌุฒุฆููุง ุฅูู ุฐูู ุ ููุนุซูุฑ ุนูู ุงูุชูุงุฒู ุงููุซุงูู.  ุฅุฎูุงุก ุงููุณุคูููุฉ: ูุณุช ุฎุจูุฑูุง ูู ุงูุฃููุงู ุฃู ูููุฏุณ ูุธุงู ุชุดุบูู ุ ูููู ููุชู ุจุณูุงุน ุฃููุงุฑ ุญููู ุ ูุนูู ุงูุฃูู ูุณุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃูู ูู ููุฏู ุดูุฆูุง ููุฐุง</a> . <br><br>  ููุฏุฑ Linus Torvalds ูุคุฎุฑูุง ุฃูููุฉ ุงูุฃููุงู ุงูุนุงุฏูุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุง</a> .  ุฑุจูุง ุญุงู ุงูููุช ููุชุบููุฑ ุนูู Windows ุฃูุถูุง. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชูุฎูุต</a> : ุงูููู ูุจุถุน ุซูุงู ููุณ ุฌูุฏูุง ุ ููู ูุญุฏ ูู ุงูุชุฒุงูู.  ูููู ูู ุงูุฃูุธูุฉ ูุชุนุฏุฏุฉ ุงูููุงุฉ ุฐุงุช ุงูุฃููุงู ุบูุฑ ุงูุนุงุฏูุฉ ุ ูุฅู ุฅุฒุงูุฉ ุงูููู ุซู ุงุณุชูุงูู ุนูู ุงูููุฑ ูุฑุฉ ุฃุฎุฑู ูุชุตุฑู <i>ุชูุงููุง ูุซู ุฐูู</i> - ูุง ุชูุฌุฏ ุฎููุท ุฃุฎุฑู ููุนูู. <br><br><h1 style=";text-align:right;direction:rtl">  ุชูุฑูุจุง ูุดู ูุน ETW </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/d69/a68/740/d69a68740eb8df0f6962d53db91190b7.png" align="right">  ูู ูู ูุฐุง ุงูุจุญุซ ุ ุงุนุชูุฏุช ุนูู ุชุชุจุน ETW ุ ูุฐูู ุดุนุฑุช ุจุงูุฎูู ููููุงู ุนูุฏูุง ุงุชุถุญ ูู ุจุฏุงูุฉ ุงูุชุญููู ุฃู Windows Performance Analyzer (WPA) ูุง ููููู ุชุญููู ุฃุญุฑู Chrome.  ุฃูุง ูุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุฌุญ ูู ุงูุฃุณุจูุน ุงููุงุถู.  ูุงุฐุง ุญุฏุซ ... <br><br>  ุญุฏุซ ุฃู ุชู ุทุฑุญ Chrome M68 ุ ูุชู ุฑุจุทู ุจุงุณุชุฎุฏุงู lld-link ุจุฏูุงู ูู ุฑุงุจุท VC ++.  ุฅุฐุง ููุช ุจุชุดุบูู <i>ุณูุฉ ุงูููููุงุช ููุธุฑุช</i> ุฅูู ูุนูููุงุช ุงูุชุตุญูุญ ุ ุณุชุฑู: <br><br> <code>C:\b\c\b\win64_clang\src\out\Release_x64\./initialexe/chrome.exe.pdb</code> <br> <br>  ุญุณููุง ุ ุฑุจูุง ูุง ุชุญุจ WPA ูุฐู ุงูุฎุทูุท ุงููุงุฆูุฉ.  ูููู ูุง ูุฒุงู ูุฐุง ุบูุฑ ููุทูู ุ ูุฃููู ุบูุฑุช ุงูุฑุงุจุท ุฅูู lld-link ุ ูุฃุชุฐูุฑ ุฃููู ุงุฎุชุจุฑุช WPA ูุจู ุฐูู ุ ููุงุฐุง ุญุฏุซ ... <br><br>  ุงุชุถุญ ุฃู ุงูุณุจุจ ูุงู ูู ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ูู WPA 17134. ููุฏ ุงุฎุชุจุฑุช ุชูุณูู lld-Link - ูุนููุช ุจุดูู ุฌูุฏ ูู WPA 16299. ูุง ููุง ูู ูุตุงุฏูุฉ!  ุงูุฑุงุจุท ุงูุฌุฏูุฏ ู WPA ุงูุฌุฏูุฏ ุบูุฑ ูุชูุงูููู. <br><br>  ููุฏ ููุช ุจุชุซุจูุช ุงูุฅุตุฏุงุฑ ุงููุฏูู ูู WPA ูููุงุตูุฉ ุงูุชุญููู (xcopy ูู ุฌูุงุฒ ุจุฅุตุฏุงุฑ ูุฏูู) ูุฃุจูุบุช ุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎุทุฃ ุงุฑุชุจุงุท lld</a> ุ ูุงูุฐู ูุงู ุงููุทูุฑูู ุจุฅุตูุงุญู ุจุณุฑุนุฉ.  ููููู ุงูุขู ุงูุฑุฌูุน ุฅูู WPA 17134 ุนูุฏูุง ูุชู ุชุฌููุน M69 ูุน ุฑุงุจุท ุซุงุจุช. <br><br><h1 style=";text-align:right;direction:rtl">  Wmi </h1><br>  ูุดุบู ุชุฌููุฏ WMI ูู ุฃุฏุงุฉ ุฅุถุงููุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Windows Management Instrumentation</a> ุ ูุฃูุง ูุณุช ุฌูุฏูุง ูู ุฐูู.  ููุฏ ูุฌุฏุช ุฃูู ูู ุนุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2014 ุฃู ูุจู ุฐูู ุ</a> ูุงุฌู ุดุฎุต ูุง ูุดููุฉ ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุงููุงูุฉ ูู <i>WmiPrvSE.exe</i> ุฏุงุฎู <i>perfproc! GetProcessVaData</i> ุ ููููู ูู ููุฏููุง ูุนูููุงุช ูุงููุฉ ูููู ุฃุณุจุงุจ ุงูุฎุทุฃ.  ูู ููุช ูุง ุ ุฃุฎุทุฃุช ูุญุงููุช ูุนุฑูุฉ ูุง ูุฏ ูุคุฏู ุทูุจ WMI ุงููุฌููู ุฅูู ุชุนููู Gmail ูุจุถุน ุซูุงู.  ููุฏ ุฑุจุทุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุนุถ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฎุจุฑุงุก</a> ุจุงูุชุญููู ููุถูุช ุงููุซูุฑ ูู ุงูููุช ูู ูุญุงููุฉ ุงูุนุซูุฑ ุนูู ูุฐุง ุงูุงุณุชุนูุงู ุงูุณุญุฑู.  ููุฏ ุณุฌูุช ูุดุงุท <i>Microsoft-Windows-WMI-Activity</i> ูู ุขุซุงุฑ ETW ุ ูุฌุฑุจุช ูุน PowerShell ููุนุซูุฑ ุนูู ุฌููุน ุทูุจุงุช Win32_Perf ุ ูุถุงุนุช ูู ุจุนุถ ุงูุทุฑู ุงูุฏุงุฆุฑูุฉ ุงูุชู ุชููู ูููุฉ ููุบุงูุฉ ููุง ูููู ููุงูุดุชูุง.  ูู ุงูููุงูุฉ ุ ุงูุชุดูุช ุฃู ุชุนููู Gmail ุชุณุจุจ ูู ูุฐุง ุงูุนุฏุงุฏ <i>Win32_PerfRawData_PerfProc_ProcessAddressSpace_Costly</i> ุ ูุงูุฐู ุชู ุชุดุบููู ุจูุงุณุทุฉ ุณุทุฑ ูุงุญุฏ ูู PowerShell: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">measure-command {<span class="hljs-keyword"><span class="hljs-keyword">Get</span></span>-WmiObject -Query โ<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Win32_PerfFormattedData_PerfProc_ProcessAddressSpace_Costlyโ}</code> </pre> <br>  ุซู ุฃุตุจุญุช ูุฑุชุจููุง <i>ุฃูุซุฑ</i> ุจุณุจุจ ุงุณู ุงูุนุฏุงุฏ ("ุนุฒูุฒู"ุ ุญููุงุ) ููุฃู ูุฐุง ุงูุนุฏุงุฏ ูุธูุฑ ููุฎุชูู ุจูุงุกู ุนูู ุนูุงูู ูุง ุฃููููุง. <br><br>  ููู ุชูุงุตูู WMI ูุง ููู.  ูู ููุนู WMI ุดูุฆูุง ุฎุงุทุฆูุง - ููุณ ุญููุง - ููุฏ ูุงู ููุท ุจูุญุต ุงูุฐุงูุฑุฉ.  ุชุจูู ุฃู ูุชุงุจุฉ ููุฏ ุงููุณุญ ุงูุถูุฆู ุงูุฎุงุต ุจู ูู ุฃูุซุฑ ูุงุฆุฏุฉ ูู ุงูุชุญููู ูู ุงููุดููุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  ูุดุงุญูุงุช ููุงููุฑูุณููุช </h1><br>  ุฃุตุฏุฑ Chrome ุชุตุญูุญูุง ุ ูุงูุจุงูู ูุดุฑูุฉ Microsoft. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <s>ุชุณุฑูุน ูุณุญ ููุทูุฉ CFG</s> - ุญุณููุง ุ ููุฏ ุงูุชูู ุงูุฃูุฑ </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุญุฑูุฑ ุฐุงูุฑุฉ CFG ุนูุฏ ุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ุงููุงุจูุฉ ููุชูููุฐ - ุนูู ุงูุฃูู ูู ุญุงูุฉ ูุญุงุฐุงุฉ 256K ุ ูููู ุงูุฃูุฑ <i>ุณููุงู</i> </li><li style=";text-align:right;direction:rtl">  ุถุน ูู ุงุนุชุจุงุฑู ุนูุงูุฉ ุชุณูุญ ุจุชุฎุตูุต ุฐุงูุฑุฉ ูุงุจูุฉ ููุชูููุฐ ุจุฏูู ุฐุงูุฑุฉ CFG ุ ุฃู ุงุณุชุฎุฏู PAGE_TARGETS_INVALID ููุฐุง ุงูุบุฑุถ.  ูุงุญุธ ุฃู ุฏููู <i>ุงูุฅุตุฏุงุฑ ุงูุณุงุจุน ูู ุงูุฌุฒุก ุงูุฏุงุฎูู ูู Windows Internals</i> ููุต ุนูู ุฃูู "ูุฌุจ ุนููู ุชุญุฏูุฏ ุตูุญุงุช [CFG] ูุน ูุฌููุนุฉ ุจุช ูุงุญุฏุฉ ุนูู ุงูุฃูู {1 ุ X}" - ุฅุฐุง ูุงู Windows 10 ุจุชุทุจูู ุฐูู ุ ูุฅู ุนูุงูุฉ PAGE_TARGETS_INVALID (ุงูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชุฎุฏููุง ุงููุญุฑู ุญุงูููุง) ุงูุฅุตุฏุงุฑ 8</a> ) ุณูุชุฌูุจ ุชุฎุตูุต ุงูุฐุงูุฑุฉ </li><li style=";text-align:right;direction:rtl">  ุฅุตูุงุญ ุญุณุงุจ ุฌุฏุงูู ุงูุตูุญุงุช ูู vmmap ููุนูููุงุช ุงูุชู ุชุญุชูู ุนูู ุนุฏุฏ ูุจูุฑ ูู ุนูููุงุช ุชุฎุตูุต CFG </li></ol><br><h1 style=";text-align:right;direction:rtl">  ุชุญุฏูุซุงุช ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ </h1><br>  ููุฏ ููุช ุจุชุญุฏูุซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ</a> ุ ุฎุงุตุฉ VAllocStress.  ููุงู 20 ุฎุทูุง ูุฏุฑุฌูุง ูุชูุถูุญ ููููุฉ ุงูุนุซูุฑ ุนูู ุญุฌุฒ CFG ููุนูููุฉ.  ุฃุถูุช ุฃูุถูุง ุฑูุฒ ุงุฎุชุจุงุฑ ูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><i>SetProcessValidCallTargets</i></a> ููุชุญูู ูู ูููุฉ ุจุชุงุช CFG ูุฅุธูุงุฑ ุงูุญูู ุงููุงุฒูุฉ ููุงุชุตุงู ุจูุง ุจูุฌุงุญ (ุชูููุญ: ูู ุงููุญุชูู ุฃู ูุคุฏู ุงูุงุชุตุงู ุนุจุฑ GetProcAddress ุฅูู ุงูุชูุงู CFG!) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar421153/">https://habr.com/ru/post/ar421153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar421139/index.html">Confend Conf - ุฑุนุงูุฉ ุงููุณุชุฎุฏู</a></li>
<li><a href="../ar421141/index.html">ุชุญููู ุงูุทูุฑุฉ ุ ุฃู ููููุฉ ุงุฎุชุจุงุฑ ุงูุงุฎุชุจุงุฑุงุช</a></li>
<li><a href="../ar421143/index.html">ุทุงุจุนุฉ Aurora Labs S-Titanium Pro Mini Metal 3D</a></li>
<li><a href="../ar421147/index.html">ูุญูุด ุจุนุฏ ุงูุฅุฌุงุฒุงุช: AMD Threadripper 2990WX 32-Core ู 2950X 16-Core</a></li>
<li><a href="../ar421149/index.html">ุจุถุน ูููุงุช ุนู ุงูุชุฏุฑุฌุงุช</a></li>
<li><a href="../ar421155/index.html">ุงูุทุจุงุนุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ูู 2018: ุงูุดูุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุงูุตูุงุนุฉ</a></li>
<li><a href="../ar421157/index.html">ุณูููู Facebook ุจุฅุฌุฑุงุก ุจุญุซ ุนู ุงูุชุตููุฑ ุจุงูุฑููู ุงููุบูุงุทูุณู ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู</a></li>
<li><a href="../ar421159/index.html">ููู ุชุฌุฏ ูุฑุดุฏ / ูุฑุดุฏ ุชุฌุงุฑูุ</a></li>
<li><a href="../ar421161/index.html">ุฃูู ุงููุนูููุงุช ูููุฏููุนุงุช ุงููุตุฑููุฉ ุบูุฑ ุงูููุฏูุฉ. ุงูุฌุฒุก 7 - ูููุฐุฌ ุงูุชูุฏูุฏ ุงูุฃุณุงุณู</a></li>
<li><a href="../ar421163/index.html">ูู ููุงู ุจุฏูู ุฅูุณู ููููุฒุงููุงุช ูุฐูุงุก ุงูุฃุนูุงู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>