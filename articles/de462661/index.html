<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîï ü§Ωüèø üëâüèº Kenntnis des statischen Analysators PVS-Studio bei der Entwicklung von C ++ - Programmen unter Linux üé§ üë©üèº‚Äçüíº üìâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PVS-Studio unterst√ºtzt die Analyse von Projekten in C, C ++, C # und Java. Sie k√∂nnen den Analysator unter Windows-, Linux- und MacOS-Systemen verwend...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kenntnis des statischen Analysators PVS-Studio bei der Entwicklung von C ++ - Programmen unter Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/462661/"><img src="https://habrastorage.org/webt/iu/6h/e0/iu6he0qpjzu0rlqvvkqpczf_euu.png" align="left">  PVS-Studio unterst√ºtzt die Analyse von Projekten in C, C ++, C # und Java.  Sie k√∂nnen den Analysator unter Windows-, Linux- und MacOS-Systemen verwenden.  Dieser Beitrag konzentriert sich auf die Analyse von Code, der in C und C ++ in einer Linux-Umgebung geschrieben wurde. <br><br><h2>  Installation </h2><br>  Abh√§ngig von der Art der Distribution gibt es verschiedene M√∂glichkeiten, PVS-Studio unter Linux zu installieren.  Die bequemste und bevorzugte Methode ist die Verwendung des Repositorys: Auf diese Weise k√∂nnen Sie den Analysator automatisch aktualisieren, wenn neue Versionen ver√∂ffentlicht werden.  Die zweite M√∂glichkeit besteht darin, das Installationspaket zu verwenden, das hier heruntergeladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden kann</a> . <br><a name="habracut"></a><br>  Die Befehle, die Sie zur Installation ausf√ºhren m√ºssen, h√§ngen von der von Ihnen verwendeten Linux-Distribution ab.  Bei Debian-basierten Systemen sieht die Installation aus dem Repository beispielsweise folgenderma√üen aus: <br><br><pre><code class="cpp hljs">wget -q -O - https:<span class="hljs-comment"><span class="hljs-comment">//files.viva64.com/etc/pubkey.txt | sudo apt-key add - sudo wget -O /etc/apt/sources.list.d/viva64.list \ https://files.viva64.com/etc/viva64.list sudo apt update sudo apt install pvs-studio</span></span></code> </pre> <br>  Um PVS-Studio aus dem Installationspaket zu installieren, k√∂nnen Sie das Dienstprogramm gdebi verwenden: <br><br><pre> <code class="cpp hljs">sudo gdebi pvs-studio-VERSION.deb</code> </pre> <br>  Der Installationsvorgang wird im Abschnitt " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Installieren und Aktualisieren von PVS-Studio unter Linux</a> " der Dokumentation ausf√ºhrlicher beschrieben.  Dort finden Sie auch Informationen zu nicht Debian-basierten Systemen. <br><br>  Nach der Installation m√ºssen Sie die Lizenzdaten eingeben.  Verwenden Sie dazu den Befehl <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer credentials NAME KEY [-o LIC-FILE]</code> </pre> <br>  Wobei <i>NAME</i> und <i>KEY</i> der Name sind, f√ºr den die Lizenz registriert ist, und der Lizenzschl√ºssel.  Mit dem optionalen Parameter <i>‚Äìo</i> k√∂nnen Sie den Pfad angeben, √ºber den die Lizenzdatei generiert wird.  Standardm√§√üig wird es im <i>Verzeichnis ~ / .config / PVS-Studio /</i> gespeichert. <br><br>  Den Testschl√ºssel erhalten Sie auf der Seite " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PVS-Studio herunterladen und ausprobieren</a> ". <br><br><h2>  Projekt√ºberpr√ºfung </h2><br>  Nach der Installation des Analysators k√∂nnen Sie mit der √úberpr√ºfung von Projekten beginnen.  Es gibt zwei M√∂glichkeiten, dies zu tun: <br><br><ol><li>  Zusammenstellungs√ºberwachung; </li><li>  Starten w√§hrend des Montageprozesses direkt vom Montagesystem. </li></ol><br>  Betrachten wir zuerst die erste Methode.  Um die √úberwachung unter Linux zu starten, ben√∂tigen Sie das Dienstprogramm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">strace</a> .  Der Analysator sammelt damit Informationen dar√ºber, welche Prozesse w√§hrend der Montage des Projekts gestartet wurden. <br><br>  Der Start wird mit dem folgenden Befehl ausgef√ºhrt: <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer trace -- make</code> </pre> <br>  In diesem Beispiel wird build with make verwendet, aber jeder andere Befehl, den Sie zum Starten des Builds verwenden, kann anstelle von make verwendet werden.  Befehlszeilenparameter k√∂nnen wie gewohnt √ºbergeben werden. <br><br>  Nach dem Zusammenbau erstellt strace eine Datei, mit der der Analysator den Quellcode √ºberpr√ºft.  Sie k√∂nnen die Analyse mit dem Befehl ausf√ºhren <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer analyze -o /path/to/project.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code> </pre> <br>  Die Ausgabe ist eine verschl√ºsselte Datei mit den Ergebnissen, die Sie in eines der unterst√ºtzten Formate konvertieren k√∂nnen.  Wir werden im n√§chsten Abschnitt die Arbeit mit Berichten in Betracht ziehen. <br><br>  Zus√§tzlich zur Verwendung von strace kann die Analyse auch basierend auf der Datei <i>compile_commands.json</i> (JSON Compilation Database) ausgef√ºhrt werden.  In vielen Build-Systemen k√∂nnen Sie Compiler-Aufrufbefehle exportieren oder das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BEAR-</a> Dienstprogramm verwenden.  In diesem Fall k√∂nnen Sie die Analyse mit dem Befehl ausf√ºhren <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer analyze ‚Äìf /path/to/compile_commands.json</code> </pre> <br>  Es ist zu beachten, dass der Analysator den verwendeten Compiler anhand des Namens seiner ausf√ºhrbaren Datei erkennt.  Wenn w√§hrend der √úberpr√ºfung die Fehlermeldung "Keine Kompilierungseinheiten gefunden" <i>angezeigt wird</i> , geben Sie den Namen Ihres Compilers √ºber den Parameter <i>‚Äìcompiler</i> oder <i>‚Äìc an</i> : <br><pre> <code class="cpp hljs">pvs-studio-analyzer analyze -c MyCompiler</code> </pre> <br>  Dies kann erforderlich sein, wenn Compiler mit nicht standardm√§√üigen ausf√ºhrbaren Dateinamen √ºbergreifend kompiliert und verwendet werden. <br><br>  Zus√§tzlich zu den Starts im √úberwachungsmodus k√∂nnen Sie den Analysator in Ihr Montagesystem oder Ihre IDE integrieren.  Beispiele f√ºr Projekte mit bereits konfigurierter Integration auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub finden Sie</a> im PVS_Studio-Repository: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-cmake-beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-qmake-Beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-makefile-beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-waf-beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-eclipse-beispiele</a> </li></ul><br>  Ausf√ºhrlichere Anweisungen zum Ausf√ºhren der Analyse unter Linux finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . <br><br><h2>  Arbeiten Sie mit Berichten </h2><br>  Nach √úberpr√ºfung des Projekts erstellt der Analysator einen codierten Bericht.  Verwenden Sie zum Konvertieren in eines der unterst√ºtzten Formate das <i>Dienstprogramm plog-converter</i> , das zusammen mit PVS-Studio installiert wird. <br><br>  Das Dienstprogramm unterst√ºtzt die folgenden Formate: <br><br><ul><li>  xml - ein praktisches Format f√ºr die zus√§tzliche Verarbeitung von Analyseergebnissen, das vom Plugin f√ºr SonarQube unterst√ºtzt wird; </li><li>  csv ist ein Textformat zur Darstellung von Tabellendaten. </li><li>  errorfile - Ausgabeformat f√ºr gcc und clang; </li><li>  Aufgabenliste - Fehlerformat, das in QtCreator ge√∂ffnet werden kann; </li><li>  HTML - HTML-Bericht mit einer kurzen Beschreibung der Analyseergebnisse; </li><li>  fullhtml - HTML-Bericht mit Sortieranalyseergebnissen nach verschiedenen Parametern und Navigation durch den Quellcode. </li></ul><br>  Das Fullhtml-Format eignet sich am besten zum Anzeigen des Berichts, da Sie zur Quellcodezeile wechseln k√∂nnen, in der die Warnung aufgetreten ist.  Mit dem folgenden Befehl k√∂nnen Sie den Analysatorbericht in dieses Format konvertieren: <br><br><pre> <code class="cpp hljs">plog-converter -a GA:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span> -t fullhtml /path/project.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> -o /path/report_dir</code> </pre> <br>  Nachdem der Befehl ausgef√ºhrt wurde, wird das Verzeichnis <i>/ path / report_dir</i> erstellt, in dem sich die Berichtsdateien befinden. <br><br>  Beachten Sie den Schalter <i>-a</i> .  Hier k√∂nnen Sie festlegen, welche Warnungen in den Bericht aufgenommen werden sollen.  Dies ist praktisch, wenn Sie den Ausgang des Analysators filtern m√ºssen.  Das obige Team erstellt einen Bericht, der nur Warnungen der allgemeinen Analysegruppe der ersten und zweiten Konfidenzstufe ( <i>hoch</i> und <i>mittel</i> ) enth√§lt. <br><br>  Berichtsbeispiel: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0b/4b6/997/c0b4b69970d61d40e24e6a3e867cf597.png" alt="Bild 9"></div><br><br>  Durch Klicken in die Zelle <i>Standort</i> der Nachricht k√∂nnen Sie zur entsprechenden Codezeile wechseln: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b4e/44e/a7d/b4e44ea7d19a4c2a5a35a79c140f96e3.png" alt="Bild 8"></div><br><br>  Durch Klicken auf die Diagnosenummer in der Spalte <i>Code</i> wird die Dokumentation ge√∂ffnet, die diese Diagnose beschreibt. <br><br><h2>  Unterdr√ºckung der Analysatorantwort </h2><br>  Bei der √úberpr√ºfung des Codes mit einem statischen Analyseger√§t sind Fehlalarme oder einfach unerw√ºnschte Meldungen (Rauschen) m√∂glich.  PVS-Studio bietet Mechanismen zur Unterdr√ºckung solcher Warnungen.  Um Alarme einzeln zu unterdr√ºcken, k√∂nnen Sie eine der im Dokumentationsabschnitt " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterdr√ºcken von Fehlalarmen</a> " beschriebenen Methoden verwenden. <br><br>  Bei der Analyse von altem Code kann es auch erforderlich sein, alle Nachrichten massiv zu unterdr√ºcken.  Dies ist in der Regel erforderlich, um nur den Code zu √ºberpr√ºfen, der der vorhandenen Codebasis hinzugef√ºgt wird.  Hierzu wird der <i>Unterdr√ºckungsparameter</i> des <i>Dienstprogramms pvs-studio-analyzer verwendet</i> . <br><br>  Mit dem folgenden Befehl k√∂nnen Sie Nachrichten in einem Bericht in gro√üen Mengen unterdr√ºcken: <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer suppress /path/to/report.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code> </pre> <br>  Informationen zu unterdr√ºckten Nachrichten werden in der Datei <i>suppr_base.json</i> gespeichert, die sich neben dem Projekt befindet.  Solche Meldungen werden bei nachfolgenden Inspektionen aus dem Bericht ausgeschlossen. <br><br>  Dieser Mechanismus wird in der Dokumentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ausf√ºhrlicher beschrieben. <br><br><h2>  Fazit </h2><br>  Dies war eine kurze Einf√ºhrung in die Verwendung des PVS-Studio-Analysators f√ºr Linux.  Ich hoffe es war n√ºtzlich und beantwortete die am h√§ufigsten gestellten Fragen.  Weitere Informationen zum Thema des Artikels finden Sie in der Dokumentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a> </p><br><br>  Wenn Sie diesen Artikel einem englischsprachigen Publikum zug√§nglich machen m√∂chten, verwenden Sie bitte den Link zur √úbersetzung: Yuri Minaev.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erste Schritte mit dem PVS-Studio Static Analyzer f√ºr die C ++ - Entwicklung unter Linux</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462661/">https://habr.com/ru/post/de462661/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462649/index.html"># 18 Mosdroid Argon - Bericht</a></li>
<li><a href="../de462653/index.html">LTE als Symbol der Unabh√§ngigkeit</a></li>
<li><a href="../de462655/index.html">Geben Sie Ihren Code schlie√ülich ein</a></li>
<li><a href="../de462657/index.html">SkyRC B6 Nano Ladeger√§t Bewertung & Test</a></li>
<li><a href="../de462659/index.html">Erste Schritte mit dem PVS-Studio Static Analyzer f√ºr die C ++ - Entwicklung unter Linux</a></li>
<li><a href="../de462663/index.html">Schwimmen, tanzen (!) Und rocken: Welche Aktivit√§ten wollen igrodely</a></li>
<li><a href="../de462665/index.html">Helmsicherheit</a></li>
<li><a href="../de462667/index.html">Galaxy Guide DevOpsConf 2019</a></li>
<li><a href="../de462671/index.html">Unternehmensinfrastruktur als Produkt</a></li>
<li><a href="../de462673/index.html">Stein, Schere, Papier, Vorstellungsgespr√§che, Spock</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>