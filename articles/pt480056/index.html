<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïâÔ∏è üë©üèΩ‚Äçü§ù‚Äçüë©üèª ü§û Ativa√ß√£o de c√¢mera oculta pelos navegadores: Big Brother ou erro de c√°lculo da tecnologia? üå∑ üì° üßîüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal! 


 Meu nome √© Vadim e sou um dos consultores t√©cnicos e, ao mesmo tempo, administrador do sistema do RosKomSvobody . 


 Mas este post n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ativa√ß√£o de c√¢mera oculta pelos navegadores: Big Brother ou erro de c√°lculo da tecnologia?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/roskomsvoboda/blog/480056/"><p><img src="https://habrastorage.org/webt/0g/sx/-f/0gsx-fsnvkf2ueaagrkumuhg53k.jpeg" alt="imagem"></p><br><p>  Ol√° pessoal! </p><br><p> Meu nome √© Vadim e sou um dos consultores t√©cnicos e, ao mesmo tempo, administrador do sistema do <a href="https://roskomsvoboda.org/">RosKomSvobody</a> . </p><br><p>  Mas este post n√£o ser√° sobre mim.  Ser√° uma hist√≥ria sobre uma situa√ß√£o suspeita (em termos de privacidade no contexto de telefones celulares) que encontramos recentemente. <br>  Pode ser no estilo de "Aaaaaaaaa! Olha, o Big Brother (Google) est√° nos seguindo"), mas tentarei fazer algum tipo de an√°lise e apresentar hip√≥teses plaus√≠veis sobre por que o que aconteceu pode acontecer. </p><br><p>  Pe√ßo desculpas antecipadamente se algu√©m n√£o gostar do formato √† "revista} {akep to zero".  Escrever - serei corrigido. </p><a name="habracut"></a><br><p>  Ent√£o  Um de nossos leitores se aproximou de n√≥s, alegando que, ao entrar em nosso site (que, ironicamente, o topo da nossa campanha contra o reconhecimento de rosto - o <a href="https://bancam.ru/">BanCam</a> fica no topo), a c√¢mera frontal √© ativada. </p><br><p>  O fato √© que ele √© o propriet√°rio de um telefone de uma nova gera√ß√£o de telefones sem "grilh√µes", nos quais a c√¢mera frontal √© colocada em uma bandeja "de sa√≠da" separada.  O que, de fato, sai ao acessar a c√¢mera. </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Seu navegador n√£o suporta v√≠deo HTML5. <source src="https://i.imgur.com/ERK9iPV.mp4" type="video/mp4"></video></div></div></div><br><p>  Como voc√™ provavelmente adivinhou, meus primeiros pensamentos foram suspeitas de que, de alguma forma, √©ramos milagrosamente, apesar de todos os "mecanismos de seguran√ßa" que eu estava construindo, ainda hackeados e "constru√≠dos". </p><br><p>  No entanto, a investiga√ß√£o revelou que tudo est√° em ordem com o nosso site. </p><br><p>  Depois de conduzir a investiga√ß√£o acima mencionada e discutir suas descobertas no bate-papo t√©cnico do RosKomSvoboda, lembrei-me de que j√° havia encontrado em v√°rios f√≥runs na Internet que o Trojan "escapou" atrav√©s de redes de banners (ao abrir o f√≥rum a partir de um telefone Android) pacotes apk (aparentemente, na esperan√ßa de que o usu√°rio os instale, pensando que este √© o cliente oficial deste f√≥rum). </p><br><p>  Depois de pensar nessa id√©ia, sugeri tentar verificar os "rastreadores" que estavam na lista de permitidos (este leitor usa o Firefox e o complemento uBlock instalado). </p><br><p> Algumas horas de experimentos mostraram que a c√¢mera para de se mover se voc√™ bloquear o acesso ao dom√≠nio <code>google.com</code> .  Al√©m disso, em algum lugar ao mesmo tempo, esse usu√°rio disse que essa situa√ß√£o tamb√©m est√° sendo reproduzida no site <code>kod.ru</code> (antes disso, trabalhamos com a vers√£o ‚Äúonly with us‚Äù). </p><br><p>  Depois de me aprofundar um pouco mais nas escava√ß√µes, descobri que os pedidos ao <code>google.com</code> provocam n√£o apenas os rastreadores do Google (tamb√©m conhecidos como "analytics"), mas tamb√©m a "incorpora√ß√£o" usual de v√≠deos do YouTube em uma p√°gina.  A reprodutibilidade da sa√≠da da c√¢mera no <code>kod.ru</code> tamb√©m caiu nessa teoria (como se viu, tamb√©m havia um v√≠deo do YouTube na p√°gina testada). </p><br><p>  Para confirmar ainda mais essa teoria, pesquisei em um post aleat√≥rio no blog como "como inserir um v√≠deo do YouTube em um blog, uma instru√ß√£o em v√≠deo" com um v√≠deo embutido, e a situa√ß√£o tamb√©m foi reproduzida nele. </p><br><p>  Ent√£o  Bom  No momento, temos essas informa√ß√µes em nossas m√£os: a presen√ßa de um v√≠deo interno do YouTube na p√°gina aciona o carregamento de alguns scripts do <code>google.com</code> e esses, por sua vez, acionam a sa√≠da da c√¢mera. </p><br><p>  Ok, cave mais. </p><br><p>  Pesquisando nas ferramentas de depura√ß√£o do navegador, descobri que um estranho e terrivelmente ofuscado (tanto que nenhum dos desobfusadores que eu tentei nos resultados da pesquisa suportava) carregado em <code>www.google.com</code> (ou seja, <code>www</code> ) carregado, mesmo com um nome e que ofuscado (conhecendo o Google, posso assumir que, depois de um tempo, esse script desaparecer√° e, em seu lugar, ser√° colocado um script com um nome diferente (mas igualmente ileg√≠vel). Ent√£o, aqui est√° o <a href="https://gist.github.com/raw/c8c09c5067a732c6284ce6b0b1da46c4">c√≥digo</a> , apenas no caso). </p><br><p>  Uma r√°pida olhada no script n√£o mostra nenhuma refer√™ncia √† c√¢mera aqui e n√£o h√° tempo e oportunidade para aprofundar ainda mais a depura√ß√£o e interpretar o que ela faz l√° (embora se algum de voc√™s leitores quiser, voc√™ pode faz√™-lo). </p><br><p>  Tentamos entrar do outro lado: <br>  Pessoalmente, tenho um telefone sem uma c√¢mera de sa√≠da, por isso √© t√£o f√°cil atrair um apelo para ela que n√£o consigo.  Mas eu posso conect√°-lo via USB e fazer <code>adb logcat | grep -C5 camer</code>  <code>adb logcat | grep -C5 camer</code> ( <code>grep</code> - porque, caso contr√°rio, h√° muito lixo irrelevante para cada espirro, inclusive tocando na tela com o dedo ou movendo o telefone no espa√ßo).  O que estou realmente fazendo ... </p><br><p>  Ent√£o, a primeira tentativa: vou aos sites testados e ... nada! </p><br><p>  O pensamento surge, que o problema parece, afinal, estar do lado do usu√°rio. </p><br><p>  Paralelamente a esse processo, estamos discutindo a situa√ß√£o no bate-papo t√©cnico do RosKomSvobody acima mencionado.  Depois de algum tempo, um dos participantes recebeu a opini√£o de que, segundo eles, os navegadores m√≥veis s√£o astutos: nem sempre solicitam direitos de acesso global √† c√¢mera e, se n√£o forem concedidos, em alguns casos, talvez n√£o! </p><br><p>  Vou para as configura√ß√µes do aplicativo e vejo que sim, n√£o defini permiss√µes para a c√¢mera do Firefox.  Eu o ligo, verifico novamente e vejo uma folha para algumas "telas" <a href="">com o</a> seguinte: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b48/630/155/b48630155fd1db53d6ef5127e7b77797.png" alt="captura de tela"></p><br><p>  Sim!  Apelar para a c√¢mera, ent√£o ainda h√°! <br>  Al√©m disso, imediatamente ap√≥s a linha com "obter informa√ß√µes do dispositivo", h√° uma abertura expl√≠cita do dispositivo da c√¢mera: </p><br><pre> <code class="plaintext hljs">12-12 17:10:14.734 751 6924 I QCamera : &lt;HAL&gt;&lt;INFO&gt; int qcamera::QCamera2Factory::cameraDeviceOpen(int, struct hw_device_t **): 405: Open camera id 0 API version 256</code> </pre> <br><p>  Verifico o mesmo com o Chrome e tudo √© reproduzido: se os direitos da c√¢mera forem retirados, no registro "sil√™ncio dos cordeiros" e se for emitido - a mesma folha que o acesso √† c√¢mera aparece com a tampa de a√ßafr√£o. </p><br><p>  Ent√£o o problema √©: <br>  a) n√£o √© local para o usu√°rio, <br>  b) n√£o espec√≠fico ao navegador. </p><br><p>  <strong>Curiosamente, durante todos esses eventos, nenhum desses navegadores tentou dizer uma palavra sobre solicitar permiss√£o para acessar a c√¢mera de qualquer um dos sites participantes do teste (e de fato tamb√©m do YouTube e do <code>google.com</code> ).</strong> </p><br><p>  √Ä luz do exposto, duas hip√≥teses nasceram para mim: </p><br><ol><li>  Ou o Big Brother, no entanto, est√° observando voc√™, ou </li><li>  esse script horrivelmente ofuscado na realidade chama alguma parte da API da c√¢mera nos navegadores para impress√µes digitais do usu√°rio, mas n√£o acessa a c√¢mera diretamente.  Portanto, n√£o h√° solicita√ß√£o de acesso a ele (no entanto, se voc√™ observar o v√≠deo no in√≠cio do artigo, poder√° ver como o LED pisca entre abrir e fechar a c√¢mera, o que faz voc√™ pensar). </li></ol><br><p>  Os navegadores, no entanto, seguem a l√≥gica aqui: "ao inicializar a API da c√¢mera, se n√£o houver acesso √† c√¢mera, n√£o fazemos nada (nem solicitamos at√© que haja uma necessidade real); se houver, inicializamos as c√¢meras e verificamos quais dispositivos temos l√° e o que eles podem "(para os quais, aparentemente, o dispositivo √©" descoberto "). </p><br><p>  Ao que parece, o fornecedor de telefone do usu√°rio n√£o se aprofundou na inven√ß√£o de muletas de software sobre a c√¢mera e resolveu o problema simplesmente (pelo qual ele, a prop√≥sito, respeita): ao acessar a c√¢mera, ela sai.  Quando voc√™ abre o dispositivo e troca dados com ele, o diodo pisca. </p><br><p>  No total, verifica-se que o problema n√£o √© t√£o fatal como parecia no come√ßo e, esperan√ßosamente, ningu√©m tira fotos (embora isso, no entanto, ainda n√£o seja "preciso", porque minha compet√™ncia em saber Os c√≥digos-fonte do Android n√£o s√£o suficientes para garantir inequivocamente, nesse caso, a folha de chamadas para a c√¢mera no logcat fala sobre a foto tirada e na qual - apenas sobre as conversas seculares do aplicativo com o dispositivo). </p><br><p>  No entanto, no entanto, o fato de a abertura de qualquer p√°gina da Web na qual haver√° um iframe com um v√≠deo embutido do YouTube leva a uma chamada para a c√¢mera (e at√© algum tipo de negocia√ß√£o com o dispositivo) ainda √© bastante triste no contexto de privacidade e, parece-me, ainda vale a discuss√£o da comunidade. </p><br><p>  O que voc√™ acha? </p><br><p>  <em>PS Em ingl√™s, este post foi publicado <a href="https://medium.com/%40mva.name/browser-activating-the-front-facing-camera-big-brother-or-just-a-bug-e7a2ff9d6856%3F">no Medium</a></em> . </p><br><p>  <strong><em>UPD</em></strong> : obrigado aos <a href="https://habr.com/ru/users/berez/" class="user_link">berez</a> e <a href="https://habr.com/ru/users/ksil/" class="user_link">ksil habrachians</a> por um pacote de corre√ß√µes ortogr√°ficas (caso contr√°rio, quando voc√™ l√™ e reescreve diferentes partes do texto, como de costume, "corrigir alguns bugs, trouxe muitos outros") </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt480056/">https://habr.com/ru/post/pt480056/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt480042/index.html">Projetos independentes e pr√≥prios. Seguindo o Nginx</a></li>
<li><a href="../pt480044/index.html">Um segundo ano de Q #</a></li>
<li><a href="../pt480048/index.html">Desmistificando o novo Servi√ßo do Trabalhador do .NET Core 3</a></li>
<li><a href="../pt480050/index.html">Estudos de campo do conceito de "Documenta√ß√£o como c√≥digo"</a></li>
<li><a href="../pt480052/index.html">SEO vs. PPC - O que √© melhor para o seu neg√≥cio?</a></li>
<li><a href="../pt480058/index.html">Estrela do transformador na √°rvore de Natal</a></li>
<li><a href="../pt480060/index.html">Classificador P300 simples em dados abertos</a></li>
<li><a href="../pt480062/index.html">10 sistemas de controle. Onde √© mais conveniente se comunicar em tarefas e compartilhar arquivos?</a></li>
<li><a href="../pt480064/index.html">Aprendendo palavras agrupadas tematicamente</a></li>
<li><a href="../pt480068/index.html">[Update] Nosso povo √© espancado, e n√≥s ficaremos em sil√™ncio?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>