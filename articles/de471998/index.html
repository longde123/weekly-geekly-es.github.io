<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨 ☝🏿 ✨ F # 10: Listen 👨‍👩‍👧‍👧 🈯️ 🐷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jede ernsthafte Programmierung in einer beliebigen Sprache enthält immer Listen. Daher werden Sie erfreut sein zu wissen, dass F # Listen mit seinem L...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>F # 10: Listen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471998/">  Jede ernsthafte Programmierung in einer beliebigen Sprache enthält immer Listen.  Daher werden Sie erfreut sein zu wissen, dass F # Listen mit seinem List-Modul sehr, sehr gut unterstützt.  Eine Liste in F # ist eine geordnete, unveränderliche Reihe von Elementen desselben Typs. <br><a name="habracut"></a><br><h3>  Erstellen Sie eine Liste </h3><br>  In F # gibt es verschiedene Möglichkeiten, eine Liste zu erstellen. <br><br><ul><li>  Erstellen Sie eine leere Liste </li><li>  Erstellen Sie eine einfache Liste mit Elementen von 1 bis 10 </li><li>  Erstellen Sie eine Liste mit ungeraden Zahlen im Bereich von 1 bis 10 </li><li>  Verwenden Sie die for-Schleife, um eine Liste zu erstellen. </li></ul><br><pre><code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> prettyPrint desc list = printfn desc printfn <span class="hljs-string"><span class="hljs-string">"%A"</span></span> list //empty list <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> listEmpty = [] //simple list <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list1 = [<span class="hljs-number"><span class="hljs-number">1</span></span> .. <span class="hljs-number"><span class="hljs-number">10</span></span> ] //simple list, with step value <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list2 = [<span class="hljs-number"><span class="hljs-number">1</span></span> ..<span class="hljs-number"><span class="hljs-number">2</span></span>..<span class="hljs-number"><span class="hljs-number">10</span></span> ] //using for loops to create lists <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list3 = [for i in <span class="hljs-number"><span class="hljs-number">1</span></span> .. <span class="hljs-number"><span class="hljs-number">10</span></span> -&gt; i*<span class="hljs-number"><span class="hljs-number">2</span></span> ] prettyPrint <span class="hljs-string"><span class="hljs-string">"let listEmpty = []"</span></span> listEmpty prettyPrint <span class="hljs-string"><span class="hljs-string">"let list1 = [ 1 .. 10 ]"</span></span> list1 prettyPrint <span class="hljs-string"><span class="hljs-string">"let list2 = [ 1 .. 2..10 ]"</span></span> list2 prettyPrint <span class="hljs-string"><span class="hljs-string">"[ for i in 1 .. 10 -&gt; i*2 ]"</span></span> list3</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/c02/078/7e3/c020787e33eb59e2e9fc247dd593335a.png" alt="Bild"><br><br>  Das letzte oben gezeigte Beispiel zeigt, wie Sie mit der for-Schleife eine Liste erstellen, was sehr cool ist, aber die F # -Toolbox enthält noch etwas Cooleres und Leistungsfähigeres, nämlich Listenverständnisse. <br><br>  Listenverständnis ist eine leistungsstarke Methode, mit der Sie Listen mit der Standard-F # erstellen können, die Funktionen / Schleifen / Bedingungen usw. enthält. <br><br>  Schauen wir uns weiterhin ein Beispiel an, wie wir Listen erstellen können. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> is2 x = match x with | <span class="hljs-number"><span class="hljs-number">2</span></span> -&gt; <span class="hljs-string"><span class="hljs-string">"YES"</span></span> | _ -&gt; <span class="hljs-string"><span class="hljs-string">"NO"</span></span> //yield directly <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list1 = [ yield <span class="hljs-number"><span class="hljs-number">1</span></span>; yield <span class="hljs-number"><span class="hljs-number">2</span></span>; yield <span class="hljs-number"><span class="hljs-number">3</span></span>; ] //yield numbers between <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> where we use the //Math.Pow function to return a new number <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list2 = [for i in <span class="hljs-number"><span class="hljs-number">1.0</span></span> .. <span class="hljs-number"><span class="hljs-number">20.0</span></span> do yield Math.Pow(i,<span class="hljs-number"><span class="hljs-number">2.0</span></span>) ] //yield only numbers between <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> that //can be divided by <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list3 = [ for i in <span class="hljs-number"><span class="hljs-number">1</span></span> .. <span class="hljs-number"><span class="hljs-number">20</span></span> do <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i <span class="hljs-comment"><span class="hljs-comment">% 5 = 0 then yield i ] //yields YES/NO strings depending on //whether source int = 2 or not let list4 = [for i in 1 .. 5 -&gt; is2 i ]</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/cad/1e5/094/cad1e5094a6f38a2518043a2719d3ff3.png" alt="Bild"><br><br><h2>  Einige nützliche Listenoperatoren </h2><br><h3>  Nachteile Operator </h3><br>  Wir können den Nachteile-Operator "::" verwenden, um einer vorhandenen Liste Werte hinzuzufügen. Nehmen wir also an, wir hätten diese Liste: <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list1 = [<span class="hljs-number"><span class="hljs-number">1</span></span>;<span class="hljs-number"><span class="hljs-number">2</span></span>;<span class="hljs-number"><span class="hljs-number">3</span></span>;<span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list2 = <span class="hljs-number"><span class="hljs-number">42</span></span> :: list1</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/7b1/76c/4fe/7b176c4feb1cd167ec47d4be2dc534ab.png" alt="Bild"><br><br><h3>  Verkettungsoperator </h3><br>  Ein weiterer sehr nützlicher Operator ist der Operator "@", mit dem Sie Listen desselben Typs kombinieren können.  Wenn wir zum Beispiel folgendes hätten: <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list1 = [<span class="hljs-number"><span class="hljs-number">1</span></span>;<span class="hljs-number"><span class="hljs-number">2</span></span>;<span class="hljs-number"><span class="hljs-number">3</span></span>;<span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list2 = [<span class="hljs-number"><span class="hljs-number">5</span></span>;<span class="hljs-number"><span class="hljs-number">6</span></span>;<span class="hljs-number"><span class="hljs-number">7</span></span>;<span class="hljs-number"><span class="hljs-number">8</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list3 = list1 @ list2</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/7b5/9e6/976/7b59e6976862aca4f5e49fdeb8ffc2a1.png" alt="Bild"><br><br><h3>  Listenmodul </h3><br>  Ich glaube nicht, dass ich es übertreibe, wenn ich sage, dass das Listenmodul ein Schlüsselmodul in F # ist.  Tatsächlich ist die MSDN-Dokumentation dafür im Vergleich zu anderen in F # sehr gut.  Daher glaube ich nicht, dass ich den Beispielen auf MSDN viel Nützliches hinzufügen kann, aber ich werde hier einige zur Vereinfachung geben, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aber Sie sollten MSDN studieren, um weitere Informationen zu erhalten</a> . <br><br><h3>  Die Eigenschaften </h3><br> <code><b>Head</b> <br> <i>'T <br></i></code>  Erstes Element <br> <code><b>Empty</b> <br> <i>'T list <br></i></code>  Gibt eine leere Liste des angegebenen Typs zurück <br>  <b>Isempty</b> <br>  <i>Bool</i> <br>  true - wenn die Liste keine Elemente enthält <br>  <b>Artikel</b> <br>  <i>'T.</i> <i><br></i>  Ein Element, das sich in einem bestimmten Index befindet <br>  <b>Länge</b> <br>  <i>int</i> <br>  Anzahl der Artikel <br>  <b>Schwanz</b> <br>  <i>'T Liste</i> <i><br></i>  Liste ohne ersten Punkt: <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list1 = [ <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> ] // Properties printfn <span class="hljs-string"><span class="hljs-string">"list1.IsEmpty is %b"</span></span> (list1.IsEmpty) printfn <span class="hljs-string"><span class="hljs-string">"list1.Length is %d"</span></span> (list1.Length) printfn <span class="hljs-string"><span class="hljs-string">"list1.Head is %d"</span></span> (list1.Head) printfn <span class="hljs-string"><span class="hljs-string">"list1.Tail.Head is %d"</span></span> (list1.Tail.Head) printfn <span class="hljs-string"><span class="hljs-string">"list1.Tail.Tail.Head is %d"</span></span> (list1.Tail.Tail.Head) printfn <span class="hljs-string"><span class="hljs-string">"list1.Item(1) is %d"</span></span> (list1.Item(<span class="hljs-number"><span class="hljs-number">1</span></span>))</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/6c2/140/950/6c21409508884a24cdc50659af39465a.png" alt="Bild"><br><br><h3>  Filter </h3><br>  Gibt eine neue Sammlung zurück, die nur die Elemente der Sammlung enthält, für die das angegebene Prädikat true zurückgibt.  Hier ist ein einfaches Beispiel, bei dem nur gerade Zahlen aus einer Liste ausgewählt werden, um eine neue Liste zu erstellen <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> evenOnlyList = List.filter (<span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> x -&gt; x <span class="hljs-comment"><span class="hljs-comment">% 2 = 0) [1; 2; 3; 4; 5; 6]</span></span></code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/967/49e/216/96749e21619b199f33e67ef8e6d5cace.png" alt="Bild"><br><br><h3>  Suchen (finden) </h3><br>  Gibt das erste Element zurück, für das diese Funktion true zurückgibt.  In diesem Beispiel ist 5 die 1. Zahl, die durch 5 geteilt wird, da die Liste von 1 bis 100 5 enthält. Dies ist also der Rückgabewert: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b18/d63/b3d/b18d63b3d81c7775c994b53da5b2c688.png" alt="Bild"><br><br><h3>  Für alle (für alle) </h3><br>  Überprüft, ob alle Elemente in der Sammlung ein bestimmtes Prädikat erfüllen.  In diesem Beispiel muss die gesamte Liste 0 enthalten, um den wahren Rückgabewert zu erhalten. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isAllZeroes list = List.forall (<span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> elem -&gt; elem = <span class="hljs-number"><span class="hljs-number">0.0</span></span>) list printfn <span class="hljs-string"><span class="hljs-string">"%b"</span></span> (isAllZeroes [<span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-number"><span class="hljs-number">0.0</span></span>]) printfn <span class="hljs-string"><span class="hljs-string">"%b"</span></span> (isAllZeroes [<span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-number"><span class="hljs-number">1.0</span></span>])</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/957/34f/f8e/95734ff8e37954c120274a404c0bf0c7.png" alt="Bild"><br><br><h3>  Auf alle anwenden (Iteri) </h3><br>  Wendet diese Funktion auf jedes Element in der Sammlung an.  Die an die Funktion übergebene Ganzzahl gibt den Index des Elements an. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> data = [<span class="hljs-string"><span class="hljs-string">"Cats"</span></span>;<span class="hljs-string"><span class="hljs-string">"Dogs"</span></span>;<span class="hljs-string"><span class="hljs-string">"Mice"</span></span>;<span class="hljs-string"><span class="hljs-string">"Elephants"</span></span>] data |&gt; List.iteri (<span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> ix -&gt; printfn <span class="hljs-string"><span class="hljs-string">"item %d: %s"</span></span> ix)</code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/714/d5f/7a0/714d5f7a0ad7a50af42bdb2e19b5b0bf.png" alt="Bild"><br><br><h3>  Sortieren nach (SortWith) </h3><br>  Sortiert die angegebene Liste mit dieser Vergleichsfunktion. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list1 = [ <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-string"><span class="hljs-string">"&amp;"</span></span>; <span class="hljs-string"><span class="hljs-string">"&amp;&amp;"</span></span>; <span class="hljs-string"><span class="hljs-string">"&amp;&amp;&amp;"</span></span>; <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-string"><span class="hljs-string">"|"</span></span>; <span class="hljs-string"><span class="hljs-string">"||"</span></span>; <span class="hljs-string"><span class="hljs-string">"|||"</span></span> ] printfn <span class="hljs-string"><span class="hljs-string">"Before sorting: "</span></span> list1 |&gt; printfn <span class="hljs-string"><span class="hljs-string">"%A"</span></span> //custom sorting function <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sortFunction (string1:string) (string2:string) = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (string1.Length &gt; string2.Length) then <span class="hljs-number"><span class="hljs-number">1</span></span> else <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (string1.Length printfn <span class="hljs-string"><span class="hljs-string">"After sorting:\n%A"</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/68c/07a/e11/68c07ae11646a722d39882c8272e75b5.png" alt="Bild"><br><br>  Das Listenmodul enthält viele nützliche Funktionen. Dies ist nur ein kleiner Teil dessen, was Sie finden können. <br><br><h3>  Ein kleiner Blick auf die Rekursion über Listen </h3><br>  Keine Diskussion von Listen wäre vollständig, ohne über Rekursion zu sprechen. Rekursion ist das, worum es im gesamten Beitrag geht, aber schauen wir uns zunächst an, was zum Schreiben einer rekursiven Funktion erforderlich ist, die für eine Liste in F # funktioniert. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> printIt desc x = printfn <span class="hljs-string"><span class="hljs-string">"%A %A"</span></span> desc x <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rec printList list = match list with | h :: t -&gt; printIt <span class="hljs-string"><span class="hljs-string">"head="</span></span> h printIt <span class="hljs-string"><span class="hljs-string">"tail="</span></span> t printList t | [] -&gt; () printList [<span class="hljs-number"><span class="hljs-number">1</span></span>;<span class="hljs-number"><span class="hljs-number">2</span></span>;<span class="hljs-number"><span class="hljs-number">3</span></span>;<span class="hljs-number"><span class="hljs-number">4</span></span>;<span class="hljs-number"><span class="hljs-number">5</span></span>]</code> </pre> <br>  Beachten Sie die Verwendung des Schlüsselworts <b>rec</b> , das dem F # -Compiler mitteilt, dass diese Funktion rekursiv ist.  Ohne dieses Schlüsselwort ein rekursiver Funktionsaufruf - Sie erhalten eine Kompilierungsfehlermeldung, allerdings mit einem nicht sehr klaren Fehlertext. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e99/7cb/00e/e997cb00eb8e34d2e3d2e8a16230036b.png" alt="Bild"><br><br>  Schauen wir uns also die Ergebnisse des Beispiels mit der folgenden Liste etwas höher an [1;  2;  3;  4;  5] <br><br><img src="https://habrastorage.org/getpro/habr/post_images/78d/543/1c1/78d5431c1b3638900b17bc3cd0e88d57.png" alt="Bild"><br><br>  Sie können sehen, dass alles einwandfrei funktioniert und nicht mehr funktioniert, wenn der Wert erwartungsgemäß mit einer leeren Liste übereinstimmt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de471998/">https://habr.com/ru/post/de471998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de471986/index.html">Linke rekursive PEG-Grammatik</a></li>
<li><a href="../de471988/index.html">Hinzufügen von Aktionen zur PEG-Grammatik</a></li>
<li><a href="../de471990/index.html">Meta-Grammatik für PEG-Parser</a></li>
<li><a href="../de471992/index.html">Implementierung der verbleibenden Funktionen von PEG</a></li>
<li><a href="../de471994/index.html">Arbeiten Sie an PEG im Core Developer Sprint</a></li>
<li><a href="../de472000/index.html">„Für die Community ist es wichtig, Standards zu setzen“: Marchin Moskala über Kotlin</a></li>
<li><a href="../de472002/index.html">Umpacken von Paketen in Gradle</a></li>
<li><a href="../de472004/index.html">Boost.Spirit oder Hinzufügen von „Spiritualität“ zu Listenfiltern</a></li>
<li><a href="../de472006/index.html">Warum es nützlich ist, die Räder neu zu erfinden</a></li>
<li><a href="../de472012/index.html">Kanban in einer halben Stunde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>