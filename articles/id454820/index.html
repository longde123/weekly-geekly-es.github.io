<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“ ğŸ¤¾ğŸ½ ğŸ‘©ğŸ¾â€ğŸš€ Pencarian biru ğŸ‘¨ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸï¸ ğŸš’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jika ada proyek Anda menggunakan data yang disimpan dalam database Azhurov, maka sangat mungkin Anda memiliki kesempatan untuk menggunakan pencarian d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pencarian biru</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454820/"><p><img src="https://habrastorage.org/webt/dd/li/cx/ddlicxgiqvi5vlyllvf2hgklivs.jpeg"></p><br><p>  Jika ada proyek Anda menggunakan data yang disimpan dalam database Azhurov, maka sangat mungkin Anda memiliki kesempatan untuk menggunakan pencarian data menggunakan pencarian Azure.  Anda dapat mencari tidak hanya dengan basis data (Azure Cosmos DB, Azure SQL Database, SQL Server yang dihosting di VM Azure), tetapi juga oleh Blob (Azure Blob Storage, Azure Table Storage). </p><br><p>  Pencarian memiliki tarif gratis, yang memungkinkan Anda membuat hingga tiga indeks dengan ukuran total hingga 50 Mb.  Tarif gratis tidak memiliki kemampuan load balancing, tetapi cukup cocok untuk digunakan. </p><a name="habracut"></a><br><p> Berurusan dengan pencarian tampak cukup sederhana bagi saya (meskipun tidak selalu jelas).  Ada 3 jenis objek: sumber data, indeks dan pengindeks.  Objek utama, mungkin, adalah indeks.  Dialah yang bertanggung jawab untuk mencari dan apa yang harus dicari.  Datasource adalah koneksi data, dan pengindeks adalah pekerjaan yang memperbarui data indeks. </p><br><p>  Portal UI memungkinkan Anda untuk mengimpor data dan membuat ketiga objek.  Peluang akan lewat dan menambah kemampuan kognitif untuk pencarian.  Jika database SQL ada dalam langganan, maka Anda dapat memilihnya saat membuat sumber data.  Meskipun kata sandi karena alasan tertentu, Anda masih harus memasukkan.  Jika Anda ingin menggunakan Cosmos DB, Anda harus memasukkan string koneksi secara manual.  Jangan lupa menunjukkan di baris dan database, menambahkan di akhir baris Database = YOUR_BASE_NAME </p><br><p>  Setelah memilih sumber data, Anda akan diminta untuk menggunakan kemampuan pencarian kognitif.  Perangkat keterampilan default masih cukup kecil: Anda dapat menentukan bahasa, mengekstrak nama, nama organisasi, tempat, dan frasa kunci.  Ada juga peluang menarik untuk menentukan sifat teks untuk emosi positif atau negatif menggunakan deteksi sentimen.  Keahlian ini harus nyaman digunakan dengan ulasan produk di toko online.  Dimungkinkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">untuk membuat keterampilan Anda sendiri</a> menggunakan deskripsi API. </p><br><p><img src="https://habrastorage.org/webt/r6/wh/4x/r6wh4xtuxatvapppu0wxw2lh67k.png"></p><br><p>  Untuk file yang diunggah ke gumpalan, OCR (Pengenalan Karakter Optik) dimungkinkan.  Pengakuan tulisan tangan (sejauh ini hanya bahasa Inggris) dan teks cetak dimungkinkan.  Dengan menggunakan layanan kognitif, dimungkinkan untuk mengidentifikasi berbagai objek dalam foto.  Misalnya, tempat atau selebritas terkenal. </p><br><p>  Langkah selanjutnya adalah membuat indeks.  Satu-satunya opsi untuk <strong>mode Pencarian</strong> hari ini adalah "menganalisisInfixMatching" </p><br><p><img src="https://habrastorage.org/webt/aq/qg/6l/aqqg6ln6ptkzoqgpnizcp2cuezu.png"></p><br><p>  Pada titik ini, Anda dapat mencentang kotak di sebelah bidang di tabel Anda atau menambahkan beberapa bidang baru ke indeks.  Untuk jaga-jaga, saya akan menjelaskan kemungkinan bidang: </p><br><p>  <strong>Retrievable</strong> - bidang akan ada di hasil pencarian <br>  Dapat difilter - nilai bidang dapat difilter <br>  <strong>Diurutkan</strong> - Anda dapat mengurutkan hasilnya berdasarkan bidang ini <br>  <strong>Facetable</strong> - semacam pengelompokan berdasarkan karakteristik tertentu.  Misalnya, menggunakan facet ekspresi berikut = listPrice, nilai: 10 | 25 | 100 | 500 | 1000 | 2500, Anda bisa mendapatkan uraian berikut hasilnya menjadi grup </p><br><p><img src="https://habrastorage.org/webt/pp/8d/wn/pp8dwnctx7vgllop2h-hsmboqqu.png"></p><br><p>  <strong>Dapat dicari</strong> - bidang ini akan mencari </p><br><p>  Bidang <strong>Penganalisis</strong> menyarankan untuk memilih penganalisis untuk berbagai bahasa.  2 versi digunakan - <em>Lucene</em> dan <em>Microsoft</em> .  Untuk memahami apa perbedaannya, Anda perlu memahami apa perbedaan antara dua istilah berikut: </p><br><p>  <em>Stamming</em> adalah proses menemukan dasar kata untuk kata sumber yang diberikan.  Batang (Bahasa Inggris) - batang, batang, asal.  Stemming menggunakan algoritma.  Sering memotong kata-kata dengan menghilangkan akhiran dan akhiran, memperoleh dasar kata. <br>  <em>Lemmatization</em> adalah proses mereduksi bentuk kata menjadi lemma - bentuk normal (kosakata).  Lemma adalah bentuk kata dasar yang kanonik.  Lemmatization menggunakan pencarian kamus yang berisi berbagai bentuk kata. </p><br><p>  Alat analisis Lucene menggunakan stemming.  Penganalisa Microsoft menggunakan lemmatization. <br>  Secara default, jika tidak ada yang dipilih, Lucene digunakan.  Tetapi jika Anda mencari data dalam bahasa tertentu, maka tidak diragukan lagi lebih baik menggunakan penganalisa untuk bahasa ini. </p><br><p>  <strong>Suggester</strong> - memungkinkan Anda untuk memberikan petunjuk dengan dokumen yang berisi teks yang dimasukkan menggunakan huruf awal pencarian. </p><br><p>  Jika Anda menggunakan probester di Azure Search di aplikasi klien, Anda akan memiliki 2 opsi untuk menggunakannya: <em>counsester</em> itu sendiri atau <em>autocomplete</em> .  Singkatnya, prompt menyarankan sepenuhnya seluruh baris dari bidang tabel, dan pelengkapan otomatis hanya menawarkan untuk menyelesaikan kata atau ungkapan dari beberapa kata.  Artikel terbaik tentang perbedaan antara mode prompt dan autocomplete dijelaskan dalam artikel berikut: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Autocomplete di Azure Search now in public preview</a> Artikel ini memiliki gif yang sangat visual. </p><br><p>  Pada tahap <strong>pengindeks</strong> , Anda harus menentukan <em>kolom tanda air tinggi</em> .  Ini adalah bidang yang berubah setiap kali catatan diubah.  Biasanya ini adalah sesuatu seperti bidang dengan tanggal perubahan terakhir atau bidang _ts di Cosmos DB.  Selama pengindeksan, jika nilai bidang diubah, maka indeks juga akan berubah. </p><br><p><img src="https://habrastorage.org/webt/sb/-v/-y/sb-v-yttwlbx9lebmpzm5__wyjc.png"></p><br><p>  <strong>Penghapusan trek</strong> adalah opsi untuk menghapus entri dari indeks secara otomatis.  Tetapi untuk ini, Anda harus mengkonfigurasi soft delete di dalam database Anda.  Jika Anda menggunakan penghapusan lunak, maka ketika Anda menghapus catatan, itu tidak dihapus, tetapi hanya ditandai sebagai dihapus.  Opsi standar adalah menambahkan bidang isDeleted ke database dan mengaturnya ke true jika catatan dihapus. <br>  Atau, Anda dapat mengirim permintaan penghapusan dari pencarian ke Azure Search API setiap kali Anda menghapus entri dari database.  Dalam hal ini, kotak centang penghapusan Trak dapat dihilangkan.  Tapi saya tidak terlalu suka opsi ini, karena jika permintaan penghapusan tidak berfungsi, catatan akan tetap ada dalam indeks.  Bagi saya, tidak ada cukup kesempatan untuk membangun kembali indeks sekali dalam periode waktu tertentu sepenuhnya. </p><br><p>  Terlepas dari semua kenyamanan portal, setelah membuat Anda dapat menambahkan beberapa bidang baru ke indeks, tetapi Anda tidak dapat mengubah yang sudah ada.  Apa yang harus dilakukan jika Anda perlu mengubah sesuatu?  Anda dapat membuat ulang indeks.  Hapus yang sudah ada dan buat yang baru yang berisi perubahan yang diperlukan.  Menggunakan portal untuk melakukan ini adalah tugas yang agak suram.  Saya menggunakan API untuk tujuan ini.  Menggunakan aplikasi seperti Postman, Anda bisa mendapatkan indeks JSON dan menggunakannya untuk menulis permintaan pembuatan indeks.  Anda hanya perlu melakukan perubahan kecil (misalnya, menghapus bidang sistem "@ odata.context" dan "@ odata.etag"). </p><br><p>  Agar dapat bekerja dengan API, Anda harus mengambil kunci dari portal, yang harus ditambahkan ke header setiap permintaan API.  Kuncinya diambil di sini: </p><br><p><img src="https://habrastorage.org/webt/gb/4q/do/gb4qdotcdf2hz3d_busivo1tal4.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Permintaan untuk mendapatkan data indeks</a> adalah: </p><br><pre><code class="plaintext hljs">GET https://[service name].search.windows.net/indexes/[index name]?api-version=[api-version]</code> </pre> <br><p>  <code>api-key: [admin key]</code> harus ditambahkan ke tajuk <code>api-key: [admin key]</code> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Membuat indeks</a> dimungkinkan menggunakan salah satu dari dua pertanyaan berikut: </p><br><pre> <code class="plaintext hljs">POST https://[servicename].search.windows.net/indexes?api-version=[api-version] Content-Type: application/json api-key: [admin key]</code> </pre> <br><p>  atau </p><br><pre> <code class="plaintext hljs">PUT https://[servicename].search.windows.net/indexes/[index name]?api-version=[api-version]</code> </pre> <br><p>  Dalam isi, Anda harus menentukan JSON dengan isi indeks.  Versi terbaru saat ini adalah 2019-05-06, dan sebelum itu digunakan untuk waktu yang lama 2017-11-11 </p><br><p>  Bekerja melalui API, Anda dapat menggunakan beberapa fitur pencarian yang tidak tersedia di portal. </p><br><p>  Untuk memberikan prioritas pada beberapa bidang dalam pencarian, Anda dapat menggunakan <strong>profil penilaian</strong> . </p><br><p>  JSON berikut yang ditambahkan ke permintaan memberikan bidang "judul" keuntungan ganda dari bidang "info": </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"scoringProfiles"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"profileForTitle"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"document"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"weights"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, â€œinfo<span class="hljs-attr"><span class="hljs-attr">": 1 } } ]</span></span></code> </pre> <br><p>  Selain kemampuan untuk memberikan prioritas beberapa bidang menggunakan bobot, dimungkinkan untuk menggunakan beberapa fungsi yang telah ditentukan: kesegaran, besarnya, jarak, dan tag. </p><br><p>  <strong>Kesegaran</strong> hanya digunakan dengan bidang DateTime dan memungkinkan Anda untuk membuka catatan terbaru dalam pencarian.  <strong>Magnitude</strong> digunakan dengan bidang int dan ganda.  Dengan baik dan sesuai, fungsi ini baik untuk digunakan dengan bidang menyimpan harga, jumlah unduhan dan informasi numerik lainnya.  <strong>Jarak</strong> hanya digunakan dengan bidang seperti Edm.GeographyPoint dan dimunculkan dalam pencarian berdasarkan jarak dari lokasi tertentu.  Jika <strong>tag</strong> ditentukan sebagai jenis fungsi, maka dokumen yang berisi tag yang muncul dalam string pencarian akan dimunculkan dalam pencarian. </p><br><p>  Salah satu opsi paling populer adalah mengambil dokumen terbaru dalam pencarian seperti ini: </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"scoringProfiles"</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"newDocs"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"functions"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"freshness"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fieldName"</span></span>: <span class="hljs-string"><span class="hljs-string">"documentDate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"boost"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">"interpolation"</span></span>: <span class="hljs-string"><span class="hljs-string">"quadratic"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"freshness"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"boostingDuration"</span></span>: <span class="hljs-string"><span class="hljs-string">"P7D"</span></span> } } ] } ]</code> </pre> <br><p>  Dokumen yang bidang dokumenTanggalnya berisi tanggal tujuh hari terakhir ("P7D") akan dimunculkan. </p><br><p>  Setelah Anda membuat profil penilaian, Anda dapat menentukan namanya dalam permintaan.  Hanya dalam kasus ini bidang yang diperlukan akan dimunculkan dalam pencarian. </p><br><p>  Baca selengkapnya di dokumentasi resmi: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tambahkan profil penilaian ke indeks Pencarian Azure</a> </p><br><h3 id="data-change-detection-policy">  Kebijakan Deteksi Perubahan Data </h3><br><p>  API menyediakan sedikit lebih banyak fitur untuk sumber data.  Seperti yang Anda baca di atas, saat membuat sumber data, Anda bisa menentukan bidang yang digunakan untuk menentukan apakah data telah berubah.  Dalam bentuk JSON, tampilannya seperti ini: </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"dataChangeDetectionPolicy"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"@odata.type"</span></span> : <span class="hljs-string"><span class="hljs-string">"#Microsoft.Azure.Search.HighWaterMarkChangeDetectionPolicy"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"highWaterMarkColumnName"</span></span> : <span class="hljs-string"><span class="hljs-string">"[a rowversion or last_updated column name]"</span></span> }        soft delete     policy: <span class="hljs-string"><span class="hljs-string">"dataDeletionDetectionPolicy"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"@odata.type"</span></span> : <span class="hljs-string"><span class="hljs-string">"#Microsoft.Azure.Search.SoftDeleteColumnDeletionDetectionPolicy"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"softDeleteColumnName"</span></span> : <span class="hljs-string"><span class="hljs-string">"IsDeleted"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"softDeleteMarkerValue"</span></span> : <span class="hljs-string"><span class="hljs-string">"true"</span></span> }</code> </pre> <br><p>  Jika Anda menggunakan SQL Server dan basis data Anda mendukung Ubah Pelacakan, maka catatan yang dihapus dapat dihapus dari indeks secara otomatis.  Menentukan highWaterMarkColumnName dalam kasus ini tidak diperlukan.  Cukup menentukan SqlIntegratedChangeTrackingPolicy alih-alih HighWaterMarkChangeDetectionPolicy </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"dataChangeDetectionPolicy"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"@odata.type"</span></span> : <span class="hljs-string"><span class="hljs-string">"#Microsoft.Azure.Search.SqlIntegratedChangeTrackingPolicy"</span></span> }</code> </pre> <br><p>  Sangat nyaman.  Namun ada nuansa yang tidak memungkinkan untuk menikmati fitur ini sepenuhnya. </p><br><p>  Pertama, SqlIntegratedChangeTrackingPolicy tidak dapat digunakan dengan tampilan.  Kedua, tabel tidak boleh memiliki kunci primer komposit.  Tak perlu dikatakan bahwa versi SQL Server harus lebih atau kurang baru.  Dan akhirnya, Ubah Pelacakan harus diaktifkan untuk database dan tabel yang digunakan oleh pencarian.  Untuk database, ini menyala seperti ini: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> AdventureWorks2012 <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> CHANGE_TRACKING = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> (CHANGE_RETENTION = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DAYS</span></span>, AUTO_CLEANUP = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>)</code> </pre> <br><p>  Dan untuk tabel seperti ini: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> Person.Contact <span class="hljs-keyword"><span class="hljs-keyword">ENABLE</span></span> CHANGE_TRACKING <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (TRACK_COLUMNS_UPDATED = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>)</code> </pre> <br><p>  Tapi itu belum semuanya.  Sangat disarankan agar Anda mengaktifkan isolasi snapshot untuk basis. </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> AdventureWorks2012 <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ALLOW_SNAPSHOT_ISOLATION <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>;</code> </pre> <br><p>  Selain menari dengan rebana saat menginstal Ubah TraCking untuk database bagi saya, kerugiannya adalah ketidakmampuan untuk menggunakan tampilan.  Jadi saya biasanya masih harus menggunakan HighWaterMarkChangeDetectionPolicy </p><br><h3 id="poisk-po-dannym">  Pencarian Data </h3><br><p>  Secara default, pencarian Azure menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sintaks kueri sederhana</a> .  Ini mungkin tidak mengejutkan, tetapi cukup sederhana: </p><br><p>  <strong>wifi +</strong> pencarian <strong>mewah</strong> untuk kata-kata wifi dan mewah pada saat yang sama <br>  <strong>"hotel mewah" sedang</strong> mencari frasa <br>  <strong>wifi |</strong>  <strong>kemewahan</strong> mencari kata wifi atau kata kemewahan <br>  <strong>wifi â€“luxury</strong> mencari teks dengan kata wifi tetapi tanpa kata mewah <br>  <strong>lux</strong> mencari kata-kata yang dimulai dengan lux </p><br><p>  Dimungkinkan untuk menggabungkan aturan pencarian menggunakan tanda kurung.  Misalnya, aturan <strong>motel + (wifi | mewah)</strong> mencari kata motel dan kata wifi atau kata mewah </p><br><p>  Sangat menyenangkan bahwa Azure Search dapat menggunakan sintaks <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lucene</a> .  Untuk menggunakannya, perlu menambahkan <strong>queryType = penuh ke permintaan</strong> pencarian </p><br><p>  Perbedaan antara sintaksis Azure dan Lucene klasik hanya dalam ketiadaan kisaran. </p><br><p>  Jadi di Azure Search Anda tidak bisa: <code>mod_date:[20020101 TO 20030101]</code> </p><br><p>  Namun dalam Azure Search, Anda dapat menggunakan $ filter dengan sintaks <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ODATA</a> .  Berikut ini contoh filter: </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Scott"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"filter"</span></span>: <span class="hljs-string"><span class="hljs-string">"(age ge 25 and and lt 50) or surname eq 'Guthrie'"</span></span> }</code> </pre> <br><p>  Filter juga dapat digunakan dengan sintaks kueri sederhana. </p><br><p>  Di Lucene, logika "atau" diimplementasikan menggunakan <strong>OR</strong> atau <strong>||</strong> <br>  Kedua nilai dapat ditemukan dengan menentukan pernyataan "dan" dengan: <strong>AND</strong> , <strong>&amp;&amp;</strong> atau <strong>+</strong> <br>  Untuk "tidak", Anda dapat menggunakan salah satu dari yang berikut: <strong>BUKAN ,!</strong>  atau <strong>-</strong> </p><br><p>  Instruksi â€œnotâ€ memiliki fitur umum untuk sintaksis sederhana dan Lucene.  Perilakunya tergantung pada mode pencarian, yang dapat diatur di <strong>searchMode = all</strong> dan di <strong>searchMode = any</strong> (nilai ini digunakan secara default).  Dalam mode apa pun, mencari wifi -luxury akan menemukan dokumen dengan kata wifi atau dokumen tanpa kata mewah.  Dalam semua mode, dengan permintaan yang sama, ia akan menemukan dok dengan kata wifi dan secara bersamaan tanpa kata mewah. </p><br><p>  Mari kita lihat beberapa fitur Lucene yang menarik. </p><br><p>  <strong>Pencarian fuzzy</strong> memungkinkan Anda untuk mencari kata-kata yang berbeda dari pencarian dengan satu atau lebih huruf.  Artinya, ada baiknya berurusan dengan kesalahan ketik.  Misalnya, pencarian "biru ~" atau "biru ~ 1" akan mengembalikan Anda dengan "biru" dan "biru" dan bahkan "lem".  Tetapi pada saat yang sama, pencarian "analis bisnis" akan berarti bisnis atau analis <br>  <strong>Kedekatan</strong> memungkinkan Anda untuk mencari kata-kata yang ada di dekatnya.  Misalnya, "bandara hotel" ~ 5 akan menemukan kata "hotel" dan "bandara" yang terdapat dalam teks tidak lebih dari 5 kata satu sama lain. <br>  <strong>Peningkatan jangka</strong> memungkinkan <strong>Anda</strong> untuk menetapkan prioritas kata dalam pencarian.  Contoh: "rock ^ 2 elektronik" mencari kata-kata rock dan elektronik, tetapi entri dengan kata rock dalam pencarian akan ditampilkan di atas. <br>  <strong>Ekspresi reguler</strong> - menggunakan ekspresi reguler.  Semuanya di sini sesuai dengan dokumentasi resmi Lucene regex.  Anda dapat menemukannya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dengan tautan berikut</a> .  Saat mencari, ekspresi reguler harus ditempatkan di antara garis miring "/".  Misalnya, seperti ini: / [mh] otel / </p><br><p>  Jika string pencarian Anda mengandung karakter khusus, mereka harus lolos dengan garis miring terbalik.  Contoh karakter untuk melarikan diri: <strong>+ - &amp;&amp; ||!</strong>  <strong>() {} [] ^ "~ * ?: \ /</strong> <br>  Pencarian dapat dilakukan menggunakan permintaan GET.  Contoh resmi adalah ini: </p><br><pre> <code class="plaintext hljs">GET /indexes/hotels/docs?search=category:budget AND \"recently renovated\"^3&amp;searchMode=all&amp;api-version=2019-05-06&amp;querytype=full</code> </pre> <br><p>  Tetapi Anda dapat menggunakan permintaan POST dengan isi.  Sekali lagi, contoh resmi: </p><br><pre> <code class="plaintext hljs">POST /indexes/hotels/docs/search?api-version=2019-05-06 { "search": "category:budget AND \"recently renovated\"^3", "queryType": "full", "searchMode": "all" }</code> </pre> <br><p>  Jika Anda menggunakan permintaan GET atau POST dengan aplikasi tipe data / x-www-form-urlencoded, maka Anda harus menyandikan karakter yang tidak aman dan dilindungi undang-undang. </p><br><p>  Simbol  <strong>/?: @ = &amp;</strong> dicadangkan <br>  Karakter <strong>`` &lt;&gt; #% {} | \ ^ ~ []</strong> tidak aman. <br>  Misalnya, simbol # akan menjadi% 23 dan simbol?  menjadi% 3F </p><br><h3 id="para-ssylok-dlya-razrabotchikov">  Beberapa tautan untuk pengembang. </h3><br><p>  Jika .NET adalah pengembang, maka Anda dapat menggunakan paket NuGet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Microsoft.Azure.Search.Selain</a> itu, ada contoh di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NodeJS</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Java</a> . </p><br><p>  Contoh aplikasi sederhana pada .NET Core dapat Anda temukan di sini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sampel pencarian ASP.NET Core Azure</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id454820/">https://habr.com/ru/post/id454820/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id454806/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 9. Dunia fisik switch. Bagian 1</a></li>
<li><a href="../id454808/index.html">Tentang pesawat ruang angkasa dan ruang angkasa. Cara membuat fitur dengan mengubah seluruh produk di sepanjang jalan</a></li>
<li><a href="../id454810/index.html">Udara segar di Mars: tekuk molekul CO2 dan dapatkan oksigen</a></li>
<li><a href="../id454816/index.html">Mengkonfigurasi bundel php-fpm + nginx di bawah WSL</a></li>
<li><a href="../id454818/index.html">Tantangan Rekko - bagaimana mengambil tempat kedua dalam kompetisi untuk menciptakan sistem rekomendasi</a></li>
<li><a href="../id454824/index.html">Op-amp paling sederhana pada elemen diskrit</a></li>
<li><a href="../id454826/index.html">Kurangi cadangan sebesar 99,5% dengan hashget</a></li>
<li><a href="../id454828/index.html">Membuat gambar mosaik</a></li>
<li><a href="../id454830/index.html">3 Kualitas Utama untuk Manajer Produk yang Sukses: Alexander Belyaev</a></li>
<li><a href="../id454832/index.html">Mengapa minggu kerja empat hari adalah kisah yang buruk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>