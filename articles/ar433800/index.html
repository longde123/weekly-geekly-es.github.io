<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง๐ฟโ๐คโ๐ง๐ฟ ๐ ๐ถ ุงุณุชุฎุฏุงู ูุญุฏุงุช ุชุญูู Cypress ูู UDB PSoC ูุชูููู ุงูุงููุทุงุนุงุช ูู ุทุงุจุนุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ๐จ๐ฝโโ๏ธ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุงูุชุนูููุงุช ุนูู ุชุฑุฌูุฉ ูุซุงุฆู ุงูููููุฉ ุนูู UDB ุ ููุญุธ ุจุดูู ุตุญูุญ ุฃู ุงูุญูุงุฆู ุงูุฌุงูุฉ ุจุจุณุงุทุฉ ูุง ุชุณูู ูู ููู ุงูููุงุฏ. ููู ุชูู ุงููุซููุฉ ุชุญุชูู ุนูู ุงูุญูุงุฆู ุงูุฌุงูุฉ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงุณุชุฎุฏุงู ูุญุฏุงุช ุชุญูู Cypress ูู UDB PSoC ูุชูููู ุงูุงููุทุงุนุงุช ูู ุทุงุจุนุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433800/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/8h/et/xb/8hetxbp_jjuad07ws86ov24ch-c.jpeg"><br><br>  ูู ุงูุชุนูููุงุช ุนูู ุชุฑุฌูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงุฆู ุงูููููุฉ ุนูู UDB ุ</a> ููุญุธ ุจุดูู ุตุญูุญ ุฃู ุงูุญูุงุฆู ุงูุฌุงูุฉ ุจุจุณุงุทุฉ ูุง ุชุณูู ูู ููู ุงูููุงุฏ.  ููู ุชูู ุงููุซููุฉ ุชุญุชูู ุนูู ุงูุญูุงุฆู ุงูุฌุงูุฉ ุนูู ูุฌู ุงูุชุญุฏูุฏ.  ูุชุฎููููุง ุจุงูููุงุฑุณุฉ ุ ุฏุนูุง ูุฃุฎุฐ ุงุณุชุฑุงุญุฉ ูู ุงูุชุฑุฌูุฉ.  ุฏุนูุง ูุญูู ูุฐู ุงููุชูุฉ ุจูู ุฃูุฏููุง ููุฑู ูุงุฐุง ูููู ูููู ุชุญููู ุฐูู ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ููุฏูุฉ ุทูููุฉ </h2><br>  ูุฐุง ุงูููุงู ูู ุงูุฌุฒุก ุงูุซุงูู ูู ุซูุงุซูุฉ ุชุตูุฑ.  ููุฌุฏ ุงูุฌุฒุก ุงูุฃูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> (ุงูุชุญูู RGB LED ุนุจุฑ ูุญุฏุฉ ุงูุชุญูู ุงูุตุบูุฑุฉ ูู Cypress UDB PSoC). <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ูุญุฏุงุช ุงูุชุญูู ูู UDB PSoC ูู Cypress ุ ุญูุซ ูุชู ุชูููุฐ ูุงุฌูุงุช ูุนููุฉ ุนูููุง ุ ุณูููู ูู ุงููุซูุฑ ููุงูุชูุงู ุงูุชุญูู ูู ููููุฉ ุฌุนู ูุฐู ุงููุชู ุฃุณูู ูููุจุฑูุฌูู ูู ุฎูุงู ุชูุฑูุบ ุงููุนุงูุฌ ุงููุฑูุฒู ูู ุจุนุถ ุงูููุงู ูุซููุฉ ุงูุงุณุชุฎุฏุงู ููููุงุฑุฏ.  ูููู ูู ุฃุฌู ุชูุถูุญ ูุง ุณุฃูุนูู ุ ูุฌุจ ุฃู ุฃูุชุจ ููุฏูุฉ ุดุงููุฉ. <br><br>  ูู ุฎุฑูู ุนุงู 2015 ุ ุงุดุชุฑูุช ุทุงุจุนุฉ MZ3D 3D ุฌุฏูุฏุฉ ุชูุงููุง ุ ูุจุญููู ุฑุจูุน ุนุงู 2016 ุณุฆูุช ูู ููู ูุฒุช ูุญุฑูุงุชูุง ุงููุชุตุงุนุฏุฉ.  ููุฏ ูุงูุช ุงูุฃููุงุช ุจุฑูุฉ ุ ููุฏ ูุฌุญูุง ุจุฃูุถู ูุง ูุณุชุทูุน ุ ูุฐูู ูุงู ุงูุญู ุงููุญูุฏ ูู ุงูุชุจุฏูู ูู microstep 1/16 ุฅูู 1/32.  ุฃุธูุฑุช ุงููุฑุงุณูุงุช ูุน ุงููุตูุน ุฃู ูุฐุง ุบูุฑ ูููู ูู ุงุฑุฏูููู.  ููุง ุงุชุถุญ ุ ูุงู ููุงู ูููุฏ ูู "ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ" ูุชูู ุงูุณููุงุช ุ ูุน ุชุฑุฏุฏ ุฎุทูุฉ ุฃุนูู ูู 10 ูููู ูุฑุชุฒ ุ ูู ูุชู ุงุชุฎุงุฐ ุฎุทูุงุช ุงูุชุฑุงุถูุฉ ุ ูููู ุฎุทูุชูู ุธุงูุฑุชูู ุ ูุฅูุง ูุฅู ุงููุธุงู ุจุจุณุงุทุฉ ูู ููู ูุฏูู ูุง ูููู ูู ุงูููุช ููุนุงูุฌุฉ ุฌููุน ุงูููุงุทุนุงุช "ุงูุฎุทูุฉ".  ูู ููู ููุงู ุณูู ูุฎุฑุฌ ูุงุญุฏ - ูุณุญุจ ูู ุดูุก ุนูู ููุตุฉ ARM.  ููุฏ ูุงู ุงูุณุญุจ ูุงูุฅููุงุช ูููุณ ุงูุชูุฒูู ุ ุญูุซ ูู ุชูู ููุงู ุญููู ARM ุฌุงูุฒุฉ ูู ุฐูู ุงูููุช ุฃูุถูุง.  ูู ุบุถูู ุฃุณุจูุนูู ููุช ุจููู ูู ูุฐุง ุฅูู STM32F4 ุ ุฃุตุจุญ ุตูุช ุงููุญุฑูุงุช ุฃูุซุฑ ูุชุนุฉ ุ ุชู ุญู ุงููุดููุฉ. <br><br>  ุจุนุฏ ุฐูู ุ ุจุฏุฃ ุชุทููุฑ ูุธุงู ุงูุชุดุบูู ูู ุดุฑูุชูุง ุ ููู ุงูุงุฌุชูุงุนุงุช ุ ูุงู ุนูู ุฃู ุฃุซุจุช ููุชุฑุฉ ุทูููุฉ ุฃู ุงูููุฌ ุงููุนุชุงุฏ ููุนุงูุฌุฉ ุงูููุงุทุนุงุช ุบูุฑ ููุจูู ุฏุงุฆููุง ูู ุญูุซ ุงูุณุฑุนุฉ ุ ููุง ูุฌุนูู ุฌุฐุงุจูุง ููุท ูุชูู ุงูุญุงูุฉ ุงููููุฐุฌูุฉ ุ ูููู ุงูุดุฑุงูุฉ ููุบุงูุฉ.  ูุชู ูุดุฑ ุงูููุงูุดุงุช ุญูู ูุฐุง ุงูููุถูุน ูู ููุงูู ุญูู ุงูููุงุทุนุงุช ูู ูุธุงู ุงูุชุดุบูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> (ูุธุฑุฉ ุนุงูุฉ ุนูู RTOS ุงูุฑูุณู ุ ุงูุฌุฒุก 8. ุงูุนูู ูุน ุงูููุงุทุนุงุช).  ุจุดูู ุนุงู ุ ุงุณุชูุฑุช ุงููุดููุฉ ูู ุฑุฃุณู ููุชุฑุฉ ุทูููุฉ: ุงูููุงุทุนุงุช ุงููุณุงุนุฏุฉ ุงููุชูุฑุฑุฉ ุงูุชู ุชุฎุฏู ูุธุงููุง ูุฑุนููุง ูุงุญุฏูุง ุชุจุทุฆ ูู ุดูุก ุขุฎุฑ.  ุจุทุจูุนุฉ ุงูุญุงู ุ ูุฅู ุงูุชุญุณูู ุงูุจุณูุท ูููุนุงูุฌ ุงููุฑูุฒู ูุญู ุงููุดููุฉ ุ ูููู ูุง ูุฌูุจ ุงูุฑุถุง ุงูุฃุฎูุงูู ุงูุนููู ุนู ุฃู ูู ุดูุก ูุชู ุจุดูู ุตุญูุญ. <br><br>  ุจุดูู ุฏูุฑู ุ ุนุฏุช ุฅูู ูุฐุง ุงูุณุคุงู ุจุงููุนูู ุงููุธุฑู ุงูุจุญุช.  ุนูู ุณุจูู ุงููุซุงู ุ ุชุณููุช ุงูููุฑุฉ ูู ููู ูู ุงูุฃูุงู ุฅูู ุฐููู ุฃูู ุจุฏูุงู ูู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุชุญูู ุจุงูุธุฉ ุงูุซูู ุ ููููู ุฃู ุชุฃุฎุฐ ุซูุงุซุฉ STM32F103C8T6 ุ ุญูุซ ูููู ุงูููุญ ุงูุฌุงูุฒ 110 ุฑูุจู ุ ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงูุชุณููู ุ ูุงูุฑูุงูุฉ ููุณูุง ุฃุฑุฎุต.  ูู ูุงุญุฏ ูููู ูุฅุฎุฑุงุฌ ููุท ูุธููุฉ ุงูุชุญูู ูู ุงููุญุฑู.  ุฏุนู ููุถู ูู ูุง ูุฏูู ูู ููุฉ ุงูุญูุณุจุฉ ุนูู ูุฐู ุงููุธููุฉ.  ูุนูู ุงูุขุฎุฑูู (ุฑุจูุง ุญุชู ูุงุญุฏูุง) ุนูู ุญู ุงูููุงู ุงูุฃุฎุฑู (ุฃูุงูุฑ ุงููุนุงูุฌุฉ ุ ูุงูุนูู ูุน PWM ุ ูุงูุญูุงุธ ุนูู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุ ููุง ุฅูู ุฐูู) ูู ุจูุฆุฉ ูุงุฏุฆุฉ.  ูุญุชูู ูุฐุง ุงูุญู ุฃูุถูุง ุนูู ุฌุงูุจ ุฌุงูุจู ุถุฎู - ุฅุฌูุงูู ุนุฏุฏ ุงููุณุงููุฑ ููุนุฏูุฏ ูู ูุญุฏุงุช ุงูุชุญูู ุถุฎู ููุบุงูุฉ.  ูู ุฃุญุฏ STM32 ุ ุงุถุทุฑุฑุช ุฅูู ูุถุน ูุขุณ ููุชุฑุฉ ุทูููุฉ ุ ูุงูุชู ูุฌุจ ุชุนููููุง ุฅูู.  ุนูู ุงูุฑุบู ูู ุฃู ุฃุฑุฌู ุงููููุช ุงููุฎุฑุฌ ูุฃุฑุฌู ADC ูู ARMs ูุชู ุชุนููููุง ุจุดูู ุฃูุซุฑ ูุฑููุฉ ูู ูุญุฏุงุช ุงูุชุญูู ุงููุฏููุฉ (ูููู ุฅุฎุฑุงุฌ ูุงุญุฏ ูู ูุญุฏุฉ ุงูุฃุฌูุฒุฉ ุฅูู ูุงุญุฏุฉ ูู ุนุฏุฉ ุฃุฑุฌู ูุงุฏูุฉ) ุ ูููู ุนูุฏ ุทู ุณูููุชูุฑ ุ ูุฏ ุชููู ุฃู ุงููุฑููุฉ ูุฏ ูุง ุชููู ูุงููุฉ.  ุฅุฐุง ูุงู ููุงู ุงูุนุฏูุฏ ูู ูุญุฏุงุช ุงูุชุญูู ุ ูุฅู ุงูุฎูุงุฑ ูุฒุฏุงุฏ.  ุนูู ูู ูุฎุฏู ูุญุฑูุงุช ุงูุณุงุฆุฑ ุ ุจุดูู ุนุงู ุ ูุญู ุจุจุณุงุทุฉ ูุฎุตุต ูู ุงูุฃุฑุฌู ููุฎุฑุฌุงุช ุฑูููุฉ.  ุงูุขุฎุฑูู ูุฏููู ุฃูุถุง ุญูุซ ูุณุชุฏูุฑ. <br><br>  ูุดููุฉ ูุงุญุฏุฉ ูุน ูุฐุง ุงูููุฌ ูู ููููุฉ ูุฒุงููุฉ ูุญุฏุงุช ุงูุชุญูู ูุฐูุ  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ูุญุชูู MAX Max RTOS ุนูู ูู ูุง ุชุญุชุงุฌู.  ููุดุฆ ูุนุงูุฌ ุงูุฃูุงูุฑ ูุงุฆูุฉ ูู ุงูููุงู ูุฑุคูุณ ูุชุญุฑูุฉ.  ูููู ุจุดูู ุฏูุฑู ุจุชุนุฏูููุง (ูู ุฎูุงู ุชูุณูู ุงูุชุณุงุฑุน ูุน ุงูููุงู ุงูุชู ูุตูุช ุญุฏูุซูุง).  ูุฐูู ูุฌุจ ูุดุงุฑูุฉ ุฐุงูุฑุฉ ุงููุดูู ูุงูุฃุฏุงุก.  ูุญุชูู RTOS MAX ุนูู ูุธููุฉ ุชูุธูู ูุซู ูุฐู ุงูุฐุงูุฑุฉ ุงููุดุชุฑูุฉ.  ููุฏ ูุตูุชูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> (ูุธุฑุฉ ุนุงูุฉ ุนูู RTOS ุงูุฑูุณูุฉ ุ ุงูุฌุฒุก 7. ูุณุงุฆู ุชุจุงุฏู ุงูุจูุงูุงุช ุจูู ุงูููุงู).  ูููู ูู ุงููุงุญูุฉ ุงูุนูููุฉ ุ ููุณุฏ ูู ุดูุก ุจุณูุทูุง: ุฎุฏูุฉ ูุญุฑูุงุช ุงูุณุงุฆุฑ ูู ููุน ูู ุงูููุงู ุงููููุฉ ููููุช.  ุฃูู ุชุฃุฎูุฑ ุ ูุญุตููุง ุนูู ุชุฏููุงุช ุจูุงุณุชูููุฉ ูุทุงุจุนุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุ ูุขูุงุช CNC ุงูุฃุฎุฑู - ุญุณููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุฎููุท ุบูุฑ ุงูุตุญูุญุฉ.  ุฃู ุงุชุตุงู ุนุจุฑ ูุงุฌูุงุช ุชุณูุณููุฉ ููุณ ุงูุฃุณุฑุน.  ุฒุงุฆุฏ - ุงูููุช ููุชุญููู ูุงูุงุญุชูุงุฌุงุช ุงูุฑุณููุฉ ุงูุฃุฎุฑู.  ูุงุชุถุญ ุฃู ุฌููุน ุงูููุงุณุจ ูู ุฅุฒุงูุฉ ุงููุธููุฉ ูู ุงููุนุงูุฌ ุงูุฑุฆูุณู ุชุฐูุจ ุฅูู ุงููููุงุช ุงูุนุงูุฉ.  ุจุงูุทุจุน ุ ุงุณุชูุฏุช ูู ููููู ุงูุฑุณูู: ุฐูุจุช ููุงูุดุช ูุฐู ุงููุดููุฉ ูุน ูุทูุฑู ูุฐุง ุงููุธุงู ุงููุฑุนู.  ููุฃุณู  ูุงููุง ุฅู ููุงู ุชุฒุงูููุง ุจุฏูู ุญูู ูุจูุฑ ูู ูุธุงู ุงูุชุดุบูู ุ ูููู ุจุงููุณุจุฉ ูููุนุฏุงุช ุงูุชู ุชุฏุนู ุงูุญุงููุงุช ุงูููุงุจูุฉ.  ุงูุขู ุ ุฅุฐุง ุฃุฎุฐุช ุจููุฉ TigerShark ูุฃุณุงุณ ุ ูุณูู ูููู ูุธุงู ุงูุชุดุบูู ุจุชูุธูู ูู ุดูุก ูู ุฏูู ุฃู ุชูุงููู ุฅุถุงููุฉ.  ุชุนุฏ ูุญุฏุงุช ุงูุชุญูู ุงูุชู ุชู ุชุตููุนูุง ููููุง ููุฐู ุงูุจููุฉ ุฃูุซุฑ ุชูููุฉ ูู ุงูุทุงุจุนุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุจุงููุงูู ุงูุชู ุฃุฑุฏุช ูุถุนูุง ุนุฏุฉ ูุฑุงุช.  ุจุดูู ุนุงู ุ ูุฑุฉ ุฃุฎุฑู ุบูุฑ ููุจูู. <br><br>  ูุญู ููุชุฑุจ ูู ููุงูุฉ ููุฏูุฉ ุทูููุฉ.  ุณูููู ุดุฎุต ูุง ูุณุจุจ ูุง ูุง ุฒูุช ุฃุจุญุซ ุนู ุฃููุฑ ุนูู ุญุตุงู ุฃุจูุถ.  ููููู ุฃู ุชุฃุฎุฐ ูู ุดูุก ูุชูุนูู ุจุฏูู ูุธุงู ุชุดุบูู ุ ูููุง ุฃููุฑ ูู ุฌููุน ุฃููุงุน ุงูุฎูุงุฑุงุช ... ููููู ุฐูู ุ ููู ููููู ุฐูู ุ ููู ุนูุฏูุง ูุดุฃุช ุงููุดููุฉ ุงูุนูููุฉ "ุชุนุจุช ูู ุงูุงุณุชูุงุน ุฅูู ุชุนุทู ุงูุทุงุจุนุฉ" ุ ุชู ุฅุตูุงุญูุง ุจุณุฑุนุฉ.  ูุฐุง ูู ุดูุก.  ูู ุชุนุฏ ูุฐูู.  ุนูุงูุฉ ุนูู ุฐูู ุ ูููุฐ ุฐูู ุงูุญูู ุ ุธูุฑ ุฃู ุณุงุฆูู ุงููุญุฑูุงุช ุงูุณุงุฆุฑ ุงูุฌุฏูุฏ ูุญููู ุงููุดููุฉ ุนููููุง ุจุทุฑููุฉ ูุฎุชููุฉ ุชูุงููุง (ูุญุตููู ุนูู ุตูุฑุฉ ูุตุบุฑุฉ 1/16 ุ ููููุญูู 1/256 ุฎุฑูุฌูุง).  ููู ูุฐู ุงูููุฏูุฉ ุ ุฃุตู ุนูู ูุฌู ุงูุชุญุฏูุฏ ุฃูู "ูุง ููุฌุฏ ุญู <b>ุฌููู</b> ููุดููุฉ ุงูุงููุทุงุนุงุช ุงููุชูุฑุฑุฉ".  ููุฐ ูุชุฑุฉ ุทูููุฉ ุงุชุฎุฐ ูุฑุงุฑ ูุจูุญ.  ูู ุฃูู ุฃุฑุบุจ ูู ุฅุถุงุนุฉ ุงูููุช ูู ุงูุชุญูู ูู ุงููุฑุงุฑุงุช ุงููุจูุญุฉ ุงูุฃุฎุฑู.  ุฃููุง ูุฌุฑุฏ ุงูุชูุฑูุฑ ูู ุฑุฃุณู. <br><br>  ูููู ุนูุฏูุง ุชุนุงููุช ูุน ูุชู UDB ุ ุจุฏุง ูู ุฃูู ูููู ุญู ุงููุดููุฉ ุจุดูู ุฌููู ูุฏุงุฆู.  ููููู ุจุจุณุงุทุฉ ููู ูุนุงูุฌุฉ ุงูุงููุทุงุนุงุช ูู ุงูุจุฑูุงูุฌ ุฅูู ูุณุชูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุ ูุชุฑู ุฌุฒุก ุงูุญูุณุจุฉ ุนูู ุถููุฑ ุงููุนุงูุฌ ุงูุฑุฆูุณู.  ูุง ุญุงุฌุฉ ุฅูู ูุญุฏุงุช ุชุญูู ุฅุถุงููุฉ!  ูุชู ูุถุน ูู ุดูุก ุนูู ููุณ ุงูุดุฑูุญุฉ!  ูุฐูู ุ ุฏุนููุง ูุจุฏุฃ. <br><br><h2 style=";text-align:right;direction:rtl">  ุญุตุงู ูุฑูู ูู ูุฑุงุบ </h2><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุณูููู ุงูุนูู ูุน UDB ููุณู ูู ุงูููุฏูุฉ.  ุฅุฐุง ุชุญุฏุซุช ุนู ุงุฑุชุจุงุทู ุจู "ุจุฑูุงูุฌ ุซุงุจุช" ูุนูู ุ ููุฏ ูุดูุฑูู ูู ุจุญู ุฅูู ุฃููู ููุช ูุฎุทุฆูุง ูู ุงููุญูุฑ.  ูุง ูู ู GeekTimes.  ูุฐูู ุ UDB ุฃุณุงุณู ุ ูุงููุญุฑูุงุช ุงูุณุงุฆุฑ ูู ูุฌุฑุฏ ุดูุก ุฌููู ูุชูุถูุญ.  ูู ูุฐุง ุงูุฌุฒุก ุณุฃุตูุน ุนููููุง ุญุตุงููุง ูุฑูููุง ูู ูุฑุงุบ.  ุณูููู ูุฏูู ุนููุจ ุนูููุฉ ุ ูุงูุชู ุณุฃูุถู ุนูููุง ูู ุงูุฌุฒุก ุงูุซุงูู.  ูููู ูุฑุฑ ุฃูุนุงูู ุ ุณูุชููู ุงููุฑุงุก ูู ุฅุชูุงู ูููุฌูุฉ ุชุทููุฑ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูู UDB. <br><br>  ููุฐุง  ููู ุชุนูู ุขููุฉ ุงูุชุญูู ูู ุงููุญุฑูุงุช ุงูุณุงุฆุฑุ  ููุงู ูููุฉ ุชุถุน ูู ุฎุท ุงููุทุงุนุงุช ุงูุชู ูุฌุจ ุฃู ููุฑ ุจูุง ุงูุฑุฃุณ ุจุณุฑุนุฉ ุฎุทูุฉ.  ุญุชู ุงูุขู ุ ุณูู ุฃุฏุนู ุฃููู ูุง ุฃุชุฐูุฑ ุงูุชุณุงุฑุน ูู ุจุฏุงูุฉ ูููุงูุฉ ุงูุฌุฒุก.  ููุท ูุฌุจ ุฃู ููุฑ ุงูุฑุฃุณ.  ูุชู ูุถุน ุดุฑุงุฆุญ ุฌุฏูุฏุฉ ูู ุฐูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ.  ุจูุงุกู ุนูู ุงูุชุณุฌูู ูู ุงูุฑุฃุณ ุ ุชููู ูููุฉ ูููุตูุฉ ุจุฅุฑุณุงู ุฅุดุงุฑุงุช <b>STEP</b> ุฅูู ุฌููุน ุงููุญุฑูุงุช ุงููุดุทุฉ. <br><br>  ุฏุน ุงูุทุงุจุนุฉ ุชุตู ุณุฑุนุชูุง ุงููุตูู ุฅูู 200 ูู / ุซุงููุฉ.  ุงุชุฑู 200 ุฎุทูุฉ ูุทููุจุฉ ููู ูููููุชุฑ ูุงุญุฏ ูู ุงูุญุฑูุฉ (ูุฐุง ุงูุฑูู ูุชูุงูู ูุน ุทุงุจุนุฉ ุญููููุฉ MZ3D-256C ูุน microstep 1/32).  ุซู ูุฌุจ ุชุฒููุฏ ุงูุจููู ุจุชุฑุฏุฏ ูุตู ุฅูู 200 * 200 = 40ุ000 ูุฑุชุฒ = 40 ูููู ูุฑุชุฒ.  ูู ูุซู ูุฐุง ุงูุชุฑุฏุฏ ุ ูููู ุงุณุชุฏุนุงุก ูููุฉ ุฅุฑุณุงู ูุจุถุงุช ุงูุฎุทูุฉ.  ูุฌุจ ุฃู ุชุดูู ุงููุจุถุงุช ุจุฑูุฌููุง ุ ููุฐูู ุชุญุณุจ ุงููุฏุฉ ุงูุชู ูุฌุจ ุฃู ูุทูู ุนูููุง ุงูููุงุทุนุฉ ุงูุชุงููุฉ ูุชูุดูุทูุง. <br><br>  ุฃุชุฐูุฑ ูุฒุญุฉ ุญูู Kolobok ู Bogatyrs ุงูุซูุงุซุฉ ุ ุญูุซ ูุงู Kolobok ุจุงุณุชูุจุงู Bogatyrs ุจุงุณุชูุฑุงุฑ ุ ุซู ุณุฃููู ุจุงุณุชูุฑุงุฑ ุงูุฃุณุฆูุฉ ูุชููู ุงูุฅุฌุงุจุงุช.  ุซู ูุงู ุนูู ุงูุชูุงูู ูุฏุงุนุง ููู.  ุญุณููุง ุ ุซู ุงูุชูู ุจูุฑุณุงู ุงูุซูุงุซุฉ ูุงูุซูุงุซูู.  ุงููุนุงูุฌ ูู ุฏูุฑ ุงููุนูุฉ ุ ูุงููุญุฑูุงุช ุงูุณุงุฆุฑ ูู ุฏูุฑ Bogatyrs.  ูู ุงููุงุถุญ ุฃูู ูู ูุฌูุฏ ุนุฏุฏ ูุจูุฑ ูู ูุชู UDB ุ ูู ุงููููู ููุงุฒูุฉ ุงูุนูู ูุน ุงููุญุฑูุงุช ุ ูุน ุตูุงูุฉ ูู ูุญุฑู ูุน ูุชูุชู.  ููุธุฑูุง ูุฃู ูุฏููุง ูุทุงุนุงุช ุชุชุญุฑู ุฎูุงููุง ุงููุญุฑูุงุช ุจุงูุชุณุงูู ุ ูููุญุงูู ุฌุนู ุงููุนุฏุงุช ุชุนูู ูุน ูุซู ูุฐู ุงููุนุงููุงุช ุ ูููุณ ูุน ูู ุฎุทูุฉ. <br><br>  ูุง ูู ุงููุนูููุงุช ุงููุทููุจุฉ ููุญุตุงู ุงููุฑูู ูุงุฌุชูุงุฒ ูุณู ุฎุทู ูู ูุฑุงุบุ <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ุงูุฎุทูุงุช. </li><li style=";text-align:right;direction:rtl">  ุงููุชุฑุฉ ุงูุฒูููุฉ ุจูู ุงูุฎุทูุงุช. </li></ul><br>  ูุนููุชูู.  ูุญุชูู UDB ููุท ุนูู ุจุทุงุฑูุชูู ูุณุฌููู ูููุนููุงุช D0 ู D1.  ูุจุฏู ุฃู ูู ุดูุก ูููู ุชุญูููู.  ูุญู ููุฏุฑ ููุท ุนูู ุงูุจุช ุงูุฐู ูุฌุจ ุฃู ูููู ููุฐู ุงูุณุฌูุงุช. <br><br>  ุฃููุง ุ ุนุฏุฏ ุงูุฎุทูุงุช.  ุฅุฐุง ูุงู ููุงู 8 ุฃุฑูุงู ุ ูุนูุฏ ุฏูุฑุฉ ูุงุญุฏุฉ ูู ุชุดุบูู UDB ุ ุณุชุชููู ุงูุทุงุจุนุฉ ูู ุชุญุฑูู ุฑุฃุณ ุงูุทุงุจุนุฉ ุงูุฏููุงุฑุชูุฉ ุจุฃูุซุฑ ููููุงู ูู 1 ูู (200 ุฎุทูุฉ ูููุฑููุฉ).  ููุณ ูุงูู  ุฅุฐุง ูุงูุช ุงูุณุนุฉ 16 ุจุช ุ ูุณูููู ุนุฏุฏ ุงูุฎุทูุงุช 65536. ูุฐุง ูู 65536/200 = 327 ูููููุชุฑ.  ููุจูู ููุนุธู ุงูุทุฑุฒ  ุจุงููุณุจุฉ ุฅูู Core ู Delta ูุบูุฑูุง ูุฌุจ ุชูุฏูุฑ ุฐูู ุ ูููู ููู - ูููู ุชูุณูู ุงูููุทุน ุฅูู ุนุฏุฉ ุฃุฌุฒุงุก.  ูู ูููู ููุงู ุงููุซูุฑ (ุงุซูุงู ุ ุญุณูุง ุ ุจุญุฏ ุฃูุตู ุซูุงุซุฉ). <br><br>  ุงูุขู ูุฐู ุงููุชุฑุฉ.  ุฏุน ุชุฑุฏุฏ ุงูุณุงุนุฉ ูููู 48 ููุฌุง ูุฑุชุฒ.  48000000/65536 = 732.  ุฃู ุฃู ุงูุญุฏ ุงูุฃุฏูู ุงููุณููุญ ููุชุฑุฏุฏ ุงูุฐู ูููู ุงูุญุตูู ุนููู ุจุงุณุชุฎุฏุงู ููุณู 16 ุจุช ูู 732 ูุฑุชุฒ.  ูุซูุฑ ุฌุฏุง  ูู Marlin Firmware ุ ุงูุญุฏ ุงูุฃุฏูู ูู 120 ูุฑุชุฒ (ูุงูุฐู ููุงุธุฑ ุชูุฑูุจูุง 8 ููุบุงูุฑุชุฒ ููุณูููุง ุนูู ููุณ ุงูุซุงุจุช 65536).  ุณูููู ูุฏููุง ูุฌุนู ุงูุณุฌูุงุช 24 ุจุช.  ุนูุฏูุง ุณูููู ุงูุญุฏ ุงูุฃุฏูู ููุชุฑุฏุฏ ูุณุงููุงู ูู 48000000 / (2 ^ 24) = 48000000/16777216 = 2.861 ูุฑุชุฒ. <br><br>  ุฌูุฏ  ููู ูุธุฑูุฉ ูููุฉ!  ุฏุนูุง ููุชูู ุฅูู ููุงุฑุณุฉ!  ูู ุจุชุดุบูู PSoC Creator ูุญุฏุฏ File-&gt; New-&gt; Project: <br><br><img src="https://habrastorage.org/webt/tk/9t/bj/tk9tbjfppfjemih3s-ydrk54lfc.png"><br><br>  ุจุนุฏ ุฐูู ุ ููุช ุจุชุญุฏูุฏ ุงูููุญ ุงูุฐู ูุฏู ุ ูุงูุฐู ุณุชุฃุฎุฐ ููู ุงูุจูุฆุฉ ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ ุญูู ูุญุฏุฉ ุงูุชุญูู ุงููุณุชุฎุฏูุฉ ูุฅุนุฏุงุฏุงุชูุง: <br><br><img src="https://habrastorage.org/webt/dv/st/hi/dvsthib82j6ynrdxc0sk-5j20nk.png"><br><br>  ุฃุดุนุฑ ุจุงููุนู ุฃููู ุนูู ุงุณุชุนุฏุงุฏ ูุฅูุดุงุก ูุดุฑูุน ูู ุงูุจุฏุงูุฉ ุ ูุฐูู ุญุฏุฏ <b>Empty Schematic</b> : <br><br><img src="https://habrastorage.org/webt/oi/fx/vv/oifxvvsf0qye7j-mdyoxmbfux4q.png"><br><br>  ุฅุนุทุงุก ุจูุฆุฉ ุงูุนูู ุงุณู <b>PSoC3DTest</b> : <br><br><img src="https://habrastorage.org/webt/rr/0u/pd/rr0updtyevaseusbwel37v76bgc.png"><br><br>  ูููุง ูู ุ ูุดุฑูุน ุงูุงูุชูุงุก! <br><br><img src="https://habrastorage.org/webt/fw/0s/xu/fw0sxucryznmujjsvr5ockarrjc.png"><br><br>  ุฃูู ุดูุก ุฃุฑูุฏ ุงูููุงู ุจู ูู ุฅูุดุงุก ูููู ุฎุงุต ุจู ูุณุชูุฏ ุฅูู UDB.  ูุฐูู ุ ููุง ูุงุญุธูุง ุณุงุจููุง ูู ุงูููุงูุฉ ุงูุฃุฎูุฑุฉ ุ ุฃุญุชุงุฌ ุฅูู ุงูุชุจุฏูู ุฅูู ุนูุงูุฉ ุงูุชุจููุจ <b>ุงูููููุงุช</b> <br><br><img src="https://habrastorage.org/webt/oa/o8/s5/oao8s5whrsdn9xsnophfoaom_n4.png"><br><br>  ุงููุฑ ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ุนูู ุงููุดุฑูุน ูุญุฏุฏ <b>ุฅุถุงูุฉ ุนูุตุฑ ูููู</b> : <br><br><img src="https://habrastorage.org/webt/zq/kt/hu/zqkthur3pa19fpcrq4kcrmdac_y.png"><br><br>  ูููู ุฅููุง ุจุญุงุฌุฉ ุฅูู ุฅุถุงูุฉ <b>ูุณุชูุฏ UDB</b> ูุชุบููุฑ ุงูุงุณู ุฅูู <b>StepperController</b> ูุงูููุฑ ููู " <b>ุฅูุดุงุก ุฌุฏูุฏ"</b> : <br><br><img src="https://habrastorage.org/webt/tz/v8/qk/tzv8qkfqumypnq3ctjeh9moitpc.png"><br><br>  ุธูุฑ ุงููููู ูู ุงูุดุฌุฑุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู - ุชู ูุชุญ ูุญุฑุฑ ูุฐุง ุงููููู: <br><br><img src="https://habrastorage.org/webt/yo/4g/np/yo4gnpvs5fuewpovam09lbq3zmw.png"><br><br>  ุถุน ูุชูุฉ Datapath ูู ุงููููุฐุฌ: <br><br><img src="https://habrastorage.org/webt/nx/1o/bl/nx1oblbig1eqyqat0yj-evlvwo0.png"><br><br>  ุจุนุฏ ุชุญุฏูุฏ ูุฐู ุงููุชูุฉ ุ ูุฐูุจ ุฅูู ุฎุตุงุฆุตูุง ููุบูุฑ ุนูู ุงูุจุช ูู 8 ุฅูู 24. ููููู ุชุฑู ุงููุนููุงุช ุงููุชุจููุฉ ุฏูู ุชุบููุฑ. <br><br><img src="https://habrastorage.org/webt/1e/oq/rf/1eoqrfsjz5uh1fj2mopwtmf5vao.png"><br><br>  ูุจุฏุก ุฌููุน ุงููุชู (ูุฌููุน ุงููุญุฑูุงุช) ูู ููุณ ุงูููุช ุ ุณุฃุจุฏุฃ ุฅุดุงุฑุฉ ุงูุจุฏุก ูู ุงูุฎุงุฑุฌ (ุฅุถุงูุฉ ุฅุฏุฎุงู <b>ุงูุจุฏุก</b> ).  ุงููุฎุฑุฌุงุช: ุณูู <b>ุฃุฎุฑุฌ</b> <b>ุงูุฎุทูุฉ</b> ูุจุงุดุฑุฉู ุ ุญุชู ุฃุชููู ูู <b>ุฅุฑุณุงููุง</b> ุฅูู ุณุงุฆู ุงูุณุงุฆุฑ ุ ููุฐูู <b>Out_Idle</b> .  ุจูุงุกู ุนูู ูุฐู ุงูุฅุดุงุฑุฉ ุ ุณูุชููู ุงููุนุงูุฌ ูู ุชุญุฏูุฏ ุฃูู ูู ุงูููุช ุงูุญุงูู ูุฏ ุงูุชูุช ุงููุญุฏุฉ ูู ุนูููุง.  ุชุธูุฑ ุฃุณูุงุก ุงูุฏูุงุฆุฑ ุงูุชู ุชุทุงุจู ูุฐู ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช ูู ุงูุดูู. <br><br><img src="https://habrastorage.org/webt/sx/xq/gv/sxxqgvsyvpyr_jvzdblaf_l1soc.png"><br><br>  ูุจู ุงูุญุฏูุซ ุนู ููุทู ุงูุฃูุชููุงุชูู ุ ุณูู ุฃุตู ูุดููุฉ ููุฏุณูุฉ ุจุญุชุฉ ุฃุฎุฑู: ุชุญุฏูุฏ ูุฏุฉ ุงููุจุถุฉ <b>ุงูุฎุทูุฉ</b> .  ุชุชุทูุจ ูุซุงุฆู ุจุฑูุงูุฌ ุงูุชุดุบูู DRV8825 ุฃู ูููู ุนุฑุถ ุงููุจุถุฉ 1.9 ฮผs ุนูู ุงูุฃูู.  ุจุฑุงูุฌ ุชุดุบูู ุฃุฎุฑู ุฃูู ุชุทูุจูุง ุนูู ุนุฑุถูุง.  ููุง ููุญุธ ุจุงููุนู ูู ุงูุฌุฒุก ุงููุธุฑู ุ ูุฅู ุงูุณุฌูุงุช ุงูุญุงููุฉ ูุดุบููุฉ ุจุงููุนู ูู ุฎูุงู ุชุญุฏูุฏ ูุฏุฉ ุงูุฎุทูุฉ ูุนุฏุฏ ุงูุฎุทูุงุช.  ุดุฆูุง ุฃู ุฃุจููุง ุ ูุฌุจ ูุถุน ุนุฏุงุฏ ุณุจุนุฉ ุจุช ุนูู ุงูุฏุงุฆุฑุฉ.  ูุญู ูุณูููุง ุทููุฉ ูุงุญุฏุฉ ุ ูุงูุชู ุชุญุฏุฏ ูุจุถ ุงูุฎุทูุฉ.  ุนูู ุชุฑุฏุฏ 48 ููุฌุงูุฑุชุฒ ุ ูุถูุงู ูุฏุฉ 1.9 ฮผs ุ ูุฌุจ ุฃู ูุญุณุจ ูุฐุง ุงูุนุฏุงุฏ 91.2 ุฎุทูุฉ ุนูู ุงูุฃูู.  ุชูุฑูุจูุง ุฅูู 92. ุฃู ูููุฉ ุชุชุฌุงูุฒ ูุฐุง ูู ุชููู ุฃูู.  ุงุชุถุญ ุงูุฅุนุฏุงุฏ ุงูุชุงูู: <br><br><img src="https://habrastorage.org/webt/6w/k9/em/6wk9emz-qedseywswmgk24bdjqe.png"><br><br>  ุงุณู ุงูุนุฏุงุฏ  ูุง ุชุชู ุฅุนุงุฏุฉ ุถุจุทู ุฃุจุฏูุง ุ ูุฐูู ูุชู ุฏุงุฆููุง ุชูุตูู ูุฏุฎูุงุช <b>ุฅุนุงุฏุฉ ุงูุถุจุท</b> ุจุตูุฑ ุ ููุคุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุนูุฏูุง ุชููู ุงูุขูุฉ (ุงูููุถุญุฉ ุฃุฏูุงู) ูู ุญุงูุฉ ูุงุญุฏุฉ ุ ููุชู ุชุญููููุง ูู ุฌููุน ุงูุญุงูุงุช ุงูุฃุฎุฑู (ูู ุงูุจุฏุงูุฉ ุญุฏุฏุช ุญุงูุงุช ูุญุฏุฏุฉ ูู ุงููุงูููุฉ ุ ููู ุงุชุถุญ ุฃูู ุจูุฐู ุงูุทุฑููุฉ ุงูุตุนุจุฉ ุ ููุงุฑุฏ PLD ุฃูู ุจูุซูุฑ ุ ูููู ุงููุชูุฌุฉ ูู ููุณูุง).  ูููุฉ ุงูุชุญููู ุนุดุฑูุฉ. ุตุญูุญ ุ ุณูููู ูุญุฑุฑ ุฌูุฏ ุนูู ุงูููุฑ ุจุงุณุชุจุฏุงู ูุฐู ุงููููุฉ ุจุงูุณุฏุงุณู ุนุดุฑู: <br><br><img src="https://habrastorage.org/webt/qt/h0/nv/qth0nvcbb_8m7qty2mj1zpde2m4.png"><br><br>  ุนูุฏูุง ูุชู ุญุณุงุจ ุงูุนุฏุงุฏ ุฅูู ุตูุฑ ุ ูุฅูู ุณูุชู ุงูุฅุจูุงุบ ุนู ูุฐุง ุฅูู ุงูุณูุณูุฉ ุจุงุณู <b>One_Finished</b> .  ูุน ุงูุนุฏุงุฏ - ูุฐุง ูู ุดูุก. <br><br>  ูุง ููุน ุฃุนูุงู ุงูุญุงูุฉ ุงูุชู ุณุชุณุชุฎุฏููุง ุฃุฌูุฒุชูุงุ  ุญุตูุช ุนูู ูุซู ูุฐุง (ุฃุฐูุฑู ุจุงูููุฑ ุงููุฒุฏูุฌ ุนูู ูุงุฆูุฉ ุงููุฎุฑุฌุงุช ูู Datapath ูุชุนููููุง): <br><br><img src="https://habrastorage.org/webt/mk/oo/z_/mkooz_ywbi5vnaenpgfqo98p580.png"><br><br><img src="https://habrastorage.org/webt/br/u9/rz/bru9rzw4kk4ja4j6ehutvm7od14.png"><br><br>  ุณูู ุฃุณุชุฎุฏู ุงูุจุทุงุฑูุฉ A0 ูุนุฏุงุฏ ููุฏุฉ ุงููุจุถุฉ ุ ูุฐูู ุนูุฏูุง ุชุตู ูููุชูุง ุฅูู ุงูุตูุฑ ุ ุณูุชู ูุถุน ุนูุงูุฉ ุนูู ุงูุนูู ุ ูุงูุชู ุฃุนุทูุชูุง ุงุณู <b>Pulse_Finished</b> .  ุณูู ุงูุจุทุงุฑูุฉ A1 ุนุฏ ุงูุจููู ุจุงููุณุจุฉ ูู.  ูุฐูู ุ ูุฅู ุงูุชุตููุฑ ุงูุฎุงุต ุจู ุณูู ูุตูุญ ุงูุนูุงูุฉ <b>Process_Finished</b> . <br><br>  ูุญู ูุจูู ุงูุฑุณู ุงูุจูุงูู ุงูุชูุงู ุงูุฃูุชููุงุชูู: <br><br><img src="https://habrastorage.org/webt/bv/rr/cv/bvrrcv0pgjs9fvadt08iyqaj92i.png"><br><br>  ุงููุชุบูุฑ ุงูุฐู ูุญุฏุฏ ุญุงูุชู ูุณูู <b>ุงูุญุงูุฉ</b> .  ุชุนููู ูุฐุง ุงููุชุบูุฑ ุนูู ุงูููุฑ ุฅูู ุณุฌู ุนููุงู ุชุนูููุฉ ALU.  ูู ุงูุจุฏุงูุฉ ูุณูุช ุฃู ุฃูุนู ุฐูู ุ ูุฐุง ูู ุฃูู ุฃููู ูููุช ุทููู ุณุจุจ ุนุฏู ุนูู ุงูุฌูุงุฒ.  ุงููุฑ ููุฑูุง ูุฒุฏูุฌูุง ููู ูุชูุฉ ุงูุฅุฏุฎุงูุงุช ูู Datapath: <br><br><img src="https://habrastorage.org/webt/zl/z2/e0/zlz2e0tvkl11wc5ot0id4vsdnh4.png"><br><br>  ูุชุทุงุจู: <br><br><img src="https://habrastorage.org/webt/1e/sp/q1/1espq1co36mt063kgyvig-kzhsw.png"><br><br>  ูุจุฏุฃ ูู ุงูุชุนุงูู ูุน ุงูุฑุณู ุงูุจูุงูู ุงูุงูุชูุงููุฉ ูุชุนูููุงุช ALU ุงููุฑุชุจุทุฉ ุจู. <br><br>  ููุจุฏุฃ ูุน ุญุงูุฉ <b>ุงูุฎููู</b> .  ุงููุง ูุดุจุนุฉ ุฌุฏุง ูู ุฃุนูุงููุง. <br><br>  ุฃููุงู ุ ูุชู ูุถุน ูููุฉ ุณุฌูุงุช ุงูุจูุงูุงุช D0 ู D1 ุจุงุณุชูุฑุงุฑ ูู ุงูุจุทุงุฑูุงุช A0 ู A1 ุ ุนูู ุงูุชูุงูู: <br><br><img src="https://habrastorage.org/webt/hz/8p/c-/hz8pc-lydhvzq3cnvsg2jw2qcem.png"><br><br>  ูู ูุฐุง ุงููุฏุฎู ุ ุณูู ุชุฑู ุงูุนูู ุงููุฏุฑุจุฉ ูู ูุง ุชุญุชุงุฌู.  ูุธุฑูุง ูุฃู ุนููููุง ูุง ุชุฒุงู ุบูุฑ ูุถุจูุทุฉ ุ ูููุฑ ููุฑูุง ูุฒุฏูุฌูุง ููู ุงูุฅุฏุฎุงู ููุฑู ููุณ ุงูุดูุก ุ ูููู ุจูุฒูุฏ ูู ุงูุชูุงุตูู: <br><br><img src="https://habrastorage.org/webt/yu/yy/qe/yuyyqemtvqbcsp25mbud7y3y1mu.png"><br><br>  ุงููููุฉ ุงูุฑุฆูุณูุฉ ููุง ูู ููุก ุงูุจุทุงุฑูุฉ A1 ุ ุนุฏุงุฏ ุงููุจุถ.  ุนูุฏูุง ูุฏุฎู ุงูุจุฑูุงูุฌ ุงููููุฉ D1 ุ ููุชูู ุนูู ุงูููุฑ ุฅูู A1.  ูู ุงููุคูุฏ ุฃู ุงูุจุฑูุงูุฌ ูู ูููู ูุฏูู ููุช ูุจุฏุก ุงูุนูููุฉ ุญุชู ุงูุฅุฌุฑุงุก ุงูุชุงูู.  ูุชู ุงูุชุญูู ูู ูุฐู ุงููููุฉ ูุชูููู ุดุฑุท ูุฅููุงุก ูุฐู ุงูุญุงูุฉ ุ ุฃู ุฃูู ูุง ููุฌุฏ ููุงู ุขุฎุฑ ูููุฆูุง. <br><br>  ุงูุขู ุฏุนููุง ูุฑู ูุง ูุชู ุนูู ูุณุชูู ุงูุฑุณู ุงูุจูุงูู ุงูุงูุชูุงููุฉ: <br><br><img src="https://habrastorage.org/webt/97/p-/2d/97p-2dwdvbxyb_tpi-xaqjdhuck.png"><br><br>  ุงููุดุบู ุงููุณุงุนุฏ <b>Start_Prev</b> ูุชูุญ <b>ูู</b> ุงูุญุตูู ุนูู <b>ููุฒุฉ</b> ุฅูุฌุงุจูุฉ ุนูุฏ <b>ุจุฏุก</b> ุงูุฅุฏุฎุงู ุ ูุชูุธูู ุฎุท ุชุฃุฎูุฑ ููุฏุฉ ุฏูุฑุฉ ูุงุญุฏุฉ.  ุณูุญุชูู ุฏุงุฆููุง ุนูู ุญุงูุฉ <b>ุจุฏุก</b> ุงูุฅุฏุฎุงู ุ ูุงูุชู ูุงูุช ูู ุงูุฅุฌุฑุงุก ุงูุณุงุจู.  ุดุฎุต ูุง ุฃูุซุฑ ุฏุฑุงูุฉ ุจุฑุคูุฉ ูุฐุง ูู ููุฑูููุฌ: <br><br><img src="https://habrastorage.org/webt/mm/pc/vw/mmpcvwuturlr5nieqnkgieml_tm.png"><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุณ ุงููุต</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">always @ (posedge clock) begin : Idle_state_logic case(State) Idle : begin Start_Prev &lt;= (Start); IsIdle &lt;= (1); if (( Start&amp;(!Start_Prev)&amp;(!Process_Finished) ) == 1'b1) begin State &lt;= One ; end end</code> </pre> <br></div></div><br>  ููููุง ูุฐูู ุ ูููู <b>ุงูุดุฑุท Start &amp; (! Start_Prev)</b> ุตุญูุญูุง ููุท ุนูุฏ <b>ุญุฏูุซ</b> ุงุฎุชูุงู ุฅูุฌุงุจู ูู ุฎุท <b>ุงูุจุฏุงูุฉ</b> <b>ุจูู ุงูููุงููุณ</b> . <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุนูุฏูุง ูููู ุงูุฌูุงุฒ ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู <b>ุฅุฏุฎุงู</b> ุฅุฎุฑุงุฌ <b>IsIdle</b> ูู ุญุงูุฉ ูุงุญุฏุฉ ุ ูุฅุจูุงุบ ุงูุจูุฆุฉ ุงูุฎุงุฑุฌูุฉ ุจุฃู ุงููุชูุฉ ุบูุฑ ูุนุงูุฉ.  ูุน ูุฐุง ุงูููุฌ ุ ูุชู ุฅููุงู ููุงุฑุฏ PLD ุฃูู ููุง ุฅุฐุง ูุงูุช <b>ุงูุฏููุฉ ==</b> ุฅูุดุงุก <b>ุงูุฎููู</b> ูุฏ ููุฏูุช ุฅูู ุงููุฎุฑุฌุงุช. <br><br>  ุนูุฏูุง ูุฃุชู ุงุฎุชูุงู ุฅุดุงุฑุฉ <b>ุงูุจุฏุก</b> ูู ุงูุจูุฆุฉ ุงูุฎุงุฑุฌูุฉ ุ ููููู ูููุฌูุน A1 ูููุฉ ุบูุฑ ุตูุฑูุฉ ุ ูุณูู ูุฎุฑุฌ ุงูุฌูุงุฒ ูู ุญุงูุฉ <b>ุงูุฎููู</b> .  ุฅุฐุง ุชู ุฅุฏุฎุงู ุงูุตูุฑ ูู A1 ุ ููู ูุดุงุฑู ุงููุญุฑู ูู ุชุทููุฑ ูุฐุง ุงูุฌุฒุก ุ ุจุญูุซ ูุชู ุชุฌุงูู ุงููุฑู ุงูููุฌูุฏ ูู ุฎุท <b>ุงูุจุฏุงูุฉ</b> .  ููุฐุง ููุทุจู ุนูู ุงูุทุงุฑุฏ ุบูุฑ ุงููุณุชุฎุฏูุฉ.  ุจุงููุณุจุฉ ูุจุนุถ ุงูุทุงุจุนุงุช ุ ูุงุฏุฑุงู ูุง ูุณุชุฎุฏู ูุญุฑู ุงููุญูุฑ Z. ุฏุนูู ุฃุฐูุฑู ููู ุชุชุดูู ุญุงูุฉ ุชูุดู ุนู ูููุฉ ุตูุฑูุฉ ูู A1 (ูุนุฏู ุงูุนูุงุณูุง ูู: <br><br><img src="https://habrastorage.org/webt/ez/kk/up/ezkkuprcmblrfjx22av9dlfu5bc.png"><br><br>  ุจุนุฏ ุฐูู ุ ูุฏุฎู ุงูุฌูุงุฒ ุงูุญุงูุฉ <b>ุงูุฃููู</b> : <br><br><img src="https://habrastorage.org/webt/zr/qc/cm/zrqccmzwghfncwcqyfekuhawmcg.png"><br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชุนููู ุฅุฎุฑุงุฌ <b>ุงูุฎุทูุฉ</b> ุฅูู 1. ูุชู ุชุทุจูู ูุจุถ ุงูุฎุทูุฉ ุนูู ุจุฑูุงูุฌ ุงูุชุดุบูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชู <b>ุฅุนุงุฏุฉ ุชุนููู</b> ูููุฉ ุงููุดุบู <b>IsIdle</b> .  ูุชู ุฅุจูุงุบ ุงูุจูุฆุฉ ุงูุฎุงุฑุฌูุฉ ุฃู ุงููุญุฏุฉ ูู ุงููุฑุญูุฉ ุงููุดุทุฉ. <br><br>  ูุชู <b>ุฅููุงุก</b> ูุฐู ุงูุญุงูุฉ ุจูุงุณุทุฉ ุฅุดุงุฑุฉ <b>One_Finished</b> ุ ูุงูุชู ุณูุชู ุฑูุนูุง ุฅูู ูุงุญุฏุฉ ุนูุฏูุง ูููู ุนุฏุงุฏ ุงูุณุจุนุฉ ุจุชุงุช ุตูุฑุงู.  ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑูู ุจุฃู ุฅุดุงุฑุฉ <b>One_Finished ูุชู</b> ุฅูุดุงุคูุง ุจูุงุณุทุฉ ูุฐุง ุงูุนุฏุงุฏ ุงููุญุฏุฏ: <br><br><img src="https://habrastorage.org/webt/ls/yp/re/lsypreow8ydou_tqhrls8us-qem.png"><br><br>  ุฃุซูุงุก ูุฌูุฏ ุงูุฌูุงุฒ ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชุญููู ALU ูู ุงูุจุทุงุฑูุฉ A0 (ุถุจุท ูุฏุฉ ุงููุจุถุฉ) ุงููููุฉ ูู ุงูุณุฌู D0.  ุฏุนูู ุฃุฑูู ููุท ููุงุญุธุฉ ูุตูุฑุฉ ุชููู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/am/b_/fa/amb_faw1o-9vsgframn5iswseas.png"><br><br>  ุณูุชู ุงุณุชุฎุฏุงู ุงููููุฉ ุงููุญููุฉ ูู ุงูุญุงูุฉ ุงูุชุงููุฉ.  ุจูุฌูุฏูุง ุ ูููุฏ ุงูุฌูุงุฒ ุชุฃุฎูุฑูุง ูุญุฏุฏ ูุฏุฉ ุงููุจุถุฉ: <br><br><img src="https://habrastorage.org/webt/hh/eb/kf/hhebkfiwmsmnnrtkf17w2wqby8o.png"><br><br>  ุชุชู ุฅุนุงุฏุฉ ุชุนููู ุฅุฎุฑุงุฌ <b>ุงูุฎุทูุฉ</b> ุฅูู ุตูุฑ.  ุชูุฎูุถ ุงูุจุทุงุฑูุฉ A0 ุ ููุง ูุชุถุญ ูู ุงูุฅุฏุฎุงู ุงููุฎุชุตุฑ ุงูุชุงูู: <br><br><img src="https://habrastorage.org/webt/bb/63/dk/bb63dkglkjd8_7wn1s2by22_hym.png"><br><br>  ูุฅุฐุง ููุฑุช ุนููู ููุฑูุง ูุฒุฏูุฌูุง - ุฅุฏุฎุงู ูุงูู: <br><br><img src="https://habrastorage.org/webt/-8/6d/ry/-86dryefyslh1qsvlo4ggkdojhg.png"><br><br>  ุนูุฏูุง ุชุตู ูููุฉ A0 ุฅูู ุงูุตูุฑ ุ ุณูุชู ุฑูุน ุนูุงูุฉ Pules_Finished ุ ูุณุชูุชูู ุงูุขูุฉ ุฅูู ุญุงูุฉ <b>Decrement</b> : <br><br><img src="https://habrastorage.org/webt/6k/sw/yv/6kswyvakmiszucfe1cx49pjcyig.png"><br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูู ALU ุ ุชุชูุงูุต ูููุฉ ูุฑูู A1 โโุ ููุง ูุญุฏุฏ ุนุฏุฏ ุงููุจุถุงุช: <br><br><img src="https://habrastorage.org/webt/ci/9r/1e/ci9r1ervyzj1gyma_tpj4uxnzfq.png"><br><br>  ุงููุณุฎุฉ ุงููุงููุฉ ูู ุงูุณุฌู: <br><br><img src="https://habrastorage.org/webt/l9/dk/hy/l9dkhy0a6bb2bqpzgmzgtox7clk.png"><br><br>  ุงุนุชูุงุฏูุง ุนูู ุงููุชูุฌุฉ ุ ูุญุฏุซ ุงูุชูุงู ุฅูุง ุฅูู ุงููุจุถ ุงูุชุงูู ุฃู ุฅูู ุญุงูุฉ <b>ุงูุฎููู</b> .  ุงููุฑ ููุฑูุง ูุฒุฏูุฌูุง ุนูู ุงูุญุงูุฉ ูุฑุคูุฉ ุงูุชุญููุงุช ูุน ูุฑุงุนุงุฉ ุงูุฃููููุงุช: <br><br><img src="https://habrastorage.org/webt/jm/r-/7n/jmr-7nle2advdfl95fn8hnkid0i.png"><br><br>  ูู ุงููุงูุน ุ ูุน UDB ูู ุดูุก.  ุงูุขู ูุฌุนู ุงูุฑูุฒ ุงูููุงุจู.  ููููุงู ุจุฐูู ุ ุงููุฑ ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ุนูู ุงููุญุฑุฑ ูุญุฏุฏ <b>ุฅูุดุงุก ุฑูุฒ</b> : <br><br><img src="https://habrastorage.org/webt/j6/j3/qc/j6j3qcgoye9-2gac8fgowordfx8.png"><br><br>  ูุฐูุจ ุฅูู ูุฎุทุท ุงููุดุฑูุน: <br><br><img src="https://habrastorage.org/webt/ab/hb/l4/abhbl4ocjtfgw8r4vjfo8nfs05c.png"><br><br>  ููุญู ููุฏู ุงูุฏุงุฆุฑุฉ ุงูุชู ููุฌุฏ ูููุง ุนุฏุฏ ูุนูู ูู ูุญุฏุงุช ุงูุชุญูู ูุฐู.  ุงุฎุชุฑุช ุฎูุณุฉ (ุซูุงุซุฉ ูุญุงูุฑ ุฒุงุฆุฏ ุงุซููู ูู ุงูุจุซู).  ุงูุทุงุจุนุงุช ุงูุชู ุชุญุชูู ุนูู ุนุฏุฏ ูุจูุฑ ูู ุงูุจุซู ูู ุชุนุชุจุฑ ุฑุฎูุตุฉ.  ููููู ูุถุน FPGA ุนูููุง.  ุนูู ุทูู ุงูุทุฑูู ุ ููุนุฑูุฉ ุงูุชุนููุฏ ุงูุญูููู ุ ุฑููุช ูุชูุฉ USB-UART (ูุชููู ุงูุจูุงูุงุช ูู ุฌูุงุฒ ููุจููุชุฑ ุฃู ููุณ Raspberry Pi) ู UART ุญููููุฉ (ุณุชููุฑ ุงูุชูุงุตู ูุน ูุญุฏุฉ Wi-Fi ุฑุฎูุตุฉ ESP8266 ุฃู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุดุงุดุฉ ุฐููุฉ ูููููุง ุฅุฑุณุงู GCODE ุนุจุฑ UART).  ูู ุฃูู ุจุฅุถุงูุฉ PWMs ููุง ุฅูู ุฐูู ุ ูุฃู ุชุนููุฏูุง ูุงุถุญ ุชูุฑูุจูุง ุ ููุง ูุฒุงู ุงููุธุงู ุงูุญูููู ุจุนูุฏูุง.  ุงุชุถุญ ุจุทุฑููุฉ ูุง ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/he/a6/ok/hea6okfr7irbrzjwm-bze2xlfxy.png"><br><br>  ููุดุฆ ุณุฌู ุงูุชุญูู ุฅุดุงุฑุฉ ุชุดุบูู ุ ูุงูุชู ุชุฐูุจ ุฅูู ุฌููุน ุงููุชู ูู ููุช ูุงุญุฏ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุฏุน ุงูุฅุดุงุฑุงุช ุชุฎุฑุฌ ููู ุ ูุงูุชู ุชููู ุซุงุจุชุฉ ุฃุซูุงุก ุชูููู ุงููุทุงุน.  ุฌูุนุช ุฌููุน ูุฎุฑุฌุงุช <b>ุงูุฎููู</b> ุจูุงุณุทุฉ "ู" ูุชุทุจูููุง ุนูู ูุฏุฎูุงุช ุงูููุงุทุนุฉ.  ููุช ุจุชุนููู ุงููุทุงุน ุนูู ุฌุจูุฉ ุฅูุฌุงุจูุฉ.  ูู ุญุงูุฉ ุจุฏุก ุชุดุบูู ูุญุฑู ูุงุญุฏ ุนูู ุงูุฃูู ุ ุณูุชู ุฅุนุงุฏุฉ ุชุนููู ุฅุฏุฎุงู ุงูููุงุทุนุฉ.  ูู ููุงูุฉ ุงููุญุฑู ุงูุฃุฎูุฑ ุ ุณูุชู ุทูููุง ุ ูุงูุชู ุณูู ุชุจูุบ ุงููุนุงูุฌ ุญูู ุงูุงุณุชุนุฏุงุฏ ูุฅููุงุก ุงูุฌุฒุก ุงูุชุงูู.  ุงูุขู ูู ุจุถุจุท ุงูุชุฑุฏุฏุงุช ุจุงูููุฑ ุงููุฒุฏูุฌ ุนูู ุนูุตุฑ ุดุฌุฑุฉ <b>ุงูุณุงุนุงุช</b> : <br><br><img src="https://habrastorage.org/webt/zy/yf/kl/zyyfklrmcfz5kmg-59qmzgdztug.png"><br><br>  ูู ุงูุฌุฏูู ุงูุฐู ูุธูุฑ ุ ุงููุฑ ููุฑูุง ูุฒุฏูุฌูุง ุนูู ุนูุตุฑ <b>PLL_OUT</b> : <br><br><img src="https://habrastorage.org/webt/8z/m0/r1/8zm0r10tu28rjatkhmo1h0skp80.png"><br><br>  ุณูููุฃ ุงูุฌุฏูู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู (ูู ุฃููู ููุงุนุฏ ุฅุนุฏุงุฏ ูุฐุง ุงูุฌุฏูู ุฌูุฏูุง ุจูุง ููู ุงูููุงูุฉ ุ ููุฐุง ูู ุงูุณุจุจ ูู ุฃููู ุฃุณุชุฎุฏู ูุตุทูุญ "ุดูุก ูู ูุฐุง ุงููุจูู"): <br><br><img src="https://habrastorage.org/webt/se/55/ps/se55ps9rti9fyvyguffgxdx0f0i.png"><br><br>  ุงูุขู ุงููุฑ ููุฑูุง ูุฒุฏูุฌูุง ุนูู ุงูุฎุท <b>Clock_1</b> : <br><br><img src="https://habrastorage.org/webt/vn/py/px/vnpypxluipgeeme1fyf9icn9tu4.png"><br><br>  ุงุถุจุท ุชุฑุฏุฏ ุงูุณุงุนุฉ ููุชู โโUDB ุนูู MHz 48: <br><br><img src="https://habrastorage.org/webt/8z/sk/ik/8zskik6rpyovzo7ryqrxjeptinm.png"><br><br>  ูุธุฑูุง ูุฃู ุงููุดุฑูุน ุชุฌุฑูุจู ุ ูููุณ ูู ุงูููุทูู ุฅูุดุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ูู.  ูููู ูู ุฃุฌู ุฏูุฌ ุงูููุงุฏ ุงูุชู ุชูุช ุฏุฑุงุณุชูุง ูู ุงูููุงูุฉ ุงูุณุงุจูุฉ ุ ููุชูู ูุฑุฉ ุฃุฎุฑู ุฅูู ุนูุงูุฉ ุชุจููุจ "ุงูููููุงุช" ููููุดุฑูุน StepperController ุ ุงููุฑ ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ูู ุฎูุงู "ุฅุถุงูุฉ ุนูุตุฑ ูููู" ุฃููุงู ุ ููููุง ุจุฅุถุงูุฉ ููู ุงูุฑุฃุณ ุ ุซู ููู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ C: <br><br><img src="https://habrastorage.org/webt/3i/bg/zk/3ibgzkq8nugwau5lszhe9ikudxi.png"><br><br><img src="https://habrastorage.org/webt/bm/k3/iw/bmk3iwh-aouvspv20g7_1bgi3wq.png"><br><br>  ุณุฃุนุฑุถ ุณุทุญู ูุธููุชู ุงูุชููุฆุฉ ูุจุฏุก ุงูููุทุน ุงูุฐู ุฃุถูุชููุง.  ูููู ุฑุคูุฉ ุงูุจุงูู ูู ุงููุซุงู ุนูู ุงูููุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void `$INSTANCE_NAME`_Start() { `$INSTANCE_NAME`_SingleVibrator_Start(); //"One" Generator start } void `$INSTANCE_NAME`_PrepareStep(int nSteps,int duration) { CY_SET_XTND_REG24(`$INSTANCE_NAME`_Datapath_1_D0_PTR, duration&gt;92?duration-92:0); CY_SET_XTND_REG24(`$INSTANCE_NAME`_Datapath_1_D1_PTR, nSteps&gt;1?nSteps-1:0); }</code> </pre><br>  ููุฏ ุงุณุชุจุฏูุช ุงุณู <b>main.c</b> ุจู <b>main.cpp</b> ููุชุญูู ูู ุฃู ุจูุฆุฉ ุงูุชุทููุฑ ุณุชุณุชุฌูุจ ุจุดูู ุทุจูุนู ูู C ++ ุ ูุฃู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ Marlin ููุฌูุฉ ูููุงุฆูุงุช.  ุชูุทุฑ ุจุดูู ูุชููุน ุงูุฃุฎุทุงุก ุงูุชู ุชู ุงููุถุงุก ุนูููุง ุนู ุทุฑูู ุฅุถุงูุฉ ุดูุก ููุชุธู: <br><br><img src="https://habrastorage.org/webt/5m/mn/cd/5mmncdgxig9oxchcekaofuv1k9y.png"><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุณ ุงููุต</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">extern "C" { #include "project.h" }</code> </pre><br></div></div><br>  ุจุงููุณุจุฉ ููุฅุทูุงู ุงูุนุงููู ูููุญุฑูุงุช ุ ููุช ุจุนูู ูุฐู ุงููุธููุฉ (ุฅููุง ุนูููุฉ ุตุนุจุฉ ููุบุงูุฉ ุ ูููู ุจุงููุณุจุฉ ููุชุฌุงุฑุจ ูุน ุญุตุงู ูุฑูู ูู ุงููุฑุงุบ ุ ุณุชููู ุจุฐูู ุ ูู ุงูุชุฌุงุฑุจ ุ ูููู ููุช ุงูุชุทููุฑ ุฃูุซุฑ ุฃูููุฉ ูู ุงูุฌูุงู): <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void StartSteppers() { Stepper_Control_Reg_Write (1); Stepper_Control_Reg_Write (1); Stepper_Control_Reg_Write (1); Stepper_Control_Reg_Write (0); }</code> </pre><br>  ุชุจุฏุฃ ุจุฅุดุงุฑุฉ " <b>ุงูุจุฏุงูุฉ"</b> ุ ูู ุงูุญุงู ุ ููุฏุฉ ุซูุงุซุฉ ุชุฏุงุจูุฑ ุ ุซู ุชุณูุทูุง ูุฑุฉ ุฃุฎุฑู. <br><br>  ุญุณููุง ุ ููุจุฏุฃ ุงูุชุฌุงุฑุจ.  ุฃููุงู ุ ูู ููุท ุจุชุฎุทู ูุญุฑูุงุช X ู Y (ูู ุงููุซุงู ุ ุชููู ุงููุฌููุนุฉ ุงูุฃููู ูู ุงูููุงููุงุช ุจุชููุฆุฉ ุฌููุน ูุญุฏุงุช ุงูุชุญูู ุ ุจูููุง ุชููู ุงููุฌููุนุฉ ุงูุซุงููุฉ ุจุชุนููู ูุญุฏุงุช ุงูุชุญูู X ู Y ุนูู ุงูุนุฏุฏ ุงููุทููุจ ูู ุงูุฎุทูุงุช ูุชุจุฏุฃ ุงูุนูููุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">int main(void) { CyGlobalIntEnable; /* Enable global interrupts. */ StepperController_X_Start(); StepperController_Y_Start(); StepperController_Z_Start(); StepperController_E0_Start(); StepperController_E1_Start(); StepperController_X_PrepareStep (10,1000); //    StepperController_Y_PrepareStep (50,500); StartSteppers(); //   for(;;) { } }</code> </pre><br>  ูุญู ููุธุฑ ุฅูู ุงููุชูุฌุฉ: <br><br><img src="https://habrastorage.org/webt/6x/io/v7/6xiov7g15a-ksl1_6kw7vkko0dc.png"><br><br>  ุชุญูู ูู ูุฏุฉ ุงููุจุถ ุงูุฅูุฌุงุจู: <br><br><img src="https://habrastorage.org/webt/ay/hk/jy/ayhkjyjphl4-pearn7zi3hnnknc.png"><br><br>  ูุฐุง ุตุญูุญ.  ุฃุฎูุฑูุง ุ ูุชุญูู ูู ูุฏู ุนูู ุงูููุงุทุนุฉ.  ุฅุถุงูุฉ ูุชุบูุฑ ุนุฏุงุฏ ุนุงููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">static int nStep=0;</code> </pre><br>  ูุชู ุชุนููู ูุฐุง ุงููุชุบูุฑ ุฅูู ูุงุญุฏ ูู ุงููุธููุฉ <b>ุงูุฑุฆูุณูุฉ</b> ุ ููุฒูุฏ ูู ูุธููุฉ ูุนุงูุฌ ุงูููุงุทุนุฉ.  ุณูููู ูุนุงูุฌ ุงูููุงุทุนุฉ ุจุฅุทูุงู ุงููุงุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท ุ ูุฐูู ููุชุญูู ููุท.  ุฃูุง ุฌุนูุช ูู ูุฐุง ุงููุจูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">extern "C" { CY_ISR(StepperFinished) { if (nStep == 1) { StepperController_X_PrepareStep (5,500); StartSteppers(); nStep += 1; } } }</code> </pre><br>  ููู ุงููุธููุฉ <b>ุงูุฑุฆูุณูุฉ</b> ุ ุฃุถูุช ุญุฑูููุง ุณุทุฑูู: ุชุถููู ุงูููุงุทุนุงุช ูุชุนููู ูุฐุง ุงููุชุบูุฑ ุฌุฏูุง.  ูุฃูุง ุฃุณูุฏ ุจุงููุนู ุนูุฏูุง ุจุฏุฃุช ุงูุขูุงุช.  ุฎูุงู ุฐูู ุ ุฌุงุก ุทูุจ ููุงุทุนุฉ ูุงุฐุจุฉ.  ูุง ููุฌุฏ ุณุจุจ ูุญุฏุฏ ููุญุงุฑุจุชู ุงูุขู.  ุงููุดุฑูุน ุชุฌุฑูุจู. <br><br><img src="https://habrastorage.org/webt/kb/v2/dm/kbv2dmk2s6cg9nzc9fjzypg5uyo.png"><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุณ ุงููุต</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">int main(void) { CyGlobalIntEnable; /* Enable global interrupts. */ isr_1_StartEx(StepperFinished); StepperController_X_Start(); StepperController_Y_Start(); StepperController_Z_Start(); StepperController_E0_Start(); StepperController_E1_Start(); /* Place your initialization/startup code here (eg MyInst_Start()) */ StepperController_X_PrepareStep (10,1000); StepperController_Y_PrepareStep (20,500); StartSteppers(); nStep = 1; for(;;) { } }</code> </pre><br></div></div><br>  ูุญู ูุชุญูู ูู ุงููุชูุฌุฉ (ูู ุงูุฎุทูุฉ ุงูุซุงููุฉ ูุฌุจ ุฃู ูุนูู ุงููุญุฑู X ููุท ุ ููุฌุจ ุฃู ุชุตุจุญ ุงูุฎุทูุงุช ูุตู ููุฏุงุฑูุง): <br><br><img src="https://habrastorage.org/webt/0q/vi/iq/0qviiqvpko6m9i7o9tub3gmnqhw.png"><br><br>  ูุฐุง ุตุญูุญ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุงุชูุฉ </h2><br>  ุจุดูู ุนุงู ุ ูู ุงููุงุถุญ ุจุงููุนู ุฃู ูุชู UDB ูููู ุงุณุชุฎุฏุงููุง ููุณ ููุท ูุฅุนุฏุงุฏ ูุธุงุฆู ุงูุฃุฌูุฒุฉ ุงูุณุฑูุนุฉ ุ ูููู ุฃูุถูุง ูููู ุงูููุทู ูู ุงูุจุฑูุงูุฌ ุฅูู ูุณุชูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ.  ูุณูุก ุงูุญุธ ุ ุชุจูู ุฃู ุญุฌู ุงูููุงูุฉ ูุจูุฑ ุฌุฏูุง ูุฏุฑุฌุฉ ุฃูู ูุง ูููู ุฅููุงู ุงููุฑุงุฌุนุฉ ูุงูุญุตูู ุนูู ุฅุฌุงุจุฉ ูุง ูุจุณ ูููุง ุนูุง ุฅุฐุง ูุงูุช ูุฏุฑุงุช UDB ูุงููุฉ ููุญู ุงูููุงุฆู ูููููุฉ.  ุญุชู ุงูุขู ุ ููุณ ููุงู ุณูู ุญุตุงู ูุฑูู ุฌุงูุฒ ูู ูุฑุงุบ ุ ุฃุนูุงูู ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ุชุดุจู ุฅูู ุญุฏ ูุจูุฑ ุชูู ุงููุทููุจุฉ ุ ูููู ูุงุฑุฆ ูุฒุนุฌ ูุทูุน ุนูู ูุธุฑูุฉ ุงูุชุญูู ูู ุงููุญุฑูุงุช ุงูุณุงุฆุฑ ุณูุฌุฏ ุงููุซูุฑ ูู ุฃูุฌู ุงููุตูุฑ ููู.  ุงููุญุฏุฉ ุงูููุฏูุฉ ูุง ุชุฏุนู ุงูุชุณุงุฑุน ุ ูุจุฏูู ุฐูู ูุง ูููู ุชุดุบูู ูุญุฑู ุงูุณุงุฆุฑ ุงูุญูููู.  ุจุฏูุงู ูู ุฐูู ุ ูุฅูู ูุฏุนู ุ ูููู ูู ูุฐู ุงููุฑุญูุฉ ุณุชููู ููุงู ุญุงุฌุฉ ุฅูู ูุนุฏู ููุงุทุนุฉ ูุฑุชูุน ุ ููุฏ ุชู ุชุตููู ูู ุดูุก ูุชุฌูุจ ุฐูู. <br><br>  ุฏูุฉ ุถุจุท ูุชูุฑุฉ ุงููุชูุฉ ุงูููุฏูุฉ ุบูุฑ ููุจููุฉ.  ุนูู ูุฌู ุงูุฎุตูุต ุ ุณูู ูููุฑ ุชุฑุฏุฏ ูุจุถู ูุฏุฑู 40000 ูุฑุชุฒ ูุน ูุงุตู 1200 ู 39966 ูุฑุชุฒ ูุน ููุณู 1201. ุงูุชุฑุฏุฏุงุช ุงููุณูุทุฉ ุจูู ูุงุชูู ุงููููุชูู ุนูู ูุฐู ุงููุชูุฉ ุบูุฑ ูุงุจูุฉ ููุชุญููู. <br><br>  ุฑุจูุง ููุงู ุจุนุถ ุฃูุฌู ุงููุตูุฑ ูู ุฐูู.  ููููุง ุณูุชุนุงูู ูุนูู ูู ุงูููุงูุฉ ุงูุชุงููุฉ ููุชุญูู ููุง ุฅุฐุง ูุงูุช ููุงู ููุงุฑุฏ ูุงููุฉ ูู UDB. <br><br>  ูู ุบุถูู ุฐูู ุ ุชููู ุงููุฑุงุก ุ ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู ุ ูุซุงููุง ุญูููููุง ูุฅูุดุงุก ูุชูุฉ ุชุณุชูุฏ ุฅูู UDB ูู ููุทุฉ ุงูุตูุฑ.  ูููู ุฅุฌุฑุงุก ูุดุฑูุน ุงูุงุฎุชุจุงุฑ ุงูุฐู ุชู ุงูุญุตูู ุนููู ุฃุซูุงุก ูุชุงุจุฉ ูุฐู ุงูููุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar433800/">https://habr.com/ru/post/ar433800/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar433788/index.html">ุตููุฉ ุขููุฉ ููุฑุงุฌุนุงุช ุฌุฏูุฏุฉ ูุญุณุงุจูู ุงูุฎุงุต</a></li>
<li><a href="../ar433790/index.html">ููุงูุจ ุงูุจูุงุก ุงููุชูุฏูุฉ ูุชุนุฏุฏุฉ ุงููุฑุงุญู</a></li>
<li><a href="../ar433792/index.html">ูุตูุต ุดู ูู Ansible</a></li>
<li><a href="../ar433796/index.html">ููู ุบุฒุง ูููู ุณุงุจููุณ ุงูุนุงูู. ููุงุฑุงุช ุงูุงุชุตุงู ูุงูุชูุงูุถ</a></li>
<li><a href="../ar433798/index.html">HomeKit ู ioBroker ูููู ุตุฏุงูุงุช ูู ุงูููุฒู</a></li>
<li><a href="../ar433802/index.html">ููู ูููุงุฐุง ูุฒูุง ูู ูุณุงุฑ ุงูุจูุงูุงุช ุงููุจูุฑุฉ ูู Urban Tech Challenge Hackathon</a></li>
<li><a href="../ar433804/index.html">ุดุจูุงุช ูุซุงูุฉ ุงูุฎููุท</a></li>
<li><a href="../ar433806/index.html">ุนูุฏูุง ููุณู ุงูุฃุฑุดูู ุนูู ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar433808/index.html">5 ุงูุฃุฎุทุงุก ุงูุฃูุซุฑ ุดููุนูุง ุงูุชู ูุฑุชูุจูุง ุงููุจุฑูุฌูู ูู ุงูููุงุจูุฉ</a></li>
<li><a href="../ar433810/index.html">ููุฌ ููุฌู ูููุดููุฉ ููุดุงุฑูุน ูู ุงูุชุณููู ุนุจุฑ ุงูุฅูุชุฑูุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>