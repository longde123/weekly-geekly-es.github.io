<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùÑÔ∏è üåõ üê≤ Manipulador "manual" üíí üë©üèº‚Äçüé® üêè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Una vez, durante mi segundo a√±o en la universidad, me dieron la tarea: cocinar algo "m√°s o menos" para confirmar el alto rango de "futuro ingeniero de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Manipulador "manual"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418339/">  Una vez, durante mi segundo a√±o en la universidad, me dieron la tarea: cocinar algo "m√°s o menos" para confirmar el alto rango de "futuro ingeniero de rob√≥tica".  En esta nota de pathos, entr√© en las profundidades de la conciencia para buscar ideas.  Despu√©s de un corto viaje, surgi√≥ una idea sobre el dispositivo, cuya teor√≠a de la creaci√≥n quiero compartir con el p√∫blico. <br><br>  La esencia del desarrollo es esta.  Considere el manipulador habitual de 5 ejes (el diagrama estructural cinem√°tico se muestra en la figura a continuaci√≥n).  Sus capacidades cuando se mueve en el espacio son amplias: es capaz de hacer movimientos en 5 coordenadas, y al mismo tiempo, es decir.  3 coordenadas a lo largo de los tres ejes XYZ y rotaci√≥n alrededor de dos de ellos.  En este caso, el elemento de trabajo del manipulador puede ocupar cualquier posici√≥n en el espacio de trabajo y al mismo tiempo mantener la orientaci√≥n requerida del cuerpo de trabajo (sin contar la rotaci√≥n del elemento de trabajo alrededor de su propio eje). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/h5/gw/vy/h5gwvyur-unszdlq6w-knkvihwe.jpeg" width="60%" height="60%" title="El diagrama cinem√°tico del manipulador."></div><br><a name="habracut"></a><br>  Este dise√±o se refiere a manipuladores de tipo antropom√≥rfico y, por lo tanto, es capaz, aproximadamente, por supuesto, de reproducir el movimiento de una mano humana.  Discutiendo sobre esta tesis, surgi√≥ la idea de que ser√≠a interesante hacer que el manipulador copie remotamente los movimientos de mi mano en tiempo real.  De modo que solo puse un sensor en mi mano que lee los movimientos de la mano (tanto lineales como angulares), y esta cosa mec√°nica los repetir√° despu√©s de m√≠.  Como el manipulador puede realizar las funciones de mover y orientar el cuerpo de trabajo, as√≠, con la ayuda de la mano, una persona puede mover y orientar la palma de su mano, por lo tanto, estos dos procesos son similares y pueden representarse como un proceso com√∫n: capturar el movimiento de la mano en tiempo real. <br><br><div class="spoiler">  <b class="spoiler_title">Estir√≥ el labio</b> <div class="spoiler_text">  Mirando hacia el futuro, dir√© que solo fue posible realizar la captura del movimiento de orientaci√≥n de la palma, es decir  Pude controlar la orientaci√≥n del cuerpo de trabajo, pero no su movimiento lineal en el espacio. <br></div></div><br>  Esto completa la declaraci√≥n del problema.  Ahora analicemos la tarea (el lenguaje no se convierte en llamarla "tarea t√©cnica").  Es necesario desarrollar dos dispositivos estructuralmente independientes: el manipulador en s√≠ y el dispositivo de seguimiento del movimiento, que est√° montado en el brazo.  Esto ser√° seguido por el lento proceso de crear descripciones matem√°ticas, compilar un algoritmo y escribir software.  Dividimos el proyecto en tres partes: <br><br>  <b>1. El desarrollo del manipulador.</b> <b><br></b>  <b>2. Desarrollo de un dispositivo para rastrear el movimiento del brazo.</b> <b><br></b>  <b>3. Todo lo dem√°s</b> <br><br>  <i>Brevemente sobre cada una de las etapas:</i> <br><br><ol><li>  Aqu√≠ todo es trivial ... En CAD, dise√±amos la estructura, realizamos dibujos de piezas y fabricaci√≥n, luego ensamblamos.  Luego calculamos la cinem√°tica y escribimos nuestro propio software, que ocultar√° las llamadas de bajo nivel a las unidades. </li><li>  En esta etapa, determinamos el tipo de sensores, dise√±amos un diagrama de circuito, hacemos una placa de circuito impreso, desarrollamos un algoritmo para determinar la posici√≥n en el espacio, escribimos software. </li><li>  En realidad, por lo que fueron las etapas anteriores: hacer que el manipulador obedezca al propietario.  Aqu√≠ desarrollo un algoritmo para convertir coordenadas en el campo de trabajo del manipulador. </li></ol><br><h2>  1. El desarrollo del manipulador. </h2><br>  En este proyecto, como se mencion√≥ anteriormente, utilizamos un manipulador con 5 grados de libertad.  Tal cantidad de grados de libertad es suficiente, porque  incluyen tres desplazamientos lineales y dos rotacionales.  Los dos √∫ltimos son necesarios para la orientaci√≥n del cuerpo de trabajo, ya que la direcci√≥n de PO en el espacio se puede especificar en forma de un vector, y el vector definitivamente se puede restaurar desde dos √°ngulos de rotaci√≥n (sin tener en cuenta la longitud).  En este caso, necesitamos cinco coordenadas generalizadas, igual al n√∫mero de ejes. <br><br>  Los enlaces del manipulador est√°n conectados por pares cinem√°ticos rotacionales de la quinta clase.  El dise√±o del manipulador es est√°ndar para su tipo (el esquema cinem√°tico se presenta al principio del art√≠culo).  Tiene una cama fija, con la cual se conecta el sistema de coordenadas b√°sico, un soporte giratorio, al que se unen los enlaces m√≥viles restantes, conectados en una cadena.  Se une un cuerpo de trabajo al eslab√≥n final (brida), en este caso su imitaci√≥n en forma de puntero en forma de flecha (ver imagen a continuaci√≥n). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ma/wm/4x/mawm4xwu-eu237qnfobxwh-iod8.jpeg" width="80%" height="80%" title="Modelo 3D del manipulador"></div><br><br><div class="spoiler">  <b class="spoiler_title">Reportaje fotogr√°fico de montaje</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/uo/py/zw/uopyzw7xmplktrnn2gczig6galw.jpeg"><br><br><img src="https://habrastorage.org/webt/6g/ij/fm/6gijfmin3vrlxabv1tvn-vo-n5o.jpeg"><br><br><img src="https://habrastorage.org/webt/og/km/os/ogkmosewl4f4_ov6aqdderxdi_m.jpeg"><br><br><img src="https://habrastorage.org/webt/yr/l0/07/yrl007rorumttpnvybjpgjuyjtq.jpeg"><br><br><img src="https://habrastorage.org/webt/eh/fu/ib/ehfuiby-5hzfhy-v0yvsuy4sm-0.jpeg"><br><br><img src="https://habrastorage.org/webt/ci/jl/ta/cijltadjdhzgeuuku5hokzt9qms.jpeg"><br><br><img src="https://habrastorage.org/webt/_e/sl/19/_esl19t5vwczrkiwo8mwe49chfs.jpeg"><br><br><img src="https://habrastorage.org/webt/jy/4r/sq/jy4rsqxkg9yqoyleniicbovkhxa.jpeg"><br><br><img src="https://habrastorage.org/webt/lv/jk/in/lvjkinurhswlmgxihrwjnsremm0.jpeg"><br><br><img src="https://habrastorage.org/webt/os/2d/qg/os2dqg9xqm5r0asdqhg4x5i7fha.jpeg"><br><br><img src="https://habrastorage.org/webt/kb/_h/sj/kb_hsjevrr-7afglodhdqwn1-rg.jpeg"><br><br><img src="https://habrastorage.org/webt/d8/vy/2u/d8vy2ulgeoqdhhn77c2vgrbqca8.jpeg"><br><br><img src="https://habrastorage.org/webt/om/z8/kc/omz8kcwufsjxk2jdips7u79e1n4.jpeg"><br><br><img src="https://habrastorage.org/webt/gz/8x/dj/gz8xdjl3wol93j0frmypb9ay-u8.jpeg"><br><br><img src="https://habrastorage.org/webt/8g/sd/6h/8gsd6hqozjd18azsi3wihiksjxy.jpeg"><br><br><img src="https://habrastorage.org/webt/xj/-k/q4/xj-kq4etmfcu6it8gmzhufpmo6y.jpeg"><br><br><img src="https://habrastorage.org/webt/ny/ys/qp/nyysqp24zqjeotp3wpr4mg8fn8s.jpeg"><br></div></div><br>  El modelo 3D fue construido en CAD "Compass 3D".  Material de las piezas: madera contrachapada de 4 mm y PLA para piezas de pl√°stico.  Las piezas de madera contrachapada se cortaron en una m√°quina l√°ser, las piezas de pl√°stico se imprimieron en una impresora 3D.  Los servos digitales Dynamixel AX-12 se utilizan como unidades de eje.  La apariencia del manipulador se asemeja a un insecto vil, del que recibi√≥ el apodo de "Komar". <br><br><h3>  La descripci√≥n matem√°tica de la cinem√°tica. </h3><br>  En esta etapa, es necesario calcular la cinem√°tica directa e inversa del manipulador.  La tarea directa es determinar la posici√≥n de los enlaces en relaci√≥n con alg√∫n sistema de coordenadas b√°sico utilizando los valores conocidos de las coordenadas generalizadas (en este caso, los √°ngulos de rotaci√≥n de los enlaces).  La tarea inversa a ella se llama cinem√°tica inversa o inversa, consiste en determinar los par√°metros de las coordenadas generalizadas para lograr la posici√≥n y orientaci√≥n deseadas del cuerpo de trabajo del manipulador. <br><br>  Comencemos calculando la cinem√°tica inversa.  Describamos el esquema geom√©trico del manipulador, a partir del cual las relaciones geom√©tricas de inter√©s para nosotros ser√°n claras. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ik/vr/-o/ikvr-ojptuokifmwb90wksx7zbs.jpeg" width="100%" height="100%" title="Geometr√≠a del manipulador"></div><br><br>  La posici√≥n requerida est√° representada por un vector de radio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">c</span><span class="MJXp-mrow" id="MJXp-Span-6"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">r</span></span></span></span><script type="math/tex" id="MathJax-Element-1"> \ vec {r} </script>  .  Vale la pena explicar por qu√© el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-8"><span class="MJXp-mtext" id="MJXp-Span-9">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">c</span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">r</span></span></span></span><script type="math/tex" id="MathJax-Element-2"> \ vec {r} </script>  dibujado al punto de brida, y no al punto final de la RO.  Dado que conocemos de antemano la orientaci√≥n del cuerpo de trabajo (yo mismo lo determino seg√∫n algunos requisitos), es necesario que el punto de la brida est√© en el lugar correcto, indicado como un vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mtext" id="MJXp-Span-16">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">c</span><span class="MJXp-mrow" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">r</span></span></span></span><script type="math/tex" id="MathJax-Element-3"> \ vec {r} </script>  .  Este vector se obtiene restando del vector de radio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-22"><span class="MJXp-mtext" id="MJXp-Span-23">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">c</span><span class="MJXp-mrow" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">R</span></span></span></span><script type="math/tex" id="MathJax-Element-4"> \ vec {R} </script>  dibujado al punto final de PO, su vector de orientaci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-29"><span class="MJXp-mtext" id="MJXp-Span-30">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">c</span><span class="MJXp-mrow" id="MJXp-Span-34"><span class="MJXp-msubsup" id="MJXp-Span-35"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-37" style="vertical-align: -0.4em;">0</span></span></span></span></span><script type="math/tex" id="MathJax-Element-5"> \ vec {v_0} </script>  , relativo a BSK, es decir: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-38"><span class="MJXp-mtext" id="MJXp-Span-39">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">c</span><span class="MJXp-mrow" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">r</span></span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-46">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">c</span><span class="MJXp-mrow" id="MJXp-Span-50"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">R</span></span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-53">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">c</span><span class="MJXp-mrow" id="MJXp-Span-57"><span class="MJXp-msubsup" id="MJXp-Span-58"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-60" style="vertical-align: -0.4em;">0</span></span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-6"> \ vec {r} = \ vec {R} - \ vec {v_0} </script></p><br>  Considere la transici√≥n del punto de brida a la posici√≥n deseada.  Se lleva a cabo mediante la rotaci√≥n de los enlaces <i>a</i> y <i>b</i> (los represent√© en forma de vectores) en las bisagras <i>A</i> , <i>B</i> y <i>C.</i>  El origen del sistema de coordenadas base (BSC) se coloca en el punto de la bisagra <i>B.</i>  El eje de rotaci√≥n de la bisagra <i>A se</i> dirige a lo largo del eje <i>Z</i> , los ejes <i>B</i> y <i>C se</i> dirigen perpendicularmente a <i>Z.</i> <br><br>  Cuando se cumplan todas las formalidades, vayamos al grano.  Para resolver el problema de la cinem√°tica inversa, utilic√© un enfoque geom√©trico debido a la simplicidad del dise√±o del manipulador.  De la geometr√≠a se puede ver que el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-61"><span class="MJXp-mtext" id="MJXp-Span-62">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">c</span><span class="MJXp-mrow" id="MJXp-Span-66"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">r</span></span></span></span><script type="math/tex" id="MathJax-Element-7"> \ vec {r} </script>  igual a la suma de los vectores de enlace <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-68"><span class="MJXp-mtext" id="MJXp-Span-69">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">c</span><span class="MJXp-mrow" id="MJXp-Span-73"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">a</span></span></span></span><script type="math/tex" id="MathJax-Element-8"> \ vec {a} </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-75"><span class="MJXp-mtext" id="MJXp-Span-76">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">c</span><span class="MJXp-mrow" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">b</span></span></span></span><script type="math/tex" id="MathJax-Element-9"> \ vec {b} </script>  .  √Ångulos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-82"><span class="MJXp-mtext" id="MJXp-Span-83">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">a</span></span></span><script type="math/tex" id="MathJax-Element-10"> \ theta </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-89"><span class="MJXp-mtext" id="MJXp-Span-90">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">m</span><span class="MJXp-msubsup" id="MJXp-Span-95"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-97" style="vertical-align: -0.4em;">1</span></span></span></span><script type="math/tex" id="MathJax-Element-11"> \ gamma_1 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-98"><span class="MJXp-mtext" id="MJXp-Span-99">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">m</span><span class="MJXp-msubsup" id="MJXp-Span-104"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-106" style="vertical-align: -0.4em;">2</span></span></span></span><script type="math/tex" id="MathJax-Element-12"> \ gamma_2 </script>  - los √°ngulos de rotaci√≥n de los enlaces <i>A</i> , <i>B</i> y <i>C,</i> respectivamente. <br>  Considere un tri√°ngulo delimitado por vectores <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-107"><span class="MJXp-mtext" id="MJXp-Span-108">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">c</span><span class="MJXp-mrow" id="MJXp-Span-112"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">r</span></span></span></span><script type="math/tex" id="MathJax-Element-13"> \ vec {r} </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-114"><span class="MJXp-mtext" id="MJXp-Span-115">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">c</span><span class="MJXp-mrow" id="MJXp-Span-119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">a</span></span></span></span><script type="math/tex" id="MathJax-Element-14"> \ vec {a} </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-121"><span class="MJXp-mtext" id="MJXp-Span-122">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">c</span><span class="MJXp-mrow" id="MJXp-Span-126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">b</span></span></span></span><script type="math/tex" id="MathJax-Element-15"> \ vec {b} </script>  .  Desde este tri√°ngulo, por el teorema del coseno, encontramos los √°ngulos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-128"><span class="MJXp-mtext" id="MJXp-Span-129">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">a</span></span></span><script type="math/tex" id="MathJax-Element-16"> \ alpha </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-135"><span class="MJXp-mtext" id="MJXp-Span-136">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">a</span></span></span><script type="math/tex" id="MathJax-Element-17"> \ beta </script>  .  Deje que las longitudes de los vectores sean iguales a: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-141"><span class="MJXp-mrow" id="MJXp-Span-142"><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-144">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">c</span><span class="MJXp-mrow" id="MJXp-Span-148"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">r</span></span><span class="MJXp-mrow" id="MJXp-Span-150"><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-152" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">r</span><span class="MJXp-mtext" id="MJXp-Span-154">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">d</span><span class="MJXp-mrow" id="MJXp-Span-159"><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-161">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">c</span><span class="MJXp-mrow" id="MJXp-Span-165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">a</span></span><span class="MJXp-mrow" id="MJXp-Span-167"><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-169" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">a</span><span class="MJXp-mtext" id="MJXp-Span-171">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">d</span><span class="MJXp-mrow" id="MJXp-Span-176"><span class="MJXp-mo" id="MJXp-Span-177" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-178">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">c</span><span class="MJXp-mrow" id="MJXp-Span-182"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">b</span></span><span class="MJXp-mrow" id="MJXp-Span-184"><span class="MJXp-mo" id="MJXp-Span-185" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-186" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">b</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-18"> | \ vec {r} | = r \ quad | \ vec {a} | = a \ quad | \ vec {b} | = b </script></p><br>  Escribimos el teorema del coseno con respecto a los √°ngulos deseados: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-188"><span class="MJXp-msubsup" id="MJXp-Span-189"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-191" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-193"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-195" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-199" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-200" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-201">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">r</span><span class="MJXp-mtext" id="MJXp-Span-204">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">s</span><span class="MJXp-mo" id="MJXp-Span-208" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-209">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">a</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-216" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-217"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-219" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-221"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-223" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-225"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-227" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-228" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-229">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">b</span><span class="MJXp-mtext" id="MJXp-Span-232">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">s</span><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-237">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">a</span><span class="MJXp-mo" id="MJXp-Span-242" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-19"> b ^ 2 = a ^ 2 + r ^ 2-2ar \ cos (\ alpha) \\ r ^ 2 = a ^ 2 + b ^ 2-2ab \ cos (\ beta) </script></p><br>  Expresa los √°ngulos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-243"><span class="MJXp-mtext" id="MJXp-Span-244">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">a</span></span></span><script type="math/tex" id="MathJax-Element-20"> \ alpha </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-250"><span class="MJXp-mtext" id="MJXp-Span-251">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">a</span></span></span><script type="math/tex" id="MathJax-Element-21"> \ beta </script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-256"><span class="MJXp-mtext" id="MJXp-Span-257">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">a</span><span class="MJXp-mo" id="MJXp-Span-263" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-264">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">s</span><span class="MJXp-mtext" id="MJXp-Span-271">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">t</span><span class="MJXp-mo" id="MJXp-Span-276" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-277">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">c</span><span class="MJXp-mrow" id="MJXp-Span-282"><span class="MJXp-msubsup" id="MJXp-Span-283"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-285" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-289" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-291"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-293" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-294"><span class="MJXp-mn" id="MJXp-Span-295">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">r</span></span><span class="MJXp-mtext" id="MJXp-Span-298">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">t</span><span class="MJXp-mo" id="MJXp-Span-304" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-305">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">d</span><span class="MJXp-mtext" id="MJXp-Span-310">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">a</span><span class="MJXp-mo" id="MJXp-Span-315" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-316">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">s</span><span class="MJXp-mtext" id="MJXp-Span-323">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">t</span><span class="MJXp-mo" id="MJXp-Span-328" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-329">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">c</span><span class="MJXp-mrow" id="MJXp-Span-334"><span class="MJXp-msubsup" id="MJXp-Span-335"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-337" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-338" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-339"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-341" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-342" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-343"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-345" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-346"><span class="MJXp-mn" id="MJXp-Span-347">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">b</span></span><span class="MJXp-mtext" id="MJXp-Span-350">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">t</span><span class="MJXp-mo" id="MJXp-Span-356" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-22"> \ alpha = \ arccos \ left (\ frac {a ^ 2 + r ^ 2-b ^ 2} {2ar} \ right) \ quad \ beta = \ arccos \ left (\ frac {a ^ 2 + b ^ 2 -r ^ 2} {2ab} \ right) </script></p><br>  Se puede ver en el diagrama geom√©trico que: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-357"><span class="MJXp-mtext" id="MJXp-Span-358">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">a</span><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-365">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">n</span><span class="MJXp-mo" id="MJXp-Span-372" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-373">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">t</span><span class="MJXp-mo" id="MJXp-Span-378" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-379">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383">c</span><span class="MJXp-mrow" id="MJXp-Span-384"><span class="MJXp-msubsup" id="MJXp-Span-385"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-387" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-388"><span class="MJXp-msubsup" id="MJXp-Span-389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-391" style="vertical-align: -0.4em;">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-392">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397">t</span><span class="MJXp-mo" id="MJXp-Span-398" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-399">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">d</span><span class="MJXp-mtext" id="MJXp-Span-404">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">a</span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-411">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">n</span><span class="MJXp-mo" id="MJXp-Span-418" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-419">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">t</span><span class="MJXp-mo" id="MJXp-Span-424" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-425">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">c</span><span class="MJXp-mrow" id="MJXp-Span-430"><span class="MJXp-msubsup" id="MJXp-Span-431"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-433" style="vertical-align: -0.4em;">z</span></span></span><span class="MJXp-mrow" id="MJXp-Span-434"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">r</span></span><span class="MJXp-mtext" id="MJXp-Span-436">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">t</span><span class="MJXp-mo" id="MJXp-Span-442" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-23"> \ theta = \ arctan = \ left (\ frac {r_y} {r_x} \ right) \ quad \ omega = \ arcsin = \ left (\ frac {r_z} {r} \ right) </script></p><br>  Entonces: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-443"><span class="MJXp-mtext" id="MJXp-Span-444">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">m</span><span class="MJXp-msubsup" id="MJXp-Span-449"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-451" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-452" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-453">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">a</span><span class="MJXp-mo" id="MJXp-Span-459" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-460">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">a</span><span class="MJXp-mtext" id="MJXp-Span-466">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">d</span><span class="MJXp-mtext" id="MJXp-Span-471">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">m</span><span class="MJXp-msubsup" id="MJXp-Span-476"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-477" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-478" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-479" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-480"><span class="MJXp-mn" id="MJXp-Span-481" style="margin-right: 0.05em;">180</span><span class="MJXp-mtext MJXp-script" id="MJXp-Span-482" style="vertical-align: 0.5em;">&nbsp;</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">c</span><span class="MJXp-mo" id="MJXp-Span-487" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-488">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">a</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-24"> \ gamma_1 = \ omega + \ alpha \ quad \ gamma_2 = 180 ^ \ circ- \ beta </script></p><br>  Finalmente, la transici√≥n de una coordenada lineal a los √°ngulos de rotaci√≥n de los enlaces se realiza mediante las f√≥rmulas: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-493"><span class="MJXp-mtext" id="MJXp-Span-494">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">a</span><span class="MJXp-mo" id="MJXp-Span-500" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-501">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">n</span><span class="MJXp-mtext" id="MJXp-Span-507">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">t</span><span class="MJXp-mo" id="MJXp-Span-512" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-513">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">c</span><span class="MJXp-mrow" id="MJXp-Span-518"><span class="MJXp-msubsup" id="MJXp-Span-519"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-521" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-522"><span class="MJXp-msubsup" id="MJXp-Span-523"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-525" style="vertical-align: -0.4em;">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-526">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-528">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">t</span><span class="MJXp-mo" id="MJXp-Span-532" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-533" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-534">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">m</span><span class="MJXp-msubsup" id="MJXp-Span-539"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-541" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-542" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">n</span><span class="MJXp-mtext" id="MJXp-Span-549">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">t</span><span class="MJXp-mo" id="MJXp-Span-554" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-555">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">c</span><span class="MJXp-mrow" id="MJXp-Span-560"><span class="MJXp-msubsup" id="MJXp-Span-561"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-563" style="vertical-align: -0.4em;">z</span></span></span><span class="MJXp-mrow" id="MJXp-Span-564"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">r</span></span><span class="MJXp-mtext" id="MJXp-Span-566">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">t</span><span class="MJXp-mo" id="MJXp-Span-572" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-573" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">s</span><span class="MJXp-mtext" id="MJXp-Span-580">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">t</span><span class="MJXp-mo" id="MJXp-Span-585" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-586">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">c</span><span class="MJXp-mrow" id="MJXp-Span-591"><span class="MJXp-msubsup" id="MJXp-Span-592"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-594" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-595" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-596"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-598" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-599" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-602" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-603"><span class="MJXp-mn" id="MJXp-Span-604">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-605">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">b</span></span><span class="MJXp-mtext" id="MJXp-Span-607">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">t</span><span class="MJXp-mo" id="MJXp-Span-613" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-614" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-615">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">m</span><span class="MJXp-msubsup" id="MJXp-Span-620"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-622" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-623" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-624"><span class="MJXp-mn" id="MJXp-Span-625" style="margin-right: 0.05em;">180</span><span class="MJXp-mtext MJXp-script" id="MJXp-Span-626" style="vertical-align: 0.5em;">&nbsp;</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">c</span><span class="MJXp-mo" id="MJXp-Span-631" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-633">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">s</span><span class="MJXp-mtext" id="MJXp-Span-638">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">t</span><span class="MJXp-mo" id="MJXp-Span-643" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-644">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">c</span><span class="MJXp-mrow" id="MJXp-Span-649"><span class="MJXp-msubsup" id="MJXp-Span-650"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-652" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-654"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-656" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-657" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-660" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-661"><span class="MJXp-mn" id="MJXp-Span-662">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">r</span></span><span class="MJXp-mtext" id="MJXp-Span-665">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">t</span><span class="MJXp-mo" id="MJXp-Span-671" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-672"><span class="MJXp-mo" id="MJXp-Span-673" style="margin-left: 0em; margin-right: 0em;">$</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-25"> \ theta = arctan \ left (\ frac {r_y} {r_x} \ right) \\ \ gamma_1 = arcsin \ left (\ frac {r_z} {r} \ right) + arccos \ left (\ frac {a ^ 2 + r ^ 2-b ^ 2} {2ab} \ right) \\ \ gamma_2 = 180 ^ \ circ-arccos \ left (\ frac {a ^ 2 + b ^ 2-r ^ 2} {2ar} \ right) $ </script></p><br><br>  Ahora que ha movido el punto de brida a la posici√≥n deseada, debe orientar adecuadamente el cuerpo de trabajo.  Para hacer esto, necesitas saber las coordenadas del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-674"><span class="MJXp-mtext" id="MJXp-Span-675">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">c</span><span class="MJXp-mrow" id="MJXp-Span-679"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">v</span></span></span></span><script type="math/tex" id="MathJax-Element-26"> \ vec {v} </script>  relativo al punto de la brida, es decir  coordenadas en base al sistema de coordenadas local (LSC) - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-681"><span class="MJXp-mrow" id="MJXp-Span-682"><span class="MJXp-msup" id="MJXp-Span-683"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-685" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span></span><script type="math/tex" id="MathJax-Element-27"> {E '} </script>  , cuyo comienzo se encuentra en el punto de brida del manipulador. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-686"><span class="MJXp-msup" id="MJXp-Span-687"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-689" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-690" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-691">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">t</span><span class="MJXp-mo" id="MJXp-Span-696" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mtext" id="MJXp-Span-697">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-699">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-700">c</span><span class="MJXp-msup" id="MJXp-Span-701"><span class="MJXp-mrow" id="MJXp-Span-702" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-704" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-705">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-706">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">c</span><span class="MJXp-msup" id="MJXp-Span-710"><span class="MJXp-mrow" id="MJXp-Span-711" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712">y</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-713" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-714">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-715">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">c</span><span class="MJXp-msup" id="MJXp-Span-719"><span class="MJXp-mrow" id="MJXp-Span-720" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-722" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-723">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-728">t</span><span class="MJXp-mo" id="MJXp-Span-729" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-28"> E '= \ left [\ vec {x}' \ \ vec {y} '\ \ vec {z}' \ right] </script></p><br>  Vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-730"><span class="MJXp-mtext" id="MJXp-Span-731">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-734">c</span><span class="MJXp-msup" id="MJXp-Span-735"><span class="MJXp-mrow" id="MJXp-Span-736" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-738" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-29"> \ vec {x} '</script>  dirigido por el enlace <i>b</i> , vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-739"><span class="MJXp-mtext" id="MJXp-Span-740">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-742">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-743">c</span><span class="MJXp-msup" id="MJXp-Span-744"><span class="MJXp-mrow" id="MJXp-Span-745" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746">y</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-747" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-30"> \ vec {y} '</script>  - a lo largo del eje del eslab√≥n giratorio <i>f1</i> . <br>  Para encontrar una base <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-748"><span class="MJXp-msup" id="MJXp-Span-749"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-751" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-31"> E '</script>  Definimos la matriz de transici√≥n de BSK (con base <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-752"><span class="MJXp-msubsup" id="MJXp-Span-753"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-755" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex" id="MathJax-Element-32"> E_0 </script>  ) y LSK.  Esta matriz se obtiene mediante una combinaci√≥n de rotaciones en las bisagras <i>A</i> , <i>B</i> y <i>C</i> : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-756"><span class="MJXp-msup" id="MJXp-Span-757"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-759" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-760" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761">C</span><span class="MJXp-msubsup" id="MJXp-Span-762"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-763" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-764" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-33"> E '= CE_0 </script></p><br>  donde <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-765"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766">C</span><span class="MJXp-mo" id="MJXp-Span-767" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-768"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-770" style="vertical-align: -0.4em;">C</span></span><span class="MJXp-msubsup" id="MJXp-Span-771"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-772" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-773" style="vertical-align: -0.4em;">B</span></span><span class="MJXp-msubsup" id="MJXp-Span-774"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-775" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-776" style="vertical-align: -0.4em;">A</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-34"> C = R_CR_BR_A </script></p><br>  Porque  matriz <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-777"><span class="MJXp-msubsup" id="MJXp-Span-778"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-779" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-780" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex" id="MathJax-Element-35"> E_0 </script>  es soltero, entonces: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-781"><span class="MJXp-msup" id="MJXp-Span-782"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-783" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-784" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-785" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-786">C</span><span class="MJXp-mo" id="MJXp-Span-787" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-788"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-790" style="vertical-align: -0.4em;">C</span></span><span class="MJXp-msubsup" id="MJXp-Span-791"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-792" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-793" style="vertical-align: -0.4em;">B</span></span><span class="MJXp-msubsup" id="MJXp-Span-794"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-796" style="vertical-align: -0.4em;">A</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-36"> E '= C = R_CR_BR_A </script></p><br><div class="spoiler">  <b class="spoiler_title">Lector experto</b> <div class="spoiler_text">  Un lector experto puede encontrar similitudes aqu√≠ con la presentaci√≥n de Denavit-Hartenberg para resolver el problema de la cinem√°tica directa.  S√≠, esto es todo, simplificado a lo imposible y con mis peque√±os cambios.  Aqu√≠ no uso transformaciones homog√©neas, no tomo en cuenta las caracter√≠sticas de dise√±o, como el desplazamiento angular y lineal de los ejes, etc.  Es solo que dise√±√© el dise√±o para que no haya par√°metros adicionales mencionados anteriormente, dejando solo coordenadas generalizadas. <br></div></div><br>  Matriz <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-797"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798">C</span></span></span><script type="math/tex" id="MathJax-Element-37"> C </script>  Se calcula multiplicando las <i>matrices de rotaci√≥n alrededor del eje por un √°ngulo</i> . <br>  Definimos una funci√≥n que calcula esta matriz: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-799"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800">f</span><span class="MJXp-mo" id="MJXp-Span-801" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-802">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-803">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-804">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-805">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-806">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-807">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-809">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-810">e</span><span class="MJXp-mn" id="MJXp-Span-811">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-814">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817">t</span><span class="MJXp-mo" id="MJXp-Span-818" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-821">e</span><span class="MJXp-mo" id="MJXp-Span-822" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mrow" id="MJXp-Span-823"><span class="MJXp-mo" id="MJXp-Span-824" style="margin-left: 0em; margin-right: 0em;">√°</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-829">o</span><span class="MJXp-mo" id="MJXp-Span-830" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-38"> f = axisAngle2rotMat (eje, √°ngulo) </script></p><br>  El eje se toma en forma de un vector como una columna de la matriz obtenida por rotaciones anteriores, y los √°ngulos ya se calcularon anteriormente. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-831"><span class="MJXp-msubsup" id="MJXp-Span-832"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-834" style="vertical-align: -0.4em;">A</span></span><span class="MJXp-mo" id="MJXp-Span-835" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-839">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-841">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-842">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844">e</span><span class="MJXp-mn" id="MJXp-Span-845">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-848">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-849">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851">t</span><span class="MJXp-mo" id="MJXp-Span-852" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-853"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-854" style="margin-right: 0.05em;">E</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-856"><span class="MJXp-mtext" id="MJXp-Span-857">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-858">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-861">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863">e</span><span class="MJXp-mn" id="MJXp-Span-864">3</span><span class="MJXp-mtext" id="MJXp-Span-865">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-866">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-868">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-869">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-870">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871">e</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-855">0</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-872" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-873">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-874">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-875">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-877">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-878">a</span><span class="MJXp-mo" id="MJXp-Span-879" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-880" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-881"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-882" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-883" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-884">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-885">A</span></span></span><span class="MJXp-mo" id="MJXp-Span-886" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-887"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-888" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-889" style="vertical-align: -0.4em;">B</span></span><span class="MJXp-msubsup" id="MJXp-Span-890"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-891" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-892" style="vertical-align: -0.4em;">A</span></span><span class="MJXp-mo" id="MJXp-Span-893" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-896">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-897">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-899">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-900">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-901">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902">e</span><span class="MJXp-mn" id="MJXp-Span-903">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-904">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-905">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-907">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-909">t</span><span class="MJXp-mo" id="MJXp-Span-910" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-911"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-912" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-914"><span class="MJXp-mtext" id="MJXp-Span-915">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-916">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-919">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-920">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">e</span><span class="MJXp-mn" id="MJXp-Span-922">2</span><span class="MJXp-mtext" id="MJXp-Span-923">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-927">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929">e</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">A</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-930" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-931">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935">m</span><span class="MJXp-msubsup" id="MJXp-Span-936"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-938" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-939" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-940"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-941" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-942" style="vertical-align: -0.4em;">A</span></span><span class="MJXp-mspace" id="MJXp-Span-943" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-944"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-945" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-946" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-947">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-948">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-949">A</span></span></span><span class="MJXp-mo" id="MJXp-Span-950" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-951"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-952" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-953" style="vertical-align: -0.4em;">C</span></span><span class="MJXp-msubsup" id="MJXp-Span-954"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-955" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-956" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-957">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-958">A</span></span></span><span class="MJXp-mo" id="MJXp-Span-959" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-960">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-962">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-963">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-964">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-967">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-968">e</span><span class="MJXp-mn" id="MJXp-Span-969">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-970">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-973">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-974">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-975">t</span><span class="MJXp-mo" id="MJXp-Span-976" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-977"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-982"><span class="MJXp-mtext" id="MJXp-Span-983">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-984">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-986">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-987">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-989">e</span><span class="MJXp-mn" id="MJXp-Span-990">2</span><span class="MJXp-mtext" id="MJXp-Span-991">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-993">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-994">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-995">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-996">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">e</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-979"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-980">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981">A</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-998" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-999">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1000">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1003">m</span><span class="MJXp-msubsup" id="MJXp-Span-1004"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1006" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1007" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-1008"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1009" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1010" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1011">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012">A</span></span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-39"> C_A = axisAngle2rotMat (E_0 ^ {\ langle3 \ rangle}, \ theta) \\ C_ {BA} = R_BC_A = axisAngle2rotMat (C_A ^ {\ langle2 \ rangle}, \ gamma_1) C_A \\ C_ {CBA} = R_CC_ { BA} = axisAngle2rotMat (C_ {BA} ^ {\ langle2 \ rangle}, \ gamma_1) C_ {BA} </script></p><br>  Como resultado, obtenemos: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1013"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1014">C</span><span class="MJXp-mo" id="MJXp-Span-1015" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1016"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1017" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1018" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1019">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1020">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1021">A</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1022">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1023">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1024">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1025">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026">d</span><span class="MJXp-msup" id="MJXp-Span-1027"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1029" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1030" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031">C</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-40"> C = C_ {CBA} \ quad E '= C </script></p><br>  Deje que el vector del cuerpo de trabajo en BSK <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1032"><span class="MJXp-mtext" id="MJXp-Span-1033">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1034">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1036">c</span><span class="MJXp-mrow" id="MJXp-Span-1037"><span class="MJXp-msubsup" id="MJXp-Span-1038"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1039" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1040" style="vertical-align: -0.4em;">0</span></span></span></span></span><script type="math/tex" id="MathJax-Element-41"> \ vec {v_0} </script>  .  Entonces la igualdad es verdadera: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1041"><span class="MJXp-mtext" id="MJXp-Span-1042">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1043">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1044">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1045">c</span><span class="MJXp-mrow" id="MJXp-Span-1046"><span class="MJXp-msubsup" id="MJXp-Span-1047"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1048" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1049" style="vertical-align: -0.4em;">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-1050" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msup" id="MJXp-Span-1051"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1052" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1053" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-1054">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1055">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1056">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1057">c</span><span class="MJXp-mrow" id="MJXp-Span-1058"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1059">v</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-42"> \ vec {v_0} = E '\ vec {v} </script></p><br>  Desde aqu√≠ expresamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1060"><span class="MJXp-mtext" id="MJXp-Span-1061">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1062">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">c</span><span class="MJXp-mrow" id="MJXp-Span-1065"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1066">v</span></span></span></span><script type="math/tex" id="MathJax-Element-43"> \ vec {v} </script>  - vector del cuerpo de trabajo en la base <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1067"><span class="MJXp-msup" id="MJXp-Span-1068"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1069" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1070" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-44"> E '</script>  es decir  relativo al punto de brida: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1071"><span class="MJXp-mtext" id="MJXp-Span-1072">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1073">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075">c</span><span class="MJXp-mrow" id="MJXp-Span-1076"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1077">v</span></span><span class="MJXp-mo" id="MJXp-Span-1078" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1079"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080" style="margin-right: 0.05em;">E</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1081" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-1082">‚Ä≤</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1083">T</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1084">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1085">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1086">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1087">c</span><span class="MJXp-mrow" id="MJXp-Span-1088"><span class="MJXp-msubsup" id="MJXp-Span-1089"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1090" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1091" style="vertical-align: -0.4em;">0</span></span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-45"> \ vec {v} = E '^ T \ vec {v_0} </script></p><br>  Ahora, conociendo el vector PO, podemos calcular los √°ngulos de rotaci√≥n de los ejes de orientaci√≥n <i>f1</i> y <i>f2</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yv/0_/ha/yv0_har-jdzvaoxh9wbtecyamck.jpeg" width="80%" height="80%" title="Geometr√≠a del cuerpo de trabajo"></div><br>  Para mover el PO a una posici√≥n dada, debe hacer una rotaci√≥n en las esquinas <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1092"><span class="MJXp-mtext" id="MJXp-Span-1093">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1095">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1096">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1097">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1098">h</span><span class="MJXp-msubsup" id="MJXp-Span-1099"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1100" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1101" style="vertical-align: -0.4em;">1</span></span></span></span><script type="math/tex" id="MathJax-Element-46"> \ varphi_1 </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1102"><span class="MJXp-mtext" id="MJXp-Span-1103">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1105">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1107">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1108">h</span><span class="MJXp-msubsup" id="MJXp-Span-1109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1111" style="vertical-align: -0.4em;">2</span></span></span></span><script type="math/tex" id="MathJax-Element-47"> \ varphi_2 </script>  .  La figura muestra que <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1112"><span class="MJXp-mtext" id="MJXp-Span-1113">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1116">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1117">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1118">h</span><span class="MJXp-msubsup" id="MJXp-Span-1119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1121" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1122" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1123">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1124">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1125">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1126">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1128">n</span><span class="MJXp-mtext" id="MJXp-Span-1129">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1130">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1131">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1132">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1133">t</span><span class="MJXp-mo" id="MJXp-Span-1134" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1135">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1136">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1137">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1138">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139">c</span><span class="MJXp-mrow" id="MJXp-Span-1140"><span class="MJXp-msubsup" id="MJXp-Span-1141"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1142" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1143" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1144"><span class="MJXp-msubsup" id="MJXp-Span-1145"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1146" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1147" style="vertical-align: -0.4em;">z</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1148">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1149">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1151">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1152">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1153">t</span><span class="MJXp-mo" id="MJXp-Span-1154" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1155">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1157">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1159">d</span><span class="MJXp-mtext" id="MJXp-Span-1160">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1161">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1163">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1164">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1165">h</span><span class="MJXp-msubsup" id="MJXp-Span-1166"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1167" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1168" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1169" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1170">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1171">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1173">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1174">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">n</span><span class="MJXp-mtext" id="MJXp-Span-1176">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1177">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1178">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1179">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1180">t</span><span class="MJXp-mo" id="MJXp-Span-1181" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1182">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1183">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1184">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1185">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1186">c</span><span class="MJXp-mrow" id="MJXp-Span-1187"><span class="MJXp-mtext" id="MJXp-Span-1188">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1189">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1190">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1191">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1192">t</span><span class="MJXp-mrow" id="MJXp-Span-1193"><span class="MJXp-msubsup" id="MJXp-Span-1194"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1195" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1197">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1196">y</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1198" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1199"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1200" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1202">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1201">z</span></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1203"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1204">V</span></span><span class="MJXp-mtext" id="MJXp-Span-1205">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1206">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1207">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1208">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1209">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1210">t</span><span class="MJXp-mo" id="MJXp-Span-1211" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-48"> \ varphi_1 = arctan \ left (\ frac {v_y} {v_z} \ right) \ quad \ varphi_2 = arcsin \ left (\ frac {\ sqrt {v_y ^ 2 + v_z ^ 2}} {V} \ right) </script></p><br>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1212"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1213">V</span><span class="MJXp-mo" id="MJXp-Span-1214" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1215"><span class="MJXp-mo" id="MJXp-Span-1216" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1217">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1218">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1219">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1220">c</span><span class="MJXp-mrow" id="MJXp-Span-1221"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1222">v</span></span><span class="MJXp-mrow" id="MJXp-Span-1223"><span class="MJXp-mo" id="MJXp-Span-1224" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-1225" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1226">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1227">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1228">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1229">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1230">t</span><span class="MJXp-mrow" id="MJXp-Span-1231"><span class="MJXp-msubsup" id="MJXp-Span-1232"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1233" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1235">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1234">x</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1236" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1237"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1238" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1240">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1239">y</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1241" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1242"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1243" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1245">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1244">z</span></span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-49"> V = | \ vec {v} | = \ sqrt {v_x ^ 2 + v_y ^ 2 + v_z ^ 2} </script>  - la longitud del cuerpo de trabajo, <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1246"><span class="MJXp-msubsup" id="MJXp-Span-1247"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1248" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1249" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mo" id="MJXp-Span-1250" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1251"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1252" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1253" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mo" id="MJXp-Span-1254" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1256" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1257" style="vertical-align: -0.4em;">z</span></span></span></span><script type="math/tex" id="MathJax-Element-50"> v_x, v_y, v_z </script>  - coordenadas vectoriales <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1258"><span class="MJXp-mtext" id="MJXp-Span-1259">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1260">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1261">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1262">c</span><span class="MJXp-mrow" id="MJXp-Span-1263"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1264">v</span></span></span></span><script type="math/tex" id="MathJax-Element-51"> \ vec {v} </script>  . <br><br>  El software del manipulador se divide en dos niveles, superior e inferior.  El nivel superior est√° escrito en Matlab en forma de biblioteca y varios m√©todos de comando, el inferior, en el microcontrolador Atmega328.  La tarea del nivel superior es formular los comandos enviados al microcontrolador.  Su tarea es conseguir que el equipo y, de acuerdo con √©l, instale las unidades en la posici√≥n correcta.  De esta forma, el sistema de control result√≥ ser confiable (hasta ahora ...) y c√≥modo de usar. <br><br><div class="spoiler">  <b class="spoiler_title">¬øPor qu√© matlab?</b> <div class="spoiler_text">  Lo m√°s destacado, para m√≠, del lenguaje Matlab es que las operaciones con matrices ocurren all√≠ como relaciones algebraicas habituales, y no hay necesidad de encerrar bucles anidados, como se hace, por ejemplo, en C. Plus, casi cualquier operaci√≥n matem√°tica "deseada" est√° disponible en Matlab, lo que da una gran felicidad <br></div></div><br>  La formulaci√≥n del comando y el env√≠o desde el nivel superior es el siguiente: el usuario en la ventana de comando Matlab llama a una funci√≥n de la biblioteca (por ejemplo, la funci√≥n de simplemente moverse a un punto), indica los argumentos necesarios (generalmente estas son las coordenadas y la orientaci√≥n del PO).  Despu√©s de las consideraciones matem√°ticas descritas anteriormente, registradas en la biblioteca, se calculan los √°ngulos de rotaci√≥n de los ejes y, si es necesario, la velocidad de rotaci√≥n.  Despu√©s de un protocolo simple, ensamblamos el comando y lo enviamos al microcontrolador de nivel inferior a trav√©s del puerto serie COM. <br><br>  Algunas palabras sobre la biblioteca escrita.  Tiene las siguientes funciones a su disposici√≥n: <br><br><ol><li>  funciones de conexi√≥n en serie </li><li>  funciones de movimiento </li></ol><br><ul><li>  hasta cierto punto, con una velocidad constante de todas las unidades </li><li>  hasta un punto, con una parada final de todas las unidades (la velocidad de la unidad se selecciona en proporci√≥n a su propio √°ngulo de rotaci√≥n m√°s grande. Por lo tanto, al final del acercamiento al punto, todas las unidades dejan de moverse) </li><li>  hasta cierto punto, con un movimiento suave de cada unidad (en este caso, el gr√°fico de velocidad se ve como un trapecio con √°reas de aceleraci√≥n, velocidad constante y frenado) <br><br><div class="spoiler">  <b class="spoiler_title">Graph</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/rm/ma/cg/rmmacg0-745cih7mdr-qt2gg0mc.jpeg" width="60%" height="60%" title="Ciclo de velocidad"></div><br></div></div><br></li><li>  hasta un punto, de acuerdo con los √°ngulos de rotaci√≥n especificados manualmente de los ejes y la velocidad de rotaci√≥n </li></ul><br>  La lista de funciones, por supuesto, se puede ampliar, pero esta funcionalidad fue suficiente para resolver directamente el problema para el que se dise√±√≥ el manipulador. <br><br>  El video muestra el funcionamiento del manipulador. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/xygd60ruiU0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  2. Desarrollo de un dispositivo para rastrear el movimiento del brazo. </h3><br>  Ve al siguiente paso.  Aqu√≠ deber√° dise√±ar un dispositivo especial que pueda rastrear en tiempo real la posici√≥n en la palma de su mano.  Adem√°s, este proceso se llama "captura de movimiento".  Para implementar el plan, decid√≠ usar el sistema de navegaci√≥n inercial (SINS) basado en tres sensores: un giroscopio, un aceler√≥metro y un magnet√≥metro.  Un grupo de estos sensores se llama IMU, un sensor (en traducci√≥n, este es el mismo PECADO). <br><br>  Primero, dise√±√© una placa de circuito impreso con la funcionalidad que necesitaba, en la que coloqu√© estos tres sensores.  Como controlador de procesamiento, eleg√≠ (o m√°s bien tom√© lo que era) el microcontrolador Atmega2560.  Los sensores usados ‚Äã‚Äãson comunes y baratos en el mercado chino.  Estos son sensores de giroscopio y aceler√≥metro de tres ejes emparejados MPU6050 y magnet√≥metro HMC5883l. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8p/rk/vq/8prkvqt0klxouxw-fxdxpblvgho.gif" width="100%" height="100%" title="Diagrama de circuito"></div><br><div class="spoiler">  <b class="spoiler_title">Foto del tablero terminado</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/f1/nj/40/f1nj40nobrj51cideljwm6roihw.jpeg"><br><br><img src="https://habrastorage.org/webt/rm/tx/v7/rmtxv7dwf-o8hxivquddv1exxvg.jpeg"><br></div></div><br>  El algoritmo para calcular la posici√≥n en el espacio es bastante simple: primero, determinamos la orientaci√≥n en forma de la base del sistema de coordenadas local (LSC), que est√° conectado con los sensores, y finalmente con la palma de la mano. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hm/or/gq/hmorgqbaim_bqqodfyoud5iwdxc.jpeg" width="40%" height="40%" title="Contenedores"></div><br><br>  La orientaci√≥n se determina en relaci√≥n con el sistema de coordenadas inicial (NSC), que es esencialmente la posici√≥n inicial del dispositivo en el momento del encendido.  Las bases de NSC y LSC consisten en vectores de columna de su orth: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1265"><span class="noError" id="MJXp-Span-1266" style="display: inline-block;">E_0&nbsp;=&nbsp;\&nbsp;left&nbsp;[\&nbsp;vec&nbsp;{X}&nbsp;\&nbsp;\&nbsp;vec&nbsp;{Y}&nbsp;\&nbsp;\&nbsp;vec&nbsp;{Z}&nbsp;\&nbsp;right]&nbsp;=&nbsp;\&nbsp;left&nbsp;[\&nbsp;begin&nbsp;{array}&nbsp;{cccc}&nbsp;1&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;\&nbsp;end&nbsp;{array}&nbsp;\&nbsp;right]&nbsp;\\&nbsp;E&nbsp;'=&nbsp;\&nbsp;left&nbsp;[\&nbsp;vec&nbsp;{x}'&nbsp;\&nbsp;\&nbsp;vec&nbsp;{y}&nbsp;'\&nbsp;\&nbsp;vec&nbsp;{z}'&nbsp;\&nbsp;right]</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-52"> E_0 = \ left [\ vec {X} \ \ vec {Y} \ \ vec {Z} \ right] = \ left [\ begin {array} {cccc} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \ end {array} \ right] \\ E '= \ left [\ vec {x}' \ \ vec {y} '\ \ vec {z}' \ right] </script></p><br>  Est√°n relacionados por la relaci√≥n: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1267"><span class="MJXp-msup" id="MJXp-Span-1268"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1269" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1270" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1271" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1272">C</span><span class="MJXp-msubsup" id="MJXp-Span-1273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1274" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1275" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-53"> E '= CE_0 </script></p><br>  Donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1277">C</span></span></span><script type="math/tex" id="MathJax-Element-54"> C </script>  Es una matriz de transici√≥n, tambi√©n es una matriz de rotaci√≥n en el espacio.  Consideramos la base del NSC como la matriz de identidad.  Por lo tanto <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1278"><span class="MJXp-msup" id="MJXp-Span-1279"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1280" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1281" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1282" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1283">C</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-55"> E '= C </script></p>  . <br>  Despu√©s, el vector de aceleraci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1284"><span class="MJXp-mtext" id="MJXp-Span-1285">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1286">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1287">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1288">c</span><span class="MJXp-mrow" id="MJXp-Span-1289"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1290">A</span></span></span></span><script type="math/tex" id="MathJax-Element-56"> \ vec {A} </script>  , que se conoce con respecto al LSC, debe determinarse en el NSC.  Esto se hace multiplicando el vector de la columna de aceleraci√≥n por la base LSC: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1291"><span class="MJXp-mtext" id="MJXp-Span-1292">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1293">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1294">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1295">c</span><span class="MJXp-mrow" id="MJXp-Span-1296"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297">A</span></span><span class="MJXp-mo" id="MJXp-Span-1298" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msup" id="MJXp-Span-1299"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1301" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-1302">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1303">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1304">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1305">c</span><span class="MJXp-msup" id="MJXp-Span-1306"><span class="MJXp-mrow" id="MJXp-Span-1307" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1308">A</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1309" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-57"> \ vec {A} = E '\ vec {A}' </script></p><br>  Luego integramos el vector de aceleraci√≥n obtenido dos veces en el tiempo y obtenemos la distancia, es decir  coordenadas: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1310"><span class="MJXp-mtext" id="MJXp-Span-1311">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1312">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1313">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1314">c</span><span class="MJXp-mrow" id="MJXp-Span-1315"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1316">r</span></span><span class="MJXp-mo" id="MJXp-Span-1317" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1318">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1319">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1320">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1321">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1322">t</span><span class="MJXp-mtext" id="MJXp-Span-1323">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1324">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1325">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1326">c</span><span class="MJXp-mrow" id="MJXp-Span-1327"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1328">A</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1329">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1330">t</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-58"> \ vec {r} = \ iint \ vec {A} dt </script></p><br>  Los primeros intentos de implementar este algoritmo fueron muy ingenuos ... La ingenuidad fue que solo consideraba posible desde el giroscopio, utilizando una integraci√≥n discreta, obtener una matriz de rotaci√≥n alrededor del eje.  El eje en este caso puede considerarse como un pseudovector de velocidad angular, cuyos componentes (proyecci√≥n en el eje) son la salida del sensor girosc√≥pico.  Y el √°ngulo, a su vez, se obtiene integrando el m√≥dulo vectorial.  El entusiasmo inicial y el entusiasmo desaparecieron cuando vi un monstruoso tama√±o, la llamada "deriva cero", causada por el error de acumulaci√≥n debido al error de integraci√≥n discreta y el ruido intr√≠nseco del sensor.  Incluso entonces, pens√© que de acuerdo con el aceler√≥metro, que en reposo muestra el vector, el inverso del vector de aceleraci√≥n de la gravedad (en adelante denominado el vector de gravedad), puede hacer la correcci√≥n de la matriz, pero aqu√≠ hay incertidumbre asociada con el hecho de que la correcci√≥n es posible solo hasta la rotaci√≥n del √°ngulo alrededor del eje Z. La correcci√≥n se completar√° si ser√° posible restaurar la matriz de rotaci√≥n de una manera alternativa, es decir,  sin usar datos de giroscopio. <br><br><div class="spoiler">  <b class="spoiler_title">Especialmente interesado</b> <div class="spoiler_text">  Especialmente interesado lo explicar√©.  ¬øPor qu√© es imposible restaurar la matriz de rotaci√≥n mediante el aceler√≥metro?  M√°s precisamente, no hay suficientes datos.  Como sabemos, el vector de gravedad siempre se dirige al centro del planeta y, por lo tanto, es perpendicular a la superficie de la Tierra.  Dado que conectamos el sistema de coordenadas inicial, por ejemplo, con la mesa, de modo que el plano XY es paralelo a la superficie de la mesa, que a su vez es paralela (con alguna convenci√≥n) al piso, y el piso a su vez es paralelo al plano de la base del edificio, que generalmente es un plano tangente a la Tierra .  De esto concluimos que las lecturas del aceler√≥metro en reposo (o con movimiento uniforme) nos informan sobre la posici√≥n del eje <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1331"><span class="MJXp-mtext" id="MJXp-Span-1332">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1333">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1334">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1335">c</span><span class="MJXp-msup" id="MJXp-Span-1336"><span class="MJXp-mrow" id="MJXp-Span-1337" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1338">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1339" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-59"> \ vec {z} '</script>  LSK, en relaci√≥n con el NSC.  En esto, la utilidad de estos datos se agota, porque  rotaci√≥n alrededor del eje <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1340"><span class="MJXp-mtext" id="MJXp-Span-1341">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1342">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1343">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1344">c</span><span class="MJXp-msup" id="MJXp-Span-1345"><span class="MJXp-mrow" id="MJXp-Span-1346" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1347">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1348" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-60"> \ vec {z} '</script>  no cambie el eje en s√≠ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1349"><span class="MJXp-mtext" id="MJXp-Span-1350">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1351">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1352">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1353">c</span><span class="MJXp-msup" id="MJXp-Span-1354"><span class="MJXp-mrow" id="MJXp-Span-1355" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1356">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1357" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-61"> \ vec {z} '</script>  pero cambia los otros dos ejes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1358"><span class="MJXp-mtext" id="MJXp-Span-1359">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1360">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1361">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1362">c</span><span class="MJXp-msup" id="MJXp-Span-1363"><span class="MJXp-mrow" id="MJXp-Span-1364" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1365">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1366" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-62"> \ vec {x} '</script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1367"><span class="MJXp-mtext" id="MJXp-Span-1368">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1369">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1370">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1371">c</span><span class="MJXp-msup" id="MJXp-Span-1372"><span class="MJXp-mrow" id="MJXp-Span-1373" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1374">y</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1375" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-63"> \ vec {y} '</script>  .  Por lo tanto, las lecturas del aceler√≥metro no cambiar√°n y luego no se determinar√° la posici√≥n. <br></div></div><br>  Entonces es necesario usar otro factor por el cual ser√° posible hacer un ajuste completo de la situaci√≥n.  Este factor es el campo magn√©tico de la Tierra, que, junto con la gravedad en un solo punto del planeta, no cambia con el tiempo (por supuesto, a corto plazo).  Se mide utilizando el sensor HMC5883l mencionado anteriormente.  En este caso, tenemos dos vectores, que son suficientes para determinar la posici√≥n en el espacio en relaci√≥n con ellos. <br><br>  Ahora surge una pregunta l√≥gica: "¬øc√≥mo hacer esto?"  Despu√©s de intentos fallidos de responder a esta pregunta, me sub√≠ a Internet, donde encontr√© la informaci√≥n que necesitaba.  La tarea de determinar la orientaci√≥n en el espacio de acuerdo con tres mediciones (velocidad angular, vector de gravedad y vector de campo magn√©tico) tambi√©n surge en el dise√±o de aviones aficionados (por ejemplo, helic√≥pteros), por lo que este problema se ha resuelto repetidamente por varios m√©todos.  Un m√©todo popular es el llamado filtro Majwick (Sebastian OH Madgwick).  Despu√©s de leer el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> original y no entender el ingl√©s, recurr√≠ a una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">traducci√≥n</a> maravillosa (gracias al autor por el trabajo realizado).  Mientras profundizaba en el estudio del art√≠culo, cada vez ten√≠a m√°s la idea de intentar escribir mi propio algoritmo de filtro de determinaci√≥n de posici√≥n, dado que en este momento mi nivel de conocimiento en esta √°rea hab√≠a aumentado significativamente.  En aras del inter√©s, "inventar una bicicleta"!  Y lo "invent√©".  A continuaci√≥n les doy mi razonamiento. <br><br>  El algoritmo usa las lecturas de los tres sensores.  Perm√≠tame recordarle que la tarea del algoritmo es calcular la orientaci√≥n del objeto y compensar la deriva cero del giroscopio, dado el par dado del aceler√≥metro y el magnet√≥metro.  Como herramienta matem√°tica que describe la posici√≥n, se utiliza un cuaterni√≥n, porque  es conveniente en t√©rminos de construcci√≥n y optimizaci√≥n del algoritmo y requiere menos operaciones matem√°ticas para calcularlo, a diferencia de las matrices.  El cuaterni√≥n de rotaci√≥n en el espacio es el siguiente: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1376"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1377">q</span><span class="MJXp-mo" id="MJXp-Span-1378" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1379">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1380">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1381">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1382">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1383">t</span><span class="MJXp-mo" id="MJXp-Span-1384" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-1385"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1386" style="margin-right: 0.05em;">q</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1387" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-1388">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1390" style="margin-right: 0.05em;">q</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1391" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1392">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1393"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1394" style="margin-right: 0.05em;">q</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1395" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mtext" id="MJXp-Span-1396">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1397"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1398" style="margin-right: 0.05em;">q</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1399" style="vertical-align: -0.4em;">4</span></span><span class="MJXp-mtext" id="MJXp-Span-1400">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1401">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1402">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1403">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1404">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1405">t</span><span class="MJXp-mo" id="MJXp-Span-1406" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-64"> q = \ left [q_1 \ q_2 \ q_3 \ q_4 \ right] </script></p><br>  Conocer el eje de rotaci√≥n descrito por el vector normalizado. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1407"><span class="MJXp-mtext" id="MJXp-Span-1408">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1409">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1410">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1411">c</span><span class="MJXp-mrow" id="MJXp-Span-1412"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1413">v</span></span><span class="MJXp-mo" id="MJXp-Span-1414" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1415">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1416">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1417">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1418">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1419">t</span><span class="MJXp-mo" id="MJXp-Span-1420" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-1421"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1422" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1423" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1424">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1425"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1426" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1427" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1428">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1429"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1430" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1431" style="vertical-align: -0.4em;">z</span></span><span class="MJXp-mtext" id="MJXp-Span-1432">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1433">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1434">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1435">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1436">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1437">t</span><span class="MJXp-mo" id="MJXp-Span-1438" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-65"> \ vec {v} = \ left [v_x \ v_y \ v_z \ right] </script>  y √°ngulo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1439"><span class="MJXp-mtext" id="MJXp-Span-1440">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1441">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1442">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1443">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1444">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1445">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1446">i</span></span></span><script type="math/tex" id="MathJax-Element-66"> \ varphi </script>  (de donde vienen arriba) puedes calcular el cuaterni√≥n: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1447"><span class="MJXp-msubsup" id="MJXp-Span-1448"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1449" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1450" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1451">v</span><span class="MJXp-mo" id="MJXp-Span-1452">,</span><span class="MJXp-mtext" id="MJXp-Span-1453">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1454">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1455">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1456">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1457">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1458">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1459">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1460" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1461">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1462">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1463">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1464">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1465">t</span><span class="MJXp-mo" id="MJXp-Span-1466" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mtext" id="MJXp-Span-1467">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1468">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1469">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1470">s</span><span class="MJXp-mtext" id="MJXp-Span-1471">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1472">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1473">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1474">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1475">t</span><span class="MJXp-mo" id="MJXp-Span-1476" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1477">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1478">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1479">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1480">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1481">c</span><span class="MJXp-mrow" id="MJXp-Span-1482"><span class="MJXp-mtext" id="MJXp-Span-1483">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1484">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1485">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1486">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1487">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1488">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1489">i</span></span><span class="MJXp-mrow" id="MJXp-Span-1490"><span class="MJXp-mn" id="MJXp-Span-1491">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1492">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1493">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1494">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1495">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1496">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1497">t</span><span class="MJXp-mo" id="MJXp-Span-1498" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1499">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1500">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1501"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1502" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1503" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1504">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1505">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1506">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1507">n</span><span class="MJXp-mtext" id="MJXp-Span-1508">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1509">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1510">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1511">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1512">t</span><span class="MJXp-mo" id="MJXp-Span-1513" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1514">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1515">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1516">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1517">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1518">c</span><span class="MJXp-mrow" id="MJXp-Span-1519"><span class="MJXp-mtext" id="MJXp-Span-1520">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1521">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1522">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1523">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1524">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1525">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1526">i</span></span><span class="MJXp-mrow" id="MJXp-Span-1527"><span class="MJXp-mn" id="MJXp-Span-1528">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1529">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1530">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1531">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1532">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1533">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1534">t</span><span class="MJXp-mo" id="MJXp-Span-1535" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1536">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1537">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1538"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1539" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1540" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1541">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1542">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1543">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1544">n</span><span class="MJXp-mtext" id="MJXp-Span-1545">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1546">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1547">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1548">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1549">t</span><span class="MJXp-mo" id="MJXp-Span-1550" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1551">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1552">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1553">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1554">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1555">c</span><span class="MJXp-mrow" id="MJXp-Span-1556"><span class="MJXp-mtext" id="MJXp-Span-1557">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1558">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1559">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1560">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1561">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1562">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1563">i</span></span><span class="MJXp-mrow" id="MJXp-Span-1564"><span class="MJXp-mn" id="MJXp-Span-1565">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1566">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1567">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1568">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1569">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1570">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1571">t</span><span class="MJXp-mo" id="MJXp-Span-1572" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1573">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1574">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1575"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1576" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1577" style="vertical-align: -0.4em;">z</span></span><span class="MJXp-mtext" id="MJXp-Span-1578">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1579">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1580">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1581">n</span><span class="MJXp-mtext" id="MJXp-Span-1582">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1583">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1584">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1585">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1586">t</span><span class="MJXp-mo" id="MJXp-Span-1587" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1588">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1589">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1590">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1591">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1592">c</span><span class="MJXp-mrow" id="MJXp-Span-1593"><span class="MJXp-mtext" id="MJXp-Span-1594">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1595">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1596">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1597">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1598">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1599">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1600">i</span></span><span class="MJXp-mrow" id="MJXp-Span-1601"><span class="MJXp-mn" id="MJXp-Span-1602">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1603">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1604">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1605">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1606">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1607">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1608">t</span><span class="MJXp-mo" id="MJXp-Span-1609" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1610">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1611">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1612">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1613">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1614">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1615">t</span><span class="MJXp-mo" id="MJXp-Span-1616" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-1617">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1618">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1619">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1620">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1621">d</span><span class="MJXp-mo" id="MJXp-Span-1622" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1623" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mo" id="MJXp-Span-1624" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-67"> q_ {v, \ varphi} = \ left [\ cos \ left (\ frac {\ varphi} {2} \ right) \ \ v_x \ sin \ left (\ frac {\ varphi} {2} \ right) \ \ v_y \ sin \ left (\ frac {\ varphi} {2} \ right) \ \ v_z \ sin \ left (\ frac {\ varphi} {2} \ right) \ right] \ quad (*) </script></p><br>  Luego, usando solo el giroscopio, en cada iteraci√≥n del ciclo calcularemos el valor actual del cuaterni√≥n de acuerdo con la expresi√≥n: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1625"><span class="MJXp-msubsup" id="MJXp-Span-1626"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1627" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1629">G</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1628">n</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1630" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1631"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1632" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1633" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1634">n</span><span class="MJXp-mo" id="MJXp-Span-1635">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1636">1</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1637"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1638" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1639" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1640">v</span><span class="MJXp-mo" id="MJXp-Span-1641">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1642">d</span><span class="MJXp-mtext" id="MJXp-Span-1643">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1644">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1645">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1646">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1647">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1648">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1649">i</span></span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-68"> q_n ^ G = q_ {n-1} q_ {v, d \ varphi} </script></p><br>  Aqui <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1650"><span class="MJXp-msubsup" id="MJXp-Span-1651"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1652" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1654">G</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1653">n</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-69"> q_n ^ G </script>  - cuaterni√≥n en un momento dado.  El √≠ndice <i>G</i> en la parte superior indica que este valor se refiere a la medida relativa a las lecturas del giroscopio, es decir.  velocidad angular; <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1655"><span class="MJXp-msubsup" id="MJXp-Span-1656"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1657" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1658" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1659">n</span><span class="MJXp-mo" id="MJXp-Span-1660">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1661">1</span></span></span></span></span><script type="math/tex" id="MathJax-Element-70"> q_ {n-1} </script>  - el valor del cuaterni√≥n en el momento anterior en el tiempo; <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1662"><span class="MJXp-msubsup" id="MJXp-Span-1663"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1664" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1665" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1666">v</span><span class="MJXp-mo" id="MJXp-Span-1667">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1668">d</span><span class="MJXp-mtext" id="MJXp-Span-1669">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1670">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1671">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1672">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1673">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1674">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1675">i</span></span></span></span></span><script type="math/tex" id="MathJax-Element-71"> q_ {v, d \ varphi} </script>  ‚ÄìCambiando la posici√≥n en un paso de medici√≥n, podemos decir un cambio discreto de posici√≥n por un √°ngulo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1676"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1677">d</span><span class="MJXp-mtext" id="MJXp-Span-1678">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1679">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1680">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1681">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1682">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1683">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1684">i</span></span></span><script type="math/tex" id="MathJax-Element-72"> d \ varphi </script>  para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1685"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1686">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1687">t</span></span></span><script type="math/tex" id="MathJax-Element-73"> dt </script>  Es el per√≠odo de muestreo expresado por el cuaterni√≥n de rotaci√≥n (*). <br><br>  El siguiente paso en el c√°lculo es encontrar la matriz de rotaci√≥n basada en datos de un par de sensores de aceler√≥metro y magnet√≥metro.  Espec√≠ficamente, consideramos el vector de gravedad y el vector de inducci√≥n del campo magn√©tico de la Tierra, que, como se mencion√≥ anteriormente, son est√°ticos con respecto a la Tierra y el NSC asociado.  Aqu√≠ la tesis es la siguiente: <i>conociendo los valores de gravedad e inducci√≥n en base al LSC y al NSC, podemos calcular la matriz de transici√≥n (rotaci√≥n) del NSC al LSC y el cuaterni√≥n de rotaci√≥n en el espacio</i> . <br><br>  Denote por <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1688"><span class="MJXp-mtext" id="MJXp-Span-1689">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1690">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1691">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1692">c</span><span class="MJXp-mrow" id="MJXp-Span-1693"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1694">G</span></span></span></span><script type="math/tex" id="MathJax-Element-74"> \ vec {G} </script>  vector de gravedad inicial normalizado.  Se puede tomar de la siguiente manera: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1695"><span class="MJXp-mtext" id="MJXp-Span-1696">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1697">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1698">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1699">c</span><span class="MJXp-mrow" id="MJXp-Span-1700"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1701">G</span></span><span class="MJXp-mo" id="MJXp-Span-1702" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1703"><span class="MJXp-mrow" id="MJXp-Span-1704" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1705">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1706">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1707">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1708">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1709">t</span><span class="MJXp-mo" id="MJXp-Span-1710" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-1711">0</span><span class="MJXp-mtext" id="MJXp-Span-1712">&nbsp;</span><span class="MJXp-mn" id="MJXp-Span-1713">0</span><span class="MJXp-mtext" id="MJXp-Span-1714">&nbsp;</span><span class="MJXp-mn" id="MJXp-Span-1715">1</span><span class="MJXp-mtext" id="MJXp-Span-1716">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1717">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1718">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1719">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1720">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1721">t</span><span class="MJXp-mo" id="MJXp-Span-1722" style="margin-left: 0em; margin-right: 0em;">]</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1723" style="vertical-align: 0.5em;">T</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-75"> \ vec {G} = {\ left [0 \ 0 \ 1 \ right]} ^ T </script></p><br>  A trav√©s de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1724"><span class="MJXp-mtext" id="MJXp-Span-1725">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1726">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1727">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1728">c</span><span class="MJXp-mrow" id="MJXp-Span-1729"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1730">H</span></span></span></span><script type="math/tex" id="MathJax-Element-76"> \ vec {H} </script>  denotar el vector de inducci√≥n magn√©tica inicial normalizado: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1731"><span class="MJXp-mtext" id="MJXp-Span-1732">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1733">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1734">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1735">c</span><span class="MJXp-mrow" id="MJXp-Span-1736"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1737">H</span></span><span class="MJXp-mo" id="MJXp-Span-1738" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1739"><span class="MJXp-mrow" id="MJXp-Span-1740" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1741">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1742">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1743">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1744">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1745">t</span><span class="MJXp-mo" id="MJXp-Span-1746" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-1747"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1748" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1749" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1750">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1751"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1752" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1753" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1754">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1755"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1756" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1757" style="vertical-align: -0.4em;">z</span></span><span class="MJXp-mtext" id="MJXp-Span-1758">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1759">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1760">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1761">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1762">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1763">t</span><span class="MJXp-mo" id="MJXp-Span-1764" style="margin-left: 0em; margin-right: 0em;">]</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1765" style="vertical-align: 0.5em;">T</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-77"> \ vec {H} = {\ left [H_x \ H_y \ H_z \ right]} ^ T </script></p><br>  Tambi√©n se requiere un tercer vector. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1766"><span class="MJXp-mtext" id="MJXp-Span-1767">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1768">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1769">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1770">c</span><span class="MJXp-mrow" id="MJXp-Span-1771"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1772">K</span></span></span></span><script type="math/tex" id="MathJax-Element-78"> \ vec {K} </script>  que est√° asociado con estos dos.  Se obtiene por multiplicaci√≥n vectorial. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1773"><span class="MJXp-mtext" id="MJXp-Span-1774">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1775">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1776">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1777">c</span><span class="MJXp-mrow" id="MJXp-Span-1778"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1779">H</span></span></span></span><script type="math/tex" id="MathJax-Element-79"> \ vec {H} </script>  en <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1780"><span class="MJXp-mtext" id="MJXp-Span-1781">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1782">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1783">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1784">c</span><span class="MJXp-mrow" id="MJXp-Span-1785"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1786">G</span></span></span></span><script type="math/tex" id="MathJax-Element-80"> \ vec {G} </script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1787"><span class="MJXp-mtext" id="MJXp-Span-1788">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1789">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1790">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1791">c</span><span class="MJXp-mrow" id="MJXp-Span-1792"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1793">K</span></span><span class="MJXp-mo" id="MJXp-Span-1794" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1795"><span class="MJXp-mrow" id="MJXp-Span-1796" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1797">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1798">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1799">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1800">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1801">t</span><span class="MJXp-mo" id="MJXp-Span-1802" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-1803"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1804" style="margin-right: 0.05em;">K</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1805" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1806">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1807"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1808" style="margin-right: 0.05em;">K</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1809" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1810">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1811"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1812" style="margin-right: 0.05em;">K</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1813" style="vertical-align: -0.4em;">z</span></span><span class="MJXp-mtext" id="MJXp-Span-1814">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1815">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1816">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1817">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1818">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1819">t</span><span class="MJXp-mo" id="MJXp-Span-1820" style="margin-left: 0em; margin-right: 0em;">]</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1821" style="vertical-align: 0.5em;">T</span></span><span class="MJXp-mo" id="MJXp-Span-1822" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1823">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1824">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1825">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1826">c</span><span class="MJXp-mrow" id="MJXp-Span-1827"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1828">H</span></span><span class="MJXp-mtext" id="MJXp-Span-1829">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1830">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1831">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1832">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1833">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1834">s</span><span class="MJXp-mtext" id="MJXp-Span-1835">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1836">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1837">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1838">c</span><span class="MJXp-mrow" id="MJXp-Span-1839"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1840">G</span></span><span class="MJXp-mo" id="MJXp-Span-1841" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1842"><span class="MJXp-mrow" id="MJXp-Span-1843" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1844">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1845">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1846">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1847">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1848">t</span><span class="MJXp-mo" id="MJXp-Span-1849" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-1850"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1851" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1852" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1853">&nbsp;</span><span class="MJXp-mo" id="MJXp-Span-1854" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-1855"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1856" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1857" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1858">&nbsp;</span><span class="MJXp-mn" id="MJXp-Span-1859">0</span><span class="MJXp-mtext" id="MJXp-Span-1860">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1861">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1862">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1863">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1864">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1865">t</span><span class="MJXp-mo" id="MJXp-Span-1866" style="margin-left: 0em; margin-right: 0em;">]</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1867" style="vertical-align: 0.5em;">T</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-81"> \ vec {K} = {\ left [K_x \ K_y \ K_z \ right]} ^ T = \ vec {H} \ times \ vec {G} = {\ left [H_y \ -H_x \ 0 \ right]} ^ T </script></p><br>  Ahora se forma la matriz <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1868"><span class="MJXp-msubsup" id="MJXp-Span-1869"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1870" style="margin-right: 0.05em;">M</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1871" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex" id="MathJax-Element-82"> M_0 </script>  que caracteriza la posici√≥n inicial, es decir  NSC, ya que en el momento inicial, el LSC coincide con el NSC.  La matriz se obtiene de los componentes de los vectores. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1872"><span class="MJXp-mtext" id="MJXp-Span-1873">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1874">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1875">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1876">c</span><span class="MJXp-mrow" id="MJXp-Span-1877"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1878">H</span></span></span></span><script type="math/tex" id="MathJax-Element-83"> \ vec {H} </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1879"><span class="MJXp-mtext" id="MJXp-Span-1880">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1881">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1882">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1883">c</span><span class="MJXp-mrow" id="MJXp-Span-1884"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1885">G</span></span></span></span><script type="math/tex" id="MathJax-Element-84"> \ vec {G} </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1886"><span class="MJXp-mtext" id="MJXp-Span-1887">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1888">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1889">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1890">c</span><span class="MJXp-mrow" id="MJXp-Span-1891"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1892">K</span></span></span></span><script type="math/tex" id="MathJax-Element-85"> \ vec {K} </script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1893"><span class="noError" id="MJXp-Span-1894" style="display: inline-block;">M_0&nbsp;=&nbsp;\&nbsp;left&nbsp;[\&nbsp;vec&nbsp;{H}&nbsp;\&nbsp;\&nbsp;vec&nbsp;{G}&nbsp;\&nbsp;\&nbsp;vec&nbsp;{K}&nbsp;\&nbsp;right]&nbsp;=&nbsp;\&nbsp;left&nbsp;[\&nbsp;begin&nbsp;{array}&nbsp;{cccc}&nbsp;H_x&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;H_y&nbsp;\\&nbsp;H_y&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;-H_x&nbsp;\\&nbsp;H_z&nbsp;&amp;&nbsp;1&nbsp;&amp;&nbsp;0&nbsp;\&nbsp;end&nbsp;{&nbsp;matriz}&nbsp;\&nbsp;right]</span></span></span><script type="math/tex;mode=display" id="MathJax-Element-86"> M_0 = \ left [\ vec {H} \ \ vec {G} \ \ vec {K} \ right] = \ left [\ begin {array} {cccc} H_x & 0 & H_y \\ H_y & 0 & -H_x \\ H_z & 1 & 0 \ end { matriz} \ right] </script></p><br>  Del mismo modo, pero ya en cada iteraci√≥n del bucle, se crea una matriz similar <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1895"><span class="MJXp-msup" id="MJXp-Span-1896"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1897" style="margin-right: 0.05em;">M</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1898" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1899" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1900">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1901">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1902">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1903">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1904">t</span><span class="MJXp-mo" id="MJXp-Span-1905" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mtext" id="MJXp-Span-1906">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1907">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1908">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1909">c</span><span class="MJXp-mrow" id="MJXp-Span-1910"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1911">h</span></span><span class="MJXp-mtext" id="MJXp-Span-1912">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1913">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1914">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1915">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1916">c</span><span class="MJXp-mrow" id="MJXp-Span-1917"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1918">g</span></span><span class="MJXp-mtext" id="MJXp-Span-1919">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1920">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1921">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1922">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1923">c</span><span class="MJXp-mrow" id="MJXp-Span-1924"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1925">k</span></span><span class="MJXp-mtext" id="MJXp-Span-1926">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1927">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1928">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1929">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1930">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1931">t</span><span class="MJXp-mo" id="MJXp-Span-1932" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-87"> M '= \ left [\ vec {h} \ \ vec {g} \ \ vec {k} \ right] </script>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1933"><span class="MJXp-mtext" id="MJXp-Span-1934">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1935">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1936">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1937">c</span><span class="MJXp-mrow" id="MJXp-Span-1938"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1939">h</span></span></span></span><script type="math/tex" id="MathJax-Element-88"> \ vec {h} </script>  Es el vector de inducci√≥n magn√©tica normalizado actual, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1940"><span class="MJXp-mtext" id="MJXp-Span-1941">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1942">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1943">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1944">c</span><span class="MJXp-mrow" id="MJXp-Span-1945"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1946">g</span></span></span></span><script type="math/tex" id="MathJax-Element-89"> \ vec {g} </script>  Es el vector de gravedad normalizado actual, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1947"><span class="MJXp-mtext" id="MJXp-Span-1948">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1949">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1950">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1951">c</span><span class="MJXp-mrow" id="MJXp-Span-1952"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1953">k</span></span><span class="MJXp-mo" id="MJXp-Span-1954" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1955">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1956">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1957">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1958">c</span><span class="MJXp-mrow" id="MJXp-Span-1959"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1960">h</span></span><span class="MJXp-mtext" id="MJXp-Span-1961">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1962">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1963">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1964">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1965">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1966">s</span><span class="MJXp-mtext" id="MJXp-Span-1967">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1968">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1969">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1970">c</span><span class="MJXp-mrow" id="MJXp-Span-1971"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1972">g</span></span></span></span><script type="math/tex" id="MathJax-Element-90"> \ vec {k} = \ vec {h} \ times \ vec {g} </script>  .  Esta matriz caracteriza la posici√≥n del LSC, porque  Estos vectores son conocidos en el sistema de coordenadas de los sensores, que coincide con el LSC.  Luego, conociendo ambas matrices, podemos escribir la siguiente ecuaci√≥n: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1973"><span class="MJXp-msup" id="MJXp-Span-1974"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1975" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1976" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-msup" id="MJXp-Span-1977"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1978" style="margin-right: 0.05em;">M</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1979" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1980" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1981"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1982" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1983" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-msubsup" id="MJXp-Span-1984"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1985" style="margin-right: 0.05em;">M</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1986" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-91"> E'M '= E_0M_0 </script></p><br>  Vincula dos matrices encontradas en diferentes circunstancias.  Dada una expresi√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1987"><span class="MJXp-msup" id="MJXp-Span-1988"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1989" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1990" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1991" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1992">C</span><span class="MJXp-msubsup" id="MJXp-Span-1993"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1994" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1995" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex" id="MathJax-Element-92"> E '= CE_0 </script>  y que base <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1996"><span class="MJXp-msubsup" id="MJXp-Span-1997"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1998" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1999" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex" id="MathJax-Element-93"> E_0 </script>  Es la matriz de identidad, obtenemos: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2000"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2001">C</span><span class="MJXp-msup" id="MJXp-Span-2002"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2003" style="margin-right: 0.05em;">M</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-2004" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-2005" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-2006"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2007" style="margin-right: 0.05em;">M</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2008" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-94"> CM '= M_0 </script></p><br>  Desde aqu√≠ expresamos la matriz de transici√≥n. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2009"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2010">C</span></span></span><script type="math/tex" id="MathJax-Element-95"> C </script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2011"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2012">C</span><span class="MJXp-mo" id="MJXp-Span-2013" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-2014"><span class="MJXp-mrow" id="MJXp-Span-2015" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-2016">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2017">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2018">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2019">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2020">t</span><span class="MJXp-mo" id="MJXp-Span-2021" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2022"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2023" style="margin-right: 0.05em;">M</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2025"><span class="MJXp-mo" id="MJXp-Span-2026">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2027">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-2024">0</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2028">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2029">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2030">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2031">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2032">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2033">t</span><span class="MJXp-mo" id="MJXp-Span-2034" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2035" style="vertical-align: 0.82em;">T</span></span><span class="MJXp-msubsup" id="MJXp-Span-2036"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2037" style="margin-right: 0.05em;">M</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2038" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-2039">‚Ä≤</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2040">T</span></span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-96"> C = {\ left (M_0 ^ {- 1} \ right)} ^ TM '^ T </script></p><br>  El primer factor, como puede comprender, se calcula solo una vez al comienzo del algoritmo, y no requiere un recuento en el proceso.  El segundo factor se forma con bastante facilidad y no a la fuerza en cada iteraci√≥n del ciclo. <br><br>  Despu√©s, cuando se encuentra la matriz de transici√≥n, la transformamos en un cuaterni√≥n. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2041"><span class="MJXp-msubsup" id="MJXp-Span-2042"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2043" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2045">A</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2044">n</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-97"> q_n ^ A </script>  (El algoritmo para convertir de una matriz a un cuaterni√≥n es algo p√∫blico y no lo dar√© aqu√≠). <br><br>  Como resultado, sabemos que dos cuaterniones se encuentran independientemente uno del otro.  Y para combinar los resultados, apliqu√© un filtro complementario simple con un coeficiente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2046"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2047">F</span></span></span><script type="math/tex" id="MathJax-Element-98"> F </script>  , que se toma del rango de 0 a 1: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2048"><span class="MJXp-msubsup" id="MJXp-Span-2049"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2050" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2051" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-2052" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2053">F</span><span class="MJXp-msubsup" id="MJXp-Span-2054"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2055" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2057">G</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2056">n</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2058" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-2059">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2060">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2061">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2062">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2063">t</span><span class="MJXp-mo" id="MJXp-Span-2064" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2065">1</span><span class="MJXp-mo" id="MJXp-Span-2066" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2067">F</span><span class="MJXp-mtext" id="MJXp-Span-2068">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2069">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2070">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2071">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2072">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2073">t</span><span class="MJXp-mo" id="MJXp-Span-2074" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-2075"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2076" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2078">A</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2077">n</span></span></span></span></span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-99"> q_n = Fq_n ^ G + \ left (1-F \ right) q_n ^ A </script></p><br>  Como resultado, obtenemos un cuaterni√≥n, que contiene informaci√≥n actualizada sobre la posici√≥n en el espacio del dispositivo con el m√≥dulo SINS. <br><br>  La bicicleta funcion√≥ ... El algoritmo funcion√≥, pero en algunas situaciones se comport√≥ de manera inapropiada, lo que en principio no interfiri√≥, pero no dio razones para pensar positivamente al respecto.  Satisface mi inter√©s deportivo, y ahora puedes recurrir a soluciones ya preparadas, mejor.  Luego volv√≠ nuevamente al art√≠culo de Sebastian Majwik y decid√≠ usar su algoritmo, afortunadamente, de que esta maravillosa persona public√≥ todos los c√≥digos fuente en el sitio web del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">proyecto</a> .  El archivo ten√≠a c√≥digos fuente en diferentes idiomas, incluido el lenguaje Matlab.  Este hecho influy√≥ en mi decisi√≥n de abandonar la idea de hacer todos los c√°lculos en el microcontrolador (especialmente porque es de 8 bits) y escribir el programa que ya est√° en la computadora en el entorno Matlab.  El microcontrolador se usa solo para interrogar sensores y enviar datos a una PC (una situaci√≥n similar con el manipulador).  En este caso, el c√≥digo del programa principal que sufre cambios y depuraci√≥n se basa en el entorno Matlab, que es muy conveniente en el proceso. <br><br>  Bueno, la orientaci√≥n dada por el cuaterni√≥n que obtuvimos.  ¬øQu√© sigue de acuerdo al plan?  Y luego sigue las coordenadas lineales del objeto seg√∫n el aceler√≥metro.  Bueno, aqu√≠ es mejor decir simplemente que es imposible determinar las coordenadas usando el aceler√≥metro con la precisi√≥n necesaria.  ¬°Incluso al menos encuentre un cambio de posici√≥n que sea adecuado!  Por supuesto, hubo intentos de resolver este problema, pero en tiempo real no fue posible encontrar las coordenadas.  Por qu√©  Porque la doble integraci√≥n discreta de las lecturas ruidosas del sensor solo condujo a la estratosfera, y a una velocidad fren√©tica, pero no a un resultado positivo.  Por lo tanto, cort√© el algoritmo indicado al comienzo del p√°rrafo hasta que se encontr√≥ la orientaci√≥n, y me detuve all√≠. <br><br><h2>  3. Todo lo dem√°s </h2><br>  Entonces, llegu√© a la etapa final del dise√±o, despu√©s de haber jugado lo suficiente con el manipulador y envolver el sensor IMU.  Mientras trabajaba en los dos pasos anteriores, ya ten√≠a una idea clara de c√≥mo funcionar√≠a todo y por qu√© algoritmo.  Por lo tanto, lidi√© con esta etapa lo suficientemente r√°pido.  Como solo se conoce la orientaci√≥n de la palma, trabajamos directamente con el cuerpo de trabajo, que se requiere para orientarse en consecuencia.  RO puede tomar cualquier direcci√≥n, si no viola el √°rea de trabajo (rotar todo 360 no funciona). <br><br>  En el √≠tem sobre el desarrollo del manipulador, el vector del PO se configur√≥ manualmente, y luego se encontraron los √°ngulos de rotaci√≥n de las unidades.  Por lo tanto, este vector debe determinarse en funci√≥n de la orientaci√≥n de la palma de la mano.  La orientaci√≥n se puede expresar como base <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2079"><span class="MJXp-msup" id="MJXp-Span-2080"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2081" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-2082" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-100"> E '</script>  encontrarlo convirtiendo el cuaterni√≥n en una matriz.  La base consiste en vectores de columna de sus orths; por lo tanto, obtenemos tres vectores <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2083"><span class="MJXp-mtext" id="MJXp-Span-2084">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2085">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2086">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2087">c</span><span class="MJXp-msup" id="MJXp-Span-2088"><span class="MJXp-mrow" id="MJXp-Span-2089" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2090">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-2091" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-101"> \ vec {x} '</script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2092"><span class="MJXp-mtext" id="MJXp-Span-2093">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2094">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2095">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2096">c</span><span class="MJXp-msup" id="MJXp-Span-2097"><span class="MJXp-mrow" id="MJXp-Span-2098" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2099">y</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-2100" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-102"> \ vec {y} '</script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2101"><span class="MJXp-mtext" id="MJXp-Span-2102">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2103">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2104">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2105">c</span><span class="MJXp-msup" id="MJXp-Span-2106"><span class="MJXp-mrow" id="MJXp-Span-2107" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2108">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-2109" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-103"> \ vec {z} '</script>  .  Ser√° conveniente tomar el vector como orientaci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2110"><span class="MJXp-mtext" id="MJXp-Span-2111">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2112">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2113">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2114">c</span><span class="MJXp-msup" id="MJXp-Span-2115"><span class="MJXp-mrow" id="MJXp-Span-2116" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2117">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-2118" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-104"> \ vec {x} '</script>  , dado que asum√≠ tal posici√≥n inicial del manipulador, cuando todos los enlaces y el PO est√°n ubicados en el plano XZ del sistema de coordenadas base, y el PO es horizontal en ese momento, es decir  vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2119"><span class="MJXp-mtext" id="MJXp-Span-2120">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2121">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2122">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2123">c</span><span class="MJXp-mrow" id="MJXp-Span-2124"><span class="MJXp-msubsup" id="MJXp-Span-2125"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2126" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2127" style="vertical-align: -0.4em;">0</span></span></span></span></span><script type="math/tex" id="MathJax-Element-105"> \ vec {v_0} </script>  Al principio, est√° alineado con el eje <i>X</i> del BSK y el NSC (colocamos la posici√≥n inicial del m√≥dulo SINS para que el NSC coincida con el BSK del manipulador).  En este caso, la primera columna de la matriz <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2128"><span class="MJXp-msup" id="MJXp-Span-2129"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2130" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-2131" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-106"> E '</script>  vector de igualaci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2132"><span class="MJXp-mtext" id="MJXp-Span-2133">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2134">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2135">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2136">c</span><span class="MJXp-mrow" id="MJXp-Span-2137"><span class="MJXp-msubsup" id="MJXp-Span-2138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2139" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2140" style="vertical-align: -0.4em;">0</span></span></span></span></span><script type="math/tex" id="MathJax-Element-107"> \ vec {v_0} </script>  .  Luego lo normalizamos a lo largo del PO y obtenemos el vector requerido relativo al sistema de coordenadas base del manipulador.  Luego seguimos la secuencia de c√°lculo de coordenadas generalizadas de la p. 1. <br><br>  Vale la pena se√±alar que el manipulador, al cambiar la orientaci√≥n de la RO, es capaz de moverse en dos modos: el primero, cuando el punto de brida es estacionario, el segundo, cuando el punto final del PO es estacionario, pero se observa su orientaci√≥n.  El segundo modo es m√°s interesante porque  incluso en ausencia de movimiento lineal, todos los ejes de rotaci√≥n todav√≠a est√°n involucrados para mover el punto de la brida, mientras se observa la orientaci√≥n del PO.  Sin embargo, la transici√≥n del primer modo al segundo ocurre con la adici√≥n de una sola operaci√≥n de sustracci√≥n de vectores para encontrar el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2141"><span class="MJXp-mtext" id="MJXp-Span-2142">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2143">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2144">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2145">c</span><span class="MJXp-mrow" id="MJXp-Span-2146"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2147">r</span></span></span></span><script type="math/tex" id="MathJax-Element-108"> \ vec {r} </script>  (ver p√°rrafo 1) <br><br>  Todas las operaciones anteriores tambi√©n se programaron en el entorno de Matlab.  En t√©rminos generales, la estructura del programa es la siguiente: <br><br><ol><li>  Calibraci√≥n al inicio.  Configuramos toda la granja en su posici√≥n original y, sin atrevernos a tocarla, calibramos el m√≥dulo SINS para una cierta cantidad de datos sin procesar.  La calibraci√≥n es necesaria, porque necesita eliminar el desplazamiento inicial que produjo el filtro (no entend√≠a por qu√©, y funcion√≥ bien). </li><li>  El comienzo del gui√≥n.  Inicializamos todas las bibliotecas y variables, establecemos la posici√≥n inicial de la brida o el punto final del PO. </li><li>  Inicio de ciclo.  En cada iteraci√≥n, interrogamos a los sensores, encontramos el cuaterni√≥n, lo traducimos a una matriz, que es la base <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2148"><span class="MJXp-msup" id="MJXp-Span-2149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2150" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-2151" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-109"> E '</script>  , es la base en la que se encuentra el RO.  La primera columna se toma como la orientaci√≥n del PO y encontramos todas las coordenadas generalizadas utilizando las consideraciones matem√°ticas de la Sec. 1. </li><li>  Conociendo las coordenadas generalizadas en el √∫ltimo momento y en el presente, calculamos la velocidad angular de rotaci√≥n de los ejes. </li><li>  Enviamos un paquete de datos al microcontrolador del manipulador. </li></ol><br><iframe width="560" height="315" src="https://www.youtube.com/embed/O5sPVAc5g8k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Result√≥, por supuesto, torpe, pero si observa m√°s de cerca, puede ver un resultado positivo del estudio.  Este trabajo, por supuesto, no pretende estar terminado y requiere mucho esfuerzo para refinar, pero solo si se puede usar.  Pero a√∫n no he encontrado una aplicaci√≥n espec√≠fica ... ¬øAlguien puede decirme? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418339/">https://habr.com/ru/post/es418339/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418329/index.html">Organizaci√≥n de pruebas seguras en producci√≥n. Parte 2</a></li>
<li><a href="../es418331/index.html">Maestros de servidores y redes: felices fiestas</a></li>
<li><a href="../es418333/index.html">Los robots Uber est√°n volviendo a la carretera, pero la gente los conducir√°</a></li>
<li><a href="../es418335/index.html">Enfrentamiento en Positivo Hack Days 8: an√°lisis de cadenas de ataque</a></li>
<li><a href="../es418337/index.html">Hot, Summer DataGrip 2018.2</a></li>
<li><a href="../es418341/index.html">¬°Feliz d√≠a del administrador del sistema! Tarjeta de felicitaci√≥n con significado</a></li>
<li><a href="../es418345/index.html">Documentaci√≥n de formatos de intercambio de informaci√≥n: f√°cil y simple</a></li>
<li><a href="../es418347/index.html">¬øC√≥mo escrib√≠ la biblioteca est√°ndar de C ++ 11 o por qu√© boost es tan aterrador? Cap√≠tulo 4.3</a></li>
<li><a href="../es418349/index.html">Servicio Azure Kubernetes (AKS) y PowerShell</a></li>
<li><a href="../es418353/index.html">Mapa mental en lugar de un caso de prueba, o c√≥mo la visualizaci√≥n le permite probar la aplicaci√≥n m√°s r√°pido</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>