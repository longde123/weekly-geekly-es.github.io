<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüîß ‚ôçÔ∏è üè£ D√©p√¥ts √† Kubernetes: OpenEBS vs Rook (Ceph) vs Rancher Longhorn vs StorageOS vs Robin vs Portworx vs Linstor üß£ üàπ üôå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mettre √† jour! . Dans les commentaires, l'un des lecteurs a sugg√©r√© d'essayer Linstor (peut-√™tre qu'il y travaille lui-m√™me), j'ai donc ajout√© une sec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©p√¥ts √† Kubernetes: OpenEBS vs Rook (Ceph) vs Rancher Longhorn vs StorageOS vs Robin vs Portworx vs Linstor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/464987/"><p><img src="https://habrastorage.org/webt/ai/pm/3-/aipm3-sdes01en4yy-lvcjss6w0.png"></p><br><p>  <strong>Mettre √† jour!</strong>  .  Dans les commentaires, l'un des lecteurs a sugg√©r√© d'essayer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Linstor</a> (peut-√™tre qu'il y travaille lui-m√™me), j'ai donc ajout√© une section sur cette solution.  J'ai √©galement √©crit un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article sur la fa√ßon de l'installer</a> , car le processus est tr√®s diff√©rent du reste. </p><br><p>  Pour √™tre honn√™te, j'ai abandonn√© et abandonn√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes</a> (au moins pour l'instant).  J'utiliserai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Heroku</a> .  Pourquoi?  √Ä cause du stockage!  Qui aurait pens√© que je jouerais plus avec le stockage qu'avec Kubernetes lui-m√™me.  J'utilise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hetzner Cloud</a> car il est peu co√ªteux et les performances sont bonnes, et depuis le tout d√©but j'ai d√©ploy√© des clusters √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rancher</a> .  Je n'ai pas essay√© les services g√©r√©s Kubernetes de Google / Amazon / Microsoft / DigitalOcean, etc., etc., parce que je voulais tout apprendre moi-m√™me.  Et je suis √©conomique. </p><a name="habracut"></a><br><p> Donc - oui, j'ai pass√© beaucoup de temps √† essayer de d√©cider quel stockage choisir lorsque j'envisageais une √©ventuelle pile sur Kubernetes.  Je pr√©f√®re les solutions open source, et pas seulement √† cause du prix, mais j'ai √©tudi√© quelques options payantes par curiosit√©, car elles ont des versions gratuites avec des restrictions.  J'ai not√© quelques chiffres des derniers tests lorsque je comparais diff√©rentes options, et ils pourraient int√©resser ceux qui √©tudient le stockage dans Kubernetes.  Jusqu'√† pr√©sent, j'ai personnellement dit au revoir √† Kubernetes.  Je veux √©galement mentionner <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le pilote CSI</a> , dans lequel vous pouvez pr√©parer directement les volumes Hetzner Cloud, mais je ne l'ai pas encore essay√©.  J'ai √©tudi√© le stockage d√©fini par logiciel dans le cloud car j'avais besoin d'une r√©plication et de la capacit√© de monter rapidement des volumes persistants sur n'importe quel n≈ìud, en particulier en cas de d√©faillance d'un n≈ìud et d'autres situations similaires.  Certaines solutions proposent des instantan√©s √† un moment donn√© et des sauvegardes hors site, ce qui est pratique. </p><br><p>  J'ai test√© 6-7 solutions de stockage: </p><br><h3 id="openebshttpsopenebsio">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Openbs</a> </h3><br><p>  Comme je l'ai dit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans un post pr√©c√©dent</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">apr√®s avoir</a> test√© la plupart des options de la liste, je me suis d'abord install√© sur OpenEBS.  OpenEBS est tr√®s facile √† installer et √† utiliser, mais pour √™tre honn√™te, apr√®s avoir test√© avec des donn√©es r√©elles sous charge, ses performances m'ont d√©√ßu.  Il s'agit d'une source ouverte et les d√©veloppeurs de leur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cha√Æne Slack ont</a> toujours beaucoup aid√© lorsque j'avais besoin d'aide.  Malheureusement, ses performances sont tr√®s faibles par rapport aux autres options, j'ai donc d√ª refaire les tests.  OpenEBS dispose d√©sormais de 3 moteurs de stockage, mais je publie les r√©sultats de r√©f√©rence pour cStor.  Jusqu'√† pr√©sent, je n'ai pas de num√©ros pour Jiva et LocalPV. </p><br><p>  En un mot, Jiva est un peu plus rapide et LocalPV est g√©n√©ralement plus rapide, pas pire que la r√©f√©rence du lecteur directement.  Le probl√®me avec LocalPV est que l'acc√®s au volume ne peut √™tre obtenu que sur le n≈ìud o√π il a √©t√© pr√©par√© et qu'il n'y a absolument aucune r√©plication.  J'ai eu quelques probl√®mes pour r√©cup√©rer la sauvegarde via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Velero</a> sur un nouveau cluster, car les noms de n≈ìuds √©taient diff√©rents.  Si nous parlons de sauvegardes, cStor a un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugin pour Velero</a> , avec lequel vous pouvez faire des sauvegardes hors site des instantan√©s √† la fois, ce qui est plus pratique que les sauvegardes au niveau du fichier avec Velero-Restic.  J'ai √©crit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plusieurs scripts</a> pour faciliter la gestion des sauvegardes et des restaurations avec ce plugin.  En g√©n√©ral, j'aime vraiment OpenEBS, mais ses performances ... </p><br><h3 id="rookhttpsrookio">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Roook</a> </h3><br><p>  Rook poss√®de √©galement du code open source, et il diff√®re des autres options de la liste en ce qu'il s'agit d'un orchestrateur de stockage qui effectue des t√¢ches complexes de gestion du stockage avec diff√©rents backends, tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ceph</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">EdgeFS</a> et autres, ce qui simplifie consid√©rablement le travail.  J'ai eu des probl√®mes avec EfgeFS lorsque je l'ai essay√© il y a quelques mois, j'ai donc test√© principalement avec Ceph.  Ceph propose non seulement un stockage par blocs, mais √©galement un stockage d'objets compatible avec S3 / Swift et le syst√®me de fichiers distribu√©.  Ce que j'aime chez Ceph, c'est la possibilit√© de distribuer des donn√©es de volume sur plusieurs disques afin que le volume puisse utiliser plus d'espace disque que ne peut en contenir un seul.  C'est pratique.  Une autre fonctionnalit√© int√©ressante est que lorsque vous ajoutez des disques √† un cluster, il redistribue automatiquement les donn√©es sur tous les disques. </p><br><p>  Il y a des instantan√©s dans Ceph, mais pour autant que je sache, ils ne peuvent pas √™tre utilis√©s directement dans Rook / Kubernetes.  Certes, je ne suis pas entr√© dans cela.  Mais hors site, il n'y a pas de sauvegardes, vous devez donc utiliser quelque chose avec Velero / Restic, mais il n'y a que des sauvegardes au niveau du fichier, pas des instantan√©s √† l'√©poque.  Mais dans Rook, j'ai vraiment aim√© le travail simple avec Ceph - il cache presque toutes les choses complexes et offre des outils pour communiquer directement avec Ceph pour le d√©pannage.  Malheureusement, dans le test de r√©sistance des volumes de Ceph, j'ai eu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce probl√®me</a> tout le temps, √† cause duquel Ceph est devenu instable.  Il n'est pas encore clair s'il s'agit d'un bogue dans Ceph lui-m√™me ou d'un probl√®me dans la fa√ßon dont Rook contr√¥le Ceph.  J'ai √©voqu√© les param√®tres de la m√©moire, et cela s'est am√©lior√©, mais le probl√®me n'a √©t√© r√©solu qu'√† la fin.  Ceph a de bonnes performances, comme vous pouvez le voir dans les benchmarks ci-dessous.  Il a √©galement un bon tableau de bord. </p><br><h3 id="rancher-longhornhttpsgithubcomlonghornlonghorn">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rancher longhorn</a> </h3><br><p>  J'aime vraiment Longhorn.  √Ä mon avis, c'est une solution prometteuse.  Certes, les d√©veloppeurs eux-m√™mes (Rancher Labs) reconnaissent qu'il ne convient pas √† l'environnement de travail, et cela peut √™tre vu.  Il a du code open source et de bonnes performances (bien qu'ils ne l'aient pas encore optimis√©), mais les volumes prennent tr√®s longtemps √† se connecter au foyer, et dans le pire des cas, cela prend 15 √† 16 minutes, surtout apr√®s la restauration d'une sauvegarde de grande taille ou la mise √† niveau de la charge de travail.  Il a des instantan√©s et des sauvegardes hors site de ces instantan√©s, mais ils ne s'appliquent qu'aux volumes, vous avez donc toujours besoin de quelque chose comme Velero pour sauvegarder d'autres ressources.  Les sauvegardes et la restauration sont tr√®s fiables, mais ind√©cemment lentes.  S√©rieusement, juste prohibitivement lent.  L'utilisation du processeur et le chargement du syst√®me augmentent souvent lorsque vous travaillez avec des donn√©es moyennes √† Longhorn.  Il y a un tableau de bord pratique pour contr√¥ler le Longhorn.  J'ai d√©j√† dit que j'aime Longhorn, mais il faut y travailler. </p><br><h3 id="storageoshttpsstorageoscom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">StorageOS</a> </h3><br><p>  StorageOS est le premier produit payant de la liste.  Il a une version pour les d√©veloppeurs avec un stockage g√©r√© limit√© √† 500 Go, mais le nombre de n≈ìuds, √† mon avis, n'est pas limit√©.  Le service des ventes m'a dit que le co√ªt commence √† 125 $ par mois pour 1 To, si je me souviens bien.  Il y a un tableau de bord de base et une CLI pratique, mais quelque chose d'√©trange se produit avec les performances: dans certains benchmarks, c'est assez d√©cent, mais je n'ai pas aim√© la vitesse du tout dans le test de stress des volumes.  En g√©n√©ral, je ne sais pas quoi dire.  Par cons√©quent, je n'ai pas particuli√®rement compris.  Il n'y a pas de sauvegardes hors site et vous devrez √©galement utiliser Velero avec Restic pour sauvegarder les volumes.  C'est √©trange, car le produit est pay√©.  Et les d√©veloppeurs n'√©taient pas d√©sireux de communiquer en Slack. </p><br><h3 id="robinhttpsrobinio">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Robin</a> </h3><br><p>  J'ai entendu parler de Robin sur Reddit par leur directeur technique.  Je n'avais jamais entendu parler de lui auparavant.  Peut-√™tre parce que je cherchais des solutions gratuites, et Robin a pay√©.  Ils ont une version gratuite assez g√©n√©reuse avec 10 To de stockage et trois n≈ìuds.  En g√©n√©ral, le produit est assez d√©cent et avec de belles fonctionnalit√©s.  Il y a une excellente CLI l√†-bas, mais ce qui est cool, c'est que vous pouvez cr√©er des instantan√©s et sauvegarder l'int√©gralit√© de l'application (dans le s√©lecteur de ressources, elle s'appelle Helm releases ou ¬´flex apps¬ª), y compris les volumes et autres ressources, vous pouvez donc vous passer de Velero.  Et tout serait merveilleux si ce n'√©tait pas pour un petit d√©tail: si vous restaurez (ou "importez", comme Robin l'appelle) une application sur un nouveau cluster - par exemple, en cas de r√©cup√©ration apr√®s un accident - la r√©cup√©ration, bien s√ªr, fonctionne, mais continuez √† sauvegarder l'application non autoris√©.  Dans cette version, ce n'est tout simplement pas possible, et les d√©veloppeurs l'ont confirm√©.  Pour le dire l√©g√®rement, c'est √©trange, surtout si l'on consid√®re les autres avantages (par exemple, les sauvegardes et la restauration incroyablement rapides).  Les d√©veloppeurs promettent de tout r√©parer pour la prochaine version.  Les performances sont g√©n√©ralement bonnes, mais j'ai remarqu√© une chose √©trange: si vous ex√©cutez le benchmark directement sur le volume connect√© √† l'h√¥te, la vitesse de lecture est beaucoup plus √©lev√©e que dans le m√™me volume, mais de l'int√©rieur.  Tous les autres r√©sultats sont identiques, mais en th√©orie, il ne devrait pas y avoir de diff√©rence.  Bien qu'ils y travaillent, j'√©tais contrari√© √† cause du probl√®me de r√©cup√©ration et de sauvegarde - il me semblait que j'avais finalement trouv√© une solution appropri√©e, et j'√©tais m√™me pr√™t √† payer pour cela quand j'avais besoin de plus d'espace ou de serveurs. </p><br><h3 id="portworxhttpsportworxcom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Portworx</a> </h3><br><p>  Je n'ai vraiment rien √† dire ici.  C'est un produit payant, tout aussi cool et cher.  La performance est un miracle.  Jusqu'√† pr√©sent, c'est le meilleur indicateur.  Slack m'a dit que le prix commence √† 205 $ par mois et par n≈ìud, comme indiqu√© sur Google GKE Marketplace.  Je ne sais pas si ce sera moins cher si vous achetez directement.  En tout cas, je ne peux pas me le permettre, j'ai donc √©t√© tr√®s, tr√®s d√©√ßu que la licence de d√©veloppeur (jusqu'√† 1 To et 3 n≈ìuds) soit pratiquement inutile avec Kubernetes, sauf si vous vous contentez d'une pr√©paration statique.  J'esp√©rais que la licence en volume tomberait automatiquement au niveau du d√©veloppeur √† la fin de la p√©riode d'essai, mais ce n'est pas le cas.  La licence de d√©veloppeur ne peut √™tre utilis√©e directement qu'avec Docker, et la configuration dans Kubernetes est tr√®s lourde et limit√©e.  Bien s√ªr, je pr√©f√®re l'open source, mais si j'avais de l'argent, je choisirais certainement Portworx.  Jusqu'√† pr√©sent, ses performances ne sont tout simplement pas comparables √† d'autres options. </p><br><h3 id="linstorhttpswwwlinbitcomenlinstor">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Linstor</a> </h3><br><p>  J'ai ajout√© cette section apr√®s la publication du message, lorsqu'un lecteur a sugg√©r√© d'essayer Linstor.  Je l'ai essay√© et je l'ai aim√©!  Mais il faut encore creuser.  Maintenant, je peux dire que les performances ne sont pas mauvaises (j'ai ajout√© les r√©sultats de r√©f√©rence ci-dessous).  En fait, j'ai obtenu les m√™mes performances que pour le lecteur directement, sans aucun frais g√©n√©raux.  (Ne demandez pas directement pourquoi Portworx a de meilleurs chiffres que la r√©f√©rence du lecteur. Je n'en ai aucune id√©e. Magic, probablement.) Donc, Linstor semble toujours tr√®s efficace.  L'installer n'est pas si difficile, mais pas aussi facile que les autres options.  J'ai d'abord d√ª installer Linstor (le module du noyau et les outils / services) et configurer LVM pour l'allocation dynamique et la prise en charge des instantan√©s en dehors de Kubernetes, directement sur l'h√¥te, puis cr√©er les ressources n√©cessaires pour utiliser le stockage de Kubernetes.  Je n'aimais pas que cela ne fonctionne pas sur CentOS et devait utiliser Ubuntu.  Pas effrayant, bien s√ªr, mais un peu ennuyeux, car la documentation (qui est d'ailleurs excellente) mentionne plusieurs packages qui ne peuvent pas √™tre trouv√©s dans les r√©f√©rentiels Epel sp√©cifi√©s.  Linstor a des instantan√©s, mais pas des sauvegardes hors site, donc l√† encore j'ai d√ª utiliser Velero avec Restic pour sauvegarder des volumes.  Je pr√©f√©rerais les instantan√©s plut√¥t que les sauvegardes au niveau des fichiers, mais cela peut √™tre tol√©r√© si la solution est productive et fiable.  Linstor a l'open source, mais il y a un support payant.  Si je comprends bien, il peut √™tre utilis√© sans restrictions, m√™me si vous n'avez pas d'accord de support, mais cela doit √™tre clarifi√©.  Je ne sais pas comment Linstor est test√© pour Kubernetes, mais le niveau de stockage lui-m√™me est en dehors de Kubernetes et, apparemment, la solution n'est pas apparue hier, donc elle a probablement d√©j√† √©t√© test√©e dans des conditions r√©elles.  Y a-t-il une solution ici qui me fera changer d'avis et retourner √† Kubernetes?  Je ne sais pas, je ne sais pas.  Il faut encore creuser plus profond√©ment, √©tudier la r√©plication.  Voyons voir.  Mais la premi√®re impression est bonne.  Je pr√©f√©rerais certainement utiliser mes propres clusters Kubernetes au lieu de Heroku pour gagner plus de libert√© et apprendre de nouvelles choses.  √âtant donn√© que Linstor n'est pas install√© aussi facilement que d'autres, j'√©crirai bient√¥t un article √† ce sujet. </p><br><h3 id="benchmarki">  Rep√®res </h3><br><p>  Malheureusement, j'ai gard√© quelques enregistrements de la comparaison, car je ne pensais pas que j'√©crirais √† ce sujet.  Je n'ai que les r√©sultats des tests de r√©f√©rence de la base fio, et uniquement pour les clusters √† n≈ìud unique, donc pour les configurations r√©pliqu√©es, je n'ai pas encore de chiffres.  Mais √† partir de ces r√©sultats, vous pouvez avoir une id√©e approximative de ce √† quoi vous attendre de chaque option, car je les ai compar√©s sur les m√™mes serveurs cloud, 4 c≈ìurs, 16 Go de RAM, avec un disque suppl√©mentaire de 100 Go pour les volumes test√©s.  J'ai ex√©cut√© les tests de performance trois fois pour chaque solution et calcul√© le r√©sultat moyen, puis r√©initialis√© les param√®tres du serveur pour chaque produit.  Tout cela n'est pas du tout scientifique, juste pour vous faire comprendre en termes g√©n√©raux.  Dans d'autres tests, j'ai copi√© 38 Go de photos et de vid√©os du volume et pour tester la lecture et l'√©criture, mais, h√©las, je n'ai pas enregistr√© les chiffres.  En bref: Portworkx √©tait beaucoup plus rapide. </p><br><p>  Pour la r√©f√©rence des volumes, j'ai utilis√© ce manifeste: </p><br><pre><code class="plaintext hljs">kind: PersistentVolumeClaim apiVersion: v1 metadata: name: dbench spec: storageClassName: ... accessModes: - ReadWriteOnce resources: requests: storage: 5Gi --- apiVersion: batch/v1 kind: Job metadata: name: dbench spec: template: spec: containers: - name: dbench image: sotoaster/dbench:latest imagePullPolicy: IfNotPresent env: - name: DBENCH_MOUNTPOINT value: /data - name: FIO_SIZE value: 1G volumeMounts: - name: dbench-pv mountPath: /data restartPolicy: Never volumes: - name: dbench-pv persistentVolumeClaim: claimName: dbench backoffLimit: 4</code> </pre> <br><p>  J'ai d'abord cr√©√© un volume avec la classe de stockage correspondante, puis j'ai commenc√© la t√¢che avec fio dans les coulisses.  J'ai pris 1 Go pour estimer les performances et ne pas attendre trop longtemps.  Voici les r√©sultats: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/nm/i_/4h/nmi_4holmvcqehuigcoespgeure.png"></a> </p><br><p>  J'ai mis en √©vidence la meilleure valeur pour chaque indicateur en vert et la pire en rouge. </p><br><h3 id="zaklyuchenie">  Conclusion </h3><br><p>  Comme vous pouvez le voir, dans la plupart des cas, Portworx a obtenu de meilleurs r√©sultats que les autres.  Mais pour moi, il est cher.  Je ne sais pas combien co√ªte Robin, mais il y a une excellente version gratuite, donc si vous avez besoin d'un produit payant, vous pouvez l'essayer (j'esp√®re qu'ils r√©gleront bient√¥t le probl√®me de la r√©cup√©ration et des sauvegardes).  Des trois gratuits, j'ai eu le moins de probl√®mes avec OpenEBS, mais ses performances ne sont pas au diable.  Dommage, je n'ai pas enregistr√© plus de r√©sultats, mais j'esp√®re que les chiffres donn√©s et mes commentaires vous aideront. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr464987/">https://habr.com/ru/post/fr464987/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr464973/index.html">√âcrivez votre chanson en 10 minutes (module textgenrnn Python3)</a></li>
<li><a href="../fr464975/index.html">Comment pr√©parer et r√©ussir l'examen ITIL 4 Foundation</a></li>
<li><a href="../fr464979/index.html">5 septembre, Saint-P√©tersbourg - Qaal communication</a></li>
<li><a href="../fr464981/index.html">Google fournit des arguments pour justifier le suivi des utilisateurs - l'entreprise est accus√©e de manque de sinc√©rit√© et de manipulation</a></li>
<li><a href="../fr464985/index.html">L'Internet des objets (IoT) va changer le monde. L'avenir de l'IoT</a></li>
<li><a href="../fr464989/index.html">Contexte de l'extravagance</a></li>
<li><a href="../fr464991/index.html">Des projets qui n'ont pas d√©coll√©</a></li>
<li><a href="../fr464993/index.html">Construire un package RPM pour Rosa Linux en pratique</a></li>
<li><a href="../fr464995/index.html">Envelopper des s√©quences dans Swift</a></li>
<li><a href="../fr464997/index.html">√Ä propos du d√©veloppement des technologies VR: o√π les utilisent-elles, pourquoi les entreprises VR et quels appareils utilisent</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>