<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµüèø ‚õ∑Ô∏è üîÖ Mitos e lendas dos construtores de SOC, ou 3 conceitos errados sobre os centros de monitoramento e resposta a ataques cibern√©ticos ‚úåüèæ üàØÔ∏è üöß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O V SOC Forum, o maior evento sobre a pr√°tica de detectar e analisar incidentes na R√∫ssia, come√ßar√° amanh√£. Estou certo de que muitos leitores deste h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mitos e lendas dos construtores de SOC, ou 3 conceitos errados sobre os centros de monitoramento e resposta a ataques cibern√©ticos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/476006/">  O V SOC Forum, o maior evento sobre a pr√°tica de detectar e analisar incidentes na R√∫ssia, come√ßar√° amanh√£.  Estou certo de que muitos leitores deste hub estar√£o l√° e ouvir√£o muitos relat√≥rios profissionais nesta √°rea de seguran√ßa da informa√ß√£o.  Mas, al√©m dos termos, defini√ß√µes e pr√°ticas estabelecidas, abordadas no F√≥rum do SOC, na vida real, cada um de voc√™s provavelmente ouviu muitas opini√µes diferentes sobre o funcionamento do SOC, prote√ß√£o contra ataques do APT, etc. Hoje, discutiremos v√°rios mitos e lendas populares. <br><br><img src="https://habrastorage.org/webt/gz/a_/z1/gza_z1b1mbuwotvl7wxho8rsgug.png"><br><br>  Estamos interessados ‚Äã‚Äãem sua opini√£o sobre cada um deles, por isso estamos aguardando seus coment√°rios.  Bem-vindo ao gato. <br><a name="habracut"></a><br><h2>  Mito 1 - SOC em uma string ou a m√°gica de analisar o tr√°fego de rede </h2><br>  Frequentemente, ao discutir com o cliente uma prote√ß√£o abrangente contra invasores externos, ouvimos: "E temos o hardware A, que √© enriquecido pela experi√™ncia e informa√ß√µes do fornecedor sobre novas amea√ßas e nos protege completamente contra ataques externos".  Tudo bem, se depois dessas palavras nos foi mostrada uma solu√ß√£o multi-m√≥dulo Anti-APT - haveria perguntas, mas haveria muito menos.  Na maioria das vezes, por tr√°s desse "dispositivo universal" existe um IDS comum, √†s vezes com funcionalidade b√°sica para analisar o tr√°fego https.  N√£o questionamos a experi√™ncia dos fornecedores no campo da seguran√ßa cibern√©tica e seus conhecimentos sobre hackers, bem como a utilidade de registrar e analisar o tr√°fego de rede (esse t√≥pico certamente ser√° levantado repetidamente no F√≥rum), mas, no entanto, queremos focar nas limita√ß√µes da abordagem, com cujo SOC se concentra apenas em eventos de rede. <br><br><ul><li>  Vamos come√ßar com a base e alguns j√° danificados.  Desde 2013, observamos ataques de hackers realizados sem o uso de malware e, pelo menos, sem um m√≥dulo para interagir com o servidor de gerenciamento.  Para os invasores, v√™m ferramentas leg√≠timas de administra√ß√£o remota (Remote Access Tools), que com o arquivo de configura√ß√£o correto se comportam de maneira indistingu√≠vel dos usu√°rios que gostam de trabalhar em casa, ou do trabalho de administradores remotos em empresas com baixo n√≠vel de maturidade em TI.  No n√≠vel dos eventos de rede, √© simplesmente imposs√≠vel distinguir uma sess√£o da outra e, para uma an√°lise completa do m√©todo e dos motivos para iniciar uma sess√£o, s√£o necess√°rias informa√ß√µes dos sistemas finais. </li><li>  Se a ideia de RAT √© repugnante para o invasor ou se n√£o √© aplic√°vel em um caso de ataque espec√≠fico, o protocolo https chega ao resgate como uma forma de intera√ß√£o.  Em uma c√≥pia do tr√°fego, a descriptografia do protocolo n√£o √© poss√≠vel; portanto, o sensor deve se contentar apenas com as informa√ß√µes sobre os cabe√ßalhos dos pacotes.  Isso √© √∫til apenas quando o centro de controle est√° em uma √°rea espec√≠fica e pode ser calculado por IP.  Mas, mais frequentemente, estamos falando de grandes servi√ßos de hospedagem ou servi√ßos p√∫blicos (escrevemos anteriormente sobre invas√£o de p√°ginas do Wordpress), o que n√£o nos permite identificar onde est√° a conex√£o leg√≠tima e onde est√° comprometida. </li><li> Por toda a sua utilidade, as conex√µes de rede (e geralmente falamos de um peda√ßo de ferro na √°rea de per√≠metro) registram apenas o relacionamento entre o centro de controle e a cadeia principal de clientes bot.  Freq√ºentemente, os atacantes atuais usam uma cadeia de servidores C&amp;C proxy (o primeiro n√≠vel de captura de infraestrutura) para se comunicar com clientes bot internos.  Nesse ponto, as restri√ß√µes na localiza√ß√£o do equipamento n√£o detectam completamente o ataque. </li><li>  Com toda a variedade de a√ß√µes de um invasor, ele periodicamente n√£o precisa vir da Internet.  √â poss√≠vel comprometer uma conta de acesso remoto e trabalhar com os direitos leg√≠timos de um administrador ou usu√°rio.  Cada vez mais, os grupos usam a metodologia da cadeia de suprimentos, iniciando um ataque invadindo um contratado, que geralmente possui um canal est√°tico e mal controlado para a infraestrutura e as mesmas contas privilegiadas.  H√° mais e mais vetores a cada ano, e est√£o cada vez mais longe dos rem√©dios cl√°ssicos. </li><li>  Em geral, o SOC n√£o se trata apenas de combater hackers.  Os invasores internos, a viola√ß√£o das pol√≠ticas de SI ou fraude, o upload ou o comprometimento de dados do cliente e muito mais tamb√©m fazem parte de uma abordagem abrangente do SOC.  E isso requer t√©cnicas e ferramentas muito mais complexas em seu trabalho. </li></ul><br><h2>  Mito 2 - SOC sem pernas ou Trabalho sem a primeira linha </h2><br>  Uma das nossas lendas favoritas.  Piadas sobre o SOC, onde apenas 1 pessoa trabalha, ele √© um pouco da 1¬™, uma pequena 2¬™ e uma pequena 3¬™ linha de suporte, j√° inundaram a Internet.  Mas muitos clientes, ouvindo v√°rios relat√≥rios diferentes e lendo artigos, come√ßam a falar sobre a necessidade de uma pe√ßa m√°gica de ferro / procedimento / tecnologia (sublinhe conforme necess√°rio) que automatizar√° e resolver√° todos os problemas da primeira linha.  E, como muitas vezes na cabe√ßa do cliente, a 1¬™ linha √© equivalente ao modo de opera√ß√£o 24 horas por dia, 7 dias por semana (todas as outras, como regra, funcionam de acordo com o cronograma padr√£o), isso cria automaticamente a sensa√ß√£o de uma redu√ß√£o significativa nos custos com pessoal e gera conversas na chave "A primeira linha n√£o necess√°rio, vamos come√ßar a construir imediatamente com o segundo ". <br><br>  O principal problema dessa lenda, em nossa opini√£o, √© a confus√£o na terminologia.  Freq√ºentemente, quando o palestrante fala sobre a 1¬™ linha, ele √© guiado pelas pr√°ticas da ITIL, onde tarefas at√¥micas realmente caem nas m√£os dos operadores: <br><br><ul><li>  recep√ß√£o de tarefas </li><li>  classifica√ß√£o </li><li>  adicionando contexto (ativo ou sistema de informa√ß√£o) </li><li>  prioriza√ß√£o ou prioriza√ß√£o </li><li>  nomea√ß√£o para a pessoa respons√°vel pelo sistema / exame / linha. </li></ul><br>  Quando se trata desse tipo de tarefa, √© claro, nenhuma primeira linha dedicada √© necess√°ria: esses processos, embora n√£o sejam f√°ceis, s√£o completamente automatizados.  O que queremos dizer com a primeira linha, j√° escrevemos v√°rias vezes - por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ).  Ainda assim, a primeira linha n√£o substitui a automa√ß√£o e nem mesmo uma equipe trabalhando exclusivamente em um manual.  Esses funcion√°rios s√£o curiosos e procuram, embora tenham apenas habilidades b√°sicas na an√°lise de eventos e na investiga√ß√£o de incidentes.  Em termos de ITIL, essa linha seria chamada 2nd, o que remove imediatamente todas as perguntas e discrep√¢ncias. <br><br>  Eu n√£o gostaria de ignorar as perguntas 24 * 7.  Sobre a organiza√ß√£o do turno, a efici√™ncia dos operadores e analistas √† noite, a cegueira psicol√≥gica ao visualizar eventos, muito foi dito.  As conclus√µes integrais s√£o aproximadamente as mesmas - a primeira linha SOC e um turno ininterrupto tornam-se ineficientes e desnecess√°rias.  Por nossa parte, por muitos anos, tamb√©m tentamos m√©todos diferentes e, no momento, o n√≠vel federal do SOC nos permite minimizar os riscos de fadiga especializada durante o turno da noite (um incidente cr√≠tico √© simplesmente enviado para um fuso hor√°rio diferente), no entanto, gostaria de observar alguns pontos. <br><br><ul><li>  Reduzir o tempo de turno para o operador √© uma √≥tima id√©ia.  √â praticamente imposs√≠vel trabalhar no princ√≠pio do dever de TI por um dia ou tr√™s em seguran√ßa da informa√ß√£o.  No entanto, manter o foco em incidentes √© muito importante ... </li><li>  MAS ... o operador da 1¬™ linha n√£o senta, como o operador do filme "The Matrix", olhando para o fluxo de eventos brutos em busca de anomalias.  Pelo menos em nenhum SOC conhecido por n√≥s encontramos essa abordagem.  Seu trabalho √© analisar relat√≥rios e buscas regulares ou elaborar cen√°rios para identificar incidentes.  Nesse modo de mudar a aten√ß√£o e os tipos de atividade (com o equil√≠brio certo de n√∫meros em jogo), os riscos de uma r√°pida cegueira psicol√≥gica nos parecem m√≠nimos. </li></ul><br>  E, para concluir - n√£o importa o qu√£o longe a automa√ß√£o tenha sido, √© habitual deixar um especialista que monitora a situa√ß√£o com m√°quinas e rob√¥s em qualquer local cr√≠tico de produ√ß√£o.  E se a sua bifurca√ß√£o, neste caso, √© "a automa√ß√£o pode me ajudar a n√£o alocar taxas de 5 a 6 para o turno de turno", nossa resposta √© inequ√≠voca: n√£o pode. <br><br><h2>  Mito 3 - SOC perfeito sem uma √∫nica interrup√ß√£o, ou Trabalhamos sem falsos positivos </h2><br>  Quanto mais voc√™ cria o SOC ou trabalha com um provedor MSSP / MDR, mais deseja o ideal.  Agora, muitos clientes passaram por tubos de inc√™ndio, √°gua e cobre nas primeiras abordagens independentes para o proj√©til ou pilotos / contratos com fornecedores externos e todos est√£o tentando, de alguma forma, buscar o ideal.  E o ideal aos olhos da pessoa respons√°vel pelo servi√ßo externo geralmente √© expresso pela frase "todo alerta √© um incidente confirmado" ou "n√£o estamos monitorando suspeitas - estamos registrando ataques".  E em termos de aspectos-chave da efici√™ncia, √© dif√≠cil argumentar com essa afirma√ß√£o.  Mas, como sempre, o diabo est√° nos detalhes. <br><br>  A maioria dos SOCs visa a uma an√°lise eficiente e profunda do incidente poss√≠vel em todas as informa√ß√µes dispon√≠veis.  E eles est√£o cada vez mais se aproximando da perfei√ß√£o, quando t√™m a oportunidade de receber registros de <s>conchas</s> para ela.  Vamos examinar um exemplo de um incidente sobre os fatos da opera√ß√£o de indicadores de rede de software antiv√≠rus (o endere√ßo de comunica√ß√£o com o centro de controle) - para identific√°-los, voc√™ s√≥ precisa de algumas informa√ß√µes sobre os fluxos de rede da Internet, por exemplo, logs de firewall, mas eles geralmente d√£o um resultado falso.  √â suficiente para o invasor ocultar seu servidor de gerenciamento de malware na hospedagem e encontraremos automaticamente um grande n√∫mero de falsos positivos.  Para filtrar e analisar efetivamente o incidente, √© necess√°rio localizar a atividade no host inicial (processos acionados, soquetes abertos etc.).  E isso nos leva √† necessidade de conectar eventos de todos os hosts da rede. <br><br>  Total: para que o SOC chegue perto da possibilidade de identificar ataques exclusivamente, sem falsos positivos, precisamos garantir a cobertura m√°xima de monitoramento da infraestrutura - idealmente, para coletar TODOS os logs de TODOS os objetos. <br><br>  Isso nos leva a v√°rios problemas ao mesmo tempo. <br><br><ol><li>  A oposi√ß√£o real dos departamentos de TI √† eleva√ß√£o do n√≠vel de auditoria ou √† instala√ß√£o de sistemas adicionais para coleta (para evitar o mal, nem tocaremos no t√≥pico de conectar segmentos e tecn√≥logos do ACS).  Testes de compatibilidade, um aumento imprevis√≠vel da carga nos sistemas e outros fatores que podem afetar a disponibilidade geral da infraestrutura s√£o o gatilho para a pr√≥xima rodada da guerra entre TI e seguran√ßa da informa√ß√£o.  E na maioria das vezes eles apenas deixam grandes manchas brancas no mapa de monitoramento de infraestrutura do SOC. </li><li>  Manuten√ß√£o da cobertura completa.  N√£o √© poss√≠vel coletar todos os logs de todos os servidores.  Por exemplo, em novos sistemas, os logs podem simplesmente n√£o ser inclu√≠dos.  Frequentemente, no processo de altera√ß√£o de servidores, as configura√ß√µes de auditoria nas esta√ß√µes de trabalho e as restri√ß√µes de acesso s√£o parcial ou completamente perdidas.  Al√©m disso, as configura√ß√µes devem ser atualizadas √† medida que novos vetores de ataque aparecem.  Tudo isso cria custos operacionais para fornecer cobertura total, significativamente mais alto do que os riscos de uma revis√£o incompleta pelo monitoramento e certamente mais alto do que os custos de uma poss√≠vel resposta falsa positiva. </li><li>  O terceiro problema nos leva ao antigo jogo DOOM.  Porque, entre outras coisas, a cobertura completa exige a inser√ß√£o de c√≥digos. <br><br>  a.  IDKFA - muni√ß√£o completa na forma de infinitas capacidades de servidor para coletar e armazenar eventos e, o que √© muito mais triste do ponto de vista econ√¥mico, - licen√ßas infinitas para SIEM e outras ferramentas SOC. <br><br>  b.  O IDDQD √© uma equipe SOC imensa e imortal que, em cada incidente, ser√° capaz de analisar todos os seus recursos √≥bvios e indiretos. </li></ol><br>  A coincid√™ncia de tais fatores, tarefas e a quantidade de or√ßamentos para seguran√ßa da informa√ß√£o √© considerada o caso de uma reuni√£o de um elefante verde e, portanto, n√£o √© considerada uma situa√ß√£o t√≠pica na vida do SOC.  Portanto, identificar apenas ataques confirmados (com todo o desejo de analisar o mais profundamente poss√≠vel com ferramentas autom√°ticas) √© um sonho fant√°stico dos guardas de seguran√ßa modernos. <br><br><h2>  Em vez de um posf√°cio </h2><br>  Tentamos discutir apenas os mitos mais comuns da ind√∫stria de constru√ß√£o de SOC.  Portanto, em remansos complexos de processos de inicializa√ß√£o para monitorar e responder a incidentes, recomendamos que voc√™ seja c√©tico quanto √†s informa√ß√µes recebidas, verifique-as em diferentes fontes e maximize o medo de <s>falsificar</s> julgamentos n√£o confirmados. <br><br>  E que a For√ßa esteja com voc√™;). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt476006/">https://habr.com/ru/post/pt476006/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt475996/index.html">Adicionando Quartz √† Inicializa√ß√£o Spring</a></li>
<li><a href="../pt475998/index.html">Aplica√ß√£o do RPA em c√°lculos cient√≠ficos e de engenharia</a></li>
<li><a href="../pt476000/index.html">Atualiza√ß√µes do ML.NET Model Builder</a></li>
<li><a href="../pt476002/index.html">Experi√™ncia em encontrar uma posi√ß√£o de estudante de doutorado na Alemanha</a></li>
<li><a href="../pt476004/index.html">Gerente de projetos - mito ou realidade? Ou por que √© necess√°rio no campo dos efeitos visuais?</a></li>
<li><a href="../pt476008/index.html">MOSDROID Meetup: Conecte-se √† transmiss√£o</a></li>
<li><a href="../pt476018/index.html">Como funciona o Flutter</a></li>
<li><a href="../pt476022/index.html">Vue Storefront: aumentando o back-end</a></li>
<li><a href="../pt476024/index.html">Melhor arquitetura para MVP: mon√≥lito, SOA, microsservi√ßos ou sem servidor? .. Parte 1</a></li>
<li><a href="../pt476026/index.html">Cool Hacks de vida para trabalhar com WSL (Windows Subsystem for Linux)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>