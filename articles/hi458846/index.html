<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯеЗ ЁЯЪп ЁЯНЮ рдПрдХрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдФрд░ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдорд░ рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред рдПрдХ рдФрд░ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ ЁЯН║ ЁЯСиЁЯП╜тАНЁЯМ╛ ЁЯШЭ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░! 


 рдПрдХ рдФрд░ рд▓реЗрдЦ рдЖрдкрдХреЛ рдХрдЯ рдХреЗ рддрд╣рдд рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд░рд╣рд╛ рд╣реИ, рдЬреЛ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдПрдЧрд╛ рдХрд┐ рдореИрдВрдиреЗ 2 рдбреА рдЧреЗрдо рдХреЗ рд▓рд┐рдП рд▓реЗрд╡рд▓ рдбрд┐рдЬрд╝рд╛рдЗрди рдкреИрдЯрд░реНрди рдирд╛рдордХ рд╣реИрдм рдкрд░ рд▓реЗрдЦ рдХреЗ рдЕ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдФрд░ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдорд░ рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред рдПрдХ рдФрд░ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458846/"><p>  рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░! </p><br><p>  рдПрдХ рдФрд░ рд▓реЗрдЦ рдЖрдкрдХреЛ рдХрдЯ рдХреЗ рддрд╣рдд рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд░рд╣рд╛ рд╣реИ, рдЬреЛ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдПрдЧрд╛ рдХрд┐ рдореИрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">2 рдбреА рдЧреЗрдо рдХреЗ рд▓рд┐рдП рд▓реЗрд╡рд▓ рдбрд┐рдЬрд╝рд╛рдЗрди рдкреИрдЯрд░реНрди</a> рдирд╛рдордХ рд╣реИрдм рдкрд░ рд▓реЗрдЦ рдХреЗ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЦреБрдж рдХреЛ рдЧреЗрдо рдХреЗ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХрд╛ рд▓рдХреНрд╖реНрдп рдХреИрд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ред </p><br><p>  рд▓реЗрдЦ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдкрд╛рда (рдирд┐рдпрдорд┐рдд рдФрд░ рд╕реНрд░реЛрдд рджреЛрдиреЛрдВ) рдФрд░ рдХрдИ рдЪрд┐рддреНрд░ рд╣реИрдВред </p><a name="habracut"></a><br><p>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдореИрдВ рдЕрдкрдирд╛ рдкрд╣рд▓рд╛ рд▓реЗрдЦ рд╢реБрд░реВ рдХрд░реВрдВ, рдЖрдЗрдП рдЖрдкрдХреЛ рдЬрд╛рдирддреЗ рд╣реИрдВред  рдореЗрд░рд╛ рдирд╛рдо рдбреЗрдирд┐рд╕ рд╣реИред  рдореИрдВ 7 рд╕рд╛рд▓ рдХреЗ рдХреБрд▓ рдЕрдиреБрднрд╡ рдХреЗ рд╕рд╛рде рд╕рд┐рд╕реНрдЯрдо рдПрдбрдорд┐рдирд┐рд╕реНрдЯреНрд░реЗрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдВред  рдЖрдкрдХреЗ рд▓рд┐рдП рдпрд╣ рдмрддрд╛рдирд╛ рдореЗрд░реЗ рд▓рд┐рдП рдирд╣реАрдВ рд╣реИ рдХрд┐ рдПрдХ рд╕рд┐рд╕реНрдЯрдо рдПрдбрдорд┐рдирд┐рд╕реНрдЯреНрд░реЗрдЯрд░ рдПрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЖрдИрдЯреА рддрдХрдиреАрд╢рд┐рдпрди рд╣реИ, рдЬреЛ рдПрдХ рдмрд╛рд░ рд▓рдЧрди рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдПрдХ рдореЙрдиреАрдЯрд░ рдкрд░ рд╡рд┐рднрд┐рдиреНрди рд╡рд░реНрдгреЛрдВ рдХреА рдлрд╝реНрд▓рд┐рдХрд░рд┐рдВрдЧ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИред  рд╕рдордп рдХреЗ рд╕рд╛рде, рдореИрдВ рдЗрд╕ рдирд┐рд╖реНрдХрд░реНрд╖ рдкрд░ рдкрд╣реБрдВрдЪрд╛ рдХрд┐ рдЬреНрдЮрд╛рди рдХреА рд╕реАрдорд╛рдУрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдФрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рдерд╛ред  рд╡рд┐рд╡рд░рдг рдореЗрдВ рдЬрд╛рдиреЗ рдХреЗ рдмрд┐рдирд╛, рдореИрдВрдиреЗ рд╕реА ++ рдФрд░ рдкрд╛рдпрдерди рдореЗрдВ рдХреЛрдИ рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреАред  рд▓реЗрдХрд┐рди рдПрдХ рд╕рд╛рд▓ рдХреЗ рдЕрдзреНрдпрдпрди рдХреЗ рдмрд╛рдж, рдореИрдВ рдЗрд╕ рдирд┐рд╖реНрдХрд░реНрд╖ рдкрд░ рдкрд╣реБрдВрдЪрд╛ рдХрд┐ рдореЗрд░рд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдФрд░ рд╕рд┐рд╕реНрдЯрдо рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдореЗрд░рд╛ рдирд╣реАрдВ рд╣реИред  рд╡рд┐рднрд┐рдиреНрди рдХрд╛рд░рдгреЛрдВ рд╕реЗред </p><br><p>  рдЧрд╣рд░рд╛рдИ рд╕реЗ рд╕реЛрдЪрдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдЦреБрдж рд╕реЗ рд╕рд╡рд╛рд▓ рдкреВрдЫрд╛: рдореИрдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд░рдирд╛ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реВрдВ?  рдореЗрд░реЗ рд▓рд┐рдП рдореЗрд░реЗ рд╕рд╡рд╛рд▓ рдиреЗ рдореБрдЭреЗ рдмрдЪрдкрди рдореЗрдВ рджреВрд░ рддрдХ рдлреЗрдВрдХ рджрд┐рдпрд╛, рдЕрд░реНрдерд╛рддреН рдкреАрдПрд╕ 1, рдкреАрдПрд╕ 2, рдкреАрд╕реА рдХреЗ рд▓рд┐рдП рд░реЗрд▓рд░реЛрдЬ рдЯрд╛рдЗрдХреВрди 3 рдХреЗ рд▓рд┐рдП рдмрд┐рддрд╛рдП рд╕реБрдЦрдж рдШрдВрдЯреЛрдВ рдореЗрдВ ... рдареАрдХ рд╣реИ, рдЖрдк рд╕рдордЭрддреЗ рд╣реИрдВред  рд╡реАрдбрд┐рдпреЛ рдЧреЗрдо! </p><br><p>  рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рд╢рд┐рдХреНрд╖рдг рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реЗ, рд╡рд┐рдХрд▓реНрдк рдпреВрдирд┐рдЯреА рдкрд░ рдЧрд┐рд░ рдЧрдпрд╛ (рдкрд╣рд┐рдпрд╛ рдХреЛ рд╕реБрджреГрдврд╝ рдирд╣реАрдВ рдХрд░рддреЗ?)ред  рд╡рд┐рднрд┐рдиреНрди рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХреЛ рдкрдврд╝рдиреЗ рдФрд░ рджреЗрдЦрдиреЗ рдХреЗ рдПрдХ рдорд╣реАрдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ рдмрдЪреНрдЪреЛрдВ рдХреЗ рдЦреЗрд▓ рдХреЛ рдкреНрд▓реЗ рдорд╛рд░реНрдХреЗрдЯ рдореЗрдВ рдЬрд╛рд░реА рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред  рдмреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд░ рдХреЛ рджреВрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдЖрдЦрд┐рд░, рдкреНрд▓реЗ рдорд╛рд░реНрдХреЗрдЯ рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд░рд┐рд▓реАрдЬ рдХрд░рдирд╛ рдбрд░рд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИ, рд╣реИ рдирд╛? </p><br><p>  рдХреБрдЫ рдорд╣реАрдиреЛрдВ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдорд░ рдХреЛ рд░рд┐рд▓реАрдЬрд╝ рдХрд░ рджрд┐рдпрд╛ред  рддрдм рдПрдХ рд╡рд┐рд░рд╛рдо рдерд╛ (рдЖрдЦрд┐рд░рдХрд╛рд░, рдХрд╛рдо рдкрд░ рдХрд╛рдо рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЖрдЦрд┐рд░рдХрд╛рд░)ред </p><br><p>  рд▓рдЧрднрдЧ рджреЛ рд╣рдлреНрддреЗ рдкрд╣рд▓реЗ, рдореИрдВрдиреЗ 2 рдбреА рдЧреЗрдо ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://habr.com/en/post/456152/</a> ) рдХреЗ рд▓рд┐рдП рд╕реНрддрд░ рдбрд┐рдЬрд╝рд╛рдЗрди рдкреИрдЯрд░реНрди рдирд╛рдордХ рдПрдХ рд╣рдм рдкрд░ рд▓реЗрдЦ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рджреЗрдЦрд╛ рдФрд░ рдЦреБрдж рд╕реЗ рд╕реЛрдЪрд╛ - рдХреНрдпреЛрдВ рдирд╣реАрдВ?  рд▓реЗрдЦ рдореЗрдВ рдПрдХ рд╕рд░рд▓ рдФрд░ рд╕реНрдкрд╖реНрдЯ рддрд╛рд▓рд┐рдХрд╛ рд╣реИ рдХрд┐ рдЦреЗрд▓ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реЛред  рдореИрдВрдиреЗ рдХреГрдкрдпрд╛ OneNote рдореЗрдВ рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рдЦреБрдж рдХреЛ рдХреЙрдкреА рдХрд┐рдпрд╛ рдФрд░ рдЯреИрдЧ рдХреЗ рдорд╛рдорд▓реЛрдВ (рдЬрд┐рд╕реЗ рдкреВрд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ) рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпреЗрдХ рдкреИрдЯрд░реНрди рдХреЛ рдЪрд┐рд╣реНрдирд┐рдд рдХрд┐рдпрд╛ред </p><br><p>  рдореИрдВ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд░реВрдк рдореЗрдВ рдХреНрдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ?  рдЖрдкрдХреА рдЖрд▓реЛрдЪрдирд╛ред  рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВ рдЦреБрдж рд╕реЗ рдХрд╣рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ - рдпрджрд┐ рдЖрдк рд╕реАрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ рддреИрд░рдирд╛ рд╣реИ, рддреЛ рдЕрдкрдиреЗ рд╕рд┐рд░ рдХреЗ рд╕рд╛рде рдЧреЛрддрд╛ рд▓рдЧрд╛рдПрдБред  рдЕрдЧрд░ рдЖрдкрдХреЛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдореИрдВрдиреЗ рдХреБрдЫ рдЕрдЪреНрдЫрд╛ рдХрд┐рдпрд╛ рд╣реИ - рддреЛ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдореБрдЭреЗ рдХрдореЗрдВрдЯ рдореЗрдВ рд▓рд┐рдЦреЗрдВред  рдЕрдЧрд░ рдЖрдкрдХреЛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдореИрдВрдиреЗ рдХреБрдЫ рдмреБрд░рд╛ рдХрд┐рдпрд╛ рд╣реИ - рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рджреЛрдЧреБрдирд╛ рд▓рд┐рдЦреЗрдВред </p><br><p>  рдореИрдВ рдПрдХ рдФрд░ platformer рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рд▓рдВрдмреЗ рдХрд╛рд░реНрдпрдХреНрд░рдо рд╢реБрд░реВ рдХрд░ рджреЗрдВрдЧреЗред </p><br><h3>  рдЕрд╡рддрд╛рд░ </h3><br><p>  <em>рдПрдХ рдЦреЗрд▓ рдХреЗ рднреАрддрд░ рдЦрд┐рд▓рд╛рдбрд╝рд┐рдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдЗрдХрд╛рдИред</em>  <em>рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕реБрдкрд░ рдорд╛рд░рд┐рдпреЛ рдмреНрд░рджрд░реНрд╕ (рдирд┐рдВрдЯреЗрдВрдбреЛ, 1985) рдореЗрдВ рдорд╛рд░рд┐рдпреЛ рдФрд░ рд▓реБрдЗрдЧреАред</em> </p><br><p>  рдХрдИ рдЙрдкрдХрдерд╛рдПрдВ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдирд╛рдпрдХ рдЬреАрд╡рди рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЕрд░реНрдерд╛рддреН: </p><br><pre><code class="plaintext hljs">тАв   ( ) тАв      тАв      тАв       тАв       </code> </pre> <br><p>  рдПрдиреАрдореЗрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдПрдХрд▓ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЛ рдорд▓реНрдЯреА рд╕реНрдкреНрд░рд╛рдЗрдЯ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд░реВрдк рд╕реЗ рдмрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЗрд╕реЗ рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рдпреВрдирд┐рдЯреА рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рдореЗрдВ рдвреВрдВрдвреЗрдВред  рдлрд┐рд░, рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рд╡рд┐рдВрдбреЛ рдореЗрдВ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдкрд░, <strong>рд╕рд┐рдВрдЧрд▓</strong> рд╕реЗ <strong>рдорд▓реНрдЯреАрдкрд▓</strong> рдореЗрдВ <strong>SptiteMode</strong> рдкреНрд░реЙрдкрд░реНрдЯреА рдХреА рд╡реИрд▓реНрдпреВ рдмрджрд▓ рдЬрд╛рддреА рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/xx/ot/ny/xxotnyobz6-0kunbcizdwwk-4zu.png" alt="рдЫрд╡рд┐"></p><br><p>  <strong>Apply рдкрд░</strong> рдХреНрд▓рд┐рдХ <strong>рдХрд░реЗрдВ</strong> , рдлрд┐рд░ <strong>SpriteEditor</strong> ред </p><br><p>  <strong>рд╕реНрдкреНрд░рд╛рдЗрдЯ рдПрдбрд┐рдЯрд░</strong> рд╡рд┐рдВрдбреЛ рдХреЗ рдЕрдВрджрд░, рдЖрдкрдХреЛ рдорд╛рдЙрд╕ рдХреЗ рд╕рд╛рде рднрд╡рд┐рд╖реНрдп рдХреЗ рдПрдиреАрдореЗрд╢рди рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдлреНрд░реЗрдо рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреИрд╕рд╛ рдХрд┐ рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЪрд┐рддреНрд░ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХрддрд╛ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЗ рднреАрддрд░ рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реАрдорд╛рдУрдВ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред  <strong>рд╕реНрдкреНрд░рд╛рдЗрдЯ рдПрдбрд┐рдЯрд░</strong> рд╡рд┐рдВрдбреЛ рдореЗрдВ, рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <strong>рд╕реНрд▓рд╛рдЗрд╕</strong> рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдбреНрд░реЙрдк-рдбрд╛рдЙрди рдореЗрдиреВ рдореЗрдВ рдЖрдкрдХреЗ рдкрд╛рд╕ <strong>рдЯрд╛рдЗрдк =&gt; рд╕реНрд╡рдЪрд╛рд▓рд┐рдд, рдзреБрд░реА =&gt; рдХреЗрдВрджреНрд░</strong> рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЖрдкрдХреЛ рдмрд╕ <strong>рд╕реНрд▓рд╛рдЗрд╕</strong> рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдирд╛ рд╣реИред  рдЙрд╕рдХреЗ рдмрд╛рдж, рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЗ рдЕрдВрджрд░ рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЪреБрдирд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><img src="https://habrastorage.org/webt/bf/tb/kv/bftbkvncerh-ybaf6_nlgaxprdg.png"><br><p>  рдЗрд╕ рдСрдкрд░реЗрд╢рди рдХреЛ рдЕрдиреНрдп рд╕рднреА рдПрдирд┐рдореЗрд╢рди рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВред  рдЕрдЧрд▓рд╛, рдЖрдкрдХреЛ рдПрдиреАрдореЗрд╢рди рд░рд╛рдЬреНрдпреЛрдВ рдФрд░ рдЙрдирдХреЗ рд╕реНрд╡рд┐рдЪрд┐рдВрдЧ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдпрд╣ рджреЛ рдЪрд░рдгреЛрдВ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдкрд╣рд▓рд╛ рдПрдХреНрд╢рди, рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛрдбред <br>  рдПрдХ рдЦрд╛рд▓реА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <strong>рдкрджрд╛рдиреБрдХреНрд░рдо</strong> рдЯреИрдм рдореЗрдВ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдбреНрд░реЙрдк-рдбрд╛рдЙрди рдореЗрдиреВ рд╕реЗ <strong>Create Empty</strong> рдЪреБрдиреЗрдВред </p><br><img src="https://habrastorage.org/webt/l1/zb/ap/l1zbap5u09_kzb1mllj1tqwizgw.png"><br><p>  рдПрдХ рдЦрд╛рд▓реА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ, рдЬрд┐рд╕реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕реНрдЯреЗрдЬ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдХреЗрд╡рд▓ рдПрдХ рдШрдЯрдХ рд╣реИ - <strong>рдЯреНрд░рд╛рдВрд╕рдлрд╝реЙрд░реНрдо</strong> ред  рдпрд╣ рдШрдЯрдХ рдордВрдЪ рдкрд░ рд╡рд╕реНрддреБ рдХреА рд╕реНрдерд┐рддрд┐, рдЭреБрдХрд╛рд╡ рдХреЗ рдХреЛрдг рдФрд░ рдЗрд╕рдХреЗ рдкреИрдорд╛рдиреЗ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдЖрдк рд╢рдмреНрдж <strong>рдкрд░рд┐рд╡рд░реНрддрди</strong> рдХреЛ рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЕрд░реНрдереЛрдВ рдореЗрдВ рдкреВрд░рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><blockquote><ul><li>  <strong>рдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдо</strong> рдПрдХ рд╡рд░реНрдЧ рд╣реИред  рдЪреВрдВрдХрд┐ рдпрд╣ рдПрдХ рд╡рд░реНрдЧ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдо рдПрдХ <strong>рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</strong> рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд┐рд╕ рджрд┐рд╢рд╛ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рдХреНрдпрд╛ рдЖрдпрд╛рдо рд╣реЛрдВрдЧреЗред </li><li>  <strong>рдкрд░рд┐рд╡рд░реНрддрди</strong> рдПрдХ рд╡рд░реНрдЧ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИред  рдпрд╣реА рд╣реИ, <strong>рдЖрдк рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ</strong> рдФрд░ рджреГрд╢реНрдп рдкрд░ рдЗрд╕рдХреА рд╕реНрдерд┐рддрд┐ рдпрд╛ рдкреИрдорд╛рдиреЗ рдХреЛ рдмрджрд▓ <strong>рд╕рдХрддреЗ рд╣реИрдВ</strong> ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреЛрдб рдореЗрдВ рдЖрдЧреЗ рдПрдХ рдкрдВрдХреНрддрд┐ рд╣реЛрдЧреА: <br><pre> <code class="cs hljs">transform.position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2 (transform.position.x + dirX, transform.position.y + dirY);.</code> </pre> <br><br>  рдпрд╣ рд▓рд╛рдЗрди рдордВрдЪ рдкрд░ рд▓реБрдХрд╛рд╕ рдХреЗ рдЖрдВрджреЛрд▓рди рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрдЧреАред </li></ul><br></blockquote><p>  рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рдШрдЯрдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╡рд╕реНрддреБ рдирд┐рд░реАрдХреНрд╖рдХ рдХреЗ рдЯреИрдм рдореЗрдВ <strong>рдШрдЯрдХ рдЬреЛрдбрд╝реЗрдВ</strong> рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  рдЕрдЧрд▓рд╛, рдорд╛рдирдХ рдШрдЯрдХреЛрдВ рдХреЗ рдмреАрдЪ рдПрдХ рдЦреЛрдЬ рдмреЙрдХреНрд╕ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИред  рдпрд╣ рднрд╡рд┐рд╖реНрдп рдХреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ (рдпрд╛ рдкрд╣рд▓реЗ рд╕реЗ рд▓рд╛рдЧреВ рдШрдЯрдХ) рдХрд╛ рдирд╛рдо рд▓рд┐рдЦрдирд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ, рдЕрдЧрд░ рдХреЛрдИ рдЙрдкрдпреБрдХреНрдд рдирд╛рдо рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдПрдХрддрд╛ рдЖрдкрдХреЛ рдПрдХ рдирдпрд╛ рдШрдЯрдХ рдмрдирд╛рдиреЗ рдХреА рдкреЗрд╢рдХрд╢ рдХрд░реЗрдЧреАред  рдореИрдВрдиреЗ рдЗрд╕ рдШрдЯрдХ рдХреЛ <strong>HeroScript.cs</strong> рдХрд╣рд╛ рд╣реИред </p><br><img src="https://habrastorage.org/webt/fi/hf/gn/fihfgnpyl-ndmnx23l8mbotdh4a.png"><br><p>  рдкрд╣рд▓реЗ, рд╣рдо рдЙрди рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рд▓реБрдХрд╛рд╕ рдХреЗ рджреГрд╢реНрдп рдФрд░ рднреМрддрд┐рдХ рдШрдЯрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВрдЧреЗ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Animator animator; <span class="hljs-comment"><span class="hljs-comment">//      . private Rigidbody2D rb2d; //rb    </span></span></code> </pre> </div></div><br><p>  рдЕрдЧрд▓рд╛, рдХреНрд╖реЗрддреНрд░ рдЬреЛ рдЪрд░рд┐рддреНрд░ рдХреЗ рдЖрдВрджреЛрд▓рди рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдЧрд╛: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> Vector3 localScale; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> facingRight = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dirX, dirY; <span class="hljs-comment"><span class="hljs-comment">//    [Range(1f, 20f)] [SerializeField] private float moveSpeed; //    private SpriteRenderer sprite; //   SpriteRenderer /*   ,     */</span></span></code> </pre> </div></div><br><p>  рдПрдХ рд╢реБрд░реБрдЖрдд рдХреА рдЧрдИ рд╣реИ, рдЙрддреНрдХреГрд╖реНрдЯред  рдЗрд╕рдХреЗ рдмрд╛рдж, рдПрдХ рдЧрдгрдирд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдПрдХ рд╕рдВрдкрддреНрддрд┐ рд▓рд┐рдЦреА рдЬрд╛рдПрдЧреА рдЬреЛ рдПрдиреАрдореЗрд╢рди рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрдЧреАред  рдпрд╣ рдЧрдгрдирд╛ рдХрдХреНрд╖рд╛ рдХреЗ рдмрд╛рд╣рд░ рд▓рд┐рдЦреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/* *      . *         *    . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> CharState { idle, <span class="hljs-comment"><span class="hljs-comment">//   0 Run, //   1 Walk, //   2 Die //   3 }</span></span></code> </pre> </div></div><br><p>  рд╣рдо рдПрдХ рдРрд╕реА рд╕рдВрдкрддреНрддрд┐ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдПрдХ рдирдпрд╛ рдПрдиреАрдореЗрд╢рди рд░рд╛рдЬреНрдп рдкреНрд░рд╛рдкреНрдд рдФрд░ рд╕реЗрдЯ рдХрд░реЗрдЧреА: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> CharState State { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> {<span class="hljs-comment"><span class="hljs-comment">//    CharState    animator       int return (CharState)animator.GetInteger("State"); } set { //    animator     int    State       ,      int. animator.SetInteger("State", (int)value); } }</span></span></code> </pre> </div></div><br><p>  рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рднрд╛рдЧ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдпрд╛ рд╣реИред  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдПрдиреНрдпреВрдорд░реЗрд╢рди рдФрд░ рдПрдХ рд╕рдВрдкрддреНрддрд┐ рд╣реИ рдЬреЛ рдПрдиреАрдореЗрд╢рди рд╕реНрд╡рд┐рдЪрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реА рд╣реЛрдЧреАред  рдЕрдЧрд▓рд╛, рджреВрд╕рд░рд╛ рдЪрд░рдгред  рдПрдХрддрд╛ рд╕рдВрдкрд╛рджрдХ рдореЗрдВ, рдЖрдкрдХреЛ рдПрдиреАрдореЗрд╢рди рд░рд╛рдЬреНрдп рдХреЛ рдмрд╛рдВрдзрдиреЗ рдФрд░ рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХрд┐рд╕ рдЕрдВрддрд░ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рдмрдирд╛рдП рдЧрдП рдорд▓реНрдЯреА рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЛ рдПрдХ рдЦрд╛рд▓реА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред  рдЖрдкрдХреЛ рдмрд╕ рдпреВрдирд┐рдЯреА рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рдореЗрдВ рдлрд╝реНрд░реЗрдореЛрдВ рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдПрдХ рдЦрд╛рд▓реА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдкрд░ рдЦреАрдВрдЪрдирд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдареАрдХ рдХрд┐рдпрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/zx/md/y8/zxmdy88fwc5gglpbjz3bkj0rjfq.png" alt="рдЫрд╡рд┐"></p><br><p>  рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдж рдХреЗ рдПрдиреАрдореЗрд╢рди рдХреЗ рд╕рд╛рде рдРрд╕рд╛ рдХрд░реЗрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдирд┐рдореЗрд╢рди рдореЗрдВ рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рдореЗрдВ рдЖрдкрдХреЛ рдмреНрд▓реЙрдХ рдЖрд░реЗрдЦ рдФрд░ <strong>рдкреНрд▓реЗ</strong> рдмрдЯрди рдХреЗ рд╕рд╛рде рдПрдХ рд╡рд╕реНрддреБ рдХрд╛ рд░реВрдк рдорд┐рд▓реЗрдЧрд╛ред  рдЗрд╕ рдкрд░ рдбрдмрд▓ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рд╕реЗ <strong>рдПрдирд┐рдореЗрдЯрд░</strong> рдЯреИрдм рдЦреБрд▓ рдЬрд╛рдПрдЧрд╛ред  рдЕрдВрджрд░, рдЖрдкрдХреЛ рдПрдирд┐рдореЗрд╢рди рдХреЗ рд╕рд╛рде рдХрдИ рдмреНрд▓реЙрдХ рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗ рдФрд░ рд╢реБрд░реБрдЖрдд рдореЗрдВ, рдХреЗрд╡рд▓ <strong>рдПрдВрдЯреНрд░реА</strong> рдХреЗ рд░рд╛рдЬреНрдп рдФрд░ рдПрдиреАрдореЗрд╢рди рдХрд╛ рдкрд╣рд▓рд╛ рд╕реЗрдЯ рдЬреЛ рдЬреБрдбрд╝реЗ рдереЗред  <strong>AnyState</strong> рдФрд░ рдЕрдиреНрдп рдПрдирд┐рдореЗрд╢рди рдирд┐рдпрдорд┐рдд рдЧреНрд░реЗ рд╡рд░реНрдЧ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред  рд╕рдм рдХреБрдЫ рдмрд╛рдВрдзрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <strong>AnyState</strong> рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдФрд░ рдПрдХрдорд╛рддреНрд░ <strong>рдореЗрдХ рдЯреНрд░рд╛рдВрдЬреЗрдХреНрд╢рди</strong> рдбреНрд░реЙрдк-рдбрд╛рдЙрди рдореЗрдиреВ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдФрд░ рдЗрд╕реЗ рдЧреНрд░реЗ рдмреНрд▓реЙрдХ рдореЗрдВ рдмрд╛рдБрдзрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ рдСрдкрд░реЗрд╢рди рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЕрдВрдд рдореЗрдВ, рдЖрдкрдХреЛ рдХреБрдЫ рдРрд╕рд╛ рдорд┐рд▓рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреЛ рдЖрдк рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдореЗрдВ рджреЗрдЦрддреЗ рд╣реИрдВред </p><br><p><img src="https://habrastorage.org/webt/-d/0d/7j/-d0d7j-y1okjqhr6wgywx2ht768.png" alt="рдЫрд╡рд┐"></p><br><p>  рдЕрдЧрд▓рд╛, рдЖрдкрдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЗрдВрдЧрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдЖрд╡рд╢реНрдпрдХ рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ <strong>рд░рд╛рдЬреНрдп</strong> рдХреНрдпрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ, рдЕрд░реНрдерд╛рддреН рдЗрд╕рдХрд╛ рдмрд╛рдпрд╛рдВ рд╣рд┐рд╕реНрд╕рд╛ред  <strong>рдкреИрд░рд╛рдореАрдЯрд░</strong> рдЯреИрдмред  рдЗрд╕рдореЗрдВ <strong>int int рд╕реНрдЯреЗрдЯ рдХрд╛</strong> рдПрдХ рд╡реИрд░рд┐рдПрдмрд▓ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЕрдЧрд▓рд╛, рджрд╛рдИрдВ рдУрд░ рдзреНрдпрд╛рди рджреЗрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдПрдиреАрдореЗрд╢рди рдХреЗ рд╕рдВрдХреНрд░рдордг рд╕реЗ, рдЖрдкрдХреЛ <strong>рдХреИрди рдЯреНрд░рд╛рдВрдЬреЗрдХреНрд╢рди рдЯреВ рд╕реЗрд▓реНрдл</strong> рдЪреЗрдХрдмреЙрдХреНрд╕ рдХреЛ рдЕрдирдЪреЗрдХ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдпрд╣ рдСрдкрд░реЗрд╢рди рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЖрдк рдХреЛ рдФрд░ рдХрднреА-рдХрднреА рдПрдиреАрдореЗрд╢рди рд╕реЗ рдЕрдЬреАрдм рдФрд░ рдХрднреА-рдХрднреА рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдордЭ рд╕реЗ рдмрд╛рд╣рд░ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрдХреНрд░рдордгреЛрдВ рд╕реЗ рдмрдЪрд╛рдПрдЧрд╛, рдЬрд╣рд╛рдВ рд╣рдордиреЗ рд╕рдВрдХреЗрдд рджрд┐рдпрд╛ рдерд╛ рдХрд┐ рдЗрд╕ рдПрдиреАрдореЗрд╢рди рд╕рдВрдХреНрд░рдордг рдХреЛ <strong>рд░рд╛рдЬреНрдп</strong> рдЪрд░ рдХрд╛ рдорд╛рди 3 рд╕реМрдВрдкрд╛ рдЧрдпрд╛ рдерд╛ред  рдЙрд╕рдХреЗ рдмрд╛рдж, рдПрдХрддрд╛ рдХреЛ рдкрддрд╛ рдЪрд▓ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рдХрд┐рд╕ рдПрдиреАрдореЗрд╢рди рдХреЛ рдЪрд▓рд╛рдирд╛ рд╣реИред <br>  рд╕рдм рдХреБрдЫ рдПрдирд┐рдореЗрдЯреЗрдб рдЪрд░рд┐рддреНрд░ рдЖрдВрджреЛрд▓рди рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЪрд▓реЛ рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред </p><br><p>  рдЕрдЧрд▓рд╛ рдЪрд░рдг рд▓реБрдХрд╛рд╕ рдХреЛ рдордВрдЪ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдШреВрдордирд╛ рд╕рд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред  рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рд╣реИред  рджреГрд╢реНрдп рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдЪрд░рд┐рддреНрд░ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдмрдЯрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЬрд┐рд╕ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдкрд░ рд▓реБрдХрд╛рд╕ рдЖрдЧреЗ рдФрд░ рдкреАрдЫреЗ рдЬрд╛рдПрдЧрд╛ред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <strong>рдПрд╕реЗрдЯреНрд╕ рд╕реНрдЯреЛрд░</strong> рдЯреИрдм рдореЗрдВ, рд╣рдореЗрдВ рд╕реНрдЯреИрдВрдбрдЖрд░реНрдЯ рдПрд╕реЗрдЯреНрд╕ рдХреЛ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдм рдирд╣реАрдВ, рдХреЗрд╡рд▓ рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд, рдЕрд░реНрдерд╛рддреН: </p><br><p>  <strong>тАв CrossPlatformInput</strong> <strong><br></strong>  <strong>тАв рд╕рдВрдкрд╛рджрдХ</strong> <strong><br></strong>  <strong>тАв рдкрд░реНрдпрд╛рд╡рд░рдг</strong> </p><br><p>  рдПрд╕реЗрдЯ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдПрдХрддрд╛ рдореБрдЦреНрдп рд╡рд┐рдВрдбреЛ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдЯреИрдм <strong>рдореЛрдмрд╛рдЗрд▓ рдЗрдирдкреБрдЯ</strong> рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред  рд╣рдо рдЗрд╕реЗ рд╕рдХреНрд░рд┐рдп рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдЪрд▓реЛ рдордВрдЪ рдкрд░ рдирдП <strong>рдпреВрдЖрдИ</strong> рддрддреНрд╡ рдмрдирд╛рддреЗ рд╣реИрдВ - рдирд┐рдпрдВрддреНрд░рдг рдмрдЯрдиред  рдкреНрд░рддреНрдпреЗрдХ рджрд┐рд╢рд╛ рдореЗрдВ 4 рдмрдЯрди рдмрдирд╛рдПрдВред  рдКрдкрд░, рдиреАрдЪреЗ, рдЖрдЧреЗ рдФрд░ рдкреАрдЫреЗред  рдЫрд╡рд┐ рдШрдЯрдХ рдореЗрдВ, рд╣рдо рдПрдХ рдЫрд╡рд┐ рдХреЛ рдмрдЯрди рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдЫрд╡рд┐ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрдЧрд╛, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ред  рдпрд╣ рдиреАрдЪреЗ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдХреА рддрд░рд╣ рдХреБрдЫ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: </p><br><img src="https://habrastorage.org/webt/c6/jv/kk/c6jvkketndj8sqq4vodxamn-oni.png"><br><p>  рдкреНрд░рддреНрдпреЗрдХ рдмрдЯрди рдХреЗ рд▓рд┐рдП, рдПрдХ <strong>AxisTouchButton</strong> рдШрдЯрдХ рдЬреЛрдбрд╝реЗрдВред  рдЗрд╕ рд▓рд┐рдкрд┐ рдХреЗ рдХреЗрд╡рд▓ 4 рдХреНрд╖реЗрддреНрд░ рд╣реИрдВред  <strong>рдзреБрд░реАрдирд╛рдо</strong> рдХреНрд╖реЗрддреНрд░ рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ рдирд╛рдо рдХрдм рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рдПред  <strong>рдПрдХреНрд╕рд▓рд╡реНрдпреВ</strong> рдлрд╝реАрд▓реНрдб рдЙрд╕ рджрд┐рд╢рд╛ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд▓реБрдХрд╛рд╕ рдЖрдЧреЗ рдмрдврд╝реЗрдЧрд╛ред  рд▓рдХреНрд╕рд╕ рдЕрдкрдиреА рдЧрддрд┐ рдХреЛ рдХрд┐рддрдиреА рддреЗрдЬреА рд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд░реЗрдЧрд╛, рдЗрд╕рдХреЗ рд▓рд┐рдП <strong>рд░рд┐рд╕реНрдкрд╛рдВрд╕рдкреАрдб</strong> рдлреАрд▓реНрдб рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рдмрдЯрди рдХреЛ рдХреЗрдВрджреНрд░ рдореЗрдВ рдХрд┐рддрдиреА рддреЗрдЬреА рд╕реЗ рд▓реМрдЯрд╛рддрд╛ <strong>рд╣реИ</strong> рдЗрд╕рдХреЗ рд▓рд┐рдП <strong>returnToatalogSpeed</strong> рдлрд╝реАрд▓реНрдб рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рдлреЙрд░рд╡рд░реНрдб рдмрдЯрди рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рд╡реИрд╕реЗ рд╣реА рдЫреЛрдбрд╝ рджреЗрдВред  рдмреИрдХ рдмрдЯрди рдХреЗ рд▓рд┐рдП, <strong>рдЕрдХреНрд╖</strong> рдХреЗ рдорд╛рди рдХреЛ -1 рдореЗрдВ рдмрджрд▓реЗрдВ рддрд╛рдХрд┐ рд▓реБрдХрд╛рд╕ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рдПред  рдКрдкрд░ рдФрд░ рдиреАрдЪреЗ рдХреЗ рдмрдЯрди рдХреЗ рд▓рд┐рдП, <strong>рдЕрдХреНрд╖</strong> рдХреЛ рдмрджрд▓реЗрдВ <strong>рдХрд╛рд░реНрдпрдХреНрд╖реЗрддреНрд░</strong> ред  рдЕрдк рдмрдЯрди <strong>рдПрдХреНрд╕рд┐рд▓рд╡реНрдпреВ рдХреЗ рд▓рд┐рдП,</strong> рдорд╛рди -1 рдХреЛ рдбрд╛рдЙрди -1 рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░реЗрдВред </p><br><p>  рдЗрд╕рдХреЗ рдмрд╛рдж <strong>HeroScript.cs рдХреЛ</strong> рд╕рдВрд╢реЛрдзрд┐рдд <strong>рдХрд░реЗрдВ</strong> ред  <strong>рдЙрдкрдпреЛрдЧ</strong> рдХрд░рдиреЗ рдХреЗ рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ рдирд╛рдо рд╕реНрдерд╛рди рдЬреЛрдбрд╝реЗрдВ </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityStandardAssets.CrossPlatformInput; <span class="hljs-comment"><span class="hljs-comment">//    .</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs">       : <span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> Vector3 localScale; <span class="hljs-comment"><span class="hljs-comment">//   bool facingRight = true; [SerializeField] private float dirX, dirY; //    [Range(1f, 20f)] [SerializeField] private float moveSpeed; //    private SpriteRenderer sprite; //   SpriteRenderer /*   ,     */</span></span></code> </pre> </div></div><br><p>  рдорд╛рдирдХ рдкреНрд░рд╛рд░рдВрдн рд╡рд┐рдзрд┐ рдореЗрдВ, рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { localScale = transform.localScale; animator = GetComponent&lt;Animator&gt;(); <span class="hljs-comment"><span class="hljs-comment">//     . sprite = GetComponent&lt;SpriteRenderer&gt;(); //  SpriteRenderer rb = GetComponent&lt;Rigidbody2D&gt;(); State = CharState.idle; }</span></span></code> </pre> </div></div><br><p>  рд╣рдо рдПрдХ рдРрд╕рд╛ рддрд░реАрдХрд╛ рдмрдирд╛рддреЗ рд╣реИрдВ рдЬреЛ рдирд╛рдпрдХ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрдЧрд╛: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MoveHero</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { dirX = CrossPlatformInputManager.GetAxis (<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>) * moveSpeed * Time.deltaTime; dirY = CrossPlatformInputManager.GetAxis (<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span>) * moveSpeed * Time.deltaTime; transform.position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2 (transform.position.x + dirX, transform.position.y + dirY); }</code> </pre> </div></div><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИред  <strong>DirX</strong> рдФрд░ <strong>DirY рдлрд╝реАрд▓реНрдб</strong> рдПрдХреНрд╕рд┐рд╕ ( <strong>рдХреНрд╖реИрддрд┐рдЬ</strong> рдФрд░ <strong>рдКрд░реНрдзреНрд╡рд╛рдзрд░</strong> ) рдХреА рджрд┐рд╢рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЧрддрд┐ рд╕реЗ рдЧреБрдгрд╛ рдХрд░рддреА рд╣реИ (рдЬрд┐рд╕реЗ рд╕рдВрдкрд╛рджрдХ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА) рдФрд░ рдЕрдВрддрд┐рдо рдлреНрд░реЗрдо рд╕реЗ рдпрд╛рддреНрд░рд╛ рдХреЗ рд╕рдордп рд╕реЗ рдЧреБрдгрд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br>  <strong>transform.position</strong> рд╣рдорд╛рд░реЗ рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ <strong>рдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдо</strong> рдШрдЯрдХ рдореЗрдВ рдирдИ рд╕реНрдерд┐рддрд┐ рд▓рд┐рдЦрддрд╛ рд╣реИред </p><br><p>  рд╕рдорд╕реНрдпрд╛ рдХреЗ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдкрдХреНрд╖ рдкрд░, рдЖрдк рджреГрд╢реНрдп рдХреЛ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд▓реБрдХрд╛рд╕ рд░рд╕рд╛рддрд▓ рдореЗрдВ рдХреИрд╕реЗ рдЧрд┐рд░ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдХреЛрдИ рднреА рд╡рд╕реНрддреБ рдирд╣реАрдВ рд╣реИ рдЬреЛ рдЗрд╕реЗ рд░реЛрдХ рд╕рдХрддреА рд╣реИред  рд▓реБрдХрд╛рд╕ рд╣рдореЗрд╢рд╛ <strong>рдЖрдЗрдбрд▓</strong> рдПрдиреАрдореЗрд╢рди рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЬрдм рд╣рдо рдЙрд╕реЗ рд╡рд╛рдкрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╡рд╣ рдШреВрдорддрд╛ рдирд╣реАрдВ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП, рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдПрдХ рд╡рд┐рдзрд┐ рдмрдирд╛рдПрдБ рдЬреЛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗ рдХрд┐ рд▓реБрдХрд╛рд╕ рдХрд┐рд╕ рджрд┐рд╢рд╛ рдореЗрдВ рджреЗрдЦ рд░рд╣рд╛ рд╣реИ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckWhereToFace</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { facingRight = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { facingRight = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX == <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.idle; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirY &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirY &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((facingRight) &amp;&amp; (localScale.x &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)) || ((!facingRight) &amp;&amp; (localScale.x &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>))) localScale.x *= <span class="hljs-number"><span class="hljs-number">-1</span></span>; transform.localScale = localScale;</code> </pre> </div></div><br><p>  рдХреЛрдб рдХрд╛ рдпрд╣ рд╣рд┐рд╕реНрд╕рд╛ рднреА рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реИред  рд╡рд┐рдзрд┐ рдХрд╛ рд╡рд░реНрдгрди рд╣реИ рдХрд┐ рдпрджрд┐ <strong>dirX</strong> &gt; 0 (рдпрджрд┐ рд╣рдо рджрд╛рдИрдВ рдУрд░ рдЬрд╛рддреЗ рд╣реИрдВ), рддреЛ рд╣рдо рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЛ рдЗрд╕ рджрд┐рд╢рд╛ рдореЗрдВ рдШреБрдорд╛рддреЗ рд╣реИрдВ рдФрд░ рд╡реЙрдХ рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рдпрджрд┐ 0 рд╕реЗ рдХрдо рд╣реИ, рддреЛ рд▓реБрдХрд╛рд╕ 180 рдбрд┐рдЧреНрд░реА рдШреБрдорд╛рдПрдВ рдФрд░ рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░реЗрдВред  рдпрджрд┐ <strong>dirX</strong> рд╢реВрдиреНрдп рд╣реИ, рддреЛ рд▓реБрдХрд╛рд╕ рдЦрдбрд╝рд╛ рд╣реИ рдФрд░ рдЖрдкрдХреЛ рдкреНрд░рддреАрдХреНрд╖рд╛ рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ <strong>рд╕реНрдХреЗрд▓ рдХреЗ</strong> рд╕рд╛рде рдПрдХ рдСрдкрд░реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рдХреНрдпреЛрдВ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ <strong>рдлреНрд▓рд┐рдкрдПрдХреНрд╕ = рд╕рдЪ</strong> рдХрд╛ рдЙрдкрдпреЛрдЧ <strong>рдХрд░рдирд╛ рд╣реИ</strong> ?  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдореИрдВ рдХрд┐рд╕реА рднреА рд╡рд╕реНрддреБ рдХреЛ рд╣рд╛рде рдореЗрдВ рд▓реЗрдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реВрдВрдЧрд╛ рдФрд░ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рд▓реБрдХрд╛рд╕ рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рдореЗрдВ рдХреБрдЫ рдзрд╛рд░рдг рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдЕрдЧрд░ рдореИрдВ рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рддрд┐рдмрд┐рдВрдм рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ, рддреЛ рдЬрд┐рд╕ рд╡рд╕реНрддреБ рдХреЛ рдореИрдВ рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рдореЗрдВ рдкрдХрдбрд╝рддрд╛ рд╣реВрдВ рд╡рд╣ рджрд╛рдИрдВ рдУрд░ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП) рд░рд╣реЗрдЧреА рдЬрдм рд▓реБрдХрд╛рд╕ рдмрд╛рдИрдВ рдУрд░ рджрд┐рдЦрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрддред  рдЬрд╝реВрдорд┐рдВрдЧ рдЙрд╕ рд╡рд╕реНрддреБ рдХреЛ рд▓реЗ рдЬрд╛рдПрдЧреА рдЬреЛ рд▓реБрдХрд╛рд╕ рдХреЛ рдЙрд╕реА рджрд┐рд╢рд╛ рдореЗрдВ рд▓реЗ рдЬрд╛рддреА рд╣реИ рдЬрд╣рд╛рдВ рд▓реБрдХрд╛рд╕ рдЦреБрдж рдмрджрд▓ рдЧрдпрд╛ рдерд╛ред </p><br><p>  рд╣рдо <strong>CheckWhereToFace ()</strong> рдлрд╝рдВрдХреНрд╢рди рдХреЛ <strong>рдЕрдкрдбреЗрдЯ ()</strong> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд░рдЦрддреЗ рд╣реИрдВ, рдЗрд╕рдХреЗ рдлреНрд░реЗрдо-рдмрд╛рдп-рдлреНрд░реЗрдо рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреЗ рд▓рд┐рдПред </p><br><p>  рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛ред  5 рдХреЗ рдкрд╣рд▓реЗ 2 рдЕрдВрдХ рдкреВрд░реЗ рд╣реЛ рдЧрдП рд╣реИрдВред  рдЪрд▓реЛ рд▓реБрдХрд╛рд╕ рдХреА рдЬрд░реВрд░рддреЛрдВ рдкрд░ рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред  рдмрддрд╛рддреЗ рдЪрд▓реЗрдВ рдХрд┐ рд▓реБрдХрд╛рд╕ рдХреЛ рдЬрд┐рдВрджрд╛ рд░рд╣рдиреЗ рдХреЗ рд▓рд┐рдП 3 рддрд░рд╣ рдХреА рдЬрд░реВрд░рддреЗрдВ рдкреВрд░реА рдХрд░рдиреА рд╣реЛрдВрдЧреАред  рдпрд╣ рдЬреАрд╡рди рд╕реНрддрд░, рднреВрдЦ рдХрд╛ рд╕реНрддрд░ рдФрд░ рдкреНрдпрд╛рд╕ рдХрд╛ рд╕реНрддрд░ рд╣реИред  рдЖрдкрдХреЛ рдкреНрд░рддреНрдпреЗрдХ рдЖрдЗрдЯрдо рдХреЗ рд╕рдВрдХреЗрддрдХ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд░рд▓ рдФрд░ рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп рдкреИрдирд▓ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдРрд╕рд╛ рдкреИрдирд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ <strong>UI =&gt; рдкреИрдирд▓ рдЪреБрдиреЗрдВ</strong> ред </p><br><p>  рдиреАрдЪреЗ рджрд┐рдЦрд╛рдП рдЕрдиреБрд╕рд╛рд░ рдЗрд╕реЗ рд▓рдЧрднрдЧ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░реЗрдВ </p><br><p><img src="https://habrastorage.org/webt/yp/oz/fs/ypozfsb3q_vygo6usfn1t_btnyc.png" alt="рдЫрд╡рд┐"></p><br><p>  рдкреИрдирд▓ рдореЗрдВ рддреАрди рдЪрд┐рддреНрд░ (рдкреНрд░рддреНрдпреЗрдХ) (рдмрд╛рдПрдВ) рдХреА рдЫрд╡рд┐ рд╣реЛрддреА рд╣реИред  рджрд╛рдИрдВ рдУрд░ рдкреИрдирд▓ рд╣реА рд╣реИред  рдкрд╣рд▓реА рдкрд░рдд рдкрд░ (рд╣рдо рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдбрд╛рд▓реЗрдВрдЧреЗ), рдПрдХ рд░рдВрдЧ рд╕рдВрдХреЗрддрдХ (рдЫрд╡рд┐) рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ рдирд╣реАрдВ рд╣реИ, рдПрдХ рдЫрд╡рд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдЗрд╕рдХреЗ рдиреАрдЪреЗ рдХреЙрдкреА рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ рдкрд╛рд░рджрд░реНрд╢реА рд╣реИред  рдпрд╣ рдЫрд╡рд┐ рдореВрд▓ рд╕реЗ рдЖрдзреА рдкрд╛рд░рджрд░реНрд╢реА рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЫрд╡рд┐, рдЬрд┐рд╕рдореЗрдВ рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ рдирд╣реАрдВ рд╣реИ, рдЫрд╡рд┐ <strong>рдкреНрд░рдХрд╛рд░ = рднрд░реА рд╣реБрдИ</strong> рд╕рдВрдкрддреНрддрд┐ рд╣реИред  рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рдкреИрдорд╛рдиреЗ рдХреА рдкреВрд░реНрдгрддрд╛ рдореЗрдВ рдХрдореА рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧреАред </p><br><p><img src="https://habrastorage.org/webt/ld/vo/qy/ldvoqyj2ioak7ufaycjjmjvbeta.png" alt="рдЫрд╡рд┐"></p><br><p><img src="https://habrastorage.org/webt/l7/wu/ok/l7wuokjirtsp-p66wixm2zybfbu.png" alt="рдЫрд╡рд┐"></p><br><p>  рдирдП рд╕реНрдерд┐рд░ рдЪрд░ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Health = <span class="hljs-number"><span class="hljs-number">100</span></span>, Eat = <span class="hljs-number"><span class="hljs-number">100</span></span>, Water = <span class="hljs-number"><span class="hljs-number">100</span></span>, _Eat = <span class="hljs-number"><span class="hljs-number">0.05f</span></span>, _Water = <span class="hljs-number"><span class="hljs-number">0.1f</span></span>; <span class="hljs-comment"><span class="hljs-comment">//        .    _  . /*   ,     */ /*  ,      */ [SerializeField] Image iHealt, iEat, iWater; //      /*   ,      */</span></span></code> </pre> </div></div><br><p>  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдореИрдВ рд╕реНрдереИрддрд┐рдХ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред  рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпреЗ рдХреНрд╖реЗрддреНрд░ рдкреВрд░реА рдХрдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдЕрджреНрд╡рд┐рддреАрдп рд╣реЛрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рд╣рдореЗрдВ рд╕реАрдзреЗ рд╡рд░реНрдЧ рдирд╛рдо рд╕реЗ рдЗрди рдХреНрд╖реЗрддреНрд░реЛрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред  рд╣рдо рдХреБрдЫ рд╕рд░рд▓ рдХрд╛рд░реНрдп рд▓рд┐рдЦрддреЗ рд╣реИрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fEat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { Eat = Eat - x * Time.deltaTime; iEat.fillAmount = Eat / <span class="hljs-number"><span class="hljs-number">100f</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ,        return Eat; } private float fWater(float x) { Water = Water - x * Time.deltaTime; iWater.fillAmount = Water / 100; return Water; }</span></span></code> </pre> </div></div><br><p>  рдлрд┐рд░, рд╣рдо рдПрдХ рд╡рд┐рдзрд┐ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдЬреЛ рдЦрд╛рдиреЗ рдФрд░ рдкреАрдиреЗ рдХреА рдЗрдЪреНрдЫрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рддреА рд╣реИ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Needs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(_Eat) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.Log(Eat); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(<span class="hljs-number"><span class="hljs-number">0</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) { StartCoroutine(ifDie()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fWater(_Water) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.Log(Water); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fWater(<span class="hljs-number"><span class="hljs-number">0</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) { StartCoroutine(ifDie()); }</code> </pre> </div></div><br><p>  <strong>рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ ()</strong> рдлрд╝рдВрдХреНрд╢рди рдХреЛ <strong>рдЕрдкрдбреЗрдЯ ()</strong> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдлрд╝реНрд░реЗрдо рдХреЛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рддрджрдиреБрд╕рд╛рд░, рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(_Eat) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><p>  рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЧреБрдЬрд░рддрд╛ рд╣реИ рдХрд┐ <strong>рдИрдЯ</strong> рдФрд░ <strong>рдЬрд▓</strong> рдЪрд░ рд╕реЗ рдХрд┐рддрдирд╛ рд▓рд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрджрд┐ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдкрд░рд┐рдгрд╛рдо 0 рдирд╣реАрдВ рд╣реИ, рддреЛ рд▓реБрдХрд╛рд╕ рдЕрднреА рддрдХ рдкреНрдпрд╛рд╕ рдпрд╛ рднреВрдЦ рд╕реЗ рдорд░ рдирд╣реАрдВ рдЧрдпрд╛ рд╣реИред  рдпрджрд┐ рд▓реБрдХрд╛рд╕ рднреБрдЦрдорд░реА рдпрд╛ рдирд╢реНрд╡рд░ рдШрд╛рд╡реЛрдВ рд╕реЗ рдорд░рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдХреЛрд░рдЯрд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВ </p><br><pre> <code class="cs hljs">StartCoroutine(ifDie());</code> </pre> <br><p>  рдЬреЛ рдореМрдд рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╕реНрддрд░ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рддрд╛ рд╣реИ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-function">IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ifDie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { State = CharState.Die; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForSeconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function">)</span></span>; SceneManager.LoadScene(<span class="hljs-string"><span class="hljs-string">"WoodDay"</span></span>, LoadSceneMode.Single); }</code> </pre> </div></div><br><h3>  рд╣рд╛рд░реНрдб рдЯрд╛рдЗрд▓ </h3><br><p>  <em>рдПрдХ рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдЬреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдЗрд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред</em>  <em>рдЙрджрд╛рд╣рд░рдг: рд╕реБрдкрд░ рдорд╛рд░рд┐рдпреЛ рдмреНрд░реЛрд╕ (рдирд┐рдирдЯреЗрдВрдбреЛ, 1985) рдореЗрдВ рд▓рд┐рдВрдЧред</em> </p><br><p>  рдкреГрдереНрд╡реА рдХрд╛ рдПрд╣рд╕рд╛рд╕ рдХрд░рдиреЗ рдФрд░ рд▓реБрдХрд╛рд╕ рдХреЛ рдЗрд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЧрд┐рд░рдиреЗ рд╕реЗ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <strong>BoxCollider2D</strong> рдФрд░ <strong>Rigidbody2D</strong> рдШрдЯрдХреЛрдВ рдХреЛ рд▓реБрдХрд╛рд╕ рд╕реЗ рдЬреЛрдбрд╝рдирд╛ <strong>рд╣реЛрдЧрд╛</strong> ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдкрдХреЛ рдкреГрдереНрд╡реА рдХреЗ рдПрдХ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕ рдкрд░ <strong>BoxCollider2D</strong> рдШрдЯрдХ <strong>рд╕реНрдерд┐рдд</strong> рд╣реЛрдЧрд╛ред  <strong>BoxCollider2D</strong> рдШрдЯрдХ <strong>рдХреЛрд▓рд░реНрд╕</strong> рдФрд░ рдЙрдирдХреЗ рдЯрдХрд░рд╛рд╡ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред  рдЗрд╕ рд╕реНрддрд░ рдкрд░, рд╣рдореЗрдВ рд▓реБрдХрд╛рд╕ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдХреБрдЫ рднреА рдирд╣реАрдВ рдЪрд╛рд╣рд┐рдПред  рд╕рднреА рдЬрд┐рд╕реЗ рд╣рдо рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рд╡рд╣ рд╣реИ рдХреЛрд▓рд╛рдЗрдбрд░ рдХреА рд╕реАрдорд╛рдПрдВред  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЬрдореАрди рд╕реНрдкреНрд░рд╛рдЗрдЯ рдореЗрдВ рдПрдХ рдШрд╛рд╕ рдХреА рд╕рддрд╣ рд╣реЛрддреА рд╣реИ рдФрд░ рдЗрд╕рд▓рд┐рдП рдРрд╕рд╛ рдирд╣реАрдВ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдШрд╛рд╕ рд▓реБрдХрд╛рд╕ рдХреЗ рд╡рдЬрди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ, рдореИрдВ рдШрдЯрдХ рд╕реАрдорд╛рдУрдВ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реВрдВрдЧрд╛ред </p><br><img src="https://habrastorage.org/webt/ey/0n/hv/ey0nhvwblv9xamkiyesto7exsve.png"><br><p>  рдЕрдм, рдПрдХ рд░реЛрдорд╛рдВрдЪрдХ рд╕реНрддрд░ рдЕрдВрдХрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ред  рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЗрд╕ рдХреНрдпреВрдм рдХреЛ рднреВрдорд┐ рд╕реЗ рдкреНрд░реАрдлрд╝реИрдм рдореЗрдВ рдирд┐рд░реНрдпрд╛рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдкреНрд░реАрдлрд╝реИрдм рдПрдХ рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдПрдХ рдХрдВрдЯреЗрдирд░ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╕рдВрд╢реЛрдзрди рдкрд░ рдЖрдк рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕ рдкреНрд░реАрдлрд╝реИрдм рд╕реЗ рдмрдирд╛рдИ рдЧрдИ рд╕рднреА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдмрд╛рдж, рдЗрд╕ рдкреНрд░реАрдлрд╝реИрдм рдХреЛ CTRL + D (рдкрджрд╛рдиреБрдХреНрд░рдо рдЯреИрдм рдореЗрдВ рдЪреБрдирдиреЗ рдХреЗ рдмрд╛рдж) рдХреЗ рд╕рд╛рде рдХреНрд▓реЛрди рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдордВрдЪ рдкрд░ рд░рдЦреЗрдВред </p><br><p><img src="https://habrastorage.org/webt/b6/dm/6t/b6dm6tbsz6mezi1upkenyd9sloa.png" alt="рдЫрд╡рд┐"></p><br><h3>  рдкреНрд░рджрд░реНрд╢рди </h3><br><p>  <em>рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рд╡рд╛рд▓реЗ рдЦреЗрд▓ рдХреЗ рд╕реНрддрд░ / рджреБрдирд┐рдпрд╛ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ред</em> </p><br><p>  рдПрдХ рдХреИрдорд░рд╛ рд╕реЗрдЯ рдХрд░реЗрдВ рдЬреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рджреГрд╢реНрдп рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдЧрд╛ред  рдЕрдЧрд▓рд╛, рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реЛрдЧреА: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject objectToFollow; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed = <span class="hljs-number"><span class="hljs-number">2.0f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { CamFoll(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CamFoll</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> interpolation = speed * Time.deltaTime; Vector3 position = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position; position.y = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.y, objectToFollow.transform.position.y, interpolation); position.x = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.x, objectToFollow.transform.position.x, interpolation); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position = position; }</code> </pre> </div></div><br><p>  <strong>GameObject</strong> рдкреНрд░рдХрд╛рд░ рдХреЗ <strong>objectToFollow</strong> рдлрд╝реАрд▓реНрдб рдореЗрдВ, рдХрд┐рд╕реА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдореЙрдирд┐рдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рд╕реНрдкреАрдб рдлрд╝реАрд▓реНрдб рдореЗрдВ, рдЬрд┐рд╕ рдЧрддрд┐ рдкрд░ рдЕрд╕рд╛рдЗрди рдХрд┐рдП рдЧрдП GameObject рдХреЗ рдкреАрдЫреЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдЪрд▓рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред </p><br><p>  рдкреНрд░рдХреНрд╖реЗрдк рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдЕрдВрддрд┐рдо рдлреНрд░реЗрдо рджрд░реНрдЬ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рд╕реЗ рдЧрддрд┐ рдХреА рдЬрд╛рдирдХрд╛рд░реАред  рдЗрд╕рдХреЗ рдмрд╛рдж, Lerp рдкрджреНрдзрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬреЛ X рдФрд░ U рдХреБрд▓реНрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЪрд▓рдиреЗ рдкрд░ рд▓реБрдХрд╛рд╕ рдХреЗ рдкреАрдЫреЗ рдХреИрдорд░реЗ рдХреА рд╕реБрдЧрдо рдЧрддрд┐ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдЧрд╛ред рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдореИрдВ рд▓рд╛рдЗрди рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ред </p><br><pre> <code class="cs hljs">position.y = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.y, objectToFollow.transform.position.y, interpolation);</code> </pre> <br><p>  рдЧрдгрд┐рдд рдХреА рджреГрд╖реНрдЯрд┐ рд╕реЗред  рдЗрд╕рд▓рд┐рдП, рдореИрдВ рд╕рд░рд▓рддрд╛ рд╕реЗ рдХрд╣реВрдВрдЧрд╛ - рдпрд╣ рд╡рд┐рдзрд┐ рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдХреЛ рдмрдврд╝рд╛рдПрдЧреАред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдкреАрдЫреЗ рдХреИрдорд░реЗ рдХреА рдЧрддрд┐ рд╣реИред </p><br><h3>  рдЦрд╝рддрд░рд╛ </h3><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><p>  рдРрд╕реА рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдБ рдЬреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдЕрдкрдирд╛ рдХрд╛рд░реНрдп рдкреВрд░рд╛ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрддреА рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг: 1001 рд╕реНрдкрд╛рдЗрдХреНрд╕ (рдирд┐рдХрд▓рд┐рд╕ рдФрд░ 8 рдмрд┐рдЯреНрд╕ рдлреИрдиреЗрдЯрд┐рдХреНрд╕, 2014) рд╕реЗ рд╕реНрдкрд╛рдЗрдХреНрд╕ред </p></div></div><br><p>  рдЖрдЗрдП рдХреБрдЫ рдРрд╕рд╛ рдЬреЛрдбрд╝рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ рдЬреЛ рди рдХреЗрд╡рд▓ рд▓реБрдХрд╛рд╕ рдХреЛ рдордВрдЪ рд╕реЗ рдЕрдВрдд рддрдХ рдЬрд╛рдиреЗ рд╕реЗ рд░реЛрдХреЗрдЧрд╛, рдмрд▓реНрдХрд┐ рдЙрд╕рдХреЗ рдЬреАрд╡рди рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдорд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░реЗрдЧрд╛ (рдПрдХ рдХреЗ рд▓рд┐рдП, рд╣рдо рд▓реБрдХрд╛рд╕ рдХреА рдЬреАрд╡рди рдХрд╣рд╛рдиреА рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рдВрдЪрд╡реЗрдВ рдЙрдкрдкреНрд░рдХрд╛рд░ рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВрдЧреЗ - рдирд╛рдпрдХ рдорд╛рд░рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдорд░ рд╕рдХрддрд╛ рд╣реИ)ред <br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рд╕реНрдкрд╛рдЗрдХреНрд╕ рдХреЛ рдЙрд╕ рдордВрдЪ рдкрд░ рдлреИрд▓рд╛рддреЗ рд╣реИрдВ рдЬреЛ рд╡рдирд╕реНрдкрддрд┐ рдХреЗ рдкреАрдЫреЗ рдЫрд┐рдкрд╛ рд╣реЛрдЧрд╛ рдФрд░ рдХреЗрд╡рд▓ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рдЪреМрдХрд╕реА рд╕реЗ рдЧреБрдЬрд░рдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓реЗрдЧреАред </p><br><p>  рдПрдХ рдЦрд╛рд▓реА <strong>рдЧреЗрдордСрдмрдЬреЗрдХреНрдЯ</strong> рдмрдирд╛рдПрдВ рдФрд░ <strong>рд╕реНрдкреНрд░рд╛рдЗрдЯ</strong> <strong>рд░реЗрдВрдбрд░рд░</strong> рдФрд░ <strong>рдкреЙрд▓реАрдЧреЙрди рдХреЛрд▓реНрд▓рд░ 2 рдбреА</strong> рдШрдЯрдХреЛрдВ рдХреЛ рдЗрд╕рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред  рд╕реНрдкреНрд░рд╛рдЗрдЯ <strong>рд░реЗрдВрдбрд░рд░</strong> рдШрдЯрдХ рдореЗрдВ, <strong>рд╣рдо</strong> рдХрд╛рдВрдЯреЗрджрд╛рд░ рдмрдЯрди рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рд╡рд╕реНрддреБ рдХреЗ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЛ <strong>рдЗрдЪреНрдЫрд╛рдиреБрд╕рд╛рд░</strong> рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, <strong>рдЯреИрдЧ = рдХрд╛рдВрдЯреЗ рдХреЛ</strong> рд╕реНрдкрд╛рдЗрдХ рдкрд░ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВред </p><br><p>  рдЗрд╕рдХреЗ рдмрд╛рдж, рд▓реБрдХрд╛рд╕ <strong>рдЧреЗрдордСрдмрдЬреЗрдХреНрдЯ рдкрд░, рд╣рдо</strong> рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рддреЗ рд╣реИрдВ рдЬреЛ рдЙрд╕ рдХреЗ рд▓рд┐рдП рдЬрд╝рд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрдЧреА, рдЕрдЧрд░ рд▓реБрдХрд╛рд╕ рдЕрдиреНрдп рдХреЛрд▓рд░реНрд╕ рд╕реЗ рдЯрдХрд░рд╛рддрд╛ рд╣реИред  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдореИрдВрдиреЗ рдЗрд╕реЗ <strong>ColliderReaction.cs</strong> рдХрд╣рд╛ </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Rigidbody2D rb2d; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { rb2d = GetComponent&lt;Rigidbody2D&gt;(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerEnter2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Thorn"</span></span>: { rb2d.AddForce(transform.up * <span class="hljs-number"><span class="hljs-number">4</span></span>, ForceMode2D.Impulse); HeroScript.Health = HeroScript.Health - <span class="hljs-number"><span class="hljs-number">5</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рд╕рд╛рд░ 2x2 рдЬрд┐рддрдирд╛ рд╕рд░рд▓ рд╣реИред  рдЬрдм рдПрдХ <strong>рдХрд╛рдВрдЯрд╛</strong> рдЯреИрдЧ рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реЗ <strong>рдЯрдХрд░рд╛рддрд╛ рд╣реИ</strong> , рддреЛ <strong>рд╕реНрд╡рд┐рдЪ</strong> рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдЙрди рдЙрдореНрдореАрджрд╡рд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдордиреЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдерд╛ред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЕрднреА рдХреЗ рд▓рд┐рдП, рдпрд╣ <strong>рдХрд╛рдВрдЯрд╛ рд╣реИ</strong> ред  рдкрд╣рд▓реЗ, рд▓реБрдХрд╛рд╕ рдлреЗрдВрдХрддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рд╣рдо рдПрдХ рд╕реНрдерд┐рд░ рдЪрд░ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рд▓реБрдХрд╛рд╕ рд╕реЗ 5 рдЬреАрд╡рди рдЗрдХрд╛рдЗрдпрд╛рдВ рд▓реЗрддреЗ рд╣реИрдВред  рдЖрдЧреЗ рджреЗрдЦрддреЗ рд╣реБрдП, рдореИрдВ рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ рдХрд┐ рджреБрд╢реНрдордиреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдШрд░реНрд╖ рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рдЪреАрдЬ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдирд╛ рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Enemy"</span></span>: { rb2d.AddForce(transform.up * <span class="hljs-number"><span class="hljs-number">2</span></span>, ForceMode2D.Impulse); HeroScript.Health = HeroScript.Health - <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;</code> </pre> </div></div><br><p>  рдЗрд╕рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдПрдХ рдкрддреНрдерд░ рд╕реЗ рджреЛ рдкрдХреНрд╖рд┐рдпреЛрдВ рдХреЛ рдорд╛рд░рдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рд░рдЦрд╛ред </p><br><h3>  рдПрдХрддреНрд░рд┐рдд рд╡рд╕реНрддреБ рдФрд░ рдирд┐рдпрдоред </h3><br><p>  рдПрдХ рдЦреЗрд▓ рд╡рд╕реНрддреБ рдЬрд┐рд╕реЗ рдЦрд┐рд▓рд╛рдбрд╝реА рдЙрдард╛ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╣рдо рдирд┐рдпрдо рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдпрджрд┐ рд▓реБрдХрд╛рд╕ рджреНрд╡реАрдкреЛрдВ рдХреЗ рдмреАрдЪ рдЬрд╛рдирд╛ рдФрд░ рдКрдкрд░ рдЪрдврд╝рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдкреБрд▓реЛрдВ рдФрд░ рд╕реАрдврд╝рд┐рдпреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдкреЗрдбрд╝ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br>  рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкрд╛рд░рд┐рдд рддрд░реАрдХреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╣рдо рдПрдХ рдкреЗрдбрд╝ рдФрд░ рд╕реАрдврд╝рд┐рдпрд╛рдВ рдмрдирд╛рдПрдВрдЧреЗред </p><br><p>  рд╣рдо рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдЙрд╕ рдкреЗрдбрд╝ рд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рдЬреЛ рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрдЧрд╛ рдХрд┐ рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдХрд╛рдЯрдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдХрд┐рддрдиреЗ рд▓реЙрдЧ рд╕реЗ рджрд╕реНрддрдХ рджреЗ рд╕рдХрддреЗ рд╣реИрдВред  рдЪреВрдВрдХрд┐ рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕ рдХреЗ рд╕реЗрдЯ рдореЗрдВ рдХреЗрд╡рд▓ рд╣рдорд▓реЗ рдХрд╛ рдПрдиреАрдореЗрд╢рди рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╣рдо рдкреЗрдбрд╝ (рдЙрддреНрдкрд╛рджрди рд▓рд╛рдЧрдд) рдореЗрдВ рдХрдЯреМрддреА рдХрд░рддреЗ рд╕рдордп рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред <br>  рдкреЗрдбрд╝ рдкрд░ рдЬреЛ рд▓рд┐рдкрд┐ рд╣реИ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform inst; <span class="hljs-comment"><span class="hljs-comment">//     [SerializeField] private GameObject FireWoodPref; //   [SerializeField] private int fireWood; //       </span></span></code> </pre> </div></div><br><p>  рдЬрдм рд╕реНрддрд░ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╣рдо <strong>рдлрд╝рд╛рдпрд░рд╡реВрдб</strong> рдореЗрдВ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдорд╛рди <strong>рд▓рд┐рдЦрддреЗ рд╣реИрдВ</strong> : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { fireWood = Random.Range(<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>); }</code> </pre> </div></div><br><p>  рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде рдПрдХ рд╡рд┐рдзрд┐ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдПрдХ рдЭрдЯрдХреЗ рдореЗрдВ рдХрд┐рддрдиреЗ рд▓реЙрдЧ рдЧрд┐рд░ рдЬрд╛рдПрдЧрд╛ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрдЧрд╛: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fireWoodCounter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fireWood; i++) { fireWood = fireWood - x; InstantiateFireWood(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fireWood; }</code> </pre> </div></div><br><p>  рдПрдХ рд╡рд┐рдзрд┐ рдЬреЛ рдордВрдЪ рдкрд░ рд▓реЙрдЧ рдХреНрд▓реЛрди рдмрдирд╛рдПрдЧреАред <br>  рдирд┐рдЬреА рд╢реВрдиреНрдп рдЭрдЯрдкрдЯрдлрд╝рд╛рдпрд░рд╡реВрдб (): </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"> { Instantiate(FireWoodPref, inst.position, inst.rotation); }</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/g6/sb/di/g6sbdisre8fpoe58lkkr3bvyeha.png"><br><p>  рдЖрдЗрдП рдПрдХ рд▓реЙрдЧ рдмрдирд╛рдПрдВ рдФрд░ рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рдореНрди рдХреЛрдб рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerEnter2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Player"</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount &gt; <span class="hljs-number"><span class="hljs-number">10</span></span>) { Debug.Log(<span class="hljs-string"><span class="hljs-string">"   !"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { InventoryOnHero.woodCount = InventoryOnHero.woodCount + <span class="hljs-number"><span class="hljs-number">1</span></span>; Destroy(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gameObject); } } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  рдЕрдЧрд▓рд╛, рд╣рдо рдПрдХ рд╡рд░реНрдЧ рднреА рдмрдирд╛рдПрдВрдЧреЗ рдЬреЛ рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрдЧрд╛ред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдмреИрдЧ рдореЗрдВ рдЬрдЧрд╣ рд╣реИ рдпрд╛ рдирд╣реАрдВред  рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рддреНрд░реБрдЯрд┐ рдФрд░ рд▓реЙрдЧ рдЭреВрда рд╣реИ, рдпрджрд┐ рдХреЛрдИ рд╕реНрдерд╛рди рд╣реИ, рддреЛ рд╣рдо рдПрдХ рдЗрдХрд╛рдИ рджреНрд╡рд╛рд░рд╛ рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдХреЛ рдлрд┐рд░ рд╕реЗ рднрд░рддреЗ рд╣реИрдВ рдФрд░ рд▓реЙрдЧ рдХреЛ рдирд╖реНрдЯ рдХрд░ рджреЗрддреЗ рд╣реИрдВред <br>  рдЗрд╕рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдЗрди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд╕рд╛рде рдХреБрдЫ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдкреБрд▓реЛрдВ рдФрд░ рд╕реАрдврд╝рд┐рдпреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдЕрд╡рд╕рд░ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдкреБрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдкреБрд▓ рдХреЗ рдмрд╛рдПрдВ рдФрд░ рджрд╛рдПрдВ рдЖрдзреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЗ рд╕рд╛рде 2 рдкреНрд░реАрдлреИрдм рдЪрд╛рд╣рд┐рдПред       <strong>BoxCollider2D</strong> .  ,    ,      - ,  . </p><br><p>        : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform inst1, inst2; <span class="hljs-comment"><span class="hljs-comment">//        [SerializeField] private GameObject bridgePref1, bridgePref2; //   [SerializeField] private int BridgeCount; //   ,   .   </span></span></code> </pre> </div></div><br><p> : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BuildBridge</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount == <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.LogWarning (<span class="hljs-string"><span class="hljs-string">" !"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { BridgeCount = BridgeCount - <span class="hljs-number"><span class="hljs-number">1</span></span>; InventoryOnHero.woodCount = InventoryOnHero.woodCount - <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (BridgeCount) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>: Inst1(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: Inst2(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: Debug.LogWarning(<span class="hljs-string"><span class="hljs-string">"-      "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  ,    ,       . ,   10 ,  12  8. </p><br><p> , ,      ,  ,    .  ,   1  ,      1   .    ,      5,   ,        .  0,   .  ,   . </p><br><p>      . </p><br><p>    ,   <strong>ColliderReaction.cs</strong> : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerStay2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Ladder"</span></span>: { rb2d.gravityScale = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerExit2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Ladder"</span></span>: { rb2d.gravityScale = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  <strong>OnTriggerStay2D</strong> ,          .  ,     0. ,        .  <strong>OnTriggerExit2D</strong>  ,              . </p><br><h3>  </h3><br><p> <em>,   .</em> </p><br><p>    19    ,           . ,       ,    ,  ,      ,   . </p><br><p>   GO,      <strong>SpriteRenderer</strong> , <strong>BoxCollider2D</strong> , <strong>Rigidbody2D</strong> . ,      тАФ ,        .       ,          ru.stackoverflow.com. </p><br><p><img src="https://habrastorage.org/webt/fu/uw/ri/fuuwriruf0zli9r6pwvprae_qba.png" alt="рдЫрд╡рд┐"></p><br><p>         <strong>Trees</strong> . </p><br><p> ,        . ,    -,      ,          Raycast     2     (4   ).  ,  ,   ,      (   ).        (    ),      .      ,      .     ,      ,       .  ,      . ,     ,                 (     ,      ). </p><br><p>   ,     .   ,       - . </p><br><p>     : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameObject area; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> m1 = <span class="hljs-literal"><span class="hljs-literal">true</span></span>, m2; <span class="hljs-comment"><span class="hljs-comment">// m  move private void fGreenMonster() { float dist = Vector3.Distance(greenMonster.transform.position, area.transform.position); Debug.Log(dist); if (m1) { if (dist &lt; 3f) { transform.position += new Vector3(speed,0,0) * Time.deltaTime; SR.flipX = true; } else { m1 = false; m2 = true; } } if (m2) { if(dist &gt;= 1f) { transform.position += new Vector3(-speed,0,0) * Time.deltaTime; SR.flipX = false; } else { m2 = false; m1 = true; } } }</span></span></code> </pre> </div></div><br><p>      <strong>Update()</strong>    ,        .   ,  3 ,   .   3,        ,     . </p><br><p><img src="https://habrastorage.org/webt/nf/4y/6e/nf4y6edxsifi9_m3eq56d0xlbtw.png" alt="рдЫрд╡рд┐"></p><br><p>  ,         . </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fSunFlower</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { canBullet = canBullet - minus * Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GameObject; newArrow.transform.position = transform.position; Rigidbody2D rb = newArrow.GetComponent&lt;Rigidbody2D&gt;(); rb.velocity = sunFlowerTrans.transform.forward * -sunFlowerBulletSpeed; canBullet = <span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GameObject; newArrow.transform.position = transform.position; Rigidbody2D rb = newArrow.GetComponent&lt;Rigidbody2D&gt;(); rb.velocity = sunFlowerTrans.transform.forward * sunFlowerBulletSpeed; canBullet = <span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre> </div></div><br><pre> <code class="cs hljs">canBullet = canBullet - minus * Time.deltaTime;</code> </pre> <br><p>   ,      . </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) }</code> </pre> </div></div><br><p>  ,  ,     ,   ,    : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Damage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { Health = Health - x; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Health; }</code> </pre> </div></div><br><p> , ,     : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ifDie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Damage(<span class="hljs-number"><span class="hljs-number">0</span></span>) &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { Destroy(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gameObject); } }</code> </pre> </div></div><br><p>   0,   . </p><br><p>  ,         : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bGreenMonster) { fGreenMonster(); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bSunFlower) { fSunFlower(); }</code> </pre> </div></div><br><p>   ,         . </p><br><p><img src="https://habrastorage.org/webt/-1/1s/ki/-11skihlzc3vevw5zqiuxstlmre.png" alt="рдЫрд╡рд┐"></p><br><p>   . </p><br><p>  ,      ? </p><br><p> ,       . </p><br><p>      : </p><br><img src="https://habrastorage.org/webt/7i/oe/3l/7ioe3lshbpcu-hkwa09wydzefbs.png"><br><p>  : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform Hero; <span class="hljs-comment"><span class="hljs-comment">//         [SerializeField] private float distWhatHeroSee; //   [SerializeField] private LayerMask Tree, BridgeBuild, LadderBuild ,drinkingWater, lEnemy; //  </span></span></code> </pre> </div></div><br><p>      ,         : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AttackBtn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CrossPlatformInputManager.GetButtonDown(<span class="hljs-string"><span class="hljs-string">"Attack"</span></span>)) { GameObject.Find(<span class="hljs-string"><span class="hljs-string">"Hero"</span></span>).GetComponent&lt;HeroScript&gt;().State = CharState.AttackA; Collider2D[] Trees = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, Tree); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Trees.Length; i++) { Trees[i].GetComponent&lt;TreeControl&gt;().fireWoodCounter(<span class="hljs-number"><span class="hljs-number">1</span></span>); Debug.Log(<span class="hljs-string"><span class="hljs-string">"Trees Collider"</span></span>); HeroScript.Water = HeroScript.Water - <span class="hljs-number"><span class="hljs-number">0.7f</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// BB  BridgeBuild Collider2D[] BB = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, BridgeBuild); for (int i = 0; i &lt; BB.Length; i++) { BB[i].GetComponent&lt;BridgeBuilding&gt;().BuildBridge(); HeroScript.Water = HeroScript.Water - 0.17f; }</span></span></code> </pre> </div></div><br><pre> <code class="cs hljs">GameObject.Find(<span class="hljs-string"><span class="hljs-string">"Hero"</span></span>).GetComponent&lt;HeroScript&gt;().State = CharState.AttackA;</code> </pre> <br><p>      ,          . <br> ,   : </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="cs hljs">Collider2D[] Trees = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, Tree); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Trees.Length; i++) { Trees[i].GetComponent&lt;TreeControl&gt;().fireWoodCounter(<span class="hljs-number"><span class="hljs-number">1</span></span>); Debug.Log(<span class="hljs-string"><span class="hljs-string">"Trees Collider"</span></span>); HeroScript.Water = HeroScript.Water - <span class="hljs-number"><span class="hljs-number">0.7f</span></span>; }</code> </pre> </div></div><br><p>   <strong>Trees</strong> ,      .      ,        ,       ,    .         . <br>  ,            . Simple as that! </p><br><p>   , -    : </p><br><p><img src="https://habrastorage.org/webt/x6/cg/du/x6cgduvtlqneym3ulljopmfy2yo.png" alt="рдЫрд╡рд┐"></p><br><p>      ,       тАФ  . <br>   ,      .  ,         ,    ,     . </p><br><p>   2        ,                     . </p><br><p> ! </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="></a> . </p><br><p>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://opengameart.org/</a> ,  : </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">  </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="></a> </li><li>   Unity  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ru.stackoverflow.com</a> </li><li>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Google Play</a> </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Google Play</a> </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">sourceforge.net.</a> <br>             worldofonehero@gmail.com. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi458846/">https://habr.com/ru/post/hi458846/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi458834/index.html">рдкреЙрд▓ рдПрд▓рди рдХреЗ рд╡реНрдпрдХреНрддрд┐рддреНрд╡ рдХрд╛ рдкрдХреНрд╖, рдЬрд┐рд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЙрддрдиреЗ рд▓реЛрдЧреЛрдВ рдХреЛ рдирд╣реАрдВ рдкрддрд╛ рдерд╛ рдЬрд┐рддрдирд╛ рдореИрдВ рдЪрд╛рд╣реВрдВрдЧрд╛</a></li>
<li><a href="../hi458836/index.html">рдмреЛрд░реНрд╕реНрдЪ рдЗрдВрдбреЗрдХреНрд╕ред рдореВрд▓реНрдп / рдЧреБрдгрд╡рддреНрддрд╛ рдЕрдиреБрдкрд╛рдд рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг, рддреБрд▓рдирд╛, рдирд┐рд░реНрдзрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рджреГрд╖реНрдЯрд┐рдХреЛрдг</a></li>
<li><a href="../hi458840/index.html">рдХреИрд╕реЗ рд╣рдо рдорд╣рд╛рди рдЪреАрдиреА рдлрд╝рд╛рдпрд░рд╡реЙрд▓ (2 рднрд╛рдЧ) рдЫреЗрджрд╛</a></li>
<li><a href="../hi458842/index.html">рдзреИрд░реНрдп рдФрд░ рд╢реНрд░рдо рдкреВрд░реЗ рдкрд╛рда рдХреЛ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓ рджреЗрдЧрд╛</a></li>
<li><a href="../hi458844/index.html">рд╡реЗрд░рд┐рд╕реНрдо тДв рдЕрдиреБрдХреВрд▓рди рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд╛рдЗрд▓реЛ рд╡рд┐рдирд╛рд╢</a></li>
<li><a href="../hi458848/index.html">рдЬрдВрдЧ 1.36.0 рд░рд┐рд▓реАрдЬ: рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓рдХреНрд╖рдг, рдЖрд╡рдВрдЯрди рд╕реНрдерд┐рд░реАрдХрд░рдг рдФрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпреВрдиреЗрдЯрд┐рдЯ <рдЯреА></a></li>
<li><a href="../hi458850/index.html">рд╕рд╕реНрддреЗ рдФрд░ рдХреБрд╢рд▓рддрд╛ рд╕реЗ рдЕрдВрдЧреНрд░реЗрдЬреА рд╕реАрдЦреЗрдВред рднрд╛рдЧ реи</a></li>
<li><a href="../hi458854/index.html">MotionLayout: рдПрдирд┐рдореЗрд╢рди рдмреЗрд╣рддрд░, рдХрдо рдХреЛрдб рд╣реИрдВ</a></li>
<li><a href="../hi458856/index.html">рд╕рд╕реНрддреА рдФрд░ рдорд╣рдВрдЧреА рдПрдПрдП рдмреИрдЯрд░реА</a></li>
<li><a href="../hi458860/index.html">PostgreSQL рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдиреЗрд▓ рдкреИрд░рд╛рдореАрдЯрд░ рдЯреНрдпреВрдирд┐рдВрдЧ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>