<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçüè´ üôçüèø üëº MIT-Kurs "Computer Systems Security". Vorlesung 11: Ur / Web-Programmiersprache, Teil 3 üññ üëäüèº üè§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Massachusetts Institute of Technology. Vorlesung # 6.858. "Sicherheit von Computersystemen." Nikolai Zeldovich, James Mickens. 2014 Jahr 
 Computer Sy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MIT-Kurs "Computer Systems Security". Vorlesung 11: Ur / Web-Programmiersprache, Teil 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/426001/"><h3>  Massachusetts Institute of Technology.  Vorlesung # 6.858.  "Sicherheit von Computersystemen."  Nikolai Zeldovich, James Mickens.  2014 Jahr </h3><br>  Computer Systems Security ist ein Kurs zur Entwicklung und Implementierung sicherer Computersysteme.  Die Vortr√§ge behandeln Bedrohungsmodelle, Angriffe, die die Sicherheit gef√§hrden, und Sicherheitstechniken, die auf j√ºngsten wissenschaftlichen Arbeiten basieren.  Zu den Themen geh√∂ren Betriebssystemsicherheit, Funktionen, Informationsflussmanagement, Sprachsicherheit, Netzwerkprotokolle, Hardwaresicherheit und Sicherheit von Webanwendungen. <br><br>  Vorlesung 1: ‚ÄûEinf√ºhrung: Bedrohungsmodelle‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 2: ‚ÄûKontrolle von Hackerangriffen‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 3: ‚ÄûPuffer√ºberl√§ufe: Exploits und Schutz‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 4: ‚ÄûTrennung von Privilegien‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 5: ‚ÄûWoher kommen Sicherheitssysteme?‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> <br>  Vorlesung 6: ‚ÄûChancen‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 7: ‚ÄûNative Client Sandbox‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 8: ‚ÄûNetzwerksicherheitsmodell‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 9: ‚ÄûSicherheit von Webanwendungen‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 10: ‚ÄûSymbolische Ausf√ºhrung‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 11: ‚ÄûUr / Web-Programmiersprache‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <a name="habracut"></a><br><br>  Das Letzte, was wir tun m√ºssen und was sehr lehrreich sein wird, ist, diesen Code durch Angabe des Raummoduls dort zu √§ndern und dann wie im vorherigen Beispiel auf den Raumtisch zuzugreifen.  Diese Option ist nicht zul√§ssig, da dies nicht zul√§ssig ist. <br><br><img src="https://habrastorage.org/webt/lq/cl/1b/lqcl1bhdj-8n1iwdldrcdud9aae.jpeg"><br><br>  Dies w√§re so, als k√∂nnten Sie private Klassenfelder in Java lesen und schreiben.  In der Tat erhalten wir eine ziemlich einfache Nachricht, die besagt, dass wir hier eine nicht verwandte Variable haben, einen unbekannten Ausdruck f√ºr den Raumparameter. <br><br><img src="https://habrastorage.org/webt/4m/1g/_x/4m1g_xnn66lyaelr9s4uxpco8lg.jpeg"><br><br>  Wir k√∂nnten dieses Add-On-Modul erw√§hnen, das wir nur zum Spa√ü erstellt haben. <br><br><img src="https://habrastorage.org/webt/_a/d9/xt/_ad9xtpqlfi614nkm7p7ncnoubg.jpeg"><br><br>  Aber dann werden es andere Tabellen sein.  Wir k√∂nnen leicht darauf zugreifen.  Daher werde ich es in zwei Teile aufteilen. Wir werden zun√§chst einfach die Raummethode aufrufen und dann etwas anderes tun, um ihre Elemente zu lesen. <br><br><img src="https://habrastorage.org/webt/-v/oo/uw/-voouwvojaigv3v_pwgm8hjwdpo.jpeg"><br><br>  Zeigen Sie eine Liste der Ergebnisse an und nicht umgekehrt. Dies entspricht in etwa der vorherigen Funktionsweise des Programms, mit Ausnahme der Verwendung verschiedener Datentypen.  Mal sehen, was daraus wird.  Jetzt kehren wir zu unserem Chat in Raum 1 zur√ºck und geben alle Nachrichten in die Zeile ein.  Sie sehen, dass sie alle fehlerfrei angezeigt werden. <br><br><img src="https://habrastorage.org/webt/o0/he/wy/o0hewytedbbixmmshkq12gybvp4.jpeg"><br><br>  Das hei√üt, jetzt haben wir diese Kapselung, sodass Sie sich die Struktur dieses Raums als Bibliothek vorstellen k√∂nnen, sich aber keine Sorgen machen m√ºssen. <br><br>  Es gibt verschiedene Stellen, die die interne Invarianz eines Systems besch√§digen k√∂nnen.  Vielleicht m√∂chten Sie, dass die Nachricht nach dem Hinzuf√ºgen niemals verschwindet.  All dies steht in den Zeitschriften.  Diese Struktur bietet solche Eigenschaften unabh√§ngig von anderem Code, z. B. dem, auf dem das Chatroom-Modul geschrieben ist. <br><br>  <b>Student:</b> Sie haben also die Definition des Raums ge√§ndert. Was w√ºrde in diesem Fall mit der Datenbanktabelle passieren? <br><br>  <b>Professor: Sie</b> m√ºssen den Befehl alter table manuell ausf√ºhren, wenn Sie die alten Daten behalten m√∂chten.  Beim Start der Anwendung wird jedoch das Systemdatenbankverzeichnis abgefragt und √ºberpr√ºft, ob das Schema weiterhin den Erwartungen entspricht.  Dann erhalten Sie einen statischen Fehler.  Ich hoffe, dies gibt Ihnen einen Hinweis darauf, was Sie in der Datenbank √§ndern sollten. <br><br>  <b>Student:</b> aber es wird nicht automatisch die Datenbank oder so etwas l√∂schen? <br><br>  <b>Professor:</b> Ich hoffe nicht.  Ich denke nicht, dass der Compiler dies tun sollte.  Sie k√∂nnen sich vorstellen, den Compiler anzupassen, um die Entwicklung der Datenbank zu verstehen.  Ich denke, Sie m√ºssen alter table-Befehle schreiben, um zu starten, da der Compiler dies derzeit nicht tut. <br><br><img src="https://habrastorage.org/webt/eo/je/bg/eojebgjidagcmajm7estxbmexsc.jpeg"><br><br>  Lassen Sie uns nun √ºber die F√§lschung von standort√ºbergreifenden Anfragen und deren Pr√§vention sprechen.  Bevor wir dies tun, schauen wir uns den Code auf dieser Seite an.  Wir haben ein traditionelles HTML-Formular, das hier generiert wird.  Und nat√ºrlich gibt es keinen Schutz gegen F√§lschung von standort√ºbergreifenden Anfragen, und ich denke, das ist gut.  Denn nach meinem Verst√§ndnis besteht das Problem der F√§lschung von standort√ºbergreifenden Anforderungen im impliziten Kontext, den die Anwendung mit jeder Anforderung sendet. <br><br>  Angenommen, es gibt eine Art Angreifer, der Ihren impliziten Kontext nicht kennt.  Angenommen, Ihr Passwort wird in einem Cookie gespeichert, ein sehr einfaches Beispiel.  Und wenn der Angreifer Sie t√§uscht, wenn Sie auf den Link zu der von ihm ben√∂tigten Anwendung klicken, sendet der Browser automatisch einen impliziten Kontext und zwingt die Anwendung, das zu tun, was der Angreifer nicht direkt tun konnte. <br><br><img src="https://habrastorage.org/webt/le/1b/wt/le1bwtuntlm1h57fs04fo5ddo-e.jpeg"><br><br>  In diesem Fall gibt es keinen impliziten Kontext, sodass kein Risiko besteht, standort√ºbergreifende Anforderungen zu f√§lschen.  M√∂chte jemand diese Funktion des Systems herausfordern, bevor ich fortfahre?  Es kann f√ºr mich sehr informativ sein.  Wenn nicht, f√ºgen Sie hier einen impliziten Kontext hinzu.  In diesem Fall wird das System automatisch die richtigen Gegenma√ünahmen ergreifen, basierend auf der Analyse des Programms, das versteht, dass es jetzt einen impliziten Kontext gibt. <br><br>  Jetzt werde ich hier Cookies einf√ºgen.  Als weiteres Beispiel f√ºr die Modulkapselung werde ich hier ein ganzes Benutzerauthentifizierungssystem vorstellen, in dem wir Benutzerkonten und abstrakte Arten von Kennungen und Kennw√∂rtern haben.  Daher k√∂nnen Sie den Wert eines dieser Datentypen nicht einfach direkt erstellen.  Sie m√ºssen eine genehmigte Methode zum Erstellen von Werten dieser Typen durchlaufen. <br><br>  Ich werde den Tisch direkt in die Unterschrift setzen.  Und ich werde es auch einschr√§nken, indem ich sage, dass der Schl√ºssel dazu das ID-Formular ist. <br><br><img src="https://habrastorage.org/webt/ax/ci/7o/axci7otxzeirl84vccpxjnlq7cq.jpeg"><br><br>  Tatsache ist jedoch, dass in dieser Benutzertabelle die ID und das Kennwort abstrakte Datentypen sind.  Daher kann der Code das Kennwort nicht sehen und nicht alle Bezeichner konsistent generieren und in dieser Tabelle ausprobieren.  Da ein abstrakter Typ verwendet wird, ist es unm√∂glich festzustellen, wie die ID aussieht, und es ist unm√∂glich, ein Kennwort zu finden.  Sie kommen gerade von diesem Tisch und das sind undurchsichtige Token. <br><br>  Aber wir k√∂nnten zulassen, dass sie Abwasser sind.  M√∂glicherweise m√∂chten Sie eine Konvertierungsrichtung zwischen Zeichenfolgen und diesen Typen zulassen.  Jetzt werde ich hier etwas tun, haupts√§chlich die Details, und ich werde nicht versuchen, sie zu erkl√§ren.  Dies entspricht jedoch der Erkl√§rung, dass Sie Zeichenfolgen in ID konvertieren d√ºrfen.  F√ºr diejenigen, die mit Haskell vertraut sind, ist dies eine Instant-Typ-Klasse, diese Berechtigung, Zeichenfolgen in IDs umzuwandeln. <br><br><img src="https://habrastorage.org/webt/sp/to/jh/sptojh8mtta3h7iybbruu9atirs.jpeg"><br><br>  Wir werden keine weitere Berechtigung anwenden, da wir die ID nicht wieder in etwas anderes verwandeln m√∂chten.  Machen wir dasselbe f√ºr das Passwort.  Wir m√∂chten das Passwort des Benutzers lesen k√∂nnen, aber wir werden das Passwort nicht akzeptieren und es in eine Zeichenfolge umwandeln, die uns mitteilt, dass der Benutzer den Chat betreten hat. <br><br>  Auf diese Weise k√∂nnen andere Teile des Codes das Kennwort vom Benutzer akzeptieren, in diesen Typ konvertieren und zur √úberpr√ºfung zum Benutzermodul transportieren.  Sie k√∂nnen jedoch nicht die Benutzertabelle abfragen und alle Kennw√∂rter in einer Form abrufen, aus der sie ihren Textausdruck extrahieren k√∂nnen. <br><br>  Dann k√∂nnen wir eine Anmeldemethode haben, die diese beiden Komponenten, ID und Passwort, akzeptiert und nur als Nebeneffekt wirkt, der tats√§chlich im Code angegeben ist.  Wir m√ºssen auch herausfinden, welcher Benutzer registriert ist.  Dies ist der Code, der die Transaktion ausf√ºhrt, mit der die ID erstellt wird. <br><br><img src="https://habrastorage.org/webt/8x/na/j8/8xnaj8mitfi-5rqiq7hl-snqq6c.jpeg"><br><br>  Der erste Schritt besteht darin, diese Definition einfach zu kopieren.  Und dann kommt eine √úberraschung.  Es stellt sich heraus, dass die Benutzer-IDs und Kennw√∂rter Zeichenfolgen sind, aber dieser Umstand wird au√üerhalb des Moduls nicht bekannt gegeben. <br><br><img src="https://habrastorage.org/webt/1k/-l/ny/1k-lnyojw9-zowxahm6pqfkrp20.jpeg"><br><br>  Jetzt werden wir Cookies erstellen.  Cookies sind eine weitere Sache, die in die Sprache integriert ist.  Tats√§chlich fungieren sie als ver√§nderbare globale Variablen, die f√ºr jeden Client, der Ihre Anwendung verwendet, eine Kopie haben. <br><br>  Daher erstellen wir ein Cookie, in dem f√ºr jeden Benutzer einfach eine Kopie der beiden Felder gespeichert wird, die wir hier haben. <br><br><img src="https://habrastorage.org/webt/f2/rw/om/f2rwomhtpjbhtsvvh206wswxtne.jpeg"><br><br>  Diese Cookies sind f√ºr dieses Modul privat.  Andere Teile des Codes k√∂nnen Cookies nicht lesen, da sie dieses private Feld einfach nicht haben.  So kann niemand die ID und das Passwort, die f√ºr diesen Benutzer gespeichert sind, direkt sehen.  Sie werden jedoch beim Anzeigen verschiedener Seiten gespeichert, wie dies bei normalen Cookies der Fall ist. <br><br>  Jetzt werde ich die Anmeldefunktion einf√ºgen, die den Prozess zum √úberpr√ºfen der Datenbank startet und herausfindet, ob dies wirklich das richtige Paar aus Benutzername und Passwort ist.  Bei diesem Vorgang wird nur gepr√ºft, ob in der Datenbank eine Zeile mit dieser Benutzer-ID und diesem Kennwort gefunden wird. <br><br>  Wenn wir es finden, dann gut, dann ist dies die richtige Bedeutung.  Speichern wir dies einfach in Cookies.  Wir verwenden eine Methode, die den Wert eines Cookies √§ndert.  Und wir m√ºssen hier einige Dinge einf√ºgen, der Einfachheit halber werde ich sagen, dass dieser Cookie nicht abl√§uft.  Ich m√∂chte hier kein SSL ausf√ºhren, daher sage ich, dass wir in diesem Fall keine Sicherheit ben√∂tigen, und setze den Parameter Secure = false. <br><br>  Aber wenn Sie sich wirklich um Sicherheit k√ºmmern, schreiben Sie nat√ºrlich Secure = true.  Wenn die Pr√ºfung fehlschl√§gt und das Modul einen Fehler meldet, stoppt das Programm und beschreibt diesen Fehler. <br><br><img src="https://habrastorage.org/webt/nm/zq/ql/nmzqqlpz1iiuywxpp-ykkxgkbsq.jpeg"><br><br>  Schlie√ülich k√∂nnen wir diese Funktion erstellen, die angibt, welcher bestimmte Benutzer angemeldet ist, indem der aktuelle Cookie-Wert empfangen wird.  Dieser Parameter kann auch auf none gesetzt werden, wenn sich der Benutzer noch nicht angemeldet hat. In diesem Fall wird eine weitere Fehlermeldung angezeigt.  Oder es k√∂nnte eine Art Aufzeichnung des genauen Typs sein, den wir oben verwendet haben.  Also kopiere ich es einfach hier und f√ºhre die gleiche Pr√ºfung durch.  Wenn dies funktioniert, geben wir einfach den Teil des ID-Datensatzes zur√ºck, den wir gerade in der Datenbank √ºberpr√ºft haben. <br><br><img src="https://habrastorage.org/webt/go/kt/l1/goktl14i1ghmh09xw1lxmkhuhoc.jpeg"><br><br>  Lassen Sie mich das einfach √ºberpr√ºfen.  Wir starten den Compiler und Sie sehen das Ergebnis auf dem Bildschirm. <br><br><img src="https://habrastorage.org/webt/41/ce/g7/41ceg7zqyldmdfdq31s7cf7oaum.jpeg"><br><br>  Zentral f√ºr all diese Implementierungsdetails.  Aber au√üerhalb dieses Moduls denken wir aus Sicht der Schnittstelle dar√ºber nach.  Es gibt einige unbekannte Arten von IDs und Passw√∂rtern.  Diese Benutzertabelle enth√§lt Begriffe, mit denen Sie Zeichenfolgen in Bezeichner und Kennw√∂rter umwandeln k√∂nnen, nicht jedoch umgekehrt.  Wir haben diese beiden Methoden, um zuerst die Anmeldung einzugeben, und es wird √ºberpr√ºft, welcher Benutzer zu diesem Zeitpunkt angemeldet ist.  Haben Sie Fragen dazu? <br><br>  <b>Student:</b> M√ºssen Sie die Benutzertabelle erweitern? <br><br>  <b>Professor:</b> Ich mache das, weil ich es sp√§ter als Fremdschl√ºssel verwenden m√∂chte, also ist dies kein wichtiger Grund.  Wir sind also fast an dem Punkt angelangt, an dem ich Ihnen den CSRF-Schutz in Aktion zeigen kann. <br><br>  Zun√§chst ist das Anmelden am System recht einfach.  Was k√∂nnen wir an dieser Stelle im Programm noch tun?  F√ºgen wir hier einfach einen weiteren Teil der Seite hinzu, der besagt, dass Sie hier das Login eingeben.  Hier m√ºssen Sie den Benutzernamen und das Passwort eingeben und dann auf die Schaltfl√§che Aktion senden klicken.  Diese Aktion ruft die Anmeldefunktion auf. <br><br><img src="https://habrastorage.org/webt/p1/s6/hs/p1s6hsyomulyl0n0xso9bhy6ubw.jpeg"><br><br>  Definieren wir Login als eine Funktion, die diese Dinge tut.  Tats√§chlich handelt es sich nur um einen Wrapper zum Aufrufen der Anmeldefunktion aus diesem Modul, in dem wir jede der Komponenten nehmen und von einer Zeichenfolge in einen abstrakten Typ konvertieren. <br><br><img src="https://habrastorage.org/webt/sd/hn/8_/sdhn8_z1ixaqdhxvthw9xwoygke.jpeg"><br><br>  Sie sucht nach einem Lesefehler.  Der Fehler bedeutet, dass, wenn die Anmeldung nicht funktioniert, der Vorgang an dieser Stelle unterbrochen wird und die Funktion zum Hauptteil des Programms zur√ºckkehrt. <br>  Jetzt k√∂nnen wir uns einloggen.  Wir werden wahrscheinlich ein Konto erstellen wollen, mit dem wir uns anmelden k√∂nnen. Lassen Sie mich also einen Benutzer mit dem Benutzernamen a und dem Passwort a erstellen. <br><br><img src="https://habrastorage.org/webt/ik/kq/go/ikkqgobwhfsupe2uzoimf_ek5fe.jpeg"><br><br><img src="https://habrastorage.org/webt/tv/hb/en/tvhbenxm6qxvijq7ifhfap8v-g8.jpeg"><br><br>  Jetzt kann ich mich als Benutzer einloggen, mein Wort daf√ºr nehmen.  Wir haben eine Reihe von Cookies, um diese Informationen aufzuzeichnen. Gehen wir also in den Chatraum und senden Sie eine Nachricht, zum Beispiel asfasf.  Sie sehen, dass nach dem Klicken auf die Schaltfl√§che Hinzuf√ºgen im Chat angezeigt wird. <br><br><img src="https://habrastorage.org/webt/-v/l6/6m/-vl66mfy3oektu_serlrv4enir4.jpeg"><br><br>  Tats√§chlich haben wir hier keine Zugriffskontrolle hinzugef√ºgt, sodass hier nichts Besonderes passiert.  Aber wir k√∂nnen √ºberpr√ºfen. <br><br><img src="https://habrastorage.org/webt/co/xw/fa/coxwfac0s4ysqowm6laeuge4xhe.jpeg"><br><br>  Es gibt hier Cookies, aber das System hat festgestellt, dass wir keine Cookies verwenden.  Wenn wir dieses Formular senden, ist der Cookie nicht lesbar.  Daher ist es bisher nicht erforderlich, hier einen CSRF-Schutz hinzuzuf√ºgen.  Jetzt m√ºssen wir eine M√∂glichkeit hinzuf√ºgen, Cookies zu verwenden und zu sehen, wie sich der Schutz manifestiert. <br><br>  <b>Student:</b> Was ist Cookie-Inhalt? <br><br>  <b>Professor:</b> Dies ist der Inhalt, den Sie vom Code erwarten.  Mit anderen Worten, das Cookie hat den Typ dieses Datensatzes - Kennung und Kennwort. <br><br><img src="https://habrastorage.org/webt/ao/vi/fc/aovifcoydtayum942uhjpil-ewk.jpeg"><br><br>  Genau das ist dort also in einer bestimmten serialisierten Form enthalten.  Verwenden wir jetzt tats√§chlich Cookies.  Wir sollten dies sehen, obwohl wir das Cookie indirekt verwenden werden, da wir es im Raummodul verwenden werden, was nichts mit Cookies zu tun hat.  Wir werden jedoch benutzerdefinierte Modulmethoden aufrufen, die indirekt mit der Verwendung von Cookies zusammenh√§ngen.  Und dann wird das System verstehen, dass dies bedeutet, dass wir davon abh√§ngig sind. <br><br>  Machen wir es also ganz einfach und rufen die whoami-Methode auf.  Tats√§chlich werde ich es einfach ignorieren oder umgekehrt, lass ihn etwas tun.  Lassen Sie uns entscheiden, dass der von uns erstellte Benutzer wirklich etwas Besonderes ist und nur dieser Benutzer etwas posten kann.  Ist dies nicht der Fall, erhalten wir eine Fehlermeldung. <br><br><img src="https://habrastorage.org/webt/g9/6a/sl/g96aslxn7mcopzcmbkqp1a6mv8c.jpeg"><br><br>  Ich werde dem Benutzermodul eine ID hinzuf√ºgen, und dann sollte dies funktionieren, da der ID-Typ die Gleichheitspr√ºfung unterst√ºtzt. <br><br><img src="https://habrastorage.org/webt/z5/ka/ia/z5kaialskkermc7kjbrm37ctp7a.jpeg"><br><br>  Jetzt sollte alles in Ordnung sein, und wir k√∂nnen mit dieser ID mehr tun, was einige Sicherheitsprobleme verursachen kann. <br><br><img src="https://habrastorage.org/webt/14/-t/yp/14-typltmad_rnxmo_czeyedvr8.jpeg"><br><br>  Auf diese Weise k√∂nnen wir eine Zugriffskontrollpr√ºfung hinzuf√ºgen. Sehen wir uns also an, wie dies funktioniert, und kehren zur Hauptseite zur√ºck. <br><br><img src="https://habrastorage.org/webt/ol/pl/-b/olpl-br8rs9ne6c7yoim_luhdyg.jpeg"><br><br>  Nun erschienen diese vier Buchstaben "a" im Chat. <br><br>  In der Schnittstellenkonsole sehen wir, dass das Formular jetzt automatisch den versteckten Eingabenamen sig erhalten hat, der die kryptografische Signatur der Werte aller Cookies darstellt.  Dieses Sig signierte Cookies mit einem Schl√ºssel, der f√ºr den Server geheim ist.  Und wenn das Formular fertig ist, wei√ü die Anwendung - weil der Compiler es ihm mitgeteilt hat -, dass die Anwendung die Signaturen f√ºr die n√§chsten Operationen √ºberpr√ºfen sollte.  Daf√ºr haben wir ein Mitspracherecht. <br><br><img src="https://habrastorage.org/webt/jq/gu/ij/jqguijif9ny_uoz7nkbtw8jli3e.jpeg"><br><br>  <b>Student:</b> Haben die Unterschriften eine Art Zeitstempel? <br><br>  <b>Professor:</b> Nein, Unterschriften haben keine Zeitstempel. <br><br>  <b>Student:</b> In diesem Fall k√∂nnte ein Angreifer, der es geschafft hat, diese Daten auszuspionieren, vorgeben, ein Benutzer zu sein, da diese Cookies niemals ablaufen. <br><br>  <b>Professor:</b> Ja, es l√§uft nie ab.  Dies kann ge√§ndert werden, indem einfach die Sprachimplementierung ge√§ndert wird, ohne die Anwendungen zu √§ndern, und diese dann schnell bereitgestellt wird.  Aber jetzt ist das nicht hier.  Und ich verstehe, warum dies n√ºtzlich w√§re, um hinzuzuf√ºgen. <br><br>  <b>Student:</b> Sie k√∂nnen dies auch beheben, indem Sie einfach einen Zeitstempel auf die Signatur setzen. <br><br>  <b>Professor:</b> Ja, Sie haben Recht, Sie k√∂nnen die Anwendung so √§ndern, dass die Cookie-Daten absichtlich oft genug ge√§ndert werden, dh die Signatur l√§uft ab. <br>  <b>Student:</b> K√∂nnen Sie URLs neu zuweisen? <br><br>  <b>Professor:</b> Ja, welche Neuzuweisung m√∂chten Sie sehen? <br><br>  <b>Student:</b> Ich m√∂chte nur sehen, wie das gemacht wird. <br><br>  <b>Professor:</b> Also, der Compiler weist zu ... wie wir sehen, haben wir die Funktion say aufgerufen, und dieser Funktionsaufruf wird als eine bestimmte Form von URL serialisiert.  Angenommen, wir m√∂gen dieses Formular nicht. <br><br><img src="https://habrastorage.org/webt/xb/hs/dx/xbhsdxk5qkrjihios4qdpccye-k.jpeg"><br><br>  Wir beschlossen, die URL sozusagen innerhalb des Raummoduls und innerhalb der Demo neu zu schreiben.  Besser dranbleiben.  Also wollen wir die URL Demo / Room / say zu Demo / Room / Speak neu zuweisen. <br><br><img src="https://habrastorage.org/webt/d4/is/y7/d4isy713jhdomsgp40du31ot604.jpeg"><br><br>  Wir starten den Compiler und gehen zum Hauptbildschirm der Anwendung.  Mal sehen, was passiert.  Alles ist in Ordnung, wir k√∂nnen auch beliebige Textnachrichten eingeben und diese erscheinen in der Chat-Zeile.  In diesen Regeln k√∂nnen Sie unvorhersehbare Zeichen verwenden, um ein Pr√§fix durch ein anderes zu ersetzen. Der Compiler stellt sicher, dass jede Funktion √ºber ein separates URL-Schema verf√ºgt. Die URL wird jedoch standardm√§√üig automatisch generiert. <br><br>  <b>Student:</b> Sie haben erw√§hnt, dass HTML nicht spezifisch f√ºr den Compiler ist, sondern nur eine Bibliothek.  Gibt es andere Bibliotheken f√ºr andere Formate? <br><br>  <b>Professor:</b> Es gibt andere Bibliotheken, die den Typ nicht mit der gleichen funktionalen Vollst√§ndigkeit pr√ºfen, aber zum Beispiel gibt es eine Bibliothek zum Serialisieren und Deserialisieren von JSON und eine gro√üe Anzahl automatisierter Methoden zum Verwalten der Typstruktur.  Auf diese Weise k√∂nnen Sie Dinge tun, die nicht in den Compiler integriert sind. <br><br>  <b>Student:</b> Nehmen wir an, wir m√∂chten immer noch in JavaScript schreiben, um beispielsweise einige Dinge auf der Seite zu animieren ... <br><br>  <b>Professor:</b> Lassen Sie mich die Ajax-Version herunterladen, die Ihre Frage beantwortet.  Diese Version enth√§lt clientseitigen Code.  Fahren wir einfach mit einer Version des Programms namens demo3 fort.  Ich habe die Daten auf der Hauptseite in der Chat-Zeile eingegeben und sie wurden auch am Ende des Chats angezeigt.  Ob Sie es glauben oder nicht, diesmal funktionierte das Add-In mit einem Ajax-Aufruf.  Dies ist auf den Wert der Schaltfl√§chenkennzeichnung zur√ºckzuf√ºhren.  Es verf√ºgt √ºber ein Onclick-Attribut. Wenn der Benutzer auf die Schaltfl√§che klickt, funktioniert der gesamte Code unterhalb der Zeile mit diesem Attribut auf der Clientseite. <br><br><img src="https://habrastorage.org/webt/es/pu/me/espumedw6lwlmlwxf_zihskonai.jpeg">  ]] <br><br>  Dies ist jedoch Ur / Web-Code, dies ist kein JavaScript-Code.  Der Compiler √ºbersetzt dies f√ºr Sie in JavaScript und stellt sicher, dass die gew√ºnschten Eigenschaften f√ºr Abstraktionen in unserer Liste gespeichert werden, wenn der Benutzer nicht manuell im Browser daran basteln m√∂chte. <br><br>  Student: Ich denke, dass es heute viele Bibliotheken gibt, die n√ºtzliche und in vielen F√§llen komplexe Dinge tun, wenn Sie alles selbst neu codieren m√∂chten.  Gibt es eine M√∂glichkeit, mit JavaScript aus Ur / Web zu interagieren? <br><br>  <b>Professor:</b> Ja, es gibt eine externe Funktionsschnittstelle, √ºber die Sie JavaScript-Funktionsnamen und -Aufrufen Ur / Web-Funktionsnamen zuweisen k√∂nnen.  Wenn Sie jedoch die Schnittstelle einer externen Funktion verwenden, k√∂nnen Sie nicht mehr alle diese n√ºtzlichen Konstruktionsfunktionen verwenden.  In diesem Fall m√ºssen Sie sehr vorsichtig sein. <br><br>  Sie m√ºssen die Implementierung einiger dieser Abstraktionen verstehen, um sie nicht zu beeintr√§chtigen.  Solange ich diesen Code habe, m√∂chte ich Ihnen etwas anderes zeigen. <br><br>  Wir haben immer noch die gleiche Funktion wie zuvor.  Aber jetzt, anstatt es als Referenz aufzurufen, nehmen wir nur einen Funktionsaufruf, der mit Argumenten gef√ºllt ist, die aus dem Kontext des Onclick-Handlers stammen. <br><br><img src="https://habrastorage.org/webt/wt/jr/re/wtjrrewr_9dni8-z5u_aaw5bm_i.jpeg"><br><br>  Wir verpacken diese Funktion einfach in die RPC-Syntax.  Dies bedeutet, dass dies eine clientseitige Anruffunktion ist, der Aufruf selbst jedoch auf dem Server mit Zugriff auf die Datenbank und andere Serverressourcen gestartet wird und das Ergebnis dann hierher zur√ºck √ºbertr√§gt. <br><br>       ,     ,      JavaScript     . <br>           ,     .   ,        ,     ,       . <br><br><img src="https://habrastorage.org/webt/of/wz/j1/ofwzj1yseezr5sbgdnllh6ddr4i.jpeg"><br><br>  , ,     ,        .  ,      ,  . <br><br>  ,   -     ,     .       GUI     ,       , , ,      . <br><br>           ,     ,    ,   .     ,       DOM.    ,            ,       . <br><br><img src="https://habrastorage.org/webt/rw/dz/hy/rwdzhy-stenvyaaa3wrzvb1bcrq.jpeg"><br><br>     ,        GUI,         ,   ,        ,   . <br><br> ,    ,     . <br><br> <b>:</b> ? <br><br> <b>:</b>   ,      ,     .      ,      -      . <br><br> <b>:</b>       .    ,     ? <br><br><img src="https://habrastorage.org/webt/q1/00/us/q100us_wg7adgt1d53dq-nbxhom.jpeg"><br><br> <b>:</b>   ‚Äî          .   ,     .    ,       ,   .             ,         . <br><br> <b>:</b>         ‚Äî Ur? <br><br> <b>:</b> Ur ‚Äî    ,   ,     .    ,          .        . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> . <br><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?  Unterst√ºtzen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% f√ºr Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir f√ºr Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit √ºber VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis Dezember kostenlos,</b> wenn Sie f√ºr einen Zeitraum von sechs Monaten bezahlen, k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> bestellen. <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426001/">https://habr.com/ru/post/de426001/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de425991/index.html">Wie wir Hosting erstellt haben</a></li>
<li><a href="../de425993/index.html">Wie man die geschlechtsspezifische Kluft in der Technologie √ºberbr√ºckt</a></li>
<li><a href="../de425995/index.html">Visualisieren Sie FHIR - den IT-Standard f√ºr die Medizin</a></li>
<li><a href="../de425997/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 11: Ur / Web-Programmiersprache, Teil 1</a></li>
<li><a href="../de425999/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 11: Ur / Web-Programmiersprache, Teil 2</a></li>
<li><a href="../de426009/index.html">Epic Fail Resistance 1 oder Fox schlichen sich unbemerkt an. Testen von Anonymit√§t und Sicherheit + VPN f√ºr den Benutzer</a></li>
<li><a href="../de426013/index.html">Karriere Steroide</a></li>
<li><a href="../de426015/index.html">Einsatz ges√§gter ziviler Drohnen f√ºr die professionelle geod√§tische Luftaufnahme des Gebiets</a></li>
<li><a href="../de426017/index.html">So reduzieren Sie die Anzahl der Tierversuche</a></li>
<li><a href="../de426019/index.html">Wetterstation auf Arduino von A bis Z. Teil 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>