<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🏫 🙍🏿 👼 MIT-Kurs "Computer Systems Security". Vorlesung 11: Ur / Web-Programmiersprache, Teil 3 🖖 👊🏼 🏤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Massachusetts Institute of Technology. Vorlesung # 6.858. "Sicherheit von Computersystemen." Nikolai Zeldovich, James Mickens. 2014 Jahr 
 Computer Sy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MIT-Kurs "Computer Systems Security". Vorlesung 11: Ur / Web-Programmiersprache, Teil 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/426001/"><h3>  Massachusetts Institute of Technology.  Vorlesung # 6.858.  "Sicherheit von Computersystemen."  Nikolai Zeldovich, James Mickens.  2014 Jahr </h3><br>  Computer Systems Security ist ein Kurs zur Entwicklung und Implementierung sicherer Computersysteme.  Die Vorträge behandeln Bedrohungsmodelle, Angriffe, die die Sicherheit gefährden, und Sicherheitstechniken, die auf jüngsten wissenschaftlichen Arbeiten basieren.  Zu den Themen gehören Betriebssystemsicherheit, Funktionen, Informationsflussmanagement, Sprachsicherheit, Netzwerkprotokolle, Hardwaresicherheit und Sicherheit von Webanwendungen. <br><br>  Vorlesung 1: „Einführung: Bedrohungsmodelle“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 2: „Kontrolle von Hackerangriffen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 3: „Pufferüberläufe: Exploits und Schutz“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 4: „Trennung von Privilegien“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 5: „Woher kommen Sicherheitssysteme?“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> <br>  Vorlesung 6: „Chancen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 7: „Native Client Sandbox“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 8: „Netzwerksicherheitsmodell“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 9: „Sicherheit von Webanwendungen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 10: „Symbolische Ausführung“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 11: „Ur / Web-Programmiersprache“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <a name="habracut"></a><br><br>  Das Letzte, was wir tun müssen und was sehr lehrreich sein wird, ist, diesen Code durch Angabe des Raummoduls dort zu ändern und dann wie im vorherigen Beispiel auf den Raumtisch zuzugreifen.  Diese Option ist nicht zulässig, da dies nicht zulässig ist. <br><br><img src="https://habrastorage.org/webt/lq/cl/1b/lqcl1bhdj-8n1iwdldrcdud9aae.jpeg"><br><br>  Dies wäre so, als könnten Sie private Klassenfelder in Java lesen und schreiben.  In der Tat erhalten wir eine ziemlich einfache Nachricht, die besagt, dass wir hier eine nicht verwandte Variable haben, einen unbekannten Ausdruck für den Raumparameter. <br><br><img src="https://habrastorage.org/webt/4m/1g/_x/4m1g_xnn66lyaelr9s4uxpco8lg.jpeg"><br><br>  Wir könnten dieses Add-On-Modul erwähnen, das wir nur zum Spaß erstellt haben. <br><br><img src="https://habrastorage.org/webt/_a/d9/xt/_ad9xtpqlfi614nkm7p7ncnoubg.jpeg"><br><br>  Aber dann werden es andere Tabellen sein.  Wir können leicht darauf zugreifen.  Daher werde ich es in zwei Teile aufteilen. Wir werden zunächst einfach die Raummethode aufrufen und dann etwas anderes tun, um ihre Elemente zu lesen. <br><br><img src="https://habrastorage.org/webt/-v/oo/uw/-voouwvojaigv3v_pwgm8hjwdpo.jpeg"><br><br>  Zeigen Sie eine Liste der Ergebnisse an und nicht umgekehrt. Dies entspricht in etwa der vorherigen Funktionsweise des Programms, mit Ausnahme der Verwendung verschiedener Datentypen.  Mal sehen, was daraus wird.  Jetzt kehren wir zu unserem Chat in Raum 1 zurück und geben alle Nachrichten in die Zeile ein.  Sie sehen, dass sie alle fehlerfrei angezeigt werden. <br><br><img src="https://habrastorage.org/webt/o0/he/wy/o0hewytedbbixmmshkq12gybvp4.jpeg"><br><br>  Das heißt, jetzt haben wir diese Kapselung, sodass Sie sich die Struktur dieses Raums als Bibliothek vorstellen können, sich aber keine Sorgen machen müssen. <br><br>  Es gibt verschiedene Stellen, die die interne Invarianz eines Systems beschädigen können.  Vielleicht möchten Sie, dass die Nachricht nach dem Hinzufügen niemals verschwindet.  All dies steht in den Zeitschriften.  Diese Struktur bietet solche Eigenschaften unabhängig von anderem Code, z. B. dem, auf dem das Chatroom-Modul geschrieben ist. <br><br>  <b>Student:</b> Sie haben also die Definition des Raums geändert. Was würde in diesem Fall mit der Datenbanktabelle passieren? <br><br>  <b>Professor: Sie</b> müssen den Befehl alter table manuell ausführen, wenn Sie die alten Daten behalten möchten.  Beim Start der Anwendung wird jedoch das Systemdatenbankverzeichnis abgefragt und überprüft, ob das Schema weiterhin den Erwartungen entspricht.  Dann erhalten Sie einen statischen Fehler.  Ich hoffe, dies gibt Ihnen einen Hinweis darauf, was Sie in der Datenbank ändern sollten. <br><br>  <b>Student:</b> aber es wird nicht automatisch die Datenbank oder so etwas löschen? <br><br>  <b>Professor:</b> Ich hoffe nicht.  Ich denke nicht, dass der Compiler dies tun sollte.  Sie können sich vorstellen, den Compiler anzupassen, um die Entwicklung der Datenbank zu verstehen.  Ich denke, Sie müssen alter table-Befehle schreiben, um zu starten, da der Compiler dies derzeit nicht tut. <br><br><img src="https://habrastorage.org/webt/eo/je/bg/eojebgjidagcmajm7estxbmexsc.jpeg"><br><br>  Lassen Sie uns nun über die Fälschung von standortübergreifenden Anfragen und deren Prävention sprechen.  Bevor wir dies tun, schauen wir uns den Code auf dieser Seite an.  Wir haben ein traditionelles HTML-Formular, das hier generiert wird.  Und natürlich gibt es keinen Schutz gegen Fälschung von standortübergreifenden Anfragen, und ich denke, das ist gut.  Denn nach meinem Verständnis besteht das Problem der Fälschung von standortübergreifenden Anforderungen im impliziten Kontext, den die Anwendung mit jeder Anforderung sendet. <br><br>  Angenommen, es gibt eine Art Angreifer, der Ihren impliziten Kontext nicht kennt.  Angenommen, Ihr Passwort wird in einem Cookie gespeichert, ein sehr einfaches Beispiel.  Und wenn der Angreifer Sie täuscht, wenn Sie auf den Link zu der von ihm benötigten Anwendung klicken, sendet der Browser automatisch einen impliziten Kontext und zwingt die Anwendung, das zu tun, was der Angreifer nicht direkt tun konnte. <br><br><img src="https://habrastorage.org/webt/le/1b/wt/le1bwtuntlm1h57fs04fo5ddo-e.jpeg"><br><br>  In diesem Fall gibt es keinen impliziten Kontext, sodass kein Risiko besteht, standortübergreifende Anforderungen zu fälschen.  Möchte jemand diese Funktion des Systems herausfordern, bevor ich fortfahre?  Es kann für mich sehr informativ sein.  Wenn nicht, fügen Sie hier einen impliziten Kontext hinzu.  In diesem Fall wird das System automatisch die richtigen Gegenmaßnahmen ergreifen, basierend auf der Analyse des Programms, das versteht, dass es jetzt einen impliziten Kontext gibt. <br><br>  Jetzt werde ich hier Cookies einfügen.  Als weiteres Beispiel für die Modulkapselung werde ich hier ein ganzes Benutzerauthentifizierungssystem vorstellen, in dem wir Benutzerkonten und abstrakte Arten von Kennungen und Kennwörtern haben.  Daher können Sie den Wert eines dieser Datentypen nicht einfach direkt erstellen.  Sie müssen eine genehmigte Methode zum Erstellen von Werten dieser Typen durchlaufen. <br><br>  Ich werde den Tisch direkt in die Unterschrift setzen.  Und ich werde es auch einschränken, indem ich sage, dass der Schlüssel dazu das ID-Formular ist. <br><br><img src="https://habrastorage.org/webt/ax/ci/7o/axci7otxzeirl84vccpxjnlq7cq.jpeg"><br><br>  Tatsache ist jedoch, dass in dieser Benutzertabelle die ID und das Kennwort abstrakte Datentypen sind.  Daher kann der Code das Kennwort nicht sehen und nicht alle Bezeichner konsistent generieren und in dieser Tabelle ausprobieren.  Da ein abstrakter Typ verwendet wird, ist es unmöglich festzustellen, wie die ID aussieht, und es ist unmöglich, ein Kennwort zu finden.  Sie kommen gerade von diesem Tisch und das sind undurchsichtige Token. <br><br>  Aber wir könnten zulassen, dass sie Abwasser sind.  Möglicherweise möchten Sie eine Konvertierungsrichtung zwischen Zeichenfolgen und diesen Typen zulassen.  Jetzt werde ich hier etwas tun, hauptsächlich die Details, und ich werde nicht versuchen, sie zu erklären.  Dies entspricht jedoch der Erklärung, dass Sie Zeichenfolgen in ID konvertieren dürfen.  Für diejenigen, die mit Haskell vertraut sind, ist dies eine Instant-Typ-Klasse, diese Berechtigung, Zeichenfolgen in IDs umzuwandeln. <br><br><img src="https://habrastorage.org/webt/sp/to/jh/sptojh8mtta3h7iybbruu9atirs.jpeg"><br><br>  Wir werden keine weitere Berechtigung anwenden, da wir die ID nicht wieder in etwas anderes verwandeln möchten.  Machen wir dasselbe für das Passwort.  Wir möchten das Passwort des Benutzers lesen können, aber wir werden das Passwort nicht akzeptieren und es in eine Zeichenfolge umwandeln, die uns mitteilt, dass der Benutzer den Chat betreten hat. <br><br>  Auf diese Weise können andere Teile des Codes das Kennwort vom Benutzer akzeptieren, in diesen Typ konvertieren und zur Überprüfung zum Benutzermodul transportieren.  Sie können jedoch nicht die Benutzertabelle abfragen und alle Kennwörter in einer Form abrufen, aus der sie ihren Textausdruck extrahieren können. <br><br>  Dann können wir eine Anmeldemethode haben, die diese beiden Komponenten, ID und Passwort, akzeptiert und nur als Nebeneffekt wirkt, der tatsächlich im Code angegeben ist.  Wir müssen auch herausfinden, welcher Benutzer registriert ist.  Dies ist der Code, der die Transaktion ausführt, mit der die ID erstellt wird. <br><br><img src="https://habrastorage.org/webt/8x/na/j8/8xnaj8mitfi-5rqiq7hl-snqq6c.jpeg"><br><br>  Der erste Schritt besteht darin, diese Definition einfach zu kopieren.  Und dann kommt eine Überraschung.  Es stellt sich heraus, dass die Benutzer-IDs und Kennwörter Zeichenfolgen sind, aber dieser Umstand wird außerhalb des Moduls nicht bekannt gegeben. <br><br><img src="https://habrastorage.org/webt/1k/-l/ny/1k-lnyojw9-zowxahm6pqfkrp20.jpeg"><br><br>  Jetzt werden wir Cookies erstellen.  Cookies sind eine weitere Sache, die in die Sprache integriert ist.  Tatsächlich fungieren sie als veränderbare globale Variablen, die für jeden Client, der Ihre Anwendung verwendet, eine Kopie haben. <br><br>  Daher erstellen wir ein Cookie, in dem für jeden Benutzer einfach eine Kopie der beiden Felder gespeichert wird, die wir hier haben. <br><br><img src="https://habrastorage.org/webt/f2/rw/om/f2rwomhtpjbhtsvvh206wswxtne.jpeg"><br><br>  Diese Cookies sind für dieses Modul privat.  Andere Teile des Codes können Cookies nicht lesen, da sie dieses private Feld einfach nicht haben.  So kann niemand die ID und das Passwort, die für diesen Benutzer gespeichert sind, direkt sehen.  Sie werden jedoch beim Anzeigen verschiedener Seiten gespeichert, wie dies bei normalen Cookies der Fall ist. <br><br>  Jetzt werde ich die Anmeldefunktion einfügen, die den Prozess zum Überprüfen der Datenbank startet und herausfindet, ob dies wirklich das richtige Paar aus Benutzername und Passwort ist.  Bei diesem Vorgang wird nur geprüft, ob in der Datenbank eine Zeile mit dieser Benutzer-ID und diesem Kennwort gefunden wird. <br><br>  Wenn wir es finden, dann gut, dann ist dies die richtige Bedeutung.  Speichern wir dies einfach in Cookies.  Wir verwenden eine Methode, die den Wert eines Cookies ändert.  Und wir müssen hier einige Dinge einfügen, der Einfachheit halber werde ich sagen, dass dieser Cookie nicht abläuft.  Ich möchte hier kein SSL ausführen, daher sage ich, dass wir in diesem Fall keine Sicherheit benötigen, und setze den Parameter Secure = false. <br><br>  Aber wenn Sie sich wirklich um Sicherheit kümmern, schreiben Sie natürlich Secure = true.  Wenn die Prüfung fehlschlägt und das Modul einen Fehler meldet, stoppt das Programm und beschreibt diesen Fehler. <br><br><img src="https://habrastorage.org/webt/nm/zq/ql/nmzqqlpz1iiuywxpp-ykkxgkbsq.jpeg"><br><br>  Schließlich können wir diese Funktion erstellen, die angibt, welcher bestimmte Benutzer angemeldet ist, indem der aktuelle Cookie-Wert empfangen wird.  Dieser Parameter kann auch auf none gesetzt werden, wenn sich der Benutzer noch nicht angemeldet hat. In diesem Fall wird eine weitere Fehlermeldung angezeigt.  Oder es könnte eine Art Aufzeichnung des genauen Typs sein, den wir oben verwendet haben.  Also kopiere ich es einfach hier und führe die gleiche Prüfung durch.  Wenn dies funktioniert, geben wir einfach den Teil des ID-Datensatzes zurück, den wir gerade in der Datenbank überprüft haben. <br><br><img src="https://habrastorage.org/webt/go/kt/l1/goktl14i1ghmh09xw1lxmkhuhoc.jpeg"><br><br>  Lassen Sie mich das einfach überprüfen.  Wir starten den Compiler und Sie sehen das Ergebnis auf dem Bildschirm. <br><br><img src="https://habrastorage.org/webt/41/ce/g7/41ceg7zqyldmdfdq31s7cf7oaum.jpeg"><br><br>  Zentral für all diese Implementierungsdetails.  Aber außerhalb dieses Moduls denken wir aus Sicht der Schnittstelle darüber nach.  Es gibt einige unbekannte Arten von IDs und Passwörtern.  Diese Benutzertabelle enthält Begriffe, mit denen Sie Zeichenfolgen in Bezeichner und Kennwörter umwandeln können, nicht jedoch umgekehrt.  Wir haben diese beiden Methoden, um zuerst die Anmeldung einzugeben, und es wird überprüft, welcher Benutzer zu diesem Zeitpunkt angemeldet ist.  Haben Sie Fragen dazu? <br><br>  <b>Student:</b> Müssen Sie die Benutzertabelle erweitern? <br><br>  <b>Professor:</b> Ich mache das, weil ich es später als Fremdschlüssel verwenden möchte, also ist dies kein wichtiger Grund.  Wir sind also fast an dem Punkt angelangt, an dem ich Ihnen den CSRF-Schutz in Aktion zeigen kann. <br><br>  Zunächst ist das Anmelden am System recht einfach.  Was können wir an dieser Stelle im Programm noch tun?  Fügen wir hier einfach einen weiteren Teil der Seite hinzu, der besagt, dass Sie hier das Login eingeben.  Hier müssen Sie den Benutzernamen und das Passwort eingeben und dann auf die Schaltfläche Aktion senden klicken.  Diese Aktion ruft die Anmeldefunktion auf. <br><br><img src="https://habrastorage.org/webt/p1/s6/hs/p1s6hsyomulyl0n0xso9bhy6ubw.jpeg"><br><br>  Definieren wir Login als eine Funktion, die diese Dinge tut.  Tatsächlich handelt es sich nur um einen Wrapper zum Aufrufen der Anmeldefunktion aus diesem Modul, in dem wir jede der Komponenten nehmen und von einer Zeichenfolge in einen abstrakten Typ konvertieren. <br><br><img src="https://habrastorage.org/webt/sd/hn/8_/sdhn8_z1ixaqdhxvthw9xwoygke.jpeg"><br><br>  Sie sucht nach einem Lesefehler.  Der Fehler bedeutet, dass, wenn die Anmeldung nicht funktioniert, der Vorgang an dieser Stelle unterbrochen wird und die Funktion zum Hauptteil des Programms zurückkehrt. <br>  Jetzt können wir uns einloggen.  Wir werden wahrscheinlich ein Konto erstellen wollen, mit dem wir uns anmelden können. Lassen Sie mich also einen Benutzer mit dem Benutzernamen a und dem Passwort a erstellen. <br><br><img src="https://habrastorage.org/webt/ik/kq/go/ikkqgobwhfsupe2uzoimf_ek5fe.jpeg"><br><br><img src="https://habrastorage.org/webt/tv/hb/en/tvhbenxm6qxvijq7ifhfap8v-g8.jpeg"><br><br>  Jetzt kann ich mich als Benutzer einloggen, mein Wort dafür nehmen.  Wir haben eine Reihe von Cookies, um diese Informationen aufzuzeichnen. Gehen wir also in den Chatraum und senden Sie eine Nachricht, zum Beispiel asfasf.  Sie sehen, dass nach dem Klicken auf die Schaltfläche Hinzufügen im Chat angezeigt wird. <br><br><img src="https://habrastorage.org/webt/-v/l6/6m/-vl66mfy3oektu_serlrv4enir4.jpeg"><br><br>  Tatsächlich haben wir hier keine Zugriffskontrolle hinzugefügt, sodass hier nichts Besonderes passiert.  Aber wir können überprüfen. <br><br><img src="https://habrastorage.org/webt/co/xw/fa/coxwfac0s4ysqowm6laeuge4xhe.jpeg"><br><br>  Es gibt hier Cookies, aber das System hat festgestellt, dass wir keine Cookies verwenden.  Wenn wir dieses Formular senden, ist der Cookie nicht lesbar.  Daher ist es bisher nicht erforderlich, hier einen CSRF-Schutz hinzuzufügen.  Jetzt müssen wir eine Möglichkeit hinzufügen, Cookies zu verwenden und zu sehen, wie sich der Schutz manifestiert. <br><br>  <b>Student:</b> Was ist Cookie-Inhalt? <br><br>  <b>Professor:</b> Dies ist der Inhalt, den Sie vom Code erwarten.  Mit anderen Worten, das Cookie hat den Typ dieses Datensatzes - Kennung und Kennwort. <br><br><img src="https://habrastorage.org/webt/ao/vi/fc/aovifcoydtayum942uhjpil-ewk.jpeg"><br><br>  Genau das ist dort also in einer bestimmten serialisierten Form enthalten.  Verwenden wir jetzt tatsächlich Cookies.  Wir sollten dies sehen, obwohl wir das Cookie indirekt verwenden werden, da wir es im Raummodul verwenden werden, was nichts mit Cookies zu tun hat.  Wir werden jedoch benutzerdefinierte Modulmethoden aufrufen, die indirekt mit der Verwendung von Cookies zusammenhängen.  Und dann wird das System verstehen, dass dies bedeutet, dass wir davon abhängig sind. <br><br>  Machen wir es also ganz einfach und rufen die whoami-Methode auf.  Tatsächlich werde ich es einfach ignorieren oder umgekehrt, lass ihn etwas tun.  Lassen Sie uns entscheiden, dass der von uns erstellte Benutzer wirklich etwas Besonderes ist und nur dieser Benutzer etwas posten kann.  Ist dies nicht der Fall, erhalten wir eine Fehlermeldung. <br><br><img src="https://habrastorage.org/webt/g9/6a/sl/g96aslxn7mcopzcmbkqp1a6mv8c.jpeg"><br><br>  Ich werde dem Benutzermodul eine ID hinzufügen, und dann sollte dies funktionieren, da der ID-Typ die Gleichheitsprüfung unterstützt. <br><br><img src="https://habrastorage.org/webt/z5/ka/ia/z5kaialskkermc7kjbrm37ctp7a.jpeg"><br><br>  Jetzt sollte alles in Ordnung sein, und wir können mit dieser ID mehr tun, was einige Sicherheitsprobleme verursachen kann. <br><br><img src="https://habrastorage.org/webt/14/-t/yp/14-typltmad_rnxmo_czeyedvr8.jpeg"><br><br>  Auf diese Weise können wir eine Zugriffskontrollprüfung hinzufügen. Sehen wir uns also an, wie dies funktioniert, und kehren zur Hauptseite zurück. <br><br><img src="https://habrastorage.org/webt/ol/pl/-b/olpl-br8rs9ne6c7yoim_luhdyg.jpeg"><br><br>  Nun erschienen diese vier Buchstaben "a" im Chat. <br><br>  In der Schnittstellenkonsole sehen wir, dass das Formular jetzt automatisch den versteckten Eingabenamen sig erhalten hat, der die kryptografische Signatur der Werte aller Cookies darstellt.  Dieses Sig signierte Cookies mit einem Schlüssel, der für den Server geheim ist.  Und wenn das Formular fertig ist, weiß die Anwendung - weil der Compiler es ihm mitgeteilt hat -, dass die Anwendung die Signaturen für die nächsten Operationen überprüfen sollte.  Dafür haben wir ein Mitspracherecht. <br><br><img src="https://habrastorage.org/webt/jq/gu/ij/jqguijif9ny_uoz7nkbtw8jli3e.jpeg"><br><br>  <b>Student:</b> Haben die Unterschriften eine Art Zeitstempel? <br><br>  <b>Professor:</b> Nein, Unterschriften haben keine Zeitstempel. <br><br>  <b>Student:</b> In diesem Fall könnte ein Angreifer, der es geschafft hat, diese Daten auszuspionieren, vorgeben, ein Benutzer zu sein, da diese Cookies niemals ablaufen. <br><br>  <b>Professor:</b> Ja, es läuft nie ab.  Dies kann geändert werden, indem einfach die Sprachimplementierung geändert wird, ohne die Anwendungen zu ändern, und diese dann schnell bereitgestellt wird.  Aber jetzt ist das nicht hier.  Und ich verstehe, warum dies nützlich wäre, um hinzuzufügen. <br><br>  <b>Student:</b> Sie können dies auch beheben, indem Sie einfach einen Zeitstempel auf die Signatur setzen. <br><br>  <b>Professor:</b> Ja, Sie haben Recht, Sie können die Anwendung so ändern, dass die Cookie-Daten absichtlich oft genug geändert werden, dh die Signatur läuft ab. <br>  <b>Student:</b> Können Sie URLs neu zuweisen? <br><br>  <b>Professor:</b> Ja, welche Neuzuweisung möchten Sie sehen? <br><br>  <b>Student:</b> Ich möchte nur sehen, wie das gemacht wird. <br><br>  <b>Professor:</b> Also, der Compiler weist zu ... wie wir sehen, haben wir die Funktion say aufgerufen, und dieser Funktionsaufruf wird als eine bestimmte Form von URL serialisiert.  Angenommen, wir mögen dieses Formular nicht. <br><br><img src="https://habrastorage.org/webt/xb/hs/dx/xbhsdxk5qkrjihios4qdpccye-k.jpeg"><br><br>  Wir beschlossen, die URL sozusagen innerhalb des Raummoduls und innerhalb der Demo neu zu schreiben.  Besser dranbleiben.  Also wollen wir die URL Demo / Room / say zu Demo / Room / Speak neu zuweisen. <br><br><img src="https://habrastorage.org/webt/d4/is/y7/d4isy713jhdomsgp40du31ot604.jpeg"><br><br>  Wir starten den Compiler und gehen zum Hauptbildschirm der Anwendung.  Mal sehen, was passiert.  Alles ist in Ordnung, wir können auch beliebige Textnachrichten eingeben und diese erscheinen in der Chat-Zeile.  In diesen Regeln können Sie unvorhersehbare Zeichen verwenden, um ein Präfix durch ein anderes zu ersetzen. Der Compiler stellt sicher, dass jede Funktion über ein separates URL-Schema verfügt. Die URL wird jedoch standardmäßig automatisch generiert. <br><br>  <b>Student:</b> Sie haben erwähnt, dass HTML nicht spezifisch für den Compiler ist, sondern nur eine Bibliothek.  Gibt es andere Bibliotheken für andere Formate? <br><br>  <b>Professor:</b> Es gibt andere Bibliotheken, die den Typ nicht mit der gleichen funktionalen Vollständigkeit prüfen, aber zum Beispiel gibt es eine Bibliothek zum Serialisieren und Deserialisieren von JSON und eine große Anzahl automatisierter Methoden zum Verwalten der Typstruktur.  Auf diese Weise können Sie Dinge tun, die nicht in den Compiler integriert sind. <br><br>  <b>Student:</b> Nehmen wir an, wir möchten immer noch in JavaScript schreiben, um beispielsweise einige Dinge auf der Seite zu animieren ... <br><br>  <b>Professor:</b> Lassen Sie mich die Ajax-Version herunterladen, die Ihre Frage beantwortet.  Diese Version enthält clientseitigen Code.  Fahren wir einfach mit einer Version des Programms namens demo3 fort.  Ich habe die Daten auf der Hauptseite in der Chat-Zeile eingegeben und sie wurden auch am Ende des Chats angezeigt.  Ob Sie es glauben oder nicht, diesmal funktionierte das Add-In mit einem Ajax-Aufruf.  Dies ist auf den Wert der Schaltflächenkennzeichnung zurückzuführen.  Es verfügt über ein Onclick-Attribut. Wenn der Benutzer auf die Schaltfläche klickt, funktioniert der gesamte Code unterhalb der Zeile mit diesem Attribut auf der Clientseite. <br><br><img src="https://habrastorage.org/webt/es/pu/me/espumedw6lwlmlwxf_zihskonai.jpeg">  ]] <br><br>  Dies ist jedoch Ur / Web-Code, dies ist kein JavaScript-Code.  Der Compiler übersetzt dies für Sie in JavaScript und stellt sicher, dass die gewünschten Eigenschaften für Abstraktionen in unserer Liste gespeichert werden, wenn der Benutzer nicht manuell im Browser daran basteln möchte. <br><br>  Student: Ich denke, dass es heute viele Bibliotheken gibt, die nützliche und in vielen Fällen komplexe Dinge tun, wenn Sie alles selbst neu codieren möchten.  Gibt es eine Möglichkeit, mit JavaScript aus Ur / Web zu interagieren? <br><br>  <b>Professor:</b> Ja, es gibt eine externe Funktionsschnittstelle, über die Sie JavaScript-Funktionsnamen und -Aufrufen Ur / Web-Funktionsnamen zuweisen können.  Wenn Sie jedoch die Schnittstelle einer externen Funktion verwenden, können Sie nicht mehr alle diese nützlichen Konstruktionsfunktionen verwenden.  In diesem Fall müssen Sie sehr vorsichtig sein. <br><br>  Sie müssen die Implementierung einiger dieser Abstraktionen verstehen, um sie nicht zu beeinträchtigen.  Solange ich diesen Code habe, möchte ich Ihnen etwas anderes zeigen. <br><br>  Wir haben immer noch die gleiche Funktion wie zuvor.  Aber jetzt, anstatt es als Referenz aufzurufen, nehmen wir nur einen Funktionsaufruf, der mit Argumenten gefüllt ist, die aus dem Kontext des Onclick-Handlers stammen. <br><br><img src="https://habrastorage.org/webt/wt/jr/re/wtjrrewr_9dni8-z5u_aaw5bm_i.jpeg"><br><br>  Wir verpacken diese Funktion einfach in die RPC-Syntax.  Dies bedeutet, dass dies eine clientseitige Anruffunktion ist, der Aufruf selbst jedoch auf dem Server mit Zugriff auf die Datenbank und andere Serverressourcen gestartet wird und das Ergebnis dann hierher zurück überträgt. <br><br>       ,     ,      JavaScript     . <br>           ,     .   ,        ,     ,       . <br><br><img src="https://habrastorage.org/webt/of/wz/j1/ofwzj1yseezr5sbgdnllh6ddr4i.jpeg"><br><br>  , ,     ,        .  ,      ,  . <br><br>  ,   -     ,     .       GUI     ,       , , ,      . <br><br>           ,     ,    ,   .     ,       DOM.    ,            ,       . <br><br><img src="https://habrastorage.org/webt/rw/dz/hy/rwdzhy-stenvyaaa3wrzvb1bcrq.jpeg"><br><br>     ,        GUI,         ,   ,        ,   . <br><br> ,    ,     . <br><br> <b>:</b> ? <br><br> <b>:</b>   ,      ,     .      ,      -      . <br><br> <b>:</b>       .    ,     ? <br><br><img src="https://habrastorage.org/webt/q1/00/us/q100us_wg7adgt1d53dq-nbxhom.jpeg"><br><br> <b>:</b>   —          .   ,     .    ,       ,   .             ,         . <br><br> <b>:</b>         — Ur? <br><br> <b>:</b> Ur —    ,   ,     .    ,          .        . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> . <br><br>  Vielen Dank für Ihren Aufenthalt bei uns.  Gefällt dir unser Artikel?  Möchten Sie weitere interessante Materialien sehen?  Unterstützen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% für Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir für Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit über VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verfügbar). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis Dezember kostenlos,</b> wenn Sie für einen Zeitraum von sechs Monaten bezahlen, können Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> bestellen. <br><br>  <b>Dell R730xd 2 mal günstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgebäudes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern für 9.000 Euro für einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426001/">https://habr.com/ru/post/de426001/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de425991/index.html">Wie wir Hosting erstellt haben</a></li>
<li><a href="../de425993/index.html">Wie man die geschlechtsspezifische Kluft in der Technologie überbrückt</a></li>
<li><a href="../de425995/index.html">Visualisieren Sie FHIR - den IT-Standard für die Medizin</a></li>
<li><a href="../de425997/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 11: Ur / Web-Programmiersprache, Teil 1</a></li>
<li><a href="../de425999/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 11: Ur / Web-Programmiersprache, Teil 2</a></li>
<li><a href="../de426009/index.html">Epic Fail Resistance 1 oder Fox schlichen sich unbemerkt an. Testen von Anonymität und Sicherheit + VPN für den Benutzer</a></li>
<li><a href="../de426013/index.html">Karriere Steroide</a></li>
<li><a href="../de426015/index.html">Einsatz gesägter ziviler Drohnen für die professionelle geodätische Luftaufnahme des Gebiets</a></li>
<li><a href="../de426017/index.html">So reduzieren Sie die Anzahl der Tierversuche</a></li>
<li><a href="../de426019/index.html">Wetterstation auf Arduino von A bis Z. Teil 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>