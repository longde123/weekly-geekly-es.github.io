<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📤 👩🏾‍🤝‍👩🏽 🖕 PVS-Studio ingin tetapi tidak dapat menemukan bug di robots.txt 👟 📥 🧗🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Suatu hari Google mengungkapkan sumber parser robots.txt. Mengapa tidak menjalankan proyek yang sudah diperiksa jauh menggunakan PVS-Studio dan mungki...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PVS-Studio ingin tetapi tidak dapat menemukan bug di robots.txt</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/459658/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a4/303/c49/6a4303c496535ce7c7fc9ff84f2608ee.png" alt="Gambar 1"></div><br>  Suatu hari Google mengungkapkan sumber parser robots.txt.  Mengapa tidak menjalankan proyek yang sudah diperiksa jauh menggunakan PVS-Studio dan mungkin menemukan bug.  Begitu kata dilakukan begitu.  Tetapi saya berharap kita dapat menemukan sesuatu yang bermakna.  Baiklah, biarlah itu hanya alasan untuk memberi nilai penuh bagi pengembang Google. <br><br>  robots.txt - adalah file indeks yang berisi aturan untuk robot pencarian.  Ini berfungsi untuk protokol https, http dan FTP.  Google membuat pengurai file robots.txt tersedia untuk semua orang.  Baca lebih lanjut tentang berita ini di sini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Google membuka kode sumber parser robots.txt</a> <br><a name="habracut"></a><br>  Saya pikir sebagian besar pembaca kami tahu apa yang dilakukan PVS-Studio.  Tetapi jika ini pertama kalinya Anda di blog kami, saya akan memberikan referensi singkat.  PVS-Studio adalah penganalisa kode statis yang memungkinkan Anda menemukan berbagai bug, kerentanan, dan kekurangan dalam proyek yang ditulis dalam C, C ++, C # dan Java.  Dengan kata lain, PVS-Studio adalah solusi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SAST</a> dan dapat bekerja pada mesin pengguna, membangun server dan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cloud</a> .  Tim PVS-Studio juga suka menulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> tentang cek berbagai proyek.  Jadi mari kita langsung ke pokok permasalahan dan mencoba menemukan kesalahan dalam kode sumber parser dari Google. <br><br>  Sayangnya, tetapi untuk menyenangkan semua orang, tidak ada kesalahan yang ditemukan.  Hanya beberapa kekurangan kecil, yang akan saya ceritakan.  Yah, saya harus menulis sesuatu tentang proyek ini :).  Kurangnya kesalahan disebabkan oleh jumlah proyek yang kecil dan kualitas tinggi dari kode itu sendiri.  Ini tidak berarti bahwa tidak ada kesalahan tersembunyi, tetapi analisis statis tidak berdaya pada saat itu. <br><br>  Jadi artikel ini kebetulan berada dalam semangat postingan kami yang lain " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel Terpendek tentang Pemeriksaan nginx</a> ". <br><br>  Saya menemukan sebuah kasus dengan kemungkinan optimasi: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V805</a> Menurunkan Kinerja.  Tidak efisien untuk mengidentifikasi string kosong dengan menggunakan konstruksi 'strlen (str)&gt; 0'.  Cara yang lebih efisien adalah dengan memeriksa: str [0]! = '\ 0'.  robots.cc 354 <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> RobotsTxtParser::GetKeyAndValueFrom(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> **key, ....) { .... *key = line; .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">strlen</span></span>(*key) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br>  Tidak efisien untuk memanggil fungsi <i>strlen</i> untuk mencari tahu apakah sebuah string kosong.  Pemeriksaan ini bisa lebih sederhana: <i>if (* key [0]! = '\ 0').</i>  Dengan cara ini Anda tidak perlu melintasi seluruh string, jika tidak kosong. <br><br>  Objek 'jalur' tipe V808 dari tipe 'basic_string' dibuat tetapi tidak digunakan.  robots.cc 123 <br><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-function"><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetPathParamsQuery</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> path; .... }</code> </pre> <br>  String dideklarasikan, tetapi tidak digunakan lebih lanjut.  Dalam beberapa kasus, variabel yang tidak digunakan dapat mengindikasikan kesalahan.  Dalam hal ini, sepertinya variabel ini digunakan entah bagaimana, tetapi setelah melakukan perubahan itu menjadi tidak perlu.  Dengan demikian, penganalisa sering membantu untuk membuat kode lebih bersih dan membantu menghindari kesalahan dengan hanya menghapus prasyarat untuk penampilan mereka. <br><br>  Dalam kasus berikutnya, penganalisa merekomendasikan untuk menambahkan pengembalian default setelah seluruh <i>main</i> dieksekusi.  Mungkin perlu menambahkan pernyataan <i>kembali</i> di akhir untuk memahami bahwa semuanya benar-benar berhasil.  Namun, jika perilaku tersebut dimaksudkan, tidak ada yang perlu diubah.  Jika Anda tidak ingin melihat peringatan ini, di PVS-Studio Anda dapat menekannya dan tidak pernah melihatnya lagi :). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V591</a> Fungsi 'utama' tidak mengembalikan nilai, yang setara dengan 'mengembalikan 0'.  Ada kemungkinan bahwa ini adalah perilaku yang tidak diinginkan.  robots_main.cc 99 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">** argv)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (filename == <span class="hljs-string"><span class="hljs-string">"-h"</span></span> || filename == <span class="hljs-string"><span class="hljs-string">"-help"</span></span> || filename == <span class="hljs-string"><span class="hljs-string">"--help"</span></span>) { ShowHelp(argc, argv); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (argc != <span class="hljs-number"><span class="hljs-number">4</span></span>) { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"...."</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; } }</code> </pre> <br>  Saya juga menemukan bahwa dua fungsi di bawah ini yang memiliki nama berbeda diimplementasikan dengan cara yang sama.  Mungkin ini adalah hasil dari fakta bahwa sebelumnya fungsi-fungsi ini memiliki logika yang berbeda, tetapi sampai pada satu.  Mungkin kesalahan ketik merayap di suatu tempat, jadi peringatan seperti itu harus diperiksa dengan cermat. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V524</a> Aneh bahwa tubuh fungsi 'MatchDisallow' sepenuhnya setara dengan tubuh fungsi 'MatchAllow'.  robots.cc 645 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MatchAllow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(absl::string_view path, absl::string_view pattern)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Matches(path, pattern) ? pattern.length() : <span class="hljs-number"><span class="hljs-number">-1</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MatchDisallow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(absl::string_view path, absl::string_view pattern)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Matches(path, pattern) ? pattern.length() : <span class="hljs-number"><span class="hljs-number">-1</span></span>; }</code> </pre> <br>  Itu satu-satunya tempat aku curiga.  Itu harus diperiksa oleh penulis proyek. <br><br>  Dengan demikian, pemeriksaan parser robots.txt dari Google menunjukkan bahwa proyek ini, yang telah diperiksa berulang kali dan digunakan secara luas, memiliki kualitas yang sangat baik.  Bahkan beberapa kelemahan yang ditemukan tidak dapat merusak kesan Google coders keren menulis proyek ini :). <br><br>  Kami menyarankan Anda juga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengunduh dan mencoba PVS-Studio</a> pada proyek yang Anda minati. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id459658/">https://habr.com/ru/post/id459658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id459644/index.html">Dimmer LED</a></li>
<li><a href="../id459648/index.html">Semuanya harus baik-baik saja dalam penganalisa: fungsionalitas dan antarmuka ... Kami sedang mengeksplorasi antarmuka appScreener 3.1 baru Solar</a></li>
<li><a href="../id459650/index.html">Bagaimana tidak kehilangan uang di kotak hitam: metode pengujian penagihan</a></li>
<li><a href="../id459652/index.html">Pendekatan pengujian regresi otomatis</a></li>
<li><a href="../id459656/index.html">Layanan OData tanpa menulis kode</a></li>
<li><a href="../id459662/index.html">PVS-Studio ingin, tetapi tidak dapat menemukan bug di robots.txt</a></li>
<li><a href="../id459668/index.html">Cara mengenali teks dari foto: fitur baru kerangka Visi</a></li>
<li><a href="../id459670/index.html">Goto amsterdam</a></li>
<li><a href="../id459672/index.html">Garis bawahi dengan Python</a></li>
<li><a href="../id459674/index.html">Threat Intelligence Epic Saga</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>