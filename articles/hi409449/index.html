<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯТЕ ЁЯОУ ЁЯС╝ЁЯП╗ рдПрдХ рдмрдЪреНрдЪреЗ рдХреЗ рд╕рд╛рде рдПрдХ рдорд╛рд▓рд╛ рдмрдирд╛рдирд╛ ЁЯПЫя╕П ЁЯзА ЁЯНЭ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХрдард┐рдирд╛рдИ рдХрд╛ рд╕реНрддрд░: рд╢реБрд░реБрдЖрддреА рдХреЗ рд▓рд┐рдПред 

 рд╡рд┐рдЪрд╛рд░ рддрдм рдЖрдпрд╛ рдЬрдм рдирдП рд╕рд╛рд▓ рдХреА рдкреВрд░реНрд╡ рд╕рдВрдзреНрдпрд╛ рдкрд░ рдкреБрд░рд╛рдиреА рдорд╛рд▓рд╛ рдЯреВрдЯ рдЧрдИред рдмреЗрдЯреЗ рдиреЗ рдЖрд░рдЬреАрдмреА рдПрд▓рдИрдбреА рдкрдЯреНрдЯреА рдХреЛ рджреЗрдЦрд╛ рдФрд░ рдкреВрдЫрд╛ рдХрд┐ рдХреНрдпрд╛ рдЗрд╕...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХ рдмрдЪреНрдЪреЗ рдХреЗ рд╕рд╛рде рдПрдХ рдорд╛рд▓рд╛ рдмрдирд╛рдирд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/409449/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ss/ib/x3/ssibx3la_tckdjeo6tb-owbomck.png" alt="рдЫрд╡рд┐"></div><br>  рдХрдард┐рдирд╛рдИ рдХрд╛ рд╕реНрддрд░: рд╢реБрд░реБрдЖрддреА рдХреЗ рд▓рд┐рдПред <br><br>  рд╡рд┐рдЪрд╛рд░ рддрдм рдЖрдпрд╛ рдЬрдм рдирдП рд╕рд╛рд▓ рдХреА рдкреВрд░реНрд╡ рд╕рдВрдзреНрдпрд╛ рдкрд░ рдкреБрд░рд╛рдиреА рдорд╛рд▓рд╛ рдЯреВрдЯ рдЧрдИред  рдмреЗрдЯреЗ рдиреЗ рдЖрд░рдЬреАрдмреА рдПрд▓рдИрдбреА рдкрдЯреНрдЯреА рдХреЛ рджреЗрдЦрд╛ рдФрд░ рдкреВрдЫрд╛ рдХрд┐ рдХреНрдпрд╛ рдЗрд╕рд╕реЗ рдорд╛рд▓рд╛ рдмрдирд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИред  рдЖрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - рдореИрдВрдиреЗ рдХрд╣рд╛, рдФрд░ рдмреЗрдЯреЗ рдиреЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд╡рд░реНрдгрди рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ рдХрд┐ рдорд╛рд▓рд╛ рдХреЛ рдХреИрд╕реЗ рдЭрдкрдХреА рд▓реЗрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдореБрдЭреЗ рдХреБрдЫ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрдпрд╛, рдФрд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдХрд┐ рд╡рд╣ рдЬреИрд╕рд╛ рдЪрд╛рд╣реЗ рд╡реИрд╕рд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдореИрдВрдиреЗ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА рдЗрдЪреНрдЫрд╛рдУрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдХреЗ рд╢реБрд░реБрдЖрдд рдХреА: <br><br><ol><li>  рд╕реНрдХреНрд░реИрдЪ рд╢реИрд▓реА рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХрд╛ рдорд╛рд╣реМрд▓ </li><li>  рдСрдлрд╝рд▓рд╛рдЗрди рдХрд╛рд░реНрдп - рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдмрдВрдж рд╣реЛ рдЧрдИ </li><li>  рдПрдХ рддрд╛рд░ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд┐рдирд╛, рд╣рд╡рд╛ рд╕реЗ рдХрд╛рдо рдХрд░реЗрдВ </li><li>  рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛ - рдХреЛрдИ рднреА рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП рдЧрдП рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рддрдм рддрдХ "рд╣реИрдВрдЧ" рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрдм рддрдХ рдХрд┐ рд░рд┐рдмреВрдЯ рдЖрд╡рд╢реНрдпрдХ рди рд╣реЛ </li></ol><br><a name="habracut"></a><br><h3>  рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдордВрдЪ </h3><br><img src="https://habrastorage.org/webt/k4/e_/ly/k4e_lyysvyygvsb6lrfkd8w5x_g.jpeg" alt="рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░"><br><br>  NodeMCU ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕ рдПрдХ рдХреА рддрд░рд╣</a> ) рдХреЗ рд╕рд╛рде ESP8266 рдмреЛрд░реНрдб рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ рдФрд░ рдкреНрд░рддрд┐рд░реЛрдзреЛрдВ рдХреЗ рдПрдХ рдЬреЛрдбрд╝реЗ рдХреЛ рдЗрд╕рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛ред  рдЪрдпрдирд┐рдд рдореЙрдбреНрдпреВрд▓ рдореЗрдВ 3-20 рд╡реЛрд▓реНрдЯ рдХрд╛ рд╡реЛрд▓реНрдЯреЗрдЬ рдирд┐рдпрд╛рдордХ рд╣реИ, рдЬреЛ рдЗрд╕реЗ рдЯреЗрдк рдХреЗ рд╕рдорд╛рди рд╕реНрд░реЛрдд рд╕реЗ рд╕рдВрдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдПрд╕реНрдк рдЖрдЙрдЯрдкреБрдЯ 12mA рдХреА рд╡рд░реНрддрдорд╛рди рд╕реАрдорд╛ рдХреЗ рд╕рд╛рде 3 рд╡реЛрд▓реНрдЯ рдХрд╛ рд╡реЛрд▓реНрдЯреЗрдЬ рджреЗрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЯреЗрдк рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рд░рдВрдкрд░рд┐рдХ рджреНрд╡рд┐рдзреНрд░реБрд╡реА рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред <br><br><img src="https://habrastorage.org/webt/bg/i4/9i/bgi49ip_y-dbewej2sjad1x8rmm.gif" alt="рдЫрд╡рд┐"><br><br>  рдЗрд╕рд▓рд┐рдП рдХрд┐ рд╕рдлреЗрдж рдзреБрдЖрдВ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рд╕реЗ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдирд┐рдХрд▓рддрд╛ рд╣реИ, рдореИрдВрдиреЗ рдЖрдЙрдЯрдкреБрдЯ рдФрд░ рдмреЗрд╕ рдХреЗ рдмреАрдЪ 220 рдУрдо рдЕрд╡рд░реЛрдзрдХ рд▓рдЧрд╛ рджрд┐рдпрд╛ред  Esp рдХреЗ рдкрд╛рд╕ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ pwm рд╣реИ, рдХреБрдЫ рдкрд┐рди рдХрд╛ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдЙрджреНрджреЗрд╢реНрдп рд╣реИ, рдореИрдВрдиреЗ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рд░реВрдк рд╕реЗ рдЪреБрдирд╛ред <br><br><h3>  рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ </h3><br>  рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, esp8266 рдХреЛ рдлреНрд▓реИрд╢ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдореИрдВ рд▓реБрдЖ рдХреЗ рд╕рд╛рде NodeMCU рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЗрд╕рдореЗрдВ C ++ рдХреЗ рд╕рд╛рде Arduino рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝реА рдХрдо рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рд╣реИрдВред  рддреЛ, рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">nodemcu-build.com</a> рд╕реЗ рддреИрдпрд╛рд░ рдлрд░реНрдорд╡реЗрдпрд░ рдХреЗ рд╕рд╛рде рд╣реИред  рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ pwm рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред  рдереЛрдбрд╝реА рджреЗрд░ рдХреЗ рдмрд╛рдж, рдЫрд╡рд┐ рдХрд╛ рдПрдХ рд▓рд┐рдВрдХ рдореЗрд▓ рдореЗрдВ рдЧрд┐рд░ рдЬрд╛рдПрдЧрд╛ред  рдЖрдкрдХреЛ рдлреНрд▓реЛрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рд▓реЗрдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред <br><br>  рдЖрдк рдЗрд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ рд╕реЗ</a> рдХрд┐рд╕реА рднреА рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреЗ рд╕рд╛рде рдлреНрд▓реИрд╢ рдХрд░ рд╕рдХрддреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИрдВ</a> , рдФрд░ рдореИрдВ NodeMCU Flasher рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред <br><br>  NodeMCU рдореЗрдВ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╣реИ, рдирд┐рд╖реНрдкрд╛рджрди init.lua рдореЙрдбреНрдпреВрд▓ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рдореИрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ESPlorer рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реВрдВ</a> ред <br><br><h3>  рдкрд▓рдХ рдЭрдкрдХрдирд╛ </h3><br>  рдЕрдЧрд▓реЗ рд╣реА рдкрд▓ рдореБрдЭреЗ рдЧреБрдорд░рд╛рд╣ рдХрд┐рдпрд╛ред  рдЖрдВрддрд░рд┐рдХ рдХреНрд░рдорд╛рдВрдХрди (GPIO0-16) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ рдореВрд▓ рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ (Arduino / C ++) рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реБрдЖ рд╕реЗ, рдмреЛрд░реНрдб рд╕реЗ рдЕрдВрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, GPIO16 / D0 (рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд LED) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  Lua рд╕реЗ, рдЖрдкрдХреЛ gpio.write (0, gpio.HIGH) рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ред  рдЖрдк рд╕реАрдзреЗ ESPlorer рдХрдВрд╕реЛрд▓ рд╕реЗ рдПрдХ рдбрд╛рдпреЛрдб рдмреНрд▓рд┐рдВрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/va/c2/iw/vac2iwfoz0zvdstigla_qnxtbbe.png" alt="рдЫрд╡рд┐"><br><br>  Arduino рдХреЗ рд╡рд┐рдкрд░реАрдд, nodemcu рджреЗрд░реА рдФрд░ рд╡реНрдпрд╕реНрдд-рд▓реВрдк рдХрд╛ рдЙрдкрдпреЛрдЧ <b>рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ</b> , рдХрдВрд╕реЛрд▓ рдФрд░ рд╡рд╛рдИрдлрд╛рдИ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рдкреНрд░реЛрд╕реЗрд╕рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдПрдХ рд╡реЙрдЪрдбреЙрдЧ рднреА рдмреЛрд░реНрдб рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ рдпрджрд┐ рдЖрдкрдХрд╛ рдХреЛрдб 500ms рд╕реЗ рдЕрдзрд┐рдХ рдЪрд▓рд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░реЗрдЧрд╛ред  рдпрд╣ рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ 2ms рд╕реЗ рдЕрдзрд┐рдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдкрд░ рдХрдмреНрдЬрд╛ рди рдХрд░реЗрдВред  рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╡рд╣рд╛рдБ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдиреЛрдбреНрд╕</a> рд╣реИрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ред.task.post</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">tmr</a> <br><br><h3>  рд╡рд┐рдХрд╛рд╕ рдХрд╛ рд╡рд╛рддрд╛рд╡рд░рдг рдЪреБрдирдирд╛ </h3><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдореИрдВ рд╕реНрдХреНрд░реИрдЪ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдпрд╣ рдореБрдЭреЗ рд╕реВрдЯ рдирд╣реАрдВ рдХрд░рддрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдореБрдЭреЗ рдСрдлрд╝рд▓рд╛рдЗрди рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ - рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕реНрдХреНрд░реИрдЪ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдПрдХ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдЪрд▓рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рд╕рднреА рдмреЛрд░реНрдб рдирд┐рд╖реНрдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЪрд╛рд░реЛрдВ рдУрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдлрд╡рд╛рд╣ рдлреИрд▓рд╛рдиреЗ рдХреЗ</a> рдмрд╛рдж, рдореИрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Google рдмреНрд▓реЙрдХ рдореЗрдВ</a> рдЖрдпрд╛ред  рдпрд╣ рд╡рд╣реА рдирд┐рдХрд▓рд╛ рдЬреЛ рдЖрдкрдХреЛ рдЪрд╛рд╣рд┐рдП: рдпрд╣ рд▓реБрдЖ рдореЗрдВ рдХреЛрдб рдЬрдирд░реЗрд╢рди рдФрд░ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдмреНрд▓реЙрдХреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдкреНрд░рдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдЕрдкрдирд╛ рд╡реЗрдм-рдЖрдзрд╛рд░рд┐рдд рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдиреЛрдбрдЬ рдХреЛ рд╕рд░реНрд╡рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЪреБрдирд╛, рдФрд░ рдмреНрд▓реЙрдХрд╡реНрдпреВ рдХреЛ рдлреНрд░рдВрдЯреЗрдВрдб рдХреЗ рд░реВрдк рдореЗрдВред  2 рдмреНрд▓реЙрдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рдЖрд╡рд╢реНрдпрдХ рдерд╛ - рд░рдВрдЧ рдФрд░ рджреЗрд░реА рд╕реЗрдЯ рдХрд░рдирд╛ред  рдмреНрд▓реЙрдХ # рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд░рдВрдЧ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рд╣реИ, рд░рдВрдЧ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдирд╛ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рдереАред <br><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдкрд╛рдпрд▓рд░ рд╣реЗрдбрд┐рдВрдЧ</b> <div class="spoiler_text"><pre><code class="javascript hljs">Blockly.Lua[<span class="hljs-string"><span class="hljs-string">'set_color'</span></span>] = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">block</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parseColor = Blockly.Lua.provideFunction_( <span class="hljs-string"><span class="hljs-string">'set_colour_rgb'</span></span>, [<span class="hljs-string"><span class="hljs-string">'function '</span></span> + Blockly.Lua.FUNCTION_NAME_PLACEHOLDER_ + <span class="hljs-string"><span class="hljs-string">'(s)'</span></span>, <span class="hljs-string"><span class="hljs-string">' local rs,gs,bs = s.match(s, "#(..)(..)(..)");'</span></span>, <span class="hljs-string"><span class="hljs-string">' setColor(tonumber(rs, 16),tonumber(gs, 16),tonumber(bs, 16));'</span></span>, <span class="hljs-string"><span class="hljs-string">'end'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value_color = Blockly.Lua.valueToCode(block, <span class="hljs-string"><span class="hljs-string">'Color'</span></span>, Blockly.Lua.ORDER_ATOMIC); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> code = <span class="hljs-string"><span class="hljs-string">`set_colour_rgb(</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${value_color}</span></span></span><span class="hljs-string">)\n`</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> code; };</code> </pre> <br></div></div><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, 3 рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдореЗрдВ рд╕реЗ 2 рдХреЛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br><h3>  рдиреАрдВрдж () рд╕рдорд╛рд░реЛрд╣ </h3><br>  рдпрд╣рд╛рдВ рдореБрдЭреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдпрд╣ рд╕реЛрдЪрдирд╛ рдерд╛ рдХрд┐ рдХрд╕реНрдЯрдо рдХреЛрдб рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рд╕рд╛рде рдУрдЯреАрдП рдХреЗ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╕рдВрдЪрд╛рд▓рди рдХреЛ рдХреИрд╕реЗ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рд▓реБрдЖ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">coroutine</a> рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╣реИ <br><br>  рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдХреЛ рд╕реЛрдЪрдиреЗ рдФрд░ рд╡рд┐рдЪрд╛рд░рдкреВрд░реНрд╡рдХ рдкрдврд╝рдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдорд╣рд╕реВрд╕ рдХрд┐рдпрд╛ рдХрд┐ рд╕рднреА рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛрдб рдХреЛ рдХреЛрд░рдЯрд╛рдЗрди рдореЗрдВ рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдиреАрдВрдж рдХреЗ рдмрдЬрд╛рдп рдЙрдкрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рддрд╛рдХрд┐ рдореБрдЦреНрдп рдореЙрдбреНрдпреВрд▓ рдПрдХ рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдХрд░ рд╕рдХреЗред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдмреЛрд░реНрдб рдХреЛ рдЕрдирдВрдд рд▓реВрдк рд╕реЗ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдкреНрд░рддреНрдпреЗрдХ рд▓реВрдк рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдЙрдкрдЬ (0) рдбрд╛рд▓рдХрд░ рдЬрдирд░реЗрдЯрд░ рдХреЗ рдмрд╛рдж рдХреЛрдб рдХреЛ рдкреИрдЪ рдХрд┐рдпрд╛ <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MCUPostProcessLua</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">code</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> code.replace(<span class="hljs-regexp"><span class="hljs-regexp">/ do[ ]?\n/</span></span>, <span class="hljs-string"><span class="hljs-string">' do \ncoroutine.yield(0);\n'</span></span>); }</code> </pre><br><h3>  OTA рдбрд╛рдЙрдирд▓реЛрдб </h3><br>  рдореИрдВрдиреЗ рд╕реНрдерд╛рдиреАрдп рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рд╕рд░рд▓ рд╕рдорд╛рдзрд╛рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛, рдмреЛрд░реНрдб рдШрд░ рдХреЗ рд╡рд╛рдИрдлрд╛рдИ рд╕реЗ рдЬреБрдбрд╝рддрд╛ рд╣реИ, рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдкрддреЗ рдкрд░ рд╕рд░реНрд╡рд░ рд╕реЗ рдЬреБрдбрд╝рддрд╛ рд╣реИ, рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рднреЗрдЬрддрд╛ рд╣реИ (рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреБрди: рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП), рдФрд░ рдЗрд╕ рд╕реЙрдХреЗрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЕрдкрдбреЗрдЯ рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред <br><br><h3>  рдкрд░рд┐рдгрд╛рдо </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">github.com/farafonoff/BlocklyESP8266</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/EftHAEMSmh0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  рдЖрдк рдмрд╣реБрдд рдХреБрдЫ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рд╡рд┐рдХрд▓реНрдк, рд╣реЛрд╕реНрдЯрдк рдореЛрдб рдореЗрдВ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдЕрдиреБрдХреВрд▓ рд╡рд┐рдиреНрдпрд╛рд╕рдХрд░реНрддрд╛, init.lua рдореЙрдбреНрдпреВрд▓рд░рд┐рдЯреА рдореЗрдВ рд╕реБрдзрд╛рд░ рдФрд░ рдЗрд╕рдХреЗ рдУрдЯреАрдП рдЕрдкрдбреЗрдЯ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди (рдЕрдм рдХреЗрд╡рд▓ рд▓реЛрдб рдХрд┐рдП рдЧрдП рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЗ рд╕рд╛рде рдореЙрдбреНрдпреВрд▓ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi409449/">https://habr.com/ru/post/hi409449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi409439/index.html">рд╕реАрдИрдПрд╕ 2018: рдореБрдЦреНрдп рдкреНрд░рджрд░реНрд╢рдиреА рдХреМрди рд╣реИ?</a></li>
<li><a href="../hi409441/index.html">рдСрд╕реНрдЯреНрд░реЗрд▓рд┐рдпрд╛ рдХрд╛ рдЯрд┐рдХрдЯ</a></li>
<li><a href="../hi409443/index.html">рдХрдВрдкреНрдпреВрдЯрд░ рдиреЗ рдорд╛рдирд╡ рджреГрд╢реНрдп рдЫрд╡рд┐рдпреЛрдВ рдХреЛ рдХрд▓реНрдкрдирд╛ рдХрд░рдирд╛ рд╕рд┐рдЦрд╛рдпрд╛</a></li>
<li><a href="../hi409445/index.html">рд╕рдВрдХрдЯ рдХрд╛рдлреА рдирд╣реАрдВ рд╣реИред рдЖрдиреБрд╡рдВрд╢рд┐рдХ рд╕рдВрдкрд╛рджрди 2.0 рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рдУ</a></li>
<li><a href="../hi409447/index.html">рдорд╣рд╛рди рд╕рдордп рдЖ рдЧрдпрд╛ рд╣реИ - рдСрдмреНрд░реЗ рдбреА рдЧреНрд░реЗ рдХреЗ рд╕рд╛рде рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ - рдПрдХ рдЕрдзреНрдпрд╛рдп</a></li>
<li><a href="../hi409453/index.html">рдирдП рд╕рд╛рд▓ рд╕реЗ рд╣рдореЗрдВ рдЦрддрд░рд╛ рд╣реИред рд╡рд┐рджреЗрд╢реА рдСрдирд▓рд╛рдЗрди рдЦрд░реАрдж рдХреЗ рд╕рд╛рде рд╕рд░рдХрд╛рд░ рдФрд░ рдПрдлрд╕реАрдПрд╕ рдХреЗ рдмрд╣рд╛рджреБрд░ рд╕рдВрдШрд░реНрд╖ рдХреА рд╕рдордпрд░реЗрдЦрд╛</a></li>
<li><a href="../hi409455/index.html">рд╕реЙрдлреНрдЯрд╡реЗрдпрд░, рд╣рд╛рд░реНрдбрд╡реЗрдпрд░, рд╣реЗрдбрдлрд╝реЛрди рдФрд░ "рдХреЗрд╡рд▓ рдЕрднреНрдпрд╛рд╕": "рдСрдбрд┐рдпреЛ рдкреНрд░рд╢рдВрд╕рдХреЛрдВ" рдХреЗ рд▓рд┐рдП рд╕рд┐рдлрд╛рд░рд┐рд╢реЛрдВ рдХреЗ рд╕рд╛рде 30 рд╕рд╛рдордЧреНрд░реА</a></li>
<li><a href="../hi409457/index.html">CES 2018 рдХреЗ рд╕рд╛рде 5 рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рддреЗрдВ</a></li>
<li><a href="../hi409459/index.html">ESP8266 рдФрд░ ws2811 рдкрд░ рд╕реНрдорд╛рд░реНрдЯ рдХреНрд░рд┐рд╕рдорд╕ рдЯреНрд░реА</a></li>
<li><a href="../hi409461/index.html">рдЦреЗрд▓ рдореЗрдВ рд╕рд╣рдпреЛрдЧ: рддреНрд╡рд░рд┐рдд рд╕рдВрд╕реНрдорд░рдг рдХреЗ рд▓рд┐рдП рдЕрдВрдЧреНрд░реЗрдЬреА рдФрд░ рд░реВрд╕реА рдореЗрдВ рд╕рдорд╛рди рд╢рдмреНрджреЛрдВ рдХреА рддрд▓рд╛рд╢</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>