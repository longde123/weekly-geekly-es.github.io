<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐พโโ๏ธ ๐ง ๐ [DotNetBook] ุฃุญุฏุงุซ ุงูุงุณุชุซูุงุก ูููููุฉ ุงูุญุตูู ุนูู StackOverflow ู ExecutionEngineException ูู ุงูุจุฏุงูุฉ ๐๐ผ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฃุญุฏุงุซ ุงูุงุณุชุซูุงุก 


 ูู ุงูุญุงูุฉ ุงูุนุงูุฉ ุ ูุง ูุนุฑู ุฏุงุฆููุง ุงูุงุณุชุซูุงุกุงุช ุงูุชู ุณุชุญุฏุซ ูู ุจุฑุงูุฌูุง ูุฃููุง ุฏุงุฆููุง ูุง ูุณุชุฎุฏู ุดูุฆูุง ููุชูุจูุง ุจูุงุณุทุฉ ุฃุดุฎุงุต ุขุฎุฑูู ููู ูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>[DotNetBook] ุฃุญุฏุงุซ ุงูุงุณุชุซูุงุก ูููููุฉ ุงูุญุตูู ุนูู StackOverflow ู ExecutionEngineException ูู ุงูุจุฏุงูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/clrium/blog/419929/" style=";text-align:right;direction:rtl"><img width="350" src="https://habrastorage.org/webt/vh/7j/tq/vh7jtqhzbne4h3rjhprca2pruhu.png" align="left"><br><h2 id="sobytiya-ob-isklyuchitelnyh-situaciyah" style=";text-align:right;direction:rtl">  ุฃุญุฏุงุซ ุงูุงุณุชุซูุงุก </h2><br><p style=";text-align:right;direction:rtl"> ูู ุงูุญุงูุฉ ุงูุนุงูุฉ ุ ูุง ูุนุฑู ุฏุงุฆููุง ุงูุงุณุชุซูุงุกุงุช ุงูุชู ุณุชุญุฏุซ ูู ุจุฑุงูุฌูุง ูุฃููุง ุฏุงุฆููุง ูุง ูุณุชุฎุฏู ุดูุฆูุง ููุชูุจูุง ุจูุงุณุทุฉ ุฃุดุฎุงุต ุขุฎุฑูู ููู ููุฌูุฏ ูู ุฃูุธูุฉ ูุฑุนูุฉ ูููุชุจุงุช ุฃุฎุฑู.  ููุณ ููุท ูููู ุฃู ูููู ููุงู ูุฌููุนุฉ ูุชููุนุฉ ูู ุงูููุงูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููููุชุจุงุช ุงูุฃุฎุฑู ุ ููุงู ุฃูุถูุง ุงูุนุฏูุฏ ูู ุงููุดุงูู ุงููุฑุชุจุทุฉ ุจุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ุงููุฌุงูุงุช ุงููุนุฒููุฉ.  ูููุท ูู ูุฐู ุงูุญุงูุฉ ุ ุณูููู ูู ุงููููุฏ ููุบุงูุฉ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุชููู ุงูุจูุงูุงุช ุญูู ุชุดุบูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุนุฒููุฉ.  ุจุนุฏ ูู ุดูุก ุ ูุฏ ูููู ุงููููู ุญูููููุง ุชูุงููุง ุนูุฏูุง ูุนุชุฑุถ ุฑูุฒ ุงูุทุฑู ุงูุซุงูุซ ุฌููุน ุงูุฃุฎุทุงุก ุฏูู ุงุณุชุซูุงุก ุ ููุบุฑู <code>fault</code> ูุชูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">try { // ... } catch { // do nothing, just to make code call more safe }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุซู ูุฐู ุงูุญุงูุฉ ุ ูุฏ ูุชุจูู ุฃู ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ูุนุฏ ุขูููุง ููุง ูุจุฏู ุ ูููู ููุณ ูุฏููุง ุฃู ุฑุณุงุฆู ุญูู ุฃู ูุดุงูู.  ุงูุฎูุงุฑ ุงูุซุงูู ูู ุนูุฏูุง ูููุน ุงูุชุทุจูู ุจุนุถ ุงูุงุณุชุซูุงุกุงุช ุ ุญุชู ุงููุงููููุฉ.  ูุงููุชูุฌุฉ - ุงูุงุณุชุซูุงุก ุงูุชุงูู ูู ููุงู ุนุดูุงุฆู ุณูุคุฏู ุฅูู ุชุนุทู ุงูุชุทุจูู ูู ุงููุณุชูุจู ุจุณุจุจ ุฎุทุฃ ุนุดูุงุฆู ุนูู ูุง ูุจุฏู.  ููุง ุฃูุฏ ุฃู ุฃุญุตู ุนูู ููุฑุฉ ุนู ุฎูููุฉ ูุฐุง ุงูุฎุทุฃ.  ูุง ูู ูุณุงุฑ ุงูุฃุญุฏุงุซ ุงูุชู ุฃุฏุช ุฅูู ูุฐุง ุงููุถุน.  ูุชุชูุซู ุฅุญุฏู ุงูุทุฑู ูุฌุนู ุฐูู ูููููุง ูู ุงุณุชุฎุฏุงู ุฃุญุฏุงุซ ุฅุถุงููุฉ ุชุชุนูู ุจููุงูู ุงุณุชุซูุงุฆูุฉ: <code>AppDomain.FirstChanceException</code> ู <code>AppDomain.UnhandledException</code> . </p><br><blockquote style=";text-align:right;direction:rtl"><h3 style=";text-align:right;direction:rtl">  ููุงุญุธุฉ </h3><br>  ูู ูุชู ุชุญุฏูุซ ุงููุตู ุงูููุดูุฑ ุนูู ุญุจุฑู ุ ูุฑุจูุง ูููู ูุฏูููุง ุจุงููุนู.  ูุจุงูุชุงูู ุ ูุฑุฌู ุงูุฑุฌูุน ุฅูู ุงููุต ุงูุฃุตูู ููุญุตูู ุนูู ูุต ุฃุญุฏุซ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3q/6g/qa/3q6gqaz40qx-jzscjf3jbxatxhg.png">  ูุชุงุจ CLR: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุซุจ ุ ุฌุฏูู ุงููุญุชููุงุช</a> </li><li style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3q/6g/qa/3q6gqaz40qx-jzscjf3jbxatxhg.png">  CLR ูุชุงุจ: <a href="">ุฌูุซุจ ุ ุงููุตู</a> </li><li style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eo/6g/eo/eo6geog0tg5ernqmv2lcmufefta.png">  ุงูุฅุตุฏุงุฑ 0.5.2 ูุชุจ ุ PDF: <a href="">ุฅุตุฏุงุฑ GitHub</a> </li></ul><br></blockquote><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/97f/1d3/cf0/97f1d3cf0e2a6bf007066eb60a789c31.png"></a> </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ุนูุฏูุง "ุชุทุฑุญ ุงุณุชุซูุงุกู" ุ ูุชู ุงุณุชุฏุนุงุก ุงูุทุฑููุฉ ุงููุนุชุงุฏุฉ ูุจุนุถ ุงูุฃูุธูุฉ ุงููุฑุนูุฉ ุงูุฏุงุฎููุฉ ููุฑูู ุ ูุงูุชู ุชููู ุจุฏุงุฎููุง ุจุชูููุฐ ุงูุนูููุงุช ุงูุชุงููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู <code>AppDomain.FirstChanceException</code> </li><li style=";text-align:right;direction:rtl">  ูุจุญุซ ุนู ูุฑุดุญุงุช ูุทุงุจูุฉ ูู ุณูุณูุฉ ุงููุนุงูุฌุงุช </li><li style=";text-align:right;direction:rtl">  ูุฌุนู ุงููุนุงูุฌ ููู ุงูููุฏุณ ูุณุจููุง ููุฅุทุงุฑ ุงููุทููุจ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู ูุนุงูุฌ ุ ูุชู <code>AppDomain.UnhandledException</code> ุ ููุง ูุคุฏู ุฅูู ุชุนุทู ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุฐู ุญุฏุซ ููู ุงูุงุณุชุซูุงุก. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุนูู ุงููุฑุก ุฃู ูููู ุนูู ุงูููุฑ ุจุงูุญุฌุฒ ุนูุฏ ุงูุฅุฌุงุจุฉ ุนูู ุณุคุงู ูุนุฐุจ ุงููุซูุฑ ูู ุงูุนููู: ูู ูู ุงููููู ุฅูุบุงุก ุงูุงุณุชุซูุงุก ุงูุฐู ุญุฏุซ ูู ุงูููุฏ ุบูุฑ ุงูููุถุจุท ุงูุฐู ูุชู ุชูููุฐู ูู ุงููุฌุงู ุงููุนุฒูู ุฏูู ูุณุฑ ูุฐุง ุงูุฎูุท ุงูุฐู ุชู ุทุฑุญ ูุฐุง ุงูุงุณุชุซูุงุก ูููุ  ุงูุฌูุงุจ ููุฌุฒ ูุจุณูุท: ูุง.  ุฅุฐุง ูู ูุชู ุงูุชุดุงู ุงุณุชุซูุงุก ูู ุงููุทุงู ุงููุงูู ููุทุฑู ุงููุทููุจุฉ ุ ููุง ูููู ุงูุชุนุงูู ูุนู ูู ุญูุซ ุงููุจุฏุฃ.  ุฎูุงู ุฐูู ุ ููุดุฃ ูููู ุบุฑูุจ: ุฅุฐุง ุงุณุชุฎุฏููุง <code>AppDomain.FirstChanceException</code> ููุชุนุงูู ูุน ุงุณุชุซูุงุก (ููุน ูู <code>catch</code> ุงูุงุตุทูุงุนู) ุ ููุง ูู ุงูุฅุทุงุฑ ุงูุฐู ูุฌุจ ุฃู ูุชุฑุงุฌุน ููู ุฑุตุฉ ุงูุฎูุทุ  ููููุฉ ุชุนููู ูุฐุง ูุฌุฒุก ูู ููุงุนุฏ .NET CLRุ  ูุณุชุญูู.  ุฅูู ุจุจุณุงุทุฉ ุบูุฑ ูููู.  ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูููููุง ุงูููุงู ุจู ูู ุชุณุฌูู ุงููุนูููุงุช ุงููุงุฑุฏุฉ ููุจุญุซ ูู ุงููุณุชูุจู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุซุงูู ููุญุฏูุซ ุนู "ุงูุดุงุทุฆ" ูู ููุงุฐุง ูู ูุชู ุนุฑุถ ูุฐู ุงูุฃุญุฏุงุซ ูู <code>Thread</code> ุ ูููู ูู <code>AppDomain</code> .  ุจุนุฏ ูู ุดูุก ุ ุฅุฐุง ุงุชุจุนุช ุงูููุทู ุ ุชูุดุฃ ุงุณุชุซูุงุกุงุช ุฃููุ  ูู ุชุฏูู ุชูููุฐ ุงูุฃูุฑ.  ุนูู ุณุจูู ุงููุซุงู  ูู ุงููุงูุน <code>Thread</code> .  ูููุงุฐุง ูุนุงูู ุงููุฌุงู ูู ูุดุงููุ  ุงูุฌูุงุจ ุจุณูุท ููุบุงูุฉ: ูุง ูู ุงูููุงูู ุงูุชู ุชู <code>AppDomain.UnhandledException</code> ู <code>AppDomain.UnhandledException</code> ุ  ูู ุจูู ุฃููุฑ ุฃุฎุฑู - ูุฅูุดุงุก ุตูุงุฏูู ุฑูู ููููููุงุช ุงูุฅุถุงููุฉ.  ุนูู ุณุจูู ุงููุซุงู  ููุญุงูุงุช ุงูุชู ูููู ูููุง <code>AppDomain</code> ูุนูู ุชู ุชููููู ูู PartialTrust.  ูููู ุฃู ูุญุฏุซ ุฃู ุดูุก ุฏุงุฎู AppDomain ูุฐุง: ูููู ุฅูุดุงุก ุณูุงุณู ุงูุฑุณุงุฆู ูู ุฃู ูุญุธุฉ ุ ุฃู ูููู ุงุณุชุฎุฏุงู ุณูุงุณู ุงูุฑุณุงุฆู ุงูููุฌูุฏุฉ ูู ThreadPool.  ุซู ุงุชุถุญ ุฃููุง ุ ุฎุงุฑุฌ ูุฐู ุงูุนูููุฉ (ูู ููุชุจ ูุฐุง ุงูุฑูุฒ) ุ ูุง ูููููุง ุงูุงุดุชุฑุงู ูู ุฃุญุฏุงุซ ุงูุชุฏููุงุช ุงูุฏุงุฎููุฉ.  ููุท ูุฃูู ููุณ ูุฏููุง ููุฑุฉ ุนู ุงูุชุฏููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ููุงู.  ููููุง ูุถูู ุฃู ูููู ูุฏููุง <code>AppDomain</code> ุงูุฐู ููุธู ูุถุน ุงูุญูุงูุฉ ูุงูุฑูุงุจุท ุงูุชู ูุฏููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุ ูู ุงููุงูุน ุ ุชู <code>FirstChanceExecption</code> ุฅููููููู: ุญุฏุซ ุดูุก ูู ููู ูู ุงูููุชุฑุถ ( <code>FirstChanceExecption</code> ) ู "ูู ุดูุก ุณูุฆ" ุ ูู ูุนุงูุฌ ุฃุญุฏ ุงูุงุณุชุซูุงุก: ูู ูุชู ุชูููุฑู.  ูุฐูู ุ ูุฅู ุชุฏูู ุชูููุฐ ุงูุฃูุฑ ูุง ูุนูู ูู ูุณูุชู ุดุญูู ( <code>Thread</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ูููู ุงูุญุตูู ุนููู ูู ุฎูุงู ูุฐู ุงูุฃุญุฏุงุซ ูููุงุฐุง ูููู ูู ุงูุณูุก ุฃู ูุชุฌุงูุฒ ุงููุทูุฑูู ูุฐู ุงูุฃุญุฏุงุซุ </p><br><h3 id="appdomainfirstchanceexception" style=";text-align:right;direction:rtl">  AppDomain.FirstChanceException </h3><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูุญุฏุซ ุฐู ุทุจูุนุฉ ุฅุนูุงููุฉ ุจุญุชุฉ ููุง ูููู "ูุนุงูุฌุชู".  ูุชุชูุซู ูููุชูุง ูู ุฅุนูุงูู ุจุญุฏูุซ ุงุณุชุซูุงุก ูู ูุฐุง ุงููุฌุงู ูุณุชุจุฏุฃ ูุนุงูุฌุชู ุจูุงุณุทุฉ ุฑูุฒ ุงูุชุทุจูู ุจุนุฏ ูุนุงูุฌุฉ ุงูุญุฏุซ.  ูุญูู ุชูููุฐู ุจุถุน ููุฒุงุช ูุฌุจ ุชุฐูุฑูุง ุฃุซูุงุก ุชุตููู ุงููุนุงูุฌ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฏุนูุง ุฃููุงู ูููู ูุธุฑุฉ ุนูู ูุซุงู ุงุตุทูุงุนู ุจุณูุท ุนู ูุนุงูุฌุชู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void Main() { var counter = 0; AppDomain.CurrentDomain.FirstChanceException += (_, args) =&gt; { Console.WriteLine(args.Exception.Message); if(++counter == 1) { throw new ArgumentOutOfRangeException(); } }; throw new Exception("Hello!"); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ูููุฒ ูุฐุง ุงูุฑูุฒุ  ุฃูููุง ุทุฑุญ ุจุนุถ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงุณุชุซูุงุกู ุ ูุฅู ุฃูู ูุง ูุญุฏุซ ูู ุชุณุฌููู ูู ูุญุฏุฉ ุงูุชุญูู.  ุนูู ุณุจูู ุงููุซุงู  ุญุชู ุฅุฐุง ูุณูุช ุฃู ูุง ููููู ุชุตูุฑ ุงูุชุนุงูู ูุน ููุน ูู ุงูุงุณุชุซูุงุก ุ ูุณูุธู ูุธูุฑ ูู ุณุฌู ุงูุฃุญุฏุงุซ ุงูุฐู ุชูุธูู.  ูุงูุซุงูู ูู ุญุงูุฉ ุบุฑูุจุฉ ุฅูู ุญุฏ ูุง ูุฑูู ุงุณุชุซูุงุก ุฏุงุฎูู.  ุงูุดูุก ูู ุฃูู ุฏุงุฎู ูุนุงูุฌ <code>FirstChanceException</code> ูุง ููููู ููุท ุฑูู ูุฑูู ุงุณุชุซูุงุก ุขุฎุฑ.  ุจุฏูุงู ูู ุฐูู ุ ุญุชู ูุฐุง: ุฏุงุฎู ูุนุงูุฌ FirstChanceException ุ ูุง ููููู ุทุฑุญ ุฃู ุงุณุชุซูุงุก ุนูู ุงูุฃูู.  ุฅุฐุง ููุช ุจุฐูู ุ ูููุงู ุญุฏุซุงู ูุญุชููุงู.  ูู ุงูุจุฏุงูุฉ ุ ุฅุฐุง ูู ุชูู ููุงู <code>if(++counter == 1)</code> ุ ูุณูู ูุญุตู ุนูู <code>FirstChanceException</code> ูุงููุงุฆู ูู <code>ArgumentOutOfRangeException</code> ุงูุฌุฏูุฏ ุชูุงููุง.  ูุงุฐุง ูุนูู ูุฐุงุ  ูุฐุง ูุนูู ุฃูู ูู ูุฑุญูุฉ ูุนููุฉ ุณูุญุตู ุนูู <code>StackOverflowException</code> : ุทุฑุญ <code>throw new Exception("Hello!")</code> <code>FirstChanceException</code> ุฃุณููุจ CLR Throw ุ ุงูุฐู ูููู <code>FirstChanceException</code> ุ ูุงูุฐู ูุฑูู <code>Throw</code> ุจุงููุนู ูู <code>ArgumentOutOfRangeException</code> ุซู ูุชูุฑุฑ.  ุงูุฎูุงุฑ ุงูุซุงูู - ุฏุงูุนูุง ุนู ุฃููุณูุง ุจุนูู ุงูุนูุฏูุฉ ุจุงุณุชุฎุฏุงู ุงูุดุฑุท <code>counter</code> .  ุนูู ุณุจูู ุงููุซุงู  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฑูู ุงุณุชุซูุงุก ูุฑุฉ ูุงุญุฏุฉ ููุท.  ูุงููุชูุฌุฉ ุฃูุซุฑ ูู ุบูุฑ ูุชููุนุฉ: ูุญุตู ุนูู ุงุณุชุซูุงุก ูุนูู ุจุงููุนู ุฏุงุฎู ุชุนูููุงุช <code>Throw</code> .  ููุง ูู ุงูุฃูุณุจ ููุฐุง ุงูููุน ูู ุงูุฃุฎุทุงุกุ  ููููุง ูู ECMA-335 ุ ุฅุฐุง ุชู ุทุฑุญ ุงูุชุนูููุงุช ูู ุงุณุชุซูุงุก ุ ููุฌุจ ุทุฑุญ <code>ExecutionEngineException</code> !  ููููุง ูุณูุง ูุงุฏุฑูู ุนูู ุงูุชุนุงูู ูุน ูุฐุง ุงููุถุน ุงูุงุณุชุซูุงุฆู.  ูุคุฏู ุฅูู ุชุนุทู ูุงูู ูู ุงูุชุทุจูู.  ูุง ูู ุฎูุงุฑุงุช ุงููุนุงูุฌุฉ ุงูุขููุฉ ูุฏููุงุ </p><br><p style=";text-align:right;direction:rtl">  ุฃูู ุดูุก ูุชุจุงุฏุฑ ุฅูู ุงูุฐูู ูู ุชุนููู ูุชูุฉ <code>try-catch</code> ุนูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููุนุงูุฌ <code>FirstChanceException</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void Main() { var fceStarted = false; var sync = new object(); EventHandler&lt;FirstChanceExceptionEventArgs&gt; handler; handler = new EventHandler&lt;FirstChanceExceptionEventArgs&gt;((_, args) =&gt; { lock (sync) { if (fceStarted) { //     - ,        -      , //   try  . Console.WriteLine($"FirstChanceException inside FirstChanceException ({args.Exception.GetType().FullName})"); return; } fceStarted = true; try { //     . ,   Console.WriteLine(args.Exception.Message); throw new ArgumentOutOfRangeException(); } catch (Exception exception) { //       Console.WriteLine("Success"); } finally { fceStarted = false; } } }); AppDomain.CurrentDomain.FirstChanceException += handler; try { throw new Exception("Hello!"); } finally { AppDomain.CurrentDomain.FirstChanceException -= handler; } } OUTPUT: Hello! Specified argument was out of the range of valid values. FirstChanceException inside FirstChanceException (System.ArgumentOutOfRangeException) Success !Exception: Hello!</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู  ูู ูุงุญูุฉ ุ ูุฏููุง ุฑูุฒ ููุชุนุงูู ูุน ุญุฏุซ <code>FirstChanceException</code> ุ ููู ูุงุญูุฉ ุฃุฎุฑู ุ ูุฏููุง ุฑูุฒ ุฅุถุงูู ููุชุนุงูู ูุน ุงูุงุณุชุซูุงุกุงุช ูู <code>FirstChanceException</code> ููุณูุง.  ููุน ุฐูู ุ ูุฌุจ ุฃู ุชููู ุชูููุงุช ุงูุชุณุฌูู ูููุง ุงูุญุงูุชูู ูุฎุชููุฉ.  ุฅุฐุง ูุงู ุชุณุฌูู ูุนุงูุฌุฉ ุงูุญุฏุซ ูููู ุฃู ูุณูุฑ ููุง ุชุฑูุฏ ุ ููุฌุจ ุฃู <code>FirstChanceException</code> ูุนุงูุฌุฉ ุฎุทุฃ ููุทู ูุนุงูุฌุฉ <code>FirstChanceException</code> ุฏูู ุงุณุชุซูุงุก ูู ุญูุซ ุงููุจุฏุฃ.  ุงูุดูุก ุงูุซุงูู ุงูุฐู ูุงุญุธุชู ุนูู ุงูุฃุฑุฌุญ ูู ุงููุฒุงููุฉ ุจูู ุณูุงุณู ุงููุญุงุฏุซุงุช.  ูุฏ ูุซูุฑ ูุฐุง ุงูุณุคุงู: ููุงุฐุง ููุง ุฅุฐุง ุชู ุทุฑุญ ุฃู ุงุณุชุซูุงุก ูู ุฃู ููุถูุน ุ ููุง ูุนูู ุฃู <code>FirstChanceException</code> ูุฌุจ ุฃู ูููู ุขูููุง ููุคุดุฑ ุงูุชุฑุงุจุท.  ููุน ุฐูู ุ ูู ุดูุก ููุณ ูุจุชูุฌูุง ุฌุฏูุง.  <code>FirstChanceException</code> ูุฏููุง ูู AppDomain.  ููุฐุง ูุนูู ุฃูู ูุญุฏุซ ูุฃู ูุคุดุฑ ุชุฑุงุจุท ูุจุฏุฃ ูู ูุฌุงู ูุนูู.  ุนูู ุณุจูู ุงููุซุงู  ุฅุฐุง ูุงู ูุฏููุง ูุฌุงู ูุชู ููู ุจุฏุก ุงูุนุฏูุฏ ูู <code>FirstChanceException</code> ุ <code>FirstChanceException</code> ุฃู ูุชู <code>FirstChanceException</code> ุจุงูุชูุงุฒู.  ููุฐุง ูุนูู ุฃููุง ุจุญุงุฌุฉ ุฅูู ุญูุงูุฉ ุฃููุณูุง ุจุทุฑููุฉ ูุง ูุน ุงููุฒุงููุฉ: ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู <code>lock</code> . </p><br><p style=";text-align:right;direction:rtl">  ุงูุทุฑููุฉ ุงูุซุงููุฉ ูู ูุญุงููุฉ ุชุญููู ุงููุนุงูุฌุฉ ุฅูู ูุคุดุฑ ุชุฑุงุจุท ูุฌุงูุฑ ููุชูู ุฅูู ูุฌุงู ุชุทุจูู ูุฎุชูู.  ููุน ุฐูู ุ ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูุน ูุซู ูุฐุง ุงูุชูููุฐ ุ ูุฌุจ ุฃู ูุจูู ูุฌุงููุง ูุฎุตุตูุง ุฎุตูุตูุง ููุฐู ุงููููุฉ ุญุชู ูุง ูุนูู ุญุชู ูููู ููุชุฏููุงุช ุงูุฃุฎุฑู ุงูุชู ุชุนูู ุฃู ุชุถุน ูุฐุง ุงููุฌุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">static void Main() { using (ApplicationLogger.Go(AppDomain.CurrentDomain)) { throw new Exception("Hello!"); } } public class ApplicationLogger : MarshalByRefObject { ConcurrentQueue&lt;Exception&gt; queue = new ConcurrentQueue&lt;Exception&gt;(); CancellationTokenSource cancellation; ManualResetEvent @event; public void LogFCE(Exception message) { queue.Enqueue(message); } private void StartThread() { cancellation = new CancellationTokenSource(); @event = new ManualResetEvent(false); var thread = new Thread(() =&gt; { while (!cancellation.IsCancellationRequested) { if (queue.TryDequeue(out var exception)) { Console.WriteLine(exception.Message); } Thread.Yield(); } @event.Set(); }); thread.Start(); } private void StopAndWait() { cancellation.Cancel(); @event.WaitOne(); } public static IDisposable Go(AppDomain observable) { var dom = AppDomain.CreateDomain("ApplicationLogger", null, new AppDomainSetup { ApplicationBase = AppDomain.CurrentDomain.BaseDirectory, }); var proxy = (ApplicationLogger)dom.CreateInstanceAndUnwrap(typeof(ApplicationLogger).Assembly.FullName, typeof(ApplicationLogger).FullName); proxy.StartThread(); var subscription = new EventHandler&lt;FirstChanceExceptionEventArgs&gt;((_, args) =&gt; { proxy.LogFCE(args.Exception); }); observable.FirstChanceException += subscription; return new Subscription(() =&gt; { observable.FirstChanceException -= subscription; proxy.StopAndWait(); }); } private class Subscription : IDisposable { Action act; public Subscription (Action act) { this.act = act; } public void Dispose() { act(); } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุงูุชุนุงูู ูุน <code>FirstChanceException</code> ุขูููุง ูุฏุฑ ุงูุฅููุงู: ูู ุณูุณูุฉ <code>FirstChanceException</code> ุงููุฌุงูุฑุฉ ุงูุชู ุชูุชูู ุฅูู ุงููุฌุงู ุงููุฌุงูุฑ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุง ูููู ุฃู ุชุคุฏู ุงูุฃุฎุทุงุก ูู ูุนุงูุฌุฉ ุงูุฑุณุงูุฉ ุฅูู ุฅุณูุงุท ุณูุฑ ุนูู ุงูุชุทุจูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููููู ุงูุงุณุชูุงุน ุจุดูู ูููุตู ุฅูู UnhandledException ููุฌุงู ุชุณุฌูู ุงูุฑุณุงุฆู: ูู ุชุคุฏู ุงูุฃุฎุทุงุก ุงููุงุฏุญุฉ ุฃุซูุงุก ุงูุชุณุฌูู ุฅูู ุฅุณูุงุท ุงูุชุทุจูู ุจุงููุงูู. </p><br><h3 id="appdomainunhandledexception" style=";text-align:right;direction:rtl">  AppDomain.UnhandledException </h3><br><p style=";text-align:right;direction:rtl">  ุงูุฑุณุงูุฉ ุงูุซุงููุฉ ุงูุชู ูููููุง ุงูุชูุงุทูุง ูุงูุชู ุชุชุนุงูู ูุน ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุก ูู <code>AppDomain.UnhandledException</code> .  ูุฐู ุงูุฑุณุงูุฉ ุฃุฎุจุงุฑ ุณูุฆุฉ ููุบุงูุฉ ุจุงููุณุจุฉ ููุง ูุฃููุง ุชุนูู ุฃูู ูู ููู ููุงู ุฃู ุดุฎุต ููููู ุงูุนุซูุฑ ุนูู ุทุฑููุฉ ููุชุนุงูู ูุน ุงูุฎุทุฃ ูู ุณูุณูุฉ ูุญุงุฏุซุงุช ูุนููุฉ.  ุฃูุถุง ุ ุฅุฐุง ุญุฏุซ ูุซู ูุฐุง ุงููููู ุ ูู ูุง ูููููุง ุงูููุงู ุจู ูู "ูุณุญ" ุนูุงูุจ ูุซู ูุฐุง ุงูุฎุทุฃ.  ุนูู ุณุจูู ุงููุซุงู  ุจุฃู ุดูู ูู ุงูุฃุดูุงู ูุชูุธูู ุงูููุงุฑุฏ ุงูุชู ุชูุชูู ุฅูู ูุฐุง ุงูุฏูู ููุท ุฅุฐุง ุชู ุฅูุดุงุก ุฃู.  ููุน ุฐูู ุ ูุฅู ุงููุถุน ุงูุฃูุถู ูู ุงูุชุนุงูู ูุน ุงูุงุณุชุซูุงุกุงุช ุฃุซูุงุก ูุฌูุฏูุง ูู ุฌุฐุฑ ุงูุณูุงุณู ุฏูู ุญุธุฑ ุงูุฎูุท.  ุนูู ุณุจูู ุงููุซุงู  ูุถุนุช ุฃุณุงุณุง <code>try-catch</code> .  ุฏุนููุง ูุญุงูู ุงููุธุฑ ูู ูุฏู ููุงุกูุฉ ูุฐุง ุงูุณููู. </p><br><p style=";text-align:right;direction:rtl">  ูููุชุฑุถ ุฃู ูุฏููุง ููุชุจุฉ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุณูุงุณู ุฑุณุงุฆู ูุชูููุฐ ููุน ูู ุงูููุทู ูู ูุฐู ุงูููุงุถูุน.  ูุญู ุ ููุณุชุฎุฏููู ููุฐู ุงูููุชุจุฉ ุ ููุชููู ููุท ุจุถูุงู ููุงููุงุช API ููุฐูู ุชููู ุฑุณุงุฆู ุงูุฎุทุฃ.  ุฅุฐุง ูุงูุช ุงูููุชุจุฉ ุณูู ุชุชุนุทู ุงูุชุฏููุงุช ุฏูู ุฅุฎุทุงุฑ ุนููุง ุ ููุฐุง ูุง ูููู ุฃู ูุณุงุนุฏูุง ูุซูุฑูุง.  ุนูุงูุฉ ุนูู ุฐูู ุ ุณูุคุฏู ุงูููุงุฑ ุงูุฏูู ุฅูู ุฑุณุงูุฉ <code>AppDomain.UnhandledException</code> ุ ุญูุซ ูุง ุชูุฌุฏ ูุนูููุงุช ุญูู ุฃู ุฏูู ูุนูู ููุน ุนูู ุฌุงูุจู.  ุฅุฐุง ููุง ูุชุญุฏุซ ุนู ุฑูุฒูุง ุ ููู ุบูุฑ ุงููุฑุฌุญ ุฃู ูููู ุงูุชุฏูู ุงููุชุนุทู ูููุฏูุง ููุง.  ุนูู ุฃู ุญุงู ุ ูู ุฃูู ุฃูู ุจุงูุญุงุฌุฉ ูุฐูู.  ูููุชูุง ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุดูู ุตุญูุญ ุ ูุฅุฑุณุงู ูุนูููุงุช ุญูู ุญุฏูุซูุง ุฅูู ุณุฌู ุงูุฃุฎุทุงุก ูุฅููุงุก ุงูุชุฏูู ุจุดูู ุตุญูุญ.  ุนูู ุณุจูู ุงููุซุงู  ูู ุจูู ุงูุทุฑููุฉ ุงูุชู ูุจุฏุฃ ุจูุง ุงูุฎูุท ูู <code>try-catch</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ThreadPool.QueueUserWorkitem(_ =&gt; { using(Disposables aggregator = ...){ try { // do work here, plus: aggregator.Add(subscriptions); aggregator.Add(dependantResources); } catch (Exception ex) { logger.Error(ex, "Unhandled exception"); } } });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุซู ูุฐุง ุงููุฎุทุท ุ ูุญุตู ุนูู ูุง ูุญุชุงุฌู: ูู ูุงุญูุฉ ุ ูู ููุณุฑ ุงูุชูุงุฑ.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูู ุจุชูุธูู ุงูููุงุฑุฏ ุงููุญููุฉ ุจุดูู ุตุญูุญ ุฅุฐุง ุชู ุฅูุดุงุคูุง.  ุญุณููุง ุ ูู ุงูููุญู - ููุธู ุชุณุฌูู ุงูุฎุทุฃ ุงูุฐู ุชู ุชูููู.  ููู ุงูุชุธุฑ ุ ุชููู.  ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ุงุฑุชุฏุช ูุดููุฉ ุญุฏุซ <code>AppDomain.UnhandledException</code> .  ูู ุญูุง ููุณ ูู ุงูุถุฑูุฑู ุนูู ุงูุฅุทูุงูุ  ูู ุงูุถุฑูุฑู.  ูููู ููุท ููุฅุจูุงุบ ุฃููุง ูุณููุง ุฃู ููู ุจุนุถ ุงูุฎููุท ูู <code>try-catch</code> ุจูู ุงูููุทู ุงูุถุฑูุฑู.  ูุน ูู ุดูุก: ูุน ุชุณุฌูู ูุชูููุฉ ุงูููุงุฑุฏ.  ุฎูุงู ุฐูู ุ ุณูููู ูู ุงูุฎุทุฃ ุชูุงููุง: ุฃุฎุฐ ูุฅูุบุงุก ุฌููุน ุงูุงุณุชุซูุงุกุงุช ุ ููุง ูู ูู ุชูู ููุฌูุฏุฉ ุนูู ุงูุฅุทูุงู. </p><br><blockquote style=";text-align:right;direction:rtl"><h3 style=";text-align:right;direction:rtl">  ุฑุงุจุท ูููุชุงุจ ููู </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3q/6g/qa/3q6gqaz40qx-jzscjf3jbxatxhg.png">  ูุชุงุจ CLR: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุซุจ</a> </li><li style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eo/6g/eo/eo6geog0tg5ernqmv2lcmufefta.png">  ุงูุฅุตุฏุงุฑ 0.5.0 ูุชุจ ุ PDF: <a href="">ุฅุตุฏุงุฑ GitHub</a> </li></ul><br></blockquote><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/97f/1d3/cf0/97f1d3cf0e2a6bf007066eb60a789c31.png"></a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar419929/">https://habr.com/ru/post/ar419929/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar419919/index.html">ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ ุฏุงุฎู SQL Server</a></li>
<li><a href="../ar419921/index.html">ููููุฉ ุฅุณูุงุท 10 ููููู ุนูุจุฉ ูู ุงูุซุงููุฉ</a></li>
<li><a href="../ar419923/index.html">ุนููู ุงููุคูุช ุ ุณุงุนุงุช ุงูููุญุฉ ุงูุฃู</a></li>
<li><a href="../ar419925/index.html">ุงูุชุญูู ูู ุฅุตุฏุงุฑ ุงููููุงุช ุงููุฑุฏูุฉ ุจุงุณุชุฎุฏุงู GitHub Gist</a></li>
<li><a href="../ar419927/index.html">[DotNetBook] ุงูุงุณุชุซูุงุกุงุช: ุงูุชุจ ุจููุฉ ุงููุธุงู</a></li>
<li><a href="../ar419931/index.html">[DotNetBook] ุญุงู ุงูููุช ููุชุฑููู ุนู ุงููุตุต: ุญุงูุงุช ุงุณุชุซูุงุฆูุฉ ุงุณุชุซูุงุฆูุฉ</a></li>
<li><a href="../ar419933/index.html">ููููุฉ ุฅุฌุฑุงุก ุนูููุงุช ุจุญุซ ุงููุณุชุฎุฏู ุนูู Github ุจุงุณุชุฎุฏุงู Angular</a></li>
<li><a href="../ar419935/index.html">ูุฑุฉ ูุงุญุฏุฉ ุจุงูุถุจุท ููุณุช ูู ููุณูุง: ุชุญููู ุงูููุงูุฉ</a></li>
<li><a href="../ar419939/index.html">ููู ุฌุนูุช ุงูููุงุญุฉ ูู React Native ููุณุช ุฑููุจุฉ ุฌุฏูุง</a></li>
<li><a href="../ar419941/index.html">ุฌููุฉ ุชุตููุฑ ููุชุจ Audiomania: ุงูุฌุฒุก ุงูุฃูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>