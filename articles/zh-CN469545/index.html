<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🎤 ☀️ 👩🏾‍🎓 Linux内核5.3的新增功能-网络子系统中的图形驱动程序，虚拟化和修改 🤷🏿 🖖🏿 🧗🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们将讨论更新，并为下一个版本准备进行哪些更改。 

  
 照片-Ian Parker -Unsplash 

 图形驱动程序更新 
 Linux内核5.3在amdgpu驱动程序中增加了对 AMD Navi GPU（RX5700）的支持。 初始化视频卡所需的所有二进制微代码都放置在linux-fi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Linux内核5.3的新增功能-网络子系统中的图形驱动程序，虚拟化和修改</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1cloud/blog/469545/"> 我们将讨论更新，并为下一个版本准备进行哪些更改。 <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/bm/fs/eh/bmfsehm6gb-luabxj9rxcbx5k-u.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>照片-Ian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Parker</a> -Unsplash</i></font> <br><br><h2> 图形驱动程序更新 </h2><br>  Linux内核5.3在amdgpu驱动程序中增加了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">对</a> AMD Navi GPU（RX5700）的支持。 初始化视频卡所需的所有二进制微代码都<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">放置</a>在<a href=""><i><b>linux-firmware.git</b></i></a>存储库中（发布更新后的一段时间）。 以前，“二进制文件”必须从amdgpu的主要维护者Alex Deucher（Alex Deucher）的个人站点上<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">单独下载</a> 。 <br><br> 此外，核心开发人员还提高了Vega12和Vega20 GPU的性能，为其添加了额外的内存和电源管理功能。 <br><br><blockquote>  Nouveau项目的开发人员提供了许多更新，这些更新负责免费的Nvidia驱动程序。 他们增加了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">对</a> Turing TU116的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">支持</a> 。 这是安装在GeForce GTX 1660 Ti卡上的图形处理器。 项目维护者<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">指出</a> ，连同Nouveau驱动程序中的新芯片组定义，它们修复了与内存泄漏和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">KMS</a>操作有关的错误。 </blockquote><br> 到目前为止，关于GTX 900 Maxwell系列图形卡的时钟恢复的实现方法一无所知。 虽然很快情况可能会改变。  8月中旬，Nvidia向其开源产品<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">提交了</a>新的文档。 稍后应提供配置自动频率控制所需的信息。 <br><br><h2> 网络子系统 </h2><br>  Linux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">现在支持</a>范围为0.0.0.0/8的IPv4处理。 该子网的引入使得可以再分配1600万个IP地址。 同样对于IPv4和IPv6，已添加了nexthop机制。 它增加了路由表的可伸缩性。 根据核心开发人员的说法，新解决方案在4.3秒内<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">加载了</a> 74万条路线。 <br><br> 此外，具有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nftable</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">netfilter</a>防火墙还采用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了一种</a>加速数据包过滤<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>机制-将<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Flow Block API</a>添加到了驱动程序中。 现在，可以将整个规则表制作成网络适配器了-支持L3和L4协议的简单元数据，并可以按发送者/接收者地址以及网络端口和协议类型进行匹配。 <br><br><h2> 虚拟化 </h2><br> 核心<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">包括</a>用于物联网设备和嵌入式技术<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a> ACRN管理程序。 它是基于英特尔的轻量级虚拟机管理程序开发的。 <br><br><img src="https://habrastorage.org/webt/fd/er/gb/fdergbacxuw64sgqvq0ydcnpbu4.jpeg"><br>  <font color="#A9A9A9"><i>照片- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">凯西·霍纳</a> （ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Casey Horner）—未</a>飞溅</i></font> <br><br>  Linux也<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有</a>时间旅行<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">模式</a> 。 在虚拟UML环境中，这可以加快或减慢时间。 此功能使调试与时间相关的代码变得容易。 另外，开发人员添加了time-travel-start参数-它从所需的时刻开始启动VM系统时钟。 <br><br><h2> 新外围 </h2><br> 自2015年以来发布的用于键盘和触控板MacBook和MacBook Pro的SPI驱动程序已<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">添加到</a> Linux内核中。  Apple没有公开SPI标准的文档，但是内核开发团队设法对其进行反向工程并编写了驱动程序。 尽管该项目的工作尚未完成，但是仍然有一些团队的信息已加密。 <br><br> 此外，Linux内核5.3还增加了支持： <i><b>Saitek R440力反馈</b></i>方向盘， <i><b>Ugee Rainbow CV720</b></i>图形输入板， <i><b>Wacom MobileStudio Pro</b></i>和<i><b>Wacom Intuos Pro Small</b></i> （第二代），以及<i><b>Logitech MX3000</b></i>接收器（27 MHz）。 <br><br><h2> 删除了什么 </h2><br> 在发布新内核版本之前，LKML新闻中的Linus Torvalds <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">提醒IT社区</a>开发Linux内核<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>主要规则：更改不应破坏现有应用程序。 在他说他决定放弃优化ext4的补丁之后。 <br><br> 他减少了对驱动器的访问次数，从而通过较小的I / O请求禁用了主动读取inode表的功能。 但是优化导致了意外错误-启动getrandom（）生成器时，系统开始“冻结”，该生成器使用磁盘活动生成随机数。 因此，将ext4优化<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">推迟</a>到修复该错误之前。 <br><br><blockquote> 此外，在LKML中进行讨论之后，开发人员<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">宣布他们正在逐步淘汰</a>对FMC总线的支持-欧洲核子研究中心的工程师负责了7年。  FMC用于通过I / O接口链接FPGA和其他设备。 </blockquote><br> 他们决定从头开始重写该系统，因为它发现了严重的体系结构缺陷。 它会出现在Linux内核的将来版本中。 <br><br><h2> 内核5.4会有什么期望 </h2><br> 它将<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">更新</a> AMD处理器的监控系统-hwmon。 到目前为止，由于硬件开发人员的错误，该解决方案显示了Ryzen 3000的错误温度数据。同样在内核5.4中，它们还将添加对<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Qualcomm Snapdragon 855</a>芯片和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Intel Icelake Thunderbolt的支持</a> 。 <br><br><img src="https://habrastorage.org/webt/kn/c3/rs/knc3rs6bmfuqs1yebuyova-0bqc.jpeg"><br>  <font color="#A9A9A9"><i>照片-Marvin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Heilemann-不</a>飞溅</i></font> <br><br> 即将发布的内核版本<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将引入一个补丁</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">该补丁</a>可优化Wine，CrossOver和Valve Proton的许多64位Windows游戏的操作。  UMIP指令在用户空间中执行，这会导致在Wine下工作时出错。  Linux的新版本将消除此缺点。 <br><br> 当然，将会有新的更新来解决<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2038问题</a> 。 开发人员会定期对系统调用进行更改，并且即将发布的内核版本也不例外。 <br><br><blockquote>  <sup><b>我们在博客和社交网络中写的内容：</b></sup> <sup><br><br><img src="https://habrastorage.org/webt/lc/ev/ev/lcevevvhrpxsnxownufk6ykmvma.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">为什么Mozilla，Coil和Creative Commons为开源项目分配1亿美元？</a></sup> <sup><br><img src="https://habrastorage.org/webt/lc/ev/ev/lcevevvhrpxsnxownufk6ykmvma.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“为……而笑”：为什么您需要没有“战斗”应用程序的软件工具</a></sup> <sup><br><br><img src="https://habrastorage.org/webt/nh/3b/vg/nh3bvginmatsrsxcu6loffpn5yc.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">保护您的Linux系统：10个技巧</a></sup> <sup><br><img src="https://habrastorage.org/webt/nh/3b/vg/nh3bvginmatsrsxcu6loffpn5yc.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IaaS如何帮助1C加盟商：1cloud体验</a></sup> <sup><br><br><img src="https://habrastorage.org/webt/x1/6r/xu/x16rxu3buiqhpy-2jmr3iwscep0.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">如何为虚拟服务器选择操作系统</a></sup> <sup><br><img src="https://habrastorage.org/webt/x1/6r/xu/x16rxu3buiqhpy-2jmr3iwscep0.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">7个学习和使用Git的有用链接</a></sup> </blockquote><br><hr><img src="https://habrastorage.org/webt/ov/gx/ht/ovgxht9_vvejxc-ctz8bntuqbj4.png" width="45" align="left">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">1cloud.ru云中基于Linux的VDS</a> 。 可以免费测试FreeBSD，CentOS，Ubuntu，Debian的现成发行版。 <br><hr></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN469545/">https://habr.com/ru/post/zh-CN469545/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN469531/index.html">“在更好的基础上比较编程语言是完全愚蠢的职业。”</a></li>
<li><a href="../zh-CN469533/index.html">生物识别的问题和威胁</a></li>
<li><a href="../zh-CN469537/index.html">通过Snake了解Swift</a></li>
<li><a href="../zh-CN469541/index.html">使用werf和GitLab CI组装和部署相同的微服务</a></li>
<li><a href="../zh-CN469543/index.html">DirectisRX服务的Redis扩展和故障转移</a></li>
<li><a href="../zh-CN469549/index.html">我们如何为Windows VPS支付99卢布的关税</a></li>
<li><a href="../zh-CN469551/index.html">带视频卡的VDS-我们对变态知识了解很多</a></li>
<li><a href="../zh-CN469555/index.html">广播：莫斯科Kubernetes聚会＃6</a></li>
<li><a href="../zh-CN469557/index.html">通用回收站视图或如何不编写样板代码</a></li>
<li><a href="../zh-CN469561/index.html">整数平方根的计算</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>