<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüéì üè¥‚Äç‚ò†Ô∏è üèÅ Facebook wie Z√§hler von einem alten Stromz√§hler üèà üìß ü§∞üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir haben eine physische Seite wie einen Z√§hler auf Facebook erstellt. Vom alten Stromz√§hler. Das Herzst√ºck ist die programmierbare Iskra Neo-Karte vo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Facebook wie Z√§hler von einem alten Stromz√§hler</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431554/">  Wir haben eine physische Seite wie einen Z√§hler auf Facebook erstellt.  Vom alten Stromz√§hler.  Das Herzst√ºck ist die programmierbare Iskra Neo-Karte von Amperka (analog zu Arduino) und ein Servomotor mit konstanter Rotation. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/-k/7_/zq/-k7_zq8y6ij0lgthn5zbrsyutvw.jpeg"><br><br>  Um das Wachstum von Likes zu beobachten, haben wir eine Online-Kamera auf die Theke gerichtet und den Like-Button im Blog hervorgehoben.  Ich besch√§ftige mich auch gerne mit Elektronik und verwalte Dinge √ºber das Internet. <br><br>  Dies ist die erste Erfahrung. <br><br><h3>  Wie wird das gemacht? </h3><br>  Die Elektronik f√ºr den Empfang von Likes wurde bereits im Amperka-Projekt zusammengestellt und getestet. Es reicht aus, sie zu sammeln.  Es stellte sich heraus, dass es nicht so einfach war, wenn ich alles auf Arduino Uno anstelle von Spark machen wollte.  Es hat aufgrund unterschiedlicher Prinzipien bei der Arbeit mit UART nicht funktioniert (das WiFi-Modul empf√§ngt Signale √ºber UART).  Um keine Software UART zu schreiben, musste ich auf Arduino punkten und das Original Iskra Neo verwenden. <br><br>  Das Modul kann die Anzahl der Likes nicht direkt von der fb-Seite anfordern, da es mit HTTPS nicht funktioniert.  Um die Servereinschr√§nkung zu umgehen, wird ein PHP-Skript aufgeh√§ngt, das die Anzahl der Likes erkennt und als Variable ausgegeben wird.  Und das Modul greift bereits mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AT-Befehlen</a> auf die Adresse dieses PHP-Skripts zu (denken Sie daran, bevor das Modem ATDP XXX sagen konnte, wobei XXX die Telefonnummer ist, und er begann, sie anzurufen? Dies sind sie). <br><br>  Die Elektronik war fertig, ich teilte die restlichen Aufgaben in zwei Teile: <br><br><ul><li>  Messger√§t fahren </li><li>  Management-Programm </li></ul><br><h3>  Messger√§t fahren </h3><br>  Es w√§re gro√üartig, eine elegante L√∂sung f√ºr den Anschluss eines Messger√§ts mit Stromversorgung an die Originalspulen zu finden.  Dann war es m√∂glich, die rotierende Scheibe zu verlassen und das Design auf ein Minimum zu st√∂ren.  Dies ist jedoch schwierig zu implementieren, weshalb sie es auf die n√§chste Version verschoben haben.  Jetzt im Z√§hler ist ein Servomotor mit konstanter Drehung direkt an den Zahnr√§dern angebracht, die den Z√§hler drehen. <br><br><img src="https://habrastorage.org/webt/eo/1v/qm/eo1vqmtosgq9matjg1z9ovu0kyy.jpeg"><br><br><img src="https://habrastorage.org/webt/ms/to/n5/mston5q7hn-qs-8g5mdaslnidee.jpeg"><br><br><img src="https://habrastorage.org/webt/4l/x_/io/4lx_io60cngf8elonaf3cr8byqi.jpeg"><br><br><h3>  Management-Programm </h3><br>  Zuerst habe ich berechnet, wie viele Millisekunden der Motor eingeschaltet werden muss, damit sich die Scheibe um eine Umdrehung dreht.  Es stellte sich heraus, ungef√§hr 1650 ms.  Es wurde sofort klar, dass sich diese Zahl von der Spannung im Netzwerk (und aus irgendeinem Grund springt sie manchmal) und vom Gehen auf den Gegenr√§dern √§ndert.  Sie wurden vor ungef√§hr 50 Jahren entwickelt und plus oder minus eine halbe Ziffer spielten damals keine Rolle. <br><br><img src="https://habrastorage.org/webt/uf/n5/tq/ufn5tqbvjxepamraykaserpvtsi.png"><br><br>  Das Programm muss genau wissen, was der Z√§hler anzeigt, und zumindest sollten wir ihn manuell korrigieren k√∂nnen.  Um herauszufinden, um wie viel Grad der Motor die R√§der genau gedreht hat, ben√∂tigen Sie einen Sensor wie einen Drosselklappensensor an einem Auto. Dies ist schwierig. <br><br>  Daher gibt es in der ersten Version zur Kontrolle der Genauigkeit der Messwerte eine elektronische Anzeige neben dem Z√§hler und zwei Tasten, mit denen der Z√§hler manuell korrigiert werden kann, wenn ein Fehler aufgetreten ist.  Halbmanueller Modus und was zu tun ist. <br><br>  Das Programm stellt eine Variable bereit, die die Anzahl der Likes auf einem physischen Z√§hler speichert.  Wenn das Ger√§t ausgeschaltet wird, wird es im EPROM gespeichert und beim Einschalten von dort zur√ºckgenommen. <br><br>  Dies ist erforderlich, damit sie wissen, wie viel der Z√§hler repariert werden muss, wenn sie vom Netzwerk getrennt werden. <br><br><h3>  Was ist das Ergebnis? </h3><br>  Das Ergebnis war ein cooles Kunstobjekt.  Bevor wir die Kamera aufstellen und in unserem Zimmer an die Wand h√§ngen, haben wir sie zur √úberpr√ºfung in der gemeinsamen Coworking Zone ver√∂ffentlicht. <br><br>  Er ist noch lange nicht perfekt.  Mangelnde Genauigkeit, wenn die Stromversorgung eingeschaltet wird, dreht sich der Servomotor manchmal von selbst und es gibt keine originale rotierende Scheibe. <br><br>  Wir werden in der n√§chsten Version fertigstellen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de431554/">https://habr.com/ru/post/de431554/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de431542/index.html">Effektive Entwicklung und Pflege von Ansible-Rollen</a></li>
<li><a href="../de431544/index.html">Tragen Sie DevOps zu den Massen</a></li>
<li><a href="../de431546/index.html">Warum sagen wir OK?</a></li>
<li><a href="../de431548/index.html">Solar Dozor - Was steckt hinter den Sternen?</a></li>
<li><a href="../de431550/index.html">Film Injection Moulding (IMD): Wie es funktioniert</a></li>
<li><a href="../de431556/index.html">Sidenis √ºber die Zusammenarbeit mit Versicherungsunternehmen, agiles Coaching und verbotene Technologien</a></li>
<li><a href="../de431558/index.html">Wenn man eine Programmiersprache des 21. Jahrhunderts erfindet</a></li>
<li><a href="../de431560/index.html">Zugriff auf SS7-Signalisierungsnetzwerke √ºber das Funksubsystem - jetzt ist es m√∂glich</a></li>
<li><a href="../de431562/index.html">Wie man mit altem Code rollt, wenn gestern ein Projekt ben√∂tigt wurde</a></li>
<li><a href="../de431564/index.html">Gr√∂√üter Fehler in der Geschichte der Physik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>