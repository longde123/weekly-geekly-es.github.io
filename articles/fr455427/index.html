<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¼ ğŸ§›ğŸ¾ ğŸŒ” Comment nous avons appris Ã  prÃ©dire la demande d'un utilisateur et Ã  accÃ©lÃ©rer le chargement des rÃ©sultats de recherche â„¢ï¸ ğŸšµğŸ¼ ğŸ¤¾ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les suggestions de recherche (sjest) ne sont pas seulement un service utilisateur, mais Ã©galement un modÃ¨le de langage trÃ¨s puissant qui stocke des mi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous avons appris Ã  prÃ©dire la demande d'un utilisateur et Ã  accÃ©lÃ©rer le chargement des rÃ©sultats de recherche</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/455427/"><p>  Les suggestions de recherche (sjest) ne sont pas seulement un service utilisateur, mais Ã©galement un modÃ¨le de langage trÃ¨s puissant qui stocke des milliards de requÃªtes de recherche, prend en charge la recherche floue, la personnalisation et bien plus encore.  Nous avons appris Ã  utiliser sujest afin de prÃ©dire la requÃªte finale de l'utilisateur et de charger les rÃ©sultats de la recherche avant de cliquer sur le bouton Â«RechercherÂ». </p><br><p>  L'introduction de cette technologie - le prÃ©-rendu - a nÃ©cessitÃ© de nombreuses solutions intÃ©ressantes dans le dÃ©veloppement mobile, le dÃ©veloppement du runtime de recherche, des journaux et des mÃ©triques.  Et, bien sÃ»r, nous avions besoin d'un classificateur sympa qui dÃ©termine s'il faut charger une requÃªte de recherche Ã  l'avance: ce classificateur doit trouver un Ã©quilibre entre l'accÃ©lÃ©ration de tÃ©lÃ©chargement, le trafic supplÃ©mentaire et la charge de recherche.  Aujourd'hui, je vais parler de la faÃ§on dont nous avons rÃ©ussi Ã  crÃ©er un tel classificateur. </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/ei/dx/0s/eidx0szyy2cvdzcwwtar86_h6bw.png"><br></a> </p><a name="habracut"></a><br><h2 id="1-srabotaet-li-ideya">  <strong>1. L'idÃ©e fonctionnera-t-elle?</strong> </h2><br><p>  Dans les tÃ¢ches de recherche, il est rarement clair Ã  l'avance qu'une bonne solution existe.  Et dans notre cas, nous ne savions pas non plus au dÃ©part quelles donnÃ©es Ã©taient nÃ©cessaires pour construire un classificateur suffisamment bon.  Dans une telle situation, il est utile de commencer par quelques modÃ¨les trÃ¨s simples qui vous permettent d'Ã©valuer les avantages potentiels du dÃ©veloppement. </p><br><p>  L'idÃ©e la plus simple s'est avÃ©rÃ©e Ãªtre la suivante: nous chargerons les rÃ©sultats de la recherche Ã  la premiÃ¨re invite de la suggestion de recherche;  lorsque l'invite change, nous supprimons le tÃ©lÃ©chargement prÃ©cÃ©dent et commenÃ§ons Ã  tÃ©lÃ©charger un nouveau candidat.  Il s'est avÃ©rÃ© qu'un tel algorithme fonctionne bien et presque toutes les demandes peuvent Ãªtre prÃ©chargÃ©es, cependant, la charge sur les backends de recherche augmente en consÃ©quence et le trafic utilisateur augmente en consÃ©quence.  Il est clair qu'une telle solution ne peut pas Ãªtre mise en Å“uvre. </p><br><p>  L'idÃ©e suivante Ã©tait Ã©galement assez simple: il est nÃ©cessaire de charger les indices de recherche probables non pas dans tous les cas, mais uniquement lorsque nous sommes suffisamment convaincus qu'ils sont vraiment nÃ©cessaires.  La solution la plus simple serait un classificateur qui fonctionne directement en runtime en fonction des donnÃ©es que possÃ¨de dÃ©jÃ  le sajest. </p><br><p>  Le premier classificateur a Ã©tÃ© construit en utilisant seulement dix facteurs.  Ces facteurs dÃ©pendent de la distribution des probabilitÃ©s sur l'ensemble des invites (idÃ©e: plus le Â«poidsÂ» de la premiÃ¨re invite est Ã©levÃ©, plus il est probable qu'il soit saisi) et de la longueur de l'entrÃ©e (idÃ©e: moins l'utilisateur doit saisir de lettres, plus il est sÃ»r de prÃ©charger).  La beautÃ© de ce classificateur Ã©tait aussi que pour le construire, il n'Ã©tait pas nÃ©cessaire de libÃ©rer quoi que ce soit.  Les facteurs nÃ©cessaires pour le candidat peuvent Ãªtre collectÃ©s en faisant une requÃªte http au dÃ©mon sajest, et les cibles sont construites selon les journaux les plus simples: le candidat est considÃ©rÃ© comme "bon" si la demande totale de l'utilisateur la correspond complÃ¨tement.  Il a Ã©tÃ© possible de constituer un tel pool, de former plusieurs rÃ©gressions logistiques et de construire un diagramme de dispersion en quelques heures seulement. </p><br><p> Les mÃ©triques du prÃ©-rendu ne sont pas complÃ¨tement organisÃ©es comme dans la classification binaire habituelle.  Seuls deux paramÃ¨tres sont importants, mais ce n'est pas la prÃ©cision ou l'exhaustivitÃ©. </p><br><p>  Soit <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.049ex" height="1.455ex" viewBox="0 -520.7 451.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> r </script>  - nombre total de demandes, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.259ex" height="1.817ex" viewBox="-38.5 -520.7 542 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-70" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> p </script>  - le nombre total de tous les prÃ©tendants, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>e</mi><mi>p</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.253ex" height="1.817ex" viewBox="0 -520.7 970 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-70" x="466" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>p</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> ep </script>  - le nombre total de prÃ©tendants rÃ©ussis, c'est-Ã -dire  ceux qui correspondent finalement Ã  l'entrÃ©e de l'utilisateur.  Ensuite, deux caractÃ©ristiques intÃ©ressantes sont calculÃ©es comme suit: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mo>+</mo><mi>r</mi><mo>&amp;#x2212;</mo><mi>e</mi><mi>p</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi></mrow><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.702ex" height="2.419ex" viewBox="0 -780.1 14079.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-6F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-76" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-65" x="971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="1437" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-68" x="1889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-65" x="2465" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-61" x="2932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-64" x="3461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-3D" x="4262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-66" x="5569" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="6119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-61" x="6571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-63" x="7100" y="0"></use><g transform="translate(7534,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-2B" x="725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="1726" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-2212" x="2400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-65" x="3400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-70" x="3867" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="11904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-2212" x="12578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-31" x="13579" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mo>+</mo><mi>r</mi><mo>âˆ’</mo><mi>e</mi><mi>p</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>r</mi></mrow><mo>âˆ’</mo><mn>1</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> overhead = \ frac {p + r - ep} {r} - 1 </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mi>f</mi><mi>f</mi><mi>i</mi><mi>c</mi><mi>a</mi><mi>c</mi><mi>i</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xE9;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>e</mi><mi>p</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.73ex" height="2.419ex" viewBox="0 -780.1 9355.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-66" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-66" x="1017" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-69" x="1567" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-63" x="1913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-61" x="2346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-63" x="2876" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-69" x="3309" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-74" x="3655" y="0"></use><g transform="translate(4016,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">Ã©</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-3D" x="4663" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-66" x="5969" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="6519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-61" x="6971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-63" x="7500" y="0"></use><g transform="translate(7934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-70" x="466" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="8904" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>e</mi><mi>f</mi><mi>f</mi><mi>i</mi><mi>c</mi><mi>a</mi><mi>c</mi><mi>i</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mo>Ã©</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>e</mi><mi>p</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>r</mi></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> efficacitÃ© = \ frac {ep} {r} </script></p><br><p>  Par exemple, si exactement un prÃ©rendeur par demande est effectuÃ© et que la moitiÃ© des prÃ©rendeurs rÃ©ussissent, l'efficacitÃ© du prÃ©rendeur sera de 50%, ce qui signifie qu'il a Ã©tÃ© possible d'accÃ©lÃ©rer le chargement de la moitiÃ© des demandes.  Dans le mÃªme temps, pour les demandes dans lesquelles le prÃ©rendeur a rÃ©ussi, aucun trafic supplÃ©mentaire n'a Ã©tÃ© crÃ©Ã©;  pour les demandes pour lesquelles le prÃ©rendeur a Ã©chouÃ©, une demande supplÃ©mentaire a dÃ» Ãªtre dÃ©finie;  donc le nombre total de demandes est une fois et demie plus grand que l'original, les demandes Â«supplÃ©mentairesÂ» 50% du nombre d'origine, donc <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>s</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xE9;</mo></mrow><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xE9;</mo></mrow><mi>r</mi><mi>a</mi><mi>u</mi><mi>x</mi><mo>=</mo><mn>0</mn><mo>,</mo><mn>5</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.069ex" height="2.419ex" viewBox="0 -780.1 9071.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-61" x="1002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-69" x="1531" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-73" x="1877" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-67" x="2346" y="0"></use><g transform="translate(2827,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">Ã©</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-6E" x="3195" y="0"></use><g transform="translate(3796,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">Ã©</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-72" x="4165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-61" x="4616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-75" x="5146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMATHI-78" x="5718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-3D" x="6568" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-30" x="7625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-2C" x="8125" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/455427/&amp;usg=ALkJrhi7BMUoDD8YdNTGH0tE7TO7wIXkfA#MJMAIN-35" x="8570" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>s</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mo>Ã©</mo></mrow><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mo>Ã©</mo></mrow><mi>r</mi><mi>a</mi><mi>u</mi><mi>x</mi><mo>=</mo><mn>0</mn><mo>,</mo><mn>5</mn></math></span></span><script type="math/tex" id="MathJax-Element-6"> frais gÃ©nÃ©raux = 0,5 </script>  . </p><br><p>  Dans ces coordonnÃ©es, j'ai dessinÃ© le premier nuage de points.  Il ressemblait Ã  ceci: </p><br><p><img src="https://habrastorage.org/webt/7z/vk/z6/7zvkz6wapvyzyd_wv56iyu1u-r4.png"></p><br><p>  Ces valeurs contenaient une bonne quantitÃ© d'hypothÃ¨ses, mais au moins il Ã©tait dÃ©jÃ  clair que, trÃ¨s probablement, un bon classificateur fonctionnerait: accÃ©lÃ©rer le chargement de plusieurs dizaines de pour cent des demandes, augmenter la charge de plusieurs dizaines de pour cent est un changement intÃ©ressant. </p><br><p>  C'Ã©tait intÃ©ressant de voir comment fonctionne le classificateur.  En effet, il s'est avÃ©rÃ© que la longueur de la requÃªte s'est avÃ©rÃ©e Ãªtre un facteur trÃ¨s fort: si l'utilisateur a dÃ©jÃ  presque saisi le premier indice, et il est fort probable en mÃªme temps, vous pouvez prÃ©-extraire.  Ainsi, la prÃ©diction du classificateur augmente fortement vers la fin de la requÃªte. </p><br><pre><code class="plaintext hljs">margin prefix candidate -180.424   -96.096    -67.425    -198.641    -138.851    -123.803    -109.841    -96.805    -146.568     -135.725     -125.448     -58.615      31.414     -66.754      1.716        </code> </pre> <br><p>  Un prÃ©rendeur sera utile mÃªme s'il s'est produit au moment de la saisie de la toute derniÃ¨re lettre de la demande.  Le fait est que les utilisateurs passent encore un peu de temps Ã  cliquer sur le bouton Â«RechercherÂ» aprÃ¨s avoir saisi la demande.  Ce temps peut Ã©galement Ãªtre enregistrÃ©. </p><br><h2 id="2-pervoe-vnedrenie">  <strong>2. PremiÃ¨re mise en Å“uvre</strong> </h2><br><p>  AprÃ¨s un certain temps, il a Ã©tÃ© possible d'assembler un design pleinement fonctionnel: l'application a recherchÃ© des indices de recherche dans le dÃ©mon du sajest.  Il a envoyÃ©, entre autres, des informations sur l'opportunitÃ© de prÃ©charger le premier indice.  L'application, ayant reÃ§u l'indicateur appropriÃ©, a tÃ©lÃ©chargÃ© les rÃ©sultats et, si la saisie de l'utilisateur a finalement coÃ¯ncidÃ© avec le candidat, a rendu les rÃ©sultats. </p><br><p>  Ã€ ce moment, le classificateur a acquis de nouveaux facteurs, et le modÃ¨le n'Ã©tait plus une rÃ©gression logistique, mais tout Ã  fait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CatBoost</a> .  Initialement, nous avons dÃ©ployÃ© des seuils assez conservateurs pour le classificateur, mais mÃªme ils nous ont permis de charger instantanÃ©ment prÃ¨s de 10% des rÃ©sultats de recherche.  Ce fut une version trÃ¨s rÃ©ussie, car  nous avons rÃ©ussi Ã  dÃ©placer de maniÃ¨re significative les quantiles mineurs de la vitesse de tÃ©lÃ©chargement du SERP, et les utilisateurs l'ont remarquÃ© et ont commencÃ© Ã  revenir statistiquement de maniÃ¨re significative Ã  la recherche: une accÃ©lÃ©ration significative de la recherche a affectÃ© la frÃ©quence des utilisateurs effectuant des sessions de recherche! </p><br><h2 id="3-dalneyshie-uluchsheniya">  <strong>3. Autres amÃ©liorations</strong> </h2><br><p>  Bien que la mise en Å“uvre ait rÃ©ussi, la solution Ã©tait encore extrÃªmement imparfaite.  Une Ã©tude approfondie des journaux d'opÃ©rations a montrÃ© qu'il existe plusieurs problÃ¨mes. </p><br><ol><li><p>  Le classificateur est instable.  Par exemple, il peut s'avÃ©rer que par le prÃ©fixe Yandex il prÃ©dit la demande Yandex, par le prÃ©fixe Yandex il ne prÃ©dit rien et par le prÃ©fixe Yandex il prÃ©dit Ã  nouveau la demande Yandex.  Ensuite, notre premiÃ¨re implÃ©mentation simple fait deux demandes, mÃªme si elle pourrait bien se gÃ©rer avec une seule. </p><br></li><li><p>  Le prÃ©rendeur ne sait pas comment traiter les indices mot Ã  mot.  Un clic sur une invite de mot Ã  mot fait apparaÃ®tre un espace supplÃ©mentaire dans la demande.  Par exemple, si un utilisateur a entrÃ© Yandex, sa premiÃ¨re invite serait Yandex;  mais si l'utilisateur a utilisÃ© l'indication mot par mot, l'entrÃ©e sera dÃ©jÃ  la chaÃ®ne Â«YandexÂ» et la premiÃ¨re invite sera Â«Cartes YandexÂ».  Cela entraÃ®nera des consÃ©quences dÃ©sastreuses: la demande Yandex dÃ©jÃ  tÃ©lÃ©chargÃ©e sera rejetÃ©e, mais la demande de carte Yandex sera chargÃ©e.  AprÃ¨s cela, l'utilisateur clique sur le bouton Â«RechercherÂ» et ... attendra la livraison complÃ¨te de l'Ã©mission Ã  la demande de Yandex. </p><br></li><li><p>  Dans certains cas, les candidats n'ont aucune chance de rÃ©ussir.  Une recherche de coÃ¯ncidence inexacte fonctionne de la maniÃ¨re la plus sujette, de sorte que le candidat ne peut, par exemple, contenir qu'un seul mot parmi ceux saisis par l'utilisateur;  ou l'utilisateur peut faire une faute de frappe, puis la premiÃ¨re invite ne correspondra jamais exactement Ã  son entrÃ©e. </p><br></li></ol><br><p>  Bien sÃ»r, laisser une prÃ©renderie avec de telles imperfections Ã©tait une honte, mÃªme si elle Ã©tait utile.  J'ai Ã©tÃ© particuliÃ¨rement offensÃ© par le problÃ¨me des indices mot Ã  mot.  Je considÃ¨re l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">introduction de conseils de mot Ã  mot</a> dans la recherche mobile Yandex comme l'une de mes meilleures implÃ©mentations depuis tout le temps que j'ai travaillÃ© dans l'entreprise, mais ici le prÃ©rendeur ne sait pas comment travailler avec eux!  Dommage, pas autrement. </p><br><p>  Tout d'abord, nous avons rÃ©solu le problÃ¨me de l'instabilitÃ© du classifieur.  La solution a Ã©tÃ© choisie trÃ¨s simple: mÃªme si le classifieur a retournÃ© une prÃ©diction nÃ©gative, nous n'arrÃªtons pas de charger le candidat prÃ©cÃ©dent.  Cela permet d'Ã©conomiser des demandes supplÃ©mentaires, car lorsque le mÃªme candidat reviendra la prochaine fois, vous n'aurez pas besoin de tÃ©lÃ©charger Ã  nouveau le problÃ¨me correspondant.  En mÃªme temps, cela vous permet de charger les rÃ©sultats plus rapidement, car le candidat est tÃ©lÃ©chargÃ© au moment oÃ¹ le classificateur a travaillÃ© pour lui pour la premiÃ¨re fois. </p><br><p>  Puis vint le tour des indices proverbiaux.  Un serveur sagest est un dÃ©mon sans Ã©tat, il est donc difficile d'implÃ©menter la logique associÃ©e au traitement du candidat prÃ©cÃ©dent pour le mÃªme utilisateur.  Rechercher simultanÃ©ment des invites pour une demande d'utilisateur et une demande d'utilisateur sans espace de fin signifie en fait doubler le RPS par un dÃ©mon sajest, ce n'Ã©tait donc pas une bonne option non plus.  En consÃ©quence, nous l'avons fait: le client passe dans un paramÃ¨tre spÃ©cial le texte du candidat, qui se charge en ce moment;  si ce candidat, jusqu'Ã  des espaces, est similaire Ã  l'entrÃ©e utilisateur, nous le donnons, mÃªme si le candidat pour l'entrÃ©e actuelle a changÃ©. </p><br><p>  AprÃ¨s cette version, il est finalement devenu possible de saisir des requÃªtes Ã  l'aide d'invites mot Ã  mot et de profiter de la prÃ©lecture!  C'est assez drÃ´le qu'avant cette version, seuls les utilisateurs qui avaient fini de saisir leur demande Ã  l'aide du clavier, sans un sjest, utilisaient la prÃ©lecture. </p><br><p>  Enfin, nous avons rÃ©glÃ© le troisiÃ¨me problÃ¨me Ã  l'aide de ML: ajout de facteurs sur les sources d'indices, coÃ¯ncidence avec les entrÃ©es des utilisateurs;  de plus, grÃ¢ce au premier lancement, nous avons pu collecter plus de statistiques et apprendre des donnÃ©es mensuelles. </p><br><h2 id="4-chto-v-itoge">  <strong>4. Quel est le rÃ©sultat</strong> </h2><br><p>  Chacune de ces versions a gÃ©nÃ©rÃ© des dizaines de pour cent d'augmentation des tÃ©lÃ©chargements instantanÃ©s.  La meilleure partie est que nous avons pu amÃ©liorer les performances de la prÃ©-rendu de plus de deux fois, pratiquement sans toucher Ã  la partie sur l'apprentissage automatique, mais seulement en amÃ©liorant la physique du processus.  C'est une leÃ§on importante: souvent la qualitÃ© du classificateur n'est pas le goulot d'Ã©tranglement du produit, mais son amÃ©lioration est la tÃ¢che la plus intÃ©ressante et donc le dÃ©veloppement en est distrait. </p><br><p>  Malheureusement, les SERP instantanÃ©ment <em>chargÃ©s</em> ne sont pas un succÃ¨s complet;  la sortie chargÃ©e doit encore Ãªtre <em>rendue</em> , ce qui ne se produit pas instantanÃ©ment.  Nous devons donc encore travailler pour mieux convertir les tÃ©lÃ©chargements de donnÃ©es instantanÃ©s en rendus instantanÃ©s des rÃ©sultats de recherche. </p><br><p>  Heureusement, les implÃ©mentations implÃ©mentÃ©es nous permettent dÃ©jÃ  de parler du prÃ©-rendu comme d'une fonctionnalitÃ© assez stable;  nous avons Ã©galement testÃ© les implÃ©mentations dÃ©crites dans la clause 2: toutes ensemble conduisent Ã©galement au fait que les utilisateurs eux-mÃªmes commencent Ã  effectuer des sessions de recherche plus souvent.  C'est une autre leÃ§on utile: des amÃ©liorations significatives de la vitesse du service peuvent affecter statistiquement de maniÃ¨re significative sa rÃ©tention. </p><br><p>  Dans la vidÃ©o ci-dessous, vous pouvez voir comment le prÃ©rendeur fonctionne maintenant sur mon tÃ©lÃ©phone. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/xzFb_sy_ZUc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr455427/">https://habr.com/ru/post/fr455427/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr455411/index.html">MÃ©gaphone a effectuÃ© une mise Ã  jour technique ... noms de rÃ©seau</a></li>
<li><a href="../fr455413/index.html">Transformez Pocket en un fil d'actualitÃ©s</a></li>
<li><a href="../fr455419/index.html">Apple Beta Alive: Anecdotes non rÃ©vÃ©lÃ©es lors de la prÃ©sentation</a></li>
<li><a href="../fr455421/index.html">DÃ©composition d'une UICollectionViewCell</a></li>
<li><a href="../fr455425/index.html">CrÃ©ation d'un tunnel IPSec GRE entre Mikrotik hEX S et Juniper SRX via un modem USB</a></li>
<li><a href="../fr455429/index.html">Comment Doom est arrivÃ© sur Super Nintendo</a></li>
<li><a href="../fr455439/index.html">Le nouvel algorithme crÃ©Ã© par les scientifiques vous permet de crÃ©er des "tÃªtes parlantes" presque parfaites avec de vraies personnes</a></li>
<li><a href="../fr455441/index.html">21 juin, Moscou, Deworkacy - AnalyzeIT MeetUp # 2</a></li>
<li><a href="../fr455443/index.html">15 conseils pour obtenir votre application d'abonnement sur l'App Store</a></li>
<li><a href="../fr455445/index.html">ImplÃ©mentation d'un logiciel de classe D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>