<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌴 🛄 👇🏿 Perbaiki, retas, gali. Memecahkan misi pencarian Droid online 🧑🏿‍🤝‍🧑🏿 🧝🏼 😭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tahun lalu, kami melakukan pencarian online untuk pengembang seluler - Misi Droid. Dalam sebulan, para peserta harus menyelesaikan sebanyak mungkin ma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Perbaiki, retas, gali. Memecahkan misi pencarian Droid online</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/484876/"><img src="https://habrastorage.org/webt/r_/ys/qs/r_ysqsq8esvuaug1phjeithvpji.png"><br><br>  Tahun lalu, kami melakukan pencarian online untuk pengembang seluler - Misi Droid.  Dalam sebulan, para peserta harus menyelesaikan sebanyak mungkin masalah dalam tiga arah: perbaiki!  (pencarian bug dan penelitian kode), retas itu!  (rekayasa balik) dan gali!  (mempelajari fitur-fitur Android).  Secara total, pencarian memiliki 23 tugas - mereka sangat mirip dengan yang dihadapi spesialis Android dalam pekerjaan nyata.  Dalam posting kami akan menunjukkan semua kondisi dan solusi yang tepat. <br><a name="habracut"></a><a name="start"></a><br><ul><li>  <a href="https://habr.com/ru/company/yandex/blog/484876/">Cari kesalahan dan penelitian kode</a> </li><li>  <a href="https://habr.com/ru/company/yandex/blog/484876/">Rekayasa terbalik</a> </li><li>  <a href="https://habr.com/ru/company/yandex/blog/484876/">Sistem Android</a> </li></ul><br><a name="fix"></a><h1>  Cari kesalahan dan penelitian kode </h1><br><h3>  perbaiki itu!  # 1 </h3>  <sup><i>Penulis: Anastasia Laushkina</i></sup> <br><br>  Pada Jumat malam yang tenang, dua agen begadang dan memimpin perselisihan yang tak terpecahkan.  Mereka diperintahkan untuk menyimpan sejumlah besar data rahasia dalam database Sqlite dengan kunci integer. <br><br>  Agen A membuat tabel dengan kueri bentuk: CREATE TABLE t (key INT PRIMARY KEY, secret_value_1, secret_value_2), dan agent B dengan query dari form CREATE TABLE t (key INTEGER PRIMARY KEY ASC, secret_value_1, secret_value_2). <br><br>  Agen A benar-benar yakin bahwa tidak ada kesalahan dalam permintaannya, namun, Agen B memiliki argumen terhadap ini: ia mengklaim bahwa integritas data selama pendekatan Agen A dapat dilanggar. <br><br>  Daftar dengan koma: kolom atau kolom yang bertanggung jawab untuk integritas Agen B, tetapi tidak bertanggung jawab untuk Agen A;  serta struktur data, dalam bahasa Rusia, karena itu permintaan agen B akan lebih cepat. <br><br><div class="spoiler">  <b class="spoiler_title">Catatan</b> <div class="spoiler_text">  Format jawaban: [nama kolom 1], [nama kolom N], [nama struktur] (tanpa tanda kurung, dengan huruf kecil) <br><br>  Contoh respons: x, y, array </div></div><br>  <b>Solusi</b> <br><br>  Ini tentang rowId dan hubungannya dengan kunci utama. <br><br>  Dalam kasus "CREATE TABLE t (kunci INTEGER PRIMARY KEY ASC, secret_value_1, secret_value_2)" adalah alias untuk rowId.  Dalam kasus "CREATE TABLE t (key INT PRIMARY KEY, secret_value_1, secret_value_2)" - no.  Alasannya dapat ditemukan <a href="https://www.sqlite.org/lang_createtable.html">dalam dokumentasi</a> . <br><br>  Oleh karena itu, dengan tidak adanya hubungan kunci dengan rowId, permintaan formulir "Sisipkan NILAI KE NILAI (" beberapa "," y "," z ")" akan berhasil dieksekusi, berpotensi melanggar integritas data.  Jika ada koneksi seperti itu, kesalahan datatype ketidakcocokan akan terjadi. <br><br>  Jawabannya diterima sebagai pasangan kunci, rowId, dan key / rowId secara terpisah (karena jika ada koneksi, mereka merujuk ke kolom yang sama). <br><br>  Kecepatan dicapai melalui penyimpanan dalam bentuk pohon pencarian. <br><br><h3>  perbaiki itu!  # 2 </h3>  <sup><i>Penulis: Anastasia Laushkina</i></sup> <br>  <a href="https://yadi.sk/d/CnFymdL9o6ib3A">File biner</a> <br><br>  Untuk mendeteksi musuh dengan cepat, Agen Kew sedang mengembangkan aplikasi dengan daftar penjahat yang dikenal.  Dia dengan mudah berhasil menampilkan daftar ini di aplikasi, tetapi dia memutuskan bahwa informasi penting seperti itu harus ada di layar utama. <br><br>  Untuk melakukan ini, ia membutuhkan widget.  Satu masalah: karena alasan tertentu, widget tidak menampilkan daftar.  Insting memberi tahu agen bahwa masalahnya hanya pada satu baris. <br><br>  Beri nama dengan koma, serta baris tempat Anda harus menggantinya, untuk mendapatkan solusi yang paling optimal. <br><br><div class="spoiler">  <b class="spoiler_title">Catatan</b> <div class="spoiler_text">  Format jawaban: [baris 1], [baris 2] (tanpa tanda kurung) <br><br>  Contoh respons: FrameLayout, ScrollView </div></div><br>  <b>Solusi</b> <br><br>  1. Kami mencari file tata letak widget, kami melihat elemen ConstraintLayout yang tidak valid di dalamnya (lihat <a href="https://developer.android.com/guide/topics/appwidgets">developer.android.com/guide/topics/appwidgets#CreatingLayout</a> ). <br>  2. Ubah ke yang dapat diterima dan optimal - LinearLayout / FrameLayout. <br><br>  Terlepas dari kenyataan bahwa menggunakan FrameLayout memecah tata letak elemen dalam widget, itu tetap diterima sebagai jawaban. <br><br><h3>  perbaiki itu!  # 3 </h3>  <sup><i>Penulis: Artyom Viter</i></sup> <br>  <a href="https://yadi.sk/d/uzV_9MS2CyCXgg">File biner</a> <br><br>  Penguji memperhatikan peningkatan konsumsi RAM yang tidak normal.  Ada kecurigaan bahwa ada kebocoran di suatu tempat. <br><br>  Anda harus menyelidiki dan melokalisasi masalah.  Dalam respons, tunjukkan nama metode kelas aplikasi dan tempat pemanggilannya, yang mengarah ke kebocoran memori.  Jika Anda menemukan beberapa masalah, daftarkan semuanya. <br><br>  Format jawaban: [Nama kelas tempat metode dipanggil]: [nomor baris dalam file ini]: [nama metode] (tanpa tanda kurung) <br><br>  Tunjukkan beberapa jawaban dalam urutan leksikografis, dipisahkan dengan tanda #. <br><br>  Contoh: <br><br>  Jika Anda berpikir ada kebocoran kehabisan memori dalam file ExampleFileName.java, <br><br><pre><code class="plaintext hljs">class ExampleFileName {   public problemMethodName(Sting arg) {}   public test(Sting arg) {     problemMethodName(arg); //  8   ExampleFileName.java   } }</code> </pre> <br>  Contoh respons: ExampleFileName: 8: problemMethodName <br><br>  <b>Solusi</b> <br><br>  Cara pertama adalah analisis kode. <br><br><ol><li>  Kami mempelajari kode aplikasi. </li><li>  Kebocoran pertama jelas.  Ini adalah pendaftaran BroadCastReceiver di kelas SecondActivity.  Pesan tentang masalah ini dapat dilihat di logcat jika Anda menjalankan aplikasi. </li><li>  Jika Anda memperhatikan metode startTimer (), Anda akan melihat bahwa kelas CountDownTimer menambahkan penutup ke penangan utas utama dengan tautan ke textView.  Dan sebelum aktivitas dihancurkan, kelas instance (CountDownTimer) tidak memanggil metode cancel ().  Ini adalah kebocoran memori kedua. </li></ol><br>  Cara kedua adalah alat.  Anda dapat menerapkan perpustakaan <a href="https://github.com/square/leakcanary">leakcanary</a> dalam aplikasi, mendapatkan heap dump melalui adb atau Android Profiler dan menganalisis laporan yang diterima.  Eclipse Memory Analyzer (MAT) dapat membantu dengan analisis ini.  Untuk membuka heapdump di MAT, Anda perlu mengonversinya ke format yang dapat dimengerti untuk MAT menggunakan utilitas hprof-convd. <br><br><h3>  perbaiki itu!  # 4 </h3>  <sup><i>Dikirim oleh: Vali Ibragimov</i></sup> <br>  <a href="https://yadi.sk/d/X8HgqWEhCGUAvw">File biner</a> <br><br>  Ivan menjalani hari pertamanya di bioskop online.  Karena dia adalah pengembang yang keren, dia langsung diminta untuk memperbaiki crash saat menonton film.  Dia memutuskan pada saat yang sama untuk melakukan refactoring.  Kode telah menjadi lebih ringkas dan bersih, kesalahan telah berhenti direproduksi. <br><br>  Namun, belakangan ternyata posisi film saat ini tidak dikirim ke backend.  Bantu Ivan memahami kelas mana yang ia campur aduk. <br><br>  Responsnya adalah nama kelas yang harus digunakan. <br><br>  <b>Solusi</b> <br><br>  Untuk mengirim posisi menonton setiap lima detik dan pergi ke jaringan, ExecutorService digunakan.  Membuat ScheduledThreadPoolExecutor untuk tugas berkala, pikir Ivan - mengapa tidak menggunakannya untuk pergi ke jaringan?  Bagaimanapun, ScheduledThreadPoolExecutor adalah keturunan dari ThreadPoolExecutor.  Ivan bahkan tidak curiga bahwa ScheduledThreadPoolExecutor hanya menggunakan satu utas, dan ketika pergi ke jaringan, Anda harus menunggu penyelesaian tugas periodik. <br><br><pre> <code class="plaintext hljs">scheduleFuture = scheduledExecutorService.scheduleAtFixedRate(() -&gt; {                    try {                        timingsApi.sendTiming(filmId, player.getContentPosition()).get();                    } catch (Exception e) {                        e.printStackTrace();                    }                },                0, PERIOD_SECONDS, TimeUnit.SECONDS);</code> </pre> <br>  Solusi untuk masalah ini semakin diperumit oleh fakta bahwa kami tidak mengakses ExoPlayer di utas UI - dan di versi baru 2.9. * ExoPlayer mulai menulis peringatan tentang ini di log.  Tapi sekarang ini hanya peringatan, dan bukan kesalahan yang dilakukan oleh Ivan. <br><br><h3>  perbaiki itu!  # 5 </h3>  <sup><i>Penulis: Alexander Tsybin</i></sup> <br>  <a href="https://yadi.sk/d/GCLtHa4mKTK7YQ">File biner</a> <br><br>  Satu perusahaan sedang mengembangkan game Farmer Simulator. <br><br>  Dalam game ini, hanya pemain yang bisa bergerak bebas.  Semua objek lain tidak bergerak atau memiliki lintasan pergerakan yang jelas.  Pada titik tertentu, mereka memutuskan untuk menambahkan musuh ke permainan yang akan menjadi penghambat bagi pemain. <br><br>  Pengembang Vasya diperintahkan untuk mewujudkan musuh.  Selama implementasi, Vasya mengalami masalah kinerja.  Dia memutuskan untuk memperbaikinya karena multithreading.  Karena Vasya tidak terbiasa dengan multithreading, ia mengambil keuntungan dari solusi dari stackoverflow.  Jadi dia menyingkirkan masalah kinerja. <br><br>  Namun, pada tahap pengujian, ditemukan bahwa kadang-kadang permainan membeku.  Bantu Vasya menemukan alasannya. <br><br>  Sebagai tanggapan, masukkan nomor dari baris kode yang bermasalah - dipisahkan dengan koma, dalam urutan menaik dan tanpa spasi.  Seperti ini: 1,17,42 <br><br>  <b>Solusi</b> <br><br>  Tinju tipe primitif (mis. Int dalam Integer) adalah operasi yang mahal.  Untuk tujuan optimasi, mesin Java terkadang menggunakan kembali objek tersebut.  Garis tidak terkecuali. <br><br>  Baris ENEMY_LOCK dan DECISIONS_LOCK digunakan dalam kode untuk sinkronisasi.  Jadi, jika ada tempat dalam proyek dengan sinkronisasi pada baris yang sama, maka kebuntuan dapat terjadi. <br><br>  Secara umum, Anda tidak dapat menggunakan String / Integer, dll., Untuk sinkronisasi. <br><br>  Jawab: 7.8 <br><br><h3>  perbaiki itu!  # 6 </h3>  <sup><i>Penulis: Ivan Pukhov</i></sup> <br>  <a href="https://yadi.sk/d/qR6iYnUBvB9n2w">File biner</a> <br><br>  Tim pengolah gambar telah merilis pustaka asli baru, Anda harus mencobanya dan menunjukkan masalahnya, jika ada. <br><br>  <b>Solusi</b> <br><br>  Ini adalah tugas yang mudah untuk pemanasan.  Di sumber daya terletak perpustakaan itu sendiri dan file header untuk itu.  Di header, satu-satunya fungsi mengembalikan sebuah jobject. <br><br>  Tidak ada yang tersisa untuk dilakukan selain membuat proyek uji (dengan menginstal NDK) dan menyebutnya!  Panggilan fungsi pada utas utama akan mengeluarkan pengecualian yang meminta untuk tidak memanggilnya dengan cara ini.  Kami mentransfer eksekusi ke utas lain dengan cara apa pun - dan semuanya berfungsi. <br><br>  Sekarang layak memeriksa objek yang dikembalikan - apakah ini benar-benar bitmap?  Cara termudah adalah dengan segera menampilkannya di ImageView.  Kami akan melihat gambar dengan string teks, dan tugas tersebut membutuhkan jawaban juga dalam bentuk string.  Ini mungkin bukan hanya kebetulan.  :) <br><br><h3>  perbaiki itu!  # 7 </h3>  <sup><i>Penulis: Dmitry Zaitsev</i></sup> <br>  <a href="https://yadi.sk/d/sqQgkbbjDu1UNw">File biner</a> <br><br>  Ada aplikasi dengan kode di mana kode yang diinginkan dibingkai.  Sayangnya, tata letak rusak dan perlu dipulihkan untuk menemukan kode. <br><br><div class="spoiler">  <b class="spoiler_title">Catatan</b> <div class="spoiler_text">  Setelah mengoreksi kode, frame akan melewati 22 karakter yang harus terdaftar berlawanan arah jarum jam, mulai dari sudut kiri atas frame. <br><br>  Contoh respons: ScQG1jxbazmjbcARefbRMo </div></div><br>  <b>Solusi</b> <br><br>  Sekarang Dagger telah menjadi standar de facto dalam pengembangan Android.  Ketika DI sudah dikonfigurasi, sangat mudah untuk menulis Suntikkan di depan konstruktor dan memberikan semua sisa pekerjaan ke Belati.  Sangat mudah bahwa Anda nanti bisa berhenti memikirkan bagaimana dependensi disediakan.  Juga di Android, Anda sering harus bekerja dengan kelas Konteks dan turunannya: Aplikasi dan Aktivitas.  Aplikasi terikat dengan siklus hidup aplikasi, dan Aktivitas terikat pada siklus hidup layar.  Karena itu, dalam bekerja dengan kelas-kelas ini, penting untuk mengamati banyak fitur.  Tugasnya justru didasarkan pada penggunaan konteks yang salah, dan semua ini disamarkan menggunakan DI. <br><br>  Untuk menyelesaikannya, Anda dapat melakukan langkah-langkah berikut: <br><br><ol><li>  Periksa file proyek dan perhatikan bahwa ItemStyle diterapkan ke semua TextViews. </li><li>  Pastikan gaya tersebut tidak benar-benar diterapkan.  Ini harus mengarah pada gagasan bahwa masalahnya terkait dengan topik, dan oleh karena itu dengan konteks Kegiatan. </li><li>  Pahami grafik ketergantungan dan pahami bahwa konteks Aplikasi disediakan di adaptor. </li><li>  Di ContestAdapter, ubah tipe konteks menjadi Activity. </li></ol><br><h3>  perbaiki itu!  # 8 </h3>  <sup><i>Dikirim oleh: Vali Ibragimov</i></sup> <br>  <a href="https://yadi.sk/d/mgEetgsZNwtvRA">File biner</a> <br><br>  Ivan diberi tugas untuk memperbaiki aplikasi untuk mendapatkan daftar tugas melalui ContentProvider menggunakan DI.  Dia refactored aplikasi menggunakan Belati, dan ketika mulai, aplikasi mulai macet. <br><br>  Bantu Ivan memahami alasannya: <br><br><ol><li>  Tentukan nomor baris dengan nama kelas yang ingin Anda transfer ke kelas lain. </li><li>  Berikan tautan ke dokumentasi dengan jangkar ke tempat yang akan membantu Anda memahami mengapa aplikasi macet. </li></ol><br><div class="spoiler">  <b class="spoiler_title">Catatan</b> <div class="spoiler_text">  Format respons: [Nama kelas]: [Nomor baris] -&gt; [Nama kelas]: [Nomor baris], [Tautan] <br><br>  Contoh jawaban: <br><br>  FirstCLass: 12-&gt; SecondClass: 45, https: //developer.android.com/reference/android/app/Activity#activity-lifecycle </div></div><br>  <b>Solusi</b> <br><br>  Tugas itu terdiri dari dua bagian: <br><br>  1. Memahami dan memberikan solusi kerusakan di ContentProvider saat mengakses komponen DI.  Solusi yang benar adalah mentransfer inisialisasi komponen DI ke ContentProvider. <br><br><img src="https://habrastorage.org/webt/fu/nr/n_/funrn_gbeansq3bwonjrrsaknoc.png" width="800"><br><br>  Metode onCreate pada ContentProvider disebut lebih awal dari pada Aplikasi.  Ini mudah untuk diverifikasi jika Anda memeriksa kode mulai aplikasi di kelas ActivityThread dan metode handleBindApplication. <br><br><img src="https://habrastorage.org/webt/r9/xk/vr/r9xkvrg0kjjiefi0xtruxlvnhwm.png" width="620"><br><br>  2. Berikan tautan yang menjelaskan bahwa onCreate untuk ContentProvider dipanggil lebih awal dari pada Aplikasi.  Google tidak menyebutkan ini di halaman dokumentasi ContentProvider.  Tapi di sini adalah kutipan dari deskripsi metode Aplikasi onCreate: <br><br><blockquote>  Disebut ketika aplikasi mulai, sebelum aktivitas, layanan, atau objek penerima (tidak termasuk penyedia konten) telah dibuat. </blockquote><br><h3>  perbaiki itu!  # 9 </h3>  <sup><i>Penulis: Alexander Tsybin</i></sup> <br>  <a href="https://yadi.sk/d/-V1nSeMxB3K6aw">File biner</a> <br><br>  Pengembang diberi tugas menerapkan Tampilan untuk beberapa daftar item.  Di TK ada persyaratan penting - untuk menggulir daftar ke elemen pertama dan terakhir sehingga elemen-elemen ini muncul di tengah layar.  Pengembang mengimplementasikan fungsionalitasnya, tetapi ketika mengujinya ternyata terkadang pemusatan tidak bekerja.  Bantu pengembang menemukan garis bermasalah dalam kode. <br><br><div class="spoiler">  <b class="spoiler_title">Catatan</b> <div class="spoiler_text">  Format jawaban: <br><br>  &lt;Nama file tanpa ekstensi&gt;: &lt;Nomor baris dipisahkan dengan koma&gt; <br><br>  &lt;Nama file tanpa ekstensi&gt;: &lt;Nomor baris dipisahkan dengan koma&gt; <br><br>  Garis harus diurutkan dalam urutan leksikografis.  Nomor baris harus disortir dalam urutan menaik. <br><br>  Contoh jawaban: <br><br>  BarFoo: 1 <br><br>  FooBar: 12,13,14,99 </div></div><br>  <b>Solusi</b> <br><br>  Ada dua masalah dalam kode: <br><br>  1. Dilihat dari kode, diasumsikan bahwa panggilan ke onViewDetachedFromWindow akan selalu terjadi setelah diBindViewHolder, tetapi tidak demikian halnya.  Metode kembar untuk onViewDetachedFromWindow adalah onViewAttachedToWindow.  Akibatnya, holder.view.reset () dipanggil dan pemusatan menghilang jika gulir lambat. <br><br>  2. Pada Android sebelum versi 7, addView (rootView, params) tidak berfungsi seperti yang diharapkan. <br><br>  Saat Anda menambahkan Tampilan, LayoutParam dihasilkan, yang terlihat seperti ini: <br><br>  Marshmallow - <a href="">github.com/aosp-mirror/platform_frameworks_base/blob/marshmallow-release/core/java/android/widget/FrameLayout.java#L403</a> <br>  Nougat - <a href="">github.com/aosp-mirror/platform_frameworks_base/blob/nougat-release/core/java/android/widget/FrameLayout.java#L384</a> <br><br>  FrameLayout.LayoutParams memiliki dua konstruktor, satu di antaranya menerima ViewGroup.MarginLayoutParams dan menyalin margin ke dalam dirinya sendiri: <a href="">github.com/aosp-mirror/platform_frameworks_base/blob/nougat-release/core/java/android/view/ViewGroup.java#L14</a> <br><br>  Konstruktor kedua menerima ViewGroup.LayoutParams dan mengabaikan margin: <a href="">github.com/aosp-mirror/platform_frameworks_base/blob/nougat-release/core/java/android/view/ViewGroup.java#L7328</a> <br><br>  Akibatnya, pemusatan tidak bekerja di Android hingga versi 7. <br><br>  Jawabannya adalah: <br>  ItemView: 35 <br>  MainActivity: 53 <br><br><a name="hack"></a><h1>  Rekayasa terbalik </h1><br><h3>  hack itu!  # 1 </h3>  <sup><i>Penulis: Valentin Baryshev</i></sup> <br>  <a href="https://yadi.sk/d/7SXNXpKzadxR9A">File biner</a> <br><br>  Salah satu pengembang bergegas dan bahkan tidak menguji .apk final sebelum mengirimkan ke kontes. <br><br>  Ternyata dia mencampur beberapa viewgroup di activity_main.xml.  Selain itu, ia menempatkan setiap huruf kunci dalam tampilan teks terpisah.  Akibatnya, semua tampilan tata letak terbuka dan ada kemarahan di layar. <br><br>  Cobalah untuk menentukan viewgroup mana yang menggantikan yang ada saat ini. <br><br>  Jawaban untuk masalah ini adalah kode yang muncul di layar setelah mengganti viewgroup yang benar. <br><br>  <b>Solusi</b> <br><br>  Kita perlu mendekompilasi .apk dengan cara apa pun yang tersedia (misalnya, dengan dekompiler online) dan membuat ulang proyek dengan kode. <br><br>  Jika kita menganalisis main_layout, maka kita dapat menebak dari atribut bahwa root viewgroup harus ConstraintLayout. <br><br>  Jawab: tniartsnoc <br><br><h3>  hack itu!  # 2 </h3>  <sup><i>Penulis: Alexander Tsybin</i></sup> <br>  <a href="https://yadi.sk/d/PAuLY9-7Is5iYg">File biner</a> <br><br>  Seorang pengguna berpengalaman menghentikan aplikasi.  Dia tidak terkejut, membuka log, menemukan garis yang menyebabkan kesalahan: N72XbphDx5NnFl6CKMNl8w == dan mengirimkannya ke dukungan teknis. <br><br>  Ternyata dia menggunakan versi aplikasi yang sudah ketinggalan zaman, yang telah dikembangkan sebelum menggunakan repositori kode, sehingga kode dekripsi hilang.  Namun, itu mungkin untuk menemukan .apk dari aplikasi versi lama. <br><br>  Bantu mendekripsi pesan. <br><br>  <b>Solusi</b> <br><br>  Kita perlu mendekompilasi .apk dengan cara apa pun yang tersedia (misalnya, dengan dekompiler online) dan membuat ulang proyek dengan kode. <br><br>  Kode itu sendiri berisi fungsi enkripsi dan fungsi dekripsi, yang dapat Anda berikan string terenkripsi dan mendapatkan jawaban. <br><br>  Jawabannya adalah: <br>  TF: Kerja bagus! <br><br><h3>  hack itu!  # 3 </h3>  <sup><i>Penulis: Valentin Baryshev</i></sup> <br>  <a href="https://yadi.sk/d/hRZM_Yc8hf5FOg">File biner</a> <br><br>  Seberapa baik Anda mengetahui siklus hidup aplikasi Android? <br><br>  Tahukah Anda bahwa dalam beberapa kasus sistem dapat mematikan proses aplikasi? <br><br>  Simulasikan situasi ini pada aplikasi. <br><br>  Anda akan melihat jawabannya setelah mengembalikan aplikasi - dalam bentuk kode. <br><br>  <b>Solusi</b> <br><br>  Itu sudah cukup untuk menginstal .apk di telepon, menjalankan dan mendapatkan kasing ketika sistem membongkar aplikasi, tetapi pada saat yang sama tetap di tirai. <br><br>  Salah satu opsi adalah menginstal aplikasi, meluncurkannya dan menguranginya (atau hanya beralih ke aplikasi lain).  Kemudian kami terhubung melalui adb ke komputer.  Di Android Studio, pilih tab Logcat, pilih proses aplikasi ini dan klik ikon berhenti merah.  Kemudian buka aplikasi yang sebelumnya diminimalkan dari tirai.  Layar akan menampilkan jawabannya: sss2384gxcxxX. <br><br><h3>  hack itu!  # 4 </h3>  <sup><i>Penulis: Ivan Pukhov</i></sup> <br>  <a href="https://yadi.sk/d/RwxPtc4Z-EwCLg">File biner</a> <br><br>  Seorang kolega front-end memposting demo dari modul baru, tetapi lupa untuk mengirim spesifikasi.  Sekarang dia tidur di zona waktu yang berbeda, dan demo harus dilakukan dalam beberapa menit.  Dari percakapan dengan seorang kolega, Anda ingat frasa "Ya, mudah di sana, Anda hanya perlu menulis bertopik dan itu akan berhasil." <br><br>  Unduh arsip dan coba atasi tanpa kolega. <br><br>  <b>Solusi</b> <br><br>  Ini adalah tugas yang sederhana, tetapi membutuhkan rasa ingin tahu dan ketekunan. <br><br>  Unduh arsip, unggah isinya ke server uji lokal, buat proyek dengan WebView dan jalankan.  Setelah batas waktu singkat, kami melihat pesan "Orientasi kalibrasi".  Dan itu dia.  Tetapi pesan mengisyaratkan bahwa mungkin Anda harus memutar telepon di tangan Anda?  Setelah itu, pesan yang mencurigakan tentang pengecualian yang dilemparkan akan ditampilkan - dengan panggilan untuk memeriksa output konsol. <br><br>  Kami membuka konsol dan melihat panggilan ke metode yang tidak ada pada objek API.  Kami menambahkan objek ke WebView untuk mengimplementasikan JS API dan sekali lagi mencoba menguji aplikasi. <br><br>  Rupanya, ada baiknya menambahkan nilai kembali.  Kami memilih, menambahkan - itu berfungsi.  Tetapi tidak ada garis dengan jawaban di mana pun.  Hidupkan telepon lagi - metode baru dipanggil.  Tambahkan juga.  Setelah beberapa iterasi, kami mendapatkan panggilan finalisasi Kalibrasi dan kemudian storeResult, di mana saluran kami akan tiba. <br><br>  Saat mengunduh sumber, Anda mungkin tidak ingin menyelesaikan apa pun, tetapi buka dan keluarkan jawabannya.  Metode ini berhasil, tetapi beberapa garu kecil menanti Anda di sepanjang jalan. <br><br><h3>  hack itu!  # 5 </h3>  <sup><i>Penulis: Ivan Pukhov</i></sup> <br><br>  Perakitan perangkat Android versi baru bocor ke jaringan, tempat mekanisme penandatanganan aplikasi yang baru di-debug langsung ke perangkat.  Dalam majelis ini, kunci pribadi untuk penandatanganan dijahit ke dalam kode sumber sistem, dan pengembang meninggalkan bagian UI untuk menerimanya.  Temukan kuncinya. <br><br><div class="spoiler">  <b class="spoiler_title">Catatan</b> <div class="spoiler_text">  Format respons: 32 karakter string <br><br>  <a href="https://yadi.sk/d/vnDrXgDqJd8v7g">Unduh Kondisi Tugas (Mac OS X)</a> <br><br>  <a href="https://yadi.sk/d/ZuE2fORiMbbG7A">Unduh Kondisi Tugas (Windows)</a> <br><br>  <a href="https://yadi.sk/d/WxiBCxrVeIzIrg">Kondisi tugas unduhan (Linux)</a> </div></div><br>  <b>Solusi</b> <br><br>  1. Ketika Anda menjalankan emulator, Anda akan melihat aplikasi SecretActivity.  Jika Anda membukanya, bersulang muncul, menawarkan untuk melihat log.  Karena ini adalah unit debugging, ada banyak log - mereka harus disaring berdasarkan nama aplikasi. <br><br><pre> <code class="bash hljs">adb logcat | grep <span class="hljs-string"><span class="hljs-string">'SecretActivity'</span></span></code> </pre> <br> <code>1898 1898 E SecretActivity: Try broadcast ZggwxXsaQ9SapPKyHpnwnYmALHazVFWX</code> <br> <br>  2. Kami mencoba membuang siaran dengan aksi dari log: <br><br><pre> <code class="bash hljs">adb shell am broadcast -a ZggwxXsaQ9SapPKyHpnwnYmALHazVFWX</code> </pre> <br>  3. Bersulang akan muncul di layar dengan proposal untuk melihat log oleh tag SecretReceiver. <br><br><pre> <code class="bash hljs">adb logcat | grep <span class="hljs-string"><span class="hljs-string">'SecretReceiver'</span></span></code> </pre> <br> <code>1898 1898 E SecretReceiver: ISecretService.aidl <br> 1898 1898 E SecretReceiver: package android.app; <br> 1898 1898 E SecretReceiver: interface ISecretService { <br> 1898 1898 E SecretReceiver: String getSecret(); <br> 1898 1898 E SecretReceiver: } <br> 1898 1898 E SecretReceiver: See global settings to bind SecretService</code> <br> <br>  4. Kami melihat pengaturan global untuk menemukan tindakan untuk terhubung ke SecretService. <br><br><pre> <code class="bash hljs">adb shell settings list global</code> </pre> <br> <code>... <br> bind_secret_service_action=g8mNyGQZR8aHLTXNWcjdwJJYZ85Ewx83 <br> ...</code> <br> <br>  5. Kami sedang menulis klien untuk layanan ISecretService menggunakan antarmuka bantuan ini. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); Intent intent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Intent(); intent.setAction(<span class="hljs-string"><span class="hljs-string">"g8mNyGQZR8aHLTXNWcjdwJJYZ85Ewx83"</span></span>); PackageManager pm = getPackageManager(); List&lt;ResolveInfo&gt; resolveInfoList = pm.queryIntentServices(intent, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (resolveInfoList == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || resolveInfoList.size() != <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } ResolveInfo serviceInfo = resolveInfoList.get(<span class="hljs-number"><span class="hljs-number">0</span></span>); ComponentName component = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ComponentName(serviceInfo.serviceInfo.packageName, serviceInfo.serviceInfo.name); Intent explicitIntent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Intent(intent); explicitIntent.setComponent(component); bindService(explicitIntent, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ServiceConnection() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onServiceConnected</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ComponentName name, IBinder service)</span></span></span><span class="hljs-function"> </span></span>{ ISecretService secretService = ISecretService.Stub.asInterface(service); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Log.d(<span class="hljs-string"><span class="hljs-string">"MainActivity"</span></span>, secretService.getSecret()); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { Log.e(<span class="hljs-string"><span class="hljs-string">"MainActivity"</span></span>, <span class="hljs-string"><span class="hljs-string">"RemoteException"</span></span>, e); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onServiceDisconnected</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ComponentName name)</span></span></span><span class="hljs-function"> </span></span>{ } }, Context.BIND_AUTO_CREATE); } }</code> </pre> <br>  6. Jalankan, di log kita mendapatkan jawabannya: <br><br><pre> <code class="bash hljs">adb logcat | grep <span class="hljs-string"><span class="hljs-string">'MainActivity'</span></span></code> </pre> <br> <code>1898 1898 E MainActivity: VENHz=qWr7y!t3ZhP!8Skw!!kcTkt7V%</code> <br> <br><h3>  hack itu!  # 6 </h3>  <sup><i>Penulis: Pavel Vorobkalov</i></sup> <br>  <a href="https://yadi.sk/d/V1ipafbw9EJjQA">File biner</a> <br><br>  Tn. Tupper menulis aplikasi Android yang mengirim pesan. <br><br>  Dekripsi pesan dan lanjutkan. <br><br>  Format jawaban: string sebagai tautan. <br><br>  <b>Solusi</b> <br><br>  Instal dan jalankan aplikasi pada perangkat.  Kami melihat dua tombol: Kirim pesan dan Kirim formula.  Ketika Anda mengkliknya, tidak ada yang terlihat terjadi.  Anda perlu mengetahui bagaimana dan di mana aplikasi mengirim sesuatu. <br><br><img src="https://habrastorage.org/webt/d7/1k/ea/d71kea2oipwhydwmurf5hroelpy.png" width="300"><br><br>  Kami membuka aplikasi .apk menggunakan beberapa cara untuk merekayasa balik dan melihat Kegiatan utama.  Di sana Anda dapat melihat metode onSendMessageClick dan onSendFormulaClick.  Mereka membuat Intent dengan action "com.yandex.tupper.action.NEW_MESSAGE" dan tambahan dengan kunci "com.yandex.tupper.message" dan mengirimkannya ke aplikasi dari daftar (menggunakan metode umum).  Mereka mendapatkan daftar dengan memanggil PackageManager.queryBroadcastReceivers. <br><br>  Anda dapat terus menggunakan alat rekayasa terbalik untuk mempelajari pesan dengan mengekstraknya dari kode aplikasi.  Tetapi jalur ini sengaja (walaupun sedikit) rumit oleh enkripsi RSA tambahan. <br><br>  Ada cara lain yang lebih cocok dengan pemrograman Android.  Anda perlu menulis aplikasi yang menangani Intent siaran ini.  Kami membuat aplikasi kami, di penerima register manifes: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">receiver</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".TupperMessageReceiver"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:enabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:exported</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.yandex.tupper.action.NEW_MESSAGE"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">receiver</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Di handler, kami mendapatkan pesan dari ekstra dan menjalankan Aktivitas kami sendiri, di mana kami akan menunjukkan hasil pemrosesan: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TupperMessageReceiver</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BroadcastReceiver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onReceive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, Intent intent)</span></span></span><span class="hljs-function"> </span></span>{ String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (message == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } Intent activityIntent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Intent(context, MainActivity.class); activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); activityIntent.putExtra(MainActivity.EXTRA_MESSAGE, message); context.startActivity(activityIntent); } }</code> </pre> <br>  Sekarang mari kita berurusan dengan dekripsi pesan itu sendiri.  Jika Anda mencari di Yandex untuk "pesan Tupper", Anda dapat menemukan <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2580%25D0%25BC%25D1%2583%25D0%25BB%25D0%25B0_%25D0%25A2%25D0%25B0%25D0%25BF%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0">artikel</a> di rumus Tupper Wupper.  Ini memiliki contoh rumus yang disandikan dalam bentuk angka: <br><br><div class="spoiler">  <b class="spoiler_title">48584 ...</b> <div class="spoiler_text"><pre><code class="plaintext hljs">4858450636189713423582095962494202044581400587983244549483093085061934704708809928450644769865524364849997247024915119110411605739177407856919754326571855442057210445735883681829823754139634338225199452191651284348332905131193199953502413758765239264874613394906870130562295813219481113685339535565290850023875092856892694555974281546386510730049106723058933586052544096664351265349363643957125565695936815184334857605266940161251266951421550539554519153785457525756590740540157929001765967965480064427829131488548259914721248506352686630476300</code></pre></div></div><br>  Nomor ini dikirim sebagai pesan dengan mengklik tombol Kirim rumus.  Hasil pengodean angka tersebut juga ada di artikel Wikipedia.  Ini dapat digunakan untuk men-debug implementasi algoritma decoding. <br><br>  Kami menerapkan algoritma decoding di Jawa dan, demi kecantikan, mengonversi angka biner yang dihasilkan ke Bitmap monokrom: <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TupperCodec</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TUPPER_R = <span class="hljs-number"><span class="hljs-number">17</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TupperCodec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> BigInteger </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decodeFromDecString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String decString)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> NumberFormatException </span></span>{ BigInteger data = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BigInteger(decString, <span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data.divide(BigInteger.valueOf(TUPPER_R)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNumberAsBinImage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BigInteger number)</span></span></span><span class="hljs-function"> </span></span>{ String binString = number.toString(<span class="hljs-number"><span class="hljs-number">2</span></span>); StringBuffer result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuffer(binString.length()); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; binString.length(); i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((i % TUPPER_R) == <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { result.append(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>); } result.append(binString.charAt(binString.length() - <span class="hljs-number"><span class="hljs-number">1</span></span> - i)); } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numberOfRows = (binString.length() + TUPPER_R - <span class="hljs-number"><span class="hljs-number">1</span></span>) / TUPPER_R; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt; numberOfRows * TUPPER_R; i++) { result.append(~_~quot&amp;#<span class="hljs-number"><span class="hljs-number">0</span></span>;quot~_~); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.toString(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Bitmap </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBinImageAsBitmap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String binImage)</span></span></span><span class="hljs-function"> </span></span>{ String[] lines = binImage.split(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] colors = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[lines.length * TUPPER_R]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; lines.length; i++) { String line = lines[i]; <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> line.length() == TUPPER_R; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; line.length(); j++) { colors[i * TUPPER_R + j] = line.charAt(j) == <span class="hljs-string"><span class="hljs-string">'0'</span></span> ? Color.WHITE : Color.BLACK; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Bitmap.createBitmap(colors, TUPPER_R, lines.length, Bitmap.Config.ARGB_8888); } }</code> </pre> <br>  Di Activity, panggil decoding dan tampilkan hasilnya sebagai Bitmap di ImageView: <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String EXTRA_MESSAGE = <span class="hljs-string"><span class="hljs-string">"com.yandex.tupper.message"</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Intent intent = getIntent(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (intent != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; intent.hasExtra(MainActivity.EXTRA_MESSAGE)) { String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { BigInteger data = TupperCodec.decodeFromDecString(message); String binImage = TupperCodec.getNumberAsBinImage(data); Bitmap bitmap = TupperCodec.getBinImageAsBitmap(binImage); ImageView imageView = findViewById(R.id.message_image); imageView.setImageBitmap(bitmap); CharSequence toastText = TextUtils.ellipsize(message, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextPaint(), <span class="hljs-number"><span class="hljs-number">400</span></span>, TextUtils.TruncateAt.END); Toast.makeText(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, toastText, Toast.LENGTH_SHORT).show(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (NumberFormatException ex) { Toast.makeText(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, getString(R.string.invalid_message), Toast.LENGTH_LONG).show(); } } } }</code> </pre> <br><img src="https://habrastorage.org/webt/zf/ji/7b/zfji7bvxc9uz3avkrwqz65hc7lo.png" width="300"><br> <b><sup><sub>  </sub></sup></b> <br><br>  — <a href="https://clck.ru/FevR5">clck.ru/FevR5</a> . <br><br><h3> hack it! #7 </h3> <sup><i>:  </i></sup> <br> <a href="https://yadi.sk/d/YlXQWIwlo8VGmw"> </a> <br><br>       . <br><br>     .    ,           ,    . <br><br>  :      -    . <br><br> <b></b> <br><br>  .apk  zip-     classes.dex —  Java-  .         , ,  dex2jar  Android Studio. dex2jar  Java-,    Android Studio        class-.     ,   . <br><br>    ,     proguard ( android.support.*  androidx.*,    ), —  com.yandex.contest.keygenme.MainActivity, Activity  . ,       : MainActivity.a#doInBackground   bbaab   b     ,   . <br><br><img src="https://habrastorage.org/webt/6d/sa/vb/6dsavb2ct67ou-f8hknj6c7twpy.png"><br><br>   c  d.        N-    π ( --),        .     ,  π <sub>hexed</sub> [c[i] + key[i]] = d[i], i = 0..11.    ,     .            50  hex-  π.  : 537306089144.         key_2056BE33E064. <br><br>            ,    ,       —  .     doInBackground: <br><br><img src="https://habrastorage.org/webt/4o/io/62/4oio62zqs03jzqonptpka1tb_rs.png"><br><br> ,       ,       if (var12[0] == var8) {… }.  var7    —  i-   .    ,   var7      0  9           .    .    ,    .apk (      JVM)   . <br><br><h3> hack it! #8 </h3> <sup><i>:  </i></sup> <br> <a href="https://yadi.sk/d/rRQuDjMq7f6Z_A"> </a> <br><br>      N   ,        .    :   Android  4.4,    1200 × 600,        FM-.    ,       ,  FM-    .     FM-        ,      . <br><br>          ,        FM-.            . <br><br>       ,     : <br><br> 1.     106.00  <br> 2.  (seek)    <br> 3. ,    <br><br>  ,    . <br><br><div class="spoiler"> <b class="spoiler_title"></b> <div class="spoiler_text">  :            .        . <br><br>  : ,   a(106.00)     106.00 ,  b(true)   ,   c()  ,     a(106.00);b(true);c() </div></div><br> <b></b> <br><br>  :  ,   FM-  .    .apk   dex-.       Java.  ,   ,    — jadx. <br><br>   .apk,     .      MainActivity.   : fragment_holder   RadioFullFragment   .    .      RadioFullPresenter,  ChangeRadioFrequencyUsecase,       RadioRepo.   . <br><br>     «implements RadioRepo».  : RadioRepoImpl.  ,      b. ServiceConnection —    . ,   b    lambda$new$0$RadioRepoImpl. ,   $$Lambda$RadioRepoImpl$FYTR9gAgZEGvrLjkbkpAIup7OKw,     serviceConnection  IRadioService radioService.  ,    RadioService. <br><br>  :  onServiceConnected   «b radioManager = Stub.asInterface(service)».  ,     .    «bindService».  bindService   «com.some_company.help_service».      ,      com.some_company.carradio.FmUtils.  , ,     . , : j  ,    : 8880  88.00 .        8800.      a. ,    . <br><br>   .  : k  z.         RadioRepoImpl,    enableRadio()  disableRadio()   k.    z(boolean isForwardDirection),     « (seek)   ». <br><br>      : a(10600);z(true);j(). <br><br><h3> hack it! #9 </h3> <sup><i>:  </i></sup> <br> <a href="https://yadi.sk/d/RqpIQYikuNBwcA"> </a> <br><br>    flatbuffers      .      GPX  .    .      ,  . <br><br>  FlatBuffers   : <br><br><pre> <code class="plaintext hljs">namespace ru.yandex.android.task; struct GeoPoint { latitude:double; longitude:double; } table Points { items:[GeoPoint]; } root_type Points;</code> </pre> <br>  : ,     sha256.      . <br><br> <b></b> <br><br>   ,   FlatBuffers. <br><br> 1.   fbs-         . <br> 2.    Java-.   JVM-    ,    Gradle   flatbuffers. <br> 3.        fbs-. <br> 4.      fbs-,     -     —    .    ,          FlatBuffers. <br> 5.      ,   .  structs  ,           struct  table.     . <br> 6.            Kotlin.            FlatBuffers. <br><br>      fbs     ,        .     FlatBufferBuilder      input.    input   : <br><br><pre> <code class="plaintext hljs">val pointsList = Points.getRootAsPoints(buffer) val restoredPoints = (0 until pointsList.itemsLength()) .mapNotNull(pointsList::items)</code> </pre> <br>  c    ,          (lat, long).       as-is    GPX-. <br><br>    GPX- (   )   .    GPX   XML.  ,       XML-   .  XML-   GPX-track-.  XML-   MAP-          .     «yandroid». <br><br> ,      .      CLI-: <br><br><pre> <code class="plaintext hljs">echo "yandroid" | shasum -a 256</code> </pre> <br>      . <br><br><a name="dig"></a><h1>  Android </h1><br><h3> dig it! #1 </h3> <sup><i>:  </i></sup> <br> <a href="https://yadi.sk/d/WNgNI_n2ydszrg"> </a> <br><br> QA-    . <br><br>  : <br><br> —   (  'Screen 1') <br> —   GO NEXT (  'Screen 2') <br> —   GO BACK <br> —     GO NEXT,   <br> —  5–10  <br><br>  :   'Screen 2'. <br><br>  :  ,   «  ». <br><br>     .apk . <br><br><div class="spoiler"> <b class="spoiler_title"></b> <div class="spoiler_text"> <b> </b> <br><br> C   stack trace,     . <br><br>  <b>Contoh</b> <br><br>  stack trace     … <br><br><pre> <code class="plaintext hljs">at android.os.MessageQueue.nativePollOnce(Native method) at android.os.MessageQueue.next(MessageQueue.java:326) at android.os.Looper.loop(Looper.java:160) at com.android.server.SystemServer.run(SystemServer.java:454) at com.android.server.SystemServer.main(SystemServer.java:294) at java.lang.reﬂect.Method.invoke(Native method) at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:838)</code> </pre> <br> …   ,     RuntimeInit.java,   493,   : <br><br><pre> <code class="plaintext hljs">com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)</code> </pre> </div></div><br> <b></b> <br><br>   , ,     «  ». <br><br>       /data/anr/traces.txt  /data/anr/anr_* (https://developer.android.com/topic/performance/vitals/anr#pull_a_traces_file).      adb-: <br><br><pre> <code class="plaintext hljs">adb root adb shell ls /data/anr adb pull /data/anr/&lt;filename&gt;</code> </pre> <br> (   adb root  ,     Google API.) <br><br>  stack trace   .  —     stack trace,     : <br><br><pre> <code class="plaintext hljs">com.droid.mission.anrapk.MainActivity$2.onClick(MainActivity.java:43)</code> </pre> <br><img src="https://habrastorage.org/webt/ww/ae/yf/wwaeyflqgvj5ahgbw0ldeui2vo0.png"><br><br><h3> dig it! #2 </h3> <sup><i>:  </i></sup> <br><br>     Android Studio,        ,     MultiDex. -,    apk-     .dex-   (65536).   /     apk   Andorid Studio    .dex-. <br><br>  —    dex-  ,    dex- ( ,    )      .    dex- . <br><br> : multidex , android gradle plugin  3.0.0 – 3.1.4 <br><br>    . <br><br>         ? <br><br> <b></b> <br><br>         ,      dex-.       Gradle —  ,     ,   .apk. <br><br>     Java-  dex-    ART/Dalvik: transformClassesWithDexBuilderForDebug.     dex-,   .       Android Gradle plugin (AGP)     Gradle  .  ,  —  , Gradle             . ,        .        AGP,   —   DSL- Gradle      build.gradle. <br><br>    3.1.*     minimal-main-dex.    ,      . <br><br><h3> dig it! #3 </h3> <sup><i>:  </i></sup> <br>  —     -           . <br><br>       ? <br><br>  :  —    . <br><br> <b></b> <br><br>    ,        .    Android   WindowManager. <a href="https://developer.android.com/reference/android/view/WindowManager.html"></a>        .  ,  <a href="https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html">WindowManager.LayoutParams</a> .    ,        ,   <a href="https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html">TYPE_APPLICATION</a> . <br><br>    ,  ,      .       ,  ,    - . <br><br> ,   Android SDK,   ,        . ,     <a href="">WindowManager</a>  AOSP.     ,    ,   ,            . <br><br> ,       ,   <a href="http://androidxref.com/9.0.0_r3/search%3Fq%3DTYPE_BOOT_PROGRESS%26defs%3D%26refs%3D%26path%3D%26hist%3D%26project%3Dframeworks">TYPE_BOOT_PROGRESS</a> .       getWindowLayerFromTypeLw  WindowManagerPolicy.  Javadoc : <br><br><blockquote> Returns the layer assignment for the window type. Allows you to control how different kinds of windows are ordered on-screen </blockquote><br> ,   ,  .    switch-case   ,   layer —  TYPE_POINTER,  2018.    . <br><br><h3> dig it! #4 </h3> <sup><i>:  </i></sup> <br><br>    ,      -        ,     . <br><br>        .   ,   ,   ,     . <br><br>    Android  ,          ? <br><br> <b></b> <br><br>       ,   ,     Android SDK,  . <br><br>     <a href="">startActivity  Context</a> .     Context  Activity — ,      <a href="">startActivity</a> .        startActivityForResult.     ,    Activity  <a href="">mInstrumentation.execStartActivity</a> . <br><br>      <a href=""></a> ?    startActivity  ActivityManagerService,    ServiceManager.getService(Context.ACTIVITY_SERVICE). <br><br>      <a href="">ActivityManagerService</a> .   startActivityAsUser,    startActivity,  ActivityStarter     execute. ,    <a href=""></a> . <br><br> C         <a href="">startActivity</a> .      ,     <a href="">abort</a> ,     true    START_ABORTED     Activity. <br><br>  ,    ,      mService.mIntentFirewall.checkStartActivity. , <a href="">   </a> .   : <br><br><blockquote> This is called from ActivityManager to check if a start activity intent should be allowed. </blockquote><br>   ,  IntentFirewall  .        <a href="">RULES_DIR</a> . : ifw. <br><br><h3> dig it! #5 </h3> <sup><i>:  </i></sup> <br><br>     . ,        (, ) — 8800.  ,  ,        (+8800). ,   8800  +8800 ,   /     ,    . <br><br>            .    .   ,   +8800  8800 . <br><br>          ,     (java/c/c++).   ,    . <br><br>      : <a href="https://source.android.com/">source.android.com</a> <br>   — : <a href="http://androidxref.com/">androidxref.com</a> <br><br> <b></b> <br><br>     Dialer ,         ,    URI  <code>authorities = "content://com.android.contacts"</code> . <br><br>  ContentProvider.        URI   ContactsPoviider.  : ,    SQL-      .    : <br><br><pre> <code class="plaintext hljs">sb.append("PHONE_NUMBERS_EQUAL(" + Tables.DATA + "." + Phone.NUMBER + ", ");</code> </pre> <br> PHONE_NUMBERS_EQUAL —   SQL-.   sqlite    . <br><br>    sqlite,  ,        .   ContactsProvider  ,      config_use_strict_phone_number_comparation,     . : <br><br><pre> <code class="plaintext hljs">&lt;bool name="config_use_strict_phone_number_comparation"&gt;true&lt;/bool&gt;</code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id484876/">https://habr.com/ru/post/id484876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id484862/index.html">Bermigrasi dari AngularJS ke Angular7 melalui aplikasi hybrid</a></li>
<li><a href="../id484866/index.html">Menggunakan Astra Linux pada Komputer Tertanam ARM</a></li>
<li><a href="../id484868/index.html">Bagaimana cara mengukur peningkatan tim? Bagian 2</a></li>
<li><a href="../id484870/index.html">Bagaimana bahasa Inggris telah mengubah Topeng Ilona selama 20 tahun</a></li>
<li><a href="../id484874/index.html">"Spesialis IT Anda rusak, bawa yang baru": bagaimana membangun karier di bidang TI dan tidak menjadi gila</a></li>
<li><a href="../id484878/index.html">Dasar-dasar desain level: efek aliran atau bagaimana agar pemain tidak bosan</a></li>
<li><a href="../id484882/index.html">Windows Terminal Preview v0.8 dirilis</a></li>
<li><a href="../id484884/index.html">HIPEC. Bertahun-tahun hidup bukannya berbulan-bulan dengan tumor ganas di rongga perut</a></li>
<li><a href="../id484886/index.html">RTL Styling 101 - Panduan terperinci untuk gaya CSS RTL</a></li>
<li><a href="../id484890/index.html">Membatasi akses ke atribut dimensi dalam model tabel SSAS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>