<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💃🏻 🤸🏼 🔱 Perencanaan Infrastruktur untuk Pemulihan Instan dari Mesin Virtual Pemulihan VM Instan: Bagian 2 🍃 😷 🌑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami melanjutkan topik, yang mulai dipertimbangkan di bagian pertama . Hari ini kita akan berbicara tentang koneksi jaringan dan server target, menyaj...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Perencanaan Infrastruktur untuk Pemulihan Instan dari Mesin Virtual Pemulihan VM Instan: Bagian 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/414547/">  Kami melanjutkan topik, yang mulai dipertimbangkan di bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pertama</a> .  Hari ini kita akan berbicara tentang koneksi jaringan dan server target, menyajikan opsi yang memungkinkan dan opsi perencanaan infrastruktur untuk pemulihan optimal dari VM Pemulihan Instan.  Jadi selamat datang di kucing. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_5/c2/_c/_5c2_c7beo7ac9tamvuvgr2-_c4.png" width="600" height="271"></div><a name="habracut"></a><br><h1>  Tentang koneksi jaringan </h1><br>  Tentu saja, ada baiknya memiliki saluran dengan bandwidth 10 Gbit / dtk, melalui mana data ditransfer selama pencadangan.  Namun, saluran lebih sederhana untuk dipulihkan dari cadangan, tetapi disarankan untuk menggunakan NIC yang bekerja sama dengan LACP atau SMB Multichannel, atau beberapa opsi lain dengan agregasi bandwidth.  Anda dapat menggunakan, misalnya, port LOM dalam versi 4x1 Gbit / s.  Konfigurasi ini direkomendasikan untuk koneksi "beberapa perangkat sumber - 1 perangkat cadangan target", yaitu, saat menghubungkan "banyak ke satu".  (Demikian juga, pemulihan paralel dari satu penyimpanan cadangan ke perangkat target - sebagai suatu peraturan, ini adalah yang pertama yang sama dengan yang dilakukan pencadangan - adalah koneksi satu-ke-banyak.) <br>  Misalnya, Anda dapat mengonfigurasi beberapa pekerjaan cadangan dari beberapa host Hyper-V / LUN dan menyimpan cadangan ke penyimpanan target yang sama.  Jika Anda memiliki 10 host seperti itu dengan bandwidth saluran total 4x1 Gbit / s, maka jika Anda memiliki pipa 10Gbit / s pada perangkat target, ini merupakan konfigurasi yang cukup memadai. <br><br>  Dalam kasus ketika penyimpanan cadangan adalah bagian SMB, multichannel berfungsi dengan sangat baik (dapat ditambah oleh SMB Direct jika Anda memiliki NIC dengan dukungan RDMA yang dikonfigurasi).  Kemampuan ini sekarang didukung di banyak penyebaran cluster Hyper-V.  Namun, komponen solusi Veeam yang bertanggung jawab untuk penggerak data dapat menggunakan SMB Multichannel dan SMB Direct (sekali lagi, dengan NIC yang dikonfigurasi dengan dukungan RDMA) hanya dalam skenario ketika Anda menggunakan VM yang disimpan pada berbagi File SMB untuk dicadangkan. proxy di luar host.  Veeam Data Mover ini bekerja masing-masing pada proksi cadangan di luar host dan di repositori.  Skenario seperti itu dijelaskan secara rinci di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Poin penting lainnya: saat menggunakan Windows NIC bekerja sama dalam <i>mode Independen</i> , transfer data diperbolehkan dari semua peserta, dan hanya menerima dari satu peserta.  Jika Anda ingin mendapatkan throughput yang optimal di kedua arah untuk satu proses, maka Anda tidak perlu menggunakan LACP.  Tetapi dalam hal ini, Anda perlu memastikan bahwa beberapa restorasi dilakukan pada host yang sama. <br><br>  Seperti yang Anda lihat, agregasi bandwidth memiliki sejumlah batasan dan tidak sepenuhnya identik dengan memiliki satu saluran yang baik.  Dalam kasus apa pun, Anda perlu membangun skenario penggunaan yang direncanakan. <br><br>  Meringkas: tergantung pada infrastruktur Anda, Anda dapat menggunakan Windows NIC timing dalam LACP atau Beralih mode Independen / mode Multichannel SMB.  Opsi terakhir berguna jika Anda bekerja dengan berbagi file SMB dan ingin menggunakan SMB Direct (jangan lupa tentang fitur pekerjaan yang disebutkan di atas). <br><br><img src="https://habrastorage.org/webt/mm/fr/eo/mmfreonnwcu0xo_g0b7qcd3hg-m.png"><br><br>  Bandwidth tinggi dan latensi rendah diperlukan untuk memberikan kinerja terbaik selama pemasangan disk virtual, saat mengakses dan menyalin data selama Pemulihan VM Instan. <br><br>  Anda dapat melakukan beberapa operasi pemulihan secara bersamaan dan masih tidak menghentikan pekerjaan pencadangan.  Sekali lagi, di hadapan saluran yang layak, peran utama dimainkan oleh sumber daya komputasi dan penyimpanan.  Jika semua ini dirancang dengan benar untuk cadangan, maka pemulihan akan efektif. <br><br><h1>  Rekomendasi untuk perangkat target </h1><br>  Pertimbangkan beberapa opsi, yang mana, sangat mungkin, Anda akan memilih yang terbaik untuk diri Anda sendiri. <br><br><h3>  Opsi 1: Pulihkan ke host Hyper-V dan langsung ke LUN di infrastruktur produksi </h3><br>  Bahkan jika Anda memiliki sistem penyimpanan berkinerja tinggi dengan cache baca / tulis atau level 1 yang dikonfigurasi, maka, seperti yang disebutkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dalam posting sebelumnya</a> , Anda harus berhati-hati untuk tidak meluap.  Jika tidak, VM produksi akan terpengaruh.  Dan ini bisa terjadi, misalnya, jika Anda mencoba menulis data dalam jumlah besar ke sistem penyimpanan secepat mungkin - ini terjadi ketika memigrasi sistem penyimpanan.  Dalam operasi semacam itu, kami mencoba menghindari penggunaan sistem penyimpanan level 1.  Pertimbangan serupa berlaku untuk pemulihan VM besar. <br><br>  Anda dapat merekomendasikan memulihkan ke LUN terpisah dengan profil yang berbeda.  VM yang dipulihkan kemudian dapat dimigrasi secara perlahan ke CSV produksi.  Untuk memastikan ketersediaan tinggi, Anda dapat menggunakan cluster menggunakan migrasi migrasi penyimpanan ("migrasi migrasi" fungsi).  Secara alami, Anda perlu fokus pada kinerja array penyimpanan Anda. <br><br><h3>  Opsi 2: Pemulihan ke host Hyper-V dengan drive SSD / NMVe lokal </h3><br>  Skenario pemulihan lain dalam produksi, cukup efektif: menggunakan host Hyper-V dari penyimpanan lokal ke SSD atau NVMe.  Ukuran ruang disk tergantung pada berapa banyak VM yang ingin Anda pulihkan selama periode waktu tertentu dan seberapa besar VM ini. <br><br>  Secara teori, Anda tidak perlu mengembalikan semua orang dan segalanya, sehingga konfigurasi ini harus cukup ekonomis.  Misalnya, Anda dapat menggunakan satu SSD di masing-masing node cluster, atau hanya dalam beberapa, atau secara umum hanya dalam satu.  Semakin banyak SSD / NVMe yang Anda gunakan, semakin banyak anggaran mereka, dengan tetap mempertahankan distribusi beban yang cukup efisien di seluruh host.  Pada tahap akhir prosedur pemulihan instan, mesin virtual dapat dengan mudah ditransfer ke CSV produksi, menggunakan fungsionalitas migrasi langsung Storage yang sama. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fi/o9/bi/fio9bip9q5jezqbtx2xzb6t49lq.png" width="500" height="610"></div><br>  Diagram menunjukkan opsi perencanaan infrastruktur.  Tentu saja, Anda dapat menggabungkan pendekatan di atas sesuai kebijaksanaan Anda. <br><br><h3>  Opsi 3: Pulihkan ke host Hyper-V khusus dengan drive SSD / NVMe lokal </h3><br>  Dalam opsi ini, kami mengalokasikan satu atau lebih host secara khusus untuk mendukung pemulihan.  Ini menghindari kemungkinan kekurangan sumber daya dan dampak pada operasi host produksi di cluster.  Anda dapat menggunakan drive NVMe.  Kami menyarankan Anda menguji kemampuan pemulihan dalam konfigurasi ini sebelumnya untuk memahami bagaimana sumber daya habis. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_5/c2/_c/_5c2_c7beo7ac9tamvuvgr2-_c4.png" width="600" height="271"></div><br>  Jika Anda berencana untuk meningkatkan konsumsinya, maka untuk migrasi akhir dari mesin rekondisi ke dalam produksi, Anda dapat menggunakan migrasi yang disebut tanpa berbagi sumber daya.  (Untuk ini, Anda harus mengatur pengaturan keamanan tambahan.) Adapun sumber daya jaringan, Anda dapat menggunakan, misalnya, kemampuan SMB Multichannel dan SMB Direct untuk migrasi ke CSV / Live Migration / S2D Hyper-V. <br>  Ya, migrasi sistem penyimpanan (Migrasi penyimpanan penyimpanan) bukan proses tercepat, ini minus.  Tetapi ada nilai tambah - mesin virtual Anda dipulihkan dan terus bekerja selama proses ini. <br><br><h1>  Kesimpulannya </h1><br>  Tentu saja, semua orang memilih opsi yang disukai tergantung pada apa yang menjadi hambatan dalam infrastruktur tertentu (server sumber, server target, sumber daya jaringan).  Selain itu, sangat mungkin bahwa studi yang cermat akan diperlukan hanya untuk merencanakan pemulihan VM paling kritis atau bagi konsumen yang membayar layanan tersebut. <br><br>  Bagaimanapun, tujuan utama akan selalu menjadi pemulihan tercepat yang mungkin. <br>  Setelah itu, sudah dimungkinkan untuk bermigrasi dengan aman ke sistem penyimpanan cluster, memastikan ketersediaan tinggi dan toleransi kesalahan.  Dan, tentu saja, mesin virtual harus dilindungi dalam bentuk replikasi \ cadangan jika mereka perlu dikembalikan lagi di beberapa titik. <br><br><h1>  Apa lagi yang harus dibaca: </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel Habr tentang perencanaan infrastruktur untuk pemulihan VM instan (bagian 1)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan Pengguna Cadangan &amp; Replikasi Veeam untuk Hyper-V (dalam bahasa Rusia)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan Pengguna Cadangan &amp; Replikasi Veeam untuk VMware (dalam bahasa Rusia)</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id414547/">https://habr.com/ru/post/id414547/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id414531/index.html">Tidak ada yang tahu apa yang akan terjadi pada belanja online mulai 1 Juli</a></li>
<li><a href="../id414535/index.html">Manchester: tempat kelahiran dari kesedihan, post-punk dan dua klub sepakbola terkenal</a></li>
<li><a href="../id414537/index.html">Bagaimana kami membuat salah satu game AR terbaik di dunia tanpa lalu lintas berbayar</a></li>
<li><a href="../id414539/index.html">Penjahat dunia maya semakin mencuri data pribadi Rusia</a></li>
<li><a href="../id414541/index.html">Optimalisasi aplikasi node.js</a></li>
<li><a href="../id414549/index.html">3.000 mata untuk kecerdasan buatan. Apa sistem pemantauan struktur dari Pusat Lakhta?</a></li>
<li><a href="../id414551/index.html">Petunjuk Pendaftaran PhD AS</a></li>
<li><a href="../id414555/index.html">Bagaimana kami mentransfer 36 juta pelanggan ke layanan dukungan teknis digital</a></li>
<li><a href="../id414557/index.html">Peretasan smart meter di PHDays 8: analisis kontes MeterH3cker</a></li>
<li><a href="../id414561/index.html">Sekolah video game Prancis: Dunia Lain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>