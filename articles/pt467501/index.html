<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò≥ ‚òïÔ∏è üë®üèº‚Äçüé® Implementa√ß√£o na arquitetura de calculadoras sovi√©ticas program√°veis ‚Äã‚Äã"Electronics MK-52" üå´Ô∏è üî™ üèÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, quero falar sobre a arquitetura dos microcalculadores program√°veis ‚Äã‚Äãsovi√©ticos usando a calculadora eletr√¥nica MK-52 como exemplo e com...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Implementa√ß√£o na arquitetura de calculadoras sovi√©ticas program√°veis ‚Äã‚Äã"Electronics MK-52"</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467501/"><img src="https://habrastorage.org/webt/l4/bn/lp/l4bnlpz03jmoef1_az7csdrhq9e.jpeg"><br><br>  Neste artigo, quero falar sobre a arquitetura dos microcalculadores program√°veis ‚Äã‚Äãsovi√©ticos usando a calculadora eletr√¥nica MK-52 como exemplo e como ela pode ser incorporada √† sua arquitetura. <br><br>  As calculadoras sovi√©ticas da fam√≠lia " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Electronics B3-34</a> " ("Electronics MK-56", "Electronics MK-61" e "Electronics MK-52") eram especialmente populares na URSS.  A raz√£o para isso n√£o foi apenas um pre√ßo acess√≠vel de 65 rublos para o MK-54, 85 rublos para o MK-61 ou 115 rublos para o MK-52, mas tamb√©m uma linguagem de programa√ß√£o desenvolvida.  Essa fam√≠lia de calculadoras se tornou o padr√£o de fato para v√°rios usu√°rios.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Um grande n√∫mero de livros</a> foi dedicado √† programa√ß√£o nessas m√°quinas e √† publica√ß√£o de algoritmos prontos.  O sistema eletr√¥nico MK-52 chegou ao espa√ßo na sonda Soyuz TM-7, onde deveria ser usada como backup em caso de mau funcionamento do equipamento de navega√ß√£o por descida.  Mesmo na Marinha da URSS, a calculadora eletr√¥nica MK-52 com a unidade de expans√£o de mem√≥ria Astro PDU foi por algum tempo uma ferramenta padr√£o para c√°lculos de navega√ß√£o. <br><br><img src="https://habrastorage.org/webt/dm/7m/kp/dm7mkpf690txckpntxvzqgdsrge.jpeg"><br><a name="habracut"></a><br>  O microcalculador MK-52 pertence √† segunda gera√ß√£o de microcalculadores program√°veis ‚Äã‚Äãsovi√©ticos. <br><br>  A primeira gera√ß√£o foi a fam√≠lia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">B3-21</a> (incluindo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MK-46</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MK-64</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MS 1103</a> ).  O modelo b√°sico B3-21 foi desenvolvido em 1975 e produzido em massa desde 1977.  Ela tinha uma pilha de trabalho para dois n√∫meros (B3-21, como a fam√≠lia B3-34 - calculadoras com RPN - um registro polon√™s reverso (ou sem bloqueio) - onde os n√∫meros s√£o inseridos primeiro na pilha e depois o bot√£o de opera√ß√£o √© pressionado). <br><br><img src="https://habrastorage.org/webt/wy/wx/fv/wywxfvdw7sgk9gmfodxmayonqvq.png"><br><br>  Al√©m da pilha de trabalho, havia uma pilha de an√©is adicional de 6 n√∫meros.  Voc√™ pode escrever um n√∫mero em um c√≠rculo nesta pilha e extra√≠-lo.  E mais sete registradores de mem√≥ria com os n√∫meros 2 a 8 (oito no MK-46, MK-64 e MC 1103) s√£o registros comuns de mem√≥ria para armazenar n√∫meros.  O n√∫mero de etapas do programa para B3-21 √© 60. Nos modelos MK-46, MK-64 e MC 1103, existem 66. Os modelos mais recentes s√£o calculadoras de mesa com blocos para monitorar par√¢metros de dispositivos externos.  No MK-46, havia apenas a oportunidade de receber c√≥digos digitais, e no MK-64 e no MS 1103 foi instalada uma fita com um conversor anal√≥gico-digital e um chip adicional K145IK1801, que organizou a intera√ß√£o.  Devido √† instala√ß√£o deste chip, um registro de mem√≥ria adicional com o n√∫mero 9 e mais seis etapas do programa apareceu.  O controle de leitura ocorreu atrav√©s do registro n√∫mero 9, digitando o c√≥digo de comando.  Da mesma forma, a prop√≥sito, os MK-61 e MK-52 foram equipados com o chip K745IK1306, que, al√©m de fun√ß√µes adicionais, adicionou mais um registro e mais sete etapas do programa, mas mais sobre isso posteriormente. <br><br>  Em algum lugar em 1980, a segunda gera√ß√£o de microcalculadores program√°veis ‚Äã‚Äãapareceu em face do "Electronics B3-34".  As primeiras c√≥pias custaram 120 rublos, mas a f√°brica reduziu rapidamente o pre√ßo para 85 rublos e vendeu o modelo em algum lugar at√© 1985.  Em geral, o pre√ßo das calculadoras √© objeto de discuss√£o para um artigo separado: em algum lugar, os pre√ßos diminuem √† medida que s√£o liberados, em algum lugar aumentam.  Se estiver interessado, pode consultar o meu site para altera√ß√µes de pre√ßos ao longo dos anos - tento coletar essas informa√ß√µes o m√°ximo poss√≠vel.  A calculadora B3-34 foi substitu√≠da por fun√ß√µes semelhantes, mas o MK-54 mais compacto, o MK-56 de mesa.  Alguns anos depois, o chip K745IK1306 apareceu com fun√ß√µes adicionais e lan√ßou novos modelos MK-61 em um caso semelhante ao MK-54, e o MK-52 horizontal com um EEPROM K1601PP1 interno em 512 etapas (uma coisa √∫nica, n√£o vi outras calculadoras com EEPROM no mundo). : eles possuem CMOS RAM de baixo consumo ou Flash mais moderno) e dois conectores para conectar dispositivos: o primeiro foi usado para conectar m√≥dulos de mem√≥ria externa das "unidades de expans√£o de mem√≥ria PDU" e o segundo era tecnol√≥gico e nada foi conectado l√° (a f√°brica explicou como a tecnologia  conector biol√≥gico para testes durante a produ√ß√£o). <br><br>  Vista traseira: <br><br><img src="https://habrastorage.org/webt/am/jz/al/amjzallsqti33evaebnau7gl6em.jpeg"><br><br><img src="https://habrastorage.org/webt/ii/gf/cs/iigfcsw5omkcx4t-gcuphpvpupa.png"><br><br>  Comparado aos microcalculadores de primeira gera√ß√£o, a melhoria foi significativa.  O n√∫mero de registros para armazenar n√∫meros aumentou de 8/9 para 14/15. <br>  A pilha operacional de dois registros aumentou em mais dois registros - X, Y, Z, T. Um registro do √∫ltimo valor do registro X apareceu antes de executar a √∫ltima opera√ß√£o aritm√©tica - BX (os registros operacionais X, Y, Z, T com o √∫ltimo registro X foram espionados por n√≥s, em vez no total, as calculadoras Hewlett Packard com registros semelhantes, entretanto, √© a√≠ que a identidade com a HP termina).  A √°rea do programa de 60/66 etapas aumentou de 98 etapas (para B3-34, MK-54, MK-56, MC 1104) para 105 etapas (para MK-61 e MK-52). <br><br>  No programa, voc√™ pode usar loops autom√°ticos nos registradores L0-L3 e, em seguida, o registro correspondente √© reduzido em 1, comparado com zero e com ramifica√ß√£o no endere√ßo. <br>  As calculadoras de segunda gera√ß√£o melhoraram bastante a implementa√ß√£o do endere√ßamento indireto.  Qualquer registro de mem√≥ria pode ser usado como √≠ndice para salvar / recuperar n√∫meros, bem como para transi√ß√µes indiretas para programas e subprogramas, inclusive com uma condi√ß√£o.  Nesse caso, o valor do registro de salto indireto ser√° automaticamente reduzido (registros 0-3), aumentado (registros 4-6) ou deixado inalterado. <br><br>  Todas essas a√ß√µes autom√°ticas com registros salvam muito a √°rea do programa e facilitam a programa√ß√£o. <br><br>  Voc√™ pode falar sobre como trabalhar com o MK-52 por um longo tempo.  Acabei de falar brevemente sobre os recursos dessas m√°quinas para aqueles que n√£o trabalharam com elas. <br><br>  Eu gostaria de come√ßar a conversa sobre arquitetura com uma hist√≥ria.  A fam√≠lia de calculadoras B3-21 e B3-34 √© o desenvolvimento do Instituto de Pesquisa Cient√≠fica de Microdispositivos de Kiev (NIIMP).  As primeiras calculadoras chamadas " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Electronics 4-71</a> " apareceram em 1971.  Duas empresas receberam a tarefa de fazer calculadoras em grandes circuitos integrados - o NIIMP de Kiev e o Leningrado Svetlana - no 24¬∫ Congresso do CPSU em 1971.  Como resultado, mais ou menos na mesma √©poca, apareceram dois modelos de calculadoras - o mencionado Electronics 4-71 e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Electronics 24-71</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">voc√™ recebe o</a> nome dos modelos?).  O Modelo 4-71 foi feito no controle de microprogramas, como as primeiras calculadoras da fam√≠lia Iskra, com l√≥gica nas m√°quinas Moore em colabora√ß√£o com o Departamento de Design Especial do Estado de Leningrado.  Ou seja, quando o bot√£o √© pressionado, os acionadores necess√°rios clicam (dependendo da finalidade do bot√£o), que formam a passagem dos microcommandos correspondentes.  Aut√¥matos - isso certamente √© bom, mas voc√™ n√£o ir√° longe em termos de melhoria.  At√© as calculadoras <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Iskra-114</a> do Departamento de Design Especial do Estado em 1974 j√° tinham ROMs K5YAP011001 (presumivelmente a primeira nos microcircuitos de chip-ROM da URSS) com firmware. <br><br>  E assim, em 1973, o NIIMP <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apareceu com o</a> n√∫cleo do microcontrolador de seu pr√≥prio projeto.  Salve esse site por refer√™ncia enquanto estiver vivo - h√° muitas informa√ß√µes interessantes sobre o NIIMP.  O primeiro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">microcalculador B3-09 Electronics</a> no microchip K145IK2A saiu como a ‚Äúprimeira panqueca‚Äù e n√£o se enraizou, mas suas modifica√ß√µes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">B3-09M Electronics</a> , B3-14M e B3-14 dispararam com estrondo, centenas de milhares de pe√ßas foram produzidas anualmente e resolveu o problema de calcular o d√©ficit.  Naqueles anos, n√£o havia calculadoras suficientes de nossa produ√ß√£o e elas eram importadas do exterior, tanto de pa√≠ses socialistas quanto de pa√≠ses capitalistas.  Lembra do filme "Office Romance" em 1977?  Voc√™ pode ver, a partir das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">9:15</a> , quais calculadoras est√£o sobre as mesas - principalmente o transistor GDR "Soemron 220" e o b√∫lgaro "Elka 50" da primeira modifica√ß√£o. <br><br><img src="https://habrastorage.org/webt/e0/jp/p-/e0jpp-xe_5hit_8_wqfxnfahgiy.jpeg"><img src="https://habrastorage.org/webt/jk/9z/qy/jk9zqya4_xnfiv_s6bukqer1r1g.jpeg"><img src="https://habrastorage.org/webt/rn/80/vq/rn80vqiro-wl_8glnx8sxty1_qq.jpeg"><br><br>  Fotografias maiores podem ser vistas no site da Radio Pictures: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">K145IK2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">K145IK501</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">K145IK502P</a> . <br><br>  Estes s√£o cristais dos microcircuitos K145IK2, IK501 e IK502.  Como voc√™ pode ver, os chips de uma calculadora simples com quatro opera√ß√µes aritm√©ticas K145IK2 praticamente coincidem com os chips da calculadora programada "B3-21" (K145IK501, 502 e 503).  Este √∫ltimo difere apenas em "firmware".  O n√∫mero do firmware √© mostrado em uma camada separada ap√≥s o nome. <br><br><img src="https://habrastorage.org/webt/hk/ko/iq/hkkoiqawr0aafrjh6knbckqshny.jpeg"><img src="https://habrastorage.org/webt/hm/pw/2k/hmpw2ktxcjnenw67qsp3bispcq0.jpeg"><br><br><img src="https://habrastorage.org/webt/l-/4y/af/l-4yafqzkcarvfugrzfwgtad-qk.png"><br><br>  E este √© um chip de cristal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">K145IK1302</a> mais avan√ßado, que est√° nas calculadoras program√°veis ‚Äã‚Äãda fam√≠lia "Electronics B3-34", incluindo o "Electronics MK-52", sobre o qual este artigo trata. <br><br>  Tr√™s √°reas s√£o vis√≠veis no centro do chip (marcadas em verde).  Essa √© a mem√≥ria dos microcommandos, a mem√≥ria dos programas de sincroniza√ß√£o e a mem√≥ria do programa.  Amarelo indica registros de deslocamento do anel. <br>  O processador da calculadora opera com uma frequ√™ncia de 75-100 kHz.  O processador possui uma ALU de um bit (dispositivo l√≥gico aritm√©tico) com v√°rias fontes e receptores. <br><br>  Para quatro microtatos, o processador executa um microcontrole (mais de um notebook).  Cada micro comando diz qual conjunto de fontes levar para o somador e onde colocar o resultado. <br>  No total, o microcircuito possui 68 microcommandos com um comprimento de 27 bits cada, 128 programas de sincroniza√ß√£o diferentes e 256 c√©lulas para comandos. <br><br>  O microprocessador da calculadora (seria mais preciso dizer o microcontrolador, porque nele existem portas ROM, RAM e entrada / sa√≠da) funciona de acordo com um princ√≠pio consistente.  Todos os registros s√£o registros de turno. <br><br><img src="https://habrastorage.org/webt/34/_q/2-/34_q2-ye3kkjrf1dqz71vizfhoi.png"><br><br>  Dentro do processador, tudo fica em loop e se assemelha a um parque de divers√µes com carross√©is, uma roda gigante e um √¥nibus ideal para visitantes, com uma porta trabalhando na entrada, a outra na sa√≠da e os visitantes se movendo gradualmente do come√ßo ao fim. <br>  Um funcion√°rio do parque (micro comando), checando com um notebook (campo de micro comando), em cada microtato, extrai (ou n√£o) do carrossel de c√©lulas abordado, roda gigante ou o pr√≥ximo passageiro dos bits do √¥nibus (ou seja, o pr√≥ximo registro), direciona-os para a atra√ß√£o "somador", onde algumas a√ß√µes ocorrem com eles e o resultado √© enviado de volta, tamb√©m dependendo dos campos do microcontrole.  Essa rotina √© v√°lida para 4 bits, ap√≥s o qual o n√∫mero da medida √© incrementado. <br><br>  Como os registros s√£o circulares, os desenvolvedores tiveram que definir seu tamanho corretamente.  Como resultado, o n√∫mero base para calculadoras da fam√≠lia K145IK13 foi o n√∫mero 42. <br><br>  Esse comprimento (42 t√©trades) possui registros seq√ºenciais - registros M, R e ST.  Para n√£o esperar at√© que os n√∫meros necess√°rios avancem ao longo do toque, al√©m disso, existem v√°rios registros de 4 bits e um bit, como o registro de transfer√™ncia dispon√≠vel em cada ciclo do rel√≥gio.  Um n√∫mero com uma mantissa de 8 bits e uma ordem de 2 bits ocupa 14 t√©trades (um ter√ßo de 42).  Exatamente tr√™s n√∫meros entram no registro de toque, o que permite, por exemplo, realizar o registro de mem√≥ria e o armazenamento de dois n√∫meros ao calcular com colchetes, conforme implementado na calculadora "Electronics B3-32" no K145IK1301. <br><br>  Com o n√∫mero 42, a chamada "mem√≥ria dos programas de sincroniza√ß√£o" tamb√©m trabalha muito, que cont√©m os endere√ßos dos microcommandos que devem ser executados. <br><br>  √â chamado de programa de sincroniza√ß√£o porque est√° totalmente sincronizado com o tamanho do registro de toque e o n√∫mero de medida 0-41 - um ciclo de toque. <br><br>  Cada programa de sincroniza√ß√£o cont√©m nove n√∫meros de microcommandos que precisam ser executados. <br>  Os comandos de sincroniza√ß√£o s√£o bem interessantes.  Os desenvolvedores analisaram os algoritmos e calcularam que, levando em conta as transfer√™ncias, uma opera√ß√£o t√≠pica da ULA em um notebook requer tr√™s ciclos de rel√≥gio, e as a√ß√µes executadas s√£o bastante semelhantes.  E eles fizeram isso para que os microcommandos, dependendo do n√∫mero da medida (0-41), sejam sempre executados no hardware na seguinte sequ√™ncia: <br>  0, 1, 2, 3, 4, 5, 3, 4, 5, 3, 4, 5, 3, 4, 5, 3, 4, 5, 3, 4, 5, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5 <br><br><img src="https://habrastorage.org/webt/te/fi/vq/tefivqfqnqwkgnci8vc-dshekwe.png"><br><br>  Marquei em amarelo as mesmas se√ß√µes (microcommandos 3, 4, 5), que s√£o executados sete vezes seguidas.  Isso √© suficiente para processar um n√∫mero de oito d√≠gitos.  De fato, estes s√£o microalgoritmos prontos.  Por um lado, esses loops internos reduzem a capacidade da ROM necess√°ria para o programa, mas, por outro lado, imagine que essa sequ√™ncia sempre seja executada em todas as linhas do programa. <br><br>  Como um tetrad √© processado em tr√™s medidas, os dados nesse per√≠odo conseguem sair em um anel.  Devido a esse recurso, os n√∫meros nos registros de anel n√£o s√£o armazenados em c√©lulas consecutivas, mas em cada ter√ßo, para que eles cheguem a tempo para o final dos ciclos 3, 4, 5. <br><br>  A figura abaixo mostra a √°rea de mem√≥ria do programa.  Na mem√≥ria dos programas em cada um de seus campos, h√° informa√ß√µes sobre tr√™s programas de sincroniza√ß√£o que devem ser executados em um ciclo de toque.  H√° tamb√©m uma nuance de que o terceiro programa de sincroniza√ß√£o geralmente √© usado para todos os tipos de ramifica√ß√µes.  No registrador R, as c√©lulas 36 e 39 s√£o atribu√≠das ao endere√ßo do programa atual sendo executado, elas apenas aparecem nos rel√≥gios correspondentes quando os dois primeiros programas de sincroniza√ß√£o s√£o executados e o terceiro programa de sincroniza√ß√£o est√° processando esse endere√ßo. <br><br>  Obviamente, dentro do microprocessador funciona ainda mais complicado.  Apenas uma descri√ß√£o dele com todas as nuances ocupa mais de uma d√∫zia de p√°ginas do livro Trokhimenko Y.K.  ‚ÄúMicrocalculadores program√°veis.  Dispositivo e uso "(google book). <br><br>  Essa arquitetura com tr√™s n√≠veis de processamento - mem√≥ria de programa com endere√ßos de programas de sincroniza√ß√£o, mem√≥ria de programas de sincroniza√ß√£o com n√∫mero de microcommandos e mem√≥ria de microcommands com um conjunto de fontes e receptores √© a base para toda uma fam√≠lia de microcircuitos K145IK2, K145IK13xx, K145IK18xx e K145IK19xx, apenas com tamanhos de registro diferentes, endere√ßamento e ramifica√ß√£o s√£o feitos para outro e outras melhorias e altera√ß√µes s√£o feitas. <br><br>  E a coisa mais interessante que os desenvolvedores fizeram em 1973 foi que eles trouxeram o c√©rebro do processador para expans√£o.  Quero dizer registros de anel.  Na primeira calculadora de massa B3-09M, a capacidade de registro era suficiente e a expans√£o n√£o era necess√°ria.  Mas e se a atra√ß√£o n√£o for suficiente?  Voc√™ pode aumentar seu tamanho ou colocar outro pr√≥ximo a ele.  Para n√£o aumentar o tamanho da ROM e, portanto, o tamanho do cristal, reduzir o rendimento de cristais adequados no processo de produ√ß√£o e outras dificuldades, os desenvolvedores pegaram v√°rios processadores id√™nticos e fizeram um registro de anel comum. <br><br><img src="https://habrastorage.org/webt/oe/he/u4/oeheu4lgstefrnnvklppifo85ie.jpeg"><img src="https://habrastorage.org/webt/2y/3h/hi/2y3hhizsx2m7ow3goeog5r6dc5u.jpeg"><br><br>  Aqui na fotografia √† esquerda faz parte do cristal K145IK2 e √† direita √© K145IK5.  Voc√™ pode prestar aten√ß√£o no canto superior esquerdo.  J√° no processo de produ√ß√£o, existe um pequeno jumper que fecha duas pastilhas de contato (registro de anel).  E no K145IK5 esse jumper n√£o √© e o registro de an√©is n√£o est√° fechado. <br><br>  Em 1975, apareceram as primeiras amostras da calculadora program√°vel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Electronics B3-21</a> ".  L√° voc√™ pode ver at√© tr√™s processadores do tipo K145IK5 - K145IK501, K145IK502 e K145IK503.  Eles diferem apenas no firmware. <br><br>  O primeiro processador K145IK502 est√° envolvido na entrada e sa√≠da do teclado para o indicador, processando a√ß√µes no modo autom√°tico e no modo de entrada e execu√ß√£o de programas. <br>  K145IK501 est√° envolvido em opera√ß√µes aritm√©ticas e K145IK503 - em opera√ß√µes trigonom√©tricas.  E como tamb√©m era necess√°ria uma capacidade para armazenar o programa do usu√°rio e os registros de mem√≥ria, al√©m da lacuna no mesmo registro, eles colocaram o chip K145IR1, que √© um registro de turno grande.  Como resultado, tr√™s viagens apareceram com tr√™s √¥nibus conectados em s√©rie e um trem.  E todos os dados est√£o constantemente se movendo ao longo de um anel comum com a velocidade de um gerador de rel√≥gio. <br><br>  Gra√ßas a Felix Lazarev, que conseguiu ler o firmware desses microcontroladores e entender a arquitetura, obtivemos um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">emulador de</a> calculadoras como MK-61 e B3-34, onde voc√™ pode estudar seu trabalho com mais detalhes e brincar com a ativa√ß√£o e desativa√ß√£o de chips no anel comum. <br><br>  O primeiro microcalculador da segunda gera√ß√£o " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Electronics B3-34</a> " usou os chips K145IK1302 (entrada / sa√≠da, modos de opera√ß√£o), K145IK1303 (fun√ß√µes matem√°ticas) e dois registros K145IR2 de 1008 bits cada. <br><br><img src="https://habrastorage.org/webt/ro/k9/o7/rok9o7k2pftqfeyc6m-dqmerjps.png"><br><br>  No total, dois registros M e dois registros de 1008 bits formam um anel de 42 * 4 + 42 * 4 + 1008 + 1008 = 2352 bits de tamanho. <br><br>  Os desenvolvedores dividiram o campo de dados inteiro em tr√™s √°reas id√™nticas de 784 bits (196 tetrads ou 98 bytes).  O programa do usu√°rio √© armazenado na primeira √°rea (98 etapas), os dados registrados na segunda √°rea (14 registros com os n√∫meros 0-9, a, b, c, d s√£o 14 t√©trados cada) e a terceira √°rea √© a √°rea de servi√ßo. <br><br>  Alguns anos ap√≥s o surgimento do B3-34, surgiram dois novos modelos - o MK-61 e o MK-52.  Eles adicionaram outro chip K145IK1306, onde s√£o calculadas opera√ß√µes com graus e opera√ß√µes l√≥gicas.  O anel come√ßou a ficar assim: <br><br><img src="https://habrastorage.org/webt/to/8z/1k/to8z1k2pmq0o3rqeb9ad1vlveem.png"><br><br>  Observe que no K145IK1306 existe o mesmo registro M que no K145IK1302 e K145IK1303.  A apar√™ncia desse chip adicionou um registro de mem√≥ria (14 tetrads) ao anel, outras sete etapas do programa (14 tetrads) e a √°rea de servi√ßo aumentou 14 tetrads. <br><br>  No MK-52, h√° tamb√©m um chip K745IK1801, que transfere dados de um chip EEPROM ou de uma unidade de expans√£o de mem√≥ria remov√≠vel.  Mas ele n√£o usa um anel de registro. <br><br>  A discrimina√ß√£o de todo o anel de dados em calculadoras do tipo MK-61 e MK-52 √© mostrada na figura abaixo: <br><br><img src="https://habrastorage.org/webt/gk/gv/rl/gkgvrl6ap8qm-nwjx-ws2b2mw20.png"><br><br>  Como eu disse, todo o anel √© dividido em tr√™s √°reas: M1, M2 e M3. <br><br>  Na regi√£o M1 existem registros de mem√≥ria de 0 a 9, a, b, c, d, e.  O interessante sobre eles √© que, para armazenar n√∫meros, voc√™ precisa de 12 tetrads (1 √© o sinal da mantissa, 8 √© o sinal da mantissa, 3 √© a ordem) e 14 tetrads s√£o alocados para um registro (para que seja dividido em 42 no processador).  Como resultado, dois blocos de anota√ß√µes para cada registro n√£o s√£o usados. <br><br>  Na √°rea de M3 est√° a mem√≥ria do programa.  Tudo √© simples l√° - 98 etapas para B3-34 e 105 etapas (mais 14 tetrads) para MK-61 e MK-52. <br><br>  A √°rea M2 √© a mais interessante.  Al√©m dos registradores X, Y, Z, T, BX, tamb√©m cont√©m a regi√£o Ms, o canal de comunica√ß√£o KS e Label. <br><br>  As √°reas mostradas n√£o se seguem.  Lembre-se, eu disse que no programa de sincroniza√ß√£o existem v√°rias opera√ß√µes repetitivas que levam tr√™s ciclos de clock e fazem com que os n√∫meros nos registros sejam armazenados em cada terceira c√©lula?  √â isso que √© implementado nos dados do anel.  Primeiro, o primeiro t√©trado da regi√£o M1 √© transmitido, depois o primeiro t√©trado da regi√£o M2 e, em seguida, o primeiro t√©trado da regi√£o M3.  Depois v√™m os segundos cadernos e assim por diante.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E enquanto durante tr√™s ciclos de rel√≥gio os microcommandos 3, 4, 5 s√£o trabalhados no programa de sincroniza√ß√£o, √°reas desnecess√°rias s√£o ignoradas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando lidei com a distribui√ß√£o de dados em um anel comum, fiquei muito deprimido pela √°rea designada como Sra. √â bastante grande, ocupando um sexto da √°rea de dados do anel. E esta √°rea n√£o √© usada na calculadora. Ao desenvolver a arquitetura, os desenvolvedores ofereceram a oportunidade de criar uma "√°rea de programa de dados". Essa √© uma √°rea na qual se pode escrever um programa ou registradores de dados. Al√©m disso, uma √°rea bastante grande - 56 etapas do programa. Nas calculadoras, deveria incluir fun√ß√µes especiais em combina√ß√£o com o bot√£o [K] para troca (acima dos bot√µes 1 e 2, agora existe um local vazio). Mas, repito, em modelos seriais essa √°rea desapareceu e, portanto, poder√≠amos ter mais registros de mem√≥ria ou um programa 56 etapas a mais. Esta √°rea foi mencionada casualmente na revista "Technique-Youth", n¬∫ 7 de 1986.</font></font><br><br><img src="https://ic.pics.livejournal.com/avva/111931/119690/119690_original.png" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O elemento mais importante da sincroniza√ß√£o nos dados do anel √© o chamado "Label". Esta √© uma sequ√™ncia de nove cadernos que consistem em unidades. Quando o c√≥digo ‚ÄúTag‚Äù aparece, o contador interno dos processadores √© redefinido e o anel come√ßa a contar em rela√ß√£o ao c√≥digo do Tag. No in√≠cio, depois de ligar a m√°quina, o processador principal K145IK1302 inicializa o anel e forma a marca. Os comandos e o conte√∫do dos registradores s√£o selecionados para que o c√≥digo Label n√£o possa ser encontrado nos dados ou no programa.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usu√°rios avan√ßados de calculadoras da fam√≠lia B3-34 ouviram falar sobre o ‚Äúmanequim‚Äù - uma opera√ß√£o n√£o documentada quando apenas um ponto decimal √© exibido no indicador. Este √© um c√≥digo composto apenas por unidades. Quando esse c√≥digo aparece, o contador interno se desvia e a calculadora come√ßa a surtar - dois c√≥digos aparecem.O r√≥tulo e toda a sincroniza√ß√£o se desvia - a calculadora ocupa uma √°rea de mem√≥ria para outra. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O endere√ßamento interno √© relativo ao c√≥digo da etiqueta. Quando o chip K745IK1306 com um registro adicional M apareceu, o n√∫mero de c√©lulas aumentou e elas foram adicionadas condicionalmente ao final, porque na arquitetura toda a √°rea de dados no anel √© cont√≠nua. Nesta arquitetura, voc√™ pode adicionar outro processador, como o K145IK13, para que ele se torne mais um registro de mem√≥ria e mais 7 etapas do programa ser√£o adicionadas (m√°ximo de 112).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Provavelmente, a representa√ß√£o interna dos dados funciona de maneira semelhante na calculadora n√£o program√°vel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electronics MK-44</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , feita no mesmo microprocessador K145IK1305. Foi uma das calculadoras de desktop mais populares em nosso pa√≠s. Possui tr√™s registradores de mem√≥ria. Imaginei o que aconteceria se eu arrancasse o anel do registrador que M trouxesse e acrescentasse mem√≥ria l√°. O experimento foi um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sucesso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O processador "pegou" a mem√≥ria exibida e havia dez registros de mem√≥ria na calculadora.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E como os processadores interagem entre si? Eles ‚Äúse comunicam‚Äù com um campo especial chamado ‚Äúcanal de comunica√ß√£o‚Äù (CS). As calculadoras da fam√≠lia B3-21 e as calculadoras da fam√≠lia B3-34 possuem um processador principal. No nosso caso, √© K145IK502 para B3-21 e K145IK1302 para B3-34. Eles inicializam o toque quando ativados, formam o c√≥digo de "etiqueta" e interagem com o operador, organizando a entrada e sa√≠da do teclado no indicador. Outros processadores est√£o no modo de espera e aguardando comandos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um ‚Äúcanal de comunica√ß√£o‚Äù s√£o dois notebooks nos quais o processador principal pode inserir um n√∫mero - um byte com um c√≥digo de opera√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se o processador principal n√£o puder processar a opera√ß√£o com nenhum c√≥digo sozinho ao trabalhar no programa ou no modo manual, ele colocar√° o c√≥digo de opera√ß√£o no registro da caixa de anel do anel e come√ßar√° a aguardar.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os processadores escravos monitoram constantemente o registro do COP no anel de dados. Assim que aparece um c√≥digo de opera√ß√£o que pode ser processado pelo processador escravo, ele come√ßa a process√°-lo, por exemplo, executa a fun√ß√£o de adi√ß√£o, calcula o seno, etc. O processador escravo extrai independentemente os registros necess√°rios do anel quando ele chega a um anel, torna-os opera√ß√µes e o resultado √© adiado. Depois que o processador executa suas a√ß√µes, ele limpa o registro do canal de comunica√ß√£o, substituindo o notebook mais baixo pelo n√∫mero "F". Ou seja, se o n√∫mero 10 aparecer no canal de comunica√ß√£o (c√≥digo de adi√ß√£o), no final da contagem, o n√∫mero 1F ser√° gravado no registro do COP.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simultaneamente com o c√≥digo de opera√ß√£o definido no canal de comunica√ß√£o, um contador especial de espera, como um temporizador de vigil√¢ncia, √© ativado no chip principal. Se nenhum processador escravo puder processar o comando pelo canal de comunica√ß√£o, depois de um certo tempo o processador host limpar√° o canal de comunica√ß√£o e exibir√° uma mensagem de erro ‚ÄúYYGOG‚Äù no indicador. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os chips escravos usam esse tempo limite se ocorrer um erro com um n√∫mero durante o processo de c√°lculo. Por exemplo, um usu√°rio tentou extrair uma raiz de um n√∫mero negativo. Nesse caso, o chip escravo n√£o coloca nada no canal de comunica√ß√£o e, ap√≥s alguns segundos, o pr√≥prio processador host exibe uma mensagem de erro. Portanto, nas calculadoras, a sa√≠da da inscri√ß√£o "EGGOG" com esses erros levou muito tempo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O processador principal pode n√£o saber o que outros processadores est√£o no ringue. Ele apenas coloca o c√≥digo no canal de comunica√ß√£o e outros processadores o processam. Voc√™ pode, por exemplo, substituir o chip K745IK1306 por outro ou fazer seu desenvolvimento com base em um microcontrolador, como fez nos tempos sovi√©ticos na calculadora </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eletr√¥nica MS-1104</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m do barramento de dados seriais, as calculadoras do tipo ‚ÄúMK-52 Electronics‚Äù possuem uma interface com EEPROM e m√≥dulos de expans√£o de mem√≥ria externa. Como escrevi acima, o MK-52 possui um chip de mem√≥ria eletricamente apag√°vel K1601PP1, no qual √© poss√≠vel escrever at√© 512 etapas do programa. Em vez da mem√≥ria do programa, os registros num√©ricos da mem√≥ria podem ser salvos. O que escrever - programa mem√≥ria ou registradores, √© determinado pela chave "D-P" no painel frontal. As mesmas √°reas na EEPROM podem ser usadas tanto para o armazenamento do programa quanto para o armazenamento do registro. Voc√™ pode gravar registros na EEPROM, e os dados gravados podem ser extra√≠dos para a √°rea do programa e vice-versa. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipo de calculadora no lado do microcircuito </font></font><br><br><img src="https://habrastorage.org/webt/uf/eu/08/ufeu08qq7pbb8bpujig9xdc2b5u.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Microcircuitos grandes </font><font style="vertical-align: inherit;">:</font></font><br><br><img src="https://habrastorage.org/webt/ej/lm/lt/ejlmltirchwrplmywaxht0q0bac.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m da EEPROM interna, tamb√©m foram produzidos m√≥dulos de mem√≥ria intercambi√°veis ‚Äã‚Äã"PDUs" (unidades de expans√£o de mem√≥ria). </font><font style="vertical-align: inherit;">Eles s√£o um chip ROM onde os programas s√£o gravados. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total de m√≥dulos conhecidos:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDU "Astro", tamb√©m conhecido como BRP-2 - programas de navega√ß√£o. </font><font style="vertical-align: inherit;">O m√≥dulo foi usado em navios, que escrevi no in√≠cio do artigo.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O BRP-3 continha programas matem√°ticos </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> BRP-4 - programas matem√°ticos e programas dom√©sticos, incluindo jogos. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As ROMs eram uma quantidade bastante grande e, em uma PDU, os programas eram realmente de dois m√≥dulos. Ou seja, os propriet√°rios do m√≥dulo BRP-3 poderiam abrir o gabinete, soldar o jumper e obter o m√≥dulo BRP-2 Astro. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">li os</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> despejos, encontrei um despejo de um m√≥dulo de destino desconhecido no m√≥dulo BRP-4. Ainda n√£o h√° informa√ß√µes sobre como usar esses dumps. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O chip de comunica√ß√£o com EEPROM ou PDU K745IK1801 √© bastante independente. Ela tamb√©m senta no anel da calculadora, mas n√£o rastreia os comandos. Ele lembra apenas o conte√∫do do registro X como o endere√ßo e o comprimento do acesso √† ROM ou EEPROM pressionando o bot√£o [A ‚Üë] e pressionando o bot√£o [‚Üë ‚Üì], ele come√ßa a apagar, ler ou gravar a partir da √°rea de programa ou dados.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em rela√ß√£o √† ROM da PDU, o endere√ßo no c√≥digo paralelo √© sempre definido no barramento e a PDU sempre fornece o conte√∫do da c√©lula. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O m√≥dulo PDU √© inserido no soquete correspondente na parte traseira da calculadora MK-52. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certamente, todo usu√°rio do MK-52, depois de comprar uma calculadora, viu dois conectores na parte de tr√°s do gabinete - grandes para PDU e pequenos, n√£o est√° claro o porqu√™. Nas instru√ß√µes e nas revistas, os desenvolvedores explicaram que esse conector √© usado apenas para fins tecnol√≥gicos na fase de produ√ß√£o. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Talvez tenham sido produzidas algumas modifica√ß√µes n√£o seriais da calculadora MK-52, mas eu n√£o as ouvi falar. Todo o tempo eu queria desenvolver algum tipo de dispositivo que pudesse se encaixar naquele conector e us√°-lo no trabalho. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ se voltar para o </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conceito</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na calculadora, voc√™ pode ver que, al√©m das tens√µes de alimenta√ß√£o e dos sinais do rel√≥gio, os sinais do anel retirados da entrada e da sa√≠da do chip K745IK1801 tamb√©m s√£o emitidos para o conector. Para se infiltrar e gravar algo no ringue, foi necess√°rio quebr√°-lo. Evidentemente, mudar alguma coisa no esquema MK-52 √© a op√ß√£o mais recente. Mas aconteceu que o sinal de sa√≠da do anel do chip K745IK1801 √© fraco. Provavelmente, est√° um pouco apertado em uma das tens√µes de alimenta√ß√£o e pode ser sobrecarregado livremente com seu sinal. Ent√£o eu fiz. O microcontrolador monitora o anel MK-52, analisa e pode ler e gravar dados. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, temos um dispositivo - o m√≥dulo FRS-BRP. Aqui est√° um diagrama esquem√°tico:</font></font><br><br><img src="https://habrastorage.org/webt/iz/d8/dm/izd8dmuq-h3l18av6dkhgazjg24.png" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O n√∫cleo do m√≥dulo √© o microcontrolador STM32F205. Ele interrompe a partir do gerador de frequ√™ncia interno da calculadora que l√™ pouco a pouco os dados transmitidos ao longo do anel. Monitora simultaneamente o barramento paralelo para emular a unidade de expans√£o de mem√≥ria. Um grande n√∫mero de comparadores √© necess√°rio para a detec√ß√£o correta dos n√≠veis l√≥gicos. O fato √© que a calculadora usa uma voltagem negativa de 0 a -15 volts. Essa tens√£o √© gerada a partir de uma fonte de energia de 5 volts. A placa tamb√©m precisava usar essas tens√µes, mas n√£o apenas para -15 volts, mas para -5 e -3,3. Como resultado, a voltagem de 0 volts na calculadora na placa FRS-SRP passou a +5 volts e a voltagem de -5 volts tornou-se zero. Nos comparadores, tudo pode ser bem filtrado, existem muitos, mas agora s√£o muito baratos. Basicamentecomparadores est√£o envolvidos na decodifica√ß√£o de sinais do barramento paralelo do emulador de PDU. Obviamente, a pr√≥pria PDU pode ser emulada enviando dados diretamente para o anel. Mas, por autenticidade, para que o usu√°rio pressione os bot√µes "mesmos" descritos nas instru√ß√µes da PDU, decidi criar um emulador completo.</font></font><br><br><img src="https://habrastorage.org/webt/bt/rc/7w/btrc7wt65gu7wz7oeov-ftk2cnk.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora, poucas pessoas usar√£o a calculadora MK-52 para a finalidade a que se destina. </font><font style="vertical-align: inherit;">Existem meios mais eficientes de computa√ß√£o. </font><font style="vertical-align: inherit;">Mas para os entusiastas, para aqueles que querem lidar com sua estrutura interna, que desejam usar programas comprovados ou aqueles que desejam jogar aqueles jogos que enlouqueceram os usu√°rios de meados da d√©cada de 1980, esse m√≥dulo pode ser √∫til. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que este m√≥dulo pode fazer:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ele √© exibido na tela OLED do conte√∫do para selecionar dois registros da calculadora RAM (0-9, A, B, C, D, E) ao mesmo tempo. </font><font style="vertical-align: inherit;">No modo de conta de programa, quando a tela principal da calculadora pisca, voc√™ pode clicar nos bot√µes do m√≥dulo para visualizar os registros.</font></font></li><li>  ()  -, -3, -4, -5         ( -5  ,         ). </li><li>     (105 )         1  130. </li><li>         130    (105 ). </li><li>   . 3, 4      (0-9, A, B, C, D, E)  130 . </li><li>     ,     (,    )  50 . </li><li>     (¬´-1¬ª, ¬´-2¬ª, ¬´-3¬ª, ¬´-1¬ª, ¬´-2¬ª, ¬´¬ª). </li><li>       7451303      ,   ,      . ,   7451303      ,  ¬´  ¬ª,       ,       . </li><li>            0x28 (K *)  0x29 ( /). </li></ol><br>  Como escrevi acima, o c√≥digo de opera√ß√£o √© transmitido pelo canal de comunica√ß√£o.  Agora, quase todos os c√≥digos est√£o ocupados e apenas tr√™s comandos n√£o utilizados podem ser inseridos no controle remoto - c√≥digos 27, 28 e 29. Em princ√≠pio, s√£o suficientes para algumas tarefas.  Embora eu n√£o saiba quais comandos podem ser implementados porque a calculadora para a finalidade pretendida n√£o √© mais um bolo, mas o fato do processamento √© fascinante. <br><br>  Bem, e √© claro - comunica√ß√£o com um computador via USB.  O m√≥dulo implementa comandos simples de di√°logo, voc√™ pode ler e escrever o conte√∫do dos dados, programa, √°reas de servi√ßo ou todo o anel.  Ele pode ser salvo em disco, extra√≠do, analisado, modificado e gravado em uma calculadora.  Aqui est√° uma captura de tela: <br><br><img src="https://habrastorage.org/webt/mh/2v/dr/mh2vdrtvnwjlxx1oxcdff0k4yu4.jpeg" alt="imagem"><br><br>  Voc√™ pode, por exemplo, colocar algum n√∫mero no canal de comunica√ß√£o e ver como ser√° processado por outros chips.  Ou descubra o que acontece se alguma c√©lula de servi√ßo for escrita de maneira diferente.  Ou verifique se √© poss√≠vel remover a calculadora do estado "escuro", se o registro X for corrigido atrav√©s do m√≥dulo atrav√©s do m√≥dulo, digamos, de 500 a 0, ser√° retirado do estupor? <br><br>  Infelizmente, apenas um anel de dados sai da calculadora.  E outros estados, como um contador de software, um sinal - se a calculadora est√° calculando de acordo com o programa ou exibido no indicador, e assim por diante - essas informa√ß√µes ficam no registro interno R. <br><br>  Mas os desenvolvedores o trouxeram para fora.  Se voc√™ observar o circuito do mesmo MK-52, poder√° ver que h√° um "certo jumper" - √© a sa√≠da e a entrada do registro "R".  Ou seja, se desejar, voc√™ pode conectar-se a esse barramento e examinar mais cuidadosamente seu interior. <br><br>  Tais registros deduzidos provavelmente est√£o em todos os microcircuitos das fam√≠lias K145IK5, K145IK13, K145IK18 e at√© K145IK19.  O famoso microcircuito de rel√≥gio ‚ÄúK145IK1901‚Äù tamb√©m traz os registros M e R. Voc√™ pode ter certeza de observar o diagrama de circuitos. <br><br><img src="https://habrastorage.org/webt/1v/tk/ii/1vtkiidwo6z6ay_prbanbj-yh5q.png"><br><br>  At√© experimentei at√© me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conectar</a> aos registros no rel√≥gio no K145IK1901 e levei para onde ele tinha os dados. <br><br>  Na conclus√£o do artigo, direi que a fam√≠lia de microcontroladores mencionada era muito popular no CCCP, um grande n√∫mero de calculadoras - modelos foram lan√ßados em sua base: <br><br><ul><li>  K145IK2 - B3-09, B3-09M, B3-14, B3-14M; </li><li>  K145IK5xx - B3-05M, B3-21, MK-46, MK-64, MS-1103, MK-59, Elwro 330; </li><li>  K145IK13xx - B3-32, MK-44, B3-34, MK-54, MK-56, MK-52, MK-61, MS-1104. </li></ul><br>  Nos microcircuitos das s√©ries K145IK18xx e K145IK19xx - os eletrodom√©sticos, dos conhecidos, s√£o temporizadores para microondas, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">rel√≥gios</a> , cron√¥metros para fotografia, controladores de fita em gravadores e muito mais. <br><br>  Isso √© tudo que eu queria dizer.  Espero que tenha sido interessante.  Obrigado pela aten√ß√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt467501/">https://habr.com/ru/post/pt467501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt467489/index.html">S√£o vari√°veis ‚Äã‚Äãest√°ticas estranhas no PHP</a></li>
<li><a href="../pt467493/index.html">Como se tornar menos acess√≠vel a um invasor em potencial na Internet. Experi√™ncia pessoal e observa√ß√µes</a></li>
<li><a href="../pt467495/index.html">Os custos do rel√© tor</a></li>
<li><a href="../pt467497/index.html">Ladr√µes usam deepfakes para induzir as empresas a enviar dinheiro para si mesmas</a></li>
<li><a href="../pt467499/index.html">Not√≠cias do mundo do OpenStreetMap n¬∫ 476 (28.08.2019 - 02.09.2019)</a></li>
<li><a href="../pt467503/index.html">Aceleramos o Google PageSpeed ‚Äã‚Äãpara 100 e mais</a></li>
<li><a href="../pt467511/index.html">AudioSwitcher - automa√ß√£o do que parece n√£o ser necess√°rio automatizar</a></li>
<li><a href="../pt467517/index.html">O resumo de materiais interessantes para o desenvolvedor m√≥vel n¬∫ 315 (de 9 a 15 de setembro)</a></li>
<li><a href="../pt467523/index.html">Como implementamos a arquitetura de RIBs. Relat√≥rio Yandex.Taxi</a></li>
<li><a href="../pt467529/index.html">O CQM √© uma apar√™ncia diferente no aprendizado profundo para otimizar as pesquisas em idiomas naturais</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>