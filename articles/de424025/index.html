<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÆ üïπÔ∏è üôçüèΩ Routing in einer gro√üen React-Anwendung üåßÔ∏è üëßüèæ üìΩÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo, mein Name ist Boris Shabanov , ich bin Leiter der Frontend-Entwicklung in der Abteilung f√ºr die Entwicklung von Werbetechnologien der Rambler-G...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Routing in einer gro√üen React-Anwendung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rambler-co/blog/424025/"><p><img src="https://habrastorage.org/webt/pr/np/_c/prnp_cneekytok4bsoqecymzwvc.png"></p><br><p>  Hallo, mein Name ist <a href="">Boris Shabanov</a> , ich bin Leiter der Frontend-Entwicklung in der Abteilung f√ºr die Entwicklung von Werbetechnologien der Rambler-Gruppe.  Heute werde ich Ihnen erz√§hlen, wie Routing-Probleme in unserer Anwendung aufgetreten sind und wie wir sie gel√∂st haben. </p><a name="habracut"></a><br><p>  Advertising Technologies ist eine gro√üe Abteilung in der Rambler Group, die einen vollst√§ndigen Stapel von Werbetechnologien (SSP, DMP, DSP) implementiert.  F√ºr Endbenutzer, n√§mlich Werbetreibende und Agenturen, bieten wir eine praktische Oberfl√§che namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Summer</a> , √ºber die sie ihre Werbekampagnen starten, Statistiken √ºber sie anzeigen und alles verwalten k√∂nnen. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/EHraWkga6pI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sommer-</a> Oberfl√§che besteht aus einer Reihe von Bildschirmen, Formulare, die durch Links miteinander verbunden sind.  An einem Ort kann der Benutzer mit wenigen Klicks die Informationen finden, die er ben√∂tigt. </p><br><p><img src="https://habrastorage.org/webt/rm/fo/ai/rmfoaiddlwgewsqulpci8ljjt6y.png"></p><br><p>  Nach mehreren Jahren des Betriebs wurden die Projektanforderungen ernster und wir erkannten, dass wir dies beheben mussten.  Da das Projekt von Anfang an auf React basierte, haben wir die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React Create App</a> als Grundlage f√ºr die neue Version verwendet.  Und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GraphQL</a> - f√ºr die Interaktion mit dem Server, n√§mlich - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Apollo-Client</a> .  Dar√ºber hinaus verf√ºgt die Abteilung √ºber viel Fachwissen. </p><br><p>  Aber wir hatten eine Frage, und was kann verwendet werden, um unsere Bewerbung weiterzuleiten?  Wir haben bei Google nach einer L√∂sung mit den Worten "Reagieren" und "Router" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gesucht</a> . Auf den ersten f√ºnf Seiten haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lediglich</a> einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React Router gefunden</a> .  "Na gut ..." - wir dachten, kluge Leute empfehlen, wir m√ºssen nehmen.  Nach kurzer Zeit wurden die Fragen nicht weniger.  Nehmen Sie zum Beispiel ein einfaches Beispiel f√ºr die Verwendung eines React-Routers: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { BrowserRouter <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Router, Route, Link } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-router-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ParamsExample = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ( &lt;Router&gt; &lt;div&gt; &lt;h2&gt;Accounts&lt;/h2&gt; &lt;ul&gt; &lt;li&gt; &lt;Link to="/netflix"&gt;Netflix&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to="/zillow-group"&gt;Zillow Group&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to="/yahoo"&gt;Yahoo&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to="/modus-create"&gt;Modus Create&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; &lt;Route path="/:id" component={Child} /&gt; &lt;Route path="/order/:direction" component={ComponentWithRegex} /&gt; &lt;/div&gt; &lt;/Router&gt; );</code> </pre> <br><p>  Fragen stellen sich: </p><br><ul><li>  Was ist mit einer URL mit vielen Parametern? </li><li>  Was kann ich tun, wenn der Produktmanager eintrifft und mich auffordert, die Seiten-URL in eine "freundlichere" zu √§ndern?  "Carpet Commit" w√§hrend des gesamten Projekts will das nicht wirklich. </li></ul><br><p>  W√§hrend des Entwicklungsprozesses begannen wir zu √ºberlegen und nach L√∂sungen zu suchen, aber gleichzeitig lebten wir noch auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React-Router</a> . </p><br><p>  Im n√§chsten Sprint haben wir den Abschnitt "Hilfe" zur Arbeit genommen.  Keine komplizierte Seite, und innerhalb weniger Stunden haben wir es geschafft. </p><br><p>  Der springende Punkt ist jedoch, dass "Hilfe" ein solcher Abschnitt ist, auf den alle anderen Seiten verweisen, und es gibt viele Links dazu.  Und der Link zu jeder Antwort wird dynamisch generiert.  F√ºr uns war dies ein weiterer Grund, √ºber einen Routerwechsel nachzudenken. </p><br><p>  Nach umfangreichen Recherchen im Internet haben wir eine akzeptable L√∂sung gefunden - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Router5</a> . </p><br><p><img src="https://habrastorage.org/webt/jq/bw/rf/jqbwrfmcijvkyex5f4z-ezohlgm.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Router5</a> ist eine Bibliothek, die nichts mit React zu tun hat. Sie k√∂nnen sie mit Angular, mit jQuery und mit allem verwenden.  Es ist gleich zu erw√§hnen, dass Router5 keine Fortsetzung von React-Router @ 4 ist. Es handelt sich um zwei verschiedene Dinge, die von verschiedenen Personen entwickelt wurden und in keiner Weise miteinander verbunden sind. </p><br><p>  Dementsprechend haben wir bei der Auswahl einer Bibliothek untersucht, wie beliebt sie ist und ob es √ºberhaupt Sinn macht, sie zu verwenden.  Wenn Sie mit der Anzahl der Sterne auf Github vergleichen, dann ist der Vorteil gegen√ºber React-Router. </p><br><p><img src="https://habrastorage.org/webt/7m/h2/ix/7mh2ixjpk8g7_2wjes8ul5bjfme.png"></p><br><p>  Aber wir haben beschlossen, ein Risiko einzugehen.  Wir haben uns angesehen, wie das Projekt lebt, ob jemand an seiner Entwicklung beteiligt ist, haben gesehen, dass Menschen neue Dinge dazu bringen, und das Projekt ist sehr lebendig. </p><br><p><img src="https://habrastorage.org/webt/u-/ri/re/u-rire3ft8vtbefp3mjxxofahqc.png"></p><br><p>  Aus der Dokumentation k√∂nnen Sie herausfinden, dass er eine Reihe von Integrationen mit verschiedenen Frameworks und Bibliotheken hat.  In der Dokumentation wird insbesondere die Integration mit React und Redux beschrieben. Wenn Sie jedoch gut suchen, finden Sie dort Beispiele mit mobX. </p><br><p><img src="https://habrastorage.org/webt/qg/wt/zu/qgwtzu6z5iqk4i0pg3hzbixaysi.png"></p><br><p>  Wie werden Schnittstellen erstellt und wie werden Router in Router5 erstellt? <br>  Die Geschichte ist hier dieselbe wie im React-Router: Jede Route ist ein Container f√ºr ihre Kinder. </p><br><p>  Angenommen, Sie haben eine Website, die aus einer Zielseite besteht (wir haben sie zu Hause), und es gibt ein bestimmtes Admin-Panel, das aus zwei Abschnitten besteht - einer Liste der Benutzer und einer Liste der Gruppen dieser Benutzer.  Wir k√∂nnen dies alles so konfigurieren, dass unser Home-Bereich wie eine Landing Page aussieht.  Ferner wird der Admin-Abschnitt einen Wrapper f√ºr alle seine untergeordneten Seiten und Elemente haben, d. H.  besteht zum Beispiel aus einer Fu√üzeile und einer Kopfzeile.  Alle Unterseiten, die sich bereits im Administrationsbereich befinden, werden in diese Fu√üzeile und Kopfzeile umgewandelt. </p><br><p><img src="https://habrastorage.org/webt/gm/kf/vr/gmkfvrqrig1heus36hgikbyfpqk.png"></p><br><p>  F√ºr eine solche Site lautet die Router5-Konfiguration wie folgt: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> createRouter <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'router5'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> browserPlugin <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'router5/plugins/browser'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routes = [ { <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">'home'</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">'admin'</span></span>, <span class="hljs-attr"><span class="hljs-attr">children</span></span> : [ { <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">'roles'</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">'users'</span></span>, }, ] }, ]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> options = { <span class="hljs-attr"><span class="hljs-attr">defaultRoute</span></span>: <span class="hljs-string"><span class="hljs-string">'home'</span></span>, <span class="hljs-comment"><span class="hljs-comment">// ... }; const router = createRouter(routes, options) .usePlugin(browserPlugin()); router.start();</span></span></code> </pre> <br><p>  Im Beispiel haben wir eine einfache Option, aber tats√§chlich k√∂nnen Sie viel mehr aus der Dokumentation lernen und ein bequemeres Format f√ºr sich selbst ausw√§hlen. </p><br><p>  Wie ich bereits sagte, verwenden wir React f√ºr unsere Projekte in der Abteilung, daher werde ich weiterhin √ºber React sprechen und Beispiele zeigen.  Das folgende Codebeispiel zeigt, wie ein Projekt mit Router @ 5 ausgel√∂st wird. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// app.js import ReactDOM from 'react-dom' import React from 'react' import App from './App' import { RouterProvider } from 'react-router5' import createRouter from './create-router' const router = createRouter() router.start(() =&gt; { ReactDOM.render(( &lt;RouterProvider router={router}&gt; &lt;App /&gt; &lt;/RouterProvider&gt; ), document.getElementById('root')) })</span></span></code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Main.js import React from 'react' import { routeNode } from 'react-router5' import { UserView, UserList, NotFound } from './components'‚Äã function Users(props) { const { previousRoute, route } = props‚Äã switch (route.name) { case 'users.list': return &lt;UserList /&gt; case 'users.view': return &lt;UserView /&gt; default: return &lt;NotFound /&gt; } }‚Äã export default routeNode('users')(Users)</span></span></code> </pre> <br><p>  Weiter interessanter.  Was uns gefallen hat und sehr elegant in das Projekt passt, ist, wie √úberg√§nge gemacht werden.  Angenommen, wir haben eine Site mit der oben beschriebenen Struktur.  Und unser Benutzer m√∂chte von der Zielseite zum Abschnitt "Benutzerliste" wechseln.  Was macht router5 in diesem Fall?  Zun√§chst wird der Home-Bereich deaktiviert und die entsprechenden Ereignisse ausgel√∂st.  Ereignisse k√∂nnen sowohl in der Route selbst als auch in der Middleware verarbeitet werden, wo alle diese √úberg√§nge verarbeitet werden k√∂nnen.  Als N√§chstes werden Aktivierungsereignisse f√ºr die Routen admin und admin.users generiert. </p><br><p><img src="https://habrastorage.org/webt/vj/tg/6v/vjtg6vnbobwni0wffjv4rkrkyja.png"></p><br><p>  In unserer Anwendung wird die gesamte Middleware an einem Ort gesammelt.  Hierbei handelt es sich um Middleware, die f√ºr das Laden der Komponenten (wir versuchen, die Anwendung in Teile zu schneiden und die Teile zu laden, die der Benutzer jetzt ben√∂tigt), die Lokalisierung, das Abrufen von Daten vom Server, das √úberpr√ºfen der Zugriffsrechte und das Sammeln von √úbergangsanalysen verantwortlich ist.  Infolgedessen denken Entwickler nicht einmal dar√ºber nach, wie sie Daten empfangen, Berechtigungen √ºberpr√ºfen und was auf dem Bildschirm angezeigt werden soll.  Sie machen den n√§chsten Abschnitt und Router5 l√∂st alle Probleme. </p><br><p>  Ein weiteres Problem, das wir ein f√ºr alle Mal l√∂sen wollten, ist das Laden der Anwendung, aufgeteilt in verschiedene Teile.  Meiner Meinung nach √§hnelt das Herunterladen einer Anwendung mit React-Router den Abenteuern von Hedgehog im Nebel.  Wenn Sie in jeder Phase einige Teile und Daten laden, ist Ihre Anwendung nicht immun gegen Fehler beim Empfangen von Daten vom Server.  In diesem Fall m√ºssen Ihre Designer den Status der Bildschirme f√ºr jede Notsituation ermitteln.  Es scheint, dass an dieser Stelle die Wahrscheinlichkeit eines Entwicklerfehlers hoch ist (er kann es einfach vergessen), und diese Risiken sollten minimiert werden. </p><br><p>  In Router5 wurde dies durch die Tatsache entschieden, dass jeder √úbergang transaktional ausgef√ºhrt wird und die √Ñnderung des visuellen Teils erst dann erfolgt, wenn die gesamte Middleware ausgearbeitet wurde und der Router davon √ºberzeugt ist, dass unsere Anwendung das ziehen kann, was wir wollen.  Dieser Ansatz hat seine Vor- und Nachteile, aber in unserem Fall gab es mehr Vor- und Nachteile.  Das Problem mit der Ladeanzeige wird sofort behoben.  Unsere Anwendung verwendet eine Download-Anzeige, die vom Router gesteuert wird. </p><br><p>  Leider wurde die Arbeit mit Middleware vor etwa 3 oder 4 Monaten in der Dokumentation nicht vollst√§ndig offengelegt.  Wir haben uns jedoch mit Problemen befasst und ein gro√üartiges <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beispiel gefunden, das</a> zeigt, wie eine Anwendung mit React, Redux und Router5 bereitgestellt und erstellt wird. </p><br><p>  Jede der URLs unserer Anwendung speichert einen bestimmten Datensatz, den wir zum Anzeigen von Daten ben√∂tigen (Bezeichner, zus√§tzliche Datenfilteroptionen usw.).  Die Serialisierung und Deserialisierung dieser Parameter von der URL zu Router5 und umgekehrt sieht nicht √ºbernat√ºrlich aus, ist es aber. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'help'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/help*slugs'</span></span>, <span class="hljs-attr"><span class="hljs-attr">loadComponent</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'./index'</span></span>), <span class="hljs-attr"><span class="hljs-attr">encodeParams</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ slugs }</span></span></span><span class="hljs-function">) =&gt;</span></span> slugs.join(<span class="hljs-string"><span class="hljs-string">'/'</span></span>), <span class="hljs-attr"><span class="hljs-attr">decodeParams</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ slugs }</span></span></span><span class="hljs-function">) =&gt;</span></span> slugs.split(<span class="hljs-string"><span class="hljs-string">'/'</span></span>),, <span class="hljs-attr"><span class="hljs-attr">defaultParams</span></span>: { <span class="hljs-attr"><span class="hljs-attr">slugs</span></span>: [], }, };</code> </pre> <br><p>  F√ºr unser Projekt war dies ein wichtiger Parameter f√ºr die Auswahl eines Routers, da unsere Anwendung viele Filter und Popups enth√§lt.  Und es sollte in der URL angezeigt werden, dass der Benutzer jetzt auf dem Bildschirm sieht.  Wenn der Benutzer seinem Kollegen etwas zeigen m√∂chte, fummelt er einfach an der URL in der Adressleiste seines Browsers herum. </p><br><p>  Das Folgende sind grundlegende Beispiele: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> router = router5([ { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'admin'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/admin'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'admin.users'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'~//users?param1'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'admin.user'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'^/user/:id'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'help'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'^/help/*splat'</span></span> } ]); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(router.buildPath(<span class="hljs-string"><span class="hljs-string">'admin'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// '/admin' console.log(router.buildPath('admin.users'); // '/users' console.log(router.buildPath('admin.users', { param1: true })); // '/users?param1=true' console.log(router.buildPath('admin.users', { id: 100 })); // '/user/100' console.log(router.buildPath('admin.user', { id: 100 })); // '/user/100' console.log(router.buildPath('help', { splat: [1, 2, 3] })); // '/help/1/2/3'</span></span></code> </pre> <br><p>  In der React-Komponente erfolgt die Linkbildung wie folgt: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Link } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-router5'</span></span>‚Äã <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Menu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Link</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">routeName</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"home"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Home</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Link</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Link</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">routeName</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"about"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">About</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Link</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Link</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">routeName</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"user"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">routeParams</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">100</span></span></span></span><span class="xml"><span class="hljs-tag"> }}&gt;</span></span></span><span class="xml">User #100</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Link</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) }‚Äã <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Menu</code> </pre> <br><p>  Beim Erstellen einfacher Sites, die aus 3-4 Seiten mit einer Mindestanzahl von √úberg√§ngen bestehen, verwende ich nicht Router5, sondern React-Router.  Aber in Projekten mit vielen Seiten und Links werde ich mich f√ºr Router5 entscheiden. </p><br><p>  Sie k√∂nnen sich hier auch ein Video meiner Leistung auf RamblerFront &amp; # 5 ansehen: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/UJhERI_fr_8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  PS In der ersten Oktoberh√§lfte 2018 planen wir die n√§chste RamblerFront &amp; # 6.  Folgen Sie der Ank√ºndigung hier auf habr.com. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de424025/">https://habr.com/ru/post/de424025/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de424015/index.html">Auf beiden Seiten der Barrikade: √úber die Einstellung von Entwicklern mobiler Apps</a></li>
<li><a href="../de424017/index.html">Den Komplex durchbrechen: eine Roadmap f√ºr eine effektive Zusammenarbeit</a></li>
<li><a href="../de424019/index.html">Alter Computer, Windows 7, 1 GB RAM, Firefox und das Internet</a></li>
<li><a href="../de424021/index.html">Herausforderungen der selbstlernenden Programmierung und wie man sie bew√§ltigt</a></li>
<li><a href="../de424023/index.html">Wir automatisieren die Montage von iOS-Anwendungen mit Fastlane</a></li>
<li><a href="../de424027/index.html">Lernen Sie kontroverse Taktiken, Techniken und allgemeines Wissen (ATT @ CK). Unternehmenstaktik. Teil 2</a></li>
<li><a href="../de424029/index.html">Und wieder √ºber Faulheit</a></li>
<li><a href="../de424031/index.html">Reaktive Programmierung mit JAX-RS</a></li>
<li><a href="../de424033/index.html">Was macht Kotlin: ein Interview mit Andrei Breslav</a></li>
<li><a href="../de424035/index.html">2019 ist das Jahr, in dem Intel aufgeh√∂rt hat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>