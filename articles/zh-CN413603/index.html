<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©â€ğŸ¤ ğŸ™ŒğŸ¾ ğŸšµğŸ¾ Uberä¸­çš„ä»£ç ç”Ÿæˆ ğŸŒ² ğŸŒˆ â˜•ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘ä»¬æ¯ä¸ªäººéƒ½åšå®¶åŠ¡ã€‚ æ¯ä¸ªäººéƒ½ç¼–å†™æ ·æ¿ä»£ç ã€‚ æ€ä¹ˆäº† è‡ªåŠ¨åŒ–æ­¤è¿‡ç¨‹å¹¶ä»…æ‰§è¡Œæœ‰è¶£çš„ä»»åŠ¡ä¸æ˜¯æ›´å¥½å—ï¼Ÿ å¦‚æœæ‚¨å¸Œæœ›è®¡ç®—æœºä¸ºæ‚¨å®Œæˆæ­¤ç±»å·¥ä½œï¼Œè¯·é˜…è¯»æœ¬æ–‡ã€‚ 

  

 æœ¬æ–‡åŸºäºUberç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜Zack Sweersåœ¨2017å¹´MBLT DEVä¼šè®®ä¸Šå‘è¡¨çš„æŠ¥å‘Šçš„ç¬”å½• ã€‚ 
 
 Uberæ‹¥æœ‰å¤§çº¦3...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Uberä¸­çš„ä»£ç ç”Ÿæˆ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/e-Legion/blog/413603/"> æˆ‘ä»¬æ¯ä¸ªäººéƒ½åšå®¶åŠ¡ã€‚ æ¯ä¸ªäººéƒ½ç¼–å†™æ ·æ¿ä»£ç ã€‚ æ€ä¹ˆäº† è‡ªåŠ¨åŒ–æ­¤è¿‡ç¨‹å¹¶ä»…æ‰§è¡Œæœ‰è¶£çš„ä»»åŠ¡ä¸æ˜¯æ›´å¥½å—ï¼Ÿ å¦‚æœæ‚¨å¸Œæœ›è®¡ç®—æœºä¸ºæ‚¨å®Œæˆæ­¤ç±»å·¥ä½œï¼Œè¯·é˜…è¯»æœ¬æ–‡ã€‚ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/144/cb5/052/144cb5052ca1830f2aac609dc3cc93c0.jpg" alt="å›¾ç‰‡"></a> <br><br>  <i>æœ¬æ–‡åŸºäºUberç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜Zack Sweersåœ¨2017å¹´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MBLT DEV</a>ä¼šè®®ä¸Šå‘è¡¨çš„æŠ¥å‘Šçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬”å½•</a> ã€‚</i> <i><br></i> <br><a name="habracut"></a>  Uberæ‹¥æœ‰å¤§çº¦300ä¸ªç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ã€‚ æˆ‘åœ¨ä¸€ä¸ªç§°ä¸ºâ€œç§»åŠ¨å¹³å°â€çš„å›¢é˜Ÿä¸­å·¥ä½œã€‚ æˆ‘å›¢é˜Ÿçš„å·¥ä½œæ˜¯å°½å¯èƒ½ç®€åŒ–å’Œæ”¹å–„å¼€å‘ç§»åŠ¨åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚ æˆ‘ä»¬ä¸»è¦ç ”ç©¶å†…éƒ¨æ¡†æ¶ï¼Œåº“ï¼Œä½“ç³»ç»“æ„ç­‰ã€‚ ç”±äºäººå‘˜ä¼—å¤šï¼Œæˆ‘ä»¬å¿…é¡»æ‰§è¡Œå·¥ç¨‹å¸ˆå°†æ¥éœ€è¦çš„å¤§å‹é¡¹ç›®ã€‚ å¯èƒ½æ˜¯æ˜å¤©ï¼Œæˆ–è€…ä¸‹ä¸ªæœˆç”šè‡³æ˜¯ä¸€å¹´ã€‚ <br><br><h3> è‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆ </h3><br> æˆ‘æƒ³è¯æ˜ä»£ç ç”Ÿæˆè¿‡ç¨‹çš„ä»·å€¼ï¼Œå¹¶è€ƒè™‘ä¸€äº›å®é™…ç¤ºä¾‹ã€‚ è¯¥è¿‡ç¨‹æœ¬èº«çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre><code class="hljs python">FileSpec.builder(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"Presentation"</span></span>) .addComment(<span class="hljs-string"><span class="hljs-string">"Code generating your way to happiness."</span></span>) .addAnnotation(AnnotationSpec.builder(Author::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">) .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addMember</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-class"><span class="hljs-params"><span class="hljs-string">"name"</span></span></span></span><span class="hljs-class"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-class"><span class="hljs-params"><span class="hljs-string">"%S"</span></span></span></span><span class="hljs-class"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-class"><span class="hljs-params"><span class="hljs-string">"Zac Sweers"</span></span></span></span><span class="hljs-class"><span class="hljs-params">)</span></span></span><span class="hljs-class"> .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">useSiteTarget</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(FILE)</span></span></span><span class="hljs-class"> .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">) .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span></span></code> </pre> <br> è¿™æ˜¯ä½¿ç”¨Kotlin Poetçš„ç¤ºä¾‹ã€‚  Kotlin Poetæ˜¯ä¸€ä¸ªå…·æœ‰è‰¯å¥½APIçš„åº“ï¼Œå¯ä»¥ç”ŸæˆKotlinä»£ç ã€‚ é‚£ä¹ˆæˆ‘ä»¬åœ¨è¿™é‡Œçœ‹åˆ°ä»€ä¹ˆï¼Ÿ <br><br><ol><li>  <b>FileSpec.builder</b>åˆ›å»ºä¸€ä¸ªåä¸ºâ€œ <b>Presentation</b> â€çš„æ–‡ä»¶ã€‚ </li><li>  <b>.addCommentï¼ˆï¼‰</b> -åœ¨ç”Ÿæˆçš„ä»£ç ä¸­æ·»åŠ æ³¨é‡Šã€‚ </li><li>  <b>.addAnnotationï¼ˆï¼‰</b> -æ·»åŠ ç±»å‹ä¸º<b>Author</b>çš„æ³¨é‡Šã€‚ </li><li>  <b>.addMemberï¼ˆï¼‰</b> -åœ¨å‚æ•°ä¸­æ·»åŠ ä¸€ä¸ªå˜é‡â€œ <b>name</b> â€ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯â€œ <b>Zac Sweers</b> â€ã€‚  <b>ï¼…S-</b>å‚æ•°ç±»å‹ã€‚ </li><li>  <b>.useSiteTargetï¼ˆï¼‰</b> -å®‰è£…SiteTargetã€‚ </li><li>  <b>.buildï¼ˆï¼‰</b> -å®Œæˆå°†è¦ç”Ÿæˆçš„ä»£ç çš„æè¿°ã€‚ </li></ol><br> ä»£ç ç”Ÿæˆåï¼Œå°†è·å¾—ä»¥ä¸‹å†…å®¹ï¼š <br><br><pre> <code class="hljs pgsql">Presentation.kt // Code generating your way <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> happiness. @file:Author(<span class="hljs-type"><span class="hljs-type">name</span></span> = "Zac Sweers")</code> </pre> <br> ä»£ç ç”Ÿæˆçš„ç»“æœæ˜¯ä¸€ä¸ªåŒ…å«åç§°ï¼Œæ³¨é‡Šï¼Œæ³¨é‡Šå’Œä½œè€…å§“åçš„æ–‡ä»¶ã€‚ é—®é¢˜ç«‹å³æµ®å‡ºæ°´é¢ï¼šâ€œå¦‚æœå¯ä»¥é€šè¿‡å‡ ä¸ªç®€å•çš„æ­¥éª¤å®Œæˆä»£ç ï¼Œä¸ºä»€ä¹ˆæˆ‘éœ€è¦ç”Ÿæˆæ­¤ä»£ç ï¼Ÿâ€ æ˜¯çš„ï¼Œæ‚¨æ˜¯å¯¹çš„ï¼Œä½†æ˜¯å¦‚æœæˆ‘éœ€è¦ä¸€åƒä¸ªå…·æœ‰ä¸åŒé…ç½®é€‰é¡¹çš„æ–‡ä»¶æ€ä¹ˆåŠï¼Ÿ å¦‚æœæˆ‘ä»¬å¼€å§‹æ›´æ”¹æ­¤ä»£ç ä¸­çš„å€¼ä¼šæ€æ ·ï¼Ÿ å¦‚æœæˆ‘ä»¬æœ‰å¾ˆå¤šæ¼”è®²ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ å¦‚æœæˆ‘ä»¬æœ‰å¾ˆå¤šä¼šè®®æ€ä¹ˆåŠï¼Ÿ <br><br><pre> <code class="hljs pgsql">conferences .flatMap { it.presentations } .onEach { (presentationName, <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>, author) -&gt; FileSpec.builder("", presentationName) .addComment(<span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>) .addAnnotation(AnnotationSpec.builder(Author::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>) .addMember("name", "%S", author) .useSiteTarget(FILE) .build()) .build() }</code> </pre><br> ç»“æœï¼Œæˆ‘ä»¬å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œæ ¹æœ¬ä¸å¯èƒ½æ‰‹åŠ¨ç»´æŠ¤è¿™ä¹ˆå¤šæ–‡ä»¶ï¼Œè€Œå¿…é¡»å®ç°è‡ªåŠ¨åŒ–ã€‚ å› æ­¤ï¼Œä»£ç ç”Ÿæˆçš„ç¬¬ä¸€ä¸ªä¼˜ç‚¹æ˜¯æ‘†è„±äº†å¸¸è§„å·¥ä½œã€‚ <br><br><h3> æ— é”™è¯¯ä»£ç ç”Ÿæˆ </h3><br> è‡ªåŠ¨åŒ–çš„ç¬¬äºŒä¸ªé‡è¦ä¼˜ç‚¹æ˜¯æ— é”™è¯¯æ“ä½œã€‚ æ‰€æœ‰äººéƒ½ä¼šçŠ¯é”™ã€‚ å½“æˆ‘ä»¬åšåŒæ ·çš„äº‹æƒ…æ—¶ï¼Œè¿™ç§æƒ…å†µå°¤å…¶ç»å¸¸å‘ç”Ÿã€‚ ç›¸åï¼Œè®¡ç®—æœºå¯ä»¥å®Œç¾åœ°å®Œæˆè¿™é¡¹å·¥ä½œã€‚ <br><br> è€ƒè™‘ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚ æœ‰ä¸€ä¸ªPersonç±»ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String)</code> </pre><br> å‡è®¾æˆ‘ä»¬è¦åœ¨JSONä¸­ä¸ºå…¶æ·»åŠ åºåˆ—åŒ–ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>Moshi</b></a>åº“æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œå› ä¸ºå®ƒéå¸¸ç®€å•å¹¶ä¸”éå¸¸é€‚åˆæ¼”ç¤ºã€‚ åˆ›å»ºä¸€ä¸ªPersonJsonAdapterå¹¶ä»Personç±»å‹çš„å‚æ•°ç»§æ‰¿è‡ªJsonAdapterï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonJsonAdapter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JsonAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Person</span></span></span><span class="hljs-class">&gt;</span></span>() { }</code> </pre><br> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®ç°fromJsonæ–¹æ³•ã€‚ å®ƒä¸ºè¯»è€…æä¾›äº†é˜…è¯»ä¿¡æ¯çš„æ–¹æ³•ï¼Œè¿™äº›ä¿¡æ¯æœ€ç»ˆå°†è¿”å›ç»™Personã€‚ ç„¶åï¼Œæˆ‘ä»¬ç”¨åå­—å’Œå§“æ°å¡«å†™å­—æ®µï¼Œå¹¶è·å¾—æ–°å€¼Personï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonJsonAdapter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JsonAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Person</span></span></span><span class="hljs-class">&gt;</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromJson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(reader: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">JsonReader</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: Person? { <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstName: String <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lastName: String <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Person(firstName, lastName) } }</code> </pre><br> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŸ¥çœ‹JSONæ ¼å¼çš„æ•°æ®ï¼Œå¯¹å…¶è¿›è¡Œæ£€æŸ¥å¹¶å°†å…¶è¾“å…¥å¿…è¦çš„å­—æ®µä¸­ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonJsonAdapter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JsonAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Person</span></span></span><span class="hljs-class">&gt;</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromJson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(reader: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">JsonReader</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: Person? { <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstName: String <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lastName: String <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (reader.hasNext()) { <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (reader.nextName()) { <span class="hljs-string"><span class="hljs-string">"firstName"</span></span> -&gt; firstName = reader.nextString() <span class="hljs-string"><span class="hljs-string">"lastName"</span></span> -&gt; lastName = reader.nextString() } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Person(firstName, lastName) } }</code> </pre><br> è¿™æ ·è¡Œå—ï¼Ÿ æ˜¯çš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªç»†å¾®å·®åˆ«ï¼šæˆ‘ä»¬è¯»å–çš„å¯¹è±¡å¿…é¡»åŒ…å«åœ¨JSONä¸­ã€‚ ä¸ºäº†è¿‡æ»¤æ‰å¯èƒ½æ¥è‡ªæœåŠ¡å™¨çš„å¤šä½™æ•°æ®ï¼Œè¯·æ·»åŠ å¦ä¸€è¡Œä»£ç ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonJsonAdapter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JsonAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Person</span></span></span><span class="hljs-class">&gt;</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromJson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(reader: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">JsonReader</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: Person? { <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstName: String <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lastName: String <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (reader.hasNext()) { <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (reader.nextName()) { <span class="hljs-string"><span class="hljs-string">"firstName"</span></span> -&gt; firstName = reader.nextString() <span class="hljs-string"><span class="hljs-string">"lastName"</span></span> -&gt; lastName = reader.nextString() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> -&gt; reader.skipValue() } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Person(firstName, lastName) } }</code> </pre><br> è‡³æ­¤ï¼Œæˆ‘ä»¬æˆåŠŸç»•è¿‡äº†å¸¸è§„ä»£ç é¢†åŸŸã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œåªæœ‰ä¸¤ä¸ªå€¼å­—æ®µã€‚ ä½†æ˜¯ï¼Œæ­¤ä»£ç æœ‰å¾ˆå¤šä¸åŒçš„éƒ¨åˆ†ï¼Œæ‚¨å¯èƒ½ä¼šåœ¨å…¶ä¸­çªç„¶å´©æºƒã€‚ çªç„¶æˆ‘ä»¬åœ¨ä»£ç ä¸­å‡ºé”™äº†ï¼Ÿ <br><br> è€ƒè™‘å¦ä¸€ä¸ªç¤ºä¾‹ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">City</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> name: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> country: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vehicle</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> licensePlate: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Restaurant</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> type: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> address: Address) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Payment</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> cardNumber: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> type: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TipAmount</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> value: <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rating</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> numStars: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Correctness</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> confidence: <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span>)</code> </pre><br> å¦‚æœæ¯10ä¸ªå‹å·å·¦å³è‡³å°‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆè¿™æ„å‘³ç€æ‚¨è‚¯å®šä¼šåœ¨è¿™æ–¹é¢é‡åˆ°å›°éš¾ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»£ç ç”Ÿæˆç¡®å®å¯ä»¥ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚ å¦‚æœè¯¾ç¨‹å¾ˆå¤šï¼Œé‚£ä¹ˆæ²¡æœ‰è‡ªåŠ¨åŒ–å°±æ— æ³•å·¥ä½œï¼Œå› ä¸ºæ‰€æœ‰äººéƒ½å…è®¸è¾“å…¥é”™è¯¯ã€‚ å€ŸåŠ©ä»£ç ç”Ÿæˆï¼Œæ‰€æœ‰ä»»åŠ¡å°†è‡ªåŠ¨æ‰§è¡Œä¸”æ²¡æœ‰é”™è¯¯ã€‚ <br><br> ä»£ç ç”Ÿæˆè¿˜æœ‰å…¶ä»–å¥½å¤„ã€‚ ä¾‹å¦‚ï¼Œå®ƒç»™å‡ºæœ‰å…³ä»£ç çš„ä¿¡æ¯æˆ–å‘Šè¯‰æ‚¨æ˜¯å¦å‡ºäº†é—®é¢˜ã€‚ åœ¨æµ‹è¯•é˜¶æ®µï¼Œä»£ç ç”Ÿæˆå°†éå¸¸æœ‰ç”¨ã€‚ å¦‚æœä½¿ç”¨ç”Ÿæˆçš„ä»£ç ï¼Œåˆ™å¯ä»¥çœ‹åˆ°å·¥ä½œä»£ç çš„çœŸå®å¤–è§‚ã€‚ æ‚¨ç”šè‡³å¯ä»¥åœ¨æµ‹è¯•æœŸé—´è¿è¡Œä»£ç ç”Ÿæˆï¼Œä»¥ç®€åŒ–å·¥ä½œã€‚ <br><br> ç»“è®ºï¼šå€¼å¾—è€ƒè™‘çš„æ˜¯ä»£ç ç”Ÿæˆå¯ä»¥è§£å†³é”™è¯¯ã€‚ <br><br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æœ‰åŠ©äºä»£ç ç”Ÿæˆçš„è½¯ä»¶å·¥å…·ã€‚ <br><br><h3> å·¥å…· </h3><br><ol><li> åˆ†åˆ«ç”¨äºJavaå’ŒKotlinçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>JavaPoet</b></a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>KotlinPoetåº“</b></a> ã€‚ è¿™äº›æ˜¯ä»£ç ç”Ÿæˆçš„æ ‡å‡†ã€‚ </li><li> æ¨¡å¼åŒ–ã€‚ ä¸€ä¸ªæµè¡Œçš„Javaæ¨¡æ¿ç¤ºä¾‹æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>Apache Velocity</b></a>å’ŒiOSçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>Handlebars</b></a> ã€‚ </li><li>  <b>SPI-</b>æœåŠ¡å¤„ç†å™¨æ¥å£ã€‚ å®ƒå†…ç½®äºJavaä¸­ï¼Œå…è®¸æ‚¨åˆ›å»ºå’Œåº”ç”¨æ¥å£ï¼Œç„¶ååœ¨JARä¸­å£°æ˜å®ƒã€‚ æ‰§è¡Œç¨‹åºåï¼Œæ‚¨å¯ä»¥è·å–æ¥å£çš„æ‰€æœ‰ç°æˆå®ç°ã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>ç¼–è¯‘æµ‹è¯•</b></a>æ˜¯Googleæä¾›çš„ä¸€ä¸ªåº“ï¼Œå¯å¸®åŠ©è¿›è¡Œç¼–è¯‘æµ‹è¯•ã€‚ åœ¨ä»£ç ç”Ÿæˆæ–¹é¢ï¼Œè¿™æ„å‘³ç€ï¼šâ€œè¿™æ˜¯æˆ‘æ‰€æœŸæœ›çš„ï¼Œä½†æ˜¯è¿™æ˜¯æˆ‘æœ€ç»ˆå¾—åˆ°çš„ã€‚â€ ç¼–è¯‘å°†åœ¨å†…å­˜ä¸­å¼€å§‹ï¼Œç„¶åç³»ç»Ÿå°†å‘Šè¯‰æ‚¨æ­¤è¿‡ç¨‹æ˜¯å¦å·²å®Œæˆæˆ–å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ã€‚ å¦‚æœç¼–è¯‘å·²å®Œæˆï¼Œå°†è¦æ±‚æ‚¨å°†ç»“æœä¸æ‚¨çš„æœŸæœ›è¿›è¡Œæ¯”è¾ƒã€‚ æ¯”è¾ƒæ˜¯åŸºäºç¼–è¯‘åçš„ä»£ç ï¼Œå› æ­¤ä¸å¿…æ‹…å¿ƒè¯¸å¦‚ä»£ç æ ¼å¼ä¹‹ç±»çš„äº‹æƒ…ã€‚ </li></ol><br><h3> ä»£ç æ„å»ºå·¥å…· </h3><br> æœ‰ä¸¤ä¸ªä¸»è¦çš„ä»£ç æ„å»ºå·¥å…·ï¼š <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>æ³¨é‡Šå¤„ç†</b></a> -æ‚¨å¯ä»¥åœ¨ä»£ç ä¸­ç¼–å†™æ³¨é‡Šï¼Œå¹¶å‘ç¨‹åºè¯¢é—®æœ‰å…³å®ƒä»¬çš„å…¶ä»–ä¿¡æ¯ã€‚ ç¼–è¯‘å™¨ç”šè‡³ä¼šåœ¨å®Œæˆæºä»£ç å¤„ç†ä¹‹å‰å°±ç»™å‡ºä¿¡æ¯ã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>Gradle</b></a>æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºç»„è£…ç³»ç»Ÿï¼Œåœ¨å…¶ä»£ç ç»„è£…ç”Ÿå‘½å‘¨æœŸä¸­å…·æœ‰è®¸å¤šé’©å­ï¼ˆé’©å­-å‡½æ•°è°ƒç”¨çš„æ‹¦æˆªï¼‰ã€‚ å®ƒè¢«å¹¿æ³›ç”¨äºAndroidå¼€å‘ä¸­ã€‚ å®ƒè¿˜å…è®¸æ‚¨å°†ä»£ç ç”Ÿæˆåº”ç”¨äºæºä»£ç ï¼Œè€Œä¸å½“å‰æºä»£ç æ— å…³ã€‚ </li></ol><br> ç°åœ¨è€ƒè™‘ä¸€äº›ç¤ºä¾‹ã€‚ <br><br><h3> ç‰›æ²¹åˆ€ </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>é»„æ²¹åˆ€</b></a>æ˜¯æ°å…‹Â·æ²ƒé¡¿ï¼ˆJake Whartonï¼‰å¼€å‘çš„å›¾ä¹¦é¦†ã€‚ ä»–æ˜¯å¼€å‘äººå‘˜ç¤¾åŒºä¸­çš„çŸ¥åäººç‰©ã€‚ è¯¥åº“åœ¨Androidå¼€å‘äººå‘˜ä¸­éå¸¸å—æ¬¢è¿ï¼Œå› ä¸ºå®ƒæœ‰åŠ©äºé¿å…å‡ ä¹æ¯ä¸ªäººéƒ½é¢ä¸´çš„å¤§é‡ä¾‹è¡Œå·¥ä½œã€‚ <br><br> é€šå¸¸æˆ‘ä»¬ä»¥è¿™ç§æ–¹å¼åˆå§‹åŒ–è§†å›¾ï¼š <br><br><pre> <code class="java hljs">TextView title; ImageView icon; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ title = findViewById(R.id.title); icon = findViewById(R.id.icon); }</code> </pre><br> ä½¿ç”¨Butterknifeï¼Œå®ƒå°†çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.title) TextView title; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.icon) ImageView icon; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ ButterKnife.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }</code> </pre><br> æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æ·»åŠ ä»»æ„æ•°é‡çš„è§†å›¾ï¼Œè€ŒonCreateæ–¹æ³•ä¸ä¼šå¢åŠ æ ·æ¿ä»£ç ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.title) TextView title; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.text) TextView text; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.icon) ImageView icon; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.button) Button button; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.next) Button next; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.back) Button back; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.open) Button open; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ ButterKnife.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }</code> </pre><br> æ‚¨ä¸å¿…æ¯æ¬¡éƒ½æ‰‹åŠ¨è¿›è¡Œç»‘å®šï¼Œåªéœ€å°†@BindViewæ‰¹æ³¨ä»¥åŠä¸ºå…¶åˆ†é…çš„æ ‡è¯†ç¬¦ï¼ˆIDï¼‰æ·»åŠ åˆ°è¿™äº›å­—æ®µå³å¯ã€‚ <br><br>  Butter Knifeçš„æœ‰è¶£ä¹‹å¤„åœ¨äºå®ƒå°†åˆ†æä»£ç å¹¶ç”Ÿæˆä¸æ‚¨ç›¸â€‹â€‹ä¼¼çš„æ‰€æœ‰éƒ¨åˆ†ã€‚ å®ƒè¿˜å…·æœ‰å‡ºè‰²çš„æ–°æ•°æ®å¯ä¼¸ç¼©æ€§ã€‚ å› æ­¤ï¼Œå¦‚æœå‡ºç°æ–°æ•°æ®ï¼Œåˆ™æ— éœ€å†æ¬¡åº”ç”¨onCreateæˆ–æ‰‹åŠ¨è·Ÿè¸ªæŸäº›å†…å®¹ã€‚ è¯¥åº“ä¹Ÿéå¸¸é€‚åˆåˆ é™¤æ•°æ®ã€‚ <br><br> é‚£ä¹ˆï¼Œä»å†…éƒ¨çœ‹ï¼Œè¿™ä¸ªç³»ç»Ÿæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ é€šè¿‡ä»£ç è¯†åˆ«æœç´¢è§†å›¾ï¼Œç„¶ååœ¨æ³¨é‡Šå¤„ç†é˜¶æ®µæ‰§è¡Œæ­¤è¿‡ç¨‹ã€‚ <br><br> æˆ‘ä»¬æœ‰è¿™ä¸ªé¢†åŸŸï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.title) TextView title;</code> </pre><br> ä»è¿™äº›æ•°æ®æ¥çœ‹ï¼Œå®ƒä»¬ç”¨äºç‰¹å®šçš„FooActivityä¸­ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// FooActivity @BindView(R.id.title) TextView title;</span></span></code> </pre><br> å¥¹æœ‰è‡ªå·±çš„æ„æ€ï¼ˆR.id.titleï¼‰ï¼Œå®ƒæ˜¯ç›®æ ‡ã€‚ è¯·æ³¨æ„ï¼Œåœ¨æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­ï¼Œè¯¥å¯¹è±¡åœ¨ç³»ç»Ÿå†…éƒ¨å˜ä¸ºå¸¸æ•°ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// FooActivity @BindView(2131361859) TextView title;</span></span></code> </pre><br> è¿™å¾ˆæ­£å¸¸ã€‚ æ— è®ºå¦‚ä½•ï¼Œè¿™å°±æ˜¯é»„æ²¹åˆ€åº”è¯¥ä½¿ç”¨çš„ä¸œè¥¿ã€‚ æœ‰ä¸€ä¸ªTextViewç»„ä»¶ä½œä¸ºä¸€ç§ç±»å‹ã€‚ è¯¥å­—æ®µæœ¬èº«ç§°ä¸ºæ ‡é¢˜ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ä»æ­¤æ•°æ®ä¸­åˆ›å»ºä¸€ä¸ªå®¹å™¨ç±»ï¼Œåˆ™ä¼šå¾—åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„å†…å®¹ï¼š <br><br><pre> <code class="java hljs">ViewBinding( target = <span class="hljs-string"><span class="hljs-string">"FooActivity"</span></span>, id = <span class="hljs-number"><span class="hljs-number">2131361859</span></span>, name = <span class="hljs-string"><span class="hljs-string">"title"</span></span>, type = <span class="hljs-string"><span class="hljs-string">"field"</span></span>, viewType = TextView.class )</code> </pre><br> å› æ­¤ï¼Œå¯ä»¥åœ¨å¤„ç†è¿‡ç¨‹ä¸­è½»æ¾è·å¾—æ‰€æœ‰è¿™äº›æ•°æ®ã€‚ å®ƒä¹Ÿä¸é»„æ²¹åˆ€åœ¨ç³»ç»Ÿå†…éƒ¨çš„æ“ä½œéå¸¸ç›¸ä¼¼ã€‚ <br><br> ç»“æœï¼Œè¯¥ç±»åœ¨è¿™é‡Œç”Ÿæˆï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooActivity_ViewBinding</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Unbinder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> FooActivity target; <span class="hljs-meta"><span class="hljs-meta">@UiThread</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FooActivity_ViewBinding</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FooActivity target, View source)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target = target; target.title = Utils.findRequiredViewAsType(source, <span class="hljs-number"><span class="hljs-number">2131361859</span></span>, <span class="hljs-comment"><span class="hljs-comment">// R.id.title "field 'title'", TextView.class); } }</span></span></code> </pre><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°æ‰€æœ‰è¿™äº›æ•°æ®éƒ½æ”¶é›†åœ¨ä¸€èµ·ã€‚ ç»“æœï¼Œæˆ‘ä»¬æœ‰äº†Underscore Javaåº“ä¸­çš„ViewBindingç›®æ ‡ç±»ã€‚ åœ¨å†…éƒ¨ï¼Œè¯¥ç³»ç»Ÿçš„æ’åˆ—æ–¹å¼æ˜¯æ¯æ¬¡åˆ›å»ºç±»çš„å®ä¾‹æ—¶ï¼Œå®ƒå°†ç«‹å³å¯¹æ‚¨ç”Ÿæˆçš„ä¿¡æ¯ï¼ˆä»£ç ï¼‰è¿›è¡Œæ‰€æœ‰ç»‘å®šã€‚ æ‰€æœ‰è¿™äº›éƒ½æ˜¯åœ¨æ³¨é‡Šå¤„ç†æœŸé—´ä»¥å‰é™æ€ç”Ÿæˆçš„ï¼Œè¿™æ„å‘³ç€å®ƒåœ¨æŠ€æœ¯ä¸Šæ˜¯æ­£ç¡®çš„ã€‚ <br><br> è®©æˆ‘ä»¬å›åˆ°æˆ‘ä»¬çš„è½¯ä»¶ç®¡é“ï¼š <br><br><img src="https://habrastorage.org/webt/t3/d3/jv/t3d3jv5bxgx5q3occc3ldovxfjm.png"><br><br> åœ¨æ³¨é‡Šå¤„ç†æœŸé—´ï¼Œç³»ç»Ÿè¯»å–è¿™äº›æ³¨é‡Šå¹¶ç”ŸæˆViewBindingç±»ã€‚ ç„¶ååœ¨bindæ–¹æ³•æœŸé—´ï¼Œæˆ‘ä»¬ä»¥ä¸€ç§ç®€å•çš„æ–¹å¼å¯¹ç›¸åŒçš„ç±»æ‰§è¡Œç›¸åŒçš„æœç´¢ï¼šæˆ‘ä»¬å–å…¶åç§°å¹¶åœ¨æœ«å°¾é™„åŠ ViewBindingã€‚ å°±å…¶æœ¬èº«è€Œè¨€ï¼Œä½¿ç”¨JavaPoetåœ¨æŒ‡å®šåŒºåŸŸä¸­è¦†ç›–åœ¨å¤„ç†è¿‡ç¨‹ä¸­å…·æœ‰ViewBindingçš„éƒ¨åˆ†ã€‚ <br><br><h3> ç»‘å®š </h3><br>  RxBindingsæœ¬èº«ä¸è´Ÿè´£ä»£ç ç”Ÿæˆã€‚ å®ƒä¸å¤„ç†æ³¨é‡Šï¼Œä¹Ÿä¸æ˜¯Gradleæ’ä»¶ã€‚ è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„åº“ã€‚ å®ƒä¸ºAndroid APIæä¾›äº†åŸºäºååº”å¼ç¼–ç¨‹åŸç†çš„é™æ€å·¥å‚ã€‚ è¿™æ„å‘³ç€ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰setOnClickListenerï¼Œåˆ™å°†å‡ºç°ä¸€ä¸ªclickæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†è¿”å›ï¼ˆå¯è§‚å¯Ÿçš„ï¼‰äº‹ä»¶æµã€‚ å®ƒå……å½“æ¡¥æ¢ï¼ˆè®¾è®¡æ¨¡å¼ï¼‰ã€‚ <br><br> ä½†æ˜¯å®é™…ä¸ŠRxBindingä¸­å­˜åœ¨ä»£ç ç”Ÿæˆï¼š <br><br><img src="https://habrastorage.org/webt/ju/ty/bv/jutybv1ayxqhcfrs9l4virsivb8.png"><br><br> åœ¨åä¸ºbuildSrcçš„ç›®å½•ä¸­ï¼Œæœ‰ä¸€ä¸ªåä¸ºKotlinGenTaskçš„Gradleä»»åŠ¡ã€‚ è¿™æ„å‘³ç€æ‰€æœ‰è¿™äº›å®é™…ä¸Šéƒ½æ˜¯é€šè¿‡ä»£ç ç”Ÿæˆæ¥åˆ›å»ºçš„ã€‚  RxBindingå…·æœ‰Javaå®ç°ã€‚ å¥¹è¿˜æ‹¥æœ‰Kotlinå·¥ä»¶ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰ç›®æ ‡ç±»å‹çš„æ‰©å±•åŠŸèƒ½ã€‚ æ‰€æœ‰è¿™äº›éƒ½ä¸¥æ ¼éµå®ˆè§„åˆ™ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ç”Ÿæˆæ‰€æœ‰Kotlinæ‰©å±•åŠŸèƒ½ï¼Œè€Œä¸å¿…å•ç‹¬æ§åˆ¶å®ƒä»¬ã€‚ <br><br> å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Observable&lt;Object&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ViewClickObservable(view); }</code> </pre><br> è¿™æ˜¯ä¸€ä¸ªå®Œå…¨ç»å…¸çš„RxBindingæ–¹æ³•ã€‚ æ­¤å¤„è¿”å›å¯è§‚å¯Ÿå¯¹è±¡ã€‚ è¯¥æ–¹æ³•ç§°ä¸ºç‚¹å‡»ã€‚ ä½¿ç”¨ç‚¹å‡»äº‹ä»¶æ˜¯åœ¨â€œå¹•åâ€è¿›è¡Œçš„ã€‚ æˆ‘ä»¬å¿½ç•¥äº†å¤šä½™çš„ä»£ç ç‰‡æ®µï¼Œä»¥ä¿æŒç¤ºä¾‹çš„å¯è¯»æ€§ã€‚ åœ¨Kotlinä¸­ï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> View.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Observable&lt;Object&gt; = RxView.clicks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br> æ­¤æ‰©å±•å‡½æ•°è¿”å›Observableå¯¹è±¡ã€‚ åœ¨ç¨‹åºçš„å†…éƒ¨ç»“æ„ä¸­ï¼Œå®ƒç›´æ¥ä¸ºæˆ‘ä»¬è°ƒç”¨äº†é€šå¸¸çš„Javaæ¥å£ã€‚ åœ¨Kotlinä¸­ï¼Œæ‚¨å¿…é¡»å°†å…¶æ›´æ”¹ä¸ºUnit typeï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> View.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>&gt; = RxView.clicks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br> ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨Javaä¸­ï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Observable&lt;Object&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ViewClickObservable(view); }</code> </pre><br>  Kotlinä»£ç ä¹Ÿæ˜¯å¦‚æ­¤ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> View.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>&gt; = RxView.clicks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br> æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«æ­¤æ–¹æ³•çš„RxViewç±»ã€‚ æˆ‘ä»¬å¯ä»¥å°†ç›®æ ‡å±æ€§ï¼Œåç§°å±æ€§ä¸­çš„ç›¸åº”æ•°æ®æ›¿æ¢ä¸ºæ–¹æ³•çš„åç§°ï¼Œæ‰€æ‰©å±•çš„ç±»å‹ä»¥åŠè¿”å›å€¼çš„ç±»å‹ã€‚ æ‰€æœ‰è¿™äº›ä¿¡æ¯å°†è¶³ä»¥å¼€å§‹ç¼–å†™ä»¥ä¸‹æ–¹æ³•ï¼š <br><br><pre> <code class="hljs pgsql">BindingMethod( target = "RxView", <span class="hljs-type"><span class="hljs-type">name</span></span> = "clicks", <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">View</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>, returnType = "Observable&lt;Unit&gt;" )</code> </pre><br> ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›ç‰‡æ®µç›´æ¥æ›¿æ¢ä¸ºç¨‹åºå†…éƒ¨ç”Ÿæˆçš„Kotlinä»£ç ã€‚ ç»“æœå¦‚ä¸‹ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> View.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>&gt; = RxView.clicks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br><h3> æœåŠ¡ä»£ </h3><br> æˆ‘ä»¬æ­£åœ¨Uberå¼€å‘ServiceGenã€‚ å¦‚æœæ‚¨åœ¨å…¬å¸å·¥ä½œå¹¶ä¸”å¤„ç†åç«¯å’Œå®¢æˆ·ç«¯çš„é€šç”¨ç‰¹å¾å’Œé€šç”¨è½¯ä»¶æ¥å£ï¼Œåˆ™æ— è®ºæ‚¨æ˜¯å¼€å‘Androidï¼ŒiOSè¿˜æ˜¯Webåº”ç”¨ç¨‹åºï¼Œæ‰‹åŠ¨åˆ›å»ºæ¨¡å‹å’ŒæœåŠ¡éƒ½æ²¡æœ‰æ„ä¹‰ã€‚å›¢é˜Ÿåˆä½œã€‚ <br><br> æˆ‘ä»¬å°†Googleçš„<a href=""><b>AutoValue</b></a>åº“ç”¨äºå¯¹è±¡æ¨¡å‹ã€‚ å®ƒå¤„ç†æ³¨é‡Šï¼Œåˆ†ææ•°æ®å¹¶ç”Ÿæˆä¸¤è¡Œå“ˆå¸Œç ï¼Œequalsï¼ˆï¼‰æ–¹æ³•å’Œå…¶ä»–å®ç°ã€‚ å¥¹è¿˜è´Ÿè´£æ”¯æŒæ‰©å±•ã€‚ <br><br> æˆ‘ä»¬æœ‰ä¸€ä¸ªRiderç±»å‹çš„å¯¹è±¡ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AutoValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uuid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> Address </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br> æˆ‘ä»¬å…·æœ‰IDï¼Œåå­—ï¼Œå§“æ°å’Œåœ°å€çš„è¡Œã€‚ ä¸ºäº†ä½¿ç”¨ç½‘ç»œï¼Œæˆ‘ä»¬ä½¿ç”¨Retrofitå’ŒOkHttpåº“ï¼Œä»¥åŠJSONä½œä¸ºæ•°æ®æ ¼å¼ã€‚ æˆ‘ä»¬è¿˜å°†RxJavaç”¨äºå“åº”å¼ç¼–ç¨‹ã€‚ è¿™å°±æ˜¯æˆ‘ä»¬ç”Ÿæˆçš„APIæœåŠ¡çš„æ ·å­ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UberService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@GET(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/rider"</span></span></span><span class="hljs-meta">)</span></span> Rider getRider() }</code> </pre><br> å¦‚æœæ„¿æ„ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ç¼–å†™æ‰€æœ‰è¿™äº›å†…å®¹ã€‚ é•¿æœŸä»¥æ¥ï¼Œæˆ‘ä»¬åšåˆ°äº†ã€‚ ä½†æ˜¯éœ€è¦å¾ˆå¤šæ—¶é—´ã€‚ æœ€åï¼Œå®ƒèŠ±è´¹äº†å¾ˆå¤šæ—¶é—´å’Œé‡‘é’±ã€‚ <br><br><h3> ä¼˜æ­¥ä»Šå¤©çš„å·¥ä½œæ–¹å¼ </h3><br> æˆ‘å›¢é˜Ÿçš„æœ€åä¸€ä¸ªä»»åŠ¡æ˜¯ä»å¤´å¼€å§‹åˆ›å»ºæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ æˆ‘ä»¬å†³å®šä¸å†æ‰‹åŠ¨ç¼–å†™éšåè¿›å…¥ç½‘ç»œçš„ä»£ç ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>Thrift</b></a> ã€‚ å®ƒæ—¢åƒç¼–ç¨‹è¯­è¨€ï¼Œåˆåƒåè®®ã€‚  Uberä½¿ç”¨Thriftä½œä¸ºæŠ€æœ¯è§„èŒƒçš„è¯­è¨€ã€‚ <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">required</span></span> string uuid; <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">required</span></span> string firstName; <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">required</span></span> string lastName; <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">optional</span></span> <span class="hljs-type"><span class="hljs-type">Address</span></span> address; }</code> </pre><br> åœ¨Thriftä¸­ï¼Œæˆ‘ä»¬åœ¨åç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´å®šä¹‰APIåˆåŒï¼Œç„¶åç®€å•åœ°ç”Ÿæˆé€‚å½“çš„ä»£ç ã€‚ æˆ‘ä»¬ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>Thrifty</b></a>åº“è§£ææ•°æ®ï¼Œå¹¶ä½¿ç”¨JavaPoetç”Ÿæˆä»£ç ã€‚ æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨AutoValueç”Ÿæˆå®ç°ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AutoValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uuid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> Address </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br> æˆ‘ä»¬ç”¨JSONå®Œæˆæ‰€æœ‰å·¥ä½œã€‚ æœ‰ä¸€ä¸ªåä¸º<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>AutoValue Moshi</b></a>çš„æ‰©å±•ï¼Œå¯ä»¥ä½¿ç”¨é™æ€jsonAdapteræ–¹æ³•å°†å…¶æ·»åŠ åˆ°AutoValueç±»ä¸­ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AutoValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uuid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> Address </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> JsonAdapter&lt;Rider&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jsonAdapter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Moshi moshi)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AutoValue_Rider.JsonAdapter(moshi); } }</code> </pre> <br> èŠ‚ä¿­è¿˜æœ‰åŠ©äºæœåŠ¡çš„å‘å±•ï¼š <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">service</span></span> UberService { <span class="hljs-attribute"><span class="hljs-attribute">Rider</span></span> getRider() }</code> </pre><br> æˆ‘ä»¬è¿˜å¿…é¡»åœ¨æ­¤å¤„æ·»åŠ ä¸€äº›å…ƒæ•°æ®ï¼Œä»¥ä½¿æˆ‘ä»¬çŸ¥é“æƒ³è¦è¾¾åˆ°çš„æœ€ç»ˆç»“æœï¼š <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">service</span></span> UberService { <span class="hljs-attribute"><span class="hljs-attribute">Rider</span></span> getRider() (path=<span class="hljs-string"><span class="hljs-string">"/rider"</span></span>) }</code> </pre><br> ä»£ç ç”Ÿæˆåï¼Œæˆ‘ä»¬å°†è·å¾—æˆ‘ä»¬çš„æœåŠ¡ï¼š <br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UberService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@GET</span></span>(<span class="hljs-string"><span class="hljs-string">"/rider"</span></span>) <span class="hljs-function"><span class="hljs-function">Single&lt;Rider&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRider</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br> ä½†è¿™åªæ˜¯å¯èƒ½çš„ç»“æœä¹‹ä¸€ã€‚ ä¸€ç§æ¨¡å¼ã€‚ æˆ‘ä»¬ä»ç»éªŒä¸­çŸ¥é“ï¼Œæ²¡æœ‰äººæ›¾ç»åªä½¿ç”¨è¿‡ä¸€ç§æ¨¡å‹ã€‚ æˆ‘ä»¬æœ‰è®¸å¤šæ¨¡å‹å¯ä»¥ä¸ºæˆ‘ä»¬çš„æœåŠ¡ç”Ÿæˆä»£ç ï¼š <br><br><pre> <code class="hljs rust"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">City</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vehicle</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Restaurant</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Payment</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TipAmount</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rating</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">// And 6000 more</span></span></code> </pre><br> ç›®å‰ï¼Œæˆ‘ä»¬å¤§çº¦æœ‰5-6ä¸ªåº”ç”¨ç¨‹åºã€‚ ä»–ä»¬æœ‰å¾ˆå¤šæœåŠ¡ã€‚ æ¯ä¸ªäººéƒ½ç»è¿‡ç›¸åŒçš„è½¯ä»¶ç®¡é“ã€‚ ç”¨æ‰‹å†™ä¸‹æ‰€æœ‰è¿™äº›éƒ½æ˜¯ç–¯ç‹‚çš„ã€‚ <br><br> åœ¨JSONåºåˆ—åŒ–ä¸­ï¼Œä¸éœ€è¦åœ¨Moshiä¸­æ³¨å†Œâ€œé€‚é…å™¨â€ï¼Œå¹¶ä¸”å¦‚æœæ‚¨ä½¿ç”¨JSONï¼Œåˆ™æ— éœ€åœ¨JSONä¸­æ³¨å†Œã€‚ å»ºè®®å‘˜å·¥é€šè¿‡DIå›¾é‡å†™ä»£ç æ¥è¿›è¡Œååºåˆ—åŒ–ä¹Ÿæ˜¯å¯ç–‘çš„ã€‚ <br><br> ä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨Javaï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šè¿‡<b>Fractory</b>åº“ç”Ÿæˆçš„Factoryæ¨¡å¼ã€‚ ä¹‹æ‰€ä»¥å¯ä»¥ç”Ÿæˆå®ƒï¼Œæ˜¯å› ä¸ºåœ¨ç¼–è¯‘å‘ç”Ÿä¹‹å‰æˆ‘ä»¬å·²ç»çŸ¥é“äº†è¿™äº›ç±»å‹ã€‚  Fractoryç”Ÿæˆè¿™æ ·çš„é€‚é…å™¨ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModelsAdapterFactory</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JsonAdapter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Factory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> JsonAdapter&lt;?&gt; create(Type type, Set&lt;? extends Annotation&gt; annotations, Moshi moshi) { Class&lt;?&gt; rawType = Types.getRawType(type); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rawType.isAssignableFrom(Rider.class)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Rider.adapter(moshi); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rawType.isAssignableFrom(City.class)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> City.adapter(moshi); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rawType.isAssignableFrom(Vehicle.class)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vehicle.adapter(moshi); } <span class="hljs-comment"><span class="hljs-comment">// Etc etc return null; } }</span></span></code> </pre><br> ç”Ÿæˆçš„ä»£ç çœ‹èµ·æ¥ä¸å¤ªå¥½ã€‚ å¦‚æœä¼¤åˆ°çœ¼ç›ï¼Œå¯ä»¥æ‰‹åŠ¨é‡å†™ã€‚ <br><br> åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥çœ‹åˆ°å‰é¢æåˆ°çš„å¸¦æœ‰æœåŠ¡åç§°çš„ç±»å‹ã€‚ ç³»ç»Ÿå°†è‡ªåŠ¨ç¡®å®šè¦é€‰æ‹©å¹¶è°ƒç”¨çš„é€‚é…å™¨ã€‚ ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬é¢ä¸´å¦ä¸€ä¸ªé—®é¢˜ã€‚ æˆ‘ä»¬æœ‰6000ä¸ªè¿™äº›é€‚é…å™¨ã€‚ å³ä½¿æ‚¨åœ¨åŒä¸€æ¨¡æ¿ä¸­å°†å®ƒä»¬åˆ†å¼€ï¼Œâ€œ Eatsâ€æˆ–â€œ Driverâ€æ¨¡å‹ä¹Ÿå°†å±äºâ€œ Riderâ€æ¨¡å‹æˆ–å°†åœ¨å…¶åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚ ä»£ç å°†ä¼¸å±•ã€‚ ç»è¿‡ä¸€å®šæ—¶é—´åï¼Œå®ƒç”šè‡³æ— æ³•æ”¾å…¥.dexæ–‡ä»¶ä¸­ã€‚ å› æ­¤ï¼Œæ‚¨éœ€è¦ä»¥æŸç§æ–¹å¼åˆ†ç¦»é€‚é…å™¨ï¼š <br><br><img src="https://habrastorage.org/webt/ds/ul/tg/dsultg8mrgkboye3dvwmfcepdou.png"><br><br> æœ€ç»ˆï¼Œæˆ‘ä»¬å°†é¢„å…ˆåˆ†æä»£ç å¹¶ä¸ºå…¶åˆ›å»ºä¸€ä¸ªå·¥ä½œå­é¡¹ç›®ï¼Œå¦‚Gradleä¸­æ‰€ç¤ºï¼š <br><br><img src="https://habrastorage.org/webt/-4/pj/fz/-4pjfzwuq-cwmdl8lil_cia4-pi.png"><br><br> åœ¨å†…éƒ¨ç»“æ„ä¸­ï¼Œè¿™äº›ä¾èµ–æ€§æˆä¸ºGradleä¾èµ–æ€§ã€‚ ç°åœ¨ï¼Œä½¿ç”¨Rideråº”ç”¨ç¨‹åºçš„å…ƒç´ ä¾èµ–äºå®ƒã€‚ æœ‰äº†å®ƒï¼Œä»–ä»¬å°†å½¢æˆæ‰€éœ€çš„æ¨¡å‹ã€‚ ç»“æœï¼Œæˆ‘ä»¬çš„ä»»åŠ¡å°†å¾—åˆ°è§£å†³ï¼Œæ‰€æœ‰è¿™äº›å°†ç”±ç¨‹åºä¸­çš„ä»£ç æ±‡ç¼–ç³»ç»Ÿè¿›è¡Œè°ƒèŠ‚ã€‚ <br><br> ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬é¢ä¸´å¦ä¸€ä¸ªé—®é¢˜ï¼šç°åœ¨æˆ‘ä»¬æœ‰nä¸ªå·¥å‚æ¨¡å‹ã€‚ å®ƒä»¬éƒ½è¢«ç¼–è¯‘æˆå„ç§å¯¹è±¡ï¼š <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> RiderModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> GiftCardModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> PricingModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> DriverModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> EATSModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> PaymentsModelFactory</code> </pre><br> åœ¨å¤„ç†æ‰¹æ³¨çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ— æ³•ä»…è¯»å–å¤–éƒ¨ä¾èµ–é¡¹çš„æ‰¹æ³¨ï¼Œè€Œä»…å¯¹å…¶è¿›è¡Œé™„åŠ ä»£ç ç”Ÿæˆã€‚ <br><br> è§£å†³æ–¹æ¡ˆï¼šFractoryåº“ä¸­æœ‰ä¸€äº›æ”¯æŒï¼Œè¿™ä»¥ä¸€ç§æ£˜æ‰‹çš„æ–¹å¼ä¸ºæˆ‘ä»¬æä¾›äº†å¸®åŠ©ã€‚ å®ƒåŒ…å«åœ¨æ•°æ®ç»‘å®šè¿‡ç¨‹ä¸­ã€‚ æˆ‘ä»¬ä½¿ç”¨Javaå½’æ¡£æ–‡ä»¶ä¸­çš„classpathå‚æ•°å¼•å…¥å…ƒæ•°æ®ä»¥è¿›ä¸€æ­¥å­˜å‚¨å®ƒä»¬ï¼š <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> RiderModelFactory // -&gt; <span class="hljs-type"><span class="hljs-type">json</span></span> // -&gt; ridermodelfactory-fractory.bin <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> MyAppGlobalFactory // Delegates <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> discovered fractories</code> </pre><br> ç°åœ¨ï¼Œæ¯æ¬¡æ‚¨éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒä»¬æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨è¿™äº›æ–‡ä»¶è¿›å…¥ç±»è·¯å¾„ç›®å½•çš„è¿‡æ»¤å™¨ï¼Œç„¶åä»¥JSONæ ¼å¼ä»é‚£é‡Œæå–å®ƒä»¬ï¼Œä»¥æ‰¾å‡ºå“ªäº›ä¾èµ–é¡¹å¯ç”¨ã€‚ <br><br><h3> å®ƒä»¬å¦‚ä½•èåˆåœ¨ä¸€èµ· </h3><br><br><img src="https://habrastorage.org/webt/ih/nj/7i/ihnj7i5j631gcjbkgt-8u64h7l8.jpeg"><br><br> æˆ‘ä»¬æœ‰<b>èŠ‚ä¿­</b> ã€‚ æ¥è‡ªé‚£é‡Œçš„æ•°æ®è¿›å…¥<b>Thrifty</b>å¹¶è¿›è¡Œè§£æã€‚ ç„¶åï¼Œä»–ä»¬é€šè¿‡ä¸€ä¸ªç§°ä¸º<b>Jenga</b>çš„ä»£ç ç”Ÿæˆç¨‹åºã€‚ å®ƒäº§ç”ŸJavaæ ¼å¼çš„æ–‡ä»¶ã€‚ æ‰€æœ‰è¿™äº›éƒ½å‘ç”Ÿåœ¨å¤„ç†çš„åˆçº§é˜¶æ®µæˆ–ç¼–è¯‘ä¹‹å‰ã€‚ å¹¶åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¤„ç†æ³¨é‡Šã€‚ ç°åœ¨è¯¥è½®åˆ°<b>AutoValue</b>ç”Ÿæˆä¸€ä¸ªå®ç°äº†ã€‚ å®ƒè¿˜è°ƒç”¨<b>AutoValue Moshi</b>ä»¥æä¾›JSONæ”¯æŒã€‚  <b>åˆ†å½¢</b>ä¹Ÿ<b>å‚ä¸å…¶ä¸­</b> ã€‚ ä¸€åˆ‡éƒ½åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å‘ç”Ÿã€‚ è¯¥è¿‡ç¨‹ä¹‹å‰æ˜¯ç”¨äºåˆ›å»ºé¡¹ç›®æœ¬èº«çš„ç»„ä»¶ï¼Œè¯¥ç»„ä»¶ä¸»è¦ç”Ÿæˆ<b>Gradle</b>å­é¡¹ç›®ã€‚ <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç°åœ¨æ‚¨å·²ç»çœ‹åˆ°äº†å…¨è²Œï¼Œæ‚¨å¼€å§‹æ³¨æ„åˆ°å‰é¢æåˆ°çš„å·¥å…·ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œä¾‹å¦‚ï¼Œæœ‰Gradleï¼Œç”¨äºåˆ›å»ºä»£ç çš„æ¨¡æ¿ï¼ŒAutoValueï¼ŒJavaPoetã€‚</font><font style="vertical-align: inherit;">æ‰€æœ‰å·¥å…·ä¸ä»…å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œè€Œä¸”å¯ä»¥ç›¸äº’ç»“åˆä½¿ç”¨ã€‚</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ä»£ç ç”Ÿæˆçš„ç¼ºç‚¹ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰å¿…è¦å‘Šè¯‰é™·é˜±ã€‚</font><font style="vertical-align: inherit;">æœ€æ˜æ˜¾çš„å‡å·æ˜¯ä½¿ä»£ç è†¨èƒ€å¹¶ä½¿å®ƒå¤±å»æ§åˆ¶ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼ŒDaggerå ç”¨äº†åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰ä»£ç çš„å¤§çº¦10ï¼…ã€‚</font><font style="vertical-align: inherit;">æ¨¡å‹å æ®äº†å¾ˆå¤§çš„ä»½é¢-çº¦25ï¼…ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Uberï¼Œæˆ‘ä»¬å°è¯•é€šè¿‡ä¸¢å¼ƒä¸å¿…è¦çš„ä»£ç æ¥è§£å†³é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å¿…é¡»å¯¹ä»£ç è¿›è¡Œä¸€äº›ç»Ÿè®¡åˆ†æï¼Œå¹¶äº†è§£å·¥ä½œä¸­çœŸæ­£æ¶‰åŠå“ªäº›é¢†åŸŸã€‚</font><font style="vertical-align: inherit;">æ‰¾åˆ°ç­”æ¡ˆåï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€äº›è½¬æ¢ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬å¸Œæœ›å°†ç”Ÿæˆçš„æ¨¡å‹æ•°é‡å‡å°‘çº¦40ï¼…ã€‚</font><font style="vertical-align: inherit;">è¿™å°†æœ‰åŠ©äºåŠ å¿«åº”ç”¨ç¨‹åºçš„å®‰è£…å’Œè¿è¡Œï¼Œå¹¶ä¸ºæˆ‘ä»¬èŠ‚çœèµ„é‡‘ã€‚</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ä»£ç ç”Ÿæˆå¦‚ä½•å½±å“é¡¹ç›®å¼€å‘æ—¶é—´è¡¨ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½“ç„¶ï¼Œä»£ç ç”Ÿæˆå¯ä»¥åŠ å¿«å¼€å‘é€Ÿåº¦ï¼Œä½†æ˜¯æ—¶é—´å–å†³äºå›¢é˜Ÿä½¿ç”¨çš„å·¥å…·ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨Gradleä¸­å·¥ä½œï¼Œåˆ™å¾ˆå¯èƒ½æ‚¨æ­£åœ¨ä»¥ä¸€å®šçš„æ­¥è°ƒè¿›è¡Œæ“ä½œã€‚</font><font style="vertical-align: inherit;">äº‹å®æ˜¯Gradleæ¯å¤©ç”Ÿæˆä¸€æ¬¡æ¨¡å‹ï¼Œè€Œä¸æ˜¯åœ¨å¼€å‘äººå‘˜æƒ³è¦çš„æ—¶å€™ç”Ÿæˆæ¨¡å‹ã€‚</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> äº†è§£æœ‰å…³Uberå’Œå…¶ä»–é¡¶çº§å…¬å¸å‘å±•çš„æ›´å¤šä¿¡æ¯ã€‚ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9æœˆ28æ—¥ï¼Œç¬¬äº”å±Šç§»åŠ¨å¼€å‘å•†</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MBLT DEV</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›½é™…ä¼šè®®åœ¨è«æ–¯ç§‘ä¸¾è¡Œ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">800ä½å‚ä¸è€…ï¼Œé¡¶å°–æ¼”è®²è€…ï¼Œæµ‹éªŒå’Œæ‹¼å›¾ï¼Œä¾›é‚£äº›å¯¹Androidå’ŒiOSå¼€å‘æ„Ÿå…´è¶£çš„äººä½¿ç”¨ã€‚</font><font style="vertical-align: inherit;">ä¼šè®®çš„ç»„ç»‡è€…æ˜¯e-Legionå’ŒRAECã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">åœ¨ä¼šè®®ç½‘ç«™ä¸Š</font></a><font style="vertical-align: inherit;">æˆä¸ºMBLT DEV 2018çš„å‚ä¸è€…æˆ–åˆä½œä¼™ä¼´</font><font style="vertical-align: inherit;">ã€‚</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=http://"><img src="https://habrastorage.org/webt/yr/u2/x0/yru2x0-bqpghfoa6zqfrkyluuhq.jpeg"></a> <br><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ä¸¾æŠ¥è§†é¢‘ </font></font></h3><br><iframe width="560" height="315" src="https://www.youtube.com/embed/GpMR_Zjnn_Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN413603/">https://habr.com/ru/post/zh-CN413603/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN413591/index.html">å·¥ä¸šæœºå™¨äºº-57å¹´ï¼ å›é¡¾è®¡æ•°çš„æ¥æº</a></li>
<li><a href="../zh-CN413593/index.html">ç»§ç»­å¾æœæµ·åº•ã€‚ å¾®è½¯åŠå…¶Natick 2æµ·åº•æ•°æ®ä¸­å¿ƒé¡¹ç›®</a></li>
<li><a href="../zh-CN413597/index.html">â€œæœ€åæ‰‹æ®µâ€æˆ–ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“ä¼˜å…ˆè®¾è®¡</a></li>
<li><a href="../zh-CN413599/index.html">éƒ¨åˆ†æœ‰S.L.O.N.aã€‚ ä»‹ç»ITAMè€Œä¸æ˜¯æ‰¼æ€</a></li>
<li><a href="../zh-CN413601/index.html">å¾®è½¯çš„æ•°æ®ä¸­å¿ƒä¼šä¸ä¼šç»™å¤§æµ·å¸¦æ¥éº»çƒ¦</a></li>
<li><a href="../zh-CN413605/index.html">é—®ä¼Šæ£®ï¼šå½“ä¸€é¢—æ’æ˜Ÿç©¿è¿‡å¤ªé˜³ç³»ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="../zh-CN413607/index.html">é‡‘èç§‘æŠ€æ‘˜è¦ï¼šæ•°å­—è´§å¸ä¸ä¼šå¨èƒä¿„ç½—æ–¯è”é‚¦çš„é‡‘èç³»ç»Ÿï¼› è´å®å‘ç°æ¸¸æˆç©å®¶åœ¨æ¸¸æˆä¸ŠèŠ±è´¹äº†å¤šå°‘</a></li>
<li><a href="../zh-CN413609/index.html">å†’åé¡¶æ›¿ç»¼åˆç—‡ï¼šè¿™æ˜¯ä»€ä¹ˆä»¥åŠå¦‚ä½•æ‘†è„±å®ƒ</a></li>
<li><a href="../zh-CN413611/index.html">é—­è·¯ç”µè§†å¦‚ä½•æ”»å‡»æ­£é¢é»‘å®¢æ—¥ï¼šCAMBreakerç«èµ›</a></li>
<li><a href="../zh-CN413613/index.html">è¿™è‰˜é£èˆ¹å°†æ¯”å¤ªé˜³ä¹‹å‰çš„ä»»ä½•äº‹ç‰©éƒ½æ›´é è¿‘å¤ªé˜³ï¼Œå¹¶ä¸”ä¸ä¼šèåŒ–</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>