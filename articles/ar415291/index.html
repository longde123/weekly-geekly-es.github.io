<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👴 💪🏾 📫 الراديو: راديو FM يعتمد على Atmega328-P و RDA5807M 👦🏻 🕠 👩🏻‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مساء الخير عزيزي harazhiteli! 

 اسمي ميخائيل ماتفييف ، وأود أن أوجه انتباهكم إلى مشروع "مصمم راديو" حديث يعتمد على شريحة Atmega328 MK و RDA5807M. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>الراديو: راديو FM يعتمد على Atmega328-P و RDA5807M</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415291/" style=";text-align:right;direction:rtl"> مساء الخير عزيزي harazhiteli! <br><br>  اسمي ميخائيل ماتفييف ، وأود أن أوجه انتباهكم إلى مشروع "مصمم راديو" حديث يعتمد على شريحة Atmega328 MK و RDA5807M. <br><br><h2 style=";text-align:right;direction:rtl">  الخلفية </h2><br>  أعتقد أن العديد منكم لم يسمعوا فحسب ، بل واجهوا أيضًا منصة مثل Arduino مباشرة.  وكما تظهر إحصائياتي الشخصية ، فإن القليل جدًا يذهب إلى أبعد من المصابيح الوامضة.  عندما قابلت أردوينو للمرة الأولى ، أوقفتني حقيقة عدم وجود أفكار حول كيفية استخدام جميع ميزات UNO بالضبط إلى "أقصى حد".  يكفي فقط تجميع روبوت بسيط على عجلتين وجهاز إنذار.  ومع ذلك ، أردت أن أفعل شيئًا أكثر شمولاً. <a name="habracut"></a><br><br>  ثم تذكرت طفولتي ، حيث كان هناك ما يسمى "مصممي الراديو".  مجموعة DIY السوفيتية القاسية ، والتي ، مع التجميع المناسب واللحام المناسب ، بدأت في العمل ، واشتعلت محطات الراديو في نطاقات مختلفة: الشباب ، إلكترون- M وغيرها. <br><br><img src="https://habrastorage.org/webt/g2/is/hc/g2ishchig43dyihdouakzc4kspq.jpeg"><br><br>  لم أحصل على أي من Kit'ov هذه ، لكنني حصلت على ECON-1: <br><br><img src="https://habrastorage.org/webt/3r/nu/k3/3rnuk3lqxypldc7utz_exr3mlas.jpeg"><br><br>  كانت "الحيلة" الرئيسية لهذا المصمم هي أنه بمساعدته كان من الممكن تجميع عدد كبير من الأجهزة المختلفة بسرعة وببساطة ، من "مكبرات الصوت" البسيطة إلى جهاز استقبال راديو متكامل. <br>  يعد ECON-1 أحد الأسباب العديدة التي جعلتني انتهى بي الأمر في مجال تكنولوجيا المعلومات.  وظهر لي أنه سيكون من الرائع إنشاء نسخة حديثة من مثل هذا المصمم ، حتى يتمكن الجميع من الاستمتاع بالجهاز الذي تم تجميعه للتو بأيديهم. <br><br><h2 style=";text-align:right;direction:rtl">  نموذج أولي على لوحة الدائرة </h2><br>  صديقي ، المهندس الموهوب كونستانتين توماريفسكي ، أيد الفكرة ، وبدأنا نفكر في كيفية عمل النموذج الأولي الأول. <br><br>  كانت الفكرة هي إنشاء جهاز استقبال FM يمكن التحكم فيه عبر MK. <br>  تم تجميع النموذج الأول في موقع التثبيت ، وأصبح من الواضح أنه يعمل :) <br><br><img src="https://habrastorage.org/webt/mx/37/d_/mx37d_ip32bxh5iskl8we4fvsd8.jpeg"><br><br>  بالنسبة للنسخة الأولى ، تم اختيار المكونات التالية: <br><br>  1. MK Atmega328P-PU <br>  2. RDA5807M <br>  3. شاشة Nokia 5110 <br><br>  يتم استخدام هذا المتحكم الدقيق في Arduino UNO ، على التوالي ، جهازنا متوافق مع UNO على مستوى الأجهزة. <br><br>  RDA5807M هو "قلب" مصممنا.  يحتوي هذا الموالف على الميزات التالية: <br><br>  - تقنية CMOS <br>  - الإسكان المتآلف ، لا يتطلب مكونات خارجية (تقريبًا) <br>  - نطاق التردد: 50-115 ميجا هرتز <br>  - التنقل بين القنوات - من 200 إلى 25 كيلوهرتز <br>  - RDS / RBDS <br>  - ADC ومركب التردد المدمج <br>  - تخفيض الضوضاء التكيفي <br>  - واجهة رقمية (I2C) <br>  - قوة الإشارة (RSSI) <br>  - مضخم صوت <br>  - تعديل حجم الصوت <br><br>  شاشة نوكيا بالأبيض والأسود ، 84x48 بكسل.  من السهل جدًا الاتصال والإدارة. <br><br>  بعد اللحام على لوحة الدائرة ، اتضح شيء من هذا القبيل: <br><br><img src="https://habrastorage.org/webt/xh/2z/iq/xh2ziqa5kbwdzrczgj0d_buxc3q.jpeg"><br><br>  تقرر استخدام Bootloader من Arduino ، مما سمح لنا بالحفاظ على التوافق مع جميع المكتبات العديدة وخفض حد الدخول بشكل كبير لأولئك الذين لديهم بالفعل أي خبرة مع النظام الأساسي. <br>  يتم تنفيذ واجهة تفاعل المستخدم على النحو التالي.  يتم استخدام ثلاثة أزرار متصلة بالإدخال التناظري لعضو الكنيست من خلال المقاومات لتبديل الأوضاع والتحكم في جهاز الاستقبال.  يعمل زر آخر لإعادة تشغيل MK.  وبالتالي ، تعرض الشاشة معلومات حول مستوى الصوت والمحطة وما إلى ذلك. <br><br><h2 style=";text-align:right;direction:rtl">  LUT ، مقاوم للضوء وتصحيح الأخطاء </h2><br>  بعد الاختبارات الناجحة على لوحة الدوائر ، قررنا إنشاء العديد من النماذج الأولية باستخدام طريقة LUT (وفي المستقبل ، باستخدام مقاوم الضوء).  قررنا أيضًا تحسين جهاز الاستقبال عن طريق إضافة مضخم صوت آخر هناك لتوصيل ليس فقط سماعات الرأس ، ولكن أيضًا مكبر صوت خارجي.  وقع الاختيار على PAM8403 ، وهو مضخم بسيط وغير مكلف يتطلب طاقة 5 فولت. <br><br>  بدا النموذج الأولي الأول الذي تم تصنيعه بطريقة LUT على النحو التالي: <br><br><img src="https://habrastorage.org/webt/fn/ji/jo/fnjijodeszqegs5iffb6egidcmo.jpeg"><br><br>  LUT هو شيء جيد للنماذج الأولية السريعة نسبيًا في المنزل ، ولكن عندما يتعلق الأمر باللوحات ذات الوجهين ، تبدأ الصعوبات.  زاد عدد المكونات على اللوحة - على سبيل المثال ، قررنا وضع موصل للمبرمج على اللوحة بحيث لا تكون هناك حاجة لإزالة MK في كل مرة للوميض.  لذلك ، أصبح النموذج الأولي اللاحق ذا وجهين ، تم إجراؤه بواسطة طريقة مقاوم الضوء وبدأ في الظهور أجمل بكثير: <br><br><img src="https://habrastorage.org/webt/5f/wf/dk/5fwfdkhw4vfrv85qfcldmzgtx8i.jpeg"><br><br>  في التجمع: <br><br><img src="https://habrastorage.org/webt/li/zw/yt/lizwytnutcsp25hppt4ekhlvik0.jpeg"><br><br>  كانت الخطوة التالية هي رفض المكونات "المفصلية" التي وضعناها على اللوحة باستخدام أرقام التعريف الشخصية المكونة من صف واحد.  لذلك ، تقرر استبدال مكبر الصوت بمكبر LM386N ، وتركيب محول مستوى CD4050BE.  كل هذا يعقد التصميم ، لكن الجهاز بدأ يبدو أفضل بكثير. <br><br>  بدا النموذج النهائي الذي قمنا به في المنزل كما يلي: <br><br><img src="https://habrastorage.org/webt/ba/0k/bv/ba0kbvebxojxd2jhnatgbhetrhs.jpeg"><br><br><h2 style=";text-align:right;direction:rtl">  طلب ثنائي الفينيل متعدد الكلور </h2><br>  في الصين ، يمكنك طلب لوحات الدوائر المطبوعة المصنوعة بطريقة صناعية.  التكلفة صغيرة نسبيًا حتى مع الجري الصغير ، ووقت الانتظار (بما في ذلك التسليم) لا يتجاوز عادة 2-3 أسابيع. <br><br>  تم طلب "الدفعة" الأولى من اللوحات على PCBWay.  لذا نظرت: <br><br><img src="https://habrastorage.org/webt/kd/uk/bw/kdukbwgr9upfot-ygn61o0r860c.jpeg"><br><br>  إحدى المشاكل التي واجهناها من خلال عدم الخبرة: المعدن "يأكل" جزءًا كبيرًا من حجم الثقب نفسه ، لذا فإن بعض المكونات بالكاد "تتناسب" مع الثقوب المطلوبة.  عند تصميم دائرة ، يجب أن تؤخذ هذه النقطة في الاعتبار. <br><br>  بناءً على نتائج الاختبار ، قمنا بتحسين التصميم بإضافة العديد من المكثفات لتشغيل أكثر استقرارًا للجهاز.  جمعنا نموذجًا أوليًا آخر: <br><br><img src="https://habrastorage.org/webt/8s/-h/3y/8s-h3y55bje7nttvkmj_z_zyvjk.jpeg"><br><br>  يتم استخدام منفذ USB لتشغيل جهاز الاستقبال.  يتم توفير الطاقة أيضًا عند توصيل المبرمج. <br><br>  كل شيء يعمل! <br><br><h2 style=";text-align:right;direction:rtl">  البرامج الثابتة </h2><br>  يجب أن نتناول أيضًا البرامج الثابتة.  إنه مكتوب بلغة C ++ ونحن نوزعه بموجب ترخيص GPLv3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/xtremespb/fm_receiver.</a> لم أعمل عمليا في C / C ++ ، وبالتالي (ربما) الرمز بعيد عن المثالية وقد يحتوي على أخطاء ، ولكن GPL يفعل و GPL حتى يتمكن المجتمع من تطويره :) <br><br>  ستشمل ميزات البرامج الثابتة الحالية ما يلي: <br><br>  - الضبط اليدوي والآلي للمحطات <br>  - RDS <br>  - التحكم بالصوت <br>  - تمكين وضع الجهير المحسن <br>  - تشغيل أو إيقاف تشغيل الإضاءة الخلفية للشاشة <br>  - عرض وتصور ديناميكي لمستوى الإشارة <br><br>  في المراجعة الرابعة القادمة ، سنقوم بعمل "رقائق" أكثر فائدة: سنقوم بربط القناتين اليسرى واليمنى بالإدخالات التناظرية على MK ، مما يتيح لنا "تصور" الإشارة الصوتية الواردة. <br><br>  بالمناسبة ، قدرات الجهاز لا تقتصر على الراديو!  لا أحد يزعج ، على سبيل المثال ، لكتابة أي لعبة (من أجل الاهتمام ، لقد صنعت Arkanoid القديم الجيد) أو برنامج آخر يستخدم قدرات اللوحة. <br><br><h2 style=";text-align:right;direction:rtl">  الإنتاج </h2><br>  استغرق تطوير الجهاز من الفكرة إلى التنفيذ حوالي 6 أشهر ، والتي ، مع الافتقار الكامل تقريبًا للخبرة في هذا المجال ، ليست سيئة للغاية. <br><br>  في الوقت الحالي ، لدينا حوالي 10 مجموعات مجمعة بالكامل تتضمن كل ما تحتاجه لبناء جهازك الخاص: <br><br>  - MK Atmega328P-PU <br>  - محول مستوى CD4050BE <br>  - عرض Nokia 5110 <br>  - ريسيفر RDA5807M <br>  - مبرمج USBasp <br>  - مضخم تشغيلي LM386N <br>  - موصلات لـ MK والمبرمج <br>  - USB B ، مقبس صوت 3.5 ، ثلاثة أزرار ، أسلاك ، موصلات صف واحد <br>  - 11 مقاومًا و 12 مكثفًا و 4 مستحثات وكوارتز وصمام زينر ومصباح LED <br>  - مكبر صوت <br>  - لوحة الدوائر <br><br>  للتجميع ، تحتاج إلى لحام ، تدفق وحديد لحام ، لا شيء آخر مطلوب. <br>  يتم تغليف جميع المكونات في صندوق صغير من الورق المقوى "الحرفي": <br><br><img src="https://habrastorage.org/webt/mr/b3/5c/mrb35cyc1fyt3lgxmrh1zdykqxs.jpeg"><br><br>  تم بالفعل نشر مصادر البرامج الثابتة على Github ؛  سيتم أيضًا نشر ملف جربر والمخطط التخطيطي وتعليمات التجميع لاحقًا. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar415291/">https://habr.com/ru/post/ar415291/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar415277/index.html">الميزات الجديدة في ARKit 2.0</a></li>
<li><a href="../ar415279/index.html">لماذا تدق المسامير بمجهر إذا كان لديك جبال الألب لينكس؟</a></li>
<li><a href="../ar415283/index.html">مشروع OWASP TOP 10: مقدمة</a></li>
<li><a href="../ar415285/index.html">MBLT DEV 2018: أول المتحدثين وأحدث تذاكر الطيور المبكرة</a></li>
<li><a href="../ar415289/index.html">اختبار الحشد ، أو مكان الحصول على الخبرة للعمل الأول في الاختبار</a></li>
<li><a href="../ar415297/index.html">تحت الأرض. الشباب واللامبالاة</a></li>
<li><a href="../ar415299/index.html">Zabbix Moscow Meetup 2018 في Badoo: مراجعة ومواد</a></li>
<li><a href="../ar415301/index.html">أساسيات التعليمات البرمجية: دروس مجانية للمبتدئين</a></li>
<li><a href="../ar415303/index.html">لغة رولينج ستونز: كيف ترسم شعارًا لكل الأوقات؟ مقابلة مع الخالق</a></li>
<li><a href="../ar415305/index.html">تقرير نادي روما 2018 ، الفصل 3.15: القيادة الجماعية</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>