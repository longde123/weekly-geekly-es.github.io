<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêè üéì ü§õüèæ Los diez mandamientos de los componentes de reacci√≥n üë®üèø‚Äçüè´ üëáüèª üõÄüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Escrito por Kristofer Selbekk , en colaboraci√≥n con Caroline Odden . Basado en una conferencia con el mismo nombre y las mismas personas en la reuni√≥n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Los diez mandamientos de los componentes de reacci√≥n</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460559/"><p><img src="https://habrastorage.org/getpro/habr/post_images/adf/1cf/5da/adf1cf5da0c04102046e8b6e8c12322e.jpg" alt="los-10-componentes-mandamientos"></p><br><blockquote>  Escrito por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Kristofer Selbekk</a> , en colaboraci√≥n con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Caroline Odden</a> .  Basado en una conferencia con el mismo nombre y las mismas personas en la reuni√≥n de ReactJS en Oslo en junio de 2019. </blockquote><p>  <em>Del traductor: el nombre original de <strong>The 10 Component Commandments</strong> no menciona React, pero la mayor√≠a de los ejemplos y recomendaciones se relacionan espec√≠ficamente con la reacci√≥n, adem√°s, el art√≠culo se presenta bajo la etiqueta react y los desarrolladores escribieron la reacci√≥n</em> . </p><br><p>  No es f√°cil crear componentes que usar√°n muchos desarrolladores.  Debe considerar cuidadosamente qu√© accesorios usar si estos accesorios son parte de la API p√∫blica. </p><br><p> En este art√≠culo, haremos una breve introducci√≥n a algunas de las mejores pr√°cticas para desarrollar la API en su conjunto, as√≠ como a formar <strong>diez mandamientos</strong> que puede usar para crear componentes que sus colegas desarrolladores estar√°n encantados de usar. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eb9/35b/750/eb935b750f7a08ad9116ecd5a115f81e.jpg" alt="api"></p><br><h2 id="chto-takoe-api">  ¬øQu√© es una API? </h2><br><p>  Una API - o interfaz de programaci√≥n de aplicaciones - es donde se encuentran dos piezas de c√≥digo.  Esta es la superficie de contacto entre <em>su c√≥digo</em> y el resto del mundo.  Llamamos a esta superficie una interfaz.  Este es un conjunto espec√≠fico de acciones o puntos de datos con los que puede interactuar. </p><br><p>  La interfaz entre la clase y el c√≥digo que llama a esta clase tambi√©n es una API.  Puede llamar a los m√©todos de la clase para recibir datos o ejecutar las funciones incluidas en √©l. </p><br><p>  Siguiendo el mismo principio, los <strong>accesorios que acepta su componente, esta es su API</strong> .  Esta es la forma en que los desarrolladores interact√∫an con su componente. </p><br><h2 id="nekotorye-luchshie-praktiki-proektirovaniya-api">  Algunas mejores pr√°cticas de dise√±o de API </h2><br><p>  Entonces, ¬øqu√© reglas y consideraciones se aplican al desarrollar una API?  Bueno, investigamos un poco y result√≥ que hay muchos recursos excelentes sobre este tema.  Elegimos dos - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Josh Tauberer</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">"¬øQu√© hace una buena API?"</a>  y un art√≠culo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Ron Kurir con el mismo t√≠tulo</a> , y lleg√≥ a estas cuatro pr√°cticas. </p><br><h3 id="stabilnye-versii">  Versiones estables </h3><br><p>  Una de las cosas m√°s importantes a tener en cuenta al crear una API es mantenerla lo m√°s estable posible.  El n√∫mero de cambios cr√≠ticos debe ser m√≠nimo.  Si tiene que hacer cambios cr√≠ticos, aseg√∫rese de escribir gu√≠as de actualizaci√≥n detalladas y, si es posible, escriba un c√≥digo de modificaci√≥n que automatice este proceso para los desarrolladores. </p><br><h3 id="opisatelnye-soobscheniya-ob-oshibkah">  Mensajes de error descriptivos </h3><br><p>  Siempre que ocurra un error al llamar a su API, debe hacer todo lo posible para explicar qu√© sali√≥ mal y c√≥mo solucionarlo.  Si rega√±a al usuario con mensajes como "mal uso" y no da ninguna explicaci√≥n, su API dejar√° una mala impresi√≥n. </p><br><p>  En su lugar, escriba errores descriptivos que ayuden al usuario a corregir c√≥mo usan su API. </p><br><h3 id="minimizirovat-syurprizy-dlya-razrabotchikov">  Minimice las sorpresas para los desarrolladores. </h3><br><p>  Los desarrolladores son criaturas fr√°giles, y no debes asustarlos cuando usan tu API.  En otras palabras, haga que su API sea lo m√°s intuitiva posible.  Lo lograr√° si sigue las mejores pr√°cticas y las convenciones de nomenclatura existentes. </p><br><p> Adem√°s, su c√≥digo siempre debe ser coherente.  Si usa los nombres l√≥gicos de propiedades con <code>is</code> o <code>has</code> en un lugar, pero los omite a√∫n m√°s, esto confundir√° a las personas. </p><br><h3 id="minimizirovat-poverhnost-api">  Minimizar la superficie API </h3><br><p>  Tu API tambi√©n necesita ser minimizada.  Muchas caracter√≠sticas son geniales, pero cuanto m√°s peque√±a sea la superficie de su API (superficie API), menos desarrolladores tendr√°n que estudiarla para comenzar a trabajar productivamente con ella.  ¬°Gracias a esto, su API ser√° percibida como f√°cil de usar! </p><br><p>  Siempre hay una manera de controlar el tama√±o de sus API.  Uno de ellos est√° refactorizando la nueva API de la anterior. </p><br><h2 id="desyat-zapovedey-dlya-veb-komponentov">  Los diez mandamientos para componentes web </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/15e/2c7/33c/15e2c733cf1d3b5e5916c17692a6df5a.jpg" alt="Los 10 mandamientos componentes"></p><br><p>  Entonces, estas cuatro reglas de oro funcionan bien para la API REST y para las antiguas piezas de procedimiento en Pascal, pero ¬øc√≥mo transferirlas al mundo moderno de React? </p><br><p>  Como dijimos anteriormente, los componentes tienen su propia API.  Los llamamos <code>props</code> , y es con su ayuda que los datos se transfieren a los componentes.  ¬øC√≥mo estructuramos los accesorios para no violar ninguna de las reglas anteriores? </p><br><p>  Hemos creado esta lista de <strong>diez reglas de oro</strong> que se siguen mejor al crear sus componentes.  Esperamos que te sean √∫tiles. </p><br><h3 id="1-dokumentiruyte-ispolzovanie-komponentov">  1. Documentar el uso de componentes. </h3><br><p>  Si la forma en que desea utilizar su componente no est√° documentada, entonces este componente es in√∫til.  Bueno, casi in√∫til, siempre puedes ver su implementaci√≥n, pero a pocas personas les gusta hacer esto. </p><br><p>  Hay muchas formas de documentar sus componentes, pero le recomendamos que preste atenci√≥n a estos tres: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Libro de cuentos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Styleguidist</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Docz</a> </li></ul><br><p>  Los dos primeros le brindan un lugar para trabajar al desarrollar sus componentes, y el tercero le permite escribir documentaci√≥n de forma gratuita utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">MDX</a> </p><br><p>  No importa lo que elija, siempre documente tanto la API en s√≠ misma como <strong>c√≥mo y cu√°ndo deben usarse sus componentes</strong> .  La √∫ltima parte es cr√≠tica en las bibliotecas de uso general: para que las personas utilicen correctamente un bot√≥n o una cuadr√≠cula de dise√±o en un contexto determinado. </p><br><h3 id="2-razreshite-kontekstnuyu-semantiku">  2. Habilite la sem√°ntica contextual </h3><br><p>  HTML es un lenguaje para estructurar informaci√≥n de forma sem√°ntica.  Solo aqu√≠, la mayor√≠a de nuestros componentes consisten en etiquetas <code>&lt;div /&gt;</code> .  Esto tiene sentido: los componentes universales no pueden saber de antemano cu√°les ser√°n, tal vez <code>&lt;article /&gt;</code> , o <code>&lt;section /&gt;</code> , o <code>&lt;aside /&gt;</code> -, pero esta situaci√≥n est√° lejos de ser ideal. </p><br><p>  Hay otra opci√≥n, simplemente dejar que sus componentes acepten accesorios <code>as</code> , y as√≠ determinar qu√© elemento DOM se representar√°.  Aqu√≠ hay un ejemplo de c√≥mo implementar esto: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Grid</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ as: Element, ...props }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Element</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"grid"</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml"> } Grid.defaultProps = { as: 'div', };</span></span></code> </pre> <br><p>  Cambiamos el nombre de prop por la variable <code>Element</code> y la usamos en nuestro JSX.  Le damos un valor <code>div</code> predeterminado com√∫n si no tenemos que pasar una etiqueta HTML m√°s sem√°ntica. </p><br><p>  Cuando llegue el momento de usar el componente <code>&lt;Grid /&gt;</code> , simplemente puede pasar la etiqueta correcta: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"main"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">MoreContent</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br><p>  Esto tambi√©n funciona con los componentes React.  Por ejemplo, si desea que el componente <code>&lt;Button /&gt;</code> represente el React Router <code>&lt;Link /&gt;</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{Link}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/profile"</span></span></span><span class="hljs-tag">&gt;</span></span> Go to Profile <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="3-izbegayte-logicheskih-boolean-propsov">  3. Evita los accesorios booleanos </h3><br><p>  Los accesorios l√≥gicos son, como, una buena idea.  Se pueden usar sin valor, por lo que se ve muy elegante: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">large</span></span></span><span class="hljs-tag">&gt;</span></span>BUY NOW!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Pero aunque se ve bien, las propiedades l√≥gicas solo permiten dos posibilidades.  Encendido o apagado  Visible u oculto.  1 o 0. </p><br><p>  Cada vez que comienzas a introducir propiedades l√≥gicas para cosas como el tama√±o, las opciones, los colores o cualquier cosa que no sea una elecci√≥n binaria, tienes problemas. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">large</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">small</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">primary</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">secondary</span></span></span><span class="hljs-tag">&gt;</span></span>   ?? <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  En otras palabras, las propiedades l√≥gicas a menudo no se escalan con los requisitos cambiantes.  En cambio, para valores que pueden convertirse en algo m√°s que una selecci√≥n binaria, es mejor usar valores enumerados, como cadenas. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">variant</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"primary"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"large"</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Esto no significa que las propiedades l√≥gicas no puedan utilizarse en absoluto.  Usted puede!  El accesorio <code>disabled</code> , que enumer√© anteriormente, a√∫n deber√≠a ser l√≥gico, porque no hay un estado medio entre encendido y apagado.  Simplemente deje las propiedades booleanas solo para una elecci√≥n verdaderamente binaria. </p><br><h3 id="4-ispolzuyte-propschildren">  4. Usa <code>props.children</code> </h3><br><p>  React tiene algunas propiedades especiales que se tratan de manera diferente a las dem√°s.  Se necesita una de estas <code>key</code> para rastrear el orden de los elementos de la lista.  Y otro de esos accesorios especiales son los <code>children</code> . </p><br><p>  Todo lo que coloque entre la etiqueta de apertura y cierre del componente se coloca dentro de la <code>props.children</code> .  Y debe usar esto con la mayor frecuencia posible. </p><br><p>  Por qu√©  Porque es mucho m√°s f√°cil que tener <code>content</code> apoyo para contenido o algo as√≠ que generalmente solo toma valores simples, como el texto. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Some text"</span></span></span><span class="hljs-tag"> /&gt;</span></span> //  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span>Some text<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  El uso de <code>props.children</code> para <code>props.children</code> tiene varias ventajas.  En primer lugar, esto es similar a c√≥mo funciona el HTML normal.  En segundo lugar, ¬°puedes transferir libremente lo que quieras!  En lugar de agregar accesorios como <code>leftIcon</code> y <code>rightIcon</code> a su componente, simplemente <code>props.children</code> como parte del <code>props.children</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImportantIcon</span></span></span><span class="hljs-tag"> /&gt;</span></span> Some text <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Puede argumentar que su componente solo necesita representar texto plano, y en algunos casos lo es.  Hasta cierto punto.  Al usar <code>props.children</code> , usted garantiza que su API estar√° lista para los requisitos cambiantes. </p><br><h3 id="5-pozvolte-roditelyu-ceplyatsya-za-vnutrennyuyu-logiku">  5. Deje que el padre se aferre a la l√≥gica interna </h3><br><p>  A veces creamos componentes con mucha l√≥gica interna y estados, por ejemplo, diagramas autocompletados o interactivos. </p><br><p>  Tales componentes a menudo sufren de API excesivas, una de las razones es el gran n√∫mero de casos de uso diferentes que se acumulan con el desarrollo del proyecto. </p><br><p>  Pero, ¬øqu√© pasar√≠a si pudi√©ramos proporcionar un accesorio √∫nico y estandarizado que permita al desarrollador controlar, responder o simplemente cambiar el comportamiento predeterminado del componente? </p><br><p>  Kent Dodds escribi√≥ un excelente art√≠culo sobre el concepto de reductores estatales.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Aqu√≠ hay un art√≠culo sobre el concepto en s√≠</a> , y tambi√©n, aqu√≠ hay un art√≠culo sobre c√≥mo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">implementar esto para los ganchos React</a> . </p><br><p>  En resumen, este es un patr√≥n de transferencia de funci√≥n reductor de estado a su componente, que permitir√° al desarrollador acceder a todas las acciones realizadas dentro de su componente.  Puede cambiar de estado o incluso causar efectos secundarios.  Esta es una excelente manera de proporcionar un <strong>alto nivel de personalizaci√≥n, sin ning√∫n accesorio</strong> . </p><br><p>  As√≠ es como podr√≠a verse: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyCustomDropdown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stateReducer = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === Dropdown.actions.CLOSE) { buttonRef.current.focus(); } }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;&gt; &lt;Dropdown stateReducer={stateReducer} {...props} /&gt; &lt;Button ref={buttonRef}&gt;Open&lt;/Button&gt; &lt;/&gt; }</code> </pre> <br><p>  Por cierto, puede crear formas m√°s simples de responder a los eventos.  Es probable que usar el <code>onClose</code> en el ejemplo anterior haga que el uso del componente sea m√°s conveniente.  Use el patr√≥n "reductor de estado" cuando sea necesario. </p><br><h3 id="6-ispolzuyte-operator-troetochie-spread-dlya-ostavshihsya-propsov">  6. Use el operador de propagaci√≥n para los accesorios restantes </h3><br><p>  Cada vez que cree un nuevo componente, aseg√∫rese de aplicar los puntos suspensivos a los accesorios restantes y enviarlos al elemento para el que tiene sentido. </p><br><p>  No es necesario que contin√∫e agregando accesorios a su componente, que simplemente se pasar√° al componente o elemento base.  Esto har√° que su API sea m√°s estable al eliminar la necesidad de muchos errores de versiones peque√±as cuando el pr√≥ximo desarrollador necesite un nuevo detector de eventos o una etiqueta ARIA. </p><br><p>  Puedes hacerlo as√≠: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ isVisible, ...rest }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isVisible ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"tooltip"</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...rest</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml"> : null; }</span></span></code> </pre> <br><p>  Siempre que su componente pase prop a su implementaci√≥n, como un nombre de clase o un controlador <code>onClick</code> , aseg√∫rese de que otro desarrollador pueda hacer lo mismo.  En el caso de una clase, simplemente puede agregar la clase prop utilizando la conveniente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">biblioteca de nombres de clase npm</a> (o simplemente concatenaci√≥n de cadenas): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> classNames <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'classnames'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{classNames(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">tooltip</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">props.tooltip</span></span></span></span><span class="xml"><span class="hljs-tag">)} /&gt;</span></span></span><span class="xml"> }</span></span></code> </pre> <br><p>  En el caso de los controladores de clics y otras devoluciones de llamada, puede combinarlos en una funci√≥n utilizando una peque√±a utilidad.  Aqu√≠ hay una forma de hacer esto: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...functions</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">) =&gt;</span></span> functions .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> func === <span class="hljs-string"><span class="hljs-string">'function'</span></span>) .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function"> =&gt;</span></span> func(...args)); }</code> </pre> <br><p>  Aqu√≠ creamos una funci√≥n que acepta una lista de funciones para combinarlas.  Devuelve una nueva devoluci√≥n de llamada, que los llama a todos a su vez con los mismos argumentos. </p><br><p>  Esta funci√≥n se puede usar de esta manera: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [isVisible, setVisible] = React.useState(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;span {...props} className={classNames(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'tooltip'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, props.className</span></span></span><span class="hljs-function">)} </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onMouseIn</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="hljs-function">) =&gt;</span></span> setVisible(<span class="hljs-literal"><span class="hljs-literal">true</span></span>), props.onMouseIn)} onMouseOut={combine(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> setVisible(<span class="hljs-literal"><span class="hljs-literal">false</span></span>), props.onMouseOut)} /&gt; ); }</code> </pre> <br><h3 id="7-ispolzuyte-znacheniya-po-umolchaniyu">  7. Use los valores predeterminados </h3><br><p>  Aseg√∫rese de dar suficientes valores predeterminados (valores predeterminados) a sus accesorios.  Por lo tanto, reducir√° el n√∫mero de accesorios obligatorios.  Esto simplificar√° enormemente su API. </p><br><p>  Tome, por ejemplo, el controlador <code>onClick</code> .  Si su c√≥digo no necesita este controlador, use la funci√≥n vac√≠a (noop-function) como accesorio por defecto.  De esta manera, puede llamarlo en su c√≥digo como si siempre se pasara. </p><br><p>  Otro ejemplo podr√≠a ser para la entrada del usuario.  Suponga que la cadena de entrada es una cadena vac√≠a a menos que se especifique lo contrario.  Esto le permitir√° asegurarse de que siempre est√° tratando con un objeto de cadena, no con algo indefinido o nulo. </p><br><h3 id="8-ne-nado-pereimenovyvat-atributy-html">  8. No es necesario cambiar el nombre de los atributos HTML </h3><br><p>  HTML como lenguaje tiene sus propios accesorios, o atributos, y en s√≠ mismo es una API para elementos HTML.  Entonces, ¬øpor qu√© no seguir usando esta API? </p><br><p>  Como mencionamos anteriormente, minimizar la superficie API y su intuici√≥n son m√©todos √∫tiles para mejorar la API de sus componentes.  Entonces, en lugar de crear su propio accesorio <code>screenReaderLabel</code> , ¬øpor qu√© no simplemente usar una <code>aria-label</code> existente? </p><br><p>  <strong>Mant√©ngase alejado de renombrar cualquier atributo HTML existente</strong> para su propia "facilidad de uso".  Ni siquiera reemplaza la API existente, simplemente agrega la suya encima.  La gente todav√≠a puede pasar la <code>aria-label</code> junto con su <code>screenReaderLabel</code> screenReaderLabel, y ¬øcu√°l deber√≠a ser el valor final entonces? </p><br><p>  Adem√°s, aseg√∫rese de nunca anular los atributos HTML en sus componentes.  Un gran ejemplo es el atributo de <code>type</code> del elemento <code>&lt;button /&gt;</code> .  Se puede <code>submit</code> (predeterminado), <code>button</code> o <code>reset</code> .  Sin embargo, muchos desarrolladores redefinen este accesorio para denotar el tipo visual del bot√≥n ( <code>primary</code> , <code>cta</code> , etc.). </p><br><p>  Si va a utilizar dicho accesorio, deber√° agregar una anulaci√≥n para el atributo de <code>type</code> verdadero.  Esto generar√° confusi√≥n, dudas y molestias por parte de los desarrolladores. </p><br><p>  Cr√©ame, comet√≠ este error una y otra vez, si lo comete, tendr√° que desenredarlo durante mucho tiempo. </p><br><h3 id="9-pishite-tipy-propsov-ili-prosto-tipy">  9. Escribe los tipos de accesorios (o solo tipos) </h3><br><p>  Ninguna documentaci√≥n ser√° tan buena como la documentaci√≥n que se encuentra dentro de su c√≥digo.  React viene con una excelente manera de declarar sus API usando el paquete <code>prop-types</code> .  √ösalo. </p><br><p>  Puede especificar los requisitos de formato para sus accesorios obligatorios y opcionales, y puede mejorarlos con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">comentarios JSDoc</a> . </p><br><p>  Si no especifica un accesorio obligatorio o pasa un valor no v√°lido o inesperado, en el tiempo de ejecuci√≥n recibir√° una advertencia en la consola.  Esto ayuda mucho durante el desarrollo y puede eliminarse de la producci√≥n. </p><br><p>  Si escribe sus aplicaciones React en TypeScript o usa Flow, obtendr√° la documentaci√≥n de la API como una funci√≥n de lenguaje.  Esto mejora a√∫n m√°s el soporte de las herramientas de desarrollo y simplifica el trabajo. </p><br><p>  Si usted mismo no utiliza JavaScript escrito, deber√≠a considerar proporcionar definiciones de tipo a los desarrolladores que lo utilizan.  Entonces ser√° mucho m√°s f√°cil para ellos usar sus componentes. </p><br><h3 id="10-proektiruyte-dlya-razrabotchikov">  10. Dise√±o para desarrolladores. </h3><br><p>  Finalmente, la regla m√°s importante a seguir.  Aseg√∫rese de que su API y su trabajo con sus componentes est√©n optimizados para los desarrolladores que lo usar√°n. </p><br><p>  Una forma de simplificar el trabajo de un desarrollador es darle comentarios sobre el uso inapropiado.  Haga esto con mensajes de error y tambi√©n, pero solo durante el desarrollo, con advertencias de que hay formas m√°s eficientes de usar su componente. </p><br><p>  Al escribir errores y advertencias, proporcione enlaces a su documentaci√≥n o muestre ejemplos de c√≥digo simples.  Cuanto m√°s r√°pido entienda el desarrollador cu√°l es el problema y c√≥mo solucionarlo, m√°s conveniente ser√° su componente para el trabajo. </p><br><p>  Incre√≠blemente, pero result√≥ que la presencia de todas estas advertencias de error no afecta el tama√±o del paquete final.  Gracias a los milagros de eliminar el c√≥digo muerto, todo este texto y c√≥digo de error se pueden eliminar durante el ensamblaje en producci√≥n. </p><br><p>  Una de las bibliotecas que ofrece comentarios incre√≠blemente buenos es React.  No importa si olvid√≥ especificar la clave para los elementos de la lista, o escribi√≥ el m√©todo del ciclo de vida incorrectamente, o tal vez olvid√≥ extender la clase base o llam√≥ al gancho de una manera incierta; en cualquier caso, recibir√° grandes mensajes de error en la consola.  ¬øPor qu√© los desarrolladores que usan sus componentes deben esperar menos de usted? </p><br><p>  As√≠ que dise√±a para tus futuros usuarios.  Dise√±a para ti desde el futuro.  ¬°Dise√±e para los desafortunados que tendr√°n que mantener su c√≥digo cuando se vaya!  Dise√±o para desarrolladores. </p><br><h3 id="itogo">  Total </h3><br><p>  Podemos aprender mucho del enfoque cl√°sico de API.  Siguiendo los consejos, trucos, reglas y mandamientos de este art√≠culo, puede crear componentes que sean f√°ciles de usar, f√°ciles de mantener, intuitivos y, si es necesario, muy flexibles. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/460559/">https://habr.com/ru/post/460559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460547/index.html">Antig√ºedades: Psion 5MX y Retired Life</a></li>
<li><a href="../460551/index.html">Portugal Las mejores playas y mil startups al a√±o.</a></li>
<li><a href="../460553/index.html">Tecnolog√≠a, outsourcing y mentalidad: c√≥mo implementamos Microsoft Dynamics 365 en la oficina alemana de Lamoda</a></li>
<li><a href="../460555/index.html">Informe de la reuni√≥n de PyDaCon en Mail.ru Group, 22 de junio</a></li>
<li><a href="../460557/index.html">Una selecci√≥n de ejemplos de trabajo de procesamiento de datos.</a></li>
<li><a href="../460561/index.html">C√≥mo desarrollar otro juego de plataformas con Unity. Otro tutorial, parte 2</a></li>
<li><a href="../460565/index.html">Batalla por la cuenta. Fundador de la red Jeffrey's Coffee demanda en VKontakte</a></li>
<li><a href="../460567/index.html">React Native: crea una lista arrastrable y deslizable</a></li>
<li><a href="../460569/index.html">Software de escritura con la funcionalidad de las utilidades cliente-servidor Windows, parte 01</a></li>
<li><a href="../460573/index.html">Google afirma que "reCAPTCHA" no abusa de los datos del usuario. ¬øVale la pena creerlo?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>