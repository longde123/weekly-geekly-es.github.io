<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏾‍🤝‍🧑🏾 👋🏼 👩🏿‍🍳 Menyiapkan pengujian otomatis aplikasi hybrid 💉 🏷️ 🦇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada artikel ini saya ingin berbagi pengalaman saya dalam memecahkan masalah meluncurkan pengujian otomatis aplikasi mobile di Android. 

 Apa yang ak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menyiapkan pengujian otomatis aplikasi hybrid</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452742/">  Pada artikel ini saya ingin berbagi pengalaman saya dalam memecahkan masalah meluncurkan pengujian otomatis aplikasi mobile di Android. <br><br><h2>  Apa yang akan saya ceritakan: </h2><br><ul><li>  Cara menjalankan lingkungan pengujian otomatis menggunakan Appium <br>  (PC OS - Windows 10) </li><li>  Cara menghindari beberapa kesalahan yang terjadi saat mencoba menjalankan tes dalam aplikasi hybrid </li><li>  Beberapa perintah dasar untuk menjalankan tes paling sederhana.  Kami akan menggunakan Java dan JavaScript </li></ul><a name="habracut"></a><br><h2>  Tantangan </h2><br>  Mengotomatiskan pengujian aplikasi seluler hybrid. <br><br>  Tentang aplikasi yang akan diuji: <br><div class="scrollable-table"><table><tbody><tr><td>  Platform </td><td>  Android </td></tr><tr><td>  Kerangka kerja </td><td>  Angular, Cordova, Ionik </td></tr><tr><td>  Browser </td><td>  Crosswalk </td></tr></tbody></table></div><br>  Mungkin ini adalah poin utama yang mempengaruhi konfigurasi PC untuk menjalankan tes. <br><br><h2>  Lingkungan uji </h2><br>  Kami akan menggunakan Appium sebagai alat pengujian otomatis. <br>  Singkatnya, ini adalah alat yang memungkinkan Anda untuk menggunakan server untuk mengirim perintah kepada klien apa yang harus dilakukan dan mengapa. <br><br>  Anda dapat memperoleh informasi lengkap di situs web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengembang</a> . <br><br>  Mari kita mulai. <br><br>  Di tempat yang nyaman bagi Anda di disk, buat folder "Otomatisasi Appium". <br><br>  Sebagai contoh: <br><br><pre><code class="plaintext hljs">C:\Appium automation</code> </pre> <br>  Lebih jauh dalam folder ini (C: \ Appium automation) buat beberapa folder lagi: <br><div class="scrollable-table"><table><tbody><tr><td>  Android SDK </td><td>  C: \ Appium automation \ Android SDK </td></tr><tr><td>  Android Studio </td><td>  C: \ Appium automation \ Android Studio </td></tr><tr><td>  APK </td><td>  C: \ Appium automation \ APK </td></tr><tr><td>  Appium lib </td><td>  C: \ Appium automation \ Appium Lib </td></tr><tr><td>  Lib selenium </td><td>  C: \ Appium automation \ Selenium Lib </td></tr></tbody></table></div><br>  Jika ada salah satu aplikasi / komponen yang telah Anda instal, dengan mengikuti instruksi Anda baru saja memahami logika hubungan, mis.  tidak perlu menginstal ulang semuanya. <br><br><h2>  Mengisi folder yang dibuat dan memuat komponen lainnya </h2><br><h3>  1. Java SDK </h3><br>  Ikuti tautan dan klik Unduh: <br><br><img src="https://habrastorage.org/webt/tk/v8/5e/tkv85eeozm-zxppbrbnhfnylnsu.png"><br><br>  Selanjutnya, kita masuk ke halaman unduhan untuk berbagai sistem operasi, seperti  Saya memiliki Windows 10 x64, pilih: <br><br><img src="https://habrastorage.org/webt/-c/az/xt/-cazxtubqocc54mw-t4mw6unzyc.png"><br><br>  Setelah mengunduh file, buka dan ekstrak paket .exe-shnik (pilih path saat instalasi) ke folder: <br><br><pre> <code class="plaintext hljs">C:\Program Files\Java\jdk-12.0.1</code> </pre> <br>  <i>(nomor versi pada saat unduhan dapat bervariasi)</i> <br><br><h3>  2. Android Studio dan Android SDK </h3><br>  Untuk mengunduh, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ikuti tautan</a> . <br><br>  Pasang di folder: <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Android Studio</code> </pre> <br>  Selama peluncuran pertama Studio Android, Anda harus <b>mengonfigurasi program</b> : <br><br><ul><li>  Instal Ketik pilih Custom, klik Next </li><li>  Pilih tema yang Anda suka, klik Berikutnya </li><li>  Lokasi Android SDK tentukan C: \ Appium automation \ Android SDK, klik Next </li><li>  Pengaturan Emulator dapat dibiarkan pada Recommended, klik Next </li><li>  Klik Selesai dan tunggu proses instalasi untuk menyelesaikan. </li></ul><br>  <b>Buat proyek baru di Android Studio:</b> <br><br><ul><li>  Klik Mulai proyek Android Studio baru </li><li>  Tunjukkan Nama, Path ke proyek Anda, atau Anda tidak dapat mengubah apa pun dan meninggalkan yang diusulkan, klik Next </li><li>  Di daftar turun bawah Ponsel dan Tablet, pilih “API 23: Android 6.0 (Marshmallow), klik Berikutnya </li><li>  Pilih Aktivitas Kosong, klik Selanjutnya </li><li>  Klik Selanjutnya </li><li>  Klik Selesai </li></ul><br>  <b>Instal Alat SDK</b> <br><br>  Di Android Studio, pilih Alat - SDK Manager. <br><br>  Di jendela yang muncul, bagian Android SDK akan dipilih. <br><br><img src="https://habrastorage.org/webt/os/_0/_v/os_0_vspi8pv4zxy7nd467jidns.png"><br><br>  Pada tab Platform SDK, pilih versi Android tempat Anda akan melakukan pengujian. <br>  Dan, pada Alat SDK, pilih item: <br><br><ul><li>  Android SDK Build-Tools </li><li>  Android Emulator </li><li>  Android SDK Platform-Tools </li><li>  Alat Android SDK </li><li>  Dokumentasi untuk Android SDK </li><li>  Mendukung repositori </li></ul><br>  Klik Terapkan atau Oke dan tunggu pengunduhan dan pemasangan komponen selesai. <br><br><img src="https://habrastorage.org/webt/or/yn/3m/oryn3mpv3hztnxhcbyswrii5lwo.png"><br><br><h3>  3. Buat variabel PATH </h3><br>  Klik kanan pada "My Computer" - "Properties" - "Advanced System Settings". <br>  Di jendela yang terbuka, pada tab "Advanced", pilih "Variabel lingkungan ..." <br><br>  Di blok "Variabel Sistem", buat variabel baru. <br><br><img src="https://habrastorage.org/webt/w3/6j/qa/w36jqawmywp25jzuakdqjcxm7ew.png"><br><br><img src="https://habrastorage.org/webt/wa/-1/ln/wa-1lnnhoeq31tu9y5yijlaomfu.png"><br><br>  <b>Variabel pertama</b> <br><br>  Nama Variabel - JAVA_HOME <br><br>  Nilai variabelnya adalah <br><br><pre> <code class="plaintext hljs">C:\Program Files\Java\jdk-12.0.1</code> </pre> <br>  (jalur tempat Anda menginstal jdk pada langkah 1, dalam beberapa kasus mungkin folder Program Files akan disebut Program Files (x86)) <br><br>  <b>Variabel kedua</b> <br><br>  Nama Variabel - ANDROID_HOME <br><br>  Nilai variabelnya adalah <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Android SDK</code> </pre> <br>  <b>Tambahan Variabel Path</b> <br><br>  Temukan variabel Path dalam daftar variabel sistem dan klik "Ubah ...". <br><br>  Klik "Buat" di jendela yang muncul dan tambahkan variabel: <br><br><ul><li>  % ANDROID_HOME% \ emulator </li><li>  % ANDROID_HOME% \ platform-tools </li><li>  % ANDROID_HOME% \ alat </li><li>  % ANDROID_HOME% \ tools \ bin </li></ul><br>  Akibatnya, Anda harus mendapatkan 4 variabel baru, setelah itu Anda harus mengklik Ok. <br><br><img src="https://habrastorage.org/webt/c6/x6/vi/c6x6viqmdb0fqbhurecbqknjyiy.png"><br><br><h3>  4. Appium </h3><br>  <b>Unduh Appium:</b> <br><br><ul><li>  Kami mengikuti tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">http://appium.io/</a> </li><li>  Klik Unduh </li><li>  Kami memilih Appium-windows-1.13.0.exe (nomor versi pada saat memuat mungkin bervariasi) </li></ul><br><img src="https://habrastorage.org/webt/hu/sm/yx/husmyxk1fvejkd7y4y8jaxdbvym.png"><br><br>  Jalankan file .exe yang diunduh dan instal Appium di PC Anda.  Selama proses instalasi, Anda hanya perlu memilih untuk menginstal secara global atau ke pengguna tertentu.  Saya menginstal secara global sejak itu  itu tidak masalah bagi saya. <br><br>  <b>Mengunduh pustaka Appium:</b> <br><br><ul><li>  Kami mengikuti tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">http://appium.io/downloads.html</a> </li><li>  Pilih bahasa, dalam Java kasus saya </li><li>  Klik ikon unduhan </li></ul><br><img src="https://habrastorage.org/webt/le/zv/el/lezvel7fmjx-eca19mywvtcxeos.png"><br><br>  Pindahkan file .jar yang diunduh ke folder <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br><ul><li>  Kami mengikuti tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://mvnrepository.com/artifact/junit/junit</a> </li><li>  Kami memilih versi stabil terbaru (Saya memilikinya 4,12) </li><li>  Klik untuk memuat file .jar </li></ul><br><img src="https://habrastorage.org/webt/vt/2w/l3/vt2wl3f8wgkrwqkttolyc_wxad0.png"><br><br>  Pindahkan file .jar yang diunduh ke folder: <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br><br><ul><li>  Kami mengikuti tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core</a> </li><li>  Pilih versi stabil terbaru (saya menggunakan 1.3) </li><li>  Klik untuk memuat file .jar </li></ul><br><img src="https://habrastorage.org/webt/pm/rj/yl/pmrjylunp15yv4i9k2dbrt5qlli.png"><br><br>  Pindahkan file .jar yang diunduh ke folder: <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br>  <b>Unduh perpustakaan Selenium:</b> <br><br><ul><li>  Kami mengikuti tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://www.seleniumhq.org/download</a> </li><li>  Pilih bahasa, dalam Java kasus saya </li><li>  Klik Unduh </li></ul><br><img src="https://habrastorage.org/webt/qe/vh/im/qevhimwudtjl4xuefskik1yffva.png"><br><br>  Buka paket arsip yang diunduh ke folder: <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Selenium Lib</code> </pre> <br><h2>  5. Edisi Komunitas IntelliJ IDEA </h2><br>  Untuk mengunduh, buka tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://www.jetbrains.com/idea/download</a> <br>  Dekat versi Komunitas dan klik Unduh (ini adalah versi gratis, tetapi cukup untuk tes otomatis). <br><br>  Halaman unduhan memiliki perbandingan versi Komunitas dan Ultimate. <br><br>  Jika Anda memiliki keinginan untuk membeli versi Ultimate, Anda dapat melakukannya dengan aman!  Tetapi, sekali lagi, versi Komunitas sudah cukup. <br><br>  Jalankan file .exe yang diunduh dan instal (klik Berikutnya hingga program mulai menginstal) <br><br>  <b>Peluncuran IntelliJ IDEA Pertama</b> <br><br><ul><li>  Pilih “Jangan impor pengaturan” </li><li>  Kami menerima perjanjian lisensi </li><li>  Pilih topik </li><li>  Klik Selanjutnya </li><li>  Klik Mulai menggunakan IntelliJ IDEA </li></ul><br>  <b>Membuat proyek di IntelliJ IDEA</b> <br><br><ul><li>  Pilih Buat Proyek Baru </li><li>  Tentukan path ke Java SDK <br><ul><li>  Klik Baru ... </li><li>  Tentukan path ke Java SDK C yang dimuat sebelumnya: \ Program Files \ Java \ jdk-12.0.1 </li></ul></li><li>  Klik Selanjutnya </li><li>  Centang kotak "Buat proyek dari template" </li><li>  Klik Selanjutnya </li><li>  Tentukan nama proyek dan lokasi yang akan disimpan </li><li>  Klik Selesai </li></ul><br>  <b>Pengaturan untuk proyek yang dibuat</b> <br><br>  Pilih File - Struktur Proyek ... <br><br>  Di jendela yang muncul, pilih Modul - Dependensi - “+” - JAR atau direktori ... <br><br><img src="https://habrastorage.org/webt/9x/j2/om/9xj2om_3_7ffkxapkghxa-nnm_8.png"><br><br>  Dan kami menambahkan ke proyek semua pustaka yang dimuat sebelumnya. <br><br><img src="https://habrastorage.org/webt/w7/ky/1f/w7ky1fqtizkqqxnbkjvc8lqmap8.png"><br><br>  Klik OK. <br><br>  Sekarang proyek siap untuk menjalankan tes. <br><br><h3>  6. Pengaturan perangkat Android </h3><br>  <b>Perangkat nyata</b> <br>  Anda memerlukan kabel USB untuk menghubungkan perangkat ke komputer dan smartphone itu sendiri. <br><br>  Untuk memulai, buka "Pengaturan" - "Tentang ponsel" di telepon pintar. <br><br>  Lebih lanjut, pada smartphone yang berbeda, semuanya berbeda, tetapi intinya adalah, Anda perlu menemukan "Nomor seri" dan mengkliknya 5-7 kali sampai pemanggang muncul bahwa "Anda sekarang adalah pengembang" (teks pemberitahuan mungkin berbeda dari model ke model) <br><br>  Setelah manipulasi ini, bagian "Untuk Pengembang" akan muncul di pengaturan ponsel Anda.  Itu juga dapat bersembunyi dari model ke model di bagian yang berbeda, misalnya, di suatu tempat di "Pengaturan" - "Untuk Pengembang", dan di suatu tempat "Pengaturan" - "Fitur Khusus" - "Untuk Pengembang", dll. . <br><br>  Anda harus pergi ke bagian "Untuk Pengembang" dan mengaktifkan "USB Debugging". <br><br>  Saat Anda menghubungkan ponsel cerdas Anda melalui USB, Anda akan melihat pesan tentang izin debugging USB, Anda dapat memeriksa “Percayai perangkat ini” dan klik “OK”, maka pesan ini tidak akan muncul lagi saat berikutnya ponsel terhubung ke PC ini. <br>  Semua ponsel cerdas Anda siap bekerja dalam pengujian otomatis. <br><br>  <b>Perangkat virtual</b> <br><br>  Anda juga dapat membuat perangkat virtual melalui Android Studio, maka Anda tidak perlu menghubungkan perangkat nyata ke komputer. <br><br>  Tetapi pada perangkat virtual, tes dapat bekerja lebih lambat daripada yang nyata. <br><br>  Untuk membuatnya, buka Android Studio, lalu: <br><br><ul><li>  "Alat" - "AVD Manager" - "+ Buat Perangkat Virtual ..." </li><li>  Pilih perangkat, klik Berikutnya </li><li>  Pilih versi Android yang diinginkan, klik Next </li><li>  Tentukan nama perangkat, klik Selesai </li></ul><br>  Setelah manipulasi yang dilakukan di bagian "Alat" - "Manajer AVD" Anda akan melihat perangkat yang dibuat.  Dengan menggunakan ikon "Play" berwarna hijau, Anda dapat memulai perangkat. <br><br>  <b>Bagaimana cara memeriksa apakah PC Anda melihat perangkat yang terhubung?</b> <br><br>  Jalankan baris perintah ("Mulai" - "Utilitas - Windows" - "Prompt Perintah") <br>  Dan masukkan perintah adb devices. <br><br>  Akibatnya, jika perangkat terhubung dengan fungsi "USB Debugging" diaktifkan, Anda akan menerima perangkat yang terhubung dan UDID-nya (nomor seri): <br><br><pre> <code class="plaintext hljs">List of devices attached UDID device</code> </pre><br><h3>  7. Kami sedang menulis proyek </h3><br>  <b>Tambahkan impor.</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> name; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidElement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.JavascriptExecutor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.MalformedURLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit;</code> </pre><br>  <b>Kami mendaftarkan server dan ke mana ia harus mengirim permintaan</b> <br><br>  Instal Driver Android: <br><br><pre> <code class="java hljs">AndroidDriver&lt;AndroidElement&gt; driver = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>;</code> </pre> <br>  Kami mengatur parameter (properti): <br><br><pre> <code class="java hljs">DesiredCapabilities capabilities = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities();</code> </pre> <br>  Nama perangkat (Anda dapat menemukannya untuk perangkat nyata di "Pengaturan" - "Tentang Telepon", dan untuk "Alat" virtual - "AVD Manager" - bidang "Nama"): <br><br><pre> <code class="java hljs">capabilities.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"MyPhone"</span></span>);</code> </pre> <br>  Tautan ke APK yang harus diluncurkan (.apk harus merupakan versi debug agar Anda dan appium dapat memeriksa aplikasi): <br><br><pre> <code class="java hljs">capabilities.setCapability(MobileCapabilityType.APP, <span class="hljs-string"><span class="hljs-string">"C:\\Appium automation\\APK\\My-debug-Apk.apk"</span></span>);</code> </pre> <br>  Luncurkan Driver Appium: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidDriver&lt;&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), capabilities); driver.manage().timeouts().implicitlyWait(<span class="hljs-number"><span class="hljs-number">10</span></span>, TimeUnit.SECONDS); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (MalformedURLException e) { System.out.println(e.getMessage()); }</code> </pre><br>  Kode ini akan cukup untuk meluncurkan aplikasi Anda pada perangkat yang terhubung. <br><br>  <b>Tim tambahan</b> <br><br>  Untuk menunda proyek untuk waktu tertentu, misalnya 8 detik.  (nilai ditunjukkan dalam milidetik).  Mungkin perlu jika Anda harus menunggu halaman atau aplikasi memuat: <br><br><pre> <code class="java hljs">Thread.sleep(<span class="hljs-number"><span class="hljs-number">8000</span></span>);</code> </pre> <br>  Kami mendapatkan ContextHandles, tempat kami memahami apa yang kami kerjakan sekarang (NATIVE_APP atau WEBVIEW): <br><br><pre> <code class="java hljs">Set&lt;String&gt; contextNames = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String contextName : contextNames) { System.out.println(contextName); }</code> </pre> <br>  Tetapkan Konteks untuk nilai terakhir yang diterima dalam array.  Ini akan memungkinkan Anda untuk beralih dengan benar ke WEBVIEW, tk.  Konteks default = NATIVE_APP: <br><br><pre> <code class="java hljs">driver.context((String) contextNames.toArray()[contextNames.toArray().length - <span class="hljs-number"><span class="hljs-number">1</span></span>]);</code> </pre> <br>  <b>Kami mengontrol antarmuka aplikasi</b> <br><br>  Karena  kami bekerja dengan aplikasi hybrid, mis.  elemen aplikasi diberikan dalam WEBVIEW, dan bukan di NATIVE_APP, maka paling sering kita harus menggunakan satu jenis pencarian untuk elemen findElementByCssSelector. <br><br>  Klik pada tombol OK: <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".button-ok"</span></span>).click();</code> </pre> <br>  - dimana .button-ok adalah kelas elemen.  Anda juga dapat menggunakan ID elemen dengan tepat. <br><br>  Kami mengirim nilai di bidang, misalnya, Anda memiliki pencarian dan Anda ingin mengirim nilai "Bioskop" di sana. <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-input"</span></span>).sendKeys(<span class="hljs-string"><span class="hljs-string">""</span></span>);</code> </pre> <br><br>  Klik untuk menemukan: <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-button"</span></span>).click();</code> </pre> <br>  Dengan cara ini, Anda sudah bisa mengendalikan aplikasi Anda. <br><br>  Cepat atau lambat, Anda akan menemukan itu, tidak semua konten ditempatkan di layar smartphone, mis.  Anda perlu menggulir.  Jika suatu elemen tidak terlihat di layar selama proses pengujian, Appium akan membuat kesalahan bahwa elemen itu tidak melihat elemen dan kemungkinan besar semua pengujian lebih lanjut akan ditutupi dengan kesalahan. <br><br>  Untuk menggulir layar, Anda dapat menjalankan fungsi JS scrollIntoView di Java. <br><br><pre> <code class="java hljs">((JavascriptExecutor) driver).executeScript(<span class="hljs-string"><span class="hljs-string">"document.querySelector('.button-ok').scrollIntoView({block: \"end\", behavior: \"smooth\"});"</span></span>);</code> </pre> <br>  Dalam kasus saya, ini akan memungkinkan Anda untuk turun ke tombol OK. <br><br>  Mungkin ini adalah insiden dimana Anda menulis semuanya dengan benar, tetapi pengguliran tidak dilakukan. <br><br>  Cobalah untuk mengikat elemen-elemen lain di layar dan pertama-tama lebih baik melakukannya melalui konsol di Chrome - Inspect, jadi Anda dijamin mengerti bahwa ketika Anda mengikat elemen ini, gulir akan berfungsi. <br><br>  Anda dapat pergi ke langkah 8 dan jika semuanya bekerja untuk Anda, maka ini hebat! <br>  Tapi saya punya perangkap lain. <br>  Namanya adalah Crosswalk Browser. <br><br>  Ketika saya memulai proyek, saya selalu mendapat kesalahan: <br><br><pre> <code class="plaintext hljs">“Make sure the app has its webview configured for debugging”</code> </pre> <br>  Ini berarti tidak ada satu tes pun yang tidak dilakukan. <br><br>  Apa yang perlu Anda periksa dalam hal ini: <br><br><ul><li>  pastikan Anda memiliki build debug </li><li>  pastikan debug build memungkinkan Inspect-a application </li><li>  pasang fixed chromedriver <br><ul><li>  ikuti tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://github.com/blutter/appium-crosswalk-fix</a> </li><li>  instalasi akan melalui npm jadi instal terlebih dahulu di PC Anda ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://www.npmjs.com/get-npm</a> ) </li></ul></li></ul><br>  Setelah manipulasi ini, tambahkan kemampuan lain ke proyek Anda. <br><br><pre> <code class="java hljs">capabilities.setCapability(<span class="hljs-string"><span class="hljs-string">"chromedriverExecutable"</span></span>, <span class="hljs-string"><span class="hljs-string">"C:\\node_modules\\appium-with-crosswalk-fix\\chromedriver\\2.28\\chromedriver.exe"</span></span>);</code> </pre> <br>  - di mana C: \\ node_modules \\ appium-with-crosswalk-fix \\ chromedriver \\ 2.28 \\ chromedriver.exe <br>  ini adalah cara untuk memperbaiki chromedriver <br><br>  <b>Jadi proyek Anda akan terlihat seperti ini:</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> name; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidElement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.JavascriptExecutor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.MalformedURLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> InterruptedException </span></span>{ AndroidDriver&lt;AndroidElement&gt; driver = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; DesiredCapabilities capabilities = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities(); capabilities.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"MyPhone"</span></span>); capabilities.setCapability(MobileCapabilityType.APP, <span class="hljs-string"><span class="hljs-string">"C:\\Appium automation\\APK\\My-debug-apk.apk"</span></span>); capabilities.setCapability(<span class="hljs-string"><span class="hljs-string">"chromedriverExecutable"</span></span>, <span class="hljs-string"><span class="hljs-string">"C:\\node_modules\\appium-with-crosswalk-fix\\chromedriver\\2.28\\chromedriver.exe"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidDriver&lt;&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), capabilities); driver.manage().timeouts().implicitlyWait(<span class="hljs-number"><span class="hljs-number">10</span></span>, TimeUnit.SECONDS); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (MalformedURLException e) { System.out.println(e.getMessage()); } Set&lt;String&gt; contextNames = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String contextName : contextNames) { System.out.println(contextName); } driver.context((String) contextNames.toArray()[contextNames.toArray().length - <span class="hljs-number"><span class="hljs-number">1</span></span>]); Thread.sleep(<span class="hljs-number"><span class="hljs-number">8000</span></span>); driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-input"</span></span>).sendKeys(<span class="hljs-string"><span class="hljs-string">""</span></span>); driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-button"</span></span>).click(); }</code> </pre><br>  Proyek semacam itu: <br><br><ul><li>  Instal aplikasi Anda di perangkat. </li><li>  Temukan bidang pencarian di halaman aplikasi </li><li>  Akan membawa ke sana arti "Bioskop" </li><li>  Klik pada tombol "Cari" </li></ul><br><h3>  8. Kami memulai proyek </h3><br>  Ada beberapa poin utama untuk memulai suatu proyek: <br><br><ul><li>  Luncurkan server Appium (item 4) <br><ul><li>  Gunakan pintasan untuk meluncurkan Appium </li><li>  Klik "Mulai server" </li></ul></li><li>  Hubungkan perangkat ke PC atau luncurkan perangkat virtual (item 6) </li><li>  Buat proyek (p. 5 dan 7) </li><li>  Klik Jalankan (atau pada bilah alat IntelliJ IDEA, atau Jalankan - Jalankan 'Main') </li><li>  Selamat menikmati hasilnya </li></ul><br>  Nah, maka Anda bebas untuk menguji pengaturan, informasi yang diperlukan ada di situs web resmi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengembang</a> . <br>  Appium juga dapat digunakan untuk menguji aplikasi iOS. <br><br>  Saya ingin menulis sebentar, tetapi ternyata seperti biasa. <br><br>  Terima kasih kepada semua orang yang membaca sampai akhir, semoga bermanfaat bagi Anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id452742/">https://habr.com/ru/post/id452742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id452730/index.html">Sertifikasi sistem informasi berdasarkan prinsip segmen standar. Mitos dan Realita</a></li>
<li><a href="../id452734/index.html">Bermigrasi aplikasi iOS (ARM) secara otomatis ke macOS (x86) menggunakan Bitcode</a></li>
<li><a href="../id452736/index.html">Enkripsi Pesan di SecureDialogues</a></li>
<li><a href="../id452738/index.html">Ulasan Telepon IP Snom D717</a></li>
<li><a href="../id452740/index.html">Pilihan Kumpulan Data untuk Pembelajaran Mesin</a></li>
<li><a href="../id452744/index.html">Apakah ada kehidupan penuh seorang pengubah tanpa pertukaran lepas?</a></li>
<li><a href="../id452746/index.html">Buku "The Art of Programming dalam R. Immersing in Big Data"</a></li>
<li><a href="../id452748/index.html">Prinsip pengembangan aplikasi modern dari NGINX. Bagian 1</a></li>
<li><a href="../id452750/index.html">Nextcloud di dalam dan di luar OpenLiteSpeed: konfigurasikan proxy terbalik</a></li>
<li><a href="../id452752/index.html">BigData buatan rumah. Bagian 1. Praktek Spark Streaming pada gugus AWS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>