<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â¬…ï¸ ğŸ•ºğŸ¼ ğŸšœ Berkontribusi untuk Pergi dengan pengurai go-critic ğŸš´ğŸ» ğŸ§ğŸ¿ ğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ‘©ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anda mungkin ingat pengumuman terbaru dari penganalisa statis baru untuk Go yang disebut go-critic . 


 Saya memeriksa proyek golang / go dengannya d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Berkontribusi untuk Pergi dengan pengurai go-critic</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416903/"><p><img src="https://habrastorage.org/webt/fp/k0/rn/fpk0rncwtlo5ozovjev4yi_gok8.png"></p><br><p>  Anda mungkin ingat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengumuman</a> terbaru <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari penganalisa statis baru untuk Go yang</a> disebut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-critic</a> . </p><br><p>  Saya memeriksa proyek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">golang / go</a> dengannya dan mengirim beberapa tambalan yang memperbaiki beberapa masalah yang ditemukan di sana. </p><br><p>  Dalam artikel ini, kami akan menganalisis kode yang diperbaiki, dan kami juga akan termotivasi untuk mengirim lebih banyak lagi perubahan seperti itu ke Go. </p><br><p>  Untuk yang paling tidak sabar: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">daftar piala yang diperbarui</a> . </p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Pergi Daftar Parsing</b> <div class="spoiler_text"><ol><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">net: menggabungkan panggilan tambahkan dalam appeadCombine</a> <code>appendCombine</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cmd / link / internal / ld: hindari salinan Reloc dalam rentang loop</a> <code>rangeValCopy</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cmd / compile / internal / ssa: perbaiki partsByVarOffset. Metode</a> <code>dupSubExpr</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">runtime: hapus deref eksplisit berlebihan di underef</a> <code>underef</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cmd / link / internal / sym: kode tanda komentar untuk kasus ELF di RelocName</a> <code>commentedOutCode</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">runtime: sederhanakan ekspresi slice ke irisan nilai itu sendiri</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">html / templat: gunakan konstanta bernama alih-alih nilainya</a> <code>namedConst</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cmd / internal / obj / arm64: sederhanakan beberapa ekspresi bool</a> <code>boolExprSimplify</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">matematika, bersih: hapus expr tag benar eksplisit di switch</a> <code>switchTrue</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">arsip / tar: pulihkan parens redundan dalam tipe ekspresi</a> <code>typeUnparen</code> </li></ol></div></div><br><h1 id="dupsubexpr">  dupSubExpr </h1><br><p>  Kita semua membuat kesalahan, dan, cukup sering, karena kurang perhatian.  Go, menjadi bahasa di mana Anda kadang-kadang harus menulis kode membosankan dan boilerplate, kadang-kadang berkontribusi untuk kesalahan ketik dan / atau kesalahan salin / tempel. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL122776</a> berisi perbaikan untuk bug yang ditemukan oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dupSubExpr</a> : </p><br><pre> <code class="diff hljs">func (a partsByVarOffset) Less(i, j int) bool { - return varOffset(a.slots[a.slotIDs[i]]) &lt; varOffset(a.slots[a.slotIDs[i]]) + return varOffset(a.slots[a.slotIDs[i]]) &lt; varOffset(a.slots[a.slotIDs[j]]) // ^__________________________________^ }</code> </pre> <br><p>  Perhatikan indeks di kiri dan kanan.  Sebelum koreksi, LHS dan RHS operator <code>&lt;</code> identik, dan <code>dupSubExpr</code> bekerja untuk <code>dupSubExpr</code> . </p><br><h1 id="commentedoutcode">  commentedOutCode </h1><br><p>  Jika proyek Anda disponsori <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">oleh sistem kontrol versi</a> , maka alih-alih menonaktifkan kode dengan membungkusnya dalam komentar, sebaiknya hapus sepenuhnya.  Ada pengecualian, tetapi lebih sering kode "mati" seperti itu mengganggu, membingungkan, dan dapat menyembunyikan kesalahan. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">commentedOutCode</a> dapat menemukan fragmen yang menarik ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL122896</a> ): </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> arch.Family { <span class="hljs-comment"><span class="hljs-comment">// ...  case clause. case sys.I386: return elf.R_386(nr).String() case sys.MIPS, sys.MIPS64: // return elf.R_MIPS(nr).String() // &lt;- 1 case sys.PPC64: // return elf.R_PPC64(nr).String() // &lt;- 2 case sys.S390X: // return elf.R_390(nr).String() // &lt;- 3 default: panic("unreachable") }</span></span></code> </pre> <br><p>  Ada komentar yang sedikit lebih tinggi: </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// We didn't have some relocation types at Go1.4. // Uncomment code when we include those in bootstrap code.</span></span></code> </pre> <br><p>  Jika Anda beralih ke cabang <code>go1.4</code> dan menghapus 3 baris ini dari komentar, kode tidak akan dikompilasi, namun jika Anda menghapus komentar pada panduan, semuanya akan berfungsi. </p><br><p>  Biasanya, kode yang disembunyikan dalam komentar memerlukan penghapusan atau aktivasi balik. </p><br><p>  Berguna, dari waktu ke waktu, untuk mengunjungi gema masa lalu seperti itu dalam kode Anda. </p><br><div class="spoiler">  <b class="spoiler_title">Tentang kesulitan deteksi</b> <div class="spoiler_text"><p>  Ini adalah salah satu cek favorit saya, tetapi ini salah satu yang paling "berisik". </p><br><p>  Banyak positif palsu untuk paket yang menggunakan <code>math/big</code> dan di dalam kompiler.  Dalam kasus pertama, ini biasanya komentar penjelasan tentang operasi yang dilakukan, dan yang kedua, deskripsi kode yang menggambarkan fragmen AST.  Membedakan komentar seperti itu dari kode "mati" nyata tanpa memperkenalkan negatif palsu adalah tidak biasa. </p><br><p>  Ini memunculkan ide: bagaimana jika kita sepakat untuk entah bagaimana mengkhususkan kode di dalam komentar, yang jelas?  Maka analisis statis akan disederhanakan.  Ini bisa berupa hal sepele yang akan membuatnya mudah untuk mendefinisikan komentar penjelasan seperti itu, atau membuatnya menjadi kode Go yang tidak valid (misalnya, jika Anda menambahkan tanda pound, <code>#</code> ke awal baris). </p><br><p>  Kategori lain adalah komentar dengan <code>TODO</code> eksplisit.  Jika kode dihapus untuk komentar, tetapi ada deskripsi yang jelas tentang mengapa ini dilakukan dan ketika direncanakan untuk memperbaiki potongan kode ini, maka lebih baik tidak memberikan peringatan.  Ini sudah diterapkan, tetapi bisa bekerja lebih andal. </p></div></div><br><h1 id="boolexprsimplify">  boolExprSederhana </h1><br><p>  Terkadang orang menulis kode aneh.  Mungkin menurut saya, tetapi ekspresi logis ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Boolean</a> ) terkadang terlihat sangat aneh. </p><br><p>  Go memiliki backend assembler x86 yang luar biasa (di sini air mata jatuh), tetapi ARM benar-benar salah: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !(o1 != <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> }</code> </pre> <br><p>  "Jika tidak, o1 tidak sama dengan 0" ... Negasi ganda adalah klasik.  Jika Anda menyukainya, saya mengundang Anda untuk membiasakan diri dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL123377</a> .  Di sana Anda dapat melihat versi yang diperbaiki. </p><br><div class="spoiler">  <b class="spoiler_title">Opsi yang diperbaiki (bagi mereka yang tidak dapat dipancing untuk meninjau ulang)</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">- if !(o1 != 0) { + if o1 == 0 {</span></span></code> </pre> </div></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">boolExprSimplify</a> ditujukan untuk penyederhanaan yang meningkatkan keterbacaan (dan Go optimizer akan mengatasi masalah kinerja tanpanya). </p><br><h1 id="underef">  underef </h1><br><p>  Jika Anda menggunakan Go dari versi sebelumnya, Anda dapat mengingat titik koma wajib, kurangnya referensi dereferensi otomatis, dan fitur lain yang saat ini hampir tidak mungkin dilihat dalam kode baru. </p><br><p>  Di kode lama, Anda masih dapat melihat sesuatu seperti ini: </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// -    : buf := (*bufp).ptr() // ...     : buf := bufp.ptr()</span></span></code> </pre> <br><p>  Beberapa pemicu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">underef</a> tetap pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL122895</a> . </p><br><h1 id="appendcombine">  appendCombine </h1><br><p>  Anda mungkin tahu bahwa <code>append</code> dapat mengambil beberapa argumen sebagai elemen untuk ditambahkan ke slice target.  Dalam beberapa situasi, ini dapat sedikit meningkatkan keterbacaan kode, tetapi, yang mungkin lebih menarik, ini juga dapat mempercepat program Anda, karena kompiler tidak menekan panggilan <code>append</code> kompatibel ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cmd / compile: menggabungkan panggilan append</a> ). </p><br><p>  Di Go, cek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">appendCombine</a> menemukan bagian berikut: </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">- for i := len(ip) - 1; i &gt;= 0; i-- { - v := ip[i] - buf = append(buf, hexDigit[v&amp;0xF]) - buf = append(buf, '.') - buf = append(buf, hexDigit[v&gt;&gt;4]) - buf = append(buf, '.') - } + for i := len(ip) - 1; i &gt;= 0; i-- { + v := ip[i] + buf = append(buf, hexDigit[v&amp;0xF], + '.', + hexDigit[v&gt;&gt;4], + '.') + }</span></span></code> </pre> <br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">old</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span>/op <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span>/op delta ReverseAddress<span class="hljs-number"><span class="hljs-number">-8</span></span> <span class="hljs-number"><span class="hljs-number">4.10</span></span>Âµs Â± <span class="hljs-number"><span class="hljs-number">3</span></span>% <span class="hljs-number"><span class="hljs-number">3.94</span></span>Âµs Â± <span class="hljs-number"><span class="hljs-number">1</span></span>% <span class="hljs-number"><span class="hljs-number">-3.81</span></span>% (p=<span class="hljs-number"><span class="hljs-number">0.000</span></span> n=<span class="hljs-number"><span class="hljs-number">10</span></span>+<span class="hljs-number"><span class="hljs-number">9</span></span>)</code> </pre> <br><p>  Detail dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL117615</a> . </p><br><h1 id="rangevalcopy">  rangeValCopy </h1><br><p>  Bukan rahasia lagi bahwa nilai-nilai yang diulang dalam <code>range</code> loop disalin.  Untuk objek kecil, katakanlah, kurang dari 64 byte, Anda bahkan mungkin tidak memperhatikan ini.  Namun, jika siklus seperti itu terletak pada jalur "panas", atau, yang Anda ulangi, mengandung sejumlah besar elemen, overhead dapat menjadi nyata. </p><br><p>  Go memiliki tautan yang agak lambat (cmd / tautan), dan tanpa perubahan signifikan dalam arsitekturnya, perolehan kinerja yang kuat tidak dapat dicapai.  Tetapi kemudian Anda dapat sedikit mengurangi inefisiensi dengan bantuan optimasi mikro.  Setiap persen atau dua diperhitungkan. </p><br><p>  Pemeriksaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">rangeValCopy</a> menemukan beberapa siklus dengan penyalinan data yang tidak diinginkan sekaligus.  Inilah yang paling menarik dari mereka: </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">- for _, r := range exports.R { - d.mark(r.Sym, nil) - } + for i := range exports.R { + d.mark(exports.R[i].Sym, nil) + }</span></span></code> </pre> <br><p>  Alih-alih menyalin <code>R[i]</code> di setiap iterasi, kami hanya beralih ke satu-satunya anggota yang menarik bagi kami, <code>Sym</code> . </p><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">old</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span>/op <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span>/op delta Linker<span class="hljs-number"><span class="hljs-number">-4</span></span> <span class="hljs-number"><span class="hljs-number">530</span></span>ms Â± <span class="hljs-number"><span class="hljs-number">2</span></span>% <span class="hljs-number"><span class="hljs-number">521</span></span>ms Â± <span class="hljs-number"><span class="hljs-number">3</span></span>% <span class="hljs-number"><span class="hljs-number">-1.80</span></span>% (p=<span class="hljs-number"><span class="hljs-number">0.000</span></span> n=<span class="hljs-number"><span class="hljs-number">17</span></span>+<span class="hljs-number"><span class="hljs-number">20</span></span>)</code> </pre> <br><p>  Versi lengkap tambalan tersedia di: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL113636</a> . </p><br><h1 id="namedconst">  bernamaConst </h1><br><p>  Di Go, sayangnya, konstanta bernama, bahkan dirangkai menjadi kelompok, tidak saling berhubungan dan tidak membentuk enumerasi ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">proposal: spek: tambahkan dukungan enum yang diketik</a> ). </p><br><p>  Satu masalah adalah melemparkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">konstanta yang tidak diketik</a> ke tipe yang ingin Anda gunakan sebagai enum. </p><br><p>  Misalkan Anda mendefinisikan jenis <code>Color</code> , ia memiliki nilai <code>const ColDefault Color = 0</code> . <br>  Manakah dari dua cuplikan kode ini yang lebih Anda sukai? </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// (A) if color == 0 { return colorBlack } // (B) if color == colorDefault { return colorBlack }</span></span></code> </pre> <br><p>  Jika <code>(B)</code> tampaknya lebih sesuai untuk Anda, memeriksa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">namedConst</a> akan membantu Anda melacak penggunaan nilai-nilai konstan bernama, melewati konstanta bernama itu sendiri. </p><br><p>  Ini adalah bagaimana metode <a href=""><code>context.mangle</code></a> dari paket <code>html/template</code> ditransformasikan: </p><br><pre> <code class="diff hljs"> s := templateName + "$htmltemplate_" + c.state.String() - if c.delim != 0 { + if c.delim != delimNone { s += "_" + c.delim.String() } - if c.urlPart != 0 { + if c.urlPart != urlPartNone { s += "_" + c.urlPart.String() } - if c.jsCtx != 0 { + if c.jsCtx != jsCtxRegexp { s += "_" + c.jsCtx.String() } - if c.attr != 0 { + if c.attr != attrNone { s += "_" + c.attr.String() } - if c.element != 0 { + if c.element != elementNone { s += "_" + c.element.String() } return s</code> </pre> <br><p>  Ngomong-ngomong, terkadang di tautan ke tambalan Anda dapat menemukan diskusi menarik ... <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL123376</a> adalah salah satu contohnya. </p><br><h1 id="unslice">  tidak baik </h1><br><p>  Ciri <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ekspresi slice</a> adalah <code>x[:]</code> selalu identik dengan <code>x</code> jika tipe <code>x</code> adalah slice atau string.  Dalam kasus irisan, ini berfungsi untuk semua jenis elemen <code>[]T</code> . </p><br><p>  Semua yang ada di daftar di bawah adalah sama ( <code>x</code> - slice): </p><br><ul><li> <code>x</code> </li> <li> <code>x[:]</code> </li> <li> <code>x[:][:]</code> </li> <li>  ... </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">unslice</a> menemukan ekspresi irisan redundan yang serupa.  Ekspresi ini berbahaya, pertama-tama, dengan beban kognitif ekstra.  <code>x[:]</code> memiliki semantik yang cukup signifikan dalam hal mengambil slice dari array.  Irisan dengan rentang default tidak melakukan apa pun kecuali kebisingan. </p><br><p>  Saya meminta patch di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL123375</a> . </p><br><h1 id="switchtrue">  switchTrue </h1><br><p>  Di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL123378</a> , " <code>switch true {...}</code> " diganti oleh " <code>switch {...}</code> ". <br>  Kedua bentuk itu setara, tetapi yang kedua lebih idiomatis. <br>  Ditemukan dengan memeriksa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">switchTrue</a> . </p><br><p>  Kebanyakan pemeriksaan gaya mengungkapkan kasus-kasus seperti itu di mana kedua opsi dapat diterima, tetapi salah satunya lebih umum dan akrab bagi lebih banyak programmer Go.  Pemeriksaan selanjutnya dari seri yang sama. </p><br><h1 id="typeunparen">  ketikUnparen </h1><br><p>  Go, seperti banyak bahasa pemrograman lainnya, menyukai tanda kurung.  Sedemikian rupa sehingga saya siap untuk menerima sejumlah dari mereka: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> ( t0 <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t1 (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) t2 ((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// ... ,  . )</span></span></code> </pre> <br><p>  Tetapi apa yang terjadi jika Anda menjalankan <code>gofmt</code> ? </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> ( t0 <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t1 (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) <span class="hljs-comment"><span class="hljs-comment">// &lt;- !   . t2 (int) // &lt;-    ... )</span></span></code> </pre> <br><p>  Karena itulah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">typeUnparen</a> ada.  Dia menemukan dalam program semua jenis ekspresi di mana Anda dapat mengurangi jumlah tanda kurung.  Saya mencoba mengirim <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CL123379</a> , mari kita lihat bagaimana komunitas akan menerimanya. </p><br><div class="spoiler">  <b class="spoiler_title">Getah tidak suka kawat gigi</b> <div class="spoiler_text"><p>  Tidak seperti bahasa C-like, di Lisp tidak mudah untuk memasukkan tanda kurung yang tidak berguna di sembarang tempat.  Jadi dalam bahasa yang sintaksisnya didasarkan pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ekspresi-S</a> , menulis sebuah program yang tidak memiliki apa-apa selain memiliki sejumlah besar tanda kurung lebih sulit daripada dalam beberapa bahasa lain. </p></div></div><br><h1 id="go-critic-na-sluzhbe-go">  go-critic on go </h1><br><p> <a href="" title="Klik untuk memperbesar"><img src="https://habrastorage.org/webt/bq/0a/ig/bq0aigrftmrocldewkgzuhiycdo.jpeg"></a> </p><br><p>  Kami memeriksa hanya sebagian kecil dari cek yang dilaksanakan.  Pada saat yang sama, kuantitas dan kualitas mereka hanya akan berkembang seiring waktu, termasuk terima kasih kepada orang-orang yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bergabung dalam pengembangan</a> . </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-critic</a> benar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">-</a> benar gratis untuk penggunaan apa pun ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lisensi MIT</a> ), dan juga terbuka untuk partisipasi Anda dalam pengembangan proyek.  Kirimi kami gagasan untuk cek, Anda dapat segera mengimplementasikannya, melaporkan bug dan kekurangan yang ditemukan, membagikan kesan Anda.  Anda juga dapat mengusulkan proyek untuk audit atau melaporkan ulasan kode Go Anda, pengalaman ini sangat berharga bagi kami. </p><br><h2 id="tema-kontribyutinga-v-go">  Go Contributing Theme </h2><br><p>  Pernahkah Anda melihat artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lokakarya kontribusi Go di Rusia</a> ?  Musim gugur ini akan menjadi babak kedua.  Dan kali ini, selain format dan sponsor yang lebih sukses, kami akan memiliki senjata rahasia - penganalisa statis yang luar biasa.  Akan ada kontribusi yang cukup sama sekali! </p><br><p>  Tetapi pada kenyataannya, Anda dapat mulai sekarang (meskipun itu lebih baik - sedikit kemudian, setelah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pembekuan kode</a> ).  Jika Anda berhasil merasa nyaman sebelum lokakarya berikutnya, itu akan sangat keren, karena kami sangat kekurangan mentor di Rusia. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id416903/">https://habr.com/ru/post/id416903/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id416891/index.html">Di Amerika Serikat, mereka masih diizinkan untuk mendistribusikan model 3D dan gambar digital untuk senjata DIY.</a></li>
<li><a href="../id416893/index.html">Vaadin Flow - rusa yang aneh</a></li>
<li><a href="../id416897/index.html">Cara membuat sistem pembayaran do-it-yourself</a></li>
<li><a href="../id416899/index.html">Kami memberi tahu walikota ke mana harus pergi (menggunakan Open Street Map)</a></li>
<li><a href="../id416901/index.html">Bagaimana IT dan profesional keamanan melindungi diri mereka sendiri: kasus nyata dengan Cisco Connect, BlackHat, RSAC dan MWC</a></li>
<li><a href="../id416905/index.html">Presentasi Boston Dynamics SpotMini</a></li>
<li><a href="../id416907/index.html">Teori kebahagiaan. Hukum antrian zebra dan alien</a></li>
<li><a href="../id416909/index.html">PostgreSQL riwayat sesi aktif - ekstensi pgsentinel baru</a></li>
<li><a href="../id416911/index.html">Chatbots seharusnya menjadi terobosan berikutnya: apa yang salah?</a></li>
<li><a href="../id416913/index.html">Apa yang harus dilupakan administrator ketika beralih ke cloud - dan apa yang harus dipelajari</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>