<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéë ü§© üëßüèø Menghubungkan ke Windows melalui SSH seperti di Linux üåÜ üîú üôÖüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya selalu tertekan oleh koneksi ke mesin Windows. Tidak, saya bukan lawan atau pendukung Microsoft dan produk mereka. Setiap produk ada untuk tujuan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menghubungkan ke Windows melalui SSH seperti di Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453676/">  Saya selalu tertekan oleh koneksi ke mesin Windows.  Tidak, saya bukan lawan atau pendukung Microsoft dan produk mereka.  Setiap produk ada untuk tujuannya, tetapi ini bukan tentang itu. <br>  Itu selalu menyakitkan bagi saya untuk terhubung ke server Windows, karena koneksi ini dikonfigurasi melalui satu tempat (halo WinRM dengan HTTPS) atau tidak bekerja dengan sangat stabil (halo RDP ke mesin virtual di luar negeri). <br><br>  Oleh karena itu, tanpa sengaja menemukan proyek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Win32-OpenSSH</a> , saya memutuskan untuk berbagi pengalaman konfigurasi.  Mungkin seseorang alat ini menyimpan banyak saraf. <br><br><img src="https://habrastorage.org/webt/ni/87/b-/ni87b-jl8n4kb_my9tek8-tsgqo.jpeg"><br><a name="habracut"></a><br>  Opsi Instalasi: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Secara manual</a> </li><li>  Melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Paket</a> Chocolatey </li><li>  Via Ansible, mis. Peran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">jborean93.win_openssh</a> </li></ol><br>  Selanjutnya, saya akan berbicara tentang poin pertama, seperti yang lain, dan jadi semuanya lebih atau kurang jelas. <br><br>  Saya perhatikan bahwa proyek ini masih dalam versi beta, jadi tidak disarankan untuk digunakan dalam produksi. <br><br>  Jadi, unduh rilis terbaru, saat ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">versi 7.9.0.0p1-beta</a> .  Ada versi untuk sistem 32 dan 64 bit. <br><br>  Buka kemasan dalam <i>C: \ Program Files \ OpenSSH</i> <br>  Wajib saat untuk pekerjaan yang benar: hanya <i>SISTEM</i> dan grup admin yang harus memiliki izin menulis di direktori ini. <br><br>  Instal layanan dengan <i>skrip install-sshd.ps1 yang</i> terletak di direktori ini <br><br><pre><code class="plaintext hljs">powershell.exe -ExecutionPolicy Bypass -File install-sshd.ps1</code> </pre> <br>  Izinkan koneksi masuk ke port 22: <br><br><pre> <code class="plaintext hljs">New-NetFirewallRule -Name sshd -DisplayName 'OpenSSH Server (sshd)' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22</code> </pre> <br>  Klarifikasi: <i>applet New-NetFirewallRule</i> digunakan pada Windows Server 2012 dan yang lebih baru.  Di sistem tertua (atau desktop), Anda dapat menggunakan perintah: <br><br><pre> <code class="plaintext hljs">netsh advfirewall firewall add rule name=sshd dir=in action=allow protocol=TCP localport=22</code> </pre><br>  Kami memulai layanan: <br><br><pre> <code class="plaintext hljs">net start sshd</code> </pre> <br>  Saat startup, kunci host (jika tidak ada) akan secara otomatis dihasilkan dalam <i>% programdata% \ ssh</i> <br><br>  Autostart layanan pada startup sistem yang dapat kita aktifkan dengan perintah: <br><br><pre> <code class="plaintext hljs">Set-Service sshd -StartupType Automatic</code> </pre> <br>  Anda juga dapat mengubah shell default (setelah instalasi, defaultnya adalah <i>cmd</i> ): <br><br><pre> <code class="plaintext hljs">New-ItemProperty -Path "HKLM:\SOFTWARE\OpenSSH" -Name DefaultShell -Value "C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe" -PropertyType String -Force</code> </pre> <br>  Spesifikasi: Jalur absolut harus ditentukan. <br><br>  Apa selanjutnya <br><br>  Dan kemudian konfigurasikan <i>sshd_config</i> , yang akan kita tempatkan di <i>C: \ ProgramData \ ssh</i> .  Sebagai contoh: <br><br><pre> <code class="plaintext hljs">PasswordAuthentication no PubkeyAuthentication yes</code> </pre> <br>  Dan buat direktori <i>.ssh</i> di folder pengguna, dan di dalamnya ada file <i>Authorized_keys</i> .  Kami menulis kunci publik di sana. <br><br>  Klarifikasi penting: hanya pengguna yang memiliki direktori tempat file tersebut harus memiliki izin menulis untuk file ini. <br><br>  Tetapi jika Anda memiliki masalah dengan ini, Anda selalu dapat mematikan pemeriksaan hak di konfigurasi: <br><br><pre> <code class="plaintext hljs">StrictModes no</code> </pre> <br>  Ngomong-ngomong, di <i>C: \ Program Files \ OpenSSH ada</i> 2 skrip ( <i>FixHostFilePermissions.ps1</i> , <i>FixUserFilePermissions.ps1</i> ), yang seharusnya <s>tetapi tidak diharuskan untuk</s> memperbaiki hak-haknya, termasuk dengan <i>Authorized_keys</i> , tetapi untuk beberapa alasan mereka tidak akan diperbaiki. <br><br>  Ingatlah untuk memulai kembali layanan <i>sshd</i> setelah menerapkan perubahan. <br><br><pre> <code class="bash hljs">ru-mbp-666:infrastructure$ ssh Administrator@192.168.1.10 -i ~/.ssh/id_rsa Windows PowerShell Copyright (C) 2016 Microsoft Corporation. All rights reserved. PS C:\Users\Administrator&gt; Get-Host Name : ConsoleHost Version : 5.1.14393.2791 InstanceId : 653210bd-6f58-445e-80a0-66f66666f6f6 UI : System.Management.Automation.Internal.Host.InternalHostUserInterface CurrentCulture : en-US CurrentUICulture : en-US PrivateData : Microsoft.PowerShell.ConsoleHost+ConsoleColorProxy DebuggerEnabled : True IsRunspacePushed : False Runspace : System.Management.Automation.Runspaces.LocalRunspace PS C:\Users\Administrator&gt;</code> </pre> <br>  Pro / kontra subyektif. <br><br>  Pro: <br><br><ul><li>  Pendekatan standar untuk menghubungkan ke server. <br>  <i>Ketika ada beberapa mesin Windows, itu sangat merepotkan ketika:</i> <i><br></i>  <i>Jadi, di sini kita pergi dengan ssh, dan di sini rdp,</i> <i><br></i>  <i>dan umumnya praktik terbaik dengan benteng, pertama terowongan ssh, dan melalui itu RDP.</i> </li><li>  Pengaturan mudah <br>  <i>Saya pikir ini sudah jelas.</i> </li><li>  Kecepatan koneksi dan bekerja dengan mesin jarak jauh <br>  <i>Tidak ada shell grafis, baik sumber daya server dan jumlah data yang dikirim disimpan.</i> </li></ul><br>  Cons: <br><br><ul><li>  Tidak mengganti RDP sepenuhnya. <br>  <i>Tidak semuanya bisa dilakukan dari konsol, sayang.</i>  <i>Maksud saya situasi di mana GUI diperlukan.</i> </li></ul><br>  Bahan yang digunakan dalam artikel: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan ke proyek itu sendiri</a> <br>  Opsi instalasi disalin tanpa malu-malu dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ansible docs</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id453676/">https://habr.com/ru/post/id453676/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id453662/index.html">Mars - bahkan lebih banyak es di Kutub Utara, tetapi dalam</a></li>
<li><a href="../id453664/index.html">Spring Boot - OAuth2 dan JWT</a></li>
<li><a href="../id453666/index.html">Bagaimana saya mengendarai taksi tak berawak</a></li>
<li><a href="../id453668/index.html">10 kesalahan RO muda (bagian I - tiga kesalahan)</a></li>
<li><a href="../id453672/index.html">CardInfo - API untuk menentukan logo, warna bank dan hal-hal lain dengan nomor kartu</a></li>
<li><a href="../id453678/index.html">Cara melihat gema atau transmisi video dengan suara melalui air - 2</a></li>
<li><a href="../id453682/index.html">Pengembangan "firmware" paling sederhana untuk FPGA yang dipasang di Redd. Bagian 2. Kode program</a></li>
<li><a href="../id453686/index.html">Pekan Keamanan 22: statistik ancaman, trojan perbankan, dan eksploitasi populer</a></li>
<li><a href="../id453688/index.html">Java tidak hanya berdarah perusahaan, tetapi juga aplikasi yang sensitif terhadap latensi cepat</a></li>
<li><a href="../id453692/index.html">Game 3D Shaders for Beginners: Effects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>