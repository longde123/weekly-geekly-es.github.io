<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçüíª üòñ üëä La vida antes del tiempo de ejecuci√≥n. Informe Yandex üôÖüèª ‚õπüèº üîÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En un proyecto grande, puede surgir la tarea de identificar cambios para el usuario final por diferencias en el c√≥digo front-end de la aplicaci√≥n. El ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La vida antes del tiempo de ejecuci√≥n. Informe Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/454470/">  En un proyecto grande, puede surgir la tarea de identificar cambios para el usuario final por diferencias en el c√≥digo front-end de la aplicaci√≥n.  El desarrollador de Yandex.Market Nikita Sidorov @nickshevr cont√≥ c√≥mo resolvimos este problema usando la biblioteca Diffector, sobre c√≥mo construir y analizar el gr√°fico del m√≥dulo en las aplicaciones de Node.js y sobre encontrar defectos en el c√≥digo antes de su lanzamiento. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/qw/uu/uy/qwuuuy_de8impvpifwc9qdflrka.jpeg"></a> <br><br>  - Hoy intentar√© ser lo m√°s franco posible contigo. <a name="habracut"></a>  He estado trabajando en Yandex.Market por poco m√°s de un a√±o y medio.  Estoy haciendo la misma cantidad de web y comenc√© a notar cambios en m√≠ mismo, tambi√©n puedes notarlos.  Mi longitud promedio de cabello aument√≥ y la barba comenz√≥ a aparecer.  Y ya sabes, hoy mir√© a mis colegas: en Sergei Berezhnoy <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">veged</a> , en Vova Grinenko <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">tadatuta</a> , y me di cuenta: este es un buen criterio para lo que casi he madurado como desarrollador front-end real. <br><br>  Y al hacer este juramento, decid√≠ hablar contigo sobre la vida, sobre aquella en la que todos participamos.  Principalmente sobre la vida antes del tiempo de ejecuci√≥n.  Ahora explicar√© de qu√© se tratar√° todo esto. <br><br><img src="https://habrastorage.org/webt/cy/-_/bm/cy-_bmshiyn9hj20-9dbgekd7fo.jpeg"><br><br>  ¬øQu√© hay de la vida?  Sobre la vida del c√≥digo, por supuesto.  El c√≥digo es lo que hacemos.  Perm√≠teme recordarte que decid√≠ ser sincero contigo aqu√≠, as√≠ que la primera diapositiva fue lo m√°s simple posible.  Tom√© la verdad, la primera etapa: la adopci√≥n, ya ves, nadie discutir√° con este axioma. <br><br><img src="https://habrastorage.org/webt/p5/si/5n/p5si5n0oneks__xee8nrdwtfbt8.jpeg"><br><br>  Y luego me di cuenta de que tendr√≠a que modificarlo, pero para que quedara claro.  Que sea alg√∫n tipo de aceptaci√≥n de requisitos.  Cualquier c√≥digo comienza con el hecho de que mira la tarea e intenta aceptar los requisitos que lo establecen. <br><br><img src="https://habrastorage.org/webt/kv/g0/qx/kvg0qxlxoatcyd7mtxhhcbhvsqa.jpeg"><br><br>  Despu√©s de eso, por supuesto, comenzamos la etapa de escritura: escribimos nuestro c√≥digo.  Luego lo cubrimos con pruebas, verificamos su efectividad nosotros mismos.  Despu√©s de eso, ya verificamos si nuestra aplicaci√≥n funciona con nuestro c√≥digo como un todo.  Despu√©s de eso, se lo damos al probador, d√©jelo verificar.  ¬øQu√© piensas despu√©s de eso?  Te recuerdo, la vida antes del tiempo de ejecuci√≥n.  ¬øCrees que el tiempo de ejecuci√≥n sigue a esto?  De hecho, resulta as√≠.  Y esto no es un error en la presentaci√≥n.  Muy a menudo en cualquier etapa de los controles, y puede haber muchos m√°s de lo que indiqu√©, es posible que tenga que llamar para volver a escribir.  De acuerdo, esto puede ser un problema bastante grande.  Esto puede ralentizar la entrega de algunas caracter√≠sticas en la producci√≥n y, en principio, ralentizarlo como desarrollador, porque el ticket depender√° de usted.  Y aqu√≠ todo pasa, pasa.  Hay algunas M veces m√°s para N comprobaciones, y solo entonces el c√≥digo llega al usuario en el navegador.  Pero este es nuestro objetivo.  Nuestro objetivo es escribir c√≥digo que realmente estar√° disponible para el usuario y realmente funcionar√° para su beneficio. <br><br>  Hoy hablaremos de la primera parte.  Sobre lo que sucede antes, pero no sobre las pruebas. <br><br><img src="https://habrastorage.org/webt/cd/lo/of/cdlooffg2v4i0j6gmel3c16g0r8.jpeg"><br><br>  Por cierto, se ve algo as√≠.  Tom√© nuestro turno en el rastreador, recog√≠ el m√≠o, cont√© la mediana.  Resulta que mis boletos est√°n mucho menos en desarrollo que en cheques.  Y como saben, cuanto m√°s tiempo est√© bajo control, mayores ser√°n las posibilidades de que aparezca goto al principio o goto al final, y no quiero hacer esto en absoluto. <br><br>  Y tambi√©n, si presta atenci√≥n, hay dos palabras en la diapositiva aqu√≠: desarrollo (esto es lo que estamos haciendo los desarrolladores) y verificaci√≥n (esto es lo que estamos haciendo, pero tambi√©n probadores).  Por lo tanto, el problema es relevante, de hecho, para los evaluadores. <br><br><img src="https://habrastorage.org/webt/fm/sc/qc/fmscqcprnl87tudqe7yqg1p9nky.jpeg"><br><br>  El objetivo es bastante prosaico.  En general, me gusta decir que la vida debe simplificarse: ya trabajamos mucho con usted.  El objetivo se parece a esto, pero debes admitir que es bastante ef√≠mero, as√≠ que resaltemos algunos criterios b√°sicos de los que puede depender el objetivo. <br><br>  Por supuesto, cuanto menos c√≥digo, m√°s f√°cil es para nosotros.  Cuanto m√°s r√°pido tengamos controles de CI, m√°s pronto nos daremos cuenta de si tenemos raz√≥n o no.  Es decir, localmente, generalmente puede comenzar para siempre.  Velocidad de verificaci√≥n: esto se aplica directamente al probador.  Si nuestra aplicaci√≥n es grande y necesita ser revisada en su totalidad, esta es una gran cantidad de tiempo.  La velocidad de liberaci√≥n depende de todo esto.  Incluso es imposible liberarlo hasta que hayamos pasado todas las comprobaciones y hasta que comprendamos que el c√≥digo es exactamente el que queremos. <br><br>  Para resolver algunos de los problemas de los que estamos hablando, analicemos el gr√°fico de dependencia de los m√≥dulos en nuestro lenguaje de programaci√≥n.  Y, en realidad, describ√°moslo. <br><br><img src="https://habrastorage.org/webt/cm/ry/c-/cmryc-ofgxh240_-rjepob2g3ui.jpeg"><br><br>  El gr√°fico est√° orientado: tiene aristas con direcciones.  En los nodos del gr√°fico, tendremos solo los m√≥dulos del lenguaje del que estamos hablando.  Las costillas son un tipo espec√≠fico de enlace.  Hay varios tipos de comunicaci√≥n. <br><br><img src="https://habrastorage.org/webt/7h/2a/ob/7h2aobcl3tntwcoton3qr5qmaoo.jpeg"><br><br>  Veamos un ejemplo com√∫n.  Hay un archivo A. Aqu√≠, se importa algo del archivo B, y esta es una relaci√≥n entre los nodos. <br><br><img src="https://habrastorage.org/webt/mn/xn/vb/mnxnvbajewbedo_drzafbppqnda.jpeg"><br><br>  Lo mismo suceder√° si reemplaza importar con require.  De hecho, no todo es tan simple aqu√≠. <br><br><img src="https://habrastorage.org/webt/fl/1x/ub/fl1xub0n5kpjz6nh3ais7trybk4.jpeg"><br><br>  Sugiero, ya que estamos hablando del tipo de dependencia, considere al menos dos tipos: acelerar su canalizaci√≥n, acelerar el recorrido del gr√°fico.  Es necesario observar no solo el m√≥dulo dependiente, sino tambi√©n el dependiente.  Propongo llamar al m√≥dulo A - el padre, B - el ni√±o, y le aconsejo que mantenga los enlaces siempre como una lista de doble enlace.  Esto simplificar√° tu vida, te informo de antemano. <br><br>  Una vez que hayamos descrito de alguna manera el gr√°fico, pong√°monos de acuerdo sobre c√≥mo lo construiremos. <br><br><img src="https://habrastorage.org/webt/oi/ir/lf/oiirlfsr0tciu_thxadfismnutm.jpeg"><br><br>  Hay dos formas  Ya sea su herramienta favorita en su lenguaje de programaci√≥n favorito utilizando el mismo AST (√°rboles de sintaxis abstracta) o regulares.  ¬øCu√°l es el beneficio aqu√≠?  El hecho de que aqu√≠ no est√°s atado a nadie, pero al mismo tiempo tienes que implementar todo t√∫ mismo.  Tendr√° que describir todos los tipos de conexiones de todas esas cosas y tecnolog√≠as que utiliza, ya sea un recopilador CSS separado, algo as√≠.  Pero tienes total libertad de vuelo, por as√≠ decirlo. <br><br>  Adem√°s, la segunda opci√≥n, tambi√©n la promocionar√© un poco, esta es una opci√≥n solo para la mayor√≠a de las personas que ya tienen configurado un sistema de compilaci√≥n.  El hecho es que el sistema de ensamblaje recopila un gr√°fico seg√∫n el dise√±o, de forma predeterminada. <br><br><img src="https://habrastorage.org/webt/xc/gk/wk/xcgkwkeunrz5vi_eri49mqub7c0.jpeg"><br><br>  Veamos uno de los sistemas de ensamblaje m√°s populares en Yandex, este es un paquete web.  Aqu√≠ di un ejemplo de c√≥mo puede recopilar todo el resultado del paquete web en un archivo separado, que luego se puede alimentar a nuestro o alg√∫n otro analizador.  Lo recoge con la ayuda de AST, se utiliza la biblioteca bellota.  Puede que la hayas notado cuando algo ha ca√≠do.  Me he dado cuenta. <br><br>  Y cuales son las ventajas.  El hecho es que cuando describi√≥ su sistema de compilaci√≥n, le pidi√≥ la entrada con toda honestidad.  Estos son los archivos de los que se desenrollan sus dependencias, los puntos de derivaci√≥n iniciales.  Esto es bueno, porque no tienes que volver a grabarlos.  Adem√°s, webpack y babel, y todo esto, y bellota, incluido, todav√≠a no es su mantenimiento.  Y, por lo tanto, todo tipo de nuevas caracter√≠sticas del lenguaje, todo tipo de errores y todo lo dem√°s, se corrigen m√°s r√°pido que si lo hicieras, especialmente si no tienes un equipo muy grande.  S√≠, incluso si es grande, entonces no es tan grande como el c√≥digo abierto. <br><br>  Esto es tanto un plus como un menos, de hecho.  Es como si se obtuviera un doble filo (espada de doble filo).  El hecho es que este gr√°fico se construye durante el ensamblaje.  Es bueno, es decir, podemos ensamblar el proyecto e inmediatamente reutilizar el resultado del ensamblaje.  Pero, ¬øqu√© sucede si no queremos armar un proyecto, pero solo queremos obtener este gr√°fico? <br><br>  Y una gran desventaja, de hecho.  Si tiene alguna cosa personalizada conectada, hablaremos mucho m√°s tarde sobre las conexiones, entonces el sistema de compilaci√≥n no le permitir√° hacer esto.  O bien, deber√° integrar esto, como su complemento de paquete web. <br><br><img src="https://habrastorage.org/webt/x0/c4/ye/x0c4yefpe8-w1hgcfeit-n50v8g.jpeg"><br><br>  Considere un ejemplo espec√≠fico.  Ejecut√© un comando en mi proyecci√≥n, donde solo hay tres archivos, y obtuve esta salida.  Y esto solo muestro una clave, que se llama m√≥dulos.  Solo estamos hablando con usted sobre el gr√°fico de dependencia de los m√≥dulos, por lo que miramos los m√≥dulos, todo es l√≥gico. <br><br><img src="https://habrastorage.org/webt/d_/ky/58/d_ky58s8cbrozt6bzoohxfzvzea.jpeg"><br><br>  Mucha informaci√≥n, pero no necesitamos todo.  Deja algunos puntos y hablemos de ellos.  Supongamos que consideramos el primer m√≥dulo.  √âl tiene un nombre, hay razones.  Las razones son solo la conexi√≥n, de hecho, con los m√≥dulos "dependientes", resulta que los que importan este m√≥dulo a s√≠ mismos.  Estos son los datos b√°sicos para construir un gr√°fico sobre √©l. <br><br><img src="https://habrastorage.org/webt/ld/of/e3/ldofe3q3cyna7bav1ltegf1zwyw.jpeg"><br><br>  Adem√°s, preste atenci√≥n a las exportaciones usadas y las exportaciones proporcionadas.  Hablaremos de ellos un poco m√°s tarde.  Pero estas tambi√©n son cosas muy importantes. <br><br><img src="https://habrastorage.org/webt/ld/of/e3/ldofe3q3cyna7bav1ltegf1zwyw.jpeg"><br><br><img src="https://habrastorage.org/webt/me/db/80/medb80ytkohl1ee0ryh-zaoubak.jpeg"><br><br>  Y si describe su decisi√≥n, debe hablar sobre los tipos de conexiones que ocurren entre los m√≥dulos.  Es decir, tenemos, por supuesto, nuestro sistema de m√≥dulos dentro de nuestro lenguaje: ya sea cjs-modules o esm-modules.  Adem√°s, debe aceptar que podemos tener una conexi√≥n entre archivos en el sistema de archivos al nivel del sistema de archivos en s√≠.  Estos son algunos tipos de marcos: alg√∫n tipo de marco depender√° de c√≥mo sean los pap√°s. <br><br><img src="https://habrastorage.org/webt/9k/cz/hv/9kczhv-gdxjdxwomdj7czjeuqxk.jpeg"><br><br>  Y un ejemplo tan banal: si escribi√≥ el lado del servidor de Node, con bastante frecuencia podr√≠a ver un paquete npm tan popular como Config.  Le permite definir convenientemente sus configuraciones. <br><br><img src="https://habrastorage.org/webt/4d/94/oz/4d94ozf6xvfugnjkxvnsuylgnq4.jpeg"><br><br>  Para usarlo, debe obtener la carpeta de configuraci√≥n, donde tiene NODE_PATH, y especificar varios archivos JavaScript, solo para presentar la configuraci√≥n all√≠ para diferentes entornos.  Como ejemplo, cre√© un pap√°, por defecto especificado, desarrollo y producci√≥n. <br><br><img src="https://habrastorage.org/webt/mk/b8/ms/mkb8mse2x2bim9kv6ps4dwdkmg0.jpeg"><br><br>  Y, de hecho, toda la configuraci√≥n funciona de esta manera.  Es decir, cuando escribe require ('config'), solo lee el m√≥dulo dentro de s√≠ mismo y toma el nombre del m√≥dulo de la variable de entorno.  Como comprender√°, no estaba claro all√≠ que estos archivos se usan de alguna manera, porque no hay importaci√≥n / necesidad directa, webpack ni siquiera lo reconocer√≠a. <br><br><img src="https://habrastorage.org/webt/bk/pr/wv/bkprwvhuxqslrha7tz5x7nddawo.jpeg"><br><h5>  <sup><sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Enlace desde la diapositiva</a></sub></sup> </h5><br>  Hoy tambi√©n hablamos sobre la inyecci√≥n de dependencia.  No era algo inspirado, pero en apoyo mir√© una de las bibliotecas aqu√≠.  Se llama inversify JS.  Como puede ver, proporciona una sintaxis bastante personalizada: lazyInject, nameProvider, y aqu√≠ est√°.  Y, debes admitir, no est√° claro qu√© tipo de proveedor es, qu√© tipo de m√≥dulo realmente inyecta aqu√≠.  Y lo necesitamos, y tenemos que entenderlo.  Es decir, nuevamente, el sistema de compilaci√≥n no se resolver√°, y tendremos que hacerlo nosotros mismos. <br><br>  Supongamos que hemos construido un gr√°fico, y le sugiero que comience almacen√°ndolo en alg√∫n lugar.  ¬øQu√© nos permitir√° hacer esto?  Esto nos permitir√° hacer alg√∫n tipo de an√°lisis heur√≠stico, reproducir un poco de Data Science y hacerlo, centr√°ndonos en un segmento de tiempo. <br><br><img src="https://habrastorage.org/webt/gx/uv/t1/gxuvt1vsmjz1rkihuwoc_t93nua.jpeg"><br><br>  Cual es la idea  Aqu√≠, de hecho, est√° directamente nuestros datos.  Recientemente implementamos nuestro sistema de dise√±o en Yandex.Market y, en particular, implementamos una biblioteca de componentes como parte de este sistema de dise√±o.  Y aqu√≠ puede ver: consideramos la cantidad de importaciones, el componente de reacci√≥n de nuestra biblioteca, el componente com√∫n.  Y puedes distribuir en directorios.  En este caso, tenemos un repositorio no mono y, por lo tanto, tenemos platform.desktop, platform.touch y src. <br><br>  ¬øQu√© podemos pensar cuando vemos estos n√∫meros?  Podemos hipotetizar que el comando t√°ctil no parece aumentar el uso de componentes comunes.  Esto significa que los componentes son malos para los dispositivos m√≥viles, est√°n mal hechos o el comando t√°ctil es lento.  ¬øPero es realmente as√≠? <br><br><img src="https://habrastorage.org/webt/u9/k_/gf/u9k_gfggsknyqnwdnmustdmsy1g.jpeg"><br><br>  Si miramos en un per√≠odo m√°s largo, en un per√≠odo de tiempo m√°s largo, esto nos permite hacer solo el almacenamiento de gr√°ficos despu√©s de cada lanzamiento, entonces entenderemos que, de hecho, todo est√° bien para tocar, el indicador est√° creciendo en √©l.  Para src, es a√∫n mejor, para el escritorio, resulta que no. <br><br><img src="https://habrastorage.org/webt/o4/k-/ro/o4k-ronqjbk7g6w_p3mmph2uywe.jpeg"><br><br>  Todav√≠a hab√≠a una pregunta de la audiencia sobre c√≥mo explicar la importancia a los gerentes.  Aqu√≠ est√° el n√∫mero total de importaciones de la biblioteca, tambi√©n por tiempo.  ¬øA qu√© gerentes no les gustan los gr√°ficos?  Puede crear un calendario de este tipo y ver que el uso de la biblioteca est√° creciendo, lo que significa que esto es al menos algo √∫til. <br><br>  Una de mis partes favoritas.  Lo cubrir√© bastante brevemente.  Esta es una b√∫squeda de defectos en el gr√°fico.  Hoy quer√≠a hablar con ustedes acerca de dos tipos de defectos: esta es una dependencia c√≠clica de m√≥dulos y alg√∫n m√≥dulo no utilizado, es decir, un problema de eliminaci√≥n de c√≥digo muerto. <br><br><img src="https://habrastorage.org/webt/pv/zz/kc/pvzzkcqb1xx6dk5ko7slsrz2iia.jpeg"><br><br>  Comencemos con la dependencia circular. <br><br><img src="https://habrastorage.org/webt/2g/nx/u3/2gnxu3ruhrjtdjhhwfmeomypv-e.jpeg"><br><br>  Todo parece ser bastante simple aqu√≠.  Ya tiene un gr√°fico dirigido, solo necesita encontrar un bucle all√≠.  Explicar√© por qu√© estoy hablando de esto.  El hecho es que antes de escribir, b√°sicamente, el lado del servidor en Node.js, y no usamos, en principio, ning√∫n paquete web / babel, nada.  Es decir, se lanzaron tal cual.  Y hubo requerimiento.  ¬øQui√©n recuerda c√≥mo la importaci√≥n difiere de la requerida?  Todo esta correcto.  Si escribi√≥ mal el c√≥digo, pero realmente lo hice, puede descubrir en su servidor que su m√≥dulo est√° en alg√∫n tipo de dependencia c√≠clica solo cuando alguna solicitud proviene de los usuarios, o alg√∫n otro evento funcionar√°.  Ese es un problema bastante global.  Hasta el tiempo de ejecuci√≥n no entiendo.  Es decir, la importaci√≥n es mucho mejor, no habr√° tal problema. <br><br><img src="https://habrastorage.org/webt/ss/ly/az/sslyazi877vucvcpjj21kth7vle.jpeg"><br><br>  Luego simplemente tome cualquier algoritmo que desee.  Aqu√≠ tom√© un algoritmo bastante simple.  Necesitamos encontrar un v√©rtice que tenga solo un tipo de aristas, ya sea entrante o saliente.  Si existe tal v√©rtice, lo eliminamos, eliminamos los bordes y, de hecho, continuamos este proceso, encontraremos y probaremos que hubo un ciclo de cinco ciclos en este gr√°fico. <br><br>  De acuerdo, si lo mir√≥ por c√≥digo, es decir, all√≠ todav√≠a puede encontrar un ciclo de dos o tres longitudes, pero es m√°s poco realista, y realmente tuvimos un ciclo de siete en el proyecto, pero no en la producci√≥n. <br><br><img src="https://habrastorage.org/webt/yj/cz/kb/yjczkbpye4suwsuhgvmw-ku1azu.jpeg"><br><br>  Sobre m√≥dulos no utilizados.  Tambi√©n hay un algoritmo bastante trivial.  Necesitamos resaltar los componentes conectados en nuestro gr√°fico, y solo mirar, encontrar aquellos componentes que no incluyen ninguno de los nodos de entrada.  En este caso, este es este componente de conectividad, ambos v√©rtices, resulta que ambos nodos.  Luego se llama entry.js.  En realidad, no importa c√≥mo se llame, esto es lo que ha descrito en los medios de configuraci√≥n del ensamblado de entrada. <br><br><img src="https://habrastorage.org/webt/u3/g9/yo/u3g9yo0xtwjegnyxpe-gb1xpk_0.jpeg"><br><br>  Pero hay otro enfoque.  Si no ha recopilado el gr√°fico y solo tiene un sistema de compilaci√≥n, ¬øc√≥mo es la forma m√°s econ√≥mica de hacerlo?  Marquemos todos los archivos que ingresaron al ensamblado durante el ensamblaje.  Etiquetarlos y crear muchos.  Despu√©s de eso, deber√≠amos obtener muchos de los archivos que tiene en el proyecto y simplemente restarlos.  Esa es una operaci√≥n muy simple. <br><br><img src="https://habrastorage.org/webt/e2/yc/zn/e2yczn1scag0kmnvd97aqvdg_hc.jpeg"><br><br>  Y ahora no solo te digo algo te√≥rico, me inspir√©, vine a mi proyecto e hice esto.  Y atenci√≥n!  Ni siquiera elimin√© node_modules.  Esto lo dej√© como un punto de crecimiento para la pr√≥xima revisi√≥n.  Y, en resumen, me inspir√© tanto que decid√≠ hacer esta diapositiva, reorganizarla.  ¬°Que se vea as√≠, porque es realmente genial! <br><br>  Buenos n√∫meros, ¬øte imaginas c√≥mo todo sali√≥ bien?  Y luego fui llevado a una estepa tal que me sent√≠ como un dise√±ador, y pens√© que este es un logro que me gustar√≠a agregar al marco.  Y, como saben, me levant√©, mir√© y me di cuenta de que probablemente no era un dise√±ador, sino un desarrollador web.  Pero no soy tonto.  Tom√© este marco, agregado a mi sitio para amuletos de SEO. <br><br><img src="https://habrastorage.org/webt/ji/14/nq/ji14nqwj-qsydqvw-ennrzkonqi.jpeg"><br><br>  Puedes usar, incluso el enlace es.  Y para que no creas que te estoy enga√±ando, somos francos hoy, realmente mir√© las cr√≠ticas.  Creo que puedes creerles. <br><br><img src="https://habrastorage.org/webt/j0/0j/9v/j00j9vldpwzp39028m0uojaoxia.jpeg"><br><br>  Bueno, para ser honesto, se parec√≠a a esto.  Vi una nueva biblioteca de hipop√≥tamos thanos-js, la tom√©, cre√© una solicitud de grupo.  En secreto, tengo derechos de administrador en nuestro repositorio.  Y tom√© y confund√≠ al maestro.  Como te gusta eso  Bueno, t√∫ y yo somos francos y, de hecho, todo parec√≠a as√≠.  Si alguien no lo sabe, thanos-js es una biblioteca que simplemente elimina el 50% de su c√≥digo al azar. <br><br><img src="https://habrastorage.org/webt/nt/0g/q1/nt0gq16vrnioiabs2sgcyj51qve.jpeg"><br><br>  En realidad, utilic√© la biblioteca all√≠ de todos modos, pero la biblioteca se llama de manera diferente.  Se llama difector, y ahora hablaremos de eso con usted.  Y aqu√≠ me gustar√≠a se√±alar que la solicitud del grupo es bastante significativa, menos 44 mil l√≠neas de c√≥digo, y se pueden imaginar: pas√≥ la prueba la primera vez.  Es decir, de lo que estoy hablando realmente puede funcionar. <br><br><img src="https://habrastorage.org/webt/ue/2i/5w/ue2i5wil5tev67r5vcrzbjsyzmq.jpeg"><br><br>  Difusor  De hecho, est√° involucrado no solo en la tarea de eliminar m√≥dulos no utilizados, buscar defectos en el gr√°fico, sino tambi√©n en una tarea m√°s importante.  Lo que inicialmente dije fue ayudar al desarrollador y al probador, ahora hablaremos de ello.  Y funciona algo como esto. <br><br>  Obtenemos una lista de archivos modificados utilizando el sistema de control de versiones.  Ya hemos construido un gr√°fico, diffector lo construye.  Y para cada archivo modificado, buscamos la ruta de entrada y marcamos la entrada modificada.  Y la entrada corresponder√° con las p√°ginas de la aplicaci√≥n que ver√° el usuario.  Pero esto es bastante l√≥gico. <br><br>  ¬øY qu√© nos da esto?  Para pruebas: sabemos qu√© p√°ginas de la aplicaci√≥n han cambiado.  Podemos decirle al probador que solo vale la pena probarlos.  Tambi√©n podemos decirle a nuestro trabajo ci, que ejecuta pruebas autom√°ticas, que solo vale la pena probar estas p√°ginas.  Y para los desarrolladores, todo es mucho m√°s simple, porque ahora los evaluadores no te escriben y no te preguntan: "¬øPor qu√© necesitas hacer una prueba?" <br><br><img src="https://habrastorage.org/webt/wb/jr/se/wbjrsedhjgtn7xkmh7xzxurf5z4.jpeg"><br><br>  Veamos un ejemplo de c√≥mo funciona el difector.  Aqu√≠ tenemos un cierto directorio, pages.desktop / *.  Solo contiene una lista de las p√°ginas en s√≠.  Y las p√°ginas tambi√©n est√°n descritas por varios archivos.  El controlador es el lado del servidor de la p√°gina.  La vista es alg√∫n tipo de parte de reacci√≥n.  Y deps, esto es de otro sistema de compilaci√≥n.  No solo tenemos webpack, sino tambi√©n ENB. <br><br><img src="https://habrastorage.org/webt/iq/dv/qo/iqdvqoq5yf4xpfpfqnl9ozxmwws.jpeg"><br><br>  E hice algunos cambios en el proyecto, en un archivo vac√≠o, cuya estructura viste.  Esto es lo que me da diffector.  Lo acabo de iniciar, diffector es una aplicaci√≥n de l√≠nea de comandos.  Lo lanc√©, me dice que he cambiado una p√°gina, que se llama BindBonusPage. <br><br><img src="https://habrastorage.org/webt/vy/na/y3/vynay3b95xwzhuuawbjwz7jpbfm.jpeg"><br><br>  Tambi√©n puedo ejecutarlo en modo detallado, ver un informe m√°s detallado y realmente ver que al menos funciona en un caso tan simple.  Como vemos, en nuestra p√°gina BindBonusPage, el archivo de √≠ndice y el controlador han cambiado. <br><br>  Pero veamos qu√© sucede si cambiamos algo m√°s. <br><br><img src="https://habrastorage.org/webt/dd/rh/tl/ddrhtl_drtw2aqq5rt36r4ncqiu.jpeg"><br><br>  Cambi√© algo m√°s.  Y el difector me dijo que he cambiado nueve p√°ginas.  Y esto ya no me hace feliz, como si realmente no me ayudara. <br><br><img src="https://habrastorage.org/webt/ew/qh/ce/ewqhceogxq9z42d5zxl4yvfcyvy.jpeg"><br><br>  A ver por qu√©?  Ahora muestra las razones por las cuales esta p√°gina se consider√≥ modificada.    ,     .  -    uikit. <br><br><img src="https://habrastorage.org/webt/li/wd/ws/liwdwsd_ujkbc-abp18vcmceaim.jpeg"><br><br>    diff.        .  ,    diffector  .          ,    - ,       . <br><br><img src="https://habrastorage.org/webt/zj/kf/uy/zjkfuy1ybdcht1hbuxktaznup2g.jpeg"><br><br>  , , .     ,   ,           entry, , ,       test-scope,     .     . <br><br> . ,    , ,  ,    . <br><br><img src="https://habrastorage.org/webt/pb/ep/ks/pbepksc2lwyezimbbytd6ngbujs.jpeg"><br><br>        .    - ,   .   ‚Äî i18n,    ,    .  , ,  ,         .   ,    ,   - . <br><br>      ?           ,     , , , ,     . <br><br><img src="https://habrastorage.org/webt/zg/07/au/zg07aumxne59rvavifrhtxyi0p8.jpeg"><br><br>   - .     ,      B  ,  ,   -2    .       .        ,  esm. <br><br><img src="https://habrastorage.org/webt/4o/io/d0/4oiod0-nkygafo_zp6ztfh2txju.jpeg"><br><br>      . <br><br><img src="https://habrastorage.org/webt/th/ic/zz/thiczzasr1ggt87bgqy_ddhxlym.jpeg"><br><br>    . <br><br><img src="https://habrastorage.org/webt/vp/sh/4o/vpsh4ozm_pfjbgakddnvri-bzey.jpeg"><br><br> ,     value,          .       ,     ,     .        ,        . <br><br> ,       AST,  ,         250  ,   ,     . ,   ,     -  ,     ,     . <br><br><img src="https://habrastorage.org/webt/yg/og/9p/ygog9p0lhvoiffbm6ilak-b7db8.jpeg"><br><br>  ,     - GlobalContext  - ,   .    ,     modify,    , ?   ,  -   GlobalContext.    .       . ,    side effects. ,  ,   webpack,   ,    .  ,      webpack sideEffects: true,       .     . <br><br><img src="https://habrastorage.org/webt/ov/wn/ph/ovwnphvbkewixae0ypihcambj1k.jpeg"><br><br>    ,   - -       . ,   .      diffector,        . ,   ,      .       ‚Äî ,      .   ,   . <br><br>   ,     ,   diff, expand, log,   ,     ,      ,   . <br><br><img src="https://habrastorage.org/webt/tr/3s/qa/tr3sqaezwkxap8pdbrjuh-jjewe.jpeg"><br><br>  , .        D,  diff.      ,   , ,   .    ,   ,     .          ,   ,    .        . <br><br> ,   ,     .          .    . ,  ‚Äî   ,    .      .    .        ,     , , ,   ,      .      .       ,         . <br><br>    ‚Äî     diffector ?    ,     ,   ,    . <br><br><img src="https://habrastorage.org/webt/pq/rf/lf/pqrflfrep6fp0ffzhsntxw_lbm0.jpeg"><br><br>     - ,    ,     . <br><br><img src="https://habrastorage.org/webt/1k/qs/u4/1kqsu4cuurzk-8ib7n4sus4b8-g.jpeg"><br><br>       , ,      entry.        entry.     diffector. <br><br><img src="https://habrastorage.org/webt/3a/t4/gi/3at4giub3oqpahtey5yznumq1xy.jpeg"><br><br>     .    -.      ,    . <br><br><img src="https://habrastorage.org/webt/rt/s1/nc/rts1ncwpwfo2gchhdglbx5ogevs.jpeg"><br><br>  ,   entry     -,   . <br><br><img src="https://habrastorage.org/webt/cz/6i/lr/cz6ilrthse-hs0awccmuxizen0g.jpeg"><br><br>    .   diffector.      .  ,    ,  -    ,       -.   ,  .   : ,  BindBonusPage,    -,     .    .   , , -  .   . <br><br><img src="https://habrastorage.org/webt/ev/wx/va/evwxvahpj0honucu2yysxvtow6s.jpeg"><br><br><img src="https://habrastorage.org/webt/c5/9j/o6/c59jo6uyprhncjcrlnwevxrx4eu.jpeg"><br><br>    ‚Äî    CI.      .    :   ,   ,          . <br><br><img src="https://habrastorage.org/webt/7r/14/j9/7r14j90rvxqce-tuqobcjwrdewc.jpeg"><br><br>  ,    . 43  ‚Äî   testing,     ,     . <br><br><img src="https://habrastorage.org/webt/bz/-w/9r/bz-w9rnatawaxbqdjdlqws7ppki.jpeg"><br><br>    .  , ,      . <br><br><img src="https://habrastorage.org/webt/fq/jw/gl/fqjwglsxt9v3qdpby861svprpve.jpeg"><br><br>    ,          .   :       ,      ,      .  ,     ,      ,     ,         ,   .    ,    ,     - . <br><br><img src="https://habrastorage.org/webt/pk/oy/pg/pkoypg3-8saqxh-endw9soc-t-o.jpeg"><br><br> . , ,      ,      .      - ,        -   ,   , ,   .         . <br><br>  ,       ,   ,      output   .    ,     .    ‚Äî .   ‚Äî      .  Gracias </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454470/">https://habr.com/ru/post/454470/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454456/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 7. Preguntas frecuentes</a></li>
<li><a href="../454458/index.html">Pruebas metam√≥rficas: por qu√© casi nadie sabe acerca de esta t√©cnica prometedora</a></li>
<li><a href="../454460/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 300 (27 de mayo - 2 de junio)</a></li>
<li><a href="../454462/index.html">Fotograma sin papel fotogr√°fico</a></li>
<li><a href="../454464/index.html">Desarrollo de pruebas visuales basadas en Gemini y Storybook.</a></li>
<li><a href="../454472/index.html">Lo que necesita saber sobre el √∫ltimo parche de enrutador de Cisco</a></li>
<li><a href="../454474/index.html">Eventos digitales en Mosc√∫ del 3 al 9 de junio.</a></li>
<li><a href="../454476/index.html">Mejores pr√°cticas Node.js - Consejos de estructura del proyecto</a></li>
<li><a href="../454478/index.html">Se anuncia la extensi√≥n de Azure IoT Edge Tools (Vista previa)</a></li>
<li><a href="../454482/index.html">Una amarga lecci√≥n en la industria de IA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>