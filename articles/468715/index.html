<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚óºÔ∏è üë©üèº‚Äçüéì üë®üèæ‚Äç‚öïÔ∏è Experiencia de desarrollo de prueba de reacci√≥n para Aviasales ü•ô üñäÔ∏è üë©üèæ‚Äçü§ù‚Äçüë©üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola, quer√≠a compartir mi experiencia en el desarrollo de un caso de prueba para Aviasales. 


 Recientemente me top√© con un trabajo de desarrollador ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Experiencia de desarrollo de prueba de reacci√≥n para Aviasales</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468715/"><p>  Hola, quer√≠a compartir mi experiencia en el desarrollo de un caso de prueba para Aviasales. </p><br><p> Recientemente me top√© con un trabajo de desarrollador de React en Aviasales.  Envi√© una solicitud, despu√©s de lo cual al d√≠a siguiente, RR. HH. Me respondi√≥ y me inform√≥ que tendr√≠a que hacer una tarea de prueba.  Realmente no me gusta hacer tareas de prueba, ya que tengo que dedicar mucho tiempo a su implementaci√≥n, y en caso de falla, esto se desperdiciar√°.  Pero acept√© ... </p><a name="habracut"></a><br><p>  Puede encontrar la tarea de prueba aqu√≠ en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> . </p><br><p>  Aqu√≠ hay un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> a mi repositorio de la tarea completada. </p><br><p>  Me limit√© a completar la tarea en un d√≠a (aunque hice mejoras menores despu√©s de la publicaci√≥n: termin√© el boceto, por as√≠ decirlo). </p><br><p>  Lo que eleg√≠ para el desarrollo: </p><br><ol><li>  Eleg√≠ NextJS como base, porque no quer√≠a jugar con la configuraci√≥n del entorno para Webpack, y puede implementar el proyecto en s√≠ con un par de clics. </li><li>  Quer√≠a escribir r√°pido y eleg√≠ el paquete React-IOC junto con MobX, en lugar de Redux.  Este es un paquete que le permite escribir aplicaciones a trav√©s de servicios que se asemejan a servicios angulares. </li><li>  Utilic√© Web Worker para que no hubiera retrasos en la interfaz al ordenar una gran cantidad de datos. </li><li>  No utilic√© Typecript con el prop√≥sito de no escribir c√≥digo adicional con una p√©rdida in√∫til de tiempo en una tarea de prueba. </li><li>  Basado en el p√°rrafo 4, tampoco escrib√≠ pruebas. </li><li>  Agregu√© dos paquetes adicionales al proyecto: debounce, RxJS.  El primero es necesario para crear devoluciones de llamada simples, por ejemplo, cambiar el estado de descarga para que el control no muestre la carga si la descarga toma muy poco tiempo.  Siempre uso el segundo paquete para crear un script de acci√≥n, por ejemplo, para procesar estados en caso de error al enviar una solicitud al servidor. </li></ol><br><p>  El procedimiento para la primera etapa de desarrollo: </p><br><ol><li>  Repositorio inicializado. </li><li>  Proyecto NextJS inicializado. </li><li>  Se agreg√≥ una p√°gina base de √≠ndice con un mensaje de Hello World. </li><li>  Cre√≥ un servicio ticket.provider que interact√∫a con el servidor api. </li><li>  Cre√≥ el servicio ticket.service, que inyecta ticket.provider y llena el observador con una serie de tickets mostrados </li><li>  Se cre√≥ ticket.filter.service, que almacena los datos filtrados inyectados desde ticket.service a trav√©s de @computed </li></ol><br><p>  La segunda etapa de desarrollo: </p><br><ol><li>  Componentes creados y estilos pintados para ellos utilizando el dise√±o proporcionado en el repositorio de tareas. </li><li>  Hice un spinner de la descarga y baj√© su valor de los servicios. </li><li>  Conect√≥ toda la l√≥gica de servicio con componentes. </li><li>  Utilidades adicionales con formato de datos, como tiempo y dinero. </li></ol><br><p>  Luego decid√≠ probar la interfaz "t√°ctil" y encontr√© fallas al usar la aplicaci√≥n: </p><br><ol><li>  Hay ralentizaciones de la interfaz al cambiar el filtro y la clasificaci√≥n, por lo que transfer√≠ el almacenamiento, la recuperaci√≥n y el filtrado de datos a Web Worker, despu√©s de lo cual los retrasos desaparecieron por completo. </li><li>  Spinner no repar√≥ la animaci√≥n de la l√≠nea de salto, as√≠ que la reemplac√© con una visualizaci√≥n visual de l√≠neas con animaci√≥n parpadeante. </li><li>  Para facilitar la representaci√≥n de datos, transfer√≠ las llamadas de formato de datos a Web Worker, esto reduce la carga en la representaci√≥n de componentes </li></ol><br><p>  Luego termin√© mi trabajo y al final del d√≠a envi√© una tarea para verificaci√≥n. </p><br><p>  Como me limit√© en el tiempo, no optimic√© m√°s la aplicaci√≥n, es decir, no us√© React.memo (...).  Tampoco comenc√© a reemplazar la ventana y el enrutador con inyectores en los servicios.  Perd√≥name por esto, esto es un defecto. </p><br><p>  Pero al d√≠a siguiente agregu√© la funcionalidad de recordar el estado del filtro en la l√≠nea de URL del navegador, despu√©s de lo cual ya estaba satisfecho con el trabajo realizado. </p><br><p>  Esper√© una respuesta de ellos durante 7 d√≠as, no respondieron a ninguno de mis mensajes.  Fue una experiencia desagradable, por as√≠ decirlo.  Pero aun as√≠ respondieron, y la respuesta fue extremadamente angustiosa de leer.  El mensaje se puede ver a continuaci√≥n. </p><br><p>  Echemos un vistazo a los puntos: </p><br><p>  [1]  "El trabajo se realiz√≥ con mucho cuidado" </p><br><p>  No veo d√≥nde, ni un argumento, ya que no hay ejemplos. </p><br><p>  [2]  "Parece que el desarrollo persigui√≥ los objetivos de" funciona "e ignor√≥" c√≥mo funciona ". </p><br><p>  No es un argumento, no hay ejemplos. </p><br><p>  [3]  "Seg√∫n nuestros requisitos para los niveles de candidatos, la tarea completada apenas llega a la mitad". </p><br><p>  Cuales son los requisitos?  Donde estan </p><br><p>  [4]  ‚ÄúEsperamos que los filtros no est√©n codificados y se adapten a los datos.  Si va a aviasales, puede ver que los boletos se muestran inmediatamente cuando aparece la primera entrega, y no esperamos que todos carguen ". </p><br><p>  Este requisito no estaba en la tarea adjunta.  Y la aplicaci√≥n Aviasales en s√≠ misma, en mi opini√≥n, no tiene una interfaz de referencia, y saltar tickets no es la mejor soluci√≥n. </p><br><p>  [5]  ‚Äú¬øPor qu√© filter.service sabe acerca del enrutador y la ventana?  No debe controlar el estado de la aplicaci√≥n y tener tales dependencias en absoluto ‚Äù. </p><br><p>  Porque los servicios se crean para controlar el estado de toda la aplicaci√≥n o el m√≥dulo donde existen.  Aqu√≠ el autor sugiere claramente escribir toda la l√≥gica en los componentes. </p><br><p>  [6]  ‚ÄúTrabajadores web.  ¬øCu√°l es el beneficio?  En este caso, se gasta mucho tiempo en operaciones asincr√≥nicas, y la carga guardada en el hilo principal se gasta en serializar / deserializar objetos (y objetos observables).  Si hablamos de optimizaciones, vali√≥ la pena comenzar no con la eliminaci√≥n en el trabajador web, sino en solucionar los problemas en el hilo principal ". </p><br><p>  ¬øC√≥mo puedo manejar el procesamiento de grandes cantidades de datos en el hilo principal y al mismo tiempo sin retrasos en la interfaz?  Estar√© muy interesado en saber si alguien tiene un ejemplo, luego escriba los comentarios.  Al parecer me estoy perdiendo algo. </p><br><p>  [7]  "No tiene sentido agregar rxjs al proyecto solo para implementar el reintento y la carga secuencial". </p><br><p>  ¬øPor qu√© no tiene sentido?  Puede importar funciones estrictamente necesarias en RxJS; si los paquetes y las funciones de √°rbol no funcionan correctamente, esto no aumentar√° el tama√±o de la aplicaci√≥n. </p><br><p> [8]  ‚ÄúEl proyecto no se puede escalar y mantener.  Construcciones como <code>(ticket.segments || [{}, {}]).map((ticket) =&gt; ...)</code> muy engorrosas ". </p><br><p>  Veamos los criterios de escala y soporte: accesibilidad (los servicios resuelven este problema), los riesgos ( <code>ticket.segments || [{}, {}]</code> son solo un ejemplo de c√≥mo tratar casos si la entrada no contiene datos. Un ejemplo es malo, pero el enfoque de estructura anulable al menos, pero trato de cumplir), c√≥digo limpio (bueno, al menos s√© lo que es :), aunque trat√© de escribir todo como deber√≠a).  Parece que todo est√° capturado, nuevamente no es una discusi√≥n. </p><br><p>  [9]  ‚ÄúTengo la impresi√≥n de que no hay absolutamente ninguna comprensi√≥n de c√≥mo funciona React bajo el cap√≥.  Hay muchos errores cr√≠ticos al trabajar con accesorios para componentes que tienen un efecto muy negativo en el rendimiento.  Los mecanismos de optimizaci√≥n de reacci√≥n son ignorados ". </p><br><p>  No puedo entender d√≥nde est√°n estos problemas descritos.  ¬øQu√© tipo de mecanismos? </p><br><p>  [10]  "Crear funciones de controlador dentro de render". </p><br><p>  No tengo ninguna funci√≥n de controlador en render, ¬øalguien entiende lo que est√° escrito aqu√≠?  Incluso transfer√≠ el procesamiento de formato a Web Worker </p><br><p>  [11]  ‚ÄúCrear un nuevo objeto vac√≠o y transferirlo al ticket.  <code>ticket-list-loading.jsx:10</code> o <code>Ticket.tsx:24</code> " </p><br><p>  Aqu√≠ no hay nada cr√≠tico, excepto por mi pereza para sacar por separado el componente de boleto de carga.  Pasar un objeto vac√≠o no viola ning√∫n principio de programaci√≥n, excepto que aqu√≠ fue necesario hacerlo a trav√©s de <code>ticket = ticket || {};</code> <code>ticket = ticket || {};</code>  pero esto se debe √∫nicamente al hecho de que el tiempo de desarrollo se limit√≥ a un d√≠a y tomar√≠a m√°s tiempo solucionar todos los defectos menores. </p><br><p>  [12]  "√çndices de matriz como claves en la lista de tickets" </p><br><p>  Hay m√°s bien una pregunta de por qu√© api no devuelve elementos con id.  Por lo tanto, al recibir datos del servidor, necesitar√≠a generar claves √∫nicas para cada elemento, lo que no hice como parte de la tarea de prueba, ya que incluso en un proyecto real este es un enfoque dudoso. </p><br><p>  Y finalmente, la conclusi√≥n: "En general, React no funcion√≥ ( <br>  Total: para el nivel medio, esperamos que no haya problemas cr√≠ticos con la reacci√≥n, pero hay muchos de ellos en el trabajo realizado ‚Äù. </p><br><p>  Ya no hay comentarios ... </p><br><p>  Gracias si lees hasta el final.  Tengo una opini√≥n muy negativa sobre Aviasales, as√≠ que publico todo aqu√≠ para que pueda evaluar si debe contactarlos o no. </p><br><p>  Texto completo del mensaje: </p><br><p>  El trabajo se realiza con mucho cuidado.  Parece que durante el desarrollo los objetivos fueron "funciona", y "c√≥mo funciona" fue ignorado.  Seg√∫n nuestros requisitos para los niveles de candidatos, la tarea completada apenas llega a la mitad. </p><br><p>  Rendimiento y estructura: <br>  Esperamos que los filtros no est√©n codificados y se adapten a los datos.  Si va a aviasales, puede ver que los boletos se muestran inmediatamente cuando aparece la primera entrega, y no esperamos que todos carguen. </p><br><p>  Adem√°s, m√°s puntos t√©cnicos. </p><br><ol><li>  ¬ø <code>filter.service</code> qu√© <code>filter.service</code> sabe sobre enrutador y ventana?  No debe controlar el estado de la aplicaci√≥n y tener tales dependencias en absoluto. </li><li>  Trabajadores web.  ¬øCu√°l es el beneficio?  En este caso, se gasta mucho tiempo en operaciones asincr√≥nicas, y la carga guardada en el hilo principal se gasta en serializar / deserializar objetos (y objetos observables).  Si hablamos de optimizaciones, vali√≥ la pena comenzar no con la eliminaci√≥n en el trabajador web, sino solucionando los problemas en el hilo principal. </li><li>  No tiene sentido agregar rxjs al proyecto solo para implementar el reintento y la carga secuencial. </li><li>  El proyecto no se puede escalar y mantener.  Las construcciones como ( <code>ticket.segments || [{}, {}]).map((ticket) =&gt; ticket</code> ) son muy engorrosas. <br>  Reaccionar: <br>  Tengo la impresi√≥n de que no hay absolutamente ninguna comprensi√≥n de c√≥mo funciona React bajo el cap√≥.  Hay muchos errores cr√≠ticos al trabajar con accesorios para componentes que tienen un efecto muy negativo en el rendimiento.  Los mecanismos de optimizaci√≥n de reacci√≥n son ignorados.  Brevemente sobre los problemas: </li><li>  Crear funciones de controlador dentro de render. </li><li>  Cree un nuevo objeto vac√≠o y transfi√©ralo al ticket.  <code>ticket-list-loading.jsx:10</code> o <code>Ticket.tsx:24</code> . </li><li>  Matriz de √≠ndices como claves en una lista de tickets. <br>  En general, React no funcion√≥ :( </li></ol><br><p>  Total: para el nivel medio, esperamos que con la reacci√≥n no haya problemas cr√≠ticos, pero hay muchos de ellos en el trabajo realizado. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/468715/">https://habr.com/ru/post/468715/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../468693/index.html">C√≥mo la automatizaci√≥n destruye a los empleados de Walmart</a></li>
<li><a href="../468703/index.html">¬øC√≥mo puede un programador ganar a√∫n m√°s?</a></li>
<li><a href="../468705/index.html">Videollamada en el navegador en PeerJS. Inicio r√°pido</a></li>
<li><a href="../468707/index.html">Open PostgreSQL Meetup UPD Grabaci√≥n Difusi√≥n y presentaci√≥n</a></li>
<li><a href="../468713/index.html">Proyecto de intercambio de criptomonedas legales</a></li>
<li><a href="../468719/index.html">Desarrollo de sistemas operativos tipo Unix: Shell. Conclusi√≥n (9)</a></li>
<li><a href="../468721/index.html">Retencionista: c√≥mo escribimos herramientas de an√°lisis de productos de c√≥digo abierto en Python y Pandas</a></li>
<li><a href="../468723/index.html">Patrones de dise√±o JS: Patrones de creaci√≥n de objetos</a></li>
<li><a href="../468725/index.html">Realizaci√≥n de su evaluaci√≥n de llamadas de Google basada en Voximplant y Dialogflow</a></li>
<li><a href="../468727/index.html">Lenovo ThinkShield: un potente conjunto de opciones y servicios que protegen la seguridad de la PC corporativa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>