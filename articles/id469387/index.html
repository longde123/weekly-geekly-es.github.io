<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📅 🚴 👼🏿 Kisah satu "pengembang" atau bagaimana pendatang baru menulis aplikasi untuk iOS 🐲 👧🏿 🔢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jadi, Mei 2018. 7 upaya dilakukan dalam 7 tahun untuk memulai pemrograman sesuatu untuk iOS. Dan setiap kali hal yang sama: Objective-C adalah sesuatu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kisah satu "pengembang" atau bagaimana pendatang baru menulis aplikasi untuk iOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469387/"><img src="https://habrastorage.org/webt/oe/bp/os/oebpos7zdtlt8gx_bn3xaeeqct0.png"><br><br>  Jadi, Mei 2018.  7 upaya dilakukan dalam 7 tahun untuk memulai pemrograman sesuatu untuk iOS.  Dan setiap kali hal yang sama: Objective-C adalah sesuatu yang menakutkan dan tidak bisa dipahami, maka tidak ada ide.  Dan kemudian Hello World, setahun sekali, secara umum, semuanya tidak berjalan ... <br><br>  Kali ini, Xcode baru dan bahasa baru untuk saya Swift ... Dan ide baru, saya ingin mendorong notifikasi untuk server Zabbix saya.  tidak ada stok resmi, dan tidak ada pelanggan saat itu ... <br><br>  Sebelum ini, bot mengirim pushgram ke push, tetapi mulai junk dan Roskomnadzor tiba pada waktunya ... Pemblokiran gerobak tidak memainkan peran khusus, karena  ada Mikrotik dan langsung "diperbaiki". <br><br>  Diputuskan untuk menulis notifikasi Zabbix, yang kemudian tidak hanya untuk notifikasi. <br><a name="habracut"></a><br>  Ternyata, hanya melempar notifikasi tidak akan berfungsi.  Anda perlu menulis aplikasi, menginstalnya, mengambil token darinya, naikkan server Anda untuk mengirim pemberitahuan push ... <br><br>  Pengalaman pemrograman hanya dalam PHP.  Swift berbeda, tetapi tidak terlihat menakutkan seperti Objective-C pada saat itu.  Dan Xcode itu sendiri bagus sebagai IDE yang mengubah kode dari yang lama ke yang baru, membuat petunjuk. <br><br>  Pertama-tama, latih video, pelajari Zabbix API itu sendiri.  Tapi kemudian, satu artikel demi satu, bagaimana NSURLSession bekerja, kerangka apa yang ada. <br><br>  Versi pertama hanya bisa masuk ke server Zabbix dan memberikan pemicu dan host.  Kemudian ditambahkan tampilan grafik, nilai, dll. <br><br>  Saya akan membahas beberapa poin yang saya temui saat menulis aplikasi. <br><br><h2>  Kerangka kerja </h2><br>  Kerangka kerja tidak masuk.  Mereka "keren", nyaman, tetapi saya tidak ingin memperbaiki proyek nanti karena ada sesuatu yang berubah.  Dan ini sudah terjadi.  Bagi saya sendiri, saya memutuskan untuk tidak menggunakannya, dan lebih baik untuk menciptakan sepeda saya untuk memahami cara kerja semuanya.  Untuk permintaan JSON, ada Alamofire, tetapi saya menggunakan NSURLSession bawaan karena  itu sudah cukup untuk semuanya. <br><br><h2>  Tes </h2><br>  Lebih dari satu tahun telah berlalu, ketika saya memutuskan untuk menambahkan tes :) <br>  Saya pikir hal yang menakjubkan ini akan menyelamatkan dunia ... Tapi ... saya menulis beberapa tes berbeda, menjulurkannya di sini ... Dan kemalasan datang.  Saya tidak melihat tugas sejauh ini dalam proyek sekecil ini untuk mengalokasikan begitu banyak waktu untuk pengujian ... Dan ini hanya waktu untuk tes kode, belum lagi tes UI. <br><br><img src="https://habrastorage.org/webt/o1/un/zo/o1unzoeht1dafvq0rfojui5fonk.png" alt="gambar"><br><h2>  Enkripsi </h2><br>  Ada beberapa poin untuk enkripsi. <br><br>  Apple dengan manualnya ingin semua permintaan dienkripsi.  Dan itu benar.  Tetapi seperti yang ditunjukkan oleh latihan, tidak semua orang ingin melakukan https untuk Zabbix mereka.  Pada awalnya, saya tidak memiliki opsi (Pengaturan Keamanan Transport Transport) yang membolehkan lalu lintas http murni, yang untuk itu saya disalibkan dalam ulasan di AppStore) Lalu saya menyalakannya bukan tanpa petualangan.  Xcode tidak melihat baris saya sampai saya baru saja membuat ulang seluruh file Info.plist. <br><br>  Juga, Apple ingin tahu segalanya tentang aplikasi Anda, lalu lintas https yang biasa tidak termasuk dalam ini.  Tetapi jika Anda ingin mengenkripsi sesuatu "dengan cara yang rumit," harap laporkan ke otoritas AS. <br><br><img src="https://habrastorage.org/webt/vo/ok/q5/vookq5vegfsrnnm6zvovrcmpwro.png" alt="gambar"><br><br>  Saat berkomunikasi dengan salah satu pengguna aplikasi, ada permintaan untuk enkripsi pesan PUSH End-to-End.  Pesan harus dienkripsi di server Zabbix, dan didekripsi hanya di ponsel.  Untuk hal seperti itu, Apple memiliki notifikasi "bisa berubah".  Yaitu  jika "konten yang dapat diubah" telah tiba, maka dalam dorongan Anda perlu mengubah sesuatu sesuai dengan apa yang Anda tulis.  Saya sudah mendekripsi pesannya. <br><br>  Kebijakan Apple di sini tidak menentang penggunaan jenis enkripsi standar.  Apakah Anda menginginkan sesuatu sendiri, seperti yang saya tulis di atas, beri saya selembar kertas dan dapat menunjukkan kuncinya? ... <br><br>  Saya menggunakan lib CommonCrypto bawaan, jadi ini dianggap jenis enkripsi standar.  Saya harus mengacaukan kode, karena  sebagian besar contoh sudah sangat ketinggalan zaman, atau Xcode berteriak bahwa itu tidak aman, tidak ada yang bekerja dengan byte dan data secara langsung, atau bersenang-senang dengan IV OpenSSL-a, offset itu tidak benar, maka sesuatu yang lain tidak benar.  Akibatnya, dimungkinkan untuk membuat kode non-sumpah, dan bekerja dengan benar dengan OpenSSL saat mengenkripsi pesan. <br><br><h2>  Sirkuit pendek </h2><br>  Dan topik yang paling menarik bagi saya ... Saya tidak bisa menulis kode asinkron ....  Sejauh ini, setidaknya saya belum mengerti banyak cara penutupan ini bekerja. <br><br><img src="https://habrastorage.org/webt/9b/gk/ob/9bgkobrxhssqlmyif-lm7glk09u.png" alt="gambar"><br><br>  Secara default, NSURLSession hanya asinkron dan saya tidak bisa mengerti bagaimana cara menggunakannya nanti ... Saya menggunakan DispatchSemaphore untuk membuat kode itu sinkron ... Tentu saja ada banyak keluhan dari pengguna yang crash dan crash ... <br><br>  Kemudian, sama saja, saya sadar apa dan bagaimana cara kerjanya di sirkuit, batas waktu apa di NSURLSession, dan apa itu.  Kode sepenuhnya diganti oleh normal, penangan kesalahan ditambahkan.  Dan hidup telah menjadi lebih baik, hidup telah menjadi lebih menyenangkan. <br><br><h2>  Tata letak </h2><br><img src="https://habrastorage.org/webt/7t/my/fz/7tmyfzxt8je0azn4ygnesshmf0g.png"><br><br>  Ya, saya memiliki semuanya dalam satu Storyboard.  Saya tahu ini tidak terlalu, tetapi sejauh ini ada beberapa layar.  Mungkin saya akan memasukkan xibs nanti. <br><br>  iOS 13 telah membawa perubahan pada tampilan layar.  Sebelumnya, semua layar baru ditampilkan sebagai PUSH yaitu.  layar penuh.  Sekarang layar ini dapat ditarik ke bawah dan akan menutup. <br><br>  Secara umum, ada bug jika Anda mengklik LogOut dan Anda dapat dengan mudah menutup formulir login kembali.  Ini hanya terjadi jika Xcode terakhir dirakit 11. Ini dikoreksi hanya dengan mengatur opsi tampilan untuk ditampilkan hanya dalam layar penuh. <br><br>  SwiftUI juga muncul di iOS 13, tetapi jika Anda mengulang aplikasi sekarang, itu berarti melupakan mereka yang menggunakan aplikasi pada perangkat lama dengan firmware lama ... <br><br><h2>  Tata Letak AppStore </h2><br>  Walaupun saya menulis aplikasi untuk diri saya sendiri, maka saya memutuskan untuk mempostingnya di AppStore.  Itu semua hanya membayar $ 100 per tahun dan mengeluarkannya.  Yang benar masih memeriksa aplikasi, menjelaskan mengapa aplikasi ini, dll. <br><br>  Karena  aplikasi untuk Zabbix, pada logo saya ingin menggunakan sesuatu yang mengatakan tentang Zabbix.  Tapi itu tidak ada di sana.  Saya menulis surat kepada Zabbix meminta agar dimungkinkan untuk menggunakan bentuk huruf Z ... Tapi tidak.  Karena itu, saya melukis ikon saya, kurva miring, tetapi milik saya) <br><br><h2>  Keuangan </h2><br>  Aplikasi ini hampir 2 tahun.  Menghabiskan $ 200 hanya untuk memiliki aplikasi di AppStore.  Terlepas dari pengembangan dan server push. <br><br><img src="https://habrastorage.org/webt/pl/mi/vf/plmivfphkjfbv-f2wxo8gsjqamk.png" alt="gambar"><br>  Aplikasi ini memiliki iklan dari Google ... yang membawa ... ... $ 5 <br>  Menonaktifkan iklan menghasilkan $ 88 ... Tetapi ambang penarikan adalah dari $ 150. <br>  Kemudian saya akan menghapus iklan secara umum segera setelah saya mencapai ambang penarikan. <br><br><h2>  Server dorong </h2><br>  Ya, ya, semuanya dimulai untuknya ... Pemberitahuan push sangat dibutuhkan.  Setelah selesai sehingga Anda dapat mengenkripsi pushy, banyak yang beralih ke terenkripsi. <br><br>  Ada 2 server, Moskow dan Belanda pada 2 rubel / hari.  Penyeimbangan DNS, Nginx c Let's Encrypt, skrip PHP untuk menerima dan mengirim. <br><br>  Awalnya, ada server gratis di Amazon (15 pertunjukan lalu lintas ...), tetapi ketika saatnya mulai, saya membeli VPS-ku untuk pindah ke sana.  Dan saya menemukan saat ketika DDOS pergi ke penyedia hosting dan vps tidak tersedia selama 12 jam ... 2 rubel yang saya inginkan lebih banyak.  Yah, saya masih di Amazon dan itu belum mempengaruhi saya.  Karena itu, maka satu lagi diambil 2 rubel per hari tetapi di lokasi yang berbeda.  Setidaknya beberapa toleransi kesalahan dan lalu lintas 15 gigabyte ... Perhatian utama untuk lalu lintas Amazon, mikro, dan Anda mendapat uang. <br><br>  Saya ingin menggunakan Cloudflare sebagai penyeimbang, tetapi mereka ingin mendelegasikan seluruh domain kepada mereka, dan bukan di bawah domain. <br><br><h2>  Beberapa statistik </h2><br>  Total hampir 6 ribu unduhan.  Dan Brasil ada di puncak ... siapa sangka) <br><br><img src="https://habrastorage.org/webt/zn/sd/ef/znsdefftcax1rqoctbocrnt3dp8.png" alt="gambar"><br><br><h2>  Kesimpulan </h2><br><ul><li>  Swift tidak seperti itu) </li><li>  Banyaknya artikel dan kenyamanan IDE di dunia modern memungkinkan Anda untuk segera memulai. </li><li>  Aplikasi ini awalnya ditulis untuk saya sendiri, tetapi ternyata menjadi pengalaman yang baik dengan pengembangan dan penataan di AppStore dengan ulasan positif dan negatif. </li><li>  Perkembangan membersihkan otak dengan baik. </li><li>  Lebih baik membaca dok dan tidak membuat sinkron dari kode asinkron :) </li><li>  Umumnya menulis, menyalin, belajar.  Hanya dengan cara ini seseorang dapat memahami dalam praktik apa itu apa. </li><li>  * Berkomunikasi lebih banyak dengan pengguna, mereka pasti akan mengatakan mengapa mereka membutuhkannya dan bagaimana mereka ingin melihatnya.  Saya menambahkan sepertiga fungsi dalam aplikasi tepat sesuai dengan keinginan pengguna. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id469387/">https://habr.com/ru/post/id469387/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id469373/index.html">Hasil proyek untuk membuat antarmuka saraf untuk pasien yang lumpuh total dipertanyakan</a></li>
<li><a href="../id469375/index.html">Mengapa Mozilla, Coil, dan Creative Commons membagikan $ 100 juta untuk proyek sumber terbuka?</a></li>
<li><a href="../id469379/index.html">Penerapan metode validasi model formal untuk UI</a></li>
<li><a href="../id469381/index.html">Agones, buat server game multi-pengguna. Arsitektur dan Instalasi</a></li>
<li><a href="../id469383/index.html">Solusi Hyperconverged AERODISK vAIR. Dasar - Sistem File ARDFS</a></li>
<li><a href="../id469389/index.html">Parameterisasi oleh jaringan saraf model fisik untuk memecahkan masalah optimasi topologi</a></li>
<li><a href="../id469391/index.html">Audio Interfaces: Berbunyi sebagai sumber informasi di jalan, di kantor dan di langit</a></li>
<li><a href="../id469393/index.html">Flare-On 2019 menulis</a></li>
<li><a href="../id469395/index.html">Di mana dan bagaimana menggunakan multicolumns (Kolom CSS)</a></li>
<li><a href="../id469399/index.html">Wi-Fi di Estate-Museum Arkhangelskoye</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>