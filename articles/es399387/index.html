<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👲🏼 📜 🥌 Máquina de humo casera 🗻 🥐 📅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para demostrar el cosplay steampunk, se necesitaba una máquina de humo (bueno, ¿qué tipo de steampunk sin humo?), Pero no estaba en la escena de la ac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Máquina de humo casera</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/399387/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para demostrar el cosplay steampunk, se necesitaba una máquina de humo (bueno, ¿qué tipo de steampunk sin humo?), Pero no estaba en la escena de la actuación. </font><font style="vertical-align: inherit;">Sin pensarlo dos veces, decidí hacer mi propia pequeña máquina de humo, con control de temperatura, control remoto (se utilizó el controlador ESP-12E) y energía de la batería. </font><font style="vertical-align: inherit;">Tomé como base la neblina ya descrita con la medición de temperatura, pero complicó un poco el circuito para mejorar el rendimiento.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Wt7n2YoJos8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El elemento más difícil fue la fabricación de una espiral y un sistema de alimentación para una mezcla de glicerol con propilenglicol. Después de un par de experimentos, se detuvo en una espiral de seis vueltas con un diámetro de aproximadamente 12 mm, enrollada en una "coleta", un séquito de 7 vetas de titanio de 0.29 de diámetro. En general, sería mejor tomar un cable más grueso y prescindir de una "coleta", pero había una selección limitada de materiales disponibles. La espiral resultante tiene una resistencia de aproximadamente medio ohmio, lo que proporciona una potencia teórica para 12 voltios de 240 vatios (de hecho, la potencia de calentamiento será menor, debido a la necesidad de mantener la temperatura a 210-230 grados).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El cable en espiral después de torcerse en una coleta y enrollarse (es necesario enrollarlo en un tubo de menor diámetro, ya que el titanio es muy elástico), es mejor enjuagar y calcinar (al suministrar 12 voltios de la batería al calor rojo, para eliminar contaminantes orgánicos (grasa de los dedos y similares). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En general, existía la idea de hacer un calentador en forma de tubo de cobre lleno de aceite de motor con una espiral en el interior, lo que garantizaría una uniformidad casi completa del calentamiento y haría un calentador mucho más potente, pero no había materiales necesarios a mano .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tuve que jugar con el suministro de fluido, ya que debería ser, por un lado, continuo y uniforme, y por otro lado, no demasiado abundante. Había una bomba de agua a la mano, que no tenía un control de flujo, por lo que me decidí por el siguiente diseño: un tubo de silicona perforado con un diámetro de 5 mm (una docena y media de agujeros con un taladro de 1,2 mm), envuelto con algodón, sobre el cual se encuentra una espiral. Como la bomba impulsa mucho más fluido del que fluye a través del algodón, el extremo del tubo va al mismo tanque donde la bomba recoge la composición. El tanque en sí es un tintero sin derrames impreso en una impresora, que se encuentra debajo de la espiral real y, además, recoge gotas de líquido que se drenan de él.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debo decir que el ajuste flojo de la espiral al algodón (o incluso los cables demasiado largos en la espiral que no entran en contacto con el líquido) provocan un calentamiento desigual, lo que provoca un olor a quemado e incluso puede provocar un incendio. Debido a esto, es imposible hacer espirales demasiado grandes o largas, lo que limita el poder. Por lo tanto, la metodología fue la siguiente: se enrolla un rectángulo de algodón sobre un agujero en el tubo (se vende de tal forma en tiendas para vapeadores), luego el cilindro de algodón resultante con el tubo dentro se atornilla en espiral, como si fuera una rosca.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tomó una turbina de 12 voltios como ventilador, que de alguna manera se vendió por solo unos centavos. La bomba es una bomba de agua china (debido al hecho de que fue diseñada para 6 voltios, tuve que agregar otro convertidor de CC-CC a LM2596), conectada en paralelo con el ventilador. La máquina funciona con una batería 3S Li-Pol de 2.6 amperios-hora con una clasificación de 40C. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esquema:</font></font><br>
<br>
<img src="https://habrastorage.org/files/2b8/a22/240/2b8a22240b0d48dcaf608ba38136eff5.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un fragmento del código de control (ajuste más bien tosco, no quería meterme con el controlador PID y sus configuraciones), llamamos a la función pulse_heat_coil () con el intervalo requerido para el calentamiento (recomendado en 10-20 milisegundos). </font><font style="vertical-align: inherit;">Para un ajuste más preciso: necesita al menos un segundo ADC (para medir simultáneamente el voltaje de la batería) y un controlador separado de wifi (como en las modificaciones que describí para vapear en stm32 y arduino mini pro). </font><font style="vertical-align: inherit;">Es mejor encender el ventilador con la bomba unos segundos antes del calentador y apagarlo una docena de segundos después, para evitar incidentes desagradables.</font></font><br>
<br>
<pre><code class="hljs cs"><span class="hljs-comment"><span class="hljs-comment">// Measure coil resistance (and put it into coil_input)</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TEST_RESISTOR 25</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> HALF_PULSE_RANGE 1.6</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> STOP_PULSE_RANGE 1.7</span></span><font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> coil_input_zero = <span class="hljs-number"><span class="hljs-number">0.001</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> coil_input_zero, batt_input, coil_resist;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">measure_coil</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
  <span class="hljs-comment"><span class="hljs-comment">// Measure battery voltage (only possible when heater on)</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digitalRead(HEATER) == HIGH)<font></font>
    batt_input = analogRead(A0);<font></font>
<font></font>
  <span class="hljs-comment"><span class="hljs-comment">// Turn off heater</span></span>
  analogWrite(HEATER, <span class="hljs-number"><span class="hljs-number">0</span></span>);<font></font>
  digitalWrite(HEATER, LOW);<font></font>
  delayMicroseconds(<span class="hljs-number"><span class="hljs-number">10</span></span>);<font></font>
  <font></font>
  digitalWrite(TESTPIN, HIGH);<font></font>
  delayMicroseconds(<span class="hljs-number"><span class="hljs-number">10</span></span>);<font></font>
  coil_input = analogRead(A0);<font></font>
  digitalWrite(TESTPIN, LOW);<font></font>
  delayMicroseconds(<span class="hljs-number"><span class="hljs-number">10</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (coil_input_zero == <span class="hljs-number"><span class="hljs-number">0.001</span></span>)<font></font>
    coil_input_zero = coil_input;<font></font>
<font></font>
  coil_resist = TEST_RESISTOR * ((<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) coil_input / (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) batt_input - <span class="hljs-number"><span class="hljs-number">1</span></span>);<font></font>
} <span class="hljs-comment"><span class="hljs-comment">// void measure_coil()</span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">// Make coil heating pulse with thermocontrol</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pulse_heat_coil</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pulse_delay</span></span></span><span class="hljs-function">)</span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> curr = (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) coil_input / (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) coil_input_zero;<font></font>
  <font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((coil_input &lt; <span class="hljs-number"><span class="hljs-number">1023</span></span>) &amp;&amp; (curr &lt; STOP_PULSE_RANGE)) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (curr &gt; HALF_PULSE_RANGE)<font></font>
      analogWrite(HEATER, PWMRANGE / <span class="hljs-number"><span class="hljs-number">2</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> 
      analogWrite(HEATER, PWMRANGE<span class="hljs-number"><span class="hljs-number">-1</span></span>);<font></font>
    delay(pulse_delay - <span class="hljs-number"><span class="hljs-number">1</span></span>);<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    analogWrite(HEATER, <span class="hljs-number"><span class="hljs-number">0</span></span>);<font></font>
    digitalWrite(HEATER, LOW);<font></font>
    delay(pulse_delay - <span class="hljs-number"><span class="hljs-number">1</span></span>);<font></font>
  }<font></font>
<font></font>
  delayMicroseconds(<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
  measure_coil();<font></font>
} <span class="hljs-comment"><span class="hljs-comment">// void pulse_heat_coil(int pulse_delay)</span></span></code></pre><br>
</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es399387/">https://habr.com/ru/post/es399387/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es399377/index.html">Las 10 mejores ofertas del Black Friday</a></li>
<li><a href="../es399379/index.html">Historia de las epidemias mundiales, parte 2</a></li>
<li><a href="../es399381/index.html">New York Times: Facebook creará herramientas de censura para regresar a China</a></li>
<li><a href="../es399383/index.html">MIT crea fibras musculares de nylon artificiales</a></li>
<li><a href="../es399385/index.html">Diseñador electromecánico ROBOTS-XXI</a></li>
<li><a href="../es399389/index.html">¿Cómo podría funcionar una nave espacial extraterrestre?</a></li>
<li><a href="../es399391/index.html">Calculadora de cartón y bola de cuatro bits.</a></li>
<li><a href="../es399395/index.html">Steam Autumn Sale y primeros Steam Awards</a></li>
<li><a href="../es399397/index.html">Rehacer la calculadora programable HP 39GS en 48GII</a></li>
<li><a href="../es399399/index.html">Прорыв в борьбе с ВИЧ: новое антитело блокирует 98% всех известных штаммов вируса</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>