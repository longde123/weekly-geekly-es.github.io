<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉüèø üïµüèº üö£üèº JavaFX Tutorial: FXML und SceneBuilder üëâüèæ üåë ‚úçÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√úbersetzung des JavaFX-Tutorials: FXML- und SceneBuilder-Artikel von Vojtech Ruzicka. 

 So erstellen Sie eine GUI mit JavaFX mithilfe von FXML-Markup...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaFX Tutorial: FXML und SceneBuilder</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474982/">  √úbersetzung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaFX-Tutorials: FXML- und SceneBuilder-Artikel</a> von Vojtech Ruzicka. <br><br>  So erstellen Sie eine GUI mit JavaFX mithilfe von FXML-Markup und SceneBuilder. <br><br>  Alle Beitr√§ge in der JavaFX-Reihe: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaFX Tutorial: Erste Schritte</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaFX Tutorial: Hallo Welt!</a> </li><li>  JavaFX Tutorial: FXML und SceneBuilder </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaFX Tutorial: Grundlegende Layouts</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaFX Tutorial: Erweiterte Layouts</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaFX Tutorial: CSS-Stil</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaFX Weaver: Integration von JavaFX- und Spring-Boot-Anwendungen</a> </li></ol><a name="habracut"></a><br><h3>  Traditionelle Art und Weise </h3><br>  Im vorherigen Artikel haben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wir eine einfache Hello World-Anwendung erstellt</a> . <br><br>  Nur zur Erinnerung - der Code sah so aus: <br><br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Stage primaryStage)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ primaryStage.setTitle(<span class="hljs-string"><span class="hljs-string">"Hello world Application"</span></span>); primaryStage.setWidth(<span class="hljs-number"><span class="hljs-number">300</span></span>); primaryStage.setHeight(<span class="hljs-number"><span class="hljs-number">200</span></span>); InputStream iconStream = getClass().getResourceAsStream(<span class="hljs-string"><span class="hljs-string">"/icon.png"</span></span>); Image image = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Image(iconStream); primaryStage.getIcons().add(image); Label helloWorldLabel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Label(<span class="hljs-string"><span class="hljs-string">"Hello world!"</span></span>); helloWorldLabel.setAlignment(Pos.CENTER); Scene primaryScene = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Scene(helloWorldLabel); primaryStage.setScene(primaryScene); primaryStage.show(); }</code> </pre> <br>  Wie Sie sehen, wird die gesamte Benutzeroberfl√§che in Java-Code erstellt. <br><br>  Dies ist ein sehr einfaches Beispiel. Mit zunehmender Komplexit√§t Ihrer Anwendung kann es jedoch schwierig werden, den resultierenden Code zu verstehen, wenn Sie mehrere Ebenen verschachtelter Layouts und viele Komponenten eingeben m√ºssen.  Dies ist jedoch nicht alles - in derselben Klasse gibt es Code, der gleichzeitig f√ºr die Struktur, die visuellen Effekte und das Verhalten verantwortlich ist. <br><br>  Die Klasse hat eindeutig keine einzige Verantwortung.  Vergleichen Sie dies zum Beispiel mit dem Webinterface, bei dem jede Seite klar getrennte Aufgaben hat: <br><br><ul><li>  HTML ist eine Struktur </li><li>  CSS ist visuelle Effekte </li><li>  JavaScript ist Verhalten </li></ul><br><h3>  Einf√ºhrung in FXML </h3><br>  Offensichtlich ist es keine gute Idee, den gesamten Code an einem Ort zu haben.  Sie m√ºssen es irgendwie strukturieren, damit es einfacher zu verstehen und leichter zu handhaben ist. <br><br>  In der Realit√§t gibt es daf√ºr viele Entwurfsmuster.  In der Regel erhalten Sie die Option "Modellansicht - was auch immer" - etwa "Model View Controller", "Model View Presenter" oder "Model View ViewModel". <br><br>  Sie k√∂nnen stundenlang √ºber die Vor- und Nachteile verschiedener Optionen diskutieren - lassen Sie es uns hier nicht tun.  Noch wichtiger ist, dass Sie mit JavaFx jeden von ihnen verwenden k√∂nnen. <br><br>  Dies ist m√∂glich, weil Sie zus√§tzlich zum prozeduralen Design Ihrer Benutzeroberfl√§che deklaratives XML-Markup verwenden k√∂nnen. <br><br>  Es stellt sich heraus, dass die hierarchische Struktur von XML eine hervorragende M√∂glichkeit darstellt, die Hierarchie der Komponenten in der Benutzeroberfl√§che zu beschreiben.  HTML funktioniert ganz gut, oder? <br><br>  Das JavaFX-spezifische XML-Format hei√üt FXML.  Darin k√∂nnen Sie alle Anwendungskomponenten und ihre Eigenschaften definieren und sie dem Controller zuordnen, der f√ºr die Verwaltung der Interaktionen verantwortlich ist. <br><br><h3>  Laden Sie FXML-Dateien herunter </h3><br>  Wie k√∂nnen wir also unsere Startmethode √§ndern, um mit FXML zu arbeiten? <br><br><pre> <code class="java hljs">FXMLLoader loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FXMLLoader(); URL xmlUrl = getClass().getResource(<span class="hljs-string"><span class="hljs-string">"/mainScene.fxml"</span></span>); loader.setLocation(xmlUrl); Parent root = loader.load(); primaryStage.setScene(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Scene(root)); primaryStage.show();</code> </pre> <br>  Hier stellt <i>root</i> die Root-Komponente Ihrer Benutzeroberfl√§che dar, andere Komponenten sind darin verschachtelt. <br><br>  Die <i>load-</i> Methode hat einen generischen R√ºckgabewert, sodass Sie einen bestimmten Typ und nicht <i>Parent</i> angeben k√∂nnen.  Als n√§chstes erhalten Sie Zugriff auf komponentenorientierte Methoden.  Dies macht Ihren Code jedoch anf√§lliger.  Wenn Sie den Typ der Root-Komponente in Ihrer FXML √§ndern, funktioniert die Anwendung m√∂glicherweise zur Laufzeit nicht mehr, aber w√§hrend der Kompilierung treten keine Fehler auf.  Dies liegt daran, dass es jetzt einen Konflikt des Typs gibt, der in Ihrer FXML und im Java FXML-Loader deklariert ist. <br><br><h3>  Erstellen Sie eine FXML-Datei </h3><br>  Jetzt wissen wir, wie die FXML-Datei geladen wird, m√ºssen sie jedoch noch erstellen.  Die Datei muss die Erweiterung .fxml haben.  In einem Maven-Projekt k√∂nnen Sie diese Datei in den Ressourcenordner stellen oder FXMLLoader kann sie von einer externen URL herunterladen. <br><br>  Geben Sie nach dem Erstellen der Datei die XML-Deklaration in der ersten Zeile ein: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span></code> </pre> <br><h3>  Importieren </h3><br>  Bevor Sie einer Datei einzelne Komponenten hinzuf√ºgen, m√ºssen Sie sicherstellen, dass diese korrekt erkannt werden.  F√ºgen Sie dazu Importanweisungen hinzu.  Dies ist dem Importieren in Java-Klassen sehr √§hnlich.  Sie k√∂nnen wie gewohnt einzelne Klassen importieren oder Platzhalter verwenden.  Schauen wir uns ein Beispiel f√ºr einen Importabschnitt an: <br><pre> <code class="xml hljs"><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import java.lang.*</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import java.util.*</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import javafx.scene.*</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import javafx.scene.control.*</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import javafx.scene.layout.*</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br>  Die gute Nachricht ist, dass Ihre IDE Ihnen beim Hinzuf√ºgen des Imports helfen sollte, anstatt alle Importanweisungen manuell hinzuzuf√ºgen, wie beim Hinzuf√ºgen zu Java-Klassen. <br><br><h3>  Komponenten hinzuf√ºgen </h3><br>  Jetzt ist es Zeit, einige Komponenten hinzuzuf√ºgen.  In einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">fr√ºheren Artikel haben</a> wir erfahren, dass jede Szene nur eine untergeordnete Komponente haben kann.  F√ºgen Sie zun√§chst ein einfaches Label hinzu: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import javafx.scene.control.Label</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--      --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag">&gt;</span></span>Hello World!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Nat√ºrlich ist die Kennzeichnung als Wurzelkomponente kein sehr realistisches Beispiel.  Es ist normalerweise vorzuziehen, eine Art Layout (Layout) zu verwenden, das ein Container f√ºr mehrere Komponenten ist und deren Anordnung organisiert.  Wir werden uns sp√§ter in dieser Serie mit Layouts befassen, aber jetzt verwenden wir einfach eine einfache VBox, die ihre untergeordneten Elemente vertikal √ºbereinander platziert. <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import javafx.scene.control.Label</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import javafx.scene.layout.VBox</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">import javafx.scene.control.Button</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VBox</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Hello world!"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"This is a simple demo application."</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Click me!"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VBox</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  FX Namespace </h3><br>  Es gibt einige FXML-Elemente und -Attribute, die standardm√§√üig nicht verf√ºgbar sind.  Sie m√ºssen einen Namespace FXML hinzuf√ºgen, um sie verf√ºgbar zu machen.  Es muss zur Root-Komponente hinzugef√ºgt werden: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VBox</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://javafx.com/javafx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:fx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://javafx.com/fxml"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VBox</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Jetzt k√∂nnen Sie die neuen Elemente aus dem FX-Namespace verwenden.  Versuchen wir, unseren Komponenten eindeutige Bezeichner hinzuzuf√ºgen: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fx:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mainTitle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Hello world!"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Das Attribut <i>fx: id</i> ist eine eindeutige Kennung f√ºr eine Komponente, mit der auf eine Komponente aus anderen Teilen unserer FXML und sogar aus unserem Controller verwiesen werden kann. <br><br><h3>  Skripte </h3><br>  Unsere Bewerbung ist noch statisch.  Es gibt mehrere Beschriftungen und eine Schaltfl√§che, aber die Anwendung f√ºhrt keine dynamischen Aktionen aus. <br><br>  Lassen Sie uns auf das Klicken auf unsere Schaltfl√§che reagieren und den Titel von "Click me!" In "Click me again!" √Ñndern. <br><br>  Als Erstes f√ºgen Sie einen onAction-Ereignishandler f√ºr unsere Schaltfl√§che hinzu. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fx:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mainButton"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Click me!"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onAction</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"buttonClicked()"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Achten Sie auf fx: id. Dies ist die Kennung, die sp√§ter verwendet wird, um auf die Schaltfl√§che zu verweisen. <br><br>  Jetzt m√ºssen Sie eine Funktion bereitstellen, die aufgerufen wird, um das Ereignis zu behandeln.  Es kann innerhalb des Tags fx: script definiert werden.  Wichtig ist, dass Sie verschiedene Sprachen verwenden k√∂nnen, um ein Skript, JavaScript, Groovy oder Clojure zu schreiben.  Schauen wir uns ein Beispiel in JavaScript an: <br><br><img src="https://habrastorage.org/webt/al/jy/a7/aljya7vcinsitfft9asobkkvfta.png"><br><br>  Beachten Sie, dass wir auf unsere Button-Komponente mit dem mainButton-Bezeichner verweisen, der folgenderma√üen deklariert wurde: <br><br><pre> <code class="xml hljs">fx:id = "mainButton"</code> </pre> <br>  Sie m√ºssen auch angeben, welche Skriptsprache Sie in der FXML-Datei verwenden: <br><br><pre> <code class="xml hljs"><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php">language javascript</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre> <br>  Schauen wir uns den vollst√§ndigen Text des Beispiels an: <br><br><img src="https://habrastorage.org/webt/kz/ta/nl/kztanlf-j7bz07gxtp5eagcmemk.png"><br><br><h3>  Soll ich das benutzen? </h3><br>  Das obige Beispiel zeigt, wie Komponenten mit <i>fx: id</i> referenziert werden und wie einfaches Verhalten mit einem JavaScript-Skript hinzugef√ºgt wird.  Solltest du das wirklich tun? <br><br>  Die Antwort lautet in den meisten F√§llen nein.  Bei diesem Ansatz gibt es mehrere Probleme.  Der Grund, warum FXML eingef√ºhrt wurde, war eine Trennung der Interessen, um die Struktur und das Verhalten der Benutzeroberfl√§che zu trennen.  In diesem Skript wurde das mit der Benutzeroberfl√§chenstruktur zusammengef√ºhrte Verhalten erneut zur√ºckgegeben.  Da wir nicht mehr mit Java-Code, sondern mit XML arbeiten, gingen au√üerdem alle Codepr√ºfungen zur Kompilierungszeit und die Typensicherheit verloren.  Jetzt werden alle Probleme in der Anwendung zur Laufzeit und nicht zur Kompilierungszeit erkannt.  Die Anwendung ist sehr zerbrechlich und fehleranf√§llig geworden. <br><br><h3>  Controller hinzuf√ºgen </h3><br>  Was kann also getan werden, um eine klare Interessentrennung zu erreichen?  Sie k√∂nnen den Controller mit unserer FXML-Datei verkn√ºpfen.  Ein Controller ist eine Java-Klasse, die f√ºr das Verhalten und die Benutzerinteraktion in einer Anwendung verantwortlich ist.  Auf diese Weise k√∂nnen Sie Typensicherheits- und Kompilierungszeitpr√ºfungen zur√ºckgeben. <br><br>  Der Controller ist ein POJO, er sollte nichts erweitern oder implementieren und keine speziellen Anmerkungen enthalten. <br><br>  Wie kann ich eine Controller-Klasse mit unserer FXML verkn√ºpfen?  Grunds√§tzlich gibt es zwei M√∂glichkeiten. <br><br><h3>  In Java </h3><br>  Sie k√∂nnen eine Instanz des Controllers selbst erstellen oder andere Methoden zum Erstellen einer Instanz verwenden, z. B. die Abh√§ngigkeitsinjektion.  Dann laden Sie einfach Ihren <i>FXMLLoader</i> herunter. <br><br><pre> <code class="java hljs">FXMLLoader loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FXMLLoader(); loader.setController(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MainSceneController());</code> </pre> <br><h3>  In FXML </h3><br>  Sie k√∂nnen die Klasse Ihres Controllers als Attribut <i>fx: controller</i> angeben, das sich in der Root-Komponente befinden soll. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VBox</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://javafx.com/javafx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:fx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://javafx.com/fxml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fx:controller</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.vojtechruzicka.MainSceneController"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VBox</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Wenn Sie Ihre Controller-Klasse in FXML deklarieren, wird sie automatisch f√ºr Sie erstellt.  Dieser Ansatz hat eine Einschr√§nkung: Im Controller m√ºssen Sie einen Konstruktor ohne Argumente erstellen, um das Erstellen einer neuen Instanz der Controller-Klasse zu vereinfachen. <br><br>  Um auf eine automatisch erstellte Instanz eines Controllers zuzugreifen, k√∂nnen Sie den FXML-Loader verwenden: <br><br><pre> <code class="java hljs">FXMLLoader loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FXMLLoader(); loader.setLocation(getClass().getResource(<span class="hljs-string"><span class="hljs-string">"/mainScene.fxml"</span></span>)); MainSceneController controller = loader.getController();</code> </pre> <br><h3>  Aufrufen von Controller-Methoden </h3><br>  Nachdem Sie eine Steuerung haben, k√∂nnen Sie das Skript l√∂schen und die Logik zum Dr√ºcken von Schaltfl√§chen direkt in der Steuerung implementieren: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainSceneController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buttonClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Button clicked!"</span></span>); } }</code> </pre> <br>  Der n√§chste Schritt besteht darin, den Aufruf dieser Methode als <i>onAction-</i> Ereignishandler unserer Schaltfl√§che zu registrieren.  Um auf Methoden von unserem Controller zu verweisen, m√ºssen wir das <i>#</i> -Zeichen vor dem Methodennamen verwenden: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VBox</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://javafx.com/javafx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:fx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://javafx.com/fxml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fx:controller</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.vojtechruzicka.MainSceneController"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fx:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mainTitle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Hello world!"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fx:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"subTitle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"This is a simple demo application."</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fx:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mainButton"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Click me!"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onAction</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#buttonClicked"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VBox</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Wenn auf eine Schaltfl√§che geklickt wird, wird die <i>MainSceneController.buttonClicked ()</i> -Methode <i>aufgerufen</i> .  Beachten Sie, dass dies nur funktioniert, wenn die Methode als √∂ffentlich deklariert ist.  Wenn der Zugriffsmodifikator strenger ist, m√ºssen Sie die Methode mit der Anmerkung <i>@FXML versehen</i> . <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@FXML</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buttonClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Button clicked!"</span></span>); }</code> </pre><br><h3>  Einbetten von Komponenten in eine Steuerung </h3><br>  Bisher drucken wir nur auf die Konsole.  Was ist, wenn wir den Text unserer Schaltfl√§che erneut in " <i>Klick mich noch einmal</i> " √§ndern m√∂chten?  Wie k√∂nnen wir Links zu Komponenten in unserer Steuerung erhalten? <br><br>  Zum Gl√ºck ist das einfach.  <i>Erinnerst</i> du dich an diese <i>fx: id</i> Attribute? <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fx:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mainButton"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Click me!"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onAction</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#buttonClicked"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  JavaFX versucht, Komponenten mit <i>fx: id</i> automatisch mit den Feldern abzugleichen, die in Ihrem Controller mit demselben Namen definiert sind. <br><br>  Angenommen, wir haben einen oben beschriebenen Knopf mit <br><br><pre> <code class="xml hljs">fx:id="mainButton"</code> </pre> <br>  JavaFX versucht, das Schaltfl√§chenobjekt in einem Feld namens <i>mainButton</i> in Ihren Controller <i>einzuf√ºgen</i> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainSceneController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    fx:id = "mainButton" @FXML private Button mainButton; }</span></span></code> </pre> <br>  Wie bei den vorherigen Methoden m√ºssen Ihre Felder <i>√∂ffentlich</i> oder mit <i>@FXML-</i> Anmerkungen versehen <i>sein</i> . <br><br>  Jetzt, da wir einen Link zu unserer Schaltfl√§che haben, k√∂nnen wir ihren Text leicht √§ndern: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainSceneController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@FXML</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Button mainButton; <span class="hljs-meta"><span class="hljs-meta">@FXML</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buttonClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mainButton.setText(<span class="hljs-string"><span class="hljs-string">"Click me again!"</span></span>); } }</code> </pre> <br><h3>  Szenenbildner </h3><br>  Das Schreiben Ihrer GUI-Struktur in XML ist m√∂glicherweise nat√ºrlicher als in Java (insbesondere, wenn Sie mit HTML vertraut sind).  Es ist jedoch immer noch nicht sehr praktisch.  Die gute Nachricht ist, dass es ein offizielles Tool namens Scene Builder gibt, das Sie bei der Erstellung der Benutzeroberfl√§che unterst√ºtzt.  Kurz gesagt, dies ist ein grafischer Editor f√ºr Ihre GUI. <br><br><img src="https://habrastorage.org/webt/vu/qy/0p/vuqy0pzwgyblbskqijeygkfxixu.png"><br><br>  Der Editor hat drei Hauptbereiche: <br><br><ol><li>  Der linke Teil zeigt die verf√ºgbaren Komponenten an, die in den mittleren Teil gezogen werden k√∂nnen.  Es enth√§lt auch eine Hierarchie aller Komponenten in Ihrer Benutzeroberfl√§che, sodass Sie leicht darin navigieren k√∂nnen. </li><li>  Der mittlere Teil ist Ihre Anwendung, die basierend auf Ihrer FXML-Datei angezeigt wird. </li><li>  Rechts befindet sich der aktuelle Komponenteninspektor.  Hier k√∂nnen Sie verschiedene Eigenschaften der ausgew√§hlten aktuellen Komponente bearbeiten.  Jede in der Mitte der Hierarchie ausgew√§hlte Komponente wird im Inspektor angezeigt. </li></ol><br><h3>  Standalone </h3><br>  Scene Builder kann als eigenst√§ndige Anwendung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">heruntergeladen</a> werden, mit der FXML-Dateien bearbeitet werden k√∂nnen. <br><br><h3>  Integration mit IntelliJ IDEA </h3><br>  Alternativ bietet Scene Builder die Integration in die IDE an. <br><br>  In IntelliJ IDEA k√∂nnen Sie mit der rechten Maustaste auf eine beliebige FXML-Datei klicken und dann in SceneBuilder die Men√ºoption √ñffnen ausw√§hlen. <br><br>  Alternativ integriert IntelliJ IDEA SceneBuilder direkt in die IDE.  Wenn Sie die FXML-Datei in IDEA √∂ffnen, werden am unteren Bildschirmrand zwei Registerkarten angezeigt <br><br><ul><li>  Text </li><li>  Szenenbildner </li></ul><br>  F√ºr jede FXML-Datei k√∂nnen Sie einfach zwischen der direkten oder der direkten Bearbeitung der FXML-Datei √ºber SceneBuilder wechseln. <br><br><img src="https://habrastorage.org/webt/z0/cz/va/z0czvaalmf393mck_k0nnmjx4ji.png"><br><br>  In IntelliJ IDEA k√∂nnen Sie den Speicherort der SceneBuilder-Programmdatei konfigurieren: <br><br> <code>Settings ‚Üí Languages &amp; Frameworks ‚Üí JavaFX ‚Üí Path to SceneBuilder</code> <br> <br><h3>  Was weiter </h3><br>  Im n√§chsten Beitrag unserer Serie werden einige grundlegende Layouts erl√§utert, mit denen die Komponenten einer GUI-Anwendung in JavaFX organisiert werden k√∂nnen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de474982/">https://habr.com/ru/post/de474982/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de474966/index.html">So erstellen Sie einen Smart Python-Vertrag im Ontology-Netzwerk. Teil 1: Blockchain & Block API</a></li>
<li><a href="../de474968/index.html">RxDart f√ºr die kleinsten ... Projekte</a></li>
<li><a href="../de474970/index.html">Wie schreibe ich einen Smart Contract mit Python on Ontology? Teil 5: Native API</a></li>
<li><a href="../de474976/index.html">Bootsstadt: Wie Venedig ohne Autos existiert</a></li>
<li><a href="../de474978/index.html">IBM Watson Visual Recognition: Objekterkennung jetzt in IBM Cloud verf√ºgbar</a></li>
<li><a href="../de474984/index.html">RabbitMQ vs. Kafka: Failover und Hochverf√ºgbarkeit</a></li>
<li><a href="../de474988/index.html">Willkommen bei Mitap: Karriere bei Data Science f√ºr Einsteiger</a></li>
<li><a href="../de474990/index.html">Harte √úbung: Wie baue ich ein WLAN-Netzwerk in einem Stadtpark?</a></li>
<li><a href="../de474992/index.html">Analyse fehlerhafter Laptop-Batterien. Elektrische Radfahrernotizen</a></li>
<li><a href="../de474994/index.html">So k√∂nnen Sie einen Monolithen in Dienste zerlegen und die Leistung von In-Memory-Caches aufrechterhalten, ohne die Konsistenz zu verlieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>