<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏞️ ✊🏽 🌵 Sichern Sie die Cloud, Freunde 🚰 🐏 🛁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute möchte ich das Cloud-Backup noch einmal durchgehen. Ich werde nicht diskutieren, ob es gut oder schlecht ist, aber ich möchte Beispiele für Impl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sichern Sie die Cloud, Freunde</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pc-administrator/blog/468559/"><p><img src="https://habrastorage.org/getpro/habr/post_images/1cb/e6e/0bb/1cbe6e0bb1b9af5edcab8fd07f2cc296.jpg"></p><br><p>  Heute möchte ich das Cloud-Backup noch einmal durchgehen.  Ich werde nicht diskutieren, ob es gut oder schlecht ist, aber ich möchte Beispiele für Implementierungen von Lösungen für dieses Cloud-basierte Backup teilen - von fertiger Software bis zu Krücken auf Fahrrädern. </p><br><p>  Sichern Sie noch nicht in der Cloud oder möchten Sie mehr über Lösungsoptionen erfahren?  Ich frage nach Katze. </p><a name="habracut"></a><br><h1 id="3-2-1-poehali">  3-2-1, lass uns gehen </h1><br><p>  Es wird angenommen, dass die Geschichte der 3-2-1-Sicherungsregel mit Peter Krogh beginnt, der sie in seinem Buch Digital Asset Management for Photographers umriss.  Ich erinnere mich kurz an dieses Prinzip: </p><br><ul><li>  Es müssen mindestens 3 Kopien der Daten vorhanden sein. </li><li>  Mindestens 2 Kopien müssen sich auf physischen Medien unterschiedlichen Typs befinden.  Beispielsweise sind eine Kopie Arbeitsdaten auf einem Plattenarray, die zweite Kopie sind Daten auf einem Magnetband. </li><li>  Mindestens ein Backup muss außerhalb des Büros gespeichert werden. </li></ul><br><p>  Persönlich verwende ich beim Erstellen von Backups meistens etwas andere Regeln. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/93f/afc/2e5/93fafc2e559d39740c0bb3934ba45b90.jpg"></p><br><p>  <em>Die klassische 3-2-1-Schaltung.</em> </p><br><p> Erstens nehme ich Backups als Ausgangsdaten, und zweitens ist es nicht immer bequem und kostengünstig, sie auf verschiedenen Medientypen zu speichern - insbesondere für kleine und mittlere Unternehmen.  Meine übliche Backup-Speicherstrategie lautet: </p><br><ul><li>  Online-Backups.  Ihr Hauptziel ist es, bei einem kleinen Fehler die schnellste Wiederherstellung sicherzustellen.  Abhängig von der Infrastruktur können diese Sicherungen sogar auf dem zu sichernden Server gespeichert werden - nur auf einer separaten Festplatte. </li><li>  Archivsicherungen.  Sie werden immer mindestens auf einem anderen Server und mit Verlauf gespeichert (meistens - 6 tägliche Sicherungen, 4 wöchentliche und 4 vierteljährliche). </li><li>  Remote-Backups.  Backups werden notwendigerweise an einem anderen Ort gespeichert - auf einem Server in einem entfernten Rechenzentrum oder in der Cloud.  Eine gute Option ist, wenn möglich, das Archivsicherungsverzeichnis mit dem Remotespeicher zu synchronisieren. </li></ul><br><p>  Bei Betriebs- und Archivsicherungen ist normalerweise alles recht einfach, außer dass Sie bestimmte Empfehlungen einhalten sollten.  Eine der Optionen für solche Empfehlungen ist unter dem Spoiler. </p><br><div class="spoiler">  <b class="spoiler_title">Empfehlungen:</b> <div class="spoiler_text"><ul><li>  Ein Server mit gütlichen Backups sollte irgendwie vom Produktionsnetzwerk isoliert sein, falls plötzlich ein Verschlüsseler gestartet wird. </li><li>  Dies ist eine gute Option, wenn der Server Sicherungen erstellt, diese jedoch nicht empfängt - falls der archivierte Server gefährdet ist. </li><li>  Geschichte der Archive - muss haben.  Oft traf ich auf Infrastrukturen, in denen nur eine Sicherungskopie wichtiger Daten gespeichert war, und im Falle eines Verschlüsselungsangriffs oder Datenverlusts vorgestern waren die Daten in der Sicherung bereits beschädigt oder nicht das, was wir brauchten. </li><li>  Vergessen Sie nicht, nicht nur Daten, sondern auch das Betriebssystem zu kopieren. </li><li>  Schattenkopien und andere Schnappschüsse sind sehr gut und großartig, aber dies ist kein Backup.  Sie können sie als Ersatz für betriebliche Sicherungen verwenden, es ist jedoch besser, sie zu kombinieren. </li><li>  Archive mit der Erweiterung .exe oder .dll sind eine gute Option, um eine so lala Ransomware auszutricksen. </li><li>  Bei RAID geht es überhaupt nicht um Backups.  Absolut. </li></ul></div></div><br><p>  Bei Remote-Backups gibt es jedoch viele Fragen.  Insbesondere muss man wählen, wo genau diese Kopien aufbewahrt werden sollen und wie sie dort abgelegt werden sollen.  Zunächst werde ich einige Beispiele für „wo“ geben. </p><br><h1 id="vybiraem-uyutnoe-oblako">  Wähle eine gemütliche Wolke </h1><br><p>  Eine Möglichkeit wäre, einfach <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen</a> dedizierten Server zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mieten</a> oder Ihren Server in einem Rechenzentrum an einem Kollokationsort zu installieren. </p><br><p>  In der Tat gibt die von ihm selbst erstellte „Cloud“ mehr Kontrolle über das Geschehen, und die Wahl einer Lösung für die Speicherung und direkte Sicherung liegt beim Systemadministrator.  Sie können den Server sogar in die Domäne "vor Ort" aufnehmen, wie im Artikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie ich die 1C-Basis in Deutschland versteckt habe</a> " beschrieben. </p><br><p>  Auf der anderen Seite bedeutet Kontrolle auch Verantwortung - es wird notwendig sein, den Status des Servers bei Hardware- und Softwareproblemen zu überwachen, während das Fehlen von Clouds in Form von Internetabhängigkeit und das Problem des Vertrauens für Außenstehende nicht aufgehoben wurde. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/9a4/480/38a/9a448038ae023fff983c1d81ebfa9a03.jpg"></p><br><p>  <em>Aber ist es Ihr gemieteter Server von einem preiswerten Host?</em> </p><br><p>  Eine andere Möglichkeit wäre die Verwendung spezialisierter Dienste, die nur zum Speichern von Sicherungen erstellt wurden.  Das bekannteste Beispiel sind <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Amazon Glacier</a> Services.  Sie sind in Legenden über die verwendete Technologie gehüllt - von Bandkassetten über Blu-ray-Disks bis hin zu Roboterarmen.  Aber offiziell ist dies eine preiswerte Festplatte. </p><br><p>  Im Gegensatz zu einem gemieteten Server riecht die Lösung bereits nach dem Dezimalpunkt nach einem blutigen Unternehmen mit vielen "Neunen der Zuverlässigkeit".  Wie bei vielen Webdiensten bei Amazon gibt es auch hier eine komplizierte Kalkulationsformel.  Um es ganz einfach zu vereinfachen, ist das Herunterladen von Daten in den Dienst kostenlos, der Speicher ist recht kostengünstig (1 US-Dollar für 1 TB pro Monat), aber Sie müssen für den Empfang der Daten bezahlen.  Wie auf alten Messen - „Eintritt frei, Ausgang 15 Kopeken“. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4fe/223/897/4fe223897842c665aa44fe91e374005a.jpg"></p><br><p>  Klassische Speicherdienste wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Amazon S3</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yandex Object Storage</a> können natürlich auch für Backups verwendet werden, aber der Preis ist in diesem Fall weniger human - ~ 10 USD pro Monat für 1 TB für Yandex.  Auch die All-Inclusive-Lösungen der Hersteller von Backup-Systemen sind nicht zu übersehen, da nur die Faulen jetzt den Vorteil ihrer Cloud haben.  Zum Beispiel wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Acronis Cloud Storage</a> als Ergänzung zu Acronis-Produkten für 299 US-Dollar pro Jahr 250 GB auf seinen Servern bereitstellen. </p><br><p>  Die dritte Option wäre die Verwendung von Cloud-Speicher, der nicht sehr zum Speichern von Unternehmenssicherungen konzipiert ist, sondern sich eher auf normale Benutzer konzentriert.  Hier sind nur einige davon: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dropbox</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OneDrive</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Google Drive</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mega</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yandex.Disk</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cloud Mail.Ru.</a> </li></ul><br><p>  Jetzt werde ich keine Cloud-Plattformen vergleichen, sondern dies der Gnade zahlreicher Materialien im Netzwerk widmen.  Zum Beispiel der Artikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cloud-Speicher für Einzelpersonen: Was soll man wählen und warum</a> ?"  Persönlich habe ich mich für Yandex.Disk entschieden, weil er einer der wenigen ist, der WebDAV, APIs und Snapshots (Verlauf) von Dateien auf der Festplatte in kostenlosen Plänen verwenden kann.  Natürlich habe ich eine bestimmte Menge an freien Gigabyte darauf angesammelt. </p><br><p>  Natürlich sollten Sie bei der Auswahl nicht nur auf die freie Anzahl und die Kosten von Gigabyte achten, sondern auch auf die Lizenzvereinbarung, da das Sichern von bedingten 1C-Datenbanken diese verletzen kann.  Unabhängig davon ist zu beachten, an welchen Stellen der Cloud-Anbieter keine Verantwortung trägt, alle Dateien jederzeit löschen kann und nichts dafür vorhanden ist.  Fast alle dieser Dienste verfügen jedoch über eine Software, mit der Sie Dateien in den Dienst hochladen können, wodurch wir zum nächsten Punkt in der heutigen Geschichte gelangen. </p><br><h1 id="chem-gruzit-na-uyutnoe-oblako">  Wie man zu einer gemütlichen Wolke versendet </h1><br><p>  Persönlich mag ich die von den Diensten bereitgestellte Software nicht wirklich (es sei denn, es handelt sich natürlich um einen spezialisierten Dienst wie Acronis): Es ist nicht immer möglich, den Synchronisierungsplan festzulegen, und die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Geschichte ist</a> noch am Leben, wenn Yandex.Disk beim Aktualisieren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Patch von Barmin</a> arrangiert hat Betriebssystem.  Glücklicherweise gibt es spezielle Software, die verschiedene Anbieter unterstützt.  Wie üblich werde ich einige Beispiele für meist freie und nahezu freie Lösungen geben. </p><br><p>  <strong>Handliches Backup</strong> .  Es wird auf der ersten Seite von Google für die Abfrage "Backup in die Cloud" ausgegeben.  Es gibt kostenpflichtige Versionen verschiedener Funktionen und separate Plugins (z. B. für Exchange und 1C).  Es gibt sogar eine Wolke - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HBDrive</a> .  Vor allem aber gibt es noch eine kostenlose Version, die nur in der Cloud sichern kann - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handy Backup Free for Cloud</a> .  Leider konnte ich es im Rahmen der Tests nicht dazu bringen, dass es stabil mit Yandex.Disk funktioniert - die regelmäßig geplante Aufgabe funktionierte nicht.  Es ist schwierig, etwas von einer kostenlosen Lösung zu wollen, aber ich habe mich geweigert, diese Software zu verwenden. </p><br><p>  <strong>CloudBerry Backup</strong>  Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Produkt</a> ist für alle gut, es gibt sogar Lösungen für die Wiederherstellung einzelner Exchange-Objekte, es gibt Unterstützung für viele verschiedene Anbieter.  Die Verwendung wurde durch das Fehlen einer kostenlosen Version und die Unterstützung des üblichen Yandex.Disk, nur S3-kompatiblen Yandex Object Storage, gestoppt. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/307/2a4/7f0/3072a47f01fe864d71615a1a362b51cf.jpg"></p><br><p>  Liste der unterstützten Lösungsanbieter von CloudBerry Lab. </p><br><p>  <strong>Duplicati 2</strong> .  Bereits ein völlig kostenloses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Produkt</a> , auch für den gewerblichen Gebrauch.  Es gibt alle gängigen Plattformen von Windows bis GNU \ Linux. Sie können sowohl über die Weboberfläche als auch über die Befehlszeile arbeiten. Außerdem werden Backups sofort verschlüsselt. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c90/102/958/c90102958dc63532a2dc1239070666f2.jpg"></p><br><p>  Duplicati-Schnittstelle, unterstützte Anbieter. </p><br><p>  Leider wird Yandex.Disk nicht "out of the box" unterstützt - nur im WebDAV-Modus.  In diesem Modus funktioniert die Lösung von Yandex nicht einwandfrei - es gibt Probleme mit großen Dateien.  Es gibt jedoch eine in der gültigen Zielliste, die dieses Problem löst.  Da ist er. </p><br><p>  <strong>Rclone</strong>  Vielleicht ist dies mein unbestrittener Marktführer unter anderen Software.  Als Befehlszeilenprogramm für viele Plattformen stehen auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Website</a> auch Downloads für seltene Betriebssysteme wie Plan9 und Solaris zur Verfügung.  Die Liste der unterstützten Cloud-Anbieter ist ebenfalls beeindruckend - sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unterstützt</a> sogar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cephs</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OwnCloud</a> .  Und ja, Yandex.Disk ist gelistet.  Bis vor kurzem wurde die Konfiguration nur über das interaktive Konsolenmenü durchgeführt, aber vor relativ kurzer Zeit war es möglich, die Weboberfläche zu starten und über diese zu konfigurieren. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c2e/a92/e1a/c2ea92e1a0ea404677a6ee3fd224d74a.jpg"></p><br><p>  <em>Rclone-Weboberfläche.</em> </p><br><p>  Zu den Nachteilen gehört das Fehlen integrierter Scheduler.  Das Dienstprogramm dient ausschließlich als Transport zu / von den Clouds, erfordert jedoch keine Installation.  Aus diesem Grund verwende ich es in Verbindung mit Yandex.Disk, um Informationen von einem Remote-Server auf einen anderen zu übertragen. Es stellte sich heraus, dass große Dateien schneller in die Cloud hochgeladen und aus der Cloud heruntergeladen werden können, als die direkte Dateifreigabe zu organisieren.  Ja, und das Hochladen von Backups ist ein Vergnügen.  Um beispielsweise nur frische Dateien in die Cloud zu kopieren, können Sie den folgenden Befehl verwenden: </p><br><pre><code class="bash hljs">rclone copy --max-age 24h --no-traverse D:\backups yandex:backups</code> </pre> <br><p>  Dabei ist yandex der Name der zuvor erstellten Konfiguration und Backups der Ordner mit den Backups. </p><br><p>  Weitere Informationen zur Funktionsweise von rclone finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Dokumentation</a> und im Artikel „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rclone: ​​rsync for cloud</a> “. </p><br><p>  Grundsätzlich kann rclone als vollständige Sicherungslösung mit Duplicati verwendet werden, wobei rclone als Speichertyp ausgewählt wird.  Anschließend erstellt Duplicati Backups mit vss (Snapshots) gemäß dem Scheduler, und der erste ist für das Herunterladen der Backups in die von uns benötigte Cloud verantwortlich.  Natürlich können Sie jede andere Lösung wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cobian verwenden</a> oder sogar vss-Snapshots mit dem Befehl <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diskshadow erstellen</a> , archivieren und mit rclone in die Cloud hochladen.  Wenn Sie das Rad wirklich neu erfinden, wird kein Klon benötigt. </p><br><h1 id="sozdaem-svoy-velosipedo-skript">  Erstellen Sie Ihr Fahrradskript </h1><br><p>  Wenn der Cloud-Anbieter WebDAV-Zugriff bietet, ist das Herunterladen von Daten natürlich einfach.  Beispiel für cmd und Yandex.Disk: </p><br><pre> <code class="bash hljs">net use Z: <span class="hljs-string"><span class="hljs-string">"https://webdav.yandex.ru/backup/"</span></span> /User:login@yandex.ru password rem     net use Z: /delete</code> </pre><br><p>  Aber nicht alle Anbieter sind gut in WebDAV, und es gibt Fragen zu Geschwindigkeit und Stabilität.  Daher können Sie die API verwenden, wenn der Anbieter natürlich einen solchen Zugriff bietet.  Lassen Sie uns ein Beispiel mit demselben Yandex analysieren. </p><br><p>  Yandex verwendet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OAuth</a> zur Autorisierung, daher benötigen wir für unser Skript ein spezielles Token.  Zuerst müssen Sie eine Anwendung im Abschnitt " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erstellen einer Anwendung</a> " der Site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erstellen</a> . </p><br><p>  Sie dürfen nicht vergessen, Zugriff auf die Anwendung auf Yandex.Disk zu gewähren: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/352/f59/f28/352f59f28575fddc90a19778b66a1444.jpg"></p><br><p>  Skriptzugriff auf die Yandex.Disk-API. </p><br><p>  Ersetzen Sie die Entwicklungs-URL in der Rückruf-URI (diese ist verfügbar, nachdem Sie das Kontrollkästchen "Webdienste" auf den verfügbaren Plattformen aktiviert haben): </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2d9/d56/f30/2d9d56f302c545b0ff42d1b89efb0c75.jpg"></p><br><p>  <em>Rückruf-URI-Setup.</em> </p><br><p>  Folgen Sie nach Erhalt der Anwendungs-ID dem Link: </p><br><pre> <code class="plaintext hljs">https://oauth.yandex.ru/authorize?response_type=token&amp;client_id=12345678&amp;display=popup</code> </pre> <br><p>  Wobei 12345678 die empfangene ID ist.  Nach Erteilung des Anwendungszugriffs erhalten wir das begehrte OAuth-Token, das bereits in Skripten verwendet werden kann.  Hier können Sie beispielsweise eine Datei mit PowerShell auf Yandex.Disk hochladen: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   $filepath = "D:\backup.zip" $headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]" $headers.Add("Authorization" ,'OAuth Oauth') $headers.Add("Content-Type","application/json") #   URL    $UploadUrl= (Invoke-RestMethod -method GET -URI ("https://cloud-api.yandex.net:443/v1/disk/resources/upload?path=backup.zip") -Headers $headers).href #   Invoke-WebRequest -uri $UploadUrl -Method Put -Infile $filepath -ContentType 'application/zip'</span></span></code> </pre><br><p>  Es wird vorgeschlagen, die Dateirotation, die Download-Kontrolle und andere „Kits“ zu organisieren. Der Nutzen der Yandex-API ist gut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dokumentiert</a> .  Aber ich persönlich bevorzuge es, das Rad nicht neu zu erfinden, sondern rclone zu verwenden. </p><br><p>  Nun, beim Sichern in der Cloud empfehle ich dringend, die Archive zu verschlüsseln, um nicht in bestimmten Kreisen als Held eines Gedichts des berühmten Dichters Aiklaud Von Browser zu gelten, dessen Zeile dieser Artikel trägt. </p><br><p>  In den Kommentaren schlage ich vor, keinen Holivar über die Rationalität von Cloud-Backups zu züchten, sondern mein Lieblings-Backup-Tool zu teilen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468559/">https://habr.com/ru/post/de468559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468547/index.html">Englisch sprechend, CSS, Grid und Barrierefreiheit bei FrontendConf</a></li>
<li><a href="../de468549/index.html">GPU gebunden. So übertragen Sie alles auf die Grafikkarte und ein bisschen mehr. Animationen</a></li>
<li><a href="../de468553/index.html">Parameterverwaltung in Geschäftsanwendungen ähnlich einem Versionskontrollsystem</a></li>
<li><a href="../de468555/index.html">Einführung in deterministische Assemblys in C / C ++. Teil 2</a></li>
<li><a href="../de468557/index.html">WEB 3.0 - der zweite Ansatz für das Projektil</a></li>
<li><a href="../de468561/index.html">Sicherheitswoche 39: Sicherheit und alltägliche Fehler</a></li>
<li><a href="../de468563/index.html">Watchmen Watch: Der aktuelle Stand der Weltraum-Tracking-Einrichtungen</a></li>
<li><a href="../de468565/index.html">Selbstgemachter Geigerzähler auf ESP8266 mit Touchscreen</a></li>
<li><a href="../de468573/index.html">postgres_exporter und Überwachung von PostgreSQL-Instanzen mit mehreren Datenbanken</a></li>
<li><a href="../de468577/index.html">Patch'ti - zählt nicht: die Geschichte des Patch-Managements in Gesichtern und Farben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>