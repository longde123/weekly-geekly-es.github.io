<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôâÔ∏è üôÜüèΩ üßùüèæ Aprenda programa√ß√£o funcional em Python em 10 minutos üó∫Ô∏è üë®‚Äç‚öïÔ∏è üéΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foto: Chris Ried 

 Neste artigo, voc√™ entender√° o que √© um paradigma funcional e como usar a programa√ß√£o funcional no Python. Voc√™ tamb√©m aprender√° s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprenda programa√ß√£o funcional em Python em 10 minutos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456814/"><img src="https://habrastorage.org/getpro/habr/post_images/539/971/24e/53997124e1acc9aa28c273b0daa540b3.jpg" alt="imagem"><br>  <i>Foto:</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chris Ried</a> <br><br>  Neste artigo, voc√™ entender√° o que √© um paradigma funcional e como usar a programa√ß√£o funcional no Python.  Voc√™ tamb√©m aprender√° sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">abstra√ß√£o de lista</a> e outras compreens√µes de lista. <br><br><h3>  Paradigma funcional </h3><br>  Em um paradigma imperativo, voc√™ escreve um programa especificando uma sequ√™ncia de a√ß√µes que s√£o executadas posteriormente.  Neste momento, os estados ( <i>aprox. Tradutor: vari√°veis, matrizes, etc.</i> ) mudam.  Por exemplo, deixe a vari√°vel A armazenar o valor 5, depois voc√™ altera o valor dessa vari√°vel.  Voc√™ usa vari√°veis ‚Äã‚Äãpara que seus valores mudem. <a name="habracut"></a><br><br>  Em um paradigma funcional, voc√™ n√£o diz ao computador o que fazer, mas especifica a natureza das pr√≥prias a√ß√µes.  Qual √© o maior divisor comum de um n√∫mero, o resultado de c√°lculos de 1 a n etc. <br><br>  Portanto, as vari√°veis ‚Äã‚Äãn√£o mudam.  Depois que uma vari√°vel √© inicializada, seu valor √© salvo para sempre (observe que, em linguagens funcionais puras, elas nem s√£o chamadas de vari√°veis).  Portanto, no paradigma funcional, as fun√ß√µes n√£o t√™m <i>efeitos colaterais</i> .  Um efeito colateral pode ser definido como o momento durante o qual uma fun√ß√£o muda algo al√©m de seus limites.  Veja um exemplo: <br><br><pre><code class="python hljs">a = <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> a a = <span class="hljs-number"><span class="hljs-number">5</span></span> some_func() print(a)</code> </pre> <br>  O resultado da execu√ß√£o desse c√≥digo √© 5. Na programa√ß√£o funcional, a altera√ß√£o de vari√°veis ‚Äã‚Äã√© proibida e a altera√ß√£o de fun√ß√µes de algo al√©m de suas fronteiras.  Tudo o que a fun√ß√£o pode fazer √© calcular / processar algo e retornar o resultado. <br><br>  Agora, voc√™ pode estar pensando: ‚ÄúSem vari√°veis, sem efeitos colaterais?  Por que isso √© bom?  Realmente boa pergunta. <br><br>  Se uma fun√ß√£o foi chamada duas vezes com os mesmos par√¢metros, obviamente ela retornar√° o mesmo resultado.  Se voc√™ estudou algo sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fun√ß√µes matem√°ticas</a> , apreciar√° esta oportunidade.  Isso √© chamado de transpar√™ncia do link ou transpar√™ncia referencial.  Como as fun√ß√µes n√£o t√™m efeitos colaterais, se voc√™ estiver desenvolvendo um programa de c√°lculo, poder√° acelerar o processo de execu√ß√£o.  Se o programa souber que func (2) √© 3, podemos lembrar disso.  Isso evita que a fun√ß√£o seja chamada novamente quando j√° sabemos o resultado. <br><br>  Geralmente, na programa√ß√£o funcional, os loops n√£o s√£o usados.  Recurs√£o √© usada.  Recurs√£o √© um conceito matem√°tico; na verdade, significa "alimentar algo para si mesmo".  Em uma fun√ß√£o recursiva, a pr√≥pria fun√ß√£o se autodenomina o papel de uma subfun√ß√£o.  Aqui est√° um exemplo de uma fun√ß√£o recursiva no Python: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">factorial_recursive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Base case: 1! = 1 #   if n == 1: return 1 # Recursive case: n! = n * (n-1)! #    else: return n * factorial_recursive(n-1)</span></span></code> </pre> <br>  Algumas linguagens de programa√ß√£o s√£o <b>pregui√ßosas</b> .  Isso significa que eles est√£o calculando tudo no √∫ltimo momento.  Suponha que se o c√≥digo deve executar 2 + 2, o programa funcional calcular√° o resultado somente quando o resultado for necess√°rio.  Aprenderemos sobre a pregui√ßa do Python um pouco mais tarde. <br><br><h3>  <font color="#9933FF">Mapa</font> </h3><br>  Para entender o mapa, voc√™ deve primeiro lidar com cont√™ineres iter√°veis.  Esse √© um cont√™iner no qual voc√™ pode "passar por cima".  Geralmente, s√£o listas ou matrizes, mas existem muitos cont√™ineres no Python.  Voc√™ pode at√© criar seu pr√≥prio cont√™iner, introduzindo <i>m√©todos m√°gicos</i> .  Esses m√©todos, como APIs, ajudam os objetos a se tornarem mais pit√¥nicos.  Existem 2 m√©todos para tornar um objeto iter√°vel: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, low, high)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># set class attributes inside the magic method __init__ # for "inistalise" #      self.current = low self.high = high def __iter__(self): # first magic method to make this object iterable #    return self def __next__(self): # second magic method #    if self.current &gt; self.high: raise StopIteration else: self.current += 1 return self.current - 1</span></span></code> </pre> <br>  O primeiro m√©todo m√°gico √© "___iter__" ou dunder (sublinhado duas vezes por sublinhados) iter retorna um objeto iter√°vel, geralmente usado no in√≠cio de um loop.  Dunder next (__next__) retorna o pr√≥ximo objeto. <br><br>  Verifique isto: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Counter(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>): print(c)</code> </pre> <br>  Resultado da execu√ß√£o: <br><br> <code>3 <br> 4 <br> 5 <br> 6 <br> 7 <br> 8</code> <br> <br>  No Python, um iterador √© um objeto que possui apenas o m√©todo __iter__.  Isso significa que voc√™ pode acessar o local das c√©lulas do objeto (cont√™iner), mas n√£o pode "caminhar" por elas.  Alguns objetos t√™m apenas o maravilhoso m√©todo __next__, sem o m√©todo m√°gico __iter__, por exemplo, definido (mais sobre isso posteriormente).  Neste artigo, abordaremos tudo relacionado a objetos iter√°veis. <br><br>  Agora que sabemos o que √© um objeto iter√°vel, vamos retornar √† fun√ß√£o map.  Essa fun√ß√£o nos permite aplicar a a√ß√£o de alguma outra fun√ß√£o a cada elemento em um cont√™iner iterado.  Queremos aplicar uma fun√ß√£o a cada elemento da lista, isso √© poss√≠vel para quase todos os cont√™ineres iter√°veis.  Map, utiliza dois argumentos: a fun√ß√£o a ser aplicada e o cont√™iner (lista, etc.). <br><br><pre> <code class="python hljs">map(function, iterable)</code> </pre> <br>  Suponha que tenhamos uma lista com os seguintes elementos: <br><br> <code>[1, 2, 3, 4, 5]</code> <br> <br>  E queremos colocar cada elemento ao quadrado, isso pode ser feito assim: <br><br><pre> <code class="python hljs">x = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">square</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> num*num print(list(map(square, x)))</code> </pre> <br>  Fun√ß√µes funcionais no Python s√£o pregui√ßosas.  Se n√£o adicionarmos "list ()", a fun√ß√£o armazenar√° a descri√ß√£o do cont√™iner (lista), e n√£o a pr√≥pria lista.  Precisamos dizer diretamente ao Python para converter isso em uma lista. <br><br>  √â um pouco estranho passar de uma defini√ß√£o n√£o pregui√ßosa para uma pregui√ßosa t√£o repentinamente.  Voc√™ se acostumar√° a isso se pensar mais de uma maneira funcional do que um imperativo. <br><br>  As fun√ß√µes de escrita, por exemplo, ‚Äúquadrado (num)‚Äù s√£o normais, mas n√£o totalmente corretas.  Precisamos declarar uma fun√ß√£o inteira apenas para us√°-la no mapa?  Isso pode ser simplificado atrav√©s da introdu√ß√£o de fun√ß√µes lambda (an√¥nimas). <br><br><h3>  <font color="#9933FF">Express√µes lambda</font> </h3><br>  Express√µes lambda s√£o fun√ß√µes em uma linha, por exemplo, aqui est√° uma express√£o lambda que esquadrinha o n√∫mero resultante: <br><br><pre> <code class="python hljs">square = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x * x</code> </pre> <br>  E, execute o seguinte: <br><br> <code>&gt;&gt;&gt; square(3) <br> 9</code> <br> <br>  Eu posso te ouvir.  "Brandon, onde est√£o os argumentos?"  O que √© isso tudo?  Isso n√£o √© como uma fun√ß√£o. ‚Äù <br><br>  Sim, pode ser confuso, mas pode ser explicado.  Nesta linha, atribu√≠mos algo √† vari√°vel "quadrado".  Esta parte: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x * x</code> </pre> <br>  Diz ao Python que estamos usando a fun√ß√£o lambda, e a entrada √© chamada x.  Tudo depois dos dois pontos √© o que acontecer√° com a entrada e obteremos o resultado automaticamente mais tarde. <br><br>  Para o nosso programa assumiu a forma de uma linha, voc√™ precisa fazer o seguinte: <br><br><pre> <code class="python hljs">x = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] print(list(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num * num, x)))</code> </pre> <br>  Portanto, nas express√µes lambda, os argumentos est√£o √† esquerda e as a√ß√µes nelas est√£o √† direita.  Isso √© um pouco desarrumado, ningu√©m nega.  A verdade √© que h√° algo nele, para escrever esse c√≥digo funcional.  Al√©m disso, √© muito legal converter fun√ß√µes em linha √∫nica. <br><br><h3>  <font color="#9933FF">Reduzir</font> </h3><br>  Reduzir √© uma fun√ß√£o que transforma um cont√™iner iter√°vel em uma coisa.  Ou seja, s√£o feitos c√°lculos que transformam a lista em um √∫nico n√∫mero.  √â assim: <br><br><pre> <code class="python hljs">reduce(function, list)</code> </pre> <br>  N√≥s podemos (e freq√ºentemente usaremos) fun√ß√µes lambda como argumento da fun√ß√£o. <br><br>  Se quisermos multiplicar todos os n√∫meros da lista, isso pode ser feito assim: <br><br><pre> <code class="python hljs">product = <span class="hljs-number"><span class="hljs-number">1</span></span> x = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x: product = product * num</code> </pre> <br>  E com reduzir ficar√° assim: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> functools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> reduce product = reduce((<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x, y: x * y),[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>])</code> </pre> <br>  O resultado ser√° o mesmo, mas o c√≥digo √© mais curto e com o conhecimento de programa√ß√£o funcional para us√°-lo com mais precis√£o. <br><br><h3>  <font color="#9933FF">Filtro</font> </h3><br>  A fun√ß√£o de filtro pega um cont√™iner iter√°vel e o filtra de acordo com uma regra especificada (tamb√©m uma fun√ß√£o). <br><br>  Normalmente, √© necess√°ria uma fun√ß√£o e uma lista como entrada.  Posteriormente, aplica uma fun√ß√£o a cada elemento da lista, se a fun√ß√£o retornar True, nada acontecer√° e, se False, o elemento ser√° removido da lista. <br><br>  Sintaxe: <br><br><pre> <code class="python hljs">filter(function, list)</code> </pre> <br>  Vejamos um exemplo sem usar o filtro: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) new_list = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>: new_list.append(num)</code> </pre> <br>  Juntamente com o filtro: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = list(filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>, x))</code> </pre> <br><h3>  <font color="#9933FF">Fun√ß√µes de ordem superior</font> </h3><br>  Fun√ß√µes de ordem superior podem aceitar fun√ß√µes como argumentos e retorn√°-las.  Um exemplo simples seria assim: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">summation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(nums)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum(nums) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(func, numbers)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> func(numbers) print(action(summation, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>])) <span class="hljs-comment"><span class="hljs-comment"># Output is 6 #  6</span></span></code> </pre><br>  Ou um exemplo √© ainda mais simples: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rtnBrandon</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"brandon"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rtnJohn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"john"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rtnPerson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> age = int(input(<span class="hljs-string"><span class="hljs-string">"What's your age?"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> age == <span class="hljs-number"><span class="hljs-number">21</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rtnBrandon() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rtnJohn()</code> </pre> <br>  Lembre-se anteriormente, eu disse que a programa√ß√£o funcional real n√£o usa vari√°veis.  Fun√ß√µes de ordem superior tornam isso poss√≠vel.  Voc√™ n√£o precisa salvar a vari√°vel em algum lugar se estiver passando informa√ß√µes atrav√©s de um longo "t√∫nel" de fun√ß√µes. <br><br>  Todas as fun√ß√µes no Python s√£o objetos de primeira classe.  Um objeto da primeira classe √© definido como tal, que corresponde a um ou mais dos seguintes par√¢metros: <br><br><ul><li>  Cria um ciclo de servi√ßo </li><li>  Atribu√≠do a uma vari√°vel ou item em uma estrutura de dados </li><li>  Passado como argumento de fun√ß√£o </li><li>  Retornado como resultado da execu√ß√£o da fun√ß√£o </li></ul><br>  Portanto, todas as fun√ß√µes no Python s√£o objetos de primeira classe e podem ser usadas como fun√ß√µes de ordem superior. <br><br><h3>  <font color="#9933FF">Aplica√ß√£o parcial</font> </h3><br>  O uso parcial (tamb√©m interrup√ß√£o) √© um pouco estranho, mas muito legal.  Voc√™ pode chamar a fun√ß√£o sem usar todos os argumentos fornecidos.  Vejamos um exemplo.  Queremos criar uma fun√ß√£o que use 2 argumentos, a base e o grau, e retorne a base elevada ao poder, assim: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">power</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(base, exponent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> base ** exponent</code> </pre><br>  Agora precisamos criar uma fun√ß√£o separada para quadratura e calcul√°-la usando a fun√ß√£o power: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">square</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(base)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> power(base, <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Funciona, mas e se quisermos cubar um n√∫mero?  Ou no 4¬∫ grau?  Voc√™ deve escrever essas fun√ß√µes para sempre?  Claro que voc√™ pode.  Mas os programadores s√£o pregui√ßosos.  Se voc√™ repetir a mesma coisa v√°rias vezes, provavelmente existe uma maneira de faz√™-lo mais rapidamente e parar de repetir.  Aplica√ß√£o parcial pode ser usada aqui.  Vejamos um exemplo da fun√ß√£o power usando aplica√ß√£o parcial: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> functools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> partial square = partial(power, exponent=<span class="hljs-number"><span class="hljs-number">2</span></span>) print(square(<span class="hljs-number"><span class="hljs-number">2</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># output is 4 #  4</span></span></code> </pre><br>  N√£o √© legal?  Podemos chamar uma fun√ß√£o que precisa de 2 argumentos, usando apenas 1 e especificando qual ser√° o segundo por si pr√≥prio. <br><br>  Voc√™ tamb√©m pode usar um loop para simular uma fun√ß√£o de pot√™ncia que funcione com cubos at√© a 1000¬™ pot√™ncia. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> functools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> partial powers = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1001</span></span>): powers.append(partial(power, exponent = x)) print(powers[<span class="hljs-number"><span class="hljs-number">0</span></span>](<span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># output is 9 #  9</span></span></code> </pre> <br><h3>  <font color="#9933FF">A programa√ß√£o funcional n√£o corresponde aos c√¢nones pit√¥nicos</font> </h3><br>  Voc√™ deve ter notado que muitas das coisas que queremos fazer na programa√ß√£o funcional giram em torno de listas.  Al√©m da fun√ß√£o de redu√ß√£o e aplica√ß√£o parcial, todas as fun√ß√µes que voc√™ viu geram listas.  Guido (o criador do Python`a) n√£o gosta de coisas funcionais no Python`e, pois o Python possui seu pr√≥prio m√©todo de cria√ß√£o de listas. <br><br>  Se voc√™ escrever "import this" no console, voc√™ obter√°: <br> <code>&gt;&gt;&gt; import this <br> <br> The Zen of Python, by Tim Peters <br> <br> Beautiful is better than ugly. <br> Explicit is better than implicit. <br> Simple is better than complex. <br> Complex is better than complicated. <br> Flat is better than nested. <br> Sparse is better than dense. <br> Readability counts. <br> Special cases aren't special enough to break the rules. <br> Although practicality beats purity. <br> Errors should never pass silently. <br> Unless explicitly silenced. <br> In the face of ambiguity, refuse the temptation to guess. <br> There should be one ‚Äî and preferably only one ‚Äî obvious way to do it. <br> Although that way may not be obvious at first unless you're Dutch. <br> Now is better than never. <br> Although never is often better than *right* now. <br> If the implementation is hard to explain, it's a bad idea. <br> If the implementation is easy to explain, it may be a good idea. <br> Namespaces are one honking great idea ‚Äî let's do more of those!</code> <br> <br>  Este √© o Python Zen.  Este √© um vers√≠culo sobre o que significa ser um pythonist.  A parte que nos interessa √©: <br><br><blockquote>  Deve haver uma - e de prefer√™ncia apenas uma - maneira √≥bvia de faz√™-lo. </blockquote><br><blockquote>  <i>Deve haver apenas uma - e de prefer√™ncia apenas uma - maneira √≥bvia de fazer alguma coisa.</i> </blockquote><br>  No Python, o mapa e o filtro podem fazer o mesmo que a abstra√ß√£o da lista ( <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link</a></i> ).  Isso viola uma das regras do Python-Zen, portanto, essa parte da programa√ß√£o funcional n√£o √© "pit√¥nica". <br><br>  As pr√≥ximas coisas a serem discutidas s√£o a fun√ß√£o lambda.  No Python, uma fun√ß√£o lambda √© uma fun√ß√£o normal.  E, de fato, √© a√ß√∫car sint√°tico.  Ambas as partes fazem a mesma coisa: <br><br><pre> <code class="python hljs">foo = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  Uma fun√ß√£o padr√£o ainda pode ser a mesma que uma fun√ß√£o lambda, mas n√£o vice-versa.  Uma fun√ß√£o Lambda n√£o pode ser a mesma que uma fun√ß√£o normal. <br><br>  Essa foi uma pequena observa√ß√£o sobre por que a programa√ß√£o funcional n√£o se encaixa perfeitamente na ideologia pit√¥nica.  Mencionei a abstra√ß√£o das listas ( <i>tamb√©m inclus√£o na lista</i> ), agora vamos falar sobre isso. <br><br><h3>  <font color="#9933FF">Abstra√ß√£o de lista</font> </h3><br>  Eu j√° disse que tudo o que pode ser feito usando o mapa e o filtro pode ser feito usando a abstra√ß√£o da lista.  Nesta parte, discutiremos isso. <br><br>  Abstra√ß√£o de lista √© uma maneira de criar listas em Python.  Sintaxe: <br><br><pre> <code class="python hljs">[function <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> iterable]</code> </pre> <br>  Vamos agrupar cada item da lista, por exemplo: <br><br><pre> <code class="python hljs">print([x * x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]])</code> </pre> <br>  Ok, podemos ver como aplicar a fun√ß√£o a cada elemento da lista.  Como contornar o filtro?  D√™ uma olhada neste c√≥digo: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = list(filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>, x)) print(all_less_than_zero)</code> </pre> <br>  Agora use a abstra√ß√£o da lista: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = [num <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br>  A abstra√ß√£o de lista suporta express√µes condicionais desse tipo.  Voc√™ n√£o precisa mais usar um milh√£o de fun√ß√µes para obter algo.  De fato, se voc√™ est√° tentando fazer algo com uma lista, existe a possibilidade de ser mais limpo e f√°cil de obter com a abstra√ß√£o de listas. <br><br>  E se quisermos colocar todos os elementos da lista abaixo de zero?  Com a fun√ß√£o lambda, mapear e filtrar, ficar√° assim: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = list(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num * num, list(filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>, x))))</code> </pre><br>  Esta entrada n√£o √© racional e n√£o √© muito simples.  Usando a abstra√ß√£o da lista, ficar√° assim: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = [num * num <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre><br>  A abstra√ß√£o de lista √© boa, curiosamente, para listas.  Mapear e filtrar o trabalho para cada cont√™iner iter√°vel, o que h√° de errado? .. Sim, voc√™ pode usar a abstra√ß√£o para cada cont√™iner iter√°vel que encontrar. <br><br><h3>  <font color="#9933FF">Outras abstra√ß√µes</font> </h3><br>  Voc√™ pode aplicar a abstra√ß√£o para cada cont√™iner iter√°vel. <br><br>  Cada cont√™iner iter√°vel pode ser criado usando abstra√ß√£o.  A partir da vers√£o 2.7, voc√™ pode at√© criar um dicion√°rio (tabela de hash). <br><br>  Se algo √© um cont√™iner iter√°vel, pode ser gerado algo.  Vejamos o √∫ltimo exemplo usando set.  Se voc√™ n√£o souber o que √© conjunto, consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este artigo</a> escrito por mim tamb√©m.  Em resumo: <br><br><ul><li>  Set √© um cont√™iner de elementos; os elementos nele n√£o s√£o repetidos </li><li>  A ordem n√£o √© importante </li></ul><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># taken from page 87, chapter 3 of Fluent Python by Luciano Ramalho #    Fluent Python, . 87, . 3 &gt;&gt;&gt; from unicodedata import name &gt;&gt;&gt; {chr(i) for i in range(32, 256) if 'SIGN' in name(chr(i), '')} {'√ó', '¬•', '¬∞', '¬£', '', '#', '¬¨', '%', '¬µ', '&gt;', '¬§', '¬±', '¬∂', '¬ß', '&lt;', '=', '', '$', '√∑', '¬¢', '+'}</span></span></code> </pre><br>  Como voc√™ deve ter notado, o conjunto, como um dicion√°rio, usa chaves.  Python √© realmente inteligente.  Ele vai adivinhar se voc√™ est√° usando uma abstra√ß√£o de dicion√°rio ou um conjunto de abstra√ß√µes, com base em se voc√™ especifica par√¢metros adicionais para o dicion√°rio ou n√£o.  Se voc√™ quiser saber mais sobre abstra√ß√µes, leia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">isto</a> .  Se sobre abstra√ß√µes e gera√ß√£o, ent√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este</a> . <br><br><h3>  <font color="#9933FF">Sum√°rio</font> </h3><br>  A programa√ß√£o funcional √© √≥tima.  O c√≥digo funcional pode ser limpo ou n√£o muito.  Alguns pythonists incondicionais n√£o aceitam o paradigma funcional no Python.  Voc√™ deve usar o que deseja e o que combina com voc√™. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">P√°gina do autor</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt456814/">https://habr.com/ru/post/pt456814/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt456804/index.html">Siga o dinheiro: como o grupo RTM come√ßou a ocultar os endere√ßos dos servidores C&C em uma carteira criptogr√°fica</a></li>
<li><a href="../pt456806/index.html">Um bot de todas as preocupa√ß√µes</a></li>
<li><a href="../pt456808/index.html">Como melhorar o desempenho de aplicativos Web front-end: cinco dicas</a></li>
<li><a href="../pt456810/index.html">Os primeiros. Uma hist√≥ria livre de Tesla</a></li>
<li><a href="../pt456812/index.html">O que h√° na Universidade ITMO - festivais de TI, hackers, confer√™ncias e semin√°rios abertos</a></li>
<li><a href="../pt456818/index.html">O administrador do sistema em uma empresa inacess√≠vel. O fardo insuport√°vel do ser?</a></li>
<li><a href="../pt456820/index.html">Argila ‚Üí Tijolo ‚Üí Fog√£o</a></li>
<li><a href="../pt456824/index.html">O que √© probabilidade e como calcul√°-lo</a></li>
<li><a href="../pt456826/index.html">Escalonamento autom√°tico DIY com AWX, Ansible, haproxy e CROC Cloud</a></li>
<li><a href="../pt456828/index.html">Vias de ajuste para placas de circuito impresso</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>