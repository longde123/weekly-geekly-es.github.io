<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯНЙ ЁЯХ╡ЁЯП╝ ЁЯзУЁЯП╗ рдЖрд░ред рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ, рдЧреНрд░рд╛рдлрд╝, xlsx, рдИрдореЗрд▓ рдФрд░ рдЗрд╕ рд╕рдм рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднрдВрдбрд╛рд░рдг рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░ рд░рд┐рдкреЛрд░реНрдЯ ЁЯШз ЁЯЫл ЁЯСЗЁЯП╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд▓реЗрдЦ рд╡реИрдХрд▓реНрдкрд┐рдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдФрд░ рдирд┐рд░реНрдорд╛рдг рдЗрддрд┐рд╣рд╛рд╕ рдХреЗ рд╕рд╛рде EMC VNX рд╕реНрдЯреЛрд░реЗрдЬ рдбреНрд░рд╛рдЗрд╡ рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░ рдирд┐рдпрдорд┐рдд рд░рд┐рдкреЛрд░реНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред 


 рдореИрдВрдиреЗ рд╕рдмрд╕реЗ рд╡рд┐рд╕...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЖрд░ред рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ, рдЧреНрд░рд╛рдлрд╝, xlsx, рдИрдореЗрд▓ рдФрд░ рдЗрд╕ рд╕рдм рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднрдВрдбрд╛рд░рдг рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░ рд░рд┐рдкреЛрд░реНрдЯ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461441/"><p>  рд▓реЗрдЦ рд╡реИрдХрд▓реНрдкрд┐рдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдФрд░ рдирд┐рд░реНрдорд╛рдг рдЗрддрд┐рд╣рд╛рд╕ рдХреЗ рд╕рд╛рде <strong>EMC VNX</strong> рд╕реНрдЯреЛрд░реЗрдЬ рдбреНрд░рд╛рдЗрд╡ рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░ рдирд┐рдпрдорд┐рдд рд░рд┐рдкреЛрд░реНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдореИрдВрдиреЗ рд╕рдмрд╕реЗ рд╡рд┐рд╕реНрддреГрдд рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдФрд░ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рде рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреАред  рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рдкрд╛рд╕рд╡рд░реНрдб рд╕реНрдерд╛рдирд╛рдкрдиреНрди рдХрд░реЗрдВред  рд╕реНрд░реЛрдд рдбреЗрдЯрд╛ рдХрд╛ рдкреНрд░рд╛рд░реВрдк рднреА рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореБрдЭреЗ рдЦреБрд╢реА рд╣реЛрдЧреА рдЕрдЧрд░ рдХреЛрдИ рдЗрд╕реЗ рдШрд░ рдкрд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/um/it/no/umitnoobcf6fiyywqho_5gsbvjk.png" alt="рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдЙрдкрд╕реНрдерд┐рддрд┐"></p><a name="habracut"></a><br><h2 id="predystoriya">  рдкреНрд░рд╛рдЧрд┐рддрд┐рд╣рд╛рд╕ </h2><br><p>  рдпрджрд┐ рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рдирд╣реАрдВ рд╣реИ рддреЛ рдЖрдк рдЗрд╕реЗ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд╣рд╛рдВ рд╕реЗ "рдкреИрд░ рдмрдврд╝рддреЗ рд╣реИрдВ"ред <br>  рд╣рдорд╛рд░рд╛ рдПрдХ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рд╣реИред  рдмрд╣реБрдд рддрд╛рдЬрд╝рд╛ рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпрд╛рдБ рдирд╣реАрдВ рд╣реИрдВред  рдХрдИ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо, рдбрд┐рд╕реНрдХ рд╡рд┐рдлрд▓рддрд╛рдПрдВ рднреА рд╣реИрдВред  рд╕рдкреНрддрд╛рд╣ рдореЗрдВ рдХрдИ рдмрд╛рд░ рд▓реЛрдЧ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдореЗрдВ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдбреНрд░рд╛рдЗрд╡ рдмрджрд▓рддреЗ рд╣реИрдВред  рдбрд┐рд╕реНрдХ рдХреЛ рдмрджрд▓рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп " <strong>рдЕрдиреБрд╢рдВрд╕рд┐рдд рдбрд┐рд╕реНрдХ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди</strong> " рд╕рд┐рд╕реНрдЯрдо рд╕реЗ рдЕрд▓рд╛рд░реНрдо рдХреЗ рдмрд╛рдж рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  <em>рд╕рд╛рдзрд╛рд░рдг рд╕реЗ рдмрд╛рд╣рд░ рдХреБрдЫ рднреА рдирд╣реАрдВред</em> </p><br><p><img src="https://habrastorage.org/webt/5l/ho/ne/5lhonedh_eha1d0gm2vnzrv2ry4.png" alt="рдпрд╣ рдареАрдХ рд╣реИ"></p><br><p>  рд▓реЗрдХрд┐рди рд╣рд╛рд▓ рд╣реА рдореЗрдВ, рд╡реНрдпрдХреНрддрд┐рдЧрдд рдПрд▓рдпреВрдПрди рдиреЗ рдЗрди рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдкрд░ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдФрд░ рд╡рд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬреЛ рдЧрдВрднреАрд░рддрд╛ рд╕реЗ рдиреАрдЪрд╛ рджрд┐рдЦрд╛рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ред  рд╡рд┐рдХреНрд░реЗрддрд╛ рдХреЗ рддрдХрдиреАрдХреА рд╕рдорд░реНрдерди рдХреЗ рд╕рд╛рде рдмрд╛рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рдХрд┐ рдбрд┐рд╕реНрдХ рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рди рдХреЗрд╡рд▓ рдЬрдм рдЙрдкрд░реЛрдХреНрдд рдЕрд▓рд╛рд░реНрдо рд╕рдВрджреЗрд╢ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рднреА рдЬрдм рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЕрдиреНрдп рд╕рдВрджреЗрд╢ рджрд┐рдЦрд╛рдИ рджреЗрддреЗ рд╣реИрдВ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдорд╣рддреНрд╡рдкреВрд░реНрдг рддреНрд░реБрдЯрд┐рдпреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдЗрди рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдПрд╕рдПрдирдПрдордкреА рдирд┐рдЧрд░рд╛рдиреА рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИред  рдЖрдкрдХреЛ рдорд╣рдВрдЧреЗ рд╕реНрд╡рд╛рдорд┐рддреНрд╡ рд╡рд╛рд▓реЗ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ (рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдпрд╣ рдирд╣реАрдВ рд╣реИ) рдпрд╛ <strong>NaviSECCli</strong> рдХрдВрд╕реЛрд▓ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдирд┐рдпрдВрддреНрд░рдХ (рдЙрдирдореЗрдВ рд╕реЗ рджреЛ рд╣реИрдВ) рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реЛрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдмрд╣реБрдд рд╡рд╛рдВрдЫрдиреАрдп рдирд╣реАрдВ рдерд╛ред </p><br><p>  рд▓реЙрдЧ рдХреЗ рд╕рдВрдЧреНрд░рд╣ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдФрд░ рдЙрдирдореЗрдВ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ред  рдФрд░ рдбрд┐рд╕реНрдХ рдХреЛ рдмрджрд▓рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд░рд┐рдкреЛрд░реНрдЯ рдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЬрд┐рдореНрдореЗрджрд╛рд░ рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдкрд░ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><h2 id="pervye-shagi">  рдкрд╣рд▓рд╛ рдХрджрдо </h2><br><p>  рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдореЗрд░реЗ рдПрдХ рд╕рд╣рдХрд░реНрдореА рдиреЗ <strong>PowerShell</strong> рдХреЛрдб рд▓рд┐рдЦрд╛ рдерд╛ рдЬреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░реНрдп рдХрд░рддрд╛ рдерд╛: </p><br><ul><li>  рдПрдХ рдЗрдирдкреБрдЯ рддрд╛рд▓рд┐рдХрд╛ рд▓реА рдЬрд┐рд╕рдореЗрдВ рд╕реНрдЯреЛрд░реЗрдЬ рдХрдВрдЯреНрд░реЛрд▓рд░реЛрдВ рдХреЗ рдЖрдИрдкреА рдкрддреЗ рдереЗ; </li><li>  рдЪрдХреНрд░ рдирд┐рдпрдВрддреНрд░рдХ <em>рдП</em> рдХреЗ рдЖрдИрдкреА рдкрддреЗ рдкрд░ рдЧрдпрд╛, рдлрд┐рд░ рдирд┐рдпрдВрддреНрд░рдХ <em>рдмреА</em> рдХреЗ рдЖрдИрдкреА рдкрддреЗ рдкрд░; </li><li>  рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдбрд┐рд╕реНрдХ рдХреЗ рд╕реАрд░рд┐рдпрд▓ рдирдВрдмрд░ рдХреЗ рд▓рд┐рдП рдЙрдирдХрд╛ рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ рд▓рд┐рдпрд╛; </li><li>  рд▓реЙрдЧ рдХреА рд╕рднреА рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдФрд░ рдорд╛рдВрдЧреЗ рдЧрдП рд╕рдВрджреЗрд╢реЛрдВ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЗ рд▓рд┐рдП рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд┐рдпрд╛; </li><li>  рдПрдХ <strong>PowerShell</strong> рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдпрд╛ рдФрд░ рдЗрд╕рдХреЗ рдЧреБрдгреЛрдВ рдореЗрдВ рдКрдкрд░ рдкреНрд░рд╛рдкреНрдд рд▓рд╛рдЗрдиреЛрдВ рд╕реЗ рдЖрд╡рд╢реНрдпрдХ рдбреЗрдЯрд╛ рдкрд╛рд░реНрд╕ рдХрд┐рдпрд╛; </li><li>  рд╕рднреА рдкрд░рд┐рдгрд╛рдореА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╡рд┐рд▓рдп рдХрд░ рджрд┐рдпрд╛ рдЬреЛ рд╕реАрдПрд╕рд╡реА рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </li></ul><br><p>  рдХреЛрдб рдиреАрдЪреЗ рд╣реИред  рддреБрд░рдВрдд рдПрдХ рдЖрд░рдХреНрд╖рдг рдХрд░реЗрдВ рдХрд┐ рд╡рд╣ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдордиреЗ рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рд╕рдорд╛рдзрд╛рди рдкреЗрд╢ рдХрд┐рдпрд╛ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рдкреЙрд╡рд░рд╢реЗрд▓ рд╕реЛрд░реНрд╕</b> <div class="spoiler_text"><pre><code class="perl hljs">cd <span class="hljs-string"><span class="hljs-string">'d:\Navisphere CLI\' $csv = "D:\VNX-IP.csv" $Filter1 = "name1" $Filter2 = "name2" $Filter3 = "name3" $Data = import-csv $csv -Delimiter '</span></span>;<span class="hljs-string"><span class="hljs-string">' | Where {$_.cl -EQ $Filter1 -Or $_.cl -EQ $Filter2 -Or $_.cl -EQ $Filter3} | Sort-Object -Property @{Expression={$_.cl}; Ascending=$true}, @{Expression={$_.Name} ;Ascending=$true} #$Filter1 = "nameOfcl" #$Data = import-csv $csv -Delimiter '</span></span>;<span class="hljs-string"><span class="hljs-string">' | Where {$_.Name -EQ $Filter1} $Data | select Name,IP,cl $yStart = (Get-Date).AddDays(-30).ToString('</span></span>yyyy<span class="hljs-string"><span class="hljs-string">') $yEnd = (Get-Date).ToString('</span></span>yyyy<span class="hljs-string"><span class="hljs-string">') $mStart = (Get-Date).AddDays(-30).ToString('</span></span>MM<span class="hljs-string"><span class="hljs-string">') $mEnd = (Get-Date).ToString('</span></span>MM<span class="hljs-string"><span class="hljs-string">') $dStart = (Get-Date).AddDays(-30).ToString('</span></span>dd<span class="hljs-string"><span class="hljs-string">') $dEnd = (Get-Date).ToString('</span></span>dd<span class="hljs-string"><span class="hljs-string">') #$start = (Get-Date).AddDays(-3).ToString('</span></span>MM\/dd\/yy<span class="hljs-string"><span class="hljs-string">') #$end = (Get-Date).ToString('</span></span>MM\/dd\/yy<span class="hljs-string"><span class="hljs-string">') $i = 1 $table = ForEach ($row in $Data) { Write-Host $row.Name -ForegroundColor "Yellow" Write-Host "SP A" Write-Host (Get-Date).ToString('</span></span>HH:mm:ss<span class="hljs-string"><span class="hljs-string">') $txt = .\NaviSECCli.exe -scope 0 -h $row.newA -user myusername -password mypassword getlog -date $mStart/$dStart/$yStart $mEnd/$dEnd/$yEnd | Select-String -Pattern "\(820\)","\(803\)","\(801\)","\(920\)","\(901\)" ForEach ($n in $txt) { $x = $n -Split('</span></span> <span class="hljs-string"><span class="hljs-string">') $disk = $x[3] + "_" + $x[5] + "_" + $x[7].Split("(")[0] $sn = (.\NaviSECCli.exe -scope 0 -h $row.newA -user myusername -password mypassword getdisk $disk -serial)[1] | %{$_ -replace "Serial Number: ",""} | %{$_ -replace "State: ",""} | %{$_ -replace " ",""} New-Object PSObject -Property @{ i = $i cl = $row.cl Storage = $row.Name SP = "A" Date = $x[0] Time = $x[1] Disk = $disk Error = (($n -Split('</span></span>\[<span class="hljs-string"><span class="hljs-string">'))[0] -Split('</span></span>\)<span class="hljs-string"><span class="hljs-string">'))[1].Trim() eCode = (($n -Split('</span></span>\(<span class="hljs-string"><span class="hljs-string">'))[1] -Split('</span></span>\)<span class="hljs-string"><span class="hljs-string">'))[0] SN = $sn } $i = $i + 1 } Write-Host "SP B" Write-Host (Get-Date).ToString('</span></span>HH:mm:ss<span class="hljs-string"><span class="hljs-string">') $txt = .\NaviSECCli.exe -scope 0 -h $row.newB -user myusername -password mypassword getlog -date $mStart/$dStart/$yStart $mEnd/$dEnd/$yEnd | Select-String -Pattern "\(820\)","\(803\)","\(801\)","\(920\)","\(901\)" ForEach ($n in $txt) { $x = $n -Split('</span></span> <span class="hljs-string"><span class="hljs-string">') $disk = $x[3] + "_" + $x[5] + "_" + $x[7].Split("(")[0] $sn = (.\NaviSECCli.exe -scope 0 -h $row.newA -user myusername -password mypassword getdisk $disk -serial)[1] | %{$_ -replace "Serial Number: ",""} | %{$_ -replace "State: ",""} | %{$_ -replace " ",""} New-Object PSObject -Property @{ i = $i cl = $row.cl Storage = $row.Name SP = "B" Date = $x[0] Time = $x[1] Disk = $disk Error = (($n -Split('</span></span>\[<span class="hljs-string"><span class="hljs-string">'))[0] -Split('</span></span>\)<span class="hljs-string"><span class="hljs-string">'))[1].Trim() eCode = (($n -Split('</span></span>\(<span class="hljs-string"><span class="hljs-string">'))[1] -Split('</span></span>\)<span class="hljs-string"><span class="hljs-string">'))[0] SN = $sn } $i = $i + 1 } Write-Host " " } $table | select i,cl,Storage,SP,Date,Time,Disk,Error,eCode,SN | Export-Csv -Path '</span></span>d:\VNX-Errors.csv<span class="hljs-string"><span class="hljs-string">' -NoTypeInformation -UseCulture -Encoding UTF8</span></span></code> </pre> </div></div><br><p>  рд╕рдм рдХреБрдЫ рдареАрдХ рдерд╛, рдЬреЛ рдХреБрдЫ рднреА рдерд╛ рд╡рд╣ рдЗрдЪреНрдЫреБрдХ рд╕рд╣рдпреЛрдЧрд┐рдпреЛрдВ рдХреЛ рдПрдХ рдкрддреНрд░ рдХреЗ рд╕реНрд╡рдд: рднреЗрдЬрдиреЗ рдФрд░ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд╕реАрдПрд╕рд╡реА рдХреЗ рдиреНрдпреВрдирддрдо рд╕реНрд╡рд░реВрдкрдг рдХреЗ рд░реВрдк рдореЗрдВ "рдЪрдордХ" рдЬреЛрдбрд╝рдирд╛ рдерд╛ред  рд▓реЗрдХрд┐рди (!) рдЗрд╕ рд╕рд╛рд░реА рдкрд░реЗрд╢рд╛рдиреА рдиреЗ рдмрд╣реБрдд рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдХрд╛рдо рдХрд┐рдпрд╛ред  рдПрдХ рдорд╣реАрдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд▓рдЧрднрдЧ <strong>45 рдорд┐рдирдЯ</strong> рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдмрд╣реБрдд рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рдирд┐рдпрдорд┐рдд рд░рд┐рдкреЛрд░реНрдЯреЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореИрдВ рд╡рд░реНрддрдорд╛рди рд╡рд░реНрд╖ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рдЬреЛ рдмрд╣реБрдд рд▓рдВрдмрд╛ рд╕рдордп рд╣реЛрдЧрд╛ред  рд▓реЗрдХрд┐рди "рдЕрд╕реНрд╡реАрдХрд╛рд░ - рдкреНрд░рд╕реНрддрд╛рд╡ред"  рд╡реЗ рд╕реЛрдЪрдиреЗ рд▓рдЧреЗред </p><br><p><img src="https://habrastorage.org/webt/jn/85/ts/jn85tsztuso-z7ulzxh2a1jk7yq.jpeg"></p><br><p>  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдЖрдкрдХреЛ рдХреЛрдб рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░рдиреЗ рдФрд░ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  <strong>PowerShell рдореЗрдВ</strong> , рд╣рдо <strong>рд╡рд░реНрдХрдлрд╝реНрд▓реЛ</strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП 5 рд╕реЗ рдЕрдзрд┐рдХ рдПрдХ рд╕рд╛рде рдереНрд░реЗрдбреНрд╕ рдореЗрдВ рд╕рдлрд▓ рдирд╣реАрдВ рд╣реБрдП, рдФрд░ рд╣рдордиреЗ рдЕрднреА рддрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рддрд░реАрдХреЛрдВ рдХреЛ "рд╕реНрдореЛрдХреНрдб" рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП рд╕реНрдХреНрд░рд┐рдкреНрдЯ рддрд░реНрдХ рдХреЛ <strong>рдЖрд░ рдореЗрдВ</strong> рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ <strong>ред</strong>  <strong>NaviSECCli</strong> рдЙрдкрдпреЛрдЧрд┐рддрд╛, рдЬрд┐рд╕реЗ <strong>рдЖрд░ рдХреЗ</strong> рддрд╣рдд рдЪрд▓рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ рднрдВрдбрд╛рд░рдг рдХрд╛ рд╕рд░реНрд╡реЗрдХреНрд╖рдг рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕рдорд╛рдзрд╛рди рдХрд╛рдлреА рдЙрдкрдпреБрдХреНрдд рд╣реИред <br>  рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ - <del>  рдПрдХ рджреЛ рджрд┐рди </del>  - рд╣реЛ рдЧрдпрд╛! </p><br><p>  рд╣рдордиреЗ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдХрд┐ рдЖрдЙрдЯрдкреБрдЯ рдкрд░ рдореИрдВ рдПрдХ рджреИрдирд┐рдХ рд╕рдорд╛рдЪрд╛рд░ рдкрддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ рдкрддреНрд░ рдХреА рдкрд╛рда рдореЗрдВ <strong>рддреНрд░реБрдЯрд┐рдпреЛрдВ</strong> рдХреА <strong>рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛</strong> , рджреБрд░реНрдШрдЯрдирд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ <strong>рд╢реЗрдбреНрдпреВрд▓</strong> (рддрд╛рдХрд┐ рдкреНрд░рдмрдВрдзрди рдХреЛ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдерд╛), рдФрд░ рдПрдХ xlsx рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд░реВрдк рдореЗрдВ <strong>рдПрдХ рд▓рдЧрд╛рд╡</strong> рднреАред  рд╣рдордиреЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдХрд┐ рдореИрдВ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ 3 рдЯреИрдм рд░рдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ: </p><br><ul><li>  рдбрд┐рд╕реНрдХ рдФрд░ рджреБрд░реНрдШрдЯрдирд╛ рдкреНрд░рдХрд╛рд░ рд╕реЗ 3 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рджреБрд░реНрдШрдЯрдирд╛ рдбреЗрдЯрд╛ </li><li>  рдПрдХ рд╕рдорд╛рди рдЯреИрдм, рд▓реЗрдХрд┐рди 30 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП </li><li>  рдХрдЪреНрдЪрд╛ рдбреЗрдЯрд╛ (рдпрджрд┐ рдХреЛрдИ рдЙрдиреНрд╣реЗрдВ рд╕реНрд╡рдпрдВ рдПрдХреНрд╕реЗрд▓ рдореЗрдВ рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ) </li></ul><br><h4 id="algoritm-skripta">  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо </h4><br><p>  <strong>1.</strong> рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдкрд░ рдЙрдкрд▓рдмреНрдз рдбреЗрдЯрд╛ рд╕реАрдПрд╕рд╡реА рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ; <br>  <strong>2.</strong> рдЖрд╡рд╢реНрдпрдХ рдЕрд▓рд╛рд░реНрдо рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд░рд┐рдХреЙрд░реНрдб рдХреА рдЦреЛрдЬ рдХреЗ рд╕рд╛рде рд╕рднреА рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЪрдХреНрд░ рдХреЛ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рд╛рдПрдВ; <br>  <strong>3.</strong> рдПрдХ рдбреЗрдЯрд╛ рдлреНрд░реЗрдо рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рдЧрдардмрдВрдзрди; <br>  <strong>4.</strong> рдбреЗрдЯрд╛ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдФрд░ рд░реВрдкрд╛рдВрддрд░рдг рдХрд░рдирд╛; <br>  <strong>5.</strong> xlsx рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ; <br>  <strong>6. рд╣рдо</strong> рд╢реЗрдбреНрдпреВрд▓ рдмрдирд╛рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рд╣рдо png рдореЗрдВ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ; <br>  <strong>7.</strong> рдПрдХрддреНрд░рд┐рдд рдбреЗрдЯрд╛ рд╡рд╛рд▓рд╛ рдПрдХ рдкрддреНрд░ рдмрдирд╛рдПрдВ; <br>  <strong>8.</strong> рдПрдХ рдкрддреНрд░ рднреЗрдЬреЗрдВред </p><br><h2 id="proydyom-po-punktam-algoritma">  рдЖрдЗрдП рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рддреЗ рд╣реИрдВ </h2><br><h3 id="1-zagruzhaem-iz-csv-imeyuschiesya-dannye-po-kontrolleram">  1. рд╕реАрдПрд╕рд╡реА рд╕реЗ рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдкрд░ рдЙрдкрд▓рдмреНрдз рдбреЗрдЯрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ </h3><br><div class="spoiler">  <b class="spoiler_title">рд╡реАрдПрдирдПрдХреНрд╕ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрд░реЛрдд рддрд╛рд▓рд┐рдХрд╛ рдкреНрд░рд╛рд░реВрдк</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># A tibble: 83 x 9 Name IP cl type newA newB oldA oldB cntIP &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 2 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 3 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 4 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 5 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 6 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 7 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 8 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 9 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ 10 XXX 10.***.**~ XclNam~ 5300-1 10.201.1~ 10.201.1~ 10.***.*~ 10.***.*~ 10.***.*~ # ... with 73 more rows</span></span></code> </pre> </div></div><br><p>  рдЖрдкрд╛рддрдХрд╛рд▓реАрди рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХреБрдЫ рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╡рд┐рд╢реЗрд╖ <em>EMC</em> рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ - <strong>NaviCLI</strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджреЛрдиреЛрдВ рдирд┐рдпрдВрддреНрд░рдХреЛрдВ ( <em>newA</em> рдФрд░ <em>newB рдХреЙрд▓рдо</em> ) рд╕реЗ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рдЬреБрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br>  рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдкрд░рд┐рдгрд╛рдореА рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рд╕реБрдзрд╛рд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рджреЛрдиреЛрдВ рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЗ рдЖрдИрдкреА рдкрддреЗ рдПрдХ рд╣реА рдХреЙрд▓рдо рдореЗрдВ рд╣реЛрдВ, рддрд╛рдХрд┐ рдЖрдк рдкреВрд░реА рд╕реВрдЪреА рдореЗрдВ рдПрдХ рдЪрдХреНрд░ рдмрдирд╛ рд╕рдХреЗрдВ, рдФрд░ рд▓рдЧрд╛рддрд╛рд░ рджреЛ рдирд╣реАрдВред  рд╣рдо рдЗрд╕реЗ <strong>рдЗрдХрдЯреНрдард╛</strong> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ <strong>рд╣реИрдВ</strong> ред  "рд▓рдВрдмрд╡рдд" рдпрд╛ "рдХреНрд╖реИрддрд┐рдЬ" рдбреЗрдЯрд╛ рд╕реНрд╡рд░реВрдкреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рдореБрджреНрджреЗ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ <strong>tidyverse</strong> рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╣реИрдВред  рдЖрдк рдЗрд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">рдпрд╣рд╛рдБ</a> рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╣рдо <strong>read_csv2</strong> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрдЯрд╛ <strong>рдкрдврд╝рддреЗ</strong> рд╣реИрдВ, рд╣рдо рдЕрддрд┐рд░рд┐рдХреНрдд рдкреИрд░рд╛рдореАрдЯрд░ <strong>col_types рдХреЗ</strong> рдорд╛рдзреНрдпрдо рд╕реЗ рдХреЙрд▓рдо рдХреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рдПрдХ рдЕрдЪреНрдЫрд╛ рдЕрднреНрдпрд╛рд╕ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐  рдмрд╣реБрдд рддреЗрдЬреА рд╕реЗ рд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдЗрддрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рдореВрд▓ рд╕реАрдПрд╕рд╡реА рдореЗрдВ 100 рд╕реЗ рдХрдо рд▓рд╛рдЗрдиреЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд▓рд┐рдЦрдиреЗ рдХреА рдЖрджрдд рд╣реИред </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#   IP VNX. #         , #   ip        . VNX_ip &lt;- vnxIPfilePath %&gt;% read_csv2( col_types = cols( Name = col_character(), IP = col_character(), cl = col_character(), type = col_character(), newA = col_character(), newB = col_character(), oldA = col_character(), oldB = col_character() ) ) %&gt;% filter(cl %in% productCls) %&gt;% gather(key = "cntName", value = "cntIP", 5:6)</span></span></code> </pre> <br><p>  рдЖрдЙрдЯрдкреБрдЯ рдкрд░, рд╣рдореЗрдВ рдРрд╕рд╛ рдбреЗрдЯрд╛ рдлреНрд░реЗрдо рдорд┐рд▓рддрд╛ рд╣реИ (рдирдП рдХреЙрд▓рдо <strong>cntName</strong> рдФрд░ <strong>cntIP рд╣реИрдВ</strong> ): </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># A tibble: 30 x 8 Name IP cl type oldA oldB cntName cntIP &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 2 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 3 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 4 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 5 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 6 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 7 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 8 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 9 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ 10 XXX 10.***.***.*~ XclNameX 5300~ 10.***.***.~ 10.***.***.~ newA 10.***.***.~ # ... with 20 more rows</span></span></code> </pre> <br><h3 id="2-3-zapuskaem-cherez-parallelnye-vychisleniya-cikl-po-vsem-kontrolleram-s-poiskom-zapisey-o-trebuemyh-avariynyh-soobscheniyah-rezultaty-obedinyaem-v-data-frame">  2-3ред  рд╣рдо рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдорд╛рдирд╛рдВрддрд░ рдЧрдгрдирд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджреМрдбрд╝рддреЗ рд╣реИрдВ, рдЬреЛ рдЖрд╡рд╢реНрдпрдХ рдЕрд▓рд╛рд░реНрдо рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд░рд┐рдХреЙрд░реНрдб рдХреА рдЦреЛрдЬ рдХрд░рддреЗ рд╣реИрдВред  рдбреЗрдЯрд╛-рдлрд╝реНрд░реЗрдо рдореЗрдВ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░реЗрдВ </h3><br><p>  рдЕрдЧрд▓рд╛ рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИред  <em>рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ</em> ред </p><br><p>  <strong>рдЖрд░ рдореЗрдВ</strong> рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрдИ (рдмрд▓реНрдХрд┐, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдХрдИ) рд╡рд┐рдХрд▓реНрдк рд╣реИрдВред  рдореБрдЭреЗ <strong>рдлреЙрд░реНрдЪреНрдпреВрдирд░</strong> рдФрд░ <strong>doParbrid</strong> рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬрд╝ рдХрд╛ рд▓рд┐рдВрдХ рдЕрдзрд┐рдХ рдкрд╕рдВрдж рдЖрдпрд╛ред  рдЖрдк рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдФрд░ рдЕрдиреНрдп рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">рдпрд╣рд╛рдВ</a> <strong>рдЖрд░</strong> рдореЗрдВ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рд╣рдо рдХреЗрд╡рд▓ <strong>3 рдЪрд░рдг</strong> рд▓реЗрддреЗ рд╣реИрдВ: <br>  <strong>рдЪрд░рдг 1</strong>  рдЧреБрдард▓реА рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░реЗрдВ <del>  рд╢реБрджреНрдз рдкрдиреНрдирд╛ </del>  CPU рдХреЗ рд▓рд┐рдП рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <strong>registerDoParallel</strong> (рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдкрд╣рд▓реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдХреЛрд░ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддреЗ рд╣реИрдВ) </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реАрдкреАрдпреВ рдХреЛрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░реЗрдВ</b> <div class="spoiler_text"><pre> <code class="python hljs">numCores &lt;- detectCores() registerDoParallel(numCores)</code> </pre> </div></div><br><p>  <strong>рдЪрд░рдг 2</strong>  рд╣рдо <strong>рдлреЙрд░рдЪ рдХреЗ</strong> рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрдХреНрд░ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ ( <strong>% dopar%</strong> рдСрдкрд░реЗрдЯрд░ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рди рднреВрд▓реЗрдВ рддрд╛рдХрд┐ рдЪрдХреНрд░ рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ рдЪрд▓рддрд╛ рд░рд╣реЗ рдФрд░ <strong>.combine</strong> рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <strong>, рдЬрд┐рд╕</strong> рддрд░рд╣ рд╕реЗ рд╣рдо рдкрд░рд┐рдгрд╛рдо рдПрдХрддреНрд░ рдХрд░реЗрдВрдЧреЗ)ред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ <strong>.combine = rbind</strong> , рдХреНрдпреЛрдВрдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рд▓реВрдк рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ <strong>рдбреЗрдЯрд╛ рдлреНрд░реЗрдо рд╣реЛрдЧрд╛</strong> ред </p><br><div class="spoiler">  <b class="spoiler_title">рддреНрд░реБрдЯрд┐ рддрд╛рд▓рд┐рдХрд╛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐ рдХреЛрдб</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#      VNX   ip   . #      ,      #   ,      dataframe #  %dopar%   . #    ,   system.time   , #    %dopar%  %do%.      4-5. # system.time({ errors_df &lt;- foreach(i = 1:nrow(VNX_ip), .combine = rbind, .packages = "tidyverse") %dopar% { errors_raw &lt;- system( paste( "NaviSECCli.exe -scope 0 -h", VNX_ip$cntIP[i], "-user myusername -password mypassword getlog -date", bigPeriodForm, currDateForm ), intern = TRUE ) %&gt;% str_subset(pattern = regex(paste0(errorNumbers, collapse = "|"))) #      ,       if (length(errors_raw) &gt; 0) { #     #       , #     , #       . errorsDescr &lt;- errors_raw %&gt;% gsub("(.*\\) )(.*)(\\s+\\[.*)", "\\2", x = .) %&gt;% trimws() %&gt;% gsub('([[:punct:]])|\\s+', '_', .) #           errors &lt;- errors_raw %&gt;% str_split(pattern = "\\s+", simplify = T) %&gt;% as_tibble() %&gt;% mutate(Disk = paste0(V4, "_", V6, "_", V8) %&gt;% gsub( pattern = "\\([0-9]{3}\\)", replacement = "", x = .) ) #  dataframe    data_frame(cl = VNX_ip$cl[i], Storage = VNX_ip$Name[i], Date = errors$V1 %&gt;% as.Date(format = "%m/%d/%Y"), Time = errors$V2, Disk = errors$Disk, Error = errorsDescr, eCode = errors$V8 %&gt;% str_extract(paste0(errorNumbers, collapse = "|")) %&gt;% str_extract("[0-9]+")) %&gt;% mutate(DateTime = as.POSIXct(paste(Date, Time), format = "%Y-%m-%d %H:%M:%S")) } } # })</span></span></code> </pre> </div></div><br><p>  <strong>рдЪрд░рдг 3</strong>  рд╣рдо <strong>stopImplicitCluster () рдХреЗ</strong> рдорд╛рдзреНрдпрдо рд╕реЗ рдмрдирд╛рдП рдЧрдП рд╕рдорд╛рдирд╛рдВрддрд░рд╡рд╛рдж рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░рддреЗ рд╣реИрдВ </p><br><h4 id="chut-podrobnee-po-poluchenii-chitaemoy-tablicy-iz-raw-teksta-oshibok">  рдХрдЪреНрдЪреА рддреНрд░реБрдЯрд┐ рдкрд╛рда рд╕реЗ рдкрдардиреАрдп рддрд╛рд▓рд┐рдХрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдкрд░ рдереЛрдбрд╝рд╛ рдФрд░ рд╡рд┐рд╕реНрддрд╛рд░ </h4><br><p>  рдкрд╛рда рдХреЗ рд░реВрдк рдореЗрдВ, рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИрдВ: </p><br><pre> <code class="python hljs">head(errors_raw) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-string"><span class="hljs-string">"07/13/2019 00:01:46 Bus 0 Enclosure 3 Disk 9(801) Soft SCSI Bus Error [0x00] 841d1080 10006 "</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-string"><span class="hljs-string">"07/13/2019 00:01:46 Bus 0 Enclosure 3 Disk 9(801) Soft SCSI Bus Error [0x00] 841e1a00 10006 "</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-string"><span class="hljs-string">"07/13/2019 00:01:46 Bus 0 Enclosure 3 Disk 9(801) Soft SCSI Bus Error [0x00] 8420b600 10006 "</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-string"><span class="hljs-string">"07/13/2019 00:01:46 Bus 0 Enclosure 3 Disk 9(801) Soft SCSI Bus Error [0x00] 84206900 10006 "</span></span> [<span class="hljs-number"><span class="hljs-number">5</span></span>] <span class="hljs-string"><span class="hljs-string">"07/13/2019 00:01:46 Bus 0 Enclosure 3 Disk 9(801) Soft SCSI Bus Error [0x00] 841fc900 10006 "</span></span> [<span class="hljs-number"><span class="hljs-number">6</span></span>] <span class="hljs-string"><span class="hljs-string">"07/13/2019 00:01:46 Bus 0 Enclosure 3 Disk 9(801) Soft SCSI Bus Error [0x00] 841fc000 10006</span></span></code> </pre> <br><p>  рдпрд╣рд╛рдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рд╕реНрдерд╛рди рджреНрд╡рд╛рд░рд╛ рдЕрд▓рдЧ рдХрд┐рдП рдЧрдП рдорд╛рди рд╣реИрдВ, рдЬреЛ рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ <em>рд╕реАрдПрд╕рд╡реА</em> рдореЗрдВ рднреА рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдбрд╛рд▓реЗ <em>рдЬрд╛рдПрдВрдЧреЗ</em> ред  рд▓реЗрдХрд┐рди рдпрд╣ рдЗрддрдирд╛ рдЖрд╕рд╛рди рдирд╣реАрдВ рд╣реИред  рдпрд╣рд╛рдБ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдпрд╣ рд╣реИ рдХрд┐: </p><br><ul><li>  рджрд┐рдирд╛рдВрдХ рдФрд░ рд╕рдордп рдХреЛ рдПрдХ рд╕реНрдерд╛рди (рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдмреБрд░рд╛рдЗрдпреЛрдВ) рджреНрд╡рд╛рд░рд╛ рдЕрд▓рдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ; </li><li>  рддреНрд░реБрдЯрд┐ рдкрд╛рда рдореЗрдВ "рд╢рдмреНрдж" рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЕрд░реНрдерд╛рдд  рдПрдХ рд╕реНрдерд╛рди рд╕реЗ рдЕрд▓рдЧ рднреА; </li><li>  рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдбрд┐рд╕реНрдХ рд╕рдВрдЦреНрдпрд╛ рдФрд░ рддреНрд░реБрдЯрд┐ рдХреЛрдб (рдЬреЛ рдХреЛрд╖реНрдардХ рдореЗрдВ рд╣реИ) рдХреЗ рдмреАрдЪ рдХреЛрдИ рд╕реНрдерд╛рди рдирд╣реАрдВ рд╣реИред <br>  рд╕рдм рд╕рдм рдореЗрдВ, рдПрдХ рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдкреНрд░реЗрдореА рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрд╡рд░реНрдЧ :) </li></ul><br><p><img src="https://habrastorage.org/webt/yk/rf/2i/ykrf2irog7eq_o3j3d0-ijnild0.jpeg" alt="рдмреАрдорд╛рд░ рдХрдореАрдиреЗ"></p><br><p>  рдореИрдВ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдкрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрддрд╛, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╕реНрд╡рд╛рдж рдХрд╛ рдорд╛рдорд▓рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореИрдВ рд╕реНрдкрд╖реНрдЯ рдХрд░реВрдВрдЧрд╛ рдХрд┐ рддреНрд░реБрдЯрд┐ рдкрд╛рда рдХреЛ рддреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рддреНрд░реБрдЯрд┐ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рдорд╛рдкрди рдХреЛрд╖реНрдардХ рдФрд░ рдХреБрдЫ рдЕрдиреНрдп рдореВрд▓реНрдп рдХреЗ рдЙрджреНрдШрд╛рдЯрди рд╡рд░реНрдЧ рдмреНрд░реИрдХреЗрдЯ рдХреЗ рдмреАрдЪ рд╕реНрдерд┐рдд рдорд╛рдиред  рд▓реВрдк рдореЗрдВ, рдпрд╣ <strong>рддреНрд░реБрдЯрд┐рдпрд╛рдБ</strong> рдЪрд░ рд╣реИред </p><br><p>  рдпрд╣ рднреА рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рдмрд┐рдВрджреБ рд╣реИ рдХрд┐, рдЕрдВрддрд┐рдо рдбреЗрдЯрд╛ рдлреНрд░реЗрдо рдмрдирд╛рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо, рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЗ рдЖрдИрдкреА рдкрддреЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реВрдк рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЕрдиреБрдХреНрд░рдо рдХреЛ рдХреЙрд▓рдо рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд╣реАрдВ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЗ рдЖрдИрдкреА рдкрддреЗ рдХреЗ рд╕рд╛рде (рдпрд╛рдиреА <strong>= = VNN_ip $ cntIP</strong> ), рд▓реЗрдХрд┐рди рд▓рд╛рдЗрди рдирдВрдмрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ (i.e. eред <strong>i = 1: nrow (VNX_ip)</strong> )ред  рдпрд╣ рд╣рдореЗрдВ рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬрдм рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкрд╛рд░реНрд╕ рдХреА рдЧрдИ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдбреЗрдЯрд╛ рдлреНрд░реЗрдо рдмрдирд╛рддреЗ рд╣реИрдВ, рдХреНрд░рдорд╢рдГ рдХреНрд▓рд╕реНрдЯрд░ рд╕рдВрдЦреНрдпрд╛ рдФрд░ рднрдВрдбрд╛рд░рдг рдирд╛рдо рдХреЛ <strong>VNX_ip $ cl [i]</strong> рдФрд░ <strong>VNX_ip $ Name [i] рдХреЗ</strong> рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдПред  рдЗрд╕рдХреЗ рдмрд┐рдирд╛, рдЬреЙрдЗрди рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЬреЛ рдХреЛрдб рдореЗрдВ рдзреАрдорд╛ рдФрд░ рдЦрд░рд╛рдм рдкрдврд╝рд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  рдЕрдВрдд рдореЗрдВ, рд╣рдо рдПрдХ рдбреЗрдЯрд╛ рдлреНрд░реЗрдо рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ (рдИрдорд╛рдирджрд╛рд░ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдлрд┐рд░ <strong>рддрд┐рдЧреБрдирд╛</strong> , рд▓реЗрдХрд┐рди рдЕрдВрддрд░ рд▓реЗрдЦ рдХреЗ рджрд╛рдпрд░реЗ рд╕реЗ рдкрд░реЗ рд╣реИ), рдЬрд┐рд╕рдореЗрдВ рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рдпрд╛рдиреА  рдХрд┐рд╕ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдкрд░, рдХрд┐рд╕ рдбрд┐рд╕реНрдХ рдкрд░, рдХрдм рдХреНрдпрд╛ рддреНрд░реБрдЯрд┐ рд╣реБрдИред </p><br><div class="spoiler">  <b class="spoiler_title">рдЕрдВрддрд┐рдо рджреГрд╢реНрдп рдбреЗрдЯрд╛ рдлрд╝реНрд░реЗрдо</b> <div class="spoiler_text"><pre> <code class="python hljs">&gt; errors_df <span class="hljs-comment"><span class="hljs-comment"># A tibble: 2,705 x 8 cl Storage Date Time Disk Error eCode DateTime &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt; 1 XclNam~ XStorageN~ 2019-07-18 12:09:~ 0_1_3 Soft_SCSI_~ 801 2019-07-18 12:09:55 2 XclNam~ XStorageN~ 2019-07-18 15:09:~ 0_1_3 Soft_SCSI_~ 801 2019-07-18 15:09:56 3 XclNam~ XStorageN~ 2019-07-18 16:28:~ 0_1_3 Soft_SCSI_~ 801 2019-07-18 16:28:50 4 XclNam~ XStorageN~ 2019-07-19 06:36:~ 0_1_6 Soft_SCSI_~ 801 2019-07-19 06:36:39 5 XclNam~ XStorageN~ 2019-07-19 20:57:~ 0_1_6 Soft_Media~ 820 2019-07-19 20:57:35 6 XclNam~ XStorageN~ 2019-07-22 11:00:~ 0_2_~ Soft_SCSI_~ 801 2019-07-22 11:00:43 7 XclNam~ XStorageN~ 2019-07-22 11:00:~ 0_2_~ Soft_SCSI_~ 801 2019-07-22 11:00:44 8 XclNam~ XStorageN~ 2019-07-22 12:02:~ 0_2_~ Soft_SCSI_~ 801 2019-07-22 12:02:31 9 XclNam~ XStorageN~ 2019-07-23 23:29:~ 0_3_8 Soft_SCSI_~ 801 2019-07-23 23:29:49 10 XclNam~ XStorageN~ 2019-07-13 00:01:~ 0_3_9 Soft_SCSI_~ 801 2019-07-13 00:01:46 # ... with 2,695 more rows</span></span></code> </pre> </div></div><br><p>  рд╕рдмрд╕реЗ рдЪрддреБрд░ рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд╕рднреА рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдорддрджрд╛рди рдХрд╛ рдкреВрд░рд╛ рдЪрдХреНрд░ <strong>30 рдорд┐рдирдЯ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ 30 рд╕реЗрдХрдВрдб рдХрд╛ рд╣реЛрддрд╛ рд╣реИ</strong> ред </p><br><p>  <em>рднрдЧрд╡рд╛рди рдХрд╛ рд╢реБрдХреНрд░ рд╣реИ рдХрд┐ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИ рдЬрдм 30 рд╕реЗрдХрдВрдб рдмрд╣реБрдд рддреЗрдЬ рд╣реИред</em> <br><img src="https://habrastorage.org/webt/pr/nf/u9/prnfu9eet3au2ktv5-uk1vauskk.jpeg" alt="рдПрдХ рдордЬрд╛рдХ"></p><br><p>  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ <strong>рдкрд╛рд╡рд░рд╢реЗрд▓</strong> рдХреЛрдб рдиреЗ рдПрдХ рдЪрдХреНрд░ рдореЗрдВ рд╕рднреА рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рд╕реЗ рдбрд┐рд╕реНрдХ рдХреЗ рд╕реАрд░рд┐рдпрд▓ рдирдВрдмрд░ рднреА рдПрдХрддреНрд░ рдХрд┐рдП, рдФрд░ <strong>рдЖрд░</strong> рдкрд░ рдХреЛрдб рдХреЛ рдкреБрди: рд▓рд┐рдЦрдиреЗ рдХреЗ рд╕рдордп <strong>,</strong> рдпрд╣ рдбреЗрдЯрд╛ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдерд╛ред  рдЗрд╕рд▓рд┐рдП рд░рдирдЯрд╛рдЗрдо рддреБрд▓рдирд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдИрдорд╛рдирджрд╛рд░ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рд╣реИред </p><br><h3 id="4-5-obrabotka-i-preobrazovanie-dannyh-formirovanie-xlsx-dokumenta">  4-5ред  рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдбреЗрдЯрд╛ рд░реВрдкрд╛рдВрддрд░рдгред  рдПрдХ xlsx рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдмрдирд╛рдирд╛ </h3><br><p>  рдкрд┐рдЫрд▓реЗ 3 рджрд┐рдиреЛрдВ рдФрд░ рд╕рд╛рде рд╣реА рдкрд┐рдЫрд▓реЗ рдорд╣реАрдиреЗ рдкрд░ рд╕реНрд░реЛрдд рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП xlsx рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рд░реВрдкрд╛рдВрддрд░рдг рдХрдо рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рддреНрд░реБрдЯрд┐ рдирд╛рдореЛрдВ рдХреЗ рд╕рд╛рде рдХреЙрд▓рдо рдХреЛ "рдХреНрд╖реИрддрд┐рдЬ" рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддрд╛рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХрд╛рд░ рдХреА рддреНрд░реБрдЯрд┐ рдПрдХ рдЕрд▓рдЧ рдХреЙрд▓рдо рдореЗрдВ рд╣реЛред  рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдлрд╝рдВрдХреНрд╢рди рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдерд╛ (рдЗрд╕рд▓рд┐рдП 2 рдмрд╛рд░ рдПрдХ рд╣реА рдЪрд░рдг рдХреА рдирдХрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ) </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрд░реЛрдд рдЫрд╛рдирдиреЗ рдХрд╛ рдХрд╛рд░реНрдп</b> <div class="spoiler_text"><pre> <code class="python hljs">myErrorStats &lt;- function(data, period, orderColname = quo(Soft_Media_Error)) { data %&gt;% filter(Date &gt; period) %&gt;% group_by(cl, Storage, Disk, Error) %&gt;% summarise(count = n()) %&gt;% spread(Error, count, fill = <span class="hljs-number"><span class="hljs-number">0</span></span>) %&gt;% arrange(desc(!!orderColname)) }</code> </pre> </div></div><br><p>  рдПрдХ рдЕрд▓рдЧ рдХреЙрд▓рдо рдореЗрдВ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <strong>рдкреНрд░рд╕рд╛рд░</strong> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рдХреБрдВрдЬреА <strong>рднрд░рдг = 0 рдХреЗ</strong> рд╕рд╛рде рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рд▓рд╛рдкрддрд╛ рдорд╛рди <strong>0</strong> рд╕реЗ рднрд░реЗ рдЧрдП рдереЗред  рдЗрд╕ рдХреБрдВрдЬреА рдХреЗ рдмрд┐рдирд╛, рдпрджрд┐ рдХрд┐рд╕реА рджрд┐рди рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХреА рддреНрд░реБрдЯрд┐ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рддреЛ рд╕рдВрдмрдВрдзрд┐рдд рдХреЙрд▓рдо рдореЗрдВ <strong>NA</strong> рдорд╛рди рд╣реЛрдВрдЧреЗред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ, рдореИрдВ рдПрдХ рдЪрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрд▓рдо рдирд╛рдо рдХреЛ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд░рдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рд▓реЗрдХрд┐рди рд╕рд╛рде рд╣реА рдЗрд╕ рдЪрд░ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рднреА рд╣реИрдВред  рдЗрд╕рдХреЗ рд▓рд┐рдП, рдЕрдЬреАрдмреЛрдЧрд░реАрдм рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ <strong>рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</strong> , рдЬрд┐рд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">рдпрд╣рд╛рдВ</a> рдФрд░ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЬрдм рдХрд┐рд╕реА рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдкрд░ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕реЗ <em>рдЙрджреНрдзреГрдд</em> рдХрд░рддреЗ рд╣реИрдВ ( <strong>рдЖрджреЗрд╢Colname = quo (Soft_Media_Error)</strong> ), рдФрд░ рдлрд┐рд░, рдЬрдм рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрд╕рдХреЗ рд╕рд╛рдордиреЗ рд╡рд░реНрдг рдбрд╛рд▓реЗрдВ <strong>!!</strong>  <strong>рд╡реНрдпрд╡рд╕реНрдерд╛</strong> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <strong>(desc (!! orderColname))</strong> ред </p><br><div class="spoiler">  <b class="spoiler_title">рдорд╣реАрдиреЗ рдХреЗ рд▓рд┐рдП рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рддрд╛рд▓рд┐рдХрд╛ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐</b> <div class="spoiler_text"><pre> <code class="python hljs">&gt; errorsBigPeriod <span class="hljs-comment"><span class="hljs-comment"># A tibble: 77 x 7 cl Storage Disk Hard_SCSI_Bus_E~ Recommend_Disk_~ Soft_Media_Error &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 XclN~ XStora~ 1_1_~ 0 1 64 2 XclN~ XStora~ 0_2_5 0 0 29 3 XclN~ XStora~ 1_1_~ 0 1 29 4 XclN~ XStora~ 0_3_2 0 0 27 5 XclN~ XStora~ 0_3_~ 1 0 25 6 XclN~ XStora~ 1_3_5 0 1 23 7 XclN~ XStora~ 0_2_9 0 0 21 8 XclN~ XStora~ 0_3_4 0 0 14 9 XclN~ XStora~ 0_1_~ 0 0 14 10 XclN~ XStora~ 1_0_1 0 0 12 # ... with 67 more rows, and 1 more variable: Soft_SCSI_Bus_Error &lt;dbl&gt;</span></span></code> </pre> </div></div><br><p>  рдореИрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реАрдПрдо рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░ рд░рд┐рдкреЛрд░реНрдЯ</a> рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдореЗрдВ xlsx рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЗ рдЧрдарди рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдирд╣реАрдВ рдмрддрд╛рдКрдВрдЧрд╛ред  рд╕рднреА рдХреЛрдб рд▓реЗрдЦ рдХреЗ рдЕрдВрдд рдореЗрдВ рджрд┐рдП рдЧрдП рд╣реИрдВред </p><br><p><img src="https://habrastorage.org/webt/td/7v/vx/td7vvxmj5guiwtxhjyxif4cany8.jpeg"></p><br><p>  рдпрд╣рд╛рдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рд╣реИрдВ рдЬреЛ рд░рд┐рдкреЛрд░реНрдЯ рдХреА рдкрдардиреАрдпрддрд╛ рдХреЛ рдмрдврд╝рд╛рддреА рд╣реИрдВ: </p><br><ul><li>  рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдЯреИрдм (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рдЦреБрд▓рд╛ рд╣реИ); </li><li>  рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдП рдЧрдП рд╕реНрддрдВрдн рдирд╛рдо </li><li>  рд╕рднреА рд╕реНрддрдВрднреЛрдВ рдХреЛ рд╕реНрд╡рдд: рд╕реНрд╡рд░реВрдкрд┐рдд рдХрд░рдирд╛ рддрд╛рдХрд┐ рд╕рднреА рдкрд╛рда рд╕реНрддрдВрднреЛрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд┐рдП рдмрд┐рдирд╛ рдкрдврд╝рдиреЗ рдпреЛрдЧреНрдп рд╣реЛред </li></ul><br><h3 id="6-formiruem-grafik-kotoryy-sohranyaem-v-png">  6. рдПрдХ рд╢реЗрдбреНрдпреВрд▓ рдмрдирд╛рдПрдВ рдЬрд┐рд╕реЗ рд╣рдо png рдореЗрдВ рд╕реЗрд╡ рдХрд░рддреЗ рд╣реИрдВ </h3><br><p>  рдЧреНрд░рд╛рдл рдкрд░, рдореИрдВ рд╕рднреА рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐ рджрд┐рди рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рдбреНрд░рд╛рдЗрдВрдЧ рдЯреВрд▓ рдХреЗ рд░реВрдк рдореЗрдВ, рдорд╛рдирдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">ggplot2</a> рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ред </p><br><p>  рдЧреНрд░рд╛рдл рдХреЗ рдкрд╣рд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рдиреЗ рдПрдХ рдЧреНрд░рд╛рдл рдкрд░ рд╕рднреА рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рджрд┐рдЦрд╛рдпрд╛ рдФрд░ рдЗрд╕ рддрд░рд╣ рджреЗрдЦрд╛: </p><br><p><img src="https://habrastorage.org/webt/7t/jc/aj/7tjcajacotjzcoo3y0j9oc2od80.png"></p><br><p>  рд╕рд╣рдХрд░реНрдорд┐рдпреЛрдВ рдиреЗ рдХрд╣рд╛ рдХрд┐ рдпрд╣ рдЕрдкрдардиреАрдп рд╣реИред <br><del>  рд╡реЗ рдХреНрдпрд╛ рд╕рдордЭреЗрдВрдЧреЗ? !!!! </del><br>  рдЯрд┐рдкреНрдкрдгреА рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЧрдпрд╛ рдФрд░ <strong>facet_grid</strong> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдорд╛рдирдХ рдХреЙрд▓рдо ( <strong>geom_bar</strong> ) рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рддрд╛рдХрд┐ рдкрд░рд┐рдгрд╛рдо рдХреЛ рддреНрд░реБрдЯрд┐ рдХреЗ рдкреНрд░рдХрд╛рд░ рд╕реЗ рдЕрд▓рдЧ рд░реЗрдЦрд╛рдВрдХрди рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред <br>  рдЕрдВрддрд┐рдо рдкрд░рд┐рдгрд╛рдо рд╕рднреА рдХреЗ рдЕрдиреБрдХреВрд▓ рдерд╛ред </p><br><p><img src="https://habrastorage.org/webt/l1/vc/v5/l1vcv5950ji9iymrlyrij0uds3w.png" alt="рд╕рд╛рд░рд╛рдВрд╢ рдЕрдиреБрд╕реВрдЪреА"></p><br><div class="spoiler">  <b class="spoiler_title">рдбреЗрдЯрд╛ рдХреА рддреИрдпрд╛рд░реА, рд░реЗрдЦрд╛рдВрдХрди, рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рд╣реЗрдЬрдирд╛</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">####   #### #       errorsTotal &lt;- errors_df %&gt;% group_by(Date, Error) %&gt;% summarise(count = n()) %&gt;% # spread(Error, count, fill = 0) %&gt;% arrange(desc(Date)) #        . #       ,   . plot &lt;- errorsTotal %&gt;% ggplot(aes(x = Date, y = count, fill = Error)) + geom_bar(stat = "identity", width = 0.5, color = "grey") + theme_minimal() + # theme(legend.position="top") + scale_color_grey() + labs(title = "  EMC VNX", subtitle = "        ", fill = " ") + xlab("") + ylab("   ") + scale_fill_brewer(palette = "Spectral") + facet_grid(rows = vars(factor( Error, levels = c( "Soft_SCSI_Bus_Error", "Soft_Media_Error", "Hard_SCSI_Bus_Error", "Recommend_Disk_Replacement" ) ))) # #   # plot #   png,     plot_filePath &lt;- file.path("results", "plot.png") #    png     ggsave(filename = plot_filePath, plot = plot)</span></span></code> </pre> </div></div><br><p>  рдЕрдиреБрд╕реВрдЪреА рдХреЗ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдк рд╕реЗред </p><br><p>  рдореИрдВ рдЪрд╛рд╣рддрд╛ рдерд╛ рдХрд┐ рдЪрд╛рд░реНрдЯ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдХреНрд░рдо рдореЗрдВ рд╣реЛрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <strong>facet_grid</strong> рдореЗрдВ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдПрдХ рдХрд╛рд░рдХ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдПрдХ <strong>рдЖрджреЗрд╢рд┐рдд рдХрд╛рд░рдХ рднреА</strong> ред  рдлреИрдХреНрдЯрд░ рдЖрд░ рдореЗрдВ рдПрдХ рдЪрд╛рд▓рд╛рдХ рдбреЗрдЯрд╛ рдкреНрд░рд╛рд░реВрдк рд╣реИ, рдЬреЛ рдореВрд▓реНрдпреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реИ (рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рддрд╛рд░, рдпрд╛рдиреА <strong>рдЪрд░рд┐рддреНрд░-</strong> s), рдФрд░ рдЗрди рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╕реЗрдЯ рдХреЛ рдХрдбрд╝рд╛рдИ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдХрд╛рд░рдХ рд╕реНрддрд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ), рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЗрди рд╕реНрддрд░реЛрдВ рдХреЛ рдХреНрд░рдордмрджреНрдз рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдЬрдЯрд┐рд▓ рд▓рдЧрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрджрд┐ рдЖрдк рдХрд╣рддреЗ рд╣реИрдВ рдХрд┐ рд╕рдм рдХреБрдЫ рдорд╣реАрдиреЗ рдореЗрдВ рдЧрд┐рд░ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдСрд░реНрдбрд░ рдХрд┐рдП рдЧрдП рдХрд╛рд░рдХ рдХрд╛ рдПрдХ рдмрдбрд╝рд╛ рдЙрджрд╛рд╣рд░рдг рд╣реИред  рдпрд╛рдиреА  рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдорд╣реАрдиреЛрдВ рдХреЗ рдирд╛рдо рдХреНрдпрд╛ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рд╣рдо рдпрд╣ рднреА рдЬрд╛рдирддреЗ рд╣реИрдВ (рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ, рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ) рдХрд┐ рдкрд╣рд▓реЗ рдЬрдирд╡рд░реА рдЖрддрд╛ рд╣реИ, рдлрд┐рд░ рдлрд░рд╡рд░реА, рдлрд┐рд░ рдорд╛рд░реНрдЪ, рдЖрджрд┐ред  рдпрд╣ рдЙрд╕реА рд╕рд┐рджреНрдзрд╛рдВрдд рдкрд░ рд╣реИ рдХрд┐ рд╣рдо рдПрдХ рдХрд╛рд░рдХ рдмрдирд╛рддреЗ рд╣реИрдВред </p><br><h3 id="7-8-formiruem-pismo-soderzhaschee-sobrannye-dannye-otpravlyaem-pismo">  7-8ред  рд╣рдо рдПрдХрддреНрд░рд┐рдд рдбреЗрдЯрд╛ рдпреБрдХреНрдд рдПрдХ рдкрддреНрд░ рдмрдирд╛рддреЗ рд╣реИрдВред  рдПрдХ рдкрддреНрд░ рднреЗрдЬреЗрдВ </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реАрдПрдо рдХреА рд╕реНрдерд┐рддрд┐</a> рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░рд┐рдкреЛрд░реНрдЯреЛрдВ рдкрд░</a> рд▓реЗрдЦреЛрдВ рдХреЗ рдЧрдарди рдФрд░ рднреЗрдЬрдиреЗ рдХреЗ рд╕рд╛рде-рд╕рд╛рде <strong>рд╡рд┐рдВрдбреЛрдЬ рд╢реЗрдбреНрдпреВрд▓рд░</strong> рдореЗрдВ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдЧрдарди рдкрд░ рднреА рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛ <strong>рдЧрдпрд╛ рдерд╛</strong> ред  рд╣рдо рдмрд╕ рдкрд╛рда рдореЗрдВ рдХреБрдЫ рдЪрд░ рдбрд╛рд▓рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдХрдо рдпрд╛ рдЬреНрдпрд╛рджрд╛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдкреНрд░рд╛рд░реВрдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рд▓рдЧрд╛рд╡ рдХреЛ рди рднреВрд▓реЗрдВред </p><br><div class="spoiler">  <b class="spoiler_title">рдкрддреНрд░ рдХрд╛ рдЕрдВрддрд┐рдо рд░реВрдк</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/w6/rg/fi/w6rgfilewjuf24olnavadpu6zhm.jpeg"></p></div></div><br><h2 id="vyvody">  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br><p>  рд░реЛрдЬрдорд░реНрд░рд╛ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХрд░рдиреЗ рдФрд░ рдЙрдирдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <strong>рдЖрд░</strong> рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рдПрдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдЙрдкрдХрд░рдг рд╕рд╛рдмрд┐рдд рд╣реБрдЖред  рдФрд░ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреЗ рд╕рд╛рде, рдпрд╣ рдЙрдкрдХрд░рдг рднреА рддреЗрдЬ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред <br>  рдЕрднреНрдпрд╛рд╕ рд╕реЗ рдпрд╣ рднреА рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдкрд╛рд╡рд░рд╢реЗрд▓ рд▓реЙрдЧ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдкрдврд╝рдиреЗ рдпреЛрдЧреНрдп рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдореЗрдВ рдмреЗрд╣рдж рдзреАрдорд╛ рд╣реИред <br>  рдЕрдВрдд рддрдХ рдЗрддрдиреЗ рд╕рд╛рд░реЗ рдкрддреНрд░ рдкрдврд╝рдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдХреЛ рдмрд╣реБрдд-рдмрд╣реБрдд рдзрдиреНрдпрд╡рд╛рджред </p><br><h4 id="polnostyu-kod-prilozheniya">  рдкреВрд░реНрдг рдЖрд╡реЗрджрди рдХреЛрдб </h4><br><div class="spoiler">  <b class="spoiler_title">рдлреБрд▓ рдЖрд░ рдПрдкреНрд▓реАрдХреЗрд╢рди рдХреЛрдб</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#### ENV #### #         (    system32) setwd("C:\\Scripts\\VNX_disks_check/") #   library(tidyverse) library(lubridate) library(zoo) library(stringi) library(xlsx) library(mailR) library(foreach) library(doParallel) #### CONST #### #            vnxIPfilePath &lt;- file.path("data", "VNX-IP.csv") #     bigPeriod &lt;- Sys.Date() - 30 #     smallPeriod &lt;- Sys.Date() - 3 #    productCls &lt;- c("name1", "name2", "name3") #   IP VNX. #         , #   ip        . VNX_ip &lt;- vnxIPfilePath %&gt;% read_csv2( col_types = cols( Name = col_character(), IP = col_character(), cl = col_character(), type = col_character(), newA = col_character(), newB = col_character(), oldA = col_character(), oldB = col_character() ) ) %&gt;% filter(cl %in% productCls) %&gt;% gather(key = "cntName", value = "cntIP", 5:6) ####    VNX #### #         (      ) # NaviSECCli.exe -scope 0 -h 10.201.16.15 -user root -password Secrt4yo getlog -date 07/16/2019 07/17/2019 #   ,   . #      ,       errorNumbers &lt;- c("\\(820\\)", "\\(803\\)", "\\(801\\)", "\\(920\\)", "\\(901\\)") ##   ## #         numCores &lt;- detectCores() registerDoParallel(numCores) #    ,   NaviCLI #  1    ,     "" , # ..   ,      ,     . bigPeriodForm &lt;- bigPeriod %&gt;% format(format = "%m/%d/%Y") currDateForm &lt;- (Sys.Date() + 1) %&gt;% format(format = "%m/%d/%Y") #    . #      VNX   ip   . #      ,      #   ,      dataframe #  %dopar%   . #    ,   system.time   , #    %dopar%  %do%.      4-5. # system.time({ errors_df &lt;- foreach(i = 1:nrow(VNX_ip), .combine = rbind, .packages = "tidyverse") %dopar% { errors_raw &lt;- system( paste( "NaviSECCli.exe -scope 0 -h", VNX_ip$cntIP[i], "-user myusername -password mypassword getlog -date", bigPeriodForm, currDateForm ), intern = TRUE ) %&gt;% str_subset(pattern = regex(paste0(errorNumbers, collapse = "|"))) #      ,       if (length(errors_raw) &gt; 0) { #       , #     , #       . errorsDescr &lt;- errors_raw %&gt;% gsub("(.*\\) )(.*)(\\s+\\[.*)", "\\2", x = .) %&gt;% trimws() %&gt;% gsub('([[:punct:]])|\\s+', '_', .) #           errors &lt;- errors_raw %&gt;% str_split(pattern = "\\s+", simplify = T) %&gt;% as_tibble() %&gt;% mutate(Disk = paste0(V4, "_", V6, "_", V8) %&gt;% gsub( pattern = "\\([0-9]{3}\\)", replacement = "", x = .) ) #  dataframe    data_frame(cl = VNX_ip$cl[i], Storage = VNX_ip$Name[i], Date = errors$V1 %&gt;% as.Date(format = "%m/%d/%Y"), Time = errors$V2, Disk = errors$Disk, Error = errorsDescr, eCode = errors$V8 %&gt;% str_extract(paste0(errorNumbers, collapse = "|")) %&gt;% str_extract("[0-9]+")) %&gt;% mutate(DateTime = as.POSIXct(paste(Date, Time), format = "%Y-%m-%d %H:%M:%S")) } } # }) #     .      ,    . stopImplicitCluster() ####  #### #    .    ,     .  . # https://dplyr.tidyverse.org/articles/programming.html myErrorStats &lt;- function(data, period, orderColname = quo(Soft_Media_Error)) { data %&gt;% filter(Date &gt; period) %&gt;% group_by(cl, Storage, Disk, Error) %&gt;% summarise(count = n()) %&gt;% spread(Error, count, fill = 0) %&gt;% arrange(desc(!!orderColname)) } #           .  . errorsBigPeriod &lt;- errors_df %&gt;% myErrorStats(bigPeriod) #             errorsSmallPeriod &lt;- errors_df %&gt;% myErrorStats(smallPeriod) #   ,     errors_filePath &lt;- file.path("results", "VNX_Errors.xlsx") ####  xlsx  #### #    wb&lt;-createWorkbook(type="xlsx") #         TABLE_ROWNAMES_STYLE &lt;- CellStyle(wb) + Font(wb, isBold=TRUE) TABLE_COLNAMES_STYLE &lt;- CellStyle(wb) + Font(wb, isBold=TRUE) + Alignment(wrapText=TRUE, horizontal="ALIGN_CENTER") + Border(color="black", position=c("TOP", "BOTTOM"), pen=c("BORDER_THIN", "BORDER_THICK")) #  t s sheetSmall &lt;- createSheet(wb, sheetName = " 3 ") sheetBig &lt;- createSheet(wb, sheetName = " ") sheetRaw &lt;- createSheet(wb, sheetName = " ") ##   addDataFrame( errorsSmallPeriod %&gt;% as.data.frame(), sheetSmall, startRow = 1, startColumn = 1, row.names = FALSE, byrow = FALSE, colnamesStyle = TABLE_COLNAMES_STYLE, rownamesStyle = TABLE_ROWNAMES_STYLE ) addDataFrame( errorsBigPeriod %&gt;% as.data.frame(), sheetBig, startRow = 1, startColumn = 1, row.names = FALSE, byrow = FALSE, colnamesStyle = TABLE_COLNAMES_STYLE, rownamesStyle = TABLE_ROWNAMES_STYLE ) #          DateTime     addDataFrame( errors_df %&gt;% as.data.frame() %&gt;% arrange(desc(DateTime)), sheetRaw, startRow = 1, startColumn = 1, row.names = FALSE, byrow = FALSE, colnamesStyle = TABLE_COLNAMES_STYLE, rownamesStyle = TABLE_ROWNAMES_STYLE ) #  ,     autoSizeColumn(sheet = sheetSmall, colIndex=c(1:ncol(errorsSmallPeriod))) autoSizeColumn(sheet = sheetBig, colIndex=c(1:ncol(errorsBigPeriod))) autoSizeColumn(sheet = sheetRaw, colIndex=c(1:ncol(errors_df))) #     .   - . if (file.exists(errors_filePath)) {file.remove(errors_filePath)} #  xlsx  saveWorkbook(wb, errors_filePath) ####   #### #       errorsTotal &lt;- errors_df %&gt;% group_by(Date, Error) %&gt;% summarise(count = n()) %&gt;% # spread(Error, count, fill = 0) %&gt;% arrange(desc(Date)) #         plot &lt;- errorsTotal %&gt;% ggplot(aes(x = Date, y = count, fill = Error)) + geom_bar(stat = "identity", width = 0.5, color = "grey") + theme_minimal() + # theme(legend.position="top") + scale_color_grey() + labs(title = "  EMC VNX", subtitle = "        ", fill = " ") + xlab("") + ylab("   ") + scale_fill_brewer(palette = "Spectral") + facet_grid(rows = vars(factor( Error, levels = c( "Soft_SCSI_Bus_Error", "Soft_Media_Error", "Hard_SCSI_Bus_Error", "Recommend_Disk_Replacement" ) ))) # #   # plot #   png,     plot_filePath &lt;- file.path("results", "plot.png") #    png     ggsave(filename = plot_filePath, plot = plot) ####    #### #    emailRecepientsList &lt;- c("sendall-tech@domain.ru") #      emailParams &lt;- list( from = "login@domain.ru", to = emailRecepientsList, smtpParams = list( host.name = "10.10.10.1", port = 25, user.name = "login@domain.ru", passwd = "mypassword", ssl = FALSE ) ) #     (    ). #     ,          ,     . errorsTotal &lt;- errorsSmallPeriod[-c(1,2,3)] %&gt;% sum() #    emailBody &lt;- paste0( '&lt;html&gt; &lt;h3&gt; ,  .&lt;/h3&gt; &lt;p&gt;  3    &lt;strong&gt;', errorsTotal, '&lt;/strong&gt;    EMC VNX&lt;/p&gt; &lt;p&gt;       ,      .&lt;/p&gt; &lt;p&gt;  3 : &lt;ul&gt; &lt;li&gt;   3 .   &lt;strong&gt;Soft_Media_Error&lt;/strong&gt;.&lt;/li&gt; &lt;li&gt;  30 .   &lt;strong&gt;Soft_Media_Error&lt;/strong&gt;.&lt;/li&gt; &lt;li&gt; .   &lt;strong&gt;&lt;/strong&gt;.&lt;/li&gt; &lt;/ul&gt;          .   .&lt;/p&gt; &lt;p&gt;&lt;img src="', plot_filePath, '"&gt;&lt;/p&gt; &lt;/html&gt;' ) ####      #### send.mail(from = emailParams$from, to = emailParams$to, subject = "     EMC VNX", body = emailBody, encoding = "utf-8", html = TRUE, inline = TRUE, smtp = emailParams$smtpParams, authenticate = TRUE, send = TRUE, attach.files = c(errors_filePath), debug = FALSE)</span></span></code> </pre> </div></div><br><h2 id="parametry-okruzheniya-i-versii-ispolzuemogo-po">       </h2><br><ul><li> <strong> </strong> : EMC VNX 5300 </li><li> <strong>    </strong> : NaviCLI-Win-32-x86-en_US-7.31.25.1.29-1 </li><li> <strong>  ,    </strong> : 4*2 CPU, 8 Gb RAM </li></ul><br><div class="spoiler"> <b class="spoiler_title">  R</b> <div class="spoiler_text"><pre> <code class="python hljs">&gt; sessionInfo() R version <span class="hljs-number"><span class="hljs-number">3.5</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> (<span class="hljs-number"><span class="hljs-number">2019</span></span><span class="hljs-number"><span class="hljs-number">-03</span></span><span class="hljs-number"><span class="hljs-number">-11</span></span>) Platform: x86_64-w64-mingw32/x64 (<span class="hljs-number"><span class="hljs-number">64</span></span>-bit) Running under: Windows Server <span class="hljs-number"><span class="hljs-number">2012</span></span> R2 x64 (build <span class="hljs-number"><span class="hljs-number">9600</span></span>) Matrix products: default locale: [<span class="hljs-number"><span class="hljs-number">1</span></span>] LC_COLLATE=Russian_Russia<span class="hljs-number"><span class="hljs-number">.1251</span></span> LC_CTYPE=Russian_Russia<span class="hljs-number"><span class="hljs-number">.1251</span></span> LC_MONETARY=Russian_Russia<span class="hljs-number"><span class="hljs-number">.1251</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>] LC_NUMERIC=C LC_TIME=Russian_Russia<span class="hljs-number"><span class="hljs-number">.1251</span></span> attached base packages: [<span class="hljs-number"><span class="hljs-number">1</span></span>] parallel stats graphics grDevices utils datasets methods base other attached packages: [<span class="hljs-number"><span class="hljs-number">1</span></span>] taskscheduleR_1<span class="hljs-number"><span class="hljs-number">.4</span></span> pander_0<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> doParallel_1<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.14</span></span> iterators_1<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span> foreach_1<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> mailR_0<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>] xlsx_0<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> stringi_1<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> zoo_1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">-6</span></span> lubridate_1<span class="hljs-number"><span class="hljs-number">.7</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> wesanderson_0<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span> forcats_0<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> [<span class="hljs-number"><span class="hljs-number">13</span></span>] stringr_1<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> dplyr_0<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> purrr_0<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> readr_1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> tidyr_0<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> tibble_2<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> [<span class="hljs-number"><span class="hljs-number">19</span></span>] ggplot2_3<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> tidyverse_1<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> loaded via a namespace (<span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> attached): [<span class="hljs-number"><span class="hljs-number">1</span></span>] tidyselect_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> reshape2_1<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> rJava_0<span class="hljs-number"><span class="hljs-number">.9</span></span><span class="hljs-number"><span class="hljs-number">-11</span></span> haven_2<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> lattice_0<span class="hljs-number"><span class="hljs-number">.20</span></span><span class="hljs-number"><span class="hljs-number">-38</span></span> colorspace_1<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>] vctrs_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> generics_0<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> utf8_1<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> rlang_0<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> R.oo_1<span class="hljs-number"><span class="hljs-number">.22</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> pillar_1<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> [<span class="hljs-number"><span class="hljs-number">13</span></span>] glue_1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> withr_2<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> R.utils_2<span class="hljs-number"><span class="hljs-number">.9</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> RColorBrewer_1<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> modelr_0<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> readxl_1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> [<span class="hljs-number"><span class="hljs-number">19</span></span>] plyr_1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> munsell_0<span class="hljs-number"><span class="hljs-number">.5</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> gtable_0<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> cellranger_1<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> rvest_0<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> R.methodsS3_1<span class="hljs-number"><span class="hljs-number">.7</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> [<span class="hljs-number"><span class="hljs-number">25</span></span>] codetools_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">-16</span></span> labeling_0<span class="hljs-number"><span class="hljs-number">.3</span></span> fansi_0<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> xlsxjars_0<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> broom_0<span class="hljs-number"><span class="hljs-number">.5</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> Rcpp_1<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> [<span class="hljs-number"><span class="hljs-number">31</span></span>] scales_1<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> backports_1<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> jsonlite_1<span class="hljs-number"><span class="hljs-number">.6</span></span> digest_0<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.20</span></span> hms_0<span class="hljs-number"><span class="hljs-number">.5</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> grid_3<span class="hljs-number"><span class="hljs-number">.5</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> [<span class="hljs-number"><span class="hljs-number">37</span></span>] cli_1<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> tools_3<span class="hljs-number"><span class="hljs-number">.5</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> magrittr_1<span class="hljs-number"><span class="hljs-number">.5</span></span> lazyeval_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> crayon_1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> pkgconfig_2<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> [<span class="hljs-number"><span class="hljs-number">43</span></span>] zeallot_0<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> data.table_1<span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> xml2_1<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> assertthat_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> httr_1<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> rstudioapi_0<span class="hljs-number"><span class="hljs-number">.10</span></span> [<span class="hljs-number"><span class="hljs-number">49</span></span>] R6_2<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> nlme_3<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">-137</span></span> compiler_3<span class="hljs-number"><span class="hljs-number">.5</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span></code> </pre> </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi461441/">https://habr.com/ru/post/hi461441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi461431/index.html">"рдкреНрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдирд╛рдкрд╕рдВрдж": HTTPS рдкрд░ DNS</a></li>
<li><a href="../hi461433/index.html">рдиреЗрдЯ рдХреЛрд░ 3.0 рдореЗрдВ рдЖрдЗрдбреЗрдВрдЯрд┐рдЯреА рд╕рд░реНрд╡рд░ 4 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a></li>
<li><a href="../hi461435/index.html">рдПрдХ рд╕рдВрд╡реЗрджреА рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рднрд╛рд╡рдирд╛ рдкрд╣рдЪрд╛рди</a></li>
<li><a href="../hi461437/index.html">370 рдкреНрд░рдХрд╛рд╢ рдмрд▓реНрдм</a></li>
<li><a href="../hi461439/index.html">рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдФрд░ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдШрдЯрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╢реБрд░реВ рдХрд░рдирд╛</a></li>
<li><a href="../hi461443/index.html">рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рдмрд╛рдж: SKS Keyserver рдХреНрд░рд┐рдкреНрдЯреЛ рдХреБрдВрдЬреА рд╕рд░реНрд╡рд░ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдирд╡реАрдирддрдо рд╣рдорд▓реЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ</a></li>
<li><a href="../hi461447/index.html">рдПрдХ рд▓реБрдкреНрддрдкреНрд░рд╛рдп рдкреНрд░рдЬрд╛рддрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рдгрд╛рд▓реА рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдорд╣рд╛рдХрд╛рд╡реНрдп</a></li>
<li><a href="../hi461449/index.html">PhpStorm 2019.2: PHP 7.4 рдЯрд╛рдЗрдк рдХрд┐рдП рдЧрдП рдЧреБрдг, рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдЦреЛрдЬрдХ, рд╕рдВрдкрд╛рджрдХрдХрдВрдлрд┐рдЧ, рд╢реЗрд▓ рд▓рд┐рдкрд┐рдпреЛрдВ, рдФрд░ рдЕрдзрд┐рдХ</a></li>
<li><a href="../hi461451/index.html">рд╣рд╛рдЗрдХреБ рдХреЗ рд╕рд╛рде рдореЗрд░рд╛ рджреВрд╕рд░рд╛ рджрд┐рди: рдЦреБрд╢, рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдирд╣реАрдВ</a></li>
<li><a href="../hi461453/index.html">рдмреИрдХреЛрдиреВрд░ рд░реЛрдорд╛рдВрдЪ: рд░реЙрдХреЗрдЯ, рдЕрдВрддрд░рд┐рдХреНрд╖ рдпрд╛рддреНрд░реА, рдпреВрдирд┐рдпрди рдПрдордПрд╕ -13 рдХрд╛ рдкреНрд░рдХреНрд╖реЗрдкрдг рдФрд░ рдЕрдВрддрд░рд┐рдХреНрд╖ рдЗрдВрдЯрд░рдиреЗрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>