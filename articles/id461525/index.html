<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¦‰ ğŸ”³ ğŸ¤¦ğŸ¿ Bagaimana saya melakukan slider yang benar-benar adaptif (carousel) ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ½ ğŸ‹ ğŸ‘©â€ğŸš€</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang, para pembaca dan penulis terkasih! 


 Hari ini saya akan memberi tahu Anda bagaimana proyek menghadapi saya dengan tugas membuat slide...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana saya melakukan slider yang benar-benar adaptif (carousel)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461525/"><p> Selamat siang, para pembaca dan penulis terkasih! </p><br><p>  Hari ini saya akan memberi tahu Anda bagaimana proyek menghadapi saya dengan tugas membuat slider adaptif dan apa yang terjadi </p><br><h3 id="o-state-i-dlya-kogo-ona">  Tentang artikel itu dan untuk siapa artikel itu </h3><br><p>  Saya menulis artikel ini bukan hanya karena saya ingin mendapatkan respons komunitas untuk menyelesaikan masalah ini, tetapi juga karena menyelesaikan pertanyaan-pertanyaan artikel tampaknya mendasar bagi saya untuk memahami kemampuan beradaptasi slider di web.  Jika seseorang telah menulis komponen seperti itu, harap balas dan bagikan pengalaman serupa </p><a name="habracut"></a><br><h3 id="nemnozhko-o-tom-chto-sluchilos-i-kakie-instrumenty-byli-ispolzovany">  Sedikit tentang apa yang terjadi dan alat apa yang digunakan </h3><br><p>  Dalam aplikasi Bereaksi, Anda perlu membuat korsel (selanjutnya saya akan menggunakan nama ini), elemen-elemen yang terlihat harmonis di layar ukuran berapa pun.  Ada beberapa batasan: </p><br><ol><li>  Lebar maksimum elemen adalah 150 px </li><li>  Alat yang Digunakan - Bereaksi Owl Carousel </li><li>  Ukuran maksimal wadah untuk korsel adalah 1190 px </li><li>  Ada juga indikator properti padding untuk layar yang berbeda (mempengaruhi lebar bagian wadah yang terlihat) dan margin (antara elemen setidaknya 5 piksel) </li><li>  Korsel harus berputar <br>  Dan kondisi lain yang tidak mempengaruhi subjek artikel </li></ol><br><h3 id="otstuplenie-o-mehanike-raboty-karuseli">  Digresi pada mekanisme korsel </h3><br><p>  Banyak korsel (Bereaksi Owl Korsel bukan pengecualian) menggunakan kelas aktif khusus untuk menampilkannya, yang menggambarkan elemen-elemen yang saat ini ditampilkan di layar. </p><br><p>  Untuk menampilkan loop tak terbatas pada layar, elemen pertama dan terakhir diduplikasi (mekanisme dan masalah dubbing ini adalah topik untuk artikel terpisah). </p><br><p>  Properti dijelaskan oleh objek khusus, kami akan tertarik pada objek responsif, yang bertanggung jawab untuk menetapkan kembali properti. </p><br><p>  Data yang tersisa pada mekanisme kerja akan jelas dalam perjalanan menggambarkan solusi. </p><br><h3 id="pervye-voznikshie-problemy">  Masalah pertama </h3><br><p>  Pada awalnya semuanya berjalan lancar - elemen-elemennya sendiri ditulis dan bergaya, sifat dasar seluruh korsel dijabarkan.  Masalah dimulai ketika menyetel properti {loop: true} </p><br><h4 id="karusel-zaciklivalas-neadekvatno">  Korsel tidak bisa diputar dengan benar </h4><br><p>  Ketika menggulir ke bagian akhir daftar, ruang kosong tetap ada di korsel dan untuk beberapa saat menggulirnya. </p><br><p>  Alasannya adalah lebar maksimum elemen, tidak konsisten dengan jumlah mereka.  Contoh nyata adalah lebar wadah 1190 px, dengan jumlah elemen diatur ke 3. </p><br><p>  Dengan kata lain, korsel mengharapkan 3 elemen untuk meregang ke 1190px, dan mereka tidak dapat menjadi lebih besar dari 150px. </p><br><h4 id="povyshaya-kolichestvo-elementov">  Meningkatkan jumlah item </h4><br><p>  Masalahnya mengambil sudut yang berbeda: jika ada terlalu banyak elemen per kontainer, lebarnya menjadi terlalu kecil (dan ada konten di dalamnya!) Jika saya mengatur properti min-width, maka pada beberapa ukuran layar elemen merangkak satu sama lain, mengabaikan margin, yang melanggar kondisi . </p><br><h4 id="rezyumiruem-usloviya-adaptivnosti">  Kami merangkum kondisi kemampuan beradaptasi </h4><br><ol><li>  Jumlah elemen pada layar harus kurang dari rasio ukuran layar <br>  lebar minimum elemen - jika tidak, bahkan elemen dengan lebar minimum tidak akan pas di layar. </li><li>  Rasio ukuran layar dengan jumlah elemen yang diperkirakan tidak boleh melebihi panjang estimasi maksimum, jika tidak ada masalah dengan perulangan. </li><li>  Kondisi yang dijelaskan di atas harus dipenuhi untuk ukuran layar <strong><strong>apa saja</strong></strong> (dari 330px hingga 1190px). </li></ol><br><h3 id="reshaem-problemu-kak-programmisty">  Kami memecahkan masalah sebagai programmer </h3><br><p>  Jika Anda mendekati masalah secara berurutan, jelas bahwa Anda harus menyerahkan sesuatu, dalam kasus saya itu adalah lebar minimum elemen. </p><br><p>  Apa yang harus menjadi lebar minimum elemen sehingga untuk semua layar kontainer kondisi adaptasi terpenuhi? </p><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//       const getBackTrace = (minScreen = 300, maxElementWidth = 150) =&gt; { let backTrace = {} for (let minElementWidth = maxElementWidth; minElementWidth &gt; 0; minElementWidth--){ //            //     backTrace for(let screen = minScreen; screen &lt;= 1100; screen++){ let elementCount = screen / minElementWidth | 0 if((screen / elementCount) &gt; maxElementWidth){ backTrace[minElementWidth] = screen break } } } for(let key in backTrace){ //        ,      if (backTrace[key - 1] == undefined){ backTrace.result = key - 1 return backTrace } } } // getBackTrace(300, 150).result = 100</span></span></code> </pre> <br><p>  Hasil dalam 100px tidak sesuai untuk saya, karena itu tidak memungkinkan saya untuk mencocokkan semua konten dalam elemen.  Karena itu, kami melanjutkan pencarian sampai kami menemukan nilai yang tepat dan mencari apa lagi yang harus dikorbankan. </p><br><p>  Ingat subtitlenya?  Untuk mencari, tulis fungsi </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getMinScreen = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">minWidth = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">300</span></span></span></span><span class="hljs-function"><span class="hljs-params">, maxWidth = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">767</span></span></span></span><span class="hljs-function"><span class="hljs-params">, maxElementWidth = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">150</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> research = [] <span class="hljs-comment"><span class="hljs-comment">//  ,          // getBackTrace,       for(let min = minWidth; min &lt; maxWidth; min++){ let { result } = getBackTrace(min, maxElementWidth) research.push({result, min}) } //          "  "  return research .reduce((acc, curr, idx, arr) =&gt; { let obj = {} let {min, result} = curr obj[min] = result if(idx == 0) return obj if(arr[idx-1].result == result){ return {...acc} } else { return {...acc, ...obj} } }, {}) } /* Returned object {300: 100, 303: 101, 306: 102, 309: 103, 312: 104, 315: 105, 318: 106, 321: 107, 324: 108, 327: 109, 330: 110, 333: 111, 336: 112, 452: 113, 456: 114, 460: 115, 464: 116, 468: 117, 472: 118, 476: 119, 480: 120}   480    */</span></span></code> </pre> <br><p>  Mempertimbangkan objek yang diperoleh, Anda dapat melihat lompatan besar dalam transisi dari 336px ke 452px. <br>  Saya membuat keputusan dengan tekad kuat untuk membatasi kemampuan beradaptasi hingga 36px. </p><br><h3 id="opisyvaem-adaptivnyy-obekt">  Kami menggambarkan objek adaptif </h3><br><p>  Tampaknya masalah telah dipecahkan, tetapi solusi seperti itu hanya membuktikan bahwa kepatuhan dengan kondisi <strong><strong>dimungkinkan</strong></strong> untuk layar dari 336px, tetapi tidak menggambarkan metode.  Tetapi ada kondisi berbeda yang membatasi saya dalam produksi objek dengan sifat kemampuan beradaptasi <br>  Setelah menerima sendiri bahwa lebar minimum elemen tanpa kerugian bisa 107 px, dengan memvariasikan nilai margin, saya sampai pada indikator berikut: </p><br><div class="scrollable-table"><table><thead><tr><th>  Layar </th><th>  margin </th><th>  lebar minimum </th></tr></thead><tbody><tr><td>  336+ </td><td>  5 </td><td>  107 </td></tr><tr><td>  468+ </td><td>  10 </td><td>  107 </td></tr><tr><td>  763+ </td><td>  15 </td><td>  112 </td></tr></tbody></table></div><br><p>  Satu-satunya yang tersisa adalah mengumpulkan data yang diterima dalam tumpukan dan mengimplementasikan objek adaptif: </p><br><pre> <code class="javascript hljs">getResponsiveOwlItems = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> responsive = {}; responsive[<span class="hljs-number"><span class="hljs-number">0</span></span>] = {<span class="hljs-attr"><span class="hljs-attr">items</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">nav</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>} <span class="hljs-comment"><span class="hljs-comment">// 112 = 107 (minimal div) + 5 (margins) let itemMinWidthReference = 112; const getOneWidth = deviceWidth =&gt; deviceWidth / itemMinWidthReference | 0 // 1190 - container width for(let i = itemMinWidthReference * 3 + 20; i &lt;= 1190; i += itemMinWidthReference){ // .container padding &gt; 768 90px + padding 90(.container) // .container padding &lt; 768 40px + padding -40(.container) // +20px stagePadding let padding = i &gt; 767 ? 200 : 20 if(i &gt; (468 + padding)) { itemMinWidthReference = 117 } if(i &gt; (767 + padding)) { itemMinWidthReference = 127 } let items = getOneWidth(i - padding) let nav = i &gt; 700 ? true : false let margin = 5; if (i &gt; 468){ margin = 10 } if (i &gt; 767){ margin = 15 } responsive[i.toString()] = {items, nav, margin} //      itemMinWidthReference i = i - (i % itemMinWidthReference) + 1 } return responsive; }</span></span></code> </pre> <br><p>  Pada hari publikasi, semuanya terlihat logis, dan saya tidak dapat mereproduksi kesalahan dalam korsel - semuanya mungkin berfungsi sebagaimana dimaksud. </p><br><p>  Terima kasih atas perhatian Anda, menunggu komentar dan komentar Anda! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id461525/">https://habr.com/ru/post/id461525/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461509/index.html">Asisten Perjalanan: Pilihan gadget dan aksesori</a></li>
<li><a href="../id461511/index.html">Manajemen Ketergantungan Python: Perbandingan Pendekatan</a></li>
<li><a href="../id461517/index.html">Algoritma Copy-Paste Terbaik untuk C dan C ++. Haiku OS Cookbook</a></li>
<li><a href="../id461519/index.html">Algoritma Copy-Paste Terbaik untuk C dan C ++. Koleksi Resep OS Haiku</a></li>
<li><a href="../id461523/index.html">WAL di PostgreSQL: 4. Pengaturan log</a></li>
<li><a href="../id461527/index.html">Pengangkatan akustik DIY</a></li>
<li><a href="../id461531/index.html">Tic Tac Toe, Bagian 6: Labu dan Seledri / RabbitMQ</a></li>
<li><a href="../id461533/index.html">Visualisasi tidur tahun pertama anak pada pola selimut</a></li>
<li><a href="../id461535/index.html">C ++, FIX, Oracle, dan PL / SQL: apa yang perlu diketahui oleh spesialis TI untuk mendapatkan pekerjaan di bidang keuangan + peluang kerja nyata</a></li>
<li><a href="../id461537/index.html">Parsing. Bagaimana proksi SOCKS bekerja: pro, kontra, perbedaan dari teknologi lain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>