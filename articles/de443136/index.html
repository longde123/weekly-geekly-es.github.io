<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßõüèø ü§∂üèæ üë©üèº‚Äç‚úàÔ∏è Vereinfachen Sie Ihr CI / Ihre CD nicht zu stark und verwenden Sie Docker sinnvoll ü•ê üçÆ üçå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich habe in verschiedenen Unternehmen gearbeitet, die Microservices einsetzen. Und sie lie√üen sie in Docker-Containern laufen. Jetzt arbeite ich mit e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vereinfachen Sie Ihr CI / Ihre CD nicht zu stark und verwenden Sie Docker sinnvoll</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443136/"> Ich habe in verschiedenen Unternehmen gearbeitet, die Microservices einsetzen.  Und sie lie√üen sie in Docker-Containern laufen.  Jetzt arbeite ich mit einem Projekt, das zwar ein Monolith ist, aber dennoch bequemer in einem Container ausgef√ºhrt werden kann. <br><br>  Einerseits ist Docker ein sehr vielseitiges Werkzeug, mit dem sich eine Vielzahl von Aufgaben einfach und effektiv l√∂sen lassen.  Es ist verst√§ndlich und es scheint, dass alles elementar ist.  Wenn Sie jedoch nicht Ihre Zeit und Ressourcen aufwenden, um die ordnungsgem√§√üe Verwendung zu ‚Äûpumpen‚Äú, werden Sie wahrscheinlich einfache Dinge √ºberkomplizieren.  Und nat√ºrlich gehen Sie davon aus, dass Sie Recht haben, und Docker ist ein mittelm√§√üiger, sperriger M√ºll, der nicht zur L√∂sung Ihrer einzigartigen Aufgabe geeignet ist. <br><a name="habracut"></a><br>  Normalerweise sieht in einem Standardunternehmen die Bearbeitung einer Aufgabe folgenderma√üen aus: <br><br><ol><li>  Git Push wird mit unserem Commit durchgef√ºhrt </li><li>  Ein System wird ausgel√∂st, sei es Jenkins, TeamCity usw. </li><li>  Pipeline / Job wird gestartet, in dem Bibliotheken von Drittanbietern heruntergeladen, das Projekt kompiliert und Tests ausgef√ºhrt werden </li><li>  Ein Docker-Image mit dem zusammengestellten Projekt (ADD ..) wird erstellt und in die Remote-Docker-Registrierung verschoben </li><li>  Irgendwie wird auf dem Remote-Server das Docker-Pull ausgef√ºhrt (Koch, Marionette, manuell √ºber Docker-Compose) und der Container gestartet. </li></ol><br>  Intuitiv hatte ich immer das Gef√ºhl, dass alles irgendwie zu kompliziert war.  Dieser Prozess hei√üt stolz CI / CD, und ich habe solche klugen Leute satt, die keinen Zweifel daran haben, dass dies der einfachste Weg ist. <br><br>  F√ºr den Endbenutzer sieht es so aus: Durch Dr√ºcken auf das Git-Repository wird das, was sich im Commit befand, irgendwo entfaltet. <br><br>  Was ich an diesem Ansatz NICHT mag. <br><br><ol><li>  Die einzige M√∂glichkeit, das System auf einem Remote-Server bereitzustellen, besteht darin, alle f√ºnf Schritte auszuf√ºhren. </li><li>  In Schritt 3 ben√∂tigen Sie m√∂glicherweise Zugriffsschl√ºssel f√ºr private Bibliotheken.  Der Vorgang kann lang sein, wenn das Zwischenspeichern zuvor heruntergeladener Bibliotheken nicht konfiguriert ist. </li><li>  Sie m√ºssen die Docker-Datei vorbereiten, das Image festlegen (FROM ...), festlegen, wie das Image markiert werden soll, und Zugriff auf das Repository ben√∂tigen, in das das Image √ºbertragen wird. </li><li>  Ben√∂tigen Sie ein eigenes Repository, konfigurieren Sie https.  Schlie√ülich funktioniert der Docker-Client nur mit https. </li></ol><br><br>  Der vierte Absatz wird nat√ºrlich einmal gemacht und sollte vielleicht nicht hinzugef√ºgt werden. <br><br>  Aber wie oft wird das Wort Docker bereits in der Ver√∂ffentlichungsphase erw√§hnt? <br><br>  Denken Sie dar√ºber nach: Warum ziehen wir all diesen Docker vorzeitig?  Weil angenommen wird, dass der Beh√§lter bequem ist und ‚ÄûNun, alles war in Ordnung, es funktioniert.  Was f√§ngst du dann an? ‚Äú. <br>  F√ºr solche Leute kann ich also sagen - Docker-Container sind kein Allheilmittel und nicht die einzige Umgebung, in der Ihre Anwendung ausgef√ºhrt werden kann.  Projekt geschrieben in Python, PHP, JS, Swift, Scala / Java usw.  kann ausgef√ºhrt werden auf: <br><br><ul><li>  entfernte virtuelle Maschine </li><li>  auf einem lokalen Host ohne Virtualisierungs- und Docker-Container. </li></ul><br>  Auf einmal :) <br><br>  Stellen wir uns vor, wir erstellen einen Dienst, der auf nodeJS ausgef√ºhrt wird. <br><br>  Das Ergebnis dieses Projekts (oder wie ich das 'Artefakt' nenne) ist eine Reihe von js-Dateien (der Dienst selbst) + node_modules (Bibliotheken von Drittanbietern, die im Dienst verwendet werden). <br><br>  Angenommen, wir haben sichergestellt, dass der Dienst funktioniert, und m√∂chten ihn remote ausf√ºhren, damit unsere Tester ihn auf Funktionalit√§t testen k√∂nnen. <br><br>  Wie gef√§llt Ihnen diese Idee: <br><br><ol><li>  Wir machen .tar.gz mit unserem Projekt und laden es in ... Remote-Repository von Artefakten hoch!  (Solche Repositorys werden auch als "bin√§res Repository" bezeichnet.) </li><li>  Wir geben die URL an, √ºber die sie unseren Service herunterladen und mit dem Testen beginnen k√∂nnen. </li></ol><br>  Au√üerdem k√∂nnen Tester den Dienst entweder lokal zu Hause starten, wenn sie √ºber alles verf√ºgen, oder eine Docker-Datei erstellen, in der ein Artefakt heruntergeladen wird, und einfach den Container starten.  Na ja, oder was anderes. <br><br>  Ich sage sofort, wenn Sie nicht m√∂chten, dass Tester Docker-Container starten und im Allgemeinen "es ist nicht ihre Aufgabe", dann starten Sie ein Tool, das Bilder sammelt, sobald neue Artefakte im bin√§ren Repository erscheinen (verwenden Sie den Web-Hook, jagen Sie regelm√§√üig √ºber die Krone). <br><br>  Aus bin√§ren Repositorys gibt es nun: <br><br><ul><li>  Sonatyp-Nexus </li><li>  Artifactory </li></ul><br>  Nexus ist einfach zu bedienen, es gibt eine Reihe verschiedener Repositorys, die Sie erstellen k√∂nnen (npm, maven, raw, docker), also benutze ich es. <br><br>  Dies ist eine verdammt einfache Idee. Warum habe ich nirgendwo dar√ºber gelesen?  Im Internet k√∂nnen Sie keine Artikel z√§hlen, "wie bei Git Push irgendwo, wo ein Container in einer Art Kubernet bereitgestellt wird".  Von solch komplexen Algorithmen stehen die Haare zu Berge. <br><br>  Der Zweck dieses Artikels ist beispielsweise, dass es nicht erforderlich ist, das Projekt in einem Prozess zusammenzustellen und dem Docker-Image hinzuzuf√ºgen. <br><br>  Teilen und herrschen! <br><br>  Erstellen Sie das Projekt und ver√∂ffentlichen Sie Artefakte an einem herunterladbaren Ort.  (Die Docker-Registrierung ist nicht der einzige Ort, an dem Sie Ihr Projekt speichern und universelle Pfade f√ºr die Bereitstellung von Artefakten an Server ausw√§hlen k√∂nnen.) <br><br>  Stellen Sie mit einem separaten Tool Artefakte an den Server bereit, auf dem Ihr Projekt ausgef√ºhrt werden soll. <br>  Alles ist sehr einfach. Geben Sie anderen die Wahl: Verwenden Sie Docker, f√ºhren Sie Kubernetes aus oder verwenden Sie ein anderes Tool, um Artefakte auszuf√ºhren.  Sie m√ºssen den Einsatz von Technologie nicht auferlegen, obwohl sie Ihnen sehr bequem und modisch erscheint. <br><br>  Viel Gl√ºck beim Start Ihrer Projekte! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443136/">https://habr.com/ru/post/de443136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443122/index.html">Verlust von 809 Millionen E-Mail-Adressen des Verifications.io-Dienstes aufgrund √∂ffentlich ge√∂ffneter MongoDB</a></li>
<li><a href="../de443124/index.html">React.lazy? Aber was ist, wenn Sie keine Komponente haben?</a></li>
<li><a href="../de443126/index.html">D = Vertrauen: Warum Google, Amazon, Apple und Facebook es verlieren und wie man es wiederherstellt</a></li>
<li><a href="../de443128/index.html">kW, kW * h und kW / h</a></li>
<li><a href="../de443132/index.html">So entdecken Sie offene MongoDB- und Elasticsearch-Datenbanken</a></li>
<li><a href="../de443138/index.html">‚ÄûAudio ist cool, aber etwas sp√§ter‚Äú: ein Podcast √ºber Content Maker, GTD f√ºr einen Redakteur und eine Medienkarriere</a></li>
<li><a href="../de443140/index.html">ZenCad 3D-Skriptsimulationssystem</a></li>
<li><a href="../de443144/index.html">Die Schule in den USA ist ein amerikanischer Traum, der jedem zug√§nglich ist</a></li>
<li><a href="../de443146/index.html">Intelligentes Parken - adaptive Navigations-, Beleuchtungs- und Ladestationen f√ºr Elektrofahrzeuge</a></li>
<li><a href="../de443150/index.html">Angular vs React: Komplette Bibliothek mit einem Framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>