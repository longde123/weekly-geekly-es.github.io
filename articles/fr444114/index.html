<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧞 💃 👨‍🎓 Comment les données personnelles des patients et des médecins pourraient être affectées en raison de la base de données ouverte ClickHouse (mise à jour) 🖐🏾 👩🏽‍🏫 🚙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'écris beaucoup sur la découverte de bases de données librement accessibles dans presque tous les pays du monde, mais il n'y a presque pas de nouvell...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment les données personnelles des patients et des médecins pourraient être affectées en raison de la base de données ouverte ClickHouse (mise à jour)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444114/"><p>  J'écris beaucoup sur la découverte de bases de données librement accessibles dans presque tous les pays du monde, mais il n'y a presque pas de nouvelles sur les bases de données russes dans le domaine public.  Bien qu'il ait récemment <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">écrit</a> sur le «bras du Kremlin», que le chercheur néerlandais a découvert avec effroi dans plus de 2000 bases de données ouvertes. </p><br><p>  Il peut y avoir une idée fausse selon laquelle tout est merveilleux en Russie et les propriétaires de grands projets en ligne russes sont responsables du stockage responsable des données des utilisateurs.  Je m'empresse de démystifier ce mythe sur cet exemple. </p><br><p> Apparemment, le service médical russe en ligne DOC + a réussi à laisser la base de données ClickHouse avec les journaux d'accès dans le domaine public.  Malheureusement, les journaux semblent si détaillés que les données personnelles des employés, des partenaires et des clients du service pourraient être exposées à une éventuelle fuite. </p><br><p><img src="https://habrastorage.org/webt/gn/o4/1w/gno41wini5uwh-rol1bdw0ys67w.png"></p><br><p>  <em>Tout d'abord ...</em> </p><a name="habracut"></a><br><p><code>:        .           .      ,      .</code> </p> <cut></cut><br><p>  Avec moi, comme avec le propriétaire de la chaîne Telegram " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Information Leaks</a> ", un lecteur de chaîne m'a contacté, qui souhaitait rester anonyme et a littéralement rapporté ce qui suit: </p><br><blockquote>  Un serveur ClickHouse ouvert a été découvert sur Internet, qui appartient à doc +.  L'adresse IP du serveur correspond à l'adresse IP sur laquelle le domaine docplus.ru est configuré. </blockquote><p>  De Wikipédia: <em>DOC + (New Medicine LLC) est une entreprise médicale russe fournissant des services dans le domaine de la télémédecine, appelant un médecin à domicile, stockant et traitant <strong>des données médicales personnelles</strong> .</em>  <em>La société a reçu des investissements de Yandex.</em> </p><br><p>  À en juger par les informations recueillies, la base de données ClickHouse était en effet librement accessible, et toute personne connaissant l'adresse IP pouvait en obtenir des données.  Ces données se seraient avérées être des journaux d'accès au service. </p><br><p><img src="https://habrastorage.org/webt/au/r9/ne/aur9neaa-w8sxo88v55uejqcfwu.png"></p><br><p>  Comme on peut le voir sur l'image ci-dessus, en plus du serveur Web www.docplus.ru et du serveur ClickHouse (port 9000), la base de données MongoDB (qui ne semble rien d'intéressant) se bloque sur la même adresse IP. </p><br><p>  Pour autant que je sache, le moteur de recherche Shodan.io a été utilisé pour détecter le serveur ClickHouse (j'ai écrit séparément sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">façon dont les chercheurs découvrent les bases de données ouvertes</a> ) en conjonction avec un script <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ClickDown</a> spécial qui a vérifié la base de données trouvée pour l'absence d'authentification et répertorié toutes ses tables.  À cette époque, il semblait y en avoir 474. </p><br><p><img src="https://habrastorage.org/webt/d0/iw/fm/d0iwfmizl7xpwbyllrhfxefdj-g.png"></p><br><p>  D'après la documentation, il est connu que par défaut, le serveur ClickHouse écoute HTTP sur le port 8123.  Par conséquent, pour voir ce qui est contenu dans les tables, il suffit d'exécuter quelque chose comme cette requête SQL: </p><br><pre> <code class="sql hljs">http://[IP-]:8123?query=<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> [ ]</code> </pre> <br><p>  À la suite de la requête, il pourrait probablement retourner ce qui est indiqué dans la capture d'écran ci-dessous: </p><br><p><img src="https://habrastorage.org/webt/um/7l/-q/um7l-q-7iq2b7szzbnkryr7qxa0.png"></p><br><p>  De la capture d'écran, il est clair que les informations du champ <em>HEADERS</em> contiennent des données sur l'emplacement de l'utilisateur (latitude et longitude) de l'utilisateur, son adresse IP, des informations sur l'appareil à partir duquel il s'est connecté au service, la version du système d'exploitation, etc. </p><br><p>  S'il est venu à quelqu'un de modifier un peu une requête SQL, par exemple, comme ceci: </p><br><pre> <code class="sql hljs">http://[IP-]:8123?query=<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> [ ] <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> REQUEST <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'%25Profiles%25'</span></span></code> </pre><br><p>  il pourrait renvoyer quelque chose de similaire aux données personnelles des employés, à savoir: nom, date de naissance, sexe, NIF, adresse d'enregistrement et lieu de résidence réel, numéros de téléphone, positions, adresses e-mail et bien plus encore: </p><br><p><img src="https://habrastorage.org/webt/g_/wl/of/g_wlofigb-u1nbflt9cuboqbpbu.png"></p><br><p>  Toutes ces informations de la capture d'écran ci-dessus sont très similaires aux données du service du personnel de 1C: Enterprise 8.3. </p><br><p>  <em>Après avoir examiné</em> le paramètre <em>API_USER_TOKEN,</em> vous pourriez penser qu'il s'agit d'un jeton «fonctionnel» avec lequel vous pouvez effectuer diverses actions au nom de l'utilisateur - y compris la réception de ses données personnelles.  Mais bien sûr, je ne peux pas dire cela. </p><br><p>  Pour le moment, rien n'indique que le serveur ClickHouse soit toujours disponible gratuitement à la même adresse IP. </p><br><p>  New Medicine LLC a donné naissance à une déclaration officielle sur l'incident.  La déclaration contient de nombreuses lettres, résumant brièvement: «Fuite mineure.  Le facteur humain.  Moins de 1%.  Environnement de test (sur l'IP principale!) ».  Je ne suis pas trop paresseux pour lire l'intégralité de la déclaration: </p><br><blockquote>  La société New Medicine LLC (DOC +) est l'opérateur des données personnelles, et prend donc toutes les mesures de protection requises par la loi.  L'entreprise a introduit des équipements de sécurité modernes qui ont passé les procédures de certification nécessaires par le FSB et le FSTEC.  Construit des processus internes de gestion et de contrôle de l'état de sécurité des systèmes d'information dans lesquels les données personnelles sont traitées.  La politique de protection et de traitement des données personnelles est disponible pour étude sur notre site Internet. <br><br>  DOC + utilise le service ClickHouse pour déboguer la fonctionnalité des améliorations des produits clients.  ClickHouse charge les données d'un environnement de test et de production.  Le service ClickHouse fonctionne sur les serveurs de l'entreprise, dont l'accès est strictement réglementé et limité.  L'apparition de données de ClickHouse dans le domaine public est due à une erreur liée au facteur humain.  L'accès aux données a été rapidement fermé 17/03/19 immédiatement après la publication de la vulnérabilité.  La société analyse régulièrement les vulnérabilités du système de protection des données personnelles, et cette erreur aurait été définitivement détectée et corrigée.  Malheureusement, nous n'avons pas eu le temps de le faire jusqu'à ce que d'autres spécialistes découvrent l'erreur. <br><br>  Une quantité insignifiante de données a été temporairement rendue publique, ce qui ne peut pas entraîner de conséquences négatives pour les employés et les utilisateurs du service DOC +.  Au moment de l'incident, ClickHouse disposait principalement de données provenant de l'environnement de test.  Les données publiques des clients qui sont dans le domaine public sont anonymisées, le sujet des données personnelles ne pourrait être identifié par eux que si l'intégralité de la base de données était reçue.  Une analyse de l'historique d'accès à la base de données et du trafic sortant de nos serveurs suggère que la fuite pourrait affecter &lt;1% de toutes les informations. <br><br>  Le fait de l'incident est une procédure interne en cours.  Nous développons et avons déjà commencé à mettre en œuvre des mesures supplémentaires pour renforcer encore la protection des données.  Nous regrettons cet incident, mais soulignons encore une fois l'absence de conséquences négatives pour nos clients.  Votre sécurité et votre confidentialité sont une priorité de toute l'équipe DOC + dès les premiers jours de l'entreprise. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr444114/">https://habr.com/ru/post/fr444114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr444104/index.html">Comment tirer le meilleur parti de votre portefeuille d'investissement?</a></li>
<li><a href="../fr444106/index.html">Chevalet pour programmeur microcontrôleur</a></li>
<li><a href="../fr444108/index.html">Frontend Weekly Digest (11-17 mars 2019)</a></li>
<li><a href="../fr444110/index.html">Série, UART et Android, en tant que connexion avec des microcontrôleurs</a></li>
<li><a href="../fr444112/index.html">Compter les zéros de fin des nombres factoriels dans n'importe quel système numérique</a></li>
<li><a href="../fr444116/index.html">Le condensé de matières fraîches du monde du front-end de la dernière semaine n ° 356 (11-17 mars 2019)</a></li>
<li><a href="../fr444124/index.html">Comment l'erreur se transforme en péché</a></li>
<li><a href="../fr444126/index.html">En Russie, ils proposent de légaliser les cartes SIM intégrées</a></li>
<li><a href="../fr444128/index.html">Événements numériques à Moscou du 18 au 24 mars</a></li>
<li><a href="../fr444130/index.html">Rends-moi mon monolithe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>