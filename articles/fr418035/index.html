<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§öüèº üó®Ô∏è üö∞ Pr√©sentation de Timeline chez Unity ü•á üë®üèø‚Äç‚öñÔ∏è üîã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[Le didacticiel contient environ 50 Mo d'images, y compris des GIF anim√©s] 

 Les d√©veloppeurs utilisent souvent des cin√©matiques pour raconter une pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pr√©sentation de Timeline chez Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418035/">  <i>[Le didacticiel contient environ 50 Mo d'images, y compris des GIF anim√©s]</i> <br><br>  Les d√©veloppeurs utilisent souvent des cin√©matiques pour raconter une partie de l'intrigue du jeu ou pour captiver le joueur.  Certains jeux cr√©ent des sc√®nes anim√©es sp√©cialement rendues avec des mod√®les tr√®s d√©taill√©s, tandis que d'autres utilisent de vrais mod√®les en jeu.  Gr√¢ce √† l'utilisation de mod√®les en jeu, vous pouvez √©conomiser beaucoup d'argent et de temps, car vous n'avez pas √† cr√©er de nouveaux mod√®les, plates-formes et animations exclusivement pour les cin√©matiques.  Mais m√™me si vous utilisez des mod√®les pr√™ts √† l'emploi, cela ne signifie pas que vous devez sacrifier les effets sp√©ciaux ou le drame!  Unity a un outil puissant pour cr√©er des cin√©matiques passionnantes - Unity Timeline! <br><br>  Dans ce didacticiel, vous d√©couvrirez la chronologie et apprendrez √† cr√©er des cin√©matiques avec des animations et des changements de cam√©ra. <br><br><h2>  Se rendre au travail </h2><br>  T√©l√©chargez le projet de projet et le projet termin√© √† <a href="">partir d'ici</a> . <br><br>  Ouvrez le fichier du projet de d√©marrage et chargez la sc√®ne principale.  Elle sera notre fondation.  Il y a un h√©ros en elle, debout sur une tour et regardant le monde: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5fc/7a6/c5c/5fc7a6c5cd759ce8aa9c08509db3830d.png"></div><br>  Avec votre aide, il pourra sauter de la tour, se retourner, aller au coffre au tr√©sor et l'ouvrir d'un coup de pied.  Avec ces animations, la cam√©ra changera √©galement sa position. <a name="habracut"></a>  Voici √† quoi ressemble la sc√®ne termin√©e: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af7/5c6/b3f/af75c6b3fbbe8e5e5ef322edb65b96d9.gif"></div><br><h2>  Qu'est-ce que la chronologie? </h2><br>  Dans ce didacticiel, nous travaillerons avec Unity Timeline - mais qu'est-ce que la chronologie?  La timeline est un GameObject avec un composant de timeline qui peut √™tre √©dit√© dans la fen√™tre Unity Timeline, qui contr√¥le les images cl√©s de l'animation et les cycles de vie des objets.  Lors de la cr√©ation d'une cin√©matique √† l'aide de la chronologie Unity, nous d√©finissons les cl√©s d'animation et d√©terminons quand elles doivent fonctionner.  Dans ce didacticiel, nous utiliserons √©galement AnimationController, qui peut √™tre consid√©r√© comme un sur-ensemble d'images cl√©s de l'animation. <br><br>  Lorsqu'un personnage ex√©cute une animation, telle que la marche, chaque sommet en mouvement individuel d'un objet doit indiquer son chemin.  Dans ce tutoriel nous ne serons pas engag√©s dans la cr√©ation d'un mod√®le et des animations de gr√©age - tout a d√©j√† √©t√© fait pour nous.  Mais il est utile de savoir que lorsque vous d√©finissez manuellement une image cl√© pour une animation ou utilisez un AnimationController, ils sont essentiellement la m√™me chose: la position des objets √† un moment donn√©.  La chronologie contr√¥le tous ces mouvements pour cr√©er la sc√®ne.  Vous comprendrez tout cela lorsque vous commencerez √† comprendre Unity Timeline. <br><br>  Mais avant de vous plonger dans l'√©tude, il est utile de donner un bref aper√ßu de la fen√™tre Chronologie.  Regardez l'image et lisez les descriptions sous les chiffres: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/275/91e/f57/27591ef57ff5efa79752c74bdbc99906.png"></div><br><ol><li>  <em>Actif de la chronologie:</em> il s'agit d'une piste qui est mapp√©e √† un GameObject dans la hi√©rarchie.  Il stocke les images cl√©s associ√©es √† ce GameObject, utilis√©es pour effectuer des animations ou pour d√©terminer si GameObject est actif. </li><li>  <em>GameObject associ√©:</em> c'est le GameObject auquel la piste est associ√©e. </li><li>  <em>Image:</em> il s'agit de l'image de la timeline actuellement d√©finie.  Lorsque nous devons modifier les animations, nous d√©finissons les images cl√©s dans les images de d√©but et de fin. </li><li>  <em>Groupe de pistes: l'</em> augmentation de l'√©chelle de la sc√®ne augmente √©galement le nombre de pistes.  Vous pouvez organiser les pistes en les regroupant. </li><li>  <em>Bouton d'enregistrement:</em> lorsque ce bouton est actif, nous pouvons changer l'image actuelle et d√©finir la position et / ou la rotation du GameObject dans la sc√®ne.  Les modifications seront enregistr√©es. </li><li>  <em>Ic√¥ne Courbes:</em> cliquez sur cette ic√¥ne pour ouvrir la fen√™tre Courbes, dans laquelle vous pouvez affiner les d√©tails des images cl√©s associ√©es de l'animation pour les modifier de la mani√®re souhait√©e. </li></ol><br>  Ne vous inqui√©tez pas si ces informations vous semblent trop compliqu√©es jusqu'√† pr√©sent - dans le processus de r√©alisation du didacticiel, nous y reviendrons.  √Ä ce stade, il est tr√®s important de se rappeler o√π se trouve la fen√™tre Chronologie et que lorsque vous s√©lectionnez la chronologie GameObject, vous pouvez acc√©der √† la fen√™tre Chronologie. <br><br><h2>  Lumi√®re, cam√©ra, MOTEUR! </h2><br>  Apr√®s avoir charg√© la sc√®ne principale, cliquez sur Lecture.  Vous devriez voir un h√©ros debout au sommet d'une tour: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57b/ad7/7b9/57bad77b9bb301ff866534b848e143c8.gif"></div><br>  Il s'agit de l'animation par d√©faut sp√©cifi√©e dans le contr√¥leur d'animation.  Dans ce tutoriel, nous utiliserons des animations pr√©-cr√©√©es, vous n'avez donc pas √† vous soucier de la structure interne des mod√®les, des animations ou des contr√¥leurs.  Mais si vous voulez comprendre ce processus, vous pouvez √©tudier notre tutoriel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Introduction √† Unity Animation</a> . <br><br><h3>  Cr√©ation d'un GameObject de type Chronologie </h3><br>  La premi√®re √©tape consiste √† cr√©er une <em>chronologie</em> GameObject.  Cr√©ez un <em>GameObject</em> vide en cliquant avec le bouton droit (sur un Mac avec la commande maintenue enfonc√©e) dans la fen√™tre Hi√©rarchie et en s√©lectionnant <em>Cr√©er vide</em> .  Nous ajoutons donc un GameObject √† la sc√®ne et le s√©lectionnons: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b50/b0d/cd1/b50b0dcd1373675793c2ad2b912e8119.gif"></div><br>  Sans supprimer la s√©lection de GameObject, ouvrez le <em>menu Fen√™tre</em> et s√©lectionnez <em>Chronologie</em> .  La fen√™tre Chronologie s'ouvre.  Cliquez sur le <em>bouton Cr√©er</em> , la bo√Æte de dialogue Enregistrer s'ouvre.  <em>Changez le nom du fichier en Chronologie</em> et cliquez sur Enregistrer: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6cd/90a/840/6cd90a840183dae9b1ceeb36ac181325.gif"></div><br>  <em>Renommez GameObject</em> en <em>Timeline</em> en cliquant dessus, en appuyant sur la touche <em>F2</em> et en entrant dans <em>Timeline</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/909/b39/198/909b3919810d8d85ccaa55866aa24aad.png"></div><br>  Nous avons cr√©√© une chronologie GameObject qui coordonnera toutes les animations et les changements de cam√©ra dans la cin√©matique.  √Ä l'int√©rieur du moteur, Unity a enregistr√© un fichier d'actif appel√© Timeline.playable sur le disque.  Dans GameObject Timeline, Unity a ajout√© des composants <em>Playable Director</em> et <em>Animator</em> . <br><br>  Le composant Playable Director contient un champ jouable attach√© √† l'√©l√©ment de chronologie que nous venons d'enregistrer.  Le composant Animator ajout√© par Unity en th√©orie devrait nous permettre d'animer la chronologie GameObject, mais nous ne le ferons pas, vous pouvez donc simplement l'ignorer. <br><br>  Avant de continuer, je veux faire glisser l' <em>onglet Chronologie</em> vers le bas de l'√©cran.  Cela nous permettra d'ouvrir simultan√©ment les fen√™tres Sc√®ne et Chronologie: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/15f/7ca/f00/15f7caf00a0c02304d0b303475ea64a6.gif"></div><br>  S√©lectionnez GameObject <em>Timeline</em> et revenez √† la fen√™tre Timeline.  √Ä l'heure actuelle, nous avons une <em>piste d'animation</em> pour la chronologie GameObject.  Nous n'en avons pas besoin, vous pouvez donc le s√©lectionner et appuyer sur <em>Supprimer</em> pour supprimer: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78c/af5/d9a/78caf5d9a6a19b7f9e4a0416839ed893.gif"></div><br><h2>  Animer le saut! </h2><br>  Nous sommes maintenant pr√™ts √† d√©marrer des animations.  D√©veloppez GameObject <em>Hero</em> pour voir le <em>mod√®le</em> GameObject.  S√©lectionnez <em>Chronologie</em> GameObject.  Faites glisser le <em>mod√®le</em> GameObject dans la fen√™tre Chronologie;  cela ouvrira le menu de piste, donc s√©lectionnez <em>Piste d'animation</em> .  R√©p√©tez cette √©tape pour GameObject <em>Hero</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/753/53a/a08/75353aa08cbffd2a4a73d577ad9659e7.gif"></div><br><blockquote>  <em>Remarque:</em> nous avons ajout√© √† la fois Hero et Model afin d'utiliser correctement l'espace local z√©ro.  GameObject Hero est un conteneur pour le mod√®le GameObject, qui vous permet de jouer des animations sans affecter la position √† partir de laquelle elles sont jou√©es.  Lorsque nous devons d√©placer le h√©ros, nous animons le h√©ros GameObject.  Lorsqu'un personnage doit √™tre anim√© - ce qui peut √™tre fait pendant le d√©placement - nous utiliserons le mod√®le GameObject.  Sans cette relation parent-enfant, les animations jou√©es par l'objet Mod√®le remplaceront incorrectement les param√®tres de mouvement de l'objet H√©ros si vous ne le configurez pas en tant qu'enfant. </blockquote><br><h3>  Enregistrer des images cl√©s </h3><br>  √âtant donn√© que la piste GameObject Hero repr√©sente la position du h√©ros, nous devons d√©finir sa position comme image cl√© initiale. <br><br>  S√©lectionnez <em>la piste Hero</em> dans la fen√™tre Chronologie et cliquez sur le <em>bouton Enregistrer</em> (cercle rouge) pour d√©marrer l'enregistrement.  S√©lectionnez <em>GameObject Hero</em> dans la fen√™tre Hi√©rarchie et <em>d√©finissez sa position X sur -1</em> , puis <em>d√©finissez</em> imm√©diatement <em>sa position X sur 0</em> . <br><br>  Revenez √† la fen√™tre Chronologie et appuyez sur le bouton Enregistrer de la piste H√©ros pour <em>terminer l'enregistrement</em> .  Nous avons donc ajout√© une image cl√© pour la position initiale du h√©ros: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c0/626/7e2/0c06267e22f895f6f5ef74c9fa28bff7.gif"></div><br>  Dans notre projet, le h√©ros est d√©j√† dans la position √† partir de laquelle il devrait commencer.  Cependant, tant que nous ne changerons pas la position, elle ne sera pas enregistr√©e lors de l'enregistrement en tant qu'image cl√©.  Par cons√©quent, si vous avez besoin de d√©finir une image cl√© lors de l'enregistrement pour une position qui poss√®de d√©j√† une image cl√©, d√©placez-la simplement et renvoyez-la pour l'enregistrer. <br><br>  La fa√ßon la plus simple de proc√©der consiste √† d√©finir la position X de l'objet sur -1 par rapport √† sa position actuelle, puis √† remettre la valeur √† sa place.  Dans ce tutoriel, nous utiliserons cette astuce plusieurs fois. <br><br>  Ensuite, nous avons besoin du h√©ros pour attendre 100 images avant de sauter de la tour.  Pour le moment, nous n'avons d√©fini que la position initiale du h√©ros, mais nous devons lui donner la m√™me position (c'est-√†-dire au sommet de la tour) apr√®s 100 images.  Sinon, Unity commencera imm√©diatement √† interpoler le mouvement. <br><br>  Comme pr√©c√©demment, s√©lectionnez <em>GameObject Timeline</em> , mais cette fois, vous devez cliquer sur <em>le champ d'image</em> en haut de la fen√™tre et <em>entrer ¬´100¬ª</em> .  Nous d√©pla√ßons donc l'image cl√© √† l'image 100. <br><br>  Appuyez sur le bouton <em>Enregistrer</em> pour la piste Hero.  S√©lectionnez GameObject <em>Hero</em> et dans le champ Transformer de la fen√™tre Inspecteur, <em>d√©finissez sa position X sur -1, puis revenez imm√©diatement √† 0</em> .  Appuyez √† nouveau sur le bouton <em>Enregistrer</em> pour arr√™ter l'enregistrement. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b9d/f81/629/b9df816295a4a093690123d7c0aad18e.gif"></div><br>  Nous avons donc configur√© l'image cl√© initiale de Hero et sommes pr√™ts √† continuer √† travailler avec les animations. <br><br><h3>  Ajouter des clips anim√©s </h3><br>  <em>D√©finition des donn√©es de position</em> <br><br>  Nous devons d'abord d√©finir les donn√©es de position. <br><br>  Cliquez sur <em>Chronologie</em> GameObject pour le s√©lectionner.  Dans la fen√™tre Montage, ajoutez une <em>animation</em> √† la piste mod√®le en cliquant avec le bouton droit (sur un Mac - en cliquant sur Commande) sur la piste mod√®le et en s√©lectionnant <em>Ajouter √† partir du clip d'animation</em> .  S√©lectionnez maintenant l'animation <em>inactive</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1da/e61/ba0/1dae61ba06cdce0322107b23ff6f37a0.gif"></div><br>  Ensuite, nous animons le saut du h√©ros de la tour, mais nous devons d'abord le d√©placer de haut en bas sur la rambarde, puis vers le sol. <br><br>  Pour ce faire, s√©lectionnez d'abord la fen√™tre Chronologie, puis passez √† l'image <em>138</em> .  Appuyez sur le bouton <em>Enregistrer</em> sur la piste Hero.  S√©lectionnez maintenant GameObject <em>Hero</em> .  Dans le champ Transformer de la fen√™tre Inspecteur, d√©finissez Position Y sur <em>3,934 et Position Z sur 1,97</em> . <br><br>  Retournez √† la fen√™tre Chronologie et <em>passez √† l'image 176</em> .  S√©lectionnez √† nouveau GameObject <em>Hero</em> et <em>r√©glez Position Y sur 0 et Position Z sur 5.159</em> .  Terminez l'enregistrement en appuyant sur le bouton <em>Enregistrer</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/25a/4ab/f21/25a4abf2175ff8db75ba9f84617592d9.gif"></div><br>  Enregistrez la sc√®ne et cliquez sur <em>Lecture</em> pour voir le r√©sultat de votre travail! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3b7/2db/a22/3b72dba221854fa69d6026f3e752d33d.gif"></div><br>  <em>Ajouter des animations</em> <br><br>  Nous d√©finissons ces positions, mais pas les animations r√©alis√©es avec elles.  Maintenant, nous allons le faire. <br><br>  La fen√™tre Montage √©tant s√©lectionn√©e, cliquez avec le bouton droit (sur un Mac, maintenez la commande) sur la piste <em>Mod√®le</em> et cliquez sur <em>Ajouter √† partir du clip d'animation</em> , puis s√©lectionnez <em>Sauter</em> .  Vous ajoutez donc l'animation Jump imm√©diatement apr√®s l'animation Inactif. <br><br>  Faites glisser le c√¥t√© droit de l' <em>animation Jump</em> pour qu'elle se trouve dans l'image <em>176</em> .  Nous allons maintenant ajouter un autre <em>clip d'animation</em> , mais cette fois, nous allons ajouter l'animation <em>Land</em> (vous n'avez pas besoin de changer sa dur√©e, il suffit de l'ajouter): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4fc/d59/386/4fcd59386cf3bb429e88dfbd43d9eb2c.gif"></div><br>  Enregistrez la sc√®ne, cliquez sur Lecture et regardez le r√©sultat! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4ec/db1/a6e/4ecdb1a6e1251571174489fda2781e60.gif"></div><br><h3>  Ajouter des cam√©ras </h3><br>  Il est un peu difficile de suivre l'action apr√®s le saut du h√©ros de la tour, donc c'est le bon moment pour travailler avec des cam√©ras. <br><br>  Dans la fen√™tre Hi√©rarchie, renommez <em>MainCamera</em> en <em>Camera1</em> .  S√©lectionnez <em>Chronologie</em> GameObject.  Faites glisser <em>Camera1</em> vers la fen√™tre Chronologie, cela ouvrira le menu de s√©lection de piste;  s√©lectionnez <em>Activation Track</em> .  Faites glisser la piste <em>Active</em> de Camera1 pour qu'elle se termine √† l'image <em>157</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/964/9ba/994/9649ba9949b1ab49a1a35e1ebaf6402f.gif"></div><br><blockquote>  <em>Astuce:</em> le marqueur d'image actuel peut √™tre d√©fini √† l'aide du champ compteur d'images dans l'inspecteur de la timeline.  Si vous placez le marqueur sur l'image dans laquelle vous souhaitez faire glisser la piste, la piste sera attach√©e au marqueur d'image. </blockquote><br>  L'activit√© ou l'inactivit√© du GameObject pendant une sc√®ne est contr√¥l√©e par la <em>piste d'activation</em> .  Notre cam√©ra principale s'√©teindra d√©sormais apr√®s l'image 157. Cliquez sur Lecture et regardez le r√©sultat: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/30d/d87/28a/30dd8728a41999eb04bbc442a4a608dc.gif"></div><br>  Maintenant, nous allons ajouter une autre cam√©ra, seulement elle baissera les yeux pour montrer le h√©ros apr√®s avoir saut√© par-dessus la balustrade de la tour. <br><br>  Dans la fen√™tre Hi√©rarchie, s√©lectionnez <em>Camera1</em> et dupliquez-la en appuyant sur <em>Control-D</em> (Command-D sur Mac).  Renommez le doublon en <em>Camera2</em> et <em>d√©sactivez-</em> le. <br><br>  Dans ce didacticiel, nous utilisons deux autres cam√©ras, alors cr√©ons-les maintenant en r√©p√©tant le m√™me algorithme;  <em>renommez-les Camera3 et Camera4</em> et d√©connectez-vous.  Apr√®s cela, tous les objets de jeu Camera, √† l'exception de Camera1, doivent √™tre d√©sactiv√©s.  Voici √† quoi devrait ressembler la hi√©rarchie: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ac/49e/f6c/1ac49ef6c59edbcdc0c13d244044c43f.png"></div><br>  Nous allons maintenant placer Camera2.  S√©lectionnez <em>Camera2</em> et dans le champ Transformer de la fen√™tre Inspecteur, <em>d√©finissez Position Y sur 10,75 et Position Z sur 2,84</em> .  R√©glez Rotation X sur <em>79,5</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/453/024/5d2/4530245d2df0228ca5729db4d55630c9.png"></div><br>  Comme pour Camera1, s√©lectionnez la fen√™tre <em>Chronologie</em> et faites glisser l'objet <em>Camera2</em> dedans depuis la hi√©rarchie;  le menu de s√©lection de piste appara√Æt de nouveau, donc s√©lectionnez <em>Piste d'activation</em> .  Faites glisser <em>la barre active</em> pour qu'elle d√©marre imm√©diatement une fois l'activation de Camera1 termin√©e (image 158).  Faites glisser le c√¥t√© droit de la <em>piste active</em> pour Camera2 afin qu'elle se termine √† l' <em>image 216</em> . <br><br>  Enregistrez la sc√®ne, cliquez sur Lecture et regardez le changement de cam√©ras dans votre sc√®ne. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/675/626/169/67562616913b51e0bf42e7cb68cf648f.gif"></div><br><h2>  Il est temps d'acc√©der au tr√©sor! </h2><br><h3>  On regarde la poitrine </h3><br>  Maintenant que notre h√©ros a atterri sur le sol, il doit se tourner vers le coffre au tr√©sor et commencer √† marcher. <br><br>  S√©lectionnez la <em>chronologie</em> GameObject et d√©finissez l'image <em>202</em> .  Appuyez sur le <em>bouton Enregistrer</em> dans la piste <em>H√©ros</em> pour commencer l'enregistrement. <br><br>  S√©lectionnez GameObject <em>Hero</em> et dans le champ Transformer de la fen√™tre Inspecteur, <em>d√©finissez Rotation Y sur -1, puis</em> red√©finissez <em>imm√©diatement la valeur sur 0</em> pour d√©finir l'image cl√© initiale de la rotation GameObject Hero. <br><br>  Une fois termin√©, s√©lectionnez √† nouveau la chronologie GameObject et <em>d√©finissez l'image 216</em> .  S√©lectionnez √† nouveau GameObject Hero et, dans le champ Transformer de la fen√™tre Inspecteur, <em>d√©finissez Rotation Y sur -90</em> . <br><br><blockquote>  <em>Remarque: les</em> images cl√©s de la position et de la rotation sont d√©finies ind√©pendamment l'une de l'autre.  Auparavant, lorsque nous d√©finissions la position initiale du h√©ros, l'image cl√© du tour n'√©tait pas enregistr√©e, nous devons donc d√©finir une nouvelle image avant de passer au tour souhait√© dans la direction du tr√©sor. </blockquote><br>  De plus, le h√©ros doit √™tre en attente √† ce moment, alors ajoutez l'animation <em>inactive</em> √† la <em>piste d'</em> animation du <em>mod√®le</em> et faites-la durer jusqu'√† l'image <em>216</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a2/cc9/f3c/2a2cc9f3c2b9309b71f563b9409a1bc0.gif"></div><br>  Ainsi, notre h√©ros a atterri et est pr√™t √† rechercher des tr√©sors.  Il est temps de se diriger vers lui et d'ouvrir le coffre! <br><br>  <em>Astuce:</em> si la piste Timeline devient trop grande, vous pouvez tourner la molette de la souris pour changer son √©chelle.  Pour vous d√©placer vers la gauche ou la droite, maintenez enfonc√© le bouton central de la souris tout en le d√©pla√ßant vers la gauche ou la droite. <br><br><h3>  Nous approchons du tr√©sor </h3><br>  S√©lectionnez la <em>chronologie</em> GameObject et d√©finissez l'image <em>216</em> .  Appuyez sur le bouton <em>Enregistrer</em> sur la piste Hero pour commencer l'enregistrement. <br><br>  S√©lectionnez GameObject <em>Hero</em> et d√©finissez la position X sur <em>-1</em> dans le champ Transformer de la fen√™tre Inspecteur, puis revenez √† <em>0</em> pour d√©finir l'image cl√© pour la position de d√©part.  Ensuite sur Timeline, s√©lectionnez l'image <em>361</em> sur la piste Hero. <br><br>  Revenez √† GameObject <em>Hero</em> et d√©finissez la position X sur <em>-6</em> dans le champ Transformer de la fen√™tre Inspecteur.  Revenez √† la piste Hero et terminez l'enregistrement. <br><br>  Enfin, donnez √† l'objet Mod√®le une animation de <em>marche</em> , en suivant les m√™mes √©tapes que pr√©c√©demment, puis √©tirez-le jusqu'√† l' <em>image 361</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9af/24e/f3a/9af24ef3ab3b37448c18d1a76650ef15.gif"></div><br>  Vous remarquerez peut-√™tre que le h√©ros semble parcourir le tr√©sor, mais en fait, c'est un probl√®me avec l'aper√ßu de la chronologie, car, comme nous le verrons bient√¥t, le h√©ros va directement dans la poitrine et s'arr√™te. <br><br>  Pour emp√™cher Camera2 de suivre l'int√©gralit√© du chemin du h√©ros, nous pouvons maintenant utiliser Camera3 pour tirer de derri√®re le dos du h√©ros. <br><br>  Pour ce faire, dans le menu principal de la fen√™tre Hi√©rarchie, s√©lectionnez et faites glisser <em>Camera3</em> sur le <em>mod√®le</em> GameObject, qui se trouve √† l'int√©rieur du GameObject Hero, pour faire de la cam√©ra son enfant. <br><br>  R√©glez la position de <em>Camera3</em> <em>(X: 0, Y: 2.06, Z: -2.5)</em> .  Donnez-lui un tour <em>(X: 0, Y: 0, Z: 0)</em> .  La hi√©rarchie devrait ressembler √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/949/c01/76c/949c0176c544e6fcfaf58f04cd295e38.png"></div><br>  √âtant donn√© que Camera3 est maintenant un enfant du mod√®le GameObject, il r√©p√©tera tous les mouvements du mod√®le GameObject, en le regardant de derri√®re.  Cependant, Camera3 a toujours besoin d'une piste d'activation pour qu'elle s'active au bon moment. <br><br>  Faites glisser GameObject <em>Camera3</em> vers la chronologie et s√©lectionnez <em>Piste d'activation</em> , comme nous l'avons fait avec Camera1 et Camera2.  D√©finissez l'image de d√©part de <em>Camera3 sur l'</em> image de fin de Camera2 et d√©finissez l'image de <em>fin</em> sur <em>Camera3 sur</em> <em>361</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fbe/e67/de1/fbee67de1449ff7f4cc0e4390c398fef.gif"></div><br>  Maintenant, enregistrez la sc√®ne, cliquez sur <em>Lecture</em> et voyez comment tout se passe: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a70/cfb/30f/a70cfb30f5c7f7eb24e2946503f08c7f.gif"></div><br>  Nous avons d√©j√† presque tout fait!  Maintenant, le h√©ros n'a plus qu'√† ouvrir le coffre ... bien s√ªr, lui donner un coup de pied! <br><br><h3>  Ouvrez le coffre </h3><br>  Pour la vue finale, nous utilisons Camera4, la configurant comme nous l'avons fait avec Camera1 et Camera2. <br><br>  Faites glisser <em>Camera4</em> vers la timeline et ajoutez la <em>piste d'activation</em> .  D√©finissez l'image de d√©part de <em>Camera4</em> √† la fin de la phase d'activit√© de Camera3 et √©tendez-la √† l'image <em>555</em> .  Cela devrait ressembler √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7c9/7a8/c48/7c97a8c485527dde14bfc746363179e4.png"></div><br>  Ajoutez une animation <em>Kick</em> .  Cliquez avec le bouton droit (sur un Mac, maintenez la commande) sur la piste Mod√®le.  S√©lectionnez <em>Ajouter une animation √† partir du clip</em> , puis s√©lectionnez <em>Coup de pied</em> .  Ne modifiez pas la dur√©e.  La piste Model devrait maintenant ressembler √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7a/026/bf0/b7a026bf0b4c0a6799b3d30e3ff718c2.png"></div><br>  Nous devons ouvrir le coffre, alors maintenant nous allons ajouter une animation de sa couverture.  La configuration de cette animation est similaire √† ce que nous avons fait auparavant. <br><br>  D√©veloppez GameObject <em>ChestBottom</em> dans la fen√™tre Hi√©rarchie.  Faites glisser GameObject <em>ChestLid</em> sur la timeline et s√©lectionnez <em>Piste d'animation</em> .  Dans la timeline, d√©finissez l'image <em>389</em> .  S√©lectionnez maintenant la piste <em>ChestLid</em> .  Cliquez sur le <em>bouton Enregistrer</em> . <br><br>  Maintenant que l'enregistrement est en <em>cours</em> , s√©lectionnez GameObject <em>ChestLid</em> dans la fen√™tre Hi√©rarchie et d√©finissez la position X sur <em>-1</em> , puis revenez √† <em>0</em> pour d√©finir la position de d√©part.  Dans la fen√™tre Montage, d√©finissez l'image <em>555</em> .  Enfin, dans le champ Transformer de la fen√™tre Inspecteur, d√©finissez Y Position <em>ChestLid</em> sur <em>6</em> .  Appuyez √† nouveau sur le bouton <em>Enregistrer</em> de la piste pour terminer l'enregistrement. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e4a/f94/e52/e4af94e527578b184b63008474bb83fd.gif"></div><br>  Nous animons donc le couvercle du coffre pour qu'il vole √† travers le mur. <br><br>  Vous devez maintenant placer Camera4 de sorte qu'il soit au-dessus de la poitrine lorsque le couvercle s'envole.  Nous allons r√©p√©ter les m√™mes √©tapes que pour la cam√©ra pr√©c√©dente, donc je ne d√©crirai pas chaque action en d√©tail. <br><br>  Donnez √† l'objet Camera4 une position <em>(X: -9,00, Y: 5,4, Z: 5,18)</em> .  R√©glez Camera4 pour qu'il pivote <em>(X: 90, Y: 0, Z: 0)</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e2d/9ee/bb5/e2d9eebb5e49796441b0c48b7599d3d2.png"></div><br>  Comme avec toutes les autres cam√©ras ajout√©es, l'ajout d'une animation rend la sc√®ne plus int√©ressante, vous devez donc faire zoomer la cam√©ra apr√®s avoir ouvert le coffre. <br><br>  S√©lectionnez la fen√™tre <em>Chronologie</em> .  Faites-y glisser GameObject <em>Camera4</em> et cr√©ez une <em>piste d'animation</em> .  R√©glez la piste <em>389</em> sur piste.  Cliquez sur <em>la piste Camera4</em> , puis sur le bouton <em>Enregistrer</em> .  S√©lectionnez GameObject <em>Camera4</em> .  Dans le champ Transformer de la fen√™tre Inspecteur, <em>d√©finissez Position X sur 0, puis √† nouveau sur -9</em> . <br><br>  Dans la fen√™tre <em>Montage</em> , faites glisser la piste d'animation sur l' <em>image 555</em> . <br><br>  Enfin, d√©finissez la position Y de <em>Camera4</em> sur <em>3,74</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e4a/f94/e52/e4af94e527578b184b63008474bb83fd.gif"></div><br>  La sc√®ne est enfin termin√©e.  Cliquez sur <em>Play</em> et notez-le! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af7/5c6/b3f/af75c6b3fbbe8e5e5ef322edb65b96d9.gif"></div><br><h2>  G√©rer avec complexit√©: regrouper les pistes </h2><br>  C'√©tait une courte animation de tout avec quelques "acteurs", donc c'√©tait assez facile pour nous de suivre les objets et les pistes du jeu.  Mais lors de la cr√©ation de sc√®nes plus complexes avec de nombreuses parties et acteurs en mouvement, il devient tr√®s difficile √† contr√¥ler.  C'est pourquoi la commande est tr√®s n√©cessaire.  Bien que la sc√®ne soit pr√™te, passons quelques minutes √† l'organiser - √† l'avenir, vous vous en remercierez toujours. <br><br>  Une fa√ßon d'organiser votre travail consiste √† regrouper les pistes.  Tout d'abord, cliquez avec le bouton droit sous les pistes de <em>la fen√™tre Montage</em> et s√©lectionnez <em>Groupe de pistes</em> .  Cliquez sur Track Group et dans l'inspecteur changez son nom en <em>Activations</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/376/e55/34c/376e5534cbfc44d8954cf55b63a908ac.gif"></div><br>  R√©p√©tez ce processus et cr√©ez un groupe de pistes appel√© <em>animations</em> .  La chronologie devrait maintenant ressembler √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/937/cf7/31c/937cf731c4247663201ede9c2e91cb80.png"></div><br>  Faites maintenant glisser toutes les pistes contenant des sections actives vers <em>le groupe Activations</em> et toutes les autres vers <em>le groupe Animations</em> .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vous pouvez maintenant ouvrir et fermer chaque groupe pour pouvoir travailler avec eux: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/376/e55/34c/376e5534cbfc44d8954cf55b63a908ac.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N'oubliez pas de sauvegarder votre travail. </font><font style="vertical-align: inherit;">Asseyez-vous dans le fauteuil de votre directeur et f√©licitez-vous - vous avez termin√© votre premi√®re chronologie.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O√π aller ensuite </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez manqu√© certaines parties du didacticiel, n'oubliez pas que vous pouvez t√©l√©charger la pi√®ce et le projet fini √† </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partir d'ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons travaill√© dur et cr√©√© une cin√©matique en utilisant des animations de mod√®les, en changeant les cam√©ras et en mettant √† jour les cycles de vie des objets, mais beaucoup plus peut √™tre appris ici. L'un des aspects les plus importants li√©s √† Timeline est la cr√©ation de vos propres scripts dans lesquels vous pouvez associer des animations avec du code qui peut √™tre ex√©cut√© avec elles. En savoir plus sur les scripts </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Si vous √™tes d√©j√† √† l'aise, essayez d'ajouter un script √† la sc√®ne apr√®s avoir ouvert le coffre au tr√©sor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez en savoir plus sur les animations dans Unity en g√©n√©ral, consultez notre excellent didacticiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction √† l'animation Unity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour en savoir plus sur la cr√©ation de mod√®les 3D et la fen√™tre d'animation, consultez la s√©rie d√©taill√©e de didacticiels pour d√©veloppeurs Unity pr√©sent√©s </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et le dernier - si vous √™tes int√©ress√© par la cr√©ation de jeux, vous pouvez acheter notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livre Unity Games By Tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il parle de cr√©er quatre types de jeux √† partir de z√©ro avec une description d√©taill√©e de chaque √©tape du processus.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418035/">https://habr.com/ru/post/fr418035/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418023/index.html">Les pointeurs en C sont plus abstraits que vous ne le pensez</a></li>
<li><a href="../fr418025/index.html">Le livre ¬´Learning Java EE. Programmation moderne pour les grandes entreprises "</a></li>
<li><a href="../fr418027/index.html">Microservice Blitz</a></li>
<li><a href="../fr418029/index.html">ReactOS 0.4.9: les ennemis devront chercher de nouveaux arguments</a></li>
<li><a href="../fr418031/index.html">Empilement de masse des mod√®les ML en production: r√©el ou non?</a></li>
<li><a href="../fr418037/index.html">Testeur mobile pr√©parez-vous. Bienvenue dans le Meetup Avito Mobile Testing</a></li>
<li><a href="../fr418041/index.html">Environ 500 millions d'appareils IoT sont susceptibles d'attaquer par usurpation DNS</a></li>
<li><a href="../fr418043/index.html">Comment je ne suis pas parti aux √âtats-Unis et suis devenu pr√©sident en Russie</a></li>
<li><a href="../fr418045/index.html">Utilisation de fonctions JavaScript pour cr√©er des mod√®les 3D</a></li>
<li><a href="../fr418047/index.html">Les meilleurs employeurs en informatique: les premiers r√©sultats du service de notation chez My Circle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>