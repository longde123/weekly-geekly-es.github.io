<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆚 🚿 🏂 HTC Vive硬件上的无线VR和运动捕捉 😎 🐣 🤦🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前言 
 我曾经写过关于冲动项目的文章-基于惯性传感器的运动捕捉套装。 首先，我要感谢每个人以一种或另一种方式对项目提供帮助的意见。 我必须说，该项目没有得到很大的发展，使用9轴传感器无法解决漂移问题，但是使用数字罗盘进行的补偿却大有帮助，并且使用简单的光学跟踪（例如，头上有2个LED标记）可以使您...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>HTC Vive硬件上的无线VR和运动捕捉</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/406843/"><iframe width="560" height="315" src="https://www.youtube.com/embed/5hQimVTOCVg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4> 前言 </h4><br> 我曾经写过关于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">冲动</a>项目的文章-基于惯性传感器的运动捕捉套装。 首先，我要感谢每个人以一种或另一种方式对项目提供帮助的意见。 我必须说，该项目没有得到很大的发展，使用9轴传感器无法解决漂移问题，但是使用数字罗盘进行的补偿却大有帮助，并且使用简单的光学跟踪（例如，头上有2个LED标记）可以使您获得平均漂移值。 但是今天不是关于这个。 我想谈谈一种相对便宜的方式来捕获基于HTC Vive的虚拟现实系统的运动，而无需集体农场和烙铁，以及如何摆脱不可避免地连接头和计算机的电线，这会带来很多不便。 我还将告诉您，我们如何实现约80平方米的跟踪区域。 <br><a name="habracut"></a><br><h3> 让我们开始吧 </h3><br> 该系统将在HTC Vive设备上运行，这是一个全时头盔，2个控制器和2个基站，我建议购买<b>HTC Vive 2</b> ，它显示得很好，可能是由于更新了基站。 现在，价格已降至5万卢布。 <br><br> 除了标准套装外，我还建议使用<b>VIVE Deluxe Audio</b>附加组件，它不仅是耳机（已经很方便了），而且是使头盔更舒适使用的极其便捷的解决方案，尤其是当有多个玩家或景点的游客使用头盔时，这一附加功能非常重要。 另外，此安装允许您牢固地安装无线系统，它看起来很酷： <br><div style="text-align:center;"><img src="https://habrastorage.org/web/656/15a/f81/65615af817cb46b88ed294f91380cea1.jpg" alt="图片"></div><br>  <i><b>VIVE豪华音频</b> 。</i>  <i>发行价为一万卢布。</i> <br><br><h3> 放下电线 </h3><br> 首先，您需要打破这种“束缚”，在虚拟现实领域中感受到真正的自由，而没有笨拙而又发热的笔记本电脑。 为此，您需要<b>TPCast</b>附加组件-一种使Vive处于无线模式的设备。 <br><div style="text-align:center;"><img src="https://habrastorage.org/web/32f/afb/f62/32fafbf622c34f77b0dc5e3e1dd2bcad.jpg" alt="图片"></div><br>  <i><b>TPCast</b></i>  <i>选件</i> <br><br> 整个系统由几个模块组成，每个模块都有更多信息： <br><br><div class="spoiler">  <b class="spoiler_title">接收者</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/c8d/66d/7c3/c8d66d7c3d594dc6b7b5d76303362c81.jpg" alt="图片"></div></div><br> 可完美安装在VIVE Deluxe Audio上。 它通过短线USB和HDMI连接到头盔，其他2条线（USB和电源）连接到适配器和电池。 <br><br><div class="spoiler">  <b class="spoiler_title">电源箱</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/c9e/d86/875/c9ed86875fdc49058a03e40c0ab3f34e.jpg" alt="图片"></div></div><br> 接下来，您需要放置标准的Vive链接盒，并通过HDMI将以下模块（传输器）直接连接到计算机： <br><br><div class="spoiler">  <b class="spoiler_title">发射器</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/18b/4fa/e89/18b4fae894af485f8a4191d282e99bd3.jpg" alt="图片"></div></div> 您可以使用标准线或10米HDMI。 来自标准链接箱的电源必须连接到TPCast变送器。 我必须说，您可以将链接箱与组合使用，只需连接发射器而不是头盔（无需连接三根线之一-USB）。 变送器应放置在房间内始终可见头盔的位置，例如 发射机工作在高频下，那么任何障碍物都会阻碍信号的传输，如果有人转过头，那将是同一头。 换句话说，提供直接可见性。 最好的选择是将发射器准确地放置在天花板上房间的中央，并将其垂直于地板发送。 <br><br> 这还不是全部，该套件还具有应连接到PC互联网连接的路由器。 简而言之，以太网电缆位于路由器的WAN端口中，而PC通过LAN连接到路由器。 如果此连接不可接受，请使用其他网卡。 现在几乎一切都准备就绪，仅需从TPCast官方网站下载软件和驱动程序： <br><br><div class="spoiler">  <b class="spoiler_title">VIVE无线连接助手</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/b42/901/548/b4290154811f49b99554fc6d0654c6a9.png" alt="图片"></div></div><br> 安装后，应用程序将要求您输入数据以连接到接入点，用户名和密码显示在电池适配器的标签上。 连接成功后，仅需单击启动并启动SteamVR。 如果出现问题，则在右上方的菜单中有一个“切换”通道项。 通常，只需按一下按钮即可轻松恢复连接丢失，也可以随时更换电池。 <br><br><div class="spoiler">  <b class="spoiler_title">接线图</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/cce/401/26c/cce40126c1e54c8cbff55583d7e6e119.png" alt="图片"></div></div><br><img src="https://habrastorage.org/web/1ca/145/27b/1ca14527be4f45abaaa10904ded5d8b5.jpg" alt="图片"><br>  <i><b>TPCast</b>组装。</i>  <i>发行价格为35-40 000卢布，但特征如下：</i> <br><br><ul><li>  2K分辨率（HTC Vive正常） </li><li>  90 FPS </li><li> 延迟小于2ms </li></ul><br> 当然，对于家庭使用，这是不切实际的，您可以忍受导线，但是对于商业解决方案来说，这是一个绝佳的选择，尤其是在您扩大跟踪范围的情况下。 <br><br> 现在，您可以尝试在Steam Home上行走，而不用记住电线，扭结，节点等等，除了可以给电池充电以外，但最好购买其他电池。 它们足以有效使用4-5小时。 <br><br><h3> 我们超越了允许的范围 </h3><br> 没有电线，您将很快感到局促，您需要走一点路，但是在标准的16平方米中，这将无法工作。 您需要的第一件事是一间房间（适合100平方米），天花板更高（3.5米）。 这是最难的部分。  TPCast发送器位于房间天花板的中央。  HTC Vive基站的侧面安装在天花板下方。  -5米之间的距离，以便使电台位于穿过房间中心（在发射器中心）的一条线上（垂直于两堵墙并平行于另外两堵墙）。 此外，这些站需要彼此倾斜30度（即，它们更指向地面）。 <br><br> 电台必须用电线连接以进行同步（光学设备将无法稳定工作），电台的频道应设置为A和b。 安装后，请使用标准工具校准房间。 值得注意的是，在构建伴侣（蓝色网格指示实际房间的边界）的阶段，值得选择高级模式，该模式将允许您仅指定房间的角落，网格将是均匀的正方形。 游戏区最好放在中央。 这种配置将提供大面积的足够精确的跟踪，并且盲点数量最少，并且将允许有效使用常规站点。 潜水之前，我建议您安装<b>OpenVR Advanced设置</b> ，它们的界面将直接在标准菜单的VR空间中可用。 这些设置将提高分辨率，进行超级采样并配置分子伴侣（激活区域，颜色，高度，可见性等）。当然，您仍然可以在一定的房间内随意摆放基站，改变它们之间的角度或之间的距离。 根据标准的《蒸汽之家》，结果令人印象深刻，可以进行导航而无需召回传送。 在大多数游戏中，这个区域绰绰有余。 在11月，Vive威胁要增加对使用大量基站的支持，但是目前尚不清楚当前的设备是否能够接受两个以上的设备，或者仅新头盔和控制器能够做到这一点。 <br><br><h3> 别再当鬼了 </h3><br> 通常，所有VR游戏都可以定义为一个子类-“幽灵模拟器”，您可以拾取对象，将它们扔等等。 在某些情况下，您可以看到静止的身体，这很不协调。 要想画出一个虚拟的主角一个可靠的运动物体，您需要一种方式来获取运动捕捉领域中的某些东西。 如果您放弃了近视运动等，捕捉运动并不是最便宜的娱乐，这在这样的跟踪区域中是无效的。 救援有两件事<b>-HTC Vive Tracker</b>和逆运动学（IR）。 首先需要确定在跟踪区域中任何物体的位置，其次是在仅知道6个点的位置（这是全身的最小值）的情况下，重新创建身体在虚拟空间中的位置。 <br><br><img src="https://habrastorage.org/web/f5c/4c1/0c5/f5c4c10c5a484acc91d3d3d7015a8f96.png" alt="图片"><br>  <i><b>Vive追踪器</b> 。</i>  <i>追踪器的成本约为8千卢布</i> <br><br> 最少需要这些追踪器中的3个。 通常，这些是相同的标准控制器，只是经过微调，并且情况略有不同。 每个这样的跟踪器都是在SteamVR中定义的，唯一的区别是它们需要特殊的加密狗（随附）来连接它们，尽管您可以将它们连接到头盔而不是控制器上。 背面有一个用于连接自定义按钮的接触区（您也可以使用跟踪器上的USB连接器）。 它可以是枪机扳机，光剑激活按钮等。 从软件开发的角度来看，按与按下控制器上的按钮相同的方式来处理此类按钮。 通常，它们可用于跟踪游戏对象，例如武器或工具，甚至家具和门，但我们对动作捕捉感兴趣。 <br><br><img src="https://habrastorage.org/web/d0c/e11/d7f/d0ce11d7f6654937b182c12110062bd7.png" alt="图片"><br><br> 可以使用头盔，手和控制器来确定头部的位置。 应在鞋子上（从脚上方）放置2个跟踪器，其余的跟踪器将在后部的皮带上感觉良好。 这样的设置已经可以让您玩一些支持此配置的游戏，但是如果我们谈论开发自己的软件，那么您将需要IR解决方案来对角色进行动画处理。 逆运动学和直线之间的根本区别在于，在直线的情况下，已知角度即可计算出位置，在逆运动的情况下，已知位置即可计算出角度。 因此，在人体通常会弯曲的情况下，您可以自己制作一个非常简单的模型，知道两点的位置以计算中间点。 但是，有现成的解决方案，例如<b>Final IK</b> ， <b>VRIK</b>和其他程序动画工具。 有提供这种类型解决方案的工作室。  <b>IKinema</b>及其产品之一就是<b>Project Orion</b> ，该软件可让您基于从<b>SteamVR</b>接收的数据捕获运动，并通过<b>VRPN</b>协议将其广播到任何其他应用程序（为Unity和Unreal提供现成的插件和资产）。 对于预算解决方案，最好使用以前的方法，这样可以很好地展示自己。 <br><br><img src="https://habrastorage.org/web/620/596/86b/62059686b70e4be2b1db0489e3f624cf.jpg" alt="图片"><br><br><div class="spoiler">  <b class="spoiler_title">IKinema Orion（视频）</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/Khoer5DpQkE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br> 此外，虽然已经在引擎中，但Orion可以解决这一问题，尽管它可以解决一点，消除滑点，计算虚拟地板的不均匀度，但仍可以将其清理干净。  IKinema有一个针对Unreal的插件解决方案： <br><br><div class="spoiler">  <b class="spoiler_title">实景拍摄</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/oWqKCdFpyfI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br> 总的来说，插件更容易处理类似的任务，甚至更容易。 <br> 这些手套例如： <br><br><img src="https://habrastorage.org/web/fa3/9c3/8ac/fa39c38ac2a04714b982323a9d7c4958.jpg" alt="图片"><br>  <i><b>Manus vr</b></i> <br><br><h3> 结论 </h3><br> 如今，动作捕捉和虚拟现实正变得越来越容易访问，这无疑是令人愉快的。 许多游戏即将到来，其中将根据玩家的动作支持主角的跟踪器和动画。 当然，所有这些仍然不如我们所希望的那样方便和可访问，但是现在有可能以相对较低的成本组装这样的系统。 不必说大众玩家可以负担得起以这种方式装备自己的游戏空间，但是以吸引力的形式，这将是一个全新的水平。 <br><br> 一些观察： <br><br> 为了放弃电线，通常会有更多的电线。 <br> 获得虚拟身体后，逼真的程度似乎正在增加，但是要看到虚拟空间中移动的阴影是大脑的另一项任务，头晕就开始了，因此最好将其关闭（这是个人的） <br><br> 跟踪身体和物体为创造游戏机制和沉浸效果提供了巨大的机会。 <br><br> 在帖子开头将这样的系统组装在视频上的结果。 也是实时角色动画的示例： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/AQuCKXnuqKM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN406843/">https://habr.com/ru/post/zh-CN406843/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN406833/index.html">“尽管年龄”：如何保护您的听力</a></li>
<li><a href="../zh-CN406835/index.html">有两种类型的药物：科学家批评顺势疗法并警告重大健康风险</a></li>
<li><a href="../zh-CN406837/index.html">战斗：无人机杀手对抗“神仙” DJI Phantom 4</a></li>
<li><a href="../zh-CN406839/index.html">学习STM32或智能管理光的入门</a></li>
<li><a href="../zh-CN406841/index.html">建模-面向大众</a></li>
<li><a href="../zh-CN406845/index.html">泊松方程和玻尔兹曼分布（第2.1部分）</a></li>
<li><a href="../zh-CN406847/index.html">XRONOS加密货币聚合器启动硬币预售</a></li>
<li><a href="../zh-CN406851/index.html">Denon D-M41迷你系统：重返音乐中心的概念，为中产阶级提供Hi-Fi</a></li>
<li><a href="../zh-CN406853/index.html">ESA邀请商业公司参加月球探索</a></li>
<li><a href="../zh-CN406855/index.html">火星研究中看不见的“机会”</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>