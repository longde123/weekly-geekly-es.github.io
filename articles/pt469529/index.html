<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úåüèø üõ∑ üë®üèø‚Äçü§ù‚Äçüë®üèº A renderiza√ß√£o de texto odeia voc√™ üë®‚Äç‚öñÔ∏è üåä üïå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sum√°rio 

- 1. Terminologia 
- 2. O estilo, o layout e a forma dependem um do outro? 
- 3. O texto n√£o possui caracteres separados 3.1 Sobreposi√ß√£o de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A renderiza√ß√£o de texto odeia voc√™</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469529/"><div class="spoiler">  <b class="spoiler_title">Sum√°rio</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1. Terminologia</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2. O estilo, o layout e a forma dependem um do outro?</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">3. O texto n√£o possui caracteres separados</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">3.1</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sobreposi√ß√£o de texto</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">3.2</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O estilo pode mudar a ligadura</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">4. Emoji quebra cor e estilo</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">5. Alisar √© um inferno</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">5.1</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">As compensa√ß√µes de subpixel quebram o cache de glifo</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">5.2</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Os subpixels de suaviza√ß√£o n√£o podem ser compostos</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6. Esot√©rico</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6.1</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">As fontes podem conter SVG</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6.2</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Personagens podem ser muito grandes</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6.3</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A sele√ß√£o n√£o √© um quadro, mas o texto segue em todas as dire√ß√µes</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6.4</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como escrever o que √© imposs√≠vel escrever?</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6.5</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O estilo faz parte da fonte (a menos que n√£o seja)</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6.6</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Nenhuma renderiza√ß√£o de texto perfeita</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">7. Links adicionais</a> </li></ul></div></div><br>  Renderiza√ß√£o de texto: qu√£o complicado pode ser?  Acontece ser incrivelmente desafiador!  At√© onde eu sei, literalmente, nenhum sistema exibe o texto "perfeitamente".  Em algum lugar melhor, em algum lugar pior. <br><br>  Suponha que voc√™ queira texto arbitr√°rio com fontes, cores e estilos arbitr√°rios, com suporte para quebra de linha e destaque de texto.  De fato, esses s√£o os requisitos m√≠nimos para a exibi√ß√£o correta de textos complexos, uma janela de terminal, uma p√°gina da web etc. <br><br>  Em geral, digamos imediatamente: n√£o h√° respostas corretas consecutivas, tudo √© muito mais importante do que voc√™ pensa e tudo afeta todo o resto. <br><br>  Discutiremos t√≥picos que n√£o est√£o unidos em um √∫nico conceito; esses s√£o apenas os problemas que tive que enfrentar durante v√°rios anos trabalhando na renderiza√ß√£o de texto no Firefox.  Por exemplo, n√£o discutiremos detalhadamente os problemas de segmenta√ß√£o de texto ou o gerenciamento de v√°rias bibliotecas de texto para uma plataforma espec√≠fica, pois n√£o estou muito interessado nisso. <br><a name="habracut"></a><br><a name="1"></a><h1>  1. Terminologia </h1><br>  A natureza do texto √© complexa e o ingl√™s transmite mal todas as nuances.  Neste documento, tentarei aderir aos seguintes termos.  Observe que essas palavras n√£o est√£o "corretas"; apenas as considero √∫teis para transmitir conceitos-chave a falantes nativos de ingl√™s que n√£o t√™m experi√™ncia em ling√º√≠stica. <br><br>  Personagens: <br><br><ul><li>  Escalar (escalar): escalar Unicode, a "menor unidade" em Unicode (tamb√©m √© um ponto de c√≥digo). <br></li><li>  Caractere: um cluster de grafema Unicode estendido (EGC), a ‚Äúmaior unidade‚Äù em Unicode (potencialmente composta por v√°rios escalares). <br></li><li>  Glifo (glifo): a unidade at√¥mica de renderiza√ß√£o fornecida em uma fonte.  Geralmente, possui um identificador exclusivo na fonte. <br></li><li>  Ligadura: um glifo que consiste em v√°rios escalares e potencialmente at√© v√°rios caracteres (os falantes nativos podem representar uma ligadura como v√°rios caracteres, mas para uma fonte √© apenas um caractere). <br></li><li>  Emoji: glifo "colorido". <img src="https://habrastorage.org/webt/bz/bc/0l/bzbc0lnl6kzkaygl4g6kdufbtpo.png" width="70"></li></ul><br>  Fontes <br><br><ul><li>  Fonte: um documento que mapeia caracteres para glifos. <br></li><li>  Escrita / escrita (script): um conjunto de glifos que comp√µem um determinado idioma (as fontes, em regra, implementam certos scripts). <br></li><li>  Fonte manuscrita (script cursivo): qualquer fonte na qual os glifos se tocam e fluem entre si (por exemplo, √°rabe). <br></li><li>  Cor: valores RGB e alfa para fontes (n√£o √© necess√°rio em alguns casos de uso, mas isso √© interessante). <br></li><li>  Estilo: modificadores em negrito e it√°lico para fontes (em implementa√ß√µes pr√°ticas, dicas, aliases e outras configura√ß√µes tamb√©m s√£o geralmente fornecidas). </li></ul><br><a name="2"></a><h1>  2. O estilo, o layout e a forma dependem um do outro? </h1><br>  Aqui est√° um breve resumo para ter uma id√©ia de como funciona um pipeline de renderiza√ß√£o de texto t√≠pico: <br><br><ol><li>  Estiliza√ß√£o (marca√ß√£o de an√°lise, sistema de consulta de fontes). <br></li><li>  Layout (dividindo o texto em linhas). <br></li><li>  Modelagem, modelagem (c√°lculo de glifos e suas posi√ß√µes). <br></li><li>  Rasteriza√ß√£o dos glifos necess√°rios para o atlas / cache de textura). <br></li><li>  Composi√ß√£o (copiar glifos do atlas para a posi√ß√£o desejada). </li></ol><br>  Infelizmente, essas etapas n√£o s√£o t√£o simples quanto parecem. <br><br>  A maioria das fontes n√£o produz todos os glifos poss√≠veis sob demanda.  Existem muitos glifos; portanto, as fontes geralmente implementam apenas uma letra espec√≠fica.  Os usu√°rios finais geralmente n√£o sabem ou n√£o se importam com isso; portanto, um sistema confi√°vel deve <i>cascatear</i> com outras fontes se os caracteres n√£o estiverem dispon√≠veis. <br><br>  Por exemplo, embora a marca√ß√£o do texto a seguir n√£o <i>implique</i> v√°rias fontes, √© necess√°rio para a renderiza√ß√£o adequada em qualquer sistema: hello <img src="https://habrastorage.org/webt/s6/z5/b8/s6z5b8fxd5g525xyirad9asxejk.png" width="22"> Â•Ω ÿ® ÿ®ÿ≥ŸÖ Â•Ω.  Portanto, estamos nos aproximando perigosamente do fato de que a etapa 1 (estiliza√ß√£o) come√ßa a depender da etapa 3 (modelagem)! <br><br>  (Como alternativa, voc√™ pode adotar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">abordagem Noto</a> e usar uma √∫nica fonte Uber que cont√©m todos os caracteres. Embora os usu√°rios n√£o possam configur√°-la e voc√™ n√£o pode fornecer uma interface de texto "nativa" para os usu√°rios em todas as plataformas. Mas suponha que voc√™ precise de uma interface mais confi√°vel. decis√£o). <br><br>  Da mesma forma, para o layout, voc√™ precisa saber quanto espa√ßo cada parte do texto ocupa, mas isso s√≥ se torna conhecido ap√≥s a modelagem!  A etapa 2 depende dos resultados da etapa 3? <br><br>  Mas para moldar, voc√™ precisa conhecer o layout e o estilo, por isso parecemos estar presos.  O que fazer? <br><br>  Em primeiro lugar, a estiliza√ß√£o aplica truques.  Embora <i>realmente</i> desejemos obter glifos completos, os <i>escalares s√£o</i> suficientes para modelar.  Se a fonte n√£o suportar a escrita corretamente, ela n√£o alegar√° saber nada sobre as escalares dessa escrita.  Assim, voc√™ pode encontrar facilmente a fonte "melhor" da seguinte maneira: <br><br>  Para cada s√≠mbolo (EGC) em nosso texto, interrogamos cada fonte da lista (cascata) se todos os escalares que comp√µem esse s√≠mbolo s√£o conhecidos por ele.  Se sim, use-os.  Se chegarmos ao final da lista sem resultado, obteremos tofu ( <img src="https://habrastorage.org/webt/qv/6w/jj/qv6wjjqmos_ob7gzmy_ogneaowy.png" width="20">  , indicador de glifo ausente). <br><br>  Voc√™ provavelmente j√° viu esse indicador ao encontrar emoji!  Como alguns emojis s√£o na verdade ligaduras de v√°rios emojis mais simples, uma fonte pode indicar suporte para um caractere emitindo apenas componentes individuais.  Desta maneira <img src="https://habrastorage.org/webt/vr/mr/yk/vrmrykt5b5kjdkyj8b4nabjhjac.png" width="22">  pode literalmente parecer <img src="https://habrastorage.org/webt/6m/yv/6n/6myv6nhjem72asbiysa_wzah8t4.png" width="70">  se a fonte for "muito antiga" para saber sobre a nova ligadura.  Isso tamb√©m pode acontecer se voc√™ tiver uma implementa√ß√£o Unicode "muito antiga" que n√£o conhece o novo caractere, for√ßando o sistema de estilo a aceitar uma correspond√™ncia parcial. <br><br>  Portanto, agora sabemos exatamente quais fontes usaremos, sem precisar nos referir ao layout ou ao formato (embora o formato possa alterar nossas cores, mais sobre isso nas pr√≥ximas se√ß√µes).  Da mesma forma, podemos lidar com a interdepend√™ncia entre layout e forma?  N√£o!  Coisas como quebras de par√°grafo fornecem uma quebra de linha dif√≠cil, mas a √∫nica maneira de moldar √© atrav√©s da modelagem iterativa! <br><br>  √â necess√°rio supor que o texto seja colocado em uma linha e forme essa linha at√© o espa√ßo acabar.  Nesse ponto, voc√™ pode executar opera√ß√µes de digita√ß√£o e descobrir onde quebrar o texto e iniciar a pr√≥xima linha.  Repita at√© que tudo esteja pronto. <br><br><a name="3"></a><h1>  3. O texto n√£o possui caracteres separados </h1><br>  A julgar apenas pelo ingl√™s, voc√™ pode pensar que as ligaduras s√£o algum tipo de absurdo bizarro.  Quero dizer, quem <i>realmente se</i> importa que "..." est√° escrito "ae"?  Mas acontece que algumas l√≠nguas consistem essencialmente em ligaduras.  Por exemplo, consists‡•ç ÿ® ÿ®ÿ≥ŸÖ consiste nos caracteres individuais ¬´ÿ® ÿ® ÿ≥ ŸÖ.  Em qualquer sistema avan√ßado de renderiza√ß√£o de texto (ou seja, em qualquer um dos principais navegadores), essas duas linhas parecer√£o <i>muito</i> diferentes. <br><br>  E n√£o: n√£o se trata da diferen√ßa entre escalares Unicode e clusters de grafema estendidos.  Se voc√™ pedir a um sistema Unicode confi√°vel (por exemplo, Swift) para fornecer grupos de grafemas estendidos dessa linha, ele fornecer√° esses cinco caracteres! <br><br>  A forma do caractere depende de seus vizinhos: o <b>texto n√£o pode exibir corretamente caractere ap√≥s caractere</b> . <br><br>  Ou seja, voc√™ deve usar uma biblioteca de modelagem.  O padr√£o da ind√∫stria aqui √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HarfBuzz</a> , e essas tarefas s√£o extremamente dif√≠ceis de resolver por conta pr√≥pria.  Ent√£o use o HarfBuzz. <br><br><a name="3_1"></a><h3>  3.1  Sobreposi√ß√£o de texto </h3><br>  Em fontes manuscritas, os glifos geralmente se sobrep√µem para evitar costuras, e isso pode causar problemas. <br><br>  Vamos dar uma outra olhada em ‡§Æ‡§®‡•Ä ŸÖ ŸÖŸÜÿ¥.  Parece normal?  Agora aumente: <br><br><img src="https://habrastorage.org/webt/sb/u0/kv/sbu0kvn9ii-lhltb9y7pqnj67pa.png"><br><br>  Ainda parece bonito, mas vamos tornar o texto parcialmente transparente.  Se voc√™ estiver no Safari ou Edge, o texto pode ficar bem!  Mas no Firefox ou Chrome, a vis√£o √© terr√≠vel: <br><br><img src="https://habrastorage.org/webt/0m/rs/fq/0mrsfqxdecmizkckojpww0o0iju.png"><br><br>  O problema √© que o Chrome e o Firefox est√£o tentando <i>trapacear</i> .  Eles formaram o texto corretamente, mas assim que encontram esses glifos, ainda est√£o tentando desenh√°-los separadamente.  Isso geralmente funciona bem, exceto quando h√° transpar√™ncia e sobreposi√ß√£o que produzem esse escurecimento. <br><br>  Uma implementa√ß√£o ‚Äúcorreta‚Äù trar√° o texto para uma superf√≠cie tempor√°ria <i>sem</i> transpar√™ncia e depois para a cena <i>com</i> transpar√™ncia.  Firefox e Chrome n√£o fazem isso porque √© caro e geralmente n√£o √© necess√°rio para os principais idiomas ocidentais.  Curiosamente, eles realmente entendem o problema, porque processam especificamente esse script para emoji (mas retornaremos a isso mais tarde). <br><br><a name="3_1"></a><h3>  3.2  O estilo pode mudar a ligadura </h3><br>  Ok, neste exemplo estamos analisando <i>principalmente</i> por curiosidade sobre como a marca√ß√£o pode ser quebrada, embora eu n√£o conhe√ßa nenhum cen√°rio razo√°vel em que possa realmente doer.  Aqui est√£o duas partes de texto com o mesmo conte√∫do, mas com cores diferentes: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/450/9ef/bcd/4509efbcddabd9a36f7a77372f99a832.png"><br><br>  Aqui est√° a apar√™ncia deles no Safari: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf0/1f5/057/cf01f505710b9a16186cb8671a852a08.png"><br><br>  √â assim que eles se parecem no Chrome (ao usar sua <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nova implementa√ß√£o de maquete</a> ): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efa/a09/2d8/efaa092d8e5df031d1f7efbe0fdc991d.png"><br><br>  E aqui est√£o eles no Firefox: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/450/9ef/bcd/4509efbcddabd9a36f7a77372f99a832.png"><br><br>  Em resumo: <br><br><ul><li>  O Safari √© inadequado <br></li><li>  O Chrome analisa glifos, mas descarta muitas cores <br></li><li>  O Firefox analisa simultaneamente glifos e exibe cores </li></ul><br>  Eu acho que todo mundo deveria estar no Firefox, certo?  Mas se voc√™ ampliar, veremos que ele est√° fazendo algo muito estranho: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/516/9ce/d38/5169ced3843dcd4ab70e98c58b1929ed.png"><br><br>  Ele simplesmente dividiu essa ligadura em quatro partes iguais, com cores diferentes! <br><br>  O problema √© que realmente n√£o h√° uma resposta razo√°vel sobre o que <i>deve ser</i> feito aqui.  Dividimos a ligadura em diferentes estilos e, como a ligadura √©, de certo modo, uma "unidade" de renderiza√ß√£o, faz sentido simplesmente recusar-se a apoiar essa separa√ß√£o (como a maioria). <br><br>  Por alguma raz√£o, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algu√©m no Firefox estava realmente entusiasmado em fazer uma implementa√ß√£o mais elegante</a> .  Sua abordagem √© desenhar uma ligadura v√°rias vezes com m√°scaras ideais e cores diferentes, o que funciona surpreendentemente bem! <br><br>  H√° <i>algum</i> sentido em tentar apoiar essas ‚Äúligaduras parciais‚Äù: apenas a modelagem pode saber se uma ligadura espec√≠fica ser√° exibida, e isso depende das fontes do sistema; portanto, a ligadura pode aparecer onde ningu√©m esperava!  Um exemplo cl√°ssico do idioma ingl√™s √© uma ligadura √¶ de uma fonte instalada pelo usu√°rio na borda de um hiperlink. <br><br>  Tamb√©m √© bastante estranho que o ingl√™s possa mudar no meio de uma palavra, mas n√£o pode fontes manuscritas? <br><br>  Nem pergunte sobre c√≥digo que quebra linhas com ligaduras parciais. <br><br><a name="4"></a><h1>  4. Emoji quebra cor e estilo </h1><br>  Se voc√™ exibir emojis como o sistema nativo, precisar√° ignorar as configura√ß√µes de cor do texto (com exce√ß√£o da transpar√™ncia): <br><br><img src="https://habrastorage.org/webt/cp/4d/2f/cp4d2fokoxffueesiohd1urszuu.png"><br><br>  Normalmente, os emojis t√™m suas pr√≥prias cores nativas e essa cor pode at√© ter significado sem√¢ntico, como √© o caso dos modificadores de cor da pele.  Al√©m disso: eles podem ter v√°rias cores! <br><br>  At√© onde eu sei, n√£o havia esse problema antes dos emojis, ent√£o plataformas diferentes t√™m abordagens diferentes para resolver.  Alguns mostram emojis como uma imagem s√≥lida (Apple), outros como uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">s√©rie de <i>camadas</i> monocrom√°ticas</a> (Microsoft). <br><br>  A √∫ltima abordagem n√£o √© ruim, porque se integra bem aos pipelines de renderiza√ß√£o de texto existentes, ‚Äúapenas‚Äù dividindo o glifo em uma s√©rie de glifos monocrom√°ticos com os quais todos est√£o acostumados a trabalhar. <br><br>  No entanto, isso significa que, quando voc√™ desenha um glifo ‚Äú√∫nico‚Äù, seu estilo pode mudar <i>repetidamente</i> .  Isso tamb√©m significa que o glifo "um" pode se sobrepor, o que leva aos problemas de transpar√™ncia mencionados na se√ß√£o anterior.  Ainda assim, os navegadores <i>realmente</i> combinam corretamente a transpar√™ncia das camadas nos emojis! <br><br>  Essa discrep√¢ncia pode ser explicada de tr√™s maneiras: <br><br><ul><li>  Voc√™ j√° est√° procurando glifos coloridos para process√°-los de uma maneira especial, para que seja f√°cil escolher um caminho de layout especial. <br></li><li>  Fontes manuscritas com pouca transpar√™ncia parecem um pouco feias, mas os emojis se decomp√µem completamente e se transformam em um conjunto de caracteres ileg√≠veis, de modo que o trabalho extra √© justificado. <br></li><li>  Os desenvolvedores ocidentais se preocupam mais com emojis do que com idiomas como √°rabe e marata. </li></ul><br>  Escolha a op√ß√£o ao seu gosto. <br><br>  E, no entanto, como destacar um emoticon em it√°lico ou negrito?  Ignorar esses estilos?  Eles devem ser sintetizados?  Quem sabe ... <br><br>  Al√©m disso, esses emojis n√£o parecem estranhamente pequenos? <br><br>  Sim, por algum motivo, v√°rios sistemas aumentam secretamente o tamanho da fonte dos emojis para torn√°-los melhores. <br><br><a name="5"></a><h1>  5. Alisar √© um inferno </h1><br>  Os caracteres no texto s√£o muito pequenos e detalhados.  √â muito importante que o texto seja f√°cil de ler.  Parece uma tarefa de suaviza√ß√£o!  Inferno, 480p √© realmente de baixa resolu√ß√£o.  Mais suaviza√ß√£o !!! <br><br><img src="https://habrastorage.org/webt/m9/8x/qa/m98xqayxjlpla-5bgc2rmktqpd8.png" align="right">  Portanto, existem dois tipos principais: <br><br><ul><li>  Suaviza√ß√£o da escala de cinza <img src="https://habrastorage.org/webt/sf/xr/qu/sfxrqug5y1yihdid_djblyqhhii.png" width="22"><br></li><li>  Suaviza√ß√£o de subpixel <img src="https://habrastorage.org/webt/i7/pt/mk/i7ptmkl9iwj6tve6ly5ch7dv-y0.png" width="22"></li></ul><br>  A suaviza√ß√£o da escala de cinza √© uma abordagem "natural".  A id√©ia b√°sica √© que pixels parcialmente revestidos obtenham transpar√™ncia parcial.  Durante a composi√ß√£o, isso far√° com que o pixel obtenha o tom apropriado, melhorando os detalhes gerais. <br><br>  O termo "tons de cinza" √© usado para cores unidimensionais, assim como nossa transpar√™ncia unidimensional (caso contr√°rio, os glifos s√£o exibidos em uma cor s√≥lida).  Al√©m disso, em uma situa√ß√£o t√≠pica de texto em preto sobre fundo branco, a suaviza√ß√£o de serrilhado exibe literalmente tons de cinza nas bordas. <br><br>  O anti-aliasing de subpixel √© um truque que abusa do posicionamento normal de pixels nos monitores.  √â muito mais complicado, portanto, se voc√™ estiver realmente interessado, precisar√° ler uma documenta√ß√£o mais detalhada; aqui est√° apenas uma breve descri√ß√£o do conceito de alto n√≠vel. <br><br>  Os pixels do seu monitor s√£o na verdade tr√™s pequenas colunas de vermelho, verde e azul.  Se voc√™ quer ficar vermelho, voc√™ <i>meio que</i> diz "preto branco preto".  Da mesma forma, se voc√™ deseja obter uma cor azul, especifique "preto preto branco".  Em outras palavras, se voc√™ mexer com flores, poder√° <i>triplicar a</i> resolu√ß√£o horizontal e obter muito mais detalhes! <br><br>  Voc√™ pode pensar que esse "arco-√≠ris" seria muito feio, mas na pr√°tica o sistema funciona muito bem (embora alguns discordem disso).  O c√©rebro humano adora reconhecer padr√µes e suaviz√°-los.  No entanto, se voc√™ capturar uma captura de tela do texto com suaviza√ß√£o de subpixel, ver√° claramente todas as cores extras se redimensionar a imagem ou apenas olhar para ela no monitor com um layout de subpixel diferente.  √â por isso que as capturas de tela com texto geralmente parecem muito estranhas e ruins. <br><br>  (Em geral, esse sistema tamb√©m significa que a cor do √≠cone pode mudar acidentalmente seu tamanho e posi√ß√£o percebidos, o que √© realmente irritante). <br><br>  Portanto, o anti-aliasing de subpixel √© um truque realmente limpo que pode melhorar significativamente a inteligibilidade do texto, √≥timo!  Mas, infelizmente, isso tamb√©m √© uma grande lasca na bunda! <br><br>  Observe que as <i>altera√ß√µes de glifo de subpixel</i> ocorrem em qualquer sistema de suaviza√ß√£o de serrilhado.  Voc√™ sempre deseja que seus glifos rasterizados sejam ajustados a pixels completos, mas a pr√≥pria rasteriza√ß√£o foi projetada para um deslocamento espec√≠fico de sub-pixels (um valor entre 0 e 1). <br><br>  Para entender isso, imagine um quadrado preto 1x1 com suaviza√ß√£o da escala de cinza: <br><br><ul><li>  Se o deslocamento do subpixel for 0, apenas um pixel preto ser√° exibido durante a rasteriza√ß√£o. <br></li><li>  Se o deslocamento do subpixel for 0,5 e, quando rasterizado, dois pixels sair√£o com 50% de cinza. </li></ul><br><a name="5_1"></a><h3>  5.1  As compensa√ß√µes de subpixel quebram o cache de glifo </h3><br>  A rasteriza√ß√£o de glifos requer uma quantidade incr√≠vel de computa√ß√£o, por isso √© muito melhor armazen√°-los em cache em um atlas de textura.  Mas como armazenar em cache texturas com deslocamentos de subpixel?  Cada deslocamento possui sua pr√≥pria rasteriza√ß√£o exclusiva! <br><br>  Aqui voc√™ precisa encontrar um compromisso entre qualidade e desempenho, e isso pode ser feito otimizando as compensa√ß√µes de subpixel.  Para o texto em ingl√™s, um equil√≠brio razo√°vel seria a falta de precis√£o do subpixel vertical com o deslocamento horizontal vinculado a um quarto de um n√∫mero inteiro.  Isso deixa apenas quatro posi√ß√µes de sub-pixel, o que ainda melhora muito a qualidade, mantendo um tamanho de cache razo√°vel. <br><br><a name="5_2"></a><h3>  5.2  Os subpixels de suaviza√ß√£o n√£o podem ser compostos </h3><br>  Um recurso interessante de suaviza√ß√£o de serrilhado em tons de cinza √© que voc√™ pode brincar livremente com ele, e isso degrada normalmente.  Por exemplo, se voc√™ converter uma textura com texto (escala, rota√ß√£o ou transforma√ß√£o), ela poder√° ficar um pouco emba√ßada, mas parecer√° normal em geral. <br><br>  Se voc√™ fizer o mesmo com a suaviza√ß√£o de serrilhado de subpixel, ela ficar√° horr√≠vel.  Sua id√©ia √© manipular os pixels na tela.  Se os pixels da tela n√£o corresponderem aos pixels da sua textura, as bordas vermelha e azul ser√£o claramente vis√≠veis! <br><br>  Voc√™ pode pensar que isso √© "corrigido" simplesmente por uma nova rasteriza√ß√£o de glifos em um novo local.  E, de fato, se a convers√£o for est√°tica, isso pode funcionar.  Mas se a transforma√ß√£o for uma <i>anima√ß√£o</i> , ficar√° ainda pior.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na verdade, esse √© um erro muito comum do navegador: se n√£o achar que a anima√ß√£o est√° acontecendo com o texto, os caracteres </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tremer√£o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pois cada glifo salta entre diferentes liga√ß√µes de subpixel com dicas em cada quadro. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, os navegadores cont√™m v√°rias heur√≠sticas para detectar essas anima√ß√µes, a fim de for√ßar o anti-aliasing de sub-pixel para esta parte da p√°gina (e, idealmente, at√© para o posicionamento de sub-pixel). Isso √© bastante dif√≠cil de implementar de maneira confi√°vel, porque uma anima√ß√£o pode ser acionada por um JS arbitrariamente complexo, sem dar ao navegador nenhuma "dica" clara.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, a suaviza√ß√£o de subpixel √© dif√≠cil de usar na presen√ßa de transpar√™ncia parcial. De fato, aqui configuramos nossos canais R, G e B para codificar tr√™s valores de transpar√™ncia (um para cada subpixel), mas o pr√≥prio texto tamb√©m tem uma cor e um fundo, para que as informa√ß√µes sejam facilmente perdidas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao usar o anti-aliasing em escala de cinza, temos um canal alfa dedicado, para que nada seja perdido. Assim, os navegadores geralmente usam tons de cinza para trabalhar com objetos transl√∫cidos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... Exceto Firefox. </font><font style="vertical-align: inherit;">Novamente, nessa organiza√ß√£o estranha, algu√©m realmente se empolgou e fez algo complicado: um componente alfa. </font><font style="vertical-align: inherit;">Acontece que voc√™ pode realmente compor texto corretamente com anti-aliasing de subpixel, mas isso requer tr√™s canais de transpar√™ncia adicionais para R, G e B. N√£o √© de surpreender que esse anti-aliasing dobre o consumo de mem√≥ria. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Felizmente, ao longo dos anos, a suaviza√ß√£o sub-pixel se tornou menos relevante:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os displays de retina n√£o precisam disso. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O layout de sub-pixel nos telefones bloqueia esse truque (sem trabalho s√©rio). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nas vers√µes mais recentes do MacOS, o texto do subpixel √© desativado por padr√£o no n√≠vel do SO. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O Chrome parece ser mais agressivo ao desativar o anti-aliasing de subpixel (n√£o tenho certeza se essa √© a pol√≠tica exata). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O novo backend gr√°fico do Firefox (webrender) abandonou o componente Alpha por simplicidade. </font></font></li></ul><br><a name="6"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 6. Esot√©rico </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Esta parte √© apenas um monte de pequenas coisas que n√£o merecem muita discuss√£o. </font></font><br><br><a name="6_1"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.1 </font><font style="vertical-align: inherit;">As fontes podem conter SVG</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso √© p√©ssimo. </font><font style="vertical-align: inherit;">Essas fontes s√£o fornecidas principalmente pela Adobe, porque h√° algum tempo elas entraram no SVG muito bem. </font><font style="vertical-align: inherit;">√Äs vezes, voc√™ pode simplesmente ignorar partes do SVG (acredito que a fonte do Source Code Pro cont√©m tecnicamente alguns glifos SVG, mas na pr√°tica eles n√£o s√£o realmente usados ‚Äã‚Äãpor sites), mas em geral voc√™ precisar√° implementar o suporte ao SVG para dar suporte formal a todas as fontes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E voc√™ j√° ouviu falar sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fontes animadas SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ?</font></font> N√£o?  Bom<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eu acho que eles est√£o quebrados ou n√£o foram implementados em todos os lugares (o Firefox acidentalmente os apoiou por um tempo devido a algum tipo de desenvolvedor entusiasmado). </font></font><br><br><a name="6_2"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.2 </font><font style="vertical-align: inherit;">Personagens podem ser muito grandes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ deseja satisfazer ingenuamente a solicita√ß√£o de um usu√°rio por uma fonte muito grande (ou um n√≠vel de zoom muito grande), encontrar√° problemas extremos de gerenciamento de mem√≥ria para um atlas de glifo desse tamanho, pois cada caractere pode ser maior que a tela inteira. </font><font style="vertical-align: inherit;">Existem v√°rias maneiras de lidar com isso:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recuse-se a desenhar um glifo (usu√°rio triste). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rasterize o glifo em um tamanho menor e aumente a escala durante a composi√ß√£o (isso √© f√°cil, mas as formas ficam borradas ao longo das bordas). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rasterize o glifo diretamente na superf√≠cie ap√≥s a composi√ß√£o (dif√≠cil, potencialmente caro). </font></font></li></ul><br><a name="6_3"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.3 </font><font style="vertical-align: inherit;">A sele√ß√£o n√£o √© um quadro, mas o texto segue em todas as dire√ß√µes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As pessoas geralmente sabem que a dire√ß√£o principal do texto pode ser da esquerda para a direita (ingl√™s), da direita para a esquerda (√°rabe) ou de cima para baixo (japon√™s). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ent√£o, aqui est√° um texto engra√ßado para voc√™:</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ol√° a todos </font></font><font color="purple"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá ŸÑÿß</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beep beep !!</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ selecionar texto na √°rea de trabalho com o mouse da esquerda para a direita, a sele√ß√£o se tornar√° intermitente e, de alguma maneira, estranhamente se contorce no meio. </font><font style="vertical-align: inherit;">Isso ocorre porque misturamos o texto em uma linha da esquerda para a direita e da direita para a esquerda, o que acontece o tempo todo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro, a sele√ß√£o √† direita aumenta a sele√ß√£o, mas diminui at√© que de repente come√ßa a aumentar novamente. </font><font style="vertical-align: inherit;">Na verdade, isso √© bastante correto: a sele√ß√£o simplesmente permanece cont√≠nua </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na linha real</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Assim, voc√™ pode copiar corretamente um peda√ßo de texto. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ precisa levar isso em considera√ß√£o no seu c√≥digo para destacar o texto, bem como no algoritmo de quebra de linha para o layout. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas isso n√£o √© tudo. </font></font><br><img src="https://habrastorage.org/webt/h5/vm/ee/h5vmee428zjgkmlcs9syoyhzte0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espero que voc√™ n√£o precise lidar com essas coisas.</font></font><br><br><a name="6_4"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.4 </font><font style="vertical-align: inherit;">Como escrever o que √© imposs√≠vel escrever?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando n√£o h√° caracteres na fonte, seria bom informar o usu√°rio sobre isso. O glifo "tofu" √© destinado a isso. Voc√™ pode simplesmente desenhar um tofu vazio (ret√¢ngulo) e limitar-se a isso. Mas se voc√™ deseja fornecer informa√ß√µes realmente √∫teis, pode escrever o valor do caractere ausente para simplificar a depura√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas espere, usamos texto para explicar que n√£o podemos produzir o texto?</font></font> Hum. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ pode dizer que deve haver uma fonte b√°sica no sistema que sempre mostre os caracteres de 0 a 9 e AF, mas isso √© uma suposi√ß√£o para os fracos. </font><font style="vertical-align: inherit;">Se o usu√°rio realmente destruiu suas ferramentas com essas ferramentas, o Firefox oferece uma sa√≠da: uma micro fonte! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dentro do Firefox, h√° uma pequena matriz codificada de pixel art de um bit com um pequeno atlas com exatamente esses 16 caracteres. </font><font style="vertical-align: inherit;">Portanto, ao desenhar tofu, ele pode encaminhar esses caracteres sem se preocupar com fontes.</font></font><br><br><img src="https://habrastorage.org/webt/us/by/n1/usbyn1o8olhyj82uy1b5ljw_pzg.png"><br><br><a name="6_5"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.5 </font><font style="vertical-align: inherit;">O estilo faz parte da fonte (a menos que n√£o seja)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As fontes de alta qualidade s√£o fornecidas inicialmente com estilos como </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it√°lico</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">negrito</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pois n√£o existe uma maneira algor√≠tmica simples de trazer esses efeitos bem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No entanto, algumas fontes v√™m sem esses estilos; portanto, voc√™ ainda precisa de uma maneira algor√≠tmica simples para fazer esses efeitos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A detec√ß√£o e o processamento exatos dos estilos s√£o altamente dependentes do sistema e fora da minha √°rea de especializa√ß√£o, por isso n√£o posso explic√°-lo bem. Gostaria apenas de me aprofundar no </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo de manipula√ß√£o de fontes no Webrender</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De qualquer forma, voc√™ precisa de um </font><font style="vertical-align: inherit;">fallback </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sint√©tico</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Felizmente, a implementa√ß√£o √© realmente bastante simples: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it√°lico sint√©tico: incline cada glifo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Negrito sint√©tico: desenhe cada glifo v√°rias vezes com um leve deslocamento na dire√ß√£o do texto. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Honestamente, essas abordagens se saem muito bem! </font><font style="vertical-align: inherit;">Mas os usu√°rios podem perceber que tudo parece "errado". </font><font style="vertical-align: inherit;">Portanto, voc√™ pode fazer melhor se fizer um esfor√ßo.</font></font><br><br><a name="6_6"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.6 </font><font style="vertical-align: inherit;">Nenhuma renderiza√ß√£o de texto perfeita</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada plataforma teve seus erros, otimiza√ß√µes e peculiaridades por tanto tempo que se tornaram est√©tica. </font><font style="vertical-align: inherit;">Portanto, mesmo que voc√™ acredite firmemente que certas coisas s√£o ideais ou importantes, sempre haver√° um grande grupo de usu√°rios com prefer√™ncias diferentes. </font><font style="vertical-align: inherit;">Um sistema robusto de visualiza√ß√£o de texto suporta essas v√°rias prefer√™ncias (ao escolher padr√µes razo√°veis). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suas configura√ß√µes devem levar em conta o sistema do usu√°rio, fontes espec√≠ficas, aplicativos espec√≠ficos e textos espec√≠ficos. </font><font style="vertical-align: inherit;">Voc√™ tamb√©m deve tentar corresponder √† "apar√™ncia" nativa de cada plataforma (tais peculiaridades). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso inclui:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Capacidade de desativar o anti-aliasing de sub-pixel (alguns realmente o odeiam). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A capacidade de desativar </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qualquer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> anti-aliasing (sim, as pessoas fazem isso).</font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uma tonelada de propriedades espec√≠ficas de plataforma / formato, como dicas, suaviza√ß√£o, varia√ß√µes, gama, etc. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso tamb√©m significa que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as bibliotecas de texto nativas devem ser usadas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para corresponder √† est√©tica de cada sistema (Core Text, DirectWrite e FreeType em suas respectivas plataformas).</font></font><br><br><a name="7"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7. Links adicionais </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aqui est√£o mais alguns artigos sobre o pesadelo da renderiza√ß√£o de texto: </font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"O Windows precisar√° corrigir algumas fontes TrueType para funcionar"</font></font></a> <br></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Existem tantos espa√ßos de coordenadas no Firefox."</font></font></a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt469529/">https://habr.com/ru/post/pt469529/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt469515/index.html">Preparando o Aplicativo para Istio</a></li>
<li><a href="../pt469521/index.html">Comprei uma moto para andar, para n√£o cair</a></li>
<li><a href="../pt469523/index.html">Depend√™ncia do desempenho do c√≥digo no contexto da declara√ß√£o de vari√°veis ‚Äã‚Äãem JavaScript</a></li>
<li><a href="../pt469525/index.html">Sistema de controle automatizado para uma escavadeira de minera√ß√£o</a></li>
<li><a href="../pt469527/index.html">O interfone √© um ouvido espi√£o?</a></li>
<li><a href="../pt469531/index.html">"Comparar linguagens de programa√ß√£o em uma base de pior a pior √© uma ocupa√ß√£o completamente idiota."</a></li>
<li><a href="../pt469533/index.html">Problemas e amea√ßas da identifica√ß√£o biom√©trica</a></li>
<li><a href="../pt469537/index.html">Conhecendo Swift com Snake</a></li>
<li><a href="../pt469541/index.html">Montagem e implanta√ß√£o dos mesmos microsservi√ßos com o werf e o GitLab CI</a></li>
<li><a href="../pt469543/index.html">Redis Scaling e Failover para Servi√ßos DirectumRX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>