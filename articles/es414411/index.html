<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦍 🚍 👧 Wiren Board 6: nuevamente en Habré con la nueva versión del controlador para automatización 😞 🤜🏻 🤛🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! 

 Hoy hablaremos de una versión completamente nueva de nuestro controlador para automatización, hogar inteligente y todo eso. A continu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wiren Board 6: nuevamente en Habré con la nueva versión del controlador para automatización</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirenboard/blog/414411/">  Hola a todos! <br><br>  Hoy hablaremos de una versión completamente nueva de nuestro controlador para automatización, hogar inteligente y todo eso.  A continuación se muestra una descripción técnica detallada del dispositivo. <br><br><img src="https://habrastorage.org/webt/ln/gt/35/lngt35xgm_uycfbrizl8votbmki.jpeg"><br><a name="habracut"></a><br><br clear="left"><div class="spoiler">  <b class="spoiler_title">Brevemente sobre los controladores Wiren Board</b> <div class="spoiler_text">  Un controlador de placa Wiren es un dispositivo que actúa como un controlador central en un sistema de automatización o monitoreo. <br><br>  Por ejemplo, en un "edificio inteligente", el controlador puede controlar la iluminación y el control del clima, tomar lecturas de sensores climáticos y sensores de seguridad.  Para esto, el controlador admite varios dispositivos externos, ejecuta reglas y scripts, almacena y muestra datos de manera hermosa. <br><br>  El controlador se ejecuta en Linux, tiene muchas interfaces cableadas e inalámbricas integradas para la comunicación con dispositivos externos y el mundo exterior. <br>  El controlador es modular: los módulos de E / S (relés, entradas para contactos secos) están acoplados en el lateral, los módulos de expansión se insertan en el interior: puertos adicionales RS-485, RS-232, etc. <br><br>  Naturalmente, todo esto es de grado industrial: un gabinete de riel DIN, un amplio rango de potencia de entrada, un amplio rango de temperatura, memoria confiable, protección para todos los puertos, etc. <br></div></div><br><h2>  ¿Por qué lanzamos una nueva versión? </h2><br>  Los tiempos son difíciles ahora: para parpadear un LED, a menudo puede prescindir de un gigahercio de frecuencia de reloj.  En serio, el rendimiento de nuestra anterior Wiren Board 5 con ARM9 fue suficiente para casi todas las tareas, pero solo con nuestro software escrito en C ++ y Go. <br><br>  Queríamos ofrecer a los usuarios más flexibilidad, para que puedan usar fácilmente la memoria y las aplicaciones intensivas en procesadores. <br><br>  El cambio principal en Wiren Board 6 es el nuevo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">procesador NXP i.MX 6ULL</a> con un núcleo Cortex A7 a 800 MHz y 512 MB de RAM DDR3 (en WB5 había <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Freescale i.MX28</a> 454 MHz ARM9 y 128 MB DDR2). <br><br>  El controlador se ha vuelto varias veces más rápido: además de aumentar realmente la frecuencia de reloj, el uso de una arquitectura central más productiva (en términos de MHz) también juega un papel importante.  I.MX 6ULL ​​tiene una FPU de hardware; en algunas aplicaciones que almacenan y procesan datos, esto ha dado un aumento significativo en el rendimiento. <br><br>  El nuevo procesador permitió usar las últimas versiones de Node.js (la arquitectura del procesador anterior no era compatible con el motor V8), usar Node-RED e instalar software listo para Raspberry Pi sin recompilación. <br><br>  En general, desde el punto de vista del desarrollo y la selección de software, Wiren Board 6 pasó de la categoría de "hardware integrado" a la categoría de "computadora ordinaria con Linux, pero con muchas interfaces". <br><br>  <s>Algunas</s> palabras sobre por qué <s>no 8xCortex A53@2.2GHz</s> elegimos el procesador más lentamente que en los nuevos decodificadores de TV o en la nueva Raspberry Pi.  i.MX 6ULL ​​es un procesador moderno (2017) para sistemas integrados industriales.  Tiene un consumo de energía muy bajo y, por lo tanto, casi no se calienta.  Pero al mismo tiempo, la temperatura de trabajo central permitida es de hasta 105 ° C.  Esto es importante para nosotros, porque Wiren Board generalmente se encuentra en gabinetes cerrados sin ningún tipo de enfriamiento.  Los controladores también funcionan en frío, la temperatura mínima de todos los componentes es menos 40 ° C. <br><br>  Este procesador también tiene un excelente soporte en el núcleo principal de Linux, y el fabricante garantiza su producción hasta al menos 2026. <br><br><img src="https://habrastorage.org/webt/j5/rd/tp/j5rdtpkodksucvdkxpvi-wyb5te.jpeg"><br><br><h2>  Otros cambios de controlador </h2><br>  Los controladores Wiren Board 5 tuvieron varias revisiones de hardware que pueden usarse para rastrear la evolución del dispositivo.  Hay muchas diferencias entre la última revisión y la primera: <br><br><ul><li>  Bloque de terminales agregado Vout - salida de voltaje.  Conveniente para conectar periféricos a través de RS-485: puede tomar datos y líneas eléctricas desde un solo dispositivo; <br></li><li>  la consola de depuración se muestra en la interfaz Micro-USB en lugar de UART; <br></li><li>  Se agregó un segundo puerto Ethernet.  Se utiliza como canal de respaldo para conectarse a redes aisladas y para conectar otros controladores; <br></li><li>  El esquema de poder ha cambiado.  Utilizamos un paso hacia abajo sincrónico (una mayor eficiencia significa menos calentamiento de la placa), el rango de potencia de entrada es de hasta 40 voltios, nos deshicimos de los condensadores electrolíticos (ahora solo de cerámica), esto aumenta la vida útil; <br></li><li>  se agregan puentes para habilitar resistencias de terminación en líneas RS-485 / CAN; <br></li><li>  Interfaz de audio digital S / PDIF eliminada, no popular; <br></li><li>  puerto eliminado para el transceptor IR: resultó que no era muy conveniente de usar, por lo tanto, lanzaron un dispositivo WB-MIR separado con RS-485; <br></li><li>  Soporte limitado para módem 3G: se puede instalar en lugar del módulo Wi-Fi. <br></li></ul><br>  <b>En Wiren Board 6, se agregaron más cambios:</b> <br><br><ul><li>  Soporte agregado para dos tarjetas SIM.  El país es grande, la calidad de la comunicación no siempre es óptima y ahora hay una reserva de inmediato; <br></li><li>  implementado soporte completo para el módulo 3G e incluso NB-IoT (este será un artículo separado).  3G honestamente produce 5 Mbps.  SSH no se ralentiza, en general, una conexión más estable, puede tomar cualquier número de parámetros de objetos remotos; <br></li><li>  sensor de temperatura en la placa del controlador.  Barato, pero es útil para las personas ver en qué condiciones funciona el controlador.  Otro sensor mide la temperatura del núcleo del procesador para que el controlador restablezca automáticamente la frecuencia cuando se sobrecalienta; <br></li><li>  Segundo puerto USB.  Porque podemos <br></li></ul><br>  <b>Cambios internos:</b> <br><br><ol><li>  Rediseñamos el esquema de poder (¿otra vez? ¿Cuánto puedes, Karl?).  Ahora se ve así: <br><br><img src="https://habrastorage.org/webt/ip/m8/l7/ipm8l7h2o5qq4yvf8defl-48u9i.png"><br><br>  Las ventajas de tal esquema: <br><br>  - El consumo principal en el controlador está en la línea de 5V.  La eficiencia a alta carga (muchos módulos laterales, sensores externos, etc.) es mayor; <br>  - Si instalamos nuestro módulo de alimentación de respaldo dentro del controlador, en ausencia de voltaje externo, se suministran 11 voltios al bloque de terminales Vout.  Esto permite que varios dispositivos conectados a través de RS-485 funcionen; <br>  - la salida puede programarse para encenderse y apagarse, lo cual es útil para reiniciar de forma remota los periféricos conectados de diferentes fabricantes mediante alimentación. <br></li><li>  Software deshabilitado estirando líneas RS-485.  Se necesita un "estiramiento" débil de la resistencia de las líneas para establecer un nivel lógico fijo en el bus cuando ningún dispositivo está transmitiendo datos.  Debe deshabilitar el “estiramiento” (sesgo a prueba de fallas de manera inteligente) si varios controladores están conectados al bus, por ejemplo, cuando la placa Wiren funciona como un esclavo Modbus. <br></li><li>  Teclas inteligentes en lugar de transistores en los terminales A1-A4: con protección contra cortocircuitos y sobrecalentamiento, y limitación de corriente. <br></li></ol><br><h3>  Módulos de Expansión </h3><br>  Los módulos de E / S (estos son módulos con E / S adicionales conectadas al controlador en el lateral) se dejaron igual que antes, pero los módulos de expansión decidieron rehacer. <br><br><img src="https://habrastorage.org/webt/lz/7k/w5/lz7kw54yg51qzsbjygope3t7kkc.png"><br><br>  Pinout del conector de expansión.  A la izquierda, como era, a la derecha, como se convirtió. <br><br>  En WB5, sacaron señales con un margen: potencia, UART, I2C, SPI.  Durante tres años, se les ocurrió un solo módulo con SPI: el módulo de tarjeta SD, y no requiere bloques de terminales externos.  Y I2C es un software bastante basado en GPIO.  Por lo tanto, se eliminó el exceso y se liberó espacio para la tercera ranura para módulos de expansión que no requieren terminales externos (esto es un GPS, ranura microSD, en el futuro, diferentes módulos con una radio). <br><br><img src="https://habrastorage.org/webt/dg/x8/ma/dgx8ma82tszftljcaxoeqoyio38.jpeg"><br><br>  Los módulos de expansión se hicieron con una llave: la parte sobresaliente de la placa se inserta en la ranura de la placa del controlador.  Esto agrega rigidez a la conexión: los pañuelos no cuelgan en el conector y es imposible insertarlos incorrectamente. <br><br><h3>  Criptoprocesador </h3><br>  En Wiren Board 6, agregamos un procesador de cifrado.  Este es un chip especial que almacena las claves de cifrado privadas de los usuarios y las utiliza para crear una firma digital de datos criptográfica. <br><br>  Si es simple, este es un análogo de tarjetas inteligentes o silbatos USB, emitidos por bancos y agencias gubernamentales para confirmar la identidad del usuario. <br><br><div class="spoiler">  <b class="spoiler_title">¿Por qué necesitamos un procesador criptográfico?</b> <div class="spoiler_text">  El procesador criptográfico en el controlador se utiliza para su autenticación en los sistemas de monitoreo y control del nivel superior. <br><br>  Anteriormente, para conectar controladores a, por ejemplo, un servidor VPN, era necesario usar un nombre de usuario y contraseña comunes (inseguros) o emitir detalles separados para cada controlador (inconveniente).  Además de las dificultades con la gestión de detalles, ambas soluciones son potencialmente inseguras: tanto los detalles como un archivo de certificado, si se desea, podrían copiarse de un controlador a otro y obtener acceso al sistema. <br><br>  Con un procesador criptográfico, todo se simplifica enormemente: en el servidor solo necesita registrar una lista de números de serie (nombre común) de los controladores permitidos.  Al mismo tiempo, el servidor verifica la firma criptográfica del certificado del controlador, que no puede falsificarse ni copiarse. <br><br>  Implementamos soporte de chip criptográfico en la biblioteca del sistema estándar OpenSSL, por lo que casi cualquier software estándar que use SSL, TLS o HTTPS podrá trabajar con claves de hardware protegidas. <br><br>  Ahora estamos trabajando con socios, proveedores de sistemas de alto nivel para garantizar que Wiren Board esté conectado a estos sistemas sin contraseñas ni configuraciones previas.  El soporte también está planeado para plataformas IoT de proveedores líderes: Amazon, Google y otros. <br></div></div><br><h3>  Software </h3><br>  En general, las actualizaciones de software de Wiren Board se lanzan simultáneamente para todas las versiones y revisiones de controladores compatibles. <br><br>  Sin embargo, con el lanzamiento de Wiren Board 6, cronometramos varios cambios importantes en el software. <br><br><h4>  Debian 9 </h4><br>  Los nuevos controladores vienen con la última versión estable de Debian: Debian Stretch.  El proceso de transición de Debian Wheezy ha sido un proceso largo y doloroso, principalmente debido al uso de systemd en lugar de sysvinit en la nueva Debian. <br><br>  Pero ahora nuestros usuarios obtienen una distribución moderna con versiones relativamente recientes de software de terceros.  Además, la distribución y WB6 en sí son compatibles con los paquetes para Raspbian. <br><br><h4>  Nuevo sistema de actualización y recuperación de firmware </h4><br>  Las versiones anteriores de los controladores podrían actualizarse a través del administrador de paquetes APT, o el firmware completo podría sobrescribirse a través de la interfaz web.  Si las acciones descuidadas del usuario llevaron a la inoperancia del sistema, se realizó una restauración completa del firmware de fábrica a través del puerto USB utilizando una computadora o máquina virtual con Linux y un programa especial mxsldr. <br><br>  En Wiren Board 6, también implementamos una actualización usando el gestor de arranque.  Para restaurar el firmware, simplemente inserte la unidad flash USB con el nuevo archivo de firmware en el puerto USB del controlador y haga clic en el botón de actualización. <br><br>  Del mismo modo, puede restablecer todos los ajustes del controlador a los valores predeterminados de fábrica. <br><br><h4>  Llamado a la accion </h4><br>  ¿Necesitas más información técnica?  Aquí puede encontrar las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">especificaciones completas</a> . <br><br>  ¿Tiene otras preguntas sobre el dispositivo y sus aplicaciones?  Lo estamos esperando en nuestro sitio web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://wirenboard.com/</a> y visitando nuestra oficina. <br><br>  ¿Quieres probar un nuevo controlador en el trabajo?  Puede comprar el controlador al por menor directamente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en nuestro sitio web</a> .  Enviamos el equipo por mensajería 1-2 días después de realizar el pedido. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es414411/">https://habr.com/ru/post/es414411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es414397/index.html">FCS propone reducir el umbral libre de impuestos a cero</a></li>
<li><a href="../es414399/index.html">El uso de la producción digital en negocios y educación reales.</a></li>
<li><a href="../es414401/index.html">100,500 métodos de almacenamiento en caché en Oracle Database</a></li>
<li><a href="../es414403/index.html">Fujitsu ha creado una nueva tecnología de modelado molecular</a></li>
<li><a href="../es414405/index.html">Instalar certificado en el servidor HTTP Apache</a></li>
<li><a href="../es414413/index.html">Sinopsis y video de la historia sobre las redes en la industria del juego con el gamedev del festival</a></li>
<li><a href="../es414415/index.html">Conferencia de Tarantool 21 de junio - no solo sobre Tarantool, sino en general sobre la computación en memoria</a></li>
<li><a href="../es414417/index.html">Eventos digitales en Moscú del 18 al 24 de junio.</a></li>
<li><a href="../es414419/index.html">ESET ha estado preparando el spyware InvisiMole desde 2013</a></li>
<li><a href="../es414423/index.html">Este día nos acercamos lo más posible ... Se lanzó una nueva versión de SBM 11.4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>