<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👗 🤪 🏌️ Validierung komplexer Reaktionsformen. Teil 1 👩🏿‍🏭 ✏️ 👂🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Zuerst müssen Sie die React-Validation-Boo- Komponente installieren. Ich gehe davon aus, dass Sie mit React vertraut sind und wissen, wie man sie konf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Validierung komplexer Reaktionsformen. Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430312/"> Zuerst müssen Sie die <b>React-Validation-Boo-</b> Komponente installieren. Ich <b>gehe</b> davon aus, dass Sie mit React vertraut sind und wissen, wie man sie konfiguriert. <br><br>  <b>npm install reagiere-validierung-boo</b> <br><br>  Um nicht viel zu reden, werde ich sofort ein kleines Codebeispiel geben. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, {Component} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {connect, Form, Input, logger} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-validation-boo'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ sendForm = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> { event.preventDefault(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.isValid()) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'       '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.getValues()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'   '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.getErrors()); } }; getError = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.hasError(name) ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{this.props.vBoo.getError(name)}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> : <span class="hljs-string"><span class="hljs-string">''</span></span>; }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Form</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">connect</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.props.vBoo.connect}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> {this.getError('name')} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.sendForm}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.vBoo.isValid() ? ' ': ' !!!'} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Form</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> } } export default connect({ rules: () =&gt; ( [ ['name', 'required'], ] ), middleware: logger })(MyForm);</span></span></code> </pre> <br><a name="habracut"></a><br>  Lassen Sie uns diesen Code analysieren. <br><br>  Beginnen wir mit der <b>Verbindungsfunktion</b> , wir übergeben unsere Validierungsregeln und andere zusätzliche Parameter an sie.  Durch Aufrufen dieser Methode erhalten wir eine neue Funktion, in der wir unsere Komponente ( <b>MyForm</b> ) übergeben, damit sie <b>die</b> erforderlichen Methoden für die Arbeit mit der Formularvalidierung in <b>Requisiten erhält</b> . <br><br>  In der <b>Renderfunktion</b> unserer Komponente geben wir die <b>Formularkomponente zurück</b> , die wir mit den Validierungsregeln <b>verbinden. Connect = {this.props.connect}</b> .  Dies ist ein notwendiger Entwurf, damit <b>Form</b> weiß, wie verschachtelte Komponenten validiert werden. <br>  <b>&lt;Input type = "text" name = "name" /&gt;</b> Das Eingabefeld, das wir überprüfen werden, hat die Überprüfungsregeln übergeben, um eine <b>Verbindung</b> in der <b>Regeleigenschaft</b> herzustellen.  In unserem Fall sollte dieser <b>Name</b> nicht leer sein ( <b>erforderlich</b> ). <br><br>  Wir haben auch <b>Middleware: Logger übergeben</b> , <b>um</b> eine <b>Verbindung</b> <b>herzustellen</b> , um zu sehen, wie die Validierung in der Konsole funktioniert. <br><br>  In den <b>Requisiten</b> unserer Komponente haben wir eine Reihe von Funktionen: <br><br><ol><li>  <b>vBoo.isValid ()</b> - gibt <b>true</b> zurück <b>,</b> wenn alle Eingabekomponenten validiert wurden </li><li>  <b>vBoo.hasError (name)</b> - gibt <b>true</b> zurück <b>,</b> wenn die Komponente mit der Eigenschaft <b>name</b> ungültig ist </li><li>  <b>vBoo.getError (Name)</b> - <b>Gibt</b> für eine Komponente mit der Eigenschaft <b>name</b> den Fehlertext zurück </li></ol><br>  Jetzt werden wir es schrittweise komplizieren. Zuerst übergeben wir die Sprache für die <b>Verbindung</b> , damit wir die Validierungsregeln je nach Sprache ändern und zusätzliche Felder und Validierungsregeln hinzufügen können. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, {Component} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {connect, Form, Input, InputCheckbox} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-validation-boo'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ sendForm = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> { event.preventDefault(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.isValid()) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'       '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.getValues()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'   '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.getErrors()); } }; getError = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.hasError(name) ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{this.props.vBoo.getError(name)}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> : <span class="hljs-string"><span class="hljs-string">''</span></span>; }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &lt;Form connect={this.props.vBoo.connect}&gt; &lt;div&gt; &lt;label&gt;{this.props.vBoo.getLabel('name')}:&lt;/label&gt; &lt;Input type="text" name="name" /&gt; {this.getError('name')} &lt;/div&gt; &lt;div&gt; &lt;label&gt;{this.props.vBoo.getLabel('email')}:&lt;/label&gt; &lt;Input type="text" name="email" value="default@mail.ru" /&gt; {this.getError('email')} &lt;/div&gt; &lt;div&gt; &lt;label&gt;{this.props.vBoo.getLabel('remember')}:&lt;/label&gt; &lt;InputCheckbox name="remember" value="yes" /&gt; {this.getError('remember')} &lt;/div&gt; &lt;button onClick={this.sendForm}&gt; {this.props.vBoo.isValid() ? ' ': ' !!!'} &lt;/button&gt; &lt;/Form&gt; } } export default connect({ rules: (lang) =&gt; { let rules = [ [ ['name', 'email'], 'required', { error: '%name%    ' } ], ['email', 'email'] ]; rules.push(['remember', lang === 'ru' ? 'required': 'valid']); return rules; }, labels: (lang) =&gt; ({ name: '', email: ' ', remember: '' }), lang: 'ru' })(MyForm);</code> </pre><br>  In diesem Beispiel muss das Kontrollkästchen <b>Merken</b> in Russisch <b>erforderlich</b> installiert sein, in anderen ist es jedoch immer gültig. <br><br>  Wir haben auch die Funktionsbezeichnungen <b>(lang)</b> zum <b>Verbinden übergeben</b> , die den Namen der Felder in lesbarer Form zurückgeben. <br><br>  In den <b>Requisiten</b> Ihrer Komponente gibt es eine <b>getLabel-</b> Funktion <b>(Name)</b> , die den an die <b>Labels-</b> Funktion übergebenen Wert zurückgibt. Wenn kein solcher Wert vorhanden ist, wird der <b>Name zurückgegeben</b> . <br><br><h3>  VBoo-Kernkomponenten </h3><br>  <b>Form</b> , <b>Input</b> , <b>InputRadio</b> , <b>InputCheckbox</b> , <b>Select</b> , <b>Textarea</b> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, {Component} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {connect, Form, Input, Select, InputRadio, InputCheckbox, Textarea} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-validation-boo'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ sendForm = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> { event.preventDefault(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.isValid()) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'       '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.getValues()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'   '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.getErrors()); } }; getError = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.hasError(name) ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{this.props.vBoo.getError(name)}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> : <span class="hljs-string"><span class="hljs-string">''</span></span>; }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &lt;Form connect={this.props.vBoo.connect}&gt; &lt;div&gt; &lt;label&gt;{this.props.vBoo.getLabel('name')}:&lt;/label&gt; &lt;Input type="text" name="name" /&gt; {this.getError('name')} &lt;/div&gt; &lt;div&gt; &lt;label&gt;{this.props.vBoo.getLabel('email')}:&lt;/label&gt; &lt;Input type="text" name="email" value="default@mail.ru" /&gt; {this.getError('email')} &lt;/div&gt; &lt;div&gt; &lt;label&gt;{this.props.vBoo.getLabel('gender')}:&lt;/label&gt; &lt;Select name="gender"&gt; &lt;option disabled&gt; &lt;/option&gt; &lt;option value="1"&gt;&lt;/option&gt; &lt;option value="2"&gt;&lt;/option&gt; &lt;/Select&gt; {this.getError('gender')} &lt;/div&gt; &lt;div&gt; &lt;div&gt;{this.props.vBoo.getLabel('familyStatus')}:&lt;/div&gt; &lt;div&gt; &lt;InputRadio name="familyStatus" value="1" checked /&gt; &lt;label&gt;&lt;/label&gt; &lt;/div&gt; &lt;div&gt; &lt;InputRadio name="familyStatus" value="2" /&gt; &lt;label&gt;&lt;/label&gt; &lt;/div&gt; &lt;div&gt; &lt;InputRadio name="familyStatus" value="3" /&gt; &lt;label&gt;&lt;/label&gt; &lt;/div&gt; {this.getError('familyStatus')} &lt;/div&gt; &lt;div&gt; &lt;label&gt;{this.props.vBoo.getLabel('comment')}:&lt;/label&gt; &lt;Textarea name="comment"&gt;&lt;/Textarea&gt; {this.getError('comment')} &lt;/div&gt; &lt;div&gt; &lt;label&gt;{this.props.vBoo.getLabel('remember')}:&lt;/label&gt; &lt;InputCheckbox name="remember" value="yes" /&gt; {this.getError('remember')} &lt;/div&gt; &lt;button onClick={this.sendForm}&gt; {this.props.vBoo.isValid() ? ' ': ' !!!'} &lt;/button&gt; &lt;/Form&gt; } } export default connect({ rules: () =&gt; ([ [ ['name', 'email'], 'required', { error: '%name%    ' } ], ['email', 'email'], [['gender', 'familyStatus', 'comment', 'remember'], 'valid'] ]), labels: () =&gt; ({ name: '', email: ' ', gender: '', familyStatus: ' ', comment: '', remember: '' }), lang: 'ru' })(MyForm);</code> </pre><br><h3>  Validierungsregeln </h3><br>  Schauen wir uns an, wie wir unsere eigenen Validierungsregeln schreiben. <br>  Um eine Regel zu schreiben, müssen Sie eine Klasse erstellen, die von der <b>Validator-</b> Klasse geerbt wird. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {validator} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-validation-boo'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">myValidator</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">validator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * name -  ,   label    * value -    * params -     3-    (rules) */</span></span> validate(name, value, params) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> lang = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getLang(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> pattern = <span class="hljs-regexp"><span class="hljs-regexp">/^\d+$/</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!pattern.test(value)) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> error = params.error || <span class="hljs-string"><span class="hljs-string">'   %name%   %value%'</span></span>; error = error.replace(<span class="hljs-string"><span class="hljs-string">'%name%'</span></span>, name); error = error.replace(<span class="hljs-string"><span class="hljs-string">'%value%'</span></span>, value); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addError(error); } } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> myValidator;</code> </pre><br>  Verbinden Sie nun unseren Validator mit dem Formular. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> myValidator <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'path/myValidator'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... export default connect({ rules: () =&gt; ([ [ 'name', 'required', { error: '%name%    ' } ], [ 'name', 'myValidator', { error: '   params.error' } ] ]), labels: () =&gt; ({ name: '' }), validators: { myValidator }, lang: 'ru' })(MyForm);</span></span></code> </pre><br>  Um nicht jedes Mal alle Ihre Validierungsregeln zu registrieren, erstellen Sie eine separate Datei, in der sie registriert werden, und verbinden Sie die <b>Validatoren: "Importieren" der Dateivalidierung "</b> .  Und wenn es spezielle Regeln für dieses Formular gibt, dann <b>Validatoren: Object.assign ({}, `Import 'File-Validation``, {...})</b> <br><br><h3>  Szenarien </h3><br>  Betrachten Sie die Fälle, in denen wir die Validierungsregeln abhängig von den im Formular ausgeführten Aktionen ändern müssen. <br><br>  Standardmäßig haben wir ein Skript namens <b>default</b> . In den Regeln können wir angeben, unter welchem ​​Szenario diese Validierung durchgeführt werden soll. <br><br>  Wenn kein Skript angegeben ist, wird die Validierung für alle Szenarien durchgeführt. <br><br><pre> <code class="javascript hljs">rules = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ([ [ <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'required'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-string"><span class="hljs-string">'%name%    '</span></span> } ], [ <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'myValidator'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">scenario</span></span>: [<span class="hljs-string"><span class="hljs-string">'default'</span></span>, <span class="hljs-string"><span class="hljs-string">'scenario1'</span></span>] } ], [ <span class="hljs-string"><span class="hljs-string">'email'</span></span>, <span class="hljs-string"><span class="hljs-string">'email'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">scenario</span></span>: <span class="hljs-string"><span class="hljs-string">'scenario1'</span></span> } ] ])</code> </pre><br>  Die Funktion wird über die <b>Requisiteneigenschaft</b> unserer Komponente übergeben: <br><br><ol><li>  <b>vBoo.setScenario (Szenario)</b> - <b>Legt</b> das Szenarioskript fest. Es kann entweder eine Zeichenfolge oder ein Array sein, wenn mehrere Skripte gleichzeitig aktiv sind </li><li>  <b>vBoo.getScenario ()</b> - <b>Gibt</b> das aktuelle Skript oder Array von Skripten zurück </li><li>  <b>vBoo.hasScenario (Name)</b> - ob dieses Skript jetzt installiert ist, <b>Name</b> Zeichenfolge </li></ol><br>  <b>Fügen</b> wir in unserem Formular ein <b>Szenarioobjekt hinzu</b> , in dem alle möglichen Skripte gespeichert werden. <b>Richtig</b> , <b>das</b> Skript ist aktiv, <b>falsch ist</b> nicht. <br><br>  <b>Sowie</b> Funktionen <b>addScenaries</b> und <b>deleteScenaries</b> , mit denen Skripte hinzugefügt und entfernt werden. <br><br>  Wenn wir "Zusammenleben" oder "Ehe" ausgewählt haben, fügen wir ein Kommentarfeld hinzu, und dieses Feld sollte natürlich nur in diesem Fall, dem <b>Szenario-verheirateten Szenario</b> , validiert <b>werden</b> . <br><br>  Wenn das Kontrollkästchen "Erweitert" aktiviert ist, fügen wir zusätzliche Felder hinzu, die erforderlich sind, das Skript " <b>Szenario-Addition</b> ". <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, {Component} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {connect, Form, Input, Select, InputRadio, InputCheckbox, Textarea} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-validation-boo'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scenaries = { <span class="hljs-string"><span class="hljs-string">'scenario-married'</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'scenario-addition'</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } changeScenaries(addScenaries = [], deleteScenaries = []) { addScenaries.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scenaries[item] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>); deleteScenaries.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scenaries[item] = <span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> scenario = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scenaries) .reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">result, item</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scenaries[item]? result.concat(item): result, []); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.setScenario(scenario); } addScenaries = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">m = []</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.changeScenaries(m, []); deleteScenaries = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">m = []</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.changeScenaries([], m); sendForm = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> { event.preventDefault(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.isValid()) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'       '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.getValues()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'   '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.getErrors()); } }; getError = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.hasError(name) ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{this.props.vBoo.getError(name)}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> : <span class="hljs-string"><span class="hljs-string">''</span></span>; }; changeFamilyStatus = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> val = event.target.value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(val !== <span class="hljs-string"><span class="hljs-string">'1'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addScenaries([<span class="hljs-string"><span class="hljs-string">'scenario-married'</span></span>]) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.deleteScenaries([<span class="hljs-string"><span class="hljs-string">'scenario-married'</span></span>]); } }; changeAddition = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> check = event.target.checked; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(check) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addScenaries([<span class="hljs-string"><span class="hljs-string">'scenario-addition'</span></span>]) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.deleteScenaries([<span class="hljs-string"><span class="hljs-string">'scenario-addition'</span></span>]); } }; getCommentContent() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.vBoo.hasScenario(<span class="hljs-string"><span class="hljs-string">'scenario-married'</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;div key=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"comment-content"</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; &lt;label&gt;{</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.props.vBoo.getLabel(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'comment'</span></span></span></span></span><span class="hljs-function">)}:&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Textarea</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">comment</span></span></span><span class="hljs-function">"&gt;&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Textarea</span></span></span><span class="hljs-function">&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'comment'</span></span></span></span></span><span class="hljs-function">)} &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; ); } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">return</span></span></span><span class="hljs-function"> ''; } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getAdditionContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">if</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.props.vBoo.hasScenario(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'scenario-addition'</span></span></span></span></span><span class="hljs-function">)) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">return</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;div key=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"addition-content"</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; &lt;label&gt;{</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.props.vBoo.getLabel(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'place'</span></span></span></span></span><span class="hljs-function">)}:&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Input</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">place</span></span></span><span class="hljs-function">" /&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'place'</span></span></span></span></span><span class="hljs-function">)} &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; ); } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">return</span></span></span><span class="hljs-function"> ''; } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">render</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">return</span></span></span><span class="hljs-function"> &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Form</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connect</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vBoo</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connect</span></span></span><span class="hljs-function">}&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt;{</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vBoo</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getLabel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'name'</span></span></span></span></span><span class="hljs-function">)}:&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Input</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">" /&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'name'</span></span></span></span></span><span class="hljs-function">)} &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt;{</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vBoo</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getLabel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'email'</span></span></span></span></span><span class="hljs-function">)}:&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Input</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">email</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">default</span></span></span><span class="hljs-function">@</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mail</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ru</span></span></span><span class="hljs-function">" /&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'email'</span></span></span></span></span><span class="hljs-function">)} &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt;{</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vBoo</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getLabel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'gender'</span></span></span></span></span><span class="hljs-function">)}:&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Select</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">gender</span></span></span><span class="hljs-function">"&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">option</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">disabled</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">option</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">option</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">="1"&gt;&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">option</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">option</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">="2"&gt;&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">option</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Select</span></span></span><span class="hljs-function">&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'gender'</span></span></span></span></span><span class="hljs-function">)} &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt;{</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vBoo</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getLabel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'familyStatus'</span></span></span></span></span><span class="hljs-function">)}:&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">InputRadio</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">familyStatus</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">="1" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">checked</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onChange</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">changeFamilyStatus</span></span></span><span class="hljs-function">} /&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt;&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">InputRadio</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">familyStatus</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">="2" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onChange</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">changeFamilyStatus</span></span></span><span class="hljs-function">} /&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt;&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">InputRadio</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">familyStatus</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">="3" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onChange</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">changeFamilyStatus</span></span></span><span class="hljs-function">} /&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt;&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'familyStatus'</span></span></span></span></span><span class="hljs-function">)} &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getCommentContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">} &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt;{</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vBoo</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getLabel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'addition'</span></span></span></span></span><span class="hljs-function">)}:&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">InputCheckbox</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">addition</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">yes</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onChange</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">changeAddition</span></span></span><span class="hljs-function">} /&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'addition'</span></span></span></span></span><span class="hljs-function">)} &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getAdditionContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">} &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">button</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onClick</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sendForm</span></span></span><span class="hljs-function">}&gt; {</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">vBoo</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">isValid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> ? ' ': ' !!!'} &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">button</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Form</span></span></span><span class="hljs-function">&gt; } } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">export</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">default</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ rules: (</span></span></span><span class="hljs-function">) =&gt;</span></span> ([ [ [<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'gender'</span></span>, <span class="hljs-string"><span class="hljs-string">'familyStatus'</span></span>, <span class="hljs-string"><span class="hljs-string">'email'</span></span>], <span class="hljs-string"><span class="hljs-string">'required'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-string"><span class="hljs-string">'%name%    '</span></span> } ], [<span class="hljs-string"><span class="hljs-string">'email'</span></span>, <span class="hljs-string"><span class="hljs-string">'email'</span></span>], [ <span class="hljs-string"><span class="hljs-string">'comment'</span></span>, <span class="hljs-string"><span class="hljs-string">'required'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">scenario</span></span>: <span class="hljs-string"><span class="hljs-string">'scenario-married'</span></span> } ], [<span class="hljs-string"><span class="hljs-string">'addition'</span></span>, <span class="hljs-string"><span class="hljs-string">'valid'</span></span>], [ <span class="hljs-string"><span class="hljs-string">'place'</span></span>, <span class="hljs-string"><span class="hljs-string">'required'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">scenario</span></span>: <span class="hljs-string"><span class="hljs-string">'scenario-addition'</span></span> } ], ]), <span class="hljs-attr"><span class="hljs-attr">labels</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">email</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-attr"><span class="hljs-attr">gender</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">familyStatus</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-attr"><span class="hljs-attr">comment</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">addition</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">place</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }), <span class="hljs-attr"><span class="hljs-attr">lang</span></span>: <span class="hljs-string"><span class="hljs-string">'ru'</span></span> })(MyForm);</code> </pre><br>  Um den Artikel nicht sehr groß zu machen, werde ich mit dem nächsten fortfahren, in dem ich schreibe, wie ich meine Komponenten (z. B. einen Kalender oder eine Eingabesuche) erstelle und validiere, wie ich sie mit Redux verknüpfe und mehr. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430312/">https://habr.com/ru/post/de430312/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430300/index.html">Microservices on Go mit dem Go-Kit: Einführung</a></li>
<li><a href="../de430302/index.html">Eine Einführung in ptrace oder Code Injection in sshd zum Spaß</a></li>
<li><a href="../de430304/index.html">Ein wunderbarer Außenposten im Orbit</a></li>
<li><a href="../de430306/index.html">Der erste Tunnel der Boring Company wurde von Ilona Mask gebohrt</a></li>
<li><a href="../de430308/index.html">Python-Interna. Ostereier</a></li>
<li><a href="../de430314/index.html">Ein weiterer Telegramm-Bot oder eine Dating-Bot-Implementierung</a></li>
<li><a href="../de430316/index.html">Baue deinen Panzer</a></li>
<li><a href="../de430318/index.html">LVEE - die informellste und aufrichtigste IT-Partei</a></li>
<li><a href="../de430320/index.html">Neuronales Netz lehrte, Fingerabdrücke zu fälschen</a></li>
<li><a href="../de430322/index.html">Wie wähle ich ein System für die Implementierung im Händlernetz aus?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>