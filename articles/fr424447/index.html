<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíπ üë®üèæ‚Äçüöí üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë© Lisp parfum√© avec Pascal ou le langage de programmation 8501st üå¶Ô∏è üï¥üèº üëèüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelque temps (environ trois ans), j'ai d√©cid√© de lire un manuel sur Lisp. Sans but pr√©cis, juste pour le d√©veloppement g√©n√©ral et la capacit√© ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lisp parfum√© avec Pascal ou le langage de programmation 8501st</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424447/">  Il y a quelque temps (environ trois ans), j'ai d√©cid√© de lire un manuel sur Lisp.  Sans but pr√©cis, juste pour le d√©veloppement g√©n√©ral et la capacit√© de choquer les interlocuteurs avec de l'exotisme (une fois que cela semble, √ßa a m√™me fonctionn√©). <br><br>  Mais en y regardant de plus pr√®s, Lisp s'est av√©r√© √™tre vraiment puissant, flexible et, curieusement, utile dans la vie quotidienne.  Toutes les t√¢ches d'automatisation mineures ont rapidement migr√© vers des scripts en Lisp, et il y avait √©galement des possibilit√©s d'automatisation de t√¢ches plus complexes. <br><br>  Il convient de noter ici que par ¬´capacit√© d'automatisation¬ª, je veux dire une situation o√π le temps total pour √©crire et d√©boguer un programme est inf√©rieur au temps pass√© √† r√©soudre manuellement la m√™me t√¢che. <br><br>  Paul Graham a √©crit plus d'un article et m√™me un livre sur les avantages de Lisp.  Au moment d'√©crire ces lignes, Lisp est class√© 33√®me dans le classement TOIBE (trois fois mort que Delphi mort).  La question se pose: pourquoi la langue est-elle si petite si elle est si pratique?  Environ deux ans d'utilisation ont donn√© quelques indications sur les raisons. <br><a name="habracut"></a><br><h3>  Inconv√©nients </h3><br>  <i>1. Structures de donn√©es partag√©es</i> <br>  Un concept qui vous permet d'optimiser des programmes fonctionnels, mais lourd d'erreurs subtiles en imp√©ratif.  La possibilit√© de dommages accidentels √† une structure de donn√©es superflue lorsqu'une variable qui n'a pas de connexion visible avec la structure n√©cessite que le programmeur surveille constamment ce qui se passe dans les coulisses et connaisse l'impl√©mentation interne de chaque fonction utilis√©e (syst√®me et utilisateur).  La chose la plus √©tonnante est la possibilit√© d'endommager le corps d'une fonction en modifiant sa valeur de retour. <br><br>  <i>2. Manque d'encapsulation</i> <br>  Bien que le concept de package existe, il n'a rien √† voir avec le <b>package</b> dans Ada ou l' <b>unit√©</b> dans Delphi.  Tout code peut ajouter n'importe quoi √† n'importe quel package (sauf ceux du syst√®me).  Tout code peut extraire n'importe quoi de n'importe quel package en utilisant l'op√©rateur <b>::</b> . <br><br>  <i>3. Abr√©viations al√©atoires</i> <br>  Quelle est la diff√©rence entre MAPCAN et MAPCON?  Pourquoi dans SETQ, la derni√®re lettre Q?  Compte tenu de l'√¢ge de la langue, vous pouvez comprendre les raisons de cet √©tat de fait, mais je veux que la langue soit un peu plus propre. <br><br>  <i>4. Multithreading</i> <br>  Cet inconv√©nient est indirectement li√© √† Lisp et concerne principalement l'impl√©mentation que j'utilise - SteelBank Common Lisp.  Common Lisp ne prend pas en charge le multithreading.  Une tentative d'utilisation de l'impl√©mentation fournie par SBCL a √©chou√©. <br><br>  Il est dommage de refuser un outil aussi pratique, mais l'insatisfaction s'accumule progressivement. <br><br><h3>  Rechercher une solution </h3><br>  Vous pouvez d'abord aller sur Wikipedia sur la page Lisp.  Inspectez la section "Dialectes".  Lisez une br√®ve introduction √† chacun.  Et r√©alisez que le go√ªt et la couleur de tous les marqueurs sont diff√©rents. <br><blockquote>  Si vous voulez faire quelque chose, vous devez le faire vous-m√™me <br>  - Jean Baptiste Emmanuel Sorg </blockquote>  Essayons de cr√©er notre propre Lisp correct en y ajoutant un peu d'Ada, beaucoup de Delphi et une goutte d'Oberon.  Nous appelons le m√©lange r√©sultant Fox. <br><br><h3>  Concepts de base </h3><br>  <i>1. Pas de pointeurs</i> <br>  Dans la lutte contre PROBLEM-1, toutes les op√©rations doivent √™tre effectu√©es en copiant les valeurs.  Par le type de structure de donn√©es dans le code ou lors de l'impression, toutes ses propri√©t√©s, connexions externes et internes doivent √™tre enti√®rement visibles. <br><br>  <i>2. Ajouter des modules</i> <br>  Dans le cadre de la lutte contre le probl√®me 2, nous importons des <b>packages</b> , <b>avec</b> et <b>utilisons des</b> d√©clarations d'Ada.  Dans le processus, nous rejetons le sch√©ma d'importation / d'observation trop complexe pour les symboles Lisp. <br><pre><code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">package</span></span> - (  ) () ())</code> </pre> <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">with</span></span> -) <span class="hljs-comment"><span class="hljs-comment">;  ¬´-.lisya¬ª   </span></span></code> </pre> <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">use</span></span> -) <span class="hljs-comment"><span class="hljs-comment">;,      </span></span></code> </pre> <br><br>  <i>3. Moins d'abr√©viations</i> <br>  Les caract√®res les plus courants et les plus courants seront toujours abr√©g√©s, mais surtout les plus √©vidents: <b>const</b> , <b>var</b> .  Fonction de sortie format√©e - FMT n√©cessite une r√©duction, car elle se trouve souvent √† l'int√©rieur des expressions.  <b>Elt</b> - prenant un √©l√©ment - a fui de Common Lisp et a pris racine, bien qu'il ne soit pas n√©cessaire de le r√©duire. <br><br>  <i>4. Identifiants insensibles √† la casse</i> <br>  Je pense que la langue (et le syst√®me de fichiers) corrects {$ HOLYWAR +} devrait √™tre insensible √† la casse {$ HOLYWAR-} afin de ne pas lui faire une fois de plus la cervelle. <br><br>  <i>5. Facilit√© d'utilisation avec la disposition du clavier russe</i> <br>  La syntaxe Lisi √©vite de toutes les mani√®res possibles l'utilisation de caract√®res qui ne sont pas disponibles dans l'une des mises en page.  Pas d'accolades carr√©es ou boucl√©es.  Non #, ~, &amp;, &lt;,&gt;, |.  Lors de la lecture de litt√©raux num√©riques, une virgule et un point sont consid√©r√©s comme des s√©parateurs d√©cimaux. <br><br>  <i>6. Alphabet √©tendu</i> <br>  Une des bonnes choses √† propos de SBCL √©tait UTF-8 dans le code.  La possibilit√© de d√©clarer les constantes BEAR, VODKA et BALALAYKA simplifie grandement l'√©criture du code d'application.  La possibilit√© d'ins√©rer Œ©, Œ® et Œ£ rend les formules dans le code plus visuelles.  Bien qu'il soit th√©oriquement possible d'utiliser des caract√®res Unicode, il est difficile de garantir l'exactitude du travail avec eux (plut√¥t paresse que difficile).  Nous nous limitons au cyrillique, au latin et au grec. <br><br>  <i>7. Litt√©raux num√©riques</i> <br>  C'est l'extension linguistique la plus utile pour moi. <br><br><pre> <code class="lisp hljs"><span class="hljs-number"><span class="hljs-number">10</span></span>_000 <span class="hljs-comment"><span class="hljs-comment">;    10k ;       10 ;       10¬∞ 10pi 10deg 10 ;   10œÄ ; pi     10+i10 ;   10+10 ;    1010deg ;         </span></span></code> </pre> <br>  Cette derni√®re option me semble la plus peu esth√©tique, mais elle est la plus populaire. <br><br>  <i>8. Cycles</i> <br>  Les cycles en Lisp sont non standard et assez d√©sordonn√©s.  Simplifiez √† l'ensemble standard minimum. <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">for</span></span> i <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-comment"><span class="hljs-comment">;   i = 0..4 ) (for i 1..6 ;   i = 1..5 ) (for i  ;     ;      ) (for i (subseq  2) ;           )</span></span></code> </pre> <br>  La variable de boucle n'est pas visible √† l'ext√©rieur. <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">while</span></span>  )</code> </pre> <br>  <i>9. GOTO</i> <br>  Pas un op√©rateur tr√®s n√©cessaire, mais sans lui, il est difficile de d√©montrer la n√©gligence des r√®gles de programmation structurelle. <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">block</span></span> : (<span class="hljs-name"><span class="hljs-name">goto</span></span> :)) <span class="hljs-comment"><span class="hljs-comment">;    </span></span></code> </pre> <br>  <i>10. Unification du champ d'application</i> <br>  Il existe deux types diff√©rents de port√©e dans Lisp: TOPLEVEL et local.  En cons√©quence, il existe deux fa√ßons diff√©rentes de d√©clarer des variables. <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">defvar</span></span> A <span class="hljs-number"><span class="hljs-number">1</span></span>) (<span class="hljs-name"><span class="hljs-name">let</span></span> ((<span class="hljs-name"><span class="hljs-name">a</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>)) ‚Ä¶)</code> </pre> <br>  Dans Fox, il n'y a qu'une seule m√©thode utilis√©e √† la fois au niveau sup√©rieur du script et dans les zones locales, y compris les packages. <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">var</span></span> A <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  Si vous souhaitez limiter la port√©e, utilisez l'op√©rateur <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">block</span></span> (<span class="hljs-name"><span class="hljs-name">var</span></span> A <span class="hljs-number"><span class="hljs-number">1</span></span>) (<span class="hljs-name"><span class="hljs-name">set</span></span> A <span class="hljs-number"><span class="hljs-number">2</span></span>) (<span class="hljs-name"><span class="hljs-name">fmt</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> A))</code> </pre> <br>  Le corps de la boucle est contenu dans l'instruction BLOCK implicite (comme le corps de la fonction / proc√©dure).  Toutes les variables d√©clar√©es dans la boucle sont d√©truites √† la fin de l'it√©ration. <br><br>  <i>11. Caract√®res √† un seul emplacement</i> <br>  En Lisp, les fonctions sont des objets sp√©ciaux et sont stock√©es dans un emplacement de symbole sp√©cial.  Un seul caract√®re peut stocker simultan√©ment une variable, une fonction et une liste de propri√©t√©s.  Chez un renard, chaque personnage n'est associ√© qu'√† une seule signification. <br><br>  <i>12. ELT pratique</i> <br>  L'acc√®s typique √† un √©l√©ment de structure complexe en Lisp ressemble √† ceci <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">elt</span></span> (<span class="hljs-name"><span class="hljs-name">slot-value</span></span> (<span class="hljs-name"><span class="hljs-name">elt</span></span>  <span class="hljs-number"><span class="hljs-number">1</span></span>) '<span class="hljs-number"><span class="hljs-number">-2</span></span>) <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br>  Le Fox impl√©mente un op√©rateur ELT unifi√© qui donne acc√®s √† des √©l√©ments de tous types composites (listes, cha√Ænes, enregistrements, tableaux d'octets, tables de hachage). <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">elt</span></span>  <span class="hljs-number"><span class="hljs-number">1</span></span> \<span class="hljs-number"><span class="hljs-number">-2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br>  Des fonctionnalit√©s identiques peuvent √©galement √™tre obtenues avec une macro en Lisp <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">defmacro</span></span> field (<span class="hljs-name"><span class="hljs-name">object</span></span> <span class="hljs-symbol"><span class="hljs-symbol">&amp;rest</span></span> f) <span class="hljs-string"><span class="hljs-string">"       . (field *object* 0 :keyword symbol \"string\")       .        plist.   ( )    .        ."</span></span> (<span class="hljs-name"><span class="hljs-name">if</span></span> f (<span class="hljs-name"><span class="hljs-name">symbol-macrolet</span></span> ((<span class="hljs-name"><span class="hljs-name">f0</span></span> (<span class="hljs-name"><span class="hljs-name">elt</span></span> f <span class="hljs-number"><span class="hljs-number">0</span></span>))(<span class="hljs-name"><span class="hljs-name">rest</span></span> (<span class="hljs-name"><span class="hljs-name">subseq</span></span> f <span class="hljs-number"><span class="hljs-number">1</span></span>))) (<span class="hljs-name"><span class="hljs-name">cond</span></span> ((<span class="hljs-name"><span class="hljs-name">numberp</span></span> f0) `(field (elt ,object ,f0) ,@rest)) ((<span class="hljs-name"><span class="hljs-name">keywordp</span></span> f0) `(field (getf ,object ,f0) ,@rest)) ((<span class="hljs-name"><span class="hljs-name">stringp</span></span> f0) `(field (cdr (assoc ,f0 ,object :test 'equal)) ,@rest)) ((<span class="hljs-name"><span class="hljs-name">and</span></span> (<span class="hljs-name"><span class="hljs-name">listp</span></span> f0) (<span class="hljs-name"><span class="hljs-name">=</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> (<span class="hljs-name"><span class="hljs-name">length</span></span> f0))) `(field (,(car f0) ,(cadr f0) ,object) ,@rest)) ((<span class="hljs-name"><span class="hljs-name">symbolp</span></span> f0) `(field (,f0 ,object) ,@rest)) (<span class="hljs-name"><span class="hljs-name">t</span></span> `(error <span class="hljs-string"><span class="hljs-string">"   "</span></span>)))) object))</code> </pre> <br>  <i>13. Restriction des modes de transfert des param√®tres des sous-programmes</i> <br>  Il existe au moins cinq modes de transfert de param√®tres en Lisp: obligatoire, <i>&amp; facultatif</i> , <i>&amp; reste</i> , <i>&amp; cl√©</i> , <i>&amp; entier</i> et leur combinaison arbitraire est autoris√©e.  En fait, la plupart des combinaisons donnent des effets √©tranges. <br>  Dans Fox, il est autoris√© d'utiliser uniquement une combinaison des param√®tres requis et l'un des modes suivants parmi lesquels choisir <i>: cl√©</i> <i>,: facultatif ,:</i> <i>drapeau</i> <i>,:</i> <i>repos</i> . <br><br>  <i>14. Multithreading</i> <br>  Afin de simplifier au maximum l'√©criture de programmes multithreads, le concept de s√©paration de m√©moire a √©t√© adopt√©.  Lorsqu'un thread est g√©n√©r√©, toutes les variables disponibles pour le nouveau thread sont copi√©es.  Toutes les r√©f√©rences √† ces variables sont remplac√©es par des r√©f√©rences √† des copies.  Le transfert d'informations entre les flux n'est possible que via des objets prot√©g√©s ou via le r√©sultat renvoy√© par le flux une fois termin√©. <br><br>  Les objets prot√©g√©s contiennent toujours des sections critiques pour assurer les op√©rations atomiques.  La connexion aux sections critiques est automatique - il n'y a pas d'op√©rateurs s√©par√©s pour cela dans la langue.  Les objets prot√©g√©s incluent: file d'attente de messages, console et descripteurs de fichiers. <br><br>  La cr√©ation de threads est possible avec une fonction d'affichage multi-thread <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">map-th</span></span> (<span class="hljs-name"><span class="hljs-name">function</span></span> (<span class="hljs-name"><span class="hljs-name">x</span></span>) ‚Ä¶) --)</code> </pre> <br>  Map-th d√©marre automatiquement le nombre de threads √©gal au nombre de processeurs du syst√®me (ou deux fois plus si vous avez Intel √† l'int√©rieur).  Dans un appel r√©cursif, les appels de mappage suivants fonctionnent dans un seul thread. <br><br>  En outre, il existe une fonction de thread int√©gr√©e qui ex√©cute une proc√©dure / fonction dans un thread s√©par√©. <br><br><pre> <code class="lisp hljs"><span class="hljs-comment"><span class="hljs-comment">;   (var  (thread --1)) (+ (--2) (wait ))</span></span></code> </pre> <br>  <i>15. Propret√© fonctionnelle dans le code imp√©ratif</i> <br>  Le Fox a des fonctions de programmation fonctionnelle et des proc√©dures proc√©durales.  Les routines d√©clar√©es √† l'aide du mot cl√© function sont soumises aux exigences de l'absence d'effets secondaires et de l'ind√©pendance du r√©sultat vis-√†-vis des facteurs externes. <br><br><h3>  Non r√©alis√© </h3><br>  Certaines fonctionnalit√©s int√©ressantes de Lisp n'ont pas √©t√© satisfaites en raison d'une faible priorit√©. <br><br>  <i>1. M√©thodes g√©n√©ralis√©es</i> <br>  Capacit√© √† surcharger les fonctions avec defgeneric / defmethod. <br><br>  <i>2. H√©ritage</i> <br><br>  <i>3. D√©bogueur int√©gr√©</i> <br>  Lorsqu'une exception se produit, l'interpr√©teur Lisp passe en mode d√©bogage. <br><br>  <i>4. UFFI</i> <br>  Interface pour connecter des modules √©crits dans d'autres langues. <br><br>  <i>5. BIGNUM</i> <br>  Prise en charge de la profondeur de bits arbitraire <br><br>  <b>Jet√©</b> <br><br>  Certaines fonctionnalit√©s de Lisp ont √©t√© consid√©r√©es et consid√©r√©es comme inutiles / nuisibles. <br><br>  <i>1. Combinaison guid√©e de m√©thodes</i> <br>  Lorsqu'une m√©thode est appel√©e pour une classe, une combinaison de m√©thodes parentes est effectu√©e et il est possible de modifier les r√®gles de combinaison.  Le comportement final de la m√©thode semble peu pr√©visible. <br><br>  <i>2. Red√©marre</i> <br>  Le gestionnaire d'exceptions peut apporter des modifications √† l'√©tat du programme et envoyer une commande de red√©marrage au code qui a g√©n√©r√© l'exception.  L'effet de l'application est similaire √† l'utilisation de l'op√©rateur GOTO pour passer d'une fonction √† l'autre. <br><br>  <i>3. Le r√©cit romain</i> <br>  Lisp prend en charge le syst√®me de num√©rotation, qui est obsol√®te peu de temps avant son apparition. <br><br><h3>  Utiliser </h3><br>  Voici quelques exemples de code simples. <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">function</span></span> crc8 (<span class="hljs-name"><span class="hljs-name">data</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:optional</span></span> seed) (<span class="hljs-name"><span class="hljs-name">var</span></span> result (<span class="hljs-name"><span class="hljs-name">if-nil</span></span> seed <span class="hljs-number"><span class="hljs-number">0</span></span>)) (<span class="hljs-name"><span class="hljs-name">var</span></span> s_data data) (<span class="hljs-name"><span class="hljs-name">for</span></span> bit <span class="hljs-number"><span class="hljs-number">8</span></span> (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">=</span></span> (<span class="hljs-name"><span class="hljs-name">bit-and</span></span> (<span class="hljs-name"><span class="hljs-name">bit-xor</span></span> result s_data) $<span class="hljs-number"><span class="hljs-number">01</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span>) (<span class="hljs-name"><span class="hljs-name">set</span></span> result (<span class="hljs-name"><span class="hljs-name">shift</span></span> result <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>)) (<span class="hljs-name"><span class="hljs-name">else</span></span> (<span class="hljs-name"><span class="hljs-name">set</span></span> result (<span class="hljs-name"><span class="hljs-name">bit-xor</span></span> result $<span class="hljs-number"><span class="hljs-number">18</span></span>)) (<span class="hljs-name"><span class="hljs-name">set</span></span> result (<span class="hljs-name"><span class="hljs-name">shift</span></span> result <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>)) (<span class="hljs-name"><span class="hljs-name">set</span></span> result (<span class="hljs-name"><span class="hljs-name">bit-or</span></span> result $<span class="hljs-number"><span class="hljs-number">80</span></span>)))) (<span class="hljs-name"><span class="hljs-name">set</span></span> s_data (<span class="hljs-name"><span class="hljs-name">shift</span></span> s_data <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>))) result)</code> </pre> <br><pre> <code class="lisp hljs"><span class="hljs-comment"><span class="hljs-comment">;     (map (function (x) (** x 2)) \(1 2 3))</span></span></code> </pre> <br><pre> <code class="lisp hljs"><span class="hljs-comment"><span class="hljs-comment">;   ,   qwe      (filter (function (x) (regexp:match x ¬´^qwe...¬ª)) -) ;   ,   ,    (filter-th (function (x) (regexp:match x ¬´^qwe...¬ª)) -)</span></span></code> </pre> <br><h3>  Impl√©mentation </h3><br>  L'interpr√©teur est √©crit en Delphi (FreePascal en mode compatibilit√©).  Il est construit dans Lazarus 1.6.2 et sup√©rieur, sous Windows et Linux 32 et 64 bits.  Parmi les d√©pendances externes, n√©cessite libmysql.dll.  Contient environ 15_000..20_000 lignes.  Il existe environ 200 fonctions int√©gr√©es √† des fins diverses (certaines sont surcharg√©es huit fois). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Stock√© ici</a> <br><br>  La prise en charge du typage dynamique est effectu√©e de mani√®re triviale - tous les types de donn√©es trait√©es sont repr√©sent√©s par les h√©ritiers de la m√™me classe TValue. <br><br>  Le type le plus important pour Lisp - la liste est, comme c'est la coutume dans Delphi, une classe contenant un tableau dynamique d'objets de type TValue.  Pour ce type, le m√©canisme CopyOnWrite est impl√©ment√©. <br><br>  La gestion de la m√©moire est automatique bas√©e sur le comptage des r√©f√©rences.  Pour les structures r√©cursives, tous les liens de la structure sont compt√©s simultan√©ment.  La lib√©ration de m√©moire d√©marre imm√©diatement lorsque les variables quittent la port√©e.  Il n'y a aucun m√©canisme pour le d√©marrage diff√©r√© du ramasse-miettes. <br><br>  La gestion des exceptions fonctionne sur un m√©canisme int√©gr√© √† Delphi.  Ainsi, les erreurs qui se produisent dans le code de l'interpr√©teur peuvent √™tre trait√©es par le code ex√©cutable sur le Fox. <br><br>  Chaque op√©rateur ou fonction Lisi int√©gr√©e est impl√©ment√©e en tant que m√©thode ou fonction dans le code d'interpr√©teur.  Le script est ex√©cut√© par appel mutuellement r√©cursif d'impl√©mentations.  Le code interpr√®te et le script ont une pile d'appels commune. <br><br>  Les variables de script sont stock√©es dans la m√©moire dynamique ind√©pendamment.  Chaque fonction d√©finie par l'utilisateur a sa propre pile pour stocker les r√©f√©rences de variables, ind√©pendamment de la pile de niveau sup√©rieur ou de la pile des fonctions parentes. <br><br>  La mise en ≈ìuvre de l'op√©rateur d'affectation (ensemble) pour les √©l√©ments structuraux est particuli√®rement difficile.  Le calcul direct du pointeur vers l'√©l√©ment requis entra√Æne le risque de suspendre les liens, car la syntaxe Lisi n'interdit pas de modifier la structure lors du calcul de l'√©l√©ment requis.  Comme solution de compromis, un ¬´pointeur de cha√Æne¬ª est impl√©ment√© - un objet contenant une r√©f√©rence √† une variable et un tableau d'indices num√©riques pour indiquer le chemin dans la structure.  Un tel pointeur est √©galement sensible au probl√®me des liens pendants, mais en cas de d√©faillance, il g√©n√®re un message d'erreur significatif. <br><br><h3>  Outils de d√©veloppement </h3><br>  <i>1. Console</i> <br><br>  <i>2. √âditeur de texte</i> <br>  √âquip√© de la coloration syntaxique et de la possibilit√© d'ex√©cuter un script modifiable en F9. <br><img src="https://habrastorage.org/webt/1c/q9/yo/1cq9yo4edbezhjgav_mjby393rs.png"><br><br><h3>  Conclusion </h3><br>  Dans l'√©tat actuel, le projet r√©sout les probl√®mes pour lesquels il a √©t√© con√ßu et ne n√©cessite pas de d√©veloppement actif suppl√©mentaire.  Bon nombre des imperfections pr√©sentes n'affectent pas significativement le travail. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424447/">https://habr.com/ru/post/fr424447/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr424435/index.html">Zoo de forage p√©trolier: mettre les choses en ordre</a></li>
<li><a href="../fr424437/index.html">Orme. Confortable et maladroit. Json.Encoder et Json.Decoder</a></li>
<li><a href="../fr424441/index.html">Nouveaut√©s du premier CTP de SQL Server 2019</a></li>
<li><a href="../fr424443/index.html">Vivaldi 2.0 en notre faveur</a></li>
<li><a href="../fr424445/index.html">La traduction par Neil Ford des microservices en tant qu'architecture √©volutive</a></li>
<li><a href="../fr424453/index.html">Apprenez OpenGL. Le√ßon 6.2 - Rendu bas√© sur la physique. Sources de lumi√®re analytiques</a></li>
<li><a href="../fr424455/index.html">Intel Optane - maintenant 1,5 t√©raoctets</a></li>
<li><a href="../fr424457/index.html">Mise √† niveau d'IDA Pro. Apprendre √† √©crire des chargeurs de d√©marrage en Python</a></li>
<li><a href="../fr424459/index.html">Success Story, ou DEV + DEVOPS + OPS</a></li>
<li><a href="../fr424461/index.html">Pourquoi apprendre des langues impopulaires. Exemple de communaut√© F #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>