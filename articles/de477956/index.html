<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüöí üíÜ üé∞ JavaScript in 3D: eine Einf√ºhrung in Three.js üî≤ üëêüèæ ‚úåÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo habr Ich pr√§sentiere Ihnen die √úbersetzung des Artikels "JavaScript in 3D: eine Einf√ºhrung in Three.js" von Bret Cameron. 

 Einleitung  
 Three...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript in 3D: eine Einf√ºhrung in Three.js</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477956/">  <i>Hallo habr</i>  <i>Ich pr√§sentiere Ihnen die √úbersetzung des <a href="https://medium.com/javascript-in-plain-english/javascript-in-3d-an-introduction-to-three-js-780f1e4a2e6d">Artikels</a> "JavaScript in 3D: eine Einf√ºhrung in Three.js" von Bret Cameron.</i> <br><br><h2>  Einleitung </h2> <br>  Three.js ist ein m√§chtiges Werkzeug.  Es ist hilfreich, 3D-Design in einem Browser mit akzeptabler Leistung zu verwenden.  Erste Schritte Three.js kann schwierig sein, insbesondere wenn Sie noch nie zuvor in die 3D-Programmierwelt eingetaucht sind. <br><br>  Ich habe einige grundlegende Erfahrungen mit der Unity- und C # -Spiel-Engine, aber dennoch sind viele der Konzepte f√ºr mich neu.  Ich bin zu dem Schluss gekommen, dass es f√ºr Anf√§ngerentwickler nur sehr wenige Ressourcen gibt, und habe mich daher entschlossen, diesen Artikel zu schreiben.  Darin werden die Grundelemente von Three.js Szenen von Polygonnetzen und Materialien √ºber Geometrie bis hin zu Ladern und vielem mehr betrachtet. <br><a name="habracut"></a><br>  Am Ende dieses Artikels erhalten Sie ein solides Verst√§ndnis der grundlegenden Aspekte, die erforderlich sind, um Ihrem zuk√ºnftigen Webprojekt eine zus√§tzliche Dimension hinzuzuf√ºgen. <br><br>  Drei Beispiele von <a href="https://threejs.org/examples/">Ben Houston</a> , <a href="https://threejs.org/examples/">Thomas Diewald</a> und <a href="https://threejs.org/examples/">StrykerDoesAnimation</a> . <br><br><h3>  Vektoren und Container - Grundbausteine </h3><br>  Oft gibt es zwei Hauptklassen in Three.js - <i>Vector3</i> und <i>Box3</i> .  Wenn Sie 3D noch nicht kennen, klingt dies vielleicht ein bisschen abstrakt, aber Sie werden sie √∂fter treffen. <br><br><h3>  Vector3 </h3><br>  Die grundlegendste 3D-Klasse mit drei Zahlen: <i>x, y und z</i> .  Zahlen sind die Koordinaten eines Punktes im 3D-Raum oder die Richtung und L√§nge.  Zum Beispiel: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Vector3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  Die meisten Konstruktoren in Three.js akzeptieren Objekte vom Typ <i>Vector3</i> als Eingabeargumente, z. B. <i>Box3</i> <br><br><h3>  Box3 </h3><br>  Diese Klasse repr√§sentiert Quader (3D-Container).  Seine Hauptaufgabe besteht darin, einen Container um andere Objekte zu erstellen - und das ist alles, der kleinste Quader, in den ein 3D-Objekt passt.  Jede <i>Box3 ist</i> um die <i>x-, y- und z-</i> Achse ausgerichtet <i>.</i>  Ein Beispiel zum Erstellen eines Containers mit <i>Vector3</i> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Vector3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Box3(vect);</code> </pre> <br>  Ein Beispiel zum Erstellen eines Containers um ein vorhandenes 3D-Objekt: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Box3(); box.setFromObject(object);</code> </pre> <br>  Sie k√∂nnen Grids ohne dieses fundierte Wissen erstellen. Sobald Sie jedoch mit der Entwicklung oder √Ñnderung Ihrer Modelle beginnen, sind diese Klassen auf jeden Fall hilfreich.  Jetzt werden wir uns von Abstraktionen zu sichtbareren Dingen entfernen. <br><br><h3>  Polygonnetz </h3><br>  In Three.js ist <i>Mesh</i> das wichtigste visuelle Element auf der B√ºhne.  Dies ist ein 3D-Objekt aus dreieckigen Rechtecken (Polygonnetz).  Es besteht aus zwei Objekten: <br>  <i>Geometrie</i> - bestimmt die Form, <i>Material</i> - bestimmt das Aussehen. <br><br>  Ihre Definitionen wirken m√∂glicherweise etwas verwirrend (z. B. enth√§lt die <i>Geometrieklasse</i> m√∂glicherweise Informationen zu Farben), aber der Hauptunterschied besteht genau darin. <br><br><h3>  Geometrie </h3><br>  Abh√§ngig von der gew√ºnschten Aufgabe k√∂nnen Sie die Geometrie in Three.js definieren oder eine andere aus einer Datei importieren. <br><br>  Mit Funktionen wie <i>THREE.TorusKnotGeometry</i> k√∂nnen wir komplexe Objekte mit einer einzigen Codezeile erstellen.  Wir werden bald darauf eingehen, aber zun√§chst √ºber einfachere Formen nachdenken. <br>  Die einfachste 3D-Figur, Quader oder Container, kann durch die Parameter <i>Breite</i> , <i>H√∂he</i> und <i>Tiefe</i> angegeben werden. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.BoxGeometry( <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/BretCameron/embed/preview/eYOxYZL" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  F√ºr eine Kugel ist der Wert der Parameter <i>radius</i> , <i>widthSegments</i> und <i>heightSegments minimal</i> .  Die letzten beiden Variablen geben an, mit wie vielen Dreiecken das Modell die Kugel darstellen soll: Je gr√∂√üer die Zahl, desto glatter wird sie. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SphereGeometry( <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/BretCameron/embed/preview/KKPJKgQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Wenn wir scharfe oder dreieckige Formen herstellen m√∂chten, k√∂nnen wir einen Kegel verwenden.  Seine Argumente sind eine Kombination der Argumente der beiden vorhergehenden Figuren.  Nachfolgend geben wir <i>Radius</i> , <i>WidthSegments</i> und <i>RadialSegments vor</i> . <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.ConeBufferGeometry( <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/BretCameron/embed/preview/MWgLWJB" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Dies ist nur ein Teil der h√§ufigsten Zahlen.  Three.js enth√§lt viele Formen, die in der Dokumentation zu finden sind.  In diesem Artikel werden weitere interessante Formulare vorgestellt, die auf der <i>TorusKnotGeometry-</i> Methode <i>basieren</i> . <br><br>  Warum sehen diese Formen genau so aus, wie sie aussehen?  Diese Frage w√ºrde den Rahmen dieses Artikels sprengen, aber ich rate Ihnen dringend, mit Parameterwerten zu experimentieren, da Sie mit einer Codezeile sehr interessante Formen erhalten k√∂nnen! <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.TorusKnotGeometry(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">1.3</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>);</code> </pre> <br>  <a href="https://codepen.io/BretCameron/pen/gOYqORg">https://codepen.io/BretCameron/pen/gOYqORg</a> <br><br><h3>  Material </h3><br>  Geometrie definiert die Form unserer 3D-Objekte, nicht jedoch deren Erscheinungsbild.  Um dies zu beheben, ben√∂tigen wir Materialien. <br><br>  Three.js bietet 10 Materialien an, von denen jedes seine eigenen Vorteile und anpassbaren Parameter hat.  Wir werden nur einen Teil der n√ºtzlichsten betrachten. <br><br><img src="https://habrastorage.org/webt/7o/1r/av/7o1rav-we2n9_hn6e74l-6ivo6q.png"><br><br><h4>  MeshNormalMaterial </h4><br>  <i>N√ºtzlich f√ºr den schnellen Start und Start.</i> <br><br>  Wir beginnen mit <i>MeshNormalMaterial</i> , dem mehrfarbigen Material, das wir in den obigen Beispielen verwendet haben.  Sie entspricht den normalen Vektoren im RGB-Bedienfeld, dh, die Position des Vektors im 3D-Raum wird anhand von Farben bestimmt. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshNormalMaterial();</code> </pre> <br>  Beachten Sie, dass Sie den CSS-Filter verwenden und die S√§ttigung √§ndern k√∂nnen, wenn Sie die Farbe des Materials √§ndern m√∂chten: <pre> <code class="javascript hljs"> filter: hue-rotate(<span class="hljs-number"><span class="hljs-number">90</span></span>deg) .</code> </pre> <br><br>  Meiner Erfahrung nach ist dieses Material f√ºr eine schnelle Schicht und den Start n√ºtzlicher.  F√ºr eine bessere Kontrolle Ihrer Objekte ist es besser, etwas anderes zu verwenden. <br><br><h4>  Meshbasismaterial </h4><br>  <i>N√ºtzlich, wenn nur das Skelett angezeigt wird.</i> <br><br>  Wenn Sie der Figur eine einzelne Farbe geben m√∂chten, k√∂nnen Sie <i>MeshBasicMaterial</i> nur verwenden, wenn keine Beleuchtung angewendet wird.  Ich fand es n√ºtzlich, dieses Material beim Rendern des Modellskeletts zu verwenden.  Um nur das Skelett zu zeichnen, m√ºssen Sie <i>{wireframe: true}</i> als Parameter √ºbergeben. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshBasicMaterial({ <span class="hljs-attr"><span class="hljs-attr">wireframe</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span> });</code> </pre> <br>  Der Hauptnachteil dieses Materials ist, dass Informationen √ºber die Tiefe des Materials vollst√§ndig verloren gehen.  Jedes Material hat die Option, nur das Skelett anzuzeigen, aber nur ein Material l√∂st das Problem der fehlenden Tiefe - <i>MeshDepthMaterial</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/BretCameron/embed/preview/ZEzwERw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Meshhambertmaterial </h4><br>  <i>N√ºtzlich f√ºr hohe Leistung bei geringer Genauigkeit.</i> <br><br>  Dies ist das erste Material, das Licht ber√ºcksichtigt, daher m√ºssen Sie unserer Szene etwas Licht hinzuf√ºgen.  Im folgenden Code f√ºgen wir Scheinwerfer mit einem gelben Farbton hinzu, um einen w√§rmeren Effekt zu erzielen. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> scene = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Scene(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> frontSpot = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SpotLight(<span class="hljs-number"><span class="hljs-number">0xeeeece</span></span>); frontSpot.position.set(<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>); scene.add(frontSpot); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> frontSpot2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SpotLight(<span class="hljs-number"><span class="hljs-number">0xddddce</span></span>); frontSpot2.position.set(<span class="hljs-number"><span class="hljs-number">-500</span></span>, <span class="hljs-number"><span class="hljs-number">-500</span></span>, <span class="hljs-number"><span class="hljs-number">-500</span></span>); scene.add(frontSpot2);</code> </pre> <br>  F√ºgen Sie nun Material f√ºr unsere Figur hinzu.  Da unsere Figur wie eine Dekoration ist, schlage ich vor, eine goldenere Farbe hinzuzuf√ºgen.  Ein weiterer <i>emittierender</i> Parameter ist die Farbe des Objekts, das vom Objekt selbst stammt (ohne Lichtquelle).  Oft funktioniert dies besser als dunkle Farbe - zum Beispiel als dunkle Graustufen, wie im folgenden Beispiel <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshLambertMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x111111</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/BretCameron/embed/preview/OJLdJGz" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Wie Sie im folgenden Beispiel sehen k√∂nnen, ist die Farbe mehr oder weniger korrekt, aber die Art und Weise, wie sie mit dem Licht interagiert, tr√§gt nicht zum Realismus bei.  Um dies zu beheben, m√ºssen Sie <i>MeshPhongMaterial</i> oder <i>MeshStandardMaterial verwenden.</i> <br><br><h4>  MeshPhongMaterial </h4><br>  <i>N√ºtzlich f√ºr mittlere Leistung und mittlere Genauigkeit.</i> <br><br>  Dieses Material bietet einen Kompromiss zwischen Leistung und Rendering-Genauigkeit. Daher ist dieses Material eine gute Option f√ºr eine Anwendung, die produktiv sein muss und ein genaueres Rendering als <i>MeshLambertMaterial bietet.</i> <br><br>  Jetzt k√∂nnen wir die <i>Spiegeleigenschaft</i> √§ndern, die die Helligkeit und Farbe der Oberfl√§chenreflexion beeinflusst.  Wenn die Emissionseigenschaft normalerweise dunkel ist, eignet sich <i>Specular am</i> besten f√ºr helle Farben.  Unten verwenden wir hellgrau. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshPhongMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x000000</span></span>, <span class="hljs-attr"><span class="hljs-attr">specular</span></span>: <span class="hljs-number"><span class="hljs-number">0xbcbcbc</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/BretCameron/embed/preview/YzKBwwQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Optisch reflektiert das Bild von oben das Licht √ºberzeugender, aber immer noch nicht perfekt.  Wei√ües Licht ist zu hell und das Material sieht eher gerippt als metallisch aus (und wir bem√ºhen uns darum).  Mit <i>MeshStandardMaterial</i> k√∂nnen wir ein besseres Ergebnis <i>erzielen.</i> <br><br><h4>  MeshStandartMaterial </h4><br>  <i>N√ºtzlich f√ºr hohe Genauigkeit bei geringer Produktivit√§t.</i> <br><br>  Dies ist das genaueste Material von allen, obwohl seine Verwendung die Kosten eines h√∂heren Stromverbrauchs mit sich bringt.  <i>MeshStandartMaterial wird</i> mit zus√§tzlichen <i>Metall-</i> und <i>Rauheitsparametern verwendet</i> , die jeweils einen Wert zwischen 0 und 1 <i>annehmen</i> . <br><br>  Der <i>Metalness-</i> Parameter beeinflusst, wie das Objekt reflektiert und n√§hert sich der Natur des Metalls an.  Dies liegt daran, dass leitende Materialien wie Metalle im Gegensatz zu Dielektrika wie Keramik unterschiedliche Reflexionseigenschaften aufweisen. <br><br>  <i>Rauheit</i> f√ºgt eine zus√§tzliche Ebene f√ºr die Anpassung hinzu.  Sie k√∂nnen sich das Gegenteil von Glanz vorstellen: 0 - sehr gl√§nzend, 1 - sehr matt. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshStandardMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xfcc742</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x111111</span></span>, <span class="hljs-attr"><span class="hljs-attr">specular</span></span>: <span class="hljs-number"><span class="hljs-number">0xffffff</span></span>, <span class="hljs-attr"><span class="hljs-attr">metalness</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">roughness</span></span>: <span class="hljs-number"><span class="hljs-number">0.55</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/BretCameron/embed/preview/gOYqPMv" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Dies ist das realistischste Material von allen in Three.js vorgestellten, aber auch das ressourcenintensivste <br><br>  Die Materialien, die wir unten besprochen haben, sind die, die ich am h√§ufigsten getroffen habe, und Sie k√∂nnen alle Optionen im Dock sehen. <br><br><h3>  Lader </h3><br>  Wie oben erl√§utert, k√∂nnen Sie Geometrie- und Polygonnetze manuell definieren.  In der Praxis laden Benutzer ihre Geometrien h√§ufig aus Dateien.  Gl√ºcklicherweise hat Three.js nur wenige unterst√ºtzte Downloader, die viele 3D-Formate unterst√ºtzen. <br><br>  Der Haupt- <i>ObjectLoader</i> l√§dt die JSON-Datei im <i>JSON-Objekt- / Szenenformat</i> .  Die meisten Bootloader m√ºssen manuell importiert werden.  Hier finden Sie eine vollst√§ndige Liste der unterst√ºtzten Bootloader, die Sie importieren k√∂nnen.  Nachstehend finden Sie eine kleine Liste der importierbaren Elemente. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// GLTF import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'; // OBJ import { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js'; // STL import { STLLoader } from 'three/examples/jsm/loaders/STLLoader.js'; // FBX import { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js'; // 3MF import { 3MFLoader } from 'three/examples/jsm/loaders/3MFLoader.js';</span></span></code> </pre> <br>  Das empfohlene Format f√ºr die Online-Anzeige ist GLTF, da das Format darauf abzielt, "Assets zur Laufzeit bereitzustellen, kompakt zu √ºbertragen und schnell herunterzuladen". <br><br>  Nat√ºrlich kann es viele Gr√ºnde geben, einen bestimmten Dateityp zu bevorzugen (z. B. wenn Qualit√§t Priorit√§t hat oder Genauigkeit f√ºr den 3D-Druck erforderlich ist).  Die beste Online-Leistung wird beim Importieren von GLTF erzielt. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { GLTFLoader } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'three/examples/jsm/loaders/GLTFLoader.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> model <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../models/sample.gltf'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GLTFLoader(); loader.load(model, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">geometry</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// if the model is loaded successfully, add it to your scene here }, undefined, function (err) { console.error(err); });</span></span></code> </pre> <br><h3>  Alles zusammen </h3><br>  Einer der Gr√ºnde, warum Three.js einsch√ºchternd wirkt, ist, dass Sie mit nur wenigen Codezeilen etwas von Grund auf neu erstellen k√∂nnen.  In jedem obigen Beispiel mussten wir eine Szene und eine Kamera erstellen.  Der Einfachheit halber habe ich diesen Code au√üerhalb des Bereichs der √úberpr√ºfung belassen, aber im Moment werden wir sehen, wie er zusammen aussehen wird. <br><br>  Die Art und Weise, wie Sie Ihren Code organisieren, liegt bei Ihnen.  In einfacheren Beispielen, wie in diesem Artikel, ist es sinnvoll, den gesamten Code an einer Stelle zu schreiben.  In der Praxis ist es jedoch sinnvoll, die einzelnen Elemente zu trennen, um die Codebasis und deren Verwaltung zu erweitern. <br><br>  Der Einfachheit halber betrachten wir Elemente, die als ein einzelnes Objekt gezeichnet werden, sodass wir den gesamten Code in einer Datei speichern. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Import dependencies import * as THREE from 'three'; import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'; //   const scene = new THREE.Scene(); scene.background = new THREE.Color(0x282c34); //  ,       const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000); camera.position.z = 5; //  ""      const renderer = new THREE.WebGLRenderer(); renderer.setSize(window.innerWidth, window.innerHeight); //   DOM   renderer.domElement   document.getElementById('threejs').appendChild(renderer.domElement); //  ,      DOM  let controls = new OrbitControls(camera, document.getElementById('threejs')); controls.target.set(0, 0, 0); controls.rotateSpeed = 0.5; controls.update(); //  ( )   const geometry = new THREE.TorusKnotGeometry(10, 1.3, 500, 6, 6, 20); //    const material = new THREE.MeshStandardMaterial({ color: 0xfcc742, emissive: 0x111111, specular: 0xffffff, metalness: 1, roughness: 0.55, }); //   ,       const mesh = new THREE.Mesh(geometry, material); mesh.scale.x = 0.1; mesh.scale.y = 0.1; mesh.scale.z = 0.1; scene.add(mesh); //  ,       const frontSpot = new THREE.SpotLight(0xeeeece); const frontSpot2 = new THREE.SpotLight(0xddddce); frontSpot.position.set(1000, 1000, 1000); frontSpot2.position.set(-500, -500, -500); scene.add(frontSpot); scene.add(frontSpot2); //   ,           const animate = function () { requestAnimationFrame(animate); mesh.rotation.x += 0.005; mesh.rotation.y += 0.005; mesh.rotation.z += 0.005; renderer.render(scene, camera); }; //    animate();</span></span></code> </pre> <br><h3>  Muss ich ein Framework verwenden? </h3><br>  Schlie√ülich ist es Zeit zu diskutieren, ob Three.js mit Ihrem bevorzugten Framework verwendet werden soll.  Im Moment gibt es ein gutes React <i>-Three-Fibre-</i> Paket f√ºr React.  F√ºr React-Benutzer bietet die Verwendung eines solchen Pakets offensichtliche Vorteile: Sie pflegen eine Struktur f√ºr die Arbeit mit Komponenten, mit der Sie Code wiederverwenden k√∂nnen. <br><br>  Anf√§ngern <i>rate</i> ich, mit dem √ºblichen <i>Vanila JS zu beginnen</i> , da die meisten Online-Materialien, die √ºber Three.js geschrieben wurden, sich auf Three.js auf Vanila JS beziehen.  Aufgrund meiner Lernerfahrung kann es verwirrend und schwierig sein, dies durch ein Paket zu lernen. Beispielsweise m√ºssen Sie Three.js-Objekte und -Methoden in Komponenten und Requisiten √ºbersetzen.  (Sobald Sie Three.js lernen, k√∂nnen Sie jedes Paket verwenden). <br><br><h3>  Hinzuf√ºgen von Three.js zum Framework </h3><br>  Three.js bietet ein HTML-Objekt (am h√§ufigsten als <i>renderer.domElement bezeichnet</i> ), das zu jedem HTML-Objekt in Ihrer Anwendung hinzugef√ºgt werden kann.  Wenn Sie zum Beispiel ein <i>div</i> mit <i>id = ‚Äùthreejs‚Äù haben</i> , k√∂nnen Sie einfach den folgenden Code in Ihren Three.js-Code einf√ºgen: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'threejs'</span></span>).appendChild(renderer.domElement);</code> </pre> <br>  Einige Frameworks haben bevorzugte Pfade, um auf die DOM-Knoten des Baums zuzugreifen.  Zum Beispiel <i>ref</i> in React, <i>$ ref</i> in Vue oder <i>ngRef</i> in Angular und es sieht aus wie ein gewaltiges Plus vor dem Hintergrund des direkten Zugriffs auf DOM-Elemente.  Schauen wir uns als Beispiel eine schnelle Implementierung f√ºr React an. <br><br><h3>  Strategie f√ºr die Reaktion </h3><br>  Wenn Sie Reagieren verwenden, gibt es eine M√∂glichkeit, Three.js-Dateien in eine Ihrer Komponenten einzubetten.  In die Datei <i>ThreeEntryPoint.js</i> schreiben wir den folgenden Code: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ThreeEntryPoint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sceneRef</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> renderer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.WebGLRenderer(); <span class="hljs-comment"><span class="hljs-comment">// ... sceneRef.appendChild(renderer.domElement); }</span></span></code> </pre><br>  Wir exportieren dies als eine Funktion, die ein Argument akzeptiert: einen Verweis auf ein Element in unserer Komponente.  Jetzt k√∂nnen wir unsere Komponente erstellen <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ThreeEntryPoint <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./threejs/ThreeEntryPoint'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ThreeContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { ThreeEntryPoint(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scene); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;&gt; &lt;div ref={element =&gt; this.scene = element} /&gt; &lt;/&gt; ); } }</code> </pre> <br>  Die importierte <i>ThreeEntryPoint-</i> Funktion <i>muss</i> in der <i>componentDidMount-</i> Methode aufgerufen und das neue <i>div</i> unter Verwendung von Referenzen als Argument √ºbergeben werden <br>  Als Beispiel f√ºr diesen Ansatz k√∂nnen Sie das Repository klonen und selbst ausprobieren: <a href="https://github.com/BretCameron/three-js-sample">https://github.com/BretCameron/three-js-sample</a> . <br><br><h2>  Fazit </h2><br>  Ich kann noch viel √ºber Three.js sagen, aber ich hoffe, dieser Artikel hat Ihnen gen√ºgend Informationen geliefert, um mit der Verwendung dieser leistungsstarken Technologie zu beginnen.  Als ich anfing, Three.js zu lernen, konnte ich keine einzige Ressource wie diesen Artikel finden. Ich hoffe, ich habe dazu beigetragen, diese Technologie f√ºr Anf√§nger zug√§nglicher zu machen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de477956/">https://habr.com/ru/post/de477956/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de477938/index.html">Der Markt f√ºr gebrauchte Server in Russland: Alles begann mit Habr</a></li>
<li><a href="../de477940/index.html">Benchmarking ORM, das beim Erstellen von Android-Anwendungen verwendet wird</a></li>
<li><a href="../de477944/index.html">Situation: Der Python 2.7-Support wurde seit 2020 eingestellt</a></li>
<li><a href="../de477946/index.html">‚ÄûVerwische deine Spuren und fahre √ºbers Wochenende‚Äú: So entfernst du dich von den beliebtesten Diensten</a></li>
<li><a href="../de477954/index.html">Wie Antworten auf Posts das Internet intelligenter machen</a></li>
<li><a href="../de477958/index.html">Top 10 Trends aus dem neuen High-Tech-Tech Crime Trends Report 2019/2020 Group-IB</a></li>
<li><a href="../de477964/index.html">Zwei Monate von der Idee bis zum ersten Verkauf: Erfahrung im Genesis-Team</a></li>
<li><a href="../de477966/index.html">HolyJS 2019 Moskau aus der Sicht des Teilnehmers</a></li>
<li><a href="../de477968/index.html">Fallen in einen Kaninchenbau: Eine Geschichte √ºber einen Fehler beim Neustart eines Lackes - Teil 1</a></li>
<li><a href="../de477974/index.html">Vivado: Picasso-Modus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>