<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âš•ï¸ ğŸ¡ ğŸ˜¼ åœ¨Intel Cyclone Vä¸Šä¸ºç»å¯¹åˆå­¦è€…æ„å»ºè£¸æœºåº”ç”¨ ğŸ“¨ ğŸ§”ğŸ¾ ğŸ”¦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨åƒSocKitè¿™æ ·çš„å¼€å‘æ¿ä¸Šä½¿ç”¨åŒæ ¸ARM Cortex A9è®¾ç½®Linuxå¹¶ä¸æ˜¯ç«ç®­ç§‘å­¦ã€‚ å¼€å‘æ¿çš„åˆ¶é€ å•†æ”¯æŒå³ç”¨å‹æ˜ åƒï¼Œé€‚åˆåœ¨SDå¡æˆ–å…¶ä»–åª’ä½“ä¸Šå®‰è£…ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ¸´æœ›æ¥è§¦è£¸æœºï¼Œè¾¾åˆ°ä¸å—OSå†…æ ¸é™åˆ¶çš„æƒŠäººçš„ä»£ç é€Ÿåº¦ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ å¯ä»¥ï¼Œä½†ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“å’Œæ˜æ˜¾ã€‚ åœ¨è¿™ç¯‡ç®€çŸ­çš„æ–‡ç« ä¸­ï¼Œæˆ‘å°†å‘æ‚¨åˆ†æ­¥è¯´æ˜...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åœ¨Intel Cyclone Vä¸Šä¸ºç»å¯¹åˆå­¦è€…æ„å»ºè£¸æœºåº”ç”¨</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463717/"> åœ¨åƒSocKitè¿™æ ·çš„å¼€å‘æ¿ä¸Šä½¿ç”¨åŒæ ¸ARM Cortex A9è®¾ç½®Linuxå¹¶ä¸æ˜¯ç«ç®­ç§‘å­¦ã€‚ å¼€å‘æ¿çš„åˆ¶é€ å•†æ”¯æŒå³ç”¨å‹æ˜ åƒï¼Œé€‚åˆåœ¨SDå¡æˆ–å…¶ä»–åª’ä½“ä¸Šå®‰è£…ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ¸´æœ›æ¥è§¦è£¸æœºï¼Œè¾¾åˆ°ä¸å—OSå†…æ ¸é™åˆ¶çš„æƒŠäººçš„ä»£ç é€Ÿåº¦ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ å¯ä»¥ï¼Œä½†ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“å’Œæ˜æ˜¾ã€‚ åœ¨è¿™ç¯‡ç®€çŸ­çš„æ–‡ç« ä¸­ï¼Œæˆ‘å°†å‘æ‚¨åˆ†æ­¥è¯´æ˜å¦‚ä½•åœ¨Cyclone V SoCä¸Šæ„å»ºå¹¶è¿è¡Œæ‚¨çš„ç¬¬ä¸€ä¸ªè£¸æœºåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºä½¿ç”¨SoCçš„HPSå­ç³»ç»Ÿçš„ARM Cortex A9å†…æ ¸ã€‚ <br><br> æ‚¨éœ€è¦ä½¿ç”¨Intelï¼ˆAlteraï¼‰Cyclone V SoCçš„å¼€å‘æ¿ã€‚ æˆ‘ä½¿ç”¨äº†SoCKitæ¿ï¼š <br><br><img src="https://habrastorage.org/webt/x5/tw/rb/x5twrba2tlvz68fuwltzjsak2ds.jpeg"><br><a name="habracut"></a><br> æˆ‘ä¸€ç›´åœ¨åšDebian Jessieä¸­è¿™ç¯‡æ–‡ç« ä¸­æè¿°çš„æ‰€æœ‰äº‹æƒ…ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å…¶ä»–å…·æœ‰ç›¸åº”æ›´æ”¹çš„Linuxç³»ç»Ÿæˆ–Windowsã€‚ <br><br> å¹¶ä¸”æ‚¨éœ€è¦DS-5 IDEã€‚ è€Œä¸”ï¼Œä¸å¹¸çš„æ˜¯ï¼Œå…è´¹ç‰ˆä¸å…è®¸æ‚¨ç¼–è¯‘è£¸æœºä»£ç ã€‚ æ‚¨éœ€è¦å®Œæ•´ç‰ˆã€‚ <br><br>  1.å‡†å¤‡ <br><br> å°½ç®¡æ‚¨æ‹¥æœ‰å®Œæ•´ç‰ˆçš„DS-5ï¼Œä½†ä»éœ€è¦å®‰è£…å…è´¹çš„DS-5 Alteraç‰ˆã€‚ è¿™ä¸¤ä¸ªç‰ˆæœ¬éƒ½å¿…é¡»ä»¥<i>sudo</i>æ¨¡å¼å®‰è£…åœ¨ä¸åŒçš„ç›®å½•ä¸­ï¼Œä¾‹å¦‚ï¼šå¯¹äºDS-5 Alteraç‰ˆï¼Œä¸º<i>/ home / user / intelFPGA</i> ï¼Œå¯¹äºå®Œæ•´ç‰ˆ<i>DS-5ï¼Œ</i>ä¸º<i>/ home / user /</i> DS-5ã€‚ åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œæ‚¨åº”è¯¥æ‰‹åŠ¨è¾“å…¥è·¯å¾„ã€‚ <br><br>  2. IDEè¿è¡Œ <br><br>  2.1ã€‚ é¦–å…ˆï¼Œè¿è¡Œè„šæœ¬<i>/home/user/intelFPGA/16.1/embedded/embedded_command_shell.sh</i> ï¼Œç„¶åå°†ç›®å½•æ›´æ”¹ä¸º<i>/ home / user / DS-5 / bin</i>å¹¶è¿è¡ŒIDEï¼š <br><br><pre><code class="bash hljs">$ ./eclipse &amp;</code> </pre> <br><br> è¯¥è„šæœ¬è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ è¦åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è®¾ç½®å˜é‡ï¼Œåº”å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°æ–‡ä»¶<i>/home/user/.profileä¸­</i> ï¼š <br><br><pre> <code class="bash hljs">QUARTUS_ROOTDIR=/home/user/intelFPGA/16.1/qprogrammer <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> PATH=<span class="hljs-variable"><span class="hljs-variable">$PATH</span></span>:/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/gcc-arm-none-eabi-5_4-2016q3/bin/:/home/user/intelFPGA/16.1/embedded/host_tools/mentor/gnu/arm/baremetal/bin/</code> </pre> <br><br> å¦‚æœ‰å¿…è¦ï¼Œä¸ºæ°´ç­å¿…éœ€çš„å˜é‡æ·»åŠ ç±»ä¼¼çš„è¡Œï¼Œä¾‹å¦‚QSYS_ROOTDIRã€‚ <br><br> å¦å¤–ï¼Œæ‚¨éœ€è¦å®‰è£…å¹¶è¿è¡ŒQuartus Primeã€‚ è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹ï¼ŒQuartusçš„å®‰è£…ç›®å½•æ˜¯<i>/home/user/intelFPGA/16.1/quartus/</i> ã€‚ <br><br> è¿è¡Œä½äº<i>/home/user/intelFPGA/16.1/quartus/bin/quartusçš„</i> Quartus Primeï¼Œå®ƒæ˜¯JTAGç¨‹åºå‘˜å®ç”¨ç¨‹åºï¼Œä½äº<i>/home/user/intelFPGA/16.1/qprogrammer/bin/quartus_pgmw</i> ã€‚ <br><br>  3.è¿æ¥SoCkit <br><br>  3.1ã€‚ å°†SoCkitæ¿è¿æ¥åˆ°è®¡ç®—æœºã€‚ å°†microUSBç”µç¼†è¿æ¥åˆ°åä¸ºâ€œ USB Blasterï¼ˆJTAGï¼‰â€å’Œâ€œ USB to UARTâ€çš„å¼€å‘æ¿ç«¯å£ã€‚ <br><br>  3.2ã€‚ æ‰“å¼€æ¿å¹¶è¾“å…¥ï¼š <br><br><pre> <code class="bash hljs">$ ls /dev/bus/usb/001 001 002 003</code> </pre> <br><br> æœ€åä¸€ä¸ªæ•°å­—ï¼ˆ003ï¼‰æ˜¯JTAGæ¥å£ã€‚ è®¾ç½®å†™æƒé™ï¼š <br><br><pre> <code class="bash hljs"> $ sudo chmod 666 /dev/bus/usb/001/003</code> </pre> <br><br> æ¯æ¬¡æ‰“å¼€ç”µè·¯æ¿æ—¶éƒ½å¿…é¡»è¿™æ ·åšã€‚ <br><br>  3.3ã€‚  TTYç»ˆç«¯çš„è®¾ç½® <br><br> æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š <br><pre> <code class="bash hljs">screen /dev/ttyUSB0 115200</code> </pre> <br><br>  4.æ„å»ºé¢„åŠ è½½å™¨ï¼ˆu-boot-splï¼‰ <br><br>  4.1ã€‚ ä¸‹è½½æ–‡ä»¶<i>sockit_ghrd_16.0.tar.gz</i>å¹¶è§£å‹ç¼©ã€‚ ä¾‹å¦‚ï¼Œå°†å…¶è§£å‹ç¼©åˆ°<i>/ home / user / ghrd-16 / sockit_ghrd</i> ã€‚ <br><br>  4.2ã€‚ è¿è¡ŒQuartus Primeå¹¶æ‰“å¼€æ–‡ä»¶<i>/home/user/ghrd-16/sockit_ghrd/soc_system.qpfã€‚</i> <br><br>  4.3ã€‚ è¿è¡ŒQsysï¼ˆå·¥å…·/ Qsysï¼‰ã€‚ æ‰“å¼€<i>æ–‡ä»¶/home/user/ghrd-16/sockit_ghrd/soc_system.qsysã€‚</i>  <i>ç”Ÿæˆ/ç”ŸæˆHDL</i>å¹¶é€€å‡ºQsysã€‚ <br><br>  4.4ã€‚ åœ¨Quartus Primeä¸­è¿è¡ŒAssemblerã€‚ <br><br>  4.5ã€‚ è¿è¡Œbspç¼–è¾‘å™¨ï¼š <i>/home/user/intelFPGA/16.1/embedded/host_tools/altera/preloadergen/bsp-editor</i> ã€‚ åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼šFile / New HPS BSPã€‚ åœ¨â€œ <i>é¢„</i> <i>åŠ è½½å™¨</i> <i>è®¾ç½®ç›®å½•</i> â€å­—æ®µä¸­ï¼Œå†™å…¥â€œ <i>/ home / user / ghrd-16 / sockit_ghrd / hps_isw_handoff / soc_system_hps_0â€ã€‚</i> <br><br>  4.6ã€‚ è®¾ç½®é¢„åŠ è½½å™¨ã€‚ è½¬åˆ°æ ‡ç­¾é«˜çº§ã€‚ å…³é—­<i>Watchdog_enable</i> ã€‚ å¦‚æœè¦é€šè¿‡JTAGæŸ¥çœ‹è°ƒè¯•æ¶ˆæ¯ï¼Œå¯ä»¥æ‰“å¼€<i>Semihosting</i> ã€‚ åœ¨æ­¤ä¹‹åæŒ‰<i>ç”Ÿæˆ</i>å¹¶é€€å‡ºã€‚ <br><br>  4.7ã€‚ å¯ä»¥æ›´æ”¹å¯åŠ¨æ¶ˆæ¯ã€‚ ä¾‹å¦‚ï¼Œåœ¨æ–‡ä»¶è½¯ä»¶/ spl_bsp / uboot-socfpga / board / altera / socfpga / socfpga_cyclone5.cä¸­ï¼Œåœ¨å¦ä¸€ä¸ªä¸Šæ›´æ”¹å­—ç¬¦ä¸²â€œ <i>BOARDï¼šAltera SOCFPGA Cyclone V Board</i> â€ï¼š <br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Print Board information */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkboard</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> CONFIG_SOCFPGA_VIRTUAL_TARGET puts(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"BOARD : Altera VTDEV5XS1 Virtual Board\n"</span></span></span><span class="hljs-meta">); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//puts("BOARD : Altera SOCFPGA Cyclone V Board\n"); puts("ARM preloader build by 32-bit.me\n"); #endif return 0; }</span></span></span></span></code> </pre> <br><br>  4.8ã€‚ ç¯å¢ƒå˜é‡SOCEDS_DEST_ROOTå¿…é¡»è®¾ç½®ä¸º<i>/home/user/intelFPGA/16.1/embedded</i> ï¼š <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> SOCEDS_DEST_ROOT=/home/user/intelFPGA/16.1/embedded</code> </pre> <br> ç°åœ¨è½¬åˆ°ç›®å½• <pre> <code class="bash hljs">/home/user/ghrd-16/sockit_ghrd/software/spl_bsp</code> </pre> å¹¶åšã€‚  Makeå¯èƒ½ä¼šå› é”™è¯¯â€œ makeï¼šmkpimageï¼šæ‰¾ä¸åˆ°å‘½ä»¤â€è€Œå¤±è´¥ï¼Œä½†æ˜¯å®ƒåº”è¯¥åœ¨è·¯å¾„<i>/ home / user / ghrd-16 / sockit_ghrd / software / spl_bsp / uboot-socfpga / splä¸­</i>æ„å»º<i>u-boot-spl</i>æ–‡ä»¶<i>/ u-boot-spl</i> ã€‚ <br><br>  4.9ã€‚ æµ‹è¯•é¢„åŠ è½½å™¨ <br><br>  4.9.1ã€‚ æ‚¨ä¸éœ€è¦è¿è¡Œé¢„åŠ è½½å™¨çš„FPGAæ˜ åƒï¼ˆæ‰©å±•åä¸ºâ€œ .sofâ€ï¼‰ã€‚ è¿è¡ŒDS-5ï¼Œç„¶åæ‰“å¼€â€œè¿è¡Œ/è°ƒè¯•é…ç½®â€ã€‚ <br><br>  4.9.2ã€‚ åœ¨â€œ <i>è¿æ¥</i> â€å­—æ®µä¸­ï¼Œåº”è®¾ç½®<i>CV SoCKit 1-1</i>é€‰é¡¹ã€‚ å¦‚æœä¸æ˜¯ï¼Œè¯·æŒ‰â€œæµè§ˆâ€æŒ‰é’®å¹¶è®¾ç½®æ­¤é€‰é¡¹ã€‚ å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¯·æ‰§è¡Œ3.1-3.2ã€‚ <br><br>  4.9.3ã€‚ åœ¨â€œæ–‡ä»¶â€é€‰é¡¹å¡ä¸Šçš„â€œè¦ä¸‹è½½çš„ä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºâ€å­—æ®µä¸­è®¾ç½®æ–‡ä»¶<i>u-boot-spl</i> ï¼š/ home / user / ghrd-16 / sockit_ghrd / software / spl_bsp / uboot-socfpga / spl / u-boot-spl ã€‚ è®¾ç½®æ ‡å¿—â€œåŠ è½½ç¬¦å·â€ã€‚ ä¿æŒâ€œæ–‡ä»¶â€å­—æ®µä¸ºç©ºã€‚ <br><br>  4.9.4ã€‚ å…³é—­åœ¨â€œè°ƒè¯•â€é€‰é¡¹å¡ä¸Šå¯åŠ¨çš„è°ƒè¯•è„šæœ¬ã€‚ <br><br>  4.9.5ã€‚ è¿è¡Œç»ˆç«¯å®ç”¨ç¨‹åºï¼ˆä¾‹å¦‚<i>screen</i> ï¼‰ï¼Œç„¶åæŒ‰â€œè°ƒè¯•â€æŒ‰é’®ã€‚ é¢„åŠ è½½å™¨å·²åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè°ƒè¯•å™¨å·²å‡†å¤‡å¥½å¯åŠ¨ã€‚ æŒ‰ä¸‹â€œç»§ç»­â€æŒ‰é’®ï¼ˆæˆ–F8ï¼‰ï¼Œç„¶åçœ‹åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š <br><br><pre> <code class="bash hljs">U-Boot SPL 2013.01.01 (Jun 24 2017 - 19:49:33) ARM preloader build by 32-bit.me CLOCK: EOSC1 clock 25000 KHz CLOCK: EOSC2 clock 25000 KHz CLOCK: F2S_SDR_REF clock 0 KHz CLOCK: F2S_PER_REF clock 0 KHz CLOCK: MPU clock 925 MHz CLOCK: DDR clock 400 MHz CLOCK: UART clock 100000 KHz CLOCK: MMC clock 50000 KHz CLOCK: QSPI clock 370000 KHz RESET: COLD SDRAM: Initializing MMR registers SDRAM: Calibrating PHY SEQ.C: Preparing to start memory calibration SEQ.C: CALIBRATION PASSED SDRAM: 1024 MiB ALTERA DWMMC: 0 Card did not respond to voltage select! spl: mmc init failed: err - -17 <span class="hljs-comment"><span class="hljs-comment">### ERROR ### Please RESET the board ###</span></span></code> </pre><br><br> è¿™æ„å‘³ç€é¢„åŠ è½½å™¨å·²æˆåŠŸå¯åŠ¨ã€‚ <br><br>  4.9.6ã€‚ è°ƒè¯•ä¼šè¯åï¼ŒæŒ‰â€œä»ç›®æ ‡æ–­å¼€è¿æ¥â€å’Œâ€œåˆ é™¤è¿æ¥â€æŒ‰é’®ã€‚ <br><br>  5.ä¸ºè£¸æœºæ¨¡å¼ç¼–å†™ä¸€ä¸ªHello Worldã€‚ <br><br>  5.1ã€‚ ä¸‹è½½é¡¹ç›®ArrowSocKit_BareMetal_GNU.zipã€‚ åƒ2.1ã€‚ä¸­é‚£æ ·è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œè¿è¡ŒDS-5ï¼Œä»å­˜æ¡£ä¸­å¯¼å…¥é¡¹ç›®ï¼ˆå°†<i>File / Import / Existing Projectå¯¼å…¥åˆ°Workspaceä¸­</i> ï¼Œ <i>é€‰æ‹©archileæ–‡ä»¶</i> ï¼‰ã€‚ è§£å‹ç¼©åçš„é¡¹ç›®å‡ºç°åœ¨ç›®å½•/ home / user / DS-5-Workspace / BareMetalBoot-GNUä¸­ã€‚ <br><br>  5.2ã€‚ æ‚¨å¯ä»¥å°è¯•ä½¿ç”¨<code>make</code>æ„å»ºé¡¹ç›®ï¼Œä½†å°šä¸èƒ½æ„å»ºã€‚ è¦ç”Ÿæˆé¡¹ç›®ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚ <br><br>  5.3ã€‚ å°†ç›®å½•<i>/home/user/intelFPGA/16.1/embedded/ip/altera/hps/altera_hps/hwlib</i>å¤åˆ¶åˆ°<i>/ home / user / DS-5-Workspace /ä¸­</i> ã€‚ è¿™æ˜¯æ–‡ä»¶å¤¹<i>src</i>å’Œ<i>include</i> ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸­éƒ½æœ‰<i>soc_cv_av</i>å’Œ<i>soc_a10</i>ç›®å½•ã€‚ æ‚¨å¯ä»¥åˆ é™¤åä¸º<i>soc_a10çš„</i>ç›®å½•ã€‚ ç„¶åä»<i>/home/user/intelFPGA/16.1/embedded/host_tools/mentor/gnu/arm/baremetal/arm-altera-eabi/lib</i>å¤åˆ¶æ–‡ä»¶libcsâ€‹â€‹3.aï¼Œlibcsâ€‹â€‹3arm.aï¼Œlibcsâ€‹â€‹3unhosted.a <i>ã€‚</i> åˆ°é¡¹ç›®ç›®å½•ï¼ˆ/ home / user / DS-5-Workspace / BareMetalBoot-GNUï¼‰ã€‚ å°†æ–‡ä»¶arm-names.incä»<i>/home/user/intelFPGA/16.1/embedded/host_tools/mentor/gnu/arm/baremetal/arm-altera-eabi/lib/cortex-a9/</i>å¤åˆ¶åˆ°<i>/ home / user / DS- 5ä¸ªå·¥ä½œåŒº/ BareMetalBoot-GNU /</i> ã€‚ <br><br>  5.4ã€‚ åœ¨Makefileä¸­ï¼Œå°†â€œ CROSS_COMPILEï¼š= arm-none-eabi-â€æ›´æ”¹ä¸ºâ€œ CROSS_COMPILEï¼š= arm-altera-eabi-â€ã€‚ è¿˜è¦æ›´æ”¹<code>hlib</code>çš„è·¯å¾„ï¼šHWLIBS_ROOTï¼š= / home / user / DS-5-Workspace / hwlib <br><br>  5.5ã€‚ ç°åœ¨è¿è¡Œ<code>make</code> ã€‚ å¹¶é˜…è¯»æ‰€æœ‰é”™è¯¯æ¶ˆæ¯ã€‚ å¦‚æœ<code>make</code>æ‰¾ä¸åˆ°æŸäº›ç¬¦å·ï¼Œåˆ™åº”åœ¨ç›®å½•hwlib / src / soc_cv_avå’Œhwlib / include / soc_cv_avä¸­æ‰¾åˆ°å®ƒï¼Œå¹¶åœ¨hwlib / srcå’Œhwlib / includeä¸­è¿›è¡Œç›¸åº”çš„å¤åˆ¶ã€‚ æ‰¾åˆ°æ‰€æœ‰é…ç½®æ–‡ä»¶åï¼Œmakeå¤±è´¥ï¼Œå¹¶æ˜¾ç¤ºé”™è¯¯â€œ mkimageï¼šnot foundâ€ï¼Œä½†è¿™å¹¶ä¸é‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦<i>test.axf</i>æ–‡ä»¶ã€‚ <br><br>  5.6ã€‚ è¿è¡Œåº”ç”¨ç¨‹åº <br><br>  5.6.1ã€‚ è¦è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå¿…é¡»åŠ è½½FPGAæ˜ åƒï¼ˆ.sofæ–‡ä»¶ï¼‰ï¼Œè¯¥æ˜ åƒæ˜¯åœ¨æˆ‘ä»¬æ„å»ºé¢„åŠ è½½å™¨æ—¶ç”Ÿæˆçš„ã€‚ åƒåœ¨2.1ä¸­ä¸€æ ·è¿è¡Œç¨‹åºå‘˜ã€‚ åº•éƒ¨â€œç¡¬ä»¶è®¾ç½®â€çš„å³ä¾§å¿…é¡»æœ‰æ–‡æœ¬â€œ CV SoCKit [1-1]â€ã€‚ å¦‚æœæ²¡æœ‰ï¼Œåˆ™åº”è®¾ç½®JTAGç«¯å£çš„å†™è®¸å¯æƒï¼ˆè¯·å‚è§ä¸Šæ–‡ï¼‰ï¼Œç„¶åå•å‡»â€œç¡¬ä»¶è®¾ç½®â€æŒ‰é’®ã€‚ <br><br>  5.6.2ã€‚ å•å‡»â€œè‡ªåŠ¨æ£€æµ‹â€ï¼Œç„¶åä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªä»»æ„é€‰é¡¹ã€‚ æ‚¨å°†çœ‹åˆ°ä¸¤ä¸ªè®¾å¤‡çš„é…ç½®ï¼šä¸€ä¸ªæ˜¯æ‚¨é€‰æ‹©çš„è®¾å¤‡ï¼ˆä¾‹å¦‚5CSEBA6ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯SOCVHPSã€‚ åˆ é™¤ç¬¬ä¸€ä¸ªè®¾å¤‡ï¼šé€‰æ‹©å®ƒï¼Œç„¶åæŒ‰Deleteé”®ã€‚ æŒ‰â€œæ·»åŠ æ–‡ä»¶â€å¹¶æ‰“å¼€å›¾åƒæ–‡ä»¶ï¼ˆ/home/user/ghrd-16/sockit_ghrd/output_files/soc_system.sofï¼‰ã€‚  SOCVHPSçš„å³ä¾§å‡ºç°äº†ä¸€ä¸ªæ–°è®¾å¤‡ã€‚ ç”¨é¼ æ ‡å°†å…¶ç§»åˆ°é“¾ä¸­çš„ç¬¬ä¸€ä½ã€‚ ä¹‹åï¼ŒæŒ‰å¼€å§‹å¹¶ä¸Šä¼ å›¾åƒã€‚ <br><br>  5.6.3ã€‚ åœ¨DS-5ä¸­ï¼Œåœ¨â€œæ–‡ä»¶â€é€‰é¡¹å¡ä¸Šæ‰“å¼€â€œè°ƒè¯•é…ç½®â€ã€‚ åœ¨â€œè¦ä¸‹è½½çš„ä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºâ€è¡Œä¸Šè®¾ç½®æ–‡ä»¶<i>u-boot-spl</i> ã€‚ åˆ é™¤â€œåŠ è½½ç¬¦å·â€ä¸Šçš„æ ‡è®°ã€‚ åœ¨â€œæ–‡ä»¶â€è¡Œä¸­è®¾ç½®æ–‡ä»¶â€œ test.axfâ€ã€‚ åœ¨â€œè°ƒè¯•å™¨â€é€‰é¡¹å¡ä¸Šï¼Œæ£€æŸ¥â€œè¿è¡Œç›®æ ‡åˆå§‹åŒ–è°ƒè¯•å™¨è„šæœ¬â€ï¼Œå¹¶åœ¨é¡¹ç›®ç›®å½•ä¸­è®¾ç½®è„šæœ¬æ–‡ä»¶â€œ debug-unhosted.dsâ€ã€‚ åœ¨æ–‡ä»¶ä¸­ï¼Œç¼–è¾‘é¢„åŠ è½½å™¨çš„è·¯å¾„ï¼š <br> <code># Load the SPL preloader into memory. <br> # <br> loadfile "/home/user/ghrd-16/sockit_ghrd/software/spl_bsp/uboot-socfpga/spl/u-boot-spl" 0x0 <br></code> <br><br> è¿è¡ŒTTYç»ˆç«¯<i>å±å¹•</i> ï¼Œç„¶åæŒ‰Debugã€‚ ç„¶åï¼Œé¢„åŠ è½½å™¨å°†å¯åŠ¨ï¼Œåº”ç”¨ç¨‹åºå°†è¢«ä¸Šè½½ï¼Œå¹¶ä¸”è°ƒè¯•å™¨å°†åœ¨ç¨‹åºçš„èµ·ç‚¹è®¾ç½®ã€‚ æŒ‰ä¸‹â€œç»§ç»­â€æŒ‰é’®ã€‚ åœ¨ç»ˆç«¯çš„çª—å£ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°é¢„åŠ è½½å™¨çš„è¾“å‡ºï¼Œå¦‚ä¸Šæ‰€ç¤ºï¼Œç„¶åæ˜¯ä»¥ä¸‹å†…å®¹ï¼š <br><br><pre> <code class="bash hljs">Disabled interrupts because preloader enabled ECC interrupts. Global Timer value at startup = 0x000000005A10B609 CPU frequency is 925000000 hertz. DDR frequency is 400000000 hertz. MPU peripheral frequency is 231250000 hertz. MB ZERO remapped to SDRAM. L3 interconnect remapped as inaccessible and SDRAM. Interrupt controller system API initialized. MMU initialized and enabled. L1 and L2 cache system initialized and enabled. GIC interrupts enabled. PIT started. PIT interrupt registered and enabled. GPIOs initialized. UART0 initialized. L3 interconnect remapped as accessible and SDRAM. Bridges initialized. Boot completed. Boot milestones: New buffer !ESTONE : GT TICKCOUNT : INCREMENTAL : CUMULATIVE initial GT : 0x000000005A10B609 : 0.000us : 0.000us frequency capture : 0x000000005A119D58 : 256.065us : 256.065us initial remapping : 0x000000005A11C936 : 48.562us : 304.627us interrupt sys init : 0x000000005A139FED : 521.094us : 825.721us mmu init : 0x000000005A62D774 : 22449.985us : 23275.706us cache init : 0x000000005A65CF96 : 841.488us : 24117.194us interrupts enabled : 0x000000005A65D0D7 : 1.388us : 24118.582us pit start : 0x000000005A65DD2E : 13.661us : 24132.242us pit enabled : 0x000000005A65DF67 : 2.461us : 24134.703us gpio init : 0x000000005A65FC12 : 31.736us : 24166.439us uart0 init : 0x000000005A66084D : 13.539us : 24179.978us fpga config : 0x0000000000000000 : 79769704095969360.000us : 79769704095993552.000us last remapping : 0x000000005A660981 : 6558428.303us : 24181.310us bridge init : 0x000000005A6611B6 : 9.085us : 24190.396us complete : 0x000000005A661222 : 0.467us : 24190.863us Hello world, 32bit-me!</code> </pre> <br><br> æ­å–œä½ ï¼ æ‚¨åˆšåˆšåœ¨Cortex-A9å†…æ ¸ä¸Šè¿è¡Œäº†ç¬¬ä¸€ä¸ªè£¸æœºåº”ç”¨ç¨‹åºã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN463717/">https://habr.com/ru/post/zh-CN463717/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN463701/index.html">å¤è¿¹ï¼šè¯ºåŸºäºšN900-ä¸ä¼—ä¸åŒçš„æ‰‹æœº</a></li>
<li><a href="../zh-CN463703/index.html">Varonisä»ªè¡¨æ¿ä¸­çš„7ä¸ªä¸»è¦Active Directoryé£é™©æŒ‡æ ‡</a></li>
<li><a href="../zh-CN463707/index.html">æ²‰æµ¸å¼æŠ€æœ¯ä½¿æˆ‘ä»¬æ²‰æµ¸åœ¨ä½•å¤„</a></li>
<li><a href="../zh-CN463709/index.html">DJI Osmo Mobile 3æœ€ä½³12é¡¹åˆ›æ–°</a></li>
<li><a href="../zh-CN463711/index.html">å¦‚ä½•ä½¿å‘˜å·¥å­¦ä¼šè‡ªå·±åœ¨æ–°ç³»ç»Ÿä¸­å·¥ä½œ</a></li>
<li><a href="../zh-CN463719/index.html">é¡¹ç›®ç®¡ç†æ–¹æ³•å·¥å…·ï¼ˆç¬¬2éƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN463725/index.html">å°å°å¿«ä¹ï¼ƒ9ï¼šäººæ€§åŒ–çš„æ§åˆ¶å°åº”ç”¨ç¨‹åº</a></li>
<li><a href="../zh-CN463727/index.html">å¦‚ä½•åœ¨å‘å±•é¢†åŸŸä¸­è·»èº«æ¬§ç›Ÿ/ç¾å›½é¡¶çº§Googleå¹¶å¯»æ‰¾é¢„ç®—å·¨å¤§çš„å®¢æˆ·</a></li>
<li><a href="../zh-CN463729/index.html">ä¸NSTRåˆ›å§‹äººViktor Chernikovä¼šé¢</a></li>
<li><a href="../zh-CN463733/index.html">Mesh VS WiFiï¼šæ— çº¿é€‰æ‹©ä»€ä¹ˆï¼Ÿ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>