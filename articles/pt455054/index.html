<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôéüèæ üëéüèª üôåüèΩ Como a Apple (em particular) encontrar√° offline o seu dispositivo perdido? üëèüèæ üï¢ üí∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na segunda-feira, na WWDC da Apple, a Apple introduziu um novo recurso interessante chamado "Find My" . Ao contr√°rio do padr√£o "Find My iPhone", que s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como a Apple (em particular) encontrar√° offline o seu dispositivo perdido?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455054/"> Na segunda-feira, na WWDC da Apple, a Apple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">introduziu um novo recurso interessante chamado "Find My"</a> . Ao contr√°rio do padr√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Find My iPhone",</a> que se baseia na infraestrutura celular e GPS de um dispositivo perdido, o recurso Find Me pode at√© encontrar dispositivos <i>sem um</i> SIM. cart√µes e GPS: por exemplo, laptops ou at√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">etiquetas de localiza√ß√£o "burras"</a> anexadas a qualquer item (a Apple sugeria isso apenas em sentido amplo). <br><br>  A id√©ia √© transformar toda a rede existente de iPhones em um sistema de crowdsourcing em larga escala para rastrear objetos ao redor.  Todo iPhone ativo monitora constantemente as mensagens de sinal BLE vindas de outros dispositivos.  Quando ele encontra um desses sinais, ele marca o pacote com suas coordenadas GPS e o envia para os servidores da Apple.  Isso √© √≥timo para perplexos como eu, que perdem constantemente coisas: se eu deixar minha mochila <s>em um √¥nibus tur√≠stico na China</s> no escrit√≥rio, mais cedo ou mais tarde algu√©m trope√ßar√° em seu sinal - e eu vou descobrir instantaneamente onde encontr√°-lo. <br><br>  (Vale a pena notar que n√£o foi a Apple quem teve a ideia. De fato, empresas como a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tile</a> j√° existem h√° algum tempo. E sim, elas devem se preocupar com os neg√≥cios). <br><a name="habracut"></a><br>  Se voc√™ n√£o est√° impressionado com a descri√ß√£o acima, deixe-me fazer uma pergunta que voc√™ deve fazer: <i>como esse sistema se proteger√° contra viola√ß√µes graves da privacidade?</i> <br><br>  Listamos poss√≠veis problemas: <br><br><ul><li>  Se o dispositivo emitir constantemente um sinal BLE que o identifique exclusivamente, todos ter√£o outra maneira de rastrear voc√™.  Os profissionais de marketing j√° usam endere√ßos MAC de WiFi e Bluetooth para isso, e a fun√ß√£o <i>Localizar meu</i> cria outro canal de rastreamento. <br></li><li>  Ela tamb√©m desclassifica os <i>envolvidos</i> no processo.  Agora, essas pessoas enviar√£o sua localiza√ß√£o atual para a Apple (talvez elas j√° fa√ßam isso).  Mas agora eles ter√£o que compartilhar essas informa√ß√µes <i>tamb√©m</i> com estranhos que "perdem" seus dispositivos.  Pode terminar mal. <br></li><li>  Os fraudadores tamb√©m podem iniciar ataques ativos nos quais eles falsificam a localiza√ß√£o do seu dispositivo.  Embora isso pare√ßa improv√°vel, as pessoas sempre se surpreendem. </li></ul><br>  A boa not√≠cia √© que a Apple alega que o sistema fornece uma forte privacidade atrav√©s do uso adequado da criptografia.  Mas, como sempre, eles se recusaram a <i>fornecer detalhes de implementa√ß√£o</i> .  Andy Greenberg, da Wired, descreveu uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">implementa√ß√£o t√©cnica</a> parcial da Apple, que permite entender muito.  Infelizmente, essa hist√≥ria ainda deixa lacunas enormes.  Sou eu quem vou preencher, oferecendo a descri√ß√£o mais prov√°vel do que a Apple est√° realmente fazendo. <br><br>  Uma grande ressalva: muita coisa pode estar completamente errada.  Definitivamente vou atualizar o artigo quando a Apple contar mais. <br><br><h1>  Algumas quest√µes importantes </h1><br>  Para delinear o cen√°rio, √© necess√°rio introduzir v√°rios dispositivos na imagem.  Para se inspirar, veja a s√©rie de televis√£o dos anos 50 Lassie. <br><br>  O primeiro dispositivo que chamaremos de <b>Timmy</b> est√° "perdido".  <b>Timmy</b> tem um transmissor de r√°dio BLE, mas n√£o possui conex√£o GPS ou internet.  Felizmente, ele j√° estava emparelhado com um segundo dispositivo chamado <b>Ruth</b> , que queria encontr√°-lo.  Nosso personagem principal √© <b>Lassie</b> : este √© um iPhone de um estranho aleat√≥rio (e inconsciente) que (suponha) tem pelo menos uma conex√£o peri√≥dica √† Internet e GPS confi√°vel.  E Lassie √© uma menina muito boa.  Os dispositivos de rede se comunicam atrav√©s dos servidores iCloud da Apple, conforme mostrado abaixo: <br><br><img src="https://habrastorage.org/webt/3i/fw/7r/3ifw7rim29qycb6yxrmxspebqpo.png"><br><br>  (Como <b>Timmy</b> e <b>Ruth</b> devem ser emparelhados com anteced√™ncia, eles provavelmente pertencem √† mesma pessoa. Mencionei que voc√™ precisaria comprar <i>dois</i> dispositivos Apple para que o sistema funcionasse? Isso √© bom para a Apple.) <br><br>  Estamos considerando um sistema de seguran√ßa, ent√£o a primeira pergunta √©: <i>quem √© o bandido</i> ?  Nessa situa√ß√£o, a resposta √© desagrad√°vel: <i>qualquer um pode ser um atacante em potencial</i> .  √â por isso que o problema √© t√£o interessante. <br><br><h1>  Timmy Anonimato </h1><br>  O aspecto mais importante do sistema √© que voc√™ n√£o deve permitir que pessoas de fora acompanhem <b>Timmy</b> , especialmente quando ele n√£o est√° perdido.  Isso elimina algumas decis√µes bastante √≥bvias, por exemplo, quando <b>o</b> dispositivo <b>de Timmy</b> simplesmente grita: <i>"Ol√°, meu nome √© Timmy, ligue para minha m√£e Ruth e deixe-me saber que estou perdida"</i> .  Tamb√©m elimina praticamente qualquer identificador est√°tico imut√°vel, mesmo opaco e aleat√≥rio. <br><br>  O √∫ltimo requisito √© constitu√≠do pela triste experi√™ncia de servi√ßos que abusam de identificadores est√°ticos (por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">seu</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">endere√ßo MAC WiFi</a> ) para rastrear o movimento de dispositivos.  A Apple tem lutado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">com sucesso misto</a> , identificando aleatoriamente identificadores como endere√ßos MAC.  Se a Apple adicionar um identificador de rastreamento est√°tico para "Find My", todos os problemas s√≥ piorar√£o. <br><br>  Esse requisito significa que qualquer mensagem enviada por <b>Timmy</b> deve ser opaca.  Al√©m disso, o conte√∫do dessas mensagens deve mudar com relativa frequ√™ncia para novos valores que n√£o podem ser associados aos antigos.  Uma maneira √≥bvia de um dispositivo emparelhado reconhecer tais mensagens √© fazer com que <b>Timmy</b> e <b>Ruth</b> concordem com uma longa lista de ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aliases</a> ‚Äù aleat√≥rios para <b>Timmy</b> , e deixe <b>Timmy</b> escolher um diferente a cada vez. <br><br>  Isso realmente ajuda.  Cada vez que <b>Lassie</b> v√™ algum dispositivo (desconhecido) transmitindo o identificador, ela n√£o saber√° se pertence a <b>Timmy</b> : mas pode envi√°-lo aos servidores da Apple junto com sua pr√≥pria localiza√ß√£o GPS.  No caso de <b>Timmy se</b> perder, <b>Ruth</b> pode pedir √† Apple para encontrar todos os aliases poss√≠veis de <b>Timmy</b> .  Nessa situa√ß√£o, ningu√©m fora da Apple reconhecer√° essa lista e at√© a pr√≥pria Apple a reconhecer√° somente depois que algu√©m se perder, portanto, essa abordagem evita a maioria das op√ß√µes de rastreamento. <br><br>  Uma maneira um pouco mais eficiente de implementar essa id√©ia √© usar uma fun√ß√£o criptogr√°fica (por exemplo, uma fun√ß√£o MAC ou hash) para gerar uma lista de aliases a partir de um pequeno "sid", cujas c√≥pias s√£o armazenadas por <b>Timmy</b> e <b>Ruth</b> .  Isso √© bom porque reduz a quantidade de dados armazenados.  Mas, para encontrar <b>Timmy</b> , <b>Ruth</b> ainda precisa enviar todos os apelidos - ou sementes - para a Apple, que precisar√° procurar todos os apelidos em seu banco de dados. <br><br><h1>  Escondendo a localiza√ß√£o de Lassie </h1><br>  A abordagem descrita com pseud√¥nimos deve esconder <b>a</b> <i>identidade</i> de <b>Timmy</b> de <b>Lassie</b> e at√© da Apple (at√© o momento em que <b>Ruth</b> come√ßa a procur√°-lo).  No entanto, h√° uma grande desvantagem: <i>n√£o oculta as coordenadas GPS de <b>Lassie</b></i> . <br><br>  Isso √© ruim por pelo menos alguns motivos.  Cada vez que <b>Lassie</b> descobre um dispositivo com sinal BLE, deve enviar sua localiza√ß√£o atual aos servidores da Apple (junto com o apelido que v√™).  Isso significa que <b>Lassie</b> constantemente diz √† Apple onde ela est√°.  Al√©m disso, mesmo que a Apple prometa n√£o armazenar <b>a</b> identidade <b>de Lassie</b> , o resultado de todas essas mensagens √© um enorme banco de dados centralizado que mostra todos os locais de GPS onde <i>qualquer</i> dispositivo Apple √© encontrado. <br><br>  Observe que a matriz desses dados por si s√≥ produz muitas informa√ß√µes.  Sim, identificadores de dispositivo podem ser aliases - mas isso n√£o torna as informa√ß√µes in√∫teis.  Por exemplo, se <i>algum</i> dispositivo Apple transmite as mesmas coordenadas √† noite, isso indica o endere√ßo prov√°vel da pessoa. <br><br>  Uma maneira √≥bvia de impedir que a Apple divulgue esses dados √© criptograf√°-los para que apenas aqueles que realmente <i>precisam</i> saber a localiza√ß√£o do dispositivo vejam as informa√ß√µes.  Se <b>Lassie</b> receber uma mensagem de <b>Timmy</b> , a √∫nica pessoa que realmente precisa saber <b>a</b> localiza√ß√£o <b>de Lassie</b> √© <b>Ruth</b> .  Para manter essas informa√ß√µes em segredo, <b>Lassie</b> deve criptografar suas coordenadas com <b>a</b> chave p√∫blica <b>de Ruth</b> . <br><br>  Obviamente, surge a pergunta: como <b>Lassie</b> conseguir√° <b>a</b> chave <b>de Ruth</b> ?  A solu√ß√£o √≥bvia para <b>Timmy</b> √© gritar a chave p√∫blica <b>de Ruth</b> em cada uma de suas transmiss√µes.  Mas isso criar√° um identificador est√°tico que novamente permite que <b>Timmy</b> seja rastreado. <br><br>  Para resolver esse problema, <b>Ruth</b> precisa ter <i>muitas chaves p√∫blicas n√£o vinculadas</i> , para que <b>Timmy</b> possa emitir chaves diferentes a cada transmiss√£o.  Uma op√ß√£o √© fazer com que <b>Ruth</b> e <b>Timmy</b> gerem muitos pares de chaves comuns diferentes (ou gerem muitos desses pares a partir de um sid comum).  Mas isso √© chato, e <b>Ruth</b> ter√° que manter muitas chaves secretas.  E os identificadores mencionados na se√ß√£o anterior podem ser obtidos com hash em cada chave p√∫blica. <br><br>  Uma abordagem um pouco melhor (que a Apple pode usar ou n√£o) envolve a <i>randomiza√ß√£o de</i> teclas.  Esse √© um recurso de alguns <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sistemas de</a> criptografia, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Elgamal</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">permite que qualquer um dos lados aleatoriamente a chave p√∫blica</a> , para que n√£o seja associada ao original.  A melhor parte desse recurso √© que o <b>Root</b> pode usar <i>uma chave secreta, independentemente da vers√£o aleat√≥ria de sua chave p√∫blica usada para criptografia</i> . <br><br><img src="https://habrastorage.org/webt/ur/vu/dd/urvudddpzdcr5boou0ntvnxjmsu.png"><br><br>  Tudo isso leva √† id√©ia final do protocolo.  Em cada transmiss√£o, <b>Timmy</b> transmite um novo pseud√¥nimo e uma c√≥pia aleat√≥ria da chave p√∫blica de <b>Ruth</b> .  Quando <b>Lassie</b> recebe a transmiss√£o, ela criptografa suas coordenadas GPS com a chave p√∫blica e envia uma mensagem criptografada para a Apple.  <b>Ruth</b> pode enviar aliases de <b>Timmy</b> para servidores da Apple e, se a Apple encontrar uma correspond√™ncia, ela poder√° receber e descriptografar coordenadas GPS. <br><br><h1>  Resolve todos os problemas? </h1><br>  O desagrad√°vel √© que n√£o h√° solu√ß√£o ideal para muitas situa√ß√µes estranhas na fronteira.  Por exemplo, e se <b>Timmy tiver</b> m√°s inten√ß√µes e quiser fazer <b>Lassie</b> revelar sua localiza√ß√£o na Apple?  E se Old Smithers tentar sequestrar <b>Lassie</b> ? <br><br>  Em algum momento, a resposta a essa pergunta se resume ao fato de que fizemos todo o poss√≠vel: quaisquer problemas restantes devem ser movidos al√©m do modelo de amea√ßa.  √Äs vezes, at√© Lassie sabe quando parar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt455054/">https://habr.com/ru/post/pt455054/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt455030/index.html">Especifica√ß√µes PHP</a></li>
<li><a href="../pt455032/index.html">N√£o √© um bug, mas uma caracter√≠stica: um estudo da motilidade e atividade cerebral de uma pessoa com polidactilia</a></li>
<li><a href="../pt455038/index.html">Sobre como o Plesk visitou o KubeCon</a></li>
<li><a href="../pt455048/index.html">Implementa√ß√£o t√©cnica do m√©todo de potenciais t√©rmicos para an√°lise de territ√≥rios</a></li>
<li><a href="../pt455050/index.html">Usando o banco de dados Oracle para an√°lise t√©cnica de mercado</a></li>
<li><a href="../pt455056/index.html">Gr√°ficos primitivos para pregui√ßosos, oldfags e oldfags pregui√ßosos</a></li>
<li><a href="../pt455060/index.html">Homer ou o primeiro opensource. parte 1</a></li>
<li><a href="../pt455062/index.html">Casos de experimentos bem-sucedidos (e n√£o muito) de Yandex.Navigator</a></li>
<li><a href="../pt455064/index.html">Talento vs. Sorte: O Papel da Chance no Sucesso e Fracasso</a></li>
<li><a href="../pt455066/index.html">Transmiss√£o e apresenta√ß√µes do MeetUp UPD2 de an√°lise do sistema</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>