<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💂 👧🏽 👨🏻‍🔧 Wie wir einen Werbekampagnen-Service erstellt haben, der der DSGVO entspricht 🦖 🌏 👩‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die im Mai dieses Jahres in Kraft getretene DSGVO hat den Internet-Marketing-Markt ernsthaft beeinträchtigt. Die Teilnehmer möchten die genaueste Ziel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir einen Werbekampagnen-Service erstellt haben, der der DSGVO entspricht</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/maxilect/blog/432772/">  Die im Mai dieses Jahres in Kraft getretene DSGVO hat den Internet-Marketing-Markt ernsthaft beeinträchtigt.  Die Teilnehmer möchten die genaueste Zielgruppe für die Anzeige von Anzeigen bilden. Dafür ist es jedoch erforderlich, die ausdrückliche Zustimmung des Nutzers einzuholen. Andernfalls kann selbst eine kleine Nischenressource mit mehreren Millionen Bußgeldern belegt werden.  Einige Ressourcen wurden geschlossen, aber viele werden konvertiert, um neuen Anforderungen gerecht zu werden.  Ein gutes Beispiel dafür ist unser Projekt eines Werbekampagnen-Management-Service für einen Kunden aus den USA. <br><br><img src="https://habrastorage.org/webt/i2/ko/yo/i2koyopci8twyqzurhdgqkcxym8.jpeg" alt="Bild"><br><a name="habracut"></a><br><h3>  Über den Service </h3><br>  Unser Kunde, ein amerikanisches Unternehmen aus Los Angeles, konzentriert sich auf das Marketing in der Musikindustrie.  Der Service bietet Unterstützung für komplexe Werbekampagnen für Teams unterschiedlicher Größe - von Banden um die Ecke bis zu den Stars der Weltbühne. <br><br>  Im Wesentlichen handelt es sich bei unserem Kundenservice um ein Startup, das eine spezialisierte Marketingplattform entwickelt, mit der Investitionen von Plattenfirmen gesammelt werden können, da die Besonderheiten des Publikumsverhaltens in einer bestimmten Branche berücksichtigt werden.  Mit der Plattform können Sie Anzeigen gezielt schalten, indem Sie das Verhalten von Nutzern analysieren, die einmal Interesse an einem bestimmten Team gezeigt haben.  Die Hauptnutzer der Ressource sind Musiker und Industriearbeiter (Manager, Mitarbeiter von Plattenfirmen, Konzertveranstalter und viele andere). <br><br>  Zu Beginn unseres Projekts funktionierte der Service bereits und konnte sich eine bestimmte Position auf dem Markt sichern.  Es war jedoch eher ein Prototyp, der die Grundhypothese eines Unternehmens testete, zumal ein Teil der Funktionalität über Partnerdienste implementiert wurde.  Wir haben uns mit der Entwicklung verbunden, um eine vollwertige Architektur zu schaffen, und die DSGVO war der eigentliche Anstoß, der alle Transformationen auslöste.  Unsere Aufgabe war es nicht nur, den bestehenden Dienst zu aktualisieren, sondern ihn mit der neuen Gesetzgebung neu zu erstellen, zu aktualisieren und eine einheitlichere Benutzeroberfläche zu schaffen. <br><br><h3>  Implementierung </h3><br>  Das gesamte Projekt war in mehrere Phasen unterteilt. <br><br><img src="https://habrastorage.org/webt/pi/0r/n8/pi0rn8jspha0icrlm2fowfagm8k.jpeg" alt="Bild"><br><br>  In der ersten Phase haben wir den Teil, der zuvor in PHP - Link Shortener und Authorization Service funktioniert hatte, von Grund auf neu geschrieben. <br><br>  Link Shortener ist ein Teil der Funktionalität, die allen registrierten Benutzern kostenlos zur Verfügung steht und dazu dient, Kunden für die kostenpflichtigen Dienste des Unternehmens zu gewinnen.  Mit diesem Dienst können Sie einen langen Link zu einem kurzen Formular erstellen, um ihn in sozialen Netzwerken zu veröffentlichen.  Gleichzeitig können Sie den Link anpassen, indem Sie beispielsweise Geo-Targeting festlegen: Je nach Land, aus dem der Benutzer stammt, können ihm verschiedene Zielseiten angezeigt werden. <br>  Bei der Aktualisierung des Backends haben wir OpenJDK 1.8, Kotlin und Spring boot / data / web verwendet - das Standard-Framework für ein Projekt, das keine hohen Lasten erwartet.  Übrigens haben wir in diesem Projekt Kotlin zum ersten Mal „im Kampf“ ausprobiert, und aufgrund seiner Syntax konnten wir die Entwicklung erheblich beschleunigen.  Auf jeden Fall werden wir es in anderen Projekten verwenden. <br><br>  Die in der ersten Phase implementierte Datenbank des Autorisierungsdienstes und des Kürzers basiert auf PostgreSQL - das relationale Datenspeichermodell war zur Lösung dieser Probleme gut geeignet. <br><br>  In der zweiten Phase haben wir das Management von Werbekampagnen übernommen.  Diese Funktionalität auf der Client-Plattform gab es auch schon früher, jedoch über den Service des Partners, für den Sie bezahlen mussten.  Jetzt ist die Plattform des Kunden so weit gewachsen, dass die Infrastruktur gepflegt werden musste.  Im Gegensatz zu Drittanbietern ist es viel einfacher, den eigenen Service in die richtige Richtung zu entwickeln und schnell die erforderlichen Änderungen vorzunehmen. <br><br>  In diesem Teil des Projekts haben wir nur die externe API für den Kampagnenmanager implementiert.  In der dritten Phase haben wir dieses Modul entwickelt - wir haben die API fertiggestellt und eine vollwertige Benutzeroberfläche für den Kampagnenmanager erstellt. <br><br>  Parallel dazu haben wir eine kleine proprietäre DMP (Data Management Platform) entwickelt, die die Erfassung von Besucherdaten verwaltet.  DMP-Daten werden in MongoDB gespeichert, da wir uns entschlossen haben, die Grundlagen für die zukünftige horizontale Skalierung dieser Datenbank zu verlassen.  Jetzt bedient DMP bis zu zweitausend Anfragen pro Sekunde (in Spitzen), während wir uns darauf konzentrierten, etwa ein Terabyte Daten zu speichern.  Ein solches Volume hätte in PostgreSQL gespeichert werden können, aber auf lange Sicht wäre es notwendig gewesen, große Anstrengungen zur Skalierung zu unternehmen. <br>  Dieselbe MongoDB wird in der Kampagnenmanager-Datenbank (Campaign DB) verwendet - hier hat uns das Modell einer dokumentenorientierten Datenbank gut angesprochen.  Kampagnen werden als einzelne Einheiten ausgeführt und können erweitert werden. <br><br>  Alle Caches funktionieren auf Redis. <br><br>  Frontend: Angular 5, TypeScript, HTML5, Sass, Node.js, npm, Angular CLI. <br><br>  In der letzten Phase des Projekts haben wir die Integration von Client-Systemen und den Service eines wichtigen Partners abgeschlossen, wodurch dem Unternehmen der Zugang zu einer riesigen Anzahl von Musikern ermöglicht wird, wodurch die Anzahl der Benutzer erhöht wird. <br><br>  Es gab einige Schwierigkeiten im Projekt.  Der Kunde wollte Benutzerdaten und Registrierungen speichern, die während des Betriebs des Dienstes gesammelt wurden, während das Modell geringfügig geändert wurde.  Parallel zur Änderung der Architektur haben wir Registrierungen übertragen und deren Prinzipien geändert - vom Benutzernamen zur E-Mail als Login, was uns aufgrund der begrenzten Anzahl von Benutzern mit derselben E-Mail-Adresse viele schlaflose Nächte bescherte.  Das Modell der Rechte im System hat sich geändert.  Früher arbeitete der Dienst nach einem zweistufigen Modell, aber wir haben ein Modell von Rechten ohne Einschränkungen implementiert (einschließlich der Möglichkeit, eingeschränkte Rechte zu erteilen). <br><br>  Gleichzeitig wurde die Funktionalität erweitert.  Beispielsweise wurde in einer der Phasen Multistore angezeigt, mit deren Hilfe Endbesucher, die auf kurze Links zu einer bestimmten Komposition klicken, Seiten mit einer Liste von Diensten einrichten können, bei denen diese Kompositionen zum legalen Kauf oder zum Abhören verfügbar sind. <br><br><h3>  Es lohnt sich, separat über die DSGVO zu sprechen </h3><br>  Der Hauptmarkt unseres Kunden sind die USA, aber etwa 10% des Verkehrs, den das Unternehmen nicht verlieren wollte, stammte aus Europa.  Seit Inkrafttreten der neuen Verordnung (25. Mai 2018) wurde ihre Ausrichtung einfach deaktiviert.  Nach Rücksprache mit Anwälten haben wir den Service so aufgebaut, dass er nicht der DSGVO widersprach, und ab dem 16. August haben wir erneut mit dem Targeting begonnen. <br>  Ehrlich gesagt haben wir die Feinheiten der Vorschriften in der gesamten Gruppe von zwei Wochen untersucht.  Die Schwierigkeit in dieser Phase bestand darin, dass es angesichts der allgemeinen Unschärfe der Formulierungen bisher keine Strafverfolgungspraxis gibt - reale Fälle, die zeigen könnten, wie man es richtig und wie man es falsch macht.  Jetzt (nach eigenen Recherchen und Konsultationen mit Anwälten) sind wir jedoch von der implementierten Architektur der Lösung überzeugt. <br><br>  Die Logik des Dienstes beinhaltete das Hinzufügen eines Benutzers, der einem kurzen Link zu einer bestimmten Zielgruppe folgt, damit ihm später Anzeigen gezeigt werden können.  In Bezug auf die DSGVO kann dies nicht ohne die ausdrückliche Zustimmung des Benutzers erfolgen.  Und wir haben eine Einverständniserklärung implementiert. Wenn Sie auf den Link unten auf der Seite klicken, wird ein Schild mit einer Frage und zwei Schaltflächen angezeigt.  Die Anfrage wird für Benutzer geöffnet, deren IP zu Europa gehört, und ihre Antwort wird in Form von Cookies gespeichert, sodass Besucher nicht jedes Mal Tasten drücken müssen. <br>  Wenn es keine Benutzereinwilligung gibt (d. H. Cookies), zeigen wir einfach kein Pixel an, d. H.  In der allgemeinen Statistik des Dienstes wird die Tatsache des Besuchs gezählt, Benutzerdaten werden jedoch nicht erfasst und berücksichtigt. <br><br>  Die DSGVO legt architektonische Einschränkungen fest - personenbezogene Daten müssen nicht nur korrekt erfasst, sondern auch sicher gespeichert werden.  In unserem Fall gelten diese Einschränkungen für das implementierte DMP (trotz der Tatsache, dass anonyme Daten mit anonymen Kennungen gespeichert werden, die nur eine hypothetische Dekononymisierung ermöglichen) und die Datenbank des Autorisierungsdienstes.  In unserer Architektur sind diese Basen eindeutig in separaten Blöcken zugeordnet.  In Übereinstimmung mit den Vorschriften ist der Zugriff Dritter auf diese „sensiblen“ Module natürlich eingeschränkt. <br><br>  Nur der entsprechende Dienst hat Zugriff auf die Autorisierungsdatenbank.  Alle anderen Dienste wissen nichts über die persönlichen Daten des Plattformbenutzers - sie müssen nur vom Autorisierungsdienst validiert werden. <br><br>  Die DMP-Datenbank enthält auch nur den gleichnamigen Dienst.  Gleichzeitig werden nur Aggregate von Zielgruppendaten aus der Datenbank zurückgegeben, nicht jedoch die Daten selbst.  Diese Aggregate bilden die Grundlage für die Analysen, die Benutzer des Dienstes aus der Musikbranche in ihrem persönlichen Konto erhalten. <br>  Wir haben auch ein obligatorisches Verfahren zum Hochladen und Löschen von Benutzerdaten.  Es gab eine Frage, wie überprüft werden kann, ob der Benutzer seine Daten wirklich zu Recht anfordert.  Und wir verwenden das vom Benutzer gespeicherte Cookie als Verifizierungsfaktor. <br><br>  Das Projekt wurde kürzlich abgeschlossen, daher ist es noch zu früh, um über numerische Ergebnisse zu sprechen. <br><br>  Artikelautor: Nikolay Eremin <br><br>  PS Wir veröffentlichen unsere Artikel auf mehreren Websites der Runet.  Abonnieren Sie unsere Seiten auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VK</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FB</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Telegramm-Kanal</a> , um mehr über unsere Veröffentlichungen und andere Maxilect-Nachrichten zu erfahren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de432772/">https://habr.com/ru/post/de432772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de432762/index.html">Ein KI-Lügendetektor kann erkennen, wann eine Person liegt</a></li>
<li><a href="../de432764/index.html">UDB. Was ist das</a></li>
<li><a href="../de432766/index.html">So codieren Sie eine geheime Nachricht in einen Fingerabdruck</a></li>
<li><a href="../de432768/index.html">Drahtlose Kopfhörer für "Serienmarathons": In Dolby werden sie für 599 US-Dollar angeboten</a></li>
<li><a href="../de432770/index.html">Botnets und ihre Typen: Was ist 2018 bekannt?</a></li>
<li><a href="../de432774/index.html">Frontend DevDay. Berichtsaufzeichnung</a></li>
<li><a href="../de432776/index.html">Das Buch "Reagieren in Aktion"</a></li>
<li><a href="../de432778/index.html">Entwicklung eines Tiefsetzstellers auf STM32F334: Funktionsprinzip, Berechnungen, Prototyping</a></li>
<li><a href="../de432780/index.html">Warum Empathie in der Technologiewelt gefragt ist</a></li>
<li><a href="../de432782/index.html">Installation der Zimbra Collaboration Suite mit mehreren Servern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>