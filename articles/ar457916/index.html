<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙍🏾 ⬛️ 🐰 حل WorldSkills مهام وحدة الشبكة في اختصاص "التقييم القطري المشترك". الجزء 2 - الإعداد الأساسي 🤘🏾 👱 🛀🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="نستمر في تحليل مهام وحدة الشبكة لبطولة WorldSkills في كفاءة "إدارة الشبكات والنظام". 

 سيتم النظر في المهام التالية في المقال: 



1. على جميع الأجهز...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>حل WorldSkills مهام وحدة الشبكة في اختصاص "التقييم القطري المشترك". الجزء 2 - الإعداد الأساسي</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457916/" style=";text-align:right;direction:rtl">  نستمر في تحليل مهام وحدة الشبكة لبطولة WorldSkills في كفاءة "إدارة الشبكات والنظام". <br><br>  سيتم النظر في المهام التالية في المقال: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  على جميع الأجهزة ، قم بإنشاء واجهات افتراضية ، واجهات فرعية ، وواجهات حلقة.  تعيين عناوين IP وفقا لطوبولوجيا. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  تمكين آلية SLAAC لإصدار عناوين IPv6 في شبكة MNG على واجهة جهاز التوجيه RTR1 ؛ </li><li style=";text-align:right;direction:rtl">  على الواجهات الافتراضية في VLAN 100 (MNG) على المحولات SW1 ، SW2 ، SW3 ، تمكين وضع التكوين التلقائي IPv6 ؛ </li><li style=";text-align:right;direction:rtl">  على جميع الأجهزة (باستثناء PC1 و WEB) تعيين عناوين الارتباطات المحلية يدويًا ؛ </li><li style=";text-align:right;direction:rtl">  على كافة مفاتيح التبديل ، قم بتعطيل كافة المنافذ غير المستخدمة في المهمة ونقلها إلى VLAN 99 ؛ </li><li style=";text-align:right;direction:rtl">  على مفتاح SW1 ، قم بتمكين القفل لمدة دقيقة واحدة في حالة إدخال كلمة مرور غير صحيحة مزدوجة خلال 30 ثانية ؛ </li></ul></li><li style=";text-align:right;direction:rtl">  يجب أن تكون جميع الأجهزة قابلة للوصول لعنصر تحكم الإصدار 2 من SSH. </li></ol><a name="habracut"></a><br>  يتم تقديم طوبولوجيا الشبكة على المستوى المادي في المخطط التالي: <br><br><img src="https://habrastorage.org/webt/e9/vi/cd/e9vicdacx-qljbarfkqtpcdjcm0.png"><br><br>  يتم تقديم طبولوجيا الشبكة في طبقة ارتباط البيانات في الرسم التخطيطي التالي: <br><br><img src="https://habrastorage.org/webt/wk/-_/uy/wk-_uypaooxm9ymdxobwjhaueou.png"><br><br>  يتم تقديم طوبولوجيا الشبكة على مستوى الشبكة في المخطط التالي: <br><br><img src="https://habrastorage.org/webt/q_/od/h9/q_odh9mn_vq_siwnvn5rpmpkbeg.png"><br><br>  يمكن عرض مثال لحل جميع المهام بتنسيق الفيديو. <br><br>  فيما يلي تكوين أولي للمفاتيح: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/owYWIU7F9sA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  تكوين عنونة IPv6 ، وتمكين آلية SLAAC: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dhuZdgs3Gio" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  تكوين SSH الإصدار 2: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/P9VZFkWGN2M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1 style=";text-align:right;direction:rtl">  مسبقا </h1><br>  قبل إكمال المهام المذكورة أعلاه ، يجدر إعداد التبديل الأساسي على مفاتيح SW1-SW3 ، حيث سيكون أكثر ملاءمة للتحقق من إعداداتها في المستقبل.  سيتم وصف تكوين التبديل بالتفصيل في المقالة التالية ، ولكن الآن سيتم تحديد الإعدادات فقط. <br><br>  الخطوة الأولى هي إنشاء شبكة محلية ظاهرية بالأرقام 99 و 100 و 300 على جميع المحولات: <br><br><pre style=";text-align:right;direction:rtl"><code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#vlan 99 SW1(config-vlan)#exit SW1(config)#vlan 100 SW1(config-vlan)#exit SW1(config)#vlan 300 SW1(config-vlan)#exit</span></span></code> </pre> <br>  الخطوة التالية هي ترجمة واجهة g0 / 1 إلى SW1 في رقم شبكة محلية ظاهرية 300: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 SW1(config-if)#switchport mode access SW1(config-if)#switchport access vlan 300 SW1(config-if)#exit</span></span></code> </pre><br>  يجب تبديل واجهات f0 / 1-2 ، f0 / 5-6 ، التي تتطلع إلى رموز التبديل الأخرى ، إلى وضع الجذع: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/1-2, fastEthernet 0/5-6 SW1(config-if-range)#switchport trunk encapsulation dot1q SW1(config-if-range)#switchport mode trunk SW1(config-if-range)#exit</span></span></code> </pre><br>  عند التبديل SW2 في وضع الجذع ، سيكون هناك واجهات f0 / 1-4: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW2(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/1-4 SW2(config-if-range)#switchport trunk encapsulation dot1q SW2(config-if-range)#switchport mode trunk SW2(config-if-range)#exit</span></span></code> </pre><br>  على مفتاح SW3 في وضع الصندوق ، ستكون هناك واجهات f0 / 3-6 ، g0 / 1: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW3(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/3-6, gigabitEthernet 0/1 SW3(config-if-range)#switchport trunk encapsulation dot1q SW3(config-if-range)#switchport mode trunk SW3(config-if-range)#exit</span></span></code> </pre><br>  في هذه المرحلة ، سوف تسمح إعدادات التبديل بتبديل الحزم المعلمة ، والتي ستكون مطلوبة لإكمال المهام. <br><br><h1 style=";text-align:right;direction:rtl">  1. على جميع الأجهزة ، قم بإنشاء واجهات افتراضية ، واجهات فرعية ، وواجهات حلقة.  تعيين عناوين IP وفقا لطوبولوجيا. </h1><br>  سيكون جهاز توجيه BR1 أول من يتم تكوينه.  وفقًا لطوبولوجيا L3 ، هنا تحتاج إلى تكوين واجهة نوع حلقة ، فهي عبارة عن نسخة احتياطية ، تحت الرقم 101: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  loopback BR1(config)#interface loopback 101 //  ipv4- BR1(config-if)#ip address 2.2.2.2 255.255.255.255 //  ipv6   BR1(config-if)#ipv6 enable //  ipv6- BR1(config-if)#ipv6 address 2001:B:A::1/64 //      BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  للتحقق من حالة الواجهة التي تم إنشاؤها ، يمكنك استخدام الأمر <b><code>show ipv6 interface brief</code></b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Loopback101 [up/up] FE80::2D0:97FF:FE94:5022 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local  2001:B:A::1 //IPv6- ... BR1#</span></span></span></span></code> </pre><br>  هنا يمكنك رؤية أن الاسترجاع نشط <b>وحالته UP</b> .  إذا نظرت أدناه ، يمكنك رؤية عنوانين IPv6 ، على الرغم من أنه تم استخدام أمر واحد فقط لتعيين عنوان IPv6.  الحقيقة هي أن <b><code>FE80::2D0:97FF:FE94:5022</code></b> هو عنوان الارتباط المحلي الذي تم تعيينه عند تمكين ipv6 على الواجهة باستخدام أمر <b><code>ipv6 enable</code></b> . <br><br>  ولعرض عنوان IPv4 ، يتم استخدام أمر مشابه: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ip interface brief ... Loopback101 2.2.2.2 YES manual up up ... BR1#</span></span></code> </pre><br>  بالنسبة إلى BR1 ، يجب عليك تهيئة واجهة g0 / 0 على الفور ، وهنا تحتاج فقط إلى تعيين عنوان IPv6: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      BR1(config)#interface gigabitEthernet 0/0 //   BR1(config-if)#no shutdown BR1(config-if)#ipv6 enable BR1(config-if)#ipv6 address 2001:B:C::1/64 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  يمكنك التحقق من الإعدادات بنفس الأمر <b><code>show ipv6 interface brief</code></b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief GigabitEthernet0/0 [up/up] FE80::290:CFF:FE9D:4624 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local  2001:B:C::1 //IPv6- ... Loopback101 [up/up] FE80::2D0:97FF:FE94:5022 //link-local  2001:B:A::1 //IPv6-</span></span></span></span></code> </pre><br>  بعد ذلك ، سيتم تكوين جهاز توجيه مزود خدمة الإنترنت.  هنا ، على الوظيفة ، سيتم تكوين الاسترجاع بالرقم 0 ، لكن بالإضافة إلى ذلك ، من الأفضل تهيئة واجهة g0 / 0 التي يجب أن يكون العنوان 30.30.30.1 فيها ، لسبب أنه لن يتم قول شيء في المهام اللاحقة حول تكوين هذه الواجهات.  أولاً ، يتم تكوين الاسترجاع بالرقم 0: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">ISP(config)<span class="hljs-meta"><span class="hljs-meta">#interface loopback 0 ISP(config-if)#ip address 8.8.8.8 255.255.255.255 ISP(config-if)#ipv6 enable ISP(config-if)#ipv6 address 2001:A:C::1/64 ISP(config-if)#exit ISP(config)#</span></span></code> </pre><br>  باستخدام الأمر <code>show ipv6 interface brief</code> ، يمكنك التحقق من صحة <code>show ipv6 interface brief</code> .  ثم يتم تكوين واجهة g0 / 0: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/0 BR1(config-if)#no shutdown BR1(config-if)#ip address 30.30.30.1 255.255.255.252 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  بعد ذلك ، سيتم تكوين RTR1.  هنا تحتاج أيضًا إلى إنشاء استرجاع بالرقم 100: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface loopback 100 BR1(config-if)#ip address 1.1.1.1 255.255.255.255 BR1(config-if)#ipv6 enable BR1(config-if)#ipv6 address 2001:A:B::1/64 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  أيضًا على RTR1 ، من الضروري إنشاء واجهات فرعية افتراضية لـ vlan'ov برقمين 100 و 300. يمكنك القيام بذلك على النحو التالي. <br><br>  أولاً ، قم بتمكين الواجهة الفعلية g0 / 1 باستخدام أمر no shutdown: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">RTR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 RTR1(config-if)#no shutdown RTR1(config-if)#exit</span></span></code> </pre><br>  ثم يتم إنشاء واجهات فرعية برقمين 100 و 300 وتكوينها: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     100      RTR1(config)#interface gigabitEthernet 0/1.100 //    dot1q   vlan'a 100 RTR1(config-subif)#encapsulation dot1Q 100 RTR1(config-subif)#ipv6 enable RTR1(config-subif)#ipv6 address 2001:100::1/64 RTR1(config-subif)#exit //     300      RTR1(config)#interface gigabitEthernet 0/1.300 //    dot1q   vlan'a 100 RTR1(config-subif)#encapsulation dot1Q 300 RTR1(config-subif)#ipv6 enable RTR1(config-subif)#ipv6 address 2001:300::2/64 RTR1(config-subif)#exit</span></span></code> </pre><br>  قد يختلف رقم الواجهة البينية عن رقم الشبكة المحلية التي سيعمل بها ، ولكن من أجل الراحة ، من الأفضل استخدام رقم الواجهة البينية الذي يطابق رقم الشبكة المحلية الظاهرية.  في حالة تعيين نوع التغليف عند إعداد الواجهة الفرعية ، حدد الرقم الذي يطابق عدد vlan'a.  وبالتالي ، بعد <b><code>encapsulation dot1Q 300</code></b> سوف تمر الواجهة الفرعية فقط بحزم vlan'a برقم 300. <br><br>  سيكون النهائي في هذه المهمة هو جهاز التوجيه RTR2.  يجب أن يكون الاتصال بين SW1 و RTR2 في وضع الوصول ، فتمرير واجهة التبديل فقط الحزم الموجهة إلى رقم vlan'a 300 نحو RTR2 ، وهذا مذكور في المهمة على طبولوجيا L2.  لذلك ، سيتم تكوين الواجهة الفعلية فقط على RTR2 دون إنشاء واجهات فرعية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">RTR2(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 RTR2(config-if)#no shutdown RTR2(config-if)#ipv6 enable RTR2(config-if)#ipv6 address 2001:300::3/64 RTR2(config-if)#exit RTR2(config)#</span></span></code> </pre><br>  ثم يتم تكوين واجهة g0 / 0: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/0 BR1(config-if)#no shutdown BR1(config-if)#ip address 30.30.30.2 255.255.255.252 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  هذا يكمل تكوين واجهات جهاز التوجيه للمهمة الحالية.  سيتم تكوين واجهات المتبقية بمجرد الانتهاء من المهام التالية. <br><br><h6 style=";text-align:right;direction:rtl">  أ.  تمكين آلية SLAAC لإصدار عناوين IPv6 في شبكة MNG على واجهة جهاز التوجيه RTR1 </h6><br>  يتم تمكين SLAAC افتراضيًا.  الشيء الوحيد الذي يجب فعله هو تمكين توجيه IPv6.  يمكنك القيام بذلك باستخدام الأمر التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">RTR1(config-subif)<span class="hljs-meta"><span class="hljs-meta">#ipv6 unicast-routing</span></span></code> </pre><br>  بدون هذا الأمر ، تعمل المعدات كمضيف.  بمعنى آخر ، بفضل الأمر المذكور أعلاه ، أصبح من الممكن استخدام وظائف ipv6 إضافية ، بما في ذلك إصدار عناوين ipv6 ، وتكوين التوجيه ، وأكثر من ذلك. <br><br><h6 style=";text-align:right;direction:rtl">  ب.  على الواجهات الافتراضية في VLAN 100 (MNG) على المحولات SW1 و SW2 و SW3 ، قم بتمكين وضع التكوين التلقائي لـ IPv6 </h6><br>  يمكن أن يرى من طوبولوجيا L3 أن المحولات متصلة بشبكة VLAN 100. هذا يعني أنك تحتاج إلى إنشاء واجهات افتراضية على المحولات ، ثم يتم تعيينها فقط لتلقي عناوين IPv6 الافتراضية.  تم التكوين الأولي بدقة حتى تتمكن المحولات من استقبال العناوين الافتراضية من RTR1.  يمكنك إكمال هذه المهمة بقائمة الأوامر التالية المناسبة لجميع رموز التبديل الثلاثة: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//    SW1(config)#interface vlan 100 SW1(config-if)#ipv6 enable //  ipv6   SW1(config-if)#ipv6 address autoconfig SW1(config-if)#exit</span></span></code> </pre><br>  يمكنك التحقق من نفس الأمر <code>show ipv6 interface brief</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Vlan100 [up/up] FE80::A8BB:CCFF:FE80:C000 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// link-local  2001:100::A8BB:CCFF:FE80:C000 //  IPv6-</span></span></span></span></code> </pre><br>  بالإضافة إلى عنوان الرابط المحلي ، ظهر عنوان ipv6 الذي تم استلامه من RTR1.  تم إكمال هذه المهمة بنجاح ، ومن الضروري على مفاتيح أخرى كتابة نفس الأوامر. <br><br><h6 style=";text-align:right;direction:rtl">  أ.  على جميع الأجهزة (باستثناء PC1 و WEB) ، قم بتعيين عناوين الارتباط المحلية يدويًا </h6><br>  لا ترضي عناوين IPv6 المكونة من 30 رقمًا المسؤولين ، بحيث يمكنك تغيير الارتباط المحلي يدويًا ، مما يقلل طوله إلى الحد الأدنى للقيمة.  لا يوجد ما يقال في الواجبات حول العناوين التي يجب اختيارها ، لذلك يتم توفير الاختيار المجاني هنا. <br><br>  على سبيل المثال ، عند التبديل SW1 ، يجب عليك تعيين عنوان الرابط المحلي fe80 :: 10.  يمكنك القيام بذلك باستخدام الأمر التالي من وضع التكوين الخاص بالواجهة المحددة: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     vlan 100 SW1(config)#interface vlan 100 //   link-local  SW1(config-if)#ipv6 address fe80::10 link-local SW1(config-if)#exit</span></span></code> </pre><br>  يبدو الآن عنونة أكثر جاذبية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Vlan100 [up/up] FE80::10 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local c 2001:100::10 //IPv6-</span></span></span></span></code> </pre><br>  بالإضافة إلى عنوان الرابط المحلي ، تم تغيير عنوان IPv6 المستلم أيضًا ، حيث يتم إصدار العنوان بناءً على عنوان الرابط المحلي. <br><br>  عند التبديل SW1 ، كان عليك فقط تعيين عنوان الرابط المحلي على واجهة واحدة.  مع جهاز التوجيه RTR1 ، تحتاج إلى إجراء المزيد من الإعدادات - تحتاج إلى تعيين الارتباط المحلي على واجهات فرعية ، على الاسترجاع ، وفي الإعدادات التالية ستظل واجهة النفق 100 تظهر. <br><br>  لتجنب كتابة الأوامر غير الضرورية ، يمكنك تعيين نفس عنوان الارتباط المحلي على جميع الواجهات في وقت واحد.  يمكن القيام بذلك باستخدام الكلمة الأساسية <b><code>range</code></b> متبوعة بقائمة بجميع الواجهات: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      RTR1(config)#interface range gigabitEthernet 0/1.100, gigabitEthernet 0/1.300, loopback 100 //   link-local  RTR1(config-if)#ipv6 address fe80::1 link-local RTR1(config-if)#exit</span></span></code> </pre><br>  عند التحقق من الواجهات ، سيكون من الممكن رؤية أنه تم تغيير عناوين الارتباط المحلية على جميع الواجهات المحددة: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">RTR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief gigabitEthernet 0/1.100 [up/up] FE80::1 2001:100::1 gigabitEthernet 0/1.300 [up/up] FE80::1 2001:300::2 Loopback100 [up/up] FE80::1 2001:A:B::1</span></span></code> </pre><br>  يتم تكوين جميع الأجهزة الأخرى بنفس الطريقة. <br><br><h6 style=";text-align:right;direction:rtl">  د.  في كافة مفاتيح التبديل ، قم بتعطيل كافة المنافذ غير المستخدمة في المهمة ونقلها إلى VLAN 99 </h6><br>  الفكرة الرئيسية هي بنفس الطريقة لتحديد عدة واجهات للتكوين باستخدام الأمر <b><code>range</code></b> ، وعندها فقط يجب عليك كتابة أمر النقل إلى الشبكة المحلية المرغوبة ثم إيقاف تشغيل الواجهات.  على سبيل المثال ، عند التبديل SW1 ، وفقًا لطوبولوجيا L1 ، سيتم إيقاف تشغيل المنافذ f0 / 3-4 و f0 / 7-8 و f0 / 11-24 و g0 / 2.  في هذا المثال ، سيكون الإعداد كما يلي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     SW1(config)#interface range fastEthernet 0/3-4, fastEthernet 0/7-8, fastEthernet 0/11-24, gigabitEthernet 0/2 //   access   SW1(config-if-range)#switchport mode access //   VLAN 99  SW1(config-if-range)#switchport access vlan 99 //   SW1(config-if-range)#shutdown SW1(config-if-range)#exit</span></span></code> </pre><br>  عند التحقق من الإعدادات باستخدام أمر معروف بالفعل ، يجدر الانتباه إلى أن جميع المنافذ غير المستخدمة يجب أن يكون لها حالة <b>إدارية</b> ، مع العلم أن المنفذ قيد إيقاف التشغيل: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ip interface brief Interface IP-Address OK? Method Status Protocol ... fastEthernet 0/3 unassigned YES unset administratively down down</span></span></code> </pre><br>  لمعرفة أي شبكة محلية ظاهرية في المنفذ ، يمكنك استخدام أمر آخر: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ip vlan ... 99 VLAN0099 active Fa0/3, Fa0/4, Fa0/7, Fa0/8 Fa0/11, Fa0/12, Fa0/13, Fa0/14 Fa0/15, Fa0/16, Fa0/17, Fa0/18 Fa0/19, Fa0/20, Fa0/21, Fa0/22 Fa0/23, Fa0/24, Gig0/2 ...</span></span></code> </pre><br>  يجب أن تكون جميع الواجهات غير المستخدمة هنا.  تجدر الإشارة إلى أنه لن يكون من الممكن ترجمة الواجهات إلى شبكة محلية ظاهرية إذا لم يتم إنشاء شبكة محلية ظاهرية.  لهذا الغرض في الإعداد الأولي تم إنشاء جميع vlan'y اللازمة للعمل. <br><br><h6 style=";text-align:right;direction:rtl">  ه.  على مفتاح SW1 ، قم بتمكين القفل لمدة دقيقة واحدة في حالة إدخال كلمة مرور غير صحيحة مزدوجة خلال 30 ثانية </h6><br>  يمكنك القيام بذلك باستخدام الأمر التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//   60; : 2;  : 30 SW1#login block-for 60 attempts 2 within 30</span></span></code> </pre><br>  يمكنك أيضًا التحقق من هذه الإعدادات على النحو التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show login ... If more than 2 login failures occur in 30 seconds or less, logins will be disabled for 60 seconds. ...</span></span></code> </pre><br>  عندما يتم توضيح ذلك بوضوح ، بعد محاولتين فاشلتين في غضون 30 ثانية أو أقل ، سيتم حظر تسجيل الدخول لمدة 60 ثانية. <br><br><h1 style=";text-align:right;direction:rtl">  2. يجب أن تكون جميع الأجهزة قابلة للوصول لإدارة بروتوكول SSH الإصدار 2. </h1><br>  من أجل أن تكون الأجهزة متاحة عبر SSH الإصدار 2 ، يجب عليك أولاً تكوين الجهاز ، لذلك لأغراض إعلامية ، سيتم تكوين الجهاز مع إعدادات المصنع أولاً. <br><br>  يمكنك تغيير نسخة البزل كما يلي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//   SSH  2 Router(config)#ip ssh version 2 Please create RSA keys (of at least 768 bits size) to enable SSH v2. Router(config)#</span></span></code> </pre><br>  يطلب النظام إنشاء مفاتيح RSA للحفاظ على سلامة إصدار SSH 2. بعد نصيحة النظام الذكي ، يمكنك إنشاء مفاتيح RSA باستخدام الأمر التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  RSA  Router(config)#crypto key generate rsa % Please define a hostname other than Router. Router(config)#</span></span></code> </pre><br>  لا يسمح النظام بتنفيذ الأمر لأنه لم يتم تغيير اسم المضيف.  بعد تغيير اسم المضيف ، تحتاج إلى كتابة أمر إنشاء المفتاح مرة أخرى: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">Router(config)<span class="hljs-meta"><span class="hljs-meta">#hostname R1 R1(config)#crypto key generate rsa % Please define a domain-name first. R1(config)#</span></span></code> </pre><br>  الآن لا يسمح النظام بإنشاء مفاتيح RSA ، بسبب عدم وجود اسم مجال.  وبعد تثبيت اسم المجال ، سيكون من الممكن إنشاء مفاتيح RSA.  يجب أن يكون طول مفاتيح RSA 768 بت على الأقل حتى يعمل الإصدار 2 من SSH: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">R1(config)<span class="hljs-meta"><span class="hljs-meta">#ip domain-name wsrvuz19.ru R1(config)#crypto key generate rsa How many bits in the modulus [512]: 1024 % Generating 1024 bit RSA keys, keys will be non-exportable...[OK]</span></span></code> </pre><br>  نتيجة لذلك ، اتضح أنه لكي يعمل SSHv2 ، فأنت تحتاج إلى: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  تغيير اسم المضيف ؛ </li><li style=";text-align:right;direction:rtl">  تغيير اسم المجال ؛ </li><li style=";text-align:right;direction:rtl">  توليد مفاتيح RSA. </li></ol><br>  في المقالة الأخيرة ، تم تقديم إعدادات تغيير اسم المضيف واسم المجال على جميع الأجهزة ، وبالتالي ، لمواصلة تكوين الأجهزة الحالية ، ما عليك سوى إنشاء مفاتيح RSA: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs">RTR1(config)<span class="hljs-meta"><span class="hljs-meta">#crypto key generate rsa How many bits in the modulus [512]: 1024 % Generating 1024 bit RSA keys, keys will be non-exportable...[OK]</span></span></code> </pre><br>  SSH الإصدار 2 نشط ، ولكن الجهاز لم يتم تكوينه بالكامل.  ستكون الخطوة الأخيرة هي تكوين لوحات المفاتيح الافتراضية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      R1(config)#line vty 0 4 //       SSH RTR1(config-line)#transport input ssh RTR1(config-line)#exit</span></span></code> </pre><br>  في المقالة الأخيرة ، تم تكوين نموذج AAA ، حيث تم تعيين المصادقة على وحدات تحكم افتراضية باستخدام قاعدة بيانات محلية ، وكان على المستخدم إدخال الوضع المميز فورًا بعد المصادقة.  يحاول أبسط فحص صحة SSH الاتصال بالأجهزة الخاصة بك.  على RTR1 يوجد استرجاع بعنوان IP 1.1.1.1 ، يمكنك محاولة الاتصال بهذا العنوان: <br><br><pre style=";text-align:right;direction:rtl"> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  ssh RTR1(config)#do ssh -l wsrvuz19 1.1.1.1 Password: RTR1#</span></span></code> </pre><br>  بعد رمز التبديل <b><code>-l</code></b> ، يتم إدخال اسم المستخدم للمستخدم الحالي ، ثم كلمة المرور.  بعد المصادقة ، ينتقل على الفور إلى الوضع المميز ، مما يعني أن SSH قد تم تكوينه بشكل صحيح. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar457916/">https://habr.com/ru/post/ar457916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar457900/index.html">لجنة الاتصالات الفيدرالية الأمريكية ضد خبراء الأرصاد الجوية</a></li>
<li><a href="../ar457902/index.html">Mitap لعلوم البيانات</a></li>
<li><a href="../ar457904/index.html">الراديو الذري - أول بث موسيقي على الإطلاق</a></li>
<li><a href="../ar457906/index.html">يعتقد الأطباء أنه في المستقبل القريب ، ستظهر أجهزة صنع اللقاحات في المنازل والصيدليات</a></li>
<li><a href="../ar457910/index.html">WebFPGA - تطوير Verilog في المتصفح</a></li>
<li><a href="../ar457926/index.html">مقارنة شهادة Agile ، الجزء 1 - ICAgile و Scrum.org و ScrumAlliance و PMI</a></li>
<li><a href="../ar457928/index.html">الترتيب العميق لمقارنة صورتين</a></li>
<li><a href="../ar457930/index.html">ثابت ديناميكي كتابة à la بيثون</a></li>
<li><a href="../ar457932/index.html">تحليل مسابقة IDS Bypass في الايجابية Hack Days 9</a></li>
<li><a href="../ar457936/index.html">نحن ندعوك لحضور مؤتمر Zabbix الأول في روسيا</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>