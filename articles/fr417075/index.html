<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëØ üëº üôè API de peinture CSS ü§õüèª üë®üèΩ‚Äçüåæ üéÖüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selon l'auteur du document, dont nous publions la traduction aujourd'hui, l'API CSS Paint est une technologie incroyablement int√©ressante. De plus, no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>API de peinture CSS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/417075/">  Selon l'auteur du document, dont nous publions la traduction aujourd'hui, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'API CSS Paint</a> est une technologie incroyablement int√©ressante.  De plus, nous parlons non seulement de ses capacit√©s actuelles, mais aussi des ph√©nom√®nes qui lui sont pr√©sent√©s, et que son apparition marque le d√©but de changements tr√®s remarquables dans le monde CSS.  Ici, nous allons parler de l'API CSS Paint et des raisons de son apparition, et parler de la fa√ßon de l'utiliser. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/6c/1q/yu/6c1qyuo29pmcjmojwwou8qb034g.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Qu'est-ce que l'API CSS Paint?</font> </h2><br>  L'API en question n'est qu'une petite partie du nouvel ensemble de sp√©cifications en cours de d√©veloppement dans le cadre du projet CSS Houdini.  D√©crivant bri√®vement ce projet, son essence se r√©sume au fait qu'il donne aux d√©veloppeurs un acc√®s de bas niveau aux m√©canismes CSS internes. <br><br>  L'API CSS Paint vous permet d'appeler la fonction <code>paint()</code> dans des situations o√π, dans des conditions normales, le travail serait effectu√©, par exemple, avec une certaine valeur qui d√©crit une sorte d'image.  Un exemple courant de ceci est la propri√©t√© <code>background-image</code> , lorsque vous travaillez avec laquelle vous pouvez utiliser la fonction <code>url()</code> pour transmettre au syst√®me un lien vers le fichier image: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'assets/myimage.jpg'</span></span>); }</code> </pre> <br>  L'API CSS Paint vous permet d'appeler, au lieu d'une fonction similaire, la fonction <code>paint()</code> , et de lui passer le soi-disant worklet, d√©crit par JavaScript.  Un vorklet peut √™tre per√ßu comme un morceau de code qui permet √† un d√©veloppeur de dessiner par programme presque tout ce qu'il veut.  Et, puisque nous parlons de JavaScript, l'image peut √™tre rendue dynamique.  En soi, cette API est tr√®s similaire √† l'API HTML5 Canvas, et nous allons maintenant parler de la fa√ßon dont tout cela fonctionne. <br><br><h2>  <font color="#3AC1EF">Fonctionnalit√©s de l'API CSS Paint</font> </h2><br>  Si maintenant vous avez le sentiment que tout cela semble bon, mais semble compliqu√©, et que vous pensez que vous √™tes assez √† l'aise avec des images ordinaires, gardez √† l'esprit que les images ordinaires ne perdent pas leur pertinence avec l'av√®nement des nouvelles technologies.  Les utiliser, comme ils l'ont toujours fait, est parfaitement normal.  Le fait que quelque chose de nouveau soit apparu √† l'horizon, et probablement prometteur, ne signifie pas que tout le monde doit imm√©diatement utiliser cette nouvelle solution pour r√©soudre tous les probl√®mes existants.  Cependant, les images ordinaires sont statiques.  La nouvelle API attire avec l'id√©e de cr√©er des images dynamiques. <br><br>  Pensons au <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gradient lin√©aire de la</a> fonction CSS.  La chose est tr√®s puissante.  Jetez un ≈ìil √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cela</a> par exemple.  Mais pouvez-vous imaginer √† quel point il serait plus facile d'obtenir le m√™me effet form√© par des calques superpos√©s si vous n'aviez pas √† utiliser beaucoup d'images d'arri√®re-plan?  Mais ce n'est pas le seul point.  Si vous explorez l'API CSS Paint, vous pouvez comprendre comment ces images sont cr√©√©es lors de l'ex√©cution du programme, ce qui peut √™tre tr√®s utile (en fait, c'est ce que nous pr√©voyons de faire ici). <br><br>  Qu'en est-il de la fonction CSS √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gradient conique</a> ?  On peut dire qu'il n'est pas encore support√© par les navigateurs sans polyfill.  L'utilisation de la nouvelle API vous permet de cr√©er des d√©grad√©s coniques, d'ajuster leurs param√®tres, qui ne sont pas particuli√®rement diff√©rents de ceux de la sp√©cification.  Tout cela signifie qu'en pratique, en utilisant la nouvelle API, vous pouvez cr√©er votre propre polyfill natif.  Et c'est tout simplement merveilleux. <br><br>  Gardez √† l'esprit que tout cela fait partie d'un groupe plus large de fonctionnalit√©s connues sous le nom de CSS Houdini.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici</a> ce que la documentation du projet en dit: "Le but du CSS-TAG Houdini Task Force (CSS Houdini) est de d√©velopper conjointement des m√©canismes qui brisent le myst√®re de la technologie de stylisation des pages Web et de construction de leurs mises en page." <br><br>  Sonne bien, non?  Et, en fait, ces nouveaux m√©canismes visent √† permettre aux d√©veloppeurs d'√©tendre les fonctionnalit√©s de CSS lui-m√™me, en leur donnant de meilleurs outils de style, une prise en charge multi-navigateur et la possibilit√© de cr√©er des polyfills. <br><br>  Le processus de normalisation des nouvelles technologies peut prendre un certain temps.  Tout d'abord, une suggestion est faite pour une nouvelle fonctionnalit√© CSS.  Ensuite - une sp√©cification est √©crite, d'autres processus se produisent.  En cons√©quence, les fabricants de navigateurs mettent en ≈ìuvre de nouvelles sp√©cifications.  Et, comme les d√©veloppeurs ne peuvent souvent pas attendre pour commencer √† utiliser de nouvelles fonctionnalit√©s le plus t√¥t possible, ils doivent tenir compte du fait que les navigateurs plus anciens peuvent ne pas prendre en charge les innovations, et que si certaines sp√©cifications ne sont pas encore enti√®rement impl√©ment√©es, elles peuvent, au cours de leur d√©veloppement, changer s√©rieusement.  Il n'y a peut-√™tre rien √† dire sur les nuances typiques de la mise en ≈ìuvre de diff√©rentes technologies dans diff√©rents navigateurs.  Le projet Houdini peut aller assez loin pour att√©nuer ces probl√®mes, nous permettant de d√©velopper nous-m√™mes la fonctionnalit√© du navigateur, de l'utiliser et d'attendre calmement que les fabricants de navigateurs mettent en ≈ìuvre certaines fonctionnalit√©s.  Voici quelques documents sur ce sujet.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le premier est</a> d√©di√© aux atouts d'Houdini, et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">second</a> est d'utiliser les capacit√©s de ce projet pour cr√©er des animations complexes. <br><br><h2>  <font color="#3AC1EF">Prise en charge de l'API CSS Paint par les navigateurs</font> </h2><br>  Puis-je utiliser l'API CSS Paint aujourd'hui?  Nous pouvons donner une r√©ponse positive √† cette question, m√™me s'il convient de noter que loin de tous les navigateurs prennent en charge cette technologie.  Pour obtenir des informations de support pour cette API, vous pouvez utiliser la ressource <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">caniuse.com</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/55a/42a/4ea/55a42a4ea1ccc056652c9a7b463f8097.png"></div><br>  <i><font color="#999999">Prise en charge de l'API CSS Paint par diff√©rents navigateurs (juillet 2018)</font></i> <br><br>  Comme vous pouvez le voir, cette API ne prend en charge que Chrome jusqu'√† pr√©sent.  Mais quoi qu'il en soit, parlons de la fa√ßon de l'utiliser.  Nous couvrirons les constructions logicielles n√©cessaires pour faire fonctionner la nouvelle API.  Cela inclut de nouvelles fonctionnalit√©s CSS et certains m√©canismes JavaScript assez r√©cents.  Notre exemple sera divis√© en trois √©tapes. <br><br><h2>  <font color="#3AC1EF">√âtape # 1: CSS</font> </h2><br>  Rappelons que pour cr√©er une image √† l'aide de l'API CSS Paint, les widgets sont des fragments de code JS.  Par cons√©quent, pour commencer, nous devons donner un nom au worklet et l'appeler en CSS.  <code>awesomePattern</code> .  En cons√©quence, le CSS ressemblera √† ceci: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">section</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'fallback.png'</span></span>); <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">paint</span></span>(awesomePattern); };</code> </pre> <br>  Les pr√©paratifs pr√©liminaires sont termin√©s, mais tant que le reste de notre exemple n'est pas pr√™t, tout cela ne fonctionnera pas. <br><br><h2>  <font color="#3AC1EF">√âtape # 2: JavaScript</font> </h2><br>  Maintenant, nous devons d√©crire le worklet √† l'aide de JS.  Ici, il est montr√© comment, dans le script principal, un autre script est charg√© qui impl√©mente les fonctionnalit√©s dont nous avons besoin. <br><br><pre> <code class="hljs cs">CSS.paintWorklet.addModule(<span class="hljs-string"><span class="hljs-string">'patternWorklet.js'</span></span>);</code> </pre> <br>  √Ä ce stade, encore une fois, rien ne se passe, car le plus int√©ressant est cach√© dans le fichier <code>patternWorklet.js</code> . <br><br>  Dans le fichier <code>patternWorklet.js</code> nous devons enregistrer la classe du vorklet: <br><br><pre> <code class="hljs lisp">registerPaint('awesomePattern', Shape)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  Ici, nous appelons la fonction <code>registerPaint()</code> et lui transmettons ce que nous consid√©rons comme un worklet, dans ce cas <code>awesomePattern</code> .  De plus, nous transmettons √† cette fonction un lien vers la classe que nous √©crirons, dans ce cas, <code>Shape</code> .  Cette commande doit √™tre ajout√©e apr√®s la d√©claration de la classe correspondante.  Lorsque vous d√©clarez et utilisez des classes, vous ne pouvez pas vous fier √† quelque chose comme un m√©canisme pour augmenter les d√©clarations de fonctions.  Avant de pouvoir utiliser une classe, vous devez la d√©clarer. <br><br>  Ensuite, nous allons utiliser la syntaxe pour d√©clarer les classes ECMAScript 2015 et √©crire une classe qui dessinera l'image d'arri√®re-plan.  √âtant donn√© que cette classe est maintenant enregistr√©e en tant que classe de classe ouvri√®re, nous pouvons utiliser certains m√©canismes sp√©ciaux qui y seront automatiquement disponibles. <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Shape</span></span></span><span class="hljs-class"> { paint(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ctx</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">geom</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">properties</span></span></span><span class="hljs-class">) {   ctx.strokeStyle = 'white';   ctx.lineWidth = 4;   ctx.beginPath();   ctx.arc( 200, 200, 50, 0, 2*</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Math</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PI</span></span></span><span class="hljs-class">);   ctx.stroke();   ctx.closePath(); } }</span></span></code> </pre> <br>  Le rappel <code>paint()</code> a les <code>ctx</code> , <code>geom</code> et <code>properties</code> .  Le param√®tre <code>ctx</code> est le m√™me que le contexte de rendu 2D qui peut √™tre obtenu √† partir de l' <code>&lt;canvas&gt;</code> .  Eh bien, c'est presque pareil.  Le fait est que l' <code>&lt;canvas&gt;</code> vous permet de lire des donn√©es de pixels, mais l'API CSS Paint ne le permet pas.  Malgr√© les diff√©rences, en utilisant <code>ctx</code> , nous pouvons utiliser les m√™mes m√©thodes de sortie graphique que celles utilis√©es lors de l'utilisation de l' <code>&lt;canvas&gt;</code> .  Dans cet exemple, en utilisant la fonction <code>arc()</code> , nous dessinons un cercle. <br><br>  Les deux premi√®res valeurs pass√©es √† la fonction <code>arc()</code> sont les coordonn√©es X et Y du centre du cercle, en pixels, par rapport √† l'origine situ√©e dans le coin sup√©rieur gauche de l'√©l√©ment.  Cependant, je veux que le cercle soit au centre de l'√©l√©ment.  Pour r√©soudre ce probl√®me, le param√®tre <code>geom</code> nous est utile.  Il donne acc√®s √† l'objet <code>PaintSize</code> , qui est une description des param√®tres de l'image.  En particulier, en y faisant r√©f√©rence, nous pouvons lire les param√®tres de <code>width</code> et de <code>height</code> , et c'est exactement ce dont nous avons besoin pour centrer le cercle. <br><br>  En cons√©quence, nous arrivons √† ce code: <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Shape</span></span></span><span class="hljs-class"> { paint(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ctx</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">geom</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">properties</span></span></span><span class="hljs-class">) {     let x = geom.width/2;   let y = geom.height/2;   ctx.strokeStyle = 'white';   ctx.lineWidth = 4;   ctx.beginPath();   ctx.arc(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">y</span></span></span><span class="hljs-class">, 50, 0, 2*</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Math</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PI</span></span></span><span class="hljs-class">);   ctx.stroke();   ctx.closePath();   } } registerPaint('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">awesomePattern'</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Shape</span></span></span><span class="hljs-class">);</span></span></code> </pre> <br>  Vous pouvez voir la version de travail de l'exemple sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CodePen</a> .  √Ä proprement parler, c'est ce que ce code g√©n√®re. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f2/18e/992/0f218e9927aa75625eb0ae0ae0ec8e4e.png"></div><br>  <i><font color="#999999">Cercle cr√©√© avec les API CSS Paint</font></i> <br><br>  Tout cela est bien, mais notre exemple est tr√®s simple.  Voyons, au lieu du cercle habituel, dessiner quelque chose de plus int√©ressant.  Par exemple - tel un ast√©risque - logo du site css-tricks.com. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a1f/26e/5a7/a1f26e5a7d56b1d3d98717c890deabbf.png"></div><br>  <i><font color="#999999">Ast√©risque cr√©√© avec les API de peinture CSS</font></i> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici</a> un projet CodePen qui vous permet de le faire. <br><br>  Lorsque vous examinez le code JS de ce projet, faites attention √† la m√©thode <code>drawStar()</code> et aux nombreuses fonctions utilis√©es lors de l'utilisation de l' <code>&lt;canvas&gt;</code> . <br><br><h2>  <font color="#3AC1EF">√âtape # 3: Propri√©t√©s CSS personnalis√©es</font> </h2><br>  Gr√¢ce aux nouvelles technologies, nous pouvons aller bien plus loin que dessiner des cercles et des √©toiles.  Nous pouvons examiner les puissantes fonctionnalit√©s des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">propri√©t√©s CSS personnalis√©es</a> (variables).  Ils sont d'ailleurs tr√®s int√©ressants d'ailleurs.  Dans notre cas, ils se r√©v√®lent particuli√®rement utiles. <br><br>  Supposons que nous voulons pouvoir changer la taille ou la couleur d'un logo cr√©√© pr√©c√©demment.  Ces param√®tres peuvent √™tre plac√©s dans le code CSS sous la forme de propri√©t√©s personnalis√©es, puis les utiliser dans le programme via le troisi√®me param√®tre, transmis au rappel <code>paint()</code> .  Il s'agit du param√®tre des <code>properties</code> . <br><br>  Nous ajoutons la propri√©t√© <code>--star-scale</code> √† notre code CSS, qui vise √† contr√¥ler le redimensionnement de l'image, et la propri√©t√© <code>--star-color</code> , qui est utilis√©e pour organiser le changement de couleur du logo directement dans CSS.  Voici ce que nous avons obtenu: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">section</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">--star-scale</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">--star-color</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">hsla</span></span>(200, 50%, 50%, 1); <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">paint</span></span>(awesomePattern) };</code> </pre> <br>  Maintenant, revenons √† la classe de workcloth.  Ici, nous devons interagir avec les propri√©t√©s utilisateur d√©crites ci-dessus.  Cela se fait √† l'aide de la m√©thode <code>inputProperties</code> , qui nous donne acc√®s √† toutes les propri√©t√©s CSS et √† leurs valeurs affect√©es. <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">get</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">inputProperties</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'--star-scale'</span></span>,<span class="hljs-string"><span class="hljs-string">'--star-color'</span></span>]; }</code> </pre> <br>  Vous pouvez maintenant travailler avec eux dans la m√©thode <code>paint()</code> : <br><br><pre> <code class="hljs lisp">const size = parseInt(<span class="hljs-name"><span class="hljs-name">properties</span></span>.get('--shape-size').toString())<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  Naturellement, les valeurs obtenues peuvent √™tre utilis√©es dans le code responsable de la formation de l'image.  Cela conduit au fait que si nous, dans le code CSS, modifions la valeur de la <code>--star-scale</code> ou <code>--start-color</code> , cela affectera imm√©diatement l'apparence de l'image. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d2/7a0/676/7d27a06764d4888bcb66dc2a6d8d17b3.gif" alt="image"></div><br>  <i><font color="#999999">L'influence des propri√©t√©s CSS personnalis√©es sur l'image finie</font></i> <br><br>  Cette fonctionnalit√© est impl√©ment√©e dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le m√™me</a> projet CodePen que nous avons mentionn√© ci-dessus. <br><br>  Soit dit en passant, il convient de noter que lors de l'utilisation de la nouvelle API, toutes les propri√©t√©s CSS habituelles li√©es √† la d√©finition de l'arri√®re-plan des √©l√©ments, telles que <code>background-size</code> et <code>background-repeat</code> , fonctionneront de la m√™me mani√®re qu'auparavant.  Ils n'ont pas perdu leur pertinence. <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  L'API CSS Paint est une technologie tr√®s puissante dont les capacit√©s ne se limitent pas √† la cr√©ation d'images d'arri√®re-plan. <br><br>  Imaginez que l'√©l√©ment doit avoir une bordure sp√©ciale, par exemple, qui n'est pas enti√®rement visible ou double.  Peut-√™tre que pour obtenir de tels effets, vous utilisez g√©n√©ralement les pseudo-√©l√©ments <code>::before</code> ou <code>::after</code> , ou peut-√™tre un <code>box-shadow</code> sp√©cialement configur√©.  Les bordures (et bien plus) peuvent √™tre impl√©ment√©es √† l'aide de l'API CSS Paint et de la propri√©t√© <code>border-image</code> . <br><br>  L'API CSS Paint rassemble de nombreuses fonctionnalit√©s int√©ressantes, telles que les widgets, les classes ECMAScript 2015 et les fonctionnalit√©s de l' <code>&lt;canvas&gt;</code> .  De plus, il fournit au d√©veloppeur un logiciel de gestion d'images bas√© sur JavaScript.  Par exemple, en utilisant le m√©canisme d'√©v√©nement, vous pouvez organiser la mise √† jour des propri√©t√©s personnalis√©es, ce qui signifie que l'image elle-m√™me, comme par exemple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , o√π l'√©v√©nement <code>click</code> d√©marre le processus de mise √† jour des propri√©t√©s dans la fonction <code>requestAnimationFrame</code> , qui vous permet de cr√©er une animation chaque fois que l'utilisateur clique sur le bouton.  De plus, m√™me les coordonn√©es du curseur de la souris lorsque vous cliquez sont prises en compte. <br><br>  √Ä premi√®re vue, tout cela peut sembler un peu d√©routant, mais jetons un coup d'≈ìil √† d'autres parties du projet Houdini que nous pourrions rencontrer: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'API CSS Layout</a> permet au d√©veloppeur de faire quelque chose comme <code>display: layout('myCustomLayout')</code> .  Un exemple typique est la cr√©ation de vos propres dispositions de style ma√ßonnerie, mais la plage d'utilisation de cette fonctionnalit√© est beaucoup plus large. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'API Propri√©t√©s et valeurs CSS</a> vous permet de d√©finir des types de propri√©t√©s personnalis√©s. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'API CSS Animation Worklet pousse</a> les op√©rations de traitement d'animation au-del√† du flux principal, ce qui devrait se traduire par des animations parfaitement fluides. </li></ul><br>  En cons√©quence, nous pouvons dire que, litt√©ralement sous nos yeux, il y a l'√©mergence de technologies qui ouvrent de nombreuses nouvelles opportunit√©s pour les d√©veloppeurs Web.  Les processus de normalisation et de mise en ≈ìuvre dans les navigateurs ne sont pas si rapides, mais ils auront tr√®s probablement un impact √©norme sur tout ce qui concerne le style des pages Web. <br><br>  <b>Chers lecteurs!</b>  Quels domaines de l'application API CSS Paint trouvez-vous les plus int√©ressants? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/cp/zf/te/cpzfteyh2kzlthzniyap-5t1h6c.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417075/">https://habr.com/ru/post/fr417075/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417063/index.html">R√©seaux de neurones pour les plus petits</a></li>
<li><a href="../fr417065/index.html">Splunk How-to, ou comment et o√π apprendre Splunk</a></li>
<li><a href="../fr417069/index.html">Encore une fois √† propos d'OpenSSL</a></li>
<li><a href="../fr417071/index.html">Vendredi PHP: Webinaires Skillbox gratuits</a></li>
<li><a href="../fr417073/index.html">Uber Mobile Developer Day</a></li>
<li><a href="../fr417079/index.html">Gestionnaire de packages pour Kubernetes - Helm: Past, Present, Future</a></li>
<li><a href="../fr417081/index.html">Nord, volont√©, espoir, pays sans fronti√®res, ou comment les projets sont r√©alis√©s dans des conditions sib√©riennes s√©v√®res</a></li>
<li><a href="../fr417083/index.html">Fortes charges de la Coupe du monde 2018</a></li>
<li><a href="../fr417085/index.html">Les navigateurs coupent le son dans votre application WebRTC. Arr√™te quoi?</a></li>
<li><a href="../fr417087/index.html">HPE Digitize 2018: √©v√©nement et diffusion en direct</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>