<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ€„ï¸ ğŸ––ğŸ¿ ğŸ¤ è¯¦ç»†èµ„æ–™ ğŸ§“ ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¿ ğŸ¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ‚¨å¤šä¹…æµè§ˆä¸€æ¬¡404é¡µï¼Ÿ é€šå¸¸ï¼Œå®ƒä»¬æ²¡æœ‰æ ·å¼è®¾ç½®å¹¶ä¿ç•™é»˜è®¤è®¾ç½®ã€‚ æœ€è¿‘ï¼Œæˆ‘æ‰¾åˆ°äº†test.do.am ï¼Œå®ƒçš„äº¤äº’å¼å­—ç¬¦å¼•èµ·äº†äººä»¬çš„æ³¨æ„ï¼Œå¹¶æ´»è·ƒäº†é”™è¯¯é¡µé¢ã€‚ 

 å¯èƒ½åªæœ‰ä¸€å¼ çŒ«çš„ç…§ç‰‡ï¼Œç„¶åä»–ä»¬æƒ³åˆ°äº†çœ¼ç›çš„ç§»åŠ¨ï¼Œå¼€å‘äººå‘˜å®æ–½äº†è¿™ä¸ªä¸»æ„ã€‚  ç°åœ¨ï¼Œç”¨æˆ·è®¿é—®é¡µé¢å¹¶æ£€æŸ¥æ•ˆæœã€‚ å®ƒæ˜¯ä¸€ä¸ªå¾ˆé…·ä¸”ä»¤äººæ„‰æ‚¦çš„å°åŠŸèƒ½...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è¯¦ç»†èµ„æ–™</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443720/">æ‚¨å¤šä¹…æµè§ˆä¸€æ¬¡404é¡µï¼Ÿ é€šå¸¸ï¼Œå®ƒä»¬æ²¡æœ‰æ ·å¼è®¾ç½®å¹¶ä¿ç•™é»˜è®¤è®¾ç½®ã€‚ æœ€è¿‘ï¼Œæˆ‘æ‰¾åˆ°äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">test.do.am</a> ï¼Œå®ƒçš„äº¤äº’å¼å­—ç¬¦å¼•èµ·äº†äººä»¬çš„æ³¨æ„ï¼Œå¹¶æ´»è·ƒäº†é”™è¯¯é¡µé¢ã€‚ <br><br> å¯èƒ½åªæœ‰ä¸€å¼ çŒ«çš„ç…§ç‰‡ï¼Œç„¶åä»–ä»¬æƒ³åˆ°äº†çœ¼ç›çš„ç§»åŠ¨ï¼Œå¼€å‘äººå‘˜å®æ–½äº†è¿™ä¸ªä¸»æ„ã€‚ <img src="https://habrastorage.org/webt/b9/ac/cn/b9accnbv6mfn6iopfvyz8tkzr_s.png" alt="å›¾ç‰‡"> ç°åœ¨ï¼Œç”¨æˆ·è®¿é—®é¡µé¢å¹¶æ£€æŸ¥æ•ˆæœã€‚ å®ƒæ˜¯ä¸€ä¸ªå¾ˆé…·ä¸”ä»¤äººæ„‰æ‚¦çš„å°åŠŸèƒ½ï¼Œå¯ä»¥æ•è·ï¼Œç„¶åç”¨æˆ·ä¸åŒäº‹æˆ–æœ‹å‹è®¨è®ºï¼Œç”šè‡³é‡å¤è¯¥åŠŸèƒ½ã€‚ å¦‚æœä¸æ˜¯è¿™æ ·ï¼Œå¯èƒ½ä¼šå¾ˆå®¹æ˜“ï¼š <a name="habracut"></a><br><br><ol><li> ç”¨æˆ·è°ƒæ•´çª—å£å¤§å°æ—¶ï¼Œä¸ä¼šæ›´æ–°ä¸­å¿ƒç‚¹ã€‚ ä½¿ç”¨è¾ƒå°å®½åº¦çš„è§†å£æ‰“å¼€æµè§ˆå™¨çª—å£ï¼Œç„¶åå°†å…¶è°ƒæ•´ä¸ºå…¨å±å¤§å°ï¼Œè¿™åªçŒ«çœ‹èµ·æ¥ä¸åœ¨å…‰æ ‡å¤„ã€‚ </li><li> ä¸­å¿ƒç‚¹ä½äºå·¦çœ¼ï¼Œè€Œä¸æ˜¯åœ†çš„åŒç›®ä¸­å¿ƒã€‚ </li><li> å½“ç”¨æˆ·å°†å…‰æ ‡æ‚¬åœåœ¨çœ¼ç›ä¹‹é—´æ—¶ï¼Œçœ¼ç›çš„è‹¹æœä¸ä¼šèšé›†åœ¨ä¸€èµ·ï¼Œä¹Ÿä¸ä¼šèšç„¦ã€‚ çœ¼ç›æ­£æ³¨è§†ç€æ— ç©·è¿œï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆçŒ«ä¸æ³¨è§†ç”¨æˆ·ï¼Œè€Œæ˜¯æ³¨è§†ç”¨æˆ·çš„åŸå› ã€‚ </li><li> çœ¼ç›çš„åŠ¨ä½œæ˜¯å³æ—¶çš„ï¼Œå®ƒä»¬éœ€è¦ä¿æŒå¹³ç¨³ã€‚ </li><li> è‹¹æœçš„ç§»åŠ¨æ˜¯ç”±äºå·¦è¾¹è·/é¡¶éƒ¨è·çš„å˜åŒ–è€Œå‘ç”Ÿçš„ã€‚ ä¸æ­£ç¡®ï¼Œè¯·åœ¨ä¸‹é¢æ‰¾åˆ°è¯´æ˜ã€‚ </li><li> å¦‚æœå…‰æ ‡ä½äºé¡µè„šä¸‹æ–¹ï¼Œåˆ™çœ¼ç›ä¸ä¼šç§»åŠ¨ã€‚ </li></ol><br>  <b>æˆ‘çš„å»ºè®®</b> <br><br> é¦–å…ˆï¼Œè®©æˆ‘ä»¬å®ç°å®Œç¾çš„çœ¼ç›è¿åŠ¨ã€‚ <br><br>  1.å‡†å¤‡æ ‡è®° <br><br><pre><code class="javascript hljs">&lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"cat"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cat__eye _left"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"cat__eye _right"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt;</span></span></code> </pre> <br>  2.è·å–åˆ°çœ¼ç›å…ƒç´ çš„é“¾æ¥ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cat = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.cat'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> eyes = cat.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'.cat__eye'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> eye_left = eyes[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> eye_right = eyes[<span class="hljs-number"><span class="hljs-number">1</span></span>];</code> </pre> <br>  3.æ³¨å†Œmousemoveäº‹ä»¶ä¾¦å¬å™¨å¹¶è·å–å…‰æ ‡åæ ‡ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mouseX; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mouseY; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'mousemove'</span></span>, e =&gt; { mouseX = e.clientX; mouseY = e.clientY; })</code> </pre><br> æˆ‘åœ¨çª—å£å¯¹è±¡è€Œä¸æ˜¯æ–‡æ¡£ä¸»ä½“ä¸Šæ·»åŠ äº†mousemoveä¾¦å¬å™¨ï¼Œå› ä¸ºæˆ‘éœ€è¦ä½¿ç”¨æ‰€æœ‰å±å¹•æ¥è·å–é¼ æ ‡åæ ‡ã€‚ <br><br>  4.è¿åŠ¨ <br> ç”±äºè¦å¹³æ»‘è¿åŠ¨ï¼Œå› æ­¤æ— æ³•åœ¨mousemoveå¤„ç†ç¨‹åºä¸­è¿›è¡Œç®¡ç†ã€‚ <br><br> æ·»åŠ å°†ç”±requestAnimationFrameè·å–çš„æ›´æ–°æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸æµè§ˆå™¨æ›´æ–°åŒæ­¥ã€‚ é€šå¸¸ï¼Œç»­è®¢æ¯ç§’å‘ç”Ÿ60æ¬¡ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬æ¯16.6æ¯«ç§’æ¯ç§’å°±ä¼šçœ‹åˆ°60å¼ å›¾ç‰‡ã€‚ <br><br> å¦‚æœå¼€å‘äººå‘˜å‡è®¾ç”¨æˆ·çš„æµè§ˆå™¨ä¸æ”¯æŒrequestAnimationFrameï¼Œåˆ™å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨setTimeoutåå¤‡æˆ–ç°æˆçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">polyfill</a> <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.requestAnimationFrame = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.requestAnimationFrame || <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.webkitRequestAnimationFrame || <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.mozRequestAnimationFrame || <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setTimeout(callback, <span class="hljs-number"><span class="hljs-number">1000</span></span> / <span class="hljs-number"><span class="hljs-number">60</span></span>); }; })();</code> </pre> <br> ä¸ºäº†åŠæ—¶æ›´æ–°æˆ–ç¨³å®šè·å–æ›´æ–°ï¼Œæˆ‘æ³¨å†Œäº†å¯åŠ¨å˜é‡ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> started = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mouseX; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mouseY; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'mousemove'</span></span>, e =&gt; { mouseX = e.clientX; mouseY = e.clientY; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!started){ started = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; update(); } }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Here comes eyes movement magic requestAnimationFrame(update); }</span></span></code> </pre> <br> è¿™æ ·ï¼Œæˆ‘å°±ä¸æ–­è·å–æ›´æ–°æ–¹æ³•å’Œå…‰æ ‡åæ ‡ã€‚ ç„¶åï¼Œæˆ‘éœ€è¦è·å–çœ¼ç›å†…éƒ¨è‹¹æœè¿åŠ¨çš„å€¼ã€‚ <br><br> æˆ‘å°è¯•å°†ä¸¤åªçœ¼ç›ä½œä¸ºå•ä¸ªå…ƒç´ ç§»åŠ¨ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dx = mouseX - eyesCenterX; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dy = mouseY - eyesCenterY; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> angle = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.atan2(dy, dx); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> distance = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.sqrt(dx * dx + dy * dy); distance = distance &gt; EYES_RADIUS ? EYES_RADIUS : distance; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(angle) * distance; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.sin(angle) * distance; eye_left.style.transform = <span class="hljs-string"><span class="hljs-string">'translate('</span></span> + x + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px)'</span></span>; eye_right.style.transform = <span class="hljs-string"><span class="hljs-string">'translate('</span></span> + x + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px)'</span></span>;</code> </pre> <br> éå¸¸ç®€å•ï¼šä½¿ç”¨Math.coså’ŒMath.sinæ–¹æ³•ï¼Œæ‰¾åˆ°dxå’Œdyï¼Œå®ƒä»¬æ˜¯çœ¼ç›ä¸­å¿ƒå’Œé¼ æ ‡ä¹‹é—´çš„åæ ‡å·®ï¼Œæ‰¾åˆ°ä»ä¸­å¿ƒåˆ°å…‰æ ‡çš„è§’åº¦ï¼Œè·å¾—æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„è¿åŠ¨å€¼ã€‚ ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸‰å…ƒè¿ç®—ç¬¦</a>å¹¶é™åˆ¶çœ¼ç›ç§»åŠ¨åŒºåŸŸã€‚ <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/michaelchistyakov/embed/preview/mazqQd" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> é¦–å…ˆä¸ºMath.atan2æ–¹æ³•ç»™å‡ºYå€¼ï¼Œç„¶åæ˜¯xå€¼ã€‚ ç»“æœï¼Œç”¨æˆ·æ³¨æ„åˆ°çœ¼â€‹â€‹ç›è¿åŠ¨ä¸è‡ªç„¶å¹¶ä¸”æ²¡æœ‰èšç„¦ã€‚ <br><br> è®©æ¯åªçœ¼ç›ç§»åŠ¨ï¼Œè§‚çœ‹æ—¶ä¸è¦äº’ç›¸å‚ç…§ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// left eye let left_dx = mouseX - eyesCenterX + 48; let left_dy = mouseY - eyesCenterY; let left_angle = Math.atan2(left_dy, left_dx); let left_distance = Math.sqrt(left_dx * left_dx + left_dy * left_dy); left_distance = left_distance &gt; EYES_RADIUS ? EYES_RADIUS : left_distance; let left_x = Math.cos(left_angle) * left_distance; let left_y = Math.sin(left_angle) * left_distance; eye_left.style.transform = 'translate(' + left_x + 'px,' + left_y + 'px)'; // right eye let right_dx = mouseX - eyesCenterX - 48; let right_dy = mouseY - eyesCenterY; let right_angle = Math.atan2(right_dy, right_dx); let right_distance = Math.sqrt(right_dx * right_dx + right_dy * right_dy); right_distance = right_distance &gt; EYES_RADIUS ? EYES_RADIUS : right_distance; let right_x = Math.cos(right_angle) * right_distance; let right_y = Math.sin(right_angle) * right_distance; eye_right.style.transform = 'translate(' + right_x + 'px,' + right_y + 'px)';</span></span></code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/michaelchistyakov/embed/preview/BvvoKM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> æœ‰è¶£ä½†æ¯”ä»¥å‰çš„ç»“æœå·®çš„æ˜¯ï¼Œçœ¼ç›ç‹¬ç«‹åœ°ä¸Šä¸‹ç§»åŠ¨ã€‚ å› æ­¤ï¼Œæˆ‘å°†ç¬¬ä¸€ä¸ªæ¼”ç¤ºç”¨ä½œåŸºæœ¬çš„è¿åŠ¨æœºåˆ¶ï¼Œå¹¶åœ¨å…‰æ ‡ä½äºå­—ç¬¦ä¸­å¿ƒæ—¶ä½¿çœ¼ç›çš„è‹¹æœèšåœ¨ä¸€èµ·ã€‚ <br><br> æˆ‘ä¸ä¼šæè¿°å®Œæ•´çš„ä»£ç ï¼Œè¯·åœ¨æ­¤æŸ¥æ‰¾ç»“æœï¼š <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/michaelchistyakov/embed/preview/ebbpgd" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> é€šè¿‡åå¤è¯•éªŒï¼Œæˆ‘ä¸ºçœ¼ç›çš„ç§»åŠ¨å’Œèšç„¦åŒ¹é…äº†æ‰€éœ€çš„å‚æ•°ã€‚ æ‰€ä»¥ç°åœ¨æˆ‘éœ€è¦å¹³æ»‘ã€‚ <br><br>  <b>å¹³æ»‘å¤„ç†</b> <br><br> é“¾æ¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TweenMaxåº“</a>å¹¶ç¼–å†™ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼Ÿ <br><br><pre> <code class="javascript hljs">TweenMax.to( eye, <span class="hljs-number"><span class="hljs-number">0.15</span></span>, {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: x, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: y});</code> </pre> <br> ä¸ºç®€å•ä»»åŠ¡é“¾æ¥æ•´ä¸ªlibæ²¡æœ‰æ„ä¹‰ï¼Œå› æ­¤ï¼Œæˆ‘ä»å¤´å¼€å§‹è¿›è¡Œå¹³æ»‘å¤„ç†ã€‚ <br><br> å‡è®¾é¡µé¢ä¸Šåªæœ‰ä¸€åªçœ¼ç›å…ƒç´ ï¼Œå¹¶ä¸”å…¶ä½ç§»åŒºåŸŸå®Œå…¨æ²¡æœ‰é™åˆ¶ã€‚ ä¸ºäº†ä½¿é¼ æ ‡åæ ‡å€¼æ›´å¹³æ»‘ï¼Œæˆ‘ä½¿ç”¨ä»¥ä¸‹æœºåˆ¶ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SMOOTHING = <span class="hljs-number"><span class="hljs-number">10</span></span>; x += (needX - x) / SMOOTHING; y += (needY - y) / SMOOTHING; eye.style.transform = <span class="hljs-string"><span class="hljs-string">'translate3d('</span></span> + x + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px,0)'</span></span>;</code> </pre> <br> æˆ‘ä½¿ç”¨translate3då°†çœ¼ç›åˆ†å¼€åˆ°å¦ä¸€ä¸ªæ¸²æŸ“æµå¹¶åŠ å¿«å®ƒä»¬çš„é€Ÿåº¦ã€‚ <br><br> è¯€çªæ˜¯æ¯éš”16.6æ¯«ç§’ï¼ˆæ¯ç§’60å¼ å›¾ç‰‡ï¼‰çš„å˜é‡xå’Œyè¶‹å‘äºéœ€è¦çš„å€¼ã€‚ æ¯æ¬¡ç»­ç­¾ä¼šå°†ä»·å€¼å…³é—­ä¸ºæ‰€éœ€å·®é¢çš„1/10ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> needX = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> SMOOTHING = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ x += (needX - x) / SMOOTHING; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x); }</code> </pre> <br> ç„¶åæ¯éš”16.6æ¯«ç§’æ›´æ–°ä¸€æ¬¡ï¼Œæˆ‘ä»¬å°†è·å¾—ç®€å•çš„å¹³æ»‘å’Œä¸‹ä¸€ä¸ªxå€¼ï¼ˆå¤§çº¦ï¼‰ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">75</span></span> <span class="hljs-number"><span class="hljs-number">87.5</span></span> <span class="hljs-number"><span class="hljs-number">93.75</span></span> <span class="hljs-number"><span class="hljs-number">96.875</span></span> <span class="hljs-number"><span class="hljs-number">98.4375</span></span> <span class="hljs-number"><span class="hljs-number">99.21875</span></span> <span class="hljs-number"><span class="hljs-number">99.609375</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre> <br> è¿˜æœ‰ä¸€äº›ä¸æ˜æ˜¾çš„æŠ€å·§ï¼š <br><br>  -å¼€å§‹è¿™é¡¹æ£€æŸ¥ä»¥ä¼˜åŒ–å·¥ä½œé‡ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(x != needX || y != needY){ eye.style.transform = <span class="hljs-string"><span class="hljs-string">'translate3d('</span></span> + x + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px,0)'</span></span>; }</code> </pre> <br> ä½†æ˜¯å½“å®ƒä»¬æ¥è¿‘çœ¼ç›ä½ç½®å‡ ä¹ç›¸åŒæ—¶ï¼Œå¿…é¡»å°†xç­‰åŒäºneedX <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(x - needX) &lt; <span class="hljs-number"><span class="hljs-number">0.25</span></span>){ x = needX; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(y - needY) &lt; <span class="hljs-number"><span class="hljs-number">0.25</span></span>){ y = needY; }</code> </pre> <br> å¦åˆ™ï¼Œxå’Œyå€¼å°†è¾¾åˆ°needXå’ŒneedYçš„æ—¶é—´å¤ªé•¿ï¼› ä¸ä¼šæœ‰è§†è§‰å·®å¼‚ï¼Œä½†æ˜¯æ¯æ¬¡å±å¹•æ›´æ”¹éƒ½ä¼šå½±å“çœ¼ç›æ ·å¼ã€‚ é¡ºä¾¿è¯´ä¸€å¥ï¼Œä½ å¯ä»¥è‡ªå·±å¼„å¼„å®ƒã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> needX = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> smoothing = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ x += (needX - x) / smoothing; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(x - needX) &gt; <span class="hljs-number"><span class="hljs-number">0.25</span></span> ){ <span class="hljs-comment"><span class="hljs-comment">// replace 0.25 with anything else and check number of x renewals. window.requestAnimationFrame(update); } else { x = needX; } console.log( x.toString(10) ); } update();</span></span></code> </pre> <br>  -å¦‚æœä¸Šé¢çš„æŠ€å·§å¾ˆæ˜ç¡®ï¼Œåˆ™å¯ä»¥åˆ›å»ºæ›´å¤æ‚çš„æ•ˆæœï¼Œä¾‹å¦‚å¼¹ç°§ã€‚ æœ€ç®€å•çš„å¹³æ»‘å’Œå…‰æ ‡è¿‘ä¼¼å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="javascript hljs">x += (mouseX - x) / smoothing; y += (mouseY - y) / smoothing;</code> </pre><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/michaelchistyakov/embed/preview/eQXvvq" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> æ·»åŠ æ‰€éœ€å’Œå½“å‰åæ ‡å€¼ä¹‹é—´çš„å·®å¼‚ã€‚ <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/michaelchistyakov/embed/preview/NEJpeJ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> æœ‰æ—¶è¿‘ä¼¼é™åˆ¶æ˜¯æœ‰æ„ä¹‰çš„ã€‚ ä¸Šé¢æœ‰ä¸€ä¸ªç¤ºä¾‹ï¼Œå…¶ä¸­å€¼ä»0å˜ä¸º100ï¼Œå› æ­¤åœ¨ç¬¬ä¸€ä¸ªè¿­ä»£å€¼è¾¾åˆ°â€œ 50â€æ—¶ï¼Œè¿™æ˜¯1æ­¥çš„å·¨å¤§æ•°å­—ã€‚ è¿™ç§æœºåˆ¶æœ‰ç‚¹è®©äººè”æƒ³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åˆ°é˜¿å–€ç‰æ–¯å’Œä¹Œé¾Ÿçš„æ‚–è®º</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><br></a> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/michaelchistyakov/embed/preview/PVYKRK" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>çœ¨çœ¼</b> <br><br> æ¯éš”2-3ç§’éšè—å¹¶æ˜¾ç¤ºè‹¹æœçš„çœ¼ç›ã€‚ æœ€ç®€å•çš„æ–¹æ³•æ˜¯åŠ¨æ€å€¼y-scaleçš„â€œ displayï¼šnone;â€ï¼Œâ€œ transformï¼šscaleYï¼ˆNï¼‰â€è¦å¤æ‚ä¸€äº›ã€‚ <br><br> åˆ›å»º2ä¸ªconst <br><br>  const BLINK_COUNTER_LIMIT = 180;  -é—ªçƒå¼€å§‹å‰çš„ç»­è®¢æ¬¡æ•°ï¼Œ <br>  const BLINKED_COUNTER_LIMIT = 6;  -ä¸€çœ¨çœ¼æœŸé—´çš„ç»­è®¢æ¬¡æ•°ã€‚ <br><br> è¿˜æœ‰2ä¸ªå˜é‡ï¼Œè¿™äº›å€¼å°†åœ¨æ¯æ¬¡ç»­è®¢æ—¶æ›´æ”¹ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blinkCounter = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blinkedCounter = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre><br> çœ¨çœ¼ä»£ç  <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blinkTransform = <span class="hljs-string"><span class="hljs-string">''</span></span>; blinkCounter++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(blinkCounter &gt; BLINK_COUNTER_LIMIT){ blinkedCounter++ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(blinkedCounter &gt; BLINKED_COUNTER_LIMIT){ blinkCounter = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { blinkTransform = <span class="hljs-string"><span class="hljs-string">' scaleY('</span></span> + (blinkedCounter / BLINKED_COUNTER_LIMIT) + <span class="hljs-string"><span class="hljs-string">')'</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { blinkedCounter = <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  BlinkTransformæ˜¯ç¬”è§¦å˜é‡ï¼Œåœ¨çœ¨çœ¼å’Œçœ¨çœ¼ä¹‹é—´çš„è·Ÿéšä¹‹é—´å…·æœ‰ç©ºå€¼ <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">' scaleY(0.17)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(0.33)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(0.50)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(0.67)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(0.83)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(1.00)'</span></span></code> </pre> <br> æ‰€æœ‰è®¡ç®—éƒ½ç»™å‡ºå˜é‡çœ¨çœ¼å˜æ¢ï¼Œå…¶å€¼åº”æ·»åŠ åˆ°çœ¼ç›ä½ç½®å˜æ¢çš„CSSä»£ç ä¸­ã€‚ å› æ­¤ï¼Œå¦‚æœåœ¨3ç§’çš„åœæœºæ—¶é—´å†…æ·»åŠ äº†ç©ºå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¯¹çœ¼ç›çš„ç¼©æ”¾æ²¡æœ‰å½±å“ï¼Œåˆ™åœ¨é—ªçƒæœŸé—´æ·»åŠ äº†csså€¼ã€‚ <br><br><pre> <code class="javascript hljs">eye_left.style.transform = <span class="hljs-string"><span class="hljs-string">'translate('</span></span> + xLeft + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px)'</span></span> + blinkTransform; eye_right.style.transform = <span class="hljs-string"><span class="hljs-string">'translate('</span></span> + xRight + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px)'</span></span> + blinkTransform;</code> </pre><br>  <b>æ•…äº‹çš„æ•™è®­</b> <br><br> æ¯å¤©æˆ‘ä»¬é‡åˆ°çœ‹èµ·æ¥ç®€å•æ˜äº†çš„äº‹ç‰©ï¼Œç”šè‡³ä¸äº†è§£è¿™ç§å¤–éƒ¨ç®€å•æ€§æ©ç›–äº†å¤§é‡çš„é—®é¢˜å’Œæ”¹è¿›ã€‚ æˆ‘è®¤ä¸ºé­”é¬¼æ˜¯æ„æˆæ•´ä¸ªæœ€ç»ˆç»“æœçš„ç»†èŠ‚ã€‚ ç©†ç½•é»˜å¾·Â·é˜¿é‡Œï¼ˆMuhammad Aliï¼‰æ˜¯20ä¸–çºªæœ€å¥½çš„æ‹³å‡»æ‰‹ï¼Œåœ¨ç›´æ‹³çš„æ—¶å€™ä¸¾èµ·äº†åè„šåè·Ÿã€‚ è¿™ä¸ªåŠ¨ä½œå¢åŠ äº†æ‰“å‡»çš„æœ‰æ•ˆè·ç¦»ï¼Œå¹¶ç»™äº†ä»–æ›´å¤šè·èƒœçš„æœºä¼šã€‚ ä¸€ç›´æœ‰æ•ˆã€‚ <br><br>  <i>é™„è¨€ï¼šæˆ‘å¯¹ç½‘ç«™æ²¡æœ‰ä»»ä½•å½±å“ï¼Œå¸Œæœ›å…¶æ‰€æœ‰è€…ä¸ä¼šå¯¹æˆ‘çš„è¯„è®ºè¡¨ç¤ºå†’çŠ¯ã€‚</i>  <i>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘åœ¨ä»£ç ä¸­å°†â€œ apple of eye = eyeâ€å‘½åä¸ºã€‚</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN443720/">https://habr.com/ru/post/zh-CN443720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN443708/index.html">Changå¨¥å››å·ä»»åŠ¡æ˜¯å†œå†åˆä¸‰ã€‚ æ¼«æ¸¸è€…â€œ Yutu-2â€å¯»æ‰¾...çŸ³å¤´</a></li>
<li><a href="../zh-CN443710/index.html">Java Challengersï¼ƒ4ï¼šå°†å¯¹è±¡ä¸equalsï¼ˆï¼‰å’ŒhashCodeï¼ˆï¼‰è¿›è¡Œæ¯”è¾ƒ</a></li>
<li><a href="../zh-CN443714/index.html">ControlValueAccessorå’Œå¯åœ¨Angularä¸­ç¼–è¾‘çš„å†…å®¹</a></li>
<li><a href="../zh-CN443716/index.html">â€œæˆ‘çš„ç£å¸¦ä¸Šæœ‰å¤‡ä»½ã€‚â€ ç¬¬ä¸€äººç§°æ•…äº‹</a></li>
<li><a href="../zh-CN443718/index.html">30ä¸‡åœºæ¯”èµ›çš„å¥‡å¹»æ¸¸æˆ</a></li>
<li><a href="../zh-CN443722/index.html">é˜Ÿåˆ—çš„è®¾è®¡å’Œå‘½å</a></li>
<li><a href="../zh-CN443724/index.html">AMD Radeon VIIï¼šé«˜ç«¯èŠ¯ç‰‡ï¼ˆç¬¬1éƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN443726/index.html">Palo Alto Networksè®¾ç½®åŠŸèƒ½ï¼šSSL VPN</a></li>
<li><a href="../zh-CN443728/index.html">Google Plusåœæ­¢å·¥ä½œã€‚ é‚£åˆæ€æ ·</a></li>
<li><a href="../zh-CN443730/index.html">Ctrl-Alt-Delï¼šè®¡åˆ’ä¸­çš„ç¨‹åºå‘˜æ·˜æ±°</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>