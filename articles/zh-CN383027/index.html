<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔯 🛒 🖤 一分钱的物联网：实用指南。第2部分，软件 👞 😶 👨🏾‍🤝‍👨🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们将继续一系列指南文章，其中我们将考虑如何实现一种简单而廉价的基于云的物联网设备，该设备具有从无到有的巨大潜力，而无需焊接和不必要的困难。拿一块干净的ESP8266芯片，从DeviceHive安装固件，配置和编写用于访问云服务器的简单Web应用程序。我们组装并连接一个简单的设备到微芯片，可以通过在...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>一分钱的物联网：实用指南。第2部分，软件</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataart/blog/383027/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将继续一系列指南文章，其中我们将考虑如何实现一种简单而廉价的基于云的物联网设备，该设备具有从无到有的巨大潜力，而无需焊接和不必要的困难。拿一块干净的ESP8266芯片，从DeviceHive安装固件，配置和编写用于访问云服务器的简单Web应用程序。我们组装并连接一个简单的设备到微芯片，可以通过在浏览器中单击两次来控制它。这是周期的第二部分，描述了需要哪个软件，如何启动，如何刷新ESP8266并与服务器建立联系。</font></font></i><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://www.youtube.com/embed/VuReziKXvos%3Ffeature%3Doembed&amp;usg=ALkJrhiJU_IdkGSCoUeEolGNdapBT7VxHQ" frameborder="0" allowfullscreen=""></iframe><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本文的作者演示了今天将要讨论的内容。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该系列的第一篇文章：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一分钱的物联网，或DeviceHive可以做什么。</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一分钱的物联网：实用指南。</font><font style="vertical-align: inherit;">第1部分，硬件。</font></font></a><br>
<a name="habracut"></a><br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个服务器</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们按照最简单的方法使用免费的DeviceHive游乐场。</font><font style="vertical-align: inherit;">为此，请</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册。</font><font style="vertical-align: inherit;">之后，登录并访问此页面：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/844/419/90d/84441990d53945c1b48f2fae010472ff.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
恭喜你！</font><font style="vertical-align: inherit;">现在，您在DeviceHive上拥有自己的游乐场。</font><font style="vertical-align: inherit;">要从外部连接到播放组，请使用Url API链接。</font><font style="vertical-align: inherit;">这是我们用于从ESP8266和客户端应用程序访问服务器的地址。</font><font style="vertical-align: inherit;">要访问管理面板（位于管理网址），请使用指定的登录名（Initial Login）和密码（Initial Password）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
题外话：服务器可以部署在本地或云服务上。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找安装说明</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以更轻松地使用它- </font><font style="vertical-align: inherit;">在一行中</font><font style="vertical-align: inherit;">使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动服务器</font><font style="vertical-align: inherit;">：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">在此处</font></a><font style="vertical-align: inherit;"> 
查看完整说明</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
DeviceHive是一个完全开源的项目。</font><font style="vertical-align: inherit;">这意味着服务器既可以部署在家庭中，也可以部署在云服务中，例如，</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Azure</font></a></font><br>
<br>
<code>docker run -d --name=devicehive -p 8080:80 -p 9001:9001 devicehive/devicehive-standalone<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 </font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固件</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在该做固件了。为此，我们需要将ESP8266连接到计算机，然后连接USB-&gt; UART适配器，电源和ESP8266模块。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装适配器的驱动程序。 Linux用户在这里比较容易，因为内核已经包含了大多数这些驱动程序。但是Windows和OS X用户将必须自己安装适配器驱动程序。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
链接至最受欢迎芯片的官方下载页面：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CP210x：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.silabs.com/products/mcu/pages/usbtouartbridgevcpdrivers.aspx</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
PL230x：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.prolific.com.tw/US/ShowProduct.aspx?</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pcid= </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">41</font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
FTDI：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www。 ftdichip.com/Drivers/VCP.htm</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
CH341：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">www.wch.cn/index.php？</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">s =</font></a><font style="vertical-align: inherit;"> / </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">page-search_content-keyword-CH341SER.html</font></font></a> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
连接适配器，并确保驱动程序正常工作。在Linux上，设备应出现在/ dev / ttyUSB *文件系统上，在OS X-/dev/tty.*上，在Windows上-设备管理器上应出现一个附加的COM端口。如果一切正常，请从计算机上断开适配器的连接。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，用两根线将电源（3.3伏）的输出连接到ESP8266。为了打开模块，在打开电源时，必须通过为CH_PD的输出提供高电平来使其工作。有必要告知模块我们将使用内部存储器，因此在打开GPIO15时应保持低电平。进入编程模式，我们需要对GPIO0施加低电平。我们仅在固件期间需要后者。听起来令人毛骨悚然，但实际上我们只需要将CH_PD的三根线连接到电源的正极，并将GPIO0和GPIO15连接到电源的地（负极）。最后，我们使用另外三根线连接USB-&gt; UART适配器：将端子减去源（GND）连接到适配器接地，RX适配器的输出连接到ESP8266的TX模块的输出，而TX适配器的输出连接到RX模块的输出。我们获得了三个不同标准模块的最终连接图。如果缺少某些输出，则很可能已经将其连接到模块内部，紫色线是进入编程模式的最临时的连接。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/8e1/9f3/512/8e19f3512588495b876d97a3e9ab806f.png"></div><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/c11/6df/510/c116df510f854c09b2e12ea14b5c5d23.png"></div><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/8fb/a10/7b3/8fba107b32ee43199ff3d113922f5880.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
执行此连接的示例：</font></font><br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/482/644/75f/48264475fcfa4d408b58d46b85b38046.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如您所见，不需要焊接，所有连接都可以使用普通连接器进行。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，打开电源，将适配器连接到计算机，然后下载重新编译的ESP8266 DeviceHive固件。</font><font style="vertical-align: inherit;">在发布时，可以</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获得第一个和最新版本</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新的预编译版本始终可以在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">找到</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您也可以在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取整个存储库</font><font style="vertical-align: inherit;">，自行编译固件并根据需要进行修改。</font><font style="vertical-align: inherit;">存储库中的所有代码均根据MIT许可。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从上面的链接下载的压缩文件解压缩到一个单独的目录中，从控制台运行esp-flasher- &lt;您的操作系统名称&gt;（Windows用户只需双击esp-flasher-win.exe）。因此，您应该具有以下内容：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/8e2/0d2/3ab/8e20d23ab58341e595662a60778544af.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
除了随附的固件ESP8266实用程序外，您还可以使用其他任何工具，例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esptool</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
恭喜-固件已安装并且已经可以使用！现在，断开接地与GPIO0引脚的连接（不再需要），以使模块不再再次进入编程模式。要连接到ESP8266终端，请运行esp-terminal- &lt;您的操作系统名称&gt;或任何其他支持转义字符的串行端口终端，例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PuTTY</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或GNU实用程序“ screen”。端口参数：速度115200、8N1。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
随附的两个实用程序都能够自动检测ESP8266连接到的端口，即启动时不需要任何参数。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
启动终端，我们将看到邀请：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/89a/fa8/916/89afa8916b634d60877dabb7ac9ff577.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，这是一个常规的unix类终端，支持自动完成（Tab键）和历史记录（上，下键）。</font><font style="vertical-align: inherit;">但实际上，那里没有文件或操作系统。</font><font style="vertical-align: inherit;">可用命令的列表位于“帮助”中：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/3ab/5fe/a19/3ab5fea19fbb4c9cb662c9136c4364e3.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们对“配置”命令感兴趣。</font><font style="vertical-align: inherit;">运行它来配置设备。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该实用程序将问五个简单的问题：</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wi-Fi网络的名称。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的Wi-Fi网络的密码。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器的API地址。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备的设备ID。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备的DeviceKey。</font></font></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在“ DeviceHive服务器URL”中，输入服务器的“ API Url”。</font><font style="vertical-align: inherit;">在“ DeviceID”中-服务器的某些唯一设备标识符，正是以此名称来区分服务器上的设备。</font><font style="vertical-align: inherit;">“ DeviceID”可以是纯文本。</font><font style="vertical-align: inherit;">特别是，您可以通过单击Tab来生成文本GUID。</font><font style="vertical-align: inherit;">然后在最后一次请求DeviceKey时，输入选定的密码。</font><font style="vertical-align: inherit;">可以通过按Tab键来生成。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里值得做些小题外话。</font><font style="vertical-align: inherit;">ESP8266通过DeviceID使用服务器认证。</font><font style="vertical-align: inherit;">一旦在服务器上注册了DeviceID和DeviceKey，就无法再连接具有相同DeviceID但具有不同密码的其他设备。</font><font style="vertical-align: inherit;">将来，仅当您想用具有相同DeviceID的另一台设备替换物理设备时，才可能需要DeviceKey密码。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置如下所示：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/7f0/f03/fb1/7f0f03fb17254a9aaedfccd4ae78e0b2.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果我们正确执行了所有操作，则可以查看调试输出，并确保设备已成功连接到服务器。这是成功连接的设备的调试输出：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/664/ea5/a6e/664ea5a6eccb456c9826c2357cf108e3.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在可以禁用USB-&gt; UART适配器。如果您希望能够查看调试输出或网络状态，则可以保留它。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，在管理面板的“设备”标签中，将显示第一个设备。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们尝试将第一个命令发送到设备</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。为此，请按以下方式进入管理面板：“设备”-&gt;“ ESP”-&gt;“详细信息”-&gt;“命令”-&gt;“输入新命令”。在“名称”字段中，指定“ gpio / read”，然后按“推”。团队已发送！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
答案很快就会出现，但是管理面板中命令的结果不会自动更新。为此，在命令对面有一个刷新按钮。发送后一两秒钟单击它，您将看到此屏幕：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/745/de9/39a/745de939a7a743c99b45cee26b346440.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
发生了什么？通过按下按钮，您从管理面板（在本例中为服务器客户端）向服务器命令发送了命令。 ESP8266将其拾取，执行并将结果传递给服务器。通过单击刷新按钮，您向服务器询问了命令的结果：</font><font style="vertical-align: inherit;">
可用命令</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列表位于固件随附的PDF文件中。也可以</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">在此处使用</font></a><font style="vertical-align: inherit;">，但可能与固件版本不匹配。</font></font><br>
<br>
<code>{"0":"1","1":"0","2":"1","3":"0","4":"1","5":"1","12":"0","13":"0","14":"0","15":"0"}<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
按照传统，我们将点亮板上的LED。在大多数ESP8266模块中，LED处于TX类型的输出上，我们将对其进行处理。当芯片的输出上出现低电平时，它点亮。在该文档中，我们将看到GPIO1只是相同的TX输出，因此我们将其设置为逻辑零。在这种情况下，LED会亮起而没有任何问题。之后，模块上的终端将停止工作，直到重新启动。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我们还设置</font><font style="vertical-align: inherit;">了文档中指示</font><font style="vertical-align: inherit;">的命令</font><font style="vertical-align: inherit;">。在“名称”字段中设置</font><font style="vertical-align: inherit;">，在“参数”字段中</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">。执行命令后，电路板上的LED应点亮，如下图所示。</font></font><code>"gpio/write"<br>
</code><font style="vertical-align: inherit;"></font><code>"gpio/write"<br>
</code><font style="vertical-align: inherit;"></font><code>{"1":"0"}<br>
</code><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/284/6cd/b84/2846cdb8454e4b48922ea951e8fa832e.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
石英下方的蓝色LED指示灯，红色指示灯仍在其旁边发光，表示电路板已通电。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从照片中可以看到，只有两条带电的电线和两条跳线连接到模块，才能以正确的模式打开模块。</font><font style="vertical-align: inherit;">要关闭，请发送带有参数的命令</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">命令参数的格式为普通JSON。</font><font style="vertical-align: inherit;">PDF文件中描述了可以填充的字段及其可能的值。</font><font style="vertical-align: inherit;">
今天，我们弄清楚了如何将最简单的命令从管理面板发送到设备。</font><font style="vertical-align: inherit;">在下一篇文章中，我们将告诉您如何为服务器编写一个简单的客户端应用程序，该应用程序允许您访问该设备，并实现一个性能稍强的设备（还记得第一篇文章中的“激光”吗？）。</font><font style="vertical-align: inherit;">
请继续关注，这将很有趣！</font></font><code>{"1":"1"}<br>
</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由高级嵌入式开发人员Nikolai Khabarov发布。</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN383027/">https://habr.com/ru/post/zh-CN383027/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN383011/index.html">手动喷火器在美国发售</a></li>
<li><a href="../zh-CN383013/index.html">IBM发布CanonOne与LinuxOne大型机并签订合同</a></li>
<li><a href="../zh-CN383017/index.html">人工智能是邪恶的还是善良的精灵？</a></li>
<li><a href="../zh-CN383023/index.html">Робототехника в сельском хозяйстве</a></li>
<li><a href="../zh-CN383025/index.html">以Sony 55w807c为例的真实Android电视概述</a></li>
<li><a href="../zh-CN383033/index.html">有臭味的超导体在-70°C下运行</a></li>
<li><a href="../zh-CN383035/index.html">Google Play和App Store的替代品，或者没有Google Play的中国如何生存</a></li>
<li><a href="../zh-CN383039/index.html">明信片迷宫。不能解开难题就无法打开的礼物</a></li>
<li><a href="../zh-CN383041/index.html">问伊桑25号：在银河系中应该去哪里？</a></li>
<li><a href="../zh-CN383045/index.html">特斯拉将如何改变世界</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>