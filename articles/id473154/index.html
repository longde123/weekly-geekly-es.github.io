<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëè üë±üèø üëö Friendly Open Space JS: Rendering Sisi-Klien dan Pembuatan Wrapper üë®‚ÄçüöÄ üë©üèº‚Äçü§ù‚Äçüë®üèæ üë®‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Friendly Open Space adalah kerangka kerja yang sangat muda, tetapi sudah tahu cara menjalankan :-) 
 Pada artikel ini tentang pengembangan "Friendly O...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Friendly Open Space JS: Rendering Sisi-Klien dan Pembuatan Wrapper</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473154/"><h3>  Friendly Open Space adalah kerangka kerja yang sangat muda, tetapi sudah tahu cara menjalankan :-) </h3><br>  Pada artikel ini tentang pengembangan "Friendly Open Space", kami akan menguasai rendering template di browser dan meluncurkan aplikasi pada file database lokal. <br><br>  Inti dari kerangka kerja mendukung dua jenis perakitan template pada klien: <br><br><ol><li>  Render sisi klien lengkap </li><li>  Permintaan dibuat untuk membuat templat ke server, diikuti dengan hasilnya di jendela browser. </li></ol><br>  Mode pertama memiliki satu fitur, data yang diperlukan untuk rendering templat diminta dari server, mis.  klien mengeksekusi permintaan FSQL.  Tidak ada bahaya khusus dalam hal ini jika Anda menggunakan pembatasan akses dan modul fosAccess, tetapi ada kemungkinan membongkar data mentah dengan menyalin pasteur.  Namun, pendekatan ini secara signifikan mengurangi beban di server. <br><a name="habracut"></a><br>  Jenis rendering kedua sudah tanpa fitur ini.  Klien mengirim parameter template dan menerima sudah dari server HTML.  Ya, beban di server pasti akan meningkat, tetapi metode ini lebih cocok untuk solusi Internet terbuka. <br><br><h3>  Mempersiapkan aplikasi dan menyiapkannya </h3><br>  Maka, kita dihadapkan dengan tugas membuat aplikasi satu halaman yang akan membuat 2 templat (windows) di sisi klien.  Mengingat tugas yang cukup sederhana, kami akan melakukannya tanpa database dan proyeksi MySQL, jadi kami akan mengarahkan semua pekerjaan FSQL ke file, mis.  kami akan menggunakan database pada file untuk bekerja dengan mekanisme internal kerangka kerja.  Baiklah, mari kita mulai. <br><br>  Buat direktori: <br><br>  template - direktori template <br>  css - direktori file css <br>  fos - unduh beta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">friendlyopenspace.site/en/download</a> beta terbaru <br>  Tempatkan favicon.ico yang mengganggu di direktori root aplikasi: <a href="">favicon.ico</a> <br><br>  Selain itu, kami segera menempatkan file gaya di direktori css: <a href="">window.css</a> dan <a href="">styles.css</a> <br><br>  Selanjutnya, buat file aplikasi application.js itu sendiri: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fos = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"./fos/fos"</span></span>); fos.module({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"application.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">dependencies</span></span>: [ <span class="hljs-string"><span class="hljs-string">"fos:NServer/Application.js"</span></span>, ], <span class="hljs-attr"><span class="hljs-attr">module</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">application</span></span></span><span class="hljs-function">) </span></span>{ application.setSettings({ <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">3001</span></span>, <span class="hljs-attr"><span class="hljs-attr">packages</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">dynamicLoading</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">clientRenderingMode</span></span>: <span class="hljs-string"><span class="hljs-string">"client"</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataClient</span></span>: { <span class="hljs-attr"><span class="hljs-attr">defaultConnection</span></span>: <span class="hljs-string"><span class="hljs-string">"default"</span></span>, <span class="hljs-attr"><span class="hljs-attr">connections</span></span>: { <span class="hljs-attr"><span class="hljs-attr">default</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"file"</span></span>, <span class="hljs-attr"><span class="hljs-attr">file</span></span>: <span class="hljs-string"><span class="hljs-string">"data.fosdb"</span></span> } }, }, <span class="hljs-attr"><span class="hljs-attr">onInitialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!a_event.error) { application.run(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(a_event.error); } } }); application.getRouter().add([ { <span class="hljs-attr"><span class="hljs-attr">route</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">controller</span></span>: <span class="hljs-string"><span class="hljs-string">"fos:NServer/NControllers/Tmpl.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">"templates/page.tmpl"</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">route</span></span>: <span class="hljs-string"><span class="hljs-string">"/css/*"</span></span>, <span class="hljs-attr"><span class="hljs-attr">controller</span></span>: <span class="hljs-string"><span class="hljs-string">"fos:NServer/NControllers/File.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">"css"</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">route</span></span>: <span class="hljs-string"><span class="hljs-string">"/templates/*"</span></span>, <span class="hljs-attr"><span class="hljs-attr">controller</span></span>: <span class="hljs-string"><span class="hljs-string">"fos:NServer/NControllers/File.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">"templates"</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">route</span></span>: <span class="hljs-string"><span class="hljs-string">"favicon.ico"</span></span>, <span class="hljs-attr"><span class="hljs-attr">controller</span></span>: <span class="hljs-string"><span class="hljs-string">"fos:NServer/NControllers/File.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">"favicon.ico"</span></span>, }, ]); application.initialize(); } });</code> </pre> <br>  Sekarang mari kita lihat isi file application.js <br><br>  Kami menonaktifkan semua paket, karena tidak diperlukan (parameter paket dari metode setSettings): <br><br><pre> <code class="javascript hljs"> ... application.setSettings({ <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">3001</span></span>, <span class="hljs-attr"><span class="hljs-attr">packages</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">dynamicLoading</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">clientRenderingMode</span></span>: <span class="hljs-string"><span class="hljs-string">"client"</span></span>, ...</code> </pre><br>  Parameter aplikasi clientRenderingMode, baru bagi kami, bertanggung jawab untuk jenis rendering pada klien dan memiliki dua nilai: <br><br>  "Klien" - rendering dilakukan sepenuhnya oleh browser.  Klien secara mandiri memuat dependensi dan mengeksekusi permintaan FSQL ke server, setelah itu mengumpulkan HTML itu sendiri <br><br>  "Server" - klien membuat permintaan ke server untuk merender template dan menerima HTML siap sebagai tanggapan <br><br><pre> <code class="javascript hljs"> ... packages: [], <span class="hljs-attr"><span class="hljs-attr">dynamicLoading</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">clientRenderingMode</span></span>: <span class="hljs-string"><span class="hljs-string">"client"</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataClient</span></span>: { <span class="hljs-attr"><span class="hljs-attr">defaultConnection</span></span>: <span class="hljs-string"><span class="hljs-string">"default"</span></span>, ...</code> </pre><br>  Dan inovasi terakhir bagi kami adalah menghubungkan database pada file.  Kerangka kerja tidak dapat sepenuhnya bekerja tanpa kemampuan untuk memproses variabel konfigurasi yang memiliki struktur tabel.  Karena itu, alih-alih MYSQL, kami akan menggunakan file biasa. <br><br><pre> <code class="javascript hljs">... defaultConnection: <span class="hljs-string"><span class="hljs-string">"default"</span></span>, <span class="hljs-attr"><span class="hljs-attr">connections</span></span>: { <span class="hljs-attr"><span class="hljs-attr">default</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"file"</span></span>, <span class="hljs-attr"><span class="hljs-attr">file</span></span>: <span class="hljs-string"><span class="hljs-string">"data.fosdb"</span></span> } }, }, ...</code> </pre><br>  Seperti dapat dilihat dari kutipan di atas, dalam hal ini tipe database (tipe parameter) adalah "file", dan satu-satunya parameter koneksi file harus berisi path ke file data.  Jika file hilang, aplikasi akan membuatnya sendiri. <br><br><h3>  Buat Template Halaman </h3><br>  Sekarang saatnya membuat templat file templat halaman aplikasi / page.tmpl, yang telah kami daftarkan di rute URL root. <br><br><pre> <code class="xml hljs">//~OPTIONS { args:{ fosInclude: ["css/styles.css"], } } //~BLOCK main default <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">/&gt;</span></span> %{{ render.renderHTMLHeader(); }}% <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">onClientSideRendering</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">a_event</span></span></span></span><span class="javascript"><span class="hljs-function">)</span></span></span><span class="javascript">{ a_event.preventDefault(); fos.application.render({ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">template</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"templates/window.tmpl"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">owner</span></span></span><span class="javascript">: </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.body, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">args</span></span></span><span class="javascript">: { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">title</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"Client side rendering"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">context</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"Simple example of client side rendering"</span></span></span><span class="javascript"> }, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">onResult</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">a_error, a_template</span></span></span></span><span class="javascript"><span class="hljs-function">)</span></span></span><span class="javascript">{ } }); } </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">onServerSideRendering</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">a_event</span></span></span></span><span class="javascript"><span class="hljs-function">)</span></span></span><span class="javascript">{ a_event.preventDefault(); fos.application.render({ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">template</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"templates/window.tmpl"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">owner</span></span></span><span class="javascript">: </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.body, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">renderMode</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"server"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">args</span></span></span><span class="javascript">: { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">title</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"Server side rendering"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">context</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"Simple example of server side rendering"</span></span></span><span class="javascript"> }, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">onResult</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">a_error, a_template</span></span></span></span><span class="javascript"><span class="hljs-function">)</span></span></span><span class="javascript">{ } }); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mainwrapper"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header markup"</span></span></span><span class="hljs-tag">&gt;</span></span> Client Side Rendering <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"body-wrapper markup"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"body markup"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example-link--container"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"onClientSideRendering(event);"</span></span></span><span class="hljs-tag">&gt;</span></span>Client side rendering<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example-link--container"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"onServerSideRendering(event);"</span></span></span><span class="hljs-tag">&gt;</span></span>Server side rendering<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clear-body"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Templat halaman memiliki dua tautan, "rendering sisi Klien" &amp; "rendering sisi Server".  Mengklik yang akan menampilkan jendela yang belum tersedia.  Tetapi ada kode untuk memanggil mereka.  Jadi mari kita berurusan dengan kode templat. <br><br>  Ketika kami mengklik tautan "Render sisi klien", kami memanggil fungsi onClientSideRendering (), yang merender template "templates / window.tmpl".  Sepenuhnya di sisi klien, seperti  dalam pengaturan aplikasi, parameter clientRenderingMode diatur ke "client".  Terlepas dari kenyataan bahwa ini adalah nilai default :-). <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClientSideRendering</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_event</span></span></span><span class="hljs-function">)</span></span>{ a_event.preventDefault(); fos.application.render({ <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">"templates/window.tmpl"</span></span>, <span class="hljs-attr"><span class="hljs-attr">owner</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body, <span class="hljs-attr"><span class="hljs-attr">args</span></span>: { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Client side rendering"</span></span>, <span class="hljs-attr"><span class="hljs-attr">context</span></span>: <span class="hljs-string"><span class="hljs-string">"Simple example of client side rendering"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">onResult</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_error, a_template</span></span></span><span class="hljs-function">)</span></span>{ } }); }</code> </pre><br>  Metode render sebenarnya membuat jendela kita dan menempatkannya di badan halaman, sebagaimana ditentukan dalam properti argumen pemilik.  Kami melewati 2 argumen ke templat jendela: judul &amp; konteks, sebenarnya yang akan ditampilkan di jendela yang ditampilkan.  Untuk informasi lebih lanjut tentang metode ini, lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fos :: NClient :: Application :: render</a> <br><br>  Tautan kedua memanggil fungsi onServerSideRendering (), yang juga membuat templat yang sama, tetapi di sisi server, dan klien menerima HTML yang sudah jadi.  Mode ini diatur dalam properti argumen renderMode dari metode render dengan nilai "server". <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onServerSideRendering</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_event</span></span></span><span class="hljs-function">)</span></span>{ a_event.preventDefault(); fos.application.render({ <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">"templates/window.tmpl"</span></span>, <span class="hljs-attr"><span class="hljs-attr">owner</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body, <span class="hljs-attr"><span class="hljs-attr">renderMode</span></span>: <span class="hljs-string"><span class="hljs-string">"server"</span></span>, <span class="hljs-attr"><span class="hljs-attr">args</span></span>: { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Server side rendering"</span></span>, <span class="hljs-attr"><span class="hljs-attr">context</span></span>: <span class="hljs-string"><span class="hljs-string">"Simple example of server side rendering"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">onResult</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_error, a_template</span></span></span><span class="hljs-function">)</span></span>{ } }); }</code> </pre><br><h3>  Membuat template pop-up dan menulis template wrapper </h3><br>  Template jendela popup itu sendiri sangat sederhana.  Buat file templates / window.tmpl.  Berikut ini isinya. <br><br><pre> <code class="xml hljs">//~OPTIONS { args:{ fosWrapper: true, fosClass: "window", fosInclude: ["css/window.css"], title: "", context: "", } } //~BLOCK main default <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"window-container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"window-close"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"close"</span></span></span><span class="hljs-tag">&gt;</span></span>x<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"window-title"</span></span></span><span class="hljs-tag">&gt;</span></span>${{args.title}}$<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"window-context"</span></span></span><span class="hljs-tag">&gt;</span></span>${{args.context}}$<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Di sini untuk Anda ada dua parameter baru fosWrapper dan fosClass. <br><br>  Mari kita mulai dengan fosWrapper.  Jika flag ini disetel ke true, maka templat HTML ditempatkan dalam wadah span dan objek wrapper fos :: NRender :: Wrapper dibuat untuk itu. <br><br>  Luncurkan aplikasi, buka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">localhost</a> : 3001 dan klik tautan "rendering sisi klien".  Jendela sembul adalah templat kami.  Jendela popup sepenuhnya diimplementasikan oleh css (file css / window.css) - Saya baru saja menyebutkan bahwa Anda tidak akan mencari JS tersembunyi :-). <br><br>  Buka browser DevTools (Ctrl + Alt + i), buka tab Elemen dan tinjau struktur jendela kita. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ddd/cc4/e36/dddcc4e3620138ce9c422c358f54870d.png" alt="gambar"><br><br>  Garis biru pada gambar menandai wadah pembungkus span kami yang terhubung dengan objek fos :: NRender :: Wrapper. <br><br>  Argumen sistem selanjutnya untuk templat adalah fosClass.  Itu hanya menambahkan kelas CSS ke wadah rentang pembungkus. <br><br>  Jadi, semuanya dilakukan dengan baik, tetapi jika kami mencoba menutup pop-up kami, tidak ada yang akan terjadi.  Ya, kami belum menulis operasi penutupan! <br><br>  Seperti yang kami katakan sebelumnya, jika argumen sistem fosWrapper benar, maka objek wrapper fos :: NRender :: Wrapper dibuat untuk templat.  Ini menyediakan antarmuka standar untuk berinteraksi dengan templat pada klien.  Untuk mendefinisikan ulang pembungkus standar untuk templat, cukup membuat modul dengan nama yang sesuai dengan format berikut [NAMA POLA] .wrapper.js, dan modul harus diwarisi dari kelas fos :: NRender :: Wrapper. <br><br>  Sekarang buat file wrapper untuk template / window.tmpl template.  Kelas baru harus menutup jendela pop-up kami, ketika Anda mengklik simbol "x". <br><br>  Templat file / window.wrapper.js: <br><br><pre> <code class="javascript hljs">fos.module({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"templates/window.wrapper.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">dependencies</span></span>: [<span class="hljs-string"><span class="hljs-string">"fos:NRender/Wrapper.js"</span></span>], <span class="hljs-attr"><span class="hljs-attr">module</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Wrapper</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_initializeOptions</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> self = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; Wrapper.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, a_initializeOptions); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parentAttach = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._attach; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._attach = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_cb</span></span></span><span class="hljs-function">) </span></span>{ parentAttach.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ fos.addDomListener(fos.select(self.getDomElement(), <span class="hljs-string"><span class="hljs-string">"[name=close]"</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">"click"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ self.getDomElement().classList.add(<span class="hljs-string"><span class="hljs-string">"window-hide"</span></span>); setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ self.destroy(); }, <span class="hljs-number"><span class="hljs-number">2000</span></span>); }); a_cb(); }); } } } });</code> </pre><br>  Mari kita menganalisis isi modul kita.  Pertama, kita menghubungkan kelas dasar fos :: NRender :: Wrapper dan mewarisinya melalui metode panggilan. <br><br><pre> <code class="javascript hljs">fos.module({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"templates/window.wrapper.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">dependencies</span></span>: [<span class="hljs-string"><span class="hljs-string">"fos:NRender/Wrapper.js"</span></span>], <span class="hljs-attr"><span class="hljs-attr">module</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Wrapper</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_initializeOptions</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> self = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; Wrapper.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, a_initializeOptions); ...</code> </pre><br>  Setelah kita mendefinisikan kembali metode fos :: NRender :: Wrapper :: _, yang dipanggil ketika templat dikaitkan dengan objek.  Dalam metode ini, kita akan menghubungkan acara mengklik tautan untuk menutup jendela.  Overriding dilakukan hanya dengan mendeklarasikan metode, tetapi pada awalnya kita harus menyimpan referensi untuk implementasi induk.  Metode ini memiliki "sifat asinkron", jadi kami menempatkan implementasi tindakan kami dalam fungsi callback dari implementasi induk. <br><br><pre> <code class="javascript hljs"> ... var parentAttach = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._attach; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._attach = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a_cb</span></span></span><span class="hljs-function">) </span></span>{ parentAttach.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ fos.addDomListener(fos.select(self.getDomElement(), <span class="hljs-string"><span class="hljs-string">"[name=close]"</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">"click"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ self.getDomElement().classList.add(<span class="hljs-string"><span class="hljs-string">"window-hide"</span></span>); setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ self.destroy(); }, <span class="hljs-number"><span class="hljs-number">2000</span></span>); }); a_cb(); }); } ...</code> </pre><br>  Menghubungkan ke acara mengklik simbol "x" yang kami lakukan dengan memanggil fos :: addDomListener, yang tidak mengatur ulang acara yang terhubung saat mengubah induk elemen DOM. <br><br>  Di pengendali acara, kami menutup jendela.  Pertama, kami dengan baik menghapus jendela dari layar dengan menambahkan kelas CSS "window-hide".  Setelah animasi selesai, kita memanggil metode fos :: NRender :: Wrapper :: destroy, yang menghapus template dan objek wrapper. <br><br>  SEMUA APLIKASI TERTULIS, DILUNCURKAN, DAN DIBACA !!! <br><br><pre> <code class="bash hljs">node application.js</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Situs pengembangan resmi</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan ke sebuah contoh</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id473154/">https://habr.com/ru/post/id473154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id473140/index.html">Habr Weekly # 24 / Bagaimana melakukan penipu telepon, robot untuk 800 ribu ‚ÇΩ, sebuah kompetisi penulis di Habr√©, sebuah SSD yang hampir Rusia</a></li>
<li><a href="../id473142/index.html">Perubahan Cookie SameSite yang Akan Datang di ASP.NET dan ASP.NET Core</a></li>
<li><a href="../id473144/index.html">Seorang pria dengan empat "en" atau Soviet Nostradamus</a></li>
<li><a href="../id473146/index.html">Blazor Server di .NET Core 3.0 skenario dan kinerja</a></li>
<li><a href="../id473150/index.html">Sekarang adalah saatnya untuk membuat profil Terminal Windows baru yang baru</a></li>
<li><a href="../id473156/index.html">Cara menguji pengetahuan dalam praktik, menerima manfaat untuk masuk ke program master dan undangan kerja</a></li>
<li><a href="../id473158/index.html">Seperti apa rasanya ketika 75% karyawan Anda autis</a></li>
<li><a href="../id473160/index.html">Merek pribadi untuk membantu bisnis: 8 langkah untuk membuat konsep</a></li>
<li><a href="../id473166/index.html">Mengkompilasi FFmpeg ke WebAssembly (= ffmpeg.js): Bagian 3 - Mengubah avi ke mp4</a></li>
<li><a href="../id473170/index.html">Seni Anotasi: Menulis Kode Kotlin yang ramah Jawa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>