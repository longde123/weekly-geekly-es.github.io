<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÖ üåó üìû C√≥mo hicimos una grabadora de video en la nube de tama√±o peque√±o a partir de una c√°mara IP normal üëÇüèø üöî üèáüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El tema de la videovigilancia se ha agudizado para m√≠ con la llegada de las viviendas suburbanas. En Internet puede encontrar mucha informaci√≥n sobre ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo hicimos una grabadora de video en la nube de tama√±o peque√±o a partir de una c√°mara IP normal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422797/"><img src="https://habrastorage.org/webt/s6/vk/u6/s6vku6wsk6xv28mxzagkcil4ddy.jpeg"><br><br>  El tema de la videovigilancia se ha agudizado para m√≠ con la llegada de las viviendas suburbanas.  En Internet puede encontrar mucha informaci√≥n sobre la organizaci√≥n de la videovigilancia.  Desafortunadamente, la mayor√≠a de las opciones se redujeron a comprar kits confeccionados en China.  De amigos escuch√© muchas cr√≠ticas al respecto.  De alguna manera, √©l mismo incluso particip√≥ en la configuraci√≥n del equipo comprado en Aliexpress.  En alg√∫n lugar, la mitad de las funciones declaradas no funcionaron como se indic√≥, algunas de las opciones no funcionaron en absoluto, aunque el registrador no era barato.  Y hubo muchas cr√≠ticas y opiniones.  Adem√°s, muchos critican el hecho de que los videos se almacenan en servicios en la nube chinos.  Y luego surgi√≥ la idea: ¬øqu√© pasa si intenta hacer su propio DVR con una funcionalidad m√≠nima?  Que?  En ese momento comenc√© a involucrarme en Linux, escrib√≠ aplicaciones con funcionalidad elemental en bash, experiment√© con la web ... En principio, todo lo que necesitas para resolver el problema.  Apenas dicho que hecho. <br><a name="habracut"></a><br><h2>  Vamos  Selecci√≥n de hierro </h2><br>  Se eligi√≥ un enrutador TP-LINK TL-MR3020 con OPENWRT a bordo como sujeto de prueba. <br><br><img src="https://habrastorage.org/webt/kq/at/vp/kqatvporczm8e1ksiicnm0jq_7e.png"><br><br>  Caracter√≠sticas del enrutador: <br><br><ul><li>  Procesador MIPS de 300 MHz; <br></li><li>  32 MB de RAM; <br></li><li>  chip flash para 4 MB; <br></li><li>  Puerto USB 2.0; <br></li><li>  Puerto RJ-45 con 100 Mb full duplex; <br></li><li>  Pines GPIO, tanto libres como con LED; <br></li><li>  Abotone y encienda los pines GPIO; <br></li></ul><br>  La c√°mara es una c√°mara IP HD china com√∫n que se orden√≥ en China.  Tomamos video sobre el protocolo RTSP.  La utilidad openRTSP nos ayud√≥ con esto, que era parte del repositorio OPENWRT y ten√≠a toda la funcionalidad necesaria.  Decidimos trabajar con el servicio en la nube Yandex.Disk a trav√©s del protocolo webdav.  Este servicio proporciona 10 Gb de espacio libre en disco a cada nuevo usuario.  Bueno, all√≠ puedes comprar seg√∫n sea necesario. <br><br><h2>  Esencia de la idea. </h2><br>  Usando el protocolo rtsp, tomamos la transmisi√≥n de video de la c√°mara IP.  Hacemos un directorio de b√∫fer.  Grabamos videos en ella.  Usando la utilidad CURL a trav√©s del protocolo webdav, enviamos videos a la nube.  En nuestro caso, este es Yandex.Disk. <br><br><h2>  Prueba </h2><br>  Despu√©s de conectar la c√°mara IP a trav√©s del ethernet al enrutador, lanzamos una grabaci√≥n de prueba de un clip de 10 segundos en formato .mp4 al disco Yandex: <br><br><pre><code class="bash hljs">OPENRTSP -V -B 51200 -b 200000 -4 -f 25 -d 10&gt;/tmp/ya_disk/test.mp4</code> </pre> <br>  Luego lo enviaron a la nube: <br><br><pre> <code class="bash hljs">curl -v -m 180 --stderr /tmp/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> -k -u <span class="hljs-variable"><span class="hljs-variable">$email</span></span>:<span class="hljs-variable"><span class="hljs-variable">$pass</span></span> -T /tmp/ya_disk/test.mp4 https://webdav.yandex.ru/</code> </pre> <br><h2>  Funciona! </h2><br>  Las pruebas comenzaron con diferentes longitudes de clips, diferentes intervalos de grabaci√≥n, grabaci√≥n peri√≥dica.  En general, las pruebas fueron exitosas.  Sin embargo, hubo un problema con la grabaci√≥n de clips muy cortos (del orden de 5 segundos).  Los clips se grabaron a mayor velocidad y su longitud fue menor que la establecida.  Resolvieron el problema editando las fuentes openRTSP: se aseguraron de que el programa cumpliera estrictamente con el valor fps ingresado por el usuario, y no tomado de SDP, tambi√©n elimin√≥ los marcos de menos de 100 bytes. <br><br><h2>  Pensamos en la funcionalidad. </h2><br>  Despu√©s de pruebas exitosas, se decidi√≥ hacer una interfaz de control.  En ese momento comenc√© a familiarizarme con la web, as√≠ que decid√≠ hacer una versi√≥n web.  Pila de tecnolog√≠a en el lado del usuario (frontend): HTML5, CSS3, JQUERY, AJAX.  En el lado de hierro (backend): UHTTPD, CGI, BASH.  No se volvieron inteligentes con el dise√±o, utilizaron la disposici√≥n en mosaico de los botones de la p√°gina principal. <br><br><img src="https://habrastorage.org/webt/qe/xd/vr/qexdvryzlpxmdrojtosh4rsxrwc.jpeg" alt="Inicio de la aplicaci√≥n"><br><br>  Las p√°ginas de administraci√≥n y entrada de datos se realizaron con JQUERY.  Con los primeros resultados exitosos de administrar un <s>enrutador de</s> registro, comenzamos a agregar funcionalidad.  Tal vez fue un error.  Debido a la inexperiencia, descuidamos las pruebas.  Ahora, cuando hay mucha funcionalidad, es dif√≠cil de probar.  Debido a la falta de disciplina al escribir c√≥digo al comienzo del desarrollo, se hace cada vez m√°s dif√≠cil entender lo que est√° escrito.  Las fallas aparecen de vez en cuando, las eliminamos, por supuesto, pero ser√≠a mucho m√°s f√°cil hacerlo en las primeras etapas de desarrollo y en etapas. <br><br>  Entonces, la funcionalidad: <br><br><ul><li>  Soporte para cualquier c√°mara IP; <br></li><li>  Soporte para m√≥dems 3G / 4G; <br></li><li>  Grabe en el almacenamiento en la nube (gratis) y / o en una unidad usb; <br></li><li>  Grabaci√≥n peri√≥dica y / o grabaci√≥n de movimiento; <br></li><li>  Loop to disk; <br></li><li>  Ajuste de la longitud del rodillo; <br></li><li>  Modos de grabaci√≥n: por tiempo, por movimiento, d√≠a, noche; <br></li><li>  Trabajo aut√≥nomo en caso de falla de energ√≠a (aproximadamente 20 min); <br></li></ul><br><h2>  Implementaci√≥n del lado del cliente </h2><br>  Hay 6 botones en el men√∫ de configuraci√≥n de la grabadora: WIFI, GRABACI√ìN, C√ÅMARA, 3G / 4G, ALMACENAMIENTO y AYUDA.  Entonces, en orden: <br><br><h4>  Wifi </h4><br><img src="https://habrastorage.org/webt/ql/xz/us/qlxzusdqgobrodb5sjuz2dyr8_e.jpeg"><br><br>  Aqu√≠ puede configurar la grabadora wi-fi.  WI-FI puede funcionar en 2 modos: "cliente" y "punto de acceso".  En el modo "Punto de acceso", todo est√° claro: n√∫mero de canal, SSID, tipo de cifrado, contrase√±a.  En el modo "cliente", el registrador est√° conectado a cualquier punto de acceso wi-fi. <br><br>  En consecuencia, en este modo no se necesita un m√≥dem 3G / 4G.  Para que el usuario no pierda el registrador cuando el cliente se conecta al punto de acceso, implementamos f√≠sicamente el modo repetidor. <br><br>  Lo √∫nico a lo que debe prestar atenci√≥n es que al conectar el registrador al punto de acceso, debe verificar si el dispositivo m√≥vil del usuario ha "saltado" a otro punto de acceso wifi, porque  El punto de acceso al registrador de Wi-Fi desaparecer√° por un corto tiempo.  El campo "Modo de recuperaci√≥n" es una garant√≠a de que no "perder√°" el registrador.  Este es un momento garantizado cuando lo enciende, cuando el usuario puede configurar el dispositivo o encender el punto de acceso.  Despu√©s del modo de recuperaci√≥n, ir√° autom√°ticamente a la p√°gina del men√∫ principal.  Esta parte de la funcionalidad a√∫n se est√° probando y deshabilitando temporalmente. <br><br><h4>  Registro </h4><br><img src="https://habrastorage.org/webt/ed/yt/a_/edyta_ndlmoiwbzz2h_l0vovi1i.jpeg"><br><br>  Campo de indicaci√≥n de fecha y hora, men√∫ ‚ÄúEstablecer hora‚Äù, ‚ÄúGrabar en almacenamiento local‚Äù y ‚ÄúGrabar en almacenamiento en la nube‚Äù. <br><br>  <u>Ajuste de hora.</u>  Al hacer clic en el bot√≥n "Cambiar hora", puede cambiar la hora y la fecha.  Adem√°s, utilizando el control deslizante, se establece la hora del comienzo y el final del d√≠a (para todos es individual).  Esto se hace para optimizar los modos de funcionamiento del registrador en diferentes momentos del d√≠a. <br>  <u>Escribir al almacenamiento local.</u>  Aqu√≠ puede habilitar o deshabilitar la grabaci√≥n en medios externos, habilitar o deshabilitar la grabaci√≥n de movimiento y / o la grabaci√≥n peri√≥dica con la capacidad de establecer la duraci√≥n del clip grabado y el per√≠odo de grabaci√≥n de los clips (en el modo de grabaci√≥n peri√≥dica). <br>  <u>Escribir en el almacenamiento en la nube.</u>  Aqu√≠, como en el p√°rrafo anterior, se configura el registro en el almacenamiento en la nube.  Se ha agregado un elemento para configurar un servicio en la nube, donde puede especificar en qu√© nube de servicio grabar (por el momento, solo funciona con un disco Yandex), el nombre de usuario y la contrase√±a de su cuenta Yandex. <br><br><h4>  Ayuda </h4><br><img src="https://habrastorage.org/webt/bo/su/nr/bosunrz6knsyt0os8oaciji7bp4.jpeg"><br><br>  El contenido de los elementos del men√∫ de la interfaz, as√≠ como el prop√≥sito de cada uno de ellos, se describen por puntos. <br><br><h4>  C√ÅMARA </h4><br><img src="https://habrastorage.org/webt/gp/ct/vd/gpctvdkx2nnr94fu2otbenwky1g.jpeg"><br><br>  <u>Direcci√≥n de transmisi√≥n RTSP de la c√°mara.</u>  Los datos para este campo se pueden encontrar visitando la p√°gina de configuraci√≥n de la c√°mara IP.  En el futuro, planeamos recibir estos datos a trav√©s de ONVIF y el campo se completar√° autom√°ticamente.  Si bien el funcionamiento estable de ONVIF en todas las c√°maras IP solo puede so√±ar. <br>  <u>El retraso entre los rodillos.</u>  Par√°metro que determina la pausa en segundos al grabar pel√≠culas.  Se utiliza en modo de grabaci√≥n de movimiento.  Le permite guardar el tr√°fico de Internet con movimientos constantes o frecuentes en el marco. <br>  <u>Video de la c√°mara.</u>  √ötil para controlar la imagen grabada al instalar la c√°mara. <br><br><h4>  3G / 4G </h4><br><img src="https://habrastorage.org/webt/ge/c9/dt/gec9dtcbg66elw_sp2ds9h-ysjy.jpeg"><br><br>  Esto muestra informaci√≥n sobre su conexi√≥n a Internet utilizando un m√≥dem 3G / 4G.  Los datos se actualizan cada 3 segundos.  √ötil para controlar la calidad de la comunicaci√≥n al instalar la c√°mara. <br><br><h4>  ALMACENAMIENTO </h4><br><img src="https://habrastorage.org/webt/ao/cl/p0/aoclp0z14ymolmup3jm7sgssmte.jpeg"><br><br>  Hay dos submen√∫s: "Almacenamiento local" y "Yandex.Disk".  Cuando selecciona el primero, ingresamos al √°rbol de archivos de los medios externos conectados, cuando selecciona el segundo, vamos a Yandex.disk. <br><br><div class="spoiler">  <b class="spoiler_title">Versi√≥n m√≥vil de la interfaz.</b> <div class="spoiler_text"><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/63/42/sj/6342sj6nkn2uysfwtn_abkmvefa.jpeg"></div><br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/zv/pl/yt/zvplytjskq_ec8we8uu87kn3rkq.jpeg"></div><br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/wp/iy/os/wpiyos6r4vspkt873xhhpxl8elc.jpeg"></div><br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/rz/s3/2q/rzs32qlwxazwwchceyf-v3lz2f0.jpeg"></div><br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/cy/_l/rf/cy_lrfznpxhzqdsn9ug3acldocm.jpeg"></div><br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/ao/cl/p0/aoclp0z14ymolmup3jm7sgssmte.jpeg"></div><br></div></div><br>  Los videos grabados se pueden ver en Yandex.Disk con el reproductor incorporado del servicio.  Adem√°s, cualquier reproductor de video puede descargar y ver el video localmente.  El almacenamiento de videos grabados se organiza de la siguiente manera: <br><br><img width="500" src="https://habrastorage.org/webt/_z/sz/bb/_zszbbu8vhfriszhfay6pa0zyb4.png"><br><br>  CAM - carpeta para grabar videos del registrador; <br>  MOVIMIENTO: una carpeta para grabar videos grabados por movimiento en el cuadro; <br>  TIME - carpeta para grabar videos grabados a una frecuencia especificada; <br>  AAAA-MM-DD - carpeta para videos grabados durante el d√≠a; <br>  DDMMYYYY-HH_MM_SS.mp4: videos grabados en formato mp4; <br><br><div class="spoiler">  <b class="spoiler_title">Organizaci√≥n del almacenamiento de archivos en Yandex.Disk</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ag/xq/cm/agxqcmgnb5lesjs6uh5z139h0ws.jpeg"><br><img src="https://habrastorage.org/webt/_u/8c/_s/_u8c_sk4-clpuw-pq1zqlsntol8.jpeg"><br><img src="https://habrastorage.org/webt/3e/vh/d0/3evhd0z4yjcpbgn_ynxzlnwemp8.jpeg"><br><img src="https://habrastorage.org/webt/aj/x9/iv/ajx9ivr061regnksnz9_njdyx3i.jpeg"><br></div></div><br><h2>  Que hay adentro  Implementaci√≥n del lado del servidor </h2><br>  Como escrib√≠ anteriormente, el enrutador TP-LINK TL-MR3020 con OPENWRT a bordo se convirti√≥ en el primer experimento.  Barrier Breaker versi√≥n 14.07.  Al comienzo de la prueba, era la √∫ltima versi√≥n.  Ahora actualizado a LEDE.  OpenRTSP no estaba en el repositorio de esta versi√≥n, por lo que agregamos la utilidad nosotros mismos, al mismo tiempo que eliminamos todo lo superfluo. <br><br>  Despu√©s de pruebas exitosas, comenzamos a considerar otros enrutadores con arquitectura similar.  Est√°bamos buscando una plataforma que sea m√°s adecuada para el registrador en dimensiones y caracter√≠sticas.  La idea es que al flashear cualquiera de los enrutadores con firmware modificado y conectar una c√°mara IP con un m√≥dem 3G / 4G, obtienes un registrador.  La lista de dispositivos en los que se prob√≥ la funcionalidad del registrador: <br><br><ul><li>  TP-LINK TL-MR3020; <br></li><li>  HAME A5; <br></li><li>  CARAMBOLLA2; <br></li><li>  UNWIREDONE; <br></li><li>  Skywork skw71; <br></li><li>  TP-LINK TL-MR10U (con bater√≠a); <br></li><li>  TP-LINK TL-MR3040 (con bater√≠a); <br></li><li>  TP-LINK TL-MR3220 V: 2.3 (4 puertos ethernet); <br></li></ul><br>  Intentamos probar las placas de enrutadores en el caso.  La idea era que, aparte del estuche, nada sobresale y no se cuelga, y el estuche en s√≠ es de tama√±o m√≠nimo.  Por lo tanto, seg√∫n lo planeado por 3G / 4G, el m√≥dem debe estar dentro de la caja.  As√≠ que obtuvimos un prototipo de calle de <s>granja colectiva</s> basado en la placa TP-LINK TL-MR3020: <br><br><img src="https://habrastorage.org/webt/nl/ql/dn/nlqldndp6xnonugngztcpn-o_xm.jpeg"><br><br><img src="https://habrastorage.org/webt/vb/hy/by/vbhybyc7_i9shuotg2dwn_qw3ke.jpeg"><br><br><img src="https://habrastorage.org/webt/cu/79/kg/cu79kgd-vpw8yxk5fi2zyi01s7m.jpeg"><br><br><img src="https://habrastorage.org/webt/m_/nw/nn/m_nwnnnz5mix4-hcgidu4dsjhe0.jpeg"><br><br>  Por supuesto, preferimos enrutadores con tama√±os m√≠nimos.  Por lo tanto, decidimos probar el enrutador chino HAME A5, imprimir un estuche y ver qu√© sucede: <br><br><img src="https://habrastorage.org/webt/te/qe/ic/teqeicmmwrkyrst7en_32jj84bw.jpeg"><br><br><img src="https://habrastorage.org/webt/dl/hi/y0/dlhiy07kcg5ufwmzubs7r8us2us.jpeg"><br><br>  En HAME A5, nuestro firmware de registrador era inestable, el enrutador colgaba y se reiniciaba constantemente.  Lo m√°s probable es que esto se deba a un sobrecalentamiento severo.  Por lo tanto, tuve que abandonarlo en favor de una opci√≥n m√°s confiable y probada. <br><br>  Probamos muchas opciones, pero nada es mejor que el m√≠o.  Por lo tanto, decidieron distribuir su placa con un m√≥dulo de CARAMBOLLA2 y la posibilidad de duraci√≥n de la bater√≠a. <br><br><img src="https://habrastorage.org/webt/bx/p-/zo/bxp-zot1dl1nsjbjumki4qt1dpy.jpeg"><br><br>  Caracter√≠sticas de CARAMBOLLA2: <br><br><ul><li>  Procesador AR9331, 400 MHz; <br></li><li>  64 MB de RAM DDR2; <br></li><li>  16 MB de FLASH; <br></li><li>  802.11 b / g / n, 2.4 GHz, 1x1 SISO, velocidad de datos m√°xima de 150 MBps, potencia de salida de 21 dB; <br></li><li>  Tensi√≥n de alimentaci√≥n 3,3 V; <br></li><li>  Dimensiones 28 x 38 mm; <br></li></ul><br>  Al dise√±ar el tablero, qued√≥ claro que resulta bastante peque√±o: <br><br><img src="https://habrastorage.org/webt/09/g4/2o/09g42orapxjcry1gjob3mmtkkpg.jpeg"><br><br><img src="https://habrastorage.org/webt/7s/ol/rf/7solrfz2329dboluqs76zeirkoa.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">Otra foto!</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/sh/oq/jx/shoqjxdqcwa-g9biqhqb5szbqt4.jpeg"><br><br><img src="https://habrastorage.org/webt/dq/ia/fm/dqiafmvqrdvxrd7idqtlxlmuop4.jpeg"><br><br><img src="https://habrastorage.org/webt/vs/ym/rf/vsymrfn14peipdbsa0pqm8piypg.jpeg"><br><br><img src="https://habrastorage.org/webt/nj/yj/4x/njyj4x78zsubs7dfdszrbepsyeo.jpeg"><br><br><img src="https://habrastorage.org/webt/ci/mb/me/cimbmecbzt4cv51juvlcurk2akq.jpeg"><br><br><img src="https://habrastorage.org/webt/p-/09/vg/p-09vgwxivhz7nptwo1krbio0re.jpeg"><br><br><img src="https://habrastorage.org/webt/vl/oe/_t/vloe_twvd3tajilgcdeyeidqbq0.jpeg"><br><br><img src="https://habrastorage.org/webt/w7/j4/jf/w7j4jfs7htudfwac7xknhz9reay.jpeg"><br></div></div><br>  ¬øPor qu√© no instalarlo directamente en la c√°mara?  Entonces resolvemos de inmediato el problema con el caso del registrador.  Entonces lo hicieron.  Esto es lo que sucedi√≥: <br><br><img src="https://habrastorage.org/webt/6f/v6/nb/6fv6nbf5wd1hkjwv8iggioi1xwy.jpeg"><br><br><img src="https://habrastorage.org/webt/8j/g9/u9/8jg9u9gu3giixnag8fmd1rsnurq.jpeg"><br><br><img src="https://habrastorage.org/webt/gb/n-/if/gbn-ifgahpemu2_xgfszm8sizja.jpeg"><br><br><img src="https://habrastorage.org/webt/ky/mo/vg/kymovgkcsnj8h_lga0gug9p-jzq.jpeg"><br><br>  La foto muestra que la placa grabadora est√° montada paralela a las placas de la c√°mara en los bastidores.  Por razones de enfriamiento del chip, es mejor usar c√°maras IP con una carcasa de metal y hacer un radiador para que el calor se elimine de la carcasa.  Para conectar un m√≥dem 3G / 4G y / o una unidad usb, se us√≥ un cable de c√°mara IP Ethernet est√°ndar.  La autonom√≠a de la c√°mara con la grabadora en el interior proporciona una bater√≠a de 700mAh 3.7V.  La funci√≥n de la bater√≠a ser√° √∫til en caso de un corte de energ√≠a deliberado.  Esta bater√≠a es suficiente para unos 20 minutos de funcionamiento del DVR con la c√°mara. <br><br><h2>  ¬°Regala m√°s c√°maras! </h2><br>  Adem√°s, se realizaron experimentos con la grabaci√≥n de videos de varias c√°maras IP.  Los experimentos mostraron que la grabaci√≥n de videos de 2 c√°maras IP funcion√≥ de manera bastante estable, por lo que estamos considerando la posibilidad de crear una grabadora en un caso separado con la capacidad de conectar 2 c√°maras IP.  Ahora estamos probando el trabajo del registrador con tres y cuatro c√°maras IP.  Los resultados a√∫n no est√°n claros.  Las c√°maras ser√°n alimentadas desde la grabadora a trav√©s de PoE pasivo. <br><br><img src="https://habrastorage.org/webt/5n/oj/tz/5nojtzo-rywvsubllu0uyfmpur0.png"><br><br><div class="spoiler">  <b class="spoiler_title">M√°s fotos!</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/1c/rk/k5/1crkk5wkwnsfqqflozr4ros4oq0.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/j0/hv/3c/j0hv3cipg7qajfkaywh1ks2yxdq.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hb/ck/lx/hbcklx37psblnkxf0m4l2kmbrfm.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gt/mj/cw/gtmjcw4yvs0gdljxbcsjkl99zgo.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-m/-a/ky/-m-akymdn9mjlf65snafjoggdla.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/j1/mz/dk/j1mzdkaoi3lbqd7glqc8ldvtblg.png"></div><br></div></div><br>  La funcionalidad de esta opci√≥n puede ser √∫til, por ejemplo, al instalar c√°maras con intersecci√≥n de zonas de vigilancia.  Para trabajar con una gran cantidad de c√°maras, puede mirar en la direcci√≥n de las minicomputadoras actualmente muy populares.  Pero debe comprender que el consumo de energ√≠a de tales dispositivos es un orden de magnitud m√°s alto, y el precio tambi√©n. <br><br><h2>  ¬øC√≥mo se llama un barco para que navegue? </h2><br>  Probablemente hayas notado la inscripci√≥n en la pizarra.  Pensamos que no val√≠a la pena que un proyecto no tuviera t√≠tulo.  Se les ocurri√≥ un nombre modesto: "Vip-Cam" (Video-Ip-Camera).  Bueno, la versi√≥n con m√∫ltiples c√°maras - "Vip-Box". <br><br><h2>  Que sigue </h2><br>  Planes de futuro: <br><br><ul><li>  Optimiza y prueba el c√≥digo.  Obtenga un dispositivo de trabajo estable; <br></li><li>  Realizar investigaciones sobre la posibilidad de configurar una c√°mara IP a trav√©s del men√∫ de la aplicaci√≥n web; <br></li><li>  Explore la posibilidad de integrar un DVR en un sistema dom√©stico inteligente; <br></li><li>  Contin√∫e probando el funcionamiento del DVR con dos o m√°s c√°maras IP; <br></li><li>  Realice pruebas sobre el funcionamiento de la c√°mara con una bater√≠a solar; <br></li><li>  Crear una modificaci√≥n al DVR con soporte para c√°maras IP 2-x; <br></li><li>  Agregar funcionalidad para la configuraci√≥n remota del DVR y la c√°mara IP; <br></li><li>  Agregar la capacidad de hacer un video a pedido de forma remota; <br></li></ul><br>  Las fuentes del proyecto est√°n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  As√≠ que actualmente implementamos la idea de una mini grabadora en la nube.  El proyecto se implementa en su tiempo libre, por lo tanto, el tiempo de desarrollo se retrasa considerablemente.  Como resultado, tenemos un prototipo funcional de un DVR de peque√±o tama√±o que puede grabar videos en el almacenamiento en la nube de forma gratuita.  Todav√≠a hay mucho trabajo, pero una de las tareas se ha resuelto: es muy posible crear un registrador de alta calidad y sin paralelo.  Gracias por su atencion </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es422797/">https://habr.com/ru/post/es422797/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es422787/index.html">Grandes cambios en las principales arquitecturas de chips</a></li>
<li><a href="../es422789/index.html">@Pythonetc Aug 2018</a></li>
<li><a href="../es422791/index.html">C√≥mo NO aprender ingl√©s: errores comunes</a></li>
<li><a href="../es422793/index.html">Conferencia DEFCON 22. Andrew "Zoz" Brooks. ¬°No lo arruines! Parte 2</a></li>
<li><a href="../es422795/index.html">Tecnolog√≠a y negocios: un nuevo modelo de cooperaci√≥n con Zyxel en Rusia</a></li>
<li><a href="../es422799/index.html">C√≥mo ocult√≥ Microsoft todo el servidor y c√≥mo encontrarlo</a></li>
<li><a href="../es422801/index.html">Comprensi√≥n de RBAC en Kubernetes</a></li>
<li><a href="../es422803/index.html">Calculadora de costos de almacenamiento, o c√≥mo abrimos la "caja negra"</a></li>
<li><a href="../es422805/index.html">Darse de baja r√°pidamente de las listas de correo en Mail.Ru Mail</a></li>
<li><a href="../es422807/index.html">AliceVision: fotogrametr√≠a de l√≠nea de comando</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>