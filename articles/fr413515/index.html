<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👰🏼 👲🏻 🖕🏿 Doh en images 🧝🏼 🔙 💴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les menaces à la vie privée et à la sécurité sur Internet deviennent de plus en plus graves. Chez Mozilla, nous les suivons de près. Nous considérons ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Doh en images</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413515/">  Les menaces à la vie privée et à la sécurité sur Internet deviennent de plus en plus graves.  Chez Mozilla, nous les suivons de près.  Nous considérons qu'il est de notre devoir de tout faire pour protéger les utilisateurs de Firefox et leurs données. <br><br>  Nous nous inquiétons des entreprises et des organisations qui collectent et vendent secrètement des données utilisateur.  Par conséquent, nous avons ajouté une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">protection contre le suivi</a> et créé une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">extension de conteneur Facebook</a> .  D'autres mesures de protection apparaîtront dans les prochains mois. <br><br><img src="https://habrastorage.org/webt/tc/un/hg/tcunhgfr0ybhbntkqfwkymqs7jq.png"><br><br>  Nous ajoutons maintenant deux autres technologies à la liste: <br><br><ul><li>  HTTPS DNS est la nouvelle norme IETF que nous avons participé au développement </li><li>  Trusted Recursive Resolver - un nouveau moyen sécurisé pour résoudre DNS, fourni en conjonction avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cloudflare</a> </li></ul><a name="habracut"></a><br>  Grâce à ces deux initiatives, les fuites de données qui font partie du système des noms de domaine depuis sa création il y a 35 ans sont éliminées.  Et nous avons besoin de votre aide pour les tests.  Voyons comment le DNS HTTPS et le résolveur récursif de confiance protègent nos utilisateurs. <br><br>  Mais d'abord, voyons comment les pages Web sont transmises sur Internet. <br><br>  Si vous savez déjà comment DNS et HTTPS fonctionnent, vous pouvez passer au sujet de la façon dont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DNS aide via HTTPS</a> . <br><br><h1>  Cours abrégé HTTP </h1><br>  Lorsque les gens expliquent comment un navigateur charge une page Web, ils l'expliquent généralement comme suit: <br><br><ol><li>  Votre navigateur fait une demande GET au serveur. </li><li>  Le serveur envoie une réponse, qui est un fichier contenant du HTML. </li></ol><br><img src="https://habrastorage.org/webt/ck/su/_z/cksu_zcuvvlirpx982djarov_-a.png"><br><br>  Ce système est appelé HTTP. <br><br>  Mais ce schéma est trop simplifié.  Votre navigateur ne parle pas directement au serveur.  Probablement parce qu'ils ne sont pas proches les uns des autres. <br><br>  Un serveur peut être à des milliers de kilomètres.  Et il n'y a probablement pas de connexion directe entre votre ordinateur et le serveur. <br><br><img src="https://habrastorage.org/webt/x6/mv/a6/x6mva6dbioxgkwcsoohlxmxr320.png"><br><br>  Ainsi, avant que la demande ne parvienne du navigateur au serveur, elle passera par plusieurs mains.  Il en va de même pour la réponse. <br><br>  Je pense à cela comme des écoliers se passant des notes dans la classe.  Dehors, la note indique à qui elle est destinée.  L'enfant qui a écrit la note la remettra à un voisin.  Ensuite, l'enfant suivant le transmet à l'un des voisins - probablement pas au destinataire final, mais à quelqu'un qui est dans la bonne direction. <br><br><img src="https://habrastorage.org/webt/x0/kk/wk/x0kkwkini7vmt5usfakytxs6j_c.png"><br>  <i><font color="gray">- Psst ... passe ça à Sandy</font></i> <br><br>  Le problème est que n'importe qui peut ouvrir la note et la lire.  Et il n'y a aucun moyen de savoir à l'avance dans quel sens la note ira, donc on ne sait pas quelles personnes y auront accès. <br><br>  Cela peut être entre les mains de personnes qui feront des choses nuisibles ... <br><br>  Par exemple, ils partageront le contenu d'une note avec tout le monde. <br><br><img src="https://habrastorage.org/webt/b9/nj/by/b9njbyxbctfwu86frkmx7iutdzy.png"><br>  <i><font color="gray">- Oh, c'est juteux ...</font></i>  <i><font color="gray">Salut les gens!</font></i>  <i><font color="gray">Danny est tombé amoureux de Sandy!</font></i> <br><br>  Ou changez la réponse. <br><br><img src="https://habrastorage.org/webt/os/yl/h5/osylh5ioo-pde0rdxqlhe87bnjc.png"><br>  <i><font color="gray">"Tu m'aimes aussi?"</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Hehe, je vais me moquer de lui et écrire "Non" ...</font></i> <br><br>  Pour résoudre ces problèmes, une nouvelle version sécurisée de HTTP a été créée.  Cela s'appelle HTTPS: c'est comme un verrou sur chaque message. <br><br><img src="https://habrastorage.org/webt/ui/ki/vg/uikivgsefzm2qlbthwl9urtj8ag.png"><br><br>  Seuls le navigateur et le serveur connaissent la combinaison à déverrouiller.  Même si les messages transitent par plusieurs routeurs, seuls vous et le site Web pouvez réellement lire le contenu. <br><br>  Cela résout de nombreux problèmes de sécurité.  Mais il reste des messages non cryptés entre votre navigateur et votre serveur.  Ainsi, les personnes en chemin peuvent toujours interférer dans vos affaires. <br><br>  Par exemple, les données sont toujours ouvertes pendant la configuration de la connexion.  Lors de l'envoi du message d'origine au serveur, vous envoyez également le nom du serveur dans le champ «Indication du nom du serveur».  Cela permet aux opérateurs de serveur d'exécuter plusieurs sites sur le même ordinateur et de comprendre en même temps qui vous souhaitez contacter.  Cette demande initiale fait partie de la configuration du chiffrement, mais la demande initiale elle-même n'est pas chiffrée. <br><br>  Un autre endroit où les données sont ouvertes est le DNS.  Mais qu'est-ce que le DNS? <br><br><h1>  DNS: système de noms de domaine </h1><br>  Dans une métaphore pour passer des notes dans une classe, j'ai dit que le nom du destinataire devrait être écrit en dehors de la note.  Il en va de même pour les requêtes HTTP ... ils doivent déclarer où ils vont aller. <br><br>  Mais vous ne pouvez pas utiliser le nom de site habituel.  Aucun des routeurs ne comprend de qui vous parlez.  Utilisez plutôt une adresse IP.  C'est ainsi que les routeurs en cours de route comprennent à quel serveur vous souhaitez envoyer la demande. <br><br><img src="https://habrastorage.org/webt/j0/r9/u5/j0r9u5nvapj3glixleo9jpz5enc.png"><br>  <i><font color="gray">- Veuillez l'envoyer au 208.80.154.224</font></i> <br><br>  Cela pose des problèmes.  Il n'est pas pratique pour les utilisateurs de se souvenir des numéros de l'adresse IP.  Je veux donner au site un nom accrocheur ... qui sera déposé dans la mémoire des gens. <br><br>  C'est pourquoi nous avons un système de noms de domaine (DNS).  Votre navigateur utilise DNS pour résoudre le nom du site en adresse IP.  Ce processus - la conversion d'un nom de domaine en une adresse IP - est appelé résolution ou résolution de nom de domaine. <br><br><img src="https://habrastorage.org/webt/cz/lq/gb/czlqgbvi0qws2esb903m-awk-ya.png"><br><br>  Comment le navigateur résout-il le problème? <br><br>  Une option consiste à faire une grande liste comme un annuaire téléphonique dans un navigateur.  Mais à mesure que de nouveaux sites Web apparaissent ou migrent vers de nouveaux serveurs, il sera difficile de maintenir cette liste à jour. <br><br>  Ainsi, au lieu d'une seule liste pour tous les noms de domaine, il existe de nombreuses petites listes liées les unes aux autres.  Cela leur permet d'être contrôlés indépendamment. <br><br><img src="https://habrastorage.org/webt/3s/e3/he/3se3hesti0yunovtk-l-oeeoqay.png"><br><br>  Pour obtenir l'adresse IP correspondant à un nom de domaine, vous devez trouver une liste spécifique contenant le nom de domaine souhaité.  C'est comme trouver un trésor. <br><br>  À quoi ressemble une telle recherche de trésor pour un site comme Wikipedia anglais, <code>en.wikipedia.org</code> ? <br><br>  Le domaine peut être divisé en parties. <br><br><img src="https://habrastorage.org/webt/_v/5t/3y/_v5t3y32z0t0eforrxx2h2tejxc.png"><br><br>  Avec de telles parties, vous pouvez commencer à rechercher une liste contenant l'adresse IP du site.  Mais nous avons besoin d'aide pour trouver.  L'outil qui effectue cette chasse à notre place et trouve l'adresse IP s'appelle un résolveur. <br><br>  Premièrement, le résolveur accède au serveur DNS racine.  Il connaît plusieurs serveurs DNS racine différents, il envoie donc une demande à l'un d'eux.  Le résolveur demande le DNS racine où trouver des informations supplémentaires sur les adresses dans la zone de domaine de premier niveau <code>.org</code> . <br><br><img src="https://habrastorage.org/webt/mp/oz/eu/mpozeuvshtspg9sfhayuv2qu8oa.png"><br>  <i><font color="gray">- Vous ne savez pas comment accéder à en.wikipedia.org?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Je ne sais rien dans la zone .org, mais 5.6.7.8 peut aider</font></i> <br><br>  Le serveur suivant est appelé serveur de nom de domaine de premier niveau (TLD).  Le serveur TLD connaît tous les domaines de second niveau se <code>.org</code> par <code>.org</code> . <br><br>  Cependant, il ne sait rien des sous-domaines <code>wikipedia.org</code> , il ne connaît donc pas non plus l'adresse IP de <code>en.wikipedia.org</code> . <br><br>  Le serveur de noms TLD conseillera au résolveur de poser cette question au serveur de noms Wikipedia. <br><br><img src="https://habrastorage.org/webt/mu/cp/da/mucpdapdelnx2o0gd9to1laffiy.png"><br>  <i><font color="gray">- Vous ne savez pas comment accéder à en.wikipedia.org?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Allez demander le 11.21.31.41, il connaît les sites du domaine wikipedia.org</font></i> <br><br>  Le résolveur est presque terminé.  Un serveur de noms Wikipedia est ce qu'on appelle un serveur faisant autorité.  Il connaît tous les sous-domaines de <code>wikipedia.org</code> .  Ainsi, il connaît <code>en.wikipedia.org</code> et d'autres sous-domaines, tels que la version allemande de <code>de.wikipedia.org</code> .  Un serveur faisant autorité indique au résolveur à partir duquel les fichiers HTML d'adresse IP peuvent être récupérés pour ce site. <br><br><img src="https://habrastorage.org/webt/ny/zj/rp/nyzjrpuokwdbl5lxgiurrybkm8u.png"><br>  <i><font color="gray">- Vous ne savez pas comment accéder à en.wikipedia.org?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Oh oui, allez au 208.80.154.224</font></i> <br><br>  Le résolveur renverra l'adresse IP <code>en.wikipedia.org</code> au système d'exploitation. <br><br>  Ce processus est appelé résolution récursive car vous devez faire des allers-retours, en posant à différents serveurs essentiellement la même question. <br><br>  J'ai dit que nous avions besoin d'un résolveur pour aider à la recherche.  Mais comment le navigateur trouve-t-il ce résolveur?  En général, il demande le système d'exploitation. <br><br><img src="https://habrastorage.org/webt/qg/o8/cq/qgo8cqv3b68kxlk6d1adu6kqbuc.png"><br>  <i><font color="gray">"J'ai besoin d'un résolveur."</font></i>  <i><font color="gray">Pouvez-vous aider</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Bien sûr, permettez-moi de vous présenter le résolveur que j'utilise</font></i> <br><br>  Comment le système d'exploitation sait-il quel résolveur utiliser?  Il y a deux manières possibles. <br><br>  Vous <i>pouvez</i> configurer votre ordinateur pour utiliser un résolveur spécifique auquel vous faites confiance.  Mais très peu de gens le font. <br><br>  Au lieu de cela, la plupart utilisent simplement les paramètres par défaut.  Et par défaut, le système d'exploitation utilisera le résolveur indiqué par le réseau.  Lorsqu'un ordinateur se connecte au réseau et reçoit son adresse IP, le réseau recommande un résolveur spécifique. <br><br><img src="https://habrastorage.org/webt/qq/g5/1o/qqg51oyin5e6cvblsorcepmodh8.png"><br>  <i><font color="gray">- Puis-je obtenir une adresse IP?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Pas de problème!</font></i>  <i><font color="gray">Et si vous avez besoin d'un résolveur, je recommande celui-ci</font></i> <br><br>  Cela signifie que le résolveur utilisé peut être changé plusieurs fois par jour.  Si vous vous rendez dans un café pour travailler pendant la journée, vous utilisez probablement un résolveur différent de celui du matin.  Et cela se produit même si vous configurez votre propre résolveur, car il n'y a pas de sécurité dans le protocole DNS. <br><br><h1>  Comment puis-je exploiter DNS? </h1><br>  Alors, comment ce système met-il en danger les utilisateurs? <br><br>  En règle générale, le résolveur indique à chaque serveur DNS le domaine que vous recherchez.  Cette demande inclut parfois votre adresse IP complète.  Et s'il ne s'agit pas d'une adresse complète, la demande comprend plus souvent la plupart de votre adresse IP, qui peut être facilement combinée avec d'autres informations pour établir votre identité. <br><br><img src="https://habrastorage.org/webt/r5/tm/rk/r5tmrkwtqmjtl4ankon0ky9atgu.png"><br>  <i><font color="gray">Contient la plupart de votre adresse IP ...</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">... et le domaine complet que vous recherchez</font></i> <br><br>  Cela signifie que chaque serveur auquel vous demandez de l'aide pour la résolution des noms de domaine voit quel site vous recherchez.  De plus, toute personne se rendant sur ces serveurs voit également vos demandes. <br><br>  Il existe plusieurs façons dont un tel système compromet les données des utilisateurs.  Les deux principaux sont le tracking (tracking) et le spoofing (spoofing). <br><br><h3>  Suivi </h3><br>  Comme je l'ai dit ci-dessus, il n'est pas difficile de déterminer l'identité de la personne qui demande l'accès à un site spécifique en utilisant des informations complètes ou partielles sur l'adresse IP.  Cela signifie que le serveur DNS et tout utilisateur se rendant sur ce serveur DNS (routeur en chemin) peuvent créer un profil utilisateur.  Ils peuvent faire une liste de tous les sites que vous avez consultés. <br><br>  Et ce sont des données précieuses.  De nombreuses personnes et entreprises sont prêtes à payer beaucoup pour voir votre historique de navigation. <br><br><img src="https://habrastorage.org/webt/6d/yr/qv/6dyrqvrgnlsweoegzwo_ue-dx5c.png"><br>  <i><font color="gray">Combien êtes-vous prêt à payer pour des informations sur ce que John Doe regardait?</font></i> <br><br>  Même si nous n'avions pas à nous soucier de serveurs DNS ou de routeurs potentiellement infâmes en cours de route, il y a toujours un risque que vos données soient collectées et vendues.  Parce que le résolveur lui-même - que le réseau vous a fourni - peut ne pas être fiable. <br><br>  Même si vous faites confiance au résolveur recommandé du réseau, vous ne l'utilisez probablement qu'à la maison.  Comme je l'ai mentionné, chaque fois dans un café, un hôtel ou sur tout autre réseau, vous recevrez probablement un résolveur différent.  Et qui sait quelle est sa politique de collecte de données? <br><br>  En plus du fait que vos données sont collectées puis revendues à votre insu ou sans votre consentement, le système est utilisé de manière encore plus dangereuse. <br><br><h3>  Usurpation d'identité </h3><br>  Avec l'usurpation d'identité, quelqu'un sur le chemin entre vous et le serveur DNS modifie la réponse.  Au lieu d'une véritable adresse IP, le fraudeur vous indique la mauvaise adresse IP pour le site.  Ainsi, ils peuvent bloquer l'accès à un site réel ou envoyer une fausse version à des fraudeurs. <br><br><img src="https://habrastorage.org/webt/zm/3b/5t/zm3b5ttg_mk9vcftxwiiluvc0i4.png"><br>  <i><font color="gray">Envoyez-le au 1.6.6.6 ... c'est une adresse absolument correcte, et pas un faux site web que je contrôle</font></i> <br><br>  Là encore, le résolveur lui-même peut agir de façon infâme. <br><br>  Supposons que vous effectuez un achat dans un magasin Megastore.  Vous voulez comparer les prix et voir si un tel produit est vendu moins cher dans la boutique en ligne concurrente big-box.com. <br><br>  Mais si vous utilisez le Megastore WiFi dans leur salle de marché, vous utilisez probablement leur résolveur.  Il peut intercepter une demande à big-box.com et vous mentir que le site n'est pas disponible. <br><br><a name="1"></a><h1>  Comment résoudre la situation en utilisant Trusted Recursive Resolver (TRR) et DNS sur HTTPS (DoH)? </h1><br>  Chez Mozilla, nous croyons fermement que nous sommes responsables de la protection des utilisateurs et de leurs données, et nous travaillons donc pour remédier à ces vulnérabilités. <br><br>  Voici deux nouvelles fonctionnalités pour y remédier: Trusted Recursive Resolver (TRR) et DNS sur HTTPS (DoH).  Parce qu'il y a en fait trois menaces: <br><br><ol><li>  Vous pouvez finir par utiliser un résolveur non fiable qui suit vos demandes ou usurpe les réponses des serveurs DNS. </li><li>  Les routeurs en cours de route peuvent suivre les demandes ou intervenir de la même manière. </li><li>  Les serveurs DNS peuvent suivre les requêtes DNS. </li></ol><br><img src="https://habrastorage.org/webt/3l/yg/op/3lygopv1uoy_s_iktu34-cogywu.png"><br><br>  Comment éviter cela? <br><br><ol><li>  Évitez les résolveurs peu fiables avec TRR. </li><li>  Protégez-vous contre l'écoute et l'usurpation d'identité en utilisant DNS sur HTTPS. </li><li>  Transférez le moins de données possible pour protéger les utilisateurs contre l'anonymisation. </li></ol><br><h3>  Évitez les résolveurs peu fiables avec TRR </h3><br>  Les réseaux peuvent cesser de recommander des résolveurs non fiables qui collectent des données utilisateur ou de fausses requêtes DNS, car très peu d'utilisateurs sont conscients des risques ou de la manière de se protéger. <br><br>  Même pour les utilisateurs qui sont conscients des risques, il est difficile pour un utilisateur individuel de convenir avec son fournisseur ou une autre organisation qu'il sera traité de manière responsable avec ses requêtes DNS. <br><br>  Cependant, nous avons étudié ces risques ... et nous avons une certaine influence.  Nous recherchons depuis longtemps une entreprise qui nous aidera à protéger les données DNS des utilisateurs.  Et ils en ont trouvé un: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cloudflare</a> . <br><br>  Cloudflare fournit un service de résolution récursive avec une politique de confidentialité pour les utilisateurs.  Ils se sont engagés à supprimer toutes les données personnelles identifiables après 24 heures et à ne jamais transférer ces données à des tiers.  Des contrôles réguliers seront effectués pour s'assurer que les données sont effectivement supprimées comme promis. <br><br>  Grâce à cela, nous avons un résolveur de confiance pour protéger la confidentialité des utilisateurs.  Cela signifie que Firefox peut ignorer le résolveur de réseau et accéder directement à Cloudflare.  Désormais, vous n'avez plus à vous inquiéter du fait que les attaquants utilisent un résolveur pour vendre des données utilisateur ou l'usurpation DNS. <br><br>  Pourquoi avons-nous choisi un résolveur?  Comme nous, Cloudflare est soucieux de créer un service DNS privé.  Ensemble avec nous, ils ont développé un bon résolveur DoH transparent.  La société a volontiers opté pour une protection supplémentaire du service, nous sommes donc heureux de coopérer avec eux. <br><br>  Mais cela ne signifie pas que vous devez utiliser Cloudflare.  Les utilisateurs peuvent configurer Firefox pour utiliser n'importe quel résolveur récursif compatible DoH.  À mesure que de nouveaux services seront disponibles, nous prévoyons de mettre en œuvre une découverte simple et de basculer entre eux. <br><br><h3>  Protection contre l'écoute et l'usurpation d'identité à l'aide de DNS sur HTTPS </h3><br>  Mais le résolveur n'est pas la seule menace.  Les routeurs en cours de route peuvent suivre et simuler les requêtes DNS, car ils voient également le contenu des requêtes et des réponses DNS.  Heureusement, il existe déjà une technologie sur Internet pour se protéger contre l'écoute des routeurs en chemin.  C'est le cryptage dont je parlais. <br><br>  L'utilisation de HTTPS pour échanger des paquets DNS protège les requêtes DNS de nos utilisateurs contre l'espionnage. <br><br><h3>  Transférez le moins de données possible pour protéger les utilisateurs contre l'anonymisation </h3><br>  En plus du résolveur de confiance qui s'exécute sous le protocole DoH, Cloudflare et moi travaillons sur des mesures de sécurité supplémentaires. <br><br>  En règle générale, le résolveur envoie le nom de domaine complet à chaque serveur: le DNS racine, le domaine de premier niveau, le serveur de noms de domaine de deuxième niveau, etc. Mais le serveur Cloudflare fera différemment.  Il n'enverra que la partie liée à un serveur DNS particulier.  C'est ce qu'on appelle la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">minimisation QNAME</a> . <br><br><img src="https://habrastorage.org/webt/zc/po/hd/zcpohdznrjwbjkyqhguxusrw_ii.png"><br>  <i><font color="gray">"Vous ne savez pas comment accéder au serveur .org?"</font></i> <br><br>  Souvent, le résolveur inclut également les 24 premiers bits de votre adresse IP dans la demande.  Cela permet au serveur DNS de savoir où vous vous trouvez et de sélectionner le CDN le plus proche.  Mais les serveurs DNS peuvent utiliser ces informations pour lier entre elles des requêtes disparates. <br><br>  Au lieu de cela, Cloudflare fera une demande à partir de l'une de ses propres adresses IP, qui se trouve à côté de l'utilisateur.  Cela permet une géolocalisation sans référence à une personne spécifique.  Nous étudions également comment mettre en œuvre un équilibrage de charge encore meilleur et plus fin en tenant compte de la confidentialité. <br><br>  Tout cela - en supprimant les parties inutiles du domaine et de l'adresse IP - signifie que le serveur DNS peut collecter beaucoup moins de données vous concernant. <br><br><img src="https://habrastorage.org/webt/gy/rd/6v/gyrd6vpqy2p93vhgan08o2wweqo.png"><br><br><h1>  Qu'est-ce qui n'est pas inclus dans le RRT avec le DoH? </h1><br>  Ces mesures de protection réduisent le nombre de personnes qui peuvent voir l'historique des pages que vous visitez.  Mais ils n'éliminent pas complètement les fuites de données. <br><br>  Après avoir effectué une recherche DNS, vous devez toujours vous connecter au serveur Web à cette adresse pour obtenir une adresse IP.  Pour ce faire, envoyez une demande.  La demande comprend un SNI (indication du nom du serveur) indiquant le site spécifique sur le serveur.  Et cette demande n'est pas chiffrée. <br><br>  Autrement dit, votre FAI est toujours en mesure de savoir quels sites vous visitez, car ils sont répertoriés juste là dans le SNI.  Des informations sont également ouvertes pour les routeurs qui transmettent la demande initiale de votre navigateur au serveur Web. <br><br>  Mais dès que vous vous connectez au serveur Web, tout est crypté.  Et surtout, cette connexion cryptée peut être utilisée pour n'importe quel site sur ce serveur, et pas seulement pour celui que vous avez initialement demandé. <br><br>  Ceci est parfois appelé fusion de connexion HTTP / 2 ou simplement réutilisation d'une connexion.  Lorsque vous ouvrez une connexion à un serveur compatible, il vous indiquera quels autres sites y sont hébergés.  Vous pouvez ensuite visiter ces sites en utilisant votre connexion cryptée existante. <br><br>  Pourquoi est-ce utile?  Parce que vous n'avez pas besoin d'ouvrir une nouvelle connexion pour vous connecter à ces autres sites.  Autrement dit, vous n'avez pas besoin d'envoyer une autre demande initiale non chiffrée indiquant le SNI et la divulgation d'informations sur le site auquel vous allez.  Vous pouvez donc visiter l'un des autres sites sur le même serveur sans les révéler à votre fournisseur et à vos routeurs en cours de route. <br><br>  Avec la popularité croissante de CDN, de plus en plus de sites individuels sont servis par un seul serveur.  Et comme vous pouvez ouvrir plusieurs connexions unifiées, vous vous connectez simultanément à plusieurs serveurs partagés ou CDN, visitant tous les sites sur différents serveurs sans fuite de données.  Cette fonction fonctionne donc de plus en plus efficacement comme écran de protection. <br><br><h1>  Quel est le statut? </h1><br>  Déjà dans Firefox, vous pouvez activer DNS sur HTTPS, et nous vous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">recommandons de le faire</a> . <br><br>  Nous voulons activer DoH par défaut pour tous les utilisateurs, car tout le monde mérite la confidentialité et la sécurité, qu'ils connaissent ou non les fuites DNS. <br><br>  Mais c'est un changement important, et il doit d'abord être testé.  Par conséquent, nous menons une étude.  La moitié de nos utilisateurs de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Firefox Nightly</a> demandent de l'aide pour collecter des données de performances. <br><br>  Lors des tests, le résolveur par défaut est utilisé, tel qu'il est actuellement, mais les demandes sont également envoyées au résolveur Cloudflare DoH.  Ensuite, nous comparons le résultat pour vérifier que tout fonctionne comme prévu. <br><br>  Pour les participants à l'étude, la réponse DNS Cloudflare n'est pas encore utilisée.  Nous vérifions simplement que tout fonctionne, puis rejetons la réponse Cloudflare. <br><br><img src="https://habrastorage.org/webt/p8/_a/el/p8_aelqb6nza3ypzpnzwuibnd6m.png"><br><br>  Merci aux utilisateurs de Nightly qui aident à tester Firefox tous les jours.  Nous espérons que vous nous aiderez aussi. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413515/">https://habr.com/ru/post/fr413515/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413501/index.html">L'année passée avec React: conclusions et recommandations</a></li>
<li><a href="../fr413503/index.html">Corrigez-moi si vous le pouvez: comment nous déboguons sur la production. Partie 1</a></li>
<li><a href="../fr413505/index.html">2 billets gratuits pour In-Memory Computing Summit Europe</a></li>
<li><a href="../fr413511/index.html">Choisir un scanner 3D pour l'industrie. Maxim Zhuravlev. Reportage à Top 3D Expo 2018</a></li>
<li><a href="../fr413513/index.html">Normes de communication «oubliées»: WiMAX, CDMA, ALOHAnet et autres</a></li>
<li><a href="../fr413517/index.html">Qu'est-ce que le paradoxe de la productivité informatique et comment le cloud peut-il le résoudre?</a></li>
<li><a href="../fr413519/index.html">Test comparatif des dispositifs anti-moustiques</a></li>
<li><a href="../fr413523/index.html">Présentation de l'utilisation de Universal Links: avantages et inconvénients</a></li>
<li><a href="../fr413525/index.html">Apprenez-moi à interviewer</a></li>
<li><a href="../fr413527/index.html">Trois variantes du mot «cacher» en anglais et dans d'autres séries synonymes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>