<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คถ๐พ ๐ ๐๐ผ ูุธุงุฆู ูุชูุซูู ููุงุนุฏ ุจูุงูุงุช PostgreSQL. ุงูุฌุฒุก ุงูุซุงูุซ ๐จ๐พโโ๏ธ ๐ฝ ๐ฉ๐ผโโ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฐุง ูู ุงูุฌุฒุก ุงูุซุงูุซ ูู ุงูููุงูุฉ ุงูุฐู ูุตู ุงููุธุงุฆู ุงููุนุฑูุฉ ูู ูุจู ุงููุณุชุฎุฏู ููุนูู ูุน ุฏูุงุฆู ุงููุธุงู: pg_class ุ pg_attribute ุ pg_constictions ุ ุฅูุฎ. 

 ููุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุธุงุฆู ูุชูุซูู ููุงุนุฏ ุจูุงูุงุช PostgreSQL. ุงูุฌุฒุก ุงูุซุงูุซ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418597/" style=";text-align:right;direction:rtl">  ูุฐุง ูู ุงูุฌุฒุก ุงูุซุงูุซ ูู ุงูููุงูุฉ ุงูุฐู ูุตู ุงููุธุงุฆู ุงููุนุฑูุฉ ูู ูุจู ุงููุณุชุฎุฏู ููุนูู ูุน ุฏูุงุฆู ุงููุธุงู: pg_class ุ pg_attribute ุ pg_constictions ุ ุฅูุฎ. <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zc/rx/ta/zcrxta08dnfat5cqpgid4lyq7by.png"></div><br>  ููุงูุด ูุฐุง ุงููุณู ูู ุงูููุงูุฉ ุงููุธุงุฆู ุงูุชู ุชูุฑุฌุน <b>ุฎุตุงุฆุต ุงูุชุณูุณูุงุช ูุงูุฌุฏุงูู ุงูููุฑูุซุฉ</b> <b>ูุงูุฎุตุงุฆุต ุงูุฎุงุตุฉ ูุณูุงุช ุงูุฌุฏูู</b> . <br><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  <b>ุงูุธุฑ ุฃูุถูุง</b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุธุงุฆู ูุชูุซูู ููุงุนุฏ ุจูุงูุงุช PostgreSQL.</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก ุงูุฃูู</a></b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุธุงุฆู ูุชูุซูู ููุงุนุฏ ุจูุงูุงุช PostgreSQL.</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก ุงูุซุงูู</a> ุ</b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุธุงุฆู ูุชูุซูู ููุงุนุฏ ุจูุงูุงุช PostgreSQL.</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงูุฉ (ุงูุฌุฒุก ุงูุฑุงุจุน)</a> .</b> <br><br>  ููุฏู ุงููุตู ุงูุฃูู ูู ุงูููุงูุฉ ุชุนูููุงุช ุนูู ุชูููุฐ ุงููุธุงุฆู.  ูุงูุซุงูู ูู ุฑูุฒ ุงููุตุฏุฑ ูููุธุงุฆู.  ุจุงููุณุจุฉ ูููุฑุงุก ุงูููุชููู ููุท ุจุงููุตูุต ุงููุตุฏุฑ ุ ููุชุฑุญ ุงููุชุงุจุนุฉ ุงูููุฑูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุญู</a> . <br><br></p><h3 style=";text-align:right;direction:rtl">  ูููู ุฏุงูุฉ ุชููู ุจุงุฑุฌุงุน ูุดู ุฎุตุงุฆุต ุชุณูุณู ุงูุฌุฏูู </h3><br><img src="https://habrastorage.org/webt/i6/dw/f_/i6dwf_jd0ofjr-vqmeide0l1vws.png"><br>  <i>ุงูุชูู.</i>  <i>2. ุงููุธุงุฆู ุงูุชู ุชุนุชูุฏ ุนูููุง ูุธุงุฆู admtf_Table_Sequences</i> <br><br>  <strong>ุงูุฌุฏูู 11. ุงูุบุฑุถ ูู ุงููุธุงุฆู.</strong> <br><br><table width="95" border="1" style=";text-align:right;direction:rtl"><tbody><tr><th width="5">  ูุง. </th><th width="10">  ุงูุนููุงู </th><th width="40">  ุงูุชุนููู </th></tr><tr><td width="5">  1 </td><td width="10">  admtf_Sequence_Features </td><td width="40">  ุชูุฑุฌุน ุงูุฏุงูุฉ ูุงุฆูุฉ ุจุฎุตุงุฆุต ุชุณูุณู ุงูุฌุฏูู. </td></tr><tr><td width="5">  2 </td><td width="10">  admtf_Table_Sequences </td><td width="40">  ุชูุฑุฌุน ุงูุฏุงูุฉ ูุงุฆูุฉ ุจุชุณูุณู ุฌุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฎุตุงุฆุตูุง. </td></tr></tbody></table><br><h3 style=";text-align:right;direction:rtl">  ุฏุงูุฉ <b>Admtf_Sequence_Features</b> - ูุงุฆูุฉ ุฎุตุงุฆุต ุชุณูุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช </h3><br><a name="tfSeqF_def"></a><p style=";text-align:right;direction:rtl">  ุชุนุฑุถ ุงูุฏุงูุฉ admtf_Sequence_Features ูุงุฆูุฉ ุจุฎุตุงุฆุต SEQUENCE ููุงุนุฏุฉ ุงูุจูุงูุงุช.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุนุฑุถ ููุฏ ุงููุตุฏุฑ ูุชูุฒููู ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  <b>ุชุนุฑุถ</b> ุงูุฏุงูุฉ <b>admtf_Sequence_Features</b> ูุงุฆูุฉ ุจุฎุตุงุฆุต ุชุณูุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช ( <b>SEQUENCE</b> ) </p>  . <br><p style=";text-align:right;direction:rtl">  ููุนููุงุช ุ ุชุฃุฎุฐ ุงูุฏุงูุฉ ุงุณู ุงูุชุณูุณู ( <b>a_SequenceName</b> ) ูุงุณู ุงููุฎุทุท ุงูุฐู ูุชู ุฅูุดุงุก ุงูุชุณูุณู <b>ุฏุงุฎูู</b> ( <b>a_SchemaName</b> ). </p><br><p style=";text-align:right;direction:rtl">  ูุดุฃุช ุงูุญุงุฌุฉ ุฅูู ูุธููุฉ <b>admtf_Sequence_Features</b> ูุฃู ุงูุฎุตุงุฆุต ุงูุฑุฆูุณูุฉ ููุชุณูุณู ูุชู ุชุฎุฒูููุง ุจุงููุนู ูู ุฌุฏูู ูุชุทุงุจู ุงุณูู ูุน ุงุณู ุงูุชุณูุณู ุ ููุชู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ููู ุจุงุณุชุฎุฏุงู <b>ุนุจุงุฑุฉ SELECT</b> .  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชุฎุฒูู ุงุณู ุงูุชุณูุณู ูุงุณู ุงููุฎุทุท ูุงูุชุนููู ุนูู ุงูุชุณูุณู ูู <b>ุฏูุงุฆู</b> <b>pg_class</b> ู <b>pg_namespace</b> ู <b>pg_description</b> . </p><br><pre style=";text-align:right;direction:rtl"><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> kr_road_network_vertices_pgr_id_seq;</code> </pre> <br><p style=";text-align:right;direction:rtl">  <b><i>ูุงูุญุธุฉ 6</i></b> </p><br><p style=";text-align:right;direction:rtl">  ูุตู <b>PostgreSQL</b> 10 ุฎุตุงุฆุต ุงูุชุณูุณู ูุฎุตุงุฆุต ุญุงูุงุชู.  ููุฐุง ุ ุชู <b>ุฅุฏุฎุงู</b> ุฏููู <b>pg_sequence</b> ุจุฎุตุงุฆุต ุงูุชุณูุณู ุ ูุญุชูู ุนูู ุงููููุฉ ุงูุฃูููุฉ ( <b>start_value</b> ) ุ ุงูุฒูุงุฏุฉ ( <b>increment_by</b> ) ูุงููููุฉ ุงููุตูู ( <b>max_value</b> ) ููุชุณูุณู.  ุชู ุชุฑู ุงููููุฉ ุงูุฃุฎูุฑุฉ ุงูุชู ุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุงูุชุณูุณู ( <b>last_value</b> ) ูู "ุงูุฌุฏูู" ุจุงุณู ุงูุชุณูุณู. </p><p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl">  <strong>ููุงูุฉ ุงูููุงุญุธุฉ.</strong> </p><br><p style=";text-align:right;direction:rtl">  ุฃุนุชูุฏ ุฃู ุนุฑุถ ูู ุชุณูุณู <b>ูููุงุธุฑุฉ ููุฌุฏูู</b> ุชูููู ุงูุญุงุฌุฉ ุฅูู ุชุฎุฒูู ุขุฎุฑ ูููุฉ ูุณุชุฎุฏูุฉ ููุชุณูุณู ( <b>last_value</b> ) ุ ููู ุฎุงุตูุฉ ูุญุงูุฉ ุงูุชุณูุณู ุ ูููู ููุณ ุงูุชุณูุณู ููุณู. </p><br><p style=";text-align:right;direction:rtl">  ูุฎุชูู ุฅุฏุฎุงู ุงูุชุณูุณู ูู ุฏููู <b>pg_class</b> ุนู ุฅุฏุฎุงู ุงูุฌุฏูู ุญุณุจ ูููุฉ ููุน ุงูุนูุงูุฉ (relkind = <font color="red">'S'</font> ). </p><br><p style=";text-align:right;direction:rtl">  ูุงุณุชุฎุฑุงุฌ ุฎุตุงุฆุต ุชุณูุณู ุนุดูุงุฆู ุ ุนููู ุงุณุชุฎุฏุงู SQL ุฏููุงูููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> <span class="hljs-string"><span class="hljs-string">'SELECT last_value,start_value,increment_by,max_value FROM '</span></span>|| <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SchemaName)||<span class="hljs-string"><span class="hljs-string">'.'</span></span>||<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SequenceName) <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> v_SequenceLastValue,v_SequenceStartValue, v_SequenceIncrementBy,v_SequenceMaxValue ;</code> </pre><br><br>  <strong>ุงูุฌุฏูู 12. ูุชูุฌุฉ ุชูููุฐ ุงููุธููุฉ admtf_Sequence_Features ('public'ุ 'kr_road_network_vertices_pgr_id_seq').</strong> <br><br><table width="25" style=";text-align:right;direction:rtl"><tbody><tr><th width="5">  ุงูุนููุงู </th><th width="5">  ุชุนููู </th><th width="10">  ุงูุญุงูู </th><th width="5">  ุงุจุฏุฃ </th><th width="5">  ุฒูุงุฏุฉ </th><th width="10">  ุงูููุงูุฉ </th></tr><tr><td width="15">  kr_road_network <br>  _vertices_pgr_id <br>  _seq </td><td width="20">  ุชุณูุณู </td><td width="10">  138023 </td><td width="5">  1 </td><td width="5">  1 </td><td width="10">  9223372036854775807 </td></tr></tbody></table><br><h3 style=";text-align:right;direction:rtl">  ุฏุงูุฉ admtf_Table_Sequences ูุงุฆูุฉ ุชุณูุณูุงุช ุฌุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฎุตุงุฆุตูุง </h3><br><a name="tfTableS_def"></a><p style=";text-align:right;direction:rtl">  <b>ุชุนุฑุถ</b> ุงูุฏุงูุฉ <b>admtf_Table_Sequences</b> ูุงุฆูุฉ ุจุงูุชุณูุณูุงุช ( <b>SEQUENCE</b> ) ูุฌุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุชู ุชููุฏ ููู ุญููููุง ูุฎุตุงุฆุต ูุฐู ุงูุชุณูุณูุงุช.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุนุฑุถ ููุฏ ุงููุตุฏุฑ ูุชูุฒููู ููุง</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุง ูุณุฎุฉ ูู ูุธููุฉ ูุง ุชุณุชุฎุฏู ุงููุคุดุฑ</a> . </p><br><p style=";text-align:right;direction:rtl">  ููุนููุงุช ุ ุชุฃุฎุฐ ุงููุธููุฉ ุงุณู ุงูุฌุฏูู ุงููุตุฏุฑ ( <b>a_TableName</b> ) ูุงุณู ุงููุฎุทุท ุงูุฐู ูุชู ุฅูุดุงุก ุงูุฌุฏูู ุฏุงุฎูู ( </p><p style=";text-align:right;direction:rtl">  a_SchemaName </p>  ) <br><img src="https://habrastorage.org/webt/io/cc/ib/ioccibem_rgf_rjzsnmd5va1xt0.png"><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุงููุตุฏุฑ ููุนุงูู ูู ุงูุดูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pseq.relname <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceName,snsp.nspname <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceSchemaName, <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(dsc.description,<span class="hljs-string"><span class="hljs-string">',    '</span></span> ||da.attname) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceDescription, d.depType <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> DependcyType,da.attname <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> AttributeName <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_depend d <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_class pseq <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> d.objid = pseq.oid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace snsp <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> pseq.relnamespace=snsp.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_Description dsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> pseq.oid=dsc.objoid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> dsc.objsubid=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_class tbl <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> d.refobjid = tbl.oid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace nsp <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.relnamespace=nsp.oid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_attribute da <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> da.attrelid= d.refobjid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> da.attnum= d.refobjsubid <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(nsp.nspname)=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SchemaName) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(tbl.relname)=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_TableOID) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tbl.relkind = <span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pseq.relkind = <span class="hljs-string"><span class="hljs-string">'S'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> pseq.relname;</code> </pre><br></div></div><br><p style=";text-align:right;direction:rtl">  ูุตู ุงูุชุณูุณู ุงููุงุญุฏ ูู ูุฒูุฌ ูู ุณุฌู ูู <b>pg_class</b> ูุตูู ุจุฃูู ุนูุงูุฉ ูุงุฏูุฉ ูุฌุฏูู ุดุฑุทู ุจุงุณู ุงูุชุณูุณู ุงูุฐู ูุญุชูู ุนูู ุจูุงูุงุช ุญูู ุงูุฎุตุงุฆุต ุงููุญุฏุฏุฉ ููุชุณูุณู </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุฎุฒูู ูุนูููุงุช ุญูู ุงูุนูุงูุฉ ุจูู ุงูุชุณูุณู ูุงูุฌุฏูู ุงููุตุฏุฑ ูู ุฏููู ูุธุงู <b>pg_depend</b> . </p><br><br>  <strong>ุฌุฏูู 13. ุฎุตุงุฆุต ุงูุฏููู <b>pg_dependent</b> ุงููุทููุจุฉ ูุชูููุฐ ุงููุธููุฉ.</strong> <br><table width="25" style=";text-align:right;direction:rtl"><tbody><tr><th width="5">  ุงูุนููุงู </th><th width="5">  ุงููุตู </th></tr><tr><td width="10">  ุงุนุชุฑุถ </td><td width="20">  OID ููุชุณูุณู ูู ุฏููู pg_class </td></tr><tr><td width="10">  objsubid </td><td width="20">  ูุญุชูู ูุฐุง ุงูุญูู ุนูู ุตูุฑ </td></tr><tr><td width="10">  refobjid </td><td width="20">  OID ููุฌุฏูู ูู ุงูุญููู ุงูุชู ูุชู ุงุณุชุฎุฏุงู ุงูุชุณูุณู </td></tr><tr><td width="10">  refobjsubid </td><td width="20">  ุฑูู ุณูุฉ ุงูุฌุฏูู ุงูุฐู ูุชู ููุก ูููู ุจุงุณุชุฎุฏุงู ุชุณูุณู </td></tr></tbody></table><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุตู ุงููุธููุฉ ุฅูู ุจูุงูุงุช ุงููุชุงููุฌ <b>pg_namespace</b> ู <b>pg_description</b> ูุงุณุชุฎุฑุงุฌ ุงูุฑุณูู ุงูุจูุงููุฉ ูุงูุชุนูููุงุช ููู ูู ุงูุชุณูุณู ูุฌุฏูู ุงููุตุฏุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุชุญุฏูุฏ ุณูุฉ ุฌุฏูู ูุชู ููุก ูููู ุจุงุณุชุฎุฏุงู ุชุณูุณู ุ ุชุตู ุงููุธููุฉ ุฅูู ุฏููู <b>pg_attribute</b> ุชุญุช ุงูุดุฑุท: <b>attrelid = refobjid AND attnum = refobjsubid</b> .  (ูู ูุฐู ุงูุญุงูุฉ ุ ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ุฃุณูุงุก ุณูุงุช ุงูุฏููู <b>pg_dependent</b> ุฅูู ูููู ุนูุงูุฉ ุงููุณุงูุงุฉ). </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฑุฏุงุฏ ุงูุฎุตุงุฆุต ุงูุฎุงุตุฉ ูุชุณูุณู ุงูุฌุฏูู ูู ุญููุฉ ุนู ุทุฑูู ุงุณุชุฏุนุงุก <b>admtf_Sequence_Features</b> .  ูุชู ุงุณุชุฎุฏุงู ุงูุฏูุฑุฉ ูุฃูู ูููู ุชุนููู ุฃูุซุฑ ูู ุชุณูุณู ูููุก ุญููู ุงูุฌุฏูู. </p><br>  <strong>ุฌุฏูู 14. ูุชูุฌุฉ ุชูููุฐ ุงููุธููุฉ admtf_Table_Sequences ('public'ุ 'kr_road_network_vertices_pgr').</strong> <br><br><table width="25" style=";text-align:right;direction:rtl"><tbody><tr><th width="5">  ุงูุนููุงู </th><th width="5">  ุชุนููู </th><th width="5">  ุงุจุฏุฃ </th><th width="5">  ุฒูุงุฏุฉ </th><th width="10">  ุงูููุงูุฉ </th><th width="10">  ุงููุฌุงู </th></tr><tr><td width="15">  kr_road_network <br>  _vertices_pgr_id <br>  _seq </td><td width="20">  ุฅูุดุงุก ุชุณูุณู ููู ุญูู ุงููุนุฑู </td><td width="5">  1 </td><td width="5">  1 </td><td width="10">  9223372036854775807 </td><td width="10">  ูุนุฑู </td></tr></tbody></table><br><a name="tfTableS_woc_def"></a><h4 style=";text-align:right;direction:rtl">  ุฅุตุฏุงุฑ ุจุฏูู ูุคุดุฑ </h4><br><p style=";text-align:right;direction:rtl">  ูู ุจูุฆุฉ <b>PostgreSQL</b> ุงูุชู ูููู ุฅุตุฏุงุฑูุง ุฃูู ูู 10 ุ ููู ุงููุญุชูู ุฃู ูููู ูู ุงููุณุชุญูู ุชูููุฐ ูุธููุฉ <b>admtf_Table_Sequences</b> ุจุฏูู ุงุณุชุฎุฏุงู ุงููุคุดุฑ. <br>  ููู ูููู ูููุงูููู ุงููุญุธูุธูู ููุฅุตุฏุงุฑ 10 ุงูุงุณุชุบูุงุก ุนู ุงููุคุดุฑ ุ ูุฃู  ูุฏููู ุฏููู <b>pg_sequence</b> ุชุญุช ุชุตุฑููู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุงุณุชุฑุฌุงุน ูู ุฎุตุงุฆุต ุงูุชุณูุณู ุจุงุณุชุฎุฏุงู <b>ุนุจุงุฑุฉ SELECT</b> ูุงุญุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุชูููุฐ ุงููุธููุฉ ุงููุญุฏุฏุฉ ุ ุจุงุณุชุฎุฏุงู ุฏุงูุฉ ุงููุงูุฐุฉ <b>RANK () OVER (PARTITION BY pseq.relname)</b> ุ ูุชู ุญุณุงุจ ุฑูู ุงูุชุณูุณู ุงููุชุณูุณู ุงููุณุชุฎุฏู ูููุก ุฌุฏูู ุงููุตุฏุฑ. </p><br><img src="https://habrastorage.org/webt/1z/qa/r7/1zqar7uba-68o2ya1l_o37ph5jc.png"><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุงููุตุฏุฑ ููุนุงูู ูู ุงูุดูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RANK</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">OVER</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">PARTITION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> pseq.relname) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceNo, pseq.relname <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceName,snsp.nspname <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceSchemaName, <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(dsc.description,<span class="hljs-string"><span class="hljs-string">',    '</span></span> ||da.attname) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceDescription, seq.seqstart <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceStartValue,seq.seqincrement <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceIncrementBy, seq.seqmax <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> SequenceMaxValue, d.depType <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> DependcyType,da.attname <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> AttributeName <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_depend d <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_class pseq <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> d.objid = pseq.oid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_sequence seq <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> seq.seqrelid= pseq.oid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace snsp <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> pseq.relnamespace=snsp.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_Description dsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> pseq.oid=dsc.objoid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> dsc.objsubid=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_class tbl <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> d.refobjid = tbl.oid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace nsp <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.relnamespace=nsp.oid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_attribute da <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> da.attrelid= d.refobjid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> da.attnum= d.refobjsubid <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(nsp.nspname)=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SchemaName) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(tbl.relname)=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_TableOID) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tbl.relkind = <span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pseq.relkind = <span class="hljs-string"><span class="hljs-string">'S'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> pseq.relname;</code> </pre><br></div></div><br><p style=";text-align:right;direction:rtl">  <strong>ุงูููุงุญุธุฉ 7</strong> </p>  . <br><p style=";text-align:right;direction:rtl">  ูุง <b>ููุฑุฌุน</b> ูุฐุง ุงูุฅุตุฏุงุฑ ูู ุงูุฏุงูุฉ ุงููููุฉ ุงูุฃุฎูุฑุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ ุงูุชุณูุณู ( <b>last_value</b> ). </p><p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl">  <strong>ููุงูุฉ ุงูููุงุญุธุฉ.</strong> </p><br><h3 style=";text-align:right;direction:rtl">  ุฏุงูุฉ Admtf_Table_InheritanceChildrens - ูุงุฆูุฉ ุฎุตุงุฆุต ุงูุฌุฏุงูู ุงูููุฑูุซุฉ </h3><br><a name="tfTableIC_def"></a><p style=";text-align:right;direction:rtl">  ุชูุฑุฌุน ุงูุฏุงูุฉ <b>admtf_Table_InheritanceChildrens</b> ูุงุฆูุฉ ุจุฎุตุงุฆุต ุงูุฌุฏุงูู ุงูููุฑูุซุฉ ( <b>INHERITS</b> ) ูุฌุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุนุฑุถ ููุฏ ุงููุตุฏุฑ ูุชูุฒููู ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ููุนููุงุช ุ ุชุฃุฎุฐ ุงูุฏุงูุฉ ุงุณู ุงูุฌุฏูู ุงููุตุฏุฑ ( <b>a_TableName</b> ) ูุงุณู ุงููุฎุทุท ุงูุฐู ูุชู ุฅูุดุงุก ุงูุฌุฏูู <b>ุฏุงุฎูู</b> ( <b>a_SchemaName</b> ). </p><br><p style=";text-align:right;direction:rtl">  ูุตู ุฌุฏูู ูุฏูู ูุงุญุฏ ููุฌูุฏ ูู ุงูุฅุฏุฎุงู ูู <b>pg_class</b> .  ูููู ููุจุญุซ ุนู ุงูุฌุฏุงูู ุงูููุฑูุซุฉ ุจุงุณู ุฌุฏูู ุงููุตุฏุฑ ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ูุชุงููุฌ ุงููุธุงู <b>pg_dependent</b> . </p><br>  <strong>ุฌุฏูู 15. ุฎุตุงุฆุต ุงูุฏููู <b>pg_dependent</b> ุงููุทููุจุฉ ูุชูููุฐ ุงููุธููุฉ.</strong> <br><table width="25" style=";text-align:right;direction:rtl"><tbody><tr><th width="5">  ุงูุนููุงู </th><th width="5">  ุงููุตู </th></tr><tr><td width="10">  ุงุนุชุฑุถ </td><td width="20">  OID ููุฌุฏูู ุงูููุฑูุซ ูู ุฏููู pg_class </td></tr><tr><td width="10">  refobjid </td><td width="20">  OID ูุฌุฏูู ุงููุตุฏุฑ </td></tr></tbody></table><br><img src="https://habrastorage.org/webt/pa/ew/kl/paewklf4g7qvftdb99sss0efwqc.png"><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุงููุตุฏุฑ ููุนุงูู ูู ุงูุดูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> rtbl.relname,rnspc.nspname,rdsc.description,rtbl.relnatts::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>, rtbl.relchecks::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>, rtbl.relhaspkey,rtbl.relhasindex,rtbl.relhassubclass, rtbl.reltuples::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_class tbl <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace nspc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.relnamespace = nspc.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_Description dsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.oid=dsc.objoid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> dsc.objsubid=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_depend dp <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.oid=dp.refobjid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_class rtbl <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> rtbl.OID=dp.objid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace rnspc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> rtbl.relnamespace = rnspc.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_Description rdsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> rtbl.oid=rdsc.objoid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> rdsc.objsubid=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(nspc.nspname)=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SchemaName) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(tbl.relname)=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_TableOID) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tbl.relkind = <span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> rtbl.relkind = <span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> rtbl.relname;</code> </pre><br></div></div><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุตู ุงููุธููุฉ ุฅูู ุจูุงูุงุช ุงูุฏููู <b>pg_namespace</b> ู <b>pg_description ูู</b> ุฃุฌู ุงุณุชุฎุฑุงุฌ ุงููุฎุทุทุงุช ูุงูุชุนูููุงุช ููู ูู ุงูุฌุฏูู ุงูููุฑูุซ ูุงูุฌุฏูู ุงููุตุฏุฑ. </p><br>  <strong>ุงูุฌุฏูู 16. ูุชูุฌุฉ ุชูููุฐ ุงููุธููุฉ admtf_Table_InheritanceChildrens ('public'ุ 'np_house').</strong> <br><br><table width="95" border="1" style=";text-align:right;direction:rtl"><tbody><tr><th width="10">  ุงูุนููุงู </th><th width="20">  ุชุนููู </th><th width="5">  ุงูุณูุงุช </th><th width="5">  ุุุ  ุงูููุชุงุญ ุงูุฃุณุงุณู </th><th width="5">  ุุุ  ุงููุคุดุฑุงุช </th><th width="5">  ุุุ  ุฃุญูุงุฏ </th><th width="5">  ุนุฏุฏ ุงูุณุฌูุงุช </th></tr><tr><td width="10">  np_house 04201000000 </td><td width="20">  ููุงุฒู ูู ุงููุณุชูุทูุงุช (ููุทูุฉ ุฃุชุดููุณูู) </td><td width="5">  15 </td><td width="5">  ู </td><td width="5">  ู </td><td width="5">  ู </td><td width="5">  5651 </td></tr><tr><td width="10">  np_house 4208000.000 </td><td width="20">  ููุงุฒู ูู ุงููุณุชูุทูุงุช (ููุทูุฉ ุจูุบูุชููุณูู) </td><td width="5">  15 </td><td width="5">  ู </td><td width="5">  ู </td><td width="5">  ู </td><td width="5">  4314 </td></tr></tbody></table><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุญุฏูุฏ ุนุฏุฏ ุงูุณุฌูุงุช ูู ุงูุฌุฏูู ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงูุณูุฉ reltuple ููุฏููู pg_class.  ูุนูู ุงูุฑุบู ูู ุฃู ูุฐู ุงููููุฉ ุบุงูุจูุง ูุง ุชุชุทุงุจู ุชูุงููุง ูุน ุงูุนุฏุฏ ุงููุนูู ููุฅุฏุฎุงูุงุช ูู ุงูุฌุฏูู ุ ุฅูุง ุฃููุง ูุง ุชุฒุงู ูููุฉ ุชูุฏูุฑูุฉ.  ูุฐุง ุ ูุฏ ุชุฑุบุจ ูู ุงูุญุตูู ุนูู ุงููููุฉ ุงูุฏูููุฉ ูุชูุฌุฉ ูุฐูู.  ุนูู ุณุจูู ุงููุซุงู ุ ููุง ูู ููุถุญ ูู ุงูุดูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> <span class="hljs-string"><span class="hljs-string">'SELECT COUNT(*) FROM '</span></span>||<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SchemaName)||<span class="hljs-string"><span class="hljs-string">'.'</span></span>||<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_TableName) <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> v_TableNumberOfRowCalc;</code> </pre><br><p style=";text-align:right;direction:rtl">  ูููู ุ ุฃููุงู ุ ูู ุฃุฌู ุชุญููู ูุฐุง ุงูุจูุงู ูู ุงููุต ุ <b>ุณูุชุนูู ุนูู</b> ุงูุฏุงูุฉ <b>admtf_Table_InheritanceChildrens</b> ุงุณุชุฎุฏุงู ุงููุคุดุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุซุงูููุง ุ ุฃุฑุบุจ ูู ุฃู ุชุนุฑุถ ุงููุธููุฉ ููุงู ูู ุงูุนุฏุฏ ุงููููุฏููุฑ ูุงูุนุฏุฏ ุงูุฏููู ูุฅุฏุฎุงูุงุช ุงูุฌุฏูู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุชุญุชูู ุงููุธููุฉ ุนูู ูุนููุฉ ุงุฎุชูุงุฑูุฉ ุฃุฎุฑู - ูุถุน ุงูุญุตูู ุนูู ุนุฏุฏ ุฅุฏุฎุงูุงุช ุงูุฌุฏูู ( <b>a_Mode</b> ) ุ ูุงูุชู ุชุฃุฎุฐ ุงูููู "ุชูุฏูุฑ" ( <font color="red">ุชูุฏูุฑ</font> ) ุฃู "ุจุงูุถุจุท" ( <font color="red">ุจุงูุถุจุท</font> ). </p><br><a name="fnTableRC_def"></a><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅูุดุงุก</a> ูุธููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">admfn_Table_RowCount</a> ุ ูุงูุชู ุชูุฑุฌุน ุงูุนุฏุฏ ุงูุฏููู ูุฅุฏุฎุงูุงุช ุงูุฌุฏูู ุ ููุชู ุงุณุชุจุฏุงู ุงูุณูุฉ reltuple ูู ูุงุฆูุฉ ุงูุฅุฑุฌุงุน <b>SELECT</b> ุจุงูุจูุงุก ุงูุชุงูู. </p><br><img src="https://habrastorage.org/webt/3f/t_/xf/3ft_xftbnboqxguantdpivkdtva.png"><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุงููุตุฏุฑ ููุนุงูู ูู ุงูุดูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">CASE WHEN a_Mode = 'exactly' THEN admfn_Table_RowCount(rnspc.nspname,rtbl.relname) ELSE reltuples <span class="hljs-keyword"><span class="hljs-keyword">END</span></span></code> </pre><br></div></div><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ุชููู ุงูุฏุงูุฉ ุจุฅุฑุฌุงุน ุงููููุฉ ุงูููุฏุฑุฉ ูููุคุดุฑ "ุนุฏุฏ ุฅุฏุฎุงูุงุช ุงูุฌุฏูู" ุฅุฐุง ูู <b>ุชุญุฏุฏ</b> ุงููุนููุฉ <b>a_Mode</b> ูุชุทูุจุงุช ุฅุฑุฌุงุน ุงููููุฉ ุงูุฏูููุฉ. </p><br><h3 style=";text-align:right;direction:rtl">  ูููู ุฏุงูุฉ ุชููู ุจุงุฑุฌุงุน ูุดู ุฎุตุงุฆุต ุงูุฌุฏูู </h3><br><img src="https://habrastorage.org/webt/hi/du/at/hiduatp-_vtmifufs_u53_roz2q.png"><br>  <i>ุงูุชูู.</i>  <i>3. ุงููุธุงุฆู ุงูุชู ุชูุจู ุงูููุงููุงุช</i> <br><img src="https://habrastorage.org/webt/ip/3e/rx/ip3erx3a2sj9_kkoeriysoppfom.png"><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุณุฎุฉ ูุตูุฉ ูู ุงูุฌุฏูู ูู ุงูุดูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <strong>ุงูุฌุฏูู 17. ุงูุบุฑุถ ูู ุงููุธุงุฆู.</strong> <br><br><table width="95" border="1" style=";text-align:right;direction:rtl"><tbody><tr><th width="5">  ูุง. </th><th width="10">  ุงูุนููุงู </th><th width="40">  ุงูุชุนููู </th></tr><tr><td width="5">  1 </td><td width="10">  admtf_Attribute_PK ุงูููุฒุงุช </td><td width="40">  ุชูุฑุฌุน ุงูุฏุงูุฉ ุณูุฉ ุญุถูุฑ ุงูุณูุฉ ูู ุงูููุชุงุญ ุงูุฃุณุงุณู (PRIMARY KEY) ุ ุจุงูุฅุถุงูุฉ ุฅูู ุจุนุถ ุฎุตุงุฆุตูุง ูุฌุฒุก ูู ูุฐุง ุงูููุชุงุญ. </td></tr><tr><td width="5">  2 </td><td width="10">  admtf_Attribute_FK ุงูููุฒุงุช </td><td width="40">  ุชููู ุงูุฏุงูุฉ ุจุฅุฑุฌุงุน ุณูุฉ ุญุถูุฑ ุงูุณูุฉ ูู ุงูููุชุงุญ ุงูุฎุงุฑุฌู (ููุชุงุญ FOREIGN) ุ ุจุงูุฅุถุงูุฉ ุฅูู ุจุนุถ ุฎุตุงุฆุตูุง ูุฌุฒุก ูู ูุฐุง ุงูููุชุงุญ. </td></tr><tr><td width="5">  3 </td><td width="10">  admtf_Attribute_Features </td><td width="40">  ุชุนุฑุถ ุงูุฏุงูุฉ ูุงุฆูุฉ ุจุฎุตุงุฆุต ุณูุงุช ุงูุฌุฏูู. </td></tr></tbody></table><br></div></div><br><h3 style=";text-align:right;direction:rtl">  ุงููุธููุฉ <b>admtf_Attribute_PKFeatures</b> - - ูุง ุฅุฐุง ูุงูุช ุงูุณูุฉ ููุฌูุฏุฉ ูู ุงูููุชุงุญ ุงูุฃุณุงุณู </h3><br><a name="tfAttPK_def"></a><br><p style=";text-align:right;direction:rtl">  <b>ุชุนุฑุถ</b> ุงูุฏุงูุฉ <b>admtf_Attribute_PKFeatures</b> ุนูุงูุฉ ุนูู ูุฌูุฏ ุณูุฉ ุฌุฏูู ูู ุงูููุชุงุญ ุงูุฃุณุงุณู (ุงูููุชุงุญ ุงูุฃุณุงุณู) ููุฌุฏูู ุ ูุฅุฐุง ูุงู ููุฌูุฏูุง ุ ููุง ูู ุงูุฑูู ุงูุชุณูุณูู ูู ูุฐุง ุงูููุชุงุญ ุ ุญูุซ  ูููู ุฃู ูููู ุงูููุชุงุญ ุงูุฃุณุงุณู ูุฑูุจ. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุนุฑุถ ููุฏ ุงููุตุฏุฑ ูุชูุฒููู ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ููุนููุงุช ุ ุชุฃุฎุฐ ุงูุฏุงูุฉ OID ูุฌุฏูู ุงููุตุฏุฑ ( <b>a_TableOID</b> ) ูุงูุฑูู ุงูุชุณูุณูู ููุณูุฉ ุงููุทููุจุฉ ููู ( <b>a_AttributeNo</b> ). </p><br><p style=";text-align:right;direction:rtl">  ุชุณุชุฎุฑุฌ ุงููุธููุฉ ุงูุจูุงูุงุช <b>ุงููุทููุจุฉ</b> ูู <b>ุฅุฏุฎุงู</b> ุฏููู <b>pg_constraint ุงูุฐู</b> ูุญุชูู ุนูู ูููุฏ (CONSTRAINT) ูุฌุฏูู ุงููุตุฏุฑ ุ ุจูุง ูู ุฐูู ููุฏ ุงูููุชุงุญ ุงูุฃุณุงุณู.  ูุชู ุชุฎุฒูู <b>ูุนุฑูู ุงููุงุฆู (</b> OID) โโููุฌุฏูู ุงููุทููุจ ูู ุงูุญูู <b>ุงููุฑุชุจุท</b> ุ ููุชู ุชุฎุฒูู ูุตู ุงูููุชุงุญ ุงูุฃุณุงุณู ูู ุณุฌู ูุญุชูู ููู ุญูู ุงูููุท ุนูู ุงููููุฉ <font color="red">"" p "</font> </p>  . <br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> v_PKAttributeList,rs_isAttributePK conkey,<span class="hljs-built_in"><span class="hljs-built_in">ARRAY</span></span>[a_AttributeNo]&lt;@conkey <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_constraint c <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> c.contype=<span class="hljs-string"><span class="hljs-string">'p'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> c.conrelid=a_TableOID;</code> </pre><br><p style=";text-align:right;direction:rtl">  ูุญุชูู ุญูู <b>ุงูููุชุงุญ</b> ุ ุงูููุฌูุฏ ุจูุฐู ุงูุทุฑููุฉ ุ ุนูู ูุฌููุนุฉ ูู ุฃุฑูุงู ุงูุณูุงุช ุงูุชู ุชุดูู ุงูููุชุงุญ ุงูุฃุณุงุณู.  ูุฐูู ุ ููุชุญูู ูู ูุฌูุฏ ุงูุณูุฉ ุงููุตุฏุฑ ูู ุงูููุชุงุญ ุงูุฃุณุงุณู ุ ูููู ูุญุณุงุจ ุงูุชุนุจูุฑ ุงูููุทูู <b>ARRAY [a_AttributeNo] &lt;@ conkey</b> . </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุงูุณูุฉ ููุฌูุฏุฉ ูู ุงูููุชุงุญ ุงูุฃุณุงุณู ุ ูุณูุชู ุญุณุงุจ ุฑูู ุงูุชุณูุณู ุงูุฎุงุต ุจูุง ูู ุงูุญููุฉ. </p><br><h3 style=";text-align:right;direction:rtl">  ุงููุธููุฉ <b>admtf_Attribute_FKFeatures</b> - ูุง ุฅุฐุง ูุงูุช ุงูุณูุฉ ููุฌูุฏุฉ ูู ุงูููุชุงุญ ุงูุฎุงุฑุฌู </h3><br><a name="tfAttFK_def"></a><br><p style=";text-align:right;direction:rtl">  ุชูุฑุฌุน ุงูุฏุงูุฉ <b>admtf_Attribute_FKFeatures</b> ุนูุงูุฉ ูุฌูุฏ ุณูุฉ ุฌุฏูู ูู ููุชุงุญ ุฎุงุฑุฌู ูุงุญุฏ ุฃู ุฃูุซุฑ (ููุชุงุญ ุฃุฌูุจู) ููุฌุฏูู ุ ูุฅุฐุง ูุงูุช ููุฌูุฏุฉ ุ ูุง ูู ุฃุฑูุงู ุชุณูุณููุง ูู ูุฐู ุงูููุงุชูุญ ุ ูุฃู  ูููู ุฃู ูููู ุงูููุชุงุญ ุงูุฃุฌูุจู ูุฑูุจูุง. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุนุฑุถ ููุฏ ุงููุตุฏุฑ ูุชูุฒููู ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ููุนููุงุช ุ ุชุฃุฎุฐ ุงูุฏุงูุฉ OID ูุฌุฏูู ุงููุตุฏุฑ ( <b>a_TableOID</b> ) ูุงูุฑูู ุงูุชุณูุณูู ููุณูุฉ ุงููุทููุจุฉ ููู ( <b>a_AttributeNo</b> ). </p><br><p style=";text-align:right;direction:rtl">  ุชุณุชุฑุฏ ุงููุธููุฉ ุงูุจูุงูุงุช <b>ุงููุทููุจุฉ</b> ูู <b>ุฅุฏุฎุงู</b> ุฏููู <b>pg_constraint ุงูุฐู</b> ูุญุชูู ุนูู CONSTRAINT ูุฌุฏูู ุงููุตุฏุฑ ุ ุจูุง ูู ุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ูุง ุงูุญุตุฑ ุ ูููุฏ ุงูููุชุงุญ ุงูุฎุงุฑุฌู.  ูุชู ุชุฎุฒูู <b>ูุนุฑูู ุงููุงุฆู (</b> OID) โโููุฌุฏูู ุงููุทููุจ ูู ุงูุญูู <b>ุงููุฑุชุจุท</b> ุ ููุชู ุชุฎุฒูู ูุตู ุงูููุชุงุญ ุงูุฃุณุงุณู ูู ุณุฌู ูุญุชูู ููู ุญูู ุงูููุท ุนูู ุงููููุฉ <font color="red">'' f '</font> </p>  . <br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_constraint c <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> c.contype=<span class="hljs-string"><span class="hljs-string">'f '</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> c.conrelid=a_TableOID <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ARRAY</span></span>[a_AttributeNo]&lt;@conkey <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> c.oid;</code> </pre><br><p style=";text-align:right;direction:rtl">  ูุญุชูู ุญูู <b>conkey</b> ุ ุงูููุฌูุฏ ุจูุฐู ุงูุทุฑููุฉ ุ ุนูู ูุฌููุนุฉ ูู ุฃุฑูุงู ุงูุณูุงุช ุงูุชู ุชุดูู ุงูููุชุงุญ ุงูุฎุงุฑุฌู.  ูุฐูู ุ ูู ุฃุฌู ุงูุชุญูู ูู ูุฌูุฏ ุงูุณูุฉ ุงููุตุฏุฑ ูู ุงูููุชุงุญ ุงูุฎุงุฑุฌู ุ ูููู ูุญุณุงุจ ุงูุชุนุจูุฑ ุงูููุทูู <b>ARRAY [a_AttributeNo] &lt;@ conkey</b> . </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุงูุณูุฉ ููุฌูุฏุฉ ูู ุงูููุชุงุญ ุงูุฎุงุฑุฌู ุ ูุนูุฏุฆุฐู ุชุชุดูู ูู ุงูุญููุฉ ูุฌููุนุฉ ูู ุฃุฑูุงู ุชุณูุณููุง ูู ุงูููุงุชูุญ ุงูุฎุงุฑุฌูุฉ ุงูุชู ุชุญุชูู ุนูููุง.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชู ุชูููู ุตููููู ุขุฎุฑูู ูู ุฃุณูุงุก ุงูุฌุฏุงูู ูุณูุงุชูุง ุ ูุงูุชู ูุชู ุงูุฑุฌูุน ุฅูููุง ุจูุงุณุทุฉ ุณูุฉ ุงููุตุฏุฑ ูู ุงูููุงุชูุญ ุงูุฎุงุฑุฌูุฉ ุงูุชู ุชุญุชูู ุนูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฑุฏุงุฏ ุฃุณูุงุก ุงูุฌุฏุงูู ูู <b>ุฅุฏุฎุงู</b> ุฏููู <b>pg_class ูู</b> ุฎูุงู ุงููุนุฑู (OID) ุงูุฐู ุชู ุงุณุชุฑุฌุงุนู ูู ุงูุญูู ุงููุฑุชุจุท ูุฅุฏุฎุงู ุงูููุชุงุญ ุงูุฎุงุฑุฌู. </p><br><p style=";text-align:right;direction:rtl">  ููุญุตูู ุนูู ุงุณู ุณูุฉ ุงูุฌุฏูู ุงูุฎุงุฑุฌู ุ ุงุณุชุฎุฏู ูุฌููุนุฉ ูู ุงูุฃุฑูุงู ุงูุชุณูุณููุฉ ูู ุงูุญูู </p><p style=";text-align:right;direction:rtl">  ููููู </p>  (ูุฎุชูู ุนู ุงููุตูููุฉ ุฃุนูุงู ุจุงูุญุฑู " <b>f</b> " ูู ุงูุงุณู).  ูุชู ุงุณุชุฎุฑุงุฌ ุงูุฑูู ุงูุชุณูุณูู ูุณูุฉ ุงูุฌุฏูู ุงูุฎุงุฑุฌู ุงูุชู ุชุชูุงูู ูุนูุง ุงูุณูุฉ ุงูุฎุงุฑุฌูุฉ ูู ูุฐุง ุงูุตููู.  ูู ุฎูุงู ูุฐุง ุงูุฑูู ุงูุชุณูุณูู ูุณูุฉ ุงูุฌุฏูู ุงูุฎุงุฑุฌู ู OID ุงูุฎุงุต ุจู ุ ุงูููุฌูุฏ ูู ุฏููู pg_attribute ุ ููุฌุฏ ุฅุฏุฎุงู ููุตู ุงูุณูุฉ ููุชู ุงุณุชุฑุฏุงุฏ ุงุณููุง. <br><h3 style=";text-align:right;direction:rtl">  ุฏุงูุฉ <b>Admtf_Attribute_Features</b> - ูุงุฆูุฉ ุฎุตุงุฆุต ุณูุงุช ุงูุฌุฏูู </h3><br><a name="tfAttF_def"></a><p style=";text-align:right;direction:rtl">  <b>ุชุนุฑุถ</b> ุงูุฏุงูุงุช <b>admtf_Attribute_Features</b> ูุงุฆูุฉ ุจุฎุตุงุฆุต ุณูุงุช ุงูุฌุฏูู ุงูุชุงููุฉ.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุนุฑุถ ููุฏ ุงููุตุฏุฑ ูุชูุฒููู ููุง</a> . </p><br><img src="https://habrastorage.org/webt/tu/bz/me/tubzmeucr-nzriafiuufgbv31ew.png"><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุณุฎุฉ ุงููุต ูู ุงูุฌุฏูู ูู ุงูุดูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><table width="95" border="1" style=";text-align:right;direction:rtl"><tbody><tr><th width="5">  ูุง. </th><th width="10">  ุงูุนููุงู </th><th width="10">  ุงูุชุจ </th><th width="40">  ุงูุชุนููู </th></tr><tr><td width="5">  1 </td><td width="10">  ุงุณู ุงูุณูุฉ </td><td width="10">  ุงูุงุณู </td><td width="40">  ุงุณู ุณูุฉ ุงููุตุฏุฑ. </td></tr><tr><td width="5">  2 </td><td width="10">  ุงุณู ุงููุณุชุฎุฏู </td><td width="10">  ูุงุฑูุงุฑ (256) </td><td width="40">  ููุน ุณูุฉ ุงููุตุฏุฑ ุงููุฎุตุต </td></tr><tr><td width="5">  3 </td><td width="10">  ุงุณู ุงูููู </td><td width="10">  ูุงุฑูุงุฑ (256) </td><td width="40">  ุงูููุน ุงูุฃุณุงุณู ูุณูุฉ ุงููุตุฏุฑ </td></tr><tr><td width="5">  4 </td><td width="10">  isNotNULL </td><td width="10">  BOOLEAN </td><td width="40">  ุุุ  ุตูุงุญูุฉ ูุงุฑุบุฉ </td></tr><tr><td width="5">  5 </td><td width="10">  isAttributePK </td><td width="10">  BOOLEAN </td><td width="40">  ุุุ  ุงููุดุงุฑูุฉ ูู PK </td></tr><tr><td width="5">  6 </td><td width="10">  ุงูุนููุฏ PK </td><td width="10">  ุณูุงูููุช </td><td width="40">  ุงูุณูุฉ ุงูุฑูู ุงูุชุณูุณูู ูู PK </td></tr><tr><td width="5">  7 </td><td width="10">  ุงููุตู </td><td width="10">  ุงููุต </td><td width="40">  ุงูุชุนููู ุนูู ุณูุฉ ุงููุตุฏุฑ </td></tr><tr><td width="5">  8 </td><td width="10">  isAttributeFK </td><td width="10">  BOOLEAN </td><td width="40">  ุุุ  ุงููุดุงุฑูุฉ ูู FK </td></tr><tr><td width="5">  9 </td><td width="10">  FKeyName </td><td width="10">  ุงูุงุณู [] </td><td width="40">  ุตููู ูู ุฃุณูุงุก ุฌุฏูู ุงูููุฏ ุงูุชู ูุชู ูููุง ุชุนุฑูู ุงูููุชุงุญ ุงูุฎุงุฑุฌู </td></tr><tr><td width="5">  10 </td><td width="10">  ุงูุนููุฏ FK </td><td width="10">  ุณูุงูููุช [] </td><td width="40">  ุตููู ูู ุฃุฑูุงู ุชุณูุณู ุงูุณูุงุช ูู ุงูููุงุชูุญ ุงูุฎุงุฑุฌูุฉ ููุฌุฏูู </td></tr><tr><td width="5">  11 </td><td width="10">  FKTableName </td><td width="10">  ุงูุงุณู [] </td><td width="40">  ุตููู ุงูุฌุฏุงูู ุงููุดุงุฑ ุฅูููุง ุจูุงุณุทุฉ ุงูููุงุชูุญ ุงูุฎุงุฑุฌูุฉ </td></tr><tr><td width="5">  12 </td><td width="10">  FKTableColumnName </td><td width="10">  ุงูุงุณู [] </td><td width="40">  ุตููู ูู ุฃุณูุงุก ุงูุณูุงุช ูู ุงูุฌุฏุงูู ุงูุฎุงุฑุฌูุฉ ุงูููุงุจูุฉ ูุณูุฉ ุงููุตุฏุฑ </td></tr></tbody></table><br></div></div><br><p style=";text-align:right;direction:rtl">  ููุนููุงุช ุ ุชุฃุฎุฐ ุงูุฏุงูุฉ OID ูุฌุฏูู ุงููุตุฏุฑ ( <b>a_TableOID</b> ) ูุงูุฑูู ุงูุชุณูุณูู ููุณูุฉ ุงููุทููุจุฉ ููู ( <b>a_AttributeNo</b> ). <br>  ูุชู ุงุณุชุฑุฏุงุฏ <b>ููู ุญููู</b> <b>AttributeName</b> ู <b>isNotNULL</b> ูู <b>ุฅุฏุฎุงู</b> ุฏููู <b>pg_attribute</b> ุงูููุงุจู ูููู ูุนููุงุช ุงูุฅุฏุฎุงู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> attr.attname, attr.attnotnull <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_attribute <span class="hljs-keyword"><span class="hljs-keyword">attr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> attr.attrelid =a_TableOID <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.attnum=a_AttributeNo; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> rs_isAttributePK,rs_ColumnPKNo <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> admtf_Attribute_PKFeatures (a_TableOID,a_AttributeNo); <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> rs_isAttributeFK,rs_FKeyName,rs_ColumnFKNo, rs_FKTableName,rs_FKTableColumnName <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> admtf_Attribute_FKFeatures (a_TableOID,a_AttributeNo);</code> </pre><br><p style=";text-align:right;direction:rtl">  <b>ูุชู</b> ุฅุฑุฌุงุน ููู <b>ุญููู isAttributePK</b> ู <b>ColumnPKNo</b> ุจูุงุณุทุฉ ุงูุฏุงูุฉ <b>admtf_Attribute_PKFeatures</b> . </p><br><p style=";text-align:right;direction:rtl">  ูุชู <b>ุฅุฑุฌุงุน</b> ููู <b>ุงูุญููู isAttributeFK</b> ู <b>FKeyName</b> ู <b>ColumnFKNo</b> ู <b>FKTableName</b> ู <b>FKTableColumnName</b> ุจูุงุณุทุฉ ุงูุฏุงูุฉ <b>admtf_Attribute_FKFeatures</b> . </p><br><p style=";text-align:right;direction:rtl">  <b>ุณูุคุฏู</b> ุงุณุชุฏุนุงุก <b>admtf_Attribute_Features ((SELECT OID FROM pg_class WHERE relname = 'street')ุ 2 :: SMALLINT)</b> ุฅูู ุงููุชูุฌุฉ ุงูุชุงููุฉ. </p><br>  <strong>ุฌุฏูู 18. ูุชูุฌุฉ ุชูููุฐ ุงููุธููุฉ admtf_Attribute_Features</strong> <br><table width="95" border="1" style=";text-align:right;direction:rtl"><tbody><tr><th width="10">  ุงุณู ุงูุณูุฉ </th><th width="10">  ุงุณู ุงููุณุชุฎุฏู </th><th width="10">  ุงุณู ุงูููู </th><th width="10">  isNotNULL </th><th width="10">  isAttributePK </th><th width="10">  ุงูุนููุฏ PK </th></tr><tr><td width="10">  ูุญููุฉ </td><td width="10">  ูุญููุฉ </td><td width="10">  ุนุฏุฏ ุตุญูุญ </td><td>  ุนุฏุฏ ุตุญูุญ </td><td>  ุนุฏุฏ ุตุญูุญ </td><td width="2">  ุนุฏุฏ ุตุญูุญ </td></tr></tbody></table><br><br><table width="95" border="1" style=";text-align:right;direction:rtl"><tbody><tr><th width="10">  ุงููุตู </th><th width="10">  isAttributeFK </th><th width="10">  FKeyName </th><th width="10">  ุงูุนููุฏ FK </th><th width="10">  FKTableName </th><th width="10">  FKTableColumnName </th></tr><tr><td width="10">  ูููุฉ ุงููุฌุชูุน </td><td width="10">  ุฑ </td><td width="10">  {fk_street_locality} </td><td>  {2} </td><td>  {locality} </td><td width="2">  {localityid} </td></tr></tbody></table><br><a name="Script2"></a><h2 style=";text-align:right;direction:rtl">  ุงูููุญู 1. ุงููุตูุต </h2><br><a name="tfSeqF"></a><h3 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุธููุฉ admtf_Sequence_Features </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุงูุนุซูุฑ ุนูู ุงูุชุนูููุงุช ุนูู ุฑูุฒ ูุตุฏุฑ ุงููุธููุฉ ููุง.</a> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุงููุธููุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Sequence_Features (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_SequenceName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); <span class="hljs-comment"><span class="hljs-comment">/****************************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     ,   */</span></span> <span class="hljs-comment"><span class="hljs-comment">/****************************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Sequence_Features (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'public'</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> a_SequenceName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (rs_SequenceName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,rs_SequenceDescription <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span>,rs_NumberOfAttribute <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>,rs_SequenceLastValue <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>, rs_SequenceStartValue <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>,rs_SequenceIncrementBy <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>,rs_SequenceMaxValue <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> c_SequenceKind <span class="hljs-keyword"><span class="hljs-keyword">CONSTANT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CHAR</span></span>:=<span class="hljs-string"><span class="hljs-string">'S'</span></span>; v_SequenceOID OID; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceName NAME; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceDescription TEXT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceStartValue BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_SequenceIncrementBy BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceMaxValue BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_SequenceLastValue BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_SequenceNumberOfRowCalc INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-comment"><span class="hljs-comment">--************************************************************************ BEGIN SELECT INTO rs_SequenceName,rs_SequenceDescription,rs_NumberOfAttribute tbl.relname, COALESCE(dsc.description,'') AS r_SequenceDescription, tbl.relnatts::INTEGER,tbl.relchecks::INTEGER,tbl.relhaspkey, tbl.relhasindex,tbl.relhassubclass,tbl.reltuples::INTEGER FROM pg_class tbl INNER JOIN pg_namespace nspc ON tbl.relnamespace = nspc.oid LEFT OUTER JOIN pg_Description dsc ON tbl.oid=dsc.objoid AND dsc.objsubid=0 WHERE nspc.nspname=LOWER(a_SchemaName) AND tbl.relkind=c_SequenceKind AND tbl.relname =LOWER(a_SequenceName); IF FOUND THEN EXECUTE 'SELECT last_value,start_value,increment_by,max_value FROM '||LOWER(a_SchemaName)||'.'||LOWER(a_SequenceName) INTO v_SequenceLastValue,v_SequenceStartValue, v_SequenceIncrementBy,v_SequenceMaxValue ; RETURN QUERY SELECT rs_SequenceName,rs_SequenceDescription, rs_NumberOfAttribute,v_SequenceLastValue, v_SequenceStartValue,v_SequenceIncrementBy, v_SequenceMaxValue; END IF; RETURN; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Sequence_Features(a_SchemaName NAME,a_SequenceName NAME) IS '    ,  '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; BEGIN TRANSACTION; DROP FUNCTION IF EXISTS admtf_Sequence_Features (a_SchemaName VARCHAR(256),a_SequenceName VARCHAR(256)); /****************************************************************************/ /*     ,   */ /****************************************************************************/ CREATE OR REPLACE FUNCTION admtf_Sequence_Features (a_SchemaName VARCHAR(256) default 'public', /*     */ a_SequenceName VARCHAR(256) default NULL /*   */ ) RETURNS TABLE (rs_SequenceName VARCHAR(256),rs_SequenceDescription TEXT, rs_NumberOfAttribute INTEGER,rs_SequenceLastValue BIGINT, rs_SequenceStartValue BIGINT,rs_SequenceIncrementBy BIGINT, rs_SequenceMaxValue BIGINT) AS $BODY$ DECLARE c_SequenceKind CONSTANT CHAR:='S'; --******************************************************** BEGIN RETURN QUERY SELECT sf.rs_SequenceName::VARCHAR(256), sf.rs_SequenceDescription::TEXT, sf.rs_NumberOfAttribute::INTEGER, sf.rs_SequenceLastValue::BIGINT, sf.rs_SequenceStartValue::BIGINT, sf.rs_SequenceIncrementBy::BIGINT, sf.rs_SequenceMaxValue::BIGINT FROM admtf_Sequence_Features(a_SchemaName::NAME,a_SequenceName::NAME) sf; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Sequence_Features(a_SchemaName VARCHAR(256),a_SequenceName VARCHAR(256)) IS '    ,  '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Sequence_Features('public'::VARCHAR(255),'k_dorogi_dijkstra_seq_seq'::VARCHAR(255)); SELECT * FROM admtf_Sequence_Features('public'::NAME,'kr_road_network_vertices_pgr_id_seq'::NAME);</span></span></code> </pre><br></div></div><br><a name="tfTableS"></a><br><h3 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุฏุงูุฉ admtf_Table_Sequences </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุงูุนุซูุฑ ุนูู ุงูุชุนูููุงุช ุนูู ุฑูุฒ ูุตุฏุฑ ุงููุธููุฉ ููุง.</a> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุงููุธููุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Table_Sequences (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*********************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*    ,     */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*********************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Table_Sequences (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'public'</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (r_SequenceNumber <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>,r_SequenceName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, r_SequenceSchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_SequenceDescription <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span>, r_SequenceStartValue <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>,r_SequenceIncrementBy <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>, r_SequenceMaxValue <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>,r_DependType <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, r_RefTableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_RefTableSchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, r_RefAttributeName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> v_TableOID <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>;<span class="hljs-comment"><span class="hljs-comment">/* OID */</span></span> v_Sequence RECORD;<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceOID INTEGER;<span class="hljs-comment"><span class="hljs-comment">/* OID */</span></span> v_SequenceName NAME; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceSchemaName NAME; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_SequenceDescription TEXT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceStartValue BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_SequenceIncrementBy BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceMaxValue BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_DependcyType NAME; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_AttributeName NAME; <span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> v_SequenceNumber SMALLINT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> c_Delimiter CONSTANT VARCHAR(2):=','; <span class="hljs-comment"><span class="hljs-comment">--********************************************************************* BEGIN v_SequenceNumber:=0; FOR v_Sequence IN SELECT pseq.relname AS SequenceName, snsp.nspname AS SequenceSchemaName, COALESCE(dsc.description,',    '||da.attname) AS SequenceDescription, d.depType AS DependcyType,da.attname AS AttributeName FROM pg_depend d INNER JOIN pg_class pseq ON d.objid = pseq.oid INNER JOIN pg_namespace snsp ON pseq.relnamespace=snsp.oid LEFT OUTER JOIN pg_Description dsc ON pseq.oid=dsc.objoid AND dsc.objsubid=0 INNER JOIN pg_class tbl ON d.refobjid = tbl.oid INNER JOIN pg_namespace nsp ON tbl.relnamespace=nsp.oid INNER JOIN pg_attribute da ON da.attrelid= d.refobjid AND d.refobjsubid=da.attnum WHERE tbl.relkind = 'r' AND pseq.relkind = 'S' AND LOWER(nsp.nspname)=LOWER(a_SchemaName) AND LOWER(tbl.relname)=LOWER(a_TableName) ORDER BY pseq.relname LOOP v_SequenceNumber:=v_SequenceNumber+1; v_SequenceName:=v_Sequence.SequenceName; v_SequenceSchemaName:=v_Sequence.SequenceSchemaName; v_DependcyType:=v_Sequence.DependcyType; v_AttributeName:=v_Sequence.AttributeName; v_SequenceDescription:=v_Sequence.SequenceDescription; SELECT INTO v_SequenceStartValue,v_SequenceIncrementBy, v_SequenceMaxValue rs_SequenceStartValue,rs_SequenceIncrementBy, rs_SequenceMaxValue FROM admtf_Sequence_Features(v_SequenceSchemaName,v_SequenceName); RETURN QUERY SELECT v_SequenceNumber,v_SequenceName, v_SequenceSchemaName,v_SequenceDescription, v_SequenceStartValue,v_SequenceIncrementBy, v_SequenceMaxValue,v_DependcyType, a_TableName,a_SchemaName,v_AttributeName; END LOOP; RETURN; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Sequences(a_SchemaName NAME, a_TableName NAME) IS '  ,    '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; BEGIN TRANSACTION; DROP FUNCTION IF EXISTS admtf_Table_Sequences (a_SchemaName VARCHAR(256), a_TableName VARCHAR(256)); /**********************************************************************/ /*    ,     */ /**********************************************************************/ CREATE OR REPLACE FUNCTION admtf_Table_Sequences (a_SchemaName VARCHAR(256) default 'public', /*     */ a_TableName VARCHAR(256) default NULL /*   */ ) RETURNS TABLE (r_SequenceNumber SMALLINT,r_SequenceName VARCHAR(256), r_SequenceSchemaName VARCHAR(256),r_SequenceDescription TEXT, r_SequenceStartValue BIGINT,r_SequenceIncrementBy BIGINT, r_SequenceMaxValue BIGINT,r_DependType VARCHAR(256), r_RefTableName VARCHAR(256),r_RefTableSchemaName VARCHAR(256), r_RefAttributeName VARCHAR(256)) AS $BODY$ DECLARE c_Delimiter CONSTANT VARCHAR(2):=','; --****************************************************** BEGIN RETURN QUERY SELECT ts.r_SequenceNumber::SMALLINT, ts.r_SequenceName::VARCHAR(256), ts.r_SequenceSchemaName::VARCHAR(256) , ts.r_SequenceDescription::TEXT, ts.r_SequenceStartValue::BIGINT, ts.r_SequenceIncrementBy::BIGINT, ts.r_SequenceMaxValue::BIGINT, ts.r_DependType::VARCHAR(256), ts.r_RefTableName::VARCHAR(256), ts.r_RefTableSchemaName::VARCHAR(256), ts.r_RefAttributeName::VARCHAR(256) FROM admtf_Table_Sequences(a_SchemaName::NAME,a_TableName::NAME) ts; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Sequences(a_SchemaName VARCHAR(256), a_TableName VARCHAR(256)) IS '  ,    '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Table_Sequences('public'::VARCHAR(255),'kr_road_network_vertices_pgr'::VARCHAR(255)); SELECT * FROM admtf_Table_Sequences('public'::NAME,'kr_road_network_vertices_pgr'::NAME);</span></span></code> </pre><br></div></div><br><a name="tfTableS_woc"></a><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก ุฏุงูุฉ admtf_Table_Sequences ุจุฏูู ูุคุดุฑ (PostgreSQL 10) </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุนุซูุฑ ุนูู ุงูุชุนูููุงุช ุนูู ุฑูุฒ ูุตุฏุฑ ุงููุธููุฉ ููุง.</font></font></a> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ ุงููุธููุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Table_Sequences (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*********************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*    ,     */</span></span> <span class="hljs-comment"><span class="hljs-comment">/**********************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Table_Sequences (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'public'</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (r_SequenceNumber <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>,r_SequenceName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, r_SequenceSchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_SequenceDescription <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span>, r_SequenceStartValue <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>,r_SequenceIncrementBy <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>, r_SequenceMaxValue <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>,r_DependType <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, r_RefTableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_RefTableSchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, r_RefAttributeName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> v_TableOID <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* OID */</span></span> v_Sequence RECORD; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceOID INTEGER; <span class="hljs-comment"><span class="hljs-comment">/* OID */</span></span> v_SequenceName NAME; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceSchemaName NAME; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_SequenceDescription TEXT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceStartValue BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_SequenceIncrementBy BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SequenceMaxValue BIGINT; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_DependcyType NAME; <span class="hljs-comment"><span class="hljs-comment">/*        */</span></span> v_AttributeName NAME; <span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> v_SequenceNumber SMALLINT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> c_Delimiter CONSTANT VARCHAR(2):=','; <span class="hljs-comment"><span class="hljs-comment">--****************************************************************** BEGIN v_SequenceNumber:=0; FOR v_Sequence IN SELECT pseq.relname AS SequenceName, snsp.nspname AS SequenceSchemaName, COALESCE(dsc.description,',    '||da.attname) AS SequenceDescription, d.depType AS DependcyType,da.attname AS AttributeName FROM pg_depend d INNER JOIN pg_class pseq ON d.objid = pseq.oid INNER JOIN pg_namespace snsp ON pseq.relnamespace=snsp.oid LEFT OUTER JOIN pg_Description dsc ON pseq.oid=dsc.objoid AND dsc.objsubid=0 INNER JOIN pg_class tbl ON d.refobjid = tbl.oid INNER JOIN pg_namespace nsp ON tbl.relnamespace=nsp.oid INNER JOIN pg_attribute da ON da.attrelid= d.refobjid ND d.refobjsubid=da.attnum WHERE tbl.relkind = 'r' AND pseq.relkind = 'S' AND LOWER(nsp.nspname)=LOWER(a_SchemaName) AND LOWER(tbl.relname)=LOWER(a_TableName) ORDER BY pseq.relname LOOP v_SequenceNumber:=v_SequenceNumber+1; v_SequenceName:=v_Sequence.SequenceName; v_SequenceSchemaName:=v_Sequence.SequenceSchemaName; v_DependcyType:=v_Sequence.DependcyType; v_AttributeName:=v_Sequence.AttributeName; v_SequenceDescription:=v_Sequence.SequenceDescription; SELECT INTO v_SequenceStartValue,v_SequenceIncrementBy,v_SequenceMaxValue rs_SequenceStartValue,rs_SequenceIncrementBy,rs_SequenceMaxValue FROM admtf_Sequence_Features(v_SequenceSchemaName,v_SequenceName); RETURN QUERY SELECT v_SequenceNumber,v_SequenceName, v_SequenceSchemaName,v_SequenceDescription, v_SequenceStartValue,v_SequenceIncrementBy, v_SequenceMaxValue,v_DependcyType, a_TableName,a_SchemaName,v_AttributeName; END LOOP; RETURN; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Sequences(a_SchemaName NAME, a_TableName NAME) IS '  ,    '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; BEGIN TRANSACTION; DROP FUNCTION IF EXISTS admtf_Table_Sequences (a_SchemaName VARCHAR(256), a_TableName VARCHAR(256)); /**********************************************************************/ /*    ,     */ /**********************************************************************/ CREATE OR REPLACE FUNCTION admtf_Table_Sequences (a_SchemaName VARCHAR(256) default 'public', /*     */ a_TableName VARCHAR(256) default NULL /*   */ ) RETURNS TABLE (r_SequenceNumber SMALLINT,r_SequenceName VARCHAR(256), r_SequenceSchemaName VARCHAR(256),r_SequenceDescription TEXT, r_SequenceStartValue BIGINT,r_SequenceIncrementBy BIGINT, r_SequenceMaxValue BIGINT,r_DependType VARCHAR(256), r_RefTableName VARCHAR(256),r_RefTableSchemaName VARCHAR(256), r_RefAttributeName VARCHAR(256)) AS $BODY$ DECLARE c_Delimiter CONSTANT VARCHAR(2):=','; --******************************************************* BEGIN RETURN QUERY SELECT ts.r_SequenceNumber::SMALLINT, ts.r_SequenceName::VARCHAR(256), ts.r_SequenceSchemaName::VARCHAR(256), ts.r_SequenceDescription::TEXT, ts.r_SequenceStartValue::BIGINT, ts.r_SequenceIncrementBy::BIGINT, ts.r_SequenceMaxValue::BIGINT, ts.r_DependType::VARCHAR(256), ts.r_RefTableName::VARCHAR(256), ts.r_RefTableSchemaName::VARCHAR(256), ts.r_RefAttributeName::VARCHAR(256) FROM admtf_Table_Sequences(a_SchemaName::NAME,a_TableName::NAME) ts; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Sequences(a_SchemaName VARCHAR(256), a_TableName VARCHAR(256)) IS '  ,    '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Table_Sequences('public'::VARCHAR(255), 'kr_road_network_vertices_pgr'::VARCHAR(255)); SELECT * FROM admtf_Table_Sequences('public'::NAME, 'kr_road_network_vertices_pgr'::NAME);</span></span></code> </pre><br></div></div><br><a name="fnTableRC"></a><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก ูุธููุฉ admfn_Table_RowCount </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุนุซูุฑ ุนูู ุงูุชุนูููุงุช ุนูู ุฑูุฒ ูุตุฏุฑ ุงููุธููุฉ ููุง.</font></font></a> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ ุงููุธููุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admfn_Table_RowCount (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); <span class="hljs-comment"><span class="hljs-comment">/******************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span> <span class="hljs-comment"><span class="hljs-comment">/******************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admfn_Table_RowCount (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'public'</span></span>,<span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> v_TableNumberOfRowCalc <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> v_Found BOOLEAN; <span class="hljs-comment"><span class="hljs-comment">--*********************************************************** BEGIN IF a_SchemaName ~ E'^[a-z_0-9]+$' AND a_TableName ~ E'^[a-z_0-9]+$' THEN EXECUTE 'SELECT count(*) FROM ' ||a_SchemaName ||'.'|| a_TableName INTO v_TableNumberOfRowCalc; ELSE SELECT INTO v_Found true FROM pg_class tbl INNER JOIN pg_namespace nspc ON tbl.relnamespace = nspc.oid WHERE tbl.relkind='r' AND tbl.relname=a_TableName AND nspc.nspname=a_SchemaName; IF FOUND THEN EXECUTE 'SELECT count(*) FROM ' || CASE WHEN a_SchemaName ~ E'^[a-z_0-9]+$' THEN a_SchemaName ELSE quote_ident(a_SchemaName) END ||'.'|| CASE WHEN a_TableName ~ E'^[a-z_0-9]+$' THEN a_TableName ELSE quote_ident(a_TableName) END INTO v_TableNumberOfRowCalc; ELSE SELECT INTO v_Found true FROM pg_class tbl INNER JOIN pg_namespace nspc ON tbl.relnamespace = nspc.oid WHERE tbl.relkind='r' AND LOWER(tbl.relname)= LOWER(a_TableName) AND nspc.nspname=LOWER(a_SchemaName); IF FOUND THEN EXECUTE 'SELECT count(*) FROM ' || a_SchemaName ||'.'||a_TableName INTO v_TableNumberOfRowCalc; END IF; END IF; END IF; RETURN v_TableNumberOfRowCalc; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admfn_Table_RowCount(a_SchemaName NAME,a_TableName NAME) IS '    '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION;BEGIN TRANSACTION; DROP FUNCTION IF EXISTS admfn_Table_RowCount (a_SchemaName VARCHAR(256),a_TableName VARCHAR(256)); /********************************************************************/ /*       */ /********************************************************************/ CREATE OR REPLACE FUNCTION admfn_Table_RowCount (a_SchemaName VARCHAR(256) default 'public',/*     */ a_TableName VARCHAR(256) default NULL /*   */ ) RETURNS BIGINT AS $BODY$ DECLARE v_TableNumberOfRowCalc BIGINT; /*  */ --********************************************************* BEGIN RETURN admfn_Table_RowCount(a_SchemaName::NAME,a_TableName::NAME); END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admfn_Table_RowCount(a_SchemaName VARCHAR(256),a_TableName VARCHAR(256)) IS '    '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECt admfn_Table_RowCount('public'::NAME,'Street'::NAME); SELECt admfn_Table_RowCount('public'::VARCHAR(256),'Street'::VARCHAR(256));</span></span></code> </pre><br></div></div><br><a name="tfTableIC"></a><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก ุฏุงูุฉ admtf_Table_InheritanceChildrens </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุนุซูุฑ ุนูู ุงูุชุนูููุงุช ุนูู ุฑูุฒ ูุตุฏุฑ ุงููุธููุฉ ููุง.</font></font></a> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ ุงููุธููุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Table_InheritanceChildrens (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_Mode <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span> <span class="hljs-comment"><span class="hljs-comment">/************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Table_InheritanceChildrens (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'public'</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> a_Mode <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'estimate'</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (rs_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,rs_TableDescription <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span>, rs_NumberOfAttribute <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>,rs_NumberOfChecks <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>, rs_hasPKey <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rs_hasIndex <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>, rs_hasSubClass <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rs_NumberOfRow <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> c_TableKind <span class="hljs-keyword"><span class="hljs-keyword">CONSTANT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CHAR</span></span>:=<span class="hljs-string"><span class="hljs-string">'r'</span></span>; c_ExactlyMode CONSTANT VARCHAR(10):='exactly'; c_EstimateMode CONSTANT VARCHAR(10):='estimate'; v_TableOID OID; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_SchemaName NAME; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_TableName NAME; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_TableDescription TEXT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_TableNumberOfRowCalc INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_InheritanceRECORD RECORD; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> v_InheritanceOID OID; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">QUERY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> rtbl.relname,rdsc.description,rtbl.relnatts::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>, rtbl.relchecks::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>,rtbl.relhaspkey,rtbl.relhasindex, rtbl.relhassubclass, <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> a_Mode=c_ExactlyMode <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> admfn_Table_RowCount(rnspc.nspname,rtbl.relname)::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> rtbl.reltuples::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_class tbl <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace nspc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.relnamespace = nspc.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_Description dsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.oid=dsc.objoid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> dsc.objsubid=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_depend dp <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.oid=dp.refobjid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_class rtbl <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> rtbl.OID=dp.objid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace rnspc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> rtbl.relnamespace = rnspc.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_Description rdsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> rtbl.oid=rdsc.objoid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> rdsc.objsubid=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> nspc.nspname=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SchemaName) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tbl.relkind=c_TableKind <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> rtbl.relkind=c_TableKind <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tbl.relname =<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_TableName) <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> rtbl.relname; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">LANGUAGE</span></span> plpgsql; <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Table_InheritanceChildrens(a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_Mode <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-string"><span class="hljs-string">'    '</span></span>; <span class="hljs-comment"><span class="hljs-comment">--ROLLBACK TRANSACTION; COMMIT TRANSACTION; BEGIN TRANSACTION; DROP FUNCTION IF EXISTS admtf_Table_InheritanceChildrens (a_SchemaName VARCHAR(256),a_TableName VARCHAR(256),a_TableName NAME,a_Mode VARCHAR(10)); /************************************************************************/ /*       */ /************************************************************************/ CREATE OR REPLACE FUNCTION admtf_Table_InheritanceChildrens (a_SchemaName VARCHAR(256) default 'public',/*     */ a_TableName VARCHAR(256) default NULL,/*   */ a_Mode VARCHAR(10) default 'estimate' /*     */ ) RETURNS TABLE (rs_TableName VARCHAR(256),rs_TableDescription TEXT, rs_NumberOfAttribute INTEGER,rs_NumberOfChecks INTEGER, rs_hasPKey BOOLEAN,rs_hasIndex BOOLEAN, rs_hasSubClass BOOLEAN,rs_NumberOfRow INTEGER) AS $BODY$ DECLARE c_TableKind CONSTANT CHAR:='r'; BEGIN RETURN QUERY SELECT tic.rs_TableName::VARCHAR(256),tic.rs_TableDescription::TEXT, tic.rs_NumberOfAttribute::INTEGER,tic.rs_NumberOfChecks::INTEGER, tic.rs_hasPKey::BOOLEAN,tic.rs_hasIndex::BOOLEAN, tic.rs_hasSubClass::BOOLEAN,tic.rs_NumberOfRow::INTEGER FROM admtf_Table_InheritanceChildrens(a_SchemaName::NAME, a_TableName::NAME,a_Mode::VARCHAR(10)) tic; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_InheritanceChildrens(a_SchemaName VARCHAR(256),a_TableName VARCHAR(256),a_Mode VARCHAR(10)) IS '    '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Table_InheritanceChildrens('public'::NAME,'np_house'::NAME); SELECT * FROM admtf_Table_InheritanceChildrens('public'::VARCHAR(256),'np_house'::VARCHAR(256));</span></span></code> </pre><br></div></div><br><a name="tfAttPK"></a><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก ูุธููุฉ admtf_Attribute_PKFeatures </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุนุซูุฑ ุนูู ุงูุชุนูููุงุช ุนูู ุฑูุฒ ูุตุฏุฑ ุงููุธููุฉ ููุง.</font></font></a> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ ุงููุธููุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Attribute_PKFeatures (a_TableOID <span class="hljs-keyword"><span class="hljs-keyword">OID</span></span>,a_AttributeNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>); <span class="hljs-comment"><span class="hljs-comment">/***************************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*        . */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   ,          */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-comment"><span class="hljs-comment">/***************************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Attribute_PKFeatures (a_TableOID <span class="hljs-keyword"><span class="hljs-keyword">OID</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> a_AttributeNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (rs_isAttributePK <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rs_PKeyName <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,rs_ColumnPKNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> C_PKAttributeList_NDims <span class="hljs-keyword"><span class="hljs-keyword">CONSTANT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>:=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_PKAttributeList SMALLINT[]; <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span> v_PKAttributeIndx INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> v_PKAttributeLBound INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> v_PKAttributeUBound INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-comment"><span class="hljs-comment">--********************************************************************** BEGIN rs_isAttributePK:=false; rs_ColumnPKNo:=NULL; SELECT INTO rs_PKeyName,v_PKAttributeList,rs_isAttributePK conname,conkey,ARRAY[a_AttributeNo]&lt;@conkey FROM pg_constraint c WHERE c.contype='p' and c.conrelid=a_TableOID; IF FOUND AND rs_isAttributePK THEN --      v_PKAttributeLBound:=array_lower(v_PKAttributeList,C_PKAttributeList_NDims); v_PKAttributeUBound:=array_upper(v_PKAttributeList,C_PKAttributeList_NDims); v_PKAttributeIndx:=v_PKAttributeLBound; WHILE v_PKAttributeIndx &lt;= v_PKAttributeUBound AND a_AttributeNo&lt;&gt;v_PKAttributeList[v_PKAttributeIndx] LOOP v_PKAttributeIndx:=v_PKAttributeIndx+1; END LOOP; IF v_PKAttributeIndx&lt;=v_PKAttributeUBound THEN rs_ColumnPKNo:=v_PKAttributeIndx; END IF; END IF; RETURN QUERY SELECT rs_isAttributePK,rs_PKeyName,rs_ColumnPKNo; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Attribute_PKFeatures(a_TableOID OID,a_AttributeNo SMALLINT) IS '              '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Attribute_PKFeatures((SELECT OID FROM pg_class WHERE relname='street'),3::SMALLINT);</span></span></code> </pre><br></div></div><br><a name="tfAttFK"></a><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก ูุธููุฉ admtf_Attribute_FKFeatures </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุนุซูุฑ ุนูู ุงูุชุนูููุงุช ุนูู ุฑูุฒ ูุตุฏุฑ ุงููุธููุฉ ููุง.</font></font></a> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ ุงููุธููุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Attribute_FKFeatures (a_TableOID <span class="hljs-keyword"><span class="hljs-keyword">OID</span></span>,a_AttributeNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>); <span class="hljs-comment"><span class="hljs-comment">/****************************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*        . */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   ,         */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   . */</span></span> <span class="hljs-comment"><span class="hljs-comment">/****************************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/****************************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Attribute_FKFeatures (a_TableOID <span class="hljs-keyword"><span class="hljs-keyword">OID</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> a_AttributeNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (rs_isAttributeFK <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rs_FKeyName <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>[],rs_ColumnFKNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>[],rs_FKTableName <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>[],rs_FKTableColumnName <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>[]) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> C_FKAttributeList_NDims <span class="hljs-keyword"><span class="hljs-keyword">CONSTANT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>:=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_FKAttributeList SMALLINT[]; <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span> v_RefAttributeList SMALLINT[]; <span class="hljs-comment"><span class="hljs-comment">/*     , */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_FKAttributeIndx INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> v_RefAttributeListIndx INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*     , */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_FKAttributeLBound INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> v_FKAttributeUBound INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> v_FKConstraintIndx INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_FKeyName name; <span class="hljs-comment"><span class="hljs-comment">/*   , */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_FKTableName name; <span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> v_FKTableColumnName name; <span class="hljs-comment"><span class="hljs-comment">/*    , */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_RefAttributeNo SMALLINT; <span class="hljs-comment"><span class="hljs-comment">/*     , */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> v_Constraint pg_constraint%ROWTYPE; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*  (CONSTRANT) */</span></span> <span class="hljs-comment"><span class="hljs-comment">--****************************************************************************************************** BEGIN rs_isAttributeFK:=false; rs_ColumnFKNo:=NULL; v_FKConstraintIndx:=0; FOR v_Constraint IN SELECT * FROM pg_constraint c WHERE c.contype='f' and c.conrelid=a_TableOID AND ARRAY[a_AttributeNo]&lt;@conkey ORDER BY c.oid LOOP v_FKConstraintIndx:=v_FKConstraintIndx+1; rs_isAttributeFK:=true; v_FKeyName:=v_Constraint.conname; v_FKAttributeList:=v_Constraint.conkey; v_RefAttributeList:=v_Constraint.confkey; v_FKAttributeLBound:=array_lower(v_FKAttributeList,C_FKAttributeList_NDims); v_FKAttributeUBound:=array_upper(v_FKAttributeList,C_FKAttributeList_NDims); v_FKAttributeIndx:=v_FKAttributeLBound; WHILE v_FKAttributeIndx &lt;= v_FKAttributeUBound AND a_AttributeNo&lt;&gt;v_FKAttributeList[v_FKAttributeIndx] LOOP v_FKAttributeIndx:=v_FKAttributeIndx+1; END LOOP; rs_FKeyName[v_FKConstraintIndx]:=v_FKeyName; rs_ColumnFKNo[v_FKConstraintIndx]:=v_FKAttributeIndx; SELECT INTO v_FKTableName ftbl.relname FROM pg_class ftbl WHERE ftbl.oid=v_Constraint.confrelid; rs_FKTableName[v_FKConstraintIndx]:=v_FKTableName; v_RefAttributeNo:=v_RefAttributeList[v_FKAttributeIndx]; v_FKTableColumnName:=NULL; SELECT INTO v_FKTableColumnName attname FROM pg_attribute a WHERE a.attrelid=v_Constraint.confrelid AND a.attnum=v_RefAttributeNo; rs_FKTableColumnName[v_FKConstraintIndx]:=v_FKTableColumnName; END LOOP; RETURN QUERY SELECT rs_isAttributeFK,rs_FKeyName,rs_ColumnFKNo, rs_FKTableName,rs_FKTableColumnName; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Attribute_FKFeatures(a_TableOID OID,a_AttributeNo SMALLINT) IS '              '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Attribute_FKFeatures((SELECT OID FROM pg_class WHERE relname='street'),4::SMALLINT);</span></span></code> </pre><br></div></div><br><a name="tfAttF"></a><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก ูุธููุฉ admtf_Attribute_Features </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุนุซูุฑ ุนูู ุงูุชุนูููุงุช ุนูู ุฑูุฒ ูุตุฏุฑ ุงููุธููุฉ ููุง.</font></font></a> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ ุงููุธููุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Attribute_Features (a_TableOID <span class="hljs-keyword"><span class="hljs-keyword">OID</span></span>,a_AttributeNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>); <span class="hljs-comment"><span class="hljs-comment">/****************************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-comment"><span class="hljs-comment">/****************************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Attribute_Features (a_TableOID <span class="hljs-keyword"><span class="hljs-keyword">OID</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> a_AttributeNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span><span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (rsa_AttributeName <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,rsa_UserTypeName <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">256</span></span>),rsa_TypeName <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">256</span></span>),rsa_isNotNULL <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rsa_isAttributePK <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>, rsa_ColumnPKNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>,rsa_Description <span class="hljs-built_in"><span class="hljs-built_in">Text</span></span>,rsa_isAttributeFK <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rsa_FKeyName <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>[],rsa_ColumnFKNo <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>[],rsa_FKTableName <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>[],rsa_FKTableColumnName <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>[]) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> v_Return_Error <span class="hljs-built_in"><span class="hljs-built_in">Integer</span></span> := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-comment"><span class="hljs-comment">--********************************************************************* BEGIN SELECT INTO rsa_AttributeName,rsa_UserTypeName,rsa_TypeName, rsa_isNotNULL,rsa_Description attr.attname, CASE WHEN COALESCE(typ.typbasetype,0)&gt;0 THEN typ.typname::VARCHAR(100) ELSE ''END AS r_UserTypeName, FORMAT_TYPE(COALESCE(NULLIF(typ.typbasetype,0),typ.oid), COALESCE(NULLIF(typ.typtypmod,-1),attr.atttypmod))::VARCHAR(256) AS r_TypeName, attr.attnotnull AS r_isNotNULL, dsc.description AS r_Description FROM pg_attribute attr LEFT OUTER JOIN pg_type typ ON attr.atttypid=typ.oid LEFT OUTER JOIN pg_type btyp ON typ.typbasetype=btyp.oid LEFT OUTER JOIN pg_description dsc ON dsc.objoid=attr.attrelid AND dsc.objsubid=attr.attnum WHERE attr.attrelid =a_TableOID AND attr.attnum=a_AttributeNo; SELECT INTO rsa_isAttributePK,rsa_ColumnPKNo rs_isAttributePK,rs_ColumnPKNo FROM admtf_Attribute_PKFeatures(a_TableOID,a_AttributeNo); SELECT INTO rsa_isAttributeFK,rsa_FKeyName,rsa_ColumnFKNo,rsa_FKTableName, rsa_FKTableColumnName rs_isAttributeFK,rs_FKeyName, rs_ColumnFKNo,rs_FKTableName,rs_FKTableColumnName FROM admtf_Attribute_FKFeatures(a_TableOID,a_AttributeNo); RETURN QUERY SELECT rsa_AttributeName,rsa_UserTypeName,rsa_TypeName,rsa_isNotNULL, rsa_isAttributePK,rsa_ColumnPKNo,rsa_Description,rsa_isAttributeFK, rsa_FKeyName,rsa_ColumnFKNo,rsa_FKTableName,rsa_FKTableColumnName; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Attribute_Features(a_TableOID OID,a_AttributeNo SMALLINT) IS '   '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Attribute_Features ((SELECT OID FROM pg_class WHERE relname='street'),2::SMALLINT);</span></span></code> </pre><br></div></div><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุธุฑ ุฃูุถูุง </font></font></h3><br> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุงุฆู ูุชูุซูู ููุงุนุฏ ุจูุงูุงุช PostgreSQL. </font><font style="vertical-align: inherit;">ุฌุฒุก ูุงุญุฏ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></b> <br> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุงุฆู ูุชูุซูู ููุงุนุฏ ุจูุงูุงุช PostgreSQL. </font><font style="vertical-align: inherit;">ุงูุฌุฒุก ุงูุซุงูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></b> <br> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุงุฆู ูุชูุซูู ููุงุนุฏ ุจูุงูุงุช PostgreSQL. </font><font style="vertical-align: inherit;">ุงูููุงูุฉ (ุงูุฌุฒุก ุงูุฑุงุจุน)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar418597/">https://habr.com/ru/post/ar418597/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar418585/index.html">ุจูุงุก ุฎุฑูุทุฉ ูุญููุฉ ููุฑูุจูุช ุนุจุฑ ุงูุจูุงุฏ</a></li>
<li><a href="../ar418587/index.html">ุนููุงุก 3CX ุงูุฌุฏุฏ ููุธุงูู ุงูุชุดุบูู Android ู iOS ูุน ุจุฑูุงูุฌ ุชุฑููุฒ OPUS ู PUSH ูุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ</a></li>
<li><a href="../ar418589/index.html">ููุฎุต ุงูููุงุฏ ุงูุทุงุฒุฌุฉ ูู ุนุงูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ููุฃุณุจูุน ุงููุงุถู ุฑูู 324 (23 - 29 ููููู 2018)</a></li>
<li><a href="../ar418591/index.html">Bug Bounty Kyivstar: ููุงูุฃุฉ ูุตูู ุงููุดุฑู ุฅูู ุฎุฏูุงุช Jira ู AWS ู Apple ู Google Developer ู Bitbucket - 50 ุฏููุงุฑูุง</a></li>
<li><a href="../ar418593/index.html">ููุณุช ุฌููุน ุณูุงุนุงุช ุงูุฑุฃุณ ุงููุงุณูููุฉ ูููุฏุฉ ุจููุณ ุงููุฏุฑ ุฃู ุจุถุน ูููุงุช ุญูู ูุดููุฉ ุจุฑูุงูุฌ ุงูุชุฑููุฒ</a></li>
<li><a href="../ar418599/index.html">5 ูุตุงุฏุฑ ุจูุงูุงุช ุชุญูู ุจูุงูุงุช APM ุฅูู ุชุญูููุงุช ุฃุฏุงุก ุงูุชุทุจููุงุช</a></li>
<li><a href="../ar418601/index.html">ุงูุญูููุฉ ุงููุงููุฉ ุนู RTOS. ุงููุงุฏุฉ ุฑูู 7. Nucleus SE: ููุฏูุฉ</a></li>
<li><a href="../ar418603/index.html">ุณุงุนุฉ Matrix PowerWatch ุงูุฐููุฉ ุงูุชู ูุง ุชุญุชุงุฌ ุฃุจุฏูุง ุฅูู ุงูุดุญู</a></li>
<li><a href="../ar418605/index.html">ูุญูููู: ูุฏ ุชุตู ุงููููุฉ ุงูุณูููุฉ ููุงููุฑูุณููุช ุฅูู ุชุฑููููู ุฏููุงุฑ</a></li>
<li><a href="../ar418607/index.html">ุงุฎุชูุงุฑ ุจุงุฆุน ูู ุดุจูุฉ Wi-Fi ููุดุฑูุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>