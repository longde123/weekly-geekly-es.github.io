<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÑ ü§òüèΩ üë®üèΩ‚Äçü§ù‚Äçüë®üèº Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 47. Soluci√≥n de problemas de OSPF üîç üë¢ üèáüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy continuaremos con el tema de la lecci√≥n anterior sobre el protocolo OSPF, que est√° dedicado a la secci√≥n 2.4 del tema ICND2, y consideraremos la e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 47. Soluci√≥n de problemas de OSPF</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466675/"> Hoy continuaremos con el tema de la lecci√≥n anterior sobre el protocolo OSPF, que est√° dedicado a la secci√≥n 2.4 del tema ICND2, y consideraremos la eliminaci√≥n de los problemas t√≠picos de la implementaci√≥n de este protocolo.  Volvamos al ejemplo de Packet Tracer, con el que terminamos el √∫ltimo video.  Primero, corregir√© la designaci√≥n de red entre los enrutadores R1 y R5, aqu√≠ deber√≠a haber un valor diferente: 10.1.1.0/24. <br><br><img src="https://habrastorage.org/webt/ch/r4/py/chr4pycliucnj36e164e4ndlpze.jpeg"><br><br>  Puede descargar este ejemplo desde el enlace proporcionado en el video tutorial del D√≠a 46, y si no lo ha hecho, puede descargarlo ahora como una tarea de soluci√≥n de problemas de OSPF. <br>  La tarea es esta: PC0 debe hacer ping a PC1 y PC2, y las computadoras PC1 y PC2 deben poder hacer ping entre s√≠. <a name="habracut"></a><br><br>  Verifiquemos si el ping de PC0 pasa a 192.168.3.10, creo que esto no deber√≠a suceder.  De hecho, recibimos una respuesta de la direcci√≥n 192.168.5.1 del enrutador R5 de que el host de destino no est√° disponible.  Tal mensaje en la mayor√≠a de los casos significa que el enrutador simplemente no conoce la ruta requerida, es decir, en su tabla de enrutamiento no hay informaci√≥n sobre la red 192.168.3.0/24. <br><br>  Verifique esto usando el comando show ip route en la consola de configuraci√≥n R5.  Como puede ver, no hay registro sobre la red 192.168.3.0/24.  Como el enrutador utiliza el protocolo OSPF, "conoce" las redes 1.1.1.1/32, 2.2.2.2/32, la cuarta y quinta red a las que est√° conectado directamente.  Tambi√©n est√° conectado a una red 10.1.1.0/24.  Quiz√°s este enrutador no sabe nada sobre la red 3, porque no se anuncia. <br><br><img src="https://habrastorage.org/webt/pe/6s/-e/pe6s-e5jnfmoc6mkqu2kq0dqofw.jpeg"><br><br>  Vayamos a la configuraci√≥n de R3 e ingrese el comando show run |, donde la tuber√≠a - se usa una l√≠nea recta para ingresar dichos filtros: comenzar muestra las l√≠neas de configuraci√≥n, comenzando desde la l√≠nea en la que ocurre la expresi√≥n regular - se ingresa despu√©s del filtro, incluye las l√≠neas que contienen las expresiones regulares especificadas y excluir mostrar√°n todas las l√≠neas excepto aquellas que tengan una expresi√≥n regular. <br><br>  Por ejemplo, entrar√© en el show run |  comenzar enrutador, para ir a la secci√≥n donde comienza la menci√≥n de la palabra enrutador: este es el enrutador ospf 1. <br><br><img src="https://habrastorage.org/webt/y4/cq/xo/y4cqxogvdvipiywlpqkwtd5l2dq.jpeg"><br><br>  Vemos que para el enrutador R3 se anuncia la red "verde" 192.168.1.0 y la propia red del enrutador 4.4.4.4, sin embargo, la red "marr√≥n" no est√° representada en esta lista.  Esta es la raz√≥n por la cual el enrutador R5 no puede encontrarlo.  Para resolver este problema, ingresaremos en el modo de configuraci√≥n global R3 e ingresaremos los comandos del enrutador ospf 1 y de la red 192.168.3.0 0.0.0.255 √°rea 0 uno tras otro. Despu√©s de eso, se debe volver a contar el SPF, y si ingresa el comando show ip route nuevamente en la configuraci√≥n R3, puede ver que ahora la red 192.168.3.0/24 apareci√≥ en la tabla de enrutamiento.  Verifique el ping, pero la red a√∫n no est√° disponible.  Veamos c√≥mo se mueve el tr√°fico del enrutador R3. <br><br>  Pasa a trav√©s del enrutador R1, ingresa a la red "verde" y se atasca en alg√∫n lugar all√≠.  Verifiquemos nuevamente el enrutador R3 con el comando show ip route.  Conoce la red "marr√≥n" 192.168.3.0/24 y la red "verde" 192.168.1.0/24, pero no sabe nada sobre la red "rosa" 192.168.5.0/24.  Entramos en la configuraci√≥n del enrutador R5 e ingresamos el comando show run |  comenzar enrutador. <br><br><img src="https://habrastorage.org/webt/qv/fa/11/qvfa11rckxpf8mbmp9lxkxzb_ta.jpeg"><br><br>  Vemos que este enrutador no anunci√≥ la red 192.168.5.0/24.  Por lo tanto, vamos a la configuraci√≥n de configuraci√≥n global de R5 e ingresamos los comandos del enrutador ospf 1 y la red 192.168.5.0 0.0.0.255 √°rea 0. <br><br>  Quiero se√±alar un punto importante: aqu√≠ especificamos la m√°scara inversa, pero si ingresa solo una m√°scara de subred de 255.255.255.0, el sistema la aceptar√°.  Esto se debe al hecho de que OSPF todav√≠a convertir√° la m√°scara directa a la opuesta; esto se puede ver si ejecuta el comando show run nuevamente.  Como puede ver, 255.255.255.0 se convirti√≥ en 0.0.0.255. <br><br><img src="https://habrastorage.org/webt/cl/ta/4h/clta4hrzhgdtm8w22xtldyq6bv8.jpeg"><br><br>  Sin embargo, es mejor acostumbrarse a no usar la m√°scara de subred en este caso, sino ingresar la m√°scara comod√≠n de inmediato, porque Cisco no da pistas sobre lo que sucede.  Entonces, si en el examen usa la m√°scara de subred global en lugar de la m√°scara inversa, esto se considerar√° un error. <br><br>  Entonces, introdujimos una nueva red en la configuraci√≥n R5, y ahora tambi√©n est√° disponible para el enrutador R3: ha aparecido una entrada en su tabla de enrutamiento que indica que la red 192.168.5.0/24 es accesible a trav√©s del dispositivo con la direcci√≥n IP 192.168.1.1.  Ping pasa, y ahora todo funciona como deber√≠a. <br><br>  Ahora hagamos lo mismo con la red "amarilla" 192.168.2.0/24.  Como puede ver, no podemos hacer ping de PC0 a PC2 con la direcci√≥n IP 192.168.2.10.  Esto sucedi√≥ porque la red 192.168.2.0/24 no est√° en la tabla de enrutamiento del enrutador R5. <br><br>  Entramos en la consola CLI del enrutador R2 e ingresamos el comando show ip route.  Podemos concluir que tan pronto como el ping PC0 a trav√©s de R5 recibe R2, se descarta porque R2 no conoce la red "amarilla".  Por lo tanto, volvemos a la configuraci√≥n de R2, use el show run |  comience el enrutador y vemos que la red 192.168.2.0/24 no se anuncia.  Por lo tanto, ingreso la configuraci√≥n global de este enrutador y escribo el comando 192.168.2.0 0.0.0.255 √°rea 0, despu√©s de lo cual verifico nuevamente el ping PC0 - PC2.  Como puede ver, ahora todo ha funcionado. <br><br>  Ahora volvamos a la siguiente parte de nuestra tarea: proporcionar ping PC1-PC2.  Vayamos a la l√≠nea de comando PC1 y hagamos ping a 192.168.2.10: el ping es exitoso. <br><br>  Esta es una tarea muy simple, pero le ayudar√° a adquirir habilidades pr√°cticas de configuraci√≥n de OSPF.  Si no ha descargado este ejemplo de trabajo de laboratorio para la lecci√≥n "D√≠a 46", puede hacerlo yendo a la secci√≥n Tienda de nuestro sitio web utilizando el enlace debajo de este video. <br><br><img src="https://habrastorage.org/webt/h9/2g/yp/h92gypsi-sh-boc5iuhmuceqdoa.jpeg"><br><br>  Ahora pasaremos a resolver el segundo problema, cuya topolog√≠a se ve en la pantalla.  Tambi√©n puede descargar esta configuraci√≥n "D√≠a 47" para Packet Tracer desde el enlace debajo de este video. <br><br><img src="https://habrastorage.org/webt/h5/wa/zb/h5wazbmf38akblmt-gsgb-t4ajc.jpeg"><br><br>  En este laboratorio, necesitamos configurar OSPF usando varias t√©cnicas que le explicar√©.  Despu√©s de eso, tendremos otro laboratorio para solucionar problemas. <br><br>  En este ejemplo de red, ya hice la configuraci√≥n inicial asignando direcciones IP a los dispositivos.  La parte superior izquierda de la red azul de la sede de la compa√±√≠a se designa 192.168.1.0/27 y est√° representada por las computadoras PC0, PC1, el interruptor SW0 y el enrutador R1.  La interfaz del enrutador al que est√° conectada esta red tiene una direcci√≥n IP de 192.168.1.1, las computadoras tienen las direcciones 192.168.1.2 y 192.168.1.3, respectivamente. <br><br><img src="https://habrastorage.org/webt/th/7w/es/th7wesyku-gkps6fevzp6qhxg5a.jpeg"><br><br>  El segmento inferior con la computadora PC4, el conmutador SW3 y el enrutador R1 pertenece a la red 192.168.1.32/27.  Tenga en cuenta que todas las redes tienen la designaci√≥n / 27.  El enrutador 1 est√° conectado a la PC4, por lo que la direcci√≥n IP de la interfaz correspondiente del enrutador es 192.168.1.33 y la direcci√≥n IP de la cuarta computadora es 192.168.1.34. <br><br><img src="https://habrastorage.org/webt/x_/7v/hu/x_7vhutzhvpeunl-egqmrdn4dfu.jpeg"><br><br>  La "red rosa" de la sucursal No. 1 de la compa√±√≠a se designa 192.168.1.64/27, respectivamente, la direcci√≥n IP del enrutador R2 ser√° 192.168.1.65 y la de la PC2 ser√° 192.168.1.66.  La red "amarilla" de la sucursal No. 2 de la compa√±√≠a se designa 192.168.1.96/27, respectivamente, la direcci√≥n IP del enrutador R3 ser√° 192.168.1.97 y la computadora PC3 ser√° 192.168.1.98. <br><br>  La interfaz del enrutador R1 al que est√° conectado el enrutador R2 tiene una direcci√≥n IP de 10.1.12.1.  Ahora agregar√© las designaciones de las redes entre los enrutadores, para que entiendan. <br><br><img src="https://habrastorage.org/webt/j2/sx/8v/j2sx8vvnh99kv9jirfzrjrovpdk.jpeg"><br><br>  No consideramos la direcci√≥n IP de la interfaz del enrutador al que est√° conectado Internet, ya que la proporciona el proveedor y no necesita ser configurada, pero para trabajar en Packet Tracer suponemos que es 10.1.14.1.  En nuestro caso, Internet es un grupo de dos dispositivos: el proveedor de enrutador ISP y el servidor de Google, entre los cuales hay una red 4.4.4.4/8 con una direcci√≥n de puerta de enlace 4.4.4.1. <br><br><img src="https://habrastorage.org/webt/-i/bo/_-/-ibo_-ofp3jx8wkxyjhhtbh1i_s.jpeg"><br><br>  La interfaz del enrutador ISP al que est√° conectado R1 tiene la direcci√≥n 10.1.14.2.  Puede ignorar esta parte de la red y el protocolo utilizado aqu√≠, asumiremos que Internet "sabe" c√≥mo llegar al enrutador R1. <br><br>  Tambi√©n configur√© PAT para el enrutador R1, por lo que cualquier tr√°fico de la red azul enviada a Internet se proporcionar√° con la direcci√≥n IP 10.1.14.1.  Si olvida qu√© es PAT, vea el video en el que miramos NAT "sobrecargado" o traducci√≥n de direcciones de red. <br>  Eso es todo lo que configur√© previamente, la configuraci√≥n de OSPF no funcion√≥.  Veamos si es posible hacer ping a PC2 desde PC0.  Probablemente no tendr√° √©xito, pero lo intentar√© de todos modos.  Como puede ver, el ping no pas√≥, el sistema emiti√≥ un mensaje de que no se puede acceder al host de destino.  Esto significa que el enrutador no conoce la ruta a la direcci√≥n IP activada. <br><br><img src="https://habrastorage.org/webt/zb/jw/vj/zbjwvjiapp-h_zdwn9pxyyj4nzq.jpeg"><br><br>  Esto se puede verificar yendo a la consola CLI de R1 y escribiendo el comando show ip route.  Vemos que la red 192.168.1.64/27 no est√° disponible, ya que no est√° en la tabla de enrutamiento. <br><br><img src="https://habrastorage.org/webt/eq/qm/yn/eqqmynvjustvmtvdxrlbeinawn4.jpeg"><br><br>  Configuremos OSPF en este enrutador.  Entramos en el modo de configuraci√≥n global con el comando config t (erminal) y escribimos los comandos ospf 1 y network 10.1.12.0 0.0.0.3 del router.  ¬øC√≥mo conseguimos una m√°scara tan inversa? <br><br>  Pido disculpas por el error, no tenemos la red / 255, quise decir la m√°scara de subred, as√≠ que ahora arreglar√© la designaci√≥n de red entre R1 y R2; no debe ser 10.1.12.0/255, sino solo la direcci√≥n IP de la red 10.1.12.0 y la m√°scara de subred 255.255.255.252.  Ahora est√° claro por qu√© la m√°scara inversa se parece a 0.0.0.3. <br><br><img src="https://habrastorage.org/webt/x2/sd/dj/x2sddjnqlslaas-wzgfcb4rmnkq.jpeg"><br><br>  Al final del comando, escribo el √°rea 0 porque tenemos una sola zona principal.  Ahora, entre los enrutadores R1 y R2, se establece la comunicaci√≥n OSPF. <br><br>  Se necesita hacer una configuraci√≥n similar para establecer la comunicaci√≥n con el enrutador R3, por lo que ingreso el segundo comando: red 10.1.13.0 0.0.0.3 √°rea 0. Ahora la comunicaci√≥n OSPF est√° configurada para ambas rutas: R1-R2 y R1-R3. <br><br>  A continuaci√≥n, debe configurar la ruta R1-SW0.  Para hacer esto, ingreso el comando de red 192.168.1.0 0.0.0.31 √°rea 0. Para comunicarme con el conmutador SW3, puedo usar el comando de red an√°logo 192.168.1.32 o actuar de manera diferente.  Si observa las direcciones de estas redes, ver√° que esto es una continuaci√≥n de un bloque de direcciones IP.  Si olvida c√≥mo se forman las subredes, le recomiendo que vuelva a visitar el video tutorial "D√≠a 3" una vez m√°s.  En este caso, puedo usar una superred, es decir, en lugar del comando de √°rea 0 de la red 192.168.1.0 0.0.0.31, usar el comando de √°rea 0 de la red 192.168.1.0 0.0.0.63, expandiendo el valor del √∫ltimo octeto de la m√°scara inversa.  Esto permitir√° que OSPF se aplique a ambas subredes: R1-SW0 y R1-SW3 con un comando para una superred. <br><br>  Pasemos a la configuraci√≥n del enrutador R2 y hagamos lo mismo, ingresando secuencialmente los comandos config t, enrutador ospf 1, red 192.168.1.64 0.0.0.31 √°rea 0 y red 10.1.12.0 0.0.0.3 √°rea 0. <br>  A continuaci√≥n, veamos la configuraci√≥n R3 y hagamos lo mismo, usando la secuencia de comandos config t, router ospf 1, red 192.168.1.96 0.0.0.31 √°rea 0 y red 10.1.13.0 0.0.0.3 √°rea 0. <br>  Puede ver que el estado del vecindario ha cambiado de Cargando a Completo, las tablas de enrutamiento se han actualizado y los dispositivos est√°n listos para funcionar con el protocolo OSPF.  Verifiquemos esto con el comando show ip ospf neighbours - como puede ver, se establece el vecindario con el enrutador R1.  Ahora pasemos a este enrutador y verifiquemos qu√© sucedi√≥.  El enrutador R1 ha establecido el vecindario con dos enrutadores, R2 y R3. <br><br>  Intentemos hacer ping a la PC2 desde la PC0: hacer ping a la direcci√≥n IP 192.168.1.66 es exitoso.  Tambi√©n hacemos ping a la computadora PC3 en 192.168.1.98 sin ning√∫n problema. <br><br>  Dije anteriormente que el servidor de Internet de Google tiene la direcci√≥n 4.4.4.4.  Despu√©s de intentar hacer ping desde la PC0, recibimos un mensaje de que el host de destino no est√° disponible.  Esto significa que el enrutador R1 en su tabla de enrutamiento no tiene ninguna informaci√≥n sobre c√≥mo llegar a esta direcci√≥n. <br><br><img src="https://habrastorage.org/webt/kb/xh/yy/kbxhyyak6dfcbzs1-z_p3u_u898.jpeg"><br><br>  Por lo tanto, este enrutador descartar√° todos los paquetes enviados a Internet.  Esto se debe a que no tenemos configurada la puerta de enlace del √∫ltimo recurso.  Para resolver este problema, configuro la ruta est√°ndar y escribo el comando ip route 0.0.0.0 0.0.0.0 serial 0/2/0.  Esto significa que los paquetes dirigidos a Internet en direcciones que no est√°n en la tabla de enrutamiento se enviar√°n a lo largo de esta ruta a trav√©s de la interfaz en serie del enrutador 0/2/0 al que est√° conectada la red externa.  No puede prestar atenci√≥n al mensaje del sistema de que esta conexi√≥n no es una conexi√≥n punto a punto, no es as√≠, solo de acuerdo con las reglas que tendr√≠a que especificar una direcci√≥n IP en lugar de una interfaz.  Pero en nuestro caso no importa, todo funcionar√° de esta manera.  Como puede ver, despu√©s de completar esta configuraci√≥n, PC0 hace ping con confianza al servidor en 4.4.4.4. <br><br>  El tr√°fico va al enrutador y decide as√≠: "en mi tabla de enrutamiento no hay una direcci√≥n de destino especificada aqu√≠, as√≠ que tengo que dirigir este tr√°fico directamente a Internet".  Verificamos el tr√°fico de PC0 y ahora descubriremos c√≥mo va el tr√°fico de PC2.  Como puede ver, el ping 4.4.4.4 falla: el host de destino no est√° disponible.  Esto significa que no hay una entrada correspondiente en la tabla de enrutamiento R2.  Si usa el comando show ip route, puede verificar que no se menciona 4.4.4.4 en la tabla.  Configuramos manualmente el enrutador R1 para interactuar con Internet, pero para R2 no realizamos una configuraci√≥n similar. <br><br>  Hay 2 formas de resolver este problema.  El primero es ir a la configuraci√≥n del enrutador y hacer lo mismo que para R1.  En este caso, solo tenemos dos enrutadores, y la configuraci√≥n manual de la ruta est√°tica no causar√° muchos inconvenientes, pero su oficina puede tener cientos de dichos dispositivos.  Incluso si configura el enrutamiento est√°tico, las cosas pueden cambiar ma√±ana, y la ruta est√°tica creada no funcionar√°.  Por lo tanto, debe usar la configuraci√≥n din√°mica.  Es por eso que se utiliza un protocolo de enrutamiento din√°mico como OSPF. <br><br>  La configuraci√≥n del enrutamiento din√°mico es la siguiente.  En el modo de configuraci√≥n global R1, se ingresa el comando route ospf 1, despu√©s de lo cual aparecen avisos en el modo de subcomando.  Hay un comando como default-information.  Se utiliza para controlar la presentaci√≥n de informaci√≥n predeterminada. <br><br><img src="https://habrastorage.org/webt/im/77/jw/im77jwp4jcdouoql0p_psp_xwic.jpeg"><br><br>  Ingresamos al comando show ip route y vemos un mensaje del sistema de que la √∫ltima puerta de enlace de cola que configuramos est√°ticamente es 0.0.0.0 para la red 0.0.0.0.  En la parte inferior de la tabla de enrutamiento, vemos S *.  Un asterisco significa que este es el candidato predeterminado y S es una ruta est√°tica.  Por lo tanto, 0.0.0.0/0 a trav√©s del puerto 0/2/0 es la ruta est√°tica predeterminada.  Si tenemos esa ruta, podemos ingresar el comando default-information?, Despu√©s de lo cual el sistema mostrar√° un mensaje del formulario original Distribuir una ruta predeterminada. <br><br><img src="https://habrastorage.org/webt/rh/6y/jf/rh6yjfgecdcl2lzmbcrfldrsz88.jpeg"><br><br>  Luego puede usar el comando de origen de informaci√≥n predeterminada, es decir, usar esta ruta predeterminada para todos los dispositivos de red OSPF.  Si vuelve a escribir el comando show ip route, puede ver que ahora tenemos la puerta de enlace a la √∫ltima cola 10.1.12.1 para la red 0.0.0.0. <br><br><img src="https://habrastorage.org/webt/ba/g9/o6/bag9o6bujg3dvxwidaaurg1skkm.jpeg"><br><br>  Esto significa que todos los dispositivos en la red ahora pueden enviar su tr√°fico a Internet a trav√©s del enrutador R1.  Como puede ver, no realic√© ninguna configuraci√≥n manual, OSPF hizo todo por m√≠.  Al final de la tabla de enrutamiento se encuentra la l√≠nea O * E2: la letra ‚ÄúO‚Äù significa OSPF, ‚Äúasterisco‚Äù es el par√°metro predeterminado, E2 es el OSPF externo del segundo tipo.  Si va a la configuraci√≥n del enrutador R3, puede ver que la puerta de enlace de la √∫ltima cola 10.1.13.1 tambi√©n se instala all√≠ y todas las dem√°s configuraciones se realizan autom√°ticamente. <br><br><img src="https://habrastorage.org/webt/u3/gz/pb/u3gzpbgxra9c5guoxuexxmrbyj0.jpeg"><br><br>  Si ahora hace ping a 4.4.4.4 desde PC2, todo funcionar√°.  ¬øCrees que el enrutador R2 puede hacer ping a esta direcci√≥n? <br><br>  Por supuesto que no, y esto se debe al uso de PAT.  Tenemos una lista de acceso a la lista de acceso que solo permite el tr√°fico 192.168.0.0 0.0.255.255.  Esto significa que cualquier tr√°fico de dispositivos ubicados en la red 192.168 seguir√° a trav√©s de la PAT y la direcci√≥n IP 10.1.14.1. <br><br><img src="https://habrastorage.org/webt/7a/pe/ax/7apeaxe6u61rr9s4jmcjbuae148.jpeg"><br><br>  Si inicia el ping del enrutador R2, ¬øqu√© direcci√≥n IP actuar√° como fuente de solicitud?  Probablemente sea la direcci√≥n 10.1.12.2, porque la direcci√≥n IP del enrutador R2 no est√° en la lista de acceso NAT.  El ping desde esta direcci√≥n llegar√° al enrutador del ISP, lo reenviar√° a la direcci√≥n 4.4.4.4 y el servidor de Google enviar√° una respuesta a la misma direcci√≥n desde la que recibi√≥ la solicitud, es decir, 10.1.12.2.  Sin embargo, la tabla de enrutamiento del enrutador ISP no contiene ninguna informaci√≥n sobre 10.1.12.2, porque es una direcci√≥n IP privada ubicada en la red interna.  Solo conoce la direcci√≥n 10.1.14.0, porque est√° conectado directamente al dispositivo con esta direcci√≥n.  As√≠ es como funciona PAT: esta direcci√≥n est√° asociada con todos los dispositivos en la red, y si se especifica 10.1.14.0, todo funcionar√°, pero si usa una direcci√≥n IP diferente, la comunicaci√≥n ser√° imposible.  Para solucionar esto, debe ir a la configuraci√≥n de R1 y agregar la lista de acceso a la direcci√≥n 10.1.12.0.  Quiero mostrarte una cosa m√°s y para esto ingreso el comando show ip route en la configuraci√≥n de R2. <br><br><img src="https://habrastorage.org/webt/9y/g_/hc/9yg_hcx6c-gvia5kp3mf7xhlftm.jpeg"><br><br>  Tenga en cuenta que 2 rutas, 192.168.1.0/27 y 192.168.1.32/27, tienen exactamente los mismos par√°metros.  Es decir, a pesar del hecho de que utilizamos una superred, sumando dos subredes, cada una de ellas se actualiza en la tabla de enrutamiento.  Imagina eso en tu √°rea azul, no 2, sino cien redes.  Al mismo tiempo, todos los dispositivos ejecutar√°n el algoritmo SPF en la misma zona, y aparecer√°n 100 entradas en la tabla de enrutamiento, ocupando mucho espacio a pesar de que describir√°n casi la misma ruta.  Sin embargo, como administrador de red, deber√≠a estar interesado en que el enrutador haga el menor trabajo innecesario posible. <br><br>  La informaci√≥n se actualiza porque, a diferencia de RIP, OSPF no utiliza el resumen autom√°tico de rutas, siempre crea rutas individuales para cada dispositivo de red.  Una forma de resolver este problema es la multizonte.  En las √∫ltimas tres lecciones, cre√≠amos que todos los dispositivos est√°n ubicados en una zona de red troncal cero.  Sin embargo, si creamos varias zonas, el enrutador R1 se convierte en un dispositivo de borde, en un lado del cual hay cero, y en el otro, todas las dem√°s zonas de red.  El uso del ABR Edge Router le permite resumir rutas.  En este caso, el enrutador de borde enviar√° una ruta de resumen a todos los enrutadores que participan en el proceso OSPF.  En el siguiente video, veremos la creaci√≥n de varias zonas de enrutamiento OSPF, por ahora solo estoy dando la raz√≥n por la cual es aconsejable hacer esto. <br><br>  La segunda raz√≥n es la siguiente.  Entro en el comando show ip ospf en la configuraci√≥n del enrutador R2, y en la descripci√≥n del par√°metro que aparece aparece la menci√≥n del algoritmo SPF. <br><br><img src="https://habrastorage.org/webt/-7/4i/wv/-74iwvc5x1ovqvrs6ygbm0glffc.jpeg"><br><br>  Cualquier cambio en la base de datos de ruta LSDB significa que la topolog√≠a de la red ha cambiado.  En este caso, el algoritmo SPF recalcula todas las rutas disponibles para asegurarse de que cada una de las rutas seleccionadas sea la mejor.  Puede usar la analog√≠a con la nueva carretera, lo que hace irrelevante el uso de carreteras antiguas.  Por lo tanto, con cada cambio de LSDB, OSPF ejecuta un algoritmo que vuelve a contar las rutas y rellena la tabla de enrutamiento. <br><br>     ,   SPF   5 .        ,     .   ,   SW0   SW3.    R1    . <br><br><img src="https://habrastorage.org/webt/1k/vi/jg/1kvijguvm-16rzd6trkh0xmu5qm.jpeg"><br><br>      ,         192.168.1.0/27.   R1    LSA     ,         ,     R2. ,   . <br><br>      R2    show ip route.   ,  SPF-   6 .   ,           .  ,          ,      .   SPF-.     LSDB  ,       .       100  200 ,      ,    . <br><br>     ,   SW0   R1.  , SPF-         7. <br><br>              ,       .      ,    .     2 :  ¬´¬ª   ¬´¬ª,   ABR ‚Äì     0   1,      ,     .  R2     ,      0,        R1.  ,       , SPF-  R2   . <br>  2  ,         OSPF.     ,    . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/NcgyEplA85I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV desde $ 199</a> en los Pa√≠ses Bajos!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - ¬°desde $ 99!</b></b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466675/">https://habr.com/ru/post/466675/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466665/index.html">Desbordamiento de CSS y p√©rdida de datos</a></li>
<li><a href="../466667/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 379 (del 2 al 8 de septiembre de 2019)</a></li>
<li><a href="../466669/index.html">Tesla desarrolla bater√≠as capaces de correr 1.6 millones de km sin reemplazo</a></li>
<li><a href="../466671/index.html">PHP Digest No. 164 (27 de agosto - 9 de septiembre de 2019)</a></li>
<li><a href="../466673/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 46. Comprobaci√≥n de rendimiento de OSPF</a></li>
<li><a href="../466677/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 48. OSPF multizona</a></li>
<li><a href="../466679/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 49. Introducci√≥n a EIGRP</a></li>
<li><a href="../466681/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 50. Configurando EIGRP</a></li>
<li><a href="../466683/index.html">Eventos digitales en Mosc√∫ del 9 al 15 de septiembre</a></li>
<li><a href="../466685/index.html">Viendo dinero</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>