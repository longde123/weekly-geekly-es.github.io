<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∞Ô∏è üë®üèæ‚Äçüíª üè® DPKI: Abordando as desvantagens da PKI centralizada por meio de Blockchain üíÜüèª üòû üï†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os certificados digitais s√£o uma das ferramentas auxiliares mais conhecidas que ajudam a proteger os dados nas redes p√∫blicas. No entanto, a principal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DPKI: Abordando as desvantagens da PKI centralizada por meio de Blockchain</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/encry/blog/461731/"><img src="https://habrastorage.org/webt/nz/th/oe/nzthoe936pglmrwozahcz-kwqjk.jpeg"><br><br>  Os certificados digitais s√£o uma das ferramentas auxiliares mais conhecidas que ajudam a proteger os dados nas redes p√∫blicas.  No entanto, a principal desvantagem dessa tecnologia tamb√©m √© conhecida: os usu√°rios s√£o for√ßados a confiar implicitamente nas autoridades de certifica√ß√£o que emitem certificados digitais.  Andrey Chmora, diretor de tecnologia e inova√ß√µes da ENCRY, sugeriu uma nova abordagem para a constru√ß√£o de uma <b>infra-estrutura de chave p√∫blica (PKI)</b> para eliminar as desvantagens existentes usando a tecnologia de contabilidade distribu√≠da (blockchain). <br>  Vamos come√ßar com o b√°sico. <br><a name="habracut"></a><br>  <i>Se voc√™ j√° conhece o b√°sico da infraestrutura de chave p√∫blica existente e suas principais desvantagens, fique √† vontade para rolar para baixo at√© a descri√ß√£o do que sugerimos alterar.</i> <br><br><div class="spoiler">  <b class="spoiler_title">O que s√£o assinaturas digitais e certificados digitais?</b> <div class="spoiler_text">  As intera√ß√µes pela Internet sempre incluem troca de dados.  E, portanto, todos estamos interessados ‚Äã‚Äãem manter os dados seguros durante essa troca.  Mas o que √© seguran√ßa?  Os servi√ßos de seguran√ßa mais populares s√£o confidencialidade, integridade e autenticidade.  Hoje, eles s√£o baseados em criptografia assim√©trica, tamb√©m chamada de criptografia de chave p√∫blica. <br><br>  Antes de tudo, esses m√©todos exigem que as entidades de intera√ß√£o tenham dois pares de chaves dedicados: p√∫blico e privado.  Esses pares de teclas fornecem os recursos de seguran√ßa mencionados acima. <br><br>  Mas como conseguir o interc√¢mbio privado de informa√ß√µes? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/95/g0/ar/95g0arsxoegtxcwsd8b9cr9lvra.png" alt="imagem"></div><br>  <i>Figura 1. Transmiss√£o de dados criptografados usando uma criptografia de chave p√∫blica</i> <br><br>  Antes de enviar qualquer dado, o remetente criptografa (converte criptograficamente) os dados p√∫blicos usando a chave p√∫blica do destinat√°rio e, em seguida, descriptografa os dados criptografados usando o par de chaves privadas. <br><br>  Como obter integridade e autenticidade das informa√ß√µes enviadas?  Este problema pode ser resolvido usando outro mecanismo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ig/2k/da/ig2kdawntfyggluw1gzwvoajfa4.png" alt="imagem"></div><br>  <i>Figura 2. Assinatura / verifica√ß√£o digital</i> <br><br>  Embora os dados p√∫blicos n√£o sejam criptografados, eles cont√™m um valor de fun√ß√£o de hash criptogr√°fico, ou seja, imagem "compactada" criptografada da sequ√™ncia de dados de entrada.  O resultado desse hash √© chamado de "resumo" e √© criptografado usando a chave privada do remetente ("autenticador").  O resultado da criptografia de resumo √© uma assinatura digital, que √© enviada ao destinat√°rio ("verificador") junto com o texto n√£o criptografado.  O destinat√°rio descriptografa a assinatura digital usando a chave p√∫blica do autenticador e a compara com o valor da fun√ß√£o de hash criptogr√°fico, calculada pelo verificador com base nos dados p√∫blicos obtidos.  Se eles corresponderem, os dados recebidos ser√£o totalmente aut√™nticos, integrais e livres de quaisquer modifica√ß√µes que possam ser feitas pelos invasores. <br><br>  A maioria dos recursos que processam dados pessoais e informa√ß√µes de pagamento (como bancos, seguradoras, transportadoras a√©reas e sistemas de pagamento, juntamente com o servi√ßo de impostos e outros portais governamentais) usam amplamente a criptografia assim√©trica. <br><br>  Como os certificados digitais podem ajudar aqui?  √â bem simples  Ambos os processos incluem chaves p√∫blicas que desempenham um papel muito importante e, portanto, devemos sempre verificar se elas pertencem ao remetente (ou ao autenticador quando precisamos verificar uma assinatura) ou ao destinat√°rio, e n√£o aos atacantes.  E √© a√≠ que os certificados digitais podem ajudar a garantir a autenticidade e a integridade da chave p√∫blica. <br><br>  <i>Nota: A autenticidade e integridade da chave p√∫blica s√£o verificadas exatamente da mesma maneira que para dados p√∫blicos, ou seja, usando a assinatura digital (DS).</i> </div></div><br><div class="spoiler">  <b class="spoiler_title">Quem emite certificados digitais?</b> <div class="spoiler_text"> Os certificados digitais s√£o emitidos e mantidos por autoridades de certifica√ß√£o (CAs) confi√°veis.  A entidade que faz a solicita√ß√£o solicita que uma CA emita um certificado, registra-se no Centro de Registro (RC) e recebe seu certificado na CA.  A CA garante que a chave p√∫blica do certificado pertence √† entidade para a qual foi emitida. <br><br>  Se voc√™ n√£o verificar a autenticidade da chave p√∫blica, os invasores poder√£o substituir a chave transferida / armazenada pela sua.  Depois que a chave for substitu√≠da, os invasores poder√£o descriptografar tudo o que o remetente transferir para o destinat√°rio ou at√© modificar os dados p√∫blicos a seu crit√©rio. <br><br>  Os certificados digitais s√£o sempre usados ‚Äã‚Äãjunto com a criptografia assim√©trica.  Um dos certificados digitais mais populares s√£o os certificados SSL para comunica√ß√µes seguras via HTTPS.  Os certificados SSL s√£o emitidos por centenas de empresas em v√°rias jurisdi√ß√µes.  A participa√ß√£o de mercado principal √© distribu√≠da entre as cinco a dez maiores autoridades de certifica√ß√£o confi√°veis: IdenTrust, Comodo, GoDaddy, GlobalSign, DigiCert, CERTUM, Actalis, Secom e Trustwave. <br><br>  CAs e RCs s√£o os componentes da PKI que tamb√©m incluem: <br><br><ul><li>  <b>Dicion√°rio p√∫blico:</b> um banco de dados p√∫blico que fornece armazenamento confi√°vel para certificados digitais </li><li>  <b>Lista de certificados revogados:</b> um banco de dados p√∫blico que fornece armazenamento confi√°vel para certificados digitais de chaves p√∫blicas revogadas (por exemplo, devido a chaves privadas comprometidas) <br>  As entidades de infraestrutura podem acessar esse banco de dados por conta pr√≥pria ou usar o OCSP (Online Certification Status Protocol) especializado que simplifica os processos de verifica√ß√£o. </li><li>  <b>Usu√°rios de certificado:</b> entidades PKI que s√£o atendidas de acordo com o contrato de usu√°rio com a CA e verificam assinaturas digitais e / ou criptografam dados com base na chave p√∫blica do certificado </li><li>  <b>Assinantes:</b> entidades da PKI atendidas por uma CA, mant√™m a chave privada e a chave p√∫blica emparelhada do certificado e conclu√≠ram um contrato de assinante com a CA.  Um assinante tamb√©m pode ser um usu√°rio do certificado. </li></ul><br>  Assim, as entidades confi√°veis ‚Äã‚Äãda infraestrutura de chave p√∫blica, incluindo CAs, RCs e dicion√°rios p√∫blicos, s√£o respons√°veis ‚Äã‚Äãpor: <br><br><ol><li>  Verifica√ß√£o da entidade que faz a solicita√ß√£o </li><li>  Cria√ß√£o de perfil do certificado de chave p√∫blica </li><li>  Emiss√£o de um certificado de chave p√∫blica para uma entidade autenticada que faz a solicita√ß√£o </li><li>  Altera√ß√£o do status de um certificado de chave p√∫blica </li><li>  Fornecimento de informa√ß√µes sobre o status atual de um certificado de chave p√∫blica. </li></ol></div></div><br><div class="spoiler">  <b class="spoiler_title">Quais s√£o as desvantagens da PKI?</b> <div class="spoiler_text">  A desvantagem fundamental da PKI √© a depend√™ncia de entidades confi√°veis.  <b>Os usu√°rios s√£o for√ßados a confiar em CAs e RCs cegamente.</b>  No entanto, essa confian√ßa cega √© perigosa. <br><br>  Nos √∫ltimos dez anos, a vulnerabilidade da infraestrutura causou v√°rios grandes esc√¢ndalos. <br><br>  Em 2010, o malware Stuxnet assinado usando certificados digitais roubados da RealTek e JMicron come√ßou a se espalhar na Internet. <br><br>  Em 2017, o Google acusou a Symantec de emitir um grande n√∫mero de certificados falsificados.  <i>Naquele momento, a Symantec era uma das maiores CAs em n√∫mero de certificados emitidos.</i>  <i>Desde a vers√£o 70 do Google Chrome, o Google interrompeu o suporte a todos os certificados emitidos por esta empresa e suas afiliadas GeoTrust e Thawte antes de 1¬∫ de dezembro de 2017.</i> <br><br>  Essas CAs foram comprometidas e, como resultado, as pr√≥prias CAs, juntamente com usu√°rios e assinantes, foram impactadas.  Al√©m disso, a confian√ßa na infraestrutura foi impactada.  Al√©m disso, os certificados digitais podem ser banidos devido a conflitos pol√≠ticos e, portanto, impactam muitos recursos.  √â por isso que em 2016 as autoridades russas consideraram a cria√ß√£o do centro nacional de certifica√ß√£o para emitir certificados SSL para sites Runet.  Na situa√ß√£o atual, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">os portais do governo russo usam</a> certificados digitais emitidos pelas empresas norte-americanas Comodo ou Thawte (subsidi√°ria da Symantec). <br><br>  H√° ainda outro problema: <b>como autenticar usu√°rios inicialmente?</b>  Como identificar um usu√°rio an√¥nimo que solicitou um certificado digital de uma CA?  Hoje, muitas vezes √© feito arbitrariamente, dependendo dos recursos de infraestrutura.  Algumas informa√ß√µes s√£o obtidas de bancos de dados p√∫blicos (por exemplo, sobre entidades legais que solicitam certificados) ou de bancos e correios onde os indiv√≠duos podem ser identificados por seus cart√µes de identifica√ß√£o e outros documentos. <br><br>  A representa√ß√£o baseada em falsas credenciais √© um dos problemas fundamentais.  E, infelizmente, nenhuma solu√ß√£o completa desse problema pode at√© existir devido a aspectos informativos e te√≥ricos: sem informa√ß√µes confi√°veis, √© imposs√≠vel verificar a autenticidade de uma entidade.  Como regra, o processo de verifica√ß√£o requer um conjunto de documentos que comprovem a identidade da entidade que faz a solicita√ß√£o.  Embora existam muitos m√©todos de verifica√ß√£o, nenhum deles pode garantir a autenticidade dos documentos.  Portanto, a autenticidade da entidade que faz a solicita√ß√£o tamb√©m n√£o pode ser identificada com certeza. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Como eliminar essas desvantagens?</b> <div class="spoiler_text">  Como os problemas atuais de PKI s√£o causados ‚Äã‚Äãprincipalmente pela centraliza√ß√£o, √© √≥bvio que a descentraliza√ß√£o pode ajudar a eliminar pelo menos alguns deles. <br><br>  A descentraliza√ß√£o n√£o depende de nenhuma entidade confi√°vel, pois a cria√ß√£o da <b>DPKI (infraestrutura de chave p√∫blica descentralizada)</b> tornar√° desnecess√°rias as autoridades de certifica√ß√£o e as RCs.  Vamos rejeitar o conceito de certificado digital e, em vez disso, usar um livro distribu√≠do para armazenar informa√ß√µes sobre chaves p√∫blicas.  No nosso caso, um raz√£o √© um banco de dados linear que consiste em registros individuais (blocos) e conectados usando a tecnologia blockchain.  Vamos substituir o termo "certificado digital" pelo termo "notifica√ß√£o". <br><br>  √â assim que o recebimento, a verifica√ß√£o e a revoga√ß√£o de notifica√ß√µes ser√£o exibidas na DPKI proposta: <br><br><ol><li>  Cada entidade que faz a solicita√ß√£o solicita uma notifica√ß√£o por conta pr√≥pria, preenchendo um formul√°rio de registro e, em seguida, comp√µe uma transa√ß√£o que ser√° armazenada em um pool especializado. </li><li>  As informa√ß√µes sobre a chave p√∫blica, juntamente com os detalhes do propriet√°rio e outros metadados, s√£o armazenadas em um livro distribu√≠do em vez de em um certificado digital emitido pela CA na PKI centralizada. </li><li>  A entidade que faz a solicita√ß√£o √© ent√£o autenticada pelos esfor√ßos conjuntos da comunidade de usu√°rios da DPKI, e n√£o pelo RC. </li><li>  Somente o propriet√°rio dessa notifica√ß√£o pode alterar o status de uma chave p√∫blica. </li><li>  Todos podem acessar o livro distribu√≠do e verificar o status atual da chave p√∫blica. </li></ol><br>  <i>Nota: √Ä primeira vista, a autentica√ß√£o da entidade que faz a solicita√ß√£o pode parecer n√£o confi√°vel.</i>  <i>No entanto, √© importante ter em mente que hoje em dia todos os usu√°rios de servi√ßos digitais deixam uma pegada digital cada vez maior.</i>  <i>As ferramentas publicamente dispon√≠veis incluem bancos de dados digitais de entidades legais, mapas, imagens digitalizadas de terrenos, m√≠dias sociais e muito mais.</i>  <i>Eles j√° s√£o usados ‚Äã‚Äãcom sucesso em investiga√ß√µes de jornalistas e √≥rg√£os policiais.</i>  <i>Um dos exemplos t√≠picos inclui investiga√ß√µes da Bellingcat e o grupo conjunto JIT, que investiga o acidente de avi√£o da Boeing na Mal√°sia.</i> </div></div><br>  Ent√£o, como uma infraestrutura de chave p√∫blica descentralizada funcionar√° na pr√°tica?  Vamos nos aprofundar na tecnologia que <b>patenteamos em 2018</b> e considerar o nosso melhor know-how. <br><br>  Suponha que exista um indiv√≠duo que possua um conjunto de chaves p√∫blicas, em que cada chave seja um tipo de transa√ß√£o armazenada em um raz√£o.  Como verificar se todas essas chaves realmente pertencem a um determinado propriet√°rio sem uma autoridade de certifica√ß√£o?  Para resolver essa tarefa, podemos criar uma transa√ß√£o nula para armazenar as informa√ß√µes sobre o propriet√°rio e sua carteira eletr√¥nica (das quais √© debitada uma taxa de comiss√£o pela adi√ß√£o de uma transa√ß√£o ao raz√£o).  Uma transa√ß√£o nula √© uma esp√©cie de "√¢ncora" para conectar as pr√≥ximas transa√ß√µes junto com os dados sobre chaves p√∫blicas.  Cada transa√ß√£o desse tipo cont√©m uma estrutura de dados especializada chamada "notifica√ß√£o". <br><br>  <i>A notifica√ß√£o √© um conjunto de dados estruturados de campos funcionais que armazena informa√ß√µes sobre a chave p√∫blica do propriet√°rio e garante a persist√™ncia dessa chave, adicionando-a a um dos registros relacionados no raz√£o distribu√≠do.</i> <br><br>  A pr√≥xima pergunta √≥bvia √© como formar uma transa√ß√£o nula?  Uma transa√ß√£o nula, como todas as transa√ß√µes subseq√ºentes, √© uma agrega√ß√£o de seis campos de dados.  Para formar uma transa√ß√£o nula, usamos o par de chaves p√∫blica / privada para a carteira eletr√¥nica.  Esse par de chaves p√∫blica / privada √© criado quando o usu√°rio cria sua carteira a partir da qual ser√° debitada a taxa de comiss√£o pela adi√ß√£o de uma transa√ß√£o nula ao raz√£o e pelas opera√ß√µes subseq√ºentes com notifica√ß√µes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/gu/2d/qwgu2dihzkrkduvq7qz8gcplyve.jpeg" alt="imagem"></div><br>  <i>Figura 3. Criando uma transa√ß√£o nula</i> <br><br>  <i>A Figura 3</i> mostra como um resumo da chave p√∫blica da carteira eletr√¥nica √© formado usando a fun√ß√£o hash SHA256 e, em seguida, a fun√ß√£o hash RIPEMD160.  Aqui, o RIPEMD160 √© respons√°vel por representar dados com o tamanho de compila√ß√£o de at√© 160 bits.  √â muito importante, pois os livros cont√°beis s√£o bancos de dados caros.  A pr√≥pria chave p√∫blica est√° inclu√≠da no quinto campo.  O primeiro campo cont√©m dados que vinculam uma determinada transa√ß√£o √† anterior.  Na transa√ß√£o nula, diferentemente de todas as outras transa√ß√µes, esse campo est√° vazio.  O segundo campo cont√©m dados para verifica√ß√£o da conectividade da transa√ß√£o.  Por uma quest√£o de brevidade, nos referiremos aos dados no primeiro e no segundo campos como "vincular" e "verifica√ß√£o", respectivamente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/py/4m/c8/py4mc8voonsndcqfs-xp1krttrw.jpeg" alt="imagem"></div><br>  <i>Figura 4. Liga√ß√£o e verifica√ß√£o de transa√ß√µes</i> <br><br>  Os dados nesses campos podem ser formados usando o hash iterativo, como mostrado na <i>Figura 4</i> acima, para vincular a segunda e a terceira transa√ß√µes. <br>  Os dados nos cinco primeiros campos s√£o autenticados com o DS gerado usando a chave privada da carteira eletr√¥nica.  E isso √© tudo - a transa√ß√£o agora pode ser adicionada ao pool e, ap√≥s uma verifica√ß√£o bem-sucedida (como mostra a <i>Figura 5</i> ), ao raz√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f9/tt/uk/f9ttukcb_mprsdby_dsafwpnwow.jpeg" alt="imagem"></div><br>  <i>Figura 5. Verifica√ß√£o da transa√ß√£o nula</i> <br><br>  Agora, essa transa√ß√£o pode ser usada para "conectar" as pr√≥ximas transa√ß√µes.  Vamos dar uma olhada na <i>Figura 6</i> para ver como todas as transa√ß√µes n√£o nulas s√£o formadas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0c/ul/ks/0culksjzrhy0nx1dylr_scysrpu.jpeg" alt="imagem"></div><br>  <i>Figura 6. Criando uma transa√ß√£o n√£o nula</i> <br><br>  A primeira coisa que voc√™ pode notar √© uma infinidade de pares de chaves p√∫blicas / privadas.  Al√©m do j√° familiar par de chaves p√∫blico / privado de carteira eletr√¥nica, tamb√©m usamos pares de chaves comuns e de servi√ßo. <br><br>  Uma chave p√∫blica comum √© a parte mais importante aqui.  Essa chave √© usada em v√°rios procedimentos e processos do mundo circundante (como transa√ß√µes banc√°rias e outras, fluxo de documentos, etc.).  Por exemplo, uma chave privada de um par de chaves p√∫blica / privada comum pode ser usada para a cria√ß√£o de um DS para v√°rios documentos, como ordens de pagamento, enquanto a chave p√∫blica pode ser usada para a verifica√ß√£o do DS com a execu√ß√£o subseq√ºente destes. ordens. <br><br>  Um par de chaves p√∫blica / privada de servi√ßo √© emitido para uma entidade DPKI registrada.  O nome desse par de chaves p√∫blica / privada reflete claramente sua finalidade.  Observe que as chaves de servi√ßo n√£o s√£o usadas para gera√ß√£o / verifica√ß√£o de uma transa√ß√£o nula. <br><br>  S√≥ para esclarecer, vamos refinar os prop√≥sitos dessas chaves: <br><br><ol><li>  As chaves da carteira eletr√¥nica s√£o usadas para a gera√ß√£o e / ou verifica√ß√£o de transa√ß√µes nulas e n√£o nulas.  A chave privada da carteira eletr√¥nica √© conhecida apenas pelo propriet√°rio da carteira eletr√¥nica, que tamb√©m possui o conjunto de chaves p√∫blicas comuns. </li><li>  O objetivo de uma chave p√∫blica comum √© o mesmo da chave p√∫blica para a qual um certificado na PKI centralizada √© emitido. </li><li>  O par de chaves p√∫blica / privada de servi√ßo pertence √† DPKI.  Uma chave privada √© emitida para as entidades registradas e √© usada para criar um DS de todas as transa√ß√µes n√£o nulas.  Uma chave p√∫blica √© usada para a verifica√ß√£o de um DS para transa√ß√µes antes de adicion√°-las ao raz√£o. </li></ol><br>  Assim, temos dois grupos de chaves.  O primeiro grupo inclui chaves de servi√ßo e chaves de carteira eletr√¥nica que s√£o eleg√≠veis apenas na DPKI.  O segundo grupo inclui chaves comuns que podem ser usadas para v√°rios prop√≥sitos, dependendo de um determinado campo de aplica√ß√£o.  Ao mesmo tempo, o DPKI garante a integridade e autenticidade das chaves p√∫blicas comuns. <br><br>  <i>Nota: O par de chaves p√∫blica / privada de servi√ßo pode ser divulgado a v√°rias entidades DPKI.</i>  <i>Em certos casos, o par pode ser o mesmo para todas as entidades.</i>  <i>√â por isso que a forma√ß√£o de uma assinatura para cada transa√ß√£o n√£o nula requer duas chaves privadas, uma das quais √© a chave da carteira eletr√¥nica: essa chave √© conhecida apenas pelo propriet√°rio da carteira eletr√¥nica que tamb√©m possui o conjunto de chaves p√∫blicas comuns.</i>  <i>Todas essas chaves t√™m certos prop√≥sitos.</i>  <i>Por exemplo, sempre podemos provar que uma determinada transa√ß√£o foi inclu√≠da no raz√£o por uma entidade DPKI registrada, pois a assinatura foi formada usando tamb√©m uma chave privada de servi√ßo.</i>  <i>Al√©m disso, isso evita ataques do DOS e outras atividades fraudulentas, porque o propriet√°rio paga por cada transa√ß√£o.</i> <br><br>  Todas as transa√ß√µes que seguem uma transa√ß√£o nula s√£o formadas da mesma forma: uma chave p√∫blica (de um par de chaves comum, n√£o a chave da carteira eletr√¥nica como para transa√ß√µes nulas) √© processada usando duas fun√ß√µes de hash: SHA256 e RIPEMD160.  √â assim que os dados no terceiro campo s√£o formados.  O quarto campo cont√©m informa√ß√µes adicionais (por exemplo, informa√ß√µes sobre o status atual, per√≠odo de validade, registro de data e hora, IDs dos algoritmos criptogr√°ficos etc.).  O quinto campo cont√©m uma chave p√∫blica do par de chaves p√∫blica / privada de servi√ßo.  Essa chave √© replicada, pois ser√° usada para a verifica√ß√£o de um DS.  Vamos provar que essa abordagem √© necess√°ria. <br><br>  Cada transa√ß√£o √© inclu√≠da no pool e armazenada l√° at√© ser processada.  No entanto, manter as transa√ß√µes no pool √© arriscado, pois os dados da transa√ß√£o podem ser falsificados.  O propriet√°rio autentica os dados da transa√ß√£o usando um DS.  A chave p√∫blica para a verifica√ß√£o desse DS √© especificada explicitamente em um dos campos da transa√ß√£o e depois √© inclu√≠da no raz√£o.  As transa√ß√µes s√£o processadas de uma maneira que possivelmente permite que um invasor modifique os dados a seu crit√©rio, verifique-os com sua pr√≥pria chave privada e especifique a chave p√∫blica correspondente para a verifica√ß√£o do DS diretamente na transa√ß√£o.  Se a autenticidade e a integridade forem garantidas apenas usando um DS, essas falsifica√ß√µes poder√£o permanecer despercebidas.  No entanto, estender um DS com um mecanismo adicional que fornece arquivamento e persist√™ncia das informa√ß√µes armazenadas ajudar√° a detectar essas falsifica√ß√µes.  Tudo o que precisamos fazer √© incluir a chave p√∫blica aut√™ntica do propriet√°rio no raz√£o.  Vamos ver como isso funciona. <br><br>  Suponha que um invasor esteja tentando falsificar os dados da transa√ß√£o.  Em termos de chaves e DS, s√£o poss√≠veis as seguintes op√ß√µes: <br><br><ol><li>  O invasor coloca sua pr√≥pria chave p√∫blica na transa√ß√£o, mantendo o DS do propriet√°rio inalterado. </li><li>  O invasor forma um novo DS usando sua pr√≥pria chave privada, mantendo a chave p√∫blica do propriet√°rio inalterada. </li><li>  O invasor forma um novo DS usando sua pr√≥pria chave privada e coloca a chave p√∫blica correspondente na transa√ß√£o. </li></ol><br>  √â √≥bvio que as op√ß√µes 1 e 2 s√£o in√∫teis, pois a verifica√ß√£o do DS sempre detectar√° essas falsifica√ß√µes.  A √∫nica op√ß√£o que faz sentido √© a op√ß√£o 3: se o invasor criar um DS usando sua pr√≥pria chave privada, ser√° for√ßado a salvar a chave p√∫blica correspondente na transa√ß√£o, e essa chave ser√° diferente da chave p√∫blica do propriet√°rio.  √â a √∫nica maneira de o invasor impor seus dados falsificados. <br><br>  Suponha que o propriet√°rio tenha um par fixo de chaves p√∫blicas / privadas.  Suponha que os dados sejam autenticados com um DS usando uma chave privada desse par enquanto a chave p√∫blica estiver especificada na transa√ß√£o.  Suponha tamb√©m que essa chave p√∫blica tenha sido inclu√≠da anteriormente no raz√£o e tenha sido totalmente autenticada.  A falsifica√ß√£o pode ser revelada pelo fato de a chave p√∫blica na transa√ß√£o n√£o corresponder √† chave p√∫blica no raz√£o. <br><br>  <b>Vamos resumir.</b>  Ao processar dados da primeira transa√ß√£o do propriet√°rio, devemos autenticar a chave p√∫blica inclu√≠da no raz√£o.  Para fazer isso, podemos ler a chave no raz√£o e depois combin√°-la com a chave p√∫blica aut√™ntica do propriet√°rio dentro do per√≠metro de seguran√ßa (√°rea relativamente invulner√°vel).  Se a chave colocada for autenticada e totalmente persistente, a chave da pr√≥xima transa√ß√£o tamb√©m poder√° ser facilmente autenticada, combinando-a com a chave do raz√£o.  Em outras palavras, a chave do raz√£o √© usada como refer√™ncia.  Todas as outras transa√ß√µes do propriet√°rio ser√£o processadas da mesma forma. <br><br>  Cada transa√ß√£o √© autenticada com um DS, e aqui precisamos das duas chaves privadas: a chave privada de servi√ßo e a chave privada da carteira eletr√¥nica.  Com base nas duas chaves privadas, podemos garantir o n√≠vel de seguran√ßa desejado, j√° que a chave privada de servi√ßo pode ser conhecida por outros usu√°rios, enquanto a chave privada da carteira eletr√¥nica √© conhecida apenas pelo propriet√°rio do par de chaves comum.  Chamamos essa assinatura de duas chaves de DS "consolidado". <br><br>  As transa√ß√µes n√£o nulas s√£o verificadas usando as duas chaves p√∫blicas: a chave da carteira eletr√¥nica e a chave de servi√ßo.  <i>(Figura 7)</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/eh/tv/5aehtv6rf4sgqjp3jpclgc4chzs.jpeg" alt="imagem"></div><br>  <i>Figura 7. Verifica√ß√£o de uma transa√ß√£o n√£o nula</i> <br><br>  O processo de verifica√ß√£o consiste em duas etapas b√°sicas: a primeira etapa inclui a verifica√ß√£o do resumo da chave p√∫blica da carteira eletr√¥nica, enquanto a segunda etapa implementa a verifica√ß√£o do DS "consolidado" da transa√ß√£o formado usando as duas chaves privadas (ou seja, o e- chave da carteira e da chave de servi√ßo).  Quando o DS √© autenticado, a transa√ß√£o correspondente, mediante verifica√ß√£o adicional, √© inclu√≠da no raz√£o. <br><br>  No entanto, surge a seguinte pergunta: como verificar se uma determinada transa√ß√£o pertence a uma cadeia de transa√ß√µes espec√≠fica que come√ßa com uma transa√ß√£o nula?  Para fazer isso, atualizamos o processo de verifica√ß√£o com mais uma etapa - a verifica√ß√£o da conectividade.  Esta etapa exigir√° dados dos dois primeiros campos que n√£o usamos at√© o momento. <br><br>  Suponha que precisamos verificar se a <i>transa√ß√£o 2</i> √© realmente seguida pela <i>transa√ß√£o 3</i> .  Para fazer isso, podemos usar o m√©todo de hash combinado para calcular os valores da fun√ß√£o de hash para os dados nos terceiro, quarto e quinto campos.  Podemos concatenar os dados do primeiro campo da <i>transa√ß√£o n¬∫ 3</i> e o valor da fun√ß√£o hash combinada calculada anteriormente para os dados nos terceiro, quarto e quinto campos da <i>transa√ß√£o n¬∫ 2</i> .  Todos esses valores s√£o processados ‚Äã‚Äãusando as duas fun√ß√µes de hash: SHA256 e RIPEMD160.  Se o valor resultante corresponder aos dados no segundo campo da <i>transa√ß√£o n¬∫ 2</i> , a verifica√ß√£o ser√° aprovada com √™xito e a conectividade ser√° comprovada.  Isso √© mostrado em mais detalhes nas figuras abaixo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6n/ui/df/6nuidfi_wipspjla7qjztkojqzk.jpeg" alt="imagem"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a7/e42/a2e/1a7e42a2ecbb13b06697ef8d98cfca15.jpg" alt="imagem"></div><br>  <i>Figura 8, Figura 9. Verifica√ß√£o de liga√ß√£o, exemplo de segunda e terceira transa√ß√µes</i> <br><br>  Em geral, formar e incluir uma notifica√ß√£o no raz√£o √© assim.  O fluxo de trabalho da forma√ß√£o de uma cadeia de notifica√ß√µes √© mostrado claramente na figura a seguir: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ql/ij/gs/qlijgsepx78xyecvyzyvryoui4i.jpeg" alt="imagem"></div><br>  <i>Figura 10. Estrutura e processamento da transa√ß√£o</i> <br><br>  Neste artigo, n√£o vamos nos aprofundar nos detalhes e voltar √† discuss√£o sobre o conceito de infraestrutura descentralizada para chaves p√∫blicas. <br><br>  Portanto, como a entidade que faz a solicita√ß√£o envia uma solicita√ß√£o de registro de notifica√ß√µes armazenadas no raz√£o, e n√£o no banco de dados da CA, os principais componentes arquiteturais da DPKI s√£o os seguintes: <br><ol><li>  Raz√£o de notifica√ß√µes v√°lidas (LVN) </li><li>  Raz√£o de notifica√ß√µes retiradas (LWN) </li><li>  Raz√£o de notifica√ß√µes suspensas (LSN). </li></ol><br><br>  As informa√ß√µes sobre chaves p√∫blicas s√£o armazenadas no LVN / LWN / LSN como valores da fun√ß√£o hash.  Observe tamb√©m que ele pode ser livros ou cadeias diferentes ou mesmo uma √∫nica cadeia como parte de um √∫nico livro, quando informa√ß√µes sobre o status de uma chave p√∫blica comum (retirada, suspens√£o, etc.) s√£o adicionadas ao quarto campo do estrutura de dados como o valor do c√≥digo correspondente.  Existem muitas op√ß√µes para a implementa√ß√£o arquitet√¥nica do DPKI, dependendo de v√°rios crit√©rios de otimiza√ß√£o, como custos para armazenamento de chaves p√∫blicas na mem√≥ria a longo prazo, etc. <br><br>  Assim, o DPKI pode ter a mesma ou mesmo menor complexidade arquitet√¥nica em compara√ß√£o com uma solu√ß√£o centralizada. <br><br>  Ent√£o, a principal quest√£o aqui √© <b>qual raz√£o √© mais adequada para implementar essa tecnologia?</b> <br><br>  O principal requisito para o raz√£o √© poder formar transa√ß√µes de qualquer tipo.  O exemplo mais conhecido de um livro real √© o Bitcoin.  No entanto, a implementa√ß√£o da tecnologia acima para Bitcoin pode enfrentar certas dificuldades: limita√ß√µes da linguagem de script existente, a falta de mecanismos necess√°rios para processar conjuntos de dados arbitr√°rios e m√©todos para gerar transa√ß√µes de tipos arbitr√°rios, e assim por diante. <br><br>  Na ENCRY, tentamos resolver os problemas acima e desenvolvemos um raz√£o que, em nossa opini√£o, apresenta v√°rias vantagens importantes: <br><br><ul><li>  <b>Suporte a v√°rios tipos de transa√ß√µes:</b> neste livro, voc√™ pode trocar ativos (ou seja, realizar transa√ß√µes financeiras) e formar transa√ß√µes de uma estrutura arbitr√°ria </li><li>  Os desenvolvedores podem usar a <b>linguagem de programa√ß√£o propriet√°ria PrismLang,</b> que √© muito flex√≠vel na solu√ß√£o de v√°rios problemas tecnol√≥gicos. </li><li>  O mecanismo implementado para <b>processar conjuntos de dados arbitr√°rios.</b> </li></ul><br>  Simplificando, as seguintes etapas devem ser conclu√≠das: <br><br><ol><li>  Uma entidade que faz a solicita√ß√£o se registra na DPKI e obt√©m uma carteira eletr√¥nica.  O endere√ßo da carteira eletr√¥nica √© um valor da fun√ß√£o hash aplicada √† chave p√∫blica da carteira eletr√¥nica.  A chave privada da carteira eletr√¥nica √© conhecida apenas pela entidade que faz a solicita√ß√£o </li><li>  No registro, a entidade obt√©m acesso √† chave privada de servi√ßo </li><li>  A entidade forma uma transa√ß√£o nula e, em seguida, autentica seu DS usando a chave privada da carteira eletr√¥nica </li><li>  Ao formar uma transa√ß√£o n√£o nula, a entidade deve autenticar seu DS usando duas chaves privadas: a chave da carteira eletr√¥nica e a chave de servi√ßo </li><li>  A entidade envia a transa√ß√£o para o pool </li><li>  O n√≥ da rede ENCRY l√™ a transa√ß√£o do pool e verifica o DS e a conectividade da transa√ß√£o. </li><li>  Se o DS for v√°lido e a conectividade for comprovada, o n√≥ preparar√° a transa√ß√£o para inclus√£o no raz√£o. </li></ol><br><br>  Aqui, o raz√£o serve como um banco de dados distribu√≠do que armazena informa√ß√µes sobre notifica√ß√µes v√°lidas, retiradas e suspensas. <br><br>  <b>Certamente, a descentraliza√ß√£o n√£o √© uma solu√ß√£o √∫nica para todos.</b>  O principal problema com a autentica√ß√£o do usu√°rio principal ainda persiste: enquanto a entidade que faz a solicita√ß√£o √© atualmente verificada pela CA, o DPKI prop√µe delegar essa verifica√ß√£o aos membros da comunidade e motiv√°-los financeiramente.  A tecnologia de verifica√ß√£o baseada em fontes p√∫blicas √© comumente conhecida.  A efici√™ncia dessa verifica√ß√£o tamb√©m foi comprovada na pr√°tica: v√°rias investiga√ß√µes de alto n√≠vel conduzidas pela Bellingcat s√£o bons exemplos disso. <br><br>  Mas, em geral, temos certeza de que o DPKI √© capaz de eliminar muitas, sen√£o todas, desvantagens de uma PKI centralizada. <br><br>  <b>Sinta-se √† vontade para assinar nosso blog sobre Habr</b> , onde discutiremos nossas pesquisas e desenvolvimentos, e siga nosso <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Twitter</a></b> para ficar atento a mais novidades sobre os projetos ENCRY. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt461731/">https://habr.com/ru/post/pt461731/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt461721/index.html">Novo m√©todo de an√°lise de cluster</a></li>
<li><a href="../pt461723/index.html">Compreendendo o pacote de contexto em Golang</a></li>
<li><a href="../pt461725/index.html">DataGrip 2019.2: gerenciamento de conex√µes, pesquisa de dados, filtragem na navega√ß√£o</a></li>
<li><a href="../pt461727/index.html">Solu√ß√µes Cisco para pequenas empresas: uma boa rede n√£o √© necessariamente cara</a></li>
<li><a href="../pt461729/index.html">Usando jailbreaking para extrair dados: riscos e consequ√™ncias</a></li>
<li><a href="../pt461733/index.html">Aprendendo ingl√™s: 9 express√µes ao estilo americano</a></li>
<li><a href="../pt461735/index.html">Pr√°tica de decodifica√ß√£o de hardware FFmpeg DXVA2</a></li>
<li><a href="../pt461737/index.html">Coletamos o ambiente para o TDD moderno em JavaScript + c√≥digo VS</a></li>
<li><a href="../pt461739/index.html">Back-end United 4: Okroshka. Incidentes</a></li>
<li><a href="../pt461741/index.html">Cluster hier√°rquico de dados categ√≥ricos em R</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>