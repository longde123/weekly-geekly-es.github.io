<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö™Ô∏è üëÉüèæ üï¥üèæ Ein wenig Erfahrung mit Backup & Storage üôÄ üíû üëà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! 

 Vor einiger Zeit tauchte ich in die Welt des "harten Unternehmertums" ein, und zwar in dem Bereich, der f√ºr das Speichern und Sic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ein wenig Erfahrung mit Backup & Storage</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459952/"> Hallo allerseits! <br><br>  Vor einiger Zeit tauchte ich in die Welt des "harten Unternehmertums" ein, und zwar in dem Bereich, der f√ºr das Speichern und Sichern von Daten verantwortlich ist.  Genauer gesagt, am meisten darin.  In dieser Zeit habe ich mehrere Regeln gesammelt, die ich beim Entwerfen oder Warten von L√∂sungen in diesem Bereich einzuhalten versuche.  Einige haben ihre eigenen mit der Entwicklung der Technologie bereits √ºberlebt, andere arbeiten recht gut.  Und ich habe beschlossen, sie mit Ihnen zu teilen. <br><br>  Es wird keine Regel 3-2-1 geben, die oft ohne mich erw√§hnt wird, sowie einige direkte Techniken f√ºr bestimmte Situationen und andere Dinge in der gleichen Richtung.  Vielleicht sind dies f√ºr die meisten Leser die Grundlagen und Plattit√ºden.  Dies ist nur meine bescheidene Erfahrung und ich hoffe, dass sie jemandem n√ºtzlich sein wird.  Ich frage nach Katze. <br><a name="habracut"></a><br><h3>  Merkmale der lokalen "Dimensionierung" </h3><br>  Fr√ºher oder sp√§ter m√ºssen mehr Terabyte und / oder IOPS ben√∂tigt werden.  Und dann beginnt die Dimensionierung.  Oft bedeutungslos und gnadenlos.  Weil es √§u√üerst selten vorkommt, dass jemand RTO-Anforderungen f√ºr die Gr√∂√üenbestimmung festlegt, die normalerweise zur Sicherung vorgelegt werden.  Obwohl es eine offensichtliche Voraussetzung f√ºr jeden Hardwarekomplex zu sein scheint.  Das hei√üt,  Bei der Dimensionierung und Erstellung von Anforderungen f√ºr neue Ger√§te werden aus irgendeinem Grund die Anforderungen des Backup-Systems, das dringend etwas an Ihrer Hardware wiederherstellt, nicht ber√ºcksichtigt.  Manchmal ist etwas ziemlich gro√ü.  Im Allgemeinen wird ein gewisser Spielraum f√ºr Produktivit√§t und Platz geschaffen, aber die allererste Datenwiederherstellung zeigt, dass dies f√ºr den f√ºr dieses Ger√§t definierten Lebenszyklus nicht ausreicht. <br><br>  Im letzten Jahr habe ich bereits zweimal eine Situation gesehen, in der der Engpass w√§hrend der Datenwiederherstellung das Festplattenarray war, auf dem die Wiederherstellung durchgef√ºhrt wurde.  Sie passen in RTO, aber die Glocke war alarmierend. <br><br><h3>  Wir haben eine L√∂sung f√ºr den Cluster. Warum ben√∂tigen Sie ein Backup ?! </h3><br>  Es ist diese sehr ‚Äûenergetisch‚Äú ausgesprochene Phrase, die ich bei der Kommunikation geh√∂rt habe <br>  mit einem Entwickler einer sehr n√ºtzlichen Software f√ºr ein Unternehmen.  Der Entwickler argumentierte, dass eine Sicherung f√ºr die Wiederherstellung nicht erforderlich ist, da die L√∂sung auf einem Cluster bereitgestellt wird. Wenn daher ein Knoten (oder ein Festplattenarray) auf den Standort f√§llt, wird der Cluster gespeichert.  In diesen F√§llen wird er zweifellos sparen.  Dies ist im Allgemeinen hervorragend, wenn es einige Leute gibt, die bereits in der Entwicklungsphase √ºber Fehlertoleranz nachdenken. <br><br>  Datenverlust wird jedoch nicht nur durch den Ausfall von Ger√§ten an einem Standort erreicht, und aus irgendeinem Grund wollte der Entwickler dies f√ºr einige Zeit nicht verstehen.  Infolgedessen wurde die erste Version der Software auf dem Community-DBMS ver√∂ffentlicht, dessen Sicherungsmechanik weder die RTO / RPO-Anforderungen noch die SLA des Auftragnehmers erf√ºllte. <br>  Im Allgemeinen h√∂re ich diesen Satz ziemlich oft √ºber einen Cluster. <br><br><h3>  Erst dann das! </h3><br>  Einer meiner gr√∂√üten Fehler war, Backup-Objekte als unabh√§ngige Objekte zu betrachten.  Hier ist das DBMS, hier ist die Software.  Dies ist ein Backup wie dieses, und das ist so.  Erst einer, dann noch einer.  Und eines Tages konnten wir uns nicht erholen.  Genauer gesagt k√∂nnten sie es, aber f√ºr die wenigen Tage, die f√ºr die Behebung von Fehlern in der Datenbank aufgewendet wurden.  Und nicht ich habe sie beseitigt, wof√ºr ich mich besonders sch√§me.  Obwohl wir f√ºr dieses DBMS einen regul√§ren Sicherungsmechanismus verwendet haben.  Bereits auf anderen Systemen getestet. <br><br>  Von diesem Moment an schiebe ich meine Nase und sch√ºttle den Entwickler / Besitzer des Systems √ºber das Thema, wie man richtig sichert und wiederherstellt.  In einem Fall bestand die einzige M√∂glichkeit zum Erstellen einer funktionierenden Sicherung darin, die Dienste auf 5 Servern vollst√§ndig zu stoppen, eine Sicherung zu erstellen und die Dienste zu starten. <br><br><h3>  Alles wegwerfen? </h3><br>  Oft sto√üe ich auf L√∂sungen f√ºr DBMS wie MySQL und PostgreSQL.  Und noch h√§ufiger sto√üe ich auf eine Situation, in der der banale Speicherauszug der Datenbank in / tmp als Sicherungsmethode und dann auf einem anderen Medium verwendet wird.  Gleichzeitig sind die Systeme, auf denen diese DBMS verwendet werden, f√ºr Ausfallzeiten im Falle eines Datenverlusts sehr kritisch und sehr ausgelastet.  Ich schweige bereits √ºber B√§nde. <br><br>  Aus irgendeinem Grund lesen nur wenige Personen die Dokumentation zu diesen Produkten und wissen nicht, dass es alternative Methoden und L√∂sungen zum Erstellen von Sicherungen dieser DBMS gibt.  <i>MySQL Enterprise Backup</i> f√ºr MySQL und <i>pg_basebackup</i> ( <i>pg_start_backup, pg_stop_backup</i> ) in PostgreSQL.  Oder er wei√ü es, flog aber aus seinem Kopf.  Obwohl diese L√∂sungen nicht viel komplizierter und schneller sind.  Schnellere Sicherung, schnellere Wiederherstellung, schnellerer Test. <br><blockquote>  Bitte erschie√üe den Pianisten nicht. <br>  Er gibt sein Bestes. <br>  Oscar Fingal O'Flahertie Wills Wilde </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459952/">https://habr.com/ru/post/de459952/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459928/index.html">Der Weg des Sch√ºlers zur Entwicklung mobiler Apps</a></li>
<li><a href="../de459930/index.html">Python-Importautomatisierung</a></li>
<li><a href="../de459934/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 306 (vom 8. bis 14. Juli)</a></li>
<li><a href="../de459936/index.html">9 weitere Tricks f√ºr die Arbeit mit Visual Studio</a></li>
<li><a href="../de459948/index.html">Implementierung physikalisch korrekter volumetrischer Wolken wie in Horizon Zero Dawn</a></li>
<li><a href="../de459954/index.html">Warum eines der gr√∂√üten IT-Unternehmen zu CNCF kam - einem Fonds zur Entwicklung der Cloud-Infrastruktur</a></li>
<li><a href="../de459956/index.html">Implantation in v√∂lliger Abwesenheit von Z√§hnen infolge vorzeitiger Besuche beim Zahnarzt</a></li>
<li><a href="../de459958/index.html">Analysieren von Aufgaben aus der Hydra-Konferenz - Lastausgleich und In-Memory-Speicher</a></li>
<li><a href="../de459960/index.html">Von der Idee bis zur Ver√∂ffentlichung. Detaillierte Market Frontend-Erfahrung</a></li>
<li><a href="../de459964/index.html">8 einfache UI-Tricks, um ein Prototyp-Design dynamisch zu gestalten, ohne auf Animation zur√ºckgreifen zu m√ºssen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>