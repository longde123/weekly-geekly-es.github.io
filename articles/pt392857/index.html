<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Ä üßîüèø ‚óºÔ∏è Convertendo um Interruptor de R√°dio por Bot√£o üëÇüèª ‚ôçÔ∏è üôáüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="H√° muito que sonhava em instalar um comutador de toque em casa, um sonho tornado realidade quando me deparei com um comutador de toque barato da FD El...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Convertendo um Interruptor de R√°dio por Bot√£o</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zwave/blog/392857/"><img src="https://habrastorage.org/files/9ae/618/0f6/9ae6180f6c1b473096723fec1a723ce9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° muito que sonhava em instalar um comutador de toque em casa, um sonho tornado realidade quando me deparei com um comutador de toque barato da FD Electronics. Parece bonito, funciona muito bem. Mas isso √© apenas uma op√ß√£o, e eu tenho uma casa inteligente baseada no Z-Wave e, √© claro, queria integr√°-la ao meu sistema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A FD Electronics, Livolo e DeLumo possuem comutadores de r√°dio que operam nas frequ√™ncias de 433 MHz e 868 MHz, respectivamente, mas n√£o podem ser integrados a uma casa inteligente. Esses switches funcionam apenas com controles remotos dos mesmos fabricantes, n√£o h√° controle do computador, n√£o h√° feedback, ou seja, se algu√©m acender a luz, eu n√£o vou saber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi decidido atravessar o </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ouri√ßo com cobra</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meu interruptor de r√°dio com bot√£o de press√£o √© o Z-Wave.Me Dimmer com um interruptor de toque FD Electronics. Tendo estudado o circuito dos dois interruptores, decidi jogar fora a parte de energia do comutador de toque e usar apenas o corpo e o painel de toque, e retirar a parte de energia e r√°dio do meu comutador Z-Wave. A ess√™ncia da altera√ß√£o √© a substitui√ß√£o dos bot√µes mec√¢nicos pelo toque, este m√©todo √© adequado para qualquer troca de tecnologia.</font></font><br>
<br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O chip mais popular para criar um bot√£o de toque √© o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TTP-223</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A principal caracter√≠stica do TTP-223 √© a capacidade de calibrar automaticamente. Quando a energia √© aplicada, o microcircuito mede a capacit√¢ncia na perna do sensor </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e a leva para 0, o que √© conveniente, pois voc√™ n√£o precisa configurar nada. Ao tocar no sensor, a </font><font style="vertical-align: inherit;">tens√£o aparece </font><font style="vertical-align: inherit;">na perna </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , conectamos a carga l√° (LED, rel√©, acoplador √≥ptico). </font></font><br>
<img src="https://habrastorage.org/files/5cf/fae/2c0/5cffae2c02de4f15ba52058c3b5abc45.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os </font><b><font style="vertical-align: inherit;">p√©s </font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AHLB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ajustam a resposta ao toque no sensor. </font><b><font style="vertical-align: inherit;">Defino</font></b><font style="vertical-align: inherit;"> o modo ligado conectando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AHLB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao solo, o que significa que quando toco o sensor na perna </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando a tens√£o √© liberada, a tens√£o desaparece. Voc√™ tamb√©m pode configurar o modo de comuta√ß√£o, e cada toque coloca a perna </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no estado oposto. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o teste TTP-223 em uma placa de ensaio, montei um circuito de controle de rel√© para o Arduino. Isso funciona muito bem. </font></font><br>
<img src="https://habrastorage.org/files/1fb/570/5b4/1fb5705b422c4c75ab75da6fc3590e94.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para simular o pressionamento f√≠sico de bot√µes, usei o optocoupler </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PC817C</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Soldamos optoacopladores em vez de bot√µes no meu dimmer. Quando a tens√£o √© aplicada ao acoplador √≥ptico, ela fecha; para um redutor √© como se eles pressionassem um bot√£o. Utilizando LUT, foi feita uma placa adaptadora, por um lado, um circuito sensor, por outro, optoacopladores.</font></font><br>
<img src="https://habrastorage.org/files/a13/22a/9fe/a1322a9fe8b64784997a62872d4fbd69.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de conectar todo esse sandu√≠che, recebi um dimmer Z-Wave de toque. </font><font style="vertical-align: inherit;">Todos os testes e montagem duraram 14h. </font><font style="vertical-align: inherit;">O interruptor foi instalado no corredor, onde √© controlado por um sensor de movimento, e se voc√™ precisar desligar √† for√ßa ou ativar um certo n√≠vel de brilho, poder√° tocar facilmente na bela! </font></font><br>
<img src="https://habrastorage.org/files/63f/204/7d6/63f2047d68e84d4d94c5f544ab1884ff.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS. </font><font style="vertical-align: inherit;">Decidi usar a experi√™ncia adquirida para criar um comutador de toque alimentado por bateria e j√° solicitei um painel de toque de um comutador Livolo com aliexpress, mas mais sobre isso mais tarde.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt392857/">https://habr.com/ru/post/pt392857/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt392843/index.html">Que dist√¢ncia um carro aut√¥nomo tem que percorrer para provar sua confiabilidade</a></li>
<li><a href="../pt392845/index.html">A SpaceX enviou fotos do lan√ßamento mais bem sucedido da sonda Falcon 9 em sua hist√≥ria</a></li>
<li><a href="../pt392849/index.html">Espumas met√°licas podem proteger v√°rios tipos de radia√ß√£o e at√© parar balas perfurantes</a></li>
<li><a href="../pt392851/index.html">Gar√ßons de rob√¥s causaram o fechamento de v√°rios restaurantes na China</a></li>
<li><a href="../pt392855/index.html">O futuro do armazenamento</a></li>
<li><a href="../pt392859/index.html">Rob√¥s roubam dinheiro de cart√µes banc√°rios russos</a></li>
<li><a href="../pt392861/index.html">Fabricamos cerveja em uma cafeteira</a></li>
<li><a href="../pt392863/index.html">Pequeno segredo do artista Alexei Leonov</a></li>
<li><a href="../pt392865/index.html">HMI FLProg + Nextion. Li√ß√£o 3</a></li>
<li><a href="../pt392867/index.html">–ö–∏—Ç–∞–π—Ü—ã –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ –î–ù–ö —ç–º–±—Ä–∏–æ–Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞ –≤–æ –≤—Ç–æ—Ä–æ–π —Ä–∞–∑</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>