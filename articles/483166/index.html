<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úèÔ∏è üë®‚Äçüë¶‚Äçüë¶ üêøÔ∏è Detecci√≥n autom√°tica de codificaci√≥n de texto üí± üíÇüèº üéæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduccion 


 Me gusta mucho la programaci√≥n, soy aficionado y la primera y √∫ltima vez que gan√© dinero en programaci√≥n en 1996. Pero a veces escrib...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Detecci√≥n autom√°tica de codificaci√≥n de texto</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483166/"><img src="https://habrastorage.org/webt/qf/ve/vy/qfvevyr3zqvd2fwh89fkdc0btxg.jpeg" alt="imagen"><br><h2 id="vvedenie">  Introduccion </h2><br><p>  Me gusta mucho la programaci√≥n, soy aficionado y la primera y √∫ltima vez que gan√© dinero en programaci√≥n en 1996.  Pero a veces escribo algo para automatizar las tareas cotidianas.  Hace aproximadamente un a√±o, se descubri√≥ el golang.  Como herramienta para crear utilidades, golang result√≥ ser muy conveniente.  Entonces </p><br><p>  Era necesario procesar una gran cantidad (m√°s de mil, y veo las sonrisas de un profesional) de archivos con informaci√≥n geof√≠sica especial.  El formato del archivo es texto, simple.  Si de repente te interesa, este es un <a href="http://www.cwls.org/las/" rel="nofollow">formato LAS</a> . <br>  El archivo LAS contiene encabezado y datos. </p><br><p> Los datos son pr√°cticamente CSV, solo delimitadores de tabulaci√≥n o espacios. </p><br><p>  Y el encabezado contiene una descripci√≥n de los datos y aqu√≠ generalmente contiene texto en ruso.  Este puede ser el nombre del campo, el nombre de los estudios registrados en un archivo, etc. </p><br><p>  Estos archivos se crearon en diferentes momentos y en diferentes programas, se trata del hecho de que una parte del archivo est√° codificada en CP1251 y otra parte en CP866.  Necesito procesar estos archivos, lo que significa entender.  Por lo tanto, era necesario determinar autom√°ticamente la codificaci√≥n del archivo. </p><br><p>  Como resultado, invent√≥ una bicicleta en Golang y, en consecuencia, naci√≥ una peque√±a biblioteca con la capacidad de detectar una p√°gina de c√≥digos. </p><a name="habracut"></a><br><p>  <i>Sobre codificaciones.</i>  <i>No hace mucho tiempo en habr hab√≠a un buen art√≠culo sobre codificaciones</i> <a href="https://habr.com/ru/post/478636/">C√≥mo funcionan las codificaciones de texto.</a>  <a href="https://habr.com/ru/post/478636/">¬øDe d√≥nde vienen los "cocodrilos"?</a>  <a href="https://habr.com/ru/post/478636/">Los principios de codificaci√≥n.</a>  <a href="https://habr.com/ru/post/478636/">Generalizaci√≥n y an√°lisis detallado:</a> <i>si desea comprender qu√© son los "huesos" o los "huesos", entonces vale la pena leerlos.</i> </p><br><p>  Al principio tir√© mi decisi√≥n.  Luego intent√© encontrar una soluci√≥n de trabajo lista para usar en Golang, pero fall√©.  Hab√≠a dos soluciones, pero ambas no funcionan. </p><br><ul><li>  El primer "fuera de la caja" - golang.org/x/net/html/charset function DetermineEncoding () </li><li>  Segunda biblioteca - saintfish / chardet en github </li></ul><br><p>  Ambos seguramente est√°n equivocados en algunas codificaciones.  El est√°ndar generalmente no puede determinar casi nada a partir de archivos de texto, es comprensible, se hizo para p√°ginas html. </p><br><p>  Cuando buscaba, a menudo me encontraba con utilidades listas para usar del mundo de Linux: <strong>enca</strong> .  Encontr√≥ su versi√≥n compilada para WIN32, versi√≥n 1.12.  Tambi√©n lo considerar√©, hay cosas divertidas all√≠.  Me disculpo de inmediato por mi completa ignorancia de Linux, lo que significa que probablemente hay m√°s soluciones que tambi√©n puede intentar atornillar al c√≥digo de Golang, ya no busqu√©. </p><br><h2 id="sravnenie-naydennyh-resheniy-na-avtoopredelenie-kodirovki">  Comparaci√≥n de soluciones encontradas para la autodetecci√≥n de codificaci√≥n </h2><br><p>  Prepar√≥ un cat√°logo de <a href="" rel="nofollow">datos de prueba softlandia \ cpd</a> con archivos en diferentes codificaciones.  El contenido de los archivos es muy corto y el mismo.  Una l√≠nea "ruso en la codificaci√≥n CodePageName".  Agregu√© archivos con una mezcla de codificaciones y algunos casos complejos e intent√© determinar. </p><br><p>  Creo que result√≥ divertido. </p><br><div class="scrollable-table"><table><thead><tr><th>  # # </th><th>  Codificaci√≥n </th><th>  html / charset </th><th>  pez santo / chardet </th><th>  softlandia / cpd </th><th>  enca </th></tr></thead><tbody><tr><td>  1 </td><td>  CP1251 </td><td>  windows-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  CP1251 </td></tr><tr><td>  2 </td><td>  CP866 </td><td>  windows-1252 </td><td>  windows-1252 </td><td>  CP866 </td><td>  CP866 </td></tr><tr><td>  3 </td><td>  KOI8-R </td><td>  windows-1252 </td><td>  KOI8-R </td><td>  KOI8-R </td><td>  KOI8-R </td></tr><tr><td>  4 4 </td><td>  ISO-8859-5 </td><td>  windows-1252 </td><td>  ISO-8859-5 </td><td>  ISO-8859-5 </td><td>  ISO-8859-5 </td></tr><tr><td>  5 5 </td><td>  UTF-8 con BOM </td><td>  utf-8 </td><td>  utf-8 </td><td>  utf-8 </td><td>  utf-8 </td></tr><tr><td>  6 6 </td><td>  UTF-8 sin BOM </td><td>  utf-8 </td><td>  utf-8 </td><td>  utf-8 </td><td>  utf-8 </td></tr><tr><td>  7 7 </td><td>  UTF-16LE con BOM </td><td>  utf-16le </td><td>  utf-16le </td><td>  utf-16le </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  8 </td><td>  UTF-16LE sin BOM </td><td>  windows-1252 </td><td>  ISO-8859-1 </td><td>  utf-16le </td><td>  <strong>desconocido</strong> </td></tr><tr><td>  9 9 </td><td>  UTF-16BE con BOM </td><td>  utf-16le </td><td>  utf-16be </td><td>  utf-16be </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  10 </td><td>  UTF-16BE sin BOM </td><td>  windows-1252 </td><td>  ISO-8859-1 </td><td>  utf-16be </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  11 </td><td>  UTF-32LE con BOM </td><td>  utf-16le </td><td>  utf-32le </td><td>  utf-32le </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  12 </td><td>  UTF-32LE sin BOM </td><td>  windows-1252 </td><td>  utf-32le </td><td>  utf-32le </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  13 </td><td>  UTF-32BE con BOM </td><td>  windows-1252 </td><td>  utf-32be </td><td>  utf-32be </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  14 </td><td>  UTF-32BE sin BOM </td><td>  windows-1252 </td><td>  utf-32be </td><td>  utf-32be </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  15 </td><td>  KOI8-R (SUPERIOR) </td><td>  windows-1252 </td><td>  KOI8-R </td><td>  KOI8-R </td><td>  <strong>CP1251</strong> </td></tr><tr><td>  16 </td><td>  CP1251 (SUPERIOR) </td><td>  windows-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  <strong>KOI8-R</strong> </td></tr><tr><td>  17 </td><td>  CP866 y CP1251 </td><td>  windows-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  desconocido </td></tr></tbody></table></div><br><h3 id="nablyudenie-1">  Observaci√≥n 1 </h3><br><p>  <strong>enca</strong> no determin√≥ la codificaci√≥n del archivo UTF-16LE sin la lista de materiales; esto es extra√±o, est√° bien.  Intent√© agregar m√°s texto, pero no obtuve el resultado. </p><br><h3 id="nablyudenie-2-problemy-s-kodirovkami-cp1251-i-koi8-r">  Observaci√≥n 2. Problemas con las codificaciones CP1251 y KOI8-R </h3><br><p>  L√≠neas 15 y 16. El comando enca tiene problemas. <br>  Aqu√≠ har√© una explicaci√≥n, el hecho es que las codificaciones CP1251 (tambi√©n conocido como Windows 1251) y KOI8-R est√°n muy cerca si consideramos solo los caracteres alfab√©ticos. </p><br><h4 id="tablica-cp-1251">  Tabla CP 1251 </h4><br><p><img src="https://habrastorage.org/webt/7g/fz/xw/7gfzxwkggre8ghkda0iwbddb2d0.png" alt="imagen"></p><br><h4 id="tablica-koi8-r">  Mesa KOI8-r </h4><br><p><img src="https://habrastorage.org/webt/_p/zy/9j/_pzy9joyqeddhtgjbqxahwg1cji.png" alt="imagen"></p><br><p>  En ambas codificaciones, el alfabeto est√° ubicado de <strong>0xC0</strong> a <strong>0xFF</strong> , pero donde una codificaci√≥n tiene letras may√∫sculas, la otra tiene min√∫sculas.  Aparentemente <strong>enca</strong> funciona en letras min√∫sculas.  Por lo tanto, si env√≠a la l√≠nea "STP" codificada en <em>CP1251 al</em> programa <strong>enca</strong> , decidir√° que es una l√≠nea "salvajemente" codificada en <em>KOI8-r</em> , que se informar√°.  El reverso tambi√©n funciona. </p><br><h3 id="nablyudenie-3">  Observaci√≥n 3 </h3><br><p>  La biblioteca est√°ndar <em>html / charset</em> solo se puede confiar con una definici√≥n <strong>UTF-8</strong> , ¬°pero tenga cuidado!  Debe usarse exactamente <em>charset.DetermineEncoding ()</em> , ya que el <em>m√©todo utf8.Valid (b [] byte)</em> en <strong>archivos codificados utf-16be</strong> devuelve <em>verdadero</em> . </p><br><h2 id="sobstvennyy-velosiped">  Bicicleta propia </h2><br><p><img src="https://habrastorage.org/webt/r2/2k/di/r22kdit6akwh4zq5sf1mexbka3c.jpeg" alt="imagen"></p><br><p>  La autodetecci√≥n de codificaci√≥n solo es posible por m√©todos heur√≠sticos, inexactos.  Si no sabemos en qu√© idioma y en qu√© codificaci√≥n est√° escrito el archivo de texto, entonces es posible determinar la codificaci√≥n con alta precisi√≥n, pero ser√° dif√≠cil ... y necesitar√° mucho texto. </p><br><p>  Para m√≠, este objetivo no estaba establecido.  Es suficiente para m√≠ determinar las codificaciones bajo el supuesto de que hay ruso.  Y en segundo lugar, debe determinar mediante un peque√±o n√∫mero de caracteres: 10 caracteres deben tener una definici√≥n bastante segura, y preferiblemente 5-6 caracteres en general. </p><br><h3 id="algoritm">  Algoritmo </h3><br><p>  Cuando descubr√≠ la coincidencia de las codificaciones KOI8-r y CP1251 por la ubicaci√≥n del alfabeto, estuve triste por un par de d√≠as ... qued√≥ claro que ten√≠a que pensar un poco.  Result√≥ as√≠. </p><br><p>  Decisiones clave: </p><br><ol><li>  Trabajaremos con una porci√≥n de bytes, por compatibilidad con charset.DetermineEncoding () </li><li>  La codificaci√≥n UTF-8 y los casos de BOM se verifican por separado </li><li>  Los datos de entrada se pasan a su vez a cada codificaci√≥n.  Cada uno calcula dos criterios enteros.  Cuya suma de dos criterios es mayor, gan√≥. </li></ol><br><h3 id="kriterii-sootvetstviya">  Criterios de cumplimiento </h3><br><h4 id="pervyy-kriteriy">  Primer criterio </h4><br><p>  El primer criterio es el n√∫mero de las letras m√°s populares del alfabeto ruso. </p><br><p>  Las letras m√°s comunes son: <strong>o, e, a, y, n, t, s, p, b, l, k, m, d, p, y</strong> .  Estas cartas dan una cobertura del 82%.  Para todas las codificaciones, excepto KOI8-r y CP1251, utilic√© solo las primeras 9 letras: o, e, a y, n, t, s, p, c.  Esto es suficiente para una determinaci√≥n confiable. </p><br><p>  Pero para KOI8-r y CP1251 tuve que modificar el archivo.  Los c√≥digos de algunas de estas letras coinciden, por ejemplo, la letra <strong>o</strong> tiene el c√≥digo 0xEE en CP1251, mientras que en KOI8-r este c√≥digo tiene la letra <strong>n</strong> .  Se tomaron las siguientes letras populares para estas codificaciones.  Para CP1251 us√© a, y, n, c, p, b, l, k, i.  Para KOI8-r - o, a, u, t, s, b, l, k, m. </p><br><h4 id="vtoroy-kriteriy">  Segundo criterio </h4><br><p>  Desafortunadamente, para casos muy cortos (la longitud total del texto en ruso es de 5-6 caracteres), la aparici√≥n de letras populares est√° en el nivel de 1-3 piezas y hay una superposici√≥n de las codificaciones KOI8-r y CP1251.  Tuve que introducir un segundo criterio.  <strong>Consonante + recuento de vocales</strong> . <br>  Se espera que tales combinaciones ocurran con mayor frecuencia en el idioma ruso y, en consecuencia, en esa codificaci√≥n en la que el n√∫mero de tales pares es mayor, esa codificaci√≥n tiene un criterio m√°s amplio. </p><br><p>  Ambos criterios se calculan, se suman y la cantidad recibida es el criterio final. <br>  El resultado se muestra en la tabla anterior. </p><br><h2 id="osobennosti-s-kotorymi-ya-stolknulsya">  Caracter√≠sticas que encontr√© </h2><br><p>  Un peque√±o toque en los encantos y problemas asociados con golang.  La secci√≥n puede ser interesante solo para principiantes para escribir en golang. </p><br><h3 id="problemy">  Los problemas </h3><br><p>  Camin√© personalmente por algunas de las piedras subacu√°ticas de las <a href="https://habr.com/ru/company/mailru/blog/314804/">50 sombras de Go: trampas, trampas y errores comunes para principiantes</a> . <br>  Demasiado preocupado e intentando soplar en el agua, al escuchar a otros sobre las terribles quemaduras de la leche, fue demasiado lejos al verificar el par√°metro de entrada del tipo io.Reader.  Verifiqu√© una variable como io.Reader con reflexi√≥n. </p><br><pre><code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//CodePageDetect - detect code page of ascii data from reader 'r' func CodePageDetect(r io.Reader, stopStr ...string) (IDCodePage, error) { if !reflect.ValueOf(r).IsValid() { return ASCII, fmt.Errorf("input reader is nil") } ...</span></span></code> </pre> <br><p>  Pero como result√≥ en mi caso, es suficiente para verificar cero.  Ahora todo es m√°s f√°cil </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CodePageDetect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(r io.Reader, stopStr ...</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IDCodePage, error)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">//test input interfase if r == nil { return ASCII, nil } //make slice of byte from input reader buf, err := bufio.NewReader(r).Peek(ReadBufSize) if (err != nil) &amp;&amp; (err != io.EOF) { return ASCII, err } ...</span></span></code> </pre> <br><p>  una llamada a bufio.NewReader (r) .Peek (ReadBufSize) pasa silenciosamente la siguiente prueba: </p><br><pre> <code class="go hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data *os.File res, err := CodePageDetect(data)</code> </pre> <br><p>  En este caso, Peek () devuelve un error. </p><br><p>  Una vez pis√≥ un rastrillo con la transferencia de matrices por valor.  Ligeramente est√∫pido al tratar de cambiar los elementos almacenados en el mapa, ejecut√°ndolos en el rango ... </p><br><h3 id="prelesti">  Delicias </h3><br><p>  Es dif√≠cil decir con exactitud si las manos temblorosas constantes de la interfaz y el compilador o el uso activo del rango, o todo junto, pero pr√°cticamente no hay incursiones para sacar el √≠ndice de los l√≠mites. </p><br><p>  Por supuesto, es muy agradable vivir con el recolector de basura.  Supongo que todav√≠a tengo que dominar el rastrillo de automatizar la asignaci√≥n / liberaci√≥n de memoria, pero hasta ahora la sonrisa tonta no sale de mi rostro. <br>  La mecanograf√≠a fuerte tambi√©n es una pieza de felicidad. </p><br><p>  Las variables que tienen un tipo de funci√≥n son, en consecuencia, una implementaci√≥n f√°cil de varios comportamientos para objetos del mismo tipo. </p><br><p>  Poco extra√±o tuvo que sentarse en el depurador, releer el c√≥digo generalmente da el resultado. </p><br><p>  El deleite de los cachorros de tener muchas herramientas listas para usar, es una sensaci√≥n maravillosa cuando el compilador, el idioma, la biblioteca y el c√≥digo IDE Visual Studio Code trabajan juntos en armon√≠a. </p><br><p>  Gracias <a href="https://habr.com/ru/users/falconandy/" class="user_link">falconandy</a> por los consejos constructivos y √∫tiles. <br>  Gracias a el </p><br><ol><li>  pruebas traducidas en <a href="https://github.com/stretchr/testify" rel="nofollow">testificar</a> y realmente se volvieron m√°s legibles </li><li>  pruebas fijas para rutas de archivos de datos para compatibilidad con Linux </li><li>  camin√≥ junto a un <a href="https://github.com/golangci/golangci-lint/releases" rel="nofollow">linter</a> , pero encontr√≥ un error real (maldita copia / pasado) </li></ol><br><p>  Sigo agregando pruebas, se revel√≥ un caso de no definir UTF16.  Actualizado  Ahora UTF16 y LE y BE se detectan incluso en ausencia de letras rusas </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/483166/">https://habr.com/ru/post/483166/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../483146/index.html">Conferencia DEFCON 27. Herramienta de pirater√≠a WiFi inal√°mbrica Kraken</a></li>
<li><a href="../483148/index.html">Discutimos gemelos digitales y simulaci√≥n con el fundador de una empresa de consultor√≠a.</a></li>
<li><a href="../483154/index.html">Gast√© $ 40 mil y arruin√© una gran idea para una startup</a></li>
<li><a href="../483156/index.html">Pon al gato de pie</a></li>
<li><a href="../483160/index.html">Space 2020: Marte, constelaciones de sat√©lites y nuevos cohetes</a></li>
<li><a href="../483168/index.html">C√≥mo hacer un bot que convierta una foto en un c√≥mic. Segunda parte Entrenamiento modelo</a></li>
<li><a href="../483170/index.html">Base de datos de Messenger (parte 2): particionamos "beneficio"</a></li>
<li><a href="../483172/index.html">¬øC√≥mo localizar una aplicaci√≥n o juego? Las diez principales fuentes gratuitas de aprendizaje electr√≥nico</a></li>
<li><a href="../483174/index.html">Grabe y transfiera sonido de un dispositivo a otro utilizando la Conectividad Multipeer</a></li>
<li><a href="../483176/index.html">Base de datos de Messenger (parte 1): dise√±amos el marco base</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>