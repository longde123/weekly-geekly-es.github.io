<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëºüèΩ üßú üì≠ IPMI-Technologie√ºbersicht üêæ üèπ üê§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um den Status der Serverplattform remote zu verwalten, verwenden Systemadministratoren und Ingenieure die IPMI-Technologie, die ihre Lebensdauer erheb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IPMI-Technologie√ºbersicht</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/selectel/blog/439834/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/73/nq/c6/73nqc65bgrd3ghytnkkexqrihyk.png" title="IPMI-Technologie√ºbersicht"></div><br>  Um den Status der Serverplattform remote zu verwalten, verwenden Systemadministratoren und Ingenieure die IPMI-Technologie, die ihre Lebensdauer erheblich vereinfacht.  Jetzt m√ºssen Sie nicht mehr jedes Mal zum Server laufen, um die Reset-Taste zu dr√ºcken. Sie k√∂nnen auf kritische Probleme rechtzeitig reagieren, w√§hrend Sie zu Hause auf einem bequemen Stuhl sitzen.  Dieser Artikel behandelt die grundlegenden Komponenten von IPMI und die Details der Funktionsweise der Technologie. <br><a name="habracut"></a><br><h2>  Was ist IPMI? </h2><br>  Das Akronym IPMI steht f√ºr Intelligent Platform Management Interface.  √úber IPMI k√∂nnen Sie eine Remoteverbindung zum Server herstellen und dessen Betrieb verwalten: <br><br><ul><li>  √úberwachen Sie den physischen Zustand der Ger√§te, indem Sie beispielsweise die Temperatur einzelner Systemkomponenten, die Spannungspegel und die L√ºfterdrehzahl √ºberpr√ºfen </li><li>  Stellen Sie den Server im automatischen oder manuellen Modus wieder her (Neustart des Remote-Systems, Ein- / Ausschalten, Laden von ISO-Images und Aktualisieren der Software). </li><li>  Peripherieger√§te verwalten </li><li>  F√ºhren Sie ein Ereignisprotokoll </li><li> Speichern Sie Informationen zu den verwendeten Ger√§ten </li></ul><br>  Angenommen, ein Techniker konfiguriert das Netzwerk auf dem Server neu, macht einen Konfigurationsfehler und verliert den Zugriff √ºber SSH.  Wie kann ich den Server jetzt "erreichen"?  Sie k√∂nnen eine Verbindung √ºber IPMI herstellen und die Einstellungen √§ndern. <br><br>  IPMI ist gut, da die oben genannten Funktionen unabh√§ngig vom Prozessor, BIOS oder Betriebssystem der verwalteten Plattform verf√ºgbar sind.  Sie k√∂nnen beispielsweise den Server remote neu starten, wenn das Betriebssystem einfriert, oder im Systemereignisprotokoll nach dem Grund f√ºr den CPU-Fehler suchen.  Sie k√∂nnen sogar einen ausgeschalteten Server verwalten - es reicht aus, wenn der Server mit dem Stromnetz verbunden ist. <br><br>  Nachdem der Server bereitgestellt und mit dem Netzwerk verbunden wurde, konfigurieren die Selectel-Ingenieure das BIOS und das IPMI.  Anschlie√üend k√∂nnen Sie den lauten Serverraum verlassen und die Ger√§te ferngesteuert konfigurieren.  Nach Abschluss der Ersteinrichtung k√∂nnen Selectel-Clients <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dedizierte</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">beliebige Konfigurationsserver</a> √ºber IPMI verwalten. <br><br><blockquote><h4>  Historischer Hintergrund </h4><br>  Die erste Version der IPMI v1.0-Spezifikation wurde 1998 von Intel, Dell, NEC und Hewlett-Packard gemeinsam entwickelt.  In der Praxis wurden Schwachstellen und Schwachstellen entdeckt, die in nachfolgenden Versionen von IPMI v1.5 und v2.0 behoben wurden. <br></blockquote><br>  Die IPMI-Spezifikation standardisiert die Kommunikationsschnittstelle und keine spezifische Implementierung in der Hardware, sodass f√ºr IPMI keine speziellen patentierten Ger√§te und bestimmte Mikrocontroller erforderlich sind.  Die Hersteller halten sich an die Spezifikationen und entwickeln ihre eigenen IPMI-Ger√§te, die in Serverplattformen eingebettet sind: <br><div class="scrollable-table"><table><tbody><tr><th align="left">  Hersteller </th><th align="left">  IPMI-basierte Technologie </th></tr><tr><td>  Cisco </td><td>  Cisco IMC (Integrated Management Controller) </td></tr><tr><td>  Dell </td><td>  iDRAC (Integrierte Dell Remote Access Card) </td></tr><tr><td>  HP </td><td>  iLO (Integrated Lights-Out) </td></tr><tr><td>  Ibm </td><td>  IMM (Integrated Management Module) </td></tr><tr><td>  Lenovo </td><td>  IMM (Integrated Management Module) </td></tr><tr><td>  Supermicro </td><td>  SIM (Supermicro Intelligent Management) </td></tr></tbody></table></div>  Unternehmen legen ihre Preise f√ºr die bereitgestellte Technologie fest.  Wenn die Kosten f√ºr die IPMI-Implementierung steigen, steigt der Servermietpreis, da dies direkt von den Kosten f√ºr Verbrauchsmaterialien abh√§ngt. <br><br>  Die L√∂sungen der Hersteller unterscheiden sich untereinander: <br><br><ul><li>  Sichtbarkeit von Ger√§testatusinformationen </li><li>  Ein eindeutiger Satz von Anwendungen zum Wiederherstellen des Serverzustands, wenn Komponenten ausfallen </li><li>  Die M√∂glichkeit, Statistiken √ºber alle Komponenten des Servers zu erfassen, einschlie√ülich der √ºber Erweiterungskarten PCI, NVM usw. verbundenen. </li><li>  Einsatz von Technologie nicht nur in Serverhardware, sondern auch bei normalen Computern √ºber PCI-Express-Erweiterungskarten </li></ul><br>  F√ºr eine komfortable Arbeit mit der Remote-Konsole und die rechtzeitige Benachrichtigung √ºber Probleme reicht die grundlegende IPMI-Funktionalit√§t aus. <br><br>  Obwohl Hersteller ein modifiziertes und √ºberarbeitetes IPMI bereitstellen, bleibt die Implementierung seiner Architektur √§hnlich.  Mal sehen, woraus die Technologie besteht, basierend auf der offiziellen Spezifikation von Intel. <br><br><h2>  Die Grundkomponenten eines IPMI </h2><br><h3>  Controller </h3><br>  Im Zentrum der Architektur steht das ‚ÄûGehirn‚Äú von IPMI, dem BMC-Mikrocontroller (Baseboard Management Controller).  Dadurch erfolgt die Remote-Serversteuerung.  Tats√§chlich ist BMC ein separater Computer mit Software und Netzwerkschnittstelle, der mit dem Motherboard verl√∂tet oder als Erweiterungskarte √ºber den PCI-Verwaltungsbus verbunden ist. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/9b/nl/cg9bnlv-oaiucugc4ugqqtbla6q.png" title="Kern-IPMI-Architektur"></div><br>  BMC wird √ºber die Standby-Spannung des Motherboards mit Strom versorgt, dh es funktioniert immer, unabh√§ngig vom Status des Servers. <br><br>  Sie k√∂nnen zus√§tzliche Management Controller (MCs) mit dem BMC verbinden, um die Funktionen der Basisverwaltung zu erweitern.  W√§hrend das Hauptsystem beispielsweise von BMC-Funktionen gesteuert wird, werden MCs angeschlossen, um verschiedene Subsysteme zu √ºberwachen: redundante Netzteile, RAID-Laufwerke, Peripherieger√§te. <br><br>  MCs werden mit eigenst√§ndigen Boards geliefert, die vom zentralen BMC getrennt sind. Deshalb werden sie auch als Satelliten-Controller bezeichnet.  Es kann mehrere zus√§tzliche Controller geben, aber der zentrale BMC ist einer. <br><br>  Die Steuerungen sind √ºber die IPMB-Schnittstelle (Intelligent Platform Management Bus - Intelligent Platform Management Bus) mit dem BMC verbunden.  IPMB ist ein auf I2C (Inter-Integrated Circuit) basierender Bus, √ºber den der BMC Steuerbefehle an verschiedene Teile der Architektur umleitet: <br><br><ul><li>  Kommuniziert mit zus√§tzlichen Controllern (MCs) </li><li>  Liest Sensordaten (Sensoren) </li><li>  Zugriff auf nichtfl√ºchtigen Speicher </li></ul><br>  Die IPMI-Architektur ist so implementiert, dass der Remoteadministrator keinen direkten Zugriff auf Systemkomponenten hat.  Um beispielsweise Daten von Sensoren zu empfangen, sendet der Remote-Administrator einen Befehl an das BMC, und das BMC verweist wiederum auf die Sensoren. <br><br>  Zus√§tzlich zum Senden von Befehlen an das BMC k√∂nnen Sie die automatische Ausf√ºhrung von Aktionen durch die Steuerung mithilfe der folgenden Mechanismen konfigurieren: <br><div class="scrollable-table"><table><tbody><tr><td width="150">  <strong>PEF (Platform Event Filtering)</strong> </td><td>  Das BMC speichert eine Ereignistabelle mit Informationen dar√ºber, auf welche Ereignisse reagiert werden soll und welche Ma√ünahmen ergriffen werden m√ºssen.  Wenn der BMC eine Ereignismeldung empf√§ngt, vergleicht er die Daten mit der Tabelle und w√§hlt aus, wie auf das Ereignis reagiert werden soll. <br>  Die Reaktion umfasst Aktionen wie Herunterfahren, Neustarten des Systems und Generieren einer Warnung <br></td></tr><tr><td width="150">  <strong>Watchdog-Timer</strong> </td><td>  Der Timer ist so konfiguriert, dass er nach einem bestimmten Zeitraum eine Aktion ausf√ºhrt.  Zu den Aktionen geh√∂ren Herunterfahren, Neustarten des Servers und Unterbrechen von Prozessen.  Wenn Sie den Timeout-Wert auf 0 setzen, wird die Aktion sofort ausgef√ºhrt. <br>  Abh√§ngig von der Implementierung kann Watchdog das System einmal in einem bestimmten Zeitintervall nach dem Status abfragen.  Wenn das System nicht reagiert (z. B. wenn es h√§ngt), wird eine Aktion gestartet <br></td></tr><tr><td width="150">  <strong>Firmware-Firewall</strong> </td><td>  Einige auf einem eigenst√§ndigen Server implementierte BMC-Aktionen k√∂nnen den Betrieb modularer Plattformen (z. B. eines Blade-Servers) st√∂ren.  Um m√∂gliche Probleme zu vermeiden, erm√∂glicht die Firewall dem BMC, Einstellungen, IPMI-Befehle und Schreibvorg√§nge √ºber die Systemschnittstelle zu blockieren. <br>  Die Firewall enth√§lt auch eine Reihe von Befehlen, mit denen Sie herausfinden k√∂nnen, welche Befehle und Verwaltungsfunktionen f√ºr eine bestimmte Plattform verf√ºgbar sind <br></td></tr></tbody></table></div><div style="text-align:center;"><img src="https://habrastorage.org/webt/a1/wo/_d/a1wo_diiljezc-ouxrb45ualrng.png" title="PEF- und Watchdog-Timer-Einstellungen im Server-BIOS"></div><br><h3>  Nichtfl√ºchtige Lagerung </h3><br>  Nichtfl√ºchtiger Speicher bleibt auch dann verf√ºgbar, wenn die Server-CPU beispielsweise √ºber ein lokales Netzwerk ausf√§llt.  besteht aus drei Bereichen: <br><br><ul><li>  Systemereignisprotokoll (SEL) - Systemereignisprotokoll </li><li>  Sensor Data Record (SDR) Repository - Ein Repository, in dem Sensordaten gespeichert werden </li><li>  Informationen zu vor Ort austauschbaren Einheiten (FRUs) - Inventarinformationen zu Systemmodulen </li></ul><br>  Systemmodule generieren (Ereignisgenerator) oder empfangen (Ereignisempf√§nger) Ereignisse.  MCs fungieren als Ereignisgeneratoren, und BMCs in einer Architektur k√∂nnen beide Rollen spielen.  Der BMC empf√§ngt Ereignismeldungen √ºber die Systemschnittstelle und IPMB und protokolliert sie dann im Systemereignisprotokoll (SEL). <br><br>  F√ºr die Implementierung von SEL gelten verbindliche Anforderungen: <br><br><ul><li>  SEL speichert mindestens 16 Ereignisse im Speicher </li><li>  Auf in SEL gespeicherte Informationen kann unabh√§ngig vom BMC-Zugriff und dem Status der verwalteten Plattform zugegriffen werden </li></ul><br>  IPMI-Befehle lesen und l√∂schen SEL.  Da der SEL-Speicher begrenzt ist, muss das Protokoll regelm√§√üig √ºberpr√ºft und bereinigt werden, damit neue Ereignisse aufgezeichnet werden.  In den BMC-Einstellungen k√∂nnen Sie die automatische SEL-Reinigung konfigurieren.  Die automatische Bereinigung auf verschiedenen Plattformen erfolgt auf unterschiedliche Weise: L√∂schen alter Datens√§tze, um neue zu f√ºllen, oder L√∂schen der gesamten Geschichte. <br><br>  Die Ereignismeldung enth√§lt Informationen aus den Bereichen SDR-Repository und FRU-Informationen. <br><br>  SDR-Aufzeichnungen sind Daten √ºber die Art und Anzahl der Sensoren, ihre F√§higkeit, Ereignisse zu generieren, und Arten von Messwerten.  SDRs enthalten auch Aufzeichnungen √ºber die Anzahl und den Typ der mit IPMB verbundenen Ger√§te.  SDR-Datens√§tze werden in einem Speicherbereich gespeichert, der als SDR-Repository (Sensor Data Records Repository) bezeichnet wird. <br><br>  FRU-Datens√§tze enthalten Informationen zu Seriennummern und Teilemodellen verschiedener Systemmodule - Prozessor, Speicherkarte, E / A-Karte, Controller. <br><br>  FRU-Informationen k√∂nnen √ºber MC (IPMI-Befehle) oder √ºber den Zugriff auf nichtfl√ºchtige Speicherchips SEEPROM (Serial Electrically Erasable Programmable Read Only Memory) bereitgestellt werden, die √ºber den Private Management Bus verbunden sind.  Die Controller kommunizieren √ºber diesen Bus √ºber I2C-Befehle auf niedriger Ebene mit Ger√§ten, die keine IPMI-Befehle unterst√ºtzen. <br><br><blockquote><h4>  Praktische Anwendung </h4><br><p>  Angenommen, ein Client beschwert sich √ºber das Einfrieren des Servers, aber in den Protokollen des Betriebssystems ist alles in Ordnung.  Wir sehen uns SEL an - wir sehen Fehler in einem der RAM-Steckpl√§tze, die die Informationen √ºber den Steckplatz anzeigen, in dem er sich befindet.  √Ñndern - Der Server beginnt wie eine Uhr zu arbeiten. </p></blockquote><br>  Oben haben wir die Grundmodule der IPMI-Architektur untersucht.  Schauen wir uns nun die Struktur der √ºbertragenen Befehle an und sehen, welche Schnittstellen f√ºr die Remoteverbindung verwendet werden. <br><br><h2>  IPMI-Befehlsstruktur </h2><br>  IPMI sendet Anforderungs-Antwort-Nachrichten.  Anfragen sind Befehle.  Befehle initiieren Aktionen und setzen Werte.  Das Request-Response-Format erm√∂glicht die gleichzeitige Kommunikation mehrerer Controller auf demselben Bus. <br><br>  IPMI-Nachrichten enthalten einen grundlegenden Satz von Feldern, die allen Befehlen gemeinsam sind: <br><br><ul><li>  <strong>Die Netzwerkfunktion (NetFn)</strong> weist dem Befehl den Wert des Clusters zu, zu dem der Befehl geh√∂rt <strong>(Geh√§usebefehle</strong> , Ereignisse, Speicher usw.). </li><li>  Das Feld <strong>Anforderungs- /</strong> Antwortkennung wird ben√∂tigt, um zwischen Anforderungen und Antworten zu unterscheiden </li><li>  <strong>Anforderer-ID</strong> - Informationen zur Quelle der Nachricht.  F√ºr IPMB enthalten diese Informationen beispielsweise die LUN (Logical Unit Number) des Ger√§ts </li><li>  <strong>Die ID</strong> des Antwortenden adressiert die Anfrage an den gew√ºnschten Antwortenden </li><li>  <strong>Befehl</strong> - einzigartig innerhalb des Netzwerkfunktionsteams </li><li>  <strong>Daten</strong> - zus√§tzliche Parameter (z. B. in der Antwort zur√ºckgegebene Daten) </li></ul><br>  Dar√ºber hinaus √ºbergibt die Antwort immer den Abschlusscode, der das Ergebnis des Befehls meldet.  Wenn w√§hrend der Ausf√ºhrung der Anforderung ein Fehler auftritt, wird ein dem Ereignis entsprechender Code ungleich Null gesendet. <br><br>  Die Kan√§le, √ºber die Nachrichten √ºbertragen werden, k√∂nnen mit den entsprechenden Schnittstellen in drei Kategorien unterteilt werden: <br><br><ul><li>  BMC - MCs, Sensoren, Speicher (IPMB) </li><li>  BMC - Managed Platform (Systemschnittstelle) </li><li>  BMC - Remote Administrator (LAN, serielle Schnittstelle) </li></ul><br>  In diesem Modell kann BMC als ein Switch betrachtet werden, der Systemschnittstellen miteinander verbindet (in der Terminologie der Spezifikation - Bridging): <br><br><ul><li>  Seriell ‚Üî IPMB </li><li>  Seriell ‚Üî Systemschnittstelle </li><li>  LAN ‚Üî IPMB </li><li>  LAN ‚Üî Systemschnittstelle </li><li>  Seriell ‚Üî PCI-Verwaltungsbus </li><li>  LAN ‚Üî PCI-Verwaltungsbus </li><li>  Andere Kombinationen, einschlie√ülich Serial ‚Üî LAN </li></ul><br>  Bei der Bereitstellung √ºber verschiedene Architekturschnittstellen wird der Basissatz von Feldern durch Kanalnummern und Frames erg√§nzt.  Das IPMB-Protokoll f√ºgt beispielsweise Adressfelder und Felder hinzu, um die Integrit√§t der √ºbertragenen Daten zu √ºberpr√ºfen, und das LAN kapselt IPMI-Befehle in UDP / IP-Paketen. <br><br><h2>  RAS-Schnittstellen </h2><br>  In der ersten Version von IPMI war die Remote-Konsole √ºber eine serielle Schnittstelle (Serial Interface) mit dem BMC-Modul verbunden.  Die IPMI v2.0-Spezifikation basiert auf der Verwendung einer Netzwerkschnittstelle (LAN-Schnittstelle). <br><br>  Die LAN-Schnittstelle wird √ºber einen dedizierten BMC-Netzwerkport mit seiner IP-Adresse bereitgestellt.  Bei der √úbertragung von IPMI-Nachrichten √ºber LAN gibt es mehrere Kapselungsstufen: <br><br><ul><li>  IPMI-Nachrichten werden in IPMI-Sitzungspaketen generiert (sp√§ter in diesem Artikel werden wir uns die Bildung von IPMI-Sitzungen genauer ansehen). </li><li>  IPMI-Sitzungspakete werden mithilfe von RMCP (Remote Management Control Protocol) gekapselt. </li><li>  RMCP-Pakete bilden sich in UDP-Datagrammen </li><li>  Ethernet-Frames werden hinzugef√ºgt </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cp/ev/be/cpevbegml2-h-adycf_s_rb0b0g.png" title="Kapselung von IPMI-Nachrichten √ºber LAN"></div><br>  Die serielle Schnittstelle zum Anschlie√üen einer Remote-Konsole an BMC wird nicht mehr verwendet, wird jedoch zur Implementierung von zwei Funktionen ben√∂tigt: <br><br><ul><li>  Serielle Portfreigabe </li><li>  Serial-over-LAN (SoL) </li></ul><br>  Serielle Portfreigabe ist die M√∂glichkeit, einen gemeinsamen seriellen Anschluss zwischen seriellen BMCs und einem verwalteten System zu verwenden.  In der Regel wird die serielle Portfreigabe verwendet, um die BIOS-Konsolenumleitung zu implementieren, dh die BIOS-Konsole zum BMC-Modul umzuleiten. <br><br>  Serial-over-LAN wird ben√∂tigt, um mit Systemkomponenten zu interagieren, die nur eine serielle Kommunikationsschnittstelle verstehen.  Sie k√∂nnen Befehle auch von der Serverkonsole direkt an die Serverger√§te (Chips, Karten, Festplatten usw.) senden.  SoL ist so implementiert, dass es in Verbindung mit der Funktion zur gemeinsamen Nutzung serieller Ports funktioniert. <br><br><h2>  Sitzung und Authentifizierung </h2><br>  Bei LAN und serieller Schnittstelle geht dem Beginn der √úbertragung von IPMI-Nachrichten der Aufbau einer Sitzung voraus, in der IPMI-Sitzungsdatenpakete generiert werden. <br><br>  Der Sitzungsaufbau ist die Authentifizierung eines bestimmten Benutzers.  Die Sitzung muss vor dem Senden von IPMI-Nachrichten gem√§√ü dem folgenden Algorithmus aktiviert werden: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vn/wx/xb/vnwxxbr_mrmg2czetphqhhdo8ha.png" title="Sitzungsaktivierungsalgorithmus"></div><br><ol><li>  Die Remote-Konsole fordert Authentifizierungsdaten von BMC an </li><li>  BMC sendet eine Antwort zu unterst√ºtzten Authentifizierungstypen (keine, Kennwort-, MD2- und MD5-Algorithmen usw.). </li><li>  Die Remote-Konsole sendet einen Befehl √ºber den ausgew√§hlten Authentifizierungstyp und sendet die Benutzeranmeldung </li><li>  Wenn der Benutzer √ºber Kanalzugriffsrechte verf√ºgt, sendet der BMC eine Antwort mit der Sitzungs-ID.  Dank der Zuweisung der ID k√∂nnen mehrere Sitzungen gleichzeitig auf einem Kanal arbeiten (gem√§√ü den Anforderungen der Spezifikation - mindestens vier Sitzungen gleichzeitig). </li><li>  Die Remote-Konsole sendet eine Sitzungsaktivierungsanforderung.  Die Anforderung enth√§lt eine Sitzungs-ID und Authentifizierungsinformationen (Benutzername, Kennwort, Schl√ºssel - abh√§ngig vom ausgew√§hlten Authentifizierungstyp). </li><li>  BMC √ºberpr√ºft Benutzerinformationen, genehmigt die Sitzungs-ID und sendet eine Aktivierungsantwort </li></ol><br>  Sitzungen werden automatisch beendet, wenn w√§hrend des angegebenen Intervalls keine Aktion ausgef√ºhrt wird oder wenn die Verbindung getrennt wird. <br><br>  Der Zugriff auf das BMC kann blockiert werden, indem mehrere Anforderungen f√ºr die Sitzungsaktivierung gleichzeitig gesendet werden. Anschlie√üend werden alle Ressourcen zum Verfolgen von Sitzungen verwendet, f√ºr die eine Aktivierung erforderlich ist.  Um einen m√∂glichen Angriff zu verhindern, wird empfohlen, den LRU-Algorithmus (Last Recent Used) in der BMC-Implementierung zu verwenden.  Der Algorithmus best√§tigt eine Sitzungs-ID f√ºr die fr√ºheste Sitzungsaktivierungsanforderung.  Beispielsweise wird eine Remote-Konsole √ºber einen Browser in einer noVNC-Sitzung gestartet.  Wenn Sie mehrere Registerkarten mit laufenden Sitzungen √∂ffnen, ist die Texteingabe auf der fr√ºhesten ge√∂ffneten Registerkarte verf√ºgbar. <br><br><h2>  Wenn IPMI nicht mehr verf√ºgbar ist </h2><br>  IPMI hilft bei der Wiederherstellung des Serverzustands, wenn es abst√ºrzt.  Es kann jedoch vorkommen, dass das Fernbedienungssystem nicht mehr verf√ºgbar ist.  IPMI-St√∂rungen k√∂nnen in vier Kategorien unterteilt werden: <br><br><ul><li>  <strong>Auf Netzwerkebene.</strong>  Defekte Anschl√ºsse, nicht funktionierende Ger√§te, Kabelfehler, schlecht gekr√§useltes Twisted Pair </li><li>  <strong>Auf Software-Ebene.</strong>  Systemfehler, BMC-Modul h√§ngen, Modul-Firmware muss aktualisiert werden </li><li>  <strong>Auf Hardwareebene.</strong>  √úberhitzung, Ausfall kritischer Komponenten (Speicher, Prozessor), Fehler in der Systemarchitektur </li><li>  <strong>Auf der Ern√§hrungsebene.</strong>  Probleme mit BMC-Stromausfall oder Server-Stromversorgung </li></ul><br>  Diese Faktoren wirken sich sowohl auf den Betrieb von IPMI als auch auf den Server selbst aus.  Das BMC-Modul ist ein serverunabh√§ngiger Chip, und ein Ausfall dieses Mikrocontrollers weist in 90% der F√§lle auf einen Serverausfall hin. <br><br><h2>  IPMI in der Praxis </h2><br>  Sie k√∂nnen den Server √ºber IPMI √ºber einen Webbrowser, von Herstellern bereitgestellte Dienstprogramme und Open Source-Dienstprogramme verwalten. <br><br>  Jede IPMI-Implementierung verf√ºgt √ºber eine Webschnittstelle, das Zugriffsprinzip bleibt jedoch dasselbe: <br><br><ol><li>  Geben Sie die IP-Adresse des BMC-Ports in die Adressleiste ein </li><li>  Geben Sie Benutzername und Passwort ein.  Manchmal werden diese Informationen direkt auf dem Ger√§t angezeigt. </li></ol><br>  Bei Selectel arbeiten wir mit IPMI-Modulen von Intel, Asus und Supermicro.  Schauen Sie sich als Beispiel die Supermicro-Weboberfl√§che an: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vu/co/lk/vucolkwodmrg15iebjkl203onve.png" title="Supermicro Hardware Webinterface"></div><br>  Die Funktionen der Weboberfl√§che sind auch im grafischen Dienstprogramm Supermicro IPMIView implementiert: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4j/3j/ui/4j3juibaq0voyqkg-2szb0g1z1k.png" title="Supermicro IPMIView-Schnittstelle"></div><br>  Um die Ger√§te √ºber die Linux-Konsole zu verwalten, wird das entsprechende Dienstprogramm installiert (z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ipmitool</a> f√ºr die lokale und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Remoteverwaltung</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IPMICFG</a> f√ºr die lokale Verwaltung).  Anschlie√üend wird mithilfe von Konsolenbefehlen ein IPMI-Ger√§t hinzugef√ºgt und der BMC konfiguriert. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pl/qr/dy/plqrdy29gepw_xsjbqjfv9hp8og.png" title="Arbeiten Sie mit dem Dienstprogramm IPMICFG"></div><br>  Selectel-Clients verf√ºgen √ºber IPMI f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dedizierte</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">benutzerdefinierte Serverkonfigurationen</a> .  IPMI ist als KVM-Konsole implementiert, die in einer noVNC-Sitzung √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das Control Panel ausgef√ºhrt wird</a> .  Klicken Sie dazu auf der Karte mit Informationen zum Server auf das Konsolensymbol in der oberen rechten Ecke: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fz/4t/cs/fz4tcs6ukqpac3dvceah2vr26re.png" title="Serverinformationskarte"></div><br>  Die Konsole wird im Browser ge√∂ffnet und an die Bildschirmgr√∂√üe angepasst.  Auf Wunsch kann die Konsole auch √ºber ein Telefon oder Tablet verwendet werden. <br><br>  Die Sitzung wird unterbrochen, wenn Sie das Bedienfeld verlassen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/em/yz/mx/emyzmxitdb2egavs-w-oh2cjgve.png" title="KVM-Konsole, die in einer noVNC-Sitzung ausgef√ºhrt wird"></div><br><h2>  Fazit </h2><br>  IPMI ist eine vollst√§ndig autonome Komponente der Serverplattform, die nicht vom Betriebssystem, BIOS oder der Server-CPU abh√§ngt. <br><br>  Dank IPMI werden die Kosten f√ºr die Wartung von Serversystemen reduziert und die Lebensdauer von Systemadministratoren wird einfacher.  Es ist keine permanente Pr√§senz in der N√§he des Ger√§ts erforderlich - die Arbeit wird √ºber das Netzwerk ferngesteuert. <br><br>  In diesem Artikel haben wir die grundlegenden Komponenten von IPMI behandelt.  Die Details der Technologie sind jedoch sehr umfangreich.  Talentierte Entwickler, die sich auf die Spezifikation verlassen, k√∂nnen ihre IPMI-Ger√§te und Open-Source-Tools erstellen, gleichzeitig die M√§ngel der aktuellen Spezifikation beseitigen und neue M√∂glichkeiten f√ºr die Fernsteuerung er√∂ffnen. <br><br>  Im Artikel verwendete Materialien: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IPMI v2.0-Spezifikation</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Supermicro White Papers</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439834/">https://habr.com/ru/post/de439834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439818/index.html">Merkmale von Designans√§tzen im realen Fertigungssektor</a></li>
<li><a href="../de439822/index.html">Erstellen einer alternativen Anzeige f√ºr den Ensoniq EPS16 + und ASR10 Synthesizer / Sampler</a></li>
<li><a href="../de439824/index.html">Wann verschwinden JavaScript-Frameworks?</a></li>
<li><a href="../de439826/index.html">Analog deaktivieren. Was wird mit dem Fernsehen passieren?</a></li>
<li><a href="../de439830/index.html">Inside Quake: Immer Alternativen in Betracht ziehen</a></li>
<li><a href="../de439838/index.html">Honigarithmetik: Addition und Subtraktion durch Bienen</a></li>
<li><a href="../de439840/index.html">DUMP-2019-Konferenz: Wir laden Sie ein, in den Abschnitten Design, Management und Test zu sprechen</a></li>
<li><a href="../de439844/index.html">Warum machen Dodo Pizza 250 Entwickler?</a></li>
<li><a href="../de439848/index.html">Kein einziges VPN. Spickzettel, wie Sie sich und Ihre Daten sch√ºtzen k√∂nnen</a></li>
<li><a href="../de439850/index.html">Kontextuelle Emotionserkennung in Textkonversationen mit neuronalen Netzen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>