<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©â€ğŸš’ âœŠğŸ¼ ğŸ’¿ NB-IoT: comment Ã§a marche? 2e partie ğŸ§šğŸ» ğŸ¤œğŸ½ ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La derniÃ¨re fois, nous avons parlÃ© des caractÃ©ristiques de la nouvelle norme NB-IoT en termes d'architecture du rÃ©seau d'accÃ¨s radio. Aujourd'hui, nou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>NB-IoT: comment Ã§a marche? 2e partie</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/431648/">  <b>La derniÃ¨re fois, nous avons parlÃ© des caractÃ©ristiques de la nouvelle norme NB-IoT en termes d'architecture du rÃ©seau d'accÃ¨s radio.</b>  <b>Aujourd'hui, nous discutons de ce qui a changÃ© dans le rÃ©seau principal (Core Network) avec NB-IoT.</b>  <b>Alors allons-y.</b> <b><br></b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8bd/02e/574/8bd02e574b24c9955dc693bb5a5f3642.jpg" alt="image"><br><br>  Des changements importants ont eu lieu au cÅ“ur du rÃ©seau.  Pour commencer, un nouvel Ã©lÃ©ment est apparu, ainsi qu'un certain nombre de mÃ©canismes dÃ©finis par la norme comme Â«CIoT EPS OptimizationÂ» ou optimisation du rÃ©seau central pour l'Internet cellulaire des objets. <br><br>  Comme vous le savez, dans les rÃ©seaux mobiles, il existe deux principaux canaux de communication appelÃ©s Control Plane (CP) et User Plane (UP).  Le plan de contrÃ´le est conÃ§u pour l'Ã©change de messages de service entre divers Ã©lÃ©ments du rÃ©seau et sert Ã  fournir des dispositifs de mobilitÃ© (gestion de la mobilitÃ©) (UE) et Ã  Ã©tablir / maintenir une session de transfert de donnÃ©es (gestion de session).  Le plan utilisateur est, en fait, un canal de transmission du trafic utilisateur.  Dans le LTE classique, la distribution de CP et UP sur les interfaces est la suivante: <a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e6a/f57/257/e6af5725701496cca134e7fde45de5d5.png" alt="image"><br><br>  Les mÃ©canismes d'optimisation CP et UP pour NB-IoT sont implÃ©mentÃ©s sur les nÅ“uds MME, SGW et PGW, qui sont conditionnellement combinÃ©s en un seul Ã©lÃ©ment appelÃ© C-SGN (Cellular IoT Serving Gateway Node).  En outre, la norme suppose l'Ã©mergence d'un nouvel Ã©lÃ©ment de rÃ©seau - SCEF (Service Capability Exposure Function).  L'interface entre le MME et le SCEF est appelÃ©e T6a et est implÃ©mentÃ©e sur la base du protocole DIAMETER.  MalgrÃ© le fait que DIAMETER est un protocole de signalisation, dans NB-IoT il est adaptÃ© pour le transfert de petites quantitÃ©s de donnÃ©es non IP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d9/a36/d53/7d9a36d53e5fa359b1e7d02da98a0cfc.png" alt="image"><br><br>  BasÃ© sur le nom, SCEF est un site pour exposer les capacitÃ©s de service.  En d'autres termes, SCEF cache la complexitÃ© du rÃ©seau de l'opÃ©rateur et supprime Ã©galement le besoin d'identification et d'authentification des appareils mobiles (UE) des dÃ©veloppeurs d'applications, permettant aux serveurs d'applications (Application Server, ci-aprÃ¨s AS) de recevoir des donnÃ©es et de gÃ©rer les appareils via une seule API. <br><br>  L'identifiant de l'UE n'est pas un numÃ©ro de tÃ©lÃ©phone (MSISDN) ou une adresse IP, comme c'Ã©tait le cas sur le rÃ©seau 2G / 3G / LTE classique, mais le soi-disant Â«ID externeÂ», qui est dÃ©fini par la norme au format &lt;Local Identifier&gt; @ &lt;Domaine familier aux dÃ©veloppeurs d'applications Identifiant&gt; ".  Il s'agit d'un grand sujet distinct, qui mÃ©rite des informations distinctes. Par consÃ©quent, nous n'en parlerons pas en dÃ©tail maintenant. <br><br>  Nous allons maintenant traiter des innovations les plus importantes.  Â«CIoT EPS OptimizationÂ» est une optimisation des mÃ©canismes de transfert de trafic et de gestion des sessions abonnÃ©s.  En voici les principaux: <br><br><ul><li>  DoNAS </li><li>  Nidd </li><li>  MÃ©canismes d'Ã©conomie d'Ã©nergie PSM et eDRX </li><li>  Hlcom </li></ul><br>  <b>DoNAS (donnÃ©es sur NAS):</b> <br><br>  Il s'agit d'un mÃ©canisme conÃ§u pour optimiser le transfert de petites quantitÃ©s de donnÃ©es. <br><br>  Dans le LTE classique, une unitÃ© d'abonnÃ©, lors de son enregistrement dans le rÃ©seau, Ã©tablit une connexion PDN (ci-aprÃ¨s PDN) via eNodeB Ã  MME-SGW-PGW.  La connexion UE-eNodeB-MME est ce que l'on appelle le Â«porteur de signalisation radioÂ» (SRB).  S'il est nÃ©cessaire de transmettre / recevoir des donnÃ©es, l'UE Ã©tablit une autre connexion avec l'eNodeB - Â«Data Radio BearerÂ» (DRB), pour transmettre le trafic utilisateur Ã  SGW et ensuite Ã  PGW (interfaces S1-U et S5, respectivement).  Ã€ la fin de l'Ã©change et en l'absence de trafic pendant un certain temps (gÃ©nÃ©ralement 5 Ã  20 secondes), ces connexions sont dÃ©connectÃ©es et l'appareil passe en mode veille ou Â«Mode veilleÂ».  Si nÃ©cessaire, l'Ã©change d'une nouvelle donnÃ©e SRB et DRB est rÃ©installÃ©. <br><br>  Dans NB-IoT, le trafic utilisateur peut Ãªtre transmis via un canal de signalisation (SRB) dans les messages du protocole NAS ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://www.3gpp.org/more/96-nas</a> ).  L'installation de DRB n'est plus nÃ©cessaire.  Cela rÃ©duit considÃ©rablement la charge du signal, Ã©conomise les ressources radio du rÃ©seau et, surtout, prolonge la durÃ©e de vie de la batterie de l'appareil. <br><br>  Dans la section eNodeB - MME, les donnÃ©es utilisateur commencent Ã  Ãªtre transmises via l'interface S1-MME, ce qui n'Ã©tait pas le cas dans la technologie LTE classique, et le protocole NAS est utilisÃ© pour cela, dans lequel le Â«conteneur de donnÃ©es utilisateurÂ» apparaÃ®t. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b38/3ca/091/b383ca091aff5634b77f798c124ea537.png" alt="image"><br><br>  Pour transfÃ©rer le Â«plan utilisateurÂ» du MME vers le SGW, une nouvelle interface S11-U apparaÃ®t qui est conÃ§ue pour transfÃ©rer de petits volumes de donnÃ©es de melon utilisateur.  Le protocole S11-U est basÃ© sur GTP-U v1, qui est utilisÃ© pour transmettre le plan utilisateur sur d'autres interfaces du rÃ©seau d'architecture 3GPP. <br><img src="https://habrastorage.org/getpro/habr/post_images/291/414/312/2914143120918a42d83230b40eb7f4e1.png" alt="image"><br>  <b>NIDD (livraison de donnÃ©es non IP):</b> <br><br>  Dans le cadre d'une optimisation plus poussÃ©e des mÃ©canismes de transfert de petites quantitÃ©s de donnÃ©es, en plus des types existants de PDN, tels que IPv4, IPv6 et IPv4v6, un autre type est apparu - non IP.  Dans ce cas, l'UE ne se voit pas attribuer d'adresse IP et les donnÃ©es sont transmises sans utiliser le protocole IP.  Il y a plusieurs raisons Ã  cela: <br><br><ol><li>  Les appareils IoT, tels que les capteurs, peuvent transmettre de trÃ¨s petites quantitÃ©s de donnÃ©es, 20 octets ou mÃªme moins.  Ã‰tant donnÃ© que la taille minimale d'un en-tÃªte IP est de 20 octets, l'encapsulation dans IP peut parfois Ãªtre assez coÃ»teuse; </li><li>  Il n'est pas nÃ©cessaire d'implÃ©menter une pile IP dans la puce, ce qui conduit Ã  leur rÃ©duction de coÃ»t (question Ã  discuter dans les commentaires). </li></ol><br>  Dans l'ensemble, les appareils IoT ont besoin d'une adresse IP pour transmettre des donnÃ©es sur Internet.  Dans le concept de NB-IoT, SCEF agit comme un point de connexion unique pour AS, et l'Ã©change de donnÃ©es entre les appareils et les serveurs d'applications se fait via l'API.  En l'absence de SCEF, les donnÃ©es non IP vers l'AS peuvent Ãªtre transmises via le tunnel point Ã  point (PtP) Ã  partir de PGW et l'encapsulation en IP sera dÃ©jÃ  effectuÃ©e sur celui-ci. <br><br>  Tout cela s'inscrit dans le paradigme NB-IoT - la simplification maximale et la rÃ©duction des coÃ»ts des appareils. <br><br>  <b>MÃ©canismes d'Ã©conomie d'Ã©nergie PSM et eDRX:</b> <br><br>  L'un des principaux avantages des rÃ©seaux LPWAN est l'efficacitÃ© Ã©nergÃ©tique.  DÃ©clare jusqu'Ã  10 ans d'autonomie sur une seule batterie.  Voyons comment ces valeurs sont atteintes. <br><br>  Quand un appareil consomme-t-il le moins d'Ã©nergie?  Corrigez quand il est Ã©teint.  Et s'il est impossible de mettre complÃ¨tement hors tension l'appareil, dÃ©sactivons le module radio, alors qu'il n'est pas nÃ©cessaire.  Vous devez d'abord coordonner cela avec le rÃ©seau. <br><br>  <b>PSM (mode d'Ã©conomie d'Ã©nergie):</b> <br><br>  Le mode d'Ã©conomie d'Ã©nergie PSM permet Ã  l'appareil d'Ã©teindre le module radio pendant une longue pÃ©riode, tout en restant enregistrÃ© sur le rÃ©seau, et de ne pas rÃ©installer le PDN chaque fois que vous devez transfÃ©rer des donnÃ©es. <br><br>  Pour que le rÃ©seau sache que le pÃ©riphÃ©rique est toujours disponible, il lance pÃ©riodiquement la procÃ©dure de mise Ã  jour - Tracking Area Update (TAU).  La frÃ©quence de cette procÃ©dure est dÃ©finie par le rÃ©seau Ã  l'aide du temporisateur T3412, dont la valeur est transmise Ã  l'appareil lors de la procÃ©dure d'attachement ou du TAU suivant.  Dans le LTE classique, la valeur par dÃ©faut de cette minuterie est de 54 minutes et le maximum est de 186 minutes.  Cependant, pour assurer une efficacitÃ© Ã©nergÃ©tique Ã©levÃ©e, la nÃ©cessitÃ© de passer Ã  l'antenne toutes les 186 minutes est un plaisir trop cher.  Pour rÃ©soudre ce problÃ¨me, le mÃ©canisme PSM a Ã©tÃ© dÃ©veloppÃ©. <br><br>  L'appareil active le mode PSM en transmettant les valeurs de deux temporisateurs T3324 et T3412-Extended dans les messages Â«Attach RequestÂ» ou Â«Tracking Area RequestÂ».  Le premier dÃ©termine la durÃ©e de disponibilitÃ© de l'appareil aprÃ¨s le passage en "Mode veille".  Le second est le temps aprÃ¨s lequel le TAU doit Ãªtre produit, seulement maintenant sa valeur peut atteindre 35712000 secondes ou 413 jours.  En fonction des paramÃ¨tres, le MME peut accepter les valeurs de minuterie reÃ§ues de l'appareil ou les modifier en envoyant de nouvelles valeurs dans les messages Â«Attach AcceptÂ» ou Â«Tracking Area Update AcceptÂ».  Maintenant, l'appareil ne peut pas allumer le module radio pendant 413 jours et rester enregistrÃ© sur le rÃ©seau.  En consÃ©quence, nous rÃ©alisons d'Ã©normes Ã©conomies de ressources rÃ©seau et d'efficacitÃ© Ã©nergÃ©tique des appareils! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/454/acd/f5b/454acdf5be7596292b607513eeacaac7.png" alt="image"><br><br>  Cependant, dans ce mode, l'appareil n'est pas disponible uniquement pour les communications entrantes.  Si nÃ©cessaire, transfÃ©rez quelque chose du cÃ´tÃ© du serveur d'applications, l'appareil peut quitter le PSM Ã  tout moment et envoyer les donnÃ©es, aprÃ¨s quoi il reste actif pour que le temporisateur T3324 reÃ§oive des messages d'information de l'AS (le cas Ã©chÃ©ant). <br><br>  <b>eDRX (rÃ©ception discontinue Ã©tendue):</b> <br><br>  eDRX, rÃ©ception intermittente avancÃ©e.  Pour transfÃ©rer des donnÃ©es vers un appareil en "mode veille", le rÃ©seau effectue une procÃ©dure de notification - "Paging".  DÃ¨s rÃ©ception du dispositif de radiomessagerie, l'Ã©tablissement de SRB est Ã©tabli pour une communication ultÃ©rieure avec le rÃ©seau.  Mais pour ne pas rater le message Paging qui lui est adressÃ©, l'appareil doit surveiller en permanence la diffusion radio, qui est Ã©galement trÃ¨s consommatrice d'Ã©nergie. <br><br>  eDRX est un mode dans lequel l'appareil reÃ§oit des messages du rÃ©seau non pas constamment, mais pÃ©riodiquement.  Pendant les procÃ©dures Attach ou TAU, l'appareil nÃ©gocie avec le rÃ©seau les intervalles de temps pendant lesquels il Â«Ã©couteraÂ» l'air.  En consÃ©quence, la procÃ©dure de pagination sera effectuÃ©e aux mÃªmes intervalles.  En mode eDRX, l'appareil est divisÃ© en cycles (cycle eDRX).  Au dÃ©but de chaque cycle se trouve la Â«fenÃªtre de temps de paginationÂ» (PTW) - c'est le temps pendant lequel l'appareil Ã©coute le canal radio.  Ã€ la fin du PTW, l'appareil Ã©teint le module radio jusqu'Ã  la fin du cycle. <br><img src="https://habrastorage.org/getpro/habr/post_images/6db/904/b06/6db904b06c01b940885b43683cc8c905.png" alt="image"><br>  <b>HLCOM (communication Ã  latence Ã©levÃ©e):</b> <br><br>  S'il est nÃ©cessaire de transfÃ©rer des donnÃ©es vers Uplink, l'appareil peut quitter l'un de ces deux modes d'Ã©conomie d'Ã©nergie sans attendre la fin du cycle PSM ou eDRX.  Mais ici, il est possible de transfÃ©rer des donnÃ©es vers l'appareil uniquement lorsqu'il est actif. <br><br>  La fonctionnalitÃ© HLCOM ou la communication avec une latence Ã©levÃ©e est la mise en mÃ©moire tampon des paquets de liaison descendante sur SGW lorsque l'appareil est en mode d'Ã©conomie d'Ã©nergie et n'est pas accessible pour la communication.  Les paquets en mÃ©moire tampon seront livrÃ©s dÃ¨s que le pÃ©riphÃ©rique quitte le PSM en crÃ©ant une TAU ou en transmettant le trafic de liaison montante, ou lorsque le PTW arrive. <br><br>  Cela, bien sÃ»r, nÃ©cessite une prise de conscience de la part des dÃ©veloppeurs de produits IoT, car la communication avec l'appareil n'est pas obtenue en temps rÃ©el et nÃ©cessite une certaine approche de la conception de la logique mÃ©tier pour les applications. <br><br>  En conclusion, disons: l'introduction du nouveau est toujours excitante, et maintenant nous avons affaire Ã  une norme qui n'a pas Ã©tÃ© entiÃ¨rement testÃ©e mÃªme par les Â«bisonsÂ» du monde comme Vodafone et Telefonica - par consÃ©quent, elle est doublement excitante.  Notre prÃ©sentation du matÃ©riel ne prÃ©tend pas Ã  l'exhaustivitÃ© absolue, mais nous espÃ©rons qu'il fournira une comprÃ©hension suffisante de la technologie.  Des commentaires seraient apprÃ©ciÃ©s. <br><br>  <i>Auteur: Alexey Lapshin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">aslapsh,</a> expert en solutions convergentes et services multimÃ©dias</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431648/">https://habr.com/ru/post/fr431648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431636/index.html">Comment cÃ©lÃ©brer la journÃ©e de la sÃ©curitÃ© de l'information</a></li>
<li><a href="../fr431638/index.html">Comment nous sommes entrÃ©s dans le dÃ©partement de la sÃ©curitÃ© de l'information d'une grande entreprise et avons commencÃ© Ã  y travailler. Journal de deux jeunes spÃ©cialistes prometteurs</a></li>
<li><a href="../fr431642/index.html">Apiculteurs contre microcontrÃ´leurs ou avantages des erreurs</a></li>
<li><a href="../fr431644/index.html">Ligne droite avec TM. v4.0</a></li>
<li><a href="../fr431646/index.html">DataGrip 2018.3: prise en charge de Cassandra, gÃ©nÃ©ration de fichiers SQL Ã  partir d'objets, nombreuses amÃ©liorations de l'auto-complÃ©tion, et bien plus encore</a></li>
<li><a href="../fr431650/index.html">Apprentissage de la latence: thÃ©orie de la file d'attente</a></li>
<li><a href="../fr431652/index.html">Algorithme d'Ã©chantillonnage de rÃ©servoir</a></li>
<li><a href="../fr431654/index.html">Tendances des langages de programmation 2019</a></li>
<li><a href="../fr431656/index.html">CraSSh: casser tous les navigateurs modernes avec des calculs CSS</a></li>
<li><a href="../fr431660/index.html">FonctionnalitÃ©s du jeu utilisant ECS: ajoutez une trousse de premiers soins au tireur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>