<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÆ üïØÔ∏è üß£ Unterschiede zwischen Phoenix und Rails durch die Augen eines Konvertiten üêû üõÇ üë©‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Was den begeisterten Hackman am meisten beeindruckte, als er gerade anfing, Elixier bei Phoenix zu studieren. 

 Hinweis 


 Ich bin eine einfache Per...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unterschiede zwischen Phoenix und Rails durch die Augen eines Konvertiten</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423459/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/sv/xv/n3/svxvn3p0h86vabqr0a1mxbvxmfs.png" height="70%" width="70%"></div>  Was den begeisterten Hackman am meisten beeindruckte, als er gerade anfing, Elixier bei Phoenix zu studieren. <a name="habracut"></a><br><br><h2 id="primechanie">  Hinweis </h2><br><p>  Ich bin eine einfache Person und werde nicht tief gehen.  Daher wird es Unterschiede in der Ebene der arbeitenden Bauern geben, aber es wird nichts √ºber den Unterschied in der Ebene des Anwendungsstarts, √ºber die Funktionsprinzipien der virtuellen Erlang-Maschine und das OTP-Protokoll gesagt. </p><br><h2 id="glavnoe-vpechatlenie">  Haupteindruck </h2><br><p>  Elixir / Phoenix ist Rails sehr √§hnlich und gleichzeitig √ºberhaupt nicht wie er.  Wie einige englische S√§tze: Individuell sind die W√∂rter vertraut, aber zusammen ist es nicht klar. </p><br><h2 id="erlang-vs-ruby">  Erlang gegen Ruby </h2><br><p> In Rubel zu denken und zu versuchen, auf ein Elixier zu schreiben, ist schwer.  Regelm√§√üig geraten Sie in Sackgassen, weil das, was Sie wollen, v√∂llig anders gemacht wird als fr√ºher ... oder Sie wollen es √ºberhaupt nicht. </p><br><p> Im √úbrigen schreiben die Leute B√ºcher √ºber Erlang- und Ruby-Unterschiede, daher werde ich mich kurz fassen.  F√ºr mich waren die Haupt√ºberf√§lle der Ersatz von Schienen- ‚ÄûDampflokomotiven‚Äú durch Rohre, eine Neuorientierung des Denkens auf Funktionalismus (der Vorteil war <code>inject</code> alte Erfahrung und eine gemeinsame Liebe zu <code>foldr</code> / <code>foldr</code> ) und subjektiv strengere Anforderungen an Datentypen (obwohl offiziell) , beide Sprachen mit strikter dynamischer Typisierung). </p><br><p>  Der Mustervergleich √ºberraschte nicht und ich verstand immer noch nicht, warum so viel √ºber ihn geredet wurde.  Nur ein interessantes Werkzeug. </p><br><h2 id="obschiy-skoup">  Allgemeiner Geltungsbereich </h2><br><p>  In Elixir liegt alles in den Modulen.  Kein globaler Geltungsbereich.  Ruft C # auf. </p><br><p>  Mit anderen Worten: Die Schiene ist flach und beeintr√§chtigt an einigen Stellen die Erstellung einer Hierarchie (ich erinnere mich, dass es einmal Fehler mit Controllern gab, die in Modulen lagen).  Elixier - im Gegenteil, alles ist in Modulen.  In der Schiene k√∂nnen Sie den Zweck des Objekts anhand der √ºbergeordneten Klasse und im Elixier anhand des vollst√§ndigen Namens der Klasse / des Moduls erraten. </p><br><h2 id="kompiliruemost">  Kompilierbarkeit </h2><br><p>  Einerseits fehlte mir dies manchmal in der Schiene.  Da Sie eine gute H√§lfte der Fehler direkt beim Kompilieren finden k√∂nnen und nicht zur Laufzeit in der Produktion.  Die Kompilierung hingegen braucht Zeit.  Aber andererseits wird es ein wenig gebraucht, und ich habe noch keine gro√üen Projekte auf dem Elixier gesehen (und es ist nicht nach den Vorschriften von erlang, gro√üe Monolithen zu schreiben).  Um das Ganze abzurunden, haben die Elixier-Jungs den Code und die Seite dynamisch neu geladen.  Und bis jetzt w√§rmt die Geschwindigkeit der Arbeit, gepaart mit dem Mangel an gottlosem Zeus / Fr√ºhling, meine Seele. </p><br><p>  Dies f√ºhrt nat√ºrlich auch zu Nachteilen, aber sie kommen viel sp√§ter heraus.  Irgendwo im Bereich Produktionsumgebung und Bereitstellung.  Mehr dazu weiter unten. </p><br><p>  Hier ist ein interessanter Punkt, der auf der Schiene physisch nicht passieren kann: Migrationen und andere Dinge, die in Schienen √ºber <code>rake</code> in Elixier eine Kompilierung des Projekts erfordern, und so etwas kann passieren: Vergessen, Routen zu schreiben, der Pfadhelfer in der Ansicht verweist auf sie, aber die Migrationen fielen ab.  Zuerst - wild ungew√∂hnlich. </p><br><h2 id="dokumentaciya">  Die Dokumentation </h2><br><p>  Die Seite mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation des Elixiers</a> sieht viel kr√§ftiger aus als Rubidock und Apidok.  Aber hier ist die Menge an Dokumentation und Beispielen - hier liegt Ruby / Rails weit vorne.  Elixir fehlen Beispiele f√ºr alles, was etwas komplizierter ist als Hocker.  Und die Beschreibung einiger Methoden ging tats√§chlich nicht √ºber die Signatur hinaus.  Es war schwierig f√ºr mich, da ich es gewohnt war, mit einigen Elixiermethoden an einer F√ºlle von Beispielen und Beschreibungen zu reiben.  Manchmal musste ich lange herumst√∂bern und experimentieren, um zu verstehen, wie man diese oder jene Methode verwendet, weil ich die Sprache nicht so gut kenne, dass ich die Quellcodes der Pakete frei lesen kann. </p><br><h2 id="nezavisimost-raspolozheniya-fayla-ot-ego-soderzhimogo">  Unabh√§ngigkeit des Speicherorts von seinem Inhalt </h2><br><p>  Wie sie sagen "mit gro√üer Kraft geht gro√üe Verantwortung einher".  Einerseits k√∂nnen Sie eine Bacchanalia herstellen und Objekte so zerlegen, dass der Feind definitiv nicht vorbeikommt.  Auf der anderen Seite k√∂nnen Sie die Pfade logischer und klarer benennen und logische Ebenen von Verzeichnissen hinzuf√ºgen, die nicht in der Klassenhierarchie enthalten sind.  Insbesondere k√∂nnen wir uns an Wegbereiter und dergleichen mit der Idee erinnern, alles, was mit der Aktion zu tun hat, an einem Ort zu kombinieren.  Im Elixier kann dies ohne Bibliotheken und Klassenhaufen von Drittanbietern erfolgen, indem die vorhandenen Dateien einfach korrekt verschoben werden. </p><br><h2 id="prozrachnyy-put-zaprosa">  Transparenter Anforderungspfad </h2><br><p>  Wenn in Rails die Frage nach dem Rack ein unverzichtbares Attribut eines jeden Interviews ist, da die Schiene die Spitze des Eisbergs ist und Sie von Zeit zu Zeit Ihre Middleware herstellen m√∂chten.  Das im Elixier eines solchen Verlangens entsteht √ºberhaupt nicht (obwohl ich vielleicht noch jung bin und alles vor mir liegt).  Es gibt einen expliziten Satz von Pipelines, durch die die Anforderung geleitet wird.  Und dort k√∂nnen Sie deutlich sehen, wo die Sitzung abgerufen wird, wo Flash-Message verarbeitet wird, wo csrf validiert wird und all dies an einem Ort nach Belieben gesteuert werden kann.  In der Schiene ist diese ganze Farm teilweise genagelt und teilweise an verschiedenen Stellen verstreut. </p><br><h2 id="routy-naiznanku">  Routen von innen nach au√üen </h2><br><p>  In Rails ist eine Situation, in der eine Aktion in mehreren Formaten reagieren kann, die Norm.  Dort wird sogar <code>(.:format)</code> direkt in die Routen gelegt.  Im Elixier erscheint der Gedanke an ein Formatanalog aufgrund der oben erw√§hnten Eigenschaft mit der Pipeline √ºberhaupt nicht.  Unterschiedliche Formate gehen in unterschiedliche Pipelines und haben unterschiedliche URLs.  F√ºr mich ist es so gesund. </p><br><h2 id="shema-v-modeli">  Schaltung im Modell </h2><br><p>  Dies ist im Allgemeinen ein M√§rchen.  Wenn Sie die Felder des Modells beschreiben, wird es so sein.  Keine implizite Besetzung von Typen.  Au√üerdem gibt es keine Kr√ºcken, um den Zugriff auf das Feld in der Datenbank einzuschr√§nken. Aus irgendeinem Grund kann es jedoch nicht in einer Webanwendung verwendet werden. </p><br><h2 id="validacii-i-kolbeki">  Validierungen und R√ºckrufe </h2><br><p>  Das Elixier enth√§lt keine R√ºckrufe.  Dort ist alles einfacher.  Und ich denke ich mag es. </p><br><p>  Anstelle des Rails-Way im Elixier- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√Ñnderungssatz</a> , der strong_parameters, Validierungen und einige R√ºckrufe kombiniert.  Der Rest der R√ºckrufe erfolgt √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multi</a> , wodurch eine Reihe von Vorg√§ngen erfasst, transaktional ausgef√ºhrt und das Ergebnis verarbeitet werden kann. </p><br><p>  Kurz gesagt, alles ist einfach anders.  Das ist zun√§chst ungew√∂hnlich.  Dann macht es mich an manchen Stellen w√ºtend, weil Sie nicht einfach f√ºr alles einen weiteren R√ºckruf anbringen k√∂nnen und nicht an verschiedene Gesch√§ftsf√§lle denken.  Und dann merkt man den <a href="">‚Äûunerkl√§rlichen Charme‚Äú</a> , weil man es richtig machen muss und nicht mehr so ‚Äã‚Äãwie fr√ºher. </p><br><h2 id="rabota-s-bd">  Arbeiten Sie mit einer DB </h2><br><p>  Anstelle von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ActiveRecord</a> erschienen einige <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ecto.Repo</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ecto.Query</a> und einige weitere ihrer Br√ºder.  Alle Unterschiede zu erkl√§ren, ist ein separater Artikel.  Daher werde ich die wichtigsten subjektiven Empfindungen sagen. </p><br><p>  Im Debug bequemer als AR.  Da es einen allgemeinen Bereich gibt, werden die Konstanten aus dem <code>User.where(email: 'Kane@nod.tb').order(:id).first</code> beim Zugriff geladen und Sie k√∂nnen einfach die <code>rails c</code> √∂ffnen, <code>User.where(email: 'Kane@nod.tb').order(:id).first</code> schreiben <code>User.where(email: 'Kane@nod.tb').order(:id).first</code> und das Ergebnis erhalten. </p><br><p>  In Elixir reicht die Konsole nicht aus.  Eine Reihe von Ma√ünahmen muss durchgef√ºhrt werden: </p><br><ul><li>  Importieren einer Methode zum Erstellen einer SQL-Abfrage: <code>import Ecto.Query, only: [from: 2]</code> ; </li><li>  F√ºgen Sie Klassen hinzu, um zu vermeiden, dass die vollst√§ndigen Namen angegeben werden: <br><ul><li>  <code>alias MyLongApplicationName.User</code> - um <code>User</code> anstelle von <code>MyLongApplicationName.User</code> zu schreiben; </li><li>  <code>alias MyLongApplicationName.Repo</code> - √§hnlich f√ºr den Zugriff auf eine Klasse, die SQL ausf√ºhren und Ergebnisse zur√ºckgeben kann; </li></ul></li><li>  und erst jetzt k√∂nnen Sie schreiben <code>from(u in User, where: u.email == "Kane@nod.tb") |&gt; Repo.one</code> </li></ul><br><p>  Auf der anderen Seite ergeben diese ‚ÄûFormalit√§ten‚Äú im Anwendungscode einen besser lesbaren Code, und es besteht das Gef√ºhl, dass Sie die Kontrolle √ºber das Geschehen haben und nicht, dass es sein eigenes Leben f√ºhrt.  Das hei√üt, Sie w√§hlen aus, welche Methoden, Modelle und anderen Objekte Sie bearbeiten m√∂chten, laden sie explizit und verwenden sie. </p><br><h2 id="nazvanie-prilozheniya">  Anwendungsname </h2><br><p>  Im Bild und in der Abbildung von Rails habe ich angenommen, dass der Anwendungsname in zwei Konfigurationen verwendet wird, und das war's.  Daher habe ich nicht auf die L√§nge des Namens geachtet.  Aber vergebens.  In Elixir ist das Modul mit dem Namen der Anwendung die oberste Ebene in der Hierarchie der Module der Webanwendung und wird √ºberall angezeigt. </p><br><p>  Ich rief meine Sandbox Comindivion an.  Und jetzt leide ich ein wenig, da dies ein ziemlich langer Name ist und Sie ihn st√§ndig schreiben m√ºssen.  Sowohl in Klassendateien als auch in der Konsole, wenn etwas aufgerufen wird.  √úbrigens, ja, wen interessiert das, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier ist die Sandbox auf GitHub</a> . </p><br><h2 id="n1">  N + 1 </h2><br><p>  In Rails haben wir es sofort einsatzbereit, aber in Elixir out of the box gibt es kein solches Problem.  Dort k√∂nnen Sie in der Anforderungsassemblierungsphase angeben, welche Beziehungen ben√∂tigt werden, und diese werden w√§hrend der Ausf√ºhrung dieser Anforderung geladen.  Nicht hochgeladen?  Sie haben keinen Zugriff auf diese relationale.  Alles ist einfach und sch√∂n. </p><br><h2 id="obrabotka-zaprosa-i-otvet-na-nego">  Anfragebearbeitung und Antwort </h2><br><p>  Kurzum: Im Ph√∂nix ist alles offensichtlicher als in der Schiene. </p><br><h3 id="vezde-conn">  √úberall conn </h3><br><p>  Da der Status nicht in einem Haufen verschiedener Objekte gespeichert ist, muss er in einem Objekt mitgeschleppt werden.  Erinnert die <code>request</code> von <code>ActionController</code> nur umfassender.  Er wird in Phoenix <code>connection</code> .  Es enth√§lt alles: <code>request</code> , <code>flash</code> , <code>session</code> und alles.  Er erscheint in einem Anruf von allem, was mit der Bearbeitung der eingetroffenen Anfrage verbunden ist. </p><br><p>  Hier und Nachteile, da der erste sehr faul ist, √ºberall zu formen und nicht ganz zu verstehen, warum.  Schiene in dieser Hinsicht korrumpiert.  Sie schreiben Rendering oder Flash und es gibt keine Gedanken, dass diese Aktion mit Verbindung verbunden ist.  Und in Phoenix <code>conn</code> erinnert es Sie st√§ndig daran, mit einer bestimmten Verbindung oder einem bestimmten Socket zu arbeiten, und nicht nur die Methoden werden aufgerufen, und die Magie geschieht im Inneren. </p><br><h3 id="partialtemplate">  Teilweise &amp; Vorlage </h3><br><p>  In Phoenix gibt es keine Trennung zwischen Teil und Vorlage.  Letztendlich die ganze Funktion.  Hier gibt es noch einen weiteren Reiz: Die Schiene kriecht selbst in der Produktumgebung st√§ndig hinter die Ansichten auf der Festplatte und generiert E / A sowie einen Overhead, um sie von erb / haml / etc in html zu konvertieren.  Und in Elixir ist alles eine Funktion, einschlie√ülich Ansichten.  Die Ansicht ein f√ºr allemal kompiliert: Ruft die Argumente ab, spuckt HTML aus, geht nicht auf die Festplatte. </p><br><h3 id="views">  Ansichten </h3><br><p>  In Rails wird Ansicht als Teil und Vorlage verstanden, w√§hrend sie in Phoenix in Vorlagen liegt, und in Ansichten gibt es grob gesagt verschiedene M√∂glichkeiten, Daten darzustellen.  Insbesondere gibt es Render-Overrides. </p><br><p>  Das hei√üt, der Controller rendert standardm√§√üig nichts.  Alles wird explizit aufgerufen.  Und wenn Sie kein Teil haben und es nicht wirklich brauchen (zum Beispiel im Fall von json, wenn es leicht von einer Serviceklasse erstellt werden kann), definieren Sie das Rendering irgendwie neu: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">def</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">render</span></span>("<span class="hljs-selector-tag"><span class="hljs-selector-tag">show</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.json</span></span>", %{<span class="hljs-attribute"><span class="hljs-attribute">groups</span></span>: groups}) <span class="hljs-selector-tag"><span class="hljs-selector-tag">do</span></span> %{ <span class="hljs-attribute"><span class="hljs-attribute">groups</span></span>: groups } <span class="hljs-selector-tag"><span class="hljs-selector-tag">end</span></span></code> </pre> <br><p>  Und der Teil wird nicht mehr ben√∂tigt. </p><br><h3 id="heplers">  Heplers </h3><br><p>  Es gibt keine in Phoenix.  Und das ist gro√üartig!  Denn in den Bahnhelfern wird normalerweise der gesamte M√ºll gesammelt, der entweder faul war, in die Ecken zu schieben, oder nur ben√∂tigt wurde, um schnell etwas aufzuf√ºllen. </p><br><p>  Die Methoden in der Steuerung, Ansichten usw.  Sie k√∂nnen hinzuf√ºgen.  Dies geschieht an einem speziellen Ort <code>web/web.ex</code> und sieht ziemlich anst√§ndig aus. </p><br><h2 id="statika">  Statik </h2><br><p>  In der Entwicklung ist alles wie gewohnt, au√üer dass sie in Phoenix immer noch das Live-Reload vermasselt haben, das erste mit dem Titel "Wow!"  Wirkung.  Zu diesem Zeitpunkt habe ich CSS ge√§ndert, bin zum Browser zur√ºckgekehrt und dort wurden die √Ñnderungen selbst bereits geladen. </p><br><p>  In der Produktion in Phoenix unterscheidet sich das Verhalten der Statik geringf√ºgig von dem der Schienen.  Standardm√§√üig werden Orte, an denen Sie Statiken ziehen k√∂nnen, explizit registriert, und Sie k√∂nnen Assets nicht einfach Dateien hinzuf√ºgen, um sie zu verteilen.  Trotzdem gibt es eine Zuordnung der Standard-Assets, damit Sie nicht noch einmal im FS herumwandern, sondern sofort die gew√ºnschte Datei nehmen und weitergeben. </p><br><h2 id="assety">  Verm√∂genswerte </h2><br><p>  Out of the Box in Phoenix - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Brunch</a> .  Sie k√∂nnen es durch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Webpack</a> ersetzen.  Aber es gibt einen ziemlich wahrheitsgem√§√üen Witz √ºber die Tatsache, dass viele Projekte in der Phase der Einrichtung des Webpacks verbogen sind. </p><br><p>  Kurz gesagt, js und css werden mehr oder weniger gesammelt, aber mit dem Rest der statischen Aufladung im Brunch ist es nicht sehr.  Kopieren Sie es entweder mit Ihren H√§nden direkt von node_modules in das Projekt (diese Option gef√§llt mir √ºberhaupt nicht) oder schreiben Sie Hooks in die Bash.  Zum Beispiel <a href="">so</a> . </p><br><h2 id="rabota-s-ssl">  Arbeiten Sie mit SSL </h2><br><p>  In Phoenix ist ein kleiner http-Server namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cowboy</a> sofort <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einsatzbereit</a> .  Es sieht aus wie ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rubinpuma</a> .  Sie haben sogar die gleiche Anzahl von Sternen auf GitHub.  Aber irgendwie habe ich in keiner der oben genannten Versionen SSL-Einstellungen erhalten.  Insbesondere mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Let's Encrypt</a> , einer zus√§tzlichen Webserver-Konfigurationsdatei und einer regelm√§√üigen Zertifikatserneuerung.  Also als http-Server - ok, aber f√ºr ssl nehme ich einen Proxy zu localhost √ºber Apache / Nginx. </p><br><h2 id="deploy">  Bereitstellen </h2><br><p>  Es ist im Allgemeinen anders als die Schiene.  In Rails, in der Mindestversion, fuhr er die R√ºbe zum Server, tanzte mit einem Tamburin f√ºr Bundles, Konfigurationen, Assets und startete die Anwendung.  Und das Elixier kompiliert und <del>  in der Stra√üenbahn graben </del>  eine R√ºbe zu √ºberzeugen wird nicht reiten.  M√ºssen das Paket abholen.  Und hier beginnt: </p><br><ul><li>  Sie werden herausfinden, warum Anwendungen in <code>mix.exs</code> ben√∂tigt <code>mix.exs</code> , denn ohne sie korrekt in <code>mix.exs</code> anzugeben, wunderbare Fehler; </li><li>  Sie erfahren, dass Umgebungsvariablen zum Zeitpunkt der Erstellung des Pakets und nicht zum Zeitpunkt des Starts kompiliert werden. Dies ist zum ersten Mal eine wilde √úberraschung.  dann lernst du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">relx</a> zusammen mit <code>RELX_REPLACE_OS_VARS=true</code> und l√§sst es ein wenig los; </li><li>  Sie sind √ºberrascht, dass das kompilierte Paket f√ºr die Produktion nichts √Ñhnliches wie Rake enth√§lt, insbesondere keine Migrationen, und Sie m√ºssen sie irgendwie separat ausf√ºhren, z. B. von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwicklungsumgebung</a> durch Portweiterleitung an die Datenbank (oder √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eDeliver</a> , was ungef√§hr dasselbe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bewirkt</a> ). . </li></ul><br><p>  Und dann, wenn Sie sich mit dem oben Gesagten befassen, beginnen die Profis: </p><br><ul><li>  Sie k√∂nnen das Paket autark machen und nichts von den Abh√§ngigkeiten vom Kampffahrzeug ablegen.  Entpacken Sie einfach den Tarball und f√ºhren Sie den Inhalt aus.  es sei denn, erlang muss m√∂glicherweise ausgerollt werden, da die Cross-Compile-Version in der Assembly nicht trivial ist. </li><li>  Sie k√∂nnen ein Upgrade-Release durchf√ºhren, um es ohne Ausfallzeiten bereitzustellen. </li></ul><br><h2 id="debag">  Debag </h2><br><p>  Elixier hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pry</a> und funktioniert wie Rubine.  Es gibt sogar ein <code>rails c</code> Gegenst√ºck, das aussieht wie <code>iex -S mix</code> . </p><br><p>  In der Produktion muss die Konsole jedoch anders verwendet werden, da das Paket erstellt wurde und kein <code>mix</code> ist.  Sie m√ºssen eine Verbindung zu einem Arbeitsprozess herstellen.  Dies unterscheidet sich grundlegend von den Schienen und am Anfang verbringst du viel Zeit damit, den Weg zu googeln, um die Elixierkonsole in der Produktion zu starten, weil du nach etwas √§hnlichem wie der Schiene suchst.  Als Ergebnis verstehen Sie, dass Sie alles anders machen und so etwas wie: <code>iex --name trace@127.0.0.1 --cookie 'from_env' --remsh 'my_app_name@127.0.0.1'</code> . </p><br><h2 id="prodolzhenie-sleduet">  Fortsetzung folgt... </h2><br><p>  Fuh, ich habe irgendwie etwas vergessen.  Na ja.  Sagen Sie uns besser, was Sie bei Elixir im Vergleich zu anderen Sprachen √ºberrascht hat. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423459/">https://habr.com/ru/post/de423459/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423445/index.html">Erstellen einer Online-Shop-Struktur: Kategorieschema</a></li>
<li><a href="../de423447/index.html">GLPH: Neuer Content Marketing Podcast</a></li>
<li><a href="../de423453/index.html">ZFS- und Festplattenzugriffsgeschwindigkeit in Hypervisoren</a></li>
<li><a href="../de423455/index.html">Richtige Tablette</a></li>
<li><a href="../de423457/index.html">Timlid Arbeit im Jahr 2018</a></li>
<li><a href="../de423461/index.html">Suborbitaler Herbst</a></li>
<li><a href="../de423463/index.html">Da haben wir einen anderen RFM-Analysealgorithmus geschrieben</a></li>
<li><a href="../de423465/index.html">Was Sie √ºber ITSM lesen sollten: B√ºcher, Blogs und aktuelle Artikel</a></li>
<li><a href="../de423467/index.html">Russische Entwickler werden einen Katalog zur Produktkompatibilit√§t ver√∂ffentlichen</a></li>
<li><a href="../de423469/index.html">Schnellste Gleitkommazahlen im Wilden Westen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>