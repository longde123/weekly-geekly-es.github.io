<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧘🏼 🐜 🔛 Organisation des recherches de données à l'aide des référentiels de valeurs-clés Spring Data 🤴 🤸🏿 🧑🏼‍🤝‍🧑🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les systèmes interactifs utilisent de nombreux répertoires différents, des dictionnaires de données, ce sont différents statuts, codes, noms, etc., en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Organisation des recherches de données à l'aide des référentiels de valeurs-clés Spring Data</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445060/">  Les systèmes interactifs utilisent de nombreux répertoires différents, des dictionnaires de données, ce sont différents statuts, codes, noms, etc., en règle générale, ils sont nombreux et chacun n'est pas grand.  Dans la structure, ils ont souvent des attributs communs: Code, ID, Nom, etc. Dans le code d'application, il existe de nombreuses recherches différentes, des comparaisons par Code, par ID de référence.  Les recherches peuvent être étendues, par exemple: recherche par ID, par Code, obtenir une liste par critère, trier, etc ... Et par conséquent, les répertoires sont mis en cache, ce qui réduit les accès fréquents à la base de données.  Ici, je veux montrer un exemple de la façon dont les référentiels de valeurs-clés Spring Data peuvent être utiles à ces fins.  L'idée principale est la suivante: une recherche avancée dans le référentiel de valeurs-clés et, en l'absence d'objet, effectuez une recherche dans les référentiels de données Spring dans la base de données, puis placez-la dans les référentiels de valeurs-clés. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/kb/a6/hq/kba6hqia1_qp14u4ak8auhiji24.png" alt="image"><br><br>  Et donc dans Spring, il y a KeyValueOperations, qui est similaire au référentiel Spring Data, mais il fonctionne sur le concept de valeur-clé et nous plaçons les données dans une structure HashMap (j'ai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">écrit</a> <i>sur les référentiels Spring Data</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ).  Les objets peuvent être de tout type, l'essentiel est que la clé soit spécifiée. <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Status</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@org</span></span>.springframework.data.annotation.Id <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> statusId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String code; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; ....</code> </pre> <br>  Ici, la clé est statusId, et le chemin complet de l'annotation est spécifiquement indiqué, à l'avenir, j'utiliserai l'entité JPA, et il y a aussi un identifiant, mais déjà lié à la base de données. <br>  KeyValueOperations a des méthodes similaires à celles des référentiels Spring Data <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">KeyValueOperations</span></span></span><span class="hljs-class"> </span></span>{ &lt;T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T objectToInsert)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object objectToUpdate)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;?&gt; type)</span></span></span></span>; &lt;T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object id, Class&lt;T&gt; type)</span></span></span></span>; &lt;T&gt; <span class="hljs-function"><span class="hljs-function">Iterable&lt;T&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(KeyValueQuery&lt;?&gt; query, Class&lt;T&gt; type)</span></span></span></span>; .... .</code> </pre><br>  Vous pouvez donc spécifier la configuration java KeyValueOperations pour Spring bean <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@SpringBootApplication</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DemoSpringDataApplication</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> KeyValueOperations </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyValueTemplate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeyValueTemplate(keyValueAdapter()); } <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> KeyValueAdapter </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyValueAdapter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MapKeyValueAdapter(ConcurrentHashMap.class); }</code> </pre><br>  La classe de stockage de dictionnaire est répertoriée ici - ConcurrentHashMap <br><br>  Et puisque je travaillerai avec les dictionnaires JPA Entity, j'en connecterai deux à ce projet. <br><br>  Ceci est un dictionnaire de «Statut» et «Carte» <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Status</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@org</span></span>.springframework.data.annotation.Id <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> statusId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String code; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-meta"><span class="hljs-meta">@Column</span></span>(name = <span class="hljs-string"><span class="hljs-string">"STATUS_ID"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStatusId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> statusId; } .... <span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Card</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@org</span></span>.springframework.data.annotation.Id <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> cardId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String code; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-meta"><span class="hljs-meta">@Column</span></span>(name = <span class="hljs-string"><span class="hljs-string">"CARD_ID"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCardId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cardId; } ...</code> </pre><br>  Ce sont des entités standard qui correspondent aux tables de la base de données, j'attire l'attention sur deux annotations Id pour chaque entité, une pour JPA, l'autre pour KeyValueOperations <br><br>  La structure des dictionnaires est similaire, un exemple de l'un d'eux <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> <span class="hljs-keyword"><span class="hljs-keyword">STATUS</span></span> ( status_id <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, code VARCHAR2(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> VARCHAR2(<span class="hljs-number"><span class="hljs-number">50</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> ); <span class="hljs-comment"><span class="hljs-comment">-- Create/Recreate primary, unique and foreign key constraints alter table STATUS add constraint STATUS_PK primary key (STATUS_ID)</span></span></code> </pre><br>  Référentiels Spring Data pour eux: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Repository</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CardCrudRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CrudRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Card</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Long</span></span></span><span class="hljs-class">&gt; </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Repository</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatusCrudRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CrudRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Status</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Long</span></span></span><span class="hljs-class">&gt; </span></span>{ }</code> </pre><br>  Et voici l'exemple DictionaryProvider lui-même où nous connectons les référentiels Spring Data et KeyValueOperations <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DictionaryProvider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Logger logger = LoggerFactory.getLogger(DictionaryProvider.class); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Map&lt;Class, CrudRepository&gt; repositoryMap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashMap&lt;&gt;(); <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> KeyValueOperations keyValueTemplate; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> StatusCrudRepository statusRepository; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CardCrudRepository cardRepository; <span class="hljs-meta"><span class="hljs-meta">@PostConstruct</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">post</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ repositoryMap.put(Status.class, statusRepository); repositoryMap.put(Card.class, cardRepository); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">Optional&lt;T&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dictionaryById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;T&gt; clazz, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span><span class="hljs-function"> </span></span>{ Optional&lt;T&gt; optDictionary = keyValueTemplate.findById(id, clazz); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (optDictionary.isPresent()) { logger.info(<span class="hljs-string"><span class="hljs-string">"Dictionary {} found in keyValueTemplate"</span></span>, optDictionary.get()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> optDictionary; } CrudRepository crudRepository = repositoryMap.get(clazz); optDictionary = crudRepository.findById(id); keyValueTemplate.insert(optDictionary.get()); logger.info(<span class="hljs-string"><span class="hljs-string">"Dictionary {} insert in keyValueTemplate"</span></span>, optDictionary.get()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> optDictionary; } ....</code> </pre><br>  Les injections automatiques y sont installées pour les référentiels et pour KeyValueOperations, puis la logique simple (ici sans vérifier la valeur null, etc.), nous regardons dans le dictionnaire keyValueTemplate, s'il y en a un, puis nous revenons, sinon nous extrayons de la base de données via crudRepository et le plaçons dans keyValueTemplate, et donnons dehors. <br><br>  Mais si tout cela se limitait à une recherche par clé, alors il n'y a probablement rien de spécial.  Ainsi, KeyValueOperations dispose d'un large éventail d'opérations et de demandes CRUD.  Voici un exemple de recherche dans le même keyValueTemplate, mais déjà par Code à l'aide de la requête KeyValueQuery. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">Optional&lt;T&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dictionaryByCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;T&gt; clazz, String code)</span></span></span><span class="hljs-function"> </span></span>{ KeyValueQuery&lt;String&gt; query = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeyValueQuery&lt;&gt;(String.format(<span class="hljs-string"><span class="hljs-string">"code == '%s'"</span></span>, code)); Iterable&lt;T&gt; iterable = keyValueTemplate.find(query, clazz); Iterator&lt;T&gt; iterator = iterable.iterator(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (iterator.hasNext()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Optional.of(iterator.next()); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Optional.empty(); }</code> </pre><br>  Et c'est compréhensible, si plus tôt j'ai recherché par ID et que l'objet est entré dans keyValueTemplate, alors la recherche par le code du même objet le renverra déjà depuis keyValueTemplate, il n'y aura pas d'accès à la base de données.  Spring Expression Language est utilisé pour décrire la demande. <br><br>  Exemples de tests: <br>  Recherche d'ID <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Optional&lt;Status&gt; status = dictionaryProvider.dictionaryById(Status.class, <span class="hljs-number"><span class="hljs-number">1L</span></span>); Assert.assertTrue(status.isPresent()); Optional&lt;Card&gt; card = dictionaryProvider.dictionaryById(Card.class, <span class="hljs-number"><span class="hljs-number">100L</span></span>); Assert.assertTrue(card.isPresent()); }</code> </pre><br>  Recherche par code <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findByCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Optional&lt;Card&gt; card = dictionaryProvider.dictionaryByCode(Card.class, <span class="hljs-string"><span class="hljs-string">"VISA"</span></span>); Assert.assertTrue(card.isPresent()); }</code> </pre><br>  Vous pouvez obtenir des listes de données via <br><br><pre> <code class="java hljs">&lt;T&gt; <span class="hljs-function"><span class="hljs-function">Iterable&lt;T&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(KeyValueQuery&lt;?&gt; query, Class&lt;T&gt; type)</span></span></span></span>;</code> </pre> <br>  Vous pouvez spécifier le tri dans la demande <br><br><pre> <code class="java hljs">query.setSort(Sort.by(DESC, <span class="hljs-string"><span class="hljs-string">"name"</span></span>));</code> </pre> <br>  Matériaux: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">valeur-clé de données de printemps</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Projet Github</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445060/">https://habr.com/ru/post/fr445060/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445048/index.html">Algorithme de triangulation de Delaunay par la méthode des lignes de balayage</a></li>
<li><a href="../fr445052/index.html">Pourquoi ne puis-je pas définir la taille de police du lien visité?</a></li>
<li><a href="../fr445054/index.html">L'IA classe désormais le cancer du poumon ainsi que les diagnostics en laboratoire</a></li>
<li><a href="../fr445056/index.html">Présentation des cours de développement Web</a></li>
<li><a href="../fr445058/index.html">Le pilote automatique de Tesla a appris à déterminer les changements de voie dans les voitures voisines</a></li>
<li><a href="../fr445062/index.html">Format de présentation moderne?</a></li>
<li><a href="../fr445064/index.html">La bataille pour la neutralité du net - une chance de revenir</a></li>
<li><a href="../fr445066/index.html">Comment j'écris des notes mathématiques sur LaTeX dans Vim</a></li>
<li><a href="../fr445070/index.html">Le condensé de matériaux intéressants pour le développeur mobile # 291 (18 mars - 24 mars)</a></li>
<li><a href="../fr445072/index.html">Telegraff: Kotlin DSL pour Telegram</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>