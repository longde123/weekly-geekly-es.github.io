<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍⚖️ 🤚🏿 🚣 Über Flutter, kurz: Grundlagen 🍌 🚣 👨🏾‍💼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nach dem Bericht von Yura Luchaninov beschloss ich, Flutter selbst auszuprobieren. Um das Gehirn zu dehnen, gab es etwas, mit dem man sich mit den Män...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Über Flutter, kurz: Grundlagen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430918/"><p><img src="https://habrastorage.org/getpro/habr/post_images/06a/005/a97/06a005a97b10f6904756d0f76b2b5312.jpg" alt="Über Flutter, kurz: Grundlagen"></p><br><p> Nach dem Bericht von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yura Luchaninov</a> beschloss ich, Flutter selbst auszuprobieren.  Um das Gehirn zu dehnen, gab es etwas, mit dem man sich mit den Männern in der Küche entspannen konnte.  Die Dinge sind weg.  Ich fing an zu schauen, dann zu lesen, dann zu schreiben.  Und alles scheint zu funktionieren, Anwendungen werden gestartet, und was sie erklären, ist klar, alles ist einfach.  Aber nicht ohne ein "aber" - nicht jeder erklärt.  Und da die Plattform, das YP, die Ansätze und sogar der Themenbereich für mich neu sind, ist diese Art von Ärger, weil Sie "nicht starten" und nicht einmal wissen, was Sie googeln sollen: Dart / Flattern / Fenster / Bildschirm / Route / Widget? </p><br><p>  Natürlich wollte ich nicht die gesamte Dokumentation von Dart, Flutter und seinen Widgets noch einmal lesen, weil ich nicht viel Zeit hatte und ich wollte mir Flutter nur genauer ansehen.  Es wäre großartig, wenn es eine kleine Anleitung gäbe, die alles beschreibt, was Sie brauchen, aber nicht mehr, um nicht zu komplizierte Anwendungen auf Flutter zu verstehen und zu schreiben! </p><a name="habracut"></a><br><h2 id="pro-gayd">  Über den Leitfaden </h2><br><p>  Die meisten Artikel zu diesem Thema sind gut geschrieben und nicht kompliziert.  Das Problem ist, dass die meisten von ihnen Kenntnisse erfordern, die als grundlegende Grundlagen betrachtet werden, die jedoch in anderen Artikeln, die die Grundlagen beschreiben, nicht erwähnt werden.  In dieser Artikelserie möchte ich diese Situation korrigieren.  Beginnen wir bei Null und starten eine oder mehrere Anwendungen, ohne die oben genannten Punkte zu beachten.  Dabei lernen wir, wie Sie alle <strong>Hauptkomponenten verwenden</strong> , eine <strong>einzigartige Schnittstelle</strong> erstellen, mit <strong>nativen Modulen arbeiten</strong> und natürlich Ihre <strong>Anwendung für beide Plattformen zusammenstellen</strong> . </p><br><p>  Ich werde aus der Perspektive eines Webentwicklers schreiben.  Die meisten von Ihnen sind höchstwahrscheinlich mit dem Webstack vertraut, und die Analogie mit der vertrauten Plattform ist besser als die Analogie mit dem Bauen von Häusern oder was auch immer, Tier, Hund, Foo, Bar ... </p><br><p>  Ich werde versuchen, kurz zu skizzieren, um nicht zu verzögern.  Und für die Neugierigsten werde ich nützliche Links zu den diskutierten Themen hinterlassen. </p><br><h2 id="pro-platformu">  Über die Plattform </h2><br><p>  Flutter ist eine junge, aber vielversprechende Plattform, die bereits die Aufmerksamkeit großer Unternehmen auf sich gezogen hat, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die ihre Anwendungen gestartet haben</a> .  Diese Plattform ist interessant für ihre Einfachheit, die mit der Entwicklung von Webanwendungen vergleichbar ist, und die Arbeitsgeschwindigkeit, die mit nativen Anwendungen vergleichbar ist.  Eine hohe Anwendungsleistung und Entwicklungsgeschwindigkeit wird durch verschiedene Techniken erreicht: </p><br><ul><li>  Im Gegensatz zu vielen der heute bekannten mobilen Plattformen verwendet Flutter in keiner Form <strong>JavaScript</strong> .  Als Programmiersprache für Flutter wurde Dart ausgewählt, das in Binärcode kompiliert wird, wodurch eine mit Objective-C, Swift, Java oder Kotlin vergleichbare Betriebsgeschwindigkeit erreicht wird. </li><li>  Flutter <strong>verwendet wiederum keine nativen Komponenten</strong> in irgendeiner Form, sodass Sie keine Ebenen für die Kommunikation mit ihnen schreiben müssen.  Stattdessen zeichnet es wie Game Engines (und Sie wissen, dass Spiele eine sehr dynamische Benutzeroberfläche haben) die gesamte Benutzeroberfläche für sich.  Schaltflächen, Text, Medienelemente, Hintergrund - all dies wird in der Grafik-Engine in Flutter selbst gezeichnet.  Nach dem oben Gesagten ist anzumerken, dass die Anwendung „Hello World“ auf Flutter sehr wenig Platz beansprucht: iOS ≈ 2,5 MB und Android ≈ 4 MB. </li><li>  Flutter <strong>verwendet einen deklarativen Ansatz,</strong> der vom ReactJS-Webframework inspiriert ist und auf Widgets (in der Welt des Web als Komponenten bezeichnet) basiert, um die Benutzeroberfläche zu erstellen.  Um die Geschwindigkeit der Benutzeroberfläche noch weiter zu erhöhen, werden <strong>Widgets nach Bedarf neu gezeichnet</strong> - nur wenn sich etwas daran geändert hat (ähnlich wie bei Virtual DOM in der Front-End-Welt). </li><li>  Darüber hinaus verfügt das Framework <strong>über ein integriertes</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Hot-Reload</strong></a> , das dem Web so vertraut ist und auf nativen Plattformen noch nicht verfügbar war. </li></ul><br><p>  Zu den praktischen Vorteilen dieser Faktoren empfehle ich dringend, den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel des Android-Entwicklers zu</a> lesen, der seine Anwendung von Java auf Dart umgeschrieben und seine Eindrücke geteilt hat.  Hier nehme ich nur die Anzahl der Dateien / Codezeilen heraus, die er vor (in Java geschrieben) - 179/12176 und nach (in Dart umgeschrieben) - 31/1735 benannt hat.  In der Dokumentation finden Sie eine detaillierte Beschreibung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">technischen Merkmale der Plattform</a> .  Und hier ist ein weiterer Link, wenn Sie andere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beispiele für Arbeitsanwendungen sehen möchten</a> . </p><br><h2 id="pro-dart">  Über Dart </h2><br><p>  Dart ist eine Programmiersprache, in der wir Anwendungen für Flutter schreiben müssen.  Es ist sehr einfach und wenn Sie Erfahrung mit Java oder JavaScript haben, werden Sie es schnell lernen. </p><br><p>  Ich habe versucht, einen Übersichtsartikel über Dart zu schreiben und nur das Minimum zu beschreiben, das zum Erlernen von Flutter erforderlich ist.  Aber es gibt so viele Nuancen in dieser Sprache, dass ich es trotz mehrerer Versuche, einen solchen Artikel zu schreiben, immer noch nicht ganz vollständig und gleichzeitig kurz machen konnte.  Auf der anderen Seite haben die Autoren von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">A Tour of the Dart Language</a> hervorragende Arbeit geleistet. </p><br><h2 id="pro-podgotovku">  Über das Training </h2><br><p>  Dieses Thema ist wie Dart im offiziellen Handbuch sehr gut beschrieben.  Ich konnte es nur hier kopieren, aber ich werde es nicht tun. </p><br><p>  Ohne auf etwas zu warten, gehen wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zur Installationsanleitung</a> , wählen die Plattform aus und befolgen die Schritte zum Installieren der Plattform auf unserem System.  In unserem Editor verbinden wir Plugins.  In derselben Anleitung finden Sie eine Anleitung zum Einrichten von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VS Code</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IntelliJ</a> .  Es gibt auch Plugins für Dart und Flutter für Ihren Editor (normalerweise müssen Sie zwei installieren).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wir starten die Anwendung und überprüfen ihre Leistung</a> . </p><br><p>  Hinweis für OSX-Benutzer.  Der Platz, den die gemalten Rahmen des Telefons im iOS-Emulator einnehmen, tut mir leid. Deshalb habe ich sie ausgeschaltet und auf das iPhone 8 umgestellt (es ist nicht so „lang“): </p><br><ul><li><code>Hardware → Device → iOS # → iPhone 8</code> </li> <li> <code>Window → Show Device Bezels</code> </li> </ul><br><p>  Sie können ohne Tasten leben, da es Hotkeys gibt: <code>Shift + Cmd + H</code> - dies ist zu Hause, <code>Cmd + Right</code> - und um das Telefon umzudrehen, finden Sie den Rest im Menü <code>Hardware</code> .  Ich rate Ihnen jedoch, die Bildschirmtastatur einzuschalten, da es wichtig ist zu verstehen, ob es möglich ist, mit der Anwendung zu arbeiten, wenn die Hälfte des Bildschirms regelmäßig von der Tastatur blockiert wird: <code>Cmd + K</code> (funktioniert, wenn der Fokus auf einem Eingabefeld liegt). </p><br><p>  <strong>iPhone 8 &amp; iPhone X mit Rahmen</strong> <br><img src="https://habrastorage.org/getpro/habr/post_images/b8b/549/778/b8b5497782c023fa976cb7d3fda5a1f7.png" alt="iPhone 8 &amp; iPhone X mit Rahmen"></p><br><p>  <strong>iPhone 8 &amp; iPhone X randlos</strong> <br><img src="https://habrastorage.org/getpro/habr/post_images/f3e/568/115/f3e568115a43742fd4371e765fa0a872.png" alt="iPhone 8 &amp; iPhone X randlos"></p><br><h2 id="pro-strukturu">  Über die Struktur </h2><br><p>  Wir werden in den Ordner mit der generierten Anwendung gehen und sehen, was wir dort haben.  Nicht mit allem, sondern mit dem richtigen: </p><br><ul><li>  <code>lib/</code> - Nach den Prinzipien von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pub</a> (Darts Paketmanager) befindet sich der gesamte Code in diesem Unterordner. </li><li>  <code>pubspec.yml</code> - Hier werden die Abhängigkeiten der Anwendung beschrieben, die Sie installieren müssen, um sie auszuführen, genau wie <code>package.json</code> . Es gibt jedoch eine Nuance: Sie müssen sie nicht über das oben erwähnte Standard-Dart-Dienstprogramm installieren, sondern über den Befehl Flutter: <code>flutter pub get &lt;package_name&gt;</code> ; </li><li>  <code>test/</code> - weißt du was da ist?  Sie können sie ausführen, indem Sie den <code>flutter test</code> aufrufen. </li><li>  <code>ios/</code> &amp; <code>android/</code> - Ordner mit Einstellungen für jede Plattform geben an, welche Rechte zum Ausführen der Anwendung erforderlich sind (Zugriff auf den Standort, Bluetooth), Symbole und alles, was für die Plattform spezifisch ist. </li></ul><br><p>  Wir haben die Struktur herausgefunden und gehen in den Ordner <code>lib/</code> in dem die Datei <code>main.dart</code> auf uns wartet.  Wie Sie sich vorstellen können, ist dies dieselbe Datei, in der wir unsere Anwendung ausführen müssen.  Und es beginnt wie in C (und sogar in Tonnen anderer) mit dem Aufruf der Funktion <code>main()</code> . </p><br><h2 id="pro-vidzhety-hello-world-zdes">  Über Widgets (Hallo Welt hier) </h2><br><p>  In Flutter basiert alles auf Widgets: In Widgets gibt es Ansichten, Stile mit Themen und Status.  Es gibt zwei Haupttypen von Widgets: mit und ohne Status, aber noch nicht darüber.  Lass es uns einfach machen. </p><br><p>  Entfernen Sie alles aus <strong>main.dart</strong> .  Fügen Sie den folgenden Code sorgfältig ein und lesen Sie die Kommentare sorgfältig: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/widgets.dart'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     //  Dart      main() main() =&gt; runApp( //   runApp  Flutter Text( //  ,   ,   &lt;span&gt; 'Hello, World!!!', //   —     textDirection: TextDirection.ltr, //       ), );</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>runApp(…)</code></a> ein einzelnes Argument - ein Widget, das die Wurzel für das gesamte Projekt bildet.  Hot-Reload kann es übrigens nicht abholen, daher müssen Sie die Anwendung neu starten. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>Text(…)</code></a> - Flutter kann nicht nur eine Zeichenfolge auf dem Bildschirm anzeigen.  Um Text anzuzeigen, müssen Sie <code>Text</code> angeben.  <code>textDirection</code> .  Und dies ist keine Textausrichtung wie Textausrichtung, im Vergleich zum Web ist es ein Analogon der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>direction</code></a> .  Teil der API zur Internationalisierung einer Anwendung.  <code>Text</code> funktioniert erst, wenn er die Richtung kennt, aber Sie müssen ihn nicht überall angeben. Als Nächstes analysieren wir, wie die Richtung des Textes für die gesamte Anwendung angepasst wird. </p><br><p>  Bereits die App gestartet?  "Hallo Welt!"  raus!  Es scheint ... Ja?  Aber offensichtlich ist etwas schiefgegangen. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/555/246/37b/55524637b38b1f0dab4459d41f3745e8.jpg" alt="Screenshot der laufenden Anwendung"></p><br><p>  Der Text wird durch Systeminformationen blockiert.  Wir haben den gesamten Bildschirmbereich zur Verfügung und haben das Widget ganz am Anfang herausgebracht, wo unter anderem Systeminformationen angezeigt werden.  Versuchen wir, unseren Text irgendwohin zu verschieben. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/widgets.dart'</span></span>; main() =&gt; runApp( Center( <span class="hljs-comment"><span class="hljs-comment">// ,      child: Text( 'Hello, World!', textDirection: TextDirection.ltr, ), ), );</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>Center(…)</code></a> ist ein Widget, mit dem Sie ein anderes im untergeordneten Argument übergebenes Widget horizontal und vertikal in der Mitte platzieren können.  In Flutter-Anwendungen werden häufig untergeordnete Elemente angezeigt, da fast alle Widgets diese Namen verwenden, um Widgets zu übermitteln, die im aufgerufenen Widget gezeichnet werden müssen. </p><br><p>  Widget-Kompositionen werden in Flutter verwendet, um die Benutzeroberfläche zu rendern, das Aussehen zu ändern und sogar Daten zu übertragen.  Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>Directionality(…)</code></a> Widget <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>Directionality(…)</code></a> legt beispielsweise die Textrichtung für alle untergeordneten Widgets fest: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/widgets.dart'</span></span>; main() =&gt; runApp( Directionality( textDirection: TextDirection.ltr, child: Center( child: Text(<span class="hljs-string"><span class="hljs-string">'Hello, World!'</span></span>), ), ), );</code> </pre> <br><p>  Schauen wir uns ein weiteres sehr wichtiges Widget an und verändern gleichzeitig das Erscheinungsbild unserer Anwendung: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/widgets.dart'</span></span>; main() =&gt; runApp( Directionality( textDirection: TextDirection.ltr, child: Container( <span class="hljs-comment"><span class="hljs-comment">//  ! &lt;div&gt;   Flutter' //   Container  color    color: Color(0xFF444444), child: Center( child: Text( 'Hello, World!', style: TextStyle( //     ,    color: Color(0xFFFD620A), //     fontSize: 32.0, //    ), ), ), ), ), );</span></span></code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/6fc/469/a20/6fc469a2081ca8faadf086069cc0af2e.png" alt="Screenshot der HelloWorld-Anwendung"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>Color(…)</code></a> - Farbe.  Die Dokumentation zeigt verschiedene Arten der Einstellung auf, aber die Hauptsache ist einfach, die Nummer an den Klassenkonstruktor zu übergeben.  Im obigen Beispiel übergeben wir dem Konstruktor eine Zahl in hexadezimaler Form, die HEX sehr ähnlich ist. Erst zu Beginn haben wir zwei weitere Zeichen hinzugefügt, die den Transparenzgrad der Farbe angeben, wobei 0x00 absolut transparent und 0xFF überhaupt nicht transparent ist. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>TextStyle(…)</code></a> ist ein noch interessanteres Widget. Mit ihm können Sie Farbe, Größe, Dicke, Zeilenabstand festlegen, Unterstreichungen hinzufügen und vieles mehr. </p><br><p>  Flatteranwendung geschrieben, fertig!  In den Docks können Sie lesen, wie Sie es für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Android</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">iOS zusammenstellen. An</a> derselben Stelle befinden sich Links, über die Sie wissen, wie Sie es an den gewünschten Store senden können.  Wem das nicht genug ist, unten habe ich noch ein paar Zeilen über Flutter geworfen, vielleicht mehr ... </p><br><h2 id="pro-stateless-vidzhety">  Pro zustandslose Widgets </h2><br><p>  Verwendung von Widgets - Wir haben herausgefunden, wie wir sie erstellen können.  Es wurde bereits oben erwähnt, dass es Widgets gibt, die einen Status haben und diesen nicht haben.  Bisher haben wir nur zustandslose Widgets verwendet.  Dies bedeutet nicht, dass sie es überhaupt nicht haben, da Widgets nur Klassen sind und ihre Eigenschaften geändert werden können.  Unmittelbar nach dem Rendern des Widgets führt das Ändern seines Status nicht zur Aktualisierung dieses Widgets in der Benutzeroberfläche.  Wenn wir beispielsweise den Text auf dem Bildschirm ändern müssen, müssen wir ein weiteres <code>Text</code> Widget generieren und den neuen Inhalt angeben, den wir anzeigen möchten.  Solche Widgets können als konstant bezeichnet werden, wenn Sie wissen, was ich meine.  Und sie sind einfach, also fangen wir mit ihnen an. </p><br><p>  Um ein zustandsloses Widget zu erstellen, benötigen Sie: </p><br><ol><li>  Überlegen Sie sich einen schönen Namen für die neue Klasse. </li><li>  Erben Sie eine Klasse von <code>StatelessWidget</code> . </li><li>  Implementieren Sie eine <code>build()</code> -Methode, die einen <code>BuildContext</code> als Argument verwendet und eine Art <code>Widget</code> zurückgibt. </li></ol><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/widgets.dart'</span></span>; main() =&gt; runApp( Directionality( textDirection: TextDirection.ltr, child: Center( child: MyStatelessWidget() ), ), ); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyStatelessWidget</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  @override   ,    , //         //  ,       @override Widget build(BuildContext context) { // [context]    return Text('Hello!'); } }</span></span></code> </pre> <br><p>  Beispiel Widget mit einem Argument: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// … class MyStatelessWidget extends StatelessWidget { //   Stateless      final,   const final String name; //   MyStatelessWidget(this.name); //   @override Widget build(BuildContext context) { // [context]     return Text('Hello, $name!'); } }</span></span></code> </pre> <br><p>  Über Stateless gibt es nichts mehr hinzuzufügen ... </p><br><h2 id="pro-hot-reload">  Über Hot Reload </h2><br><p>  Bitte beachten Sie, dass beim Ändern des Inhalts unseres Widgets die Anwendung automatisch neu gezeichnet wird.  Nachdem wir das Widget aus der <code>main()</code> Funktion entfernt hatten, half uns Hot-Reload. </p><br><p>  Es ist auch wichtig zu verstehen, dass die Anwendung aufgrund des gestarteten Moduls für das Hot-Swapping eine Größenordnung langsamer ausgeführt wird. </p><br><h2 id="pro-gesturedetector">  Über GestureDetector </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/152/d3e/0c4/152d3e0c44a587d15ed95df50dad563b.gif" alt="GestureDetector-Widget in Aktion"></p><br><p>  Im nächsten Abschnitt werden wir uns mit <code>StatefulWidget</code> befassen (mit Widgets, die sich ändern, wenn sich ihr Status ändert).  Damit dies interessant ist, müssen wir diesen Zustand irgendwie ändern, stimmen wir zu?  Wir werden den Status des Widgets als Reaktion auf Berührungen auf dem Bildschirm ändern.  Dazu verwenden wir den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>GestureDetector(…)</code></a> - ein Widget, das nichts <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>GestureDetector(…)</code></a> , aber Berührungen auf dem Smartphone-Bildschirm überwacht und darüber berichtet und die darauf übertragenen Funktionen aufruft. </p><br><p>  Erstellen Sie eine Schaltfläche in der Mitte des Bildschirms. Wenn Sie darauf klicken, wird eine Meldung in der Konsole angezeigt: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/widgets.dart'</span></span>; main() =&gt; runApp( Directionality( textDirection: TextDirection.ltr, child: Container( color: Color(<span class="hljs-number"><span class="hljs-number">0xFFFFFFFF</span></span>), child: App(), ), ), ); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Center( child: GestureDetector( <span class="hljs-comment"><span class="hljs-comment">//     onTap: () { //    GestureDetector //    ,      print('You pressed me'); }, child: Container( //     decoration: BoxDecoration( //   shape: BoxShape.circle, //     color: Color(0xFF17A2B8), //      ), width: 80.0, height: 80.0, ), ), ); } }</span></span></code> </pre> <br><p>  Klicken Sie auf die blaue Schaltfläche und sehen Sie die Meldung in der Konsole.  Wir klicken immer wieder und sehen die Meldung in der Konsole.  Noch einmal ... Okay, hör auf zu bleiben. </p><br><h2 id="pro-stateful-vidzhety">  Stateful Widgets </h2><br><p>  <code>StatefulWidget</code> - Einfach, noch einfacher als das von <code>StatelessWidget</code> .  Aber es gibt eine Nuance: Sie existieren nicht für sich. Für ihre Arbeit benötigen wir eine andere Klasse, die den Status dieses Widgets speichert.  Gleichzeitig wird sein visueller Teil (aus dem die Widgets bestehen) auch zu seinem Zustand. </p><br><p>  Schauen Sie sich zunächst die Widget-Klasse an: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// … class Counter extends StatefulWidget { //      ,     , //   createState() @override State&lt;Counter&gt; createState() =&gt; _CounterState(); //        State, //   State&lt;&gt; }</span></span></code> </pre> <br><p>  Oben haben wir ein "leeres" Widget erstellt, das eine sehr einfache <code>createState()</code> -Methode implementiert hat.  Diese Trennung von Präsentation und Status ermöglicht es Flutter, die Anwendung erheblich zu optimieren. </p><br><p>  Das Zustandsobjekt ist völlig unkompliziert.  Darüber hinaus ist es fast identisch mit <code>StatelessWidget</code> , das wir oben geschrieben haben.  Der Hauptunterschied ist die Elternklasse. </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// … class _CounterState extends State&lt;Counter&gt; { //    -    , //      . //   ,     int counter = 0; //     ,       //   ,      Stateless . @override Widget build(BuildContext context) { //          , //     —  : return Center( child: GestureDetector( onTap: () { //  ,   ,    //  counter. setState(() { // setState()   ,    //      ,    ++counter; }); }, child: Container( decoration: BoxDecoration( shape: BoxShape.circle, color: Color(0xFF17A2B8), ), width: 80.0, child: Center( child: Text( //    counter '$counter', //      style: TextStyle(fontSize: 30.0), ), ), ), ), ); } }</span></span></code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/316/aa3/591/316aa3591cfc2b44a9080c60649e418b.gif" alt="Ausführen der Zähleranwendung"></p><br><p>  Beachten Sie, dass der Klassenname mit einem unteren Unterstrich beginnt.  In Dart identifizieren alle Namen, die mit Unterstrichen beginnen, private Werte.  Und der Status von Widgets in Flutter wird normalerweise privat gelassen, obwohl dies nicht erforderlich ist. </p><br><p>  Was für eine wundervolle Bewerbung wir gemacht haben!  Das ist ein tolles Ergebnis.  Bevor Sie diesen Teil des Kurses beenden, schauen wir uns einige weitere interessante Widgets an.  Nur dieses Mal werden wir mehr Code schreiben, um ihn interessanter zu machen.  Der größte Teil der Anwendung sollte Ihnen vertraut sein, und der Rest sollte Sie bereits verstanden haben: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/widgets.dart'</span></span>; main() =&gt; runApp(App()); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Directionality( textDirection: TextDirection.ltr, child: Container( padding: EdgeInsets.symmetric( vertical: <span class="hljs-number"><span class="hljs-number">60.0</span></span>, horizontal: <span class="hljs-number"><span class="hljs-number">20.0</span></span>, ), color: Color(<span class="hljs-number"><span class="hljs-number">0xFFFFFFFF</span></span>), child: Content(), ), ); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Content</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Column( children: [ Counter(<span class="hljs-string"><span class="hljs-string">'Manchester United'</span></span>), Counter(<span class="hljs-string"><span class="hljs-string">'Juventus'</span></span>), ], ); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatefulWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String _name; Counter(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._name); <span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">State&lt;Counter&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>=&gt; _CounterState(); } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_CounterState</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Container( margin: EdgeInsets.only(bottom: <span class="hljs-number"><span class="hljs-number">10.0</span></span>), padding: EdgeInsets.all(<span class="hljs-number"><span class="hljs-number">4.0</span></span>), decoration: BoxDecoration( border: Border.all(color: Color(<span class="hljs-number"><span class="hljs-number">0xFFFD6A02</span></span>)), borderRadius: BorderRadius.circular(<span class="hljs-number"><span class="hljs-number">4.0</span></span>), ), child: Row( mainAxisAlignment: MainAxisAlignment.spaceBetween, children: [ <span class="hljs-comment"><span class="hljs-comment">// widget —    State,    //      ,      _CounterLabel(widget._name), _CounterButton( count, onPressed: () { setState(() { ++count; }); }, ), ], ), ); } } class _CounterLabel extends StatelessWidget { static const textStyle = TextStyle( color: Color(0xFF000000), fontSize: 26.0, ); final String _label; _CounterLabel(this._label); @override Widget build(BuildContext context) { return Text( _label, style: _CounterLabel.textStyle, ); } } class _CounterButton extends StatelessWidget { final _count; final _onPressed; _CounterButton(this._count, {@required this._onPressed}); @override Widget build(BuildContext context) { return GestureDetector( onTap: () { _onPressed(); }, child: Container( padding: EdgeInsets.symmetric(horizontal: 6.0), decoration: BoxDecoration( color: Color(0xFFFD6A02), borderRadius: BorderRadius.circular(4.0), ), child: Center( child: Text( '$_count', style: TextStyle(fontSize: 20.0), ), ), ), ); } }</span></span></code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/c2f/93e/d18/c2f93ed188071906ab840b9fcc70f0cd.png" alt="Eine weitere Gegenanwendung zum Flattern"></p><br><p>  Wir haben zwei neue Widgets: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>Column()</code></a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>Row()</code></a> .  Versuchen Sie herauszufinden, was sie tun.  Im nächsten Artikel werden wir sie detaillierter betrachten sowie mehr als ein Widget betrachten, mit dem Sie andere Widgets zusammenstellen und mithilfe der Flutter-Bibliothek Material eine schöne Anwendung erstellen können. </p><br><h2 id="pro-domashnee-zadanie">  Über Hausaufgaben </h2><br><p>  Wenn Sie nach Belieben etwas anderes lesen möchten, finden Sie hier eine Liste interessanter Links: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://flutter.io/docs/get-started/flutter-for/web-devs</a> </li><li>  Arbeiten mit Code aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VS Code</a> und aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">InteliJ</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mehr über Widgets</a> </li><li>  Sie sollten auch über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hot Reload</a> lesen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">um</a> zu verstehen, wann der Code möglicherweise nicht neu gestartet wird. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430918/">https://habr.com/ru/post/de430918/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430906/index.html">Mama schläft nachts ruhig - wir sammeln OpenCV für Raspbian'a</a></li>
<li><a href="../de430910/index.html">Fulbright-Stipendium: Wie und warum?</a></li>
<li><a href="../de430912/index.html">Wir bringen einen Lügner zu sauberem Wasser: Ein Interview ist kein Arbeitsverhältnis. Natürlich</a></li>
<li><a href="../de430914/index.html">Analyse der Schwarzmarktpreise für personenbezogene Daten und Durchbruch</a></li>
<li><a href="../de430916/index.html">Kohlendioxiddetektor MT8057S. Nichtüberprüfung unter Beteiligung eines Nichtemulators</a></li>
<li><a href="../de430922/index.html">Berechnungsbeispiel für Schalttafel</a></li>
<li><a href="../de430924/index.html">Ada Programmierung</a></li>
<li><a href="../de430926/index.html">Die Zeit ist fragmentiert; ein bisschen über die Ähnlichkeit verteilter Systeme und ein schwaches Speichermodell</a></li>
<li><a href="../de430928/index.html">Nur zum "Smart Home": Wie man eine "intelligente" Hintergrundbeleuchtung macht</a></li>
<li><a href="../de430930/index.html">Über 3D-Grafiken in einfachen Worten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>