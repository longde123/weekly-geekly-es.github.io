<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚣🏾 ⬇️ 🕋 总体与继承，团队模式和游戏开发 🛵 🥃 🖖🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="免责声明： 在我看来，有关软件体系结构的文章不应该也不是理想的。 所描述的任何解决方案都可能无法涵盖一个程序员所需的级别，而对于另一位程序员，这将不必要地使体系结构复杂化。 但是它必须为自己设定的任务提供解决方案。 这种经验以及程序员学习，组织信息，磨练新手并批评自己和他人的程序员的所有其他知识包–...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>总体与继承，团队模式和游戏开发</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438510/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/na/sz/bh/naszbh_usuh0jpozxmoiuqpdl1q.png"></div><br> 免责声明： <i>在我看来，有关软件体系结构的文章不应该也不是理想的。</i>  <i>所描述的任何解决方案都可能无法涵盖一个程序员所需的级别，而对于另一位程序员，这将不必要地使体系结构复杂化。</i>  <i>但是它必须为自己设定的任务提供解决方案。</i>  <i>这种经验以及程序员学习，组织信息，磨练新手并批评自己和他人的程序员的所有其他知识包–这种经验变成了出色的软件产品。</i>  <i>本文将在技术和技术部分之间切换。</i>  <i>这是一个小实验，我希望它会很有趣。</i> <br><blockquote>  -听着，我想到了一个很棒的游戏主意！  -游戏设计师Vasya衣衫不整，他的眼睛是红色的。 我仍然在Habré上喝咖啡和霍利瓦来消磨站立前的时间。 他满怀期待地看着我，直到我写完评论给那个男人他错了。 瓦西亚知道，在伸张正义和捍卫真理之前，继续与我对话毫无意义。 我加了最后一句话，看着他。 <br><br> 简而言之，具有法术力的魔术师可以施展咒语，战士可以进行近距离战斗并消耗耐力。 魔术师和战士都可以移动。 是的，仍然有可能抢劫母牛，但简而言之，我们将在下一版本中进行。 站起来后，您会展示原型吗？ <br><br> 他逃离了自己的游戏设计业务，而我打开了IDE。 </blockquote><a name="habracut"></a><br> 实际上，主题“组成与继承”，“香蕉-猴子问题”，“菱形问题（多重继承）”是面试中常见的问题，其形式多样且有充分的理由。 不正确地使用继承会使体系结构复杂化，没有经验的程序员不知道如何处理这种情况，结果开始批评整个OOP并开始编写过程代码。 因此，有经验的程序员（或在Internet上阅读过智能知识的程序员）认为有责任在面试中以各种形式询问此类知识。 普遍的答案是“组成比继承更好，并且不应应用任何灰色阴影。” 刚读完每个这样的答案的人将100％满意。 <br><br> 但是，正如我在本文开头所说的那样，每种体系结构都适合您的项目，如果继承足以满足您的项目的需要，而解决此问题所需的全部工作就是使用香蕉创建Monkey-创建它。 我们的程序员也处于类似情况。 仅仅因为FPS会嘲笑您而拒绝继承是没有意义的。 <br><br><pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Character</span></span></span><span class="hljs-class"> </span></span>{ x = <span class="hljs-number"><span class="hljs-number">0</span></span>; y = <span class="hljs-number"><span class="hljs-number">0</span></span>; moveTo (x, y) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x = x; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y = y; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Character</span></span></span><span class="hljs-class"> </span></span>{ mana = <span class="hljs-number"><span class="hljs-number">100</span></span>; castSpell () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.mana--; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Warrior</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Character</span></span></span><span class="hljs-class"> </span></span>{ stamina = <span class="hljs-number"><span class="hljs-number">100</span></span>; meleeHit () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.stamina--; } }</code> </pre> <br><blockquote> 像以往一样，站立式会议继续进行。 我摇摇椅子上挂了电话，而June Petya试图说服测试人员无法通过鼠标右键进行快速控制不是一个错误，因为在任何地方都没有这样的机会，这意味着您需要将任务交给生产前的部门。 测试人员认为，由于对用户来说，通过右键进行控制似乎是强制性的，因此这是一个错误，而不是功能。 实际上，作为我们团队中唯一在战场服务器上玩游戏的玩家，他想尽快添加此功能，但是他知道，如果您将其放到预生产部门中，那么官僚机器将使其在不迟于4的时间内发布。个月，并且已将其发布为错误-您可以在下一个版本中获得它。 该项目经理一如既往地迟到了，这些家伙是如此激烈地咒骂，以至于他们已经改用垫子了，而且，如果工作室的主管没有受到诅咒并且不带他们去他的办公室，事情很快就会大吵大闹。 可能再次被罚款300美元。 <br><br> 当我离开集会室时，一名游戏设计师跑到我身边，高兴地说，每个人都喜欢原型，他们接受了它，现在这是我们接下来六个月的新项目。 当我们走向桌子时，他热情地告诉我们游戏中将会有哪些新功能。 他发明了多少种不同的咒语，当然，还有一个既可以战斗又可以投掷魔法的圣骑士。 整个艺术家部门已经在开发新动画，而中国已经签署了一项协议，根据该协议，我们的游戏将在他们的市场上发行。 我无声地看了看我的原型代码，深思熟虑，突出显示了所有内容并将其删除。 </blockquote> 我相信，随着时间的流逝，每个程序员根据他的经验，都会开始看到他可能遇到的明显问题。 特别是如果您与一个游戏设计师在团队中长期合作。 我们有很多新要求和功能。 而且，我们以前的“架构”显然无法处理。 <br><br> 当您在面试中被问到类似任务时，他们一定会设法抓住您的。 它们可以有许多不同的形式-鳄鱼，可以游泳和奔跑。 可以发射加农炮或机关枪等的坦克。 此类任务的最重要属性是您拥有一个可以执行多种不同操作的对象。 而且您的继承无法以任何方式处理，因为不可能同时从FlyingObject和SwimmingObject继承，并且不同的对象可以执行不同的操作。 在这一点上，我们放弃继承并继续进行合成： <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Character</span></span></span><span class="hljs-class"> </span></span>{ abilities = []; addAbility (...abilities) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> abilities) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.abilities.push(a); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } getAbility (AbilityClass) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.abilities) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> AbilityClass) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-comment"><span class="hljs-comment">/////////////////////////////////////// // //    ,      //       // /////////////////////////////////////// class Ability {} class HealthAbility extends Ability { health = 100; maxHealth = 100; } class MovementAbility extends Ability { x = 0; y = 0; moveTo(x, y) { this.x = x; this.y = y; } } class SpellCastAbility extends Ability { mana = 100; maxMana = 100; cast () { this.mana--; } } class MeleeFightAbility extends Ability { stamina = 100; maxStamina = 100; constructor (power) { this.power = power; } hit () { this.stamina--; } } /////////////////////////////////////// // //        // /////////////////////////////////////// class CharactersFactory { createMage () { return new Character().addAbility( new MovementAbility(), new HealthAbility(), new SpellCastAbility() ); } createWarrior () { return new Character().addAbility( new MovementAbility(), new HealthAbility(), new MeleeFightAbility(3) ); } createPaladin () { return new Character().addAbility( new MovementAbility(), new HealthAbility(), new SpellCastAbility(), new MeleeFightAbility(2) ); } }</span></span></code> </pre><br> 现在，每个可能的动作都是一个单独的类，具有各自的状态，并且如有必要，我们可以通过向其抛出所需数量的能力来创建独特的角色。 例如，创建不朽的魔法树非常容易： <br><br><pre> <code class="javascript hljs">createMagicTree () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Character().addAbility( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpellCastAbility() ); }</code> </pre> <br> 我们失去了继承，取而代之的是合成。 现在我们创建一个角色并列出他可能的能力。 但这并不意味着继承总是不好的，只是在这种情况下不适合。 理解继承是否正确的最好方法是亲自回答问题，它代表什么关系。 如果此连接为“是”，则表明您是MeleeFightAbility是一项能力，那么它是完美的。 如果仅由于要添加操作并显示“ has-a”而创建了连接，则应考虑组成。 <br><blockquote> 我很高兴看到一个很好的结果。 它运行灵巧，没有错误，梦想中的体系结构！ 我确信它会经过多个时间的考验，而且很长一段时间我们将不必重写它。 我对自己的代码非常热情，以至于甚至都没有注意到June Petya是如何接近我的。 <br><br> 街道已经很暗了，这使他更加高兴地发光。 显然，他设法推迟了任务，并在同事的指导下摆脱了垫子的惩罚，这是上周宣布的。 <br><br> 他迅速说道：“艺术家们只绘制了神圣的动画，我迫不及待地想把它们搞砸了。” 当使用治疗咒语时，飞行道具尤为华丽。 它们是如此绿色，如此加油！ <br><br> 我对自己诅咒，因为我完全忘记了我们仍然必须扭转局面。 该死的，似乎不得不重写架构。 </blockquote> 在此类文章中，通常只描述与模型一起使用的模型，因为它是抽象的且成年的，并且无论将要使用哪种架构，您都可以在“六月”展示“图片”。 尽管如此，我们的模型应该为视图提供最大的信息，以便它可以完成其工作。 在GameDev中，通常使用“ Team”模式。 简而言之-我们有一个没有逻辑的状态，任何变化都应该在相应的团队中发生。 这看起来很复杂，但它具有许多优点： <br>  -当一个团队呼叫另一个团队时，它们结合得很好 <br>  -实际上，每个命令在执行时都是您可以订阅的事件 <br>  -我们可以轻松地序列化它们。 <br><br> 例如，损坏命令可能看起来像这样。 然后，战士将在用剑击中时使用它，而魔术师在被火咒击中时将使用魔术师。 现在，为简单起见，我通过异常实现了命令验证，但随后可以将它们重写为返回码。 <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DealDamageCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (target, damage) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target = target; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damage = damage; } execute () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> healthAbility = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target.getAbility(HealthAbility); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (healthAbility == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'NoHealthAbility'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> resultHealth = healthAbility.health - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damage; healthAbility.health = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max( <span class="hljs-number"><span class="hljs-number">0</span></span>, resultHealth ); } }</code> </pre> <br> 我喜欢制作分层命令-执行一个命令时，它<s>会生出</s>许多孩子，然后由引擎执行。 因此，既然我们有能力造成伤害，我们可以尝试实施近战打击 <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MeleeHitCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (source, target, damage) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source = source; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target = target; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damage = damage; } execute () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fightAbility = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source.getAbility(MeleeFightAbility); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fightAbility == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'NoFightAbility'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChildren([ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DealDamageCommand(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target, fightAbility.power); ]); } }</code> </pre> <br> 这两个团队拥有制作动画所需的一切。 渲染器可以简单地订阅事件并使用以下代码显示艺术家所需的一切： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> onMeleeHit (meleeHitCommand) { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> view.drawMeleeHit( meleeHitCommand.source, meleeHitCommand.target ); } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> onDealDamage (dealDamageCommand) { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> view.showDamageNumbers( dealDamageCommand.target, dealDamageCommand.damage ); }</code> </pre> <br><blockquote> 我输了数，连续一次我一直呆到天黑。 从小开始，游戏的发展就吸引了我，在我看来，这是一种神奇的事物，即使现在，当我从事多年时，我也对此感到焦虑。 尽管我了解到有关它们如何创建的秘密-我并没有对魔术失去信心。 这种魔力使我在夜间充满灵感，并编写了代码。 瓦西亚向我走来。 他绝对不知道如何编程，但与我分享游戏的态度。 <br><br>  -在这里-游戏设计师在我面前摆了200张A4纸上印制的Talmud。 尽管设计文件是合在一起进行的，但我们还是喜欢在重要的阶段进行打印，以便在实际的实施中感觉到这项工作。 我在随机页面上打开它，并找到了法师和圣骑士可以做的各种各样的咒语的清单，包括它们的效果，智力要求，法力价格以及艺术家如何展示它们的大致描述。 工作了很多个月，因为今天我将继续工作。 </blockquote> 我们的体系结构使创建咒语的复杂组合变得容易。 只是每个咒语都可以返回施法期间需要执行的命令列表 <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CastSpellCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (source, target, spell) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source = source; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target = target; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spell = spell; } execute () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> spellAbility = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source.getAbility(SpellCastAbility); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (spellAbility == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'NoSpellCastAbility'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChildren(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PayManaCommand(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spell.manaCost)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChildren(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spell.getCommands(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target)); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spell</span></span></span><span class="hljs-class"> </span></span>{ manaCost = <span class="hljs-number"><span class="hljs-number">0</span></span>; getCommands (source, target) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DamageSpell</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spell</span></span></span><span class="hljs-class"> </span></span>{ manaCost = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (damageValue) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damageValue = damageValue; } getCommands (source, target) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DealDamageCommand(target, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damageValue) ]; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HealSpell</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spell</span></span></span><span class="hljs-class"> </span></span>{ manaCost = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (healValue) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.healValue = healValue; } getCommands (source, target) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HealDamageCommand(target, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.healValue) ]; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VampireSpell</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spell</span></span></span><span class="hljs-class"> </span></span>{ manaCost = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = value; } getCommands (source, target) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DealDamageCommand(target, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HealDamageCommand(source, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value) ]; } }</code> </pre><br><blockquote>  <i>一年半后</i> <br><br> 像以往一样，站立式会议继续进行。 我坐在椅子上摇晃，挂在笔记本电脑上，而中间的佩蒂娅（Middle Petya）与测试人员争论了已经开始的错误。 出于诚意，他试图说服测试人员，在我们的新游戏中通过鼠标右键缺乏控制不应被标记为错误，因为这样的任务从未实现，游戏设计师或小丑也不曾解决。 我有种似曾相识的感觉，但是不和谐的新讯息分散了我的注意力： <br><br>  -听-游戏设计师写道-我有个好主意... </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438510/">https://habr.com/ru/post/zh-CN438510/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438496/index.html">Python + Raspberry Pi + Pixhawk和直升机。 或者如何不制造机器人</a></li>
<li><a href="../zh-CN438498/index.html">如何快速准备面试，这将对算法和信息处理技术产生疑问？</a></li>
<li><a href="../zh-CN438500/index.html">好的方面：擎天柱如何将金士顿和HyperX带入CES 2019</a></li>
<li><a href="../zh-CN438506/index.html">我的第二个冬天在比利时没有雪或地方行政官</a></li>
<li><a href="../zh-CN438508/index.html">人脑活动首先被翻译成清晰的语音</a></li>
<li><a href="../zh-CN438512/index.html">霍夫曼数据压缩</a></li>
<li><a href="../zh-CN438514/index.html">我如何在Sberbank呆了一年</a></li>
<li><a href="../zh-CN438516/index.html">何时将数组的长度保存到C＃中的局部变量中</a></li>
<li><a href="../zh-CN438518/index.html">创建您的jsfiddle，第2部分</a></li>
<li><a href="../zh-CN438522/index.html">战略均衡器</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>