<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèø‚Äçü§ù‚Äçüßëüèº üêõ üë®‚Äçüé§ DBMS multimodal - a base dos sistemas de informa√ß√£o modernos? üìã üë®üèª‚Äçüé§ üèê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os sistemas de informa√ß√£o modernos s√£o bastante complexos. Por √∫ltimo, mas n√£o menos importante, sua complexidade se deve √† complexidade dos dados pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DBMS multimodal - a base dos sistemas de informa√ß√£o modernos?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462493/"><p>  Os sistemas de informa√ß√£o modernos s√£o bastante complexos.  Por √∫ltimo, mas n√£o menos importante, sua complexidade se deve √† complexidade dos dados processados ‚Äã‚Äãneles.  A complexidade dos dados geralmente reside na variedade de modelos de dados usados.  Assim, por exemplo, quando os dados se tornam "grandes", uma das caracter√≠sticas inconvenientes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√© considerada</a> n√£o apenas seu volume ("volume"), mas tamb√©m sua variedade ("variedade"). </p><br><p>  Se voc√™ ainda n√£o encontrar uma falha no racioc√≠nio, continue lendo. </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/94/mx/d8/94mxd8qgj-3patv4bk_mwhbpwaq.jpeg" alt="Shampoo 5 em 1"></a> </p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Conte√∫do do artigo</b> <div class="spoiler_text"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Persist√™ncia poliglota</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Multimodel</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DBMS multimodal com base em um modelo relacional</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modelo de documento no MS SQL Server</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modelo de gr√°fico no MS SQL Server</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DBMS multimodelo com base em um modelo de documento</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modelo Relacional na MarkLogic</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modelo de gr√°fico no MarkLogic</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DBMS multimodal ‚Äúsem o modelo principal‚Äù</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Arangodb</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Oriententb</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Azure CosmosDB</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DBMS multimodal com base em um modelo de gr√°fico?</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Conclus√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Enquete</a> </p></div></div><br><h2 id="polyglot-persistenceanchoranchor">  Persist√™ncia poliglota </h2><br><p>  O precedente leva ao fato de que, √†s vezes, mesmo na estrutura de um sistema, √© necess√°rio usar v√°rios DBMSs diferentes para armazenar dados e resolver v√°rios problemas no processamento deles, cada um dos quais suporta seu pr√≥prio modelo de dados.  Com a m√£o leve de M. Fowler, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">autor de</a> v√°rios livros conhecidos e um dos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">coautores do</a> Agile Manifesto, essa situa√ß√£o foi chamada de <em>armazenamento multivariado</em> ("persist√™ncia poliglota"). </p><br><p>  Fowler tamb√©m possui o seguinte exemplo de organiza√ß√£o de armazenamento de dados em um aplicativo totalmente funcional e altamente carregado no campo do com√©rcio eletr√¥nico. </p><br><p><img src="https://habrastorage.org/webt/01/kr/tj/01krtjyrneny1qg_luwiaycrhwe.png"></p><br><p>  √â claro que este exemplo √© um pouco exagerado, mas algumas considera√ß√µes a favor da escolha de um ou outro DBMS para o objetivo correspondente podem ser encontradas, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  √â claro que ser ministro em um zool√≥gico assim n√£o √© f√°cil. </p><br><ul><li>  A quantidade de c√≥digo que executa o armazenamento de dados cresce proporcionalmente ao n√∫mero de DBMSs usados;  a quantidade de c√≥digo que sincroniza os dados √© boa, se n√£o proporcional ao quadrado desse n√∫mero. </li><li>  Um m√∫ltiplo do n√∫mero de DBMSs usados ‚Äã‚Äãest√° aumentando os custos de fornecer caracter√≠sticas da empresa (escalabilidade, toler√¢ncia a falhas, alta disponibilidade) para cada um dos DBMSs usados. </li><li>  N√£o √© poss√≠vel fornecer as caracter√≠sticas corporativas do subsistema de armazenamento como um todo - especialmente transacional. </li></ul><br><p>  Do ponto de vista do diretor do zool√≥gico, tudo fica assim: </p><br><ul><li>  Um aumento m√∫ltiplo no custo de licen√ßas e suporte t√©cnico do fabricante do DBMS. </li><li>  Os funcion√°rios incham e levam mais tempo. </li><li>  Perdas ou penalidades financeiras diretas devido a dados inconsistentes. </li></ul><br><p>  H√° um aumento significativo no custo total de propriedade do sistema (TCO).  Existe alguma maneira de sair da situa√ß√£o de "armazenamento multivariado"? </p><br><h2 id="multimodelnostanchoranchor">  Multimodel </h2><br><p>  O termo "armazenamento multivariado" entrou em uso em 2011.  A conscientiza√ß√£o dos problemas da abordagem e a busca por uma solu√ß√£o levaram v√°rios anos e, at√© 2015, a resposta foi formulada pela boca dos analistas do Gartner: </p><br><ul><li>  No " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia de mercado para DBMSs NoSQL - 2015</a> ": <br><blockquote>  O futuro do DBMS, suas arquiteturas e m√©todos de uso √© multimodal. <br></blockquote></li><li>  Do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quadrante M√°gico do ODBMS 2016</a> : <br><blockquote>  Os principais DBMSs operacionais oferecer√£o v√°rios modelos - relacionais e n√£o relacionais - como parte de uma √∫nica plataforma. <br></blockquote></li></ul><br><p>  Parece que desta vez os analistas do Gartner n√£o se enganaram com a previs√£o.  Se voc√™ for para a p√°gina com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classifica√ß√£o principal do</a> DBMS nos DB-Engines, poder√° ver que a maioria de seus l√≠deres se posiciona precisamente como DBMSs multimodais.  O mesmo pode ser visto na p√°gina com qualquer classifica√ß√£o privada. </p><br><p>  A tabela abaixo mostra o DBMS - os l√≠deres em cada uma das classifica√ß√µes privadas, declarando seu multi-modelo.  Para cada DBMS, o modelo suportado inicial (antes o √∫nico) √© indicado e, junto com ele, os modelos suportados agora.  Tamb√©m s√£o apresentados DBMSs que se posicionam como ‚Äúinicialmente multimodelos‚Äù e n√£o possuem nenhum modelo herdado original, de acordo com os criadores. </p><br><div class="scrollable-table"><table><thead><tr><th>  DBMS </th><th>  Modelo original </th><th>  Modelos adicionais </th></tr></thead><tbody><tr><td>  Oracle </td><td>  Relacional </td><td>  Gr√°fico, document√°rio </td></tr><tr><td>  MS SQL </td><td>  Relacional </td><td>  Gr√°fico, document√°rio </td></tr><tr><td>  PostgreSQL </td><td>  Relacional </td><td>  Gr√°fico *, document√°rio </td></tr><tr><td>  Marklogic </td><td>  Document√°rio </td><td>  Gr√°fico, relacional </td></tr><tr><td>  Mongodb </td><td>  Document√°rio </td><td>  Valor-chave, gr√°fico * </td></tr><tr><td>  Datatax </td><td>  Coluna larga </td><td>  Document√°rio, gr√°fico </td></tr><tr><td>  Redis </td><td>  Valor-chave </td><td>  Document√°rio, gr√°fico * </td></tr><tr><td>  Arangodb </td><td>  - </td><td>  Gr√°fico, document√°rio </td></tr><tr><td>  Oriententb </td><td>  - </td><td>  Gr√°fico, document√°rio </td></tr><tr><td>  Azure CosmosDB </td><td>  - </td><td>  Gr√°fico, documento, relacional </td></tr></tbody></table></div><br><div class="spoiler">  <b class="spoiler_title">Notas da tabela</b> <div class="spoiler_text"><p>  Asteriscos na tabela marcam instru√ß√µes que exigem reservas: </p><br><ul><li>  O PostgreSQL n√£o suporta um modelo de dados gr√°ficos, mas √© suportado por um produto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">baseado nele</a> , como, por exemplo, AgensGraph. </li><li> Com rela√ß√£o ao MongoDB, √© mais correto falar mais sobre a presen√ßa de operadores de gr√°fico na linguagem de consulta ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>$lookup</code></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>$graphLookup</code></a> ) do que sobre o suporte ao modelo de gr√°fico, embora, √© claro, sua introdu√ß√£o exigisse algumas otimiza√ß√µes no n√≠vel de armazenamento f√≠sico na dire√ß√£o de suportar o modelo de gr√°fico. </li><li>  Para Redis, isso se refere √† extens√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RedisGraph</a> . </li></ul></div></div><br><p>  Al√©m disso, para cada uma das classes, mostraremos como o suporte de v√°rios modelos no DBMS dessa classe √© implementado.  Consideraremos os modelos relacionais, de documentos e gr√°ficos mais importantes e mostraremos com exemplos de DBMS espec√≠fico como os "ausentes" s√£o implementados. </p><br><h2 id="multimodelnye-subd-na-osnove-relyacionnoy-modelianchoranchor">  DBMS multimodal com base em um modelo relacional </h2><br><p>  Os principais DBMSs atualmente s√£o relacionais; a previs√£o do Gartner n√£o poderia ser considerada verdadeira se os RDBMSs n√£o mostrassem movimento na dire√ß√£o da multimodelidade.  E eles demonstram.  Agora, a id√©ia de que um DBMS multimodal √© como uma faca su√≠√ßa, que n√£o pode ser bem executada, pode ser enviada imediatamente para Larry Ellison. </p><br><p>  O autor, no entanto, gosta da implementa√ß√£o de multimodeling no Microsoft SQL Server, no exemplo do qual o suporte ao RDBMS para modelos de documento e gr√°fico ser√° descrito. </p><br><h3 id="dokumentnaya-model-v-ms-sql-serveranchoranchor">  Modelo de documento no MS SQL Server </h3><br><p>  Sobre como o MS SQL Server suporta o modelo de documento, j√° havia dois excelentes artigos sobre Habr√©. Vou me limitar a uma breve recontagem e coment√°rio: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Trabalhando com JSON no SQL Server 2016</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JSON do SQL Server 2017</a> </li></ul><br><p>  A maneira de oferecer suporte ao modelo de documento no MS SQL Server √© bastante t√≠pica para DBMSs relacionais: prop√µe-se que os documentos JSON sejam armazenados em campos de texto sem formata√ß√£o.  O suporte ao modelo de documento √© fornecer operadores especiais para analisar este JSON: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>JSON_VALUE</code></a> para recuperar valores de atributos escalares, </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>JSON_QUERY</code></a> para recuperar subdocumentos. </li></ul><br><p>  O segundo argumento para os dois operadores √© uma express√£o na sintaxe semelhante ao JSONPath. </p><br><p>  Pode-se dizer abstratamente que os documentos armazenados dessa maneira n√£o s√£o "entidades de primeira classe" em um DBMS relacional, diferentemente das tuplas.  Especificamente, o MS SQL Server atualmente n√£o possui √≠ndices nos campos dos documentos JSON, o que dificulta a associa√ß√£o de tabelas pelos valores desses campos e at√© a sele√ß√£o de documentos por esses valores.  No entanto, √© poss√≠vel criar uma coluna comput√°vel e um √≠ndice nela neste campo. </p><br><p>  Al√©m disso, o MS SQL Server fornece a capacidade de construir convenientemente um documento JSON a partir do conte√∫do de tabelas usando a instru√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>FOR JSON PATH</code></a> , um recurso que, em certo sentido, √© o oposto do armazenamento comum anterior.  √â claro que n√£o importa a rapidez com que o RDBMS seja, essa abordagem contradiz a ideologia dos DBMSs de documentos, que de fato armazenam respostas prontas para consultas populares e s√≥ podem resolver problemas de conveni√™ncia de desenvolvimento, mas n√£o de velocidade. </p><br><p>  Por fim, o MS SQL Server permite resolver o problema, o inverso do design do documento: voc√™ pode decompor o JSON em tabelas usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>OPENJSON</code></a> .  Se o documento n√£o estiver completamente plano, voc√™ precisar√° usar o <code>CROSS APPLY</code> . </p><br><h3 id="grafovaya-model-v-ms-sql-serveranchoranchor">  Modelo de gr√°fico no MS SQL Server </h3><br><p>  O suporte para modelos de gr√°fico ( <abbr>LPG</abbr> ) implementados no Microsoft SQL Server tamb√©m √© bastante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">previs√≠vel</a> : prop√µe-se o uso de tabelas especiais para armazenar n√≥s e para armazenar arestas de gr√°fico.  Essas tabelas s√£o criadas usando as express√µes <code>CREATE TABLE AS NODE</code> e <code>CREATE TABLE AS EDGE</code> respectivamente. </p><br><p>  As tabelas do primeiro tipo s√£o semelhantes √†s tabelas comuns para armazenar registros com a √∫nica diferen√ßa externa de que a tabela cont√©m o campo do sistema <code>$node_id</code> - um identificador exclusivo do n√≥ do gr√°fico no banco de dados. </p><br><p>  Da mesma forma, as tabelas do segundo tipo t√™m os campos do sistema <code>$from_id</code> e <code>$to_id</code> , os registros nessas tabelas definem claramente os relacionamentos entre os n√≥s.  Uma tabela separada √© usada para armazenar relacionamentos de cada tipo. </p><br><p><img src="https://habrastorage.org/webt/ts/yx/yf/tsyxyfmueakjzmknlgaqxzkwx-o.png" align="right">  Ilustramos o que foi dito pelo exemplo.  Deixe que os dados do gr√°fico tenham um esquema, como mostrado na figura.  Em seguida, para criar a estrutura correspondente no banco de dados, √© necess√°rio executar as seguintes consultas DDL: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> Person ( <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> NODE; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> Cafe ( <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>), ) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> NODE; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> likes ( rating <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> EDGE; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> friendOf <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> EDGE; <span class="hljs-comment"><span class="hljs-comment">/*   SQL Server 2019: ALTER TABLE likes ADD CONSTRAINT EC_LIKES CONNECTION (Person TO Cafe); */</span></span></code> </pre> <br><p>  A principal especificidade dessas tabelas √© que √© poss√≠vel usar padr√µes de gr√°ficos com sintaxe semelhante ao Cypher em consultas para elas (no entanto, ‚Äú <code>*</code> ‚Äù etc., ainda n√£o s√£o suportados).  Al√©m disso, com base nas medi√ß√µes de desempenho, pode-se supor que o m√©todo de armazenamento de dados nessas tabelas seja diferente do mecanismo de armazenamento de dados em tabelas comuns e seja otimizado para executar essas consultas gr√°ficas. </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> Cafe.name <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Person, likes, Cafe <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCH</span></span> (Person-(friendOf)-(likes)-&gt;Cafe) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> Person.name = <span class="hljs-string"><span class="hljs-string">'John'</span></span>;</code> </pre> <br><p>  Al√©m disso, √© bastante dif√≠cil n√£o usar esses padr√µes gr√°ficos ao trabalhar com essas tabelas, pois em consultas SQL comuns para resolver problemas semelhantes, ser√£o necess√°rios esfor√ßos adicionais para obter identificadores de n√≥ do "gr√°fico" do sistema ( <code>$from_id</code> , <code>$to_id</code> , <code>$from_id</code> , <code>$to_id</code> ; para isso pelo mesmo motivo, as solicita√ß√µes de inser√ß√£o de dados n√£o s√£o fornecidas aqui como muito complicadas). <br></p><br><p>  Resumindo a descri√ß√£o das implementa√ß√µes dos modelos de documento e gr√°fico no MS SQL Server, eu observaria que essas implementa√ß√µes de um modelo em cima de outro n√£o parecem bem-sucedidas principalmente do ponto de vista do design de linguagem.  √â necess√°rio expandir um idioma com outro, os idiomas n√£o s√£o completamente "ortogonais", as regras de compatibilidade podem ser bastante bizarras. </p><br><h2 id="multimodelnye-subd-na-osnove-dokumentnoy-modelianchoranchor">  DBMS multimodelo com base em um modelo de documento </h2><br><p>  Nesta se√ß√£o, gostaria de ilustrar a implementa√ß√£o do multimodelo nos DBMSs de documentos usando o exemplo dos n√£o mais populares deles, o MongoDB (como foi dito, ele cont√©m apenas condicionalmente operadores de gr√°fico <code>$lookup</code> e <code>$graphLookup</code> que n√£o funcionam em cole√ß√µes de shard), mas no exemplo √© mais maduro e ‚Äú Empresa ¬ªDBMS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MarkLogic</a> . </p><br><p>  Portanto, deixe a cole√ß√£o conter um conjunto de documentos XML do seguinte formato (o MarkLogic tamb√©m permite armazenar documentos JSON): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Person</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">INN</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"631803299804"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>John<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">surname</span></span></span><span class="hljs-tag">&gt;</span></span>Smith<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">surname</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Person</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="relyacionnaya-model-v-marklogicanchoranchor">  Modelo Relacional na MarkLogic </h3><br><p>  Uma representa√ß√£o relacional de uma cole√ß√£o de documentos pode ser criada usando um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modelo de exibi√ß√£o</a> (o conte√∫do dos elementos de <code>value</code> no exemplo abaixo pode ser XPath arbitr√°rio): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://marklogic.com/xdmp/tde"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span>/Person<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rows</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">row</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">view-name</span></span></span><span class="hljs-tag">&gt;</span></span>Person<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">view-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">columns</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>SSN<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>@SSN<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span>string<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>surname<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>surname<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">columns</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">row</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rows</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Uma consulta SQL pode ser endere√ßada √† visualiza√ß√£o criada (por exemplo, via ODBC): </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Person <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>=<span class="hljs-string"><span class="hljs-string">"John"</span></span></code> </pre> <br><p>  Infelizmente, a vis√£o relacional criada usando o modelo de exibi√ß√£o √© somente leitura.  Ao processar uma solicita√ß√£o, o MarkLogic tentar√° usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√≠ndices de documentos</a> .  Costumava haver visualiza√ß√µes relacionais limitadas no MarkLogic que eram inteiramente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">baseadas em √≠ndices</a> e grav√°veis, mas agora elas s√£o consideradas obsoletas. </p><br><h3 id="grafovaya-model-v-marklogicanchoranchor">  Modelo de gr√°fico no MarkLogic </h3><br><p>  Com o suporte ao modelo de gr√°fico ( <abbr>RDF</abbr> ), as coisas s√£o praticamente as mesmas.  Novamente, usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o modelo de exibi√ß√£o,</a> voc√™ pode criar uma representa√ß√£o RDF da cole√ß√£o de documentos a partir do exemplo acima: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://marklogic.com/xdmp/tde"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span>/Person<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vars</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">var</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>PREFIX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">val</span></span></span><span class="hljs-tag">&gt;</span></span>"http://example.org/example#"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">val</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">var</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vars</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triples</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triple</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subject</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>sem:iri( $PREFIX || @SSN )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subject</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">predicate</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>sem:iri( $PREFIX || surname )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">predicate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>xs:string( surname )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triple</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triple</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subject</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>sem:iri( $PREFIX || @SSN )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subject</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">predicate</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>sem:iri( $PREFIX || name )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">predicate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>xs:string( name )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triple</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triples</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  O gr√°fico RDF resultante pode ser endere√ßado com uma consulta SPARQL: </p><br><pre> <code class="sql hljs">PREFIX : &lt;http://example.org/example<span class="hljs-comment"><span class="hljs-comment">#&gt; SELECT ?name ?surname { :631803299804 :name ?name ; :surname ?surname . }</span></span></code> </pre> <br><p>  Diferente do relacional, o modelo gr√°fico MarkLogic suporta de duas outras maneiras: </p><br><ol><li>  O DBMS pode ser um reposit√≥rio separado completo de dados RDF (os trig√™meos nele ser√£o chamados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gerenciados,</a> em oposi√ß√£o √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">extra√ß√£o extra√≠da</a> acima). </li><li>  RDF em serializa√ß√£o especial pode simplesmente ser inserido em documentos XML ou JSON (e os trig√™meos ser√£o chamados de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√£o gerenciados</a> ).  Provavelmente, essa √© uma alternativa aos mecanismos de <code>idref</code> etc. </li></ol><br><p>  A <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">API do Optic</a> fornece uma boa id√©ia de como "realmente" tudo funciona no MarkLogic; nesse sentido, √© de baixo n√≠vel, embora seu objetivo seja o oposto - tentar abstrair do modelo de dados usado, garantir trabalho consistente com dados em diferentes modelos, transacionalidade e pr </p><br><h2 id="multimodelnye-subd-bez-osnovnoy-modelianchoranchor">  DBMS multimodal ‚Äúsem o modelo principal‚Äù </h2><br><p>  Os DBMSs tamb√©m est√£o dispon√≠veis no mercado, posicionando-se inicialmente como multi-modelos, sem nenhum modelo b√°sico herdado.  Isso inclui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ArangoDB</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OrientDB</a> (desde 2018, a empresa de desenvolvimento pertence √† SAP) e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CosmosDB</a> (um servi√ßo inclu√≠do na plataforma em nuvem Microsoft Azure). </p><br><p>  De fato, existem modelos "b√°sicos" no ArangoDB e no OrientDB.  Nos dois casos, esses s√£o modelos de dados propriet√°rios, que s√£o generaliza√ß√µes de documentos.  As generaliza√ß√µes s√£o principalmente para facilitar a capacidade de produzir consultas gr√°ficas e relacionais. </p><br><p>  Esses modelos s√£o os √∫nicos dispon√≠veis para uso nos DBMSs indicados; suas pr√≥prias linguagens de consulta foram projetadas para trabalhar com eles.  Obviamente, esses modelos e DBMSs s√£o promissores, mas a falta de compatibilidade com modelos e linguagens padr√£o torna imposs√≠vel o uso desses DBMSs em sistemas legados - substituindo-os pelo DBMS que eles j√° usam. </p><br><p>  Sobre o ArangoDB e o OrientDB no Habr√©, j√° havia um artigo maravilhoso: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JOIN nos bancos de dados NoSQL</a> . </p><br><h3 id="arangodbanchoranchor">  Arangodb </h3><br><p>  O ArangoDB reivindica suporte para um modelo de dados gr√°ficos. </p><br><p>  Os n√≥s de gr√°fico no ArangoDB s√£o documentos comuns e as bordas s√£o documentos de um tipo especial que possuem, juntamente com os campos usuais do sistema ( <code>_key</code> , <code>_id</code> , <code>_rev</code> ), os campos <code>_from</code> e <code>_to</code> do sistema.  Os documentos nos DBMSs de documentos s√£o tradicionalmente combinados em cole√ß√µes.  Cole√ß√µes de documentos que representam bordas s√£o chamadas cole√ß√µes de bordas no ArangoDB.  A prop√≥sito, os documentos de cole√ß√µes de arestas tamb√©m s√£o documentos, portanto as arestas no ArangoDB tamb√©m podem atuar como n√≥s. </p><br><div class="spoiler">  <b class="spoiler_title">Dados de origem</b> <div class="spoiler_text"><p>  Suponha que tenhamos uma cole√ß√£o de <code>persons</code> cujos documentos s√£o assim: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"people/alice"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"alice"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"people/bob"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"bob"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> } ]</code> </pre> <br><p>  Vamos tamb√©m ter uma cole√ß√£o de <code>cafes</code> : </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jd"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"jd"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">" "</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jj"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"jj"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"-"</span></span> } ]</code> </pre> <br><p>  Em seguida, a cole√ß√£o de <code>likes</code> pode ficar assim: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"likes/1"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"1"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_from"</span></span> : <span class="hljs-string"><span class="hljs-string">"persons/alice"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_to"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jd"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span> : <span class="hljs-number"><span class="hljs-number">2010</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"likes/2"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"2"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_from"</span></span> : <span class="hljs-string"><span class="hljs-string">"persons/alice"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_to"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jj"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span> : <span class="hljs-number"><span class="hljs-number">2011</span></span> } , { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"likes/3"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"3"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_from"</span></span> : <span class="hljs-string"><span class="hljs-string">"persons/bob"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_to"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jd"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span> : <span class="hljs-number"><span class="hljs-number">2012</span></span> } ]</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Consultas e Resultados</b> <div class="spoiler_text"><p>  Uma consulta em estilo gr√°fico no AQL usada no ArangoDB que retorna informa√ß√µes de forma leg√≠vel por humanos sobre quem gosta de qual caf√© se parece com isso: </p><br><pre> <code class="plaintext hljs">FOR p IN persons FOR c IN OUTBOUND p likes RETURN { person : p.name , likes : c.name }</code> </pre> <br><p>  Em um estilo relacional, quando √© mais prov√°vel que "calculemos" os relacionamentos, em vez de armazen√°-los, essa consulta pode ser reescrita assim (a prop√≥sito, voc√™ poderia fazer sem a cole√ß√£o de <code>likes</code> ): </p><br><pre> <code class="plaintext hljs">FOR p IN persons FOR l IN likes FILTER p._key == l._from FOR c IN cafes FILTER l._to == c._key RETURN { person : p.name , likes : c.name }</code> </pre> <br><p>  O resultado em ambos os casos ser√° o mesmo: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : <span class="hljs-string"><span class="hljs-string">"-"</span></span> } , { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : <span class="hljs-string"><span class="hljs-string">" "</span></span> } , { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : <span class="hljs-string"><span class="hljs-string">" "</span></span> } ]</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Mais consultas e resultados</b> <div class="spoiler_text"><p>  Se parece que o formato do resultado acima √© mais t√≠pico para um DBMS relacional do que para um documento, voc√™ pode tentar esta consulta (ou pode usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>COLLECT</code></a> ): </p><br><pre> <code class="plaintext hljs">FOR p IN persons RETURN { person : p.name, likes : ( FOR c IN OUTBOUND p likes RETURN c.name ) }</code> </pre> <br><p>  O resultado ser√° o seguinte: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : [<span class="hljs-string"><span class="hljs-string">"-"</span></span> , <span class="hljs-string"><span class="hljs-string">" "</span></span>] } , { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : [<span class="hljs-string"><span class="hljs-string">" "</span></span>] } ]</code> </pre> </div></div><br><h3 id="orientdbanchoranchor">  Oriententb </h3><br><p>  A implementa√ß√£o do modelo de gr√°fico na parte superior do modelo de documento no OrientDB baseia-se na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">capacidade</a> dos campos de documento de ter, al√©m de valores escalares mais ou menos padr√£o, valores de tipos como <code>LINK</code> , <code>LINKLIST</code> , <code>LINKSET</code> , <code>LINKMAP</code> e <code>LINKBAG</code> .  Os valores desses tipos s√£o links ou cole√ß√µes de links para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">identificadores de</a> documentos do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sistema</a> . </p><br><p>  O identificador de documento atribu√≠do pelo sistema tem um "significado f√≠sico", indicando a posi√ß√£o do registro no banco de dados, e se parece com isso: <code>@rid : #3:16</code> .  Assim, os valores das propriedades de refer√™ncia s√£o realmente mais prov√°veis ‚Äã‚Äã(como em um modelo de gr√°fico), em vez de condi√ß√µes de sele√ß√£o (como em um modelo relacional). </p><br><p>  Como no ArangoDB, no OrientDB, as bordas s√£o representadas como documentos separados (embora, se a borda n√£o tiver suas pr√≥prias propriedades, ela poder√° ficar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">leve</a> e um documento separado n√£o corresponder√° a ela). </p><br><div class="spoiler">  <b class="spoiler_title">Dados de origem</b> <div class="spoiler_text"><p>  Em um formato pr√≥ximo ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">formato de despejo de</a> banco de dados do OrientDB, os dados do exemplo anterior do ArangoDB se pareceriam com isso: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#11:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Person"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out_likes"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"#30:1"</span></span>, <span class="hljs-string"><span class="hljs-string">"#30:2"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"out_likes=LINKBAG"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#12:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Person"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out_likes"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"#30:3"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"out_likes=LINKBAG"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#21:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Cafe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"-"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in_likes"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"#30:2"</span></span>, <span class="hljs-string"><span class="hljs-string">"#30:3"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in_likes=LINKBAG"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#22:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Cafe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in_likes"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"#30:1"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in_likes=LINKBAG"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#30:1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"likes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in"</span></span>: <span class="hljs-string"><span class="hljs-string">"#22:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out"</span></span>: <span class="hljs-string"><span class="hljs-string">"#11:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span>: <span class="hljs-number"><span class="hljs-number">1262286000000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in=LINK,out=LINK,since=date"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#30:2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"likes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in"</span></span>: <span class="hljs-string"><span class="hljs-string">"#21:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out"</span></span>: <span class="hljs-string"><span class="hljs-string">"#11:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span>: <span class="hljs-number"><span class="hljs-number">1293822000000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in=LINK,out=LINK,since=date"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#30:3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"likes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in"</span></span>: <span class="hljs-string"><span class="hljs-string">"#21:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out"</span></span>: <span class="hljs-string"><span class="hljs-string">"#12:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span>: <span class="hljs-number"><span class="hljs-number">1325354400000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in=LINK,out=LINK,since=date"</span></span> } ]</code> </pre> <br><p>  Como podemos ver, os v√©rtices tamb√©m armazenam informa√ß√µes sobre as arestas de entrada e sa√≠da.  Ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usar a</a> API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">do</a> documento, voc√™ deve seguir a integridade referencial e a API do Graph cuida disso.  Mas vamos ver como √© a chamada para o OrientDB em "limpa", n√£o integrada a linguagens de programa√ß√£o e linguagens de consulta. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Consultas e Resultados</b> <div class="spoiler_text"><p>  Uma consulta de prop√≥sito semelhante √† consulta do exemplo para ArangoDB no OrientDB se parece com isso: </p><br><pre> <code class="plaintext hljs">SELECT name AS person_name, OUT('likes').name AS cafe_name FROM Person UNWIND cafe_name</code> </pre> <br><p>  O resultado ser√° obtido da seguinte forma: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"-"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"-"</span></span> } ]</code> </pre> <br><p>  Se o formato do resultado novamente parecer muito "relacional", voc√™ precisar√° remover a linha com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>UNWIND()</code></a> : </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: [ <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"-"</span></span> ] }, { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"-"</span></span> ' } ]</code> </pre> <br><p>  A linguagem de consulta do OrientDB pode ser descrita como SQL com inser√ß√µes semelhantes ao Gremlin.  A vers√£o 2.2 introduziu um formul√°rio de solicita√ß√£o semelhante ao Cypher, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>MATCH</code></a> : </p><br><pre> <code class="plaintext hljs">MATCH {CLASS: Person, AS: person}-likes-&gt;{CLASS: Cafe, AS: cafe} RETURN person.name AS person_name, LIST(cafe.name) AS cafe_name GROUP BY person_name</code> </pre> <br><p>  O formato do resultado ser√° o mesmo da consulta anterior.  Pense no que precisa ser removido para torn√°-lo mais "relacional", como na primeira consulta. </p></div></div><br><h3 id="azure-cosmosdbanchoranchor">  Azure CosmosDB </h3><br><p>  Em menor grau, o que foi dito acima sobre o ArangoDB e o OrientDB refere-se ao Azure CosmosDB.  O CosmosDB fornece as seguintes APIs de acesso a dados: SQL, MongoDB, Gremlin e Cassandra. </p><br><p>  A API SQL e a API MongoDB s√£o usadas para acessar dados no modelo de documento.  API Gremlin e Cassandra API - para acessar dados em gr√°fico e coluna, respectivamente.  Os dados em todos os modelos s√£o salvos no formato do modelo interno do CosmosDB: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ARS</a> (‚Äúatom-record-sequence‚Äù), que tamb√©m est√° pr√≥ximo do documento. </p><br><p><img src="https://habrastorage.org/webt/8g/qw/ns/8gqwnsgawddcuvu4yi46--0bdk8.png"></p><br><p>  Mas o modelo de dados selecionado pelo usu√°rio e a API usada s√£o corrigidos no momento da cria√ß√£o da conta no servi√ßo.  √â imposs√≠vel acessar os dados carregados em um modelo no formato de outro modelo, o que seria ilustrado por algo assim: </p><br><p><img src="https://habrastorage.org/webt/lv/hx/lw/lvhxlwpyyu4aub0riqjp6h2lagq.png"></p><br><p>  Portanto, hoje, o multimodelo no Azure CosmosDB √© apenas uma oportunidade de usar v√°rios bancos de dados que oferecem suporte a modelos diferentes do mesmo fabricante, o que n√£o resolve todos os problemas do armazenamento multivariado. </p><br><h2 id="multimodelnye-subd-na-osnove-grafovoy-modelianchoranchor">  DBMS multimodal com base em um modelo de gr√°fico? </h2><br><p>  Vale ressaltar que no mercado n√£o existem DBMSs multimodais baseados em um modelo gr√°fico (exceto no suporte multimodelo para dois modelos gr√°ficos simultaneamente: RDF e LPG; veja isso em uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">publica√ß√£o anterior</a> ).  As maiores dificuldades s√£o a implementa√ß√£o no topo do modelo gr√°fico do documento, em vez do relacional. </p><br><p>  A quest√£o de como implementar um modelo relacional sobre um modelo de gr√°fico foi considerada mesmo no momento da forma√ß√£o do √∫ltimo.  Como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">David McGovern</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">disse</a> , por exemplo: </p><br><blockquote>  N√£o h√° nada inerente √† abordagem de gr√°fico que impe√ßa a cria√ß√£o de uma camada (por exemplo, por indexa√ß√£o adequada) em um banco de dados de gr√°ficos que permita uma vis√£o relacional com (1) recupera√ß√£o de tuplas dos pares de valores-chave usuais e (2) agrupamento de tuplas por tipo de rela√ß√£o. </blockquote><p>  Ao implementar o modelo de documento na parte superior do gr√°fico, lembre-se, por exemplo, do seguinte: </p><br><ul><li>  Os elementos da matriz JSON s√£o considerados ordenados, vindos da parte superior da borda do gr√°fico - n√£o; </li><li>  Os dados no modelo de documento geralmente s√£o desnormalizados, voc√™ ainda n√£o deseja armazenar v√°rias c√≥pias do mesmo documento anexado e os subdocumentos geralmente n√£o t√™m identificadores; </li><li>  Por outro lado, a ideologia dos DBMSs de documentos √© que os documentos s√£o ‚Äúunidades‚Äù prontas que n√£o precisam ser reconstru√≠das todas as vezes.  √â necess√°rio fornecer no modelo gr√°fico a capacidade de obter rapidamente o subgrafo correspondente ao documento final. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Alguma publicidade</b> <div class="spoiler_text"><p>  O autor do artigo est√° relacionado ao desenvolvimento do NitrosBase DBMS, cujo modelo interno √© gr√°fico, e os modelos externos - relacionais e documentais - s√£o suas representa√ß√µes.  Todos os modelos s√£o iguais: quase todos os dados est√£o dispon√≠veis em qualquer um deles, usando a linguagem de consulta natural para ele.  Al√©m disso, em qualquer representa√ß√£o, os dados est√£o sujeitos a altera√ß√µes.  As mudan√ßas ser√£o refletidas no modelo interno e, consequentemente, em outras representa√ß√µes. </p><br><p>  Qual a apar√™ncia do modelo no NitrosBase - descreverei, espero, em um dos seguintes artigos. </p></div></div><br><h1 id="zaklyuchenieanchoranchor">  Conclus√£o </h1><br><p>  Espero que os contornos gerais do chamado multimodelo se tornem mais ou menos claros para o leitor.  DBMSs bastante diferentes s√£o chamados de multimodelos e o "suporte para v√°rios modelos" pode parecer diferente.  Para entender o que √© chamado de "multi-modelo" em cada caso, √© √∫til responder √†s seguintes perguntas: </p><br><ol><li>  Trata-se de suportar modelos tradicionais ou de um √∫nico modelo h√≠brido? </li><li>  Os modelos s√£o "iguais" ou um deles est√° sujeito aos outros? </li><li>  Os modelos s√£o "indiferentes" um ao outro?  Os dados gravados em um modelo podem ser lidos em outro ou at√© substitu√≠dos? </li></ol><br><p>  Penso que j√° √© poss√≠vel dar uma resposta positiva √† quest√£o da relev√¢ncia dos SGBDs multimodelos, mas a quest√£o interessante √© qual de suas variedades ser√° mais popular no futuro pr√≥ximo.  Parece que os DBMSs multimodais que suportam modelos tradicionais, principalmente relacionais, ser√£o mais procurados;    ,   ,      , ‚Äî    . </p><br><h2 id="anchoranchorhr"><hr></h2></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt462493/">https://habr.com/ru/post/pt462493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt462481/index.html">Tipo Perguntas frequentes do sistema</a></li>
<li><a href="../pt462483/index.html">Programa√ß√£o funcional: um brinquedo maluco que mata a produtividade do trabalho. Parte 1</a></li>
<li><a href="../pt462485/index.html">Programa√ß√£o funcional: um brinquedo maluco que mata a produtividade do trabalho. Parte 2</a></li>
<li><a href="../pt462487/index.html">Cython: Acelera√ß√£o de c√≥digo Python acima de 30x</a></li>
<li><a href="../pt462489/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n ¬∞ 374 (29 de julho a 4 de agosto de 2019)</a></li>
<li><a href="../pt462495/index.html">Eventos digitais em Moscou de 05 a 11 de agosto</a></li>
<li><a href="../pt462501/index.html">Por que preciso da minha pr√≥pria autoridade de certifica√ß√£o</a></li>
<li><a href="../pt462503/index.html">Quais s√£o os ‚Äúsinais de ouro‚Äù do monitoramento e do SRE?</a></li>
<li><a href="../pt462505/index.html">N√£o me engane com sua programa√ß√£o funcional</a></li>
<li><a href="../pt462507/index.html">Quando o correio √© entregue: combatendo a perda de notifica√ß√µes por push no iOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>