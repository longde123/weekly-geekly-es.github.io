<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçê üë©üèΩ‚Äçü§ù‚Äçüë©üèº üëÇüèΩ Como eu tentei consertar uma pesquisa no mapa por drivers. Parte 3 (final) üë©üèø üïö ‚ùé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Portanto, esta √© a terceira parte da minha tentativa de repensar a pesquisa usual no mapa. A primeira parte est√° aqui e a segunda aqui - elas s√£o mais...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como eu tentei consertar uma pesquisa no mapa por drivers. Parte 3 (final)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459408/">  Portanto, esta √© a terceira parte da minha tentativa de repensar a pesquisa usual no mapa.  A primeira parte est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> e a segunda <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> - elas s√£o mais t√©cnicas, mas voc√™ pode passar por seus olhos para entender melhor.  Em poucas palavras, soa assim: estou cansado de vasculhar os mapas enquanto dirige, tentando encontrar o posto de gasolina mais pr√≥ximo entre pequenos √≠cones e an√∫ncios.  Em vez disso, gostaria apenas de olhar a tela do aplicativo.  Para classificar os locais mais pr√≥ximos por tempo de condu√ß√£o, ele os mostraria com uma lista, explicaria quais deles est√£o a caminho e qual tr√°fego √© para eles.  Que ideia. <br><br><img src="https://habrastorage.org/webt/se/8d/zc/se8dzcted-wwevfuwz6fcafp-7o.png" width="700"><br><br>  Na verdade, pela vers√£o 3.0 do aplicativo, finalmente foi poss√≠vel implementar todas as fun√ß√µes b√°sicas que eu queria.  Ap√≥s o √∫ltimo artigo desta s√©rie, v√°rias pessoas fizeram o download e at√© escreveram cr√≠ticas - obrigado, ouvi todos.  Trabalhei intensamente na nova vers√£o do m√™s por dois meses, n√£o consigo listar todas as pequenas altera√ß√µes - na verdade, esse √© um aplicativo 80% novo.  Com uma interface radicalmente aprimorada, duas vezes mais r√°pida e muito mais est√°vel.  Mais uma vez, convido simpatizantes a avaliar e repreender.  E sob o corte novamente pontos t√©cnicos. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aqui est√£o os links para iPhone e Android</a> <br><a name="habracut"></a><br><h3>  Engarrafamentos </h3><br>  Uma das principais reclama√ß√µes sobre a vers√£o anterior do aplicativo foi o c√°lculo incorreto do tempo - eu o implementei por meio da Open Source Routing Machine, e ele considerou o tempo l√≠quido da estrada.  Durante per√≠odos de tr√°fego m√≠nimo (por exemplo, √† noite), meus n√∫meros coincidiam com o fato de terem emitido os mesmos cart√µes do Google, mas na maioria dos casos a estimativa era pelo menos extremamente otimista.  Isso nivelou o pr√≥prio significado do aplicativo em si e foi necess√°rio criar alguma coisa. <br><br>  H√° duas maneiras de resolver isso: recorrer a uma API de terceiros ou tentar extrair pesos de tr√°fego de algum lugar e importar para si mesmo.  Eu realmente n√£o queria depender de ningu√©m, ent√£o passei algum tempo procurando uma segunda solu√ß√£o.  Os resultados foram decepcionantes: nunca encontrei um banco de dados de pesos de tr√°fego com uma cobertura global compat√≠vel com o OpenStreetMap.  Existem algumas bases abertas para partes da Europa e da Am√©rica que, em teoria, podem ser costuradas com OSM ao pular com um pandeiro - mas, no final, refletindo, decidi n√£o me envolver.  √â claro que a oportunidade de hospedar a navega√ß√£o com tr√°fego atraiu, mas eles assustaram a cobertura incompleta, as dificuldades de integra√ß√£o, os erros e o fato de o tr√°fego ter sido armazenado em cache, e n√£o em tempo real.  Em suma, novamente gaste muito tempo e obtenha um min√∫sculo no final. <br><br>  Percebendo que, em nosso tempo sem API, um tio grande n√£o est√° em lugar algum, comecei a procurar um tio adequado e barato.  Tendo trope√ßado, optei pelos servi√ßos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HERE</a> - esses s√£o antigos cart√µes Nokia, e a Microsoft os levou para mim, deixando-os como uma unidade separada.  Pelo que entendi, eles agora trabalham principalmente com clientes corporativos (por exemplo, na log√≠stica) e t√™m uma API bastante s√£ e limpa.  E o mais importante, eles t√™m tr√°fego global em tempo real e cotas bastante generosas.  Uma escolha √≥bvia, mas eu decidi tentar. <br><br>  A integra√ß√£o acabou sendo bem simples.  Um papel significativo aqui foi desempenhado pela flexibilidade geral da arquitetura, que eu inspirei.  Se desejar, agora √© f√°cil integrar pelo menos o Google, pelo menos congestionamentos de tr√°fego Yandex.  Eu fiz o HERE HERE desconectado do fallback para a minha navega√ß√£o antiga.  Finalmente, comparando os valores sem tr√°fego (o meu) e com o tr√°fego, voc√™ pode derivar uma estimativa geral - uma estrada vazia, tr√°fego leve, m√©dia e assim por diante. <br><br><h3>  Mapas - Lista </h3><br>  Os mapas foram a segunda reivindica√ß√£o principal do aplicativo.  Passei uma quantidade incr√≠vel de tempo desenhando minhas pr√≥prias visualiza√ß√µes da rota e do mapa geral, e at√© funcionou - mas a gera√ß√£o de blocos rasterizados com um design elegante desperdi√ßou drasticamente o servidor.  Se, no modo de teste, as imagens aparecerem em meio segundo, com uma audi√™ncia real (mesmo que pequena), as pessoas podem esperar at√© cinco ou at√© dez (!!!!) segundos.  Especialmente se o peda√ßo do mapa era grande - ent√£o meu c√≥digo mastigava e renderizava um monte de dados vetoriais.  Al√©m disso, esse processo n√£o √© particularmente paralelo: houve gargalos e todas as linhas foram rapidamente entupidas.  Em geral, tristeza. <br><br>  O que fazer, era √≥bvio - jogue fora as miniaturas das cartas para o inferno.  Eu lutei comigo mesmo por um longo tempo (tudo o que fiz por tanto tempo), mas no final tomei uma decis√£o forte e, em geral, fiz a coisa certa.  Quando as fotos enormes e muitas vezes n√£o carregadas deixaram, ficou mais calmo e muito espa√ßo na tela foi liberado.  Mesmo preenchendo-o com novos dados e aumentando os r√≥tulos, fui capaz de pressionar na tela duas vezes mais resultados do que antes. <br><br><img src="https://habrastorage.org/webt/-j/dz/l_/-jdzl_x05uvt82jclntblrr-85s.png" width="500"><br><br><h3>  Mapas - Novo modo </h3><br>  Mas com o cart√£o comum, eu agi de maneira diferente.  Ningu√©m (inclusive eu) conseguia entender por que, de fato, √© necess√°rio.  Foi feito por conta pr√≥pria, desajeitado, carregado para sempre e, em geral, foi criado originalmente para depura√ß√£o.  No entanto, a imagem visual do is√≥crono, por algum motivo, continuou aquecendo minha alma e, como resultado, permaneceu ocupando um lugar na interface.  Ent√£o decidi: vamos tentar criar um modo de visualiza√ß√£o alternativo completo a partir dessa imagem sem sentido.  Se algu√©m n√£o gostar da lista e ler o mapa com mais facilidade - por que n√£o?  Al√©m disso, eu ainda tinha algumas id√©ias que n√£o poderiam ser encontradas em nenhum outro lugar. <br><br>  Relutantemente, joguei fora minha foto (o servidor que estava gemendo com a carga ficou agradecido por isso).  Em vez disso, constru√≠ um mapa completo por meio do plug-in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">flutter_map</a> - peguei os blocos de fundo do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mapbox</a> - e comecei a mostrar nele minha posi√ß√£o e os pontos dos resultados.  A necessidade de agrupar esses pontos surgiu quase imediatamente, e rapidamente descrevi o c√≥digo de agrupamento baseado em dist√¢ncia.  √â bastante primitivo, mas cobre 90% dos casos.  Sob tudo isso, plantei novamente minha amada mancha verde de isocrona.  Por fim, a legenda do mapa tamb√©m se tornou interativa: toque no n√∫mero de resultados e concentre o mapa em pontos e toque no is√≥crono de tempo.  Bastante confort√°vel. <br><br><img src="https://habrastorage.org/webt/ku/zr/k3/kuzrk32zkv4bv7bclyqc-1fslh8.png" width="500"><br><br>  Uma das id√©ias em que senti o valor, mas n√£o consegui formul√°-lo de nenhuma maneira, foi exibir a rota atual e o vetor de movimento do ve√≠culo.  Tentei coloc√°-lo nos cart√µes de rota de maneiras diferentes, mas em nenhum lugar parecia org√¢nico e em seu lugar.  E, finalmente, quase desesperado, percebi: o novo modo de mapa √© ideal para esse chip.  Porque no modo de lista, escrevo diretamente com texto, em algum lugar ou n√£o - mas no mapa isso √© sempre incompreens√≠vel.  Mesmo no Google ou na Apple, voc√™ observa um setor da b√∫ssola em constante rota√ß√£o e, durante muito tempo, n√£o entende em que dire√ß√£o est√° indo. <br><br>  Inspirado, sentei-me para trabalhar.  Eu tive que refatorar um monte de c√≥digo ao longo do caminho, mas depois de alguns dias a l√≥gica estava pronta.  Decidi n√£o atualizar a posi√ß√£o a cada 200 metros, como resultado, mas com mais frequ√™ncia a 10 metros. Cada atualiza√ß√£o recalcula o vetor de movimento e, por isso, √© muito preciso, porque depende n√£o do aceler√¥metro, mas da posi√ß√£o anterior.  A rota (isto √©, uma matriz da hist√≥ria de nossas coordenadas) eu tra√ßo no mapa com uma linha e a dire√ß√£o do movimento - com uma seta.  Tudo isso √© atualizado quase em tempo real, e voc√™ nem imagina o quanto o mapa transformou e se tornou mais conveniente. <br><br><img src="https://habrastorage.org/webt/bf/7a/3n/bf7a3nmbbi1dzwfvez3y5fs-pww.png" width="250"><br><br>  Uma nuance separada foi o fato de que, nos primeiros segundos de recebimento de um local, o GPS ainda √© calibrado.  Voc√™ j√° reparou como o ponto se arrasta no mapa por um tempo no come√ßo?  Na minha l√≥gica, esses movimentos fantasmas dariam imediatamente conclus√µes falsas sobre a dire√ß√£o do movimento.  E levando em conta o fato de que a pr√≥xima atualiza√ß√£o dos resultados j√° ap√≥s 200 metros, isso desinformaria o motorista.  Resolvi esse problema de maneira muito simples: finja que estamos diante da primeira atualiza√ß√£o.  Ou seja, n√£o mostre no mapa nem uma seta (embora o ponto ainda se arraste), nem uma rota.  E para desbloquear esses dados depois disso, quando mudamos uma dist√¢ncia significativa, passaram 5 segundos e as chances de obter informa√ß√µes falsas s√£o praticamente nulas. <br><br>  Tamb√©m adicionei um cart√£o que trava quando seleciono um resultado no mapa.  Na verdade, esses s√£o os mesmos dados da lista, mas uma visualiza√ß√£o da rota √© adicionada a eles (sim, ele ainda retornou) e um bot√£o que inicia a navega√ß√£o. <br><br><img src="https://habrastorage.org/webt/h_/ie/yv/h_ieyvdqfbvqdsu_jefyv7jkjeg.png" width="250"><br><br><h3>  Interface </h3><br>  Em geral, a interface foi completamente redesenhada.  N√£o vou descrever como reescrevi os menus, reconstru√≠ a paleta de cores e tudo mais.  Vou me concentrar nos pontos mais interessantes.  Todas as inscri√ß√µes foram aumentadas proporcionalmente (minha vis√£o de queda veio a calhar aqui - aumentou at√© que eu mesma a vi do banco do motorista).  A fonte foi alterada para SF Pro Rounded - esta √© uma varia√ß√£o arredondada da Apple San Francisco.  Baixe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> , fonte sensata.  Eu recomendo fortemente nos casos em que voc√™ n√£o possui texto s√≥lido, mas matrizes grandes que devem ser leg√≠veis de longe. <br><br>  Depois de pensar um pouco, tomei uma decis√£o √≥bvia para remover o filtro "Ao longo do caminho".  Como o filtro por tempo, a princ√≠pio parecia quase a principal fun√ß√£o do aplicativo.  No entanto, em algum momento, percebi que n√£o estava usando.  No modo de lista, voc√™ pode ver claramente quais lugares est√£o a caminho e, no modo de mapa, √© completamente confuso.  Por algum tempo, arrastei esse comutador sem sentido pelas interfaces, ap√≥s o que simplesmente o ocultei e n√£o perdi nada.  Al√©m disso, puramente tecnicamente, ele produziu nuances sombrias e completamente opcionais. <br><br><h3>  Dados </h3><br>  Na verdade, o principal problema no momento da aplica√ß√£o s√£o os dados.  Ainda os retiro do OSM com todos os problemas decorrentes: cobertura desigual, muitos dados desatualizados, falta de horas, telefones e assim por diante.  Meu back-end √© constru√≠do de tal maneira que √© muito f√°cil integrar qualquer API de terceiros a ele - apenas aqui onde obt√™-lo?  O primeiro (e melhor) candidato √© o Google Places, mas depois de um aumento recente no pre√ßo de 1400% (Senhor), ainda n√£o posso pagar.  Todo o resto - TripAdvisor, Quadrangular e similares - √© caro ou tem uma API desajeitada.  Alguns servi√ßos (o mesmo Mapbox ou HERE), sob o disfarce de seus dados, fornecem locais mastigados do OSM que eu mesmo possuo. <br><br>  De toda essa fraternidade, decidi tentar estragar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Yelp</a> - parece ser barato e a API parecia decente.  Eu entendi que este √© um portal americano, respectivamente, haver√° um m√≠nimo de dados em outras partes do mundo, mas pelo menos algum progresso.  E, a princ√≠pio, tudo parecia muito bom: integrei tudo em algumas horas e at√© li que eles reivindicam cobertura para quase metade do mundo.  No entanto, n√£o tive tempo de me alegrar quando um circo come√ßou.  Um grande n√∫mero de lugares em seus dados tinha coordenadas incorretas.  Obviamente, eles entraram em lugares n√£o atrav√©s de pontos, mas atrav√©s de endere√ßos - e seu geocoder organizou as coordenadas arbitrariamente.  Como resultado, tenho um posto de gasolina no lugar certo, mas, exceto pelo endere√ßo, ele quase n√£o possui dados;  e eles t√™m avalia√ß√µes, classifica√ß√µes e hor√°rio de funcionamento - somente as coordenadas geralmente s√£o canhotos.  As √∫nicas propriedades pelas quais nossos dados podem ser reduzidos s√£o o nome e o endere√ßo.  E muitas vezes isso e aquilo s√£o escritos arbitrariamente, com erros, formatados incorretamente etc.  Tentei compar√°-los atrav√©s do meu geocoder + correspond√™ncia difusa e, em princ√≠pio, funcionou - embora ainda percam uma certa porcentagem de lugares dessa maneira. <br><br>  Mas este foi apenas o primeiro problema.  O resto caiu sobre eles: eles t√™m uma pesquisa de raio muito inst√°vel, um monte de bugs (se voc√™ ler os coment√°rios das pessoas no git deles, ent√£o nada funcionar√° l√°) e assim por diante.  No final, verifiquei os requisitos de branding - voc√™ deve usar as estrelas vermelhas (!!!) para classificar os lugares.  Depois de ver como fica na minha interface, cuspi e desliguei todo o estande. <br><br><img src="https://habrastorage.org/webt/om/cd/zp/omcdzp51mrhme54q_-pkbn9w9wy.png" width="250"><br><br>  Como resultado, n√£o h√° muito progresso com os dados.  Na verdade, a √∫nica coisa que pode ser (e muito f√°cil) √© estragar o Google Places.  Est√° tudo bem l√°, tanto com cobertura quanto com coordenadas.  S√≥ que agora custa muito dinheiro agora.  Portanto, pe√ßo sua opini√£o: como voc√™ se sentiria com uma assinatura paga?  Na vers√£o gratuita, seria como √© agora, mas por alguma quantia simb√≥lica por m√™s os dados do Google ou Yandex estariam dispon√≠veis (voc√™ precisa ler quanto eles custam).  Ent√£o provavelmente n√£o vou falir. <br><br><h3>  Sum√°rio </h3><br>  Em geral, eu descobri recentemente: por quase um ano e meio essa inscri√ß√£o me levou.  Claro, nem todo o meu tempo livre que gastei nele, mas a maior parte √© com certeza.  Joguei-o algumas vezes durante um m√™s, √†s vezes parecia que eu nunca terminaria - mas ainda assim o fiz.  E, em princ√≠pio, agora parece exatamente como eu queria desde o in√≠cio.  Ao longo do caminho, dominei mais de uma nova tecnologia e ganhei muita experi√™ncia.  Em geral, foi interessante.  Agora eu ficaria feliz se o resultado fosse √∫til para algu√©m. <br><br><h3>  PS </h3><br>  Sobre os direitos de autopromo√ß√£o: nesse intervalo, fiz outro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pedido</a> para mim, muito pequeno - um assistente de estacionamento.  N√£o o traduzi para o russo, mas existe uma interface de um bot√£o.  Talvez algu√©m esteja interessado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt459408/">https://habr.com/ru/post/pt459408/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt459394/index.html">Arquitetura pura de solu√ß√µes, testes sem mobs e como cheguei a isso</a></li>
<li><a href="../pt459396/index.html">‚ÄúAVISO: higienizar o HTML retira algum conte√∫do‚Äù e como lidar com ele corretamente</a></li>
<li><a href="../pt459400/index.html">Quais incidentes do Border Gateway Protocol podem ser destacados nos √∫ltimos anos</a></li>
<li><a href="../pt459402/index.html">Como implementar uma arquitetura limpa no Android?</a></li>
<li><a href="../pt459404/index.html">Id√©ia: registro / autoriza√ß√£o an√¥nima na rede Ethereum + Metamask, sem e-mails, etc.</a></li>
<li><a href="../pt459410/index.html">Como escrever c√≥digo para que seus colegas n√£o jurem</a></li>
<li><a href="../pt459414/index.html">Escrevendo uma API para reagir componentes, parte 4: Cuidado com o Apropacalypse</a></li>
<li><a href="../pt459416/index.html">Escrevendo uma API para reagir componentes, parte 5: apenas usar composi√ß√£o</a></li>
<li><a href="../pt459420/index.html">O rake mais comum ao usar printf em programas para microcontroladores</a></li>
<li><a href="../pt459422/index.html">Escrevemos API para componentes React, parte 6: criamos comunica√ß√£o entre componentes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>