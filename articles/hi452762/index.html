<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСКЁЯП╛ ЁЯСЮ ЁЯд▓ЁЯП┐ MVCC-7ред рдСрдЯреЛ рдХреА рд╕рдлрд╛рдИ ЁЯФв ЁЯХ║ЁЯП┐ ЁЯд╡ЁЯП╗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдореБрдЭреЗ рдпрд╛рдж рджрд┐рд▓рд╛рдПрдВ рдХрд┐ рд╣рдордиреЗ рдЕрд▓рдЧрд╛рд╡ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдореБрджреНрджреЛрдВ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд┐рдпрд╛, рдирд┐рдореНрди рд╕реНрддрд░ рдкрд░ рдбреЗрдЯрд╛ рдХреЗ рдЖрдпреЛрдЬрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рд╡рд┐рд╖рдпрд╛рдВрддрд░ рдХрд┐рдпрд╛, рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмрд╛рд░реЗ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MVCC-7ред рдСрдЯреЛ рдХреА рд╕рдлрд╛рдИ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/452762/">  рдореБрдЭреЗ рдпрд╛рдж рджрд┐рд▓рд╛рдПрдВ рдХрд┐ рд╣рдордиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрд▓рдЧрд╛рд╡</a> рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдореБрджреНрджреЛрдВ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд┐рдпрд╛, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд┐рдореНрди рд╕реНрддрд░ рдкрд░ рдбреЗрдЯрд╛ рдХреЗ рдЖрдпреЛрдЬрди рдХреЗ</a> рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рд╡рд┐рд╖рдпрд╛рдВрддрд░ рдХрд┐рдпрд╛, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмрд╛рд░реЗ</a> рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдмрд╛рдд рдХреА рдФрд░ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдиреИрдкрд╢реЙрдЯ</a> рдХреИрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред <br><br>  рддрдм рд╣рдордиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрди-рдкреЗрдЬ рдХреНрд▓реАрдирд┐рдВрдЧ</a> (рдФрд░ HOT рдЕрдкрдбреЗрдЯ), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд┐рдпрдорд┐рдд рд╕рдлрд╛рдИ рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛</a> , рд▓реЗрдХрд┐рди рдЖрдЬ рд╣рдо рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рдлрд╛рдИ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВред <br><br><h1>  рдСрдЯреЛ рд╕рдлрд╛рдИ (рдСрдЯреЛрд╡реИрдХреНрдпреВрдо) </h1><br>  рд╣рдо рдкрд╣рд▓реЗ рд╣реА рдХрд╣ рдЪреБрдХреЗ рд╣реИрдВ рдХрд┐ рд╕рд╛рдорд╛рдиреНрдп рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рд╕рд╛рдорд╛рдиреНрдп рд╕рдлрд╛рдИ (рдЬрдм рдХреЛрдИ рднреА рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд▓реЗрди-рджреЗрди рдХреНрд╖рд┐рддрд┐рдЬ рдирд╣реАрдВ рд░рдЦрддрд╛ рд╣реИ) рдХреЛ рдЕрдкрдиреЗ рдХрд╛рдо рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рд╕рд╡рд╛рд▓ рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдХрд┐рддрдиреА рдмрд╛рд░ рдмреБрд▓рд╛рдирд╛ рд╣реИред <br><br>  рдпрджрд┐ рдЖрдк рдПрдХ рдмрджрд▓рддреА рдореЗрдЬ рдХреЛ рднреА рд╢рд╛рдпрдж рд╣реА рдХрднреА рд╕рд╛рдл рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдЖрдкрдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрдбрд╝рд╛ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЕрдЧрд▓реА рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП, рдпрд╣ рд╕реВрдЪрдХрд╛рдВрдХреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдИ рдкрд╛рд╕ рд▓реЗ рд╕рдХрддрд╛ рд╣реИ рдЕрдЧрд░ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдкрд░рд┐рд╡рд░реНрддрди рдЬрдорд╛ рд╣реЛ рдЧрдП рд╣реЛрдВред <br><br>  рдпрджрд┐ рдЖрдк рдЕрдХреНрд╕рд░ рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рд╕рд╛рдл рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЙрдкрдпреЛрдЧреА рдХрд╛рдо рдХреЗ рдмрдЬрд╛рдп, рд╕рд░реНрд╡рд░ рд▓рдЧрд╛рддрд╛рд░ рд░рдЦрд░рдЦрд╛рд╡ рдореЗрдВ рд▓рдЧреЗ рд░рд╣реЗрдВрдЧреЗ - рдпрд╣ рднреА рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИред <br><br>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕рдлрд╛рдИ рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рд╕рдорд╕реНрдпрд╛ рд╣рд▓ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд▓реЛрдб рд╕рдордп рдХреЗ рд╕рд╛рде рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИред  рдпрджрд┐ рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рдЕрдзрд┐рдХ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд▓рдЧрд╛, рддреЛ рдЗрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рд╕рд╛рдл рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рдлрд╛рдИ рдХреЗрд╡рд▓ рдмрд╣реБрдд рд╣реА рддрдВрддреНрд░ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рд╕рдлрд╛рдИ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><a name="habracut"></a><br>  рдЬрдм <em>рдСрдЯреЛ-рд╕рдлрд╛рдИ</em> рд╕рдХреНрд╖рдо рд╣реЛрддреА рд╣реИ ( <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо</em> рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреИрд░рд╛рдореАрдЯрд░), рдСрдЯреЛрд╡реИрдХреНрдпреВрдо рд▓рд╛рдВрдЪрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣рдореЗрд╢рд╛ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдореМрдЬреВрдж рд╣реЛрддреА рд╣реИ, рдЬреЛ рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рддреА рд╣реИ, рдФрд░ рдСрдЯреЛрд╡реИрдХреНрдпреВрдо рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдлрд╛рдИ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдХрдИ рдЙрджрд╛рд╣рд░рдг рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдСрдЯреЛрд╡реИрдХреНрдпреВрдо рд▓рд╛рдВрдЪрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдПрдХ рд╕реВрдЪреА рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХреЛрдИ рдЧрддрд┐рд╡рд┐рдзрд┐ рд╣реЛрддреА рд╣реИред  рдЧрддрд┐рд╡рд┐рдзрд┐ рдЖрдВрдХрдбрд╝реЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рдЗрд╕реЗ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <em>track_counts</em> рдкреИрд░рд╛рдореАрдЯрд░ рд╕реЗрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдХрднреА рднреА <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо</em> рдФрд░ <em>рдЯреНрд░реИрдХ_рдХрд╛рдЙрдВрдЯреНрд╕ рдХреЛ</em> рдмрдВрдж рди рдХрд░реЗрдВ, рдЕрдиреНрдпрдерд╛ <em>рдСрдЯреЛ</em> - <em>рд╕рдлрд╛рдИ</em> рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧреАред <br><br>  рдПрдХ рдмрд╛рд░ <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рдиреИрдкрд╛рдЗрдо рдореЗрдВ,</em> рдСрдЯреЛрд╡реИрдХреНрдпреВрдо рд▓рд╛рдВрдЪрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ (рд╕реВрдЪреА рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреЛрд╕реНрдЯрдорд╛рд╕реНрдЯрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ)ред  рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдпрджрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдХреЛрдИ рдЧрддрд┐рд╡рд┐рдзрд┐ рд╣реИ, рддреЛ рд╡рд░реНрдХрдлрд╝реНрд▓реЛрдЬрд╝ рдЗрд╕рдореЗрдВ рдЕрдВрддрд░рд╛рд▓ рдХреЗ рд╕рд╛рде рдЖрдПрдЧрд╛ <em>рдСрдЯреЛрд╡реИрд╕реНрдХреНрдпреВрдорди_рдПрдкреНрдЯрд╛рдЗрдо</em> ред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдХрдИ рд╕рдХреНрд░рд┐рдп рдбреЗрдЯрд╛рдмреЗрд╕ (рдПрди рдЯреБрдХрдбрд╝реЗ) рд╣реИрдВ, рддреЛ рдХрд╛рд░реНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рдПрди-рдмрд╛рд░-рдмрд╛рд░ рд▓реЙрдиреНрдЪ рдХреА рдЬрд╛рддреА рд╣реИрдВ, рдЬреЛ <em>рдСрдЯреЛрд╡реИрд╕реНрдХреНрдпреВрдо_рдПрдкреНрдЯрд╛рдЗрдо</em> рд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рд╣реЛрддреА рд╣реИрдВред  рд▓реЗрдХрд┐рди рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ, рдПрдХ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рдореИрдХреНрд╕_рд╡рд░реНрдХрд░реНрд╕</em> рдкреИрд░рд╛рдореАрдЯрд░ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реИред <br><br>  рдкреНрд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдЙрд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЬреБрдбрд╝рддрд╛ рд╣реИ рдФрд░ рд╕реВрдЪреА рдХреЗ рдирд┐рд░реНрдорд╛рдг рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ: <br><br><ul><li>  рд╕рднреА рддрд╛рд▓рд┐рдХрд╛рдУрдВ, рднреМрддрд┐рдХ рд╡рд┐рдЪрд╛рд░реЛрдВ рдФрд░ рдЯреЛрд╕реНрдЯ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЛ рд╕рд╛рдл рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, </li><li>  рд╕рднреА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдФрд░ рднреМрддрд┐рдХ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡реЛрдВ рдХреЛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ (рдЯреЛрд╕реНрдЯ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рд╣рдореЗрд╢рд╛ рд╕реВрдЪрдХрд╛рдВрдХ рджреНрд╡рд╛рд░рд╛ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ)ред </li></ul><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдмрджрд▓реЗ рдореЗрдВ рдЪрдпрдирд┐рдд рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╕рд╛рдл рдФрд░ / рдпрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЬрдм рд╕рдлрд╛рдИ рдкреВрд░реА рд╣реЛ рдЬрд╛рддреА рд╣реИред <br><br>  рдпрджрд┐ рдкреНрд░рдХреНрд░рд┐рдпрд╛ <em>autovacuum_naptime рдХреЗ</em> рд▓рд┐рдП рд╕рднреА рдЗрдЪреНрдЫрд┐рдд рдХрд╛рд░реНрдп рдХреЛ рдкреВрд░рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдСрдЯреЛрд╡реИрдХреНрдпреВрдо рд▓рд╛рдВрдЪрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдПрдХ рд╣реА рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдПрдХ рдФрд░ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рднреЗрдЬ рджреЗрдЧреА рдФрд░ рд╡реЗ рдПрдХ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВрдЧреЗред  "рд╕рд╛рде рдореЗрдВ" рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рджреВрд╕рд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЕрдкрдиреА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреА рд╕реВрдЪреА рдмрдирд╛рдПрдЧреА рдФрд░ рдЙрд╕рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдЧреАред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╡рд┐рднрд┐рдиреНрди рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЛ рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рд▓реЗрдХрд┐рди рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд╕реНрддрд░ рдкрд░ рдХреЛрдИ рд╕рдорд╛рдирддрд╛ рдирд╣реАрдВ рд╣реИ - рдпрджрд┐ рдХрд╛рд░реНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рддрд╛рд▓рд┐рдХрд╛ рдкрд░ рдХрд╛рдо рдХрд░ рд░рд╣реА рд╣реИ, рддреЛ рджреВрд╕рд░рд╛ рдЗрд╕реЗ рдЫреЛрдбрд╝ рджреЗрдЧрд╛ рдФрд░ рдЖрдЧреЗ рдмрдврд╝ рдЬрд╛рдПрдЧрд╛ред <br><br><blockquote>  рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкрд░ рдЪрд░реНрдЪрд╛ рд╣реБрдИ рд╣реИ, рд▓реЗрдХрд┐рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреИрдЪ</a> рдЕрднреА рддрдХ рдирд╣реАрдВ рдЕрдкрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред <br></blockquote><br>  рдЕрдм "рдХреНрдпрд╛ рд╕рдлрд╛рдИ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ" рдФрд░ "рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ" рдкрд░ рдХрд░реАрдм рд╕реЗ рдирдЬрд╝рд░ рдбрд╛рд▓рддреЗ рд╣реИрдВред <br><br><h1>  рдХрд┐рд╕ рдЯреЗрдмрд▓ рдХреЛ рд╕рдлрд╛рдИ рдХреА рдЬрд░реВрд░рдд рд╣реИ </h1><br>  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдЕрдЧрд░ "рдореГрдд", рдЕрд░реНрдерд╛рддреН рдЕрдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ, рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдПрдХ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕реАрдорд╛ рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛ рддреЛ рд╕рдлрд╛рдИ рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдореГрдд рдХрд▓реЗрдХреНрдЯрд░реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд▓рдЧрд╛рддрд╛рд░ рдЖрдВрдХрдбрд╝реЗ рд╕рдВрдЧреНрд░рд╛рд╣рдХ рджреНрд╡рд╛рд░рд╛ рдПрдХрддреНрд░ рдХреА рдЬрд╛рддреА рд╣реИ рдФрд░ pg_stat_all_tables рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рдЬрд╛рддреА рд╣реИред  рдФрд░ рд╕реАрдорд╛ рджреЛ рдорд╛рдкрджрдВрдбреЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИ: <br><br><ul><li>  <em>autovacuum_vacuum_threshold</em> рдирд┐рд░рдкреЗрдХреНрд╖ рдорд╛рди (рдЯреБрдХрдбрд╝реЛрдВ рдореЗрдВ) рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, </li><li>  <em>autovacuum_vacuum_scale_factor</em> рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рдЕрдиреБрдкрд╛рдд рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред </li></ul><br>  рдЕрдВрддрд┐рдо рд╕реВрддреНрд░ рд╣реИ: рдЕрдЧрд░ pg_stat_all_tables.n_dead_tup&gt; = <em>autovacuum_vacuum_threshold</em> + <em>autovacuum_vacuum_scale_factale</em> * pg_class.reltupes рдкрд░ рд╕рдлрд╛рдИ рдЖрд╡рд╢реНрдпрдХ рд╣реИред <br><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рд╡реИрдХреНрдпреВрдо_рдереНрд░реЗрд╢реЛрд▓реНрдб</em> = 50 рдФрд░ рд╕реЗрдЯ <em>рдХрд░рддреА рд╣реИрдВ</em> <br>  <em>autovacuum_vacuum_scale_factor</em> = 0.2ред  рдпрд╣рд╛рдВ рдореБрдЦреНрдп рдкреИрд░рд╛рдореАрдЯрд░, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рд╡реИрдХреНрдпреВрдо_рдХрд╛рд▓реЗ_рдлреИрдХреНрдЯрд░</em> - рдпрд╣ рд╡рд╣ рд╣реИ рдЬреЛ рдмрдбрд╝реА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ (рдЕрд░реНрдерд╛рддреН, рд╕рдВрднрд╛рд╡рд┐рдд рд╕рдорд╕реНрдпрд╛рдПрдВ рдЙрдирдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реА рд╣реБрдИ рд╣реИрдВ)ред  20% рдХрд╛ рдореВрд▓реНрдп рдмрд╣реБрдд рдЕрдзрд┐рдХ рд▓рдЧрддрд╛ рд╣реИ, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдХрд╛рдлреА рдХрдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред <br><br>  рдЗрд╖реНрдЯрддрдо рдкреИрд░рд╛рдореАрдЯрд░ рдорд╛рди рднрд┐рдиреНрди рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЙрдирдХреЗ рдЖрдХрд╛рд░ рдФрд░ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рдкреНрд░рдХреГрддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рдкреВрд░реЗ, рдкрд░реНрдпрд╛рдкреНрдд рдореВрд▓реНрдпреЛрдВ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ, рдФрд░ - рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ - рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рднрдВрдбрд╛рд░рдг рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреБрдЫ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд╕реНрддрд░ рдкрд░ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП: <br><br><ul><li>  <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рд╡реИрдХреНрдпреБрдо_рдереНрд░реЗрд╢реЛрд▓реНрдб</em> рдФрд░ <em>рдЯреЛрд╕реНрдЯ.рдУрдЯреЛрд╡реИрдХреНрдпреБрд▓рдо_рд╡рд╛рд╕реНрдХреВрдо_рдереНрд░реЙрд▓реНрдб</em> , </li><li>  <em>autovacuum_vacuum_scale_factor</em> рдФрд░ <em>toast.autovacuum_vacuum_scale_factor</em> ред </li></ul><br>  рднреНрд░рдорд┐рдд рди рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХреЗрд╡рд▓ рдХреБрдЫ рд╣реА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреЛ рдкрд░рд┐рд╡рд░реНрддрди рдХреА рдорд╛рддреНрд░рд╛ рдпрд╛ рддреАрд╡реНрд░рддрд╛ рд╕реЗ рджреВрд╕рд░реЛрдВ рдХреЗ рдмреАрдЪ рдореЗрдВ рдЦрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдХреЗрд╡рд▓ рддрднреА рдЬрдм рд╡реИрд╢реНрд╡рд┐рдХ рд░реВрдк рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдореВрд▓реНрдп рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд╣реИрдВред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдСрдЯреЛ-рд╕рдлрд╛рдИ рдХреЛ рдЯреЗрдмрд▓ рд╕реНрддрд░ рдкрд░ рдмрдВрдж рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рдХреНрдпреЛрдВ рд╣реИ, рдЗрд╕рдХреЗ рдХрд╛рд░рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИ): <br><br><ul><li>  <em>autovacuum_enabled</em> рдФрд░ <em>toast.autovacuum_enabled</em> ред </li></ul><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкрд┐рдЫрд▓реА рдмрд╛рд░ рд╣рдордиреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП - рд╕рдлрд╛рдИ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдСрдЯреЛ-рдХреНрд▓реАрдирд┐рдВрдЧ рд╡рд┐рдХрд▓рд╛рдВрдЧреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЦрд╛рд▓реА рдЯреЗрдмрд▓ рдмрдирд╛рдпрд╛ рдерд╛ред  рднрдВрдбрд╛рд░рдг рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдмрджрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre><code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> vac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> (autovacuum_enabled = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>);</code> </pre> <br>  рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдХреЛ рдФрдкрдЪрд╛рд░рд┐рдХ рд░реВрдк рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ рджреГрд╢реНрдп рдмрдирд╛рдПрдВрдЧреЗ рдЬрд┐рд╕рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХрд┐рди рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЛ рд╕рд╛рдл рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ рдЬреЛ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╡рд░реНрддрдорд╛рди рдореВрд▓реНрдп рдХреЛ рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдпрд╣ рджреЗрдЦрддреЗ рд╣реБрдП рдХрд┐ рдЗрд╕реЗ рдЯреЗрдмрд▓ рд╕реНрддрд░ рдкрд░ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> get_value(param <span class="hljs-type"><span class="hljs-type">text</span></span>, reloptions <span class="hljs-type"><span class="hljs-type">text</span></span>[], relkind "char") <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-type"><span class="hljs-type">float</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $$<span class="ruby"><span class="ruby"> SELECT coalesce( --    ,    (SELECT option_value FROM pg_options_to_table(reloptions) WHERE option_name = CASE --  toast-    WHEN relkind = </span><span class="hljs-string"><span class="ruby"><span class="hljs-string">'t'</span></span></span><span class="ruby"> THEN </span><span class="hljs-string"><span class="ruby"><span class="hljs-string">'toast.'</span></span></span><span class="ruby"> ELSE </span><span class="hljs-string"><span class="ruby"><span class="hljs-string">''</span></span></span><span class="ruby"> </span><span class="hljs-keyword"><span class="ruby"><span class="hljs-keyword">END</span></span></span><span class="ruby"> </span><span class="hljs-params"><span class="ruby"><span class="hljs-params">||</span></span></span><span class="ruby"> param ), --      current_setting(param) )</span><span class="hljs-symbol"><span class="ruby"><span class="hljs-symbol">:</span></span></span><span class="hljs-symbol"><span class="ruby"><span class="hljs-symbol">:float</span></span></span><span class="ruby">; $$</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LANGUAGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sql</span></span>;</code> </pre><br>  рдФрд░ рдпрд╣рд╛рдБ рджреЗрдЦреЗрдВ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VIEW</span></span> need_vacuum <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> st.schemaname || <span class="hljs-string"><span class="hljs-string">'.'</span></span> || st.relname tablename, st.n_dead_tup dead_tup, get_value(<span class="hljs-string"><span class="hljs-string">'autovacuum_vacuum_threshold'</span></span>, c.reloptions, c.relkind) + get_value(<span class="hljs-string"><span class="hljs-string">'autovacuum_vacuum_scale_factor'</span></span>, c.reloptions, c.relkind) * c.reltuples max_dead_tup, st.last_autovacuum <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_stat_all_tables st, pg_class c <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> c.oid = st.relid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> c.relkind <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-string"><span class="hljs-string">'r'</span></span>,<span class="hljs-string"><span class="hljs-string">'m'</span></span>,<span class="hljs-string"><span class="hljs-string">'t'</span></span>);</code> </pre><br><h1>  рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рдХрд┐рди рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреА рдЬрд░реВрд░рдд рд╣реИ </h1><br>  рдСрдЯреЛ-рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд╕рд╛рде, рд╕реНрдерд┐рддрд┐ рд▓рдЧрднрдЧ рд╕рдорд╛рди рд╣реИред  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдЙрди рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрд┐рдирдХреЗ рд▓рд┐рдП рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рдкрд░рд┐рд╡рд░реНрддрд┐рдд (рдЕрдВрддрд┐рдо рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рдмрд╛рдж рд╕реЗ) рд╕рдВрд╕реНрдХрд░рдг рджреЛ рд╕рдорд╛рди рдорд╛рдкрджрдВрдбреЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕реАрдорд╛ рдореВрд▓реНрдп рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ: pg_stat_all_tables.n_mod_since/analyze&gt; = <em>autovacuum_analyze_threshold</em> + autovacuum_analyze_scalyze_scalyze_scalyzред <br><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдСрдЯреЛ-рд╡рд┐рд╢реНрд▓реЗрд╖рдг рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдереЛрдбрд╝реА рднрд┐рдиреНрди рд╣реЛрддреА рд╣реИрдВ: <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рдЕрдирд▓реАрдЬрд╝_рдереНрд░реЗрд╢реЛрд▓реНрдб</em> = 50 рдФрд░ <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рдЖрдирд╛рд▓реАрдЬрд╝_рд╕реЗрд▓реЗ_рдлреИрдХреНрдЯрд░</em> = 0.1ред  рдЙрдиреНрд╣реЗрдВ рд╡реНрдпрдХреНрддрд┐рдЧрдд рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рднрдВрдбрд╛рд░рдг рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕реНрддрд░ рдкрд░ рднреА рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><ul><li>  <em>рдСрдЯреЛрд╡реИрдХреБрдо_рдпрд╛рдирд╛рд▓реАрдЬрд╝_рдереНрд░реЗрд╢реЛрд▓реНрдб</em> , </li><li>  <em>autovacuum_analyze_scale_factor</em> </li></ul><br>  рдЪреВрдВрдХрд┐ рдЯреЛрд╕реНрдЯ рдЯреЗрдмрд▓ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЙрдирдХреЗ рд▓рд┐рдП рдХреЛрдИ рд╕рдВрдЧрдд рдкреИрд░рд╛рдореАрдЯрд░ рдирд╣реАрдВ рд╣реИрдВред <br><br>  рдЖрдЗрдП рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рдПрдХ рджреГрд╢реНрдп рдмрдирд╛рдПрдВ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VIEW</span></span> need_analyze <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> st.schemaname || <span class="hljs-string"><span class="hljs-string">'.'</span></span> || st.relname tablename, st.n_mod_since_analyze mod_tup, get_value(<span class="hljs-string"><span class="hljs-string">'autovacuum_analyze_threshold'</span></span>, c.reloptions, c.relkind) + get_value(<span class="hljs-string"><span class="hljs-string">'autovacuum_analyze_scale_factor'</span></span>, c.reloptions, c.relkind) * c.reltuples max_mod_tup, st.last_autoanalyze <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_stat_all_tables st, pg_class c <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> c.oid = st.relid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> c.relkind <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-string"><span class="hljs-string">'r'</span></span>,<span class="hljs-string"><span class="hljs-string">'m'</span></span>);</code> </pre><br><h1>  рдЙрджрд╛рд╣рд░рдг </h1><br>  рдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдорд╛рди рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> autovacuum_naptime = <span class="hljs-string"><span class="hljs-string">'1s'</span></span>; <span class="hljs-comment"><span class="hljs-comment">--     =&gt; ALTER SYSTEM SET autovacuum_vacuum_scale_factor = 0.03; -- 3% =&gt; ALTER SYSTEM SET autovacuum_vacuum_threshold = 0; =&gt; ALTER SYSTEM SET autovacuum_analyze_scale_factor = 0.02; -- 2% =&gt; ALTER SYSTEM SET autovacuum_analyze_threshold = 0;</span></span></code> </pre><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_reload_conf();</code> </pre><pre> <code class="plaintext hljs"> pg_reload_conf ---------------- t (1 row)</code> </pre><br>  рдЕрдм рдкрд┐рдЫрд▓реА рдмрд╛рд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреА рдЧрдИ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд╕рдорд╛рди рдПрдХ рдЯреЗрдмрд▓ рдмрдирд╛рдПрдВ рдФрд░ рдЙрд╕рдореЗрдВ рдПрдХ рд╣рдЬрд╛рд░ рдкрдВрдХреНрддрд┐рдпрд╛рдБ рдбрд╛рд▓реЗрдВред  рдСрдЯреЛ-рд╕рдлрд╛рдИ рдЯреЗрдмрд▓ рд╕реНрддрд░ рдкрд░ рдЕрдХреНрд╖рдо рд╣реИ, рдФрд░ рд╣рдо рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рдЪрд╛рд▓реВ рдХрд░реЗрдВрдЧреЗред  рдпрджрд┐ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрджрд╛рд╣рд░рдг рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдирд╣реАрдВ рд╣реЛрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рдСрдЯреЛ-рд╕рдлрд╛рдИ рдЧрд▓рдд рд╕рдордп рдкрд░ рдХрд╛рдо рдХрд░ рд╕рдХрддреА рд╣реИред <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> autovac( id <span class="hljs-type"><span class="hljs-type">serial</span></span>, s <span class="hljs-type"><span class="hljs-type">char</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (autovacuum_enabled = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> autovac <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> g.id,<span class="hljs-string"><span class="hljs-string">'A'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> generate_series(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1000</span></span>) g(id);</code> </pre><br>  рдпрд╣рд╛рдБ рд╣рдорд╛рд░реЗ рд╕рдлрд╛рдИ рджреГрд╢реНрдп рджрд┐рдЦрд╛рдПрдВрдЧреЗ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> need_vacuum <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'public.autovac'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> tablename | dead_tup | max_dead_tup | last_autovacuum ----------------+----------+--------------+----------------- public.autovac | 0 | 0 | (1 row)</code> </pre><br>  рджреЛ рдмрд┐рдВрджреБ рд╣реИрдВ рдЬрд┐рди рдкрд░ рдЖрдкрдХреЛ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, max_dead_tup = 0, рд╣рд╛рд▓рд╛рдВрдХрд┐ 1000 рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рд╕реЗ 3% 30 рд▓рд╛рдЗрдиреЗрдВ рд╣реИрдВред  рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрднреА рддрдХ рддрд╛рд▓рд┐рдХрд╛ рдкрд░ рдЖрдВрдХрдбрд╝реЗ рдирд╣реАрдВ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ INSERT рд╕реНрд╡рдпрдВ рдЗрд╕реЗ рдЕрдкрдбреЗрдЯ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред  рдЬрдм рддрдХ рд╣рдорд╛рд░реА рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддрдм рддрдХ рд╢реВрдиреНрдп рд░рд╣реЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ pg_class.reltuples = 0. рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЖрдЗрдП рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рджреВрд╕рд░реЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> need_analyze <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'public.autovac'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> tablename | mod_tup | max_mod_tup | last_autoanalyze ----------------+---------+-------------+------------------ public.autovac | 1000 | 0 | (1 row)</code> </pre><br>  рдЪреВрдВрдХрд┐ рддрд╛рд▓рд┐рдХрд╛ рдмрджрд▓ рдЧрдИ рд╣реИ (рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛) 1000 рдкрдВрдХреНрддрд┐рдпрд╛рдБ, рдФрд░ рдпрд╣ рд╢реВрдиреНрдп рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ, рдСрдЯреЛ-рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЛ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрд╕реЗ рдЬрд╛рдВрдЪреЗрдВ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> autovac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> (autovacuum_enabled = <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>);</code> </pre><br>  рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рдард╣рд░рд╛рд╡ рдХреЗ рдмрд╛рдж, рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЕрдзрд┐рдХрддрдо_рдореЛрдб_рдЯреБрдк рдореЗрдВ рд╢реВрдиреНрдп рдХреЗ рдмрдЬрд╛рдп рд╣рдо рд╕рд╣реА 20 рд▓рд╛рдЗрдиреЗрдВ рджреЗрдЦрддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> need_analyze <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'public.autovac'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> tablename | mod_tup | max_mod_tup | last_autoanalyze ----------------+---------+-------------+------------------------------- public.autovac | 0 | 20 | 2019-05-21 11:59:48.465987+03 (1 row)</code> </pre><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> reltuples, relpages <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_class <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> relname = <span class="hljs-string"><span class="hljs-string">'autovac'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> reltuples | relpages -----------+---------- 1000 | 17 (1 row)</code> </pre><br>  рдЪрд▓реЛ рдСрдЯреЛ рд╕рдлрд╛рдИ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдБ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> need_vacuum <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'public.autovac'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> tablename | dead_tup | max_dead_tup | last_autovacuum ----------------+----------+--------------+----------------- public.autovac | 0 | 30 | (1 row)</code> </pre><br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ, Max_dead_tup рдкрд╣рд▓реЗ рд╣реА рддрдп рд╣реЛ рдЪреБрдХрд╛ рд╣реИред  рдзреНрдпрд╛рди рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рджреВрд╕рд░рд╛ рдмрд┐рдВрджреБ рд╣реИ dead_tup = 0. рдЖрдВрдХрдбрд╝реЗ рдмрддрд╛рддреЗ рд╣реИрдВ рдХрд┐ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рдХреЛрдИ рдореГрдд рд╕рдВрд╕реНрдХрд░рдг рдирд╣реАрдВ рд╣реИрдВ ... рдФрд░ рдпрд╣ рд╕рдЪ рд╣реИред  рд╣рдорд╛рд░реЗ рдЯреЗрдмрд▓ рдореЗрдВ рдЕрднреА рддрдХ рд╕рд╛рдл рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реИред  рддреЛ рдХрд┐рд╕реА рднреА рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ рдПрдкреЗрдВрдб-рдУрдирд▓реА рдореЛрдб рдореЗрдВ рд╣реА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдЗрд╕рд▓рд┐рдП, рджреГрд╢реНрдпрддрд╛ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЛ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЕрдкрдбреЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдФрд░ рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕реВрдЪрдХрд╛рдВрдХ-рд╕реНрдХреИрдирд┐рдВрдЧ (рдЗрдВрдбреЗрдХреНрд╕-рдУрдирд▓реА рд╕реНрдХреИрди) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЕрд╕рдВрднрд╡ рдмрдирд╛рддрд╛ рд╣реИред <br><br>  (рдЕрдЧрд▓реА рдмрд╛рд░ рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рд╕рдлрд╛рдИ рдЬрд▓реНрдж рдпрд╛ рдмрд╛рдж рдореЗрдВ рдПрдкреЗрдВрдб-рдУрдирд▓реА рдЯреЗрдмрд▓ рдкрд░ рдЖ рдЬрд╛рдПрдЧреА, рд▓реЗрдХрд┐рди рдРрд╕рд╛ рдмрд╣реБрдд рдХрдо рд╣реА рд╣реЛрдЧрд╛ред) <br><br>  рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдирд┐рд╖реНрдХрд░реНрд╖: рдпрджрд┐ рдХреЗрд╡рд▓ рдЗрдВрдбреЗрдХреНрд╕ рд╕реНрдХреИрдирд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП рдХреЙрд▓ рдХрд░рдирд╛ рдкрдбрд╝ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЕрдм рдСрдЯреЛ-рдХреНрд▓реАрдирд┐рдВрдЧ рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдВрдж рдХрд░реЗрдВ рдФрд░ 31 рд▓рд╛рдЗрди рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ - рдереНрд░реЗрд╢реЛрд▓реНрдб рд╡реИрд▓реНрдпреВ рд╕реЗ рдПрдХ рдЕрдзрд┐рдХред <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> autovac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> (autovacuum_enabled = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> autovac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'B'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> id &lt;= <span class="hljs-number"><span class="hljs-number">31</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> need_vacuum <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'public.autovac'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> tablename | dead_tup | max_dead_tup | last_autovacuum ----------------+----------+--------------+----------------- public.autovac | 31 | 30 | (1 row)</code> </pre><br>  рдЕрдм рдСрдЯреЛ-рдХреНрд▓реАрдирд┐рдВрдЧ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рд╕рдВрддреБрд╖реНрдЯ рд╣реИред  рд╕реНрд╡рддрдГ-рд╕рдлрд╛рдИ рдЪрд╛рд▓реВ рдХрд░реЗрдВ рдФрд░ рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рдард╣рд░рд╛рд╡ рдХреЗ рдмрд╛рдж рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рддрд╛рд▓рд┐рдХрд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рд╣реЛ рдЧрдИ рд╣реИ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> autovac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> (autovacuum_enabled = <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> need_vacuum <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'public.autovac'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> tablename | dead_tup | max_dead_tup | last_autovacuum ----------------+----------+--------------+------------------------------- public.autovac | 0 | 30 | 2019-05-21 11:59:52.554571+03 (1 row)</code> </pre><br><h1>  рд▓реЛрдб рд╡рд┐рдирд┐рдпрдорди </h1><br>  рд╕рдлрд╛рдИ рдЕрдиреНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдЕрд╡рд░реБрджреНрдз рдирд╣реАрдВ рдХрд░рддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдкреГрд╖реНрда рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдкреГрд╖реНрда рдкрд░ рдХрд╛рдо рдХрд░рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рд╕рд┐рд╕реНрдЯрдо рдкрд░ рд▓реЛрдб рдмрдирд╛рддреА рд╣реИ рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓ рд╕рдХрддреА рд╣реИред <br><br><h2>  рдирд┐рдпрдорд┐рдд рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдорди </h2><br>  рд╕рдлрд╛рдИ рдХреА рддреАрд╡реНрд░рддрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдЗрд╕рдХрд╛ рдкреНрд░рднрд╛рд╡, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛рдо рдФрд░ рдЕрдкреЗрдХреНрд╖рд╛ рдХреЗ рдмреАрдЪ рд╡реИрдХрд▓реНрдкрд┐рдХ рд╣реЛрддреА рд╣реИред  рд╕рдлрд╛рдИ рд▓рдЧрднрдЧ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рд▓рд┐рдорд┐рдЯ</em> рдХрд╛рд░реНрдп рдХреА рдкрд╛рд░рдВрдкрд░рд┐рдХ рдЗрдХрд╛рдЗрдпреЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреА рд╣реИ, рдФрд░ рдлрд┐рд░ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рдбреЗрд▓реНрд▓реЗ</em> рдПрдордПрд╕ рдкрд░ рд╕реЛ <em>рдЬрд╛рддреА рд╣реИ</em> ред <br><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реЗрдЯрд┐рдВрдЧ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рд▓рд┐рдорд┐рдЯ</em> = 200 рд╕реЗрдЯ <em>рдХрд░рддреА рд╣реИрдВ</em> , <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рдбреЗрд▓</em> = = рдЕрдВрддрд┐рдо рд╢реВрдиреНрдп рдХрд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЕрд░реНрде рд╣реИ рдХрд┐ (рд╕рд╛рдорд╛рдиреНрдп) рд╕рдлрд╛рдИ рд╕реЛ рдирд╣реАрдВ рдЬрд╛рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рд▓рд┐рдорд┐рдЯ</em> рдХрд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдореВрд▓реНрдп рдХреЛрдИ рднреВрдорд┐рдХрд╛ рдирд╣реАрдВ рдирд┐рднрд╛рддрд╛ рд╣реИред  рдпрд╣ рдЗрд╕ рдХрд╛рд░рдг рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдкреНрд░рд╢рд╛рд╕рдХ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ VACUUM рд╢реБрд░реВ рдХрд░рдирд╛ рдерд╛, рддреЛ рд╡рд╣ рд╕рдВрднрд╡рдд: рдЬрд▓реНрдж рд╕реЗ рдЬрд▓реНрдж рд╕рдлрд╛рдИ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИред <br><br>  рдлрд┐рд░ рднреА, рдпрджрд┐ рдЖрдк рдЕрднреА рднреА рдиреАрдВрдж рдХрд╛ рд╕рдордп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рд▓рд┐рдорд┐рдЯ</em> рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд╛рд░реНрдп рдХреА рдорд╛рддреНрд░рд╛ рдмрдлрд░ рдХреИрд╢ рдореЗрдВ рдкреГрд╖реНрдареЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рд▓рд╛рдЧрдд рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдиреЗрдЧреАред  рдкреНрд░рддреНрдпреЗрдХ рдкреГрд╖реНрда рдкрд╣реБрдВрдЪ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><ul><li>  рдпрджрд┐ рдкреГрд╖реНрда рдмрдлрд░ рдХреИрд╢ рдореЗрдВ рдкрд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рдкреЗрдЬ_рд╣рд╛рдЗрдЯ</em> = 1; </li><li>  рдЕрдЧрд░ рдирд╣реАрдВ рдорд┐рд▓рд╛, рддреЛ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рдкреЗрдЬ_рдорд┐рд╕</em> = 10; </li><li>  рдЕрдЧрд░ рдЖрдкрдХреЛ рдпрд╣ рдирд╣реАрдВ рдорд┐рд▓рд╛, рдФрд░ рдЖрдкрдХреЛ рдЧрдВрджреЗ рдкреГрд╖реНрда рдХреЛ рдмрдлрд░ рд╕реЗ рдмрд╛рд╣рд░ рдзрдХреЗрд▓рдирд╛ рдкрдбрд╝рд╛, рддреЛ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рдкреЗрдЬ_рдбрд╛рдЗрдЯ</em> = 20ред </li></ul><br>  рдпрд╣реА рд╣реИ, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рд▓рд┐рдорд┐рдЯ</em> рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рд╕рд╛рде, рдХреИрд╢ рд╕реЗ 200 рдкреГрд╖реНрда, рдпрд╛ рдбрд┐рд╕реНрдХ рд╕реЗ 20 рдкреГрд╖реНрда, рдпрд╛ рдПрдХреНрд╕рдЯреНрд░реВрдЬрд╝рди рд╡рд╛рд▓реЗ 10 рдкреГрд╖реНрдареЛрдВ рдХреЛ рдПрдХ рдмреИрдареЗ рдореЗрдВ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдпреЗ рдмрд▓реНрдХрд┐ рдордирдорд╛рдиреА рд╕рдВрдЦреНрдпрд╛рдПрдБ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдЙрдиреНрд╣реЗрдВ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ рдЪреБрдирдиреЗ рдХрд╛ рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИред <br><br><h2>  рдСрдЯреЛ рдХреА рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдорди </h2><br>  рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рдлрд╛рдИ рдХреЗ рджреМрд░рд╛рди рд▓реЛрдб рдирд┐рдпрдВрддреНрд░рдг рдирд┐рдпрдорд┐рдд рд╕рдлрд╛рдИ рдХреЗ рд╕рдорд╛рди рд╣реА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЗрддрдирд╛ рд╣реИ рдХрд┐ рдореИрдиреБрдЕрд▓ <em>рд╕рдлрд╛рдИ</em> рдФрд░ <em>рдСрдЯреЛ-</em> рд╕рдлрд╛рдИ рдЕрд▓рдЧ-рдЕрд▓рдЧ рддреАрд╡реНрд░рддрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддреА рд╣реИ, рдСрдЯреЛрдкреНрд░реЛрд╕реЗрд╕ рдХреЗ рдЕрдкрдиреЗ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИрдВ: <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рд╡реИрдХреНрдпреБрдо_рдХреЛрд╕реНрдЯ_рд▓рд┐рдорд┐рдЯ</em> рдФрд░ <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рд╡реЗрдХреБрдорди_рдХреЛрд╕реНрдЯ_рдбреЗрд▓</em> ред  рдпрджрд┐ рдпреЗ рдкреИрд░рд╛рдореАрдЯрд░ рдорд╛рди -1 рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рд▓рд┐рдорд┐рдЯ</em> рдФрд░ / рдпрд╛ <em>рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рдбреЗрд▓</em> рд╕реЗ рдореВрд▓реНрдп <em>рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</em> ред <br><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, <em>autovacuum_vacuum_cost_limit</em> = -1 (рдЕрд░реНрдерд╛рдд, <em>рд╡реЗрд▓реНрдпреБ рд╡реИрдХреНрдпреВрдо_cost_limit</em> = 200 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) рдФрд░ <em>autovacuum_vacuum_cost_delay</em> = 20msред  рдЗрди рдирдВрдмрд░реЛрдВ рд╡рд╛рд▓реЗ рдЖрдзреБрдирд┐рдХ рдЙрдкрдХрд░рдгреЛрдВ рдкрд░, рдСрдЯреЛ-рдХреНрд▓реАрдирд┐рдВрдЧ рдмрд╣реБрдд рдзреАрд░реЗ-рдзреАрд░реЗ рдХрд╛рдо рдХрд░реЗрдЧреАред <br><br>  рд╕рдВрд╕реНрдХрд░рдг 12 рдореЗрдВ, <em>рдСрдЯреЛрд╡реИрдХреНрд▓рдо_рд╡реИрдХреНрдпреБрдо_рдХреЛрд╕реНрдЯ_рдбреЗрд▓</em> рдХрд╛ рдореВрд▓реНрдп 2ms рддрдХ рдХрдо рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕реЗ рдПрдХ рдЕрдзрд┐рдХ рдЙрдкрдпреБрдХреНрдд рдкрд╣рд▓рд╛ рд╕рдиреНрдирд┐рдХрдЯрди рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдЗрди рдорд╛рдкрджрдВрдбреЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕реАрдорд╛ рд╕рднреА рдХрд╛рд░реНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рд╣реИред  рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдЬреИрд╕рд╛ рдХрд┐ рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд╣реЛрддрд╛ рд╣реИ, рдХреБрд▓ рднрд╛рд░ рд╕реНрдерд┐рд░ рд░рд╣реЗрдЧрд╛ред  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдХрд╛рд░реНрдп <em>рдСрдЯреЛ-рдХреНрд▓реАрдирд┐рдВрдЧ</em> рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ, рддреЛ рд╡рд░реНрдХрдлрд╝реНрд▓реЛрдЬрд╝ рдЬреЛрдбрд╝рддреЗ рд╕рдордп, рдпрд╣ <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рд╡реИрдХреНрдпреВрдо_рдХреЛрд╕реНрдЯ_рд▓рд┐рдорд┐рдЯ</em> рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд╛рдпрдХ рд╣реИред <br><br><h2>  рд╕реНрдореГрддрд┐ рдЙрдкрдпреЛрдЧ рдФрд░ рдирд┐рдЧрд░рд╛рдиреА </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд┐рдЫрд▓реА рдмрд╛рд░,</a> рд╣рдордиреЗ рджреЗрдЦрд╛ рдХрд┐ рдХреИрд╕реЗ рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдХрд╛рд░ <em>рдореЗрдВрдЯреЗрдиреЗрдВрд╕_рд╡рд░реНрдХ_рдо</em> рдХреА рд░реИрдо рдореЗрдореЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдСрдЯреЛ рдХреА рд╕рдлрд╛рдИ рдмрд┐рд▓реНрдХреБрд▓ рд╡реИрд╕реА рд╣реА рд╣реЛрддреА рд╣реИред  рд▓реЗрдХрд┐рди рдХрдИ рд╕рдорд╡рд░реНрддреА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ рдпрджрд┐ рдЖрдк рдПрдХ рдмрдбрд╝реЗ рдореВрд▓реНрдп рдкрд░ <em>рдСрдЯреЛрд╡реИрдХреНрдпреВрдо_рдореИрдХреНрд╕_рд╡рд░реНрдХрд░реНрд╕</em> рд╕реЗрдЯ <em>рдХрд░рддреЗ рд╣реИрдВ</em> ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕рднреА рдореЗрдореЛрд░реА рддреБрд░рдВрдд рдФрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╕реЗ рдирд╣реАрдВред  рдЗрд╕рд▓рд┐рдП, <em>рдСрдЯреЛ-рдХреНрд▓реАрдирд┐рдВрдЧ</em> рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреЗ рд▓рд┐рдП, рдЖрдк <em>autovacuum_work_mem</em> рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рдкреНрд░рддрд┐рдмрдВрдз рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдпрд╣ рдкреИрд░рд╛рдореАрдЯрд░ -1 рд╣реИ, рдЕрд░реНрдерд╛рдд рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рд╣реА рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╕рдлрд╛рдИ рдиреНрдпреВрдирддрдо рдорд╛рддреНрд░рд╛ рдореЗрдВ рдореЗрдореЛрд░реА рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддреА рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЗрдВрдбреЗрдХреНрд╕ рдЯреЗрдмрд▓ рдкрд░ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рдПрдХ рдЫреЛрдЯрд╛ <em>рдореЗрдВрдЯреЗрдиреЗрдВрд╕_рд╡рд░реНрдХ_ рдореАрдо</em> рд╡реИрд▓реНрдпреВ рдмрд╛рд░-рдмрд╛рд░ рдЗрдВрдбреЗрдХреНрд╕ рд╕реНрдХреИрди рдХреЛ рдЬрдиреНрдо рджреЗ рд╕рдХрддрд╛ рд╣реИред  рдСрдЯреЛ-рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП рднреА рдпрд╣реА рд╕рдЪ рд╣реИред  рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ, рдЖрдкрдХреЛ <em>autovacuum_work_mem</em> рдХрд╛ рдиреНрдпреВрдирддрдо рдорд╛рди рдЪреБрдирдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрд┐рд╕ рдкрд░ рдмрд╛рд░-рдмрд╛рд░ рд╕реНрдХреИрди рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред <br><br>  рд╣рдордиреЗ рджреЗрдЦрд╛ рдХрд┐ рд╕рдлрд╛рдИ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП, рдЖрдк VERBOSE рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдСрдЯреЛ-рдХреНрд▓реАрдирд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ) рдпрд╛ pg_stat_progress_vacuum рджреГрд╢реНрдп (рд▓реЗрдХрд┐рди рдпрд╣ рдХреЗрд╡рд▓ рд╡рд░реНрддрдорд╛рди рдЬрд╛рдирдХрд╛рд░реА рджрд┐рдЦрд╛рддрд╛ рд╣реИ)ред  рдЗрд╕рд▓рд┐рдП, <em>рдСрдЯреЛ-рдХреНрд▓реАрди</em> рдкрд░ рдирдЬрд╝рд░ рд░рдЦрдиреЗ рдХрд╛ рдореБрдЦреНрдп рддрд░реАрдХрд╛ <em>log_autovacuum_min_duration</em> рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИ, рдЬреЛ рд╕рд░реНрд╡рд░ рдХреЗ рд╕рдВрджреЗрд╢ рд▓реЙрдЧ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдпрд╣ рдмрдВрдж рд╣реИ (-1 рдкрд░ рд╕реЗрдЯ)ред  рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдХрд╛рд░рдг рд╣реИ (0 рдХреЗ рдорд╛рди рдкрд░, рд╕рднреА рдСрдЯреЛ-рд╕рдлрд╛рдИ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХреА рдЬрд╛рдПрдЧреА) рдФрд░ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░реЗрдВред <br><br>  рдпрд╣рд╛рдБ рдЖрдЙрдЯрдкреБрдЯ рдХреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> log_autovacuum_min_duration = <span class="hljs-number"><span class="hljs-number">0</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_reload_conf();</code> </pre><pre> <code class="plaintext hljs"> pg_reload_conf ---------------- t (1 row)</code> </pre><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> autovac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'C'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> id &lt;= <span class="hljs-number"><span class="hljs-number">31</span></span>;</code> </pre><br><pre> <code class="plaintext hljs">student$ tail -n 7 /var/log/postgresql/postgresql-11-main.log</code> </pre><pre> <code class="plaintext hljs">2019-05-21 11:59:55.675 MSK [9737] LOG: automatic vacuum of table "test.public.autovac": index scans: 0 pages: 0 removed, 18 remain, 0 skipped due to pins, 0 skipped frozen tuples: 31 removed, 1000 remain, 0 are dead but not yet removable, oldest xmin: 4040 buffer usage: 78 hits, 0 misses, 0 dirtied avg read rate: 0.000 MB/s, avg write rate: 0.000 MB/s system usage: CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s 2019-05-21 11:59:55.676 MSK [9737] LOG: automatic analyze of table "test.public.autovac" system usage: CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s</code> </pre><br>  рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдпрд╣рд╛рдБ рдореМрдЬреВрдж рд╣реИред <br><br>  рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдЕрдХреНрд╕рд░ рдЖрдкрдХреЛ рд╕реНрдореГрддрд┐ рдХреЗ рдЖрдХрд╛рд░ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдирд╣реАрдВ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП рд╕реАрдорд╛ рдХреЛ рдХрдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдПрдХ рд╕рдордп рдореЗрдВ рдХрдо рдбреЗрдЯрд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рд╣реЛред <br><br>  рдпрд╣ рдЙрди рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреА рд╕реВрдЪреА рдХреА рд▓рдВрдмрд╛рдИ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рд╕рдордЭ рдореЗрдВ рдЖ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдЙрдкрд░реЛрдХреНрдд рд╡рд┐рдЪрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд╛рдл рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╕реВрдЪреА рдХреА рд▓рдВрдмрд╛рдИ рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╕реЗ рд╕рдВрдХреЗрдд рдорд┐рд▓реЗрдЧрд╛ рдХрд┐ рдСрдЯреЛ-рд╕рдлрд╛рдИ рдХреЗ рдкрд╛рд╕ рдЕрдкрдирд╛ рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рдирд╣реАрдВ рд╣реИ рдФрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рд░реА рд░рдЦрд╛ рдЬрд╛рдП</a> ред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi452762/">https://habr.com/ru/post/hi452762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi452750/index.html">OpenLiteSpeed тАЛтАЛрдХреЗ рдЕрдВрджрд░ рдФрд░ рдмрд╛рд╣рд░ Nextcloud: рд░рд┐рд╡рд░реНрд╕ рдкреНрд░реЙрдХреНрд╕реА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ</a></li>
<li><a href="../hi452752/index.html">рдШрд░ рдХрд╛ рдмрдирд╛ рдмрд┐рдЧрдбрд╛рдЯрд╛ред рднрд╛рдЧ 1. AWS рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ рд╕реНрдкрд╛рд░реНрдХ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рдЕрднреНрдпрд╛рд╕</a></li>
<li><a href="../hi452754/index.html">рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рдбреЙрдХрд░ рдЫрд╡рд┐рдпреЛрдВ рдХрд╛ 19% рд░реВрдЯ рдкрд╛рд╕рд╡рд░реНрдб рдирд╣реАрдВ рд╣реИ</a></li>
<li><a href="../hi452756/index.html">рдПрдХрддрд╛ рдореЗрдВ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдмрдирд╛рдирд╛: рджреБрд╢реНрдорди</a></li>
<li><a href="../hi452760/index.html">рд╡рд┐рдЯрд╛рдорд┐рди рдбреА рдкреАрдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╛ рдирд╣реАрдВ рдкреАрдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рд╕рд╡рд╛рд▓ рд╣реИред (рдпрд╛ рдПрдХ рдХрд╣рд╛рдиреА рдХреИрд╕реЗ рдореИрдВрдиреЗ рдПрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдХрд┐ рдореИрдВ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдирд╣реАрдВ рдерд╛)</a></li>
<li><a href="../hi452764/index.html">[рдкреАрдЯрд░] рд╕рд░реНрдЧреЗрдИ рдореЗрд▓рдирд┐рдХреЛрд╡ рдХреЗ рд╕рд╛рде JUG.ru рдХреА рдмреИрдардХ - рд╢рд╛рдирджрд╛рд░ рдЧрддрд┐ рдХреЗ рд╕рд╛рде рд░реВрдкрд░реЗрдЦрд╛: рд╕рд┐рджреНрдзрд╛рдВрдд рдФрд░ рд╡реНрдпрд╡рд╣рд╛рд░</a></li>
<li><a href="../hi452766/index.html">рдкреНрд░рдЧрддрд┐рд╢реАрд▓ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рддрдХрдиреАрдХ, рдпрд╛ рдмрд┐рдирд╛ рдлреНрд░рд┐рдЬрд╝ рдХреЗ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ 4k рд╡реАрдбрд┐рдпреЛ рдХреИрд╕реЗ рджреЗрдЦреЗрдВ</a></li>
<li><a href="../hi452768/index.html">рдпрджрд┐ рдЖрдк рд╡рд┐рджреЗрд╢реА рдмрд╛рдЬрд╛рд░ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓реЗрддреЗ рд╣реИрдВ рддреЛ рдХрд┐рд╕реА рдЙрддреНрдкрд╛рдж рдХреЛ рдХреИрд╕реЗ рдбрд┐рдЬрд╛рдЗрди рдХрд░реЗрдВ</a></li>
<li><a href="../hi452772/index.html">5 рдЙрдиреНрдирдд рдЧреЛ рдкрд░реАрдХреНрд╖рдг рддрдХрдиреАрдХреЗрдВ</a></li>
<li><a href="../hi452774/index.html">рдбреЗрд▓ рдПрдХреНрд╕рдкреАрдПрд╕ 13 9380: рдЧрдВрднреАрд░ рд╡реНрдпрд╡рд╕рд╛рдп рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдФрд░ рдмрд╣реБрдд рдХреЙрдореНрдкреИрдХреНрдЯ рд▓реИрдкрдЯреЙрдк</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>