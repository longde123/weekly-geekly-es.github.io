<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥢 ☹️ 👇🏾 Harbor - registri untuk keluar dari wadah Docker kotak 👩🏿‍🎤 ✍️ 👩🏽‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada 31 Juli, CNCF mengumumkan adopsi proyek Open Source baru, yang digambarkan sebagai "cloud native registry," di kotak pasirnya (yaitu, pada tahap ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Harbor - registri untuk keluar dari wadah Docker kotak</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/419727/">  Pada 31 Juli, CNCF <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengumumkan</a> adopsi proyek Open Source baru, yang digambarkan sebagai "cloud native registry," di kotak pasirnya (yaitu, pada tahap dukungan paling awal), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Harbour</a> .  Di situs webnya, mereka menjelaskan kepada kami bahwa produk itu dibuat untuk mengelola gambar wadah Docker di lingkungan yang aman. <br><br><img src="https://habrastorage.org/webt/to/ed/6i/toed6ijlvl_n0r90t6rgvmzbixa.png"><br><br>  Tampaknya sudah ada Docker Registry (atau, katakanlah, Quay dari CoreOS), tetapi jelas bahwa solusi baru tidak muncul dan tidak matang untuk aplikasi produksi begitu saja - terutama solusi Open Source ... dan bahkan lebih lagi, jatuh ke dalam CNCF.  Artikel ulasan ini dimaksudkan untuk menjelaskan alasan kemunculan Harbour, fitur dan fitur utamanya. <a name="habracut"></a><br><br><h2>  Fokus pertama Harbour: jaringan dan perusahaan </h2><br>  Sejarah proyek dimulai pada 2016, pada bulan Maret di mana rilis publik pertama terjadi - 0.1.0.  Di belakang penciptaannya adalah para insinyur <b>VMware</b> yang menggambarkan proyek tersebut sebagai "server registri kelas perusahaan," yang, berdasarkan pengembangan Docker, "memperluas kemampuan Registry Docker dengan menambahkan lebih banyak fitur ke dalamnya yang biasanya diperlukan oleh perusahaan". <br><br>  Pada saat itu, penekanannya lebih pada kemungkinan menggunakan registri ini di dalam perusahaan, khususnya, berpotensi meningkatkan produktivitas dengan menyimpan gambar di jaringan perusahaan: “[Pelabuhan] sangat berguna bagi pengguna kontainer yang tidak memiliki koneksi internet yang baik.  Sebagai contoh, Harbour meningkatkan produktivitas pengembang Cina dengan menghilangkan kesulitan mengunduh gambar dari Internet publik ” <i>(dari <a href="">README ke Harbour 0.1.0</a> )</i> . <br><br>  <i><b>Catatan</b> : Orientasi Harbour ke China, yang dikonfirmasi oleh kehadiran lokalisasi yang sesuai sejak rilis pertama, tidak disengaja: penciptaan proyek dengan demikian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diprakarsai oleh</a> divisi perusahaan China (VMware China R&amp;D).</i> <br><br>  Apa yang telah menjadi kejadian sehari-hari untuk ekosistem asli cloud, Harbour <b>ditulis dalam bahasa Go</b> sejak awal dan dilisensikan di bawah ketentuan Apache License 2.0.  Jika kita berbicara tentang kemampuan fungsional proyek, maka dalam rilis pertama penulis meletakkan beberapa fitur yang relevan hingga hari ini, seperti: <br><br><ul><li>  kontrol akses berbasis peran ( <b>RBAC</b> , yang memungkinkan Anda untuk mengatur pengguna dan repositori sebagai "proyek" dan memberikan hak yang berbeda untuk gambar dalam proyek ini), serta dukungan LDAP dan AD untuk otentikasi pengguna; </li><li>  <b>Antarmuka pengguna berbasis web</b> untuk melihat repositori, mencari mereka, mengelola proyek; </li><li>  <b>audit</b> semua operasi; </li><li>  <b>API REST</b> untuk manajemen. </li></ul><br><img src="https://habrastorage.org/webt/jj/jw/gx/jjjwgxrboqn0rq3tpcut7_ydbqc.png"><br>  <i>Manajemen Proyek di Harbour Web UI</i> <br><br><h2>  Evolusi Pelabuhan: Keamanan </h2><br>  Pada 2017, VMware menemukan aplikasi logis untuk proyek barunya - integrasi dengan solusi perusahaan lain untuk kontainer.  Secara khusus, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>vSphere Integrated Containers</b></a> (VIC), yang, tidak menjadi PaaS penuh (Platform sebagai Layanan) atau CaaS (Kontainer sebagai Layanan), secara aktif berkembang, menawarkan semacam landasan untuk bekerja dengan wadah.  Hari ini, misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mesin Kontainer Terintegrasi vSphere</a> , yang merupakan runtime kontainer untuk vSphere, telah berkembang dari mereka.  Dan inilah bagaimana solusi engineer VMware (Nate Reid) menggambarkan VIC pada saat itu: <br><br><blockquote>  <i>“VIC mengambil kerangka kerja satu host Docker dan menskalanya ke beberapa host ESXi.</i>  <i>Arsitektur yang diusulkan untuk orkestrasi mirip dengan Swarm, Kubernetes (K8s) dan Mesos.</i>  <i>Namun, ada beberapa nuansa, dan tidak ada tugas untuk mengganti semua produk ini.</i>  <i>VIC menyediakan jaringan untuk wadah, memungkinkan Anda untuk mendapatkan nama mereka, menawarkan RBAC, panel kontrol HTML5 (Admiral; baca lebih lanjut tentang hal itu dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ulasan GUI kami untuk Docker</a> - <b>kira</b> - <b>kira Terjemahkan.</b> ), Registri tingkat perusahaan (Harbour), banyak perintah Docker serupa, Integrasi dengan alat vSphere.</i>  <i>[..]</i> <i><br><br></i>  <i>Jika Anda memerlukan dukungan orkestrasi Kubernetes dan / atau kemampuan CI / CD berbasis VMware IaaS dari VMware, Anda harus melihat VMware PKS dan / atau Pivotal Cloud Foundry.</i>  <i>Ini sudah merupakan solusi CaaS dan PaaS. ”</i> </blockquote><br>  Pada saat yang sama, masalah <b>keamanan untuk gambar Docker</b> menjadi semakin relevan.  Pada awal 2018, para insinyur "persaudaraan" untuk perusahaan VMware Pivotal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengutip</a> sebuah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">studi</a> yang menyatakan bahwa bahkan versi terbaru dari gambar yang diposting di Docker Hub (baik dari komunitas dan resmi) mengandung banyak kerentanan (rata-rata 70 per gambar). <br><br>  Saat itulah Harbour muncul dengan misi berorientasi keselamatan yang baru, dan sudah berada di "tanah" CaaS yang disebutkan di atas - dalam <b>Layanan Kontainer Penting (PKS)</b> : <br><br><blockquote>  <i>“[Kerentanan dan masalah keamanan lainnya dalam gambar Docker] ini adalah alasan kami telah memasukkan begitu banyak add-on yang berguna yang membuat PKS dapat diandalkan dan aman!”</i>  <i>[..]</i> <i><br><br></i>  <i>Karena Kubernetes sendiri tidak menangani masalah seperti [manajemen gambar aman], kami bekerja dengan teman-teman VMware untuk memasukkan Harbour dalam PKS. ”</i> </blockquote><br>  Apa yang begitu aman ditambahkan ke Harbour (selain RBAC dan audit sudah dilaksanakan dalam proyek)?  Dua arah utama ditunjukkan: <br><br><ol><li>  <b>Pemindaian Kerentanan</b>  Untuk melakukan ini, Harbour mengimplementasikan CVE dari basis data terkenal (NVD NIST, Pelacak CVE Ubuntu, Data Keamanan Red Hat, dll.) Dan secara otomatis memindai setiap gambar kontainer untuk kehadiran mereka saat melakukan operasi push dan pull.  Jika kerentanan ditemukan, operasi dibatalkan tergantung pada pengaturan keamanan, dan gambar itu sendiri ditandai, yang akan terlihat oleh administrator registri.  Untuk mewujudkan peluang ini, Harbour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berintegrasi</a> dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>Clair</b></a> dari CoreOS. </li><li>  <b>Tanda tangan dari gambar</b> .  Ini juga menggunakan pencapaian proyek lain - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>Notaris</b></a> <i>(kami sebutkan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel ini</a> )</i> , yang membuat tanda tangan saat mendorong gambar, dan kemudian memvalidasi tanda tangan tersebut dengan setiap tarikan. </li></ol><br>  Aplikasi umum Harbour di PKS adalah sebagai berikut: <br><br><img src="https://habrastorage.org/webt/va/2s/cz/va2sczdfs6gzhomzofl4gb3mioi.png"><br><br><h2>  Pelabuhan hari ini </h2><br>  Jadi, dengan menawarkan registrasi gambar kontainer untuk digunakan di tempat dan memberikan keamanan dalam berbagai aspek bekerja dengan mereka, hari ini Harbour telah berevolusi ke arsitektur berikut, yang tampaknya menggabungkan fungsi dari proyek Open Source lainnya: <br><br><img src="https://habrastorage.org/webt/5w/5i/lx/5w5ilxohbp2zf-6l5suz8fdieec.png"><br><br>  Selain Docker Registry, Clair dan Notaris yang telah disebutkan, yang mengimplementasikan fitur-fitur utama Harbour, Anda juga dapat melihat dua DBMS dalam skema ini: <br><br><ol><li>  PostgreSQL ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebelumnya</a> MySQL / MariaDB ada di sini), yang digunakan untuk menyimpan metadata tentang proyek, pengguna dan peran mereka, gambar; </li><li>  Redis - untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sesi penyimpanan</a> . </li></ol><br><img src="https://habrastorage.org/webt/gt/zm/lx/gtzmlxpeuwevt1bugxmhqa4s2h4.jpeg"><br>  <i>Database dalam Arsitektur Pelabuhan</i> <br><br>  Anda juga dapat <i>menemukan beberapa detail</i> tentang perangkat internal Harbour umum dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman wiki ini</a> , yang terkait dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi resmi</a> proyek <i>(namun, ada kecurigaan bahwa beberapa detail pada arsitektur mungkin sudah ketinggalan zaman di beberapa tempat)</i> .  Di sana Anda juga dapat menemukan tautan ke petunjuk <a href="">pemasangan Harbour</a> dan <a href="">penerapannya ke Kubernetes</a> .  Yang terakhir, bagaimanapun, dinyatakan usang (berdasarkan versi yang lebih lama, tidak mendukung Clair dan Notaris), dan sebaliknya diusulkan untuk menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Helm-chart</a> . <br><br>  Versi Harbor saat ini adalah <a href="">v1.5.2</a> , dirilis pada akhir Juli.  Persyaratan untuk mesin Linux di mana rilis registri terbaru diinstal adalah Docker versi 17.03.0-ce (atau lebih tinggi) dan Docker Compose 1.10.0+, serta Python dan OpenSSL. <br><br>  <b>Dukungan untuk grafik Helm</b> terlihat seperti inovasi yang sangat menarik untuk versi Harbour yang akan datang ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">v1.6.0-rc1</a> telah dirilis): “Harbour, mulai dari versi 1.6.0, akan menjadi registry asli cloud gabungan yang akan mendukung manajemen gambar dan manajemen grafik” .  <a href="">Rencana pengembangan</a> lainnya termasuk dukungan OAuth 2.0 untuk otentikasi pengguna, kemampuan untuk menyebar ke beberapa situs untuk toleransi kesalahan dan penyeimbangan muatan, mengumpulkan statistik tentang repositori, dan utilitas untuk bermigrasi ke Harbor. <br><br><h2>  Alih-alih sebuah kesimpulan </h2><br>  Harbour adalah contoh proyek sukses dari dunia cloud modern, yang berhasil menemukan ceruknya dan membangun dirinya sendiri, sambil mengintegrasikan kemampuan alat Open Source lainnya.  Bukti keberhasilannya tidak hanya dimasukkannya CNCF dalam daftar proyek, tetapi juga 5000+ bintang di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> , dan komunitas pengembang yang cukup aktif. <br><br><h2>  PS </h2><br>  Baca juga di blog kami: <br><br><ul><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan CNCF untuk Solusi Sumber Terbuka (dan banyak lagi) untuk cloud asli</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OPA dan SPIFFE - Dua Proyek Baru di CNCF untuk Keamanan Aplikasi Cloud</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Empat CNCF merilis 1.0 dan pengumuman besar tentang Kubernetes dengan KubeCon 2017</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Package Manager untuk Kubernetes - Helm: Past, Present, Future</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CNCF telah menawarkan cloud gratis untuk proyek-proyek Open Source untuk DevOps / microservices</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Statistik pada sistem operasi dasar dalam gambar di Docker Hub</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id419727/">https://habr.com/ru/post/id419727/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id419715/index.html">Anda tidak tahu cara bekerja dengan transaksi</a></li>
<li><a href="../id419717/index.html">Merancang arsitektur aplikasi yang tertanam</a></li>
<li><a href="../id419719/index.html">[bookmark] 23 rekomendasi untuk melindungi aplikasi Node.js</a></li>
<li><a href="../id419721/index.html">Biomarker penuaan. Panel Frailty. Bagian 1</a></li>
<li><a href="../id419725/index.html">Darts, Dice, and Coins: Algoritma Distribusi Terpisah</a></li>
<li><a href="../id419729/index.html">Acara amal "Berikan sayap kepada anak-anak"</a></li>
<li><a href="../id419731/index.html">Mini-review dari printer 3D photopolymer gigi MoonRay S</a></li>
<li><a href="../id419733/index.html">Git terjadi! 6 Kesalahan Umum Git dan Cara Memperbaikinya</a></li>
<li><a href="../id419735/index.html">Memeriksa sinyal I / Q dengan SDR menggunakan Adobe Audition</a></li>
<li><a href="../id419743/index.html">Apa yang salah dengan artikel populer yang mengatakan bahwa foo lebih cepat daripada bar?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>