<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏘️ 🏒 🍂 WTF par heure 🚈 🚮 👨🏻‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'âme du poète ne pouvait pas supporter l'obscurité et il partage généreusement ses idées nobles. (c) anonyme 

 Il y a quelque temps, j'ai écrit troi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WTF par heure</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480668/"><p>  <i>L'âme du poète ne pouvait pas supporter l'obscurité et il partage généreusement ses idées nobles.</i>  <i>(c) anonyme</i> </p><br><img src="https://habrastorage.org/webt/kr/xo/tq/krxotq86hcoir1c-vvmydzaghf4.jpeg" alt="WTF par heure"><br>  Il y a quelque temps, j'ai écrit trois articles «Solutions architecturales pour un jeu mobile» dédiés à l'architecture de mes rêves: <br>  • <a href="https://habr.com/ru/post/434582/">Partie 1: Modèle</a> <br>  • <a href="https://habr.com/ru/post/435704/">Partie 2: commande et leurs files d'attente</a> <br>  • <a href="https://habr.com/ru/post/436060/">Partie 3: Vue sur la propulsion par jet</a> <br><br>  J'ai même pensé à faire de ce produit un atout, mais lors du vote, il s'est avéré que les idées et les discussions étaient beaucoup plus importantes pour les gens que le code fini.  Depuis lors, j'ai travaillé dans deux bureaux de jeux, l'un était engagé et l'autre est toujours engagé dans les jeux de bureau, mais l'idée d'organiser l'interface utilisateur par la réactivité dans les deux cas est très pratique, a accéléré plusieurs fois certains travaux sur des interfaces complexes et a permis de mettre en œuvre des interfaces cela semblait auparavant trop compliqué.  Tout cela a montré que même l'étape des premiers tests bêta fermés n'est pas trop tard pour améliorer le projet. <br><a name="habracut"></a><br>  J'ai regardé divers rapports de programmation YouTube et j'ai remarqué une certaine similitude entre eux: les idées, même complètement correctes, entrent mal dans la tête de ceux qui en ont le plus besoin et sont parfois mal comprises car il y a peu de code dans les histoires.  Le programmeur qui est sorti d'un tel rapport ne peut s'asseoir et commencer à écrire que si ce qui lui a déjà été dit lui est presque compréhensible, il n'a tout simplement pas eu le temps de deviner par lui-même.  À l'autre bout du tutoriel, par hello world.  Tristesse, en général. <br><br>  Il existe un concept tel que «Zone de développement proximal»: il est déterminé par le contenu de ces tâches qu'une personne ne peut toujours pas résoudre seule, mais est capable de résoudre en activité conjointe avec quelqu'un qui a déjà franchi cette barrière.  Ce qui est initialement accessible à une personne avec la participation d'autrui devient alors sa propre possession (compétences, capacités).  Par conséquent, il est très utile, bien sûr, de travailler avec un leader fort sur un projet intéressant.  Mais où puis-je trouver tous les projets, et plus encore. <br><br>  En général, en pensant à tout cela, je voulais essayer de partager avec les gens dans un format différent: j'organiserai un flux dédié à la révision du code, je montrerai mon code dédié à la réactivité et expliquerai les idées qui y sont énoncées et pourquoi il est écrit de cette façon et non sinon.  Le flux durera exactement une heure.  Ici, dans l'article, je décrirai brièvement de quoi je veux parler, puis après le fait, j'ajouterai le calendrier et les problèmes que j'ai réussi à discuter et à partir de quelle minute. <br><br>  Dans le processus, vous pouvez et devez poser des questions, car ils disent que la qualité du code est mesurée par la quantité de WTF par unité de temps de révision.  Toutes les questions plus détaillées peuvent être posées ici dans les commentaires, et j'essaierai d'y répondre au cours du flux, si un morceau de code adapté à la réponse apparaît. <br><br>  Dans le processus, vous pouvez et devez me corriger et signaler les erreurs.  Parce qu'il y aura sûrement quelqu'un qui est plus intelligent en particulier ou en général, et aussi parce que quand une personne regarde son propre code, elle ne semble pas en voir une partie, le cerveau a déjà une opinion qui est écrite dans de tels «angles morts» et ne les relire.  Beaucoup, comme je connais ce sentiment, lorsque vous appelez deux yeux de plus à votre code, et tout à coup, un étranger remarque une erreur évidente à l'endroit le plus visible que vous n'avez pas vu.  Pour différentes personnes, les «angles morts» relèvent de différentes manières, sur le même code. <br><br>  Le stream commencera mercredi à 22h30 (c'est mon temps libre, hélas. :) et sera disponible ici: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/LM97jijTVgY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h2>  Maintenant sur le contenu du flux. </h2><br>  En général, une belle implémentation de réactivité se trouve dans la bibliothèque UniRX, que je recommande fortement de connaître.  Peut-être que vous le prendrez littéralement pour vous-même, ou peut-être essuyez-vous simplement les idées de là.  Mais je vais montrer mon propre vélo, écrit à partir de zéro.  Ce n'est pas seulement parce que j'aime les vélos.  Dans UniRX, implémente des interfaces système standard.  IObserver &lt;in T&gt; et System.IObservable &lt;out T&gt;.  Et dans de nombreux endroits, ThreadSafe le fait (pas toujours correctement) et en interne.  Autrement dit, la bibliothèque a beaucoup de code supplémentaire et il n'est pas pratique de l'étendre.  En réalité, je devais m'étendre et m'adapter aux conditions locales dans trois cas sur trois. <br><br>  De plus, comme l'a dit notre directeur technique Assetstore, cela augmentera le temps, mais pas le cerveau.  Si vous en tirez quelque chose que vous ne pourriez pas écrire vous-même, tôt ou tard, vous prendrez une gorgée avec ce code. <br>  Certes, je ne montrerai pas le code d'application qui fonctionne vraiment dans le jeu, mais ma version personnelle.  Premièrement, c'est impossible, et deuxièmement, plus important encore, j'ai une version plus fonctionnelle à la maison. <br><br>  Le multithreading, dans ce lieu, est complètement superflu si l'on utilise la réactivité pour l'interface.  Tout ce que nous voulons faire, c'est finalement finir dans UnityThred pour déplacer les composants de l'écran.  Deuxièmement, j'ai écrit des threads pour la même chose, et dans un cas plus difficile, au travail, et cela prend cinq fois plus de temps, même si à certains endroits j'utilise intelligemment les fonctionnalités de notre moteur de serveur extrêmement asynchrone.  Pour que le code mette en œuvre l'intégralité du contrat sans indulgence, il faudrait encore plus. <br><br>  De plus, IObserver lui-même est un problème.  Premièrement, il a à mon goût une méthode OnError (Exception e) complètement superflue.  Lorsque vous avez du multithreading, cela a une signification profonde, consistant à vider cette action dans UnityThread et cela ne passera pas inaperçu.  Et à l'origine, cette interface a été inventée pour fonctionner avec des fichiers qui tombent souvent avec des erreurs.  Mais en mode mono-thread et lorsque vous travaillez avec le modèle d'application, c'est une merde supplémentaire à l'improviste, je préfère le code pour déclencher l'alarme exactement à l'endroit où il est mort. <br><br>  Le deuxième problème avec IObserver est que je souhaite un changement transactionnel.  Imaginez simplement que List provient d'une source, et d'un autre flux, nous obtenons l'index de l'élément, que nous devons supprimer de la feuille et transmettre.  Et ici, l'index pointe vers le dernier élément, et ici un élément est supprimé, et l'index diminue de 1. Au final, tout ira bien et le résultat de l'opération ne changera pas, mais si nous recevons un message sur le changement de List et seulement ensuite un message sur le changement d'index, notre le code interceptera une exception IndexOutOfRangeException.  En fait, le même problème avec l'ordre dans lequel les changements sont appliqués peut se manifester de dizaines d'autres façons, c'est tout simplement le plus évident. <br><br>  Par conséquent, je veux mon interface, d'une part sans faire glisser OnError, mais d'autre part contenant .OnTransaction (ITransaction t) <br><br>  Quelque chose que je ressens trop profondément.  En parler pendant un flux avec du code à l'écran sera clairement plus rapide et beaucoup plus compréhensible.  Plus loin sur les hauts: <br><br><ul><li>  Mes interfaces sont IActive et IReactive.  Comment ils sont plus beaux que tous les événements et à quoi ressemble le résultat final de leur utilisation. </li><li>  ActiveProperty &lt;T&gt;.  Quelle est la différence avec Active.Proxy &lt;T&gt;, comment la valeur initiale d'une variable est transmise et comment elle est traitée. </li><li>  Comment puis-je vérifier tout cela avec des tests et pourquoi c'est très pratique.  En fait, il ne serait pas possible d'écrire une telle chose sans tests du tout. </li><li>  Stratégie d'entretien ménager IDisposible.  Mécanisme double prenant en charge OnComplete et ICollection &lt;IDisposible&gt; </li><li>  Comment faire facilement des extensions de kit d'outils en streaming et lire les exemples les plus utiles. </li><li>  Outils de débogage pour tout ce gâchis.  Tout d'abord .Log (), et nous arriverons à CalculationTree la prochaine fois. </li><li>  Une lecture attentive du code Active.Proxy &lt;T&gt;, pourquoi il n'y a pas d'événements sous le capot, mais une liste doublement liée. </li><li>  IActiveList et IActiveDictionary, d'abord les idées les plus courantes. </li><li>  Comment diviser en ViewModel, Controller et View.  Comment ne pas boucler vos flux. </li><li>  Processus consistant à supprimer des variables de la réactivité vers un modèle. </li><li>  ActiveList et ActiveDictionary avec un delta minimal.  Contrairement à l'implémentation frontale de DeltaDictionary en général et en UniRX en particulier. </li><li>  La stratégie générale pour corriger les erreurs dans le code, car il n'y a pas un tel sujet dans les universités, mais devrait l'être. </li></ul><br>  En fait, il y a déjà plusieurs heures d'histoires et d'émissions de code, alors commençons par la première heure, puis comment piétiner. <br><br>  PS Ce sera mon premier stream, donc ne jugez pas strictement s'il y a des problèmes techniques. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr480668/">https://habr.com/ru/post/fr480668/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr480652/index.html">Caméra PoE de 250 mètres sur fil - c'est possible</a></li>
<li><a href="../fr480654/index.html">Julia battra-t-elle Python comme Python l'a fait avec Java?</a></li>
<li><a href="../fr480658/index.html">1C - Le bien et le mal. Placement des points dans les holivars autour de 1C</a></li>
<li><a href="../fr480660/index.html">Visualiser des attracteurs étranges dans Plotly est un chef-d'œuvre</a></li>
<li><a href="../fr480664/index.html">Projet ELISA: Linux dans les systèmes critiques pour la sécurité</a></li>
<li><a href="../fr480670/index.html">PM2: aborder judicieusement la question de la gestion des processus</a></li>
<li><a href="../fr480672/index.html">Le paradoxe d'Einstein - Podolsky - Rosen sur les doigts et ... qu'est-ce que l'éther a à voir avec ça</a></li>
<li><a href="../fr480674/index.html">Test de serveurs virtuels de DigitalOcean, Vultr, Linode et Hetzner. Victimes humaines: 0,0</a></li>
<li><a href="../fr480680/index.html">Stratégie de défense NGINX et demande à Igor Sysoev</a></li>
<li><a href="../fr480682/index.html">Intel RealSense LiDAR L515 - Un autre nouveau RealSense</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>