<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛣️ 🥉 ✌🏻 Caraku seorang pejuang, atau bagaimana aku menyiapkan aplikasi untuk hidup di Sailfish 👳🏿 👩🏻 🥦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seni seorang pejuang adalah menjaga keseimbangan 
 antara kengerian menjadi manusia dan keajaiban menjadi manusia. 
 "Perjalanan ke Ixtlan" 

 Path of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Caraku seorang pejuang, atau bagaimana aku menyiapkan aplikasi untuk hidup di Sailfish</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digdes/blog/420491/">  <i>Seni seorang pejuang adalah menjaga keseimbangan</i> <i><br></i>  <i>antara kengerian menjadi manusia dan keajaiban menjadi manusia.</i> <i><br></i>  <i>"Perjalanan ke Ixtlan"</i> <br><br>  Path of warrior saya - pengembang frontend brutal pada pro - adalah untuk menemukan keseimbangan antara mengembangkan aplikasi yang berjalan pada Sailfish dan aplikasi lintas platform. <br><br>  Baru-baru ini, saya telah bekerja pada posisi pengembang di Desain Digital, dan kadang-kadang saya harus berurusan dengan tugas yang belum saya temui sebelumnya.  Itu menarik dan sering menyenangkan.  Sekarang, misalnya, saya sedang menulis aplikasi perusahaan untuk Sailfish OS dan ingin berbagi pengalaman saya dengan Anda - ini akan dibahas di bawah.  Ikuti saya di bawah cut, jika Anda adalah pengembang pemula atau, sama seperti saya, dihadapkan dengan tugas mengadaptasi aplikasi perusahaan untuk OS Sailfish dan tidak tahu harus mulai dari mana, serta mereka yang belum pernah mendengar tentang fitur Qt dan Sailfish. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/xh/si/zrxhsitmn-nk4wa5iic71hc7wfu.jpeg"></div><a name="habracut"></a><br><h3>  Sedikit latar belakang, atau mengapa saya melakukannya </h3><br>  Ketika perusahaan itu mengembangkan solusi Areopad ISCO untuk iPad (iOS) 5 tahun yang lalu, tidak ada yang bisa berpikir bahwa pelanggan akan memerlukan aplikasi untuk bekerja pada perangkat dengan Sailfish OS (maka OS itu milik perusahaan Finlandia Jolla, bagaimanapun, sekarang juga).  Tetapi pada tahun 2016, perusahaan Open Platform Platform perusahaan Rusia memperoleh lisensi untuk penggunaan, modifikasi, distribusi, dan mengingatkan: ia mengadaptasi perangkat dan pengguna ponsel domestik (terutama perusahaan dan lembaga pemerintah) dan mendaftarkan Sailfish Mobile OS RUS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dalam registri</a> .  Dan sekarang ini, bisa dikatakan, adalah satu-satunya sistem operasi resmi Rusia untuk perangkat seluler. <br><br>  Tentu saja, kami ingin memahaminya - kami telah menaklukkan sisa OS, dan Sailfish, tampaknya, memiliki masa depan yang baik (ya, saya sedang berbicara tentang substitusi impor).  Dari semua ini maka aplikasi untuk Sailfish menjadi!  Aplikasi pertama yang akan diuji adalah Sistem Informasi aplikasi mobile untuk pekerjaan badan-badan kolegial Areopad (itu hanya pada tahap modernisasi). <br><br><h3>  Sekarang tentang qt </h3><br>  Alat lintas platform yang luar biasa yang mencakup lingkungan pengembangan, satu ton perpustakaan yang bermanfaat dan nyaman, dan bahkan bahasa markah QML Anda sendiri.  Saya tidak akan memikirkannya untuk waktu yang lama, karena banyak artikel telah ditulis tentang keajaiban Habré ini, dan Anda juga dapat membaca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasinya</a> , yang dibaca dengan mudah dan alami. <br><br>  Untuk berjaga-jaga, saya akan mengklarifikasi bahwa perhitungan dan pemetaan dilakukan dalam berbagai bahasa dalam modul yang berbeda (C ++ dan QML) yang berinteraksi satu sama lain menggunakan metode rumit khusus (properti, slot sinyal). <br><br>  Dan Qt adalah kerangka kerja utama yang digunakan dalam mengembangkan perangkat lunak untuk Sailfish. <br><br><h3>  Pendekatan untuk memecahkan masalah: ke kiri - Anda akan mendapatkan tongkat penyangga, ke kanan - Anda akan kehilangan fitur </h3><br>  Pada awalnya, terinspirasi oleh ide cross-platform dan fakta bahwa saya akan mengimplementasikannya, saya berpikir bahwa aplikasi yang ditulis untuk Sailfish tidak akan lepas landas, tetapi dengan senang hati gagal pada OS lain, bahkan lemari es atau ketel.  Tetapi kebahagiaan saya bertahan sampai saat saya duduk untuk menjalankannya di Android - kemudian saya merasa sedih.  Sailfish sama sekali tidak diadaptasi untuk bisnis ini dan jelas tidak bermaksud mengubah apa pun. <br><br>  Jika Android atau iOS memungkinkan Anda untuk menggunakan kompilasi bersyarat dan menyediakan semacam toolkit untuk ini, maka Sailfish tidak dapat dibedakan dari Linux (tentu saja dalam Qt). <br><br>  Selanjutnya, masalah kompatibilitas QML muncul: di Sailfish, versi lama Qt Quick (2.6 untuk Sailfish dan sudah 2.11 untuk semua orang), Android tidak mengenal Silica, Sailfish tidak tahu QtQuick.Controls.  Oleh karena itu, untuk OS yang berbeda, Anda harus menarik komponen yang sama dari pustaka yang berbeda, yang menghasilkan file yang hampir sama untuk setiap OS. <br>  Pada saat yang sama, Silica mungkin memiliki semua fitur yang sama dengan QtQuick.Controls, tetapi menolak untuk berjalan di platform lain. <br><br><h3>  Fitur Sailfish </h3><br>  Menjadi orang yang <s>malas,</s> sekreatif mungkin orang kreatif dengan keinginan untuk mengoptimalkan biaya tenaga kerja, saya mengambil jalan <s>resistensi</s> paling tidak fungsional dan menulis karya saya di Qt murni, tanpa menggunakan QtQuick.Controls dan Silica.  Hasilnya, semuanya bekerja dengan baik dan bagus di Sailfish, tetapi di Android, setengah dari elemen, meskipun saya harus duduk diam, pergi ke suatu tempat untuk hal-hal penting mereka, jadi langkah selanjutnya masih akan dilakukan pada orang dewasa dan bercerai file markup untuk setiap OS pada sudut yang berbeda.  [Yang saya lakukan nanti, sambil menyiapkan artikel untuk publikasi.  Kisah ini mengacu pada artikel terpisah].  Harap ingat dan terima: konstanta sihir itu jahat (misalnya, lebar: 15).  Dan pada dua perangkat yang hampir identik, bahkan dengan OS yang sama, mereka dapat berbeda sebanyak 2 kali. <br><br>  Namun, saya tidak bisa tidak mencatat bahwa pasti ada hal-hal menarik dalam versi Sailfish.  Tentu saja, untuk waktu yang singkat sehingga saya mengenalnya, hampir tidak mungkin untuk mengetahui seluruh dunia Sailfish yang kaya - hubungan kita dengan dia adalah pada tahap "periode buket permen", dan banyak dari yang belum saya pelajari dalam karakter kompleksnya.  Selain itu, diputuskan untuk menggambar aplikasi universal untuk semua OS, jadi saya tidak memiliki kesempatan untuk menggunakan mekanisme yang lebih canggih untuk menggunakan kesempatan tersebut, tetapi saya mungkin akan memberi tahu Anda tentang beberapa poin menarik. <br><br>  Kami hanya akan berbicara tentang satu perpustakaan untuk mengimplementasikan GUI Silika, karena sisanya yang saya pelajari dan pahami tidak berbeda dari pemrograman QML standar. <br><br><ul><li>  <b>Tema</b> </li></ul><br>  Alat ini paling menarik bagi saya karena saya belum melihat analog di OS lain, dan juga tidak rumit.  Intinya adalah bahwa desain aplikasi tidak konstan, tetapi tergantung pada topik yang dipilih. <br><br>  Elemen tema berisi informasi tentang topik yang saat ini dipilih: warna primer, ukuran font, indentasi dan komponen.  Jadi, saat menulis aplikasi, Anda tidak perlu membuat hardcode warna, menyesuaikan ukuran agar sesuai dengan layar, dan umumnya melihat tata letak (maafkan para desainer, Anda sudah memiliki banyak pekerjaan), Anda bisa menarik semuanya dari elemen Tema.  Yah, itu tidak keren! <br><br><img src="https://habrastorage.org/webt/ak/pr/wa/akprwaderu8np2wpkch4j_qo9xa.png"><br><br><ul><li>  <b>Menu</b> </li></ul><br>  Juga merupakan fitur dari Sailfish (walaupun mungkin di Android, tapi saya belum melihatnya). <br><br>  Ada tiga jenis menu: <br>  <b>PullDownMenu - PushUpMenu - ContextMenu</b> <br><br><img src="https://habrastorage.org/webt/bu/y7/a5/buy7a5tkeexpsohiexbtm4oydfm.jpeg"><img src="https://habrastorage.org/webt/jk/sl/4n/jksl4n-kik82otj40tdtcn9q4jq.jpeg"><img src="https://habrastorage.org/webt/ny/ti/tw/nytitwwksf94j2c1oraw50qea7q.jpeg"><br><br>  Adapun Silica ... Lihat - mereka tidak berbeda dari standar ... Lihat (mereka ± beberapa properti tidak terlalu terlihat), dan komponen Tombol membuat Anda cukup gugup - ketinggian tombol tidak dapat diubah, Anda harus menulis Rectangle dan MouseArea di mana-mana.  Jika saya membuat aplikasi untuk Sailfish saja, menggunakan desain standar OS ini, tidak perlu mengubah ketinggian tombol atau akan mungkin menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">komponen dari Silica</a> .  Tapi karena saya menulis aplikasi untuk semua perangkat, diputuskan untuk menggunakan desain yang paling besar (Android), sehingga semua orang akan terbiasa dan nyaman.  Banyak yang tidak setuju dengan saya dan mengatakan bahwa Anda perlu menggunakan elemen UI asli untuk setiap platform, tetapi ini adalah topik yang benar-benar berbeda, ini telah menjadi subjek holivars selama bertahun-tahun, selama ini lebih dari satu generasi pengembang telah berkembang. <br><br><h3>  Terbang dalam salep ke pengembangan seluler di Qt </h3><br><ul><li>  <b>Assikronisme</b> </li></ul><br>  Di Qt, untuk berkomunikasi dengan server, memanggil satu fungsi tidak cukup, Anda perlu mengirim permintaan dan meminta objek khusus yang bertanggung jawab atas respons server untuk memanggil fungsi pemrosesan respons (yang, tentu saja, kami menulis sendiri) ketika respons diterima: <br><br><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-function">QNetworkRequest </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">request</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"http://www.leningrad.spb.ru"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; QNetworkReply *reply = mngr-&gt;get(request); connect(reply, &amp;QNetworkReply::finished, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, &amp;Class:: onReplyFinished); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onReplyFinished</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ QNetworkReply *reply = (QNetworkReply*)sender(); QByteArray ans = reply-&gt;readAll(); qDebug() &lt;&lt; ans; }</code> </pre> <br>  Fungsi onReplyFinished akan dipanggil ketika respons diterima dari server, dan ini mungkin memakan waktu tidak peduli berapa lama itu tergantung pada kualitas koneksi dan sisi server.  Sekarang bayangkan bagaimana semua ini akan diatur dengan 1500-2000 permintaan, yang dalam hal ini bergantung satu sama lain dan harus dijalankan dalam urutan yang ketat.  Dan jika Anda ingat bahwa seluruh bagian UI tergantung pada jawabannya, maka itu menjadi sangat menakutkan. <br><br><ul><li>  <b>Pemrograman berorientasi kruk, atau pendekatan kreatif untuk memecahkan masalah</b> </li></ul><br>  Topik lain adalah ListView, yang merupakan masalah Qt sangat lokal, tetapi masih tidak menyenangkan. <br><br>  Setiap ListView yang menghargai diri sendiri harus memiliki komponen header, yang, sebagai delegasi pertama, memasukkan beberapa elemen yang secara fundamental berbeda dari yang lain.  Ya, dia melakukannya, ya, dia melukis segalanya dengan sempurna, jika itu bukan untuk satu "tetapi": delegasi saya menempati seluruh layar, dan itu perlu digulir, tetapi segera setelah saya mencoba menggulir ke kiri ke header dari indeks nol, dia pada dasarnya menolak ini tampilkan tajuk.  Apa yang harus dilakukan?  Barang-barang dengan kruk.  Sepotong kode pembentukan model saya untuk ListView ini di bagian cpp, yang menjelaskan apa yang terjadi seakurat mungkin: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (QVariant quest, QQuestions) { Questions.append(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Question(client, quest)); } kostilQuestions = Questions; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Questions.size() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) kostilQuestions.prepend(Questions[<span class="hljs-number"><span class="hljs-number">0</span></span>]);</code> </pre> <br>  Selanjutnya, 2 item independen dibuat dalam delegasi, yang visibilitasnya tergantung pada indeks. <br>  Ketika indeksnya nol, kita melihat satu, sebaliknya yang lain. <br><br><h4>  Ringkasan </h4><br>  Akibatnya, saya mendapat aplikasi yang "terbang" di Android dan iOS, dan Sailfish, lebih tepatnya aplikasi fleksibel yang beradaptasi dengan OS ini.  Dan sihir tidak ada hubungannya dengan itu.  Saya menemukan cara untuk menghindari konflik dan berteman dengan semua OS dengan Sailfish dengan mengganti beberapa file untuk Sailfish dan yang lainnya.  Ini memungkinkan kami untuk memilih lapisan antarmuka pengguna untuk setiap OS dalam kode aplikasi. <br><br>  Kami dapat berasumsi bahwa kami telah mengambil langkah pertama - kami berteman dengan Sailfish.  Tetapi pekerjaan ini belum selesai, Sailfish dan saya akan naik ke tingkat baru hubungan kami - kami sedang mempersiapkan aplikasi CSIS Areopad untuk pendaftaran di registri (seperti aplikasi Sailfish), yang berarti bahwa kami perlu menyesuaikannya juga untuk registri. <br><br>  Saya harap itu menarik.  Untuk dilanjutkan. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id420491/">https://habr.com/ru/post/id420491/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id420475/index.html">Perbandingan mesin pemotong laser Raylogic 11G dan Raylogic V12</a></li>
<li><a href="../id420477/index.html">Ulasan HyperX Cloud Stinger Core: headset karakter yang ringan dan kasar</a></li>
<li><a href="../id420479/index.html">Ketergantungan injeksi dalam layanan Apache Ignite.NET</a></li>
<li><a href="../id420487/index.html">Bisnis meminta hak untuk data pribadi pengguna</a></li>
<li><a href="../id420489/index.html">Prosesor ARM baru dapat bersaing dengan Core i5</a></li>
<li><a href="../id420493/index.html">Bisakah layanan pemesanan makanan Amerika menjadi Amazon di dunia restoran</a></li>
<li><a href="../id420495/index.html">Rendering air layar</a></li>
<li><a href="../id420497/index.html">Singularity Sayuran: Kroger Meluncurkan Robocouriers untuk Pelanggan Buah dan Sayuran di Arizona</a></li>
<li><a href="../id420499/index.html">Anatomi sistem rekomendasi. Bagian satu</a></li>
<li><a href="../id420501/index.html">Linux dalam RAM: cara debirf 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>