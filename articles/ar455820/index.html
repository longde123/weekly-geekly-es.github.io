<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐ปโ๐ ๐ต ๐ฆ ุชุญููู ุฃุฏุงุก VM ูู VMware vSphere. ุงูุฌุฒุก 2: ุงูุฐุงูุฑุฉ ๐ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูุฌุฒุก 1. ุญูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ 
 ุงูุฌุฒุก 3. ุญูู ุงูุชุฎุฒูู 

 ูู ูุฐู ุงูููุงูุฉ ุ ุณูุชุญุฏุซ ุนู ุนุฏุงุฏุงุช ุฃุฏุงุก ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู vSphere. 
 ูุจุฏู ุฃู ุงูุฐุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุญููู ุฃุฏุงุก VM ูู VMware vSphere. ุงูุฌุฒุก 2: ุงูุฐุงูุฑุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/455820/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/el/am/7y/elam7yyhc6vrowmmrt5ofxgj-r0.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1. ุญูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 3. ุญูู ุงูุชุฎุฒูู</a> <br><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุณูุชุญุฏุซ ุนู ุนุฏุงุฏุงุช ุฃุฏุงุก ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู vSphere. <br>  ูุจุฏู ุฃู ุงูุฐุงูุฑุฉ ูุง ูุจุณ ูููุง ุฃูุซุฑ ููุง ูู ุงูุญุงู ูุน ุงููุนุงูุฌ: ุฅุฐุง ูุงูุช ููุงู ูุดุงูู ูู ุงูุฃุฏุงุก ุนูู ุฌูุงุฒ VM ุ ููู ุงูุตุนุจ ุนุฏู ููุงุญุธุฉ ุฐูู.  ูููู ุฅุฐุง ุธูุฑุช ุ ูููู ุงูุชุนุงูู ูุนูู ุฃูุซุฑ ุตุนูุจุฉ.  ููู ุฃูู ุงูุฃุดูุงุก ุฃููุง. <a name="habracut"></a><br><br><h3 style=";text-align:right;direction:rtl">  ููููุง ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ </h3><br>  ูุชู ุงูุญุตูู ุนูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุฐุงูุฑุฉ ุงูุฎุงุฏู ุงูุฐู ุชุนูู ุนููู ุฃุฌูุฒุฉ VM.  ูุฐุง ูุงุถุญ ุฌุฏุง :).  ุฅุฐุง ูุงูุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููุฎุงุฏู ุบูุฑ ูุงููุฉ ููุฌููุน ุ ูุจุฏุฃ ุชุทุจูู ESXi ูู ุชุทุจูู ุชูููุงุช ุงุณุชุฑุฌุงุน ุงูุฐุงูุฑุฉ.  ุฎูุงู ุฐูู ุ ูุฏ ุชุชุนุทู ุฃูุธูุฉ ุงูุชุดุบูู VM ูุน ุฃุฎุทุงุก ุงููุตูู ุฅูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู. <br><br>  ูุง ูู ุชูููุงุช ุงุณุชุฎุฏุงู ESXi ุงูุชู ุชูุฑุฑ ุงุนุชูุงุฏูุง ุนูู ุญูู RAM: <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ุญุงูุฉ ุงูุฐุงูุฑุฉ</b> <br></td><td>  <b>ุงูุญุฏูุฏ</b> <br></td><td>  <b>ุงูุฅุฌุฑุงุกุงุช</b> <br></td></tr><tr><td>  ุงุฑุชูุงุน <br></td><td> 400 ูช ูู minFree <br></td><td>  ุจุนุฏ ุงููุตูู ุฅูู ุงูุญุฏ ุงูุฃุนูู ุ ูุชู ุชูุณูู ุตูุญุงุช ุงูุฐุงูุฑุฉ ุงููุจูุฑุฉ ุฅูู ุตูุญุงุช ุตุบูุฑุฉ (ุชุนูู TPS ูู ุงููุถุน ุงูููุงุณู). <br></td></tr><tr><td>  ูุงุถุญ <br></td><td>  100 ูช ูู minFree <br></td><td>  ุชููุณู ุงูุตูุญุงุช ุงููุจูุฑุฉ ูู ุงูุฐุงูุฑุฉ ุฅูู ุฃุฌุฒุงุก ุตุบูุฑุฉ ุชุนูู TPS ุจุงูููุฉ. <br></td></tr><tr><td>  ูุงุนู <br></td><td>  64 ูช ูู minFree <br></td><td>  TPS + ุจุงููู <br></td></tr><tr><td>  ุดุงู <br></td><td>  32 ูช ูู minFree <br></td><td>  TPS + ุถุบุท + ูุจุงุฏูุฉ <br></td></tr><tr><td>  ููุฎูุถ <br></td><td>  16 ูช ูู minFree <br></td><td>  ุถุบุท + ูุจุงุฏูุฉ + ูุชูุฉ <br></td></tr></tbody></table></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุฏุฑ</a> <br><br>  minFree ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุงููุงุฒูุฉ ู hypervisor ููุนูู. <br><br>  ูุจู ESXi 4.1 ุถููููุง ุ ุชู ุฅุตูุงุญ minFree ุงูุชุฑุงุถููุง - 6ูช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููุฎุงุฏู (ูููู ุชุบููุฑ ุงููุณุจุฉ ูู ุฎูุงู ุฎูุงุฑ Mem.MinFreePct ุนูู ESXi).  ูู ุงูุฅุตุฏุงุฑุงุช ุงูุฃุญุฏุซ ุ ูุธุฑูุง ููุฒูุงุฏุฉ ูู ุฃุญุฌุงู ุงูุฐุงูุฑุฉ ุนูู ุฎูุงุฏู minFree ุ ุจุฏุฃ ุญุณุงุจูุง ุงุณุชูุงุฏูุง ุฅูู ุญุฌู ุฐุงูุฑุฉ ุงููุถูู ุ ูููุณ ููุณุจุฉ ูุฆููุฉ ุซุงุจุชุฉ. <br><br>  ูุชู ุงุญุชุณุงุจ ูููุฉ minFree (ุงูุชุฑุงุถู) ููุง ููู: <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ูุณุจุฉ ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ูู minFree</b> <br></td><td>  <b>ูุทุงู ุงูุฐุงูุฑุฉ</b> <br></td></tr><tr><td>  6ูช <br></td><td>  0-4 ุบูุบุงุจุงูุช <br></td></tr><tr><td>  4ูช <br></td><td>  4-12 ุบูุบุงุจุงูุช <br></td></tr><tr><td>  2ูช <br></td><td>  12-28 ุบูุบุงุจุงูุช <br></td></tr><tr><td>  1ูช <br></td><td>  ุงูุฐุงูุฑุฉ ุงููุชุจููุฉ <br></td></tr></tbody></table></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุฏุฑ</a> <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ูุฎุงุฏู ุฐู 128 ุฌูุฌุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ูุฅู ูููุฉ MinFree ุณุชููู: <br>  MinFree = 245.76 + 327.68 + 327.68 + 1024 = 1925.12 MB = 1.88 GB <br>  ูุฏ ุชุฎุชูู ุงููููุฉ ุงููุนููุฉ ุนู ุทุฑูู ุจุถุน ูุฆุงุช ููุบุงุจุงูุช ุ ูุฐูู ูุนุชูุฏ ุนูู ุงูุฎุงุฏู ูุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ูุณุจุฉ ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ูู minFree</b> <br></td><td>  <b>ูุทุงู ุงูุฐุงูุฑุฉ</b> <br></td><td>  <b>ุงููููุฉ ููุงุจู 128 ุฌูุฌุงุจุงูุช</b> <br></td></tr><tr><td>  6ูช <br></td><td>  0-4 ุบูุบุงุจุงูุช <br></td><td>  245.76 ููุบุงุจุงูุช <br></td></tr><tr><td>  4ูช <br></td><td>  4-12 ุบูุบุงุจุงูุช <br></td><td>  327.68 ููุบุงุจุงูุช <br></td></tr><tr><td>  2ูช <br></td><td>  12-28 ุบูุบุงุจุงูุช <br></td><td>  327.68 ููุบุงุจุงูุช <br></td></tr><tr><td>  1ูช <br></td><td>  ุงูุฐุงูุฑุฉ ุงููุชุจููุฉ (100 ุฌูุฌุงุจุงูุช) <br></td><td>  1024 ููุบุงุจุงูุช <br></td></tr></tbody></table></div><br><br>  ุนุงุฏุฉ ุ ุจุงููุณุจุฉ ูููุฏุฑุฌุงุช ุงูุฅูุชุงุฌูุฉ ุ ูููู ุงุนุชุจุงุฑ "ูุฑุชูุน ููุท" ุทุจูุนููุง.  ุจุงููุณุจุฉ ุฅูู ููุตุงุช ุงูุงุฎุชุจุงุฑ ูุงูุชุทููุฑ ุ ูุฏ ุชููู ุธุฑูู Clear / Soft ููุจููุฉ.  ุฅุฐุง ูุงู ููุงู ุฃูู ูู 64ูช ูู MinFree of RAM ุชุจูู ุนูู ุงููุถูู ุ ูุฅู ุฃุฌูุฒุฉ VM ุงูุชู ุชุนูู ุนูููุง ุณุชูุงุฌู ุจุงูุชุฃููุฏ ูุดุงูู ูู ุงูุฃุฏุงุก. <br><br>  ูู ูู ููุงูุฉ ุ ูุชู ุชุทุจูู ุจุนุถ ุชูููุงุช ุงุณุชุฑุฌุงุน ุงูุฐุงูุฑุฉ ุจุฏุกูุง ูู TPS ุ ูุงูุชู ูุง ุชุคุซุฑ ุนูููุงู ุนูู ุฃุฏุงุก VM ุ ูุงูุชู ุชูุชูู ุจู Swapping.  ุณูู ุฃุฎุจุฑูู ุงููุฒูุฏ ุนููู. <br><br>  <b>ูุดุงุฑูุฉ ุงูุตูุญุฉ ุงูุดูุงูุฉ (TPS).</b>  TPS ูู ุ ูู ุงูุบุงูุจ ุ ุฅูุบุงุก ุงูุจูุงูุงุช ุงูููุฑุฑุฉ ูุตูุญุงุช RAM ุงูุฎุงุตุฉ ุจุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุนูู ุงูุฎุงุฏู. <br><br>  ูุจุญุซ ESXi ุนู ุตูุญุงุช ูุชุทุงุจูุฉ ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููุฌูุงุฒ ุงูุธุงูุฑู ุ ููููู ุจุญุณุงุจ ูููุงุฑูุฉ ูุฌููุน ุตูุญุงุช ุงูุชุฌุฒุฆุฉ ุ ููุฒูู ุงูุตูุญุงุช ุงูููุฑุฑุฉ ุ ููุณุชุจุฏููุง ุจุฑูุงุจุท ูููุณ ุงูุตูุญุฉ ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ููุฎุงุฏู.  ูุชูุฌุฉ ูุฐูู ุ ูุชู ุชูููู ุงุณุชููุงู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ููููู ุชุญููู ุจุนุถ ุฅุนุงุฏุฉ ุงูุงุดุชุฑุงู ูู ุงูุฐุงูุฑุฉ ูุน ููุฏุงู ุฃุฏุงุก ุถุฆูู ุฃู ูุนุฏูู. <br><br><img src="https://habrastorage.org/webt/ul/fz/1i/ulfz1i0bomyhsarceziylov-o6i.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุฏุฑ</a> <br><br>  ุชุนูู ูุฐู ุงูุขููุฉ ููุท ูุตูุญุงุช 4 ููููุจุงูุช (ุตูุญุงุช ุตุบูุฑุฉ).  ุตูุญุงุช ุจุญุฌู 2 ููุบุงุจุงูุช (ุตูุญุงุช ูุจูุฑุฉ) ูุง ูุญุงูู ุจุฑูุงูุฌ hypervisor ุญุชู ุฅูุบุงุก ุงูุชูุฑุงุฑ: ูุฑุตุฉ ุงูุจุญุซ ุนู ุตูุญุงุช ูุชุทุงุจูุฉ ุจูุฐุง ุงูุญุฌู ููุณุช ูุจูุฑุฉ. <br><br>  ุจุดูู ุงูุชุฑุงุถู ุ ูุฎุตุต ESXi ุงูุฐุงูุฑุฉ ููุตูุญุงุช ุงููุจูุฑุฉ.  ูุจุฏุฃ ุชูุณูู ุงูุตูุญุงุช ุงููุจูุฑุฉ ุฅูู ุตูุญุงุช ุตุบูุฑุฉ ุนูุฏ ุงููุตูู ุฅูู ุงูุญุฏ ุงูุฃุนูู ููููุงูุฉ ุงูุนููุง ููุชู ูุฑุถู ุนูุฏ ุงููุตูู ุฅูู ุญุงูุฉ ุงููุณุญ (ุงูุธุฑ ุฌุฏูู ุญุงูุฉ ุจุฑูุงูุฌ Hypervisor). <br><br>  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุจุฏุก TPS ูู ุงูุนูู ุฏูู ุงูุชุธุงุฑ ุชุนุจุฆุฉ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูููุถูู ุ ูู ุงูุฎูุงุฑุงุช ุงููุชูุฏูุฉ ESXi ุ ุชุญุชุงุฌ ุฅูู ุชุนููู ูููุฉ <i>"Mem.AllocGuestLargePage"</i> ุฅูู 0 (ุงูุงูุชุฑุงุถู ูู 1).  ุซู ุณูุชู ุชุนุทูู ุชุฎุตูุต ุตูุญุงุช ูุจูุฑุฉ ูู ุงูุฐุงูุฑุฉ ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ. <br><br>  ููุฐ ุฏูุณูุจุฑ 2014 ุ ูู ุฌููุน ุฅุตุฏุงุฑุงุช ESXi ุ ุชู ุชุนุทูู TPS ุจูู ุฃุฌูุฒุฉ VM ุงูุชุฑุงุถููุง ุ ูุธุฑูุง ููุฌูุฏ ุซุบุฑุฉ ุฃูููุฉ ุชุณูุญ ูุธุฑููุง ุจุงููุตูู ุฅูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู VM ุขุฎุฑ ูู ุฌูุงุฒ VM ูุงุญุฏ.  ุงูุชูุงุตูู ููุง.  ูุนูููุงุช ุญูู ุงูุชูููุฐ ุงูุนููู ูุงุณุชุบูุงู ูุดููุฉ ุนุฏู ุญุตุงูุฉ TPS ุงูุชู ูู ุฃูุงุจููุง. <br><br>  ูุชู ุงูุชุญูู ูู ุณูุงุณุฉ TPS ูู ุฎูุงู ุงูุฎูุงุฑ ุงููุชูุฏู <i>"Mem.ShareForceSalting"</i> ุนูู ESXi: <br>  0 - Inter-VM TPS.  ูุนูู TPS ูุตูุญุงุช ุฃุฌูุฒุฉ VM ูุฎุชููุฉ ุ <br>  1 - TPS ูุฃุฌูุฒุฉ VM ุจููุณ ุงููููุฉ "sched.mem.pshare.salt" ูู VMX ุ <br>  2 (ุงูุชุฑุงุถู) - Intra-VM TPS.  ูุนูู TPS ููุตูุญุงุช ุฏุงุฎู VM. <br><br>  ูู ุงูููุทูู ุจุงูุชุฃููุฏ ุฅููุงู ุชุดุบูู ุงูุตูุญุงุช ุงููุจูุฑุฉ ูุชูููู Inter-VM TPS ุนูู ููุงุนุฏ ุงูุงุฎุชุจุงุฑ.  ูููู ุงุณุชุฎุฏุงูู ุฃูุถูุง ููุญูุงูู ุงูุชู ุชุญุชูู ุนูู ุนุฏุฏ ูุจูุฑ ูู VMs ูู ููุณ ุงูููุน.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุงุณุชุฎุฏุงู VDI ุ ูููู ุฃู ุชุตู ูุฏุฎุฑุงุช ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุฅูู ุนุดุฑุงุช ุจุงููุงุฆุฉ. <br><br>  <b>ุฐุงูุฑุฉ ุงูุจุงููู.</b>  ูู ูุนุฏ ุจุงูููููุฌ ุชูููุฉ ุบูุฑ ุถุงุฑุฉ ูุดูุงูุฉ ููุธุงู ุงูุชุดุบูู VM ูุซู TPS.  ูููู ูุน ุงูุงุณุชุฎุฏุงู ุงูุณููู ูุน Ballooning ุ ููููู ุงูุนูุด ูุญุชู ุงูุนูู. <br><br>  ุฌูุจุง ุฅูู ุฌูุจ ูุน ุฃุฏูุงุช Vmware ุ ูุชู ุชุซุจูุช ุจุฑูุงูุฌ ุชุดุบูู ุฎุงุต ุนูู VM ุ ูุณูู ุจุฑูุงูุฌ Balloon Driver (ุงููุนุฑูู ุฃูุถูุง ุจุงุณู vmmemctl).  ุนูุฏูุง ูุจุฏุฃ ุจุฑูุงูุฌ Hypervisor ูู ููุงุฏ ุงูุฐุงูุฑุฉ ุงููุนููุฉ ููุฏุฎู ูู ุงูุญุงูุฉ Soft ุ ูุทูุจ ESXi ูู VM ุฅุฑุฌุงุน ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุบูุฑ ุงููุณุชุฎุฏูุฉ ูู ุฎูุงู ุจุฑูุงูุฌ Balloon Driver ูุฐุง.  ูุนูู ุจุฑูุงูุฌ ุงูุชุดุบูู ุจุฏูุฑู ุนูู ูุณุชูู ูุธุงู ุงูุชุดุบูู ููุทูุจ ููู ุฐุงูุฑุฉ ุฎุงููุฉ ููู.  ูุฑู ุจุฑูุงูุฌ Hypervisor ุตูุญุงุช ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุงูุชู ุฃุฎุฐุชูุง Balloon Driver ุ ููุฃุฎุฐ ุงูุฐุงูุฑุฉ ูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุ ููุนูุฏูุง ุฅูู ุงููุถูู.  ูุง ุชูุฌุฏ ุฃู ูุดููุฉ ูู ุชุดุบูู ูุธุงู ุงูุชุดุบูู ุ ุญูุซ ุฅู ุงูุฐุงูุฑุฉ ุนูู ูุณุชูู ูุธุงู ุงูุชุดุบูู ูุดุบููุง ุจุฑูุงูุฌ ุชุดุบูู ุงูุจุงููู.  ุจุดูู ุงูุชุฑุงุถู ุ ูููู ุฃู ูุณุชุบุฑู Balloon Driver ูุง ูุตู ุฅูู 65ูช ูู ุฐุงูุฑุฉ VM. <br><br>  ุฅุฐุง ูู ูุชู ุชุซุจูุช ุฃุฏูุงุช VMware ุนูู VM ุฃู ุชู ุชุนุทูู Ballooning (ูุง ุฃูุตู ุจุฐูู ุ ูููู ููุฌุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">KB</a> :) ุ ููุชูู ุจุฑูุงูุฌ Hypervisor ุนูู ุงูููุฑ ุฅูู ุทุฑู ุฃูุซุฑ ุตุฑุงูุฉ ูุฅุฒุงูุฉ ุงูุฐุงูุฑุฉ.  ุงูุฎูุงุตุฉ: ุชุฃูุฏ ูู ุฃู ุฃุฏูุงุช VMware ุนูู VM ูู. <br><br><img src="https://habrastorage.org/webt/ey/pm/s1/eypms1ugdkmhr0r4odhga1locao.png"><br>  <i>ูููู ุงูุชุญูู ูู ุชุดุบูู ุจุฑูุงูุฌ Balloon Driver ูู ูุธุงู ุงูุชุดุบูู ุนุจุฑ ุฃุฏูุงุช VMware</i> . <br><br>  <b>ุถุบุท ุงูุฐุงูุฑุฉ</b>  ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูุชูููุฉ ุนูุฏูุง ูุตู ESXi ุฅูู Hard.  ููุง ููุญู ุงูุงุณู ุ ุชุญุงูู ESXi ุถุบุท 4 ููููุจุงูุช ูู ุตูุญุงุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุฅูู 2 ููููุจุงูุช ุ ูุจุงูุชุงูู ุชูููุฑ ูุณุงุญุฉ ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ููุฎุงุฏู.  ูุฐู ุงูุชูููุฉ ุชุฒูุฏ ุจุดูู ูุจูุฑ ูู ููุช ุงููุตูู ุฅูู ูุญุชููุงุช ุตูุญุงุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ุญูุซ ูุฌุจ ุฅูุบุงุก ุชูุธูู ุงูุตูุญุฉ ุฃููุงู.  ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุง ูููู ุถุบุท ุฌููุน ุงูุตูุญุงุช ูุชุณุชุบุฑู ุงูุนูููุฉ ููุณูุง ุจุนุถ ุงูููุช.  ูุฐูู ุ ูุฐู ุงูุชูููุฉ ููุณุช ูุนุงูุฉ ุฌุฏุง ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ. <br><br>  <b>ุชุจุงุฏู ุงูุฐุงูุฑุฉ.</b>  ุจุนุฏ ูุฑุญูุฉ ูุตูุฑุฉ ุ ูุง ุจุฏ ูู ุถุบุท ุงูุฐุงูุฑุฉ ESXi ุจุดูู ุดุจู ุญุชูู (ุฅุฐุง ูู ุชุฐูุจ VMs ุฅูู ูุถูููู ุขุฎุฑูู ุฃู ุชู ุฅููุงู ุชุดุบูููุง) ุฅูู Swapping.  ูุฅุฐุง ูุงู ููุงู ุงููููู ุฌุฏูุง ูู ุงูุฐุงูุฑุฉ ุงููุชุจููุฉ (ุงูุญุงูุฉ ุงูููุฎูุถุฉ) ุ ูุฅู ุจุฑูุงูุฌ Hypervisor ูุชููู ุฃูุถูุง ุนู ุชุฎุตูุต ุตูุญุงุช VM ูู ุงูุฐุงูุฑุฉ ุ ููุง ูุฏ ูุณุจุจ ูุดุงูู ูู ุฃุฌูุฒุฉ VM ุงูุถูู. <br><br>  ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ูุนูู ุงูุชุจุงุฏู.  ุนูุฏ ุชุดุบูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุ ูุชู ุฅูุดุงุก ููู ุจุงูููุญู .vswp ูู.  ูู ุงูุญุฌู ุ ููู ูุณุงูู RAM ุบูุฑ ุงููุญุฌูุฒ ูู VM: ูุฐุง ูู ุงููุฑู ุจูู ุงูุฐุงูุฑุฉ ุงูุชู ุชู ุชูููููุง ูุงูุฐุงูุฑุฉ ุงููุญุฌูุฒุฉ.  ุนูุฏ ุงูุนูู ูุน Swapping ุ ูููู ESX ุจุฅูุบุงุก ุชุญููู ุตูุญุงุช ุงูุฐุงูุฑุฉ ุงูุฎุงุตุฉ ุจุงูุฌูุงุฒ ุงูุธุงูุฑู ูู ูุฐุง ุงูููู ููุจุฏุฃ ุงูุนูู ูุนู ุจุฏูุงู ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ููุฎุงุฏู.  ุจุทุจูุนุฉ ุงูุญุงู ุ ูุฅู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูุฐู ูู ุนุฏุฉ ุฃูุงูุฑ ูู ุญูุซ ุงูุญุฌู ุฃุจุทุฃ ูู ุงูุฐุงูุฑุฉ ุงูุญููููุฉ ุ ุญุชู ูู ูุงู .vswp ูู ุญุงูุฉ ุชุฎุฒูู ุณุฑูุน. <br><br>  ุนูู ุนูุณ Ballooning ุ ุนูุฏ ุงุฎุชูุงุฑ ุงูุตูุญุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ ูู ุฌูุงุฒ VM ุ ูููู ููุตูุญุงุช ุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ุจูุดุงุท ูู ูุจู ูุธุงู ุงูุชุดุบูู ุฃู ุงูุชุทุจููุงุช ุฏุงุฎู ุฌูุงุฒ VM ุงูุงูุชูุงู ุฅูู ุงููุฑุต ุฃุซูุงุก ุงูุชุจุฏูู.  ูุชูุฌุฉ ูุฐูู ุ ูุณูุท ุฃุฏุงุก ุฌูุงุฒ VM ุญุชู ูุชู ุชุนูููู.  ูุนูู VM ุฑุณูููุง ุนูู ุงูุฃูู ููููู ุชุนุทููู ุจุดูู ุตุญูุญ ูู ูุธุงู ุงูุชุดุบูู.  ุฅุฐุง ููุช ุณุชุชุญูู ุจุงูุตุจุฑ ุ) <br><br>  ุฅุฐุง ุฐูุจุช VMs ุฅูู Swap ุ ููุฐู ุญุงูุฉ ุบูุฑ ุทุจูุนูุฉ ูููู ุชุฌูุจูุง ุฅู ุฃููู. <br><br><h3 style=";text-align:right;direction:rtl">  ุนุฏุงุฏุงุช ุฃุฏุงุก ุฐุงูุฑุฉ ุงูุฌูุงุฒ ุงูุธุงูุฑู ุงูุฃุณุงุณูุฉ </h3><br>  ูุฐูู ูุตููุง ุฅูู ุงูุดูุก ุงูุฑุฆูุณู.  ููุฑุงูุจุฉ ุญุงูุฉ ุงูุฐุงูุฑุฉ ูู ุฌูุงุฒ VM ุ ุชุชููุฑ ุงูุนุฏุงุฏุงุช ุงูุชุงููุฉ: <br><br>  <b>ูุดุท</b> - ููุถุญ ููุฏุงุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (Kbytes) ุงูุชู ุชููู ุฌูุงุฒ VM ูู ุงููุตูู ุฅูููุง ูู ูุชุฑุฉ ุงูููุงุณ ุงูุณุงุจูุฉ. <br><br>  <b>ุงูุงุณุชุฎุฏุงู</b> ูู ููุณู ูุดุท ุ ูููู ููุณุจุฉ ูุฆููุฉ ูู ุฐุงูุฑุฉ VM ุงูููููุฉ.  ูุชู ุญุณุงุจูุง ุจุงุณุชุฎุฏุงู ุงูุตูุบุฉ ุงูุชุงููุฉ: ุญุฌู ุฐุงูุฑุฉ ุงูุฌูุงุฒ ุงููุดุท active ุงููุดุท. <br>  ุงูุงุณุชุฎุฏุงู ุงูุนุงูู ูุงููุดุท ุ ุนูู ุงูุชูุงูู ุ ูุง ูุดูุฑ ุฏุงุฆููุง ุฅูู ูุดููุงุช ุฃุฏุงุก VM.  ุฅุฐุง ูุงู ุฌูุงุฒ VM ูุณุชุฎุฏู ุงูุฐุงูุฑุฉ ุจููุฉ (ุนูู ุงูุฃูู ููููู ุงููุตูู ุฅูููุง) ุ ูุฅู ูุฐุง ูุง ูุนูู ุฃูู ูุง ุชูุฌุฏ ุฐุงูุฑุฉ ูุงููุฉ.  ุจุฏูุงู ูู ุฐูู ุ ูุฐู ููุงุณุจุฉ ููุนุฑูุฉ ูุง ูุญุฏุซ ูู ูุธุงู ุงูุชุดุบูู. <br>  ููุฌุฏ ุชูุจูู ููุงุณู ุนูู ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ูุฃุฌูุฒุฉ VM: <br><br><img src="https://habrastorage.org/webt/8u/ca/n8/8ucan84mevajwvlnr-4ov9boyro.png"><br><br>  <b>ูุดุชุฑู</b> - ููุฏุงุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู VM ููุฑุฑุฉ ุจุงุณุชุฎุฏุงู TPS (ุฏุงุฎู VM ุฃู ุจูู VMs). <br><br>  <b>ููุญุช</b> - ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงููุนููุฉ ูููุถูู (Kbytes) ุงูุฐู ุชู ุฅุนุทุงุคู ูู VM.  ูุดูู ุงููุดุชุฑูุฉ. <br><br>  <b>ูุณุชููู</b> (ููุญุช - ูุดุชุฑู) - ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงููุนููุฉ (Kbytes) ุงูุชู ูุณุชููููุง VM ูู ุงููุถูู.  ูุง ูุดูู ุงููุดุชุฑูุฉ. <br><br>  ุฅุฐุง ูู ูุชู ุชุฎุตูุต ุฌุฒุก ูู ุฐุงูุฑุฉ VM ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ูููุถูู ุ ูููู ูู ููู ุงููุจุงุฏูุฉ ุฃู ุชู ุฃุฎุฐ ุงูุฐุงูุฑุฉ ูู VM ูู ุฎูุงู Balloon Driver ุ ูุง ูุชู ุฃุฎุฐ ูุฐุง ุงููุจูุบ ูู ุงูุงุนุชุจุงุฑ ูู Granted and Consumed. <br>  ููู ุนุงููุฉ ูู ุงูููุญ ูุงููุณุชููููู ุทุจูุนูุฉ ุชูุงูุง.  ูููู ูุธุงู ุงูุชุดุบูู ุชุฏุฑูุฌูุงู ุจุณุญุจ ุงูุฐุงูุฑุฉ ูู ุจุฑูุงูุฌ hypervisor ููุง ูุนูุฏูุง.  ุจูุฑูุฑ ุงูููุช ุ ุจุงุณุชุฎุฏุงู VM ูุนุงู ุ ุชูุงุฑุจ ููู ูุฐู ุงูุนุฏุงุฏุงุช ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงููููููุฉ ุ ูุชุจูู ููุงู. <br><br>  <b>ุตูุฑ</b> - ููุฏุงุฑ ุงูุฐุงูุฑุฉ RAM ูู VM (Kbytes) ุ ูุงูุฐู ูุญุชูู ุนูู ุฃุตูุงุฑ.  ุชุนุชุจุฑ ูุฐู ุงูุฐุงูุฑุฉ ุจุฑูุงูุฌ Hypervisor ูุฌุงูู ููููู ุฅุนุทุงุคูุง ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุงูุฃุฎุฑู.  ุจุนุฏ ุฃู ุงุณุชูู ูุธุงู ุงูุชุดุบูู ุงูุถูู ุ ูุชุจ ุดูุฆูุง ูุง ูู ุงูุฐุงูุฑุฉ ุงููุงุฑุบุฉ ุ ูุฐูุจ ุฅูู ูุณุชููู ููุง ูุนูุฏ ูุฑุฉ ุฃุฎุฑู. <br><br>  <b>ุงููููุงุช ุงูุนุงูุฉ ุงููุญุฌูุฒุฉ</b> - ููุฏุงุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู VM ุ (Kbytes) ุงููุญููุธุฉ ุจูุงุณุทุฉ ุจุฑูุงูุฌ hypervisor ุญุชู ูุนูู ุงูุฌูุงุฒ.  ูุฐุง ูุจูุบ ุตุบูุฑ ุ ูููู ูุฌุจ ุฃู ูููู ูุชุงุญูุง ุนูู ุงููุถูู ุ ูุฅูุง ูู ูุชู ุชุดุบูู VM. <br><br>  <b>ุจุงููู</b> - ููุฏุงุฑ RAM (KB) ุงููุถุจูุทุฉ ูู VM ุจุงุณุชุฎุฏุงู Balloon Driver. <br><br>  <b>ูุถุบูุท</b> - ููุฏุงุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (KB) ุงูุชู ูุงู ูู ุงููููู ุถุบุทูุง. <br><br>  <b>ูุจุงุฏูุฉ</b> - ููุฏุงุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (ููููุจุงูุช) ุ ูุงูุชู ุจุณุจุจ ููุต ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุนูู ุงูุฎุงุฏู ุงูุชููุช ุฅูู ุงููุฑุต. <br>  ุจุงููู ูุบูุฑูุง ูู ุชูููุงุช ุงุณุชุตูุงุญ ุงูุฐุงูุฑุฉ ุนุฏุงุฏุงุช ุตูุฑ. <br><br>  ูุฐุง ูุง ูุจุฏู ุนููู ุงูุฑุณู ุงูุจูุงูู ูุน ุนุฏุงุฏุงุช ุฐุงูุฑุฉ ุฌูุงุฒ VM ูุนูู ุจุดูู ุทุจูุนู ูุน 150 ุฌูุฌุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู. <br><br><img src="https://habrastorage.org/webt/0l/pp/w3/0lppw3nz9iqzcnuergtxiseb67s.png"><br><br>  ุนูู ุงูุฑุณู ุงูุจูุงูู ุฃุฏูุงู ุ ูุฏู VM ูุดุงูู ูุงุถุญุฉ.  ููุถุญ ุงูุฑุณู ุงูุจูุงูู ุฃูู ุชู ุงุณุชุฎุฏุงู ูู ุงูุชูููุงุช ุงูููุถุญุฉ ููุนูู ูุน ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู ูุฐุง ุงูุฌูุงุฒ.  ุจุงููู ููุฐุง VM ุฃูุจุฑ ุจูุซูุฑ ูู ุงููุณุชููู.  ูู ุงููุงูุน ุ ูู ุงููุญุชูู ุฃู ูููู VM ููุชูุง ุฃูุซุฑ ููู ุญูุง. <br><br><img src="https://habrastorage.org/webt/f4/ic/xk/f4icxkpxpykxua_gp-sirlzuu_u.png"><br><br><h3 style=";text-align:right;direction:rtl">  ESXTOP </h3><br>  ููุง ูู ุงูุญุงู ูุน ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชูููู ุงููููู ุนูู ุงููุถูู ุจุณุฑุนุฉ ุ ููุฐูู ุฏููุงููููุงุชู ูุน ูุงุตู ุฒููู ูุตู ุฅูู ุซุงููุชูู ุ ูุฅู ุงูุฃูุฑ ูุณุชุญู ุงุณุชุฎุฏุงู ESXTOP. <br><br>  ุชุณูู ุดุงุดุฉ ุฐุงูุฑุฉ ESXTOP ุจุงูููุชุงุญ "m" ูุชุจุฏู ููุฐุง (ุชู ุชุญุฏูุฏ ุงูุญููู B ู D ู H ู J ู K ู L ู O): <br><br><img src="https://habrastorage.org/webt/rm/wj/4k/rmwj4krvvizdtcizkrid0zjuml8.png"><br><br>  ุงููุนููุงุช ุงูุชุงููุฉ ุณุชููู ูุซูุฑุฉ ููุงูุชูุงู ุจุงููุณุจุฉ ููุง: <br><br>  <b>Mem overcommit avg</b> - ูุชูุณุท โโูููุฉ ุฐุงูุฑุฉ ุฒูุงุฏุฉ ุงูุงุดุชุฑุงู ุนูู ูุถูู ููุฏุฉ 1 ู 5 ู 15 ุฏูููุฉ.  ุฅุฐุง ูุงูุช ุฃุนูู ูู ุงูุตูุฑ ุ ููุฐู ููุงุณุจุฉ ููุนุฑูุฉ ูุง ูุญุฏุซ ุ ูููู ููุณ ุฏุงุฆููุง ูุคุดุฑุง ุนูู ูุฌูุฏ ุงููุดููุงุช. <br><br>  ูู ุงูุณุทูุฑ <b>PMEM / MB</b> ู <b>VMKMEM / MB</b> - ูุนูููุงุช ุญูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ููุฎุงุฏู ูุงูุฐุงูุฑุฉ ุงููุชููุฑุฉ ูู VMkernel.  ูู ุงููุซูุฑ ููุงูุชูุงู ููุง ููููู ุฑุคูุฉ ุงููููุฉ minfree (ุจุงูููุฌุงุจุงูุช) ุ ูุญุงูุฉ ุงููุถูู ูู ุงูุฐุงูุฑุฉ (ูู ุญุงูุชูุง ุ ุนุงููุฉ). <br><br>  ูู ุฎุท <b>NUMA / MB ุ</b> ููููู ูุดุงูุฏุฉ ุชูุฒูุน ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (RAM) ุจูุงุณุทุฉ ุงูุนูุฏ (ุงููุขุฎุฐ).  ูู ูุฐุง ุงููุซุงู ุ ุงูุชูุฒูุน ุบูุฑ ูุชุณุงูู ุ ููู ูู ุญูุซ ุงููุจุฏุฃ ููุณ ุฌูุฏูุง ุฌุฏูุง. <br><br>  ูููุง ููู ููุฎุต ูุฅุญุตุงุฆูุงุช ุงูุฎุงุฏู ูุชูููุงุช ุงุณุชุฑุฌุงุน ุงูุฐุงูุฑุฉ: <br><br>  <b>PSHARE / MB</b> ูู ุฅุญุตุงุฆูุงุช TPS ุ <br><br>  <b>SWAP / MB</b> - ุฅุญุตุงุฆูุงุช ุญูู ุงุณุชุฎุฏุงู Swap ุ <br><br>  <b>ZIP / MB</b> - ุฅุญุตุงุฆูุงุช ุถุบุท ุตูุญุงุช ุงูุฐุงูุฑุฉ ุ <br><br>  <b>MEMCTL / MB</b> - ุฅุญุตุงุฆูุงุช ุงุณุชุฎุฏุงู ุจุฑูุงูุฌ ุชุดุบูู ุงูุจุงููู. <br><br>  ุจุงููุณุจุฉ ุฅูู ุงูุฃุฌูุฒุฉ ุงูุธุงูุฑูุฉ ุงููุฑุฏูุฉ ุ ูุฏ ูููู ููุชููู ุจุงููุนูููุงุช ุงูุชุงููุฉ.  ุงุฎุชุจุฃุช ุฃุณูุงุก VM ุญุชู ูุง ุฃุญุฑุฌ ุงูุฌูููุฑ :).  ุฅุฐุง ูุงู ููุงุณ ESXTOP ูู ููุณู ุงูุนุฏุงุฏ ูู vSphere ุ ุฃูุชุจุณ ุงูุนุฏุงุฏ ุงูููุงุจู. <br><br>  <b>MEMSZ</b> ูู ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงูุชู ุชู ุชูููููุง ุนูู VM (MB). <br>  MEMSZ = GRANT + MCTLSZ + SWCUR + ูู ููุณูุง ุฃุญุฏ. <br><br>  ููุญ - ูููุญุช ุจุงูููุบุงุจุงูุช. <br><br>  <b>TCHD</b> - ูุดุท ูู ููุบุงุจุงูุช. <br><br>  <b>MCTLุ</b>  - ูุซุจุช ุนูู ุจุฑูุงูุฌ VM Balloon Driver. <br><br>  <b>MCTLSZ</b> - ุจุงููู <b>ุจุงูููุฌุงุจุงูุช</b> . <br><br>  <b>MCTLGT</b> ูู ููุฏุงุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (MB) ุงูุชู ุชุฑูุฏ ESXi ุฅุฒุงูุชูุง ูู VM ูู ุฎูุงู Balloon Driver (Memctl Target). <br><br>  <b>MCTLMAX</b> - ุงูุญุฏ ุงูุฃูุตู ูููุฏุงุฑ RAM (MB) ุงูุฐู ูููู ูู ESXi ุฅุฒุงูุชู ูู VM ุนุจุฑ Balloon Driver. <br><br>  <b>SWCUR</b> - ุงูููุฏุงุฑ ุงูุญุงูู ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (MB) ุงูููููุญุฉ ุฅูู VM ูู ููู Swap. <br><br>  <b>SWGT</b> - ููุฏุงุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (MB) ุงูุชู ุชุฑูุฏ ESXi ููุญ ุฃุฌูุฒุฉ VMs ูู ููู Swap (ูุฏู Swap). <br><br>  ูู ุฎูุงู ESXTOP ุฃูุถูุง ุ ููููู ุฑุคูุฉ ุงููุฒูุฏ ูู ุงููุนูููุงุช ุงูุชูุตูููุฉ ุญูู ุทูุจูููุฌูุง NUMA VM.  ููููุงู ุจุฐูู ุ ุญุฏุฏ ุงูุญููู D ุ G: <br><br><img src="https://habrastorage.org/webt/ff/7y/zd/ff7yzdsjedyntnpj4duwv0c731m.png"><br><br>  ุนูุฏ <b>NHN</b> - NUMA ุงูุชู ุชูุฌุฏ ุนูููุง VM.  ููุง ููููู ุนูู ุงูููุฑ ููุงุญุธุฉ vm ูุงุณุนุฉ ูุง ุชุชูุงุณุจ ูุน ุนูุฏุฉ NUMA ูุงุญุฏุฉ. <br><br>  <b>NRMEM</b> - ูู ููุบุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ูุฃุฎุฐ VM ูู ุนูุฏุฉ NUMA ุงูุจุนูุฏ. <br><br>  <b>NLMEM</b> - ูู ููุบุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ูุฃุฎุฐ VM ูู ุนูุฏุฉ NUMA ุงููุญููุฉ. <br><br>  <b>Nูช L</b> - ุงููุณุจุฉ ุงููุฆููุฉ ูุฐุงูุฑุฉ VM ุนูู ุนูุฏุฉ NUMA ุงููุญููุฉ (ุฅุฐุง ูุงูุช ุฃูู ูู 80ูช ุ ููุฏ ุชุญุฏุซ ูุดููุงุช ูู ุงูุฃุฏุงุก). <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฐุงูุฑุฉ ุนูู ุงููุดุฑู </h3><br>  ุฅุฐุง ูุงูุช ุนุฏุงุฏุงุช ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (CPU) ุงูููุฌูุฏุฉ ูู ุจุฑูุงูุฌ hypervisor ููุณุช ุฐุงุช ุฃูููุฉ ุฎุงุตุฉ ุ ูุฅู ุงููููู ูุนุงูุณ ููุฐุงูุฑุฉ.  ูุง ูุดูุฑ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ุงูุนุงูู ุนูู ุฌูุงุฒ VM ุฏุงุฆููุง ุฅูู ูุดููุฉ ูู ุงูุฃุฏุงุก ุ ูููู ุงูุงุณุชุฎุฏุงู ุงูุนุงูู ููุฐุงูุฑุฉ ูู ุจุฑูุงูุฌ hypervisor ูุจุฏุฃ ุจููู ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ููุคุฏู ุฅูู ูุดุงูู ูู ุฃุฏุงุก ุฌูุงุฒ VM.  ูุฌุจ ูุฑุงูุจุฉ ุฅูุฐุงุฑุงุช ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงููุถูู ูุนุฏู ุงูุณูุงุญ ูู VMs ุจุงูุฏุฎูู ุฅูู Swap. <br><br><img src="https://habrastorage.org/webt/h2/x_/59/h2x_59kddpe84yzudcq03fq1rmc.png"><br><br><img src="https://habrastorage.org/webt/oc/w7/c9/ocw7c9vmbrqogjhmtpbotng4-6y.png"><br><br><h3 style=";text-align:right;direction:rtl">  Unswap </h3><br>  ุฅุฐุง ุฏุฎูุช VM ูู Swap ุ ูุฅู ุฃุฏุงุฆูุง ุณูุฎูุถ ุฅูู ุญุฏ ูุจูุฑ.  ุชุฎุชูู ุขุซุงุฑ ุงูุชูููุณ ูุงูุถุบุท ุจุณุฑุนุฉ ุจุนุฏ ุธููุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุงููุฌุงููุฉ ุนูู ุงููุถูู ุ ููู ุงูุฌูุงุฒ ุงูุธุงูุฑู ููุณ ูู ุนุฌูุฉ ููุนูุฏุฉ ูู Swap ุฅูู ุงูุฎุงุฏู RAM. <br>  ูุจู ESXi 6.0 ุ ูุงูุช ุงูุทุฑููุฉ ุงููุญูุฏุฉ ุงูููุซููุฉ ูุงูุณุฑูุนุฉ ูุฅุฎุฑุงุฌ VMs ูู Swap ูู ุฅุนุงุฏุฉ ุงูุชุดุบูู (ุจุฏูุฉ ุฃูุจุฑ ุ ุฅููุงู ุชุดุบูู / ุชุดุบูู ุงูุญุงููุฉ).  ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 6.0 ูู ESXi ุ ุธูุฑุช ุทุฑููุฉ ุบูุฑ ููุซููุฉ ูููู ูุนุงูุฉ ูููุซููุฉ ููุญุตูู ุนูู VMs ูู Swap.  ูู ุฃุญุฏ ุงููุคุชูุฑุงุช ุ ุชูููุช ูู ุงูุชุญุฏุซ ูุน ุฃุญุฏ ูููุฏุณู VMware ุงููุณุคูููู ุนู ุฌุฏููุฉ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ.  ูุฃูุฏ ุฃู ุงูุทุฑููุฉ ุชุนูู ูุขููุฉ ููุบุงูุฉ.  ูู ุชุฌุฑุจุชูุง ุ ูู ุชููุงุญุธ ุฃูุถูุง ูุดุงูู ูุนู. <br><br>  ุชู ูุตู ุงูุฃูุงูุฑ ุงููุนููุฉ ูุฅุฎุฑุงุฌ VMs ูู Swap <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจูุงุณุทุฉ</a> Duncan Epping.  ูู ุฃูุฑุฑ ุงููุตู ุงูุชูุตููู ุ ููุท ุฃุนุท ูุซุงูุงู ุนูู ุงุณุชุฎุฏุงูู.  ููุง ูููู ุฑุคูุชู ูู ููุทุฉ ุงูุดุงุดุฉ ุ ูุฎุชูู ุจุนุถ ุงูููุช ุจุนุฏ ุชูููุฐ ุฃูุงูุฑ Swap ุงููุญุฏุฏุฉ ุนูู VM. <br><br><img src="https://habrastorage.org/webt/e5/lm/7e/e5lm7e0e6i_yxrrlm7dfwixptv0.png"><br><br><h3 style=";text-align:right;direction:rtl">  ูุตุงุฆุญ ูุฅุฏุงุฑุฉ RAM ุนูู ESXi </h3><br>  ูู ุงูุฎุชุงู ุ ุณุฃูุฏู ุจุนุถ ุงููุตุงุฆุญ ููุณุงุนุฏุชู ูู ุชุฌูุจ ูุดุงูู ุฃุฏุงุก VM ุจุณุจุจ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุฌูุจ ุฒูุงุฏุฉ ุงูุงุดุชุฑุงู ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู ูุฌููุนุงุช ูุซูุฑุฉ.  ูููุตุญ ุฏุงุฆููุง ุฃู ูููู ูุฏูู ุฐุงูุฑุฉ ุฎุงููุฉ ุจูุณุจุฉ 20-30ูช ุชูุฑูุจูุง ูู ุงููุฌููุนุฉ ุ ุจุญูุซ ูููู ูุฏู DRS (ูุงููุณุคูู) ูุณุงุญุฉ ููููุงูุฑุฉ ุ ููุง ูุฐูุจ VM ุฅูู Swap ุฃุซูุงุก ุงูุชุฑุญูู.  ุฃูุถุง ูุง ุชูุณู ูุงูุด ุงูุชุณุงูุญ ูุน ุงูุฎุทุฃ.  ุฅูู ุฃูุฑ ุบูุฑ ุณุงุฑ ุนูุฏูุง ุ ุนูุฏูุง ููุดู ุฎุงุฏู ูุงุญุฏ ููุชู ุฅุนุงุฏุฉ ุชุดุบูู VM ุจุงุณุชุฎุฏุงู HA ุ ุชูุชูู ุจุนุถ ุงูุฃุฌูุฒุฉ ุฃูุถูุง ุฅูู Swap. </li><li style=";text-align:right;direction:rtl">  ูู ุงูุจูู ุงูุชุญุชูุฉ ุงููุฏูุฌุฉ ููุบุงูุฉ ุ ุญุงูู ุนุฏู ุฅูุดุงุก VMs ุจุฃูุซุฑ ูู ูุตู ุฐุงูุฑุฉ ุงููุถูู.  ูุฐุง ุ ูุฑุฉ ุฃุฎุฑู ุ ุณูุณุงุนุฏ DRS ุนูู ุชูุฒูุน ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุจูู ุฎูุงุฏู ุงููุชูุฉ ุฏูู ุฃู ูุดุงูู.  ูุฐู ุงููุงุนุฏุฉ ุ ุจุงูุทุจุน ุ ููุณุช ุนุงูููุฉ :). </li><li style=";text-align:right;direction:rtl">  ุงุญุชุฑุณ ูู ุงููุถูู ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ุฅูุฐุงุฑ. </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุณู ูุถุน ุฃุฏูุงุช VMware ุนูู VM ููุง ุชูู ุจุฅููุงู ุชุดุบูู Ballooning. </li><li style=";text-align:right;direction:rtl">  ุงููุธุฑ ูู ุชูููู Inter-VM TPS ูุชุนุทูู ุงูุตูุญุงุช ุงููุจูุฑุฉ ูู VDI ูุจูุฆุงุช ุงูุงุฎุชุจุงุฑ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุฌูุงุฒ VM ููุงุฌู ูุดููุงุช ูู ุงูุฃุฏุงุก ุ ูุชุญูู ููุง ุฅุฐุง ูุงู ูุณุชุฎุฏู ุงูุฐุงูุฑุฉ ูู ุนูุฏุฉ NUMA ุจุนูุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ุงุญุตู ุนูู VMs ูู Swap ุจุฃุณุฑุน ููุช ูููู!  ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู ุ ุฅุฐุง ูุงูุช VM ูู Swap ุ ูุฃุณุจุงุจ ูุงุถุญุฉ ุ ูุฅู ูุธุงู ุงูุชุฎุฒูู ูุนุงูู. </li></ul><br>  ูุฐุง ูู ุดูุก ูุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู.  ูููุง ููู ููุงูุงุช ุฐุงุช ุตูุฉ ูุฃููุฆู ุงูุฐูู ูุฑุบุจูู ูู ุงูุฎูุถ ูู ุงูุชูุงุตูู.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณูุชู ุชุฎุตูุต ุงูููุงู ุงูุชุงูู</a> ูููุตุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุงุจุท ูููุฏุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://www.yellow-bricks.com/2015/03/02/what-happens-at-which-vsphere-memory-state/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://www.yellow-bricks.com/2013/06/14/how-does-mem-minfreepct-work-with-vsphere-5-0-and-up/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.vladan.fr/vmware-transparent-page-sharing-tps-explained/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://www.yellow-bricks.com/2016/06/02/memory-pages-swapped-can-unswap/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://kb.vmware.com/s/article/1002586</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.vladan.fr/what-is-vmware-memory-ballooning/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://kb.vmware.com/s/article/2080735</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://kb.vmware.com/s/article/2017642</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://labs.vmware.com/vmtj/vmware-esx-memory-resource-management-swap</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://blogs.vmware.com/vsphere/2013/10/understanding-vsphere-active-memory.html</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.vmware.com/support/developer/converter-sdk/conv51_apireference/memory_counters.html</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://docs.vmware.com/en/VMware-vSphere/6.5/vsphere-esxi-vcenter-server-65-monitoring-performance-guide.pdf</a> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar455820/">https://habr.com/ru/post/ar455820/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar455802/index.html">ููููุฉ ุชุฌููุน ุงูุฃูููุจูุฉ ูู ุฎูุงู ุงูุฑุณุงุฆู ุงูุฅุฎุจุงุฑูุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู. ุญุงูุฉ ุจูุงู ุณุชุงุฑ</a></li>
<li><a href="../ar455806/index.html">ูููุงุฏ ูููุช ุฃุญุฏ ุงูุฃูุจููุงุช: ูููู ููู ุชุบูุฑุช ุชูุณููุงุช ุงูููุณููู ุนูู ูุฏุงุฑ ุงููุงุฆุฉ ุนุงู ุงููุงุถูุฉ</a></li>
<li><a href="../ar455808/index.html">ุงูุญุตูู ุนูู ููุชุทูุงุช ูู ุงูุณุฌู ุนูู ูููุน FTS ุจุงุณุชุฎุฏุงู ุงูุซุนุจุงู</a></li>
<li><a href="../ar455812/index.html">ุจูุงุก ุจููุฉ Microservice ุนูู Golang ู gRPC ุ ุงูุฌุฒุก 2 (ุนุงูู ูููุงุก)</a></li>
<li><a href="../ar455816/index.html">ููููุฉ ุฅูุดุงุก ุนูู ุฑุงุฆุน ููุณุงุนุฏ Google. Lifehacks ูู ูุฌุฑุฏ ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ</a></li>
<li><a href="../ar455826/index.html">ุณูู ุงูุณูุงุฑุงุช ุงูุชุญูู ูููุง ุนู ุจุนุฏ</a></li>
<li><a href="../ar455828/index.html">ููุฏ ุงูุชุดู ุงูุนููุงุก ุฃุดูุงูุง ุบุฑูุจุฉ ุฌุฏูุฏุฉ ูู ุงูุชุฒุงูู</a></li>
<li><a href="../ar455830/index.html">ูุธุฑุฉ ุนูู Go ูู ุฎูุงู ุนููู ูุทูุฑ .NET. ุงูุฃุณุจูุน ุฑูู 1</a></li>
<li><a href="../ar455832/index.html">ุชุงุฑูุฎ ุชุญููู SQL ูุงุญุฏ</a></li>
<li><a href="../ar455834/index.html">ูุนุงููุฑ ูุฎูุงุฏู Linux: 5 ุฃุฏูุงุช ููุชูุญุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>