<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤟🏾 🚻 🍞 Fragen und Antworten zu JavaScript 👲🏻 🙃 😩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor kurzem hat SmartSpate beschlossen, Fragen zu JavaScript zu sammeln und zu beantworten. Das Material, dessen Übersetzung wir veröffentlichen, enthä...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fragen und Antworten zu JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/436454/">  Vor kurzem hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SmartSpate</a> beschlossen, Fragen zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaScript</a> zu sammeln und zu beantworten.  Das Material, dessen Übersetzung wir veröffentlichen, enthält etwas mehr als zwei Dutzend Fragen zu JavaScript und die Antworten darauf.  Das hier behandelte Themenspektrum ist recht breit.  Dies sind insbesondere Funktionen der Sprache, Probleme, auf die Programmierer beim Schreiben von JS-Code stoßen, die im Browser und in Node.js arbeiten. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/d8e/a96/0ab/d8ea960ab0540026291d5d0f5cf83712.png"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Frage Nummer 1.</font>  <font color="#3AC1EF">Vererbung von Prototypen</font> </h2><br>  Ich habe mich an die „klassischen“ Klassen gewöhnt, aber beschlossen, JavaScript zu lernen.  Ich habe ein Problem beim Verständnis des Prototypmodells.  Wenn möglich, erläutern Sie in Form von Vorlagen die Möglichkeit, „Klassen“ in JavaScript zu erstellen, und informieren Sie uns über die geschlossenen und offenen Methoden und Eigenschaften von Klassen.  Ich verstehe, dass bereits viel darüber geschrieben wurde und dass in JavaScript die Methoden und Eigenschaften von Objekten standardmäßig öffentlich verfügbar sind, aber ich möchte dies alles richtig verstehen.  Wie funktioniert die Vererbung von Prototypen in JavaScript? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Die klassische Vererbung erinnert sehr daran, wie Menschen die Gene ihrer Vorfahren erben.  Menschen haben einige gemeinsame Grundfähigkeiten wie Gehen und Sprechen.  Darüber hinaus hat jede Person einige Besonderheiten.  Menschen können ihre "Klasse" nicht ändern, aber sie können ihre eigenen "Eigenschaften" innerhalb bestimmter Grenzen ändern.  Gleichzeitig können Großeltern, Mütter und Väter die Gene von Kindern oder Enkelkindern im Laufe ihres Lebens nicht beeinflussen.  Also ist alles auf der Erde angeordnet, aber stellen wir uns einen anderen Planeten vor, auf dem Vererbungsmechanismen auf besondere Weise funktionieren.  Angenommen, einige mutationsfähige Organismen nutzen dort die Mechanismen der "telepathischen Vererbung".  Dies drückt sich darin aus, dass sie im Laufe ihres Lebens die genetische Information ihrer eigenen Nachkommen verändern können. <br><br>  Betrachten Sie das Beispiel der Vererbung auf diesem seltsamen Planeten.  Das Vater-Objekt erbt Gene vom Großvater-Objekt und das Sohn-Objekt erbt genetische Informationen vom Vater.  Jeder Bewohner dieses Planeten kann die Gene seiner Nachkommen frei mutieren und verändern.  Zum Beispiel hat bei "Großvater" die Haut eine grüne Farbe.  Dieses Zeichen wird vom „Vater“ und vom „Sohn“ geerbt.  Plötzlich entscheidet "Großvater", dass er es satt hat, grün zu sein.  Jetzt möchte er blau sein und seine Hautfarbe ändern (in Bezug auf JS - ändert den Prototyp seiner Klasse), indem er diese Mutation „telepathisch“ an den „Vater“ und den „Sohn“ weitergibt.  Danach beschließt „Vater“, der glaubt, dass „Großvater“ aus dem Kopf überlebt hat, seine Gene so zu ändern, dass er wieder grün wird (dh er ändert seinen eigenen Prototyp).  Diese Änderungen werden "telepathisch" an den "Sohn" übertragen.  Infolgedessen haben sowohl der „Vater“ als auch der „Sohn“ wieder eine grüne Haut.  Gleichzeitig ist "Großvater" immer noch blau.  Egal was er mit seiner Farbe macht, es wird niemanden betreffen.  Und das alles ist darauf zurückzuführen, dass der "Vater" die Farbe seiner Haut in seinem "Prototyp" explizit festgelegt hat und der "Sohn" diese Farbe erbt.  Dann denkt der "Sohn" so: "Ich werde schwarz.  Und lassen Sie meine Nachkommen Farbe von meinem Vater erben. “  Zu diesem Zweck ändert er sein eigenes Eigentum (und nicht das Eigentum seines Prototyps) so, dass sein Eigentum seine Farbe, aber nicht seine Nachkommen beeinflusst.  Wir drücken dies alles in Form von Code aus: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Grandfather = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; <span class="hljs-comment"><span class="hljs-comment">//  Grandfather Grandfather.prototype.color = 'green'; var Father = function () {}; //  Father Father.prototype = new Grandfather (); //  - ,        var Son = function () {}; //  Son Son.prototype = new Father (); // Son   Father var u = new Grandfather (); //   Grandfather var f = new Father (); //   Father var s = new Son (); //   Son //     console.log ([u.color, f.color, s.color]); // ["green", "green", "green"] //  Grandfather        Grandfather.prototype.color = 'blue'; console.log ([u.color, f.color, s.color]); // ["blue", "blue", "blue"] //  Father      -   ,     Father.prototype.color = 'green'; //      : // Grandfather.prototype.color = 'green'; console.log ([u.color, f.color, s.color]); // ["blue", "green", "green"] // ,        Grandfather     color,      Grandfather.prototype.color = 'blue'; console.log ([u.color, f.color, s.color]); // ["blue", "green", "green"] //  Son,  ,       Grandfather,    s.color = 'black'; //        console.log ([u.color, f.color, s.color]); // ["blue", "green", "black"] var SonsSon = function () {}; //  SonsSon -   Son SonsSon.prototype = new Son (); //  var ss = new SonsSon (); //   SonsSon //         console.log ([u.color, f.color, s.color, ss.color]); // ["blue", "green", "black", "green"]</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Frage Nummer 2.</font>  <font color="#3AC1EF">Objekte erstellen</font> </h2><br>  Wenn Sie mit dem <code>new</code> Schlüsselwort neue Instanzen von Objekten erstellen, wie können Sie sich dann vor Fehlern schützen?  So arbeite ich normalerweise: <br><br><ol><li>  Ich konstruiere Konstruktorfunktionen immer so, dass sie mit einem Großbuchstaben beginnen. </li><li>  Ich überprüfe die Richtigkeit der Operation mit dem Konstrukt <code>this instanceof Function_Name</code> (aus Leistungsgründen versuche ich, das Konstrukt des Typs <code>this instanceof arguments.callee</code> nicht zu verwenden). </li><li>  Dieser Ansatz ähnelt dem vorherigen, wird jedoch mit <code>window</code> verglichen, da ich die Namen von Entitäten nicht gerne hart codiere und keinen Code für andere Umgebungen als den Browser schreiben muss. </li></ol><br>  Was ist das bequemste Modell zum Erstellen von Objekten? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Sowohl ideologisch als auch basierend auf der Vertrautheit dieser Methode ist es am besten, Objekte mit dem <code>new</code> Schlüsselwort zu erstellen.  In diesem Fall müssen den Konstruktorfunktionen Namen gegeben werden, die mit einem Großbuchstaben beginnen. <br><br>  Ich halte mich lieber an die Regeln und führe keine zusätzlichen Überprüfungen der Konstruktoren durch.  Wenn der Konstruktor ohne <code>new</code> aufgerufen wird und die Arbeit im globalen Bereich beginnt, kann dies mit "Selbsttäuschung" verglichen werden.  Gleichzeitig empfehle ich keinesfalls, dass Sie Situationen in Designern behandeln, in denen sie ohne das <code>new</code> Schlüsselwort aufgerufen werden.  Zum Beispiel könnte es so aussehen: Wenn der Konstruktor ohne <code>new</code> aufgerufen wird, wird ohnehin ein neues Objekt erstellt und zurückgegeben.  Dieser Ansatz ist ideologisch falsch und führt zu Fehlern. <br>  Hier ist ein Beispiel für die Arbeit mit einem Konstruktor. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Obj = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.pew = <span class="hljs-number"><span class="hljs-number">100</span></span>; }; <span class="hljs-comment"><span class="hljs-comment">//  let o = new Obj(); o.pew++; console.log(o.pew); //101 // .   Obj (); // TypeError: this is undefined</span></span></code> </pre> <br>  Es ist besser, das <code>new</code> Schlüsselwort nicht für Factory-Methoden zu verwenden und in Fällen, in denen kein Konstruktor erforderlich ist, wenn es bequemer ist, ein Objekt mit einem Objektliteral zu erstellen.  Angenommen, der im folgenden Beispiel gezeigte Konstruktorcode ist explizit redundant: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    . var Obj = function () {    if (! (this instanceof Obj)) {        return new Obj ();    }    this.pew = 100; };</span></span></code> </pre> <br>  Wenn Sie auch zum Erstellen eines kleinen Objekts noch einen Konstruktor benötigen, ist dies besser: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Obj = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.pew = <span class="hljs-number"><span class="hljs-number">100</span></span>; };</code> </pre> <br>  Wie oben gezeigt, tritt hier ein Fehler auf, wenn der Konstruktor im strengen Modus arbeitet, wenn er ohne <code>new</code> aufgerufen wird. <br><br><h2>  <font color="#3AC1EF">Frage Nummer 3.</font>  <font color="#3AC1EF">Abfangen von Mausklicks</font> </h2><br>  Wie können Sie mithilfe von JavaScript feststellen, auf welche Maustaste geklickt wird? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Durch Klicken auf die Maustasten werden <code>mousedown</code> und <code>mouseup</code> generiert.  In diesem Fall wird das <code>click</code> nur mit der linken Maustaste generiert.  In der Ereignisbehandlungsroutine müssen Sie den Code in der Eigenschaft <code>event.button</code> überprüfen, um herauszufinden, welche Schaltfläche gedrückt wird (0 - links, 1 - Mitte, 2 - rechts).  Im IE sieht jedoch alles etwas anders aus.  Betrachten Sie ein Beispiel: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> button = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById (<span class="hljs-string"><span class="hljs-string">'button'</span></span>),              <span class="hljs-comment"><span class="hljs-comment">// 0 1 2    buttonMap = ['Left', 'Middle', 'Right'],    handler = function (event) {        event = event || window.event;        alert (buttonMap [event.button] + 'id:' + event.button);    }; if (button.addEventListener) {     button.addEventListener ('mousedown', handler, false); } else {     // IE 0 1 2 3 4     buttonMap = ['???', 'Left', 'Right', '???', 'Middle'];     button.attachEvent ('onmousedown', handler); }</span></span></code> </pre> <br>  Die jQuery-Bibliothek berücksichtigt diese IE-Funktion. Wenn Sie sie also in einem beliebigen Browser verwenden, überprüfen Sie einfach den Wert der <code>event.which</code> Eigenschaft, anstatt mit <code>event.button</code> : <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'button'</span></span>).mousedown(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{   alert([<span class="hljs-string"><span class="hljs-string">'Left'</span></span>, <span class="hljs-string"><span class="hljs-string">'Middle'</span></span>, <span class="hljs-string"><span class="hljs-string">'Right'</span></span>][event.which]); });</code> </pre> <br><h2>  <font color="#3AC1EF">Frage Nummer 4.</font>  <font color="#3AC1EF">Abfangen von Tastenanschlägen auf Tastaturtasten</font> </h2><br>  Ist es möglich, mit JavaScript die Pfeiltasten (insbesondere die Abwärts- und Aufwärts-Tasten) abzufangen, sodass der Browser nach dem Klicken nicht durch die Seite rollt?  Wenn dies möglich ist, welche Funktionen bietet es dann, dies in verschiedenen Browsern zu implementieren?  Angenommen, eine Seite wird auf einer Seite angezeigt, die nicht vollständig auf den Bildschirm passt.  Das Bewegen durch die Zellen dieser Tabelle muss mit den Pfeiltasten organisiert werden, und es ist erforderlich, dass der Browser beim Klicken auf diese Tasten nicht durch die Seite blättert. <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Um so etwas zu implementieren, müssen Sie zunächst die Standardsystemantwort auf Steueraktionen deaktivieren.  Zum Beispiel scrollen die Pfeiltasten und das Mausrad durch die Seite. Wenn Sie mit der rechten Maustaste auf eine Seite klicken, wird ein Kontextmenü <code>form.submit()</code> Wenn Sie auf die Schaltfläche " <code>form.submit()</code> klicken, wird die Funktion " <code>form.submit()</code> . Wenn Sie auf das Eingabefeld klicken, wird der Eingabefokus angezeigt. Wenn Sie auf den Link klicken, wird der Browser geladen die Seite, zu der es führt. <br><br>  Dies kann <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf verschiedene Arten erfolgen</a> .  Zum Beispiel so: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"keydown"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-comment"><span class="hljs-comment">//  -   if([37, 38, 39, 40].indexOf(e.keyCode) &gt; -1) {       e.preventDefault();   } }, false);</span></span></code> </pre> <br>  Die Seite danach reagiert normalerweise nicht auf Pfeiltasten. <br>  Eine wichtige Sache, die hier zu beachten ist.  Die Methode <code>preventDefault()</code> bevor die Standardaktion ausgeführt wird.  Wenn Sie beispielsweise auf ein Feld klicken, um zu verhindern, dass es den Eingabefokus erhält, müssen Sie den entsprechenden Handler vor der Standardaktion an ein Ereignis in der Ereigniskette hängen.  In unserem Fall handelt es sich um ein <code>mousedown</code> Ereignis: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'input'</span></span>).bind (<span class="hljs-string"><span class="hljs-string">'mousedown'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{   event.preventDefault();   <span class="hljs-comment"><span class="hljs-comment">//    return false; });</span></span></code> </pre> <br>  Wenn Sie auf das Eingabefeld klicken, treten folgende Ereignisse auf - in der Reihenfolge, in der sie hier angezeigt werden: <br><br><ol><li> <code>mousedown</code> </li> <li>  <code>focus</code> (vorher löst ein anderes Objekt, das den Fokus verliert, ein <code>blur</code> ) </li><li> <code>mouseup</code> </li> <li> <code>click</code> </li> </ol><br>  Wenn Sie versuchen, zu verhindern, dass das Element einen Eingabefokus erhält, hilft es uns nicht, Event-Handler zu verwenden, die mit dem <code>focus</code> Event-Handler beginnen. <br><br><h2>  <font color="#3AC1EF">Frage Nummer 5.</font>  <font color="#3AC1EF">Stoppen Sie die GIF-Animation und die ESC-Taste</font> </h2><br>  Wie gehe ich mit dem Problem um, die GIF-Animation beim Drücken der ESC-Taste zu stoppen? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Hier können Sie den gleichen Ansatz verwenden, den wir oben betrachtet haben.  In einigen Browsern werden durch Drücken der ESC-Taste die GIF-Animation und das Laden von Seiten gestoppt.  Dies ist ihr Standardverhalten. Um zu verhindern, dass sie sich auf diese Weise verhalten, ist die Ereignismethode <code>preventDefault()</code> für uns nach wie vor hilfreich.  Der ESC-Schlüsselcode lautet 27. <br><br><h2>  <font color="#3AC1EF">Frage Nummer 6.</font>  <font color="#3AC1EF">Klammern in IIFE</font> </h2><br>  Wie werden die beiden Klammern verwendet, um einen sofort aufgerufenen Funktionsausdruck (IIFE) zu deklarieren? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Klammern in dieser Situation ermöglichen es dem Parser zu verstehen, dass vor ihnen eine Funktion ausgeführt werden muss.  Er muss aber auch verstehen, was diese Klammern sind - der Gruppierungsoperator oder eine Konstruktion, die angibt, dass die Funktion aufgerufen werden muss.  Wenn wir beispielsweise zwei Klammern verwenden, wie unten gezeigt, tritt ein <code>SyntaxError</code> Fehler auf: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  }()</span></span></code> </pre> <br>  Dies liegt daran, dass die Funktion keinen Namen hat (Sie müssen ihre Namen in Funktionsdeklarationen angeben). <br><br>  Versuchen wir, diesen Code neu zu schreiben und der Funktion einen Namen zu geben: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  }()</span></span></code> </pre> <br>  Nun, da die Funktion einen Namen hat, sollte diese Konstruktion aus Sicht des Systems theoretisch ganz normal aussehen.  Der Fehler verschwindet jedoch nicht, obwohl er jetzt mit dem Gruppierungsoperator zu tun hat, in dem sich kein Ausdruck befindet.  Beachten Sie, dass in diesem Fall der Gruppierungsanweisung der Gruppierungsoperator folgt und keine Folge von Klammern, die dem System mitteilt, dass die vorhergehende Funktion aufgerufen werden muss. <br><br>  Oft ist IIFE wie folgt aufgebaut: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-comment"><span class="hljs-comment">//  })()</span></span></code> </pre> <br>  Es gibt aber auch andere Möglichkeiten, deren Kern es ist, dem Parser irgendwie anzuzeigen, dass es sich zuvor nur um einen funktionalen Ausdruck handelt, der ausgeführt werden muss: <br><br><pre> <code class="javascript hljs">!<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  }(); +function () { //  }(); [function() { //  }()]; var a = function () { //  }();</span></span></code> </pre> <br>  IIFE werden häufig in der JavaScript-Programmierung verwendet.  Dieses Konstrukt wird beispielsweise in jQuery verwendet.  Mit seiner Hilfe können Sie Verschlüsse erstellen.  In der Tat sprechen wir über die Tatsache, dass der Programmierer mit IIFE Code im lokalen Bereich ausführen kann.  Dies trägt zum Schutz des globalen Bereichs vor Verschmutzung bei und ermöglicht die Optimierung des Zugriffs auf globale Variablen.  Solche Designs sind gut minimiert. <br><br><h2>  <font color="#3AC1EF">Frage Nummer 7.</font>  <font color="#3AC1EF">Code als Antwort auf Anfragen übergeben</font> </h2><br>  Der Server sendet <code>alert ('Boom !!!');</code> der AJAX-Interaktion mit dem Client im Hauptteil der Antwort dem Client eine <code>alert ('Boom !!!');</code>  .  Der Client akzeptiert die Antwort und führt diesen Code mit der Funktion <code>eval()</code> aus.  Wie heißt es?  Schließlich ist in der Serverantwort nicht JSON, nicht XML und nicht HTML enthalten.  Was können Sie über die Ausführung des vom Server kommenden Clients auf dem Client in Form des Hauptteils der Antwort auf eine bestimmte Anforderung sagen? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Tatsächlich gibt es keinen speziellen Namen für ein solches Schema für die Client-Server-Interaktion.  Und dies ist ein Systeminteraktionsschema, von dem dringend abgeraten wird.  Dies ist genauso schlecht wie das Speichern von PHP-Code in einer Datenbank und das anschließende Ausführen mit geeigneten Sprachmethoden.  Selbst wenn wir ideologische Überlegungen nicht berücksichtigen, können wir sagen, dass eine solche Architektur äußerst unflexibel ist. Wenn also das Projekt, in dem sie verwendet wird, während der Entwicklung notwendig ist, etwas zu ändern, wird dies nicht einfach sein.  Hier sehen wir ein Beispiel für eine schlechte Systemarchitektur, wenn Daten mit Code- und Schnittstellenelementen gemischt werden.  Um etwas in einem solchen System zu ändern, müssen Sie zuerst die Feinheiten seiner komplizierten Architektur verstehen und dann nach den Änderungen wieder alles „verwirren“.  Ich spreche nicht von Code-Wiederverwendung. <br><br>  Um die Codeunterstützung zu vereinfachen, müssen Sie eine größtmögliche Trennung der Teile des Systems anstreben und die Anzahl der Abhängigkeiten dieser Teile verringern.  Um eine schlechte Konnektivität von Teilen des Systems sicherzustellen, dh um sicherzustellen, dass ein Fragment der Anwendung daraus extrahiert oder mit der geringsten Komplexität durch ein anderes ersetzt werden kann, können Sie Ereignismechanismen oder spezielle Architekturlösungen wie MVC verwenden. <br><br><h2>  <font color="#3AC1EF">Frage Nummer 8.</font>  <font color="#3AC1EF">Durchführen schwerer Operationen im Hauptfaden</font> </h2><br>  Wie kann man die Ausführung bestimmter ressourcenintensiver Befehle in JavaScript organisieren und nicht das gesamte Skript "aussetzen"? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  JavaScript ist eine Single-Threaded-Sprache.  Webseitencode wird im selben Thread ausgeführt und DOM-Baumtransformationen werden durchgeführt.  Es gibt auch Timer.  Jedes Mal, wenn Sie einige ressourcenintensive Vorgänge ausführen (Zyklen, Aufrufe "schwerer" Funktionen), führt dies zu einer Verlangsamung der Benutzeroberfläche oder sogar zu deren vollständiger Blockierung.  Wenn die ausgeführten Vorgänge das System nicht besonders stark belasten, sind ihre Auswirkungen auf die Benutzeroberfläche so gering, dass Benutzer sie einfach nicht bemerken.  Um Heavy Computing außerhalb des Hauptthreads zu erstellen, wurde das Konzept der Web-Worker in JavaScript eingeführt. <br><br>  Wenn der Einsatz von Arbeitern nicht möglich ist, müssen Sie die Zyklen und "schweren" Funktionen optimieren.  In dem Buch „JavaScript.  Leistungsoptimierung “Nicholas Zakas sagt, dass der Benutzer nichts bemerkt, wenn der Fluss der Benutzeroberfläche für 100 ms oder weniger blockiert wird. <br><br>  Aus dieser Idee können wir schließen, dass ressourcenintensive Berechnungen in Fragmente unterteilt werden können, deren Implementierung maximal 100 ms dauert. Danach muss der Hauptthread freigegeben werden. <br><br>  Hier ist ein Beispielcode aus dem obigen Buch: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">timedProcessArray</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">items, process, callback</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> todo = items.concat();   <span class="hljs-comment"><span class="hljs-comment">//    setTimeout(function () {       var start = +new Date();       do {           process(todo.shift());       } while (todo.length &gt; 0 &amp;&amp; (+new Date() - start &lt; 50));       if (todo.length &gt; 0){           setTimeout(arguments.callee, 25);       } else {           callback(items);       }   }, 25); } function saveDocument(id) {   var tasks = [openDocument, writeText, closeDocument, updateUI];   timedProcessArray(tasks, [id], function(){       alert("Save completed!");   }); }</span></span></code> </pre> <br>  Die Funktion <code>timedProcessArray()</code> blockiert den Hauptthread für 25 ms, führt eine Folge von Aktionen aus und gibt sie dann für 25 ms frei. Danach wird dieser Vorgang wiederholt. <br><br><h2>  <font color="#3AC1EF">Frage Nummer 9.</font>  <font color="#3AC1EF">Informationen zum Ändern der Größe des Browserfensters</font> </h2><br>  Kann ich irgendwie herausfinden, dass der Benutzer die Größe des Browserfensters geändert hat? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Es gibt kein besonderes Ereignis, bei dem Sie es herausfinden können.  Sie können jedoch mithilfe des Ereignisses <code>onresize</code> herausfinden, ob der Benutzer die Fenstergröße <code>onresize</code> .  Diese Methode ist jedoch nicht sehr genau. <br><br>  Hier ist ein Codeentwurf zur Lösung dieses Problems. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> time = <span class="hljs-number"><span class="hljs-number">0</span></span>,   timerId,   TIME_ADMISSION = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 0.1  function onresizeend () {   console.log('onresizeend'); }; function resizeWatcher () {   if (+new Date - time &gt;= TIME_ADMISSION) {       onresizeend();       if (timerId) {           window.clearInterval(timerId);           timerId = null;       }   } }; $(window).resize(function () {   if (!timerId) {       timerId = window.setInterval(resizeWatcher, 25);   }   time = +new Date; });</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Frage Nummer 10.</font>  <font color="#3AC1EF">Öffnen neuer Browserfenster und Registerkarten</font> </h2><br>  Wie kann mit der Methode <code>window.open()</code> ein neues Browserfenster und kein neuer Tab geöffnet werden? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Wie genau sich die <code>window.open()</code> -Methode verhält, hängt vom Browser ab.  Opera öffnet immer neue Registerkarten (obwohl sie wie Fenster aussehen), Safari öffnet immer Fenster (obwohl dieses Verhalten geändert werden kann).  Das Verhalten von Chrome, Firefox und Internet Explorer kann gesteuert werden. <br><br>  Wenn also ein zusätzlicher Parameter (Fensterposition <code>window.open()</code> an die <code>window.open()</code> -Methode übergeben wird, wird ein neues Fenster geöffnet: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.open(<span class="hljs-string"><span class="hljs-string">'http://www.google.com'</span></span>, <span class="hljs-string"><span class="hljs-string">'_blank'</span></span>, <span class="hljs-string"><span class="hljs-string">'toolbar=0,location=0,menubar=0'</span></span>);</code> </pre> <br>  Wenn nur ein Link zu dieser Methode übergeben wird, wird eine neue Browser-Registerkarte geöffnet: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.open(<span class="hljs-string"><span class="hljs-string">'http://www.google.com'</span></span>);</code> </pre> <br>  Oft müssen Sie eine neue Browser-Registerkarte öffnen.  Möglicherweise gibt es Probleme damit im Safari-Browser.  Standardmäßig (abhängig von den Einstellungen) öffnet der Browser beim <code>window.open()</code> ein neues Fenster.  Wenn Sie jedoch auf den Link klicken und die Tasten <code>Ctrl + Shift/Meta + Shift</code> drücken, wird eine neue Registerkarte geöffnet (unabhängig von den Einstellungen).  Im folgenden Beispiel simulieren wir das Klickereignis, das <code>click</code> wird, wenn die Tasten <code>Ctrl + Shift/Meta + Shift</code> gedrückt werden: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">safariOpenWindowInNewTab</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">href</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> event = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createEvent (<span class="hljs-string"><span class="hljs-string">'MouseEvents'</span></span>),        mac = (navigator.userAgent.indexOf (<span class="hljs-string"><span class="hljs-string">'Macintosh'</span></span>)&gt; = <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  Ctrl + Shift + LeftClick / Meta + Shift + LeftClick ()    //       event.initMouseEvent (        / * type * / "click",        / * canBubble * / true        / * cancelable * / true,        / * view * / window,        / * detail * / 0,        / * screenX, screenY, clientX, clientY * / 0, 0, 0, 0,        / * ctrlKey * /! mac,        / * altKey * / false,        / * shiftKey * / true        / * metaKey * / mac,        / * button * / 0,        / * relatedTarget * / null    ); //     ,   ,         $ ('&lt;a/&gt;', {'href': href, 'target': '_blank'}) [0] .dispatchEvent (event); }</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Frage Nr. 11.</font>  <font color="#3AC1EF">Objekte tief kopieren</font> </h2><br>  Wie kann man das tiefe Kopieren von Objekten effektiv organisieren? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Wenn sich das Objekt, dessen Kopie Sie erstellen möchten (nennen wir es <code>oldObject</code> ), nicht ändert, ist es am effektivsten, dies über den Prototyp zu tun (dies geschieht sehr schnell): <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">o</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}   F.prototype = o;   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> F(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newObject = object(oldObject);</code> </pre> <br>  Wenn Sie den Vorgang des Klonens eines Objekts wirklich ausführen müssen, ist der schnellste Weg rekursiv, diesen Prozess zu optimieren und seine Eigenschaften durchzugehen.  Vielleicht ist dies der schnellste Algorithmus zum Erstellen tiefer Kopien von Objekten: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cloner = {   <span class="hljs-attr"><span class="hljs-attr">_clone</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_clone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">obj</span></span></span><span class="hljs-function">) </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>) {           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> out = [];           <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = obj.length; i &lt; len; i++) {               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value = obj[i];               out[i] = (value !== <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> value === <span class="hljs-string"><span class="hljs-string">"object"</span></span>) ? _clone(value) : value;           }       } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> out = {};           <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> obj) {               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj.hasOwnProperty(key)) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value = obj[key];                   out[key] = (value !== <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> value === <span class="hljs-string"><span class="hljs-string">"object"</span></span>) ? _clone(value) : value;               }           }       }       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> out;   }, <span class="hljs-attr"><span class="hljs-attr">clone</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">it</span></span></span><span class="hljs-function">) </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._clone({       <span class="hljs-attr"><span class="hljs-attr">it</span></span>: it       }).it;   } }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newObject = cloner.clone(oldObject);</code> </pre> <br>  Wenn Sie jQuery verwenden, können Sie auf die folgenden Konstrukte zurückgreifen: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   var newObject = jQuery.extend ({}, oldObject); //   var newObject = jQuery.extend (true, {}, oldObject);</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Frage Nummer 12.</font>  <font color="#3AC1EF">JavaScript-Destruktoren</font> </h2><br>  Wie erstelle ich so etwas wie einen Destruktor in JavaScript?  Wie verwalte ich den Lebenszyklus von Objekten? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  In JavaScript wird ein Objekt aus dem Speicher gelöscht, nachdem der letzte Verweis darauf verschwunden ist: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = {<span class="hljs-attr"><span class="hljs-attr">z</span></span>: <span class="hljs-string"><span class="hljs-string">'z'</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = a; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> c = a; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> az; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> a; <span class="hljs-comment"><span class="hljs-comment">//    a console.log (b, c); // ,  ,   </span></span></code> </pre> <br>  Die Verwendung eines „Destruktors“ in JavaScript führt nur zum Löschen des Inhalts des Objekts, nicht jedoch zum Löschen aus dem Speicher. <br><br><h2>  <font color="#3AC1EF">Frage Nummer 13.</font>  <font color="#3AC1EF">Binäre Datenverarbeitung</font> </h2><br>  Ist es möglich, Binärdaten in JavaScript zu verarbeiten?  Und wenn ja, wie? <br><br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Wenn Sie in einer JavaScript-Anwendung mit Binärdaten arbeiten müssen, können Sie versuchen, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Binary Parser-</a> Bibliothek zu verwenden.  Aber ihr Code ist die Hölle.  In ES6 + gibt es einen Vorschlag zum <code>StructType</code> Typ (dies ist dasselbe, was in C ++ durch den zusammengesetzten Datentyp von <code>struct</code> ).  Dieser Datentyp wird benötigt, um das Arbeiten mit Binärdaten zu vereinfachen.  Die Arbeit damit könnte ungefähr so ​​aussehen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Point2D = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StructType({ <span class="hljs-attr"><span class="hljs-attr">x</span></span>: uint32, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: uint32 }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Color = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StructType({ <span class="hljs-attr"><span class="hljs-attr">r</span></span>: uint8, <span class="hljs-attr"><span class="hljs-attr">g</span></span>: uint8, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: uint8 }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Pixel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StructType({ <span class="hljs-attr"><span class="hljs-attr">point</span></span>: Point2D, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: Color }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Triangle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayType(Pixel, <span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Triangle([{ <span class="hljs-attr"><span class="hljs-attr">point</span></span>: { <span class="hljs-attr"><span class="hljs-attr">x</span></span>:  <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: { <span class="hljs-attr"><span class="hljs-attr">r</span></span>: <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-attr"><span class="hljs-attr">g</span></span>: <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">255</span></span> } },                     { <span class="hljs-attr"><span class="hljs-attr">point</span></span>: { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span> }, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: { <span class="hljs-attr"><span class="hljs-attr">r</span></span>: <span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-attr"><span class="hljs-attr">g</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,   <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } },                     { <span class="hljs-attr"><span class="hljs-attr">point</span></span>: { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: { <span class="hljs-attr"><span class="hljs-attr">r</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,   <span class="hljs-attr"><span class="hljs-attr">g</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">128</span></span> } }]);</code> </pre> <br><h2>  <font color="#3AC1EF">Frage Nummer 14.</font>  <font color="#3AC1EF">Ändern von Variablen in einer Funktion von einer anderen Funktion</font> </h2><br>  Wie ändere ich Variablen in einer Funktion von einer anderen Funktion? <br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Hier können Sie verschiedene Ansätze anwenden: <br><br><ol><li>  Sie können den Link zum Kontext der für uns interessanten Funktion (die Funktion <code>primer()</code> im folgenden Beispiel) in der Funktion <code>smth()</code> verwenden. <br></li><li>  Sie können eine im Kontext der Funktion <code>primer()</code> Funktion an die Funktion <code>smth()</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> primer = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a, b, c, d, e = {}; smth (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{        a = <span class="hljs-number"><span class="hljs-number">1</span></span>;        b = <span class="hljs-number"><span class="hljs-number">2</span></span>;        c = <span class="hljs-number"><span class="hljs-number">3</span></span>;        d = <span class="hljs-number"><span class="hljs-number">4</span></span>;    }, e); alert ([a, b, c, d, e.pewpew]); }, smth = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">callback, e</span></span></span><span class="hljs-function">) </span></span>{    callback ();    e.pewpew = <span class="hljs-string"><span class="hljs-string">"pewpew"</span></span>; }; primer ();</code> </pre> </li><li>  Früher (vor Firefox 3.6) konnten Sie mit der Eigenschaft <code>__parent__</code> zum Kontext <code>__parent__</code> , aber bereits in Firefox 4 wurde diese Funktion entfernt. </li></ol><br><h2>  <font color="#3AC1EF">Frage Nummer 15.</font>  <font color="#3AC1EF">Mit Funktionen arbeiten</font> </h2><br>  Sagen Sie uns, wie Funktionen in JavaScript aufgerufen werden können. <br><h3>  <font color="#3AC1EF">▍ Antwort</font> </h3><br>  Ich nehme an, es besteht keine Notwendigkeit, darüber zu sprechen, wie Funktionen, Methoden und Konstruktoren während der normalen Arbeit mit ihnen aufgerufen werden.  Lassen Sie uns über die Verwendung der Methoden <code>call()</code> und <code>apply()</code> sprechen. <br><br><h4>  Verwenden von call () zum Konfigurieren des Konstruktors eines Objekts </h4><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   function extend (newObj, oldObj) {   function F () {};   F.prototype = oldObj.prototype;   newObj.prototype = new F ();   return newObj }; var Obj = function () {   this.obj_var = 100; }; Obj.prototype.obj_proto_var = 101; var NewObj = function () {   Obj.call (this); //   Obj     obj_var   this.new_obj_var = 102; }; extend (NewObj, Obj) NewObj.prototype.new_obj_proto_var = 103; new NewObj (); // {new_obj_proto_var: 103, new_obj_var: 102, obj_proto_var: 101, obj_var: 100}</span></span></code> </pre> <br><h4>  Konvertieren Sie Array-ähnliche Objekte in Arrays </h4><br>  Array-ähnliche Objekte ähneln JavaScript-Arrays, sind es jedoch nicht.  Dies drückt sich insbesondere darin aus, dass solche Objekte keine Methoden für gewöhnliche Arrays haben.  Unter solchen Objekten können beispielsweise das <code>arguments</code> traditioneller Funktionen und die Ergebnisse der Methode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">getElementsByTagName ()</a> notiert werden. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// document.getElementsByTagName ("div")  ,   ,    , ,  ,        document.getElementsByTagName ("div"). forEach (function (elem) {    // ... }); // TypeError: document.getElementsByTagName ("div"). forEach is not a function //    Array.prototype.slice.call(document.getElementsByTagName("div")).forEach (function (elem) {   // OK }); //        console.log(Array.prototype.slice.call ('pewpew')) // ["p", "e", "w", "p", "e", "w"] //  IE8   </span></span></code> </pre> <br><h4>  Erstellen von Wrapper-Objekten </h4><br>  Mit dieser Technik der Verwendung von <code>call()</code> und <code>apply()</code> können Sie Wrapper-Objekte erstellen. ,    - <code>foo()</code> ,    <code>bar()</code>       . <br><br>        : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bar</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>)} <span class="hljs-comment"><span class="hljs-comment">// foo (context, arg1, arg2, ...) function foo () {    var context = arguments [0];    var args = Array.prototype.slice.call (arguments, 1); //     bar    bar.apply (context, args); }</span></span></code> </pre> <br>       <code>Function.call.apply()</code>    : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>.call.apply(bar, <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>); }</code> </pre> <br> ,   <code>Function.call.apply()</code> , ,  <code>foo()</code> ,  <code>bar</code> . <br><br><h2> <font color="#3AC1EF"> №16.    </font> </h2><br>   ,     ,  ? <br><br><h3> <font color="#3AC1EF">▍</font> </h3><br>  . ,   Firefox  3.6,       <code>__parent__</code> ,     . <br><br><h2> <font color="#3AC1EF"> №17.    </font> </h2><br>   ,        ,     ,    <code>eval()</code>    ? <br><br><h3> <font color="#3AC1EF">▍</font> </h3><br>      ,       .     ,     : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// 1:  eval() (function () {    "use strict";    var globalObject = (0, eval) ("this"); //  :)    return globalObject; } ()); // 2:    (function (global) {    // ... } (window)); // 3:      (function () {    return this; } ()); // 4:            ,       . //  -    "use strict"; (function (global) {    // global }) (this);</span></span></code> </pre> <br><h2> <font color="#3AC1EF"> №18.  </font> </h2><br>  ,  JavaScript,    ,    ? <br><br><h3> <font color="#3AC1EF">▍</font> </h3><br>    JavaScript   - « ».     .          . ,    : <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#smth'</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSmthClick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (smth) {       <span class="hljs-comment"><span class="hljs-comment">//         event.handlerFunction = onSmthClick;       event.handlerContext = this;       //         //  otherObjectSetSomeEvent   event.handlerFunction          otherObjectSetSomeEvent(event);   } else {       //  -    } });</span></span></code> </pre> <br>   —    ,     .      ,    2 : <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#smth'</span></span>). click (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handler1</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (smth) {       <span class="hljs-comment"><span class="hljs-comment">//         leftObjectSetSomeEvent(event, function handler2 (e) {           //  -   e       });   } else {       //  -    } }); function leftObjectSetSomeEvent(event, callback) {   callback (event);   //    }</span></span></code> </pre> <br><h2> <font color="#3AC1EF"> №19.    </font> </h2><br>   JavaScript       ?  —  ,     . <br><br><h3> <font color="#3AC1EF">▍</font> </h3><br>     <code>click</code>   «»    DOM.         (,      ,     ). <br><br><pre> <code class="plaintext hljs">// jQuery $(window).bind ('click', function (e) {   console.log ('Clicked on', e.target); }); //       $('#pewpew').delegate ('*', 'click', function(e) {   console.log('Clicked on', e.target); }); //     $('#pewpew').delegate('.pewpew', 'click', function (e) {   console.log ('Clicked on element with .pewpew class name'); });</code> </pre> <br><h2> <font color="#3AC1EF"> №20. XHR-</font> </h2><br>   XHR-   jQuery? <br><br><h3> <font color="#3AC1EF">▍</font> </h3><br>  ,    - : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xhr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">m, u, c, x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">with</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XMLHttpRequest) onreadystatechange = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{   readyState ^ <span class="hljs-number"><span class="hljs-number">4</span></span> || c(x.target) }, open(m, u), send() }</code> </pre> <br>  - : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xhr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">m, u, c, x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">with</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.XMLHttpRequest || ActiveXObject)(<span class="hljs-string"><span class="hljs-string">"Microsoft.XMLHTTP"</span></span>)) onreadystatechange = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{   readyState ^ <span class="hljs-number"><span class="hljs-number">4</span></span> || c(x) }, open(m, u), send() }</code> </pre> <br>    : <br><br><pre> <code class="javascript hljs">xhr(<span class="hljs-string"><span class="hljs-string">'get'</span></span>, <span class="hljs-string"><span class="hljs-string">'//google.com/favicon.ico'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xhr</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.dir(xhr) });</code> </pre> <br><h2> <font color="#3AC1EF"> №21.   -</font> </h2><br>        (reflow)   (repaint)    -? <br><br><h3> <font color="#3AC1EF">▍</font> </h3><br><ol><li>     <code>requestAnimationFrame()</code> ,     ,   <code>setInterval()</code>  <code>setTimeout()</code> .    ,  ,         , ,   ,     . ,    JavaScript-     CSS-   SVG-.  ,     ,      ,     ,       , , .    ,  ,    . </li><li>       float- (      ). </li><li>      DOM.  ,   ,  ,    DOM    (         ). </li><li>       —      .            (  , ,  ).  Hier ist ein Beispiel: <br><br><pre> <code class="plaintext hljs">//      element.style.left = "150px;"; // ... element.style.color = "green"; //  ,   ,    element.setAttribute ('style', 'color: green; left: 150px');</code> </pre> </li><li>           (        ). <br></li><li>      —   ( <code>style.display = "none"</code> ).        ,     . <br></li></ol><br>    ,   -,          .  ,  ,   ,       ,      . <br><br><ol><li>   . </li><li>    DOM- (  —   ). </li><li>       <code>Document.querySelectorAll()</code>   <code>firstElementChild</code> . </li><li>   ,   <code>document.getElementsByTagName()</code>     ( ,       DOM,  ). </li></ol><br><h2> <font color="#3AC1EF"> №22.     Node.js</font> </h2><br>     Node.js,   ,        ? <br><br><h3> <font color="#3AC1EF">▍</font> </h3><br>     ,              (     PHP  Apache).         ,       ,      .  Node.js                —    .  ,        ,          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">cluster</a> .         (master)  - (worker).    ,          . <br><br><h2> <font color="#3AC1EF"> №23.  runInNewContext()  Node.js</font> </h2><br>     <code>runInNewContext()</code>  Node.js. <br><br><h3> <font color="#3AC1EF">▍</font> </h3><br>        .     ,    (   Node.js- Nodester).   -    ,       <code>runInNewContext()</code> . ,      «»,       .       «»    ,  ,  <code>runInNewContext()</code>       . <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>         JavaScript    . ,    - ,   . <br><br>  <b>Liebe Leser!</b>  , -  ,    ,      JavaScript   ,     ? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436454/">https://habr.com/ru/post/de436454/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436442/index.html">Ein Kopf ist gut und zwei sind besser oder Paarprogrammierung in Aktion</a></li>
<li><a href="../de436444/index.html">Unsichtbare Bereitstellung einer monolithischen Anwendung in der Produktion unter AWS. Persönliche Erfahrung</a></li>
<li><a href="../de436448/index.html">Test 27 ”IPS-Monitor Acer HA270bid: zur Selbstverbesserung</a></li>
<li><a href="../de436450/index.html">Fernbedienung und Kontrolle, Freiheit und Regierung. Gespräch mit Staply</a></li>
<li><a href="../de436452/index.html">7 Bereiche der Linux-Entwicklung im Jahr 2019</a></li>
<li><a href="../de436456/index.html">Erstellen Sie in Unity einen Farbverteilungseffekt</a></li>
<li><a href="../de436458/index.html">Fortschritt und Hype in der Ai-Forschung</a></li>
<li><a href="../de436460/index.html">Die Wahl von Technologie, Architektur und Design in Softwareprojekten - ohne Bargeld</a></li>
<li><a href="../de436464/index.html">2. Check Point Log Analysis: SmartEvent</a></li>
<li><a href="../de436466/index.html">Electron: Entwicklung von Desktop-Anwendungen mit HTML, CSS und JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>