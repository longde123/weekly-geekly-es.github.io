<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí∂ ‚õ±Ô∏è üï¥üèø Cortafuegos de aplicaciones web üçÇ üë©üèº‚Äçüéì üíÇüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cortafuegos de aplicaciones web 
 Los firewalls de aplicaciones web (WAF) son un tipo de sistema de detecci√≥n y prevenci√≥n de intrusos y pueden ser un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cortafuegos de aplicaciones web</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446518/"><h4>  <font color="#cc0000">Cortafuegos de aplicaciones web</font> </h4><br>  Los firewalls de aplicaciones web (WAF) son un tipo de sistema de detecci√≥n y prevenci√≥n de intrusos y pueden ser una soluci√≥n de hardware o software.  Est√° espec√≠ficamente dise√±ado para inspeccionar HTTP (s) y analizar las solicitudes GET y POST utilizando la l√≥gica de detecci√≥n atroz que se explica a continuaci√≥n.  El software de firewall de aplicaciones web generalmente est√° disponible como un complemento de servidor web. <br><br>  WAF se ha vuelto extremadamente popular y varias compa√±√≠as ofrecen una variedad de soluciones en diferentes categor√≠as de precios, desde peque√±as empresas hasta grandes corporaciones.  El WAF moderno es popular porque tiene una amplia gama de tareas cubiertas, por lo que los desarrolladores de aplicaciones web pueden confiar en √©l para varios problemas de seguridad, pero suponiendo que esta soluci√≥n no puede garantizar una protecci√≥n absoluta.  A continuaci√≥n se muestra un flujo de trabajo WAF b√°sico. <br><br><img src="https://habrastorage.org/webt/cr/ld/1a/crld1a6qlyif0we0sfqrhjvkjzc.png"><br><br>  Su funci√≥n principal es la detecci√≥n y el bloqueo de consultas en las que, seg√∫n el an√°lisis WAF, hay algunas anomal√≠as o se rastrea un vector de ataque.  Tal an√°lisis no deber√≠a dificultar que los usuarios leg√≠timos interact√∫en con una aplicaci√≥n web, pero, al mismo tiempo, debe detectar de manera precisa y oportuna cualquier intento de ataque.  Para implementar esta funcionalidad, los desarrolladores de WAF generalmente usan expresiones regulares, tokens, an√°lisis de comportamiento, an√°lisis de reputaci√≥n y aprendizaje autom√°tico, y, a menudo, todas estas tecnolog√≠as se usan juntas. <br><br><img src="https://habrastorage.org/webt/z-/jz/by/z-jzbyv0m-cblumcvxe-cow6z8o.png"><br><br>  Adem√°s, WAF tambi√©n puede proporcionar otra funcionalidad: protecci√≥n contra DDoS, bloqueo de direcciones IP de atacantes, seguimiento de direcciones IP sospechosas, agregar un indicador de solo HTTP a la cookie o agregar la funcionalidad de tokens CSRF.  Cada WAF es individual y tiene una disposici√≥n interna √∫nica, pero existen algunos m√©todos t√≠picos utilizados para el an√°lisis. <br><a name="habracut"></a><br><h3>  <font color="#cc0000">Expresi√≥n regular</font> </h3><br>  La mayor√≠a de los WAF existentes se basan en reglas basadas en expresiones regulares.  Para crearlos, el desarrollador WAF estudia algunos conjuntos de ataques bien conocidos y, en consecuencia, se determinan las construcciones sint√°cticas clave, cuya presencia se puede afirmar que lleva a cabo el ataque.  En base a los resultados obtenidos, se escriben expresiones regulares que pueden encontrar tales construcciones.  Por ejemplo, al analizar los encabezados HTTP como Servidor: Apache Tomcat / 7.0.x, WAF puede bloquear una respuesta y, por lo tanto, evitar la fuga de informaci√≥n del servidor o, como alternativa, generar una alerta. <br><br>  Sin embargo, este enfoque tiene una serie de inconvenientes.  El rango de aplicabilidad de una expresi√≥n regular se limita a una consulta y, a menudo, incluso a un par√°metro de consulta espec√≠fico, lo que obviamente reduce la efectividad de tales solicitudes.  En segundo lugar, la sintaxis de las expresiones regulares, la l√≥gica compleja de los protocolos de texto, que permiten el reemplazo de construcciones equivalentes y el uso de diferentes representaciones de s√≠mbolos, conducen a errores al crear tales reglas.  La siguiente tabla muestra las t√©cnicas de derivaci√≥n m√°s comunes. <br><br><img src="https://habrastorage.org/webt/nt/fm/0x/ntfm0xcoifqns397zknmrtxjj04.png"><br><br>  Ofuscaci√≥n de SQL.  Es posible cambiar la expresi√≥n para que, utilizando la sintaxis del lenguaje, pueda eliminar espacios.  Por ejemplo, en SQL, puede usar corchetes y estrellas: <br><blockquote>  s / * / e / ** // * e * // * / l / * le * c * // * / ect ~~ / ** / 1 o / id = 1 + un / ** / ion + sel / ** / ect + 1,2,3-- </blockquote><br>  El otro se basa en el uso de diferentes codificaciones de tal manera que el WAF no decodifica los datos en ciertos lugares.  Por ejemplo, despu√©s de reemplazar un car√°cter con su c√≥digo url en el proceso de normalizaci√≥n, WAF no podr√° comprender que es necesario decodificar los datos y omitir la solicitud, mientras que el mismo par√°metro ser√° aceptado y decodificado con √©xito por la web aplicaci√≥n <br><br><img src="https://habrastorage.org/webt/9f/fs/fj/9ffsfjkccp4a6iqvbj7ppes996y.png"><br><br>  Busque construcciones sint√°cticas equivalentes at√≠picas.  Este m√©todo se utiliza para encontrar una forma de operaci√≥n que los desarrolladores de WAF no puedan considerar, o el vector estaba ausente en la muestra de estudio para el aprendizaje autom√°tico.  Una de estas construcciones es la representaci√≥n de c√≥digo Javascript no alfanum√©rico, cuyo ejemplo se muestra a continuaci√≥n. <br><br><img src="https://habrastorage.org/webt/1-/os/-h/1-os-hs9dwq5_f01ici2-odymts.png"><br><cut><br><h3>  <font color="#cc0000">M√©todo de construcci√≥n de puntaje</font> </h3><br>  Este enfoque no detecta ataques, pero complementa otros m√©todos, haci√©ndolos m√°s precisos y flexibles.  El motivo de la introducci√≥n de la herramienta es que la presencia en la consulta de alg√∫n dise√±o sospechoso es insuficiente para detectar un ataque o, por el contrario, puede provocar una gran cantidad de errores falsos positivos.  Este problema se resuelve introduciendo un sistema de puntuaci√≥n.  Por ejemplo, cada regla basada en expresiones regulares se complementa con informaci√≥n sobre la importancia de su funcionamiento;  Despu√©s de identificar todas las reglas trabajadas, se resume su criticidad.  En el caso de superar un cierto valor umbral, se detecta el ataque y se bloquea la solicitud. <br><br><h3>  <font color="#cc0000">An√°lisis de comportamiento.</font> </h3><br>  Detectar intentos de explotar vulnerabilidades en los par√°metros de consulta no es la √∫nica tarea de WAF.  Es importante identificar el procedimiento de b√∫squeda de vulnerabilidad en s√≠, que puede manifestarse en intentos de escaneo, directorio de fuerza bruta, borrado de par√°metros y otros m√©todos de detecci√≥n de vulnerabilidad que a menudo utilizan las herramientas automatizadas, y reaccionar en consecuencia a ellos.  Los WAF m√°s avanzados incluso saben c√≥mo construir un archivo XML con cadenas de consulta que son t√≠picas para el comportamiento normal del usuario y bloquean los intentos de enviar solicitudes en un orden diferente al comportamiento est√°ndar.  Este mecanismo no solo contrarresta los ataques, sino que tambi√©n complica el proceso de encontrar una vulnerabilidad. <br><br><h3>  <font color="#cc0000">Analizadores de analizadores Tokeniser</font> </h3><br>  Este enfoque para detectar ataques es un concepto complejo;  sin embargo, no es f√°cil desmontarlo en el cebador C ++ de la biblioteca Libinjection, que permite detectar de forma r√°pida y precisa los ataques de inyecci√≥n SQL.  En la actualidad, para la biblioteca Libinjection, hay puertos para varios lenguajes de programaci√≥n, incluidos Java, C y Python.  El mecanismo se reduce a la b√∫squeda de firmas, representadas como una secuencia de tokens.  Algunas de las firmas se agregan a la lista negra incorporada y se consideran inaceptables o maliciosas.  En otras palabras, antes de analizar cualquier consulta, primero conduce a un conjunto de tokens.  Los tokens se dividen en diferentes tipos, cadena, char, operador regular, n√∫mero, comentario, variable, etc. <br><br>  Uno de los principales inconvenientes de este m√©todo es que es posible construir un dise√±o que conduzca a la formaci√≥n incorrecta de tokens;  por lo tanto, la firma de la solicitud ser√° diferente de la esperada. <br><br>  Los ataques dirigidos a los tokenisers est√°n asociados con intentos de romper la l√≥gica al dividir la solicitud en tokens utilizando token-breakers.  Estos son esos s√≠mbolos que le permiten influir en la elecci√≥n de un elemento de cadena para que coincida con un token espec√≠fico y, por lo tanto, omitir la b√∫squeda mediante firmas.  En acceso abierto, hay algunas hojas de trucos, obtenidas por Mysql fuzzing y la posterior verificaci√≥n de consultas en Libinjection. <br><br><h3>  <font color="#cc0000">An√°lisis de reputaci√≥n</font> </h3><br>  El mecanismo de reputaci√≥n se hereda directamente de firewalls y antivirus.  Hoy en d√≠a, casi cualquier WAF incluye listas de direcciones de servicios VPN, anonimizadores, nodos de red Tor y participantes de botnets que pueden usarse para bloquear solicitudes que se originan en direcciones sospechosas.  Los WAF m√°s avanzados pueden actualizar autom√°ticamente sus bases de datos y realizar entradas adicionales en funci√≥n del tr√°fico analizado. <br><br><h3>  <font color="#cc0000">Resumen</font> </h3><br>  En general, el firewall de aplicaciones web es una herramienta de protecci√≥n moderna y buena, y nunca ser√° superflua para las aplicaciones web.  La idea principal de encontrar formas de evitar WAF es llevar la consulta solicitada a un formulario en el que todav√≠a sea comprensible para la aplicaci√≥n web atacada, pero no sea comprensible o parezca inofensivo para WAF. <br><br>  Sin embargo, hay varias clases de vulnerabilidades que WAF no puede detectar.  Esto puede ser cualquier vulnerabilidad l√≥gica, en este caso no hay comportamientos anormales en las solicitudes.  Adem√°s, algunos estudios realizados para optimizar las reglas WAF tambi√©n muestran m√©todos para excluir solicitudes leg√≠timas del proceso de inspecci√≥n, que pueden ser potencialmente peligrosas.  Es muy probable que WAF no sea √∫til para identificar rivales, como la condici√≥n de la carrera y la autenticaci√≥n de usuarios inseguros. <br><cut><br><h3>  <font color="#cc0000">Referencia</font> </h3><br>  Vladimir Ivanov (2016) Tablas de s√≠mbolos permitidos en diferentes entradas de expresi√≥n SQL, resultado del an√°lisis de tablas fuzz.  Disponible en: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.blackhat.com/docs/us-16/materials/us-</a> 16-Ivanov-Web-Application-Firewalls-Analysis-Of-Detection-Logic.pdf <br><br>  Torrano-Gim√©nez, C., P√©rez-Villegas, A. y √Ålvarez, G. (2009) 'Un firewall de aplicaci√≥n web basado en anomal√≠as de autoaprendizaje', Springer, Berl√≠n, Heidelberg.  doi: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">doi.org/10.1007/978-3-642-04091-7_11</a> . <br><br>  Ramsingh, C. y Centonze, P. (2017) 'An√°lisis de programas para inyecciones de bases de datos', REVISTA INTERNACIONAL DE COMPUTADORAS Y TECNOLOG√çA, 16 (6), pp.  6977-6986. Doi: 10.24297 / ijct.v16i6.6332. <br><br>  Prokhorenko, V., Choo, KKR y Ashman, H. (2016) 'T√©cnicas de protecci√≥n de aplicaciones web: una taxonom√≠a', Journal of Network and Computer Applications, 60, pp.  95-112.  doi: 10.1016 / j.jnca.2015.11.11.017. <br><br>  Prandl, S., Lazarescu, M. y Pham, D. (2015).  Un estudio de soluciones de firewall de aplicaciones web.  Seguridad de sistemas de informaci√≥n, pp. 501-510.  doi: 10.1007 / 978-3-319-26961-0_29. <br><br>  Positive-Technologies (2016a) 'Cortafuegos de aplicaciones web: Atacar mecanismos de l√≥gica de detecci√≥n'.  Disponible en: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.blackhat.com/docs/us-16/materials/us-16-Ivanov-</a> Web-Application-Firewalls-Analysis-Of-Detection-Logic.pdf. <br><br>  OWASP (2017) Inyecci√≥n SQL sin pasar por WAF.  Disponible en: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.owasp.org/index.php/SQL_Injection_Bypassing_WAF</a> . </cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/446518/">https://habr.com/ru/post/446518/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../446508/index.html">.NET Core Workers como servicios de Windows</a></li>
<li><a href="../446510/index.html">CLRium # 5: recolector de basura. Taller .NET m√°s grande</a></li>
<li><a href="../446512/index.html">.NET Core Workers como servicios de Windows</a></li>
<li><a href="../446514/index.html">Gmail tiene 15 a√±os</a></li>
<li><a href="../446516/index.html">Visualizaci√≥n del tiempo de renacimiento de Roshan</a></li>
<li><a href="../446520/index.html">C√≥mo comenz√≥ todo: la historia de los drones voladores</a></li>
<li><a href="../446522/index.html">Swift 5.1: ¬øqu√© hay de nuevo?</a></li>
<li><a href="../446530/index.html">Word2vec en im√°genes</a></li>
<li><a href="../446532/index.html">Upwork introduce una tarifa por el derecho a escribir a un cliente potencial</a></li>
<li><a href="../446534/index.html">Visual Studio 2019 lanzado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>