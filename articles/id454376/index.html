<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🤝‍👨🏻 🔄 ➰ Berbagai hal di MetaPost 🧒🏼 👨🏾‍🎓 👨‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Apa alat terbaik untuk digunakan untuk menggambar gambar vektor? Bagi saya dan mungkin bagi banyak orang lain, jawabannya cukup jelas: Illustrator, at...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Berbagai hal di MetaPost</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454376/">  Apa alat terbaik untuk digunakan untuk menggambar gambar vektor?  Bagi saya dan mungkin bagi banyak orang lain, jawabannya cukup jelas: Illustrator, atau, mungkin, Inkscape.  Setidaknya itulah yang saya pikirkan ketika saya diminta menggambar sekitar delapan ratus diagram untuk buku teks fisika.  Tidak ada yang luar biasa, hanya sekelompok ilustrasi hitam dan putih dengan bola, mata air, katrol, lensa dan sebagainya.  Pada saat itu sudah diketahui bahwa buku itu akan dibuat di LaTeX dan saya diberi sejumlah dokumen MS Word dengan gambar yang disematkan.  Beberapa di antaranya adalah gambar yang dipindai dari buku lain, beberapa gambar pensil.  Membayangkan berhari-hari melakukan inkscaping hal ini membuat saya merasa pusing, jadi segera saya mendapati diri saya berfantasi tentang solusi yang lebih otomatis.  Entah mengapa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MetaPost</a> menjadi fokus fantasi ini. <br><br><img src="https://habrastorage.org/webt/nu/e4/zb/nue4zbfxj3ubc7m1cggctnzg7e4.png"><br><br><a name="habracut"></a><br><br>  Keuntungan utama menggunakan solusi MetaPost (atau serupa) adalah bahwa setiap gambar bisa menjadi semacam fungsi dari beberapa variabel.  Gambar seperti itu dapat dengan cepat disesuaikan untuk keadaan tata letak yang tidak terduga, tanpa mengganggu hubungan internal penting dari ilustrasi (sesuatu yang saya benar-benar khawatirkan), yang tidak mudah dicapai dengan alat yang lebih tradisional.  Juga, elemen berulang, semua bidang dan pegas ini, dapat dibuat lebih menarik secara visual daripada yang diizinkan oleh alat konvensional dengan batasan waktu yang sama. <br><br>  Saya ingin membuat foto dengan semacam penetasan, tidak seperti apa yang Anda temui di buku-buku lama. <br><br><img src="https://habrastorage.org/webt/uq/2h/ay/uq2hayq7aiptmw1eididz3u3-q0.png"><br><br>  Pertama, saya harus dapat menghasilkan beberapa kurva dengan ketebalan yang bervariasi.  Komplikasi utama di sini adalah membuat kurva yang mengikuti kurva asli pada jarak yang bervariasi.  Saya mungkin menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">metode</a> kerja yang paling primitif, yang bermuara hanya dengan menggeser segmen garis yang menghubungkan titik kontrol kurva Bezier dengan jarak tertentu, kecuali jarak ini bervariasi di sepanjang kurva. <br><br><img src="https://habrastorage.org/webt/vm/jq/ha/vmjqhahvkkwaek72szkggyjoocs.png"><br><br>  Dalam kebanyakan kasus, itu berfungsi dengan baik. <br><br><img src="https://habrastorage.org/webt/pt/vr/gr/ptvrgric1es7mutjptz6oli7w0k.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> Dari sini diasumsikan bahwa perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diunduh</a> dan <code>input fiziko.mp;</code>  hadir dalam kode MetaPost.  Metode tercepat adalah dengan menggunakan ConTeXt (maka Anda tidak perlu <code>beginfig</code> dan <code>endfig</code> ): <br><br> <code>\starttext <br> \startMPcode <br> input fiziko.mp; <br> % the code goes here <br> \stopMPcode <br> \stoptext <br></code> <br><br>  atau LuaLaTeX: <br><br> <code>\documentclass{article} <br> \usepackage{luamplib} <br> \begin{document} <br> \begin{mplibcode} <br> input fiziko.mp; <br> % the code goes here <br> \end{mplibcode} <br> \end{document} <br></code> <br><br> <code>beginfig(3); <br> path p, q; % MetaPost's syntax is reasonably readable, so I'll comment mostly on my stuff <br> p := (0,-1/4cm){dir(30)}..(5cm, 0)..{dir(30)}(10cm, 1/4cm); <br> q := offsetPath(p)(1cm*sin(offsetPathLength*pi)); % first argument is the path itself, second is a function of the position along this path (offsetPathLength changes from 0 to 1), which determines how far the outline is from the original line <br> draw p; <br> draw q dashed evenly; <br> endfig; <br></code> <br></div></div><br><br>  Dua garis besar dapat digabungkan untuk membuat garis kontur untuk goresan dengan ketebalan variabel. <br><br><img src="https://habrastorage.org/webt/1k/fn/hl/1kfnhlmi6xbx0ax-iurvsrii6wk.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(4); <br> path p, q[]; <br> p := (0,-1/4cm){dir(30)}..(5cm, 0)..{dir(30)}(10cm, 1/4cm); <br> q1 := offsetPath(p)(1/2pt*(sin(offsetPathLength*pi)**2)); % outline on one side <br> q2 := offsetPath(p)(-1/2pt*(sin(offsetPathLength*pi)**2)); % and on the other <br> fill q1--reverse(q2)--cycle; <br> endfig; <br></code> <br></div></div><br><br>  Ketebalan garis harus memiliki beberapa batas bawah, jika tidak, beberapa garis akan terlalu tipis untuk dicetak dengan benar dan ini tidak terlihat bagus.  Salah satu opsi (yang saya pilih) adalah membuat garis-garis yang terlalu tipis putus-putus, sehingga jumlah total tinta per satuan panjang tetap kira-kira sama dengan garis tipis yang dimaksud.  Dengan kata lain, alih-alih mengurangi jumlah tinta pada sisi garis, algoritme mengambil sebagian tinta dari garis itu sendiri. <br><br><img src="https://habrastorage.org/webt/8j/ry/i6/8jryi6otsaqaegxccgrn3ghtzgg.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(5); <br> path p; <br> p := (0,-1/4cm){dir(30)}..(5cm, 0)..{dir(30)}(10cm, 1/4cm); <br> draw brush(p)(1pt*(sin(offsetPathLength*pi)**2)); % the arguments are the same as for the outline <br> endfig; <br></code> <br></div></div><br><br>  Setelah Anda memiliki garis ketebalan variabel yang berfungsi, Anda bisa menggambar bola.  Sebuah bola dapat digambarkan sebagai serangkaian lingkaran konsentris dengan ketebalan garis yang bervariasi sesuai dengan output dari fungsi yang menghitung cahaya titik tertentu pada bola. <br><br><img src="https://habrastorage.org/webt/ay/3u/ra/ay3uraynyq4zgxem7aqgfprswz0.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(6); <br> draw sphere.c(1.2cm); <br> draw sphere.c(2.4cm) shifted (2cm, 0); <br> endfig; <br></code> <br></div></div><br><br>  Blok konstruksi lain yang nyaman adalah "tabung."  Secara kasar itu adalah sebuah silinder yang dapat Anda bengkokkan.  Selama diameternya konstan, itu cukup mudah. <br><br><img src="https://habrastorage.org/webt/xh/-h/vp/xh-hvpqdu7ox-ksq36x8cub5dym.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(7); <br> path p; <br> p := subpath (1,8) of fullcircle scaled 3cm; <br> draw tube.l(p)(1/2cm); % arguments are the path itself and the tube radius <br> endfig; <br></code> <br></div></div><br><br>  Jika diameternya tidak konstan, hal-hal menjadi lebih rumit: jumlah goresan harus berubah sesuai dengan ketebalan tabung untuk menjaga jumlah tinta per unit area konstan sebelum memperhitungkan lampu. <br><br><img src="https://habrastorage.org/webt/5m/pp/qu/5mppqukv594bcuynso_nmc7qmjy.gif"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(8); <br> path p; <br> p := pathSubdivide(fullcircle, 2) scaled 3cm; % this thing splits every segment between the points of a path (here—fullcircle) into several parts (here—2) <br> draw tube.l(p)(1/2cm + 1/6cm*sin(offsetPathLength*10pi)); <br> endfig; <br></code> <br></div></div><br><br>  Ada juga tabung dengan penetasan melintang.  Masalah menjaga jumlah tinta konstan ternyata lebih rumit dalam kasus ini, sehingga seringkali tabung seperti itu terlihat sedikit shaggy. <br><br><img src="https://habrastorage.org/webt/1o/bn/es/1obnes-_u_rgin3h_obl3sruomk.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(9); <br> path p; <br> p := pathSubdivide(fullcircle, 2) scaled 3cm; <br> draw tube.t(p)(1/2cm + 1/6cm*sin(offsetPathLength*10pi)); <br> endfig; <br></code> <br></div></div><br><br>  Tabung dapat digunakan untuk membangun berbagai objek: dari kerucut dan silinder ke langkan. <br><br><img src="https://habrastorage.org/webt/45/yv/u3/45yvu3z7g6ers_ftbx8pcsj1shg.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(10); <br> draw tube.l ((0, 0) -- (0, 3cm))((1-offsetPathLength)*1cm) shifted (-3cm, 0); % a very simple cone <br> path p; <br> p := (-1/2cm, 0) {dir(175)} .. {dir(5)} (-1/2cm, 1/8cm) {dir(120)} .. (-2/5cm, 1/3cm) .. (-1/2cm, 3/4cm) {dir(90)} .. {dir(90)}(-1/4cm, 9/4cm){dir(175)} .. {dir(5)}(-1/4cm, 9/4cm + 1/5cm){dir(90)} .. (-2/5cm, 3cm); % baluster's envelope <br> p := pathSubdivide(p, 6); <br> draw p -- reverse(p xscaled -1) -- cycle; <br> tubeGenerateAlt(p, p xscaled -1, p rotated -90); % a more low-level stuff than tube.t, first two arguments are tube's sides and the third is the envelope. The envelope is basically a flattened out version of the outline, with line length along the x axis and the distance to line at the y. In the case of this baluster, it's simply its side rotated 90 degrees. <br> endfig; <br></code> <br></div></div><br><br>  Beberapa konstruksi yang dapat dibuat dari primitif ini termasuk dalam perpustakaan.  Sebagai contoh, bola bumi pada dasarnya adalah sebuah bola. <br><br><img src="https://habrastorage.org/webt/fz/ie/km/fziekmabaiygkxvyt95ekstjqlw.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(11); <br> draw globe(1cm, -15, 0) shifted (-6/2cm, 0); % radius, west longitude, north latitude, both decimal <br> draw globe(3/2cm, -30.280577, 59.939461); <br> draw globe(4/3cm, -140, -30) shifted (10/3cm, 0); <br> endfig; <br></code> <br></div></div><br><br>  Namun, penetasan di sini bersifat latitudinal dan mengendalikan kerapatan garis jauh lebih sulit daripada di bola biasa dengan penetasan “konsentris”, jadi ini adalah jenis bola yang berbeda. <br><br><img src="https://habrastorage.org/webt/qi/mw/jt/qimwjtr16zlbg_j_v0htivtwe-q.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(12); <br> draw sphere.l(2cm, -60); % diameter and latitude <br> draw sphere.l(3cm, 45) shifted (3cm, 0); <br> endfig; <br></code> <br></div></div><br><br>  Bobot adalah konstruksi sederhana yang terbuat dari tabung dari dua jenis. <br><br><img src="https://habrastorage.org/webt/rb/q-/dg/rbq-dgwygbxz4u9bglo1jgeqgkc.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(13); <br> draw weight.s(1cm); % weight height <br> draw weight.s(2cm) shifted (2cm, 0); <br> endfig; <br></code> <br></div></div><br><br>  Ada juga alat untuk mengikat tabung. <br><br><img src="https://habrastorage.org/webt/kv/xs/sn/kvxssnbhkpirxvjjg-8mb6f5__g.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh.</b>  <b class="spoiler_title">Demi singkatnya, hanya satu simpul.</b> <div class="spoiler_text"> <code>beginfig(14); <br> path p; <br> p := (dir(90)*4/3cm) {dir(0)} .. tension 3/2 ..(dir(90 + 120)*4/3cm){dir(90 + 30)} .. tension 3/2 ..(dir(90 - 120)*4/3cm){dir(-90 - 30)} .. tension 3/2 .. cycle; <br> p := p scaled 6/5; <br> addStrandToKnot (primeOne) (p, 1/4cm, "l", "1, -1, 1"); % first, we add a strand of width 1/4cm going along the path p to the knot named primeOne. its intersections along the path go to layers "1, -1, 1" and the type of tube is going to be "l". <br> draw knotFromStrands (primeOne); % then the knot is drawn. you can add more than one strand. <br> endfig; <br></code> <br></div></div><br><br>  Tabung di simpul menjatuhkan bayangan satu sama lain sebagaimana mestinya.  Secara teori, fitur ini dapat digunakan dalam konteks lain, tetapi karena saya tidak punya rencana untuk masuk jauh ke dimensi ketiga, antarmuka pengguna agak kurang dan bayangan bekerja dengan baik hanya untuk beberapa objek. <br><br><img src="https://habrastorage.org/webt/5n/st/h1/5nsth1dhrepzvtzzczn20-gbgdq.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(15); <br> path shadowPath[]; <br> boolean shadowsEnabled; <br> numeric numberOfShadows; <br> shadowsEnabled := true; % shadows need to be turned on <br> numberOfShadows := 1; % number of shadows should be specified <br> shadowPath0 := (-1cm, -2cm) -- (-1cm, 2cm) -- (-1cm +1/6cm, 2cm) -- (-1cm + 1/8cm, -2cm) -- cycle; % shadow-dropping object should be a closed path <br> shadowDepth0 := 4/3cm; % it's just this high above the object on which the shadow falls <br> shadowPath1 := shadowPath0 rotated -60; <br> shadowDepth1 := 4/3cm; <br> draw sphere.c(2.4cm); % shadows work ok only with sphere.c and tube.l with constant diameter <br> fill shadowPath0 withcolor white; <br> draw shadowPath0; <br> fill shadowPath1 withcolor white; <br> draw shadowPath1; <br> endfig; <br></code> <br></div></div><br><br>  Tentu saja, Anda akan memerlukan tekstur kayu (pembaruan: sejak versi Rusia artikel ini diterbitkan, kasus pertama perpustakaan ini digunakan dalam proyek nyata yang saya sadari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">telah terjadi</a> , dan itu adalah tekstur kayu yang datang berguna, jadi ini akhirnya tidak menjadi lelucon sama sekali).  Bagaimana ranting dan pertumbuhannya mempengaruhi pola cincin tahun adalah topik untuk beberapa penelitian serius.  Model kerja paling sederhana yang bisa saya buat adalah sebagai berikut: cincin tahun adalah permukaan datar paralel, terdistorsi oleh ranting yang tumbuh;  dengan demikian permukaannya dimodifikasi oleh serangkaian “fungsi ranting” yang tidak terlalu rumit di tempat yang berbeda dan isolasi permukaan diambil sebagai pola cincin tahun. <br><br><img src="https://habrastorage.org/webt/qr/st/oa/qrstoajkhoqywh-ejey6vj6uyqm.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(16); <br> numeric w, b; <br> pair A, B, C, D, A', B', C', D'; <br> w := 4cm; <br> b := 1/2cm; <br> A := (0, 0); <br> A' := (b, b); <br> B := (0, w); <br> B' := (b, wb); <br> C := (w, w); <br> C' := (wb, wb); <br> D := (w, 0); <br> D' := (wb, b); <br> draw woodenThing(A--A'--B'--B--cycle, 0); % a piece of wood inside the A--A'--B'--B--cycle path, with wood grain at 0 degrees <br> draw woodenThing(B--B'--C'--C--cycle, 90); <br> draw woodenThing(C--C'--D'--D--cycle, 0); <br> draw woodenThing(A--A'--D'--D--cycle, 90); <br> eyescale := 2/3cm; % scale for the eye <br> draw eye(150) shifted 1/2[A,C]; % the eye looks in 150 degree direction <br> endfig; <br></code> <br></div></div><br><br>  Mata dari gambar di atas terbuka lebar atau sedikit menyipit dan pupilnya juga berubah ukurannya.  Ini mungkin tidak masuk akal secara praktis, tetapi mata yang secara mekanis mirip terlihat membosankan. <br><br><img src="https://habrastorage.org/webt/xp/e_/wj/xpe_wjoohdkazhkjsnh25ezbidy.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>beginfig(17); <br> eyescale := 2/3cm; % 1/2cm by default <br> draw eye(0) shifted (0cm, 0); <br> draw eye(0) shifted (1cm, 0); <br> draw eye(0) shifted (2cm, 0); <br> draw eye(0) shifted (3cm, 0); <br> draw eye(0) shifted (4cm, 0); <br> endfig; <br></code> <br></div></div><br><br>  Sebagian besar ilustrasinya tidak terlalu rumit, tetapi pendekatan yang lebih ketat akan membutuhkan penyelesaian banyak masalah dalam buku teks untuk menggambarkannya dengan benar.  Katakanlah, masalah katrol L'Hôpital (tidak ada di buku teks itu, tapi bagaimanapun juga): di atas tali dengan panjang <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>l</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.693ex" height="2.057ex" viewBox="0 -780.1 298.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/454376/&amp;usg=ALkJrhgprbm7vWtrv2mVQ0-IfcEcaqAIMg#MJMATHI-6C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> l </script>  ditangguhkan pada saat itu <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>A</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.743ex" height="2.057ex" viewBox="0 -780.1 750.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/454376/&amp;usg=ALkJrhgprbm7vWtrv2mVQ0-IfcEcaqAIMg#MJMATHI-41" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>A</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> A </script>  katrol tergantung;  itu terhubung ke tali lain, tergantung pada titik <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/454376/&amp;usg=ALkJrhgprbm7vWtrv2mVQ0-IfcEcaqAIMg#MJMATHI-42" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> B </script>  dengan berat <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>C</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.766ex" height="2.057ex" viewBox="0 -780.1 760.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/454376/&amp;usg=ALkJrhgprbm7vWtrv2mVQ0-IfcEcaqAIMg#MJMATHI-43" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> C </script>  pada akhirnya.  Pertanyaannya adalah: kemana berat pergi jika katrol dan tali tidak menimbang apa pun?  Anehnya, solusi dan konstruksi untuk masalah ini tidak sesederhana itu.  Tetapi dengan bermain dengan beberapa variabel, Anda dapat membuat gambar terlihat tepat untuk halaman dengan tetap menjaga akurasi. <br><br><img src="https://habrastorage.org/webt/qy/fn/ej/qyfnejrodxcjjzcxnzjwhstyjbq.png"><br><br><div class="spoiler">  <b class="spoiler_title">Kode contoh</b> <div class="spoiler_text"> <code>vardef lHopitalPulley (expr AB, l, m) = % distance AB between the suspension points of the ropes and their lengths l and m. “Why no units of length?”, you may ask. It's because some calculations inside can cause arithmetic overflow in MetaPost. <br> save A, B, C, D, E, o, a, x, y, d, w, h, support; <br> image( <br> pair A, B, C, D, E, o[]; <br> path support; <br> numeric a, x[], y[], d[], w, h; <br> x1 := (l**2 + abs(l)*((sqrt(8)*AB)++l))/4AB; % the solution <br> y1 := l+-+x1; % second coordinate is trivial <br> y2 := m - ((AB-x1)++y1); % as well as the weight's position <br> A := (0, 0); <br> B := (AB*cm, 0); <br> D := (x1*cm, -y1*cm); <br> C := D shifted (0, -y2*cm); <br> d1 := 2/3cm; d2 := 1cm; d3 := 5/6d1; % diameters of the pulley, weight and the pulley wheel <br> w := 2/3cm; h := 1/3cm; % parameters of the wood block <br> o1 := (unitvector(CD) rotated 90 scaled 1/2d3); <br> o2 := (unitvector(DB) rotated 90 scaled 1/2d3); <br> E := whatever [D shifted o1, C shifted o1] <br> = whatever [D shifted o2, B shifted o2]; % pulley's center <br> a := angle(AD); <br> support := A shifted (-w, 0) -- B shifted (w, 0) -- B shifted (w, h) -- A shifted (-w, h) -- cycle; <br> draw woodenThing(support, 0); % wood block everything is suspended from <br> draw pulley (d1, a - 90) shifted E; % the pulley <br> draw image( <br> draw A -- D -- B withpen thickpen; <br> draw D -- C withpen thickpen; <br> ) maskedWith (pulleyOutline shifted E); % ropes should be covered with the pulley <br> draw sphere.c(d2) shifted C shifted (0, -1/2d2); % sphere as a weight <br> dotlabel.llft(btex $A$ etex, A); <br> dotlabel.lrt(btex $B$ etex, B); <br> dotlabel.ulft(btex $C$ etex, C); <br> label.llft(btex $l$ etex, 1/2[A, D]); <br> ) <br> enddef; <br> beginfig(18); <br> draw lHopitalPulley (6, 2, 11/2); % now you can choose the right parameters <br> draw lHopitalPulley (3, 5/2, 3) shifted (8cm, 0); <br> endfig; <br></code> <br></div></div><br><br>  Dan bagaimana dengan buku teks?  Sayangnya, ketika hampir semua ilustrasi dan tata letak sudah siap, sesuatu terjadi dan buku teks dibatalkan.  Mungkin karena itu, saya memutuskan untuk menulis ulang sebagian besar fungsi perpustakaan asli dari awal (saya memilih untuk tidak menggunakan salah satu kode asli, yang, meskipun secara tidak langsung, saya dibayar) dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">meletakkannya di GitHub</a> .  Beberapa hal, ada di perpustakaan asli, seperti fungsi untuk menggambar mobil dan traktor, saya tidak memasukkan di sana, beberapa fitur baru, misalnya simpul, ditambahkan. <br><br>  Itu tidak berjalan cepat: dibutuhkan sekitar satu menit untuk menghasilkan semua gambar untuk artikel ini dengan LuaLaTeX di laptop saya dengan i5-4200U 1,6 GHz.  Generator nomor pseudorandom digunakan di sana-sini, jadi tidak ada dua gambar yang sama yang benar-benar identik (itu fitur) dan setiap proses menghasilkan gambar yang sedikit berbeda.  Untuk menghindari kejutan, Anda cukup mengatur <code>randomseed := some number</code> dan menikmati hasil yang sama setiap kali berlari. <br><br>  Terima kasih banyak kepada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dr ord</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mikael Sundqvist</a> atas bantuan mereka dengan versi bahasa Inggris dari teks ini. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id454376/">https://habr.com/ru/post/id454376/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id454356/index.html">Habr Weekly # 3 / Runet vs TV, ARM vs Intel, penyatuan data negara, tanpa smartphone pada 2019, impian Soviet tentang masa depan</a></li>
<li><a href="../id454366/index.html">Victory at PHDays 9. Kami berbagi hacks kehidupan dalam tiga bagian. Bagian 2</a></li>
<li><a href="../id454368/index.html">Kompetisi Pengembang Plugin TeamCity</a></li>
<li><a href="../id454372/index.html">Berita mingguan: Huawei masih memiliki masalah, "telepon kuantum" di Federasi Rusia, ARM memiliki prosesor baru</a></li>
<li><a href="../id454374/index.html">Printer 3D polimer foto dari proyektor video rumahan membuat objek tanpa lapisan</a></li>
<li><a href="../id454378/index.html">Astronot Rusia di bulan pada tahun 2030: Presentasi Rogozin</a></li>
<li><a href="../id454382/index.html">Ivan Uglyansky dan Vladimir Sitnikov di jug.msk.ru</a></li>
<li><a href="../id454384/index.html">Koreksi penglihatan laser - apakah metode Smile benar-benar efektif?</a></li>
<li><a href="../id454386/index.html">MessageBox untuk AvaloniaUI</a></li>
<li><a href="../id454388/index.html">ARA: algoritma untuk menemukan jumlah maksimum poin pada garis lurus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>