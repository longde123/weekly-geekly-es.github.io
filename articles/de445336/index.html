<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍆 🌲 ⚖️ FlexiRemap® vs RAID 🤛🏿 👇🏿 ⛔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RAID-Algorithmen wurden bereits 1987 der Öffentlichkeit vorgestellt. Bis heute sind sie die beliebteste Technologie zum Schutz und zur Beschleunigung ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>FlexiRemap® vs RAID</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/accelstor/blog/445336/"><p> RAID-Algorithmen wurden bereits 1987 der Öffentlichkeit vorgestellt.  Bis heute sind sie die beliebteste Technologie zum Schutz und zur Beschleunigung des Zugriffs auf Daten im Bereich der Informationsspeicherung.  Das Zeitalter der IT-Technologie, das einen 30-jährigen Meilenstein überschritten hat, ist jedoch nicht die Reife, sondern das Alter.  Der Grund ist Fortschritt, der unaufhaltsam neue Möglichkeiten mit sich bringt.  In Zeiten, in denen es außer der Festplatte praktisch keine anderen Laufwerke gab, ermöglichten RAID-Algorithmen die effizienteste Nutzung der verfügbaren Speicherressourcen.  Mit dem Aufkommen der SSD hat sich die Situation jedoch grundlegend geändert.  Jetzt ist RAID bei der Arbeit mit SSDs bereits eine "Schlinge" für ihre Leistung.  Um das volle Potenzial der Geschwindigkeitseigenschaften von SSD auszuschöpfen, ist daher einfach ein völlig anderer Ansatz für die Arbeit mit ihnen erforderlich. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/xz/ny/fl/xznyflcrmta9iytkfrt6azk6ttq.jpeg"></div><a name="habracut"></a><br><p>  Neben den offensichtlichen Unterschieden zwischen HDD und SSD in den Funktionsprinzipien weisen diese Medientypen ein weiteres wichtiges Merkmal auf: Jede Festplatte kann alle Daten mit Granularität in einem Block überschreiben (jetzt sind es meistens 4 KB).  Bei SSDs ist der Umschreibvorgang viel komplizierter: </p><br><ul><li>  Geänderte Daten werden an einen neuen Speicherort kopiert.  Gleichzeitig ist die Granularität derselbe Block, besteht jedoch aus mehreren Seiten und hat eine Größe von 256 KB - 4 MB.  Das heißt,  Wenn Sie die gleichen 4 KB ändern, müssen Sie alle benachbarten Seiten kopieren und einen einzigen Block bilden. </li><li>  Markieren Sie die "alten" Blöcke als unbenutzt und wischen Sie sie dann mit dem Müllsammler ab. </li></ul><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/wc/e4/6m/wce46mqg4-y_gaq_j91juzk0bg0.png"></div><br><p>  <i>Sequentielles Schreiben / Überschreiben auf SSD</i> </p><br><p>  Bei der sequentiellen Aufnahme / Synchronisation spielt diese Funktion der SSD keine große Rolle für ihre Leistung, weil  Die Blöcke befinden sich in der Nähe, und der Müllsammler erledigt seine Arbeit im Hintergrund.  Im wirklichen Leben und insbesondere im Enterprise-Segment für SSD wird jedoch am häufigsten der wahlfreie Zugriff auf Daten verwendet.  Und diese Daten werden an beliebige Stellen auf den Laufwerken geschrieben. </p><br><p>  Je mehr Daten auf die SSD geschrieben werden, desto schwieriger ist es für den Garbage Collector, zu arbeiten, da die Fragmentierung schnell zunimmt.  Infolgedessen kommt der Moment, in dem der Prozess der Reinigung des Laufwerks nicht mehr „Hintergrund“ ist: Die Leistung der SSD sinkt erheblich, weil  Ein wesentlicher Teil davon wird vom Garbage Collector übernommen. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/9m/by/hx/9mbyhx6cjjeorfmu1rsohmcyq28.png"></div><br><p>  <i>Reales Datenlayout auf SSD für den täglichen Gebrauch</i> </p><br><p>  Um die Auswirkungen des Garbage Collectors in Abhängigkeit vom Aufnahmemodus auf dem Laufwerk zu veranschaulichen, können einfache Tests durchgeführt werden: sequentielle und zufällige Aufzeichnung in 4K-Blöcken auf einem 100-GB-Laufwerk.  (Quelle - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mikron</a> ) </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/my/bk/u4/mybku4ccwioysxazxa27eacj1yq.png"></div><br><p>  <i>Sequentielle Schreibleistung</i> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ds/nc/p6/dsncp6gfnotass9g9g1ork7atcu.png"></div><br><p>  <i>Zufällige Schreibleistung</i> </p><br><p>  Wie Sie den Tests entnehmen können, kann der Leistungsabfall mehr als zweimal betragen.  Und das ist nur ein einziges Laufwerk.  Bei Verwendung von SSDs als Teil einer RAID-Gruppe steigt die Anzahl der Umschreibungsvorgänge dank der Arbeit mit Parität erheblich an. </p><br><p>  Dank dieser Merkmale der SSD gibt es für sie im Allgemeinen einen Parameter wie einen Schreibkoeffizienten (Schreibverstärkung).  Dies ist das Verhältnis der auf das Laufwerk geschriebenen Datenmenge zur tatsächlich vom Host gesendeten Datenmenge.  Und für das beliebteste RAID5 beträgt dieses Verhältnis ~ 3,5. </p><br><p>  Infolgedessen verwenden Systeme mit klassischem RAID im Grunde genommen SSDs nur ~ 10% ihrer tatsächlichen Geschwindigkeit und skalieren schlecht in der Leistung, wobei die Anzahl der Laufwerke über ein Dutzend steigt. </p><br><p>  Wir stellen außerdem fest, dass übermäßige Schreibvorgänge nicht nur die Leistung von SSDs verringern, sondern auch die weit von endlosen Ressourcen entfernt, wodurch die Lebensdauer des Laufwerks verkürzt wird. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die FlexiRemap®-Technologie</a> , die den Kern aller AccelStor-Produkte bildet, wurde als Alternative zu den klassischen RAID-Algorithmen für die Arbeit mit SSDs entwickelt.  Die Innovation der Technologie wurde sowohl durch verschiedene Patente und Auszeichnungen (einschließlich auf dem Flash Memory Summit 2016) als auch durch die Ergebnisse unabhängiger Tests (z. B. SPC1) festgestellt. </p><br><p>  Die Essenz von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FlexiRemap®</a> besteht darin, alle eingehenden Schreibanforderungen und hauptsächlich vom Typ Zufall in eine Reihe von Blöcken umzuwandeln, die der sequentiellen Aufzeichnung aus Sicht des Laufwerks so ähnlich wie möglich sind.  Infolgedessen erfolgt die Aufzeichnung auf der SSD im für sie bequemsten Modus, und die endgültige Leistung übertrifft jedes System mit einem klassischen RAID. </p><br><p>  Alle SSDs in AccelStor-Systemen sind in zwei symmetrische FlexiRemap®-Gruppen unterteilt.  Die Größe der Gruppe hängt vom Modell ab und beträgt 5-11 Laufwerke.  Für die Ausfallsicherheit innerhalb einer Gruppe wird Parität wie RAID5 verwendet.  Beide Gruppen werden zusammen verwendet, um einen gemeinsamen Speicherplatz zu bilden.  Daher ähnelt die resultierende Fehlertoleranz einem RAID50-Array, das aus zwei Gruppen besteht: Das System kann einem Ausfall von bis zu zwei SSDs standhalten, jedoch nicht mehr als einer in jeder FlexiRemap®-Gruppe. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/qx/xy/ij/qxxyijh0huqx3civilqtwanvzdk.png"></div><br><p>  Alle eingehenden Schreibanforderungen werden in 4K-Blöcke aufgeteilt, die im Round-Robin-Modus in beide FlexiRemap®-Gruppen geschrieben werden.  Darüber hinaus verfolgt das System ständig den Bedarf an aufgezeichneten Blöcken und versucht, solche Blöcke so nahe wie möglich beieinander aufzuzeichnen.  Es stellt sich als virtuelles Analogon des Zerreißens heraus, wenn es als Speicher ausgedrückt wird.  In diesem Fall wird die Arbeit des Müllsammlers erheblich erleichtert: Schließlich sind nicht verwendete Blöcke immer in der Nähe. </p><br><p>  Es ist zu beachten, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AccelStor-Systeme</a> im Gegensatz zu Produkten von Wettbewerbern nicht die Caching-Funktionalität eingehender Anforderungen im Controller-RAM verwenden.  Alle eingehenden Datenblöcke werden sofort auf die SSD geschrieben.  Der Host erhält die Bestätigung der erfolgreichen Aufzeichnung erst nach der physischen Platzierung der Daten auf den Laufwerken.  Nur Tabellen der Blockzuordnung auf der SSD werden im RAM gespeichert, um den Zugriff zu beschleunigen und zu bestimmen, wo der nächste Datenblock geschrieben werden soll.  Aus Gründen der Zuverlässigkeit befinden sich Kopien dieser Tabellen natürlich auch auf den Medien.  Infolgedessen benötigen AccelStor-Systeme keinen Cache-Schutz in Form einer Batterie / eines Kondensators (es besteht jedoch die Möglichkeit, eine Verbindung mit der USV herzustellen, um bei Stromproblemen „sanft“ herunterzufahren). </p><br><p>  Dank dieses Ansatzes zum Organisieren von Aufzeichnungen kann der Garbage Collector wirklich im Hintergrund arbeiten, ohne die Geschwindigkeit der Laufwerke wesentlich zu beeinträchtigen, wodurch letztendlich bis zu 90% der SSD-Leistung im System genutzt werden können.  Genau das ist IOPS in AccelStor-Systemen gegen All Flash, basierend auf RAID-Algorithmen. </p><br><p>  Ein weiteres wichtiges Merkmal der FlexiRemap®-Technologie ist die erhebliche Reduzierung redundanter Schreibvorgänge auf SSDs.  Der Schreibverstärkungskoeffizient für AccelStor-Systeme beträgt also nur 1,3, was in die gemeinsame Sprache übersetzt eine Verlängerung der Lebensdauer von Laufwerken um mehr als das 2,5-fache gegenüber RAID5 bedeutet! </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/qe/zm/kf/qezmkfb5nltjqdh1xsqrqgsnaxm.png"></div><br><p>  Dank der ständigen Überwachung der Richtlinien zum Platzieren von Daten auf der SSD durch das System nutzen sich alle Laufwerke auf die gleiche Weise ab.  Dieser Ansatz ermöglicht es uns, ihre Lebensdauer vorherzusagen und dem Administrator im Voraus zu signalisieren, dass die Aufzeichnungsressource erschöpft ist. </p><br><p>  Es ist klar, dass SSDs ausfallen können.  In diesem Fall beginnt das System sofort mit der Wiederherstellung eines der Hot-Spare-Laufwerke.  In diesem Fall wechselt die FlexiRemap®-Gruppe, die sich in einem verschlechterten Zustand befindet, in den schreibgeschützten Modus, und alle Schreibanforderungen werden an die zweite Gruppe gesendet.  Ein solcher Schutzmechanismus ist vorgesehen, um den Wiederherstellungsvorgang zu beschleunigen und die Wahrscheinlichkeit eines Ausfalls eines anderen Laufwerks innerhalb derselben Gruppe zu verringern.  Es ist kein Geheimnis, dass während des Wiederherstellungsvorgangs alle Laufwerke in der Gruppe aufgrund der Störung von Lese-, Schreib- und Wiederherstellungsvorgängen auf dem Ersatzlaufwerk einer erhöhten Belastung ausgesetzt sind.  Dies erhöht die Wahrscheinlichkeit eines Ausfalls eines anderen Laufwerks.  Und je mehr Aufnahmevorgänge, desto länger dauert der Wiederaufbau. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/qi/nv/mo/qinvmor3hiqo8133beft0yirjfe.png"></div><br><p>  Nachdem der Wiederherstellungsprozess abgeschlossen ist und die FlexiRemap®-Gruppe in ihren normalen Zustand zurückkehrt, besteht zwischen den beiden Gruppen eine leichte Verzerrung in der Aufzeichnungsressource.  Um es auszurichten, fallen nachfolgende Aufzeichnungsvorgänge häufig auf die wiederhergestellte Gruppe (natürlich so, dass die endgültige Systemleistung nicht viel leidet). </p><br><blockquote>  Es ist unmöglich, die Leistung aller auf RAID-Algorithmen basierenden Flash-Systeme über einige Werte (~ 280 KB IOPS @ 4 KB Random Write) zu steigern, selbst wenn komplexe Caching-Systeme verwendet werden.  Dank eines völlig anderen Ansatzes zur Organisation des Speicherplatzes kann die FlexiRemap®-Technologie diese Barriere nicht nur leicht überwinden, sondern gleichzeitig auch die Lebensdauer von SSDs erhöhen.  Daher <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bieten AccelStor-</a> Systeme bei allen Flash-Arrays an vielen Fronten (IOPS / $, GB / $, TCO, ROI) erhebliche Vorteile und sind daher ideale Kandidaten für Schlüsselpositionen in Kundendatenzentren zur Lösung ressourcenintensiver Aufgaben. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445336/">https://habr.com/ru/post/de445336/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445322/index.html">Große Auswahl nützlicher Ressourcen für Produktmanager</a></li>
<li><a href="../de445326/index.html">Rücksichtslose Automatisierung. Director's Cut</a></li>
<li><a href="../de445328/index.html">Kinderrobotik neu denken</a></li>
<li><a href="../de445330/index.html">Kryptographie in Java. Signaturklasse</a></li>
<li><a href="../de445334/index.html">Wir haben DevOps. Lassen Sie uns alle Tester feuern</a></li>
<li><a href="../de445338/index.html">DHCP + MySQL-Server in Python</a></li>
<li><a href="../de445340/index.html">Erhöhen Sie die Netzwerksicherheit mithilfe eines Cloud-Analysators</a></li>
<li><a href="../de445344/index.html">OpenVox Unified Communications Platform</a></li>
<li><a href="../de445346/index.html">Wie schreibe ich eine schlechte API</a></li>
<li><a href="../de445348/index.html">SNA Hackathon 2019: Architektur vereinfachen - Funktionen vereinfachen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>