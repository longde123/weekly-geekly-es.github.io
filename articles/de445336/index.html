<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÜ üå≤ ‚öñÔ∏è FlexiRemap¬Æ vs RAID ü§õüèø üëáüèø ‚õîÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RAID-Algorithmen wurden bereits 1987 der √ñffentlichkeit vorgestellt. Bis heute sind sie die beliebteste Technologie zum Schutz und zur Beschleunigung ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>FlexiRemap¬Æ vs RAID</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/accelstor/blog/445336/"><p> RAID-Algorithmen wurden bereits 1987 der √ñffentlichkeit vorgestellt.  Bis heute sind sie die beliebteste Technologie zum Schutz und zur Beschleunigung des Zugriffs auf Daten im Bereich der Informationsspeicherung.  Das Zeitalter der IT-Technologie, das einen 30-j√§hrigen Meilenstein √ºberschritten hat, ist jedoch nicht die Reife, sondern das Alter.  Der Grund ist Fortschritt, der unaufhaltsam neue M√∂glichkeiten mit sich bringt.  In Zeiten, in denen es au√üer der Festplatte praktisch keine anderen Laufwerke gab, erm√∂glichten RAID-Algorithmen die effizienteste Nutzung der verf√ºgbaren Speicherressourcen.  Mit dem Aufkommen der SSD hat sich die Situation jedoch grundlegend ge√§ndert.  Jetzt ist RAID bei der Arbeit mit SSDs bereits eine "Schlinge" f√ºr ihre Leistung.  Um das volle Potenzial der Geschwindigkeitseigenschaften von SSD auszusch√∂pfen, ist daher einfach ein v√∂llig anderer Ansatz f√ºr die Arbeit mit ihnen erforderlich. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/xz/ny/fl/xznyflcrmta9iytkfrt6azk6ttq.jpeg"></div><a name="habracut"></a><br><p>  Neben den offensichtlichen Unterschieden zwischen HDD und SSD in den Funktionsprinzipien weisen diese Medientypen ein weiteres wichtiges Merkmal auf: Jede Festplatte kann alle Daten mit Granularit√§t in einem Block √ºberschreiben (jetzt sind es meistens 4 KB).  Bei SSDs ist der Umschreibvorgang viel komplizierter: </p><br><ul><li>  Ge√§nderte Daten werden an einen neuen Speicherort kopiert.  Gleichzeitig ist die Granularit√§t derselbe Block, besteht jedoch aus mehreren Seiten und hat eine Gr√∂√üe von 256 KB - 4 MB.  Das hei√üt,  Wenn Sie die gleichen 4 KB √§ndern, m√ºssen Sie alle benachbarten Seiten kopieren und einen einzigen Block bilden. </li><li>  Markieren Sie die "alten" Bl√∂cke als unbenutzt und wischen Sie sie dann mit dem M√ºllsammler ab. </li></ul><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/wc/e4/6m/wce46mqg4-y_gaq_j91juzk0bg0.png"></div><br><p>  <i>Sequentielles Schreiben / √úberschreiben auf SSD</i> </p><br><p>  Bei der sequentiellen Aufnahme / Synchronisation spielt diese Funktion der SSD keine gro√üe Rolle f√ºr ihre Leistung, weil  Die Bl√∂cke befinden sich in der N√§he, und der M√ºllsammler erledigt seine Arbeit im Hintergrund.  Im wirklichen Leben und insbesondere im Enterprise-Segment f√ºr SSD wird jedoch am h√§ufigsten der wahlfreie Zugriff auf Daten verwendet.  Und diese Daten werden an beliebige Stellen auf den Laufwerken geschrieben. </p><br><p>  Je mehr Daten auf die SSD geschrieben werden, desto schwieriger ist es f√ºr den Garbage Collector, zu arbeiten, da die Fragmentierung schnell zunimmt.  Infolgedessen kommt der Moment, in dem der Prozess der Reinigung des Laufwerks nicht mehr ‚ÄûHintergrund‚Äú ist: Die Leistung der SSD sinkt erheblich, weil  Ein wesentlicher Teil davon wird vom Garbage Collector √ºbernommen. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/9m/by/hx/9mbyhx6cjjeorfmu1rsohmcyq28.png"></div><br><p>  <i>Reales Datenlayout auf SSD f√ºr den t√§glichen Gebrauch</i> </p><br><p>  Um die Auswirkungen des Garbage Collectors in Abh√§ngigkeit vom Aufnahmemodus auf dem Laufwerk zu veranschaulichen, k√∂nnen einfache Tests durchgef√ºhrt werden: sequentielle und zuf√§llige Aufzeichnung in 4K-Bl√∂cken auf einem 100-GB-Laufwerk.  (Quelle - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mikron</a> ) </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/my/bk/u4/mybku4ccwioysxazxa27eacj1yq.png"></div><br><p>  <i>Sequentielle Schreibleistung</i> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ds/nc/p6/dsncp6gfnotass9g9g1ork7atcu.png"></div><br><p>  <i>Zuf√§llige Schreibleistung</i> </p><br><p>  Wie Sie den Tests entnehmen k√∂nnen, kann der Leistungsabfall mehr als zweimal betragen.  Und das ist nur ein einziges Laufwerk.  Bei Verwendung von SSDs als Teil einer RAID-Gruppe steigt die Anzahl der Umschreibungsvorg√§nge dank der Arbeit mit Parit√§t erheblich an. </p><br><p>  Dank dieser Merkmale der SSD gibt es f√ºr sie im Allgemeinen einen Parameter wie einen Schreibkoeffizienten (Schreibverst√§rkung).  Dies ist das Verh√§ltnis der auf das Laufwerk geschriebenen Datenmenge zur tats√§chlich vom Host gesendeten Datenmenge.  Und f√ºr das beliebteste RAID5 betr√§gt dieses Verh√§ltnis ~ 3,5. </p><br><p>  Infolgedessen verwenden Systeme mit klassischem RAID im Grunde genommen SSDs nur ~ 10% ihrer tats√§chlichen Geschwindigkeit und skalieren schlecht in der Leistung, wobei die Anzahl der Laufwerke √ºber ein Dutzend steigt. </p><br><p>  Wir stellen au√üerdem fest, dass √ºberm√§√üige Schreibvorg√§nge nicht nur die Leistung von SSDs verringern, sondern auch die weit von endlosen Ressourcen entfernt, wodurch die Lebensdauer des Laufwerks verk√ºrzt wird. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die FlexiRemap¬Æ-Technologie</a> , die den Kern aller AccelStor-Produkte bildet, wurde als Alternative zu den klassischen RAID-Algorithmen f√ºr die Arbeit mit SSDs entwickelt.  Die Innovation der Technologie wurde sowohl durch verschiedene Patente und Auszeichnungen (einschlie√ülich auf dem Flash Memory Summit 2016) als auch durch die Ergebnisse unabh√§ngiger Tests (z. B. SPC1) festgestellt. </p><br><p>  Die Essenz von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FlexiRemap¬Æ</a> besteht darin, alle eingehenden Schreibanforderungen und haupts√§chlich vom Typ Zufall in eine Reihe von Bl√∂cken umzuwandeln, die der sequentiellen Aufzeichnung aus Sicht des Laufwerks so √§hnlich wie m√∂glich sind.  Infolgedessen erfolgt die Aufzeichnung auf der SSD im f√ºr sie bequemsten Modus, und die endg√ºltige Leistung √ºbertrifft jedes System mit einem klassischen RAID. </p><br><p>  Alle SSDs in AccelStor-Systemen sind in zwei symmetrische FlexiRemap¬Æ-Gruppen unterteilt.  Die Gr√∂√üe der Gruppe h√§ngt vom Modell ab und betr√§gt 5-11 Laufwerke.  F√ºr die Ausfallsicherheit innerhalb einer Gruppe wird Parit√§t wie RAID5 verwendet.  Beide Gruppen werden zusammen verwendet, um einen gemeinsamen Speicherplatz zu bilden.  Daher √§hnelt die resultierende Fehlertoleranz einem RAID50-Array, das aus zwei Gruppen besteht: Das System kann einem Ausfall von bis zu zwei SSDs standhalten, jedoch nicht mehr als einer in jeder FlexiRemap¬Æ-Gruppe. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/qx/xy/ij/qxxyijh0huqx3civilqtwanvzdk.png"></div><br><p>  Alle eingehenden Schreibanforderungen werden in 4K-Bl√∂cke aufgeteilt, die im Round-Robin-Modus in beide FlexiRemap¬Æ-Gruppen geschrieben werden.  Dar√ºber hinaus verfolgt das System st√§ndig den Bedarf an aufgezeichneten Bl√∂cken und versucht, solche Bl√∂cke so nahe wie m√∂glich beieinander aufzuzeichnen.  Es stellt sich als virtuelles Analogon des Zerrei√üens heraus, wenn es als Speicher ausgedr√ºckt wird.  In diesem Fall wird die Arbeit des M√ºllsammlers erheblich erleichtert: Schlie√ülich sind nicht verwendete Bl√∂cke immer in der N√§he. </p><br><p>  Es ist zu beachten, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AccelStor-Systeme</a> im Gegensatz zu Produkten von Wettbewerbern nicht die Caching-Funktionalit√§t eingehender Anforderungen im Controller-RAM verwenden.  Alle eingehenden Datenbl√∂cke werden sofort auf die SSD geschrieben.  Der Host erh√§lt die Best√§tigung der erfolgreichen Aufzeichnung erst nach der physischen Platzierung der Daten auf den Laufwerken.  Nur Tabellen der Blockzuordnung auf der SSD werden im RAM gespeichert, um den Zugriff zu beschleunigen und zu bestimmen, wo der n√§chste Datenblock geschrieben werden soll.  Aus Gr√ºnden der Zuverl√§ssigkeit befinden sich Kopien dieser Tabellen nat√ºrlich auch auf den Medien.  Infolgedessen ben√∂tigen AccelStor-Systeme keinen Cache-Schutz in Form einer Batterie / eines Kondensators (es besteht jedoch die M√∂glichkeit, eine Verbindung mit der USV herzustellen, um bei Stromproblemen ‚Äûsanft‚Äú herunterzufahren). </p><br><p>  Dank dieses Ansatzes zum Organisieren von Aufzeichnungen kann der Garbage Collector wirklich im Hintergrund arbeiten, ohne die Geschwindigkeit der Laufwerke wesentlich zu beeintr√§chtigen, wodurch letztendlich bis zu 90% der SSD-Leistung im System genutzt werden k√∂nnen.  Genau das ist IOPS in AccelStor-Systemen gegen All Flash, basierend auf RAID-Algorithmen. </p><br><p>  Ein weiteres wichtiges Merkmal der FlexiRemap¬Æ-Technologie ist die erhebliche Reduzierung redundanter Schreibvorg√§nge auf SSDs.  Der Schreibverst√§rkungskoeffizient f√ºr AccelStor-Systeme betr√§gt also nur 1,3, was in die gemeinsame Sprache √ºbersetzt eine Verl√§ngerung der Lebensdauer von Laufwerken um mehr als das 2,5-fache gegen√ºber RAID5 bedeutet! </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/qe/zm/kf/qezmkfb5nltjqdh1xsqrqgsnaxm.png"></div><br><p>  Dank der st√§ndigen √úberwachung der Richtlinien zum Platzieren von Daten auf der SSD durch das System nutzen sich alle Laufwerke auf die gleiche Weise ab.  Dieser Ansatz erm√∂glicht es uns, ihre Lebensdauer vorherzusagen und dem Administrator im Voraus zu signalisieren, dass die Aufzeichnungsressource ersch√∂pft ist. </p><br><p>  Es ist klar, dass SSDs ausfallen k√∂nnen.  In diesem Fall beginnt das System sofort mit der Wiederherstellung eines der Hot-Spare-Laufwerke.  In diesem Fall wechselt die FlexiRemap¬Æ-Gruppe, die sich in einem verschlechterten Zustand befindet, in den schreibgesch√ºtzten Modus, und alle Schreibanforderungen werden an die zweite Gruppe gesendet.  Ein solcher Schutzmechanismus ist vorgesehen, um den Wiederherstellungsvorgang zu beschleunigen und die Wahrscheinlichkeit eines Ausfalls eines anderen Laufwerks innerhalb derselben Gruppe zu verringern.  Es ist kein Geheimnis, dass w√§hrend des Wiederherstellungsvorgangs alle Laufwerke in der Gruppe aufgrund der St√∂rung von Lese-, Schreib- und Wiederherstellungsvorg√§ngen auf dem Ersatzlaufwerk einer erh√∂hten Belastung ausgesetzt sind.  Dies erh√∂ht die Wahrscheinlichkeit eines Ausfalls eines anderen Laufwerks.  Und je mehr Aufnahmevorg√§nge, desto l√§nger dauert der Wiederaufbau. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/qi/nv/mo/qinvmor3hiqo8133beft0yirjfe.png"></div><br><p>  Nachdem der Wiederherstellungsprozess abgeschlossen ist und die FlexiRemap¬Æ-Gruppe in ihren normalen Zustand zur√ºckkehrt, besteht zwischen den beiden Gruppen eine leichte Verzerrung in der Aufzeichnungsressource.  Um es auszurichten, fallen nachfolgende Aufzeichnungsvorg√§nge h√§ufig auf die wiederhergestellte Gruppe (nat√ºrlich so, dass die endg√ºltige Systemleistung nicht viel leidet). </p><br><blockquote>  Es ist unm√∂glich, die Leistung aller auf RAID-Algorithmen basierenden Flash-Systeme √ºber einige Werte (~ 280 KB IOPS @ 4 KB Random Write) zu steigern, selbst wenn komplexe Caching-Systeme verwendet werden.  Dank eines v√∂llig anderen Ansatzes zur Organisation des Speicherplatzes kann die FlexiRemap¬Æ-Technologie diese Barriere nicht nur leicht √ºberwinden, sondern gleichzeitig auch die Lebensdauer von SSDs erh√∂hen.  Daher <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bieten AccelStor-</a> Systeme bei allen Flash-Arrays an vielen Fronten (IOPS / $, GB / $, TCO, ROI) erhebliche Vorteile und sind daher ideale Kandidaten f√ºr Schl√ºsselpositionen in Kundendatenzentren zur L√∂sung ressourcenintensiver Aufgaben. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445336/">https://habr.com/ru/post/de445336/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445322/index.html">Gro√üe Auswahl n√ºtzlicher Ressourcen f√ºr Produktmanager</a></li>
<li><a href="../de445326/index.html">R√ºcksichtslose Automatisierung. Director's Cut</a></li>
<li><a href="../de445328/index.html">Kinderrobotik neu denken</a></li>
<li><a href="../de445330/index.html">Kryptographie in Java. Signaturklasse</a></li>
<li><a href="../de445334/index.html">Wir haben DevOps. Lassen Sie uns alle Tester feuern</a></li>
<li><a href="../de445338/index.html">DHCP + MySQL-Server in Python</a></li>
<li><a href="../de445340/index.html">Erh√∂hen Sie die Netzwerksicherheit mithilfe eines Cloud-Analysators</a></li>
<li><a href="../de445344/index.html">OpenVox Unified Communications Platform</a></li>
<li><a href="../de445346/index.html">Wie schreibe ich eine schlechte API</a></li>
<li><a href="../de445348/index.html">SNA Hackathon 2019: Architektur vereinfachen - Funktionen vereinfachen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>