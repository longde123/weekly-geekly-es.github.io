<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖖🏾 👆🏼 🗻 16 tips pengembangan untuk android di Kotlin. Bagian 3 ⚔️ ⌨️ 😡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo lagi! Untuk mengantisipasi dimulainya kursus dasar tentang pengembangan Android , kami membagikan bagian akhir dari artikel “16 tips pengembangan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>16 tips pengembangan untuk android di Kotlin. Bagian 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/481010/">  <i>Halo lagi!</i>  <i>Untuk mengantisipasi dimulainya <a href="https://otus.pw/kbuv/">kursus dasar tentang pengembangan Android</a> , kami membagikan bagian akhir dari artikel “16 tips pengembangan untuk android dalam bahasa Kotlin”.</i> <br><br><img src="https://habrastorage.org/webt/qn/xg/k9/qnxgk9qbhiou8yuqyxw3if0usme.png"><br><hr><br>  <a href="https://habr.com/ru/company/otus/blog/479406/">Baca bagian pertama</a> <br>  <a href="https://habr.com/ru/company/otus/blog/480534/">Baca bagian kedua</a> <br><br><h3>  LATEINIT </h3><br>  Salah satu fitur utama Kotlin adalah komitmennya terhadap keamanan nol.  Pernyataan lateinit menyediakan cara mudah untuk memastikan nol keamanan dan menginisialisasi variabel sesuai kebutuhan Android.  Fitur ini hebat, namun, Anda harus terbiasa dengannya setelah bekerja di Jawa.  Satu gagasan adalah bahwa bidang tersebut segera dideklarasikan dengan kemampuan menjadi nol: <br><br><pre><code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> total = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> toolbar: Toolbar? = <span class="hljs-literal"><span class="hljs-literal">null</span></span></code> </pre> <br><a name="habracut"></a><br>  Fungsi bahasa ini dapat menyebabkan kesulitan saat bekerja dengan tata letak Android, karena kami tidak tahu cara mendeklarasikan tampilan sebelum tata letak dinyatakan, karena tidak jelas di mana mereka akan ada di <code>Activity</code> atau <code>Fragment</code> .  Ini dikompensasi oleh tes tambahan untuk kemungkinan nilai nol di setiap tempat kami berinteraksi, tetapi yang ini masih wasir.  Oleh karena itu, lebih baik menggunakan pengubah <code>lateinit</code> : <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> toolbar: Toolbar</code> </pre> <br>  Sekarang, sebagai pengembang, Anda tidak boleh merujuk ke Bilah Alat sampai benar-benar diinisialisasi.  Ini berfungsi baik ketika digunakan bersama-sama dengan perpustakaan seperti <a href="https://github.com/JakeWharton/butterknife">Butter Knife</a> : <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@BindView(R.id.toolbar)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> toolbar: Toolbar <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) setContentView(R.layout.activity_main) ButterKnife.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-comment"><span class="hljs-comment">//       toolbar toolbar.setTitle("Hello There") }</span></span></code> </pre> <br><h3>  Jenis Keamanan </h3><br>  Beberapa konvensi Android memerlukan pengetikan yang aman karena pengetikan yang teratur tidak mencegah kesalahan kode.  Sebagai contoh, cara khas untuk membuat fragmen dalam tindakan melibatkan memeriksa melalui FragmentManager untuk memastikan bahwa itu sudah ada.  Dan hanya jika tidak, Anda membuatnya dan menambahkannya ke tindakan.  Saat Anda pertama kali mengetik di Kotlin, Anda bisa menerapkan ini sebagai berikut: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> feedFragment: FeedFragment? = supportFragmentManager .findFragmentByTag(TAG_FEED_FRAGMENT) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> FeedFragment      .  <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>     ,     .   : <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> feedFragment: FeedFragment? = supportFragmentManager .findFragmentByTag(TAG_FEED_FRAGMENT) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>? FeedFragment <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (feedFragment == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { feedFragment = FeedFragment.newInstance() supportFragmentManager.beginTransaction() .replace(R.id.root_fragment, feedFragment, TAG_FEED_FRAGMENT) .commit() }</code> </pre> <br><h3>  LEVERAGING LET </h3><br>  Leveraging let memungkinkan Anda untuk mengeksekusi blok jika nilai objek tidak nol.  Ini memungkinkan Anda untuk menghindari cek nol dan membuat kode lebih mudah dibaca.  Di Jawa, tampilannya seperti ini: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentUser != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { text.setText(currentUser.name) }   Kotlin   : user?.let { println(it.name) }</code> </pre> <br>  Kode ini jauh lebih mudah dibaca, ditambah lagi secara otomatis membuat variabel dengan nilai non-nol tanpa risiko nol itu. <br><br><h3>  SNULLOREMPTY |  ISNULLORBLANK </h3><br>  Kami harus memeriksa bidang berkali-kali selama pengembangan aplikasi Android.  Jika Anda mengelola ini tanpa menggunakan Kotlin, Anda mungkin tahu tentang kelas TextUtils di Android.  Kelas TextUtils adalah sebagai berikut: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TextUtils.isEmpty(name)) { <span class="hljs-comment"><span class="hljs-comment">//    }</span></span></code> </pre> <br>  Dalam contoh ini, Anda akan melihat bahwa pengguna dapat menetapkan bahkan spasi saja sebagai nama pengguna, dan ia akan lulus ujian.  <code>isNullOrEmpty</code> dan <code>isNullOrBlank</code> dibangun ke dalam bahasa Kotlin, menghilangkan kebutuhan untuk <code>TextUtils.isEmpty</code> ( <code>someString</code> ) dan memberikan manfaat tambahan dengan memeriksa hanya ruang.  Jika perlu, Anda dapat menggunakan sesuatu seperti ini: <br><br><pre> <code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">//       ... if (number.isNullOrEmpty()) { //     } //  ... if (name.isNullOrBlank()) { //     }</span></span></code> </pre> <br>  Memeriksa kebenaran mengisi kolom sering ditemukan ketika pendaftaran diperlukan dalam aplikasi.  Metode bawaan ini bagus untuk memeriksa bidang dan memperingatkan pengguna jika ada sesuatu yang salah.  Untuk pemeriksaan yang lebih kompleks, Anda dapat menggunakan metode ekstensi, misalnya, untuk alamat email: <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> TextInputLayout.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isValidForEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> input = editText?.text.toString() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (input.isNullOrBlank()) { error = resources.getString(R.string.required) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (emailPattern.matcher(input).matches()) { error = resources.getString(R.string.invalid_email) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { error = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre> <br><h3>  Kiat untuk Mahir </h3><br>  Tahukah Anda bahwa Anda dapat menggunakan ekspresi lambda untuk membuat kode yang lebih bersih dan lebih ringkas? <br><br>  Misalnya, ketika bekerja di Jawa, biasanya memiliki kelas pendengar yang sederhana, seperti: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnClickListener</span></span></span><span class="hljs-class"> </span></span>{ void onClick(View v); }</code> </pre> <br>  Fitur khas Kotlin adalah ia melakukan konversi SAM (Metode Abstrak Tunggal) untuk kelas Java.  Pendengar klik di Jawa yang terlihat seperti: <br><br><pre> <code class="kotlin hljs">textView.setOnClickListener(new View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> void onClick(View view) { <span class="hljs-comment"><span class="hljs-comment">// -  } });  Kotlin     : textView.setOnClickListener { view -&gt; // -  }</span></span></code> </pre> <br>  Anehnya, konversi semacam itu tidak dimungkinkan untuk antarmuka SAM yang dibuat di Kotlin.  Ini mungkin mengejutkan dan bahkan sedikit mengecewakan pengguna Kotlin baru.  Jika antarmuka yang sama didefinisikan di Kotlin, pendengar akan terlihat seperti ini: <br><br><pre> <code class="kotlin hljs">view.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : OnClickListener { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">View</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// -  } })</span></span></code> </pre> <br>  Untuk mempersingkat kode tersebut, Anda dapat menulis pendengar Anda ke kelas sebagai berikut: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onClickListener: ((View) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>)? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setOnClickListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(listener: (</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">view</span></span></span></span><span class="hljs-function"><span class="hljs-params">: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">View</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>) { onClickListener = listener } <span class="hljs-comment"><span class="hljs-comment">//     onClickListener?.invoke(this)</span></span></code> </pre> <br>  Ini akan mengembalikan Anda ke sintaks lambda sederhana yang memungkinkan konversi SAM otomatis. <br><br><h3>  Kesimpulan </h3><br>  Saya mengumpulkan hacks kehidupan paling berguna dari semua yang saya pelajari sejak saya menjadi tertarik pada bahasa Kotlin.  Saya harap pengetahuan tentang tips ini akan sangat membantu Anda dalam mengembangkan proyek Anda sendiri. <br><br>  Itu saja.  Sampai jumpa di <a href="https://otus.pw/kbuv/">lapangan</a> ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id481010/">https://habr.com/ru/post/id481010/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id480992/index.html">Tentang profesi manajer produk: bagaimana mencapai yang ideal? (bagian 2)</a></li>
<li><a href="../id480996/index.html">Catatan Pentester: kasus perburuan - 2</a></li>
<li><a href="../id480998/index.html">MERCH! MERCH! MERCH! dan ... unicorn</a></li>
<li><a href="../id481000/index.html">Komputasi tanpa server berdasarkan OpenWhisk, bagian 4</a></li>
<li><a href="../id481004/index.html">Java Digest untuk tanggal 18 Desember</a></li>
<li><a href="../id481012/index.html">Apa yang saya pelajari dalam 10 tahun tentang Stack Overflow</a></li>
<li><a href="../id481014/index.html">Saya / KAMI bukan hosting Ayhor. Atau bagaimana meludah di hadapan industri</a></li>
<li><a href="../id481016/index.html">Eksperimen VonmoTrade. Bagian 1: Pertukaran dan teknologi modern</a></li>
<li><a href="../id481018/index.html">Dan lagi tentang melindungi infrastruktur virtual</a></li>
<li><a href="../id481020/index.html">Menulis simulator pengetikan sentuh menggunakan JavaScript murni: Bagian 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>