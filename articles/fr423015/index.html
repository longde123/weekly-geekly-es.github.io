<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🔧 😹 💅🏿 Git: erreurs courantes et comment les corriger 💅🏻 ㊗️ 💫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Si vous avez déjà travaillé sur un grand projet, dans lequel, en plus de vous, de nombreux autres programmeurs sont impliqués, vous avez évidemment ut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Git: erreurs courantes et comment les corriger</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423015/">  Si vous avez déjà travaillé sur un grand projet, dans lequel, en plus de vous, de nombreux autres programmeurs sont impliqués, vous avez évidemment utilisé Git comme système de contrôle de version.  Au cours de l'utilisation de quelque chose, selon le niveau de complexité d'un Git similaire, tout le monde fait des erreurs. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zx/vp/kq/zxvpkq7etunh6neceaelkwxehoe.jpeg"></div><br>  L'auteur du matériel, dont nous publions la traduction aujourd'hui, va discuter des erreurs courantes que les programmeurs font en travaillant avec Git, et parler de la façon de traiter ces erreurs. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Erreur dans le dernier message de validation</font> </h2><br>  Après plusieurs heures de bon travail, il est facile de se tromper dans le message de validation.  Heureusement, cela peut être facilement résolu avec la commande suivante: <br><br><pre><code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> <span class="hljs-comment"><span class="hljs-comment">--amend</span></span></code> </pre> <br>  Cette commande ouvrira l'éditeur et vous permettra d'apporter des modifications au dernier message du commit.  Personne sauf vous ne devrait savoir que vous avez écrit «Commment initial» avec trois «m». <br><br><h2>  <font color="#3AC1EF">Erreur dans le nom de la branche</font> </h2><br>  Supposons que l'horloge est presque 15h00 et que vous n'avez pas encore déjeuné.  En conséquence, tourmenté par la faim, vous avez nommé un nouveau <code>feature-brunch</code> branche.  Miam, tu ne peux rien dire. <br><br>  Ce problème peut également être résolu.  Renommer une branche peut être ainsi que des fichiers de changement de nom avec la commande <code>mv</code> .  Il s'agit de la déplacer vers un nouvel endroit avec le nom correct: <br><br><pre> <code class="hljs powershell">git branch <span class="hljs-literal"><span class="hljs-literal">-m</span></span> feature<span class="hljs-literal"><span class="hljs-literal">-brunch</span></span> feature<span class="hljs-literal"><span class="hljs-literal">-branch</span></span></code> </pre> <br>  Si vous avez déjà envoyé ce fil au référentiel, vous devez faire quelques autres choses pour le renommer.  Vous devez supprimer l'ancienne branche et envoyer la nouvelle au référentiel: <br><br><pre> <code class="hljs perl">git <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> origin --<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> feature-brunch git <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> origin feature-branch</code> </pre> <br><h2>  <font color="#3AC1EF">Modifications de validation aléatoires dans la branche principale</font> </h2><br>  Supposons que vous travaillez sur une nouvelle fonctionnalité et que vous ayez hâte de créer une nouvelle branche pour celle-ci.  Vous avez déjà validé un tas de fichiers et tout cela se trouve dans la branche <code>master</code> .  Vous pouvez déplacer toutes ces modifications vers une nouvelle branche à l'aide des trois commandes suivantes.  Veuillez noter que si vous n'avez pas utilisé, telles qu'appliquées aux modifications, les commandes <code>commit</code> ou <code>stash</code> , elles seront perdues. <br><br><pre> <code class="hljs sql">git branch feature-branch git <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span> <span class="hljs-keyword"><span class="hljs-keyword">HEAD</span></span>~ <span class="hljs-comment"><span class="hljs-comment">--hard git checkout feature-branch</span></span></code> </pre> <br>  Par conséquent, une nouvelle branche sera créée, les modifications seront restaurées dans la branche principale à l'état dans lequel elles se trouvaient avant les modifications, et une transition vers la nouvelle branche sera effectuée, qui contiendra toutes les modifications apportées précédemment au <code>master</code> . <br><br><h2>  <font color="#3AC1EF">Travaillez avec des fichiers que vous avez oublié d'ajouter au dernier commit</font> </h2><br>  Une autre erreur courante lorsque vous travaillez avec Git est que les validations sont effectuées trop tôt et que les fichiers nécessaires n'y pénètrent pas.  Supposons que vous ayez manqué un fichier, oublié de l'enregistrer ou que vous deviez apporter une petite modification au fichier pour que le dernier commit soit logique.  Dans cette situation, la commande <code>--amend</code> sera à nouveau utile.  Ajoutez le fichier manquant à l'index du référentiel et exécutez cette commande: <br><br><pre> <code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> missed-file.txt git <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> <span class="hljs-comment"><span class="hljs-comment">--amend</span></span></code> </pre> <br>  Après cela, vous pouvez modifier le message de validation ou le laisser tel quel. <br><br><h2>  <font color="#3AC1EF">Ajout du mauvais fichier au référentiel</font> </h2><br>  Et si votre erreur est exactement l'opposé de la précédente?  Que faire si vous avez ajouté un fichier à l'index que vous n'allez pas valider?  Il peut s'agir d'un fichier ENV, d'un répertoire de construction de projet, d'une photo de votre chien que vous avez accidentellement enregistrée dans le mauvais dossier.  Tout cela peut être corrigé. <br><br>  Si vos actions se limitent à l'indexation du fichier, mais que vous ne l'avez pas encore validé, il sera très facile de résoudre le problème en utilisant la commande <code>reset</code> : <br><br><pre> <code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span> /assets/img/misty-<span class="hljs-keyword"><span class="hljs-keyword">and</span></span>-pepper.jpg</code> </pre> <br>  Si vous avez suffisamment avancé et réussi à valider le changement, sachez que cela peut être résolu.  Il vous suffit d'utiliser quelques commandes supplémentaires: <br><br><pre> <code class="hljs powershell">git reset -<span class="hljs-literal"><span class="hljs-literal">-soft</span></span> HEAD~<span class="hljs-number"><span class="hljs-number">1</span></span> git reset /assets/img/misty<span class="hljs-operator"><span class="hljs-operator">-and</span></span><span class="hljs-literal"><span class="hljs-literal">-pepper</span></span>.jpg rm /assets/img/misty<span class="hljs-operator"><span class="hljs-operator">-and</span></span><span class="hljs-literal"><span class="hljs-literal">-pepper</span></span>.jpg git commit</code> </pre> <br>  En conséquence, le dernier commit sera annulé, l'image sera supprimée, après quoi le nouveau commit sera placé là où il devrait être. <br><br><h2>  <font color="#3AC1EF">Et si tout allait mal?</font> </h2><br>  La technique dont nous allons discuter maintenant aide dans les situations où tout va mal.  Par exemple, cela se produit lorsque vous êtes trop désireux de copier des solutions prêtes à l'emploi avec StackOverflow et, après le travail, votre référentiel est dans un état pire qu'il ne l'était au tout début.  Peut-être que nous sommes tous tombés dans cette situation. <br><br>  La <code>git reflog</code> affiche une liste de tout ce que vous avez fait.  Ensuite, il vous permet d'utiliser les outils Git pour annuler les modifications, pour revenir à l'un des états précédents du référentiel.  Il convient de noter que cette méthode mérite d'être envisagée en dernier recours, et avant de l'utiliser, vous devez réfléchir attentivement.  Ainsi, vous pouvez répertorier ce qui a été fait avec la commande suivante: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">git</span></span> reflog</code> </pre> <br>  Git se souvient de toutes nos actions et à la suite de l'exécution de cette commande, vous pouvez voir quelque chose comme ceci: <br><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">3</span></span>ff8691 (HEAD -&gt; feature-branch) HEAD@{<span class="hljs-number"><span class="hljs-number">0</span></span>}: Branch: renamed refs/heads/feature-brunch <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> refs/heads/feature-branch <span class="hljs-number"><span class="hljs-number">3</span></span>ff8691 (HEAD -&gt; feature-branch) HEAD@{<span class="hljs-number"><span class="hljs-number">2</span></span>}: checkout: moving <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> master <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> feature-brunch <span class="hljs-number"><span class="hljs-number">2</span></span>b7e508 (master) HEAD@{<span class="hljs-number"><span class="hljs-number">3</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: moving <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HEAD~ <span class="hljs-number"><span class="hljs-number">3</span></span>ff8691 (HEAD -&gt; feature-branch) HEAD@{<span class="hljs-number"><span class="hljs-number">4</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>: Adds the client logo <span class="hljs-number"><span class="hljs-number">2</span></span>b7e508 (master) HEAD@{<span class="hljs-number"><span class="hljs-number">5</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: moving <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HEAD~<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">37</span></span>a632d HEAD@{<span class="hljs-number"><span class="hljs-number">6</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>: Adds the client logo <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the project <span class="hljs-number"><span class="hljs-number">2</span></span>b7e508 (master) HEAD@{<span class="hljs-number"><span class="hljs-number">7</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: moving <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HEAD <span class="hljs-number"><span class="hljs-number">2</span></span>b7e508 (master) HEAD@{<span class="hljs-number"><span class="hljs-number">8</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> (amend): Added contributing <span class="hljs-keyword"><span class="hljs-keyword">info</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the site dfa27a2 HEAD@{<span class="hljs-number"><span class="hljs-number">9</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: moving <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HEAD dfa27a2 HEAD@{<span class="hljs-number"><span class="hljs-number">10</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> (amend): Added contributing <span class="hljs-keyword"><span class="hljs-keyword">info</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the site <span class="hljs-number"><span class="hljs-number">700</span></span>d0b5 HEAD@{<span class="hljs-number"><span class="hljs-number">11</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>: Addded contributing <span class="hljs-keyword"><span class="hljs-keyword">info</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the site efba795 HEAD@{<span class="hljs-number"><span class="hljs-number">12</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> (initial): Initial <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span></code> </pre> <br>  Faites attention à la colonne la plus à gauche de cette liste.  Il contient des index.  Si vous devez revenir en arrière à un moment donné dans le passé, exécutez la commande suivante, en remplaçant <code>{index}</code> par le lien approprié, par exemple, <code>dfa27a2</code> .  Cette commande ressemble à ceci: <br><br><pre> <code class="hljs sql">git <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span> <span class="hljs-keyword"><span class="hljs-keyword">HEAD</span></span>@{<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>}</code> </pre> <br><h2>  <font color="#3AC1EF">Résumé</font> </h2><br>  Nous avons examiné quelques façons de traiter les erreurs qui se produisent lors de l'utilisation de Git.  Nous espérons que vous ne ferez pas de telles erreurs et ces méthodes de travail avec Git ne vous seront pas utiles.  Et si quelque chose se passe mal, vous saurez quoi faire. <br><br>  <b>Chers lecteurs!</b>  Connaissez-vous des astuces intéressantes pour travailler avec Git?  Si oui, merci de les partager. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423015/">https://habr.com/ru/post/fr423015/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423005/index.html">Comment Yandex.Zen, le plugin de mise en cache WordPress et l'hébergement ont stimulé ma pression</a></li>
<li><a href="../fr423007/index.html">"Malyavki, mais bon": comment nous avons amené les étudiants à la pratique</a></li>
<li><a href="../fr423009/index.html">Diagnostics SENS. Biomarqueurs de glycation des protéines</a></li>
<li><a href="../fr423011/index.html">Gestion des microservices avec Kubernetes et Istio</a></li>
<li><a href="../fr423013/index.html">Comment organiser vos dépendances dans une application Vue</a></li>
<li><a href="../fr423017/index.html">Bobbiniki: dix magnétophones à bobine culte - Tell and Show</a></li>
<li><a href="../fr423021/index.html">Hackathon en ligne par Naviaddress</a></li>
<li><a href="../fr423023/index.html">Pourquoi les développeurs ont-ils besoin d'enseigner</a></li>
<li><a href="../fr423025/index.html">Comment un programme de trésorerie peut-il économiser sur l'analyse?</a></li>
<li><a href="../fr423027/index.html">Émetteur-récepteur optique FTDI-POF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>