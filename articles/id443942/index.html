<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïü üàÇÔ∏è ‚ûó Mengkonfigurasi 802.1X pada Cisco Switches Menggunakan Failover NPS (Windows RADIUS dengan AD) üö¶ üíê üì¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mari kita periksa dalam praktiknya penggunaan Windows Active Directory + NPS (2 server untuk toleransi kesalahan) + standar 802.1x untuk kontrol akses...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mengkonfigurasi 802.1X pada Cisco Switches Menggunakan Failover NPS (Windows RADIUS dengan AD)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443942/"><img src="https://habrastorage.org/getpro/habr/post_images/fab/761/19d/fab76119df15e93b40fdfdeb0b91156e.png" alt="gambar"><br>  Mari kita periksa dalam praktiknya penggunaan Windows Active Directory + NPS (2 server untuk toleransi kesalahan) + standar 802.1x untuk kontrol akses dan otentikasi pengguna - komputer domain - perangkat.  Anda bisa berkenalan dengan teori standar di Wikipedia, di tautan: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IEEE 802.1X</a> <br><br>  Karena "laboratorium" saya terbatas dalam sumber daya, peran NPS dan pengontrol domain kompatibel, tetapi saya sarankan Anda berbagi layanan kritis tersebut. <br><br>  Saya tidak tahu cara standar untuk menyinkronkan konfigurasi (kebijakan) Windows NPS, oleh karena itu kami akan menggunakan skrip PowerShell yang diluncurkan oleh penjadwal tugas (penulis adalah mantan kolega saya).  Untuk mengotentikasi komputer domain dan untuk perangkat yang tidak tahu cara menggunakan <b>802.1x</b> (telepon, printer, dll.), Kebijakan Grup akan dikonfigurasikan dan grup keamanan dibuat. <br><br>  Di akhir artikel saya akan berbicara tentang beberapa seluk-beluk bekerja dengan 802.1x - cara menggunakan sakelar yang tidak dikelola, ACL dinamis, dll. Saya akan berbagi informasi tentang "gangguan" yang ditangkap ... <br><a name="habracut"></a><br>  Mari kita mulai dengan menginstal dan mengkonfigurasi NPS failover pada Windows Server 2012R2 (semuanya sama untuk 2016): melalui Server Manager -&gt; Tambahkan Peran dan Pemandu Fitur, pilih hanya Network Policy Server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c55/b51/17f/c55b5117f0ebab8d5b10c808617418c5.png" alt="gambar"><br><br>  atau menggunakan PowerShell: <br><br><pre><code class="actionscript hljs">Install-WindowsFeature NPAS -IncludeManagementTools</code> </pre> <br><blockquote>  Klarifikasi kecil - karena untuk <b>Protected EAP (PEAP)</b> Anda pasti akan memerlukan sertifikat yang mengonfirmasi keaslian server (dengan hak penggunaan yang sesuai), yang akan dipercaya pada komputer klien, maka kemungkinan besar Anda perlu menginstal peran <b>Otoritas Sertifikasi</b> juga.  Tapi mari kita asumsikan bahwa Anda sudah menginstal <b>CA</b> ... </blockquote>  Kami akan melakukan hal yang sama pada server kedua.  Buat folder untuk skrip C: \ Script di kedua server dan folder jaringan di server kedua <b>\\ SRV2 \ NPS-config $</b> <br><br>  Di server pertama, buat skrip PowerShell <i>C: \ Scripts \ Export-NPS-config.ps1</i> dengan konten berikut: <br><br><pre> <code class="actionscript hljs">Export-NpsConfiguration -Path <span class="hljs-string"><span class="hljs-string">"\\SRV2\NPS-config$\NPS.xml"</span></span></code> </pre> <br>  Setelah itu, konfigurasikan tugas di Penjadwal Tugas: ‚Äú <i>Ekspor-NpsConfiguration</i> ‚Äù <br><pre> <code class="bash hljs">powershell -executionpolicy unrestricted -f <span class="hljs-string"><span class="hljs-string">"C:\Scripts\Export-NPS-config.ps1"</span></span></code> </pre> <br>  <i>Lakukan untuk semua pengguna - Jalankan dengan izin tertinggi</i> <i><br></i>  <i>Harian - Ulangi tugas ini setiap 10 menit.</i>  <i>dalam waktu 8 jam</i> <br><br>  Pada NPS siaga, konfigurasikan impor konfigurasi (kebijakan): <br>  buat skrip PowerShell: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Import-NpsConfiguration -Path <span class="hljs-string"><span class="hljs-string">"c:\NPS-config\NPS.xml"</span></span> &gt;&gt; C:\Scripts\Import-NPS-config.ps1</code> </pre> <br>  dan tugas implementasinya setiap 10 menit: <br><br><pre> <code class="bash hljs">powershell -executionpolicy unrestricted -f <span class="hljs-string"><span class="hljs-string">"C:\Scripts\Import-NPS-config.ps1"</span></span></code> </pre> <br>  <i>Lakukan untuk semua pengguna - Jalankan dengan izin tertinggi</i> <i><br></i>  <i>Harian - Ulangi tugas ini setiap 10 menit.</i>  <i>dalam waktu 8 jam</i> <br><br>  Sekarang, untuk verifikasi, tambahkan beberapa sakelar ke klien RADIUS (IP dan Shared Secret) di NPS di salah satu server (!), Dua kebijakan permintaan koneksi: <b>WIRED-Connect</b> (Kondisi: "NAS port type - Ethernet") dan <b>WiFi -Enterprise</b> (Syarat: "NAS Port Type adalah IEEE 802.11"), serta kebijakan <b><i>jaringan Access Network Network Devices</i></b> (Admin Jaringan): <br><br><pre> <code class="xml hljs">:  Windows - domain\sg-network-admins :    -    (PAP, SPAP) :  RADIUS:  - Service-Type - Login    - Cisco-AV-Pair - Cisco - shell:priv-lvl=15</code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">Dari sisi sakelar, pengaturan berikut:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">aaa new-model aaa local authentication attempts max-fail 5 ! ! aaa group server radius NPS server-private 192.168.38.151 auth-port 1812 acct-port 1813 key %shared_secret% server-private 192.168.10.151 auth-port 1812 acct-port 1813 key %shared_secret% ! aaa authentication login default group NPS local aaa authentication dot1x default group NPS aaa authorization console aaa authorization exec default group NPS local if-authenticated aaa authorization network default group NPS ! aaa session-id common ! identity profile default ! dot1x system-auth-control ! ! line vty 0 4 exec-timeout 5 0 transport input ssh escape-character 99 line vty 5 15 exec-timeout 5 0 logging synchronous transport input ssh escape-character 99</code> </pre> <br></div></div><br>  Setelah konfigurasi, setelah 10 menit, semua pengaturan klien \ kebijakan \ akan muncul pada NPS siaga dan kami akan dapat masuk ke sakelar menggunakan akun ActiveDirectory, anggota grup domain \ sg-network-admin (yang kami buat sebelumnya). <br><br>  Mari beralih ke pengaturan Active Directory - buat grup dan kebijakan kata sandi, buat grup yang diperlukan. <br><br>  Kebijakan Grup <i><b>Komputer-8021x-Pengaturan</b></i> : <br><br><pre> <b><code class="plaintext hljs">Computer Configuration (Enabled) Policies Windows Settings Security Settings System Services Wired AutoConfig (Startup Mode: Automatic) Wired Network (802.3) Policies</code></b> </pre> <br><div class="spoiler">  <b class="spoiler_title">NPS-802-1x</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Name NPS-802-1x Description 802.1x Global Settings SETTING VALUE Use Windows wired LAN network services for clients Enabled Shared user credentials for network authentication Enabled Network Profile Security Settings Enable use of IEEE 802.1X authentication for network access Enabled Enforce use of IEEE 802.1X authentication for network access Disabled IEEE 802.1X Settings Computer Authentication Computer only Maximum Authentication Failures 10 Maximum EAPOL-Start Messages Sent Held Period (seconds) Start Period (seconds) Authentication Period (seconds) Network Authentication Method Properties Authentication method Protected EAP (PEAP) Validate server certificate Enabled Connect to these servers Do not prompt user to authorize new servers or trusted certification authorities Disabled Enable fast reconnect Enabled Disconnect if server does not present cryptobinding TLV Disabled Enforce network access protection Disabled Authentication Method Configuration Authentication method Secured password (EAP-MSCHAP v2) Automatically use my Windows logon name and password(and domain if any) Enabled</code> </pre> <br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/88f/cd4/c48/88fcd4c486e62979b592d5a633270e59.png" alt="NPS-802-1x_AD-Kebijakan"><br><br>  Buat grup keamanan <b><i>sg-komputer-8021x-vl100</i></b> , di mana kami akan menambahkan komputer yang ingin kami distribusikan ke vlan 100 dan mengkonfigurasi pemfilteran untuk kebijakan grup yang dibuat sebelumnya untuk grup ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/79b/5d5/11c/79b5d511c9c2551781cfa4b8b4113552.png" alt="802.1x-Authentication-GPO-Filtering"><br><br>  Anda dapat memverifikasi bahwa kebijakan tersebut telah berhasil diterapkan dengan membuka "Jaringan dan Pusat Berbagi (Pengaturan Jaringan dan Internet) - Ubah pengaturan adaptor (Konfigurasikan pengaturan adaptor) - Properti adaptor", tempat kita dapat melihat tab "Otentikasi": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d6f/2c9/6bf/d6f2c96bff36ee31b6549391c63f398a.png" alt="Otentikasi Akses Jaringan untuk Adaptor Ethernet"><br><br>  Ketika Anda yakin bahwa kebijakan tersebut berhasil diterapkan, Anda dapat melanjutkan untuk mengonfigurasi kebijakan jaringan pada NPS dan port sakelar akses. <br><br>  Buat kebijakan jaringan <b><i>neag-komputer-8021x-vl100</i></b> : <br><br><pre> <code class="xml hljs">Conditions: Windows Groups - sg-computers-8021x-vl100 NAS Port Type - Ethernet Constraints: Authentication Methods - Microsoft: Protected EAP (PEAP) - Unencrypted authentication (PAP, SPAP) NAS Port Type - Ethernet Settings: Standard: Framed-MTU 1344 TunnelMediumType 802 (includes all 802 media plus Ethernet canonical format) TunnelPrivateGroupId 100 TunnelType Virtual LANs (VLAN)</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/1f9/8b9/4e3/1f98b94e3a813be72c498a4c92b71454.png" alt="802.1x Kebijakan Jaringan Otentikasi"><br><br>  Pengaturan khas untuk port switch (saya menarik perhatian pada kenyataan bahwa jenis otentikasi adalah "multi-domain" - Data &amp; Voice, dan juga dimungkinkan untuk mengotentikasi ke alamat mac. Untuk "periode transisi" masuk akal untuk menggunakan parameter berikut: <br><br><pre> <code class="actionscript hljs">authentication event fail action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication event no-response action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre><br>  id dimasukkan bukan dari "karantina", tetapi dari yang sama di mana komputer pengguna harus mendapatkan setelah berhasil masuk - sampai kami memastikan bahwa semuanya berfungsi sebagaimana mestinya.  Parameter yang sama dapat digunakan dalam skenario lain, misalnya, ketika sakelar yang tidak dikelola dimasukkan ke port ini dan Anda ingin semua perangkat terhubung dan tidak diautentikasi untuk jatuh ke dalam vlan tertentu ("karantina"). <br><br><div class="spoiler">  <b class="spoiler_title">beralih pengaturan port dalam multi-domain 802.1x mode-host</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">default</span></span> int range Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span><span class="hljs-number"><span class="hljs-number">-41</span></span> int range Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span><span class="hljs-number"><span class="hljs-number">-41</span></span> shu des PC-IPhone_802<span class="hljs-number"><span class="hljs-number">.1</span></span>x switchport mode access switchport nonegotiate switchport voice vlan <span class="hljs-number"><span class="hljs-number">55</span></span> switchport port-security maximum <span class="hljs-number"><span class="hljs-number">2</span></span> authentication event fail action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication event no-response action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication host-mode multi-domain authentication port-control auto authentication violation restrict mab dot1x pae authenticator dot1x timeout quiet-period <span class="hljs-number"><span class="hljs-number">15</span></span> dot1x timeout tx-period <span class="hljs-number"><span class="hljs-number">3</span></span> storm-control broadcast level pps <span class="hljs-number"><span class="hljs-number">100</span></span> storm-control multicast level pps <span class="hljs-number"><span class="hljs-number">110</span></span> no vtp lldp receive lldp transmit spanning-tree portfast no shu exit</code> </pre> <br></div></div><br>  Anda dapat memverifikasi bahwa komputer / telepon berhasil diautentikasi menggunakan perintah: <br><br><pre> <code class="actionscript hljs">sh authentication sessions int Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span> det</code> </pre> <br>  Sekarang buat grup (misalnya, <i>sg-fgpp-mab</i> ) di Direktori Aktif untuk ponsel dan tambahkan satu perangkat uji ke dalamnya (dalam kasus saya, ini adalah <b><i>Grandstream GXP2160</i></b> dengan alamat massa <b>000b.82ba.a7b1</b> dan <b>domain</b> akun yang sesuai <b>\ 000b82baa7b1</b> ) . <br><br>  Untuk grup yang dibuat, kami akan menurunkan persyaratan kebijakan kata sandi (menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kebijakan Sandi Butir-Butir</a> melalui Pusat Administrasi Direktori Aktif -&gt; domain -&gt; Sistem -&gt; Wadah Pengaturan Sandi) dengan parameter <b><i>Sandi-Pengaturan-untuk-MAB berikut</i></b> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0cf/998/705/0cf998705b059c03465acd6057356d91.jpg" alt="Kebijakan Sandi Butir Halus (FGPP) untuk perangkat MAB"><br><br>  dengan demikian memungkinkan kita untuk menggunakan alamat masal perangkat sebagai kata sandi.  Setelah itu, kita dapat membuat kebijakan jaringan untuk otentikasi metode mab metode 802.1x, sebut saja neag-devices-8021x-voice.  Parameternya adalah sebagai berikut: <br><br><ul><li>  Jenis Port NAS - Ethernet </li><li>  Windows Groups - sg-fgpp-mab </li><li>  Jenis EAP: Otentikasi tidak terenkripsi (PAP, SPAP) </li><li>  Atribut RADIUS - Spesifik Vendor: Cisco - Cisco-AV-Pair - Nilai atribut: device-traffic-class = voice </li></ul><br>  setelah otentikasi berhasil (jangan lupa untuk mengkonfigurasi port switch), lihat informasi dari port: <br><br><div class="spoiler">  <b class="spoiler_title">sh otentikasi se int Gi1 / 0/34</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">---------------------------------------- Interface: GigabitEthernet1/0/34 MAC Address: 000b.82ba.a7b1 IP Address: 172.29.31.89 User-Name: 000b82baa7b1 Status: Authz Success Domain: VOICE Oper host mode: multi-domain Oper control dir: both Authorized By: Authentication Server Session timeout: N/A Idle timeout: N/A Common Session ID: 0000000000000EB2000B8C5E Acct Session ID: 0x00000134 Handle: 0xCE000EB3 Runnable methods list: Method State dot1x Failed over mab Authc Success</code> </pre> <br></div></div><br>  Sekarang, seperti yang dijanjikan, pertimbangkan beberapa situasi yang tidak terlalu jelas.  Sebagai contoh, kita perlu menghubungkan komputer \ perangkat pengguna melalui sakelar yang tidak dikelola (sakelar).  Dalam hal ini, pengaturan port untuknya akan terlihat seperti ini: <br><br><div class="spoiler">  <b class="spoiler_title">beralih pengaturan port dalam mode host-mode 802.1x mode multi-auth</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GigabitEthernet1</span></span></span><span class="hljs-class">/0/1 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">description</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SW</span></span></span><span class="hljs-class"> ‚Äì 802.1</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class"> ‚Äì 8 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mac</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shu</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">access</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonegotiate</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">voice</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 55 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">security</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">maximum</span></span></span><span class="hljs-class"> 8 !  -  - </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">event</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fail</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">event</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">response</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">host</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multi</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auth</span></span></span><span class="hljs-class"> ! ‚Äì   </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auto</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">violation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">restrict</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mab</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pae</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authenticator</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">timeout</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quiet</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">period</span></span></span><span class="hljs-class"> 15 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">timeout</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tx</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">period</span></span></span><span class="hljs-class"> 3 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">storm</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">broadcast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">level</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pps</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">storm</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multicast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">level</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pps</span></span></span><span class="hljs-class"> 110 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vtp</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">spanning</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tree</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">portfast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shu</span></span></span></span></code> </pre> <br></div></div><br>  PS kesalahan yang sangat aneh diperhatikan - jika perangkat terhubung melalui switch seperti itu, dan kemudian macet di switch yang dikelola, maka TIDAK akan berfungsi sampai kita me-restart Switch (!) Sampai saya menemukan cara lain untuk menyelesaikan masalah ini. <br><br>  Hal lain yang terkait dengan DHCP (jika ip dhcp mengintip digunakan) - tanpa opsi seperti: <br><br><pre> <code class="actionscript hljs">ip dhcp snooping vlan <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">-100</span></span> no ip dhcp snooping information option</code> </pre> <br>  untuk beberapa alasan, alamat ip tidak dapat diterima dengan benar ... meskipun ini mungkin fitur dari server DHCP kami <br><br>  Dan Mac OS &amp; Linux (di mana dukungan 802.1x adalah asli) sedang mencoba untuk mengotentikasi oleh pengguna, bahkan jika otentikasi berdasarkan alamat massal dikonfigurasikan. <br><br>  Pada bagian selanjutnya dari artikel ini, kami akan mempertimbangkan penggunaan 802.1x untuk Nirkabel (tergantung pada grup tempat akun pengguna berada, kami akan "menjatuhkannya" ke jaringan yang sesuai (vlan), meskipun mereka akan terhubung ke SSID yang sama). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443942/">https://habr.com/ru/post/id443942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443926/index.html">Mobil "katamaran"</a></li>
<li><a href="../id443928/index.html">Cara naik taksi dengan biaya orang lain - kerentanan pada contoh satu layanan</a></li>
<li><a href="../id443934/index.html">CJDNS sudah mati, umur panjang Yggdrasil</a></li>
<li><a href="../id443938/index.html">NetXMS sebagai sistem pemantauan untuk malas ... dan sedikit perbandingan dengan Zabbix</a></li>
<li><a href="../id443940/index.html">Bagaimana TIDAK untuk menerjemahkan judul film</a></li>
<li><a href="../id443946/index.html">Situasi: GPU virtual tidak kalah dalam kinerja dibandingkan solusi besi</a></li>
<li><a href="../id443948/index.html">Persaingan "Saya seorang Intel Studio Expert" dengan hadiah super untuk pengembang</a></li>
<li><a href="../id443950/index.html">Percaya, Sarankan, Sarankan - berburu untuk ulasan perangkat lunak nyata</a></li>
<li><a href="../id443952/index.html">Internet Berdaulat - untuk uang kita</a></li>
<li><a href="../id443954/index.html">Singularitas teknologi: mitos modern tentang akhir dunia dengan kedok hipotesis kemajuan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>