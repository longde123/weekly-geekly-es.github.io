<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò∏ ‚ô£Ô∏è ü¶ï Como lan√ßar um prot√≥tipo de ML em um dia. Relat√≥rio Yandex.Taxi üëé üë©üèæ‚Äçüåæ üîè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O aprendizado de m√°quina √© usado em todo o ciclo de pedidos do Yandex.Taxi, e o n√∫mero de componentes de servi√ßo trabalhando gra√ßas ao ML est√° em cons...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como lan√ßar um prot√≥tipo de ML em um dia. Relat√≥rio Yandex.Taxi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/447186/">  O aprendizado de m√°quina √© usado em todo o ciclo de pedidos do Yandex.Taxi, e o n√∫mero de componentes de servi√ßo trabalhando gra√ßas ao ML est√° em constante crescimento.  Para constru√≠-los de maneira uniforme, precis√°vamos de um processo separado.  Roman Khalkachev, Chefe do Servi√ßo de Aprendizado de M√°quina e An√°lise de Dados, falou sobre pr√©-processamento de dados, uso de modelos na produ√ß√£o, servi√ßo de prototipagem e ferramentas relacionadas. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/IDHKt1N2IvU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Na minha opini√£o, algumas coisas novas s√£o muito mais f√°ceis de perceber quando s√£o contadas em algum exemplo simples.  Portanto, para que o relat√≥rio n√£o ficasse seco, decidi falar sobre uma das tarefas que estamos resolvendo.  Usando o exemplo dela, mostrarei por que agimos dessa maneira. <br><br>  Vamos formular o problema.  Existem usu√°rios de t√°xi que precisam ir do ponto A ao ponto B e h√° motoristas prontos para uma certa quantia para entregar esses usu√°rios do ponto A ao ponto B. O usu√°rio tem v√°rias condi√ß√µes em que est√°.  Ele chama um t√°xi, seleciona o ponto A, o ponto B, a tarifa e assim por diante, faz um pouso de t√°xi, dirige e, finalmente, faz um pouso.  Hoje eu gostaria de falar sobre entrar em um carro e problemas que possam surgir. <br><br><a name="habracut"></a><img src="https://habrastorage.org/webt/i4/wx/-w/i4wx-wctuoekqqjixbj8yud2tsg.jpeg"><br><br>  Como regra, esses problemas est√£o relacionados ao fato de que uma pessoa precisa escolher um local para onde um t√°xi deve chegar.  E aqui h√° uma s√©rie de dificuldades.  Essas dificuldades est√£o relacionadas a quatro coisas que listei no slide. <br><br><img src="https://habrastorage.org/webt/vn/ua/og/vnuaogglei7as1bbojryct6pguy.jpeg"><br><br>  Primeiro, o local pode n√£o ser familiar para o usu√°rio.  Como exemplo, voc√™ pode se imaginar que veio a algum grande shopping center, no qual voc√™ n√£o costuma visitar.  Voc√™ quer sair e n√£o sabe realmente onde pode chamar um t√°xi aqui, onde o carro pode ligar, mas onde n√£o pode, por exemplo, por causa da barreira.  Existem problemas com o fato de que em alguns lugares h√° muitas pessoas, muitos carros e √© dif√≠cil encontrar seu carro.  H√° lugares onde as pessoas costumam entrar no carro, √© mais f√°cil chegar l√°.  E voc√™ pode n√£o saber, estar em algum lugar novo, n√£o necessariamente no shopping, onde exatamente aterrar.  As dificuldades podem estar relacionadas ao fato de o motorista n√£o poder dirigir at√© o local onde voc√™ chamou o t√°xi: ele √© proibido de viajar, h√° uma grande sa√≠da do shopping, em frente √† qual voc√™ n√£o pode parar, etc. <br><br>  Por outro lado, voc√™ pode ter problemas como usu√°rio.  O motorista chegou, est√° tudo bem, mas voc√™ n√£o se sente √† vontade para se sentar, porque todos desenterraram.  Voc√™ pede ao motorista para dirigir para outro lugar.  Existem outras raz√µes. <br><br>  O exemplo mais ilustrativo, a quintess√™ncia de todos os itens acima, √© o aeroporto, no qual quase tudo √© feito.  Mesmo se voc√™ sair de Sheremetyevo com muita frequ√™ncia, ainda √© um local desconhecido para voc√™, porque muitas coisas mudam para l√°.  H√° muitas pessoas, muitos carros, lugares convenientes para aterrissar, outros desconfort√°veis, mas, como regra, nenhum de n√≥s se lembra disso. <br><br><img src="https://habrastorage.org/webt/nb/e_/ab/nbe_abma_ki1jpgwfl1fr-mjqka.jpeg"><br><br>  A solu√ß√£o √© lida no t√≠tulo do slide.  Vamos recomendar ao usu√°rio alguns lugares em que, em nossa opini√£o, √© conveniente pousar.  O pensamento parece √≥bvio, mas h√° muitas nuances aqui. <br><br>  Para iniciantes, ‚Äúconveniente‚Äù √© um conceito subjetivo.  Parece que antes de resolver o problema, √© necess√°rio formular alguns crit√©rios para o fato de que o problema ser√° resolvido corretamente.  N√≥s formulamos tr√™s principais para n√≥s mesmos.  O primeiro crit√©rio √© como em qualquer tarefa de recomenda√ß√£o: provavelmente, as recomenda√ß√µes s√£o boas se forem usadas.  Se mostrarmos esses pontos dos quais o usu√°rio realmente sair√° - esses provavelmente s√£o bons pontos.  Mas isso, √© claro, n√£o √© tudo, porque voc√™ pode aprender a recomendar algo, mostrar, incentivar o usu√°rio a us√°-lo, mas n√£o obt√©m nenhum lucro tang√≠vel (n√£o obteremos como sistema, nem usu√°rio, nem motorista).  Portanto, √© muito importante observar outras m√©tricas.  N√≥s escolhemos dois. <br><br>  Se falarmos sobre um local de pouso para o qual o motorista possa chegar com facilidade, o tempo de entrega do ve√≠culo dever√° ser reduzido.  Por outro lado, se for mais f√°cil para o usu√°rio encontrar um carro nesse local, √© mais f√°cil pousar, ent√£o o tempo de espera do motorista pelo motorista deve ser reduzido.  Essa √© uma de nossas hip√≥teses, as quais consideramos um dado adquirido, e essas s√£o algumas m√©tricas que analisamos quando fazemos essas recomenda√ß√µes.  Mas √© claro que essas n√£o s√£o as √∫nicas m√©tricas a serem observadas.  Voc√™ pode criar mais uma d√∫zia.  Acho que cada um de voc√™s pode criar uma centena dessas m√©tricas. <br><br>  Aqui est√£o mais alguns exemplos.  Essa pode ser a propor√ß√£o de cancelamentos antes da viagem.  Em teoria, deve diminuir se for mais f√°cil para o usu√°rio pousar.  Convencionalmente, s√£o chamadas quando um usu√°rio liga para o motorista tentando encontr√°-lo ou, inversamente, o motorista liga para o usu√°rio antes do in√≠cio da viagem.  Este apelo est√° em apoio, e com uma d√∫zia de outros. <br><br>  N√≥s formulamos o problema.  Compreendemos aproximadamente o crit√©rio de que podemos resolver esse problema.  Vamos agora pensar em como resolver esse problema.  A primeira coisa que vem √† mente: recomendamos esses pontos de aterrissagem comprovados e compreens√≠veis.  Aqui no slide est√° um exemplo do Centro Comercial Europeu.  E sabemos com certeza que voc√™ pode dirigir at√© as sa√≠das deste shopping center, e isso √© algum tipo de orienta√ß√£o, gra√ßas √† qual o usu√°rio pode encontrar um motorista.  Pode ser qualquer organiza√ß√£o.  H√° um exemplo com o ABC of Taste em algum shopping center.  Na minha opini√£o, este √© o Yerevan Plaza.  Esse tamb√©m √© um tipo de orienta√ß√£o para o usu√°rio e o motorista, sobre os quais sabemos que voc√™ pode dirigir at√© l√°. <br><br><img src="https://habrastorage.org/webt/ym/ex/lu/ymexlupptviqlhyi4otvpouyjuq.jpeg"><br><br>  Estes podem ser marcos nos aeroportos de que falei.  Convencionalmente, existem p√≥los em Sheremetyevo com n√∫meros.  √â conveniente chamar um t√°xi e entrar no carro.  Uma boa solu√ß√£o, mas tem um sinal de menos que n√£o √© muito escal√°vel.  Temos muitos pa√≠ses, centenas de cidades, um grande n√∫mero de diferentes shopping centers, aeroportos, trocas dif√≠ceis, lugares desconhecidos para os quais esses pontos s√£o dif√≠ceis de serem feitos manualmente, e mant√™-los atualizados √© ainda mais dif√≠cil.  √â aqui que vem em nosso aux√≠lio o que √© alto chamado de "intelig√™ncia artificial".  Prefiro cham√°-lo de minera√ß√£o de dados ou aprendizado de m√°quina. <br><br>  O aprendizado de m√°quina precisa de algum tipo de dados, e n√≥s realmente temos esses dados.  Outra maneira de resolver o problema automaticamente √© usar esses dados.  A ideia de alto n√≠vel √© que tenhamos dados sobre GPS, registros de aplicativos e haja um gr√°fico de estradas.  E podemos entender onde os usu√°rios realmente entram no carro.  N√£o os pontos onde eles chamam o carro, mas onde eles pousam.  E com base nisso, fa√ßa algo assim. <br><br><img src="https://habrastorage.org/webt/ps/be/vl/psbevlef58dytmd_75_7iqhukts.jpeg"><br><br>  Esses pontos j√° s√£o recebidos automaticamente para o centro de neg√≥cios Aurora, onde atualmente est√° nossa equipe Yandex.Taxi. <br><br>  Falei alto n√≠vel sobre a nossa tarefa.  Agora, vamos falar com mais detalhes sobre em que est√°gios a solu√ß√£o para esse problema consiste.  √â claro que h√° uma etapa de prepara√ß√£o dos dados. <br><br><img src="https://habrastorage.org/webt/v7/mt/tw/v7mttwhglgsfcylredz1spr1oli.jpeg"><br><br>  Que dados temos?  Em primeiro lugar, temos os dados de GPS de nossos usu√°rios e os dados de GPS de nossos drivers.  Quando eles usam nosso aplicativo, sabemos a localiza√ß√£o aproximada dos usu√°rios.  √â claro que o GPS tem um grande erro, na regi√£o de 13 a 15 metros, mas, no entanto, h√° algo.  Em segundo lugar, temos informa√ß√µes contidas nos logs do aplicativo sobre quando o driver mudou do status "Estou aguardando o usu√°rio" para o status "Estou levando o usu√°rio".  Pode-se supor que, nessa √©poca, o motorista esperou pelo usu√°rio, entrou no carro e partiu.  Em torno deste local, foi feito um pouso.  E n√≥s temos um gr√°fico de estradas.  Um gr√°fico de estradas n√£o √© apenas um conjunto de arestas, ruas, mas tamb√©m meta-informa√ß√µes adicionais: barreiras, informa√ß√µes sobre estacionamento etc. Com base nesses dados, voc√™ j√° pode obter algum tipo de pontos autom√°ticos. <br><br>  Estes foram os dados de origem.  E na sa√≠da, queremos duas coisas.  Estes s√£o alguns dos chamados candidatos a pontos de aterrissagem.  Como eles acontecem?  √â uma pena que n√£o tenha sido poss√≠vel mostrar o v√≠deo.  O seguinte acontece aproximadamente.  Temos muitos pontos de GPS nos quais sabemos que o motorista mudou do status "Aguardando um passageiro" para o status de "Vamos".  Podemos, condicionalmente, desenh√°-los no gr√°fico, ou seja, projet√°-los no gr√°fico de estradas, porque, em regra, o carro come√ßa a se mover de alguma estrada.  Neste gr√°fico, execute algum tipo de agrupamento desses pontos.  E para conseguir um grande n√∫mero de candidatos - esses s√£o os lugares em que alguns usu√°rios entraram no carro, e isso era normal, conveniente para eles.  N√£o onde eles ligaram, mas onde eles acabaram sentados. <br><br>  Depois disso, quando temos muitos candidatos e temos algum usu√°rio on-line, sabemos a sua localiza√ß√£o, ent√£o ele abriu o aplicativo e quer chamar um t√°xi, ent√£o podemos escolher os cinco melhores dentre um grande n√∫mero de candidatos e mostr√°-los.  Os cinco melhores s√£o determinados por um modelo de aprendizado de m√°quina que aprende a classificar todos os candidatos de acordo com a probabilidade de o usu√°rio neste momento, considerando sua localiza√ß√£o e seu hist√≥rico de viagens, ser mais conveniente sair.  E aproximadamente dessa maneira, podemos gerar automaticamente esses pontos.  Al√©m disso, se em algum momento eles desenterram condicionalmente em algum lugar, ou seja, torna-se desconfort√°vel chamar um t√°xi, ou em algum lugar eles colocam uma placa proibindo uma parada, e motoristas e usu√°rios realmente param de aterrissar neste local no momento em que o algoritmo entender isso, e os dados ser√£o atualizados. <br><br><img src="https://habrastorage.org/webt/se/90/qi/se90qiau_vugtxbwmlmw5s6dhbs.jpeg"><br><br>  Este √© aproximadamente o diagrama de blocos de como preparamos os dados.  Portanto, √© bastante padr√£o, como em qualquer pipeline de aprendizado de m√°quina.  H√° prepara√ß√£o de dados, h√° uma gera√ß√£o de candidatos de acordo com o algoritmo, disse uma vers√£o simplificada.  Armazenamos esses candidatos em um determinado banco de dados.  Depois disso, preparamos um pool para treinamento (amostra de treinamento), no qual existe, condicionalmente, um usu√°rio, tempo, meta-informa√ß√£o, um conjunto de candidatos e sabe-se de que ponto o usu√°rio acabou saindo.  Sobre isso, treinamos o modelo de classifica√ß√£o.  E ent√£o, de acordo com as previs√µes de probabilidade, classificamos os candidatos.  Quando o modelo est√° pronto, fazemos o upload para alguma nuvem, onde est√° bem armazenado. <br><br><img src="https://habrastorage.org/webt/ou/0k/5k/ou0k5kbozlb4w_ypk6m5o2djp3y.jpeg"><br><br>  Quais ferramentas usamos na prepara√ß√£o dos dados?  Basicamente, toda a prepara√ß√£o de dados que escrevemos em Python, na pilha de Python: estes s√£o padr√£o NumPy, Pandas, Scikit-learn, etc. Temos muitos dados.  Temos milh√µes de viagens por m√™s.  Muitos dados sobre GPS, trilhas de drivers, logs de aplicativos, portanto, precisamos process√°-los da mesma forma no cluster.  Para fazer isso, usamos o MapReduce da nossa vers√£o intra-Yandex, chamada YT, e h√° uma biblioteca escrita em Python, que permite que alguns mapeadores e redutores sejam iniciados e fa√ßa alguns c√°lculos em um cluster grande. <br><br>  Finalmente, quando o pipeline estiver pronto, precisamos automatiz√°-lo para que os dados estejam atualizados e, para isso, usamos o Nirvana e Hitman.  Isso tamb√©m √© desenvolvimento intra-Yandex.  O Nirvana √© uma estrutura de gerenciamento de computa√ß√£o em cluster.  De fato, ela sabe como executar praticamente qualquer programa, tolerante a falhas e ter cross DC (00:14:53).  E no caso de algo cair, ela sabe como reinici√°-lo, para criar lan√ßamentos ap√≥s a ocorr√™ncia de qualquer evento.  etc. <br><br><img src="https://habrastorage.org/webt/wy/c3/9z/wyc39zj9qbomfd5ybc-ifszugde.jpeg"><br><br>  Isso √© mais ou menos como √© a interface da web do nosso cluster MapReduce.  Pode-se ver aqui que temos muitas m√°quinas, n√≥s nos quais os c√°lculos s√£o realizados. <br><br><img src="https://habrastorage.org/webt/gl/wd/p4/glwdp4bccgeodj-xzpfk3xyjuu8.jpeg"><br><br>  E assim, na interface da Web, parece um processo t√≠pico de algum tipo de pr√©-processamento de dados e treinamento de modelo.  Este √© um gr√°fico de depend√™ncia.  Depend√™ncias s√£o como dados, quando uma parte (um cubo) est√° aguardando dados de outro cubo;  e depend√™ncia l√≥gica (primeiro preparamos todos os dados e depois iniciamos o treinamento).  Este √© algum tipo de sistema automatizado.  Por tudo isso, geralmente usamos Python. <br><br>  Formulamos o problema, formulamos crit√©rios de sucesso, aprendemos a resolv√™-lo de alguma forma offline, at√© criamos algum tipo de modelo e parece funcionar de acordo com algumas m√©tricas offline - ele realmente prev√™ os pontos de onde o usu√°rio sai e encontra esses pontos o que, ao que parece, deve reduzir o tempo de espera e a entrega do carro. <br><br><img src="https://habrastorage.org/webt/hv/aw/bg/hvawbgrigssxzje4wzv4pgbv72a.jpeg"><br><br>  Vamos tentar esses modelos, usar esses dados.  Para fazer isso, imagine o que √© o servi√ßo Yandex.Taxi. <br><br>  Um diagrama muito superficial se parece com isso.  Existem usu√°rios, eles t√™m um aplicativo e existem drivers, eles tamb√©m t√™m um aplicativo chamado "Tax√≠metro".  Esses aplicativos de alguma forma se comunicam com o back-end, e o back-end √© um conjunto de microsservi√ßos que se comunicam - Ilya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">falou</a> sobre isso.  Um dos microsservi√ßos √© o nosso servi√ßo, nossa equipe faz isso, √© chamado de ML como servi√ßo, MLaaS. <br><br><img src="https://habrastorage.org/webt/7r/wh/8z/7rwh8zsyfisoucl0_xsvg-u39rg.jpeg"><br><br>  Tudo o que voc√™ precisa saber sobre ele √© o MLaaS escrito em C ++, com base no chamado Fastcgi Daemon.  Esta √© uma biblioteca de c√≥digo aberto, que, grosso modo, √© uma estrutura para escrever um servidor Web que pode obter e publicar solicita√ß√µes, tudo √© padr√£o.  Foi escrito em Yandex, em c√≥digo aberto.  Usamos a vers√£o dopada.  O que esse servi√ßo pode fazer?  Ele sabe como trabalhar com modelos: aplique-os, mantenha-os em casa e, √†s vezes, atualize-os, acesse esta maravilhosa nuvem, onde os modelos s√£o atualizados, salvos e baixados regularmente. <br><br>  Cada funcionalidade, por exemplo, esses pontos de aterrissagem - dentro de n√≥s os chamamos de pontos de capta√ß√£o - ou, por exemplo, as dicas dos pontos B sobre os quais Ilya falou e constantemente quebrou no relat√≥rio anterior, cada uma dessas funcionalidades, onde h√° algum tipo de aprendizado de m√°quina, corresponde a manipulador, que armazena a l√≥gica de receber uma solicita√ß√£o, gerar fatores de aprendizado de m√°quina e aplicar modelos e gerar uma resposta.  Obviamente, esse servi√ßo n√£o √© isolado, podendo acessar algumas fontes de dados adicionais, bancos de dados e alguns outros microsservi√ßos. <br><br><img src="https://habrastorage.org/webt/g2/st/81/g2st815sxi1r0q1wy6waaoqrxdc.jpeg"><br><br>  √â assim que √© organizado, tem uma arquitetura bastante simples.  Eu n√£o queria me deter neste slide em detalhes, s√≥ queria dizer que, por conven√ß√£o, a arquitetura √© muito simples.  Quando a solicita√ß√£o chega, h√° uma f√°brica de modelos, que √†s vezes faz o download desses modelos na nuvem.  Na mem√≥ria, eles s√£o armazenados em uma √∫nica c√≥pia.  Para cada solicita√ß√£o, √© criado um objeto de modelo bastante leve, que extrai recursos, aplica e gera uma resposta. <br><br><img src="https://habrastorage.org/webt/y3/sq/ru/y3sqruaisy4qicdx5iyvbgrq1ew.jpeg"><br><br>  Mas o que temos para o momento atual?  Eu j√° lhe disse que temos prepara√ß√£o de dados, treinamento, v√°rios estudos, experimentos e tudo isso est√° escrito em Python Stack, e h√° alguma produ√ß√£o escrita em C ++, simplesmente porque temos grandes demandas de efici√™ncia e produtividade.  Quando voc√™ vive nesse ecossistema, dois problemas surgem. <br><br>  Primeiro de tudo, este √© um problema de experimentos.  Por exemplo, um cientista de dados que trabalha em nossa equipe teve uma ideia.  Se voc√™ executar algum tipo de algoritmo de cluster ou classifica√ß√£o com par√¢metros ligeiramente diferentes, poder√° obter melhor qualidade.  Ele tentou testar sua hip√≥tese off-line, incorporada ao nosso processo Python, calculou-a, e realmente acontece.  E agora ele quer um experimento AB, ou seja, parte dos usu√°rios para mostrar o novo algoritmo e medir algumas m√©tricas j√° on-line: o tempo realmente diminui, espera, est√° aumentando o uso.  Para fazer isso, ele possui, condicionalmente, cinco vers√µes de seu algoritmo, nas quais ele acredita, que fornecem offline de boa qualidade: implemente em C ++ e conduza um experimento AB.  E ap√≥s esse experimento da AB, talvez todos os cinco sejam desperdi√ßados, ou seja, a qualidade deles online ficar√° pior do que estavam offline, ou seja, pior do que na produ√ß√£o.  Ou seja, o processo de experimenta√ß√£o leva muito tempo devido ao fato de que, condicionalmente, duas linguagens diferentes, duas tecnologias diferentes. <br><br>  Isso √© para recursos existentes.  E h√° novos.  Uma vez que esses pontos de capta√ß√£o tamb√©m eram id√©ias que eu queria verificar rapidamente.  N√£o gaste dois meses de desenvolvimento - √© aconselh√°vel obter algo em tr√™s semanas.  Criar esse prot√≥tipo √© bastante trabalhoso.  Primeiro, escreva em Python a extra√ß√£o de recursos, simplesmente porque √© conveniente - mova-se rapidamente, como eles dizem.  Voc√™ pode criar qualquer prot√≥tipo em Python, existem muitas bibliotecas para an√°lise de dados.  Voc√™ experimentou no seu laptop e agora deseja verificar os usu√°rios.  E fazer um prot√≥tipo acabou bem dif√≠cil.  Chegamos √† conclus√£o de que precisamos de algum servi√ßo adicional para montar esses prot√≥tipos rapidamente - condicionalmente em uma semana ou at√© em um dia - e tamb√©m para realizar experimentos AB. <br><br><img src="https://habrastorage.org/webt/zs/yf/kz/zsyfkzkj28m7n4gbzdgl8hmxmaq.jpeg"><br><br>  Criamos esse servi√ßo, chamado PyMLaaS.  Como ele √©?  De fato, este √© um an√°logo completo do MLaaS, sobre o qual falei antes, mas escrito em Python baseado em Flask, nginx e Gunicorn.  A arquitetura √© bastante simples, igual √† do MLaaS, mas h√° uma oportunidade de descobrir rapidamente algum prot√≥tipo de suas experi√™ncias offline.  Al√©m disso, organizamos esse proxy no n√≠vel nginx, para que, condicionalmente, tiv√©ssemos a oportunidade de encaminhar parte da carga do MLaaS para o PyMLaaS e, assim, experimentar. <br><br><img src="https://habrastorage.org/webt/iw/n9/dm/iwn9dm9njjt7nhav5gpm1szszpc.jpeg"><br><br>  Ou seja, movemos alguns par√¢metros e queremos verificar como isso afeta os usu√°rios.  Iniciamos 5% da carga no PyMLaaS e veremos o que acontece no experimento.  Por fim, √© conveniente criar prot√≥tipos.  Criei um prot√≥tipo de algum novo recurso, vi no PyMLaaS e voc√™ pode test√°-lo imediatamente na produ√ß√£o. <br><br>  Gostamos tanto que a id√©ia surgiu - por que n√£o us√°-la o tempo todo?  Porque, condicionalmente, existem recursos que exigem uma grande carga, 1000 RPS, grandes requisitos de mem√≥ria.  Eu quero ter um paralelismo bastante flex√≠vel.  Por√©m, para alguns recursos, para alguns produtos ou servi√ßos que n√£o t√™m demandas t√£o grandes de carga, desempenho, RPS etc., estamos usando esse servi√ßo com √™xito. <br><br><img src="https://habrastorage.org/webt/6g/ss/t-/6gsst-y5wpmuipwn286nxehsd70.jpeg"><br><br>  Para resumir.         ,    .   .           .    ,  - , ,  ,   -,  - .       -   PyMLaaS,  AB-,      .   ,     MLaaS,    ,       . <br><br>     pickup points ‚Äî   .           .    ,    .   30%     ,   .    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447186/">https://habr.com/ru/post/pt447186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447174/index.html">O mito da fome do pessoal ou as regras b√°sicas para vagas</a></li>
<li><a href="../pt447178/index.html">5 oportunidades efetivas para o uso da tecnologia de minera√ß√£o de processos</a></li>
<li><a href="../pt447180/index.html">Vis√£o geral e compara√ß√£o de controladores de ingresso para Kubernetes</a></li>
<li><a href="../pt447182/index.html">Sistemas operacionais: tr√™s pe√ßas f√°ceis. Parte 3: API do processo (tradu√ß√£o)</a></li>
<li><a href="../pt447184/index.html">O que √© a oferta inicial de troca (IEO) e como ela √© diferente da OIC?</a></li>
<li><a href="../pt447190/index.html">Previs√µes de matem√°ticos. Analisamos os principais m√©todos para detectar anomalias</a></li>
<li><a href="../pt447192/index.html">Que papel a tecnologia pode desempenhar na arte antiga da mistura de especiarias?</a></li>
<li><a href="../pt447194/index.html">Recursos de renderiza√ß√£o no Metro: Exodus c raytracing</a></li>
<li><a href="../pt447196/index.html">7. Introdu√ß√£o ao Ponto de Verifica√ß√£o R80.20. Controle de acesso</a></li>
<li><a href="../pt447198/index.html">Miss√£o lunar "Bereshit": acidente de pouso-queda na lua</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>