<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>  锔 JavaScript entretenido: Snow Day  烩 答</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Otra tarea artificial para la programaci贸n anormal en JavaScript . Esta vez con motivo del pr贸ximo a帽o nuevo 2019. Espero que sea igual de interesante...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript entretenido: Snow Day</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433112/"><p><img src="https://habrastorage.org/webt/zf/ez/9p/zfez9p_xyavjo1-wdofbde446sq.jpeg" alt="Imagen"></p><br><p>  Otra tarea artificial para la programaci贸n anormal en <strong>JavaScript</strong> .  Esta vez con motivo del pr贸ximo a帽o nuevo 2019.  Espero que sea igual de interesante decidir qu茅 tan interesante fue para m铆 pensar.  Pregunto curioso debajo de gato.  Todo champa帽a y todo feliz! </p><a name="habracut"></a><br><p>  Tareas anteriores: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ofuscaci贸n de soporte</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El recordatorio m谩s corto</a> </li></ul><br><h2 id="formulirovka">  Redacci贸n </h2><br><blockquote> Durante el a帽o pasado, Santa Claus ha recopilado una lista decente de nombres de desarrolladores normales y ahora planea escribir un programa para felicitarlo.  El formato es: 隆 <code>happy new year, ${username}!</code>  .  Pero aqu铆 est谩 la mala suerte: el teclado se bloquea y no le permite ingresar muchos caracteres latinos.  Despu茅s de examinar el defecto, los elfos hicieron una observaci贸n interesante de que, de lo que funciona, puedes sumar un <code>Snowing day</code> .  La fuente de salida se puede seleccionar a su discreci贸n. </blockquote><p>  Entonces, en la entrada, una serie de cadenas no vac铆as (el nombre no puede estar vac铆o).  Se requiere escribir un programa usando solo caracteres latinos: <code>S</code> , <code>n</code> , <code>o</code> , <code>w</code> , <code>i</code> , <code>g</code> , <code>d</code> , <code>a</code> , <code>y</code> (un total de 9 caracteres, uno de los cuales es may煤scula).  隆El programa debe ir alrededor de la matriz aprobada y generar la frase <code>happy new year, ${username}!</code> para cada nombre <code>happy new year, ${username}!</code>  usando alg煤n tipo de fuente de salida: <em>alert</em> , <em>console.log</em> o lo que se te ocurra.  Bueno, ser铆a bueno no contaminar el contexto global. </p><br><h2 id="privychnoe-reshenie">  Soluci贸n habitual </h2><br><p>  Si no inventas nada, entonces todo es muy simple: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">happy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i !== users.length; i += <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`happy new year, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${users[i]}</span></span></span><span class="hljs-string">!`</span></span>); } }</code> </pre> <br><p>  o mejor as铆: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">happy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ users.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`happy new year, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${user}</span></span></span><span class="hljs-string">!`</span></span>)); }</code> </pre> <br><p>  Usamos con nuestra matriz, deja que sean <em>usuarios</em> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> users = [<span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-string"><span class="hljs-string">'Jack'</span></span>, <span class="hljs-string"><span class="hljs-string">'James'</span></span>]; happy(users); <span class="hljs-comment"><span class="hljs-comment">// happy new year, John! // happy new year, Jack! // happy new year, James!</span></span></code> </pre> <br><p>  Pero aqu铆 es exagerado: usar solo caracteres permitidos en la implementaci贸n latina.  Primero trate de sobrellevar su propio problema y luego 煤nase a la discusi贸n. </p><br><h2 id="zanimatelnoe-reshenie">  Decisi贸n entretenida </h2><br><p>  Impaciente puede ver la soluci贸n a continuaci贸n en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JSFiddle</a> en este momento. </p><br><p>  Para resolver el problema, debe deshacerse del exceso de lat铆n en lo siguiente: </p><br><ol><li>  La <em>funci贸n de</em> palabra clave en una declaraci贸n de <em>funci贸n</em> . </li><li>  La palabra clave <em>let</em> (o <em>var</em> ) para declarar variables. </li><li>  Palabras clave al organizar un ciclo para iterar sobre una matriz pasada. </li><li>  La formaci贸n del texto del mensaje. </li><li>  Llama a alguna funci贸n para generar el resultado. </li></ol><br><p>  Las funciones de flecha nos ayudar谩n f谩cilmente con el primer problema: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr</span></span></span><span class="hljs-function"> =&gt;</span></span> el.forEach(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>))(users);</code> </pre> <br><p>  No prestaremos atenci贸n a los nombres de las variables en este momento, ya que podemos cambiarles el nombre f谩cilmente al final. </p><br><p>  Usamos "flechas" con IIFE siempre que se necesite una funci贸n o su resultado inmediatamente.  Adem谩s, las funciones le permiten deshacerse de las directivas <em>let</em> y <em>var</em> de dos maneras: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">param</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>)(value); <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(param = value</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>)();</code> </pre> <br><p>  En ambos casos, declaramos una variable en los par谩metros de la funci贸n.  Solo en el primer caso pasamos el valor cuando se llama a la funci贸n, y en el segundo, usamos el par谩metro de funci贸n predeterminado. </p><br><p>  De hecho, los problemas comienzan en el <strong>tercer</strong> punto.  No tenemos suficientes caracteres para el cl谩sico <em>para</em> , <em>do</em> , bucles while, ni para las opciones de recorrido a trav茅s de <em>for ... in</em> y <em>for..of</em> , ni para los m茅todos de matriz para <em>cada</em> , <em>mapa</em> , <em>filtro</em> (donde puede pasar la devoluci贸n de llamada).  Pero podemos implementar nuestra funci贸n de iteraci贸n sobre una matriz: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arr[i]) { consume(arr[i]); iter(++i); } } iter(<span class="hljs-number"><span class="hljs-number">0</span></span>); }</code> </pre> <br><p>  Recursivamente recorremos los elementos hasta que la verificaci贸n de la condici贸n actual se caiga.  驴Por qu茅 podemos confiar en la transformaci贸n l贸gica aqu铆?  porque el elemento de nuestra matriz no es una cadena vac铆a (solo se envuelve <em>falso</em> ), pero cuando salimos de la matriz a trav茅s del incremento del 铆ndice, quedamos <em>indefinidos</em> (convertidos en <em>falsos</em> ). </p><br><p>  Reescribimos la funci贸n usando las expresiones de flecha: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> iterate = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; { </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">if</span></span></span></span><span class="hljs-function"><span class="hljs-params"> (arr[i]</span></span></span><span class="hljs-function">) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">consume</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr[i]</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">); } }) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>) )();</code> </pre> <br><p>  Pero no podemos usar la <em>declaraci贸n if</em> , ya que no tenemos el car谩cter <code>f</code> .  Para que nuestra funci贸n satisfaga la condici贸n, necesitamos deshacernos de ella: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> iterate = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; arr[i] ? (consume(arr[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>) )();</code> </pre> <br><p>  El operador ternario y la capacidad de combinar dos expresiones en una a trav茅s del <em>operador de coma</em> nos ayudaron en esto.  Usaremos esta funci贸n m谩s adelante en el dise帽o de la soluci贸n. </p><br><p>  El <strong>cuarto</strong> problema es que, en cualquier caso, necesitamos obtener una cadena con caracteres faltantes.  Obviamente, utilizaremos n煤meros para representar caracteres.  Hay varias opciones: </p><br><ul><li>  Una funci贸n <em>String.fromCharCode</em> que espera que <em>devuelva</em> un n煤mero <em>entero</em> y devuelve una cadena creada a partir de la secuencia Unicode especificada. </li><li>  La secuencia de <code>\uhhhh</code> permite generar cualquier car谩cter Unicode utilizando el c贸digo hexadecimal especificado. </li><li>  Formato <code>&amp;#dddd;</code>  for html-characters le permite mostrar un s铆mbolo en el documento de la p谩gina utilizando el c贸digo decimal especificado. </li><li>  La funci贸n <em>toString</em> del objeto prototipo <em>Number</em> tiene un par谩metro <em>radix</em> adicional: la base del sistema num茅rico. </li><li>  Tal vez hay algo m谩s ... </li></ul><br><p>  Puede excavar en la direcci贸n de las tres primeras opciones, y ahora considere la que probablemente sea la m谩s f谩cil para esta tarea: <em>Number.prototype.toString</em> .  El valor m谩ximo del par谩metro <em>radix</em> es 36 (10 d铆gitos + 26 caracteres latinos en min煤sculas): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>).toString(<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p>  Por lo tanto, podemos obtener cualquier car谩cter latino por el n煤mero en el alfabeto, comenzando con 1. La 煤nica limitaci贸n es que todos los caracteres est谩n en min煤sculas.  S铆, esto es suficiente para que podamos mostrar el texto en el mensaje, pero no podemos agregar algunos m茅todos y funciones (lo mismo para cada <em>uno</em> ). </p><br><p>  Pero es demasiado temprano para alegrarse, primero debe deshacerse de <em>toString</em> en la entrada de la funci贸n.  Primero, pasamos al m茅todo de la siguiente manera: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>)[<span class="hljs-string"><span class="hljs-string">'toString'</span></span>](<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p>  Si observa detenidamente, para la cadena <code>toString</code> solo necesitamos dos caracteres: <code>t</code> <code>r</code> : todo lo dem谩s est谩 en la palabra <code>Snowing</code> .  Conseguirlos es bastante simple, ya que su orden ya insin煤a que es <code>true</code> .  Usando conversiones de tipo impl铆cito, podemos obtener esta cadena y los caracteres que necesitamos de la siguiente manera: </p><br><pre> <code class="javascript hljs">!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 'true' (!0+'')[0]; // 't' (!0+'')[1]; // 'r'</span></span></code> </pre> <br><p>  Logramos la funci贸n de obtener cualquier letra latina: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>)[(!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-string"><span class="hljs-string">'oS'</span></span> + (!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] + (!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>] + <span class="hljs-string"><span class="hljs-string">'ing'</span></span>](<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p>  Para obtener palabras de una matriz de n煤meros de secuencia de letras usando <em>symb</em> , usamos la funci贸n est谩ndar <em>Array.prototype.reduce</em> : </p><br><pre> <code class="javascript hljs">[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>].reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res, sn</span></span></span><span class="hljs-function">) =&gt;</span></span> res += symb(sn), <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 'abc'</span></span></code> </pre> <br><p>  S铆, eso no nos conviene.  Pero en nuestra soluci贸n, podemos hacer algo similar con la funci贸n <em>iterar</em> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> word = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">chars</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> (iterate(chars, ch =&gt; res += symb(ch)), res))(<span class="hljs-string"><span class="hljs-string">''</span></span>); word([<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// 'abc'</span></span></code> </pre> <br><p>  Las personas atentas notar谩n que desarrollamos la funci贸n <em>iterar</em> para una serie de cadenas, pero la usamos aqu铆 con n煤meros.  Es por eso que el 铆ndice inicial de nuestro alfabeto es 1, no 0. De lo contrario, un ciclo improvisado terminar铆a cuando se cumpliera 0 (letra <code>a</code> ). </p><br><p>  Para facilitar la asignaci贸n de caracteres a sus n煤meros de serie, puede obtener un diccionario: </p><br><pre> <code class="javascript hljs">[...Array(<span class="hljs-number"><span class="hljs-number">26</span></span>).keys()].reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map, i</span></span></span><span class="hljs-function">) =&gt;</span></span> (map[symb(i + <span class="hljs-number"><span class="hljs-number">1</span></span>)] = i + <span class="hljs-number"><span class="hljs-number">1</span></span>, map), {}); <span class="hljs-comment"><span class="hljs-comment">// {a: 1, b: 2, c: 3, d: 4, e: 5, }</span></span></code> </pre> <br><p>  Pero es m谩s sabio hacer a煤n m谩s simple y escribir la funci贸n de la transformaci贸n de la palabra inversa en su conjunto: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> reword = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> str.split(<span class="hljs-string"><span class="hljs-string">''</span></span>).map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(s, <span class="hljs-number"><span class="hljs-number">36</span></span>) - <span class="hljs-number"><span class="hljs-number">9</span></span>); reword(<span class="hljs-string"><span class="hljs-string">'happy'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [8,1,16,16,25] reword('new'); // [14,5,23] reword('year'); // [25,5,1,18]</span></span></code> </pre> <br><p>  Completamos la funci贸n de formar el mensaje en s铆: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> message = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function"> =&gt;</span></span> word([<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + word([<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + word([<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>]) + <span class="hljs-string"><span class="hljs-string">', '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'!'</span></span>;</code> </pre> <br><p>  Queda muy poco para tratar la conclusi贸n del <strong>quinto</strong> problema.  <em>Consola</em> , <em>alerta</em> , <em>confirmaci贸n</em> , <em>aviso</em> , <em>innerHTML</em> , <em>document.write</em> vienen a la mente.  Pero ninguna de las opciones enumeradas puede ser contactada directamente. </p><br><p>  Tambi茅n tuvimos la oportunidad de obtener cualquier palabra usando la funci贸n de <em>palabra</em> .  Esto significa que podemos llamar a muchas funciones desde objetos accediendo a ellas entre corchetes, como fue el caso con <em>toString</em> . </p><br><p>  Dado que utilizamos funciones de flecha, <em>este</em> contexto sigue siendo global (y no hay necesidad de reenviarlo).  En cualquier lugar, podemos acceder a muchas de sus funciones a trav茅s de una l铆nea: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[word([<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>])](<span class="hljs-string"><span class="hljs-string">'hello'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// alert('hello'); this[word([3,15,14,19,15,12,5])][word([12,15,7])]('hello'); // console.log('hello');</span></span></code> </pre> <br><p>  Pero para el "dibujo" de <code>this</code> nuevamente nos faltan personajes.  Podemos reemplazarlo con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Window.self</a> , pero con 茅l es a煤n peor en t茅rminos del alfabeto disponible.  Sin embargo, vale la pena prestar atenci贸n al objeto de la <em>ventana en</em> s铆, cuyo "esquema" es bastante satisfactorio para nosotros, incluso si hubiera sido de cabra, 隆y es mucho m谩s largo! </p><br><p>  Por cierto, en la primera versi贸n de la tarea, la frase clave era solo la palabra <code>Snowing</code> , y la <code>window</code> no se pod铆a plegar (debido a la ausencia del car谩cter <code>d</code> ).  El acceso al contexto se bas贸 en uno de los trucos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">jsfuck</a> : </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)[<span class="hljs-string"><span class="hljs-string">'constructor'</span></span>](<span class="hljs-string"><span class="hljs-string">'return this'</span></span>)()[<span class="hljs-string"><span class="hljs-string">'alert'</span></span>](<span class="hljs-string"><span class="hljs-string">'hello'</span></span>);</code> </pre> <br><p>  O tambi茅n puede acceder a algo en un contexto global directamente: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)[<span class="hljs-string"><span class="hljs-string">'constructor'</span></span>](<span class="hljs-string"><span class="hljs-string">'return alert'</span></span>)()(<span class="hljs-string"><span class="hljs-string">'hello'</span></span>);</code> </pre> <br><p>  Como puede ver, en los ejemplos todo el lat铆n est谩 en l铆neas.  Aqu铆 creamos una funci贸n a partir de una cadena, y tenemos acceso a la <em>Funci贸n</em> (constructor) desde la funci贸n de flecha desperdiciada.  隆Pero esto es de alguna manera demasiado!  驴Quiz谩s alguien m谩s sabe c贸mo acceder al contexto en nuestras condiciones? </p><br><p>  隆Finalmente, lo juntamos todo!  El cuerpo de nuestra funci贸n "principal" llamar谩 a <em>iterar</em> para la matriz pasada, y el consumidor generar谩 el resultado de la funci贸n de compilaci贸n de mensajes ya incorporada.  Para el texto del mensaje y los comandos, se utiliza una funci贸n de una <em>palabra</em> , que tambi茅n necesita <em>iterar</em> , y la determinaremos a continuaci贸n en <em>los par谩metros predeterminados</em> .  As铆: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">//</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstly we need the iterating </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">function</span></span></span></span><span class="hljs-function"><span class="hljs-params"> iterate = (array, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> (<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; array[i] ? (consume(array[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>))(), <span class="hljs-comment"><span class="hljs-comment">// then we determine the word-creating function word = chars =&gt; (res =&gt; (iterate(chars, ch =&gt; res += (ch + 9)[(!0+'')[0] + 'oS' + (!0+'')[0] + (!0+'')[1] + 'ing'](36) ), res) )('') ) =&gt; iterate(users, name =&gt; // using console.log in window for printing out window[word([3,15,14,19,15,12,5])][word([12,15,7])]( word([8,1,16,16,25]) + ' ' + word([14,5,23]) + ' ' + word([25,5,1,18]) + ', ' + name + '!' ) ))() ))(users);</span></span></code> </pre> <br><p>  Cambie el nombre de las variables usando el alfabeto permitido: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_10</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( _123 = (ann, snow</span></span></span><span class="hljs-function">) =&gt;</span></span> (<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_12 = i =&gt; ann[i] ? (snow(ann[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_12</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> _12(<span class="hljs-number"><span class="hljs-number">0</span></span>))(), wo = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ann</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w</span></span></span><span class="hljs-function"> =&gt;</span></span> (_123(ann, an =&gt; w += <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">an + </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">9</span></span></span></span></span><span class="hljs-function">)[(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[0] + '</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oS</span></span></span><span class="hljs-function">' + (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[0] + (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[1] + '</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ing</span></span></span><span class="hljs-function">'](</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">36</span></span></span></span></span><span class="hljs-function">) ), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w</span></span></span><span class="hljs-function">) )(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">) ) =&gt;</span></span> _123(_10, _1 =&gt; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>[wo([<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>])][wo([<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>])]( wo([<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + wo([<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + wo([<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>]) + <span class="hljs-string"><span class="hljs-string">', '</span></span> + _1 + <span class="hljs-string"><span class="hljs-string">'!'</span></span> ) ))() ))(users);</code> </pre> <br><table><thead><tr><th>  Variable </th><th>  Descripci贸n </th></tr></thead><tbody><tr><td>  <strong>_123</strong> <code>{function}</code> </td><td>  La funci贸n <em>iterar</em> para iterar sobre los elementos de una matriz. </td></tr><tr><td>  <strong>_12</strong> <code>{function}</code> </td><td>  La funci贸n <em>iter</em> local que <em>itera</em> llamadas recursivamente. </td></tr><tr><td>  <strong>nieve</strong> <code>{function}</code> </td><td>  <em>Consume la</em> funci贸n como devoluci贸n de llamada para <em>iterar</em> . </td></tr><tr><td>  <strong>ann</strong> <code>{Array&lt;Any&gt;}</code> </td><td>  Par谩metro de matriz. </td></tr><tr><td>  <strong>un</strong> <code>{Any}</code> </td><td>  Par谩metro del elemento de matriz. </td></tr><tr><td>  <strong>wo</strong> <code>{function}</code> </td><td>  La <em>palabra</em> funciona para formar palabras. </td></tr><tr><td>  <strong>w</strong> <code>{string}</code> </td><td>  Variable local para acumular una cadena en <em>palabra</em> . </td></tr><tr><td>  <strong>_10</strong> <code>{Array&lt;string&gt;}</code> </td><td>  El conjunto original de usuarios. </td></tr><tr><td>  <strong>_1</strong> <code>{string}</code> </td><td>  El usuario de la matriz fuente, su nombre. </td></tr></tbody></table><br><p>  Eso es todo  Escriba sus ideas y pensamientos sobre esto, ya que hay muchas opciones para hacer algo diferente o no hacer nada. </p><br><h2 id="zaklyuchenie">  Conclusi贸n </h2><br><p>  Es interesante que encontrar una palabra o frase para las condiciones del problema haya resultado ser una prueba real.  Quer铆a que fuera baja y no muy sugestiva, y adecuada para una soluci贸n m谩s o menos concisa. </p><br><p>  La inspiraci贸n para esta tarea fue proporcionada por la funcionalidad de JavaScript y el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">isot茅rico de 6 caracteres</a> conocidos por muchos.  Como se discuti贸 anteriormente en las tareas, esto puede tener varias variaciones sobre el tema, y no es la 煤nica soluci贸n.  Es suficiente con una redacci贸n simple y una frase clave.  隆Nos vemos en el a帽o nuevo! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es433112/">https://habr.com/ru/post/es433112/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es433100/index.html">Trabajando con una base de datos desde una aplicaci贸n</a></li>
<li><a href="../es433102/index.html">驴Por qu茅 los cient铆ficos creen que el Noveno Planeta no existe?</a></li>
<li><a href="../es433104/index.html">El desaf铆o de Foobar: la prueba secreta de Google para desarrolladores</a></li>
<li><a href="../es433106/index.html">SpaceX y NASA reafirman sus intenciones de lanzar el lanzamiento debut de la nave Crew Dragon en enero de 2019</a></li>
<li><a href="../es433108/index.html">ld -z c贸digo separado</a></li>
<li><a href="../es433114/index.html">Certificaci贸n PMP: preparaci贸n para el examen de estilo de cercan铆as</a></li>
<li><a href="../es433116/index.html">Lanzallamas, Santa Claus en un tanque, Bigfoot, Baba Yaga en Endurica (y, posiblemente, un jetpack): todo para ni帽os para el nuevo a帽o</a></li>
<li><a href="../es433118/index.html">Pruebas de referencia y an谩lisis r谩pido de algoritmos de permutaciones</a></li>
<li><a href="../es433122/index.html">React-Hot-Loader v4.6</a></li>
<li><a href="../es433126/index.html">Revisi贸n de Zabbix: C贸mo organizar una revisi贸n de c贸digo para monitorear la configuraci贸n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>