<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯПХя╕П ЁЯзСЁЯП╗тАНЁЯдЭтАНЁЯзСЁЯП╗ ЁЯЫВ Yii1 / yii2 рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ ЁЯЪ▓ ЁЯСП ЁЯЪ╢ЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣ рд▓реЗрдЦ рдкрд╣рд▓реЗ рднрд╛рдЧ рдХреЗ рдмрд┐рдирд╛ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдЙрддреНрддрд░ рд╣реИ "рдРрд╕рд╛ рдХреНрдпреЛрдВ рдХрд░реЗрдВред" 

 рдпрд╣ yii1 рд╕реЗ yii2 рддрдХ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рд╕реБрдЪрд╛рд░реВ рд░реВрдк рд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Yii1 / yii2 рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рд╛рдЭрд╛ рдХрд░рдирд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419999/"><img src="https://habrastorage.org/webt/ax/qo/vv/axqovvxw6vehedogcejd1obzehs.jpeg" alt="рдЫрд╡рд┐"><br><br>  рдпрд╣ рд▓реЗрдЦ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╣рд▓реЗ рднрд╛рдЧ рдХреЗ рдмрд┐рдирд╛</a> рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдЙрддреНрддрд░ рд╣реИ "рдРрд╕рд╛ рдХреНрдпреЛрдВ рдХрд░реЗрдВред" <br><br>  рдпрд╣ yii1 рд╕реЗ yii2 рддрдХ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рд╕реБрдЪрд╛рд░реВ рд░реВрдк рд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рддрдХрдиреАрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИред  рдЗрд╕рдХрд╛ рд╕рд╛рд░ рдпрд╣ рд╣реИ рдХрд┐ yii1 рдкрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреА рд╢рд╛рдЦрд╛рдПрдБ рдФрд░ yii2 рдкрд░ рдЗрд╕рдХрд╛ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рдПрдХ рд╣реА рд╣реЛрд╕реНрдЯ рдореЗрдВ рдПрдХ рд╣реА рдбреЛрдореЗрди рдкрд░ рдПрдХ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдорд╛рдЗрдЧреНрд░реЗрд╢рди рдХреЛ рдзреАрд░реЗ-рдзреАрд░реЗ, рдЫреЛрдЯреЗ рдЪрд░рдгреЛрдВ рдореЗрдВ (рдкреГрд╖реНрдареЛрдВ, рдирд┐рдпрдВрддреНрд░рдХреЛрдВ, рдореЙрдбреНрдпреВрд▓, рдЖрджрд┐ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ) рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдкрд╣рд▓рд╛ рднрд╛рдЧ рдореМрдЬреВрджрд╛ рд╡рд░реНрдЪреБрдЕрд▓ рд╣реЛрд╕реНрдЯ рдореЗрдВ yii2 рдкрд░ рдПрдХ рдирдВрдЧреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдерд╛, рдЕрд░реНрдерд╛рддред  рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХрд┐рдП рдмрд┐рдирд╛ рджреЛрдиреЛрдВ рд╢рд╛рдЦрд╛рдПрдВ рдПрдХ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВред <br><br>  рдЙрд╕рдХреЗ рдмрд╛рдж рд╕рдмрд╕реЗ рдордиреЛрд╡реИрдЬреНрдЮрд╛рдирд┐рдХ рд░реВрдк рд╕реЗ рдХрдард┐рди рдЪрд░рдг рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ: рдЖрдкрдХреЛ рд╢реБрд░реБрдЖрдд рдХреЗ рд▓рд┐рдП рдПрдХ рдиреНрдпреВрдирддрдо рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪрд╛ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдореИрдВ 2 рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдПрдХрд▓ рдХрд░реВрдВрдЧрд╛: рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдбрд┐рдЬрд╝рд╛рдЗрди рдФрд░ рдПрдВрдб-рдЯреВ-рдПрдВрдб рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдгред <br><br>  рдмреЛрд░рд┐рдВрдЧ рджреНрд╡рд╛рд░рд╛ рдбрд┐рдЬрд╛рдЗрди рдХреА рдирдХрд▓ рдХреЛ рдкрд╣рд▓рд╛ рд╕реНрдерд╛рди рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрджрд┐ рдЖрдк рдЕрд╢реБрдн рд╣реИрдВ, рддреЛ рдЖрдк рдкреБрд░рд╛рдиреЗ "1 рдореЗрдВ 1" рдХреЛ рдХреЙрдкреА / рд░рд┐рд╡рд░реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ, рдореИрдВрдиреЗ рд╣рдореЗрд╢рд╛ рд░рд┐рдбрд┐рдЬрд╛рдЗрди рдХреЗ рд╕рд╛рде рд╕рдВрдпреЛрдЬрди рдХрд┐рдпрд╛ред  рдпрд╛рдиреА  рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдФрд░ рдбрд┐рдЬрд╝рд╛рдЗрди рдХреЛ рдХрд╛рдлреА рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЗрд╕ рд╕рдВрдмрдВрдз рдореЗрдВ, рдХрд╛рдо рдмреЗрд╡рдХреВрдл рдирд╣реАрдВ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рдкреНрд░рддреНрдпреЗрдХ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд▓рд┐рдП - рдореИрдВ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдФрд░ рдбрд┐рдЬрд╝рд╛рдЗрди рдкрд░ рдмрд╣реБрдд рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реВрдВ, рдХреЛрдИ, рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, рдмреИрдХрдПрдВрдб рдФрд░ рдХрдВрд╕реЛрд▓ рдХреЛ рдЕрдзрд┐рдХ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реИред  рдлрд┐рд░ рднреА, рд╡рд░реАрдпрддрд╛рдУрдВ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛, рдЗрд╕ рдХрд╛рд░реНрдп рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИ - рдЖрдкрдХреЛ рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛, рдФрд░ рдХрд╛рдо рдХреА рдорд╛рддреНрд░рд╛ рдХрд╛рдлреА рдмрдбрд╝реА рд╣реЛрдЧреАред <br><br>  рдПрдВрдб-рдЯреВ-рдПрдВрдб рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ, рдФрд░ рдХрдо рдХрд╛рдо рд╣реЛрдЧрд╛ред  рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рд▓реЗрдЦ рдореЗрдВ, рдХреЛрдИ рд░рд╣рд╕реНрдпреЛрджреНрдШрд╛рдЯрди рдирд╣реАрдВ рд╣реЛрдЧрд╛ред  рд▓реЗрдЦ рдХрд╛ рдЪрд░рд┐рддреНрд░: рдкрд╣рд▓реА рдмрд╛рд░ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рд╡рд╛рд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ред <br><br>  рдпрджрд┐ рдпрд╣ рдЖрдкрдХрд╛ рдорд╛рдорд▓рд╛ рд╣реИ, рддреЛ рдХрдЯреМрддреА рдХреЗ рддрд╣рдд рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг <br><a name="habracut"></a><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рд╢рд╛рдЦрд╛рдУрдВ рдХреЗ рдмреАрдЪ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдХреНрдпреЛрдВрдХрд┐  рдпрд╣ рд╕рдордЭрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдорд╛рдЗрдЧреНрд░реЗрд╢рди рдЪрд░рдг рдХреЗрд╡рд▓ рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╣реИ, рдлрд┐рд░, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ (рдкрдВрдЬреАрдХрд░рдг, рдкреНрд░рдорд╛рдгреАрдХрд░рдг, рдкрд╛рд╕рд╡рд░реНрдб рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐, рдЖрджрд┐) рдХреЗ рд╕рд╛рде рдХрд╛рдо рдкреБрд░рд╛рдиреА рд╕рд╛рдЗрдЯ рдкрд░ рд░рд╣рддрд╛ рд╣реИред  рдФрд░ yii2 рдкрд░ рдирдИ рд╢рд╛рдЦрд╛ рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкреНрд░рдорд╛рдгрд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  Yii1 / yii2 рдХрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рддрдВрддреНрд░ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рд╣реИ рдФрд░ рдЖрдкрдХреЛ yii2 рдХреЛрдб рдХреЛ рдЯреНрд╡рд┐рдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рдПрдХ рдкреНрд░рд╛рдорд╛рдгрд┐рдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рджреЗрдЦ рд╕рдХреЗред  рдХреНрдпреЛрдВрдХрд┐  рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдбреЗрдЯрд╛ рд╕рддреНрд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЖрдкрдХреЛ рдмрд╕ рд╕рддреНрд░ рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдкрджрдВрдбреЛрдВ рдкрд░ рд╕рд╣рдордд рд╣реЛрдирд╛ рд╣реЛрдЧрд╛ред <br><br>  Yii1 рд╕реЗ рдПрдХ рд╕рддреНрд░ рдореЗрдВ, рдЗрд╕реЗ рдХрд┐рд╕реА рддрд░рд╣ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre><code class="php hljs">print_r($_SESSION); <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [<span class="hljs-number"><span class="hljs-number">34e60</span></span>d27092d90364d1807021107e5a3__id] =&gt; <span class="hljs-number"><span class="hljs-number">123456</span></span> [<span class="hljs-number"><span class="hljs-number">34e60</span></span>d27092d90364d1807021107e5a3__name] =&gt; tester [<span class="hljs-number"><span class="hljs-number">34e60</span></span>d27092d90364d1807021107e5a3__states] =&gt; <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( ) )</code> </pre> <br>  рдпрд╣ рдЖрдкрдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдЪреЗрдХ рдХрд░реЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, prefixKey рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╕реЗ yii1 рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИред <br><br>  рдпрд╣рд╛рдБ рдбреЗрдЯрд╛ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ yii1 рд╕реЗ рдЪрд╛рд╣рд┐рдП <br><br><pre> <code class="php hljs">Yii::app()-&gt;user-&gt;getStateKeyPrefix() Yii::app()-&gt;name Yii::app()-&gt;getBasePath() Yii::app()-&gt;getId() get_class(Yii::app()-&gt;user)</code> </pre><br>  рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рдПрдХ рдкрд░реАрдХреНрд╖рдг рдкреГрд╖реНрда рдмрдирд╛рдирд╛ рд╣реИ рдФрд░ рдЙрд╕ рдкрд░ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдбреЗрдЯрд╛ рджрд┐рдЦрд╛рдирд╛ рд╣реИ - рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред <br><br><h2>  Yii2 рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг </h2><br>  Yii2 рдореЗрдВ, рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдШрдЯрдХ ( <u>\ yii \ web \ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛</u> ) рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ, рдЬреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реНрдерд┐рддрд┐ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреА рд╣реИред <br><br><ul><li>  рдЗрд╕рдХреЗ <u>getIdentity ()</u> рдореЗрдердб рдореЗрдВ, <u>renewAuthStatus ()</u> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рддреНрд░ <u>$ idParam</u> рдЪрд░ рд╕реЗ рдХреБрдВрдЬреА рджреНрд╡рд╛рд░рд╛ рджреЗрдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ '__id' рд╡рд╣рд╛рдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИ); </li><li>  рд╕рддреНрд░ рдЪрд░ рдореЗрдВ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХреБрдВрдЬреА <u>$ idParam</u> (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <u>рдРрдк / рдореЙрдбрд▓ / рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ</u> ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рдЬрд╛рддреА рд╣реИред </li></ul><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрдзрд┐рдХрд╛рд░рд┐рдХ</a> рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЧрдпрд╛</a> рд╣реИред</i> <br><br>  рдмреЗрд╢рдХ, yii1 рдореЗрдВ, рд╕рддреНрд░ рдПрдХ рдЕрд▓рдЧ рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдЖрдкрдХреЛ рдЙрд╕реА рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХреЗ рд▓рд┐рдП yii2 рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдпрд╣ yii1 рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИред <br><br>  <b>рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:</b> <br><br>  1. <u>yi</u> <u>/ web / user</u> in <u>config / web.php</u> рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реНрдерд┐рддрд┐ рдХреЗ рдкреНрд░рдмрдВрдзрди рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдШрдЯрдХ рдХреЗ рд╡рд░реНрдЧ рдХреЛ рдмрджрд▓реЗрдВред <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'components'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'user'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'app\models\WebUser'</span></span>, <span class="hljs-string"><span class="hljs-string">'identityClass'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'app\models\User'</span></span>, ], ]</code> </pre><br>  2. <u>app \ рдореЙрдбрд▓ \ WebUser</u> рдореЗрдВ <u>$ idParam</u> рдХреЗ рдореВрд▓реНрдп рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░реЗрдВред <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  idParam (    //    ) $this-&gt;idParam = $this-&gt;getIdParamYii1(); }</span></span></code> </pre> <br>  рд╕реНрдкреЙрдЗрд▓рд░ рдХреЗ рддрд╣рдд рдХреБрдЫ рддрд░реАрдХреЗ рд╣реЛрдВрдЧреЗ рдЬреЛ рдХрд┐рд╕реА рднреА рддрд░рд╣ yii1 рд╕реЗ рд╕рдорд╛рди рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВрдЧреЗред <br><br>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЖрдк рдореВрд▓ <u>ykey1</u> рд╕реЗ рдореВрд▓ <u>_keyPrefix</u> (рдпрд╛ рдпрд╣рд╛рдБ рддрдХ рдХрд┐ <u>idParam</u> ) рдХреЛ рдХреЙрдкреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдХреА рдкреАрдврд╝реА рдХрд╛ рдЕрдиреБрдХрд░рдг рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рдпрд╣ рдирд┐рд░реНрджреЗрд╢ "рдирдХрд▓ рдпреЛрдЧреНрдп рдХрдЪрд░рд╛" рдХреА рддрд░рд╣ рд╣реЛрдЧрд╛ред <br><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдЖрдк рдХреЙрдкреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ ykey1 рдореЗрдВ _keyPrefix рд▓рдЧрднрдЧ рд╕реНрдерд┐рд░ рд╣реИред  рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдШрдЯрдХ рдХреЗ рд╡рд░реНрдЧ рдирд╛рдо рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЖрдИрдбреА рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдмрджрд▓реЗ рдореЗрдВ рдЖрд╡реЗрджрди рдХреЗ рд╕реНрдерд╛рди рдФрд░ рдЙрд╕рдХреЗ рдирд╛рдо рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   yii1  _keyPrefix $this-&gt;_keyPrefix = md5('Yii.'.get_class($this).'.'.Yii::app()-&gt;getId()); //   - ID  $this-&gt;_id=sprintf('%x',crc32($this-&gt;getBasePath().$this-&gt;name));</span></span></code> </pre><br>  рдЕрдЧрд░ рд╣рдо рдЦреБрдж рдХреЛ рдХреЗрд╡рд▓ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛рд░реНрдп рддрдХ рд╣реА рд╕реАрдорд┐рдд рд░рдЦрддреЗ рд╣реИрдВ, рддреЛ _keyPrefix рдореВрд▓реНрдп рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдиреЗ рд╕реЗ рдХрд╛рдо рдХреА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдХрд╛рдлреА рдХрдореА рдЖрддреА рд╣реИред  рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдкрд╛рд╕ рд╡реНрдпрд╛рдкрдХ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЙрджрд╛рд╣рд░рдг рд╣реЛрдВрдЧреЗред <br><br><div class="spoiler">  <b class="spoiler_title">рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдШрдЯрдХ (рдПрдкреНрд▓рд┐рдХреЗрд╢рди \ рдореЙрдбрд▓ \ WebUser)</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">app</span></span>\<span class="hljs-title"><span class="hljs-title">models</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">web</span></span>\<span class="hljs-title"><span class="hljs-title">User</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebUser</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *    cookies  yii2, *     yii1 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $autoRenewCookie = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * _keyPrefix    CWebUser  Yii1 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_keyPrefix; <span class="hljs-comment"><span class="hljs-comment">/** *    Yii1,    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $paramsYii1 = [ <span class="hljs-comment"><span class="hljs-comment">//    user   Yii1 'classUserComponent' =&gt; 'CWebUser', // ID  Yii1 //  ,  Yii::app()-&gt;getId() 'appId' =&gt; '', //     Yii1 'appName' =&gt; 'My Web Application', //     yii1  \Yii::getAlias('@app') 'relPath' =&gt; '../htdocs/protected', ]; public function init() { //  idParam (    //    ) $this-&gt;idParam = $this-&gt;getIdParamYii1(); } }</span></span></code> </pre><br>  рдФрд░ рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рддрд░реАрдХреЗ (рд╡реЗрдмрдЙрдЬрд╝рд░)ред  <i>рдЖрд╕рд╛рди рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧред</i> <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *     Yii1,    ID  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getIdParamYii1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getStateKeyPrefix() . <span class="hljs-string"><span class="hljs-string">'__id'</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** *    Yii 1 * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStateKeyPrefix</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_keyPrefix !== <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_keyPrefix; $class = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;paramsYii1[<span class="hljs-string"><span class="hljs-string">'classUserComponent'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_keyPrefix = md5(<span class="hljs-string"><span class="hljs-string">'Yii.'</span></span> . $class . <span class="hljs-string"><span class="hljs-string">'.'</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getAppIdYii1()); } <span class="hljs-comment"><span class="hljs-comment">/** *   getId()  CApplication * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string ID  Yii1 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAppIdYii1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;paramsYii1[<span class="hljs-string"><span class="hljs-string">'appId'</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;paramsYii1[<span class="hljs-string"><span class="hljs-string">'appId'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;paramsYii1[<span class="hljs-string"><span class="hljs-string">'appId'</span></span>] = sprintf(<span class="hljs-string"><span class="hljs-string">'%x'</span></span>, crc32(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getBasePathYii1() . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;paramsYii1[<span class="hljs-string"><span class="hljs-string">'appName'</span></span>])); } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string    Yii1 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBasePathYii1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $basePath = realpath(\Yii::getAlias(<span class="hljs-string"><span class="hljs-string">'@app'</span></span>) . DIRECTORY_SEPARATOR . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;paramsYii1[<span class="hljs-string"><span class="hljs-string">'relPath'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$basePath) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidConfigException(<span class="hljs-string"><span class="hljs-string">'basePath  yii1  .'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $basePath; }</code> </pre><br>  <i>рдХреЗрд╡рд▓ " <u>рд╕рддреНрд░ рдХреБрдВрдЬреА рдХреЗ рдкреНрд░рд╛рд░реВрдк рдкрд░ рд╕рд╣рдорддрд┐</u> " рдХреЗ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЕрдкрдШрдЯрди рдереЛрдбрд╝рд╛ рдЬрдЯрд┐рд▓ рд╣реИ, рд▓реЗрдХрд┐рди рд╡реЗ рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИрдВред</i> <br></div></div><br>  рдЙрд╕рдХреЗ рдмрд╛рдж, yii2 рдкрд░ рдПрдХ рдирдИ рд╢рд╛рдЦрд╛ рдореЗрдВ, рдкрд╣рд▓реЗ рд╕реЗ yii1 рдореЗрдВ рдЕрдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдорд╛рдиреНрдпрддрд╛ рдХрд╛рдо рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрддреА рд╣реИред  рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ, рдЗрд╕реЗ рд░реЛрдХрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдлрд┐рд╕рд▓рди рдорд╛рд░реНрдЧ рдЖрдЧреЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред <br><br><h2>  Yii2 рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд▓реЙрдЧрд┐рди </h2><br>  рд╕рддреНрд░ рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣рдг рдкреНрд░рд╛рд░реВрдк рдкрд░ рд╕рд╣рдорддрд┐ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд▓реЙрдЧрд┐рди "рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ" рднреА yii2 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред <br><br>  <i>рдореИрдВ yii1 рдкрд░ рд╕рдВрдмрдВрдзрд┐рдд рдкреНрд░рдкрддреНрд░ рдХреЛ рдЕрдХреНрд╖рдо рдХрд┐рдП рдмрд┐рдирд╛ рдХреЙрдореНрдмреИрдЯ рдореЛрдб рдореЗрдВ yii2 рдкрд░ рд▓реЙрдЧрд┐рди рдлреЙрд░реНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЧрд▓рдд рдорд╛рдирддрд╛ рд╣реВрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдмреБрдирд┐рдпрд╛рджреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдереЛрдбрд╝рд╛ рд╕рдордиреНрд╡рдп рдХреЗ рдмрд╛рдж рдХрд╛рдо рдХрд░реЗрдЧреАред</i> <br><br>  рдХреНрдпреЛрдВрдХрд┐  рд╣рдо рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрдВрдЬреАрдХрд░рдг, рдФрд░ рддрджрдиреБрд╕рд╛рд░ рдкрд╛рд╕рд╡рд░реНрдб рд╣реИрд╢рд┐рдВрдЧ, yii1 рдореЗрдВ рд░рд╣рддрд╛ рд╣реИ, yii2 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд▓реЙрдЧрд┐рди рдХреЗ рд▓рд┐рдП рд╣рдореЗрдВ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ yii2 рдореЗрдВ рд╕рд╣реЗрдЬреЗ рдЧрдП рдкрд╛рд╕рд╡рд░реНрдб рдХреА рд╕рддреНрдпрд╛рдкрди рд╡рд┐рдзрд┐ рд╕рдордЭ рд╕рдХрддреА рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╣реИрд╢реЗрдб рдФрд░ Yii1 рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИред <br><br>  рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдХрд┐ рдпреЗ рддрд░реАрдХреЗ рдХреНрдпрд╛ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ Yii2 рдореЗрдВ, рд╕рд╢рд░реНрдд рд░реВрдк рд╕реЗ рдорд╛рдирдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдореЙрдбрд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдорд╛рдиреНрдп рдХрд░рддрд╛ рд╣реИ: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validatePassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($password)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> \Yii::$app-&gt;getSecurity()-&gt;validatePassword($password, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;password); }</code> </pre><br>  рдЙрд╕рдХреЗ рдмрд╛рдж, yii <u>\ base \ Security</u> (Yii2) рд╕реЗ рд╡реИрджреНрдпреБрддрд╢рдмреНрдж <u>($ рдкрд╛рд╕рд╡рд░реНрдб, $ рд╣реИрд╢)</u> <u>рд╡рд┐рдзрд┐ рджреЗрдЦреЗрдВ</u> <br><br><div class="spoiler">  <b class="spoiler_title">рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ ()</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validatePassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($password, $hash)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_string($password) || $password === <span class="hljs-string"><span class="hljs-string">''</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidArgumentException(<span class="hljs-string"><span class="hljs-string">'Password must be a string and cannot be empty.'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!preg_match(<span class="hljs-string"><span class="hljs-string">'/^\$2[axy]\$(\d\d)\$[\.\/0-9A-Za-z]{22}/'</span></span>, $hash, $matches) || $matches[<span class="hljs-number"><span class="hljs-number">1</span></span>] &lt; <span class="hljs-number"><span class="hljs-number">4</span></span> || $matches[<span class="hljs-number"><span class="hljs-number">1</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">30</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidArgumentException(<span class="hljs-string"><span class="hljs-string">'Hash is invalid.'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (function_exists(<span class="hljs-string"><span class="hljs-string">'password_verify'</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> password_verify($password, $hash); } $test = crypt($password, $hash); $n = strlen($test); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($n !== <span class="hljs-number"><span class="hljs-number">60</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compareString($test, $hash); }</code> </pre></div></div><br>  рдФрд░ рдЕрдЧрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдореЙрдбрд▓ рдореЗрдВ Yii1 рдкрд╛рд╕рд╡рд░реНрдб рд╣реИрд╢рд┐рдВрдЧ рдкрд░ рдЗрд╕ рддрд░рд╣ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hashPassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($password)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> CPasswordHelper::hashPassword($password); }</code> </pre><br>  рдлрд┐рд░ <u>yii</u> <u>\ Framework \ utils \ CPasswordHelper</u> рд╕реЗ <u>VerPassword ($ рдкрд╛рд╕рд╡рд░реНрдб, $ рд╣реИрд╢)</u> рд╕реЗ <u>рддреБрд▓рдирд╛ рдХрд░реЗрдВ</u> <br><br><div class="spoiler">  <b class="spoiler_title">hashPassword ()</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hashPassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($password,$cost=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">13</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::checkBlowfish(); $salt=<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::generateSalt($cost); $hash=crypt($password,$salt); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!is_string($hash) || (function_exists(<span class="hljs-string"><span class="hljs-string">'mb_strlen'</span></span>) ? mb_strlen($hash, <span class="hljs-string"><span class="hljs-string">'8bit'</span></span>) : strlen($hash))&lt;<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CException(Yii::t(<span class="hljs-string"><span class="hljs-string">'yii'</span></span>,<span class="hljs-string"><span class="hljs-string">'Internal error while generating hash.'</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $hash; }</code> </pre><br></div></div><br>  рдпрджрд┐ рд╣реИрд╢рд┐рдВрдЧ рдФрд░ рд╕рддреНрдпрд╛рдкрди рдХреЗ рддрд░реАрдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ <u>рдРрдкреНрдкрд▓</u> <u>/ рдореЙрдбрд▓ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛</u> рд╕реЗ <u>рд╡реИрд▓рд┐рдбреЗрдЯрдкрд╛рд╕рд╡рд░реНрдб ()</u> рдореЗрдВ рд╕рддреНрдпрд╛рдкрди рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмрдХреНрд╕реЗ рд╕реЗ, Yii1 / Yii2 рдкрд╛рд╕рд╡рд░реНрдб рд╣реИрд╢ рд╕рдВрдЧрдд рд╣реИрдВред  рд▓реЗрдХрд┐рди рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╡реЗ рдЖрдкрдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рд╣реЛрдВрдЧреЗ рдпрд╛ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдпрд╣ рдореЗрд▓ рдЦрд╛рдПрдВрдЧреЗред  рд╕рдВрднрд╛рд╡рдирд╛ рдХреА рдПрдХ рдЙрдЪреНрдЪ рдбрд┐рдЧреНрд░реА рдХреЗ рд╕рд╛рде, Yii1 рдореЗрдВ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд╣реИрд╢рд┐рдВрдЧ рддрд░реАрдХреЗ рдФрд░ Yii2 рдкрд░ рдирдИ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдорд╛рдиреНрдпрддрд╛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрдЧреАред <br><br><h2>  Yii1 рд╕реЗ рдХреБрдХреАрдЬрд╝ рдкрд░ Yii2 рдореЗрдВ рдСрдЯреЛрд▓реЙрдЧрд┐рди </h2><br><blockquote>  рдЪреВрдВрдХрд┐ Yii2 рдкрд░ рдПрдХ рд╢рд╛рдЦрд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬрд╛рдирддреА рд╣реИ рдХрд┐ Yii1 рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдбреЗрдЯрд╛ рдХрд╛ рдкрд╛рд░рджрд░реНрд╢реА рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВ рдХреБрдХреА рджреНрд╡рд╛рд░рд╛ рдСрдЯреЛ-рд▓реЙрдЧрд┐рди рд╕реЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ? <br></blockquote>  рдпрджрд┐ рдРрд╕рд╛ рд╡рд┐рдЪрд╛рд░ рдЖрдкрдХреЛ рдкрд░реЗрд╢рд╛рди рдХрд░рддрд╛ рд╣реИ, рддреЛ рдореИрдВ рдЖрдкрдХреЛ рдЗрд╕реЗ рддреНрдпрд╛рдЧрдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред  рдореБрдЭреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдереНрд░реЗрдб (рдкреНрд░рдорд╛рдгреАрдХрд░рдг, рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ) рдХреЛ рдЗрд╕ рдереНрд░реЗрдб рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдП рдмрд┐рдирд╛ Yolog2 рдкрд░ рдСрдЯреЛрд▓реЙрдЧрд┐рди рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рдЕрдЪреНрдЫрд╛ рдХрд╛рд░рдг рдирд╣реАрдВ рджрд┐рдЦрддрд╛ред  рдпрд╛рдиреА  рдореЗрд░рд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдорд▓реЗ: <br><br>  <i>рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг Yii1 рдкрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди Yii2 рд╢рд╛рдЦрд╛ Yii1 рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХреБрдХреАрдЬрд╝ рдкрд░ рдСрдЯреЛрд▓реЙрдЧрд┐рди рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред</i> <i><br></i> <br>  рд╕рдЪ рдХрд╣реВрдВ рддреЛ, рдпрд╣ рдПрдХ рдлреНрд░реЙрдб рд╡рд┐рдХреГрддрд┐ рд╣реИред  рдпрд╣ рдХрд░рдирд╛ рдЖрд╕рд╛рди рдФрд░ рд╕реБрд░реБрдЪрд┐рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдФрд░ рдпрд╣рд╛рдБ рд╕рд┐рд░реНрдл рдкреНрд░рд╡рд╛рд╕ рдХреЗ рд╕рдЪреЗрдд рдФрд░ рдиреНрдпрд╛рдпрд╕рдВрдЧрдд рдХрд╛рд░реНрдп рдФрд░ рдЕрдирд╛рд╡рд╢реНрдпрдХ рд╕рд╛рдЗрдХрд┐рд▓ рдХреЗ рдЖрд╡рд┐рд╖реНрдХрд╛рд░ рдХреЗ рдмреАрдЪ рдХреА рд░реЗрдЦрд╛ рдЧреБрдЬрд░рддреА рд╣реИред <br><br>  рдХрдард┐рдирд╛рдИ рдпрд╣ рд╣реИ рдХрд┐ рджреЛрдиреЛрдВ рд╢рд╛рдЦрд╛рдУрдВ рдореЗрдВ Yii рдирдХрд▓реА рдХреБрдХреАрдЬрд╝ рд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ, рдЗрд╕рд▓рд┐рдП рддрд░реАрдХреЛрдВ рдкрд░ рд╕рд╣рдордд рд╣реЛрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИред <br><br><ul><li>  Yii2 рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдШрдЯрдХ рд╣реИрдВ: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ ( <u>\</u> yii <u>\ web \ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛</u> ), <u>рдЕрдиреБрд░реЛрдз</u> , <u>рд╕реБрд░рдХреНрд╖рд╛</u> + <u>рдХреБрдХреАрдХрд░рдг</u> </li><li>  Yii1 рдореЗрдВ: <u>CWebUser</u> , <u>CHttpRequest</u> , <u>CSecurityManager</u> , <u>CStatePersister</u> , <u>CCookieCollection</u> </li></ul><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдорд╛рдорд▓реЗ рдЕрд▓рдЧ рд╣реИрдВред  рдиреАрдЪреЗ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ рдХрд┐ рд╕рд╛рдЗрдХрд┐рд▓ рдХреЗ рд╕рд╛рде рдПрдХ рдСрдЯреЛрд▓реЙрдЧ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПред <br><br>  Yii2 рдореЗрдВ, рд╣рдо <u>getIdentityAndDurationFromCookie ()</u> рдореЗрдердб рдореЗрдВ <u>\</u> <u>yii</u> <u>\ web \ User</u> рд╕реЗ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВред  рдЗрд╕ рд╡рд┐рдзрд┐ рдХреА рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ рдореЗрдВ, рд╡рд╛рдВрдЫрд┐рдд рдХреБрдХреА рдкреНрд░рд╛рдкреНрдд рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП: <br><br><pre> <code class="php hljs">$value = Yii::$app-&gt;getRequest()-&gt;getCookies()-&gt;getValue(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;identityCookie[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]);</code> </pre> <br>  рд▓реЗрдХрд┐рди рд╡рд╣ рдирд╣реАрдВ рд╣реЛрдЧреА, рдХреНрдпреЛрдВрдХрд┐  рд╕рдВрдЧреНрд░рд╣ <u>Yii :: $ рдРрдк-&gt; getRequest () -&gt; getCookies ()</u> рдЦрд╛рд▓реА рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ <u>рдЕрдиреБрд░реЛрдз</u> рдХреБрдХреАрдЬрд╝ рдореЗрдВ <u>рд▓реЛрдбрдХреБрдХрд┐рдпреЛрдВ ()</u> рдореЗрдВ рд╕рддреНрдпрд╛рдкрди рдХреЗ рд╕рд╛рде рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдпрд╣ рдкрд╛рд╕ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред <br><br>  <u>GetIdentityAndDurationFromCookie ()</u> рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░рдХреЗ рдХрд╛рдВрдЯрд╛ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рдорд╛рдирдХ рд╡реНрдпрд╡рд╣рд╛рд░ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рддрд░рд╣: <br><br><ol><li>  рд╕реБрдкрд░ рдХреБрдХреА $ _COOKIE рд╕реЗ рд╡рд╛рдВрдЫрд┐рдд рдХреБрдХреА рдХреЛ рд╕реАрдзреЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ рддрд╛рдХрд┐ рдорд╛рдирдХ рдХреБрдХреА рд▓реЛрдбрд┐рдВрдЧ рддрдВрддреНрд░ рдХреЗ рдЕрдиреБрдХреВрд▓ рди рд╣реЛред <br><br>  рдкрд╣рдЪрд╛рди рдХреБрдХреА рдХрд╛ рдирд╛рдо рд╕рд┐рд░реНрдл _keyPrefix рд╣реИ, рдЬрд┐рд╕реЗ рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ (рдпрд╛ рдХреЙрдкреА рдХрд┐рдпрд╛ рдЧрдпрд╛)ред  рдЗрд╕рд▓рд┐рдП, рд╣рдо рдорд╛рдирдХ <u>$ рдкрд╣рдЪрд╛рди</u> рдмрджрд▓ рдЬрд╛рддреЗ рд╣реИрдВ <u>init ()</u> ред <br></li><li>  рдкрд░рд┐рдгрд╛рдореА рдХреБрдХреА рдХреЛ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд░реЗрдВ "рд▓рдЧрднрдЧ yii1 рдореЗрдВред"  рдЬреИрд╕реА рдЖрдкрдХреА рдЗрдЪреНрдЫрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ <u>CSecurityManager</u> рд╕реЗ рдЖрд╡рд╢реНрдпрдХ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдИред </li></ol><br>  рдиреАрдЪреЗ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдХреЛрдб рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рд╣рдо рдРрдк / рдореЙрдбрд▓ / рд╡реЗрдмрдЙрдЬрд╝рд░ рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ</b> <div class="spoiler_text">  1. рдирд╛рдо рдкрд╣рдЪрд╛рди рдХреБрдХреА рдХреБрдХреАрдЬрд╝ yii1 рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИ <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;idParam = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getIdParamYii1(); <span class="hljs-comment"><span class="hljs-comment">//     $this-&gt;identityCookie = ['name' =&gt; $this-&gt;getStateKeyPrefix()]; }</span></span></code> </pre><br><br>  2. рджреЛ рдФрд░ рд╡рд┐рдзрд┐рдпрд╛рдБ рдЬреЛрдбрд╝реЗрдВ <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getIdentityAndDurationFromCookie</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $id = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getIdIdentityFromCookiesYii1(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$id) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } $class = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;identityClass; $identity = $class::findOne($id); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($identity !== <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'identity'</span></span> =&gt; $identity, <span class="hljs-string"><span class="hljs-string">'duration'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** *  ID identity  cookies,   yii1 * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> null|integer  ID     null */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getIdIdentityFromCookiesYii1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_COOKIE[<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;identityCookie[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]])) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; $cookieValue = $_COOKIE[<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;identityCookie[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]]; <span class="hljs-comment"><span class="hljs-comment">// Cookies  yii1 ,  $utilSecurity = new UtilYii1Security($this-&gt;getBasePathYii1()); $data = $utilSecurity-&gt;validateData($cookieValue); if ($data === false) { return null; } $data = @unserialize($data); if (is_array($data) &amp;&amp; isset($data[0], $data[1], $data[2], $data[3])) { list($id, $name, $duration, $states) = $data; return $id; } return null; }</span></span></code> </pre><br></div></div><br>  рдХреЛрдб рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд <u>UtilYii1Security</u> рдХреНрд▓рд╛рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ - рдпрд╣ <u>CSecurityManager</u> рд╕реЗ рдЖрд╡рд╢реНрдпрдХ рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рд╕рдВрд╢реЛрдзрд┐рдд рдХреЙрдкреА-рдкреЗрд╕реНрдЯ рд╣реИ, рддрд╛рдХрд┐ рдПрдХ рдУрд░ рдпрд╣ рдореВрд▓ рдЬреИрд╕рд╛ <u>рджрд┐рдЦреЗ</u> , рд▓реЗрдХрд┐рди рд╕рд░рд▓реАрдХрд░рдг рдХреЗ рд╕рд╛рдеред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <u>CSecurityManager</u> рдореЗрдВ HMAC (рд╣реИрд╢-рдЖрдзрд╛рд░рд┐рдд рд╕рдВрджреЗрд╢ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛрдб) рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рд╡рд┐рдХрд▓реНрдк <u>рд╣реИрдВ</u> , рдЬреЛ php рд╕рдВрд╕реНрдХрд░рдг рдФрд░ mbstring рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдХрдм рд╕реЗ  рдпрд╣ рдЬреНрдЮрд╛рдд рд╣реИ рдХрд┐ yii1 рд╕рдорд╛рди рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ yii2 рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдлрд┐рд░ рдХрд╛рд░реНрдп рд╕рд░рд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░, рддрджрдиреБрд╕рд╛рд░, рдХреЛрдб рднреАред <br><br>  рдХреНрдпреЛрдВрдХрд┐  рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдПрдХ рд╕реНрдкрд╖реНрдЯ рдмреИрд╕рд╛рдЦреА рдпрд╣рд╛рдБ рд▓рд┐рдЦреА рдЧрдИ рд╣реИ, рдлрд┐рд░ рдЗрд╕реЗ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдмрдирд╛рдиреЗ рдФрд░ рдЗрд╕реЗ рдПрдХ рд╕реБрдВрджрд░ рдЖрдХрд╛рд░ рджреЗрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдЖрдкрдХреА рд╢рд░реНрддреЛрдВ рдХреЗ рддрд╣рдд рдЗрд╕реЗ "рдХреИрдж" рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">UtilYii1Security.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">app</span></span>\<span class="hljs-title"><span class="hljs-title">components</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* *   CSecurityManager  Yii1, *     * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">base</span></span>\<span class="hljs-title"><span class="hljs-title">Exception</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">base</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">base</span></span>\<span class="hljs-title"><span class="hljs-title">InvalidConfigException</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UtilYii1Security</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * ,   yii1 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> STATE_VALIDATION_KEY = <span class="hljs-string"><span class="hljs-string">'Yii.CSecurityManager.validationkey'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *  ,    yii1 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $hashAlgorithm = <span class="hljs-string"><span class="hljs-string">'sha1'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *   cookies */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_validationKey; <span class="hljs-comment"><span class="hljs-comment">/** *    Yii1 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $basePath; <span class="hljs-comment"><span class="hljs-comment">/** *      yii1 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $stateFile; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $basePath -    Yii1 *        stateFile */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($basePath)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;basePath = $basePath; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;stateFile = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;basePath . DIRECTORY_SEPARATOR . <span class="hljs-string"><span class="hljs-string">'runtime'</span></span> . DIRECTORY_SEPARATOR . <span class="hljs-string"><span class="hljs-string">'state.bin'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!realpath(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;stateFile)) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidConfigException(<span class="hljs-string"><span class="hljs-string">'    '</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validateData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($data, $key = null)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_string($data)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; $len = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;strlen(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computeHMAC(<span class="hljs-string"><span class="hljs-string">'test'</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;strlen($data) &gt;= $len) { $hmac = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;substr($data, <span class="hljs-number"><span class="hljs-number">0</span></span>, $len); $data2 = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;substr($data, $len, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;strlen($data)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compareString($hmac, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;computeHMAC($data2, $key)) ? $data2 : <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">computeHMAC</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($data, $key = null)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($key === <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) $key = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getValidationKey(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> hash_hmac(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;hashAlgorithm, $data, $key); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getValidationKey</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_validationKey !== <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_validationKey; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($key = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;loadStateValidationKey(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::STATE_VALIDATION_KEY)) !== <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_validationKey = $key; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_validationKey; } <span class="hljs-comment"><span class="hljs-comment">//  validationKey    Yii1 private function loadStateValidationKey($key) { $content = $this-&gt;loadState(); if ($content) { $content = unserialize($content); if (isset($content[$key])) return $content[$key]; } return false; } //      Yii1 protected function loadState() { $filename = $this-&gt;stateFile; $file = fopen($filename, "r"); if ($file &amp;&amp; flock($file, LOCK_SH)) { $contents = @file_get_contents($filename); flock($file, LOCK_UN); fclose($file); return $contents; } return false; } public function compareString($expected, $actual) { $expected .= "\0"; $actual .= "\0"; $expectedLength = $this-&gt;strlen($expected); $actualLength = $this-&gt;strlen($actual); $diff = $expectedLength - $actualLength; for ($i = 0; $i &lt; $actualLength; $i++) $diff |= (ord($actual[$i]) ^ ord($expected[$i % $expectedLength])); return $diff === 0; } private function strlen($string) { return mb_strlen($string, '8bit'); } private function substr($string, $start, $length) { return mb_substr($string, $start, $length, '8bit'); } }</span></span></code> </pre><br></div></div><br><h2>  рдХрд░реНрдореЛрдВ рдХрд╛ рдЕрдиреБрдХреНрд░рдо </h2><br>  рдЬрдм рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ yii1 рд╕реЗ yii2 рдкрд░ рдорд╛рдЗрдЧреНрд░реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдореИрдВрдиреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЕрдиреБрдХреНрд░рдо рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд┐рдпрд╛: <br><br><ol><li>  рд╢рд╛рдЦрд╛рдУрдВ рдХреЗ рдмреАрдЪ рдкрд╛рд░рджрд░реНрд╢реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░реЗрдВред <br>  рдпрд╛рдиреА  рддрд╛рдХрд┐ yii2 рд╢рд╛рдЦрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ yii1 рдХреЗ рд╕рд╛рде рдкреНрд░рдорд╛рдгрд┐рдд рд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рд▓реЗред  рдпрд╣ рддреЗрдЬ рд╣реИ, рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реИред <br></li><li>  рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдкреНрд░рдорд╛рдгреАрдХрд░рдг (рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд▓реЙрдЧрд┐рди) yii1 рд╕реЗ yii2 рддрдХред <br>  рдкреБрд░рд╛рдиреА рд╢рд╛рдЦрд╛ рдореЗрдВ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдЗрд╕реЗ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕рдХреЗ рдмрд╛рдж рдХреБрдХреАрдЬрд╝ рдХреЗ рд▓рд┐рдП рдСрдЯреЛрд▓реЙрдЧрд┐рди рдХрд╛рдо рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджреЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐  yii1 рд╕реЗ рдХреБрдХреАрдЬрд╝ рдЕрдм рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд╣реИрдВ, рдФрд░ рдЕрднреА рднреА yii2 рдкрд░ рдХреБрдЫ рдирдП рдкреГрд╖реНрда рд╣реИрдВред </li><li>  Yii2 рдХреЗ рд▓рд┐рдП рд╕рд╛рдЗрдЯ рдХреЗ рдХрдо рд╕реЗ рдХрдо рдореБрдЦреНрдп рдкреГрд╖реНрда рдХреЛ рдкреЛрд░реНрдЯ рдХрд░реЗрдВ <br>  рддрд╛рдХрд┐ рдЖрдк yii2 рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдирдИ рдХреБрдХреАрдЬрд╝ рдХреЗ рд▓рд┐рдП рдСрдЯреЛрд▓реЙрдЧрд┐рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХреЗрдВред <br>  рдХрдо рд╕реЗ рдХрдо рдореБрдЦреНрдп рдПрдХ рдкрд░ рдПрдХ рдСрдЯреЛрд▓реЙрдЧрд┐рди рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐, рдкрд┐рдЫрд▓реА рд╢рд╛рдЦрд╛ рдкрд░ рд▓рд╛рдкрддрд╛ рдСрдЯреЛрд▓реЙрдЧрд┐рди рдХреЛ рдореБрдЦреМрдЯрд╛ рдмрдирд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧреАред <br></li><li>  рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ yii1 yii2 рдореЗрдВ рдкреНрд░рдорд╛рдгрд┐рдд рд╣реИред <br>  рд╕рддреНрд░ рдХреБрдВрдЬреА рдХреА рдмрд╛рддрдЪреАрдд рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред <br></li><li>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрдВрдЬреАрдХрд░рдг рдХреЛ yii2 рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВред <br>  рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдкрд╣рд▓реЗ рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдкрд╛рд╕рд╡рд░реНрдб рд╣реИрд╢ рдХреЗ рд╕рдордиреНрд╡рдп рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдкреБрд░рд╛рдиреЗ рд╣реИрд╢ рдкреНрд░рд╛рд░реВрдк рдХреЛ рд░рдЦреЗрдВ рдпрд╛ рдПрдХ рдирдпрд╛ рдкрд░рд┐рдЪрдп рджреЗрдВ, рд▓реЗрдХрд┐рди рдЗрддрдирд╛ рдХрд┐ рд▓реЙрдЧрд┐рди рджреЛрдиреЛрдВ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЛ рд╕рдордЭрддрд╛ рд╣реИред </li><li>  рд╕рд╛рдЗрдЯ рдкрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рд╡рд╛рд▓реА рдПрдХ рд╕реЗрд╡рд╛ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ рдЬреЛ yii2 "рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░" рджреЗрддреА рд╣реИред <br>  рдореЗрд░рд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА <u>рдкрд╣рдЪрд╛рди</u> рдХрд╛ <u>рдкрд░рд┐рдЪрдп</u> рдЗрдВрдЯрд░рдлрд╝реЗрд╕, рдЬреЛ рдЯреЛрдХрди, рдкрд╛рд╕рд╡рд░реНрдб рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐, рдЖрджрд┐ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рд╢рд╛рдпрдж рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЙрдкрдпреБрдХреНрдд рджреЛрд╣рди рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдЪрд╛рдирдХ рдирд╣реАрдВ?  рдлрд┐рд░ рдиреНрдпреВрдирддрдо рдкреНрд░рдпрд╛рд╕ рдХреЗ рд╕рд╛рде рд╕реЗрд╡рд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдПрдХ рдмрдврд╝рд┐рдпрд╛ рд╡рд┐рдХрд▓реНрдк рд╣реИред <br><br>  рдпрджрд┐ рд╣рд╛рдБ, рддреЛ рдпрд╣ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рдорд╛рдЗрдЧреНрд░реЗрд╢рди) рдХреЛ yii2 (рдХрдо рд╕реЗ рдХрдо рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ) рддрдХ рд▓реЗ рдЬрд╛рдПрдЧрд╛ред <br>  рдпрджрд┐ "рдирд╣реАрдВ" рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдЕрднреА рднреА рдЕрдкрдиреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ рдХреЗ рдкреНрд░рд╡рд╛рд╕рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрдирд╛ рдЪрд╛рд╣рд┐рдП (рдирдП рдЙрддреНрдкрд╛рджреЛрдВ рдХреЗ рдмрд┐рдирд╛ рднреА)ред <br></li></ol><br><h4>  рдкреБрдирд╢реНрдЪ: </h4><br>  рдпрд╣ рд╣рдореЗрд╢рд╛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрдп рдореЗрдВ рдЕрд╕реНрдкрд╖реНрдЯ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрди рд╕рднреА рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br>  рд╡реЗ рдХрд╣рдиреЗ рдХреЗ рдкреНрд░рдпреЛрдЬрди рдХреЗ рд▓рд┐рдП рд╡рд░реНрдгрд┐рдд рдирд╣реАрдВ рд╣реИрдВ "рдЬреИрд╕рд╛ рдореИрдВ рдХрд░рддрд╛ рд╣реВрдВ рд╡реИрд╕рд╛ рдХрд░реЛред"  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, yii1 рд╕реЗ рдХреБрдХреАрдЬрд╝ рдХреЗ рд▓рд┐рдП yii2 рдСрдЯреЛрд▓реЙрдЧрд┐рди рдмрдирд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рд▓реЗрдХрд┐рди, рдЗрд╕реЗ рд╣рд▓реНрдХреЗ рдврдВрдЧ рд╕реЗ рдбрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИ (рдФрд░ рдЗрд╕ рддрд░рд╣ рдХреЗ рдмреИрд╕рд╛рдЦреА рдХреЛ рдХрд┐рд╕реА рддрд░рд╣ рд╕реЗ рдЙрдЪрд┐рдд рдард╣рд░рд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП)ред <br><br>  рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рдЗрд╕ рдЪрд░рдг-рджрд░-рдЪрд░рдг рдкреНрд░рд╡рд╛рд╕ рдкрд░ рд╕рдордп рдмрд┐рддрд╛рдпрд╛ рд╣реИ рдФрд░ рдЦреБрд╢реА рд╣реЛрдЧреА рдЕрдЧрд░ рдХреЛрдИ, рдореЗрд░реЗ рдЕрдиреБрднрд╡ рдХреЛ рджреЗрдЦрдХрд░, рдЙрд╕реЗ рдмрдЪрд╛рддрд╛ рд╣реИред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi419999/">https://habr.com/ru/post/hi419999/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi419989/index.html">рдиреНрдпреВрдЬреАрд▓реИрдВрдб рдкреНрд▓рд╛рд╕реНрдЯрд┐рдХ рдмреИрдЧ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛рддрд╛ рд╣реИ</a></li>
<li><a href="../hi419991/index.html">рд╕реНрд╡рд╛рдпрддреНрдд рдбреНрд░реЛрди рд╣рд╡рд╛рдИ рдЕрдбреНрдбреЛрдВ рд╕реЗ рдкрдХреНрд╖рд┐рдпреЛрдВ рдХреЗ рдЭреБрдВрдбреЛрдВ рдХреЛ рдбреНрд░рд╛рдЗрд╡ рдХрд░реЗрдВрдЧреЗ</a></li>
<li><a href="../hi419993/index.html">рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░: 20 рдкреНрд░рд╢реНрди рдФрд░ рдЙрддреНрддрд░</a></li>
<li><a href="../hi419995/index.html">рдЖрдЗрд╡реА рдХрд╛ рдПрдХ рдЕрдзреНрдпрдпрди, рдирдпрд╛ рдХреЛрдгреАрдп рд╕рдВрдХрд▓рдХ</a></li>
<li><a href="../hi419997/index.html">рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ "рдореЙрдбреНрдпреВрд▓" рдкреИрдЯрд░реНрди рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдирд╛</a></li>
<li><a href="../hi420001/index.html">рдкреЗрд╢ рд╣реИ 3CX v15.5 рдЕрдкрдбреЗрдЯ 6 рдмреАрдЯрд╛ рдФрд░ рд╡реЗрдмрдЖрд░рдЯреАрд╕реА рдмреНрд░рд╛рдЙрдЬрд░ рд╕реЙрдлреНрдЯрдлреЛрди</a></li>
<li><a href="../hi420003/index.html">JavaFX рдкрд░ рдмрдЯрди рдХреЗ рд╕рд╛рде рд╡рд┐рдВрдбреЛ:</a></li>
<li><a href="../hi420005/index.html">рдЕрдкрд╛рд░реНрдЯрдореЗрдВрдЯ рдХреЗ рдЕрд╡реНрдпрд╡рд╕рд╛рдпрд┐рдХ рд╡реАрдбрд┐рдпреЛ рдирд┐рдЧрд░рд╛рдиреА рдордиреЛрд░рдВрдЬрдХ рдФрд░ рд╕рд╕реНрддреА рд╣реИ</a></li>
<li><a href="../hi420007/index.html">FidgetPen, рдЕрдЬреАрдм рджреАрдкрдХ рдФрд░ рдлрд╛рдбрд╝рдиреЗрд╡рд╛рд▓рд╛ рдХреНрдпреВрдмреНрд╕: рдПрд▓реЛрдХреИрдХреЛрдХ рдХреЛ рдЬрд╛рдирдирд╛</a></li>
<li><a href="../hi420009/index.html">рдЙрддреНрдкрд╛рдж рдбрд┐рдЬрд╛рдЗрди рдХреА рд╕реВрдХреНрд╖реНрдорддрд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>