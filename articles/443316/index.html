<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôíÔ∏è ‚û°Ô∏è üéπ Prueba de ReactJS: qu√© tan profunda es la madriguera del conejo üêü üêÇ üëãüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos, mi nombre es Yaroslav Astafiev, y hoy me gustar√≠a realizar una visita guiada para probar ReactJS. No profundizar√© en la complejidad de p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prueba de ReactJS: qu√© tan profunda es la madriguera del conejo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/443316/">  Hola a todos, mi nombre es Yaroslav Astafiev, y hoy me gustar√≠a realizar una visita guiada para probar ReactJS.  No profundizar√© en la complejidad de probar aplicaciones web usando ciertas bibliotecas (guiado por el enfoque "es dif√≠cil probar solo un c√≥digo incorrecto"), a cambio intentar√© diversificar sus horizontes.  Entonces, en este art√≠culo, React es m√°s una ocasi√≥n para reunir enfoques de prueba, un punto de partida que combina hipsters y tecnolog√≠a.  Ser√≠a m√°s correcto incluso decir que hablaremos sobre los principios de las pruebas en general con ilustraciones en ReactJS (y no solo). <br><br>  Si se considera un gur√∫ de las pruebas, <b>omita la primera mitad del art√≠culo</b> , se trata de los principios b√°sicos de las pruebas.  Si la segunda parte no revela nada nuevo para usted, venga a trabajar y ense√±emos c√≥mo hacerlo. <br><br><img src="https://habrastorage.org/webt/lt/qq/2o/ltqq2o5vf7uhre_tu8ylepblije.jpeg"><br><br>  Si la introducci√≥n no caus√≥ un ataque de sinestesia, bienvenido a cat. <br><a name="habracut"></a><br><h2>  Pruebas unitarias </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Unit Jest</a> es una biblioteca para probar JavaScript.  No me gusta esto, tome <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">otro</a> , pero <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ava</a> es mejor.  Aqu√≠ todo es simple: haga clic en el bot√≥n m√°gico y aseg√∫rese de que un cierto valor de "0" haya cambiado a "1": <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { MyButton } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../src/components/dummy/myButton"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> renderer <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-test-renderer"</span></span> test(<span class="hljs-string"><span class="hljs-string">"MyButton has onPress fn"</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> instance = renderer .create(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">MyButton</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onPress</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> x++} /&gt;) .getInstance() expect(instance.handlePress).toBeDefined() expect(x).toBe(0) instance.props.handlePress() expect(x).toBe(1) })</span></span></code> </pre> <br>  <b>Ahora tienes todas las habilidades necesarias</b> para probar el bot√≥n m√°gico.  Desafortunadamente, estas habilidades no est√°n relacionadas con la vida real.  El componente React no puede estar tan bien aislado, y el aislamiento es uno de los principios principales de las pruebas unitarias.  De alguna manera, es necesario eliminar todos los componentes que de alguna manera participan en el m√©todo de renderizado, con la excepci√≥n del probado.  Y hay una soluci√≥n: a las personas inteligentes se les ocurri√≥ mockAPI para esto. <br><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">// initJest.jsx file global.fetch = require('jest-fetch-mock') //custom mock const API = require('mockAPI') //static mock describe("Date() Tests", () =&gt; { beforeEach(() =&gt; { MockDate.set("2011-09-11T00:00:00.000Z") }) afterEach(() =&gt; { MockDate.reset() }) //smth ... })</span></span></code> </pre><br>  La esencia de Mock es simple: todo lo que no es nuestro es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mock / Stub / Fake / Dummy / Spy,</a> etc.  "Emulamos" la forma en que necesitamos el comportamiento real de un componente, que puede tener una l√≥gica compleja, en datos de prueba preparados previamente y creemos que todos los componentes emulados funcionan perfectamente si se les ingresan los par√°metros correctos. <br><br>  Hay una biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">jest-fetch-mock</a> para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">jest</a> , en ella puedes definir moki globalmente.  Si no le gusta esta opci√≥n, puede "mojar" cada componente que necesita en la prueba por separado. <br><br>  <b>Una funci√≥n pura</b> en la misma entrada siempre devuelve la misma respuesta.  En consecuencia, si en nuestra l√≥gica de negocios los componentes tienen funciones / componentes "no limpios", entonces en las pruebas unitarias tambi√©n deber√°n "borrarse" (pero para las pruebas unitarias esta regla no siempre es cierta).  Un ejemplo cl√°sico es un componente de reacci√≥n que muestra la fecha y hora actuales en el formato que necesita, la fecha ser√° diferente cada vez que realice las pruebas y no podr√° escribir las pruebas unitarias correctas.  Para todos aquellos que no est√°n de acuerdo, puede complicar el ejemplo en el que su componente debe mostrar la fecha en formato relativo y resaltar las fechas que son m√°s antiguas que un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">a√±o desde la</a> fecha <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">actual</a> en rojo. <br><br>  En consecuencia, si tiene cosas din√°micas que dependen del tiempo / clima / presi√≥n, entonces simulacro redefinir√° la llamada que necesita para que no haya dependencia de factores de terceros.  Por lo tanto, no tiene que esperar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el 29 de febrero</a> para tomar un examen ca√≠do. <br><br><h2>  Reglas de prueba de unidad </h2><br>  Los problemas descritos anteriormente y los m√©todos para resolverlos son intentos de un enfoque informal para las pruebas: cada prueba se ejecuta como quiere.  En mi opini√≥n, el cumplimiento de <b>tres reglas importantes de pruebas unitarias es</b> suficiente: <br><br><ul><li>  Determinismo </li><li>  Aislamiento </li><li>  Independencia de factores externos </li><li>  Sentido com√∫n </li></ul><br>  Regla uno: todas las pruebas deben ser deterministas.  Si escrib√≠ una prueba en Windows, en una Mac tambi√©n deber√≠a iniciarse y producir el mismo resultado.  Los desarrolladores de Windows adoran olvidar que los nombres de archivo en los sistemas * nix distinguen entre may√∫sculas y min√∫sculas.  Y tiene suerte si las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pruebas caen dentro del marco de CI, y no la aplicaci√≥n en producci√≥n</a> . <br><br>  La siguiente regla es el aislamiento.  Mojamos todos los componentes no probados.  Si esto es dif√≠cil de hacer, entonces es hora de refactorizar. <br><br>  Por √∫ltimo, pero no menos importante: si hay datos que su aplicaci√≥n recibe en tiempo de ejecuci√≥n, tambi√©n deben especificarse.  Puede ser una configuraci√≥n regional, tama√±o de ventana, formato de fecha, formato de n√∫mero de coma flotante, etc. <br><br><h2>  Pruebas de integraci√≥n </h2><br>  <b>Cu√°ndo comenzar a escribir pruebas de integraci√≥n</b> es, en mi opini√≥n, una pregunta abierta, y en cada equipo / producto individual, la decisi√≥n debe tomarse teniendo en cuenta los factores internos. <br><br>  Puede adoptar un enfoque formal: lograr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una</a> cobertura de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">prueba unitaria</a> del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">80%</a> (las pruebas mal escritas no deben revisarse / requerir que solo el c√≥digo nuevo o modificado est√© cubierto por las pruebas), luego realizar una auditor√≠a completa y refactorizaci√≥n de todas las pruebas escritas con an√°lisis de errores t√≠picos, formalizar reglas internas para escribir pruebas y llevar a cabo tales redadas por a√±o.  Si despu√©s de todas las acciones descritas anteriormente, su cobertura de c√≥digo de pruebas unitarias sigue siendo 80% +, entonces tiene un equipo maduro, o simplemente no es cr√≠tico con su c√≥digo / pruebas.  Si la cobertura del c√≥digo se ha reducido, entonces necesita alcanzar una cobertura del 80% nuevamente y proceder a escribir pruebas de integraci√≥n.  Puede llegar de manera menos formal y simplemente guiarse por el sentido com√∫n: por ejemplo, para cada error que se haya jugado n veces, escriba una prueba o invente algo m√°s, por ejemplo, arroje una moneda. <br><br>  La segunda pregunta abierta: <b>¬øqu√© pruebas se consideran integraci√≥n</b> ?  Quiz√°s dejarlo sin respuesta. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e2b/79e/50e/e2b79e50e0d707af61b1dd1f5a6ab654.png"><br><br>  En las pruebas de integraci√≥n, probamos el trabajo no de un componente, sino de varios componentes en un grupo.  No hay reglas, pero el sentido com√∫n te dice: <br><br><ul><li>  No pruebe c√≥mo se representa, d√≥nde se llama y cu√°ndo terminar√° todo; <br></li><li>  No pruebe el trabajo de ReactJS, si no funciona, nada lo ayudar√°; <br></li><li>  No pruebe c√≥mo funciona la m√°quina de estado React; <br></li><li>  prueba la l√≥gica de negocios / modelo de datos / situaciones l√≠mite / algo que a menudo se rompe. <br></li></ul><br>  En tales pruebas, no debe entrar en detalles.  Funcionan notablemente m√°s tiempo y tambi√©n es m√°s dif√≠cil escribirlos, por lo que no debe dejarse llevar y cubrir todos los casos menores en la l√≥gica de la aplicaci√≥n.  Esto es costoso en t√©rminos de alquiler de infraestructura y largo en t√©rminos de desarrollo y tiempo de ejecuci√≥n de scripts.  Alguien pasar√° sus vidas en esta rutina, y el <b>administrador de usuarios estar√° triste</b> , y esperar√° nuevas funciones, y ... <br><br>  Otra raz√≥n por la que no debe intentar probar todo es False Security (he tratado de escribir los puntos m√°s importantes anteriores).  Cada equipo debe leer sobre los errores del primer y segundo tipo, el lema de Neumann-Pearson y evaluar sus riesgos en t√©rminos de dinero, loros u otra medida de verdad aceptada en el equipo. <br><br>  Pero hay excepciones a esta regla, as√≠ como a cualquier otra.  <b>Olvida todo lo que se dice arriba</b> : <br><br><ul><li>  Al probar dependencias din√°micas.  Cuando no sabe qu√© componente vendr√° en tiempo de ejecuci√≥n, lo renderiza, pero puede que no venga.  Tambi√©n debe escribir una prueba para esto, nadie cancel√≥ el circuito bracker.  O el componente incorrecto que esperaba o vendr√° un componente roto.  Por lo tanto, en este caso, escribimos una prueba de integraci√≥n y renderizamos.  Verificamos si todo funciona, si nada cae. <br></li><li>  Con pixel perfect (bueno, ya entiendes), el desarrollo tendr√° que renderizar y diferenciar capturas de pantalla, y cada vez que la biblioteca de componentes se actualice a una nueva versi√≥n, actualiza las capturas de pantalla de referencia.  Porque es m√°s f√°cil <s>contratar a un nuevo dise√±ador</s> para reconciliar que para arreglar. <br></li></ul><br><h2>  Pruebas de instant√°neas </h2><br>  La prueba de integraci√≥n m√°s simple es una instant√°nea: <br><br><ol><li>  Tomamos un componente, lo renderizamos </li><li>  En el render escribimos console.log (esto) </li><li>  Copie los datos de referencia de la consola. </li><li>  Comparar </li></ol><br>  Si quieres confundirte un poco, te aconsejo que juegues con la biblioteca de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">StoryBook</a> .  Esta es una biblioteca para pruebas de instant√°neas, que incidentalmente envolvi√≥ la idea de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">StyleGuidist</a> : crear su propio sistema de dise√±o basado en componentes React. <br><br>  La primera regla de la prueba de instant√°nea: <b>nunca <s>digas,</s> intenta probar los datos</b> .  Siempre deben ser est√°ticos, "encerrados" e independientes.  La segunda regla: una <b>prueba de instant√°nea rota no significa que todo est√© mal</b> .  Si es rojo, no es el hecho de que todo sali√≥.  Hay muchas opciones para hacer que el dise√±o sea el mismo, pero el √°rbol DOM era diferente.  Por lo tanto, ignoramos los espacios en blanco, los atributos, las claves o no probamos lo que requiere tanto tiempo de soporte.  O marcamos con nuestras manos lo que est√° roto, lo que no est√°.  Arreglamos las pruebas rotas y reiniciamos el StoryBook en el modo de actualizaci√≥n simulada: el modo en que la prueba representar√° los componentes e insertar√° Instant√°nea como valor de referencia en la condici√≥n esperada. <br><br><h2>  xState y React Automata </h2><br>  ReactJS es algo complicado.  Parece que la biblioteca es genial.  Hice tres componentes, una clase: y la m√°quina de estado parece funcionar y el c√≥digo es hermoso.  Luego escribes en ReactJS durante seis meses, miras el c√≥digo, una especie de tonter√≠a.  No entiendes d√≥nde est√°n las muletas, d√≥nde est√°n las rutas, d√≥nde est√° el estado, d√≥nde est√°n los escondites ... Luego piensas: bueno, har√© lo que Facebook me aconseja: sujetar√© los "hokeys", "ganchos", algo m√°s y de repente te sorprender√© pensando c√≥mo te lanzas hh. Ru en los intentos de encontrar un proyecto con desarrollo en la reacci√≥n desde cero, de modo que sin duda <b>hay que hacer todo muy bien</b> ... <br><br>  Todo es tan complicado que generalmente es imposible entender c√≥mo funciona.  Y funciona hasta que alguien se queja.  Lo arreglamos, y lo arregla, pero se rompe ... Una de las salidas es una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">m√°quina de</a> estados, un conjunto de estados de aplicaci√≥n deterministas y transiciones permitidas entre ellos.  Y, como dicen en c√≠rculos estrechos, no escribi√≥ sobre la reacci√≥n si no cort√≥ su m√°quina de estados. <br><br>  Vale la pena recordar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">xState</a> .  Esta es una m√°quina de estado determinista para JavaScript.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Puede</a> crear una interfaz de usuario muy buena en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">xState</a> : puede encontrar un enlace al informe correspondiente en la documentaci√≥n de la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">React Automata</a> .  A su vez, React Automata es la biblioteca en la que xState se adapt√≥ en ReactJS.  Adem√°s, es capaz de <b>generar pruebas para el estado de una m√°quina de estados</b> . <br><br>  Si tenemos el primer tic verdadero, la luz verde est√° encendida.  Si el segundo es falso, se dibuja un perro gris y React Automata genera pruebas para las cuatro combinaciones de estos par√°metros y valida el perro y los bulbos.  Sin embargo, en alg√∫n momento querr√°s reducir la mitad de las pruebas, pero al principio estar√°s muy contento ... En cualquier caso, esta es una mirada conveniente a tus pruebas desde un lado, me recuerda mucho la idea de probar con el caos determinista. <br><br><h2>  Cipr√©s </h2><br>  Con la instant√°nea, m√°s o menos lo descubrimos, puede ir hacia end2end.  Tenemos todos los productos internos, por lo que las soluciones locales son nuestra √∫nica opci√≥n.  Espero que tenga la oportunidad de usar soluciones en la nube, entonces <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cypress</a> ser√° √∫til. <br><img src="https://habrastorage.org/getpro/habr/post_images/5fc/c22/6c9/5fcc226c9c4808510f9fdd5d1aed6b9a.png"><br><br>  Anteriormente, eleg√≠a probar marcos, tomaba bibliotecas para afirmaci√≥n, bibliotecas para comparar XML complejos.  Luego seleccionamos un controlador y un navegador para comenzar todo.  Comenzaron y escribieron un mont√≥n de pruebas.  Todo esto est√° consumiendo la infraestructura, necesita meter todo en la ventana acoplable, luego atornillar algo que mira las pruebas en din√°mica, las analiza, muestra lo que est√° mal ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/84b/6f1/7ff/84b6f17ffbc1b6af51164429d4503f7b.png"><br><br>  Los chicos de Cypress lo hicieron todo por ti.  Resolvieron varios problemas: <b>configurar un entorno de trabajo, escribir c√≥digo, ejecutar y escribir pruebas.</b>  Si se rompe la prueba, puede mostrar una captura de pantalla resaltando lo que se ha roto.  Es cierto que no funciona para tel√©fonos m√≥viles, pero all√≠, por ejemplo, est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Detox</a> .  Esto, por supuesto, es dif√≠cil desde el punto de vista del umbral de entrada: tendr√° que adaptar su aplicaci√≥n a ella, reescribir un mont√≥n de archivos, etc.  Pero si quieres, es posible. <br><br><h2>  Pruebas suaves </h2><br>  Existen tipos alternativos de pruebas que tampoco pueden llamarse buenas pruebas.  Los llamo pruebas suaves.  Por ejemplo, linter.  Son utilizados principalmente por el front-end (e incluso, a veces, la inspiraci√≥n se reduce a los javists).  Hay muchas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">linters</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ESLint</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JSHint</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Prettier</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Standard</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Clinton</a> .  Aconsejo a <b>Prettier: r√°pido, barato, alegre, f√°cil de configurar, funciona de forma inmediata</b> . <br><br>  Si desea confundirse, puede configurar ESLint.  Perm√≠teme darte un ejemplo cl√°sico de un complemento para √©l: cuando un cliente encuentra comentarios con expresiones obscenas en tu c√≥digo, generalmente jura.  Los desarrolladores dif√≠ciles hacen comentarios en ruso para que el cliente no adivine.  Pero el cliente adivin√≥ ... usa un traductor de Google y descubri√≥ todo lo que los desarrolladores piensan de √©l.  La salida de la situaci√≥n es desagradable, posiblemente con la p√©rdida de dinero o clientes.  Para estos casos, <b>siempre puede desarrollar un complemento para ESLint</b> , que encuentra las palabras "ruso nativo" en su c√≥digo fuente y dice: "Oh, lo siento, rechace su confirmaci√≥n". <br><br>  La belleza de las linters en JavaScript es que se <b>pueden poner en un enlace de precompromiso</b> .  Personalmente, no me gusta que Prettier no almacene el historial (aunque, por otro lado, tampoco acumula deuda t√©cnica).  Desde el punto de vista del an√°lisis estad√≠stico del c√≥digo, tales pruebas son miserables, porque no se puede ver la din√°mica del proyecto, ver cu√°ntos errores hubo ayer, anteayer.  En principio, este problema se resuelve en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SonarQube</a> , tambi√©n est√° en la soluci√≥n en la nube.  Este es un analizador de c√≥digo estad√≠stico que almacena el historial de ejecuciones, puede funcionar con dos docenas de lenguajes, incluso PHP (¬øqui√©n m√°s no necesita la mano de hierro del an√°lisis est√°tico? :)).  En √©l, puede observar la din√°mica de sus vulnerabilidades, errores, deudas t√©cnicas y m√°s. <br><br><h3>  Pruebas de complejidad </h3><br>  <b>Los frontenders</b> usan <b>linters porque quieren una hermosa sangr√≠a</b> .  La complejidad tambi√©n es una prueba de software con la que puede intentar verificar la calidad de su c√≥digo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/048/c14/9ef/048c149ef0834000a3ce62a1f7a1a434.png"><br>  <i>La imagen muestra c√≥mo estoy tratando de seguir el pensamiento del joven que hizo la solicitud de extracci√≥n.</i>  <i>En tales casos, sugiero demoler todo y construir un camino directo.</i> <br><br>  Las pruebas de complejidad siguen un principio muy simple: calculan la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">complejidad ciclom√°tica del</a> algoritmo.  Por ejemplo, leen una funci√≥n, encuentran 10 variables en ella.  Si es 10, probablemente sea dif√≠cil.  Establezcamos la complejidad 1. Para cada ciclo daremos 3 puntos, para un ciclo en un ciclo - 9, para cada ciclo en un ciclo de un ciclo - 27. Agregamos todo y decimos: complejidad ciclom√°tica 120, y una persona puede entender solo 6. El significado de esta evaluaci√≥n es para decir subjetivamente cu√°ndo necesita refactorizar su c√≥digo fuente, dividirlo en pedazos, resaltar nuevas funciones y similares.  Y s√≠, SonarQube tambi√©n puede hacerlo. <br><br><h2>  Pruebas alternativas </h2><br>  En mi mundo, las pruebas alternativas tambi√©n se aplican a las pruebas suaves.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La solidaridad</a> es algo muy √∫til para la incorporaci√≥n.  Y no solo para front-end, aunque est√° escrito en JavaScript.  Le permite <b>probar el entorno de trabajo</b> .  Anteriormente, era necesario componer enormes instrucciones, indicando las versiones del lenguaje de programaci√≥n, las bibliotecas, la lista de software necesario para comenzar, mantener todo actualizado, etc.  Ahora podemos decir esto: ‚ÄúAqu√≠ est√° su computadora, aqu√≠ est√° el c√≥digo fuente.  Hasta que <b>Solidaridad pase</b> , no vengas ‚Äù.  Al mismo tiempo, el umbral de entrada es bajo.  Solidarity puede tomar huellas digitales de un entorno de trabajo personalizado y le permite agregar reglas muy simples para validar no solo el software instalado.  Y te enfurece cuando se les ocurren las palabras: "Oh, lo siento, algo no funciona para m√≠ all√≠, ¬øpuedes ayudarme? ..." <br><br>  El segundo caso de uso (es el principal) es <b>probar el entorno de producci√≥n</b> con las palabras: "Las pruebas unitarias para CI ciertamente pasaron, pero las configuraciones de CI y PROD var√≠an significativamente.  Entonces no hay garant√≠as ... ".  El objetivo de la biblioteca es muy simple: cumplir la primera regla de integraci√≥n continua: "todos deber√≠an tener el mismo entorno".  Limpio, aislado para que no haya efectos secundarios, bueno, o al menos para que haya menos ... ¬øa qui√©n estoy tratando de enga√±ar? <br><br><h3>  Llamada API </h3><br>  Sucede que los desarrolladores se dividen en varios equipos: algunos escriben una interfaz, otros escriben un back-end.  Una situaci√≥n ficticia que no puede estar en un equipo real: todo funcion√≥ ayer, y hoy despu√©s de dos lanzamientos, adelante y atr√°s, todo se rompi√≥.  ¬øQui√©n tiene la culpa?  Yo, como persona con experiencia inicial en backend, siempre digo: front-end.  <b>Es simple, se equivocaron en alguna parte, como siempre.</b>  En un momento, los proveedores de servicios de fondo vienen y dicen: ‚ÄúAqu√≠ leemos la publicaci√≥n por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">referencia</a> , revisamos la gu√≠a y <b>aprendimos c√≥mo emitir su API REST</b> .  Y no creer√°s que ha cambiado ... "  En general, si sus backends no son amigos de Swagger, openAPI u otras soluciones similares, vale la pena tomar nota. <br><br><h2>  Rendimiento js </h2><br>  Y finalmente, la prueba de rendimiento JS.  <b>Nadie est√° probando el rendimiento JS</b> excepto los fabricantes de navegadores.  Como regla, todos usan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Benchmark.js</a> .  "Ah, y hemos impulsado nuestro Explorer durante 18 a√±os para que muestre una tableta de mil millones por mil millones m√°s r√°pido que en Chrome".  ¬øQui√©n necesita una tableta as√≠? <br><br>  Si desea realizar pruebas de rendimiento, es mejor ir a la inversa: pruebe de extremo a extremo y vea c√≥mo funciona.  El usuario forma una percepci√≥n de c√≥mo funciona la aplicaci√≥n en su conjunto, al <b>usuario no le importa que estos sean problemas en el lado del servidor.</b> <br><br><h3>  Historia de guerra # 1 </h3><br>  Ahora un ejemplo de la vida.  De alguna manera, los jefes se nos acercan y nos dicen: ‚ÄúTu frente funciona muy mal, apenas se est√° cargando.  Hay que hacer algo con el rendimiento, la gente se queja ".  Pensamos: ahora tendremos dos semanas para realizar ajustes, recogiendo registros, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬øpor qu√© actualizaste</a> , recogiendo la sacudida de un √°rbol, cortando todo en pedazos con carga din√°mica ... ¬øQu√© pasa si no se quema, lo dividiremos o empeoraremos?  Se necesita hacer una soluci√≥n alternativa.  <b>Abrimos el navegador, mira: 7,5 MB, 2 segundos, todo est√° bien.</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2c2/b3f/605/2c2b3f605dad87faa6c415fd4f040924.png"><br><br>  Pon Nginx GZip: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d78/4b1/679/d784b167908a696379bfda0f6d05a3c3.png"><br><br>  Nginx tiene la capacidad de ajustar la relaci√≥n de compresi√≥n, intentemos: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a1/737/09a/4a173709a2eb86d979b08688c702c443.png"><br><br>  Crecimiento: 25% de la productividad.  Para temprano  Echa un vistazo al peque√±o logotipo del dise√±ador en la esquina.  Sigue siendo muy hermoso, incluso si se estira, pero ¬øpor qu√© lo necesitamos? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e3/622/cab/3e3622cab11cec8808352f625bd77cf1.png"><br><br>  Esto es lo que obtuvo despu√©s de optimizar una imagen.  Puede evaluar el peso del logotipo usted mismo.  Finalmente, llegamos al cliente y le decimos: ‚Äúla primera descarga no es tan importante como la segunda.  Y, habilite el almacenamiento en cach√© forzado: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dfd/23a/7ef/dfd23a7ef03ae587a32349959a57f3a7.png"><br><br>  ... ¬°Todos est√°n felices, todos est√°n jubilosos! "  Excepto por el usuario, por supuesto. <br><br>  Como resultado, decidimos realizar una auditor√≠a de tama√±o con mayor frecuencia.  <b>Gzip, fuentes, im√°genes, estilos</b> : esos lugares donde casi nadie mira, pero hay muchos beneficios. <br><br><h3>  Madge y UpdtrJS </h3><br>  Siguiente paso: <b>auditor√≠a de dependencia</b> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Madge</a> es tal cosa que analiza el c√≥digo y dice: aqu√≠ hay una clase m√°s o menos asociada con tal y tal, etc.  Si todo pasa por un componente y se rompe, habr√° poco placer.  Madge es una gran herramienta de visualizaci√≥n, pero adecuada solo para exploraci√≥n manual.  Tiene una opci√≥n, circular, que busca todas las <b>dependencias c√≠clicas en su proyecto</b> .  Si hay alguno, es malo, si no, entonces todav√≠a no han escrito. <br><br>  El dolor de los marcos y bibliotecas heredados casi se resuelve con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">updtrJS</a> . <br>  ¬øTienes 70 mil l√≠neas de c√≥digo?  ¬øEst√°s tratando de pasar del 13¬∫ React al 16¬∫?  <b>Updtr no lo ayudar√° a</b> moverse, pero le ayudar√° a determinar a qu√© versiones de bibliotecas puede mudarse sin <b>consecuencias graves</b> .  Adem√°s, permite a los desarrolladores mantenerse en tendencia, ayuda a mantener las dependencias actualizadas.  Si tiene una buena cobertura de prueba, lo recomiendo. <br><br><h3>  Tipos est√°ticos </h3><br>  <b>Utilice la escritura est√°tica JS</b> , porque la escritura din√°mica <b>JS</b> no es una caracter√≠stica en absoluto, es un abismo.  Flow, typeScript, reasonML eso es todo ... <br><br><h3>  Prueba de caos </h3><br>  La esencia de las pruebas de caos es simple: inicie el navegador y comience a pinchar todo lo que se pincha, ingrese todo lo que se ingres√≥ en todos los campos, y as√≠ sucesivamente.  Hasta que se rompa.        Amazon,      exceptions  . , ¬´     ,       ¬ª.   ,   . : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gremlin.com</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Chaos Monkey</a> . <br><br>  React     ‚Äî   16- ,    componentDidCatch.    ,  exception,      .         . <br><br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Naughty String</a> <b>    </b>    ,         ,      . ,     ¬´  ¬ª,   internal server error,        ? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/61f/8de/dec/61f8dedec36090e260265ba91468d8c9.gif"><br><br><h3> War Story #2 </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/711/976/e33/711976e3398070d51f30a3105c516da4.png"><br> <i>      ‚Äì  .    .</i> <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">def </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateRandomPostfix</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String prefix)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prefix + <span class="hljs-string"><span class="hljs-string">"-"</span></span> + Math.abs(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random().nextInt()).toString() } def <span class="hljs-string"><span class="hljs-string">"testCorrectRandomPostfix"</span></span>(){ given: def prefix = <span class="hljs-string"><span class="hljs-string">"ASD"</span></span> when: def result = generateRandomPostfix(prefix) then: result?.matches(/[a-zA-Z]++-[<span class="hljs-number"><span class="hljs-number">0</span></span>-<span class="hljs-number"><span class="hljs-number">9</span></span>]++/) }</code> </pre><br>      .         .     ,    . <br><br>   .     ASD,  ,          .      .        ( ,     groovy).  Java   integer  1      integer.      integer    integer ‚Äî      . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/24a/c00/c7b/24ac00c7b3369f13708d8f891f588a0d.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca2/536/74d/ca253674d47f7172f8c7e993ea6a2e71.png"><br><br>  ,   .  .     ?  ¬´+¬ª  fromX.   ,   -    , XML   . <br><br>     . <br><br><h3>   </h3><br>      . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TestCheck.JS</a> ‚Äî         .  , ,    .   ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flow-To-Gen</a> :     Flow  ,       . <br><br><pre> <code class="javascript hljs">check( property( gen.int, gen.int, (a, b) =&gt; a + b &gt;= a &amp;&amp; a + b &gt;= b ) )</code> </pre><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">result</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">failingSize</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">numTests</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">fail</span></span>: [ <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span> ], <span class="hljs-attr"><span class="hljs-attr">shrunk</span></span>: { <span class="hljs-attr"><span class="hljs-attr">totalNodesVisited</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">depth</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">result</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">smallest</span></span>: [ <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span> ] } }</code> </pre><br>  TestCheck    ¬´ ¬ª,     .   ,         . ,  ,  : 0  -1.       2  -1,        ,      .  ! <br><br><h2>   </h2><br> <b>   .</b>    .     ,       .  ,        ?     -?  permission'?   ?    , , ,  ,     . <br><br>      <b>3rd party failures</b> . ‚Äû     ‚Äú ‚Äî    . <br><br><h3> Production- </h3><br>  production  16- React     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ErrorCeption</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HoneyBadger</a> (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sentry</a> ).  ,     <b>    .</b> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Optimizely</a>  <b>/-.</b>   ,      ,  , ,  ,      . <br><br><h2> Out of the box </h2><br> JS ‚Äî  .    ,       JavaScript.    ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">validator.w3.org/checklink</a> .  ,      , ,     ,    . <br><br>      ,   ,      . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Achecker.ca/checker</a>  . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Webpagetest.org</a> ‚Äî ,     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tools.pingdom.com</a> ‚Äî    .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.w3.org/WAI/ER/tools</a>       . <br><br>         .      .  ,      Jenkins Multibranch Plugin,    -   -.  -,   (¬´  ,     ¬ª), nightly-, - regress, full regress, smart regress  .. <br><br>  ‚Äî ,  ,       ,  ,          .    ,    ,          ,     . <br><br>     , , .      . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/443316/">https://habr.com/ru/post/443316/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443304/index.html">Ser tecnof√≥bico no tiene sentido, incluso si la tecnofobia est√° justificada</a></li>
<li><a href="../443306/index.html">Ocho leyes de nombres en el dise√±o de experiencia de usuario (Parte 1)</a></li>
<li><a href="../443308/index.html">Mitos de la f√≠sica moderna. Leyes de conservaci√≥n</a></li>
<li><a href="../443310/index.html">Revisi√≥n del dispositivo de bienestar para mujeres Bellabeat</a></li>
<li><a href="../443312/index.html">Gesti√≥n de memoria Python</a></li>
<li><a href="../443318/index.html">Escribir un cargador de wasm para Ghidra. Parte 1: planteamiento del problema y entorno de configuraci√≥n</a></li>
<li><a href="../443320/index.html">Sistema de gesti√≥n electr√≥nica de documentos "Visir"</a></li>
<li><a href="../443322/index.html">GitLab 11.8 lanzado con SAST para JavaScript, p√°ginas de GitLab para subgrupos y seguimiento de errores</a></li>
<li><a href="../443324/index.html">Python vs. Scala para Apache Spark: referencia esperada con resultado inesperado</a></li>
<li><a href="../443326/index.html">Python y Arduino. Simple, rapido y hermoso</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>