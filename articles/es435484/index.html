<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üó∫Ô∏è ü§¥üèø üë®üèæ‚Äçüî¨ Fuzzing style 1989 üëâüèæ üë®‚Äçüë®‚Äçüë¶‚Äçüë¶ üì©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Con el inicio de 2019, es bueno recordar el pasado y pensar en el futuro. Miremos hacia atr√°s 30 a√±os y reflexionemos sobre los primeros art√≠culos cie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fuzzing style 1989</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435484/">  Con el inicio de 2019, es bueno recordar el pasado y pensar en el futuro.  Miremos hacia atr√°s 30 a√±os y reflexionemos sobre los primeros art√≠culos cient√≠ficos sobre fuzzing: <a href="">‚ÄúUn estudio emp√≠rico sobre la confiabilidad de las utilidades de UNIX‚Äù</a> y el trabajo posterior de 1995 <a href="">‚ÄúRevision of Fuzzing‚Äù</a> del mismo autor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Barton Miller</a> . <br><br>  En este art√≠culo, intentaremos encontrar errores en las versiones modernas de Ubuntu Linux, utilizando <b>las mismas herramientas</b> que en los trabajos originales de fuzzing.  Debe leer los documentos originales no solo para el contexto, sino tambi√©n para su comprensi√≥n.  Result√≥ ser muy prof√©tico con respecto a vulnerabilidades y haza√±as en las pr√≥ximas d√©cadas.  Los lectores atentos pueden notar la fecha de publicaci√≥n del art√≠culo original: 1990.  A√∫n m√°s atento notar√° los derechos de autor en los comentarios de la fuente: 1989. <br><a name="habracut"></a><br><h1>  Breve rese√±a </h1><br>  Para aquellos que no han le√≠do los documentos (aunque esto realmente deber√≠a hacerse), esta secci√≥n contiene un breve resumen y algunas citas seleccionadas. <br><br>  <a href="">El programa fuzzing</a> genera secuencias aleatorias de caracteres, con la capacidad de generar solo caracteres imprimibles o no imprimibles.  Utiliza un cierto valor inicial (semilla), lo que garantiza resultados reproducibles, que a menudo carecen de fuzzers modernos.  Se ejecuta un conjunto de scripts en los programas probados y verifica la presencia de volcados b√°sicos.  Los bloqueos se detectan manualmente.  Los adaptadores proporcionan entrada aleatoria para programas interactivos (art√≠culo de 1990), servicios de red (1995) y aplicaciones gr√°ficas X (1995). <br><br>  Un art√≠culo de 1990 prob√≥ cuatro arquitecturas de procesador (i386, CVAX, Sparc, 68020) y cinco sistemas operativos (4.3 BSD, SunOS, AIX, Xenix, Dynix).  En un art√≠culo de 1995, una elecci√≥n similar de plataformas.  En el primer art√≠culo, el 25-33% de las utilidades fallan, dependiendo de la plataforma.  En un art√≠culo posterior, estos n√∫meros var√≠an del 9% al 33%, con GNU (en SunOS) y Linux con el menor porcentaje de bloqueos. <br><br>  Un art√≠culo de 1990 concluy√≥ que 1) los programadores no verifican los l√≠mites de la matriz o los c√≥digos de error, 2) las macros hacen que sea dif√≠cil leer y depurar el c√≥digo, y 3) C es muy inseguro.  La funci√≥n extremadamente insegura <code>gets</code> funciones y se ha mencionado especialmente el tipo de sistema C. Durante las pruebas, los autores encontraron vulnerabilidades en la cadena de formato a√±os antes de su explotaci√≥n masiva.  El art√≠culo concluye con una encuesta a los usuarios sobre la frecuencia con la que corrigen errores o los denuncian.  Result√≥ que informar errores era dif√≠cil y hab√≠a poco inter√©s en solucionarlos. <br><br>  Un art√≠culo de 1995 menciona el software de c√≥digo abierto y analiza por qu√© tiene menos errores.  Cita: <br><br><blockquote>  Cuando investigamos las causas de las fallas, apareci√≥ un fen√≥meno perturbador: muchos de los errores (alrededor del 40%) que se informaron en 1990 todav√≠a est√°n presentes en su forma exacta en 1995.  ... <br><br>  Los m√©todos utilizados aqu√≠ son simples y en su mayor√≠a automatizados.  Es dif√≠cil entender por qu√© los desarrolladores no usan esta fuente f√°cil y gratuita para aumentar la confiabilidad. </blockquote><br>  Solo en 15-20 a√±os, la t√©cnica de fuzzing se convertir√° en una pr√°ctica est√°ndar para los grandes vendedores. <br><br>  Tambi√©n me parece que esta declaraci√≥n de 1990 prev√© eventos futuros: <br><br><blockquote>  A menudo, el estilo lac√≥nico de programaci√≥n C se lleva al extremo, la forma prevalece sobre la funci√≥n correcta.  La posibilidad de un desbordamiento en el b√∫fer de entrada es un agujero de seguridad potencial, como mostr√≥ el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">reciente gusano de Internet</a> . </blockquote><br><h1>  Metodolog√≠a de prueba </h1><br>  Afortunadamente, 30 a√±os despu√©s, el Dr. Barton todav√≠a proporciona el <a href="">c√≥digo fuente completo, los scripts y los datos para reproducir sus hallazgos</a> : un ejemplo encomiable que otros investigadores deber√≠an seguir.  Los scripts funcionan sin problemas, y la herramienta fuzzing solo requiri√≥ cambios menores para compilar y ejecutar. <br><br>  Para estas pruebas, utilizamos <a href="">scripts y entradas del repositorio b√°sico fuzz-1995</a> , porque existe la √∫ltima lista de <a href="">aplicaciones probadas</a> .  Seg√∫n <a href="">README</a> , aqu√≠ est√°n las mismas entradas aleatorias que en el estudio original.  Los resultados a continuaci√≥n para Linux moderno se obtienen <b>exactamente en el mismo c√≥digo fuzzing y datos de entrada</b> que en los art√≠culos originales.  Solo la lista de utilidades para las pruebas ha cambiado. <br><br><h1>  Cambios de utilidad durante 30 a√±os. </h1><br>  Obviamente, ha habido algunos cambios en los paquetes de software de Linux en los √∫ltimos 30 a√±os, aunque algunas utilidades probadas han continuado su pedigr√≠ durante d√©cadas.  Cuando fue posible, tomamos versiones modernas de los mismos programas de un art√≠culo de 1995.  Algunos programas ya no est√°n disponibles, los reemplazamos.  Justificaci√≥n para todos los reemplazos: <br><br><ul><li>  <code>cfe</code> ‚á® <code>cc1</code> : Equivalente al preprocesador C del art√≠culo de 1995. </li><li>  <code>dbx</code> ‚á® <code>gdb</code> : Equivalente al depurador de 1995. </li><li>  <code>ditroff</code> ‚á® <code>groff</code> : <code>ditroff</code> ya no est√° disponible. </li><li>  <code>dtbl</code> ‚á® <code>gtbl</code> : Equivalente a GNU Troff de la antigua utilidad <code>dtbl</code> . </li><li>  <code>lisp</code> ‚á® <code>clisp</code> : la implementaci√≥n est√°ndar de lisp. </li><li>  <code>more</code> ‚á® <code>less</code> : ¬°Menos es m√°s! </li><li>  <code>prolog</code> ‚á® <code>swipl</code> : hay dos opciones para prolog: SWI Prolog y GNU Prolog.  SWI Prolog es preferible porque es una implementaci√≥n m√°s antigua y m√°s completa. </li><li>  <code>awk</code> ‚á® <code>gawk</code> : versi√≥n GNU de <code>awk</code> . </li><li>  <code>cc</code> ‚á® <code>gcc</code> : el compilador est√°ndar de C. </li><li>  <code>compress</code> ‚á® <code>gzip</code> : GZip es el descendiente conceptual de la antigua utilidad de <code>compress</code> Unix. </li><li>  <code>lint</code> ‚á® <code>splint</code> : <code>lint</code> reescrita bajo la licencia GPL. </li><li>  <code>/bin/mail</code> ‚á® <code>/usr/bin/mail</code> : utilidad equivalente de una manera diferente. </li><li>  <code>f77</code> ‚á® <code>fort77</code> : Hay dos variaciones del compilador Fortan77: GNU Fortran y Fort77.  El primero se recomienda para Fortran 90 y el segundo para el soporte de Fortran77.  El programa <code>f2c</code> apoya activamente; su lista de cambios se ha mantenido desde 1989. </li></ul><br><h1>  Resultados </h1><br>  La t√©cnica de fuzzing de 1989 todav√≠a encuentra errores en 2018.  Pero hay algo de progreso. <br><br>  Para medir el progreso, necesitas alguna base.  Afortunadamente, dicho marco existe para las utilidades de Linux.  Aunque Linux no exist√≠a en el momento del art√≠culo original en 1990, una segunda prueba en 1995 lanz√≥ el mismo c√≥digo fuzzing en las utilidades de la distribuci√≥n Slackware 2.1.0 de 1995.  Los resultados correspondientes se dan en la <a href="">tabla 3 del art√≠culo de 1995 (p. 7-9)</a> .  En comparaci√≥n con los competidores comerciales, GNU / Linux se ve muy bien: <br><br><blockquote>  El porcentaje de fallas en la utilidad en la versi√≥n gratuita de Linux de UNIX fue el segundo m√°s alto: 9%. </blockquote><br>  Entonces, comparemos las utilidades de Linux de 1995 y 2018 con las herramientas fuzzing de 1989: <br><br><table><tbody><tr><th></th><th>  Ubuntu 18.10 (2018) </th><th>  Ubuntu 18.04 (2018) </th><th>  Ubuntu 16.04 (2016) </th><th>  Ubuntu 14.04 (2014) </th><th>  Slackware 2.1.0 (1995) </th></tr><tr><td>  Choques </td><td>  1 (f77) </td><td>  1 (f77) </td><td>  2 (f77, ul) </td><td>  2 (swipl, f77) </td><td>  4 (ul, flex, sangr√≠a, gdb) </td></tr><tr><td>  Se congela </td><td>  1 (hechizo) </td><td>  1 (hechizo) </td><td>  1 (hechizo) </td><td>  2 (hechizo, unidades) </td><td>  1 (etiquetas) </td></tr><tr><td>  Total probado </td><td>  81 </td><td>  81 </td><td>  81 </td><td>  81 </td><td>  55 </td></tr><tr><td>  Fallos / congelamientos,% </td><td>  2% </td><td>  2% </td><td>  4% </td><td>  5% </td><td>  9% </td></tr></tbody></table><br>  Sorprendentemente, la cantidad de bloqueos y bloqueos de Linux sigue siendo mayor que cero, incluso en la √∫ltima versi√≥n de Ubuntu.  Entonces, <code>f77</code> llama al programa <code>f2c</code> con un error de segmentaci√≥n, y el programa de <code>spell</code> cuelga en dos versiones de la entrada de prueba. <br><br><h1>  Que errores </h1><br>  Pude encontrar manualmente la causa ra√≠z de algunos errores.  Algunos resultados, como un error glibc, fueron inesperados, mientras que otros, como sprintf con un buffer de tama√±o fijo, fueron predecibles. <br><br><h3>  Fracaso ul </h3><br>  El error en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ul</a> es en realidad un error en glibc.  En particular, se inform√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> (otra persona lo encontr√≥ en <code>ul</code> ) en 2016.  Seg√∫n el rastreador de errores, el error a√∫n no se ha solucionado.  Dado que el error no se puede reproducir en Ubuntu 18.04 y versiones posteriores, se corrige en el nivel de distribuci√≥n.  A juzgar por los comentarios sobre el rastreador de errores, el problema principal puede ser muy grave. <br><br><h3>  Choque f77 </h3><br>  El programa <code>f77</code> viene en el paquete fort77, que es un script de shell alrededor de <code>f2c</code> , el traductor fuente de Fortran77 a C. La depuraci√≥n de <code>f2c</code> muestra que ocurre una falla cuando la funci√≥n <code>errstr</code> imprime un mensaje de error que es demasiado largo.  El <a href="">c√≥digo fuente de f2c</a> muestra que la funci√≥n sprintf se usa para escribir una cadena de longitud variable en un b√∫fer de tama√±o fijo: <br><br><pre> <code class="plaintext hljs">errstr(const char *s, const char *t) #endif { char buff[100]; sprintf(buff, s, t); err(buff); }</code> </pre> <br>  Parece que este c√≥digo se ha conservado desde la creaci√≥n de <code>f2c</code> .  El programa tiene una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">historia de cambios</a> desde al menos 1989.  En 1995, cuando se volvi√≥ a difuminar, el compilador Fortran77 no se prob√≥, de lo contrario, el problema se habr√≠a encontrado antes. <br><br><h3>  Hechizo de congelaci√≥n </h3><br>  Un gran ejemplo de punto muerto cl√°sico.  <code>spell</code> delegados de <code>spell</code> <code>ispell</code> trav√©s de una tuber√≠a.  <code>spell</code> lee el texto l√≠nea por l√≠nea y produce un registro de bloqueo del tama√±o de la l√≠nea en <code>ispell</code> .  Sin embargo, <code>ispell</code> lee un m√°ximo de <code>BUFSIZ/2</code> bytes a la vez (4096 bytes en mi sistema) y emite un registro de bloqueo para garantizar que el cliente haya recibido los datos de validaci√≥n que se han procesado hasta ahora.  Dos entradas de prueba diferentes forzaron al <code>spell</code> a escribir una cadena de m√°s de 4096 caracteres para <code>ispell</code> , lo que result√≥ en un punto muerto: el <code>spell</code> espera a que <code>ispell</code> lea toda la cadena, mientras que el <code>ispell</code> espera al <code>spell</code> confirmar que ha le√≠do las correcciones de ortograf√≠a originales. <br><br><h3>  Unidades colgantes </h3><br>  A primera vista, parece que hay una condici√≥n de bucle infinito.  El bloqueo parece estar en <code>libreadline</code> y no en <code>units</code> , aunque las versiones m√°s nuevas de <code>units</code> no sufren este error.  El registro de cambios indica que se agreg√≥ un filtro de entrada que podr√≠a solucionar este problema accidentalmente.  Sin embargo, una investigaci√≥n exhaustiva de las razones est√° m√°s all√° del alcance de este blog.  Quiz√°s la forma de colgar <code>libreadline</code> sigue ah√≠. <br><br><h3>  Swipl crash </h3><br>  En aras de la exhaustividad, quiero mencionar el fallo <code>swipl</code> , aunque no lo <code>swipl</code> fondo, ya que el error se ha solucionado durante mucho tiempo y parece ser de bastante alta calidad.  La falla es en realidad una declaraci√≥n (es decir, una que nunca deber√≠a suceder) que se llama cuando se convierten los caracteres: <br><br> <code>[Thread 1] pl-fli.c:2495: codeToAtom: Assertion failed: chrcode &gt;= 0 <br> C-stack trace labeled "crash": <br> [0] __assert_fail+0x41 <br> [1] PL_put_term+0x18e <br> [2] PL_unify_text+0x1c4 <br> ‚Ä¶</code> <br> <br>  El bloqueo siempre es malo, pero al menos aqu√≠ el programa puede informar un error, bloque√°ndose temprano y en voz alta. <br><br><h1>  Conclusi√≥n </h1><br>  En los √∫ltimos 30 a√±os, el difuminado se ha mantenido como una forma simple y confiable de encontrar errores.  Aunque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se est√°</a> realizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una investigaci√≥n activa</a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta √°rea</a> , incluso el difusor de hace 30 a√±os encuentra con √©xito errores en las modernas utilidades de Linux. <br><br>  El autor de los art√≠culos originales predijo los problemas de seguridad que C causar√≠a en las pr√≥ximas d√©cadas.  Argumenta convincentemente que el c√≥digo inseguro es demasiado f√°cil de escribir en C y debe evitarse si es posible.  En particular, los art√≠culos demuestran que los errores aparecen incluso con la fase m√°s simple, y tales pruebas deben incluirse en la pr√°ctica est√°ndar de desarrollo de software.  Lamentablemente, este consejo no se ha seguido durante d√©cadas. <br><br>  Espero que hayan disfrutado esta retrospectiva de 30 a√±os.  Espere el pr√≥ximo art√≠culo "Fuzzing in 2000", donde examinaremos qu√© tan s√≥lidas son las aplicaciones de Windows 10 en comparaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">con sus equivalentes de Windows NT / 2000 cuando se prueban con fuzzer</a> .  Creo que la respuesta es predecible. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es435484/">https://habr.com/ru/post/es435484/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es435468/index.html">Tutorial React Parte 7: Estilos en l√≠nea</a></li>
<li><a href="../es435470/index.html">Tutorial de React, Parte 8: Trabajo continuo en una aplicaci√≥n TODO, Introducci√≥n de propiedades de componentes</a></li>
<li><a href="../es435476/index.html">Mkcert: certificados HTTPS v√°lidos para localhost</a></li>
<li><a href="../es435480/index.html">Microsoft y Kroger le dar√°n a Amazon una pelea en el campo ... el comercio de alimentos</a></li>
<li><a href="../es435482/index.html">Zircon destacado: vDSO (objeto virtual din√°mico compartido)</a></li>
<li><a href="../es435488/index.html">Simulacros, trozos y esp√≠as en el marco de Spock</a></li>
<li><a href="../es435490/index.html">Cambios de impuestos de Google en 2019</a></li>
<li><a href="../es435494/index.html">Servidor cliente sin interrupciones</a></li>
<li><a href="../es435496/index.html">Tesla demand√≥ por un accidente en el que murieron el conductor y el pasajero del Modelo S</a></li>
<li><a href="../es435498/index.html">vCloud Director Extender: migraci√≥n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>