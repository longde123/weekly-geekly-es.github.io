<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌰 👨🏻‍🎤 🤸 Kryptografische Workstation basierend auf Public-Key-Standards. Stellen Sie SSL-Zertifikate aus. Nachwort 🧑🏿‍🤝‍🧑🏿 👆🏻 ☺️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Also haben wir uns an die Erstellung selbstsignierter Zertifikate gemacht. 
 Wo gelten selbstsignierte Zertifikate? Mit einem selbstsignierten Zertifi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kryptografische Workstation basierend auf Public-Key-Standards. Stellen Sie SSL-Zertifikate aus. Nachwort</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468817/"><img src="https://habrastorage.org/webt/do/z3/os/doz3osvqqu8h2gglv3xjuhcrhjo.png" align="left" width="200">  Also haben wir uns an die Erstellung selbstsignierter Zertifikate gemacht. <br>  Wo gelten selbstsignierte Zertifikate?  Mit einem selbstsignierten Zertifikat können Sie sich natürlich nicht auf der Website der State Services registrieren oder eine unterschriebene Erklärung beim Federal Tax Service einreichen.  Für den internen Unternehmensworkflow können sie jedoch verwendet werden.  Sie können sie auch zum Schutz der persönlichen E-Mail-Korrespondenz, in VPN-Netzwerken usw. verwenden.  Meistens verwenden sie jedoch selbstsignierte SSL-Zertifikate, um Webanwendungen einen sicheren Zugriff über das https-Protokoll zu ermöglichen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenSSL ist nach</a> wie vor das beliebteste Tool zum Erstellen selbstsignierter Zertifikate.  Das Verfahren zum Abrufen von SSL-Zertifikaten mit demselben OpenSSL wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ausführlich beschrieben.  Dort werden jedoch keine GOST-Zertifikate, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font color="#6096b0">PKCS # 11-</font></a> Token usw. erwähnt.  Hier sehen wir uns eine einfache grafische Oberfläche an, mit der Sie Zertifikate basierend auf GOST R 34.10-2012 und ohne Verwendung von OpenSSL erhalten können. <a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Das Dienstprogramm cryptoarmpkcs finden Sie hier</b> <div class="spoiler_text"><ul><li>  <a href="">Linux32</a> </li><li>  <a href="">Linux64</a> </li><li>  <a href="">OS X.</a> </li><li>  <a href="">WIN32</a> </li><li>  <a href="">WIN64</a> </li></ul><br></div></div><br>  Klicken Sie also auf die Schaltfläche "Selbstsigniertes Zertifikat": <br><br><img src="https://habrastorage.org/webt/oi/ax/2f/oiax2f3cqjcbbb643gnrdsquzuu.png"><br><br>  Wie Sie sehen können, unterscheidet sich diese Registerkarte beim <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erstellen einer</a> Zertifikatanforderung nicht wesentlich von derselben Registerkarte.  Hier erschienen die Schaltflächen zur Auswahl des generierten Zertifikatstyps "Zertifikatstyp": <br>  - Benutzerzertifikat (Benutzertaste); <br>  - Stammzertifikat (CA-Schaltfläche); <br>  - SSL-Zertifikat (SSL-Schaltfläche). <br>  Natürlich müssen Sie mit der Arbeit beginnen, indem Sie ein Stammzertifikat ausstellen, auf dessen Grundlage alle anderen Zertifikate ausgestellt werden.  Vergessen Sie beim Erstellen eines Stammzertifikats nicht, das Kontrollkästchen "Zertifikatsignatur" in der Schlüsselzuweisung (Verwendung) zu aktivieren: <br><br><img src="https://habrastorage.org/webt/li/6u/ex/li6uexdcowrogr5i7z96t3npf14.png"><br><br>  Wir lassen das Ausfüllen der Hauptfelder des Zertifikats aus, sie unterscheiden sich nicht vom Ausfüllen derselben Felder für die Anfrage und gehen sofort zu den letzten Seiten.  Hier ist der erste: <br><br><img src="https://habrastorage.org/webt/df/ir/yw/dfirywymvzgoqq5u46qa4th6tcw.png"><br><br>  Auf dieser Seite müssen Sie den Ordner auswählen, in dem das Stammzertifikat und sein privater Schlüssel gespeichert werden.  Dieser Ordner muss dann bei der Ausstellung anderer Zertifikate angegeben werden.  Sie müssen auch die Gültigkeitsdauer des Zertifikats bestimmen.  Sie können auch den Punkt angeben, an dem Sie das Stammzertifikat erhalten können.  Nach der Freigabe werden das Zertifikat und der private Schlüssel in so vielen der beliebtesten sicheren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font color="#6096b0">Container</font></a> von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font color="#6096b0">PKCS # 12</font></a> verpackt.  In diesem Zusammenhang müssen Sie ein Passwort für den Container festlegen.  Als Ergebnis erhalten Sie nach dem Klicken auf die Schaltfläche „Fertig stellen“ ein Stammzertifikat: <br><br><img src="https://habrastorage.org/webt/hl/on/1i/hlon1i0kamsrthpm0r3yzrj4ns8.png"><br><br>  Bei der Ausstellung des Zertifikats erhalten wir vier Dateien im angegebenen Verzeichnis: <br><ul><li>  rootCA.cer mit dem Zertifikat selbst in dem von Ihnen ausgewählten Format (PEM / DER); </li><li>  rootCA.csr mit einer Zertifikatanforderung; </li><li>  rootCA.pfx passwortgeschützter PKCS # 12-Container mit Zertifikat und privatem Schlüssel; </li><li>  rootCA.key mit dem privaten Schlüssel in dem von Ihnen ausgewählten Format (PEM / DER). </li></ul><br>  Wenn Sie die Datei rootCA.key nicht verwenden möchten, ist es besser, sie sofort zu zerstören.  Bewahren Sie es andernfalls an einem Ort auf, der für andere Personen nicht zugänglich ist.  Verstecken Sie auch das Passwort für den rooCA.pfx-Container vor neugierigen Blicken. <br>  Nachdem wir das Stammzertifikat haben, können wir Benutzerzertifikate ausstellen, einschließlich SSL-Zertifikate: <br><br><img src="https://habrastorage.org/webt/-_/vo/mm/-_vommqj6ezfnr5v5zdzl_axj4o.png"><br><br>  Nachdem Sie den Zertifikatstyp (SSL-Zertifikat), den Schlüsseltyp, seine Parameter und die Verwendung (Schlüssel) ausgewählt haben, fahren Sie mit der nächsten Seite fort: <br><br><img src="https://habrastorage.org/webt/uq/hj/iz/uqhjiz-hl8xcsotu-s6qmfdcdg8.png"><br><br>  Auf dieser Seite wird der primäre Domainname festgelegt, der in das Feld Common Name eingegeben wird. Sie können auch zusätzliche (alternative) Namen Ihrer Domain angeben.  Sie können auch IP-Adressen angeben, unter denen sich Ihre Domain befinden kann.  All dies geschieht um der " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">begehrten grünen Burg</a> " willen. <br>  Nachdem Sie sich mit den Domains befasst haben, gehen die IP-Adressen zu den folgenden Registerkarten.  Dort ist alles wie gewohnt.  Der einzige Unterschied besteht darin, dass nach dem Klicken auf die Schaltfläche „Fertig stellen“ das Kennwort für den Root-Container rootCA.pfx angefordert wird: <br><br><img src="https://habrastorage.org/webt/1a/xv/gq/1axvgqrmtqyxifcpywxcjyeqbla.png"><br><br>  Nach erfolgreicher Eingabe des Passworts erhalten wir außerdem vier Dateien: <br><br><img src="https://habrastorage.org/webt/3p/q1/-n/3pq1-nedzedsvgcrlzyagoqakvg.png"><br><br>  Alle Kommentare zum Kennwort und zum privaten Schlüssel, die oben in Bezug auf das Stammzertifikat abgegeben wurden, gelten für den Rest des Zertifikats.  Alle von uns ausgestellten Zertifikate.  Was weiter? <br>  Verwenden Sie sie.  Wenn es sich um Benutzerzertifikate handelt, können Sie sie im selben Dienstprogramm über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font color="#6096b0">PKCS # 12-Container</font></a> im Dokumentfluss zum Signieren von Dokumenten verwenden, z. B.: <br><br><img src="https://habrastorage.org/webt/2b/nd/-g/2bnd-g7s-n5s89k9zo-0th3jz5s.png"><br><br>  SSL-Zertifikate müssen für den vorgesehenen Zweck verwendet werden, um einen sicheren Kanal mit einer Webanwendung zu organisieren.  Als solche Anwendung haben wir eine Zertifizierungsstelle verwendet, bei der der Zugriff auf ihre Ressourcen für Administratoren gemäß GOST https organisiert ist.  Die Zertifizierungsstelle wird auf der Basis von Apache2-2.4.10 mit dem Modul mod_ssl bereitgestellt, das russische Verschlüsselungssysteme unterstützt.  Legen Sie auf dem Server (wir haben es Linux) das empfangene SSL-Zertifikat (&lt;Ihr Verzeichnis&gt; /self_xxx.cer) und seinen privaten Schlüssel (&lt;Ihr Verzeichnis&gt; /sel_xxx.key) im Ordner / etc / ssl ab und schreiben Sie die Pfade zu ihnen in die Datei / etc / apache2 / sites-available / default-ssl: <br><pre><code class="bash hljs">... SSLCertificateFile &lt; &gt;/self_xxx.cer SSLCertificateKeyFile &lt; &gt;/self_xxx.key ....</code> </pre> <br>  Starten Sie apache2 neu: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#service pache2 restart #</span></span></code> </pre> <br>  Installieren Sie am Arbeitsplatz (ich habe Linux) in einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Browser mit russischer Kryptografieunterstützung</a> unser Stammzertifikat (&lt;Ihr Verzeichnis&gt; /rootCA.cer) mit Vertrauen.  Fügen Sie auf dem funktionierenden Computer der Datei / etc / hosts die folgende Zeile hinzu: <br><pre> <code class="bash hljs">192.168.0.233 www.shield-ra.ru shield-ra.ru shield-ra</code> </pre> <br><br>  und gehen Sie zu einer dieser Adressen: <br><br><img src="https://habrastorage.org/webt/ag/hb/h4/aghbh4rbiqxx-d-bpddzsp9qz5i.png"><br><br>  Leuchtet, brennt das "ersehnte grüne Schloss". <br>  Überprüfen Sie die verbleibenden Adressen: <br><br><img src="https://habrastorage.org/webt/vj/mw/wm/vjmwwmrvlz6gtzlzqazm6ky1uos.png"><br><br>  Grün herum.  Und zum Schluss wollen wir sehen, welche Cipher Suite wir verwendet haben: <br><br><img src="https://habrastorage.org/webt/ov/5n/lw/ov5nlwyztcmep84xczily73orjq.png"><br><br>  Um selbstsignierte Zertifikate für zuvor erstellte Zertifikatanforderungen zu erstellen, wurde die Funktionalität der Seite "Anforderung / Zertifikat anzeigen" erweitert: <br><br><img src="https://habrastorage.org/webt/zc/ka/ra/zckarap5cmya9irvf85ln2vje2u.png"><br><br>  Wie aus dem Screenshot hervorgeht, können Sie jetzt nicht nur die Anfrage anzeigen, sondern auch ein Zertifikat dafür ausstellen.  Der rootCA.pfx-Container wird als Root-Zertifikat verwendet.  Wenn Sie auf die Schaltfläche "Ausstellen" klicken, wird ein Fenster mit einer Anfrage angezeigt, in dem Sie die Schaltfläche "Zertifikat ausstellen" anklicken können: <br><br><img src="https://habrastorage.org/webt/ay/oq/m2/ayoqm2hjakkkx9nrqam0cvira7s.png"><br><br>  Nach dem Klicken auf die Schaltfläche wird ein Passwort für den Root-Container angefordert und ein Zertifikat ausgestellt: <br><br><img src="https://habrastorage.org/webt/bl/2n/7b/bl2n7br1g0ajjav56fhoxq66y64.png"><br><br>  Übrigens können Sie das empfangene Zertifikat auf derselben Seite anzeigen (Schaltfläche "Zertifikatdatei"). <br>  Mit unserem kryptografischen Dienstprogramm cryptoarmpkcs können Sie: <br>  - mit PKCS # 11-Token arbeiten, die die russische Kryptographie unterstützen; <br>  - Zertifikatanforderungen erstellen; <br>  - Erstellen und Überprüfen einer elektronischen Signatur (bis zu CAdes XLT1) mit PKCS # 11-Token; <br>  - Erstellen einer elektronischen Signatur (bis zu CAdes XLT1) mit PKCS # 12-Containern; <br>  - selbstsignierte Zertifikate ausstellen; <br>  - Zertifikate und Anfragen anzeigen. <br>  Wahrscheinlich fehlt etwas darin, sag mir, wir werden es berücksichtigen.  Vielen Dank für Ihre Geduld. <br>  <font color="#6096b0">PS</font> Jetzt können Sie aktualisierte Versionen direkt vom Dienstprogramm herunterladen.  Bewegen Sie dazu einfach den Mauszeiger über die Überschrift „PKCS # 11, X509v3 ...“, drücken Sie die rechte Maustaste und wählen Sie den Menüpunkt „Über das Programm“: <br><br><img src="https://habrastorage.org/webt/uq/ls/l1/uqlsl1m3tv8awyoxtgewlvnkdgy.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468817/">https://habr.com/ru/post/de468817/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468797/index.html">Brennweite des Auges. Was ist das? (Aktualisiert)</a></li>
<li><a href="../de468799/index.html">Antimuster in Reaktion oder schlechte Tipps für Anfänger</a></li>
<li><a href="../de468803/index.html">Wie wir unsere Workflow-Engine hergestellt haben</a></li>
<li><a href="../de468805/index.html">System.Console, Mono und NCurses</a></li>
<li><a href="../de468811/index.html">Technologien Yandex Turbo Pages und Google AMP für den E-Commerce</a></li>
<li><a href="../de468819/index.html">Offenlegung der Telegrammnummer v.2 - Social Engineering</a></li>
<li><a href="../de468821/index.html">Wie schreibe ich einen intelligenten Vertrag mit Python über Ontologie? Teil 1: Die Blockchain & Block API</a></li>
<li><a href="../de468825/index.html">Hör auf zu denken, dass die SLA dich retten wird. Es ist notwendig, ein falsches Sicherheitsgefühl zu beruhigen und zu schaffen.</a></li>
<li><a href="../de468827/index.html">Geräte zum Schlafen</a></li>
<li><a href="../de468833/index.html">Algorithmen zur Suche nach Primzahlen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>