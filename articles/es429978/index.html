<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òùüèø üê° ‚ùå Agencia de seguridad y "nuevas" tecnolog√≠as üåµ üó£Ô∏è üò®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La historia de c√≥mo no necesita autorizaci√≥n, especialmente en √°reas importantes para la vida y la propiedad, como, por ejemplo, administrar un sistem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Agencia de seguridad y "nuevas" tecnolog√≠as</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429978/"><p>  La historia de c√≥mo no necesita autorizaci√≥n, especialmente en √°reas importantes para la vida y la propiedad, como, por ejemplo, administrar un sistema de alarma de seguridad a trav√©s de la aplicaci√≥n desde el tel√©fono. </p><br><p><img src="https://habrastorage.org/webt/xn/w3/g7/xnw3g7kg35aau64uixrnhkkbyh0.jpeg"></p><a name="habracut"></a><br><h3 id="nebolshoe-predislovie">  Breve introducci√≥n </h3><br><p>  Todo comenz√≥ con el hecho de que constru√≠ una casa, y una casa sin alarma antirrobo ciertamente puede existir en nuestras realidades, pero nada m√°s o menos valioso puede quedar all√≠ (casos tristes de vecinos lo confirman).  Mientras terminaba por dentro y por fuera, configurar y desarmar la llave no caus√≥ ning√∫n inconveniente. </p><br><p>  La casa tiene un garaje, las puertas se abren desde el control remoto y, en consecuencia, el autom√≥vil se coloca all√≠.  Si la casa est√° bajo vigilancia, la apertura desde el control remoto activa una "alarma" en la puerta y despu√©s de 2-3 minutos la llegada de personas serias.  Para evitar esto, primero debe quitar la protecci√≥n (abra el vest√≠bulo, coloque la llave, cierre el vest√≠bulo, vuelva a entrar en el autom√≥vil) y luego abra la puerta.  Y de alguna manera este procedimiento es un poco molesto, especialmente en invierno, y en general toda la "magia" se pierde de alguna manera. </p><br><p>  Por supuesto, puedes asegurarte de que la apertura de la puerta elimina la alarma, pero a√∫n no he llegado a este punto. </p><br><p>  Pero descubr√≠ que nuestra agencia de seguridad tiene una aplicaci√≥n milagrosa "Phoenix Mobile Keyboard".  La aplicaci√≥n no son solo ellos, sino que funcionan con ella.  Con √©l, puede controlar la alarma desde el tel√©fono, lo que m√°s o menos devuelve la alegr√≠a de usar todo esto. </p><br><h3 id="a-teper-sama-istoriya">  Y ahora la historia misma </h3><br><p>  Para conectar la administraci√≥n de seguridad desde la aplicaci√≥n, debe ir a la oficina de la agencia de seguridad, encontrar el ingeniero que necesita, pagar 400 rublos por la "configuraci√≥n" en el cajero y se le dar√° una cuenta que se dirige a la configuraci√≥n en el tel√©fono y listo, puede dirigir la seguridad como desee, recibir notificaciones push y no saber pena. </p><br><p>  Todo estar√≠a bien, pero cuando se registra, se le da un inicio de sesi√≥n en forma de tres letras, por ejemplo, abb (iniciales), y la contrase√±a est√° formada por los √∫ltimos cuatro d√≠gitos del n√∫mero de tel√©fono (como dijo el ingeniero, para que no se olviden), es decir, por ejemplo, 0808. Un poco desconcertado por lo que escuch√≥, preguntaron si la contrase√±a se puede configurar de manera diferente, dijeron que es posible, pero solo n√∫meros.  Bueno, ok, me puse la contrase√±a correcta y sal√≠ a probar c√≥mo funciona todo. </p><br><p><img src="https://habrastorage.org/webt/2_/3a/jq/2_3ajqhvdogc9aq4zxgokcuzjfk.png"></p><br><p>  Mientras tanto, una idea hab√≠a madurado en mi cabeza, pero deber√≠a intentar ... </p><br><p> Tomamos un iPhone, lo conectamos a la amapola, <code>rvictl -s iPhone_UDID</code> : <code>rvictl -s iPhone_UDID</code> , nos aferramos a la nueva interfaz a trav√©s de Wireshark y vemos c√≥mo funciona nuestra aplicaci√≥n y qu√© env√≠a.  Puedes llevar otros dispositivos / herramientas, pero yo tengo uno. </p><br><p><img src="https://habrastorage.org/webt/nu/kj/1q/nukj1qqce-ru6jpxczdzjkoaj04.png"></p><br><p>  Funciona, resulta que, a trav√©s del protocolo wamp, este es esencialmente el mismo socket web.  Naturalmente, nada est√° encriptado y puede ver exactamente c√≥mo se env√≠an las solicitudes y realmente repetirlas. </p><br><p>  Ahora intentamos reproducir las solicitudes recibidas.  Todo esto para la velocidad de las pruebas, puede poner la extensi√≥n para el tipo de Chrome "Web Socket Client" e intentarlo all√≠. </p><br><p><img src="https://habrastorage.org/webt/ze/yd/vc/zeydvcwurwktsurinhsfboypdnw.png"></p><br><p>  Despu√©s de asegurarnos de que todo funciona exactamente como se esperaba, escribimos r√°pidamente el cliente, por ejemplo, en el nodo. </p><br><p>  Observamos que la API responde con diferentes mensajes cuando no se encuentra al usuario y la contrase√±a es incorrecta.  Esto acelerar√° el proceso. </p><br><p>  Nuestro cliente ser√° bastante tonto, pero igualmente efectivo.  El cliente enumera todos los inicios de sesi√≥n que constan de 3 letras.  Si el nombre de usuario existe, comienza a enumerar la contrase√±a; de lo contrario, procedemos a la siguiente.  La contrase√±a se ordena en el rango de 0000 a 9999. </p><br><p>  Comenzamos todo esto y esperamos.  Los inicios de sesi√≥n se realizaron con bastante rapidez (10 minutos), resultaron unas 150 piezas (el servicio no se usa tanto).  La contrase√±a para cada inicio de sesi√≥n es en aproximadamente 8 minutos.  No hay restricciones para la verificaci√≥n en el IPA.  Y puedes ahuecar multiproceso. </p><br><p>  Las contrase√±as fueron seleccionadas en el 100% de los casos.  Al seleccionar con √©xito la contrase√±a, la API escupe informaci√≥n como: nombre del propietario, direcci√≥n (puede haber muchos objetos), algunos tokens (aparentemente para enviar notificaciones), id de sesi√≥n, etc. </p><br><p>  Despu√©s de iniciar sesi√≥n, puede desarmar todo el objeto.  Los objetos mismos se encontraron bastante distantes de la ciudad.  Si esta informaci√≥n cayera en manos de los "tipos malos", entonces la autopsia de un objeto protegido habr√≠a pasado sin ning√∫n problema, y ‚Äã‚Äãentonces habr√≠a sido posible armar de manera segura y nadie se habr√≠a dado cuenta. </p><br><p>  Al darme cuenta de que yo mismo soy cliente de esta oficina, me sent√≠ un poco inc√≥modo. </p><br><p>  Una cosa es buena, aparentemente la compa√±√≠a todav√≠a tiene alg√∫n tipo de monitoreo, o puede haber sido notado accidentalmente, pero despu√©s de un tiempo la aplicaci√≥n dej√≥ de aceptar contrase√±as y se ofreci√≥ a contactar a la oficina. </p><br><p>  Como resultado, todos cambiaron sus nombres de usuario y crearon contrase√±as normales.  Sin embargo, el protocolo, como no estaba encriptado, segu√≠a siendo el mismo, pero al menos algo. </p><br><p>  ¬øPor qu√© es todo esto?  Quiz√°s alguien despu√©s de esto quiera hacer que su sistema sea un poco m√°s seguro, y alguien que use un servicio similar con contrase√±as similares lo mirar√° desde el otro lado y pedir√° acci√≥n.  Con acciones tan simples, el nivel de seguridad aumentar√° ligeramente. </p><br><p>  Espec√≠ficamente, no doy nombres aqu√≠ y, en la medida de lo posible, despersonalic√© todos los datos, de modo que el que se reconoce saca conclusiones :) </p><br><p>  PD: Este art√≠culo es solo para fines informativos, los problemas descritos aqu√≠ en el momento de la publicaci√≥n ya no son relevantes: la empresa ha tomado medidas. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429978/">https://habr.com/ru/post/es429978/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429968/index.html">La empresa de mensajer√≠a m√°s grande de China comienza a utilizar "camiones de ma√≠z" no tripulados para el transporte de mercanc√≠as.</a></li>
<li><a href="../es429970/index.html">Implementaci√≥n de la contabilidad familiar con Google Sheets, goma de mascar y cinta adhesiva</a></li>
<li><a href="../es429972/index.html">Ataque en p√°ginas de Github con la intercepci√≥n de un sitio en su dominio</a></li>
<li><a href="../es429974/index.html">Path Machine: una idea de algoritmo</a></li>
<li><a href="../es429976/index.html">Un juego que revirti√≥ la historia de los shooters: Goldeneye 007 para Nintendo 64</a></li>
<li><a href="../es429980/index.html">M√©todos menos cuadrados sin l√°grimas y dolor.</a></li>
<li><a href="../es429982/index.html">O'Reilly Velocity London Conference: descripci√≥n general y diapositivas</a></li>
<li><a href="../es429984/index.html">Comparaci√≥n de scripts para recopilar informaci√≥n sobre subdominios</a></li>
<li><a href="../es429986/index.html">Promoci√≥n en Reddit. ¬øC√≥mo conseguir tr√°fico?</a></li>
<li><a href="../es429988/index.html">HighLoad ++: presentaciones de oradores, notas, fotos e impresiones de Avito</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>