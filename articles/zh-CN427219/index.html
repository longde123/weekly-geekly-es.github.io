<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¦ğŸ¿ ğŸ‘ƒğŸ» ğŸ‘©ğŸ¾â€ğŸ¨ MPIä¸­æ— ç”¨çš„å»¶è¿Ÿæ— é˜»å¡æ¶ˆæ¯ä¼ é€’ï¼šé’ˆå¯¹é‚£äº›â€œæœ‰ç‚¹å„¿â€çš„äººçš„è½»ä¾¿åˆ†æå’Œæ•™ç¨‹ ğŸ‘¨ğŸ¿â€âš–ï¸ ğŸ˜‡ ğŸ‘ˆğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ€è¿‘ï¼Œæˆ‘ä¸å¾—ä¸ä»è€å¸ˆé‚£é‡Œè§£å†³å¦ä¸€ä¸ªçç¢çš„åŸ¹è®­ä»»åŠ¡ã€‚ ä½†æ˜¯ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜åï¼Œæˆ‘è®¾æ³•å¸å¼•äº†æˆ‘ä»¥å‰ä»æœªæƒ³è¿‡çš„äº‹æƒ…çš„æ³¨æ„ï¼Œä¹Ÿè®¸æ‚¨ä¹Ÿæ²¡æœ‰è€ƒè™‘è¿‡ã€‚ æœ¬æ–‡å°†å¯¹å­¦ç”Ÿå’Œä½¿ç”¨MPIè¿›å…¥å¹¶è¡Œç¼–ç¨‹ä¸–ç•Œçš„æ¯ä¸ªäººéƒ½æ›´æœ‰å¸®åŠ©ã€‚ 



 æˆ‘ä»¬çš„â€œç»™å‡ºï¼šâ€ 
 å› æ­¤ï¼Œæˆ‘ä»¬æœ¬è´¨ä¸Šè®¡ç®—ä»»åŠ¡çš„æœ¬è´¨æ˜¯æ¯”è¾ƒä½¿ç”¨æ— é˜»å¡ï¼Œå»¶è¿Ÿçš„ç‚¹å¯¹ç‚¹ä¼ è¾“çš„ç¨‹...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MPIä¸­æ— ç”¨çš„å»¶è¿Ÿæ— é˜»å¡æ¶ˆæ¯ä¼ é€’ï¼šé’ˆå¯¹é‚£äº›â€œæœ‰ç‚¹å„¿â€çš„äººçš„è½»ä¾¿åˆ†æå’Œæ•™ç¨‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427219/"> æœ€è¿‘ï¼Œæˆ‘ä¸å¾—ä¸ä»è€å¸ˆé‚£é‡Œè§£å†³å¦ä¸€ä¸ªçç¢çš„åŸ¹è®­ä»»åŠ¡ã€‚ ä½†æ˜¯ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜åï¼Œæˆ‘è®¾æ³•å¸å¼•äº†æˆ‘ä»¥å‰ä»æœªæƒ³è¿‡çš„äº‹æƒ…çš„æ³¨æ„ï¼Œä¹Ÿè®¸æ‚¨ä¹Ÿæ²¡æœ‰è€ƒè™‘è¿‡ã€‚ æœ¬æ–‡å°†å¯¹å­¦ç”Ÿå’Œä½¿ç”¨MPIè¿›å…¥å¹¶è¡Œç¼–ç¨‹ä¸–ç•Œçš„æ¯ä¸ªäººéƒ½æ›´æœ‰å¸®åŠ©ã€‚ <br><br><img src="https://habrastorage.org/webt/v0/ik/2-/v0ik2-rxhe1gexlrsumqpwhslbu.jpeg"><br><br><h2> æˆ‘ä»¬çš„â€œç»™å‡ºï¼šâ€ </h2><br> å› æ­¤ï¼Œæˆ‘ä»¬æœ¬è´¨ä¸Šè®¡ç®—ä»»åŠ¡çš„æœ¬è´¨æ˜¯æ¯”è¾ƒä½¿ç”¨æ— é˜»å¡ï¼Œå»¶è¿Ÿçš„ç‚¹å¯¹ç‚¹ä¼ è¾“çš„ç¨‹åºæ¯”ä½¿ç”¨é˜»å¡çš„ç‚¹å¯¹ç‚¹ä¼ è¾“çš„ç¨‹åºå¿«å¤šå°‘å€ã€‚ æˆ‘ä»¬å°†å¯¹å°ºå¯¸ä¸º64ã€256ã€1024ã€4096ã€8192ã€16384ã€65536ã€262144ã€1048576ã€4194304ã€16777216å’Œ33554432å…ƒç´ çš„è¾“å…¥æ•°ç»„è¿›è¡Œæµ‹é‡ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå»ºè®®é€šè¿‡å››ä¸ªè¿‡ç¨‹æ¥è§£å†³å®ƒã€‚ å®é™…ä¸Šï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦è€ƒè™‘çš„å†…å®¹ï¼š <br><br><a name="habracut"></a><img src="https://habrastorage.org/webt/rt/vc/vo/rtvcvob3gfonidkax7qtskxfbc0.png"><cut></cut><br><br> åœ¨è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬åº”è¯¥è·å¾—ä¸‰ä¸ªå‘é‡ï¼šY1ï¼ŒY2å’ŒY3ï¼Œè¿™å°†å½’é›¶ã€‚ æˆ‘å°†åœ¨åŸºäºå…·æœ‰16 GB RAM <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„Intelå¤„ç†å™¨çš„</a>ç³»ç»Ÿä¸Šæµ‹è¯•æ•´ä¸ªè¿‡ç¨‹ã€‚ ä¸ºäº†å¼€å‘ç¨‹åºï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Microsoftç‰ˆæœ¬9.0.1</a> ï¼ˆåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œæ˜¯ç›¸å…³çš„ï¼‰ï¼ŒVisual Studio Community 2017è€ŒéFortrançš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI</a>æ ‡å‡†çš„å®ç°ã€‚ <br><br><h2> ç‰©èµ„ </h2><br> æˆ‘ä¸æƒ³è¯¦ç»†æè¿°å°†ä½¿ç”¨çš„MPIå‡½æ•°å¦‚ä½•å·¥ä½œï¼Œæ‚¨å¯ä»¥éšæ—¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æŸ¥çœ‹å®ƒçš„æ–‡æ¡£</a> ï¼Œå› æ­¤ï¼Œæˆ‘ä»…ç®€è¦æ¦‚è¿°æˆ‘ä»¬å°†ä½¿ç”¨çš„åŠŸèƒ½ã€‚ <br><br><h4> é˜»æ­¢äº¤æ¢ </h4><br>  <b>ä¸ºäº†é˜»æ­¢ç‚¹å¯¹ç‚¹æ¶ˆæ¯ä¼ é€’ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½ï¼š</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Send-</a>å®ç°é˜»æ­¢æ¶ˆæ¯å‘é€ï¼Œå³ è°ƒç”¨è¯¥å‡½æ•°åï¼Œè¯¥è¿‡ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°å‘é€ç»™å®ƒçš„æ•°æ®ä»å…¶å†…å­˜å†™å…¥MPIå†…éƒ¨ç³»ç»Ÿç¼“å†²åŒºä¸ºæ­¢ï¼Œæ­¤åï¼Œè¯¥è¿‡ç¨‹å°†ç»§ç»­å·¥ä½œã€‚ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Recv-</a>æ‰§è¡Œé˜»æ­¢æ¶ˆæ¯æ¥æ”¶ï¼Œå³ è°ƒç”¨è¯¥å‡½æ•°åï¼Œè¯¥è¿‡ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°æ¥è‡ªå‘é€è¿‡ç¨‹çš„æ•°æ®åˆ°è¾¾ä¸ºæ­¢ï¼Œç›´åˆ°MPIç¯å¢ƒå°†è¯¥æ•°æ®å®Œå…¨å†™å…¥æ¥æ”¶è¿‡ç¨‹çš„ç¼“å†²åŒºä¸ºæ­¢ã€‚ <br><br><h4> å»¶è¿Ÿéé˜»å¡äº¤æ¢ </h4><br>  <b>å¯¹äºå»¶è¿Ÿçš„éé˜»å¡ç‚¹å¯¹ç‚¹æ¶ˆæ¯ä¼ é€’ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½ï¼š</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Send_init-</a>åœ¨åå°ä¸ºå‘é€æ•°æ®è€Œå‡†å¤‡ç¯å¢ƒï¼Œè¯¥æ•°æ®å°†æ¥ä¼šå‘ç”Ÿå¹¶ä¸”æ²¡æœ‰é”ï¼› <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Recv_init-</a>æ­¤åŠŸèƒ½ä¸ä¸Šä¸€ä¸ªåŠŸèƒ½ç›¸ä¼¼ï¼Œä»…è¿™æ¬¡æ˜¯æ¥æ”¶æ•°æ®ï¼› <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Start-</a>å¯åŠ¨æ¥æ”¶æˆ–å‘é€æ¶ˆæ¯çš„è¿‡ç¨‹ï¼Œå®ƒä¹Ÿåœ¨åå°è¿è¡Œã€‚ æ²¡æœ‰é˜»ç¢ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Wait-</a>ç”¨äºæ£€æŸ¥ï¼Œå¹¶åœ¨å¿…è¦æ—¶ç­‰å¾…å‘é€æˆ–æ¥æ”¶æ¶ˆæ¯çš„å®Œæˆï¼Œä½†æ˜¯å®ƒä»…åœ¨å¿…è¦æ—¶é˜»æ­¢è¯¥è¿‡ç¨‹ï¼ˆå¦‚æœæ•°æ®æ˜¯â€œæœªå‘é€â€æˆ–â€œæœªæ¥æ”¶â€ï¼‰ã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ªè¿›ç¨‹æƒ³è¦ä½¿ç”¨å°šæœªåˆ°è¾¾çš„æ•°æ®-ä¸å¥½ï¼Œå› æ­¤æˆ‘ä»¬åœ¨éœ€è¦æ­¤æ•°æ®çš„ä½ç½®ä¹‹å‰æ’å…¥MPI_Waitï¼ˆå³ä½¿æœ‰æ•°æ®æŸåçš„å±é™©ï¼Œæˆ‘ä»¬ä¹Ÿä¼šæ’å…¥å®ƒï¼‰ã€‚ å¦ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯¥è¿‡ç¨‹å¼€å§‹è¿›è¡Œåå°æ•°æ®ä¼ è¾“ï¼Œå¹¶ä¸”åœ¨å¼€å§‹æ•°æ®ä¼ è¾“ä¹‹åï¼Œå®ƒç«‹å³å¼€å§‹ä»¥æŸç§æ–¹å¼æ›´æ”¹æ­¤æ•°æ®-ä¸å¥½ï¼Œå› æ­¤æˆ‘ä»¬å°†MPI_Waitæ’å…¥ç¨‹åºä¸­å¼€å§‹æ›´æ”¹æ­¤æ•°æ®çš„ä½ç½®çš„å‰é¢ï¼ˆå³ä½¿åœ¨æ­¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿä¼šæ’å…¥å®ƒï¼Œä»…å­˜åœ¨æ•°æ®æŸåçš„é£é™©ï¼‰ã€‚ <br><br> å› æ­¤ï¼Œä»<i>è¯­ä¹‰</i>ä¸Šè®²ï¼Œå…·æœ‰æ— é˜»å¡å»¶è¿Ÿäº¤æ¢çš„å‘¼å«åºåˆ—å¦‚ä¸‹ï¼š <br><br><ol><li>  MPI_Send_init / MPI_Recv_init-å‡†å¤‡ç”¨äºæ¥æ”¶æˆ–å‘é€çš„ç¯å¢ƒ </li><li>  MPI_Start-å¼€å§‹æ¥æ”¶/å‘é€è¿‡ç¨‹ </li><li>  MPI_Wait-æˆ‘ä»¬è®¤ä¸ºä¼ è¾“æˆ–æ¥æ”¶çš„æ•°æ®æœ‰æŸåçš„é£é™©ï¼ˆåŒ…æ‹¬â€œä¸è¶³â€å’Œâ€œä¸è¶³â€æŠ¥å‘Šï¼‰ </li></ol><br> æˆ‘è¿˜åœ¨æµ‹è¯•ç¨‹åºä¸­ä½¿ç”¨äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Startall</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Waitall</a> ï¼Œå®ƒä»¬çš„å«ä¹‰åŸºæœ¬ä¸Šåˆ†åˆ«ä¸MPI_Startå’ŒMPI_Waitç›¸åŒï¼Œåªæ˜¯å®ƒä»¬åœ¨å¤šä¸ªç¨‹åºåŒ…å’Œ/æˆ–ä¼ è¾“ä¸Šè¿è¡Œã€‚ ä½†è¿™ä¸æ˜¯å¯åŠ¨å’Œç­‰å¾…åŠŸèƒ½çš„å®Œæ•´åˆ—è¡¨ï¼Œè¿˜æœ‰æ›´å¤šç”¨äºæ£€æŸ¥æ“ä½œå®Œæ•´æ€§çš„åŠŸèƒ½ã€‚ <br><br><h2> è¿›ç¨‹é—´æ¶æ„ </h2><br> ä¸ºäº†æ¸…æ¥šèµ·è§ï¼Œæˆ‘ä»¬æ„é€ äº†ä¸€ä¸ªå›¾å½¢ï¼Œç”¨äºé€šè¿‡å››ä¸ªè¿‡ç¨‹æ‰§è¡Œè®¡ç®—ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥å°è¯•å°†æ‰€æœ‰å‘é‡ç®—æœ¯è¿ç®—ç›¸å¯¹å¹³å‡åœ°åˆ†å¸ƒåœ¨å„ä¸ªè¿›ç¨‹ä¸­ã€‚ è¿™æ˜¯æˆ‘å¾—åˆ°çš„ï¼š <br><br><img src="https://habrastorage.org/webt/bq/_b/q4/bq_bq43yrgkgjayi8p5uy0g9ckk.png"><br><br> çœ‹åˆ°è¿™äº›é˜µåˆ—T0-T2å—ï¼Ÿ è¿™äº›æ˜¯ç”¨äºå­˜å‚¨ä¸­é—´æ“ä½œç»“æœçš„ç¼“å†²åŒºã€‚ åŒæ ·ï¼Œåœ¨è¯¥å›¾ä¸Šï¼Œå½“ä»ä¸€ä¸ªè¿›ç¨‹å‘å¦ä¸€ä¸ªè¿›ç¨‹å‘é€æ¶ˆæ¯æ—¶ï¼Œç®­å¤´çš„å¼€å¤´æ˜¯è¦ä¼ è¾“æ•°æ®çš„æ•°ç»„çš„åç§°ï¼Œç®­å¤´çš„æœ«å°¾æ˜¯æ¥æ”¶æ­¤æ•°æ®çš„æ•°ç»„ã€‚ <br><br> å¥½å§ï¼Œæˆ‘ä»¬ä»€ä¹ˆæ—¶å€™ç»ˆäºå›ç­”äº†è¿™äº›é—®é¢˜ï¼š <br><br><ol><li> æˆ‘ä»¬æ­£åœ¨è§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜ï¼Ÿ </li><li> æˆ‘ä»¬å°†ä½¿ç”¨ä»€ä¹ˆå·¥å…·æ¥è§£å†³å®ƒï¼Ÿ </li><li> æˆ‘ä»¬å°†å¦‚ä½•è§£å†³ï¼Ÿ </li></ol><br> å®ƒä»ç„¶åªæ˜¯è§£å†³å®ƒ... <br><br><h2> æˆ‘ä»¬çš„â€œè§£å†³æ–¹æ¡ˆï¼šâ€ </h2><br> æ¥ä¸‹æ¥ï¼Œæˆ‘å°†ä»‹ç»ä¸Šé¢è®¨è®ºçš„ä¸¤ä¸ªç¨‹åºçš„ä»£ç ï¼Œä½†é¦–å…ˆï¼Œæˆ‘å°†ç»™å‡ºä¸€äº›å…³äºä»€ä¹ˆä»¥åŠå¦‚ä½•åšçš„è§£é‡Šã€‚ <br><br> ä¸ºäº†å¢åŠ ä»£ç çš„å¯è¯»æ€§ï¼Œæˆ‘åœ¨å•ç‹¬çš„è¿‡ç¨‹ï¼ˆaddï¼Œsubï¼Œmulï¼Œdivï¼‰ä¸­å–å‡ºäº†æ‰€æœ‰çŸ¢é‡ç®—æœ¯è¿ç®—ã€‚ æ‰€æœ‰è¾“å…¥æ•°ç»„å‡æ ¹æ®æˆ‘<i>å‡ ä¹</i>éšæœºæŒ‡ç¤ºçš„å…¬å¼è¿›è¡Œåˆå§‹åŒ–ã€‚ ç”±äºé›¶è¿›ç¨‹ä»æ‰€æœ‰å…¶ä»–è¿›ç¨‹æ”¶é›†å·¥ä½œç»“æœï¼Œå› æ­¤å®ƒçš„å·¥ä½œæ—¶é—´æœ€é•¿ï¼Œå› æ­¤åœ¨ç¬¬ä¸€ç§æƒ…å†µå’Œç¬¬äºŒç§æƒ…å†µä¸‹å°†å…¶å·¥ä½œæ—¶é—´ä¸ç¨‹åºçš„è¿è¡Œæ—¶é—´ç›¸ç­‰æ˜¯åˆä¹é€»è¾‘çš„ï¼ˆæˆ‘ä»¬è®°å¾—ï¼Œæˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯ï¼šç®—æœ¯+æ¶ˆæ¯ä¼ é€’ï¼‰ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Wtime</a>å‡½æ•°æµ‹é‡æ—¶é—´é—´éš”<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ï¼Œ</a>åŒæ—¶æˆ‘å†³å®šä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MPI_Wtick</a>æ˜¾ç¤ºæˆ‘åœ¨é‚£é‡Œçš„æ‰‹è¡¨çš„åˆ†è¾¨ç‡ï¼ˆåœ¨æˆ‘çµé­‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ·±å¤„çš„</a>æŸä¸ªåœ°æ–¹ï¼Œæˆ‘å¸Œæœ›å®ƒä»¬é€‚åˆæˆ‘çš„ä¸å˜TSCï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»€è‡³æ„¿æ„åŸè°…ä»–ä»¬çš„é”™è¯¯ä¸è¯¥å‡½æ•°è¢«ç§°ä¸ºMPI_Wtimeçš„æ—¶é—´ç›¸å…³è”ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å°†ä¸Šé¢æˆ‘å†™çš„æ‰€æœ‰å†…å®¹æ”¾åœ¨ä¸€èµ·ï¼Œå¹¶æ ¹æ®è¯¥å›¾æœ€ç»ˆå¼€å‘è¿™äº›ç¨‹åºï¼ˆå½“ç„¶ä¹Ÿè¦è°ƒè¯•ï¼‰ã€‚ <br><br><hr><br> è°åœ¨ä¹çœ‹ä»£ç ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">é˜»æ­¢æ•°æ®ä¼ è¾“çš„ç¨‹åº</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"pch.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;iomanip&gt; #include &lt;fstream&gt; #include &lt;mpi.h&gt; using namespace std; void add(double *A, double *B, double *C, int n); void sub(double *A, double *B, double *C, int n); void mul(double *A, double *B, double *C, int n); void div(double *A, double *B, double *C, int n); int main(int argc, char **argv) { if (argc &lt; 2) { return 1; } int n = atoi(argv[1]); int rank; double start_time, end_time; MPI_Status status; double *A = new double[n]; double *B = new double[n]; double *C = new double[n]; double *D = new double[n]; double *E = new double[n]; double *G = new double[n]; double *T0 = new double[n]; double *T1 = new double[n]; double *T2 = new double[n]; for (int i = 0; i &lt; n; i++) { A[i] = double (2 * i + 1); B[i] = double(2 * i); C[i] = double(0.003 * (i + 1)); D[i] = A[i] * 0.001; E[i] = B[i]; G[i] = C[i]; } cout.setf(ios::fixed); cout &lt;&lt; fixed &lt;&lt; setprecision(9); MPI_Init(&amp;argc, &amp;argv); MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank); if (rank == 0) { start_time = MPI_Wtime(); sub(A, B, T0, n); MPI_Send(T0, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD); MPI_Send(T0, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD); div(T0, G, T1, n); MPI_Recv(T2, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;status); add(T1, T2, T0, n); mul(T0, T1, T2, n); MPI_Recv(T0, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;status); MPI_Send(T2, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD); add(T0, T2, T1, n); MPI_Recv(T0, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;status); MPI_Recv(T2, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;status); end_time = MPI_Wtime(); cout &lt;&lt; "Clock resolution: " &lt;&lt; MPI_Wtick() &lt;&lt; " secs" &lt;&lt; endl; cout &lt;&lt; "Thread " &lt;&lt; rank &lt;&lt; " execution time: " &lt;&lt; end_time - start_time &lt;&lt; endl; } if (rank == 1) { add(C, C, T0, n); MPI_Recv(T1, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;status); MPI_Send(T0, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD); mul(T1, G, T2, n); add(T2, C, T0, n); MPI_Recv(T1, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;status); MPI_Send(T0, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD); sub(T1, T0, T2, n); MPI_Recv(T0, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;status); add(T0, T2, T1, n); MPI_Send(T1, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD); } if (rank == 2) { mul(C, C, T0, n); MPI_Recv(T1, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;status); MPI_Recv(T2, n, MPI_DOUBLE, 3, 0, MPI_COMM_WORLD, &amp;status); MPI_Send(T0, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD); MPI_Send(T0, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD); add(T1, T2, T0, n); mul(T0, G, T1, n); MPI_Recv(T2, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;status); mul(T1, T2, T0, n); MPI_Recv(T1, n, MPI_DOUBLE, 3, 0, MPI_COMM_WORLD, &amp;status); mul(T0, T1, T2, n); MPI_Send(T2, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD); } if (rank == 3) { mul(E, D, T0, n); MPI_Send(T0, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD); sub(T0, B, T1, n); mul(T1, T1, T2, n); sub(T1, G, T0, n); mul(T0, T2, T1, n); MPI_Send(T1, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD); } MPI_Finalize(); delete[] A; delete[] B; delete[] C; delete[] D; delete[] E; delete[] G; delete[] T0; delete[] T1; delete[] T2; return 0; } void add(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] + B[i]; } } void sub(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] - B[i]; } } void mul(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] * B[i]; } } void div(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] / B[i]; } }</span></span></span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">å»¶è¿Ÿæ— é˜»å¡æ•°æ®ä¼ è¾“çš„ç¨‹åº</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"pch.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;iomanip&gt; #include &lt;fstream&gt; #include &lt;mpi.h&gt; using namespace std; void add(double *A, double *B, double *C, int n); void sub(double *A, double *B, double *C, int n); void mul(double *A, double *B, double *C, int n); void div(double *A, double *B, double *C, int n); int main(int argc, char **argv) { if (argc &lt; 2) { return 1; } int n = atoi(argv[1]); int rank; double start_time, end_time; MPI_Request request[7]; MPI_Status statuses[4]; double *A = new double[n]; double *B = new double[n]; double *C = new double[n]; double *D = new double[n]; double *E = new double[n]; double *G = new double[n]; double *T0 = new double[n]; double *T1 = new double[n]; double *T2 = new double[n]; for (int i = 0; i &lt; n; i++) { A[i] = double(2 * i + 1); B[i] = double(2 * i); C[i] = double(0.003 * (i + 1)); D[i] = A[i] * 0.001; E[i] = B[i]; G[i] = C[i]; } cout.setf(ios::fixed); cout &lt;&lt; fixed &lt;&lt; setprecision(9); MPI_Init(&amp;argc, &amp;argv); MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank); if (rank == 0) { start_time = MPI_Wtime(); MPI_Send_init(T0, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;request[0]);// MPI_Send_init(T0, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;request[1]);// MPI_Recv_init(T2, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;request[2]);// MPI_Recv_init(T0, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;request[3]);// MPI_Send_init(T2, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;request[4]);// MPI_Recv_init(T0, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;request[5]);// MPI_Recv_init(T2, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;request[6]);// MPI_Start(&amp;request[2]); sub(A, B, T0, n); MPI_Startall(2, &amp;request[0]); div(T0, G, T1, n); MPI_Waitall(3, &amp;request[0], statuses); add(T1, T2, T0, n); mul(T0, T1, T2, n); MPI_Startall(2, &amp;request[3]); MPI_Wait(&amp;request[3], &amp;statuses[0]); add(T0, T2, T1, n); MPI_Startall(2, &amp;request[5]); MPI_Wait(&amp;request[4], &amp;statuses[0]); MPI_Waitall(2, &amp;request[5], statuses); end_time = MPI_Wtime(); cout &lt;&lt; "Clock resolution: " &lt;&lt; MPI_Wtick() &lt;&lt; " secs" &lt;&lt; endl; cout &lt;&lt; "Thread " &lt;&lt; rank &lt;&lt; " execution time: " &lt;&lt; end_time - start_time &lt;&lt; endl; } if (rank == 1) { MPI_Recv_init(T1, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;request[0]);// MPI_Send_init(T0, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;request[1]);// MPI_Recv_init(T1, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;request[2]);// MPI_Send_init(T0, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;request[3]);// MPI_Recv_init(T0, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;request[4]);// MPI_Send_init(T1, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;request[5]);// MPI_Start(&amp;request[0]); add(C, C, T0, n); MPI_Start(&amp;request[1]); MPI_Wait(&amp;request[0], &amp;statuses[0]); mul(T1, G, T2, n); MPI_Start(&amp;request[2]); MPI_Wait(&amp;request[1], &amp;statuses[0]); add(T2, C, T0, n); MPI_Start(&amp;request[3]); MPI_Wait(&amp;request[2], &amp;statuses[0]); sub(T1, T0, T2, n); MPI_Wait(&amp;request[3], &amp;statuses[0]); MPI_Start(&amp;request[4]); MPI_Wait(&amp;request[4], &amp;statuses[0]); add(T0, T2, T1, n); MPI_Start(&amp;request[5]); MPI_Wait(&amp;request[5], &amp;statuses[0]); } if (rank == 2) { MPI_Recv_init(T1, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;request[0]);// MPI_Recv_init(T2, n, MPI_DOUBLE, 3, 0, MPI_COMM_WORLD, &amp;request[1]);// MPI_Send_init(T0, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;request[2]);// MPI_Send_init(T0, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;request[3]);// MPI_Recv_init(T2, n, MPI_DOUBLE, 1, 0, MPI_COMM_WORLD, &amp;request[4]);// MPI_Recv_init(T1, n, MPI_DOUBLE, 3, 0, MPI_COMM_WORLD, &amp;request[5]);// MPI_Send_init(T2, n, MPI_DOUBLE, 0, 0, MPI_COMM_WORLD, &amp;request[6]);// MPI_Startall(2, &amp;request[0]); mul(C, C, T0, n); MPI_Startall(2, &amp;request[2]); MPI_Waitall(4, &amp;request[0], statuses); add(T1, T2, T0, n); MPI_Start(&amp;request[4]); mul(T0, G, T1, n); MPI_Wait(&amp;request[4], &amp;statuses[0]); mul(T1, T2, T0, n); MPI_Start(&amp;request[5]); MPI_Wait(&amp;request[5], &amp;statuses[0]); mul(T0, T1, T2, n); MPI_Start(&amp;request[6]); MPI_Wait(&amp;request[6], &amp;statuses[0]); } if (rank == 3) { MPI_Send_init(T0, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;request[0]); MPI_Send_init(T1, n, MPI_DOUBLE, 2, 0, MPI_COMM_WORLD, &amp;request[1]); mul(E, D, T0, n); MPI_Start(&amp;request[0]); sub(T0, B, T1, n); mul(T1, T1, T2, n); MPI_Wait(&amp;request[0], &amp;statuses[0]); sub(T1, G, T0, n); mul(T0, T2, T1, n); MPI_Start(&amp;request[1]); MPI_Wait(&amp;request[1], &amp;statuses[0]); } MPI_Finalize(); delete[] A; delete[] B; delete[] C; delete[] D; delete[] E; delete[] G; delete[] T0; delete[] T1; delete[] T2; return 0; } void add(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] + B[i]; } } void sub(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] - B[i]; } } void mul(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] * B[i]; } } void div(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] / B[i]; } }</span></span></span></span></code> </pre></div></div><br><hr><br><h2> æµ‹è¯•ä¸åˆ†æ </h2><br> è®©æˆ‘ä»¬ä¸ºä¸åŒå¤§å°çš„æ•°ç»„è¿è¡Œç¨‹åºï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ è¡¨ä¸­æ€»ç»“äº†æµ‹è¯•ç»“æœï¼Œæˆ‘ä»¬åœ¨è¡¨çš„æœ€åä¸€æ ä¸­è®¡ç®—å¹¶ç¼–å†™äº†åŠ é€Ÿåº¦ç³»æ•°ï¼Œå®šä¹‰å¦‚ä¸‹ï¼šK <sub>accele</sub> = T <sub>exã€‚</sub>  <sub>æ— éšœç¢ã€‚</sub>  / T <sub>å—ã€‚</sub> <br><br><img src="https://habrastorage.org/webt/ba/hg/zv/bahgzvsgz67vnkfsji-swsyy_cg.png"><br><br> å¦‚æœæ‚¨æ¯”å¹³æ—¶æ›´ä»”ç»†åœ°æŸ¥çœ‹æ­¤è¡¨ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°ï¼Œéšç€å¤„ç†å…ƒç´ æ•°é‡çš„å¢åŠ ï¼ŒåŠ é€Ÿåº¦ç³»æ•°ä¼šä»¥æŸç§æ–¹å¼é™ä½ï¼š <br><br><img src="https://habrastorage.org/webt/qq/to/hv/qqtohvv7azbc05r6x4mwtfbbxfe.png"><br><br> è®©æˆ‘ä»¬å°è¯•ç¡®å®šæ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ ä¸ºæ­¤ï¼Œæˆ‘å»ºè®®ç¼–å†™ä¸€ä¸ªå°å‹æµ‹è¯•ç¨‹åºï¼Œè¯¥ç¨‹åºå°†æµ‹é‡æ¯ä¸ªçŸ¢é‡ç®—æœ¯è¿ç®—çš„æ—¶é—´ï¼Œå¹¶ä»”ç»†å°†ç»“æœç¼©å°ä¸ºæ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ã€‚ <br><br><hr><br> å®é™…ä¸Šï¼Œè¿™é‡Œæ˜¯ç¨‹åºæœ¬èº«ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">æ—¶é—´æµ‹é‡</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"pch.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;iomanip&gt; #include &lt;Windows.h&gt; #include &lt;fstream&gt; using namespace std; void add(double *A, double *B, double *C, int n); void sub(double *A, double *B, double *C, int n); void mul(double *A, double *B, double *C, int n); void div(double *A, double *B, double *C, int n); int main() { struct res { double add; double sub; double mul; double div; }; int i, j, k, n, loop; LARGE_INTEGER start_time, end_time, freq; ofstream fout("test_measuring.txt"); int N[12] = { 64, 256, 1024, 4096, 8192, 16384, 65536, 262144, 1048576, 4194304, 16777216, 33554432 }; SetConsoleOutputCP(1251); cout &lt;&lt; "   loop: "; cin &gt;&gt; loop; fout &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setiosflags(ios::right) &lt;&lt; setprecision(9); fout &lt;&lt; " : " &lt;&lt; loop &lt;&lt; endl; fout &lt;&lt; setw(10) &lt;&lt; "\n " &lt;&lt; setw(30) &lt;&lt; ".   (c)" &lt;&lt; setw(30) &lt;&lt; ".   (c)" &lt;&lt; setw(30) &lt;&lt; ".  (c)" &lt;&lt; setw(30) &lt;&lt; ".   (c)" &lt;&lt; endl; QueryPerformanceFrequency(&amp;freq); cout &lt;&lt; "\n : " &lt;&lt; freq.QuadPart &lt;&lt; " " &lt;&lt; endl; for (k = 0; k &lt; sizeof(N) / sizeof(int); k++) { res output = {}; n = N[k]; double *A = new double[n]; double *B = new double[n]; double *C = new double[n]; for (i = 0; i &lt; n; i++) { A[i] = 2.0 * i; B[i] = 2.0 * i + 1; C[i] = 0; } for (j = 0; j &lt; loop; j++) { QueryPerformanceCounter(&amp;start_time); add(A, B, C, n); QueryPerformanceCounter(&amp;end_time); output.add += double(end_time.QuadPart - start_time.QuadPart) / double(freq.QuadPart); QueryPerformanceCounter(&amp;start_time); sub(A, B, C, n); QueryPerformanceCounter(&amp;end_time); output.sub += double(end_time.QuadPart - start_time.QuadPart) / double(freq.QuadPart); QueryPerformanceCounter(&amp;start_time); mul(A, B, C, n); QueryPerformanceCounter(&amp;end_time); output.mul += double(end_time.QuadPart - start_time.QuadPart) / double(freq.QuadPart); QueryPerformanceCounter(&amp;start_time); div(A, B, C, n); QueryPerformanceCounter(&amp;end_time); output.div += double(end_time.QuadPart - start_time.QuadPart) / double(freq.QuadPart); } fout &lt;&lt; setw(10) &lt;&lt; n &lt;&lt; setw(30) &lt;&lt; output.add / loop &lt;&lt; setw(30) &lt;&lt; output.sub / loop &lt;&lt; setw(30) &lt;&lt; output.mul / loop &lt;&lt; setw(30) &lt;&lt; output.div / loop &lt;&lt; endl; delete[] A; delete[] B; delete[] C; } fout.close(); cout &lt;&lt; endl; system("pause"); return 0; } void add(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] + B[i]; } } void sub(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] - B[i]; } } void mul(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] * B[i]; } } void div(double *A, double *B, double *C, int n) { for (size_t i = 0; i &lt; n; i++) { C[i] = A[i] / B[i]; } }</span></span></span></span></code> </pre></div></div><br><hr><br> åœ¨å¯åŠ¨æ—¶ï¼Œå®ƒè¦æ±‚æ‚¨è¾“å…¥æˆ‘æµ‹è¯•äº†10,000ä¸ªå‘¨æœŸçš„æµ‹é‡å‘¨æœŸæ•°ã€‚ åœ¨è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬è·å¾—æ¯ä¸ªæ“ä½œçš„å¹³å‡ç»“æœï¼š <br><br><img src="https://habrastorage.org/webt/iz/0g/bs/iz0gbs8ilynlmbchxtga_0at61s.png"><br><br> ä¸ºäº†æµ‹é‡æ—¶é—´ï¼Œæˆ‘ä½¿ç”¨äº†é«˜çº§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">QueryPerformanceCounter</a> ã€‚ æˆ‘å¼ºçƒˆå»ºè®®æ‚¨é˜…è¯»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¸¸è§é—®é¢˜è§£ç­”ï¼Œ</a>ä»¥ä¾¿å¤§å¤šæ•°æœ‰å…³ä½¿ç”¨æ­¤åŠŸèƒ½æµ‹é‡æ—¶é—´çš„é—®é¢˜ä¼šè‡ªè¡Œæ¶ˆå¤±ã€‚ æ ¹æ®æˆ‘çš„è§‚å¯Ÿï¼Œå®ƒä¾é™„äºTSCï¼ˆä½†ç†è®ºä¸Šå¯èƒ½å¹¶éå¦‚æ­¤ï¼‰ï¼Œä½†æ ¹æ®å¸®åŠ©è¿”å›äº†è®¡æ•°å™¨çš„å½“å‰æ»´ç­”æ•°ã€‚ ä½†æ˜¯äº‹å®æ˜¯æˆ‘çš„è®¡æ•°å™¨å®é™…ä¸Šæ— æ³•æµ‹é‡32 nsçš„æ—¶é—´é—´éš”ï¼ˆè¯·å‚è§ç»“æœè¡¨çš„ç¬¬ä¸€è¡Œï¼‰ã€‚ æ­¤ç»“æœæ˜¯ç”±äºåœ¨ä¸¤æ¬¡QueryPerformanceCounterè°ƒç”¨ä¹‹é—´ä¼ é€’äº†0ä¸ªæ»´ç­”å£°æˆ–1ä¸ªæ»´ç­”å£°ï¼Œå¯¹äºè¡¨çš„ç¬¬ä¸€è¡Œï¼Œæˆ‘ä»¬åªèƒ½å¾—å‡ºç»“è®ºï¼Œå³10,000ä¸ªç»“æœä¸­çº¦æœ‰ä¸‰åˆ†ä¹‹ä¸€ç­‰äº1ä¸ªæ»´ç­”å£°ã€‚  <i>å› æ­¤ï¼Œæ­¤è¡¨ä¸­ç”¨äº64ã€256ç”šè‡³1024ä¸ªå…ƒç´ çš„æ•°æ®éå¸¸è¿‘ä¼¼ã€‚</i> ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ‰“å¼€ä»»ä½•ç¨‹åºï¼Œå¹¶è®¡ç®—æ¯ç§ç±»å‹é‡åˆ°çš„æ€»æ“ä½œæ•°ï¼Œä¼ ç»Ÿä¸Šï¼Œæˆ‘ä»¬å°†æ ¹æ®ä¸‹è¡¨â€œæ‰©å±•â€æ‰€æœ‰å†…å®¹ï¼š <br><br><img src="https://habrastorage.org/webt/et/vo/w2/etvow2fj-vxgtusc9aez__9egxq.png"><br><br> æœ€åï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸ªå‘é‡ç®—æœ¯è¿ç®—çš„æ—¶é—´ä»¥åŠå®ƒåœ¨ç¨‹åºä¸­çš„å¤šå°‘ï¼Œå°è¯•æ‰¾å‡ºåœ¨å¹¶è¡Œç¨‹åºä¸­èŠ±åœ¨è¿™äº›è¿ç®—ä¸Šçš„æ—¶é—´æ˜¯å¤šå°‘ï¼Œä»¥åŠåœ¨è¿›ç¨‹ä¹‹é—´é˜»å¡å’Œå»¶è¿Ÿéé˜»å¡æ•°æ®äº¤æ¢ä¸Šæ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œä¸ºæ¸…æ¥šèµ·è§ï¼Œæˆ‘ä»¬å°†å…¶å‡å°‘ä¸ºè¡¨ï¼š <br><br><img src="https://habrastorage.org/webt/no/k2/-0/nok2-0p1kpw8g1ahveqog4q9lzi.png"><br><br> æ ¹æ®è·å¾—çš„æ•°æ®ç»“æœï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸‰ä¸ªå‡½æ•°çš„å›¾å½¢ï¼šç¬¬ä¸€ä¸ªæè¿°ä»æ•°ç»„å…ƒç´ çš„æ•°é‡å¼€å§‹çš„è¿›ç¨‹ä¹‹é—´é˜»å¡ä¼ è¾“æ‰€èŠ±è´¹çš„æ—¶é—´å˜åŒ–ï¼Œç¬¬äºŒä¸ªæè¿°äº†æ•°ç»„ä¹‹é—´çš„è¿›ç¨‹ä¹‹é—´å»¶è¿Ÿéé˜»å¡ä¼ è¾“æ‰€èŠ±è´¹çš„æ—¶é—´å˜åŒ–ï¼Œæ•°ç»„å…ƒç´ çš„æ•°é‡ä»¥åŠç¬¬ä¸‰ä¸ªæè¿°æ—¶é—´çš„å˜åŒ–ï¼Œä»æ•°ç»„çš„å…ƒç´ æ•°ä¸ŠèŠ±è´¹åœ¨ç®—æœ¯è¿ç®—ä¸Šï¼š <br><br><img src="https://habrastorage.org/webt/4e/w6/5h/4ew65htbb-s3vh7anlo0txafxpg.png"><br><br> æ­£å¦‚æ‚¨å·²ç»æ³¨æ„åˆ°çš„ï¼Œå›¾å½¢çš„å‚ç›´æ¯”ä¾‹æ˜¯å¯¹æ•°çš„ï¼Œè¿™æ˜¯å¿…è¦çš„åº¦é‡ï¼Œå› ä¸º æ—¶é—´åˆ†æ•£æ€§å¤ªå¤§ï¼Œåœ¨å¸¸è§„å›¾è¡¨ä¸Šä»€ä¹ˆä¹Ÿçœ‹ä¸åˆ°ã€‚ æ³¨æ„ä¾èµ–äºç®—æœ¯æ—¶é—´çš„å‡½æ•°ä¾èµ–äºå…ƒç´ æ•°é‡ï¼Œå®ƒå¯ä»¥å®‰å…¨åœ°è¶…è¿‡å…¶ä»–ä¸¤ä¸ªå‡½æ•°çº¦ä¸€ç™¾ä¸‡ä¸ªå…ƒç´ ã€‚ é—®é¢˜æ˜¯å®ƒæ¯”ä¸¤ä¸ªå¯¹æ‰‹æ›´å¿«åœ°å¢é•¿åˆ°æ— é™ã€‚ å› æ­¤ï¼Œéšç€å¤„ç†å…ƒç´ æ•°é‡çš„å¢åŠ ï¼Œç¨‹åºçš„è¿è¡Œæ—¶é—´è¶Šæ¥è¶Šå¤šåœ°ç”±ç®—æœ¯è€Œä¸æ˜¯ä¼ è¾“æ¥ç¡®å®šã€‚ å‡è®¾æ‚¨å¢åŠ äº†è¿›ç¨‹ä¹‹é—´çš„ä¼ è¾“æ¬¡æ•°ï¼Œä»æ¦‚å¿µä¸Šè®²ï¼Œæ‚¨åªä¼šçœ‹åˆ°ç®—æœ¯å‡½æ•°è¶…è¿‡å…¶ä»–ä¸¤ä¸ªçš„é‚£ä¸€åˆ»å°†åœ¨ä»¥åå‘ç”Ÿã€‚ <br><br><h2> æ€»ç»“ </h2><br> å› æ­¤ï¼Œç»§ç»­å¢åŠ æ•°ç»„çš„é•¿åº¦ï¼Œæ‚¨å°†å¾—å‡ºç»“è®ºï¼Œå…·æœ‰å»¶è¿Ÿçš„éé˜»å¡ä¼ è¾“çš„ç¨‹åºå°†ä»…æ¯”ä½¿ç”¨é˜»å¡äº¤æ¢çš„ç¨‹åºå¿«ä¸€ç‚¹ã€‚ è€Œä¸”ï¼Œå¦‚æœå°†æ•°ç»„çš„é•¿åº¦æŒ‡å®šä¸ºæ— ç©·å¤§ï¼ˆæˆ–è€…ï¼Œæˆ–è€…ä»…å–å¾ˆé•¿çš„æ•°ç»„ï¼‰ï¼Œé‚£ä¹ˆç¨‹åºçš„è¿è¡Œæ—¶é—´å°†ç”±è®¡ç®—ç¡®å®šä¸º100ï¼…ï¼Œå¹¶ä¸”åŠ é€Ÿåº¦ç³»æ•°å°†å®‰å…¨åœ°è¶‹äº1ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN427219/">https://habr.com/ru/post/zh-CN427219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN427207/index.html">å—åˆ°æ‰¹è¯„çš„Rockstarå‘˜å·¥åšæŒä¸ºå…¬å¸å·¥ä½œ100å°æ—¶</a></li>
<li><a href="../zh-CN427209/index.html">GeoPuzzle-ä¸€æ­¥æ­¥æ‰“é€ ä¸–ç•Œ</a></li>
<li><a href="../zh-CN427211/index.html">ç”µå­æ˜¯å°å¼æœºçš„é—ªå…‰ç¯</a></li>
<li><a href="../zh-CN427215/index.html">å¾®æœåŠ¡éœ€è¦å‘å±•ï¼Œè€Œä¸æ˜¯ä»å®ƒä»¬å¼€å§‹</a></li>
<li><a href="../zh-CN427217/index.html">WSGIæœåŠ¡å™¨çš„æ€§èƒ½åˆ†æï¼šç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN427221/index.html">æˆ‘åœ¨å®ç°äººå·¥æ™ºèƒ½æ¢¦æƒ³çš„è¿‡ç¨‹ä¸­å®ç°äº†ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN427223/index.html">é¦–å¸­å¼€å‘äººå‘˜çš„èŒè´£æ˜¯ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN427225/index.html">Oracleæ•°æ®åº“18c XEå‘å¸ƒ</a></li>
<li><a href="../zh-CN427227/index.html">æˆ‘ä»¬å¦‚ä½•é€šè¿‡é¥æ§å™¨åˆ¶ä½œæ£‹ç›˜æ¸¸æˆ-ç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN427229/index.html">4å¹´æ¸¸æˆé¡¹ç›®ç®¡ç†è®¡åˆ’</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>