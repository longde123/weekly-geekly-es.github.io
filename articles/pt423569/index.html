<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÜüèø üõåüèº üèê Definimos de forma simples e precisa o idioma das mensagens ü§ûüèæ üë©üèø‚Äçüè´ üóÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No YouScan , processamos cerca de 100 milh√µes de mensagens por dia, nas quais muitas regras e v√°rias fun√ß√µes inteligentes s√£o aplicadas. Para o trabal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Definimos de forma simples e precisa o idioma das mensagens</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423569/"><img src="https://habrastorage.org/getpro/habr/post_images/b5d/97b/37e/b5d97b37ec0ea5fce5bf22200c96fdb3.png" align="right" width="320"><br><p>  No <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">YouScan</a> , processamos cerca de 100 milh√µes de mensagens por dia, nas quais muitas regras e v√°rias fun√ß√µes inteligentes s√£o aplicadas.  Para o trabalho correto, √© necess√°rio determinar corretamente o idioma, porque nem todas as fun√ß√µes podem ser agn√≥sticas em rela√ß√£o ao idioma.  Neste artigo, falaremos brevemente sobre nosso estudo desse problema e mostraremos uma avalia√ß√£o de qualidade em um conjunto de dados de redes sociais.  redes. </p><a name="habracut"></a><br><h4 id="plan-stati">  Resumo do artigo </h4><br><ol><li>  Problemas de defini√ß√£o de idioma </li><li>  Solu√ß√µes P√∫blicas Acess√≠veis <br><ul><li>  Detector de idioma compacto 2 </li><li>  Texto r√°pido </li></ul></li><li>  Avalia√ß√£o da qualidade </li><li>  Conclus√µes </li></ol><br><h2 id="1-problemy-opredeleniya-yazyka">  1. Problemas de defini√ß√£o de linguagem </h2><br><p> A defini√ß√£o de linguagem √© um problema bastante antigo e muitos tentam resolv√™-lo no √¢mbito do multilinguismo de seus produtos.  Abordagens mais antigas usam solu√ß√µes baseadas em n-gramas, quando o n√∫mero de ocorr√™ncias de um certo n-grama √© considerado e, com base nisso, a "velocidade" para cada idioma √© calculada, ap√≥s o que o idioma mais prov√°vel √© selecionado de acordo com o nosso modelo.  A principal desvantagem desses modelos √© que o contexto n√£o √© absolutamente levado em considera√ß√£o; portanto, a defini√ß√£o de uma linguagem para grupos de idiomas semelhantes √© dif√≠cil.  Por√©m, devido √† simplicidade dos modelos, acabamos com uma alta velocidade de determina√ß√£o, que economiza recursos para sistemas altamente carregados.  Outra op√ß√£o, uma mais moderna, √© uma solu√ß√£o em redes neurais recorrentes.  Essa solu√ß√£o j√° se baseia n√£o apenas em n gramas, mas tamb√©m leva em considera√ß√£o o contexto, o que deve aumentar a qualidade do trabalho. </p><br><p>  A complexidade de criar sua pr√≥pria solu√ß√£o reside na coleta de dados para treinamento e no pr√≥prio processo de aprendizado.  A solu√ß√£o mais √≥bvia √© treinar o modelo nos artigos da Wikipedia, porque sabemos o idioma com certeza e h√° textos verificados de alta qualidade que s√£o relativamente f√°ceis de compilar.  E para treinar seu modelo, voc√™ precisa gastar muito tempo para montar o conjunto de dados, process√°-lo e escolher a melhor arquitetura.  Provavelmente algu√©m j√° fez isso antes de n√≥s.  No pr√≥ximo bloco, veremos as solu√ß√µes existentes. </p><br><h2 id="2-dostupnye-publichnye-resheniya">  2. Solu√ß√µes p√∫blicas dispon√≠veis </h2><br><h3 id="compact-language-detector-2">  Detector de idioma compacto 2 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O CLD2</a> √© um modelo probabil√≠stico baseado em aprendizado de m√°quina (classificador Naive Baessian) que pode definir 83 idiomas diferentes para texto no formato UTF-8 ou html / xml.  Para idiomas mistos, o modelo retorna os tr√™s principais idiomas, onde a probabilidade √© calculada como uma porcentagem aproximada do texto do n√∫mero total de bytes.  Se o modelo n√£o tiver certeza de sua resposta, retornar√° a tag "unc". </p><br><p>  A precis√£o e integridade deste modelo est√£o em um n√≠vel bastante bom, mas a principal vantagem √© a velocidade.  Os criadores reivindicam cerca de 30kb em 1ms, em nossos testes do wrapper Python que recebemos de 21 a 26kb em 1ms (70.000 a 85.000 mensagens por segundo, cujo tamanho m√©dio √© de 0,8kb e a mediana √© de 0,3kb). </p><br><p>  Esta solu√ß√£o √© muito f√°cil de usar.  Primeiro voc√™ precisa instalar seu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">wrapper python</a> ou usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nossa janela de encaixe</a> . </p><br><p> Para fazer uma previs√£o, basta importar a biblioteca <code>pycld2</code> e escreva uma linha de c√≥digo adicional: </p><br><div class="spoiler">  <b class="spoiler_title">Definindo um idioma usando cld2</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pycld2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> cld2 cld2.detect(<span class="hljs-string"><span class="hljs-string">"Bonjour, Habr!"</span></span>) <span class="hljs-comment"><span class="hljs-comment"># (True, # 14, # (('FRENCH', 'fr', 92, 1102.0), # ('Unknown', 'un', 0, 0.0), # ('Unknown', 'un', 0, 0.0)))</span></span></code> </pre> </div></div><br><p>  A resposta do detector √© uma tupla de tr√™s elementos: </p><br><ul><li>  idioma √© definido ou n√£o; </li><li>  n√∫mero de caracteres; </li><li>  tupla dos tr√™s idiomas mais prov√°veis, onde o nome completo vem primeiro, <br>  a segunda √© a abrevia√ß√£o de acordo com os c√≥digos ISO 3166, a terceira √© a porcentagem de caracteres pertencentes a esse idioma e a quarta √© o n√∫mero de bytes. </li></ul><br><h3 id="fasttext">  Texto r√°pido </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O FastText</a> √© uma biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">criada</a> pelo Facebook para aprendizado e classifica√ß√£o eficazes de textos.  No √¢mbito deste projeto, a Pesquisa do Facebook apresentou incorpora√ß√µes para 157 idiomas que mostram resultados de √∫ltima gera√ß√£o para v√°rias tarefas, bem como um modelo para determinar o idioma e outras tarefas de supervis√£o. </p><br><p>  Para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o modelo de defini√ß√£o de linguagem,</a> eles usaram dados da Wikipedia, Tatoeba e SETimes e, como classificador, usaram sua solu√ß√£o de texto r√°pido. </p><br><p>  Os desenvolvedores da pesquisa no Facebook fornecem dois modelos: </p><br><ul><li>  <a href="">lid.176.bin</a> , que √© um pouco mais r√°pido e mais preciso que o segundo modelo, mas pesa 128Mb; </li><li>  <a href="">lid.176.ftz</a> - uma vers√£o compactada do modelo original. </li></ul><br><p>  Para usar esses modelos em python, primeiro voc√™ precisa instalar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">wrapper python para o fasttext</a> .  Pode ser dif√≠cil instal√°-lo, ent√£o voc√™ precisa seguir cuidadosamente as instru√ß√µes no github ou usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nossa janela de encaixe</a> .  Tamb√©m √© necess√°rio fazer o download do modelo no link acima.  Usaremos a vers√£o original neste artigo. </p><br><p>  Classificar uma linguagem usando um modelo do Facebook √© um pouco mais complicado, para isso precisamos de tr√™s linhas de c√≥digo: </p><br><div class="spoiler">  <b class="spoiler_title">Definindo um idioma usando o modelo FastText</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pyfasttext <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> FastText model = FastText(<span class="hljs-string"><span class="hljs-string">'../model/lid.176.bin'</span></span>) model.predict_proba([<span class="hljs-string"><span class="hljs-string">"Bonjour, Habr!"</span></span>], <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-comment"><span class="hljs-comment">#[[('fr', 0.7602248429835308), # ('en', 0.05550386696556002), # ('ca', 0.04721488914800802)]]</span></span></code> </pre> </div></div><br><p>  O modelo FastText'a permite prever a probabilidade de n-idiomas, onde por padr√£o n = 1, mas neste exemplo deduzimos o resultado para os tr√™s principais idiomas.  Para este modelo, essa j√° √© a probabilidade geral de previs√£o de idioma para o texto, e n√£o o n√∫mero de caracteres que pertencem a um idioma espec√≠fico, como foi o caso no modelo cld2.  A velocidade tamb√©m √© bastante alta - mais de 60.000 mensagens por segundo. </p><br><h2 id="3-ocenka-kachestva">  3. Avalia√ß√£o da qualidade </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Avaliaremos</a> a qualidade dos algoritmos usando dados de redes sociais para tempo aleat√≥rio retirados do sistema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">YouScan</a> (aproximadamente 500 mil refer√™ncias), portanto, a amostra ter√° mais idiomas russo e ingl√™s, 43% e 32%, respectivamente, ucraniano, espanhol e portugu√™s - sobre 2% de cada um dos idiomas restantes, menos de 1%.  Para o destino correto, faremos a marca√ß√£o pelo google translate, pois no momento o Google √© muito bom em gerenciar n√£o apenas a tradu√ß√£o, mas tamb√©m a defini√ß√£o do idioma dos textos.  Obviamente, sua marca√ß√£o n√£o √© ideal, mas na maioria dos casos pode ser confi√°vel. </p><br><p>  As m√©tricas para avaliar a qualidade das defini√ß√µes de idioma s√£o precis√£o, integridade e f1.  Vamos cont√°-los e exibir na tabela: </p><br><div class="spoiler">  <b class="spoiler_title">Compara√ß√£o da qualidade de dois algoritmos</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(<span class="hljs-string"><span class="hljs-string">"../data/lang_data.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"r"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: text_l, cld2_l, ft_l, g_l = [], [], [], [] s = <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> f: s += i <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">' |end\n'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s: text, cld2, ft, g = s.strip().rsplit(<span class="hljs-string"><span class="hljs-string">" ||| "</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) text_l.append(text) cld2_l.append(cld2) ft_l.append(ft) g_l.append(g.replace(<span class="hljs-string"><span class="hljs-string">" |end"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>)) s=<span class="hljs-string"><span class="hljs-string">''</span></span> data = pd.DataFrame({<span class="hljs-string"><span class="hljs-string">"text"</span></span>: text_l, <span class="hljs-string"><span class="hljs-string">"cld2"</span></span>: cld2_l, <span class="hljs-string"><span class="hljs-string">"ft"</span></span>: ft_l, <span class="hljs-string"><span class="hljs-string">"google"</span></span>: g_l}) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lang_summary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(lang, col)</span></span></span><span class="hljs-function">:</span></span> prec = (data.loc[data[col] == lang, <span class="hljs-string"><span class="hljs-string">"google"</span></span>] == data.loc[data[col] == lang, col]).mean() rec = (data.loc[data[<span class="hljs-string"><span class="hljs-string">"google"</span></span>] == lang, <span class="hljs-string"><span class="hljs-string">"google"</span></span>] == data.loc[data[<span class="hljs-string"><span class="hljs-string">"google"</span></span>] == lang, col]).mean() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> round(prec, <span class="hljs-number"><span class="hljs-number">3</span></span>), round(rec, <span class="hljs-number"><span class="hljs-number">3</span></span>), round(<span class="hljs-number"><span class="hljs-number">2</span></span>*prec*rec / (prec + rec),<span class="hljs-number"><span class="hljs-number">3</span></span>) results = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> approach <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-string"><span class="hljs-string">"cld2"</span></span>, <span class="hljs-string"><span class="hljs-string">"ft"</span></span>]: results[approach] = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> l <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data[<span class="hljs-string"><span class="hljs-string">"google"</span></span>].value_counts().index[:<span class="hljs-number"><span class="hljs-number">20</span></span>]: results[approach][l] = lang_summary(l, approach) res = pd.DataFrame.from_dict(results) res[<span class="hljs-string"><span class="hljs-string">"cld2_prec"</span></span>], res[<span class="hljs-string"><span class="hljs-string">"cld2_rec"</span></span>], res[<span class="hljs-string"><span class="hljs-string">"cld2_f1"</span></span>] = res[<span class="hljs-string"><span class="hljs-string">"cld2"</span></span>].apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: [x[<span class="hljs-number"><span class="hljs-number">0</span></span>], x[<span class="hljs-number"><span class="hljs-number">1</span></span>], x[<span class="hljs-number"><span class="hljs-number">2</span></span>]]).str res[<span class="hljs-string"><span class="hljs-string">"ft_prec"</span></span>], res[<span class="hljs-string"><span class="hljs-string">"ft_rec"</span></span>], res[<span class="hljs-string"><span class="hljs-string">"ft_f1"</span></span>] = res[<span class="hljs-string"><span class="hljs-string">"ft"</span></span>].apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: [x[<span class="hljs-number"><span class="hljs-number">0</span></span>], x[<span class="hljs-number"><span class="hljs-number">1</span></span>], x[<span class="hljs-number"><span class="hljs-number">2</span></span>]]).str res.drop(columns=[<span class="hljs-string"><span class="hljs-string">"cld2"</span></span>, <span class="hljs-string"><span class="hljs-string">"ft"</span></span>], inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) arrays = [[<span class="hljs-string"><span class="hljs-string">'cld2'</span></span>, <span class="hljs-string"><span class="hljs-string">'cld2'</span></span>, <span class="hljs-string"><span class="hljs-string">'cld2'</span></span>, <span class="hljs-string"><span class="hljs-string">'ft'</span></span>, <span class="hljs-string"><span class="hljs-string">'ft'</span></span>, <span class="hljs-string"><span class="hljs-string">'ft'</span></span>], [<span class="hljs-string"><span class="hljs-string">'precision'</span></span>, <span class="hljs-string"><span class="hljs-string">'recall'</span></span>, <span class="hljs-string"><span class="hljs-string">'f1_score'</span></span>, <span class="hljs-string"><span class="hljs-string">'precision'</span></span>, <span class="hljs-string"><span class="hljs-string">'recall'</span></span>, <span class="hljs-string"><span class="hljs-string">'f1_score'</span></span>]] tuples = list(zip(*arrays)) res.columns = pd.MultiIndex.from_tuples(tuples, names=[<span class="hljs-string"><span class="hljs-string">"approach"</span></span>, <span class="hljs-string"><span class="hljs-string">"metrics"</span></span>])</code> </pre> </div></div><br><table><thead><tr><th>  modelo </th><th></th><th>  cld2 </th><th></th><th></th><th>  ft </th><th></th><th></th><th>  ans </th><th></th></tr></thead><tbody><tr><td>  m√©tricas </td><td>  prec </td><td>  rec </td><td>  f1 </td><td>  prec </td><td>  rec </td><td>  f1 </td><td>  prec </td><td>  rec </td><td>  f1 </td></tr><tr><td>  ar </td><td>  <strong>0,992</strong> </td><td>  0,725 </td><td>  0.838 </td><td>  0,918 </td><td>  0,697 </td><td>  0,793 </td><td>  0,968 </td><td>  <strong>0,788</strong> </td><td>  <strong>0.869</strong> </td></tr><tr><td>  az </td><td>  <strong>0,95</strong> </td><td>  0,752 </td><td>  0.839 </td><td>  0,888 </td><td>  0,547 </td><td>  0,677 </td><td>  0,914 </td><td>  <strong>0,787</strong> </td><td>  <strong>0.845</strong> </td></tr><tr><td>  bg </td><td>  <strong>0,529</strong> </td><td>  0,136 </td><td>  0,217 </td><td>  0,286 </td><td>  0,178 </td><td>  0,219 </td><td>  0,408 </td><td>  <strong>0,214</strong> </td><td>  <strong>0,281</strong> </td></tr><tr><td>  en </td><td>  <strong>0,949</strong> </td><td>  0.844 </td><td>  0,894 </td><td>  0,885 </td><td>  0.869 </td><td>  0.877 </td><td>  0,912 </td><td>  <strong>0,925</strong> </td><td>  <strong>0,918</strong> </td></tr><tr><td>  es </td><td>  <strong>0.987</strong> </td><td>  0,653 </td><td>  0,786 </td><td>  0,709 </td><td>  0.814 </td><td>  0,758 </td><td>  0.828 </td><td>  <strong>0.834</strong> </td><td>  <strong>0.831</strong> </td></tr><tr><td>  fr </td><td>  <strong>0,991</strong> </td><td>  0,713 </td><td>  <strong>0.829</strong> </td><td>  0,53 </td><td>  0,803 </td><td>  0,638 </td><td>  0,713 </td><td>  <strong>0,81</strong> </td><td>  0,758 </td></tr><tr><td>  id </td><td>  <strong>0,763</strong> </td><td>  0,543 </td><td>  <strong>0,634</strong> </td><td>  0,481 </td><td>  0,404 </td><td>  0,439 </td><td>  0,659 </td><td>  <strong>0,603</strong> </td><td>  0,63 </td></tr><tr><td>  isso </td><td>  <strong>0,975</strong> </td><td>  0,466 </td><td>  0,631 </td><td>  0,519 </td><td>  0,778 </td><td>  0,622 </td><td>  0,666 </td><td>  <strong>0,752</strong> </td><td>  <strong>0,706</strong> </td></tr><tr><td>  ja </td><td>  <strong>0,994</strong> </td><td>  0.899 </td><td>  <strong>0,944</strong> </td><td>  0,602 </td><td>  0.842 </td><td>  0,702 </td><td>  0.847 </td><td>  <strong>0,905</strong> </td><td>  0.875 </td></tr><tr><td>  ka </td><td>  <strong>0,962</strong> </td><td>  0,995 </td><td>  <strong>0,979</strong> </td><td>  0,959 </td><td>  0,905 </td><td>  0,931 </td><td>  0,958 </td><td>  <strong>0,995</strong> </td><td>  0,976 </td></tr><tr><td>  kk </td><td>  <strong>0,908</strong> </td><td>  0,653 </td><td>  0,759 </td><td>  0,804 </td><td>  0,584 </td><td>  0,677 </td><td>  0.831 </td><td>  <strong>0,713</strong> </td><td>  <strong>0,767</strong> </td></tr><tr><td>  ko </td><td>  <strong>0,984</strong> </td><td>  0,886 </td><td>  0,933 </td><td>  0,94 </td><td>  0,704 </td><td>  0,805 </td><td>  0,966 </td><td>  <strong>0,91</strong> </td><td>  <strong>0,937</strong> </td></tr><tr><td>  ms </td><td>  <strong>0,801</strong> </td><td>  0,578 </td><td>  <strong>0,672</strong> </td><td>  0,369 </td><td>  0,101 </td><td>  0,159 </td><td>  0,73 </td><td>  <strong>0,586</strong> </td><td>  0,65 </td></tr><tr><td>  pt </td><td>  <strong>0,968</strong> </td><td>  0,753 </td><td>  0.847 </td><td>  0,805 </td><td>  0,771 </td><td>  0,788 </td><td>  0.867 </td><td>  <strong>0.864</strong> </td><td>  <strong>0.865</strong> </td></tr><tr><td>  ru </td><td>  <strong>0.987</strong> </td><td>  0,809 </td><td>  0,889 </td><td>  0,936 </td><td>  0,933 </td><td>  0,935 </td><td>  0,953 </td><td>  <strong>0,948</strong> </td><td>  <strong>0,95</strong> </td></tr><tr><td>  sr </td><td>  0,093 </td><td>  0,114 </td><td>  0,103 </td><td>  <strong>0,174</strong> </td><td>  0,103 </td><td>  0,13 </td><td>  0,106 </td><td>  <strong>0,16</strong> </td><td>  <strong>0,128</strong> </td></tr><tr><td>  th </td><td>  <strong>0,989</strong> </td><td>  0,986 </td><td>  <strong>0.987</strong> </td><td>  0,973 </td><td>  0,927 </td><td>  0,95 </td><td>  0,979 </td><td>  <strong>0,986</strong> </td><td>  0,983 </td></tr><tr><td>  tr </td><td>  <strong>0,961</strong> </td><td>  0,639 </td><td>  <strong>0,768</strong> </td><td>  0,607 </td><td>  0,73 </td><td>  0,663 </td><td>  0,769 </td><td>  <strong>0,764</strong> </td><td>  0,767 </td></tr><tr><td>  Reino Unido </td><td>  <strong>0,949</strong> </td><td>  0,671 </td><td>  <strong>0,786</strong> </td><td>  0,615 </td><td>  0,733 </td><td>  0,669 </td><td>  0,774 </td><td>  <strong>0,777</strong> </td><td>  0,775 </td></tr><tr><td>  uz </td><td>  0,666 </td><td>  0,512 </td><td>  0,579 </td><td>  <strong>0,77</strong> </td><td>  0,169 </td><td>  0,278 </td><td>  0,655 </td><td>  <strong>0,541</strong> </td><td>  <strong>0,592</strong> </td></tr></tbody></table><br><p>  Os resultados mostram claramente que a abordagem cld2 tem uma precis√£o muito alta na determina√ß√£o do idioma, apenas para idiomas impopulares ela fica abaixo de 90% e em 90% dos casos o resultado √© melhor que o do texto r√°pido.  Com aproximadamente a mesma integridade para as duas abordagens, f1 √© mais r√°pido em cld2. <br>  A peculiaridade do modelo cld2 √© que ele fornece uma previs√£o apenas para as mensagens em que √© confiante o suficiente, o que explica a alta precis√£o.  O modelo fasttext'a fornece uma resposta para a maioria das mensagens; portanto, a precis√£o √© significativamente menor, mas √© estranho que a integridade n√£o seja significativamente maior e, na metade dos casos, menor.  Mas se voc√™ "torcer" o limite do modelo de texto r√°pido, poder√° melhorar a precis√£o. </p><br><h2 id="4-vyvody">  4. Conclus√µes </h2><br><p>  Em geral, ambos os modelos apresentam bons resultados e podem ser usados ‚Äã‚Äãpara resolver o problema de determinar o idioma em diferentes dom√≠nios.  Sua principal vantagem √© a alta velocidade, o que torna poss√≠vel criar o chamado "conjunto" e adicionar o pr√©-processamento necess√°rio para melhorar a qualidade. </p><br><p>  Voc√™ pode encontrar todo o c√≥digo para reproduzir experimentos e testar as abordagens acima em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nosso reposit√≥rio</a> . </p><br><p>  Voc√™ tamb√©m pode ver o teste dessas solu√ß√µes em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">outro artigo</a> , que compara precis√£o e velocidade em 6 idiomas da Europa Ocidental. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423569/">https://habr.com/ru/post/pt423569/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423557/index.html">Beb√™, internet e pais. Como evitar armadilhas, beneficiar e permanecer amigos?</a></li>
<li><a href="../pt423559/index.html">Fazendo backup e restaurando recursos do Kubernetes com o Heptio Ark</a></li>
<li><a href="../pt423563/index.html">VPS.today - cat√°logo de servidores virtuais</a></li>
<li><a href="../pt423565/index.html">Gamepad da Sega Mega Drive e Raspberry Pi Parte 1 (preparat√≥rio e com tr√™s bot√µes)</a></li>
<li><a href="../pt423567/index.html">Mais uma vez sobre intelig√™ncia artificial</a></li>
<li><a href="../pt423571/index.html">Todo o tipo de coisas no MetaPost</a></li>
<li><a href="../pt423573/index.html">Sincronicidade √© um mito</a></li>
<li><a href="../pt423575/index.html">Padr√µes de projeto em microeletr√¥nica: onde existem realmente 7 nan√¥metros na tecnologia de 7 nm?</a></li>
<li><a href="../pt423577/index.html">Criando um jogo de l√≥gica para uma plataforma de jogos</a></li>
<li><a href="../pt423579/index.html">Servi√ßos em nuvem para WebGL? N√£o obrigado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>