<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüé§ üë©üèº‚Äçüé§ ‚ô¶Ô∏è Una peque√±a experiencia sobre copia de seguridad y almacenamiento üíØ üìø üÜó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! 

 Hace alg√∫n tiempo, me sumerg√≠ en el mundo de la "empresa dura", es decir, en esa √°rea que es responsable del almacenamiento y la copi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Una peque√±a experiencia sobre copia de seguridad y almacenamiento</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459952/"> Hola a todos! <br><br>  Hace alg√∫n tiempo, me sumerg√≠ en el mundo de la "empresa dura", es decir, en esa √°rea que es responsable del almacenamiento y la copia de seguridad de los datos.  M√°s precisamente, en lo m√°s.  Y durante este per√≠odo, he acumulado varias reglas que trato de cumplir al dise√±ar o dar servicio a soluciones en esta √°rea.  Algunos ya han sobrevivido a los suyos, con el desarrollo de la tecnolog√≠a, y algunos est√°n trabajando bastante.  Y decid√≠ compartirlos contigo. <br><br>  No habr√° una regla 3-2-1, que a menudo se menciona sin m√≠, as√≠ como algunas t√©cnicas directas para situaciones espec√≠ficas y otras cosas en la misma l√≠nea.  Quiz√°s para la mayor√≠a de los que leen esto ser√° lo b√°sico y los t√≥picos.  Esta es solo mi modesta experiencia y espero que sea √∫til para alguien.  Pido gato. <br><a name="habracut"></a><br><h3>  Caracter√≠sticas del "dimensionamiento" local </h3><br>  Tarde o temprano, es necesario obtener m√°s terabytes y / o IOPS.  Y luego comienza el dimensionamiento.  A menudo sin sentido y despiadado.  Porque es extremadamente raro que alguien establezca los requisitos de RTO para el dimensionamiento, que generalmente se presentan para la copia de seguridad.  Aunque parece un requisito obvio para cualquier complejo de hardware.  Es decir  Al dimensionar y formar requisitos para equipos nuevos, por alguna raz√≥n, no se tienen en cuenta los requisitos del sistema de respaldo, que restaurar√° urgentemente algo a su hardware.  A veces algo es bastante grande.  En general, se est√° estableciendo alg√∫n tipo de margen de productividad y espacio, pero la primera recuperaci√≥n de datos muestra que no ser√° suficiente para el ciclo de vida definido para este equipo. <br><br>  Durante el a√±o pasado, ya he visto una situaci√≥n dos veces cuando el cuello de botella durante la recuperaci√≥n de datos fue la matriz de discos en la que se realiz√≥ la recuperaci√≥n.  Encajaban en RTO, pero la campana era alarmante. <br><br><h3>  Tenemos una soluci√≥n en el cl√∫ster, ¬øpor qu√© necesita una copia de seguridad? </h3><br>  Es esta frase muy "en√©rgicamente pronunciada" la que escuch√© al comunicarme <br>  con un desarrollador de un software muy √∫til para una empresa.  El desarrollador argument√≥ que la copia de seguridad es innecesaria para la recuperaci√≥n por el hecho de que la soluci√≥n se implementa en un cl√∫ster y, por lo tanto, si un nodo (o matriz de discos) cae en el sitio, el cl√∫ster se guardar√°.  En estos casos, sin duda salvar√°.  Esto es generalmente excelente cuando hay algunos tipos que piensan en la tolerancia a fallas incluso en la etapa de desarrollo. <br><br>  Sin embargo, la p√©rdida de datos se logra no solo por la falla del equipo en un sitio, y por alguna raz√≥n el desarrollador no quiso entender esto por alg√∫n tiempo.  Como resultado, la primera versi√≥n del software se lanz√≥ en el DBMS de la comunidad, cuya mec√°nica de respaldo no permiti√≥ cumplir con los requisitos RTO / RPO o el SLA del contratista. <br>  En general, escucho esta frase sobre un cl√∫ster con bastante frecuencia. <br><br><h3>  Primero, entonces esto! </h3><br>  Uno de mis mayores errores fue considerar los objetos de respaldo como independientes.  Aqu√≠ est√° el DBMS, aqu√≠ est√° el software.  Esto es una copia de seguridad como esta, y esto es as√≠.  Primero uno, luego otro.  Y un d√≠a no pudimos recuperarnos.  M√°s precisamente, podr√≠an hacerlo, pero durante los pocos d√≠as que se dedicaron a corregir errores en la base de datos.  Y no fui yo quien los elimin√≥, por lo cual estoy especialmente avergonzado.  Aunque utilizamos un mecanismo de copia de seguridad regular para este DBMS.  Ya probado en otros sistemas. <br><br>  A partir de ese momento, empujo mi nariz y sacudo al desarrollador / propietario del sistema sobre el tema de c√≥mo hacer una copia de seguridad y restaurar correctamente.  Por ejemplo, en un caso, la √∫nica forma de crear una copia de seguridad funcional era detener completamente los servicios en 5 servidores, hacer una copia de seguridad e iniciar los servicios. <br><br><h3>  Volcar nuestro todo? </h3><br>  A menudo encuentro soluciones en DBMS como MySQL y PostgreSQL.  Y a√∫n m√°s a menudo me encuentro con una situaci√≥n en la que el volcado banal de la base de datos en / tmp se usa como m√©todo de respaldo, y luego a otro medio.  Al mismo tiempo, los sistemas donde se usan estos DBMS son bastante cr√≠ticos para el tiempo de inactividad en caso de p√©rdida de datos, y est√°n muy cargados.  Ya estoy en silencio sobre los vol√∫menes. <br><br>  Por alguna raz√≥n, pocas personas leen la documentaci√≥n de estos productos y no saben que existen m√©todos y soluciones alternativas para crear copias de seguridad de estos DBMS.  <i>MySQL Enterprise Backup</i> para MySQL y <i>pg_basebackup</i> ( <i>pg_start_backup, pg_stop_backup</i> ) respectivamente en PostgreSQL, respectivamente.  O lo sabe, pero vol√≥ fuera de su cabeza.  Aunque estas soluciones no son mucho m√°s complicadas y r√°pidas.  Copia de seguridad m√°s r√°pida, restauraci√≥n m√°s r√°pida, prueba m√°s r√°pida. <br><blockquote>  Por favor no disparen al pianista. <br>  √âl est√° haciendo lo mejor que puede. <br>  Oscar Fingal O'Flahertie Wills Wilde </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/459952/">https://habr.com/ru/post/459952/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459928/index.html">El camino del estudiante hacia el desarrollo de aplicaciones m√≥viles</a></li>
<li><a href="../459930/index.html">Automatizaci√≥n de importaci√≥n de Python</a></li>
<li><a href="../459934/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 306 (del 8 al 14 de julio)</a></li>
<li><a href="../459936/index.html">9 trucos m√°s para trabajar con Visual Studio</a></li>
<li><a href="../459948/index.html">Implementaci√≥n de nubes volum√©tricas f√≠sicamente correctas como en Horizon Zero Dawn</a></li>
<li><a href="../459954/index.html">¬øPor qu√© una de las compa√±√≠as de TI m√°s grandes se uni√≥ a CNCF?</a></li>
<li><a href="../459956/index.html">Implantaci√≥n en ausencia total de dientes, como resultado de visitas prematuras al dentista.</a></li>
<li><a href="../459958/index.html">An√°lisis de tareas de la conferencia Hydra: equilibrio de carga y almacenamiento en memoria</a></li>
<li><a href="../459960/index.html">Desde la idea hasta el lanzamiento. Experiencia detallada en el mercado frontend</a></li>
<li><a href="../459964/index.html">8 simples trucos de interfaz de usuario para hacer que el dise√±o de un prototipo sea din√°mico sin recurrir a la animaci√≥n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>