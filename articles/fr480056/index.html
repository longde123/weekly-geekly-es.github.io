<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçü§ù‚Äçüë©üèΩ ü§ô üõ¥ Activation de la cam√©ra cach√©e par les navigateurs: Big Brother ou erreur de calcul technologique? üòû üöò üÜí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! 


 Je m'appelle Vadim et je suis l'un des consultants techniques et, en combinaison, l'administrateur syst√®me de RosKomSvobody . 


 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Activation de la cam√©ra cach√©e par les navigateurs: Big Brother ou erreur de calcul technologique?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/roskomsvoboda/blog/480056/"><p><img src="https://habrastorage.org/webt/0g/sx/-f/0gsx-fsnvkf2ueaagrkumuhg53k.jpeg" alt="image"></p><br><p>  Bonjour √† tous! </p><br><p> Je m'appelle Vadim et je suis l'un des consultants techniques et, en combinaison, l'administrateur syst√®me de <a href="https://roskomsvoboda.org/">RosKomSvobody</a> . </p><br><p>  Mais ce post ne parlera pas de moi.  Ce sera l'histoire d'une situation suspecte (en termes de confidentialit√© dans le contexte des t√©l√©phones mobiles) que nous avons r√©cemment rencontr√©e. <br>  Cela pourrait √™tre dans le style de "Aaaaaaaaa! Regardez, Big Brother (Google) nous suit", mais je vais quand m√™me essayer de faire une sorte d'analyse et de proposer des hypoth√®ses plausibles sur pourquoi ce qui s'est pass√© peut arriver. </p><br><p>  Je m'excuse √† l'avance si quelqu'un n'aime pas le format √† la "magazine} {akep to zero".  √âcrivez - je serai corrig√©. </p><a name="habracut"></a><br><p>  Alors.  Un de nos lecteurs s'est approch√© de nous, affirmant qu'en entrant sur notre site (qui, assez ironiquement, la tuile sup√©rieure de notre campagne contre la reconnaissance faciale - <a href="https://bancam.ru/">BanCam se</a> bloque en haut), la cam√©ra frontale est activ√©e. </p><br><p>  Le fait est qu'il est le propri√©taire d'un t√©l√©phone d'une nouvelle g√©n√©ration de t√©l√©phones sans "manilles", dans lequel la cam√©ra avant est plac√©e dans un bac "sortant" s√©par√©.  Ce qui, en fait, laisse lors de l'acc√®s √† la cam√©ra. </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://i.imgur.com/ERK9iPV.mp4" type="video/mp4"></video></div></div></div><br><p>  Comme vous l'avez probablement devin√©, mes premi√®res pens√©es ont √©t√© les soup√ßons que nous √©tions en quelque sorte miraculeusement, malgr√© tous les "m√©canismes de s√©curit√©" que je construisais, encore pirat√©s et "construits". </p><br><p>  Cependant, l'enqu√™te a r√©v√©l√© que tout est en ordre avec notre site. </p><br><p>  Apr√®s avoir men√© l'enqu√™te susmentionn√©e et discut√© de ses conclusions dans le chat technique de RosKomSvoboda, je me suis souvenu que j'avais d√©j√† rencontr√© sur plusieurs forums sur Internet un cheval de Troie ¬´gliss√©¬ª √† travers des r√©seaux de banni√®res (lors de l'ouverture du forum √† partir d'un t√©l√©phone Android) apk-packages (apparemment, dans l'espoir que l'utilisateur les installera, pensant qu'il s'agit du client officiel de ce forum). </p><br><p>  Apr√®s avoir r√©fl√©chi √† cette id√©e, j'ai sugg√©r√© d'essayer de v√©rifier les "trackers" qui figuraient sur la liste des permis (ce lecteur utilise Firefox et l'addon uBlock qui y est install√©). </p><br><p> Quelques heures d'exp√©riences ont montr√© que la cam√©ra s'arr√™te de bouger si vous bloquez l'acc√®s au domaine <code>google.com</code> .  En outre, quelque part en m√™me temps, cet utilisateur a d√©clar√© que cette situation √©tait √©galement reproduite sur le site Web <code>kod.ru</code> (avant cela, nous travaillions avec la version ¬´uniquement avec nous¬ª). </p><br><p>  Apr√®s √™tre all√© un peu plus loin dans les fouilles, j'ai trouv√© que les demandes de <code>google.com</code> provoquaient non seulement des trackers Google (aka "analytics"), mais m√™me "l'incorporation" habituelle de vid√©os YouTube sur une page.  La reproductibilit√© de la sortie de la cam√©ra sur <code>kod.ru</code> √©galement tomb√©e dans cette th√©orie (il s'est av√©r√© qu'il y avait √©galement une vid√©o de YouTube sur la page test√©e). </p><br><p>  Afin de confirmer davantage cette th√©orie, j'ai googl√© un article de blog al√©atoire sur la "comment ins√©rer une vid√©o YouTube dans un blog, une instruction vid√©o" avec une vid√©o int√©gr√©e, et la situation a √©galement √©t√© reproduite dessus. </p><br><p>  Alors.  Bon.  Pour le moment, nous avons de telles informations entre nos mains: la pr√©sence d'une vid√©o YouTube int√©gr√©e sur la page d√©clenche le chargement de certains scripts de <code>google.com</code> , et ceux-ci, √† leur tour, d√©clenchent la sortie de la cam√©ra. </p><br><p>  Ok, creusez plus loin. </p><br><p>  En fouillant dans les outils de d√©bogage du navigateur, j'ai trouv√© qu'un √©trange et terriblement obscurci (√† tel point qu'aucun des d√©sobfuscateur que j'ai essay√© √† partir des r√©sultats de recherche ne pouvait g√©rer) charg√© √† partir de <code>www.google.com</code> (√† savoir <code>www</code> ) charg√©, m√™me avec un nom et que obscurci (connaissant Google, je peux supposer qu'apr√®s un certain temps ce script dispara√Ætra et √† sa place sera mis un script avec un nom diff√©rent (mais √©galement illisible). Donc, voici son <a href="https://gist.github.com/raw/c8c09c5067a732c6284ce6b0b1da46c4">code</a> , juste au cas o√π). </p><br><p>  Un rapide coup d'≈ìil au script ne montre aucune r√©f√©rence √† la cam√©ra ici, et plonger dans le d√©bogage encore plus profond√©ment et interpr√©ter ce qu'il fait il n'y a pas de temps et d'opportunit√© (bien que si l'un de vous lecteurs le souhaite, vous pouvez le faire). </p><br><p>  Nous essayons d'entrer de l'autre c√¥t√©: <br>  Personnellement, j‚Äôai un t√©l√©phone sans cam√©ra de sortie, donc c‚Äôest si facile de l‚Äôattirer, je ne peux pas.  Mais je peux le connecter via USB et faire <code>adb logcat | grep -C5 camer</code>  <code>adb logcat | grep -C5 camer</code> ( <code>grep</code> - parce qu'autrement, il y a trop de d√©chets inutiles pour chaque √©ternuement, y compris en tapotant l'√©cran avec votre doigt ou en d√©pla√ßant le t√©l√©phone dans l'espace).  Qu'est-ce que je fais r√©ellement ... </p><br><p>  Alors, la tentative num√©ro un: je vais sur les sites test√©s, et ... rien! </p><br><p>  La pens√©e se glisse, que le probl√®me semble, apr√®s tout, quelque part du c√¥t√© de l'utilisateur. </p><br><p>  Parall√®lement √† ce processus, nous discutons de la situation dans le chat technique susmentionn√© de RosKomSvobody.  Apr√®s un certain temps, l'un des participants a re√ßu l'avis que, disent-ils, les navigateurs mobiles sont rus√©s: ils ne demandent pas toujours des droits d'acc√®s globaux √† la cam√©ra, et s'ils ne sont pas accord√©s, dans certains cas, ils peuvent ne pas demander! </p><br><p>  Je vais dans les param√®tres de l'application et je vois que oui, je n'ai pas d√©fini d'autorisations pour la cam√©ra pour Firefox.  Je l'allume, je le v√©rifie √† nouveau et je vois une feuille pour quelques "√©crans" <a href="">avec ce qui</a> suit: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b48/630/155/b48630155fd1db53d6ef5127e7b77797.png" alt="capture d'√©cran"></p><br><p>  Ouais!  Faites appel √† la cam√©ra, alors il y en a encore! <br>  De plus, imm√©diatement apr√®s la ligne avec "obtenir les informations sur l'appareil", il y a une ouverture explicite de l'appareil photo: </p><br><pre> <code class="plaintext hljs">12-12 17:10:14.734 751 6924 I QCamera : &lt;HAL&gt;&lt;INFO&gt; int qcamera::QCamera2Factory::cameraDeviceOpen(int, struct hw_device_t **): 405: Open camera id 0 API version 256</code> </pre> <br><p>  Je v√©rifie la m√™me chose avec Chrome, et tout est reproduit: si les droits sur la cam√©ra sont supprim√©s, puis dans le journal "silence des agneaux", et si √©mis - la m√™me feuille que l'acc√®s √† la cam√©ra appara√Æt avec le bouchon de lait au safran. </p><br><p>  Le probl√®me est donc: <br>  a) non local pour l'utilisateur, <br>  b) non sp√©cifique au navigateur. </p><br><p>  <strong>Fait int√©ressant, au cours de tous ces √©v√©nements, aucun de ces navigateurs n'a essay√© de dire un mot sur la demande de permission d'acc√©der √† la cam√©ra depuis l'un des sites participant au test (et, en fait, depuis YouTube et <code>google.com</code> aussi).</strong> </p><br><p>  √Ä la lumi√®re de ce qui pr√©c√®de, deux hypoth√®ses me sont n√©es: </p><br><ol><li>  Soit Big Brother, cependant, vous regarde, ou </li><li>  ce script horriblement obscurci appelle en fait une partie de l'API de la cam√©ra dans les navigateurs pour prendre les empreintes digitales de l'utilisateur, mais n'acc√®de pas directement √† la cam√©ra.  Par cons√©quent, il n'y a pas de demande d'acc√®s (cependant, si vous regardez la vid√©o au d√©but de l'article, vous pouvez voir comment la LED clignote entre l'ouverture et la fermeture de la cam√©ra, ce qui vous fait r√©fl√©chir). </li></ol><br><p>  Les navigateurs, cependant, adh√®rent √† la logique ici: "lors de l'initialisation de l'API de la cam√©ra, s'il n'y a pas acc√®s √† la cam√©ra, nous ne faisons rien (nous ne le demandons m√™me pas jusqu'√† ce qu'il y ait un r√©el besoin), et si c'est le cas, nous initialisons les cam√©ras et v√©rifions quels appareils nous avons l√† et quoi ils peuvent "(pour lequel, apparemment, l'appareil est" d√©couvert "). </p><br><p>  Le vendeur de t√©l√©phone de l'utilisateur, semble-t-il, ne s'est pas particuli√®rement plong√© dans l'invention des b√©quilles logicielles au-dessus de la cam√©ra et a r√©solu le probl√®me simplement (pour lequel, d'ailleurs, il respecte): lors de l'acc√®s √† la cam√©ra, elle s'en va.  Lorsque vous ouvrez l'appareil et √©changez des donn√©es avec lui, la diode clignote. </p><br><p>  Au total, il s'av√®re que le probl√®me n'est pas aussi fatal qu'il semblait au d√©but, et, esp√©rons-le, personne ne prend de photos (bien que cela ne soit n√©anmoins pas "exact", car ma comp√©tence √† savoir Les codes source d'Android ne suffisent pas √† garantir sans ambigu√Øt√© dans quel cas la feuille d'appels √† l'appareil photo dans logcat parle de la photo prise, et dans laquelle - √† peu pr√®s parler de l'application avec l'appareil). </p><br><p>  Cependant, le fait que l'ouverture de toute page Web sur laquelle il y aura un iframe avec une vid√©o int√©gr√©e de YouTube conduit √† un appel √† la cam√©ra (et m√™me √† une sorte de n√©gociation avec l'appareil) est encore assez triste dans le contexte de la confidentialit√© et, il me semble, √ßa vaut quand m√™me la discussion de la communaut√©. </p><br><p>  Qu'en penses-tu? </p><br><p>  <em>PS En anglais, cet article a √©t√© publi√© <a href="https://medium.com/%40mva.name/browser-activating-the-front-facing-camera-big-brother-or-just-a-bug-e7a2ff9d6856%3F">sur Medium</a></em> . </p><br><p>  <strong><em>UPD</em></strong> : merci aux <a href="https://habr.com/ru/users/berez/" class="user_link">habrachians berez</a> et <a href="https://habr.com/ru/users/ksil/" class="user_link">ksil</a> pour un paquet de corrections d'orthographe (sinon, quand vous lisez et r√©√©crivez diff√©rents morceaux de texte, comme d'habitude, "corriger quelques bugs, en apporter plein d'autres") </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr480056/">https://habr.com/ru/post/fr480056/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr480042/index.html">Projets ind√©pendants et propres. Abonnement √† Nginx</a></li>
<li><a href="../fr480044/index.html">Une deuxi√®me ann√©e de Q #</a></li>
<li><a href="../fr480048/index.html">D√©mystifier le nouveau service de travail .NET Core 3</a></li>
<li><a href="../fr480050/index.html">√âtudes sur le terrain du concept de ¬´documentation en tant que code¬ª</a></li>
<li><a href="../fr480052/index.html">SEO vs PPC - Quoi de mieux pour votre entreprise?</a></li>
<li><a href="../fr480058/index.html">Transformer star sur l'arbre de No√´l</a></li>
<li><a href="../fr480060/index.html">Classificateur P300 simple sur donn√©es ouvertes</a></li>
<li><a href="../fr480062/index.html">10 syst√®mes de contr√¥le. O√π est-il plus pratique de communiquer sur les t√¢ches et de partager des fichiers?</a></li>
<li><a href="../fr480064/index.html">Mots d'apprentissage regroup√©s par th√®me</a></li>
<li><a href="../fr480068/index.html">[Mise √† jour] Nos gens sont battus et nous nous tairons?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>