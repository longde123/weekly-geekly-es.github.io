<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕐 📘 👨🏾‍⚕️ Belajar Python: modul argparse 🚌 🏣 💧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jika Anda terlibat dalam pemrosesan data dan analisis menggunakan Python, maka, cepat atau lambat, Anda harus melampaui Notebook Jupyter, mengubah kod...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Belajar Python: modul argparse</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/440654/">  Jika Anda terlibat dalam pemrosesan data dan analisis menggunakan Python, maka, cepat atau lambat, Anda harus melampaui Notebook Jupyter, mengubah kode Anda menjadi skrip yang dapat dijalankan menggunakan baris perintah.  Di sinilah modul argparse berguna.  Untuk pemula, terbiasa dengan Jupyter Notebook, langkah ini berarti kebutuhan untuk meninggalkan zona nyaman dan pindah ke lingkungan baru.  Bahan, terjemahan yang kami terbitkan hari ini, ditulis untuk memfasilitasi transisi semacam itu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/17b/7ac/55a/17b7ac55a4b8da7b7fdd54d354da19d9.jpg"></div><br>  <i><font color="#999999">Modul argparse</font></i> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Modul argparse</font> </h2><br>  Modul argparse dapat dibandingkan dengan kekuatan alam yang telah mendirikan puncak gunung yang menjulang tinggi di atas awan.  Berkat modul ini dalam skrip, menjadi mungkin untuk bekerja dengan apa, tanpa penggunaannya, akan disembunyikan dari kode skrip ini. <br><br>  Perlu dicatat bahwa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">argparse</a> adalah modul library Python standar yang direkomendasikan untuk bekerja dengan argumen baris perintah.  Saya tidak dapat menemukan panduan argparse yang bagus untuk pemula, jadi saya memutuskan untuk menulis panduan seperti itu sendiri. <br><br><h2>  <font color="#3AC1EF">Kehidupan di luar Notebook Jupyter</font> </h2><br>  Ketika saya pertama kali menemukan argparse dalam skrip Python yang saya butuhkan untuk proyek yang saya lakukan di waktu luang, saya berpikir: "Apa konstruksi misterius ini?"  Setelah itu, saya cepat-cepat mentransfer kode itu ke Notebook Jupyter, tetapi langkah itu ternyata tidak rasional. <br><br>  Saya harus bisa menjalankan skrip saja, dan tidak bekerja dengannya menggunakan Notebook Jupyter.  Sebuah skrip yang berdiri sendiri yang menggunakan modul argparse akan jauh lebih mudah digunakan, mengerjakannya akan lebih mudah daripada mengandalkan kemampuan Notebook Jupyter.  Namun, kemudian saya sedang terburu-buru, dan ketika saya melihat dokumentasi argparse, saya tidak bisa langsung memahami esensinya, jadi saya tidak menggunakan versi asli dari naskah. <br><br>  Sejak itu, saya menemukan argparse dan saya sangat menyukai modul ini.  Sekarang saya menganggapnya sangat vital.  Namun, untuk menguasainya tidak begitu sulit. <br><br><h2>  <font color="#3AC1EF">Mengapa kita membutuhkan modul argparse?</font> </h2><br>  Modul argparse memungkinkan Anda untuk mem-parsing argumen yang diteruskan ke skrip saat dijalankan dari baris perintah, dan memungkinkan untuk menggunakan argumen ini dalam skrip.  Artinya, kita berbicara tentang fakta bahwa modul ini memungkinkan skrip untuk menyediakan beberapa data pada saat peluncurannya, dan skrip akan dapat menggunakan data ini selama pelaksanaan kode.  Modul argparse adalah alat yang dengannya Anda dapat menjalin komunikasi antara pembuat program dan orang yang menggunakannya, misalnya, antara Anda saat Anda menulis skrip hari ini dan Anda saat Anda meluncurkannya besok, memberikan sesuatu padanya. <br><br>  Menggunakan argparse berarti bahwa, jika perlu, mengubah perilaku skrip atau, jika perlu, mentransfer beberapa data ke dalamnya, jika disediakan oleh penulis skrip, pengguna tidak perlu mengedit kode program.  Hasilnya, skrip mendapatkan tingkat fleksibilitas tertentu. <br><br><h2>  <font color="#3AC1EF">Contoh</font> </h2><br>  Misalkan Anda ingin menulis skrip untuk mengonversi file video ke gambar biasa menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pustaka OpenCV</a> .  Agar skrip untuk menyelesaikan masalah ini, ia perlu mengetahui tempat penyimpanan file video, dan tempat di mana Anda harus meletakkan gambar yang sudah jadi.  Artinya, ia membutuhkan informasi tentang dua folder, jalur yang, yang sangat tidak nyaman, dapat dikodekan dalam kode skrip, atau, yang jauh lebih baik, Anda dapat membiarkan pengguna menentukan skrip dengan memasukkannya sebagai argumen baris perintah saat menjalankan skrip.  Untuk melengkapi skrip dengan kesempatan seperti itu, modul argparse bermanfaat bagi kita.  Beginilah bagian skripnya (sebut saja skrip ini <code>videos.py</code> ), tempat argumen baris perintah diuraikan: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># videos.py import argparse parser = argparse.ArgumentParser(description='Videos to images') parser.add_argument('indir', type=str, help='Input dir for videos') parser.add_argument('outdir', type=str, help='Output dir for image') args = parser.parse_args() print(args.indir)</span></span></code> </pre> <br>  Di sini, di awal file, modul argparse diimpor.  Kemudian, menggunakan konstruksi <code>argparse.ArgumentParser()</code> , objek <code>parser</code> dibuat dengan deskripsi.  Selanjutnya, dengan menggunakan metode <code>parser.add_argument()</code> , variabel <code>parser.add_argument()</code> <code>indir</code> , di mana ia direncanakan untuk menulis path ke folder dengan file video.  Pada saat yang sama, ini mengindikasikan bahwa ia memiliki tipe string, dan informasi referensi tentangnya juga diatur.  Setelah itu, dengan cara yang sama, variabel <code>outdir</code> , di mana path ke folder di mana skrip harus meletakkan gambar yang dibuat berdasarkan file video akan didapat.  Pada langkah berikutnya, hasil parsing argumen baris perintah masuk ke variabel <code>args</code> .  Apa yang diteruskan ke skrip saat startup sekarang akan tersedia sebagai properti <code>indir</code> dan <code>outdir</code> dari objek <code>args</code> .  Sekarang Anda dapat bekerja dengan nilai-nilai ini.  Dalam hal ini, kita cukup mencetak ke konsol apa yang diteruskan ke skrip dalam argumen <code>indir</code> . <br><br>  Berikut cara menjalankan skrip ini dari baris perintah: <br><br><pre> <code class="python hljs">python videos.py /videos /images</code> </pre> <br>  Perhatikan bahwa garis <code>/videos</code> dan <code>/images</code> tidak perlu dikutip.  Sebuah skrip yang diluncurkan dengan cara ini akan menampilkan baris <code>/videos</code> ke terminal, dengan demikian mengkonfirmasikan kemungkinan menggunakan argumen yang diteruskan ke dalamnya dalam kodenya.  Inilah keajaiban argparse dalam aksi. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a8/e05/614/9a8e056143381f2aba21f091e8ac522d.jpg"></div><br>  <i><font color="#999999">Keajaiban argumen baris perintah parsing</font></i> <br><br><h2>  <font color="#3AC1EF">Rincian argparse</font> </h2><br>  Kami baru saja melihat contoh argparse sederhana.  Sekarang mari kita bahas beberapa detail mengenai argparse. <br><br><h3>  <font color="#3AC1EF">▍ Argumen Posisi</font> </h3><br>  Konstruksi form <code>parser.add_argument('indir', type=str, help='Input dir for videos')</code> dari skrip <code>videos.py</code> dimaksudkan untuk membuat argumen posisi.  Saat memanggil skrip, urutan argumentasi semacam itu penting.  Jadi, argumen pertama yang diteruskan ke skrip menjadi argumen posisi pertama, argumen kedua menjadi argumen posisi kedua. <br><br>  Apa yang terjadi jika skrip dijalankan tanpa argumen dengan menjalankan perintah <code>python videos.py</code> di terminal? <br><br>  Dalam hal ini, pesan kesalahan berikut akan ditampilkan: <br><br><pre> <code class="python hljs">videos.py: error: the following arguments are required: indir, outdir</code> </pre> <br>  Akibatnya, ternyata untuk menjalankan skrip yang menyediakan untuk penggunaan argumen posisional, argumen tersebut harus selalu ditentukan saat dijalankan. <br><br><h3>  <font color="#3AC1EF">▍ Argumen opsional</font> </h3><br>  Apa yang terjadi ketika skrip kami dijalankan dengan perintah <code>python videos.py --help</code> ? <br><br>  Sebagai tanggapan, informasi bantuan tentang hal itu akan ditampilkan.  Ini persis informasi tentang argumen posisi yang kami tunjukkan ketika menjelaskan variabel yang sesuai: <br><br><pre> <code class="python hljs">usage: videos.py [-h] indir outdir Videos to images positional arguments: indir       Input dir <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> videos outdir      Output dir <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> image optional arguments: -h, --help  show this help message <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> exit</code> </pre> <br>  Script memberi tahu kami banyak hal menarik tentang apa yang diharapkan dari pengguna, dan <code>help</code> adalah contoh dari argumen opsional.  Perhatikan bahwa <code>--help</code> (atau <code>-h</code> ) adalah satu-satunya argumen opsional standar yang dapat kita gunakan ketika bekerja dengan argparse, tetapi jika Anda membutuhkan argumen opsional lainnya, Anda dapat membuatnya sendiri. <br><br>  Argumen opsional dibuat dengan cara yang sama seperti argumen posisi.  Perbedaan utama antara perintah untuk membuatnya adalah ketika menentukan nama argumen seperti itu, nama-nama ini dimulai dengan urutan karakter <code>--</code> , atau, untuk bentuk argumen pendek, dengan karakter <code>-</code> .  Misalnya, argumen opsional dapat dibuat seperti ini: <br><br><pre> <code class="python hljs">parser.add_argument(<span class="hljs-string"><span class="hljs-string">'-m'</span></span>, <span class="hljs-string"><span class="hljs-string">'--my_optional'</span></span>)</code> </pre> <br>  Berikut adalah contoh cara membuat dan menggunakan argumen opsional.  Perhatikan bahwa ketika mendeskripsikan argumen opsional di sini, kami menetapkan tipenya sebagai <code>int</code> .  Artinya, itu adalah bilangan bulat.  Dalam situasi serupa, Anda bisa menggunakan jenis Python lain. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># my_example.py import argparse parser = argparse.ArgumentParser(description='My example explanation') parser.add_argument(   '--my_optional',   type=int,   default=2,   help='provide an integer (default: 2)' ) my_namespace = parser.parse_args() print(my_namespace.my_optional)</span></span></code> </pre> <br>  Argumen yang dijelaskan sebagai <code>--my_optional</code> tersedia dalam program sebagai properti dari objek <code>my_optional</code> bernama <code>my_optional</code> . <br><br>  Argumen opsional dapat diberikan nilai-nilai yang akan mereka miliki secara default.  Dalam kasus kami, jika tidak ada nilai yang diberikan ke argumen <code>my_example</code> saat skrip dipanggil, nomor 2 akan dituliskan padanya, yang akan ditampilkan ke konsol.  Untuk menetapkan nilai argumen ini selama eksekusi skrip, Anda dapat menggunakan konstruksi berikut: <br><br><pre> <code class="python hljs">python my_example.py  --my_optional=<span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Untuk apa argparse digunakan?</font> </h2><br>  Modul argparse dapat digunakan untuk mengembangkan aplikasi Python yang rencananya akan dikemas dalam wadah Docker.  Jadi, misalnya, jika Anda harus meneruskan argumen baris perintah ketika memulai aplikasi yang dikemas dalam sebuah wadah, maka Anda dapat menggambarkannya pada tahap perakitan kontainer di Dockerfile menggunakan instruksi <code>RUN</code> .  Anda dapat menggunakan instruksi <code>CMD</code> atau <code>ENTRYPOINT</code> untuk menjalankan skrip selama <code>ENTRYPOINT</code> kontainer.  Detail tentang Dockerfiles dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Kami memeriksa cara dasar bekerja dengan modul argparse, yang dengannya Anda dapat melengkapi skrip Anda dengan kemampuan untuk menerima dan memproses argumen baris perintah.  Perlu dicatat bahwa fitur argparse tidak berakhir di sana.  Misalnya, menggunakan parameter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nargs</a> saat menjelaskan argumen memungkinkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Anda</a> untuk bekerja dengan daftar argumen, dan parameter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pilihan</a> memungkinkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Anda</a> menentukan set nilai yang dapat diambil argumen.  Bahkan, sekarang, setelah menguasai fitur utama argparse, Anda, tanpa banyak kesulitan, dapat mempelajari modul ini lebih dalam, menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> untuk itu. <br><br>  Jika Anda terbiasa bekerja dengan Notebook Jupyter dan ingin pindah dari praktik ini, ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dia</a> - bahan tentang bekerja dengan variabel lingkungan.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berikut adalah</a> bahan pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">alat repo2docker</a> , yang memungkinkan Anda untuk mengubah repositori Notebook Jupyter menjadi gambar Docker. <br><br>  <b>Pembaca yang budiman!</b>  Bagaimana Anda bekerja dengan argumen baris perintah dalam skrip Python? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id440654/">https://habr.com/ru/post/id440654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id440644/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 352 (11 - 17 Februari 2019)</a></li>
<li><a href="../id440646/index.html">Frontend Weekly Digest (11 - 17 Feb 2019)</a></li>
<li><a href="../id440648/index.html">Tinjauan hukum Rusia di bidang aksesibilitas web</a></li>
<li><a href="../id440650/index.html">Bagaimana kesadaran bekerja: kesimpulan dari buku Alexander Nevzorov</a></li>
<li><a href="../id440652/index.html">Video yang dihitung dalam 755 megapiksel: plenoptik kemarin, hari ini dan besok</a></li>
<li><a href="../id440656/index.html">Kontainer profesional aplikasi Node.js menggunakan Docker</a></li>
<li><a href="../id440658/index.html">Menjelajahi Docker, Bagian 4: Mengurangi Ukuran Gambar dan Mempercepat Perakitan Mereka</a></li>
<li><a href="../id440660/index.html">Learning Docker, Bagian 5: Perintah</a></li>
<li><a href="../id440662/index.html">Bereaksi Tutorial Bagian 18: Fase Keenam Bekerja pada Aplikasi TODO</a></li>
<li><a href="../id440666/index.html">Klasifikasi gambar tulisan tangan. Laporkan dalam Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>