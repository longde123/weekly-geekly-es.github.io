<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>  锔 Corda: Kotlin   </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando alguien mira el c贸digo Corda , inmediatamente se da cuenta de que est谩 escrito en Kotlin, el nuevo lenguaje de programaci贸n de JetBrains, que s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Corda: Kotlin</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422549/"><p>  Cuando alguien mira el c贸digo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Corda</a> , inmediatamente se da cuenta de que est谩 escrito en Kotlin, el nuevo lenguaje de programaci贸n de JetBrains, que se puede compilar para JVM y Javascript.  Fue una elecci贸n inusual, y en este art铆culo quiero compartir algunas razones para esta decisi贸n y la experiencia de nuestro "a帽o con Kotlin en producci贸n". </p><a name="habracut"></a><br><h3 id="pochemu-kotlin">  驴Por qu茅 Kotlin? </h3><br><p>  Esta soluci贸n se puede dividir en dos partes: </p><br><ol><li>  驴Qu茅 plataforma usar?  驴JVM, .NET, Node, Python / Ruby, Go, Haskell o algo compilado (en c贸digo m谩quina)? </li><li>  驴Qu茅 idioma usar si elige JVM?  Java?  Si no, 驴por qu茅?  Y si no, entonces qu茅 m谩s: Scala, Ceil谩n, Clojure, Kotlin, Python, Ruby, Javascript o Haskell (porque todos tienen una implementaci贸n para JVM). </li></ol><br><p> Las razones para elegir JVM como plataforma son bien conocidas en el entorno de aplicaciones empresariales, y no tiene mucho sentido detenerse en esto.  Baste decir que si necesita un tiempo de ejecuci贸n multiplataforma escalable, seguro para subprocesos con <em>recolecci贸n de basura</em> , y con muchas bibliotecas bien documentadas que resuelven problemas comerciales b谩sicos, entonces la elecci贸n se reduce solo a JVM y .NET. </p><br><p>  Al comienzo del trabajo en Corda, el proyecto no ten铆a nombre y era dif铆cil imaginar que en el futuro se convertir铆a en un producto.  De hecho, cuando el proyecto que se convirti贸 en Corda comenz贸 en diciembre de 2015 (en mi primer d铆a de trabajo), no hab铆a ning煤n plan para crear un nuevo sistema corporativo de contabilidad distribuida.  Corda comenz贸 como un conjunto de prototipos para explorar nuevas ideas y requisitos en los que estaba interesado el <em>Grupo de Trabajo de Arquitectura</em> del Consorcio, especialmente aquellos relacionados con la visibilidad limitada de los datos y el modelo de datos que proporciona la escalabilidad del "conjunto UTXO de matrices de salida transaccional" junto con la programabilidad de los imperativos contratos inteligentes de Ethereum en general. </p><br><p>  Debido al hecho de que no estaba claro si estos prototipos se convertir铆an en algo, o simplemente servir铆an como informaci贸n para otros productos en el mercado, enfrentamos una decisi贸n dif铆cil.  Por un lado, quer铆amos explorar de manera r谩pida y productiva algoritmos y estructuras de datos.  Por otro lado, deber铆a haber una oportunidad potencial para crear un gran producto corporativo y contratar r谩pidamente personas para ello. </p><br><p>  Java definitivamente cumpli贸 con estos requisitos, pero la falta de caracter铆sticas modernas en el lenguaje reduce significativamente la productividad y, m谩s impl铆citamente, la moral de los desarrolladores. </p><br><p>  No se consider贸 la tipificaci贸n din谩mica: los beneficios de la correcci贸n, las herramientas de desarrollo y el rendimiento proporcionados por la tipificaci贸n est谩tica son demasiado grandes para ser descuidados. </p><br><p>  Los idiomas fundamentalmente diferentes de los m谩s populares tampoco se consideraron, porque  Quer铆amos poder contratar expertos financieros.  Y, aunque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">es completamente posible</a> crear un equipo en torno a un idioma como Haskell, encontrar una persona con experiencia bancaria seria e idiomas perezosos (perezosos) puros (funcionales) que viven al azar en Londres parec铆a riesgoso.  Adem谩s, la naturaleza misma del producto implica que nuestros "usuarios" son en realidad desarrolladores de complementos y aplicaciones que usan la plataforma, y no tiene sentido exigirles que aprendan paradigmas y herramientas completamente nuevos.  Nuestra elecci贸n del idioma no deber铆a limitar demasiado a los usuarios. </p><br><p>  Como resultado, estos requisitos nos dejaron con Kotlin, Scala y Ceil谩n.  Estos lenguajes son bastante similares e interesantes.  Elegimos Kotlin por las siguientes razones: </p><br><ul><li>  Integraci贸n casi <em>perfecta</em> con Java <br><ul><li>  En particular, los programas de Kotlin utilizan una versi贸n mejorada (compilada) de las colecciones JDK est谩ndar, lo que garantiza que no haya problemas de integraci贸n debido al uso de otras bibliotecas de colecciones.  Transmitimos y recibimos colecciones <em>hacia</em> y <em>desde las</em> bibliotecas de Java en todas partes, por lo que es importante que esto no cause problemas. </li><li> De las clases de Kotlin, obtenemos una API Java simple con los m茅todos <code>get</code> / <code>set</code> / <code>is</code> de acuerdo con los tipos.  No se requieren anotaciones especiales u otras acciones para esto.  Por la raz贸n de que Corda proporciona una API dise帽ada para un uso transparente por los desarrolladores de Java, esta es una gran ventaja: del c贸digo ordinario, obtienes una API que no se puede distinguir de la API de Java con solo algunas advertencias (por ejemplo, la interceptaci贸n expl铆cita de las excepciones comprobadas de Java requiere expl铆cita m茅todo de anotaci贸n) </li></ul></li><li>  El compilador realiza funciones peque帽as en l铆nea como <code>map</code> / <code>filter</code> / <code>fold</code> / <code>groupBy</code> (en lugar de esperar que la JVM lo haga por s铆 mismo).  Desafortunadamente, el compilador JIT JVM, aunque excelente en general, no elimina en todos los casos la sobrecarga del uso abundante de funciones de orden superior.  El uso de Kotlin compensa esto, adem谩s de permitirle controlar la ejecuci贸n del programa desde las funciones lambda (nota: por ejemplo, retorno <em>no local</em> ).  Esta es una de las caracter铆sticas poco conocidas, pero al mismo tiempo 煤tiles.  Porque  en todos los lugares donde escribimos c贸digo con un estilo tan funcional, si se traduce mal en c贸digo de m谩quina, podr铆amos crear problemas de rendimiento para nosotros mismos. </li><li>  Debido al hecho de que el c贸digo en Kotlin se traduce en un c贸digo Java bastante similar, casi todas las herramientas orientadas a Java existentes funcionan <em>de forma inmediata</em> .  Esto no siempre es cierto en el caso de otros idiomas.  Por ejemplo, Quasar tiene dificultades para instrumentar el c贸digo Scala porque necesita anotaciones de m茅todo, y Scala traduce lambdas en m茅todos que no pueden ser anotados.  Las lambdas de Kotlin generalmente est谩n incrustadas (ver arriba), o pueden ser anotadas de otra manera. </li><li>  La excelente documentaci贸n y una peque帽a biblioteca est谩ndar hacen que el aprendizaje sea muy r谩pido.  No indicamos en nuestras vacantes la necesidad de experiencia en Kotlin, y contratamos personas sin su conocimiento dando 1-3 <em>a帽os</em> despu茅s de lo cual un nuevo miembro del equipo pudo escribir c贸digo idiom谩tico. </li><li>  Seg煤n la selecci贸n de candidatos que nos entrevistaron, IntelliJ es el IDE m谩s popular (ten铆an una libre elecci贸n de herramientas).  Entre los lenguajes posteriores a Java, IntelliJ admite lo mejor de Kotlin. </li><li>  Ya ten铆a una experiencia satisfactoria con 茅l y, por lo tanto, estaba seguro de que a sus nuevos colegas tambi茅n les gustar铆a. </li></ul><br><p>  Si no fuera por Kotlin, probablemente elegimos Scala: Kotlin est谩 inspirado en gran medida por 茅l y ambos son buenos idiomas. </p><br><h3 id="nash-god-s-kotlin">  Nuestro a帽o con Kotlin </h3><br><p>  驴C贸mo es un a帽o para trabajar con un nuevo idioma en el contexto de una aplicaci贸n corporativa? </p><br><p>  Lo m谩s importante fue, sin lugar a dudas, escuchar de colegas que realmente les gusta trabajar con 茅l.  El lenguaje de programaci贸n es un asunto personal para todos, y las personas generalmente tienen una opini贸n definitiva sobre este asunto.  Si, como la primera tarea en un nuevo trabajo, le pide a alguien que aprenda un nuevo idioma y ni siquiera lo advierta con anticipaci贸n, entonces siempre existe el riesgo de que un colega simplemente lo odie y lo encuentre molesto en lugar de aumentar su productividad.  Pero este no es el caso. </p><br><p>  Los siguientes son algunos de los problemas que a menudo surgen en un entorno de desarrollo empresarial posterior a Java / C # que nosotros mismos hemos encontrado: </p><br><ul><li>  <strong>El c贸digo se ve diferente dependiendo de qui茅n lo escribi贸.</strong>  En general, no es un gran problema.  A diferencia de Go, que requiere un cierto estilo de dise帽o, el c贸digo de Kotlin de diferentes autores puede verse diferente.  Pero IntelliJ tiene una herramienta de formato que proporciona un estilo base de c贸digo unificado.  Es m谩s limitado que para Java, pero eso es suficiente.  Un problema m谩s sutil, especialmente con el c贸digo Scala, es la oposici贸n del estilo de codificaci贸n Java-OOP y Haskell-FI.  El c贸digo Scala que usa bibliotecas como scalaz puede ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dif铆cil de leer</a> para los desarrolladores que esperan ver Java <em>mejorado</em> .  En este debate, Kotlin est谩 muy firmemente del lado de Java <em>mejorado</em> .  Y, aunque la programaci贸n funcional, de cierta manera, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">posiblemente</a> en Kotlin, la comunidad (al menos por ahora) no se ha dividido en campamentos.  Tuvimos casos en los que el c贸digo se escribi贸 como si fuera Haskell, pero se resolvi贸 en codereview. </li><li>  <strong>Bibliotecas</strong>  En Corda utilizamos m谩s de 50 bibliotecas de c贸digo abierto y no hubo problemas con ninguna.  Nunca escribimos envoltorios o capas de adaptadores.  Como los sistemas de compilaci贸n en proyectos en Kotlin, Maven o Gradle se usan generalmente, no hay un reemplazo oficial espec铆fico de Kotlin para estas herramientas (隆aunque Gradle ha introducido el soporte de Kotlin como un nuevo lenguaje de secuencias de comandos!). </li><li>  <strong>DSL y SQL.</strong>  C # tiene LINQ, Java tiene JOOQ y Kotlin ha <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">expuesto</a> .  Esta es una de las 谩reas donde Kotlin es algo m谩s d茅bil que sus competidores: Exposed es un gran ejemplo del uso de las capacidades de Kotlin para construir DSL, pero la biblioteca en s铆 tiene una API inestable y es un proyecto secundario.  JOOQ, por supuesto, se puede usar con Kotlin y, mirando hacia atr谩s, esta parece ser la opci贸n preferida. </li><li>  <strong>IDE / kit de herramientas.</strong>  El complemento de Kotlin para IntelliJ est谩, por supuesto, escrito por JetBrains y, en general, es excelente.  Sin embargo, es menos sofisticado en comparaci贸n con el soporte de Java.  Las nuevas funciones del editor, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una sugerencia de par谩metro</a> , se deben portar manualmente a Kotlin, y el soporte en s铆 mismo, como tal, generalmente va a la zaga de los complementos Java mucho m谩s antiguos.  Tambi茅n notamos que el complemento IDE a menudo notifica errores internos, aunque la frecuencia de las excepciones IDE ha disminuido significativamente durante el a帽o (y parece que no afectan nada).  Usar otras herramientas tampoco causa problemas, porque  lo que est谩 escrito para Java generalmente funciona <em>de forma predeterminada</em> .  Una excepci贸n son las herramientas que funcionan con c贸digo fuente en lugar de bytecode y que, obviamente, no se pueden reutilizar.  Con todo esto, el compilador Kotlin y el complemento IDE no est谩n tan depurados como en el caso de Java, incluso un a帽o despu茅s del lanzamiento de 1.0.  Lo m谩s probable es que nunca encuentre errores internos en <code>javac</code> , pero, aunque muy raramente, todav铆a los vemos en Kotlin. </li><li>  <strong>Reconocimiento por parte de los usuarios.</strong>  Los usuarios de Corda suelen ser instituciones financieras grandes y conservadoras.  Dichas empresas prefieren usar lenguajes comunes y bien establecidos.  Kotlin, al no ser ni lo uno ni lo otro, claramente caus贸 cierta sorpresa en el momento en que comenzamos.  "驴Por qu茅 Kotlin?"  - Esta es una pregunta que, durante el a帽o pasado, pr谩cticamente ha desaparecido, porque  la gente mir贸 m谩s de cerca y se dio cuenta de que esto no es tan arriesgado como suele ser el caso con los nuevos lenguajes de programaci贸n.  Tambi茅n intentamos facilitar la adopci贸n al proporcionar ejemplos de c贸digo que demuestran que la creaci贸n de aplicaciones utilizando la plataforma no requiere el conocimiento de Kotlin.  Los resultados de esto no fueron tan exitosos: muchos desarrolladores que trabajan por primera vez con Corda todav铆a comienzan explorando Kotlin.  No est谩 muy claro si este es el resultado del hecho de que hayamos proporcionado ejemplos y documentaci贸n de uso insuficientemente orientados a Java, o si es solo una buena excusa para aprender una nueva herramienta interesante.  Tambi茅n nos ayud贸 la creciente adopci贸n de Kotlin dentro de los principales bancos de inversi贸n.  Durante el a帽o pasado, hemos escuchado de varios miembros del consorcio que sus equipos de desarrollo interno han comenzado a buscar seriamente en Kotlin sus propios productos: a menudo impulsados por la disponibilidad de herramientas que convierten Java a Kotlin, que proporcionan una integraci贸n significativamente menos dolorosa en la base de c贸digo existente. </li><li>  <strong>Soporte comercial.</strong>  El riesgo de usar lenguajes poco conocidos es que pueden dejar de desarrollarse o tener objetivos que no son consistentes con las necesidades formadas en torno al producto, la comunidad de usuarios (por ejemplo, en el caso de los lenguajes de investigaci贸n, el objetivo principal de los desarrolladores es crear art铆culos cient铆ficos).  La raz贸n principal por la que nos sentimos confiados con Kotlin es que JetBrains es una compa帽铆a estable y rentable que ha estado en el mercado por m谩s de 15 a帽os.  JetBrains r谩pidamente comenz贸 <em>a probar</em> su propia herramienta al introducir a Kotlin en el c贸digo de los principales productos.  Por lo tanto, el riesgo de terminaci贸n del soporte es bastante peque帽o.  Adem谩s, JetBrains ya es una empresa de mediana edad, y su mercado objetivo (IDE y herramientas de desarrollo) ha dejado de ser nuevo o especialmente de moda, lo que reduce el riesgo de una posible adquisici贸n de la empresa, lo que puede conducir a cambios estrat茅gicos impredecibles.  Y, a pesar de la falta de un paquete de soporte comercial para Kotlin, en la pr谩ctica el equipo soluciona r谩pidamente los problemas conocidos.  Por el momento, JetBrains tiene la intenci贸n de lanzar la pr贸xima actualizaci贸n de idioma despu茅s de un a帽o desde la versi贸n 1.0.  Este ciclo de lanzamiento es bastante similar al ciclo de desarrollo en el entorno corporativo. </li></ul><br><h3 id="vyvody">  Conclusiones? </h3><br><p>  No nos arrepentimos: la elecci贸n de un idioma joven al comienzo de este proyecto fue, aunque un riesgo, pero equilibrado.  Hizo un buen trabajo para nosotros y no cambiar铆amos nuestra elecci贸n. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es422549/">https://habr.com/ru/post/es422549/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es422539/index.html">Sobre la econom铆a digital, incendios e Internet</a></li>
<li><a href="../es422541/index.html">El drama de los agujeros en la Uni贸n se convirti贸 en una fantasmagor铆a</a></li>
<li><a href="../es422543/index.html">Piensa como un programador. Tutorial de resoluci贸n de problemas</a></li>
<li><a href="../es422545/index.html">Formas de sincronizar las pesta帽as del navegador</a></li>
<li><a href="../es422547/index.html">Para eliminar Spectre y Meltdown, es posible que deba crear un tipo de procesador completamente nuevo.</a></li>
<li><a href="../es422551/index.html">C贸mo robar dinero de una tarjeta sin contacto y Apple Pay</a></li>
<li><a href="../es422553/index.html">La extensi贸n oficial del navegador Mega roba datos de intercambio de archivos y criptomonedas</a></li>
<li><a href="../es422555/index.html">Arquitectura de m煤ltiples m贸dulos de Android. De la A a la Z</a></li>
<li><a href="../es422561/index.html">C贸mo Yandex aplic贸 la visi贸n por computadora para mejorar la calidad de las transmisiones de video. Tecnolog铆a DeepHD</a></li>
<li><a href="../es422565/index.html">Seminarios web de Skillbox Friday: todo para programadores y dise帽adores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>