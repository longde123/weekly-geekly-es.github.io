<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèΩ üìÇ ‚ÜôÔ∏è Corda: Kotlin üôãüèº üíâ üíé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando alguien mira el c√≥digo Corda , inmediatamente se da cuenta de que est√° escrito en Kotlin, el nuevo lenguaje de programaci√≥n de JetBrains, que s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Corda: Kotlin</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422549/"><p>  Cuando alguien mira el c√≥digo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Corda</a> , inmediatamente se da cuenta de que est√° escrito en Kotlin, el nuevo lenguaje de programaci√≥n de JetBrains, que se puede compilar para JVM y Javascript.  Fue una elecci√≥n inusual, y en este art√≠culo quiero compartir algunas razones para esta decisi√≥n y la experiencia de nuestro "a√±o con Kotlin en producci√≥n". </p><a name="habracut"></a><br><h3 id="pochemu-kotlin">  ¬øPor qu√© Kotlin? </h3><br><p>  Esta soluci√≥n se puede dividir en dos partes: </p><br><ol><li>  ¬øQu√© plataforma usar?  ¬øJVM, .NET, Node, Python / Ruby, Go, Haskell o algo compilado (en c√≥digo m√°quina)? </li><li>  ¬øQu√© idioma usar si elige JVM?  Java?  Si no, ¬øpor qu√©?  Y si no, entonces qu√© m√°s: Scala, Ceil√°n, Clojure, Kotlin, Python, Ruby, Javascript o Haskell (porque todos tienen una implementaci√≥n para JVM). </li></ol><br><p> Las razones para elegir JVM como plataforma son bien conocidas en el entorno de aplicaciones empresariales, y no tiene mucho sentido detenerse en esto.  Baste decir que si necesita un tiempo de ejecuci√≥n multiplataforma escalable, seguro para subprocesos con <em>recolecci√≥n de basura</em> , y con muchas bibliotecas bien documentadas que resuelven problemas comerciales b√°sicos, entonces la elecci√≥n se reduce solo a JVM y .NET. </p><br><p>  Al comienzo del trabajo en Corda, el proyecto no ten√≠a nombre y era dif√≠cil imaginar que en el futuro se convertir√≠a en un producto.  De hecho, cuando el proyecto que se convirti√≥ en Corda comenz√≥ en diciembre de 2015 (en mi primer d√≠a de trabajo), no hab√≠a ning√∫n plan para crear un nuevo sistema corporativo de contabilidad distribuida.  Corda comenz√≥ como un conjunto de prototipos para explorar nuevas ideas y requisitos en los que estaba interesado el <em>Grupo de Trabajo de Arquitectura</em> del Consorcio, especialmente aquellos relacionados con la visibilidad limitada de los datos y el modelo de datos que proporciona la escalabilidad del "conjunto UTXO de matrices de salida transaccional" junto con la programabilidad de los imperativos contratos inteligentes de Ethereum en general. </p><br><p>  Debido al hecho de que no estaba claro si estos prototipos se convertir√≠an en algo, o simplemente servir√≠an como informaci√≥n para otros productos en el mercado, enfrentamos una decisi√≥n dif√≠cil.  Por un lado, quer√≠amos explorar de manera r√°pida y productiva algoritmos y estructuras de datos.  Por otro lado, deber√≠a haber una oportunidad potencial para crear un gran producto corporativo y contratar r√°pidamente personas para ello. </p><br><p>  Java definitivamente cumpli√≥ con estos requisitos, pero la falta de caracter√≠sticas modernas en el lenguaje reduce significativamente la productividad y, m√°s impl√≠citamente, la moral de los desarrolladores. </p><br><p>  No se consider√≥ la tipificaci√≥n din√°mica: los beneficios de la correcci√≥n, las herramientas de desarrollo y el rendimiento proporcionados por la tipificaci√≥n est√°tica son demasiado grandes para ser descuidados. </p><br><p>  Los idiomas fundamentalmente diferentes de los m√°s populares tampoco se consideraron, porque  Quer√≠amos poder contratar expertos financieros.  Y, aunque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">es completamente posible</a> crear un equipo en torno a un idioma como Haskell, encontrar una persona con experiencia bancaria seria e idiomas perezosos (perezosos) puros (funcionales) que viven al azar en Londres parec√≠a riesgoso.  Adem√°s, la naturaleza misma del producto implica que nuestros "usuarios" son en realidad desarrolladores de complementos y aplicaciones que usan la plataforma, y ‚Äã‚Äãno tiene sentido exigirles que aprendan paradigmas y herramientas completamente nuevos.  Nuestra elecci√≥n del idioma no deber√≠a limitar demasiado a los usuarios. </p><br><p>  Como resultado, estos requisitos nos dejaron con Kotlin, Scala y Ceil√°n.  Estos lenguajes son bastante similares e interesantes.  Elegimos Kotlin por las siguientes razones: </p><br><ul><li>  Integraci√≥n casi <em>perfecta</em> con Java <br><ul><li>  En particular, los programas de Kotlin utilizan una versi√≥n mejorada (compilada) de las colecciones JDK est√°ndar, lo que garantiza que no haya problemas de integraci√≥n debido al uso de otras bibliotecas de colecciones.  Transmitimos y recibimos colecciones <em>hacia</em> y <em>desde las</em> bibliotecas de Java en todas partes, por lo que es importante que esto no cause problemas. </li><li> De las clases de Kotlin, obtenemos una API Java simple con los m√©todos <code>get</code> / <code>set</code> / <code>is</code> de acuerdo con los tipos.  No se requieren anotaciones especiales u otras acciones para esto.  Por la raz√≥n de que Corda proporciona una API dise√±ada para un uso transparente por los desarrolladores de Java, esta es una gran ventaja: del c√≥digo ordinario, obtienes una API que no se puede distinguir de la API de Java con solo algunas advertencias (por ejemplo, la interceptaci√≥n expl√≠cita de las excepciones comprobadas de Java requiere expl√≠cita m√©todo de anotaci√≥n) </li></ul></li><li>  El compilador realiza funciones peque√±as en l√≠nea como <code>map</code> / <code>filter</code> / <code>fold</code> / <code>groupBy</code> (en lugar de esperar que la JVM lo haga por s√≠ mismo).  Desafortunadamente, el compilador JIT JVM, aunque excelente en general, no elimina en todos los casos la sobrecarga del uso abundante de funciones de orden superior.  El uso de Kotlin compensa esto, adem√°s de permitirle controlar la ejecuci√≥n del programa desde las funciones lambda (nota: por ejemplo, retorno <em>no local</em> ).  Esta es una de las caracter√≠sticas poco conocidas, pero al mismo tiempo √∫tiles.  Porque  en todos los lugares donde escribimos c√≥digo con un estilo tan funcional, si se traduce mal en c√≥digo de m√°quina, podr√≠amos crear problemas de rendimiento para nosotros mismos. </li><li>  Debido al hecho de que el c√≥digo en Kotlin se traduce en un c√≥digo Java bastante similar, casi todas las herramientas orientadas a Java existentes funcionan <em>de forma inmediata</em> .  Esto no siempre es cierto en el caso de otros idiomas.  Por ejemplo, Quasar tiene dificultades para instrumentar el c√≥digo Scala porque necesita anotaciones de m√©todo, y Scala traduce lambdas en m√©todos que no pueden ser anotados.  Las lambdas de Kotlin generalmente est√°n incrustadas (ver arriba), o pueden ser anotadas de otra manera. </li><li>  La excelente documentaci√≥n y una peque√±a biblioteca est√°ndar hacen que el aprendizaje sea muy r√°pido.  No indicamos en nuestras vacantes la necesidad de experiencia en Kotlin, y contratamos personas sin su conocimiento dando 1-3 <em>a√±os</em> despu√©s de lo cual un nuevo miembro del equipo pudo escribir c√≥digo idiom√°tico. </li><li>  Seg√∫n la selecci√≥n de candidatos que nos entrevistaron, IntelliJ es el IDE m√°s popular (ten√≠an una libre elecci√≥n de herramientas).  Entre los lenguajes posteriores a Java, IntelliJ admite lo mejor de Kotlin. </li><li>  Ya ten√≠a una experiencia satisfactoria con √©l y, por lo tanto, estaba seguro de que a sus nuevos colegas tambi√©n les gustar√≠a. </li></ul><br><p>  Si no fuera por Kotlin, probablemente elegimos Scala: Kotlin est√° inspirado en gran medida por √©l y ambos son buenos idiomas. </p><br><h3 id="nash-god-s-kotlin">  Nuestro a√±o con Kotlin </h3><br><p>  ¬øC√≥mo es un a√±o para trabajar con un nuevo idioma en el contexto de una aplicaci√≥n corporativa? </p><br><p>  Lo m√°s importante fue, sin lugar a dudas, escuchar de colegas que realmente les gusta trabajar con √©l.  El lenguaje de programaci√≥n es un asunto personal para todos, y las personas generalmente tienen una opini√≥n definitiva sobre este asunto.  Si, como la primera tarea en un nuevo trabajo, le pide a alguien que aprenda un nuevo idioma y ni siquiera lo advierta con anticipaci√≥n, entonces siempre existe el riesgo de que un colega simplemente lo odie y lo encuentre molesto en lugar de aumentar su productividad.  Pero este no es el caso. </p><br><p>  Los siguientes son algunos de los problemas que a menudo surgen en un entorno de desarrollo empresarial posterior a Java / C # que nosotros mismos hemos encontrado: </p><br><ul><li>  <strong>El c√≥digo se ve diferente dependiendo de qui√©n lo escribi√≥.</strong>  En general, no es un gran problema.  A diferencia de Go, que requiere un cierto estilo de dise√±o, el c√≥digo de Kotlin de diferentes autores puede verse diferente.  Pero IntelliJ tiene una herramienta de formato que proporciona un estilo base de c√≥digo unificado.  Es m√°s limitado que para Java, pero eso es suficiente.  Un problema m√°s sutil, especialmente con el c√≥digo Scala, es la oposici√≥n del estilo de codificaci√≥n Java-OOP y Haskell-FI.  El c√≥digo Scala que usa bibliotecas como scalaz puede ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dif√≠cil de leer</a> para los desarrolladores que esperan ver Java <em>mejorado</em> .  En este debate, Kotlin est√° muy firmemente del lado de Java <em>mejorado</em> .  Y, aunque la programaci√≥n funcional, de cierta manera, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">posiblemente</a> en Kotlin, la comunidad (al menos por ahora) no se ha dividido en campamentos.  Tuvimos casos en los que el c√≥digo se escribi√≥ como si fuera Haskell, pero se resolvi√≥ en codereview. </li><li>  <strong>Bibliotecas</strong>  En Corda utilizamos m√°s de 50 bibliotecas de c√≥digo abierto y no hubo problemas con ninguna.  Nunca escribimos envoltorios o capas de adaptadores.  Como los sistemas de compilaci√≥n en proyectos en Kotlin, Maven o Gradle se usan generalmente, no hay un reemplazo oficial espec√≠fico de Kotlin para estas herramientas (¬°aunque Gradle ha introducido el soporte de Kotlin como un nuevo lenguaje de secuencias de comandos!). </li><li>  <strong>DSL y SQL.</strong>  C # tiene LINQ, Java tiene JOOQ y Kotlin ha <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">expuesto</a> .  Esta es una de las √°reas donde Kotlin es algo m√°s d√©bil que sus competidores: Exposed es un gran ejemplo del uso de las capacidades de Kotlin para construir DSL, pero la biblioteca en s√≠ tiene una API inestable y es un proyecto secundario.  JOOQ, por supuesto, se puede usar con Kotlin y, mirando hacia atr√°s, esta parece ser la opci√≥n preferida. </li><li>  <strong>IDE / kit de herramientas.</strong>  El complemento de Kotlin para IntelliJ est√°, por supuesto, escrito por JetBrains y, en general, es excelente.  Sin embargo, es menos sofisticado en comparaci√≥n con el soporte de Java.  Las nuevas funciones del editor, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una sugerencia de par√°metro</a> , se deben portar manualmente a Kotlin, y el soporte en s√≠ mismo, como tal, generalmente va a la zaga de los complementos Java mucho m√°s antiguos.  Tambi√©n notamos que el complemento IDE a menudo notifica errores internos, aunque la frecuencia de las excepciones IDE ha disminuido significativamente durante el a√±o (y parece que no afectan nada).  Usar otras herramientas tampoco causa problemas, porque  lo que est√° escrito para Java generalmente funciona <em>de forma predeterminada</em> .  Una excepci√≥n son las herramientas que funcionan con c√≥digo fuente en lugar de bytecode y que, obviamente, no se pueden reutilizar.  Con todo esto, el compilador Kotlin y el complemento IDE no est√°n tan depurados como en el caso de Java, incluso un a√±o despu√©s del lanzamiento de 1.0.  Lo m√°s probable es que nunca encuentre errores internos en <code>javac</code> , pero, aunque muy raramente, todav√≠a los vemos en Kotlin. </li><li>  <strong>Reconocimiento por parte de los usuarios.</strong>  Los usuarios de Corda suelen ser instituciones financieras grandes y conservadoras.  Dichas empresas prefieren usar lenguajes comunes y bien establecidos.  Kotlin, al no ser ni lo uno ni lo otro, claramente caus√≥ cierta sorpresa en el momento en que comenzamos.  "¬øPor qu√© Kotlin?"  - Esta es una pregunta que, durante el a√±o pasado, pr√°cticamente ha desaparecido, porque  la gente mir√≥ m√°s de cerca y se dio cuenta de que esto no es tan arriesgado como suele ser el caso con los nuevos lenguajes de programaci√≥n.  Tambi√©n intentamos facilitar la adopci√≥n al proporcionar ejemplos de c√≥digo que demuestran que la creaci√≥n de aplicaciones utilizando la plataforma no requiere el conocimiento de Kotlin.  Los resultados de esto no fueron tan exitosos: muchos desarrolladores que trabajan por primera vez con Corda todav√≠a comienzan explorando Kotlin.  No est√° muy claro si este es el resultado del hecho de que hayamos proporcionado ejemplos y documentaci√≥n de uso insuficientemente orientados a Java, o si es solo una buena excusa para aprender una nueva herramienta interesante.  Tambi√©n nos ayud√≥ la creciente adopci√≥n de Kotlin dentro de los principales bancos de inversi√≥n.  Durante el a√±o pasado, hemos escuchado de varios miembros del consorcio que sus equipos de desarrollo interno han comenzado a buscar seriamente en Kotlin sus propios productos: a menudo impulsados ‚Äã‚Äãpor la disponibilidad de herramientas que convierten Java a Kotlin, que proporcionan una integraci√≥n significativamente menos dolorosa en la base de c√≥digo existente. </li><li>  <strong>Soporte comercial.</strong>  El riesgo de usar lenguajes poco conocidos es que pueden dejar de desarrollarse o tener objetivos que no son consistentes con las necesidades formadas en torno al producto, la comunidad de usuarios (por ejemplo, en el caso de los lenguajes de investigaci√≥n, el objetivo principal de los desarrolladores es crear art√≠culos cient√≠ficos).  La raz√≥n principal por la que nos sentimos confiados con Kotlin es que JetBrains es una compa√±√≠a estable y rentable que ha estado en el mercado por m√°s de 15 a√±os.  JetBrains r√°pidamente comenz√≥ <em>a probar</em> su propia herramienta al introducir a Kotlin en el c√≥digo de los principales productos.  Por lo tanto, el riesgo de terminaci√≥n del soporte es bastante peque√±o.  Adem√°s, JetBrains ya es una empresa de mediana edad, y su mercado objetivo (IDE y herramientas de desarrollo) ha dejado de ser nuevo o especialmente de moda, lo que reduce el riesgo de una posible adquisici√≥n de la empresa, lo que puede conducir a cambios estrat√©gicos impredecibles.  Y, a pesar de la falta de un paquete de soporte comercial para Kotlin, en la pr√°ctica el equipo soluciona r√°pidamente los problemas conocidos.  Por el momento, JetBrains tiene la intenci√≥n de lanzar la pr√≥xima actualizaci√≥n de idioma despu√©s de un a√±o desde la versi√≥n 1.0.  Este ciclo de lanzamiento es bastante similar al ciclo de desarrollo en el entorno corporativo. </li></ul><br><h3 id="vyvody">  Conclusiones? </h3><br><p>  No nos arrepentimos: la elecci√≥n de un idioma joven al comienzo de este proyecto fue, aunque un riesgo, pero equilibrado.  Hizo un buen trabajo para nosotros y no cambiar√≠amos nuestra elecci√≥n. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es422549/">https://habr.com/ru/post/es422549/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es422539/index.html">Sobre la econom√≠a digital, incendios e Internet</a></li>
<li><a href="../es422541/index.html">El drama de los agujeros en la Uni√≥n se convirti√≥ en una fantasmagor√≠a</a></li>
<li><a href="../es422543/index.html">Piensa como un programador. Tutorial de resoluci√≥n de problemas</a></li>
<li><a href="../es422545/index.html">Formas de sincronizar las pesta√±as del navegador</a></li>
<li><a href="../es422547/index.html">Para eliminar Spectre y Meltdown, es posible que deba crear un tipo de procesador completamente nuevo.</a></li>
<li><a href="../es422551/index.html">C√≥mo robar dinero de una tarjeta sin contacto y Apple Pay</a></li>
<li><a href="../es422553/index.html">La extensi√≥n oficial del navegador Mega roba datos de intercambio de archivos y criptomonedas</a></li>
<li><a href="../es422555/index.html">Arquitectura de m√∫ltiples m√≥dulos de Android. De la A a la Z</a></li>
<li><a href="../es422561/index.html">C√≥mo Yandex aplic√≥ la visi√≥n por computadora para mejorar la calidad de las transmisiones de video. Tecnolog√≠a DeepHD</a></li>
<li><a href="../es422565/index.html">Seminarios web de Skillbox Friday: todo para programadores y dise√±adores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>