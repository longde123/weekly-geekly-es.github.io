<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üó∫Ô∏è ü§õüèø üë¥üèª Como n√£o se transformar em uma lib√©lula se voc√™ tem muitos bancos de dados diferentes üßì üèê üçü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na foto macro, os olhos de uma lib√©lula. Eles t√™m uma estrutura facetada e consistem em aproximadamente 30.000 facetas hexagonais, o que permite que a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como n√£o se transformar em uma lib√©lula se voc√™ tem muitos bancos de dados diferentes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/galssoftware/blog/443238/"><img src="https://habrastorage.org/webt/ps/lg/ap/pslgapzggg-oat0mwgg2hwfoqv0.jpeg"><br><br>  Na foto macro, os olhos de uma lib√©lula.  Eles t√™m uma estrutura facetada e consistem em aproximadamente 30.000 facetas hexagonais, o que permite que a lib√©lula olhe quase 360 ‚Äã‚Äãgraus (exceto a dire√ß√£o ‚Äúcostas retas‚Äù).  Habilidade √∫til se voc√™ √© uma lib√©lula. <br><br>  Quando a organiza√ß√£o possui um "zool√≥gico" de bancos de dados e sua unifica√ß√£o nem sequer √© vis√≠vel no horizonte, devem ser feitos esfor√ßos para gerenciar e monitorar seu trabalho.  Olhe novamente para a lib√©lula. <br><br>  Neste artigo, falaremos sobre a ferramenta de monitoramento Foglight for Databases, que combina o monitoramento do SQL Server, Oracle, MySQL, PostgreSQL, DB2, SAP ASE, MongoDB e Cassandra em um console.  Ele tamb√©m possui um toque do DevOps em termos de altera√ß√µes de log na configura√ß√£o do banco de dados.  Primeiras coisas primeiro.  Sob o corte de um monte de screenshots. <br><a name="habracut"></a><br>  Por que mencionamos o DevOps antes do kat?  Um dos recursos favoritos do Foglight √© a capacidade de marcar manualmente os lan√ßamentos na linha do tempo e geralmente quaisquer altera√ß√µes.  Os desenvolvedores podem fazer altera√ß√µes eles mesmos e, depois de um tempo, receber feedback aqui na forma de uma diminui√ß√£o ou aumento da produtividade.  No modo autom√°tico, tamb√©m s√£o observadas altera√ß√µes controladas: altera√ß√µes no plano de execu√ß√£o ou na configura√ß√£o do banco de dados - tudo isso estar√° presente no gr√°fico. <br><br><img src="https://habrastorage.org/webt/7j/9i/9u/7j9i9uhclywjejwli4xjeeilbec.png"><br><br>  Exemplos de mudan√ßas. <br><br><img src="https://habrastorage.org/webt/fa/0c/bt/fa0cbtc4ysvjirgmxlmnsjari9a.png"><br><br>  A partir daqui, voc√™ pode ir para outra visualiza√ß√£o e comparar as altera√ß√µes no Plano de Execu√ß√£o. <br><br><img src="https://habrastorage.org/webt/7u/lm/i0/7ulmi02ywfnocfqujwrb36ihilg.png"><br><br>  Aqui est√£o algumas boas maneiras de auditar altera√ß√µes, mas regularmente, a execu√ß√£o desses relat√≥rios n√£o √© muito conveniente. <br><br><img src="https://habrastorage.org/webt/za/ps/6w/zaps6weeqfdpnvuyscdacu9hn7e.jpeg"><br><br><img src="https://habrastorage.org/webt/pb/st/b5/pbstb5io-00un4iej0u2nr2oapc.png"><br><br>  Qu√£o bem estabelecido √© o canal de comunica√ß√£o entre desenvolvedores e DBAs?  Todos os colegas sabem das mudan√ßas no tempo?  E se a nova vers√£o gerasse um problema espor√°dico que come√ßasse a aparecer regularmente e atrasasse o aplicativo? <br><br>  N√£o queremos dizer que esta ferramenta finalmente estabelecer√° contato entre desenvolvedores e opera√ß√£o, no entanto, acrescentar√° aos desenvolvedores um canal adicional para receber feedback. <br><br>  Mais adiante neste artigo, mostraremos os recursos de monitoramento para cada um dos bancos de dados suportados. <br><br><h2>  Microsoft SQL Server </h2><br><img src="https://habrastorage.org/webt/95/rq/az/95rqaz73jbdk8tpeqjup7dyqkxw.png"><br><br>  Um recurso importante do monitoramento do SQL Server no Foglight for Databases √© a presen√ßa da ferramenta Performance Investigator, que realiza an√°lises multivariadas do desempenho do banco de dados em se√ß√µes para bancos de dados, consultas longas, sess√µes, usu√°rios, scripts execut√°veis, esta√ß√µes de trabalho e aplicativos. <br><br><img src="https://habrastorage.org/webt/j5/t7/ww/j5t7ww2hhvxgoisjlwbroom7y-q.png"><br><br>  Outro recurso √© o suporte √†s tecnologias SSIS, SSRS e SSAS.  Por exemplo, abaixo est√° uma vis√£o geral das m√©tricas do SSIS. <br><br><img src="https://habrastorage.org/webt/3j/2m/fq/3j2mfq187ytdlvzmnikexw0gd7w.png"><br><br>  Na vis√£o acima, voc√™ pode "falhar" no n√≠vel com detalhes dos pacotes e identificar os problem√°ticos. <br><br>  Al√©m disso, o Foglight possui uma visualiza√ß√£o com vari√°veis ‚Äã‚Äãde configura√ß√£o, onde √© poss√≠vel rastrear altera√ß√µes no valor de uma vari√°vel espec√≠fica. <br><br><img src="https://habrastorage.org/webt/wx/gq/6t/wxgq6tp91cp-expqjrzfujyqlxe.png"><br><br>  Muitas exibi√ß√µes duplicam relat√≥rios que voc√™ pode criar no Management Studio.  O monitoramento √© realizado remotamente e a sobrecarga total n√£o excede 2%.  A vers√£o atual do Foglight suporta vers√µes do SQL Server de 2005 a 2017. <br><br><h2>  Oracle </h2><br><img src="https://habrastorage.org/webt/8r/ze/ao/8rzeaow_pyee0arhvoytwhqrisk.png"><br><br>  Para monitorar um banco de dados Oracle, o Foglight tamb√©m possui uma ferramenta Performance Investigator.  O conceito de seu trabalho √© bastante semelhante √†s abordagens para monitorar o SQL Server, com base em uma an√°lise multidimensional do desempenho do banco de dados. <br><br><img src="https://habrastorage.org/webt/-v/6w/oz/-v6wozr_-q5xeqsn7xpfgv8ge-q.png"><br><br><img src="https://habrastorage.org/webt/f_/wt/qw/f_wtqwykcr9pocf95x3eia34ara.png"><br><br>  A tecnologia suportada √© RAC, Exadata, ASM e Data Guard. <br><br><h2>  Meu sql </h2><br><img src="https://habrastorage.org/webt/4h/by/su/4hbysuldkk-mahvh-zknkqzcgfe.png"><br><br>  O monitoramento do My SQL abrange os principais indicadores (incluindo a replica√ß√£o como um para um e um para muitos) e rastreia altera√ß√µes na configura√ß√£o do banco de dados semelhante ao SQL Server e Oracle.  Voc√™ pode criar seus pr√≥prios modelos de configura√ß√£o, cuja conformidade tamb√©m ser√° monitorada. <br><br>  O Foglight pode controlar os par√¢metros de execu√ß√£o da consulta no banco de dados.  Faz isso com o m√©todo de explica√ß√£o.  Existem visualiza√ß√µes especiais nas tabelas de v√°rios bancos de dados My SQL em uma √∫nica tela.  A partir de um √∫nico ponto, voc√™ pode controlar centenas de bancos de dados com uma pequena sobrecarga (n√£o mais que 2%). <br><br><img src="https://habrastorage.org/webt/gt/mm/yv/gtmmyvjljf5up7cpfxul2k9kpti.png"><br><br><h2>  Postgre sql </h2><br>  No m√≥dulo de monitoramento do Postgre SQL, h√° uma vis√£o geral do helic√≥ptero para uma vis√£o geral dos principais indicadores de desempenho do banco de dados, uma vis√£o geral dos indicadores da tabela. <br><br><img src="https://habrastorage.org/webt/6r/68/0f/6r680fnggpx4lmk-5w8j5l_uwik.png"><br><br>  O monitoramento de replica√ß√£o e o monitoramento de execu√ß√£o WAL (Write-Ahead Logging) s√£o suportados no lado do remetente e do destinat√°rio. <br><br>  No console do Foglight, voc√™ pode personalizar a apresenta√ß√£o com m√©tricas de desempenho para consultas cr√≠ticas e em uma tela compar√°-las com m√©tricas semelhantes em outro banco de dados.  Para cada uma dessas consultas, voc√™ tamb√©m pode executar uma an√°lise de explica√ß√£o e monitorar as m√©tricas relevantes. <br><br><img src="https://habrastorage.org/webt/rv/uq/6a/rvuq6a0cxevw_tgr3zs3jgw60du.png"><br><br>  O monitoramento do banco de dados PostgreSQL tamb√©m √© realizado remotamente e a sobrecarga n√£o excede 2%. <br><br><h2>  DB2 </h2><br>  Ap√≥s a configura√ß√£o do monitoramento, as m√©tricas b√°sicas do DB2 podem ser vistas imediatamente no painel agregado. <br><br><img src="https://habrastorage.org/webt/ca/py/88/capy88qbpc5rlgl_wzn68s-5oaq.jpeg"><br><br>  O monitoramento do banco de dados DB2 √© realizado usando um m√©todo sem agente com uma sobrecarga que n√£o excede 2% em m√©dia. <br><br>  Em uma das interfaces, voc√™ pode controlar a carga nos agentes por aplicativos que funcionam com esses agentes. <br><br><img src="https://habrastorage.org/webt/nv/ij/sq/nvijsqz375rx34ywwoqdxmvzlu0.jpeg"><br><br>  Na captura de tela abaixo, um painel com bloqueios.  Um relat√≥rio pode ser feito a partir de cada painel.  Incluindo regularmente. <br><br><img src="https://habrastorage.org/webt/jo/cq/f0/jocqf0oyrhiijdsikazbo9hggxm.jpeg"><br><br>  Se necess√°rio, voc√™ pode rastrear solicita√ß√µes pesadas. <br><br><img src="https://habrastorage.org/webt/f8/j1/8o/f8j18og6hknuwzklkmsq-nc6dzs.jpeg"><br><br>  Usando o m√≥dulo para o DBMS do DB2, voc√™ pode controlar a configura√ß√£o e configurar automaticamente o monitoramento de novos bancos de dados. <br><br><h2>  SAP ASE </h2><br>  Para cada banco de dados SAP ASE monitorado, h√° uma vis√£o agregada para a visualiza√ß√£o de m√©tricas b√°sicas de integridade. <br><br><img src="https://habrastorage.org/webt/t0/t4/hh/t0t4hh397n8ls6ckehadco7p5oq.png"><br><br>  Dados mais detalhados est√£o dispon√≠veis para cada mecanismo de banco de dados.  Alternando entre guias, voc√™ pode ver os processos relacionados e comparar o desempenho. <br><br><img src="https://habrastorage.org/webt/ay/oa/oe/ayoaoes01gv8a4neqoqbpr0_5gy.png"><br><br>  Na visualiza√ß√£o correspondente, √© poss√≠vel rastrear indicadores de desempenho de forma multidimensional, de acordo com solicita√ß√µes, procedimentos, usu√°rios, bloqueios e outros itens relacionados. <br><br><img src="https://habrastorage.org/webt/00/eb/gf/00ebgf6idhtej5kb3q3i9wjezkc.png"><br><br>  O m√≥dulo para SAP ASE suporta monitoramento remoto.  Com base em todos os dados coletados, voc√™ pode criar seus pr√≥prios pain√©is e relat√≥rios. <br><br><h2>  Mongodb </h2><br>  Como nos DBMSs anteriores, o monitoramento do MongoDB √© realizado remotamente.  Depois de configurar o monitoramento, uma visualiza√ß√£o agregada com m√©tricas b√°sicas de monitoramento estar√° dispon√≠vel. <br><br><img src="https://habrastorage.org/webt/w5/0s/io/w50siooigrydi0y-am9lw_ersjk.png"><br><br>  Na parte superior do painel, h√° links para visualiza√ß√µes adicionais, nas quais √© poss√≠vel visualizar m√©tricas para bancos de dados, opera√ß√µes, logs, etc. ... Por exemplo, abaixo est√° uma visualiza√ß√£o das opera√ß√µes. <br><br><img src="https://habrastorage.org/webt/xz/bo/xr/xzboxr7aw7qnvgmdie2g8fx-frk.png"><br><br>  Quando a cria√ß√£o de perfil est√° ativada nas configura√ß√µes do DBMS, voc√™ pode selecionar e exibir todas as m√©tricas relevantes no painel.  Se o banco de dados tiver uma r√©plica, o Foglight tamb√©m controlar√° itens como status de membro, sa√∫de e outros. <br><br>  Uma funcionalidade √∫til adicional √© monitorar a configura√ß√£o dos n√≥s, comparando com o padr√£o e alertando em caso de altera√ß√µes. <br><br><h2>  Cassandra </h2><br>  N√£o √© necess√°rio instalar o agente nos n√≥s, tudo acontece remotamente e com sobrecarga m√≠nima.  Ap√≥s configurar o monitoramento do Cassandra no Foglight, um conjunto de pain√©is com indicadores de desempenho do banco de dados √© exibido. <br><br><img src="https://habrastorage.org/webt/xj/dm/xe/xjdmxeoyaf-l0qn05u-fkubyyea.png"><br><br>  O Foglight suporta controle de espa√ßo de chave para n√≥s em um cluster, sua compara√ß√£o de desempenho (o n√∫mero de acessos a objetos, m√©tricas de leitura / grava√ß√£o, atraso).  Os n√≥s tamb√©m podem ser comparados por configura√ß√£o, n√∫mero de mensagens processadas, mensagens de erro etc. <br><br><img src="https://habrastorage.org/webt/gd/wt/bm/gdwtbmxylte5sfszptxoac82xyu.png"><br><br>  Na captura de tela abaixo, a interface do Foglight for Cassandra e a visualiza√ß√£o de desempenho da JVM. <br><br><img src="https://habrastorage.org/webt/dr/ue/6g/drue6gk0dkqurhnjbtp-pzimkvi.png"><br><br>  De todas as m√©tricas coletadas, voc√™ pode criar seus pr√≥prios pain√©is e relat√≥rios. <br><br><h2>  Conclus√£o </h2><br>  Obrigado por ler e assistir a este lugar.  Para resumir. <br><blockquote><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Foglight for Databases</a> suporta o monitoramento do SQL Server, Oracle, MySQL, PostgreSQL, DB2, SAP ASE, MongoDB e Cassandra. </li><li>  Al√©m do desempenho dos pr√≥prios bancos de dados, o Foglight tamb√©m controla sua configura√ß√£o. </li><li>  Os dados para diferentes DBMSs podem ser combinados em um painel (e se voc√™ precisar?). </li><li>  O monitoramento de todos os DBMSs √© realizado remotamente com uma sobrecarga que n√£o excede 2%.  De um ponto voc√™ pode controlar todas as bases. </li><li>  O Foglight for Databases possui uma API REST a partir da qual voc√™ pode coletar m√©tricas ou eventos em sistemas externos para pain√©is, relat√≥rios ou alertas.  Se houver um sistema de monitoramento abrangente, ele tamb√©m poder√° ser integrado a ele. </li><li>  Al√©m do DBMS, o Foglight tamb√©m pode virtualizar (VMware, Hyper-V, Openstack), sistemas de armazenamento, servidores, AD, Exchange. </li></ol></blockquote><br>  Voc√™ pode dar uma olhada no Foglight for Databases.  Voc√™ pode deixar um aplicativo para um projeto piloto ou obter um kit de distribui√ß√£o e licen√ßas de teste (se voc√™ quiser fazer tudo sozinho) atrav√©s do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">formul√°rio de feedback no site</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt443238/">https://habr.com/ru/post/pt443238/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt443220/index.html">PHP Digest No. 151 (25 de fevereiro a 11 de mar√ßo de 2019)</a></li>
<li><a href="../pt443222/index.html">Como o Protonmail √© bloqueado na R√∫ssia</a></li>
<li><a href="../pt443224/index.html">Esteira com um elefante e um cavalo. M√©todo TWIX</a></li>
<li><a href="../pt443234/index.html">O que os engenheiros da Apple e da Intel fazem no escrit√≥rio: um curso on-line voltado para a carreira em microeletr√¥nica moderna para estudantes</a></li>
<li><a href="../pt443236/index.html">Desmistificar redes neurais convolucionais</a></li>
<li><a href="../pt443240/index.html">Entendendo o Q-learning, o problema ‚ÄúAndar sobre uma pedra‚Äù</a></li>
<li><a href="../pt443242/index.html">Quarkus √© um Java subat√¥mico supers√¥nico. Uma breve vis√£o geral da estrutura</a></li>
<li><a href="../pt443244/index.html">Tarefas de revis√£o. Beanpoisk_1</a></li>
<li><a href="../pt443246/index.html">Como reinventamos o Askozia IP PBX depois que o projeto foi vendido e fechado pelo desenvolvedor</a></li>
<li><a href="../pt443250/index.html">Coletor de Lixo Caseiro para OpenJDK</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>