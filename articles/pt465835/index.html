<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐟 🔎 🏑 Fábrica abstrata nos dedos 🤓 👨🏾‍🤝‍👨🏽 🚣🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fui forçado a escrever este artigo por dois motivos. Mais recentemente, encontrei o padrão Abstract Factory. Como diz o ditado - "Não saiba como fazer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fábrica abstrata nos dedos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465835/"> Fui forçado a escrever este artigo por dois motivos.  Mais recentemente, encontrei o padrão Abstract Factory.  Como diz o ditado - "Não saiba como fazer isso sozinho, ensine a um amigo".  Sabe-se que uma das melhores maneiras de consolidar material é explicar a alguém previamente estudado.  A segunda razão - no processo de estudar esse padrão, não encontrei material que, pessoalmente, declarasse claramente a essência da Fábrica Abstrata (pelo menos em Habré). <br><br>  Então, vamos começar.  A primeira pergunta que você precisa responder estudando esse padrão: "O que é uma fábrica abstrata".  A resposta mais simples e precisa é que a Abstract Factory é uma "fábrica de fábricas".  Mas aqui surge uma segunda pergunta: “Por que alguém precisaria de uma“ fábrica de fábricas ”?  Para responder, considere um exemplo da vida real. <br><a name="habracut"></a><br>  Suponha que você decida assumir o controle total do mercado de automóveis.  Como fazer isso?  Você pode criar sua própria marca de carro, sua produção, conduzir uma empresa de publicidade em larga escala etc.  Mas, neste caso, você tem que lutar com gigantes do mercado de automóveis como Toyota ou Ford.  Não é fato que você sairá vitorioso dessa luta.  Uma solução muito melhor seria comprar as fábricas de todas essas empresas, continuar produzindo carros com suas próprias marcas e colocar o lucro no seu bolso.  Se não me engano, essa estrutura na economia é chamada de exploração.  Esta participação será a Fábrica Abstrata ou "Fábrica de Fábricas".  Em nosso programa, a fábrica Abstract (holding) será representada por uma interface ou uma classe abstrata.  As empresas incluídas na holding são representadas por classes que implementam essa interface. <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CarsFactory</span></span></span><span class="hljs-class"> </span></span>{ } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToyotaFactory</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CarsFactory</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FordFactory</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CarsFactory</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br>  Em seguida, você reúne os gerentes de suas fábricas e diz: “A partir de agora, fabricaremos carros com 2 tipos de carroceria em nossas fábricas - um sedan e um cupê.  Por exemplo, os japoneses farão ToyotaSedan e ToyotaCoupe, os americanos farão FordSedan e FordCoupe. ”  E para que as fábricas não esqueçam exatamente o que precisa ser feito e não iniciem, por exemplo, SUVs, penduraremos os desenhos gerais do sedan e cupê no escritório de nossa holding em um local de destaque (em uma fábrica específica, os engenheiros descobrirão como fabricar os carros de que precisam).  Assim, 2 métodos aparecem em nossa interface CarsFactory: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CarsFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">Sedan </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createSedan</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">Coupe </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createCoupe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Consequentemente, nas classes filho da interface CarsFactory, esses métodos também devem ser implementados. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToyotaFactory</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CarsFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Sedan </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createSedan</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ToyotaSedan(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Coupe </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createCoupe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ToyotaCoupe(); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FordFactory</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CarsFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Sedan </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createSedan</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FordSedan(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Coupe </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createCoupe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FordCoupe(); } }</code> </pre><br>  Observe que o tipo do valor de retorno nos métodos será exatamente o tipo comum aos valores de retorno - sedan e cupê.  Voltando à nossa analogia - você disse à fábrica para fabricar um sedan - você adquiriu um sedan.  Recursos, como um sedan Ford, não são do seu interesse. <br><br>  Como você pode adivinhar com facilidade no código acima, algumas entidades devem aparecer em nosso programa que descrevem tipos específicos de corpos - um sedan e um cupê.  Essas entidades serão interfaces. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sedan</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Coupe</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre><br>  E, é claro, esses desenhos devem ter uma modalidade específica na forma de carros criados em uma fábrica específica. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToyotaCoupe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Coupe</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToyotaCoupe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Create ToyotaCoupe"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToyotaSedan</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sedan</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToyotaSedan</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Create ToyotaSedan"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FordCoupe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Coupe</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FordCoupe</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Create FordCoupe"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FordSedan</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sedan</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FordSedan</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Create FordSedan"</span></span>); } }</code> </pre><br>  Isso é tudo, nossa "fábrica de fábricas" capaz de produzir carros de qualquer marca e qualquer tipo está pronta.  No futuro, você pode decidir que seria bom começar a produzir SUVs.  Você precisará criar outra interface e pendurar um desenho de um SUV no escritório da holding (adicione o método necessário ao CarsFactory e implemente-o em fábricas subsidiárias).  Também é possível que você decida capturar outra parte do mercado e comprar, por exemplo, todas as plantas da Nissan.  Isso significa que você precisa criar outra classe que implemente o CarsFactory - NissanFactory e começar a produzir seus carros com essa marca (NissanCoupe, NissanSedan, etc.) <br><br>  Mas como um usuário específico (comprador de carro) interage com nossa holding?  O comprador geralmente não sabe que você confiscou todas as fábricas de automóveis do mundo.  Ele chega ao pequeno escritório modesto da exploração e diz: "Eu preciso de um carro!"  "Ótimo!"  - dizemos a ele: - “você endereçou o endereço!  Uma fábrica de fábricas é o que você precisa! ” <br><br><pre> <code class="java hljs">CarsFactory factory;</code> </pre> <br>  “Qual empresa de automóveis você prefere a essa hora do dia?”, Perguntamos.  Suponha que um cliente queira comprar um Toyota.  Não tem problema! <br><br><pre> <code class="java hljs">factory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ToyotaFactory();</code> </pre> <br>  "Que tipo de corpo você gostaria?"  Digamos um sedan.  “Ótima escolha!” <br><br><pre> <code class="java hljs">factory.createSedan();</code> </pre> <br>  O carro está pronto, você pode ir! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt465835/">https://habr.com/ru/post/pt465835/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt465819/index.html">LAN ideal</a></li>
<li><a href="../pt465823/index.html">Operador Tarantool kubernetes</a></li>
<li><a href="../pt465825/index.html">Diretório telefônico do Asterisk FreePBX a partir de tabelas SQL (diretório baseado na Web, upload para arquivo xml para telefones Grandstream)</a></li>
<li><a href="../pt465829/index.html">[Tutorial] Como criar seu primeiro jogo incremental IDLE JavaScript</a></li>
<li><a href="../pt465833/index.html">TOKEN2 Molto-1, o primeiro token de hardware TOTP de vários perfis do mundo</a></li>
<li><a href="../pt465839/index.html">Tudo o que você precisa saber sobre a margem CSS</a></li>
<li><a href="../pt465841/index.html">Rastreador GPS BOXY</a></li>
<li><a href="../pt465843/index.html">Níquel para óleo</a></li>
<li><a href="../pt465845/index.html">Sobre a modelagem estrutural de mudanças organizacionais</a></li>
<li><a href="../pt465849/index.html">Minha experiência de desenvolvimento no Playcanvas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>