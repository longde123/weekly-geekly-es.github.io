<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôéÔ∏è üèæ üë©üèæ‚Äçüî¨ Base de datos KDB +: de las finanzas a la F√≥rmula 1 üçÑ üö£üèª üõ•Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="KDB +, un producto KX , es una base de datos de columnas de c√≠rculo estrecho, extremadamente r√°pida y ampliamente conocida, dise√±ada para almacenar se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Base de datos KDB +: de las finanzas a la F√≥rmula 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dbtc/blog/446412/">  KDB +, un producto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">KX</a> , es una base de datos de columnas de c√≠rculo estrecho, extremadamente r√°pida y ampliamente conocida, dise√±ada para almacenar series de tiempo y c√°lculos anal√≠ticos basados ‚Äã‚Äãen ellas.  Inicialmente, disfrut√≥ (y disfruta) de una gran popularidad en la industria financiera: es utilizado por los 10 principales bancos de inversi√≥n y muchos fondos de cobertura conocidos, intercambios y otras organizaciones.  Recientemente, KX decidi√≥ expandir su base de clientes y ahora ofrece soluciones en otras √°reas donde hay una gran cantidad de datos ordenados por tiempo o de otra manera: telecomunicaciones, bioinform√°tica, producci√≥n, etc.  En particular, se convirtieron en socios del equipo Aston Martin Red Bull Racing en la F√≥rmula 1, donde ayudan a recopilar y procesar datos de sensores de autom√≥viles y analizar pruebas en un t√∫nel de viento.  En este art√≠culo quiero decirle qu√© caracter√≠sticas de KDB + lo hacen superproductivo, por qu√© las empresas est√°n dispuestas a gastar mucho dinero en √©l y, finalmente, por qu√© esto no es realmente una base de datos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efa/f84/839/efaf84839e64d7c0026568d2b8019cd9.jpg"><br><a name="habracut"></a><br>  En este art√≠culo tratar√© de decir en general qu√© es KDB +, qu√© caracter√≠sticas y limitaciones tiene, cu√°l es su beneficio para las empresas que desean procesar grandes vol√∫menes de datos.  No entrar√© en los detalles de la implementaci√≥n de KDB + y los detalles de su lenguaje de programaci√≥n Q. Ambos temas son muy extensos y merecen art√≠culos separados.  Puede encontrar mucha informaci√≥n sobre estos temas en code.kx.com, incluido un libro sobre Q - Q For Mortals (vea el enlace a continuaci√≥n). <br><br><h2>  Algunos t√©rminos </h2><br><ul><li> <b>Base de datos en memoria.</b>  Una base de datos que almacena datos en RAM para un acceso m√°s r√°pido.  Las ventajas de dicha base de datos son comprensibles, y las desventajas son la posibilidad de p√©rdida de datos, la necesidad de tener mucha memoria en el servidor. <br></li><li>  <b>Base de datos de columnas.</b>  Una base de datos donde los datos se almacenan en serie, no registro por registro.  La principal ventaja de dicha base de datos es que los datos de una columna se almacenan juntos en el disco y en la memoria, lo que acelera enormemente el acceso a ellos.  No es necesario cargar columnas que no se utilizan en la solicitud.  La principal desventaja es que es dif√≠cil modificar y eliminar registros. <br></li><li>  <b>Series de tiempo.</b>  Datos con una columna como fecha u hora.  Como regla general, ordenar a tiempo es importante para dichos datos, para que pueda determinar f√°cilmente qu√© registro precede o sigue al actual, o para aplicar funciones cuyo resultado depende del orden de los registros.  Las bases de datos cl√°sicas se basan en un principio completamente diferente: representan un conjunto de registros como un conjunto, donde el orden de los registros no est√° definido en principio. <br></li><li>  <b>Vector</b>  En el contexto, KDB + es una lista de elementos del mismo tipo at√≥mico, por ejemplo, n√∫meros.  En otras palabras, una matriz de elementos.  Las matrices, a diferencia de las listas, pueden almacenarse de forma compacta y procesarse utilizando las instrucciones del procesador de vectores. <br></li></ul><br><h2>  Antecedentes historicos </h2><br>  KX fue fundada en 1993 por Arthur Whitney, quien anteriormente trabaj√≥ en Morgan Stanley Bank en A +, el sucesor de APL, un lenguaje muy original y popular en el mundo financiero.  Por supuesto, en KX, Arthur continu√≥ con el mismo esp√≠ritu y cre√≥ el lenguaje vectorial funcional K, guiado por las ideas del minimalismo radical.  Los programas K parecen un conjunto desordenado de signos de puntuaci√≥n y caracteres especiales, el significado de los caracteres y las funciones depende del contexto, y cada operaci√≥n tiene mucho m√°s significado que en los lenguajes de programaci√≥n habituales.  Debido a esto, el programa K ocupa un m√≠nimo de espacio (varias l√≠neas pueden reemplazar p√°ginas de texto de un lenguaje detallado como Java) y es una implementaci√≥n s√∫per concentrada del algoritmo. <br><br>  Una funci√≥n en K que implementa la mayor parte del generador de analizador LL1 de acuerdo con una gram√°tica dada: <br><br><pre><code class="cs hljs"><span class="hljs-number"><span class="hljs-number">1.</span></span> pp:{q:{(x;p3(),y)};r:$[<span class="hljs-number"><span class="hljs-number">-11</span></span>=@x;$x;<span class="hljs-number"><span class="hljs-number">11</span></span>=@x;q[`N;$*x];<span class="hljs-number"><span class="hljs-number">10</span></span>=abs@@x;q[`N;x]  <span class="hljs-number"><span class="hljs-number">2.</span></span>   ($)~*x;(`P;p3 x <span class="hljs-number"><span class="hljs-number">1</span></span>);(<span class="hljs-number"><span class="hljs-number">1</span></span>=<span class="hljs-meta"><span class="hljs-meta">#x)&amp;11=@*x;pp[{(1#x;$[2=#x;;,:]1_x)}@*x]  3.      (?)~*x;(`Q;pp[x 1]);(*)~*x;(`M;pp[x 1]);(+)~*x;(`MP;pp[x 1]);(!)~*x;(`Y;p3 x 1)  4.      (2=#x)&amp;(@x 1)in 100 101 107 7 -7h;($[(@x 1)in 100 101 107h;`Ff;`Fi];p3 x 1;pp[*x])  5.      (|)~*x;`S,(pp'1_x);2=#x;`C,{@[@[x;-1+#x;{x,")"}];0;"(",]}({$[".sC"~4#x;6_-2_x;x]}'pp'x);'`pp];  6.   $[@r;r;($[1&lt;#r;".s.";""],$*r),$[1&lt;#r;"[",(";"/:1_r),"]";""]]}</span></span></code> </pre> <br>  Arthur encarn√≥ esta filosof√≠a de eficiencia extrema con un m√≠nimo de movimientos corporales en KDB +, que apareci√≥ en 2003 (creo que ahora est√° claro de d√≥nde viene la letra K del nombre) y no hay nada m√°s que un int√©rprete de la cuarta versi√≥n del lenguaje K. Una versi√≥n m√°s agradable para el ojo del usuario se agrega a K K bajo el nombre Q. Q tambi√©n agrega soporte para un dialecto SQL espec√≠fico - QSQL, y en el int√©rprete - soporte para tablas como tipo de datos del sistema, herramientas para trabajar con tablas en memoria y en disco, etc. <br><br>  Por lo tanto, desde el punto de vista del usuario, KDB + es solo un int√©rprete de Q con soporte para tablas y expresiones de estilo LINQ tipo SQL de C #.  Esta es la diferencia m√°s importante entre KDB + y otras bases de datos y su principal ventaja competitiva, que a menudo se pasa por alto.  Esta no es una base de datos + un lenguaje auxiliar que est√° deshabilitado, sino un potente lenguaje de programaci√≥n completo + soporte incorporado para funciones de base de datos.  Esta diferencia jugar√° un papel decisivo en la lista de todos los beneficios de KDB +.  Por ejemplo ... <br><br><h2>  Tama√±o </h2><br>  Seg√∫n los est√°ndares modernos, KDB + es solo un tama√±o microsc√≥pico.  Este es literalmente un archivo ejecutable m√°s peque√±o que un megabyte y un peque√±o archivo de texto con algunas funciones del sistema.  En realidad, menos de un megabyte y para este programa las compa√±√≠as pagan decenas de miles de d√≥lares por a√±o por un procesador en el servidor. <br><br><ul><li>  Este tama√±o permite que KDB + se sienta genial en cualquier hardware, desde el microordenador Pi hasta servidores con terabytes de memoria.  Esto no afecta la funcionalidad de ninguna manera; adem√°s, Q se inicia instant√°neamente, lo que permite su uso incluso como lenguaje de script. <br></li><li>  Con este tama√±o, el int√©rprete Q se coloca completamente en la memoria cach√© del procesador, lo que acelera la ejecuci√≥n de los programas. <br></li><li>  Con este tama√±o del archivo ejecutable, el proceso Q ocupa un espacio de memoria insignificante; puede ejecutarlos en cientos.  Al mismo tiempo, si es necesario, Q puede operar con decenas o cientos de gigabytes de memoria en un solo proceso. <br></li></ul><br><h2>  Versatilidad </h2><br>  Q es perfecto para una variedad de tareas.  El proceso Q puede servir como una base de datos hist√≥rica y proporcionar acceso r√°pido a terabytes de informaci√≥n.  Por ejemplo, tenemos docenas de bases de datos hist√≥ricas, en algunas de las cuales un d√≠a de datos sin comprimir toma m√°s de 100 gigabytes.  Sin embargo, con restricciones razonables, la consulta de la base de datos se ejecutar√° en decenas a cientos de milisegundos.  En general, tenemos un tiempo de espera universal para las solicitudes de los usuarios (30 segundos) y funciona muy raramente. <br><br>  Con la misma facilidad, Q puede ser una base de datos en memoria.  Agregar datos nuevos a las tablas en la memoria es tan r√°pido que las consultas de los usuarios son un factor limitante.  Los datos en las tablas se almacenan en columnas, lo que significa que cualquier operaci√≥n en la columna utilizar√° el cach√© del procesador a plena capacidad.  Adem√°s de esto, KX trat√≥ de implementar todas las operaciones b√°sicas, como la aritm√©tica a trav√©s de instrucciones de procesador de vectores, maximizando su velocidad.  Q puede realizar tareas que no son caracter√≠sticas de las bases de datos, por ejemplo, procesar datos de transmisi√≥n y calcular en ‚Äútiempo real‚Äù (con un retraso de decenas de milisegundos a varios segundos dependiendo de la tarea) varias funciones agregadas para instrumentos financieros para diferentes intervalos de tiempo o construir un modelo del impacto de la perfecci√≥n transacciones al mercado y llevar a cabo su perfil casi inmediatamente despu√©s de su finalizaci√≥n.  En tales problemas, la mayor√≠a de las veces el retraso de tiempo principal no es Q, sino la necesidad de sincronizar datos de diferentes fuentes.  Se logra una alta velocidad debido al hecho de que los datos y las funciones que los procesan est√°n en el mismo proceso, y el procesamiento se reduce a la ejecuci√≥n de varias expresiones y uniones QSQL que no se interpretan, pero se ejecutan en c√≥digo binario. <br><br>  Finalmente, cualquier proceso de servicio tambi√©n se puede escribir en Q.  Por ejemplo, los procesos de Gateway que distribuyen autom√°ticamente las solicitudes de los usuarios a las bases de datos y servidores necesarios.  El programador tiene total libertad para implementar cualquier algoritmo de equilibrio, priorizaci√≥n, tolerancia a fallas, derechos de acceso, cuotas y, en general, lo que su coraz√≥n desee.  El principal problema aqu√≠ es que debe implementar todo esto usted mismo. <br><br>  Por ejemplo, enumerar√© qu√© tipos de procesos tenemos.  Todos ellos se usan activamente y trabajan juntos, combinando docenas de bases de datos diferentes, procesando datos de muchas fuentes y sirviendo a cientos de usuarios y aplicaciones. <br><br><ul><li>  <b>Conectores (manejador de alimentaci√≥n) a las fuentes de datos.</b>  Estos procesos usualmente usan bibliotecas externas que se cargan en Q. La interfaz C en Q es extremadamente simple y le permite crear f√°cilmente funciones proxy para cualquier biblioteca C / C ++.  Q es lo suficientemente r√°pido como para manejar, por ejemplo, el procesamiento simult√°neo del flujo de mensajes FIX de todas las bolsas de valores europeas. <br></li><li>  <b>Distribuidores de tickerplant,</b> que sirven como un enlace intermedio entre los conectores y los consumidores.  Al mismo tiempo, escriben datos entrantes en un registro binario especial, proporcionando resistencia a los consumidores a la p√©rdida de conexi√≥n o reinicio. <br></li><li>  <b>Base de datos en memoria (rdb).</b>  Estas bases de datos proporcionan el acceso m√°s r√°pido a datos sin procesar y frescos, almacen√°ndolos en la memoria.  Como regla, acumulan datos en tablas durante el d√≠a y los ponen a cero por la noche. <br></li><li>  <b>Base de datos persistente (pdb).</b>  Estas bases de datos proporcionan almacenamiento de datos hoy en la base de datos hist√≥rica.  Como regla, a diferencia de rdb, no almacenan datos en la memoria, sino que usan un cach√© especial en el disco durante un d√≠a y copian los datos a medianoche en la base de datos hist√≥rica. <br></li><li>  <b>Bases hist√≥ricas (hdb).</b>  Estas bases de datos proporcionan acceso a datos de d√≠as, meses y a√±os anteriores.  Su tama√±o (en d√≠as) est√° limitado solo por el tama√±o de los discos duros.  Los datos se pueden ubicar en cualquier lugar, en particular en diferentes discos para un acceso m√°s r√°pido.  Es posible comprimir datos usando varios algoritmos para elegir.  La estructura de la base de datos est√° bien documentada y es simple, los datos se almacenan por unidad en archivos ordinarios, para que puedan procesarse, incluido el uso del sistema operativo. <br></li><li>  <b>Bases de datos con informaci√≥n agregada.</b>  Se almacenan varias agregaciones, generalmente agrupadas por nombre de instrumento e intervalo de tiempo.  Las bases de datos en memoria actualizan su estado con cada mensaje entrante, y las hist√≥ricas almacenan datos precalculados para acelerar el acceso a los datos hist√≥ricos. <br></li><li>  Finalmente, los <b>procesos de puerta de enlace al</b> servicio de aplicaciones y usuarios.  Q le permite implementar un procesamiento completamente as√≠ncrono de los mensajes entrantes, distribuirlos entre las bases de datos, verificar los derechos de acceso, etc.  Observo que los mensajes no se limitan y, a menudo, no son declaraciones SQL, como es el caso en otras bases de datos.  Muy a menudo, la expresi√≥n SQL se oculta en una funci√≥n especial y se construye en funci√≥n de los par√°metros solicitados por el usuario: el tiempo se convierte, se filtra, los datos se normalizan (por ejemplo, el precio de las acciones se iguala si se pagan dividendos), etc. <br></li></ul><br>  Arquitectura t√≠pica para un tipo de datos: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/99a/13e/5e9/99a13e5e9813f09a2d40b676669c052a.png"><br><br><h2>  Velocidad </h2><br>  Aunque Q es un lenguaje interpretado, es simult√°neamente un lenguaje vectorial.  Esto significa que muchas funciones integradas, en particular la aritm√©tica, aceptan argumentos de cualquier forma: n√∫meros, vectores, matrices, listas, y se espera que el programador implemente el programa como operaciones en matrices.  En dicho lenguaje, si agrega dos vectores en un mill√≥n de elementos, ya no importa que se interprete el lenguaje, la adici√≥n se realizar√° mediante una funci√≥n binaria superoptimizada.  Dado que la mayor parte del tiempo en los programas Q se dedica a operaciones con tablas que utilizan estas funciones vectorizadas b√°sicas, tenemos una velocidad de salida muy decente que nos permite procesar una gran cantidad de datos incluso en un solo proceso.  Esto es similar a las bibliotecas de matem√°ticas en Python: aunque Python es un lenguaje muy lento, tiene muchas bibliotecas geniales que le permiten procesar datos num√©ricos a la velocidad de un lenguaje compilado (por cierto, numpy es ideol√≥gicamente cercano a Q). <br><br>  Adem√°s, KX abord√≥ con mucho cuidado el dise√±o de tablas y optimiz√≥ el trabajo con ellas.  En primer lugar, se admiten varios tipos de √≠ndices, que son compatibles con las funciones integradas y se pueden aplicar no solo a las columnas de la tabla, sino tambi√©n a cualquier vector: agrupaci√≥n, clasificaci√≥n, atributo de unicidad y agrupaci√≥n especial para bases de datos hist√≥ricas.  El √≠ndice se superpone de manera elemental y se ajusta autom√°ticamente al agregar elementos a la columna / vector.  Los √≠ndices pueden superponerse igualmente bien a las columnas de la tabla tanto en la memoria como en el disco.  Al ejecutar una consulta QSQL, los √≠ndices se usan autom√°ticamente, si es posible.  En segundo lugar, el trabajo con datos hist√≥ricos se realiza a trav√©s del mecanismo de asignaci√≥n de archivos del sistema operativo (mapa de memoria).  Las tablas grandes nunca se cargan en la memoria, en cambio, las columnas necesarias se asignan directamente a la memoria y solo esa parte de ellas se carga realmente (los √≠ndices tambi√©n ayudan aqu√≠).  No hay diferencia para el programador si los datos est√°n en la memoria o no, el mecanismo para trabajar con mmap est√° completamente oculto en las entra√±as de Q. <br><br>  KDB + no es una base de datos relacional, las tablas pueden contener datos arbitrarios, mientras que el orden de las filas en la tabla no cambia cuando se agregan nuevos elementos y puede y debe usarse al escribir consultas.  Esta caracter√≠stica se necesita con urgencia para trabajar con series de tiempo (datos de intercambios, telemetr√≠a, registros de eventos), porque si los datos se ordenan por tiempo, el usuario no necesita usar ning√∫n truco de SQL para encontrar la primera o la √∫ltima fila o N filas en la tabla , determine qu√© l√≠nea sigue a la en√©sima l√≠nea, etc.  Las uniones de tablas se simplifican a√∫n m√°s, por ejemplo, encontrar 16,000 transacciones VOD.L (Vodafone) la √∫ltima cotizaci√≥n en una tabla de 500 millones de elementos toma aproximadamente un segundo en el disco y una docena de milisegundos en la memoria. <br><br>  Un ejemplo de una uni√≥n de tiempo es que la tabla de cotizaciones est√° asignada a la memoria, por lo que no es necesario especificar VOD.L en donde, el √≠ndice en la columna sym se usa impl√≠citamente y el hecho de que los datos est√°n ordenados por tiempo.  Casi todas las uniones en Q son funciones ordinarias, no forman parte de la instrucci√≥n select: <br><br><pre> <code class="cs hljs"><span class="hljs-number"><span class="hljs-number">1.</span></span> aj[`sym`time;<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> trade <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> date=<span class="hljs-number"><span class="hljs-number">2019.03</span></span><span class="hljs-number"><span class="hljs-number">.26</span></span>, sym=`VOD.L;<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> quote <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> date=<span class="hljs-number"><span class="hljs-number">2019.03</span></span><span class="hljs-number"><span class="hljs-number">.26</span></span>]</code> </pre><br>  Finalmente, vale la pena se√±alar que los ingenieros de KX, comenzando con el propio Arthur Whitney, est√°n realmente obsesionados con la eficiencia y est√°n haciendo todo lo posible para aprovechar al m√°ximo las caracter√≠sticas Q est√°ndar y optimizar los patrones de uso m√°s comunes. <br><br><h2>  Resumen </h2><br>  KDB + es popular entre las empresas principalmente debido a su versatilidad excepcional: sirve igualmente bien como una base en memoria y como una base para almacenar terabytes de datos hist√≥ricos y como una plataforma para el an√°lisis de datos.  Debido al hecho de que el procesamiento de datos ocurre directamente en la base de datos, se logra una alta velocidad de operaci√≥n y ahorro de recursos.  Un lenguaje de programaci√≥n completo, integrado con las funciones de la base de datos, le permite implementar en la misma plataforma toda la pila de procesos necesarios, desde recibir datos hasta procesar las solicitudes de los usuarios. <br><br><h2>  Informaci√≥n adicional </h2><br><h3>  Desventajas </h3><br>  Un inconveniente significativo de KDB + / Q es su alto umbral de entrada.  El lenguaje tiene una sintaxis extra√±a, algunas funciones est√°n muy sobrecargadas (el valor, por ejemplo, tiene aproximadamente 11 casos de uso).  Lo m√°s importante, requiere un enfoque radicalmente diferente para escribir programas.  En un lenguaje vectorial, debe pensar todo el tiempo en t√©rminos de transformaciones de matriz, implementar todos los ciclos a trav√©s de varias opciones de funciones de mapa / reducci√≥n (llamadas adverbios en Q), nunca intente ahorrar dinero reemplazando las operaciones vectoriales por otras at√≥micas.  Por ejemplo, para encontrar el √≠ndice de la en√©sima aparici√≥n de un elemento en una matriz, escriba: <br><br><pre> <code class="cs hljs"><span class="hljs-number"><span class="hljs-number">1.</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">where</span></span> element=vector)[N]</code> </pre><br>  aunque esto parece terriblemente ineficiente para los est√°ndares C / Java (= crea un vector booleano, donde devuelve los √≠ndices de los elementos verdaderos en √©l).  Pero tal registro hace que el significado de la expresi√≥n sea m√°s comprensible y utiliza operaciones r√°pidas de vectores en lugar de operaciones at√≥micas lentas.  La diferencia conceptual entre el lenguaje vectorial y el resto es comparable a la diferencia entre los enfoques imperativos y funcionales de la programaci√≥n, y debe estar preparado para esto. <br><br>  Algunos usuarios tampoco est√°n contentos con QSQL.  El hecho es que solo parece SQL real.  De hecho, es solo un int√©rprete de expresiones similares a SQL que no admite la optimizaci√≥n de consultas.  El usuario mismo debe escribir las consultas √≥ptimas, y en Q, para las cuales muchas no est√°n listas.  Por otro lado, por supuesto, siempre puede escribir su propia consulta √≥ptima usted mismo, y no confiar en un optimizador de caja negra. <br><br>  Adem√°s, un libro sobre Q - Q For Mortals est√° disponible de forma gratuita en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el sitio web de la compa√±√≠a</a> , y tambi√©n hay muchos otros materiales √∫tiles. <br><br>  Otro gran inconveniente es el costo de la licencia.  Esto es decenas de miles de d√≥lares por a√±o para una CPU.  Solo las grandes empresas pueden pagar tales gastos.  Recientemente, KX ha flexibilizado la pol√≠tica de licencias y ofrece la posibilidad de pagar solo por el tiempo de uso o alquilar KDB + en las nubes de Google y Amazon.  KX tambi√©n ofrece descargar una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">versi√≥n gratuita para fines no comerciales</a> (versi√≥n de 32 bits o 64 bits a pedido). <br><br><h3>  Competidores </h3><br>  Existen bastantes bases de datos especializadas basadas en principios similares: columnas, en memoria, centradas en grandes cantidades de datos.  El problema es que estas son bases de datos especializadas.  Un buen ejemplo es Clickhouse.  Esta base de datos tiene un principio muy similar al principio KDB + de almacenar datos en el disco y construir el √≠ndice; realiza algunas consultas m√°s r√°pido que KDB +, aunque no significativamente.  Pero a pesar de que la base de datos de Clickhouse es m√°s especializada que KDB +: an√°lisis web versus series de tiempo arbitrarias (esta diferencia es muy importante, por eso, por ejemplo, no hay forma de utilizar el registro de pedidos en Clickhouse).  Pero, lo m√°s importante, Clickhouse no tiene la universalidad de KDB +, un lenguaje que le permitir√≠a procesar datos directamente en la base de datos, en lugar de cargarlos previamente en una aplicaci√≥n separada, construir expresiones SQL arbitrarias, usar funciones arbitrarias en una consulta, crear procesos no relacionados con la ejecuci√≥n de funciones de la base hist√≥rica .  Por lo tanto, es dif√≠cil comparar KDB + con otras bases de datos, pueden ser mejores en casos de uso separados o simplemente mejores si estamos hablando de las tareas de las bases de datos cl√°sicas, pero no conozco otra herramienta igualmente efectiva y universal para procesar datos temporales. <br><br><h3>  Integraci√≥n Python </h3><br>  Para hacer que KDB + sea m√°s f√°cil para las personas nuevas en tecnolog√≠a, KX ha creado bibliotecas para una estrecha integraci√≥n con Python en un solo proceso.  Puede llamar a cualquier funci√≥n de Python desde Q, o viceversa: llame a cualquier funci√≥n de Q desde Python (en particular, expresiones QSQL).  Las bibliotecas convierten, si es necesario (en aras de la eficiencia, no siempre) los datos del formato de un idioma al formato de otro.  Como resultado, Q y Python viven en una simbiosis tan cercana que los l√≠mites entre ellos se borran.  Como resultado, un programador, por un lado, tiene acceso completo a numerosas bibliotecas Python √∫tiles, por otro lado, obtiene una base r√°pida para trabajar con grandes datos integrados en Python, lo cual es especialmente √∫til para aquellos involucrados en el aprendizaje autom√°tico o el modelado. <br><br>  Trabajando con Q en Python: <br><br><pre> <code class="cs hljs"><span class="hljs-number"><span class="hljs-number">1.</span></span> &gt;&gt;&gt; q() <span class="hljs-number"><span class="hljs-number">2.</span></span>q)trade:([]date:();sym:();qty:()) <span class="hljs-number"><span class="hljs-number">3.</span></span> q)\ <span class="hljs-number"><span class="hljs-number">4.</span></span> &gt;&gt;&gt; q.insert(<span class="hljs-string"><span class="hljs-string">'trade'</span></span>, (date(<span class="hljs-number"><span class="hljs-number">2006</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>), <span class="hljs-string"><span class="hljs-string">'IBM'</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>)) <span class="hljs-number"><span class="hljs-number">5.</span></span> k(<span class="hljs-string"><span class="hljs-string">',0'</span></span>) <span class="hljs-number"><span class="hljs-number">6.</span></span> &gt;&gt;&gt; q.insert(<span class="hljs-string"><span class="hljs-string">'trade'</span></span>, (date(<span class="hljs-number"><span class="hljs-number">2006</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>), <span class="hljs-string"><span class="hljs-string">'MSFT'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>)) <span class="hljs-number"><span class="hljs-number">7.</span></span> k(<span class="hljs-string"><span class="hljs-string">',1'</span></span>)</code> </pre><br><h3>  Referencias </h3><br>  Sitio web de la empresa: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://kx.com/</a> <br>  Sitio web para desarrolladores: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://code.kx.com/v2/</a> <br>  Libro Q For Mortals (en ingl√©s): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://code.kx.com/q4m3/</a> <br>  Art√≠culos sobre el tema de las aplicaciones KDB + / Q de los empleados de kx: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://code.kx.com/v2/wp/</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/446412/">https://habr.com/ru/post/446412/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../446396/index.html">Reinicio del contador de semana GPS</a></li>
<li><a href="../446400/index.html">Dmitry Dumik, Chatfuel: sobre Y Combinator, emprendimiento tecnol√≥gico, cambio de comportamiento y conciencia</a></li>
<li><a href="../446402/index.html">Aplicaciones multiling√ºes en angular</a></li>
<li><a href="../446404/index.html">Alternativas modernas a PGP</a></li>
<li><a href="../446408/index.html">DRO universal basado en Arduino Nano - shDRO</a></li>
<li><a href="../446414/index.html">Una cosa buena no se llama √≥xido</a></li>
<li><a href="../446418/index.html">Cloudflare present√≥ su propio servicio VPN basado en la aplicaci√≥n 1.1.1.1 para dispositivos m√≥viles</a></li>
<li><a href="../446422/index.html">QuietOn: auriculares que matan ...</a></li>
<li><a href="../446424/index.html">Historia de un informe</a></li>
<li><a href="../446428/index.html">C√≥mo se construy√≥ la planta de abejorros de HR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>