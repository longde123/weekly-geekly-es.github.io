<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ŠğŸ» ğŸ‘¼ğŸ» ğŸ†™ åœ¨VSTSä¸­å¯ç”¨å¯æ‰©å±•çš„è¯·æ±‚è¯·æ±‚ç­–ç•¥ä»¥æ”¯æŒå¼€å‘è¿‡ç¨‹ ğŸ‘¸ğŸ¿ âŒ ğŸ§˜ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="é€šå¸¸ï¼Œä½œä¸ºâ€œæ‹‰å–è¯·æ±‚â€æ£€æŸ¥çš„ä¸€éƒ¨åˆ†ï¼Œé™¤äº†ä»£ç æ£€æŸ¥æœ¬èº«ä¹‹å¤–ï¼Œè¿˜éœ€è¦æ‰§è¡Œä¸€ç»„å¸¸è§„æ£€æŸ¥ã€‚ ä¸€äº›æ£€æŸ¥å¯èƒ½ä¸PRçš„è®¾è®¡æœ‰å…³ã€‚ å…¶ä»–-æ£€æŸ¥æ„æˆå˜æ›´é‡‡ç”¨è¿‡ç¨‹åŸºç¡€çš„ç›¸å…³æ¡ä»¶ã€‚ 
 å¦‚æœå¸¸è§„æ£€æŸ¥ä¸æ˜¯è‡ªåŠ¨è¿›è¡Œçš„ï¼Œé‚£ä¹ˆäººä»¬å¯èƒ½ä¼šå¼€å§‹å¿˜è®°æˆ–è§„é¿å®ƒä»¬ã€‚ å› ä¸ºä¾‹è¡Œå¾ˆæ— èŠã€‚ 


 Visual Studio Team Serv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åœ¨VSTSä¸­å¯ç”¨å¯æ‰©å±•çš„è¯·æ±‚è¯·æ±‚ç­–ç•¥ä»¥æ”¯æŒå¼€å‘è¿‡ç¨‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428660/"><p> é€šå¸¸ï¼Œä½œä¸ºâ€œæ‹‰å–è¯·æ±‚â€æ£€æŸ¥çš„ä¸€éƒ¨åˆ†ï¼Œé™¤äº†ä»£ç æ£€æŸ¥æœ¬èº«ä¹‹å¤–ï¼Œè¿˜éœ€è¦æ‰§è¡Œä¸€ç»„å¸¸è§„æ£€æŸ¥ã€‚ ä¸€äº›æ£€æŸ¥å¯èƒ½ä¸PRçš„è®¾è®¡æœ‰å…³ã€‚ å…¶ä»–-æ£€æŸ¥æ„æˆå˜æ›´é‡‡ç”¨è¿‡ç¨‹åŸºç¡€çš„ç›¸å…³æ¡ä»¶ã€‚ <br> å¦‚æœå¸¸è§„æ£€æŸ¥ä¸æ˜¯è‡ªåŠ¨è¿›è¡Œçš„ï¼Œé‚£ä¹ˆäººä»¬å¯èƒ½ä¼šå¼€å§‹å¿˜è®°æˆ–è§„é¿å®ƒä»¬ã€‚ å› ä¸ºä¾‹è¡Œå¾ˆæ— èŠã€‚ </p><br><p>  Visual Studio Team Servicesä¸ºå¤„ç†è¯·æ±‚è¯·æ±‚æä¾›äº†ç›¸å½“æ–¹ä¾¿çš„åŸºç¡€ç»“æ„ã€‚ è¿™åŒ…æ‹¬è‡ªå®šä¹‰åˆå¹¶æ„å»ºç­–ç•¥ï¼Œå®¡é˜…è€…çš„ä»»å‘½ï¼Œæ¥å—æ›´æ”¹çš„åˆå¹¶è§„åˆ™ã€‚ æ‰€æœ‰è¿™äº›éƒ½å¾—åˆ°äº†æ–¹ä¾¿çš„ç”¨äºè®¨è®ºå’Œæ³¨é‡Šä»£ç çš„ç³»ç»Ÿçš„è¡¥å……ã€‚ </p><br><p> æ‰©å±•â€œæ‹‰å–è¯·æ±‚â€è¿‡ç¨‹æœ€å¼ºå¤§çš„å·¥å…·æ˜¯å¤–éƒ¨æ’ä»¶ç­–ç•¥ã€‚ </p><br><p> æˆ‘ä»¬å°†è®¨è®ºå®ƒä»¬çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆå¹¶æŸ¥çœ‹ä»£ç ï¼‰ </p><a name="habracut"></a><br><h2 id="rasshiryaemye-statusy-pull-request"> å¯æ‰©å±•çš„æ‹‰å–è¯·æ±‚çŠ¶æ€ </h2><br><p>  PRçŠ¶æ€æ˜¯åœ¨ä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„æ ‡å¿—ã€‚ ä¸Šä¸‹æ–‡-ä¸Šä¸‹æ–‡åç§°å’Œâ€œç±»å‹â€çš„å”¯ä¸€ç»„åˆã€‚ è¯¥ç±»å‹é€šå¸¸æ˜¯æ¯ä¸ªæ“çºµçŠ¶æ€çš„åº”ç”¨ç¨‹åºä¹‹ä¸€ã€‚ </p><br><p> ä¾‹å¦‚ï¼š </p><br><p> çŠ¶æ€1ï¼šç±»å‹=â€œ my-policyâ€ï¼Œåç§°=â€œ check-1â€ <br> çŠ¶æ€2ï¼šç±»å‹=â€œ my-policyâ€ï¼Œåç§°=â€œ check-2â€ </p><br><p> çŠ¶æ€é‡‡ç”¨é¢„å®šä¹‰å€¼ä¹‹ä¸€ã€‚ ä¸ºäº†æ”¯æŒè¯¥è¿‡ç¨‹ï¼Œæˆ‘ä»¬å°†å¯¹ä¸¤ä¸ªæ„Ÿå…´è¶£ï¼šæˆåŠŸå’Œå¤±è´¥ã€‚ </p><br><p> è®¾ç½®æ—©åˆé¤ç­–ç•¥æ—¶å¯ä»¥ä½¿ç”¨çŠ¶æ€ï¼šæ‰€é€‰æ ‡å¿—å¿…é¡»å…·æœ‰æˆåŠŸçš„çŠ¶æ€æ‰èƒ½æ¥å—PRã€‚ ä»¥ç›¸åŒçš„æ–¹å¼ï¼Œå®æ–½äº†å†…ç½®ç­–ç•¥æ¥æ£€æŸ¥é©±åŠ¨ç¨‹åºçš„æ•°é‡ï¼Œé™„åŠ ç¥¨è¯çš„å­˜åœ¨ç­‰ã€‚ </p><br><p> è½¬åˆ°ç¼–è¾‘åˆ†æ”¯ç­–ç•¥ã€‚ æ·»åŠ å¤–äº¤æ”¿ç­–ã€‚ <br><img src="https://habrastorage.org/webt/yj/iw/g7/yjiwg7tbjv-fig4zckpe0aiab4k.jpeg" alt="æ—©åˆé¤æ”¿ç­–"></p><br><p> å¦‚æœçŠ¶æ€è‡³å°‘å·²è®¾ç½®ä¸€æ¬¡ï¼Œåˆ™åœ¨ä¸‹æ‹‰èœå•ä¸­å°†å¯ç”¨è¯¥çŠ¶æ€ã€‚ <br> åœ¨åº•éƒ¨ï¼Œæ‚¨å¯ä»¥æŒ‡å®šçŠ¶æ€çš„æ ‡é¢˜ï¼Œä»¥åŠå¦‚ä½•åœ¨æ‹‰å–è¯·æ±‚å®Œæˆæ¡†ä¸­æ˜¾ç¤ºçŠ¶æ€ã€‚ </p><br><p><img src="https://habrastorage.org/webt/dd/n9/gk/ddn9gks3ud-pae20v8od8s8uzk8.jpeg" alt="æ ¹æ®éœ€è¦æ·»åŠ å¤–äº¤æ”¿ç­–"></p><br><p> æ·»åŠ çš„çŠ¶æ€å°†æ˜¾ç¤ºåœ¨æ£€æŸ¥å—ä¸­çš„è¯·æ±‚è¯·æ±‚é¡µé¢ä¸Šï¼š <br><img src="https://habrastorage.org/webt/r6/ar/no/r6arnoaeigyl1uh2qv0eijr-9ss.jpeg"><br> å¦‚æœçŠ¶æ€æœªç”¨ä½œç­–ç•¥ï¼Œåˆ™å…¶å€¼å°†æ˜¾ç¤ºåœ¨â€œçŠ¶æ€â€éƒ¨åˆ†çš„é¡µé¢ä¸Šã€‚ å¦‚æœå°†çŠ¶æ€æŒ‡å®šä¸ºç­–ç•¥ï¼Œåˆ™å®ƒå°†åœ¨å—é¡¶éƒ¨å¯è§ã€‚ </p><br><h2 id="programmnoe-upravlenie-statusami"> ç¨‹åºçŠ¶æ€ç®¡ç† </h2><br><p> å¯ä»¥ä½¿ç”¨REST APIä»¥ç¼–ç¨‹æ–¹å¼å¤„ç†PRçŠ¶æ€ã€‚ å› æ­¤ï¼Œå¯ä»¥å®æ–½å…¶ä»–PRæ£€æŸ¥ï¼Œå¹¶å°†å…¶ç»“æœç›´æ¥è½¬æ¢ä¸ºè¿›è¡Œæ›´æ”¹çš„è¿‡ç¨‹ã€‚ </p><br><p> æ–°çš„çŠ¶æ€å€¼ç”±<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Create</a>æ–¹æ³•æ·»åŠ ã€‚ é™¤äº†ç»“æœå’Œä¸Šä¸‹æ–‡ï¼Œè¿˜å¿…é¡»ä¼ è¾¾ç”¨æˆ·çœ‹åˆ°çš„æ–‡æœ¬ã€‚ æ‚¨å¯ä»¥é€‰æ‹©ä¼ é€’URLï¼šåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒPRè¡¨å•ä¸Šçš„çŠ¶æ€æ ‡ç­¾å°†æˆä¸ºé“¾æ¥ï¼Œå¹¶ä¸”ç”¨æˆ·å°†èƒ½å¤Ÿè½¬åˆ°åŒ…å«çŠ¶æ€è¯¦ç»†ä¿¡æ¯çš„é¡µé¢ã€‚ </p><br><p> æ–¹æ³•è°ƒç”¨å°†å¯¼è‡´åˆ›å»ºæ–°çš„PRçŠ¶æ€è®°å½•ã€‚ åœ¨ä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œæœ€åæ·»åŠ çš„çŠ¶æ€å€¼è¢«è®¤ä¸ºæ˜¯æ´»åŠ¨çš„ã€‚ æ—©æœŸçŠ¶æ€æ¡ç›®åœ¨UIä¸­ä¸å¯è§ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">List</a>æ–¹æ³•è·å¾—å®ƒä»¬ã€‚ </p><br><p> å¯¹äºä¸Šå›¾ä¸­çŠ¶æ€çš„çŠ¶æ€ï¼Œæ‹‰å–è¯·æ±‚çš„çœŸå®çŠ¶æ€åˆ—è¡¨å¯ä»¥å¦‚ä¸‹ï¼š </p><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"failed"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"PR title format"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-title; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.0324172Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.0324172Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"failed"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Build for last update"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-build; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.5167963Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.5167963Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"succeeded"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"No offset from develop"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-offset; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.782379Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.782379Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"succeeded"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"PR title format"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-title; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:46:37.2627154Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:46:37.2627154Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"succeeded"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Build for last update"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-build; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:51:33.7920543Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:51:33.7920543Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"failed"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"PR title format"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-title; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:53:44.3075889Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:53:44.3075889Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"failed"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Title format is not correct"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-title; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T19:26:11.3019433Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T19:26:11.3019433Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"count"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span> }</code> </pre> <br><p> æŸ¥çœ‹å½“å‰çŠ¶æ€åˆ—è¡¨åï¼Œå¯ä»¥æŒ‰åˆ—è¡¨ä¸­çš„ç´¢å¼•æ›´æ–°æ‰€é€‰çŠ¶æ€ã€‚ ä¸ºæ­¤ï¼Œè¯·ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Update</a>æ–¹æ³•ã€‚ </p><br><p> æœ€åï¼Œå¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Delete</a>æ–¹æ³•åˆ é™¤çŠ¶æ€è®°å½•ã€‚ </p><br><p>  PRçŠ¶æ€æ›´æ”¹çš„å†å²è®°å½•å¯¹äºè¿›ä¸€æ­¥åˆ†æå¾ˆæœ‰ç”¨ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ›´æ”¹çŠ¶æ€çš„æ–¹æ³•ï¼š </p><br><ul><li> æŸ¥æ‰¾ç›¸åŒä¸Šâ€‹â€‹ä¸‹æ–‡çš„æœ€æ–°çŠ¶æ€è®°å½• </li><li> å¦‚æœå¥¹å…·æœ‰ä¸æˆ‘ä»¬è¦æ·»åŠ çš„ç»“æœå€¼ï¼Œæè¿°å’Œé“¾æ¥ç›¸åŒçš„ç»“æœï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»€ä¹ˆä¹Ÿä¸åš </li><li> å¦åˆ™ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„çŠ¶æ€è®°å½•ã€‚ <br> è¿™ä½¿æ‚¨å¯ä»¥ä¿ç•™æ›´æ”¹å†å²è®°å½•ï¼Œè€Œä¸ä¼šå¤¸å¤§æ›´æ”¹ã€‚ </li></ul><br><pre> <code class="plaintext hljs">function Set-PullRequestStatus { param( [Parameter (Mandatory = $true)] [string] $pullRequestId, [Parameter (Mandatory = $true)] [string] $state, [Parameter (Mandatory = $true)] [string] $description, [Parameter (Mandatory = $true)] [string] $contextName, [Parameter (Mandatory = $false)] [string] $contextGenre, [Parameter (Mandatory = $false)] [string] $targetUrl, [Parameter (Mandatory = $true)] [object] $context ) $b = @{ state = $state; description = $description; context = @{ name = $contextName; genre = $contextGenre; }; targetUrl = $targetUrl; } $body = ConvertTo-Json $b # # Get current list of statuses # $endpoint = (Get-ProjectBaseURL) + "/_apis/git/repositories/{repositoryId}/pullRequests/{pullRequestId}/statuses?api-version=4.1-preview.1" $res = Get-AzureRequestReqults -URI $endpoint -context ($context + @{pullRequestId = $pullRequestId}) # # Try to find a status for a given context genre and name. Start looking from the last one. If found - check if it has same values. # $i = $res.count $foundSameStatus = $false while ($i -GT 0) { $r = $res.value[$i-1] if (($r.context.name -EQ $contextName) -AND ($r.context.genre -EQ $contextGenre)) { $foundSameStatus = ($r.state -EQ $state) -AND ($r.description -EQ $description) -AND ($r.targetUrl -EQ $targetUrl) break } $i-- } $res = $r # # If same status / values was not found - add new record. # if (-not $foundSameStatus) { $endpoint = (Get-ProjectBaseURL) + "/_apis/git/repositories/{repositoryId}/pullRequests/{pullRequestId}/statuses?api-version=4.1-preview.1" $res = Get-AzureRequestReqults -URI $endpoint -context ($context + @{pullRequestId = $pullRequestId}) -method POST -query $body } return @{status = $res; status_changed = $(-not $foundSameStatus)} }</code> </pre> <br><h2 id="prakticheskoe-primenenie"> å®é™…åº”ç”¨ </h2><br><p> æˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§ç›¸å½“ä¿å®ˆçš„æ–¹æ³•æ¥æ¥å—å¯¹é›†æˆåˆ†æ”¯çš„æ›´æ”¹ã€‚ æˆ‘ä»¬å°è¯•åœ¨åŠŸèƒ½åˆ†æ”¯ä¸Šæµ‹è¯•æœ€å¤§çš„æ›´æ”¹ã€‚ </p><br><p> ä»¥ä¸‹æ˜¯æˆ‘ä»¬åœ¨PRçŠ¶æ€çš„å¸®åŠ©ä¸‹è§£å†³çš„ä¸€äº›ä»»åŠ¡ï¼Œè¿™æ˜¯è‡ªå®šä¹‰ç­–ç•¥çš„ä¸€éƒ¨åˆ†ï¼š </p><br><ol><li> æ‰€æœ‰PRå¿…é¡»ä»¥ç›¸åŒçš„æ ·å¼è£…é¥°ã€‚ å› æ­¤ï¼Œåˆ›å»ºçš„ç¬¬ä¸€ä¸ªæ§ä»¶æ˜¯PRæ ‡å¤´çš„è®¾è®¡ã€‚ æˆ‘ä»¬å¯¹ç…§æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥å®ƒã€‚ </li><li>  PRåˆ†æ”¯ä¸åº”æ»åäºæ³¨å…¥åˆ†æ”¯çš„åˆ†æ”¯ï¼ˆè¿›è¡Œç§¯åˆ†ï¼‰ã€‚ </li><li> å¦‚æœåœ¨PRæ¡†æ¶å†…æ›´æ”¹äº†æ•°æ®åº“é¡¹ç›®æ–‡ä»¶ï¼Œåˆ™è¿˜å¿…é¡»å­˜åœ¨è‡ªåŠ¨æµ‹è¯•æ–‡ä»¶ã€‚ </li><li> åˆ†æ”¯çš„æœ€åä¸€æ¬¡æ›´æ”¹å·²æˆåŠŸç»„è£…ã€‚ </li><li> è¯¥ç»„ä»¶å·²æˆåŠŸæ³µé€åˆ°æµ‹è¯•å°ï¼Œå¹¶é€šè¿‡äº†è‡ªåŠ¨æµ‹è¯•ã€‚ </li></ol><br><p> åˆ—å‡ºçš„æ¡ä»¶å¯ä»¥æ‰‹åŠ¨æ£€æŸ¥ã€‚ æˆ‘ä»¬ä»¥å‰åšè¿‡ã€‚ ä½†è¿™æ˜¯ä¸€ä¸ªä¾‹è¡Œç¨‹åºï¼Œå·²ç”±è‡ªåŠ¨åŒ–è¿‡ç¨‹ä»£æ›¿ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¡¥å……å’Œæ›´æ”¹æ£€æŸ¥é›†-å®ƒå°†å§‹ç»ˆé›†æˆåˆ°æµç¨‹ä¸­ï¼Œå¹¶å§‹ç»ˆæ‰§è¡Œã€‚ </p><br><p> åœ¨PRé¡µé¢ä¸Šï¼Œè¿˜æœ‰å¤§é‡å…¶ä»–æ”¿ç­–-å¯¹æ‰€æœ‰äººé€æ˜ï¼Œå¹¶ä¸”å§‹ç»ˆå¯è§ã€‚ ä»–ä»¬ä¸å†éœ€è¦è¢«æé†’ã€‚ <br> æ­¤å¤–ï¼Œå¯¹äºæœªé€šè¿‡éªŒè¯çš„ç­–ç•¥ï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºæŒ‡å‘Wikié¡µé¢çš„é“¾æ¥ï¼Œå…¶ä¸­åŒ…å«ç­–ç•¥å’Œé¢„æœŸæ“ä½œçš„æè¿°ã€‚ </p><br><h2 id="tehnicheskaya-realizaciya-vypolneniya-politik"> æ”¿ç­–æ‰§è¡Œçš„æŠ€æœ¯å®æ–½ </h2><br><p> å½“å‰ï¼Œç­–ç•¥é€»è¾‘ä»¥powershellè„šæœ¬çš„å½¢å¼å®ç°ã€‚ ç”±äºé«˜çº§cmdletå’Œè‰¯å¥½çš„å¯¹è±¡æ•°æ®æ¨¡å‹ï¼Œå› æ­¤è„šæœ¬ä»£ç éå¸¸ç´§å‡‘ã€‚ èƒ½å¤Ÿé€æ­¥è¿è¡Œè„šæœ¬å¹¶ä¿®æ”¹å˜é‡çš„åŠŸèƒ½-æå¤§åœ°ç®€åŒ–äº†å¼€å‘å’Œè°ƒè¯•è¿‡ç¨‹ã€‚ </p><br><p> é¡ºä¾¿è¯´ä¸€å¥ï¼Œåœ¨Powershellæ ¸å¿ƒå‘å¸ƒä¹‹åï¼Œè„šæœ¬å¯ä»¥åœ¨å…¶ä»–å¹³å°ä¸Šè¿è¡Œï¼ˆåœ¨MacOSä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼‰ã€‚ </p><br><p> åœ¨VSTSçš„ç‰¹æ®Šç‰ˆæœ¬ä¸­ï¼ŒæŒ‰å¤§çº¦æ¯ä¸¤å°æ—¶ä¸€æ¬¡çš„æ—¶é—´è¡¨è¿è¡Œè„šæœ¬ã€‚ ä¹Ÿè®¸æˆ‘ä»¬ä¼šå¼€å§‹æ›´é¢‘ç¹åœ°æµè§ˆShedulerã€‚ </p><br><p> å½“ç„¶ï¼Œä¸ä»¥Azureå‡½æ•°çš„å½¢å¼å®ç°ç›¸åŒåŠŸèƒ½å¹¶é€šè¿‡WebæŒ‚é’©å°†å…¶è¿æ¥åˆ°VSTSç›¸æ¯”ï¼Œæ­¤æ–¹æ³•çš„å“åº”é€Ÿåº¦æ˜æ˜¾æ…¢å¾—å¤šã€‚ ä½†æ˜¯å¯¹æˆ‘ä»¬è€Œè¨€ï¼Œå®æ–½æ£€æŸ¥å¹¶æŸ¥çœ‹å…¶åœ¨æµç¨‹ä¸­çš„å·¥ä½œæ–¹å¼ï¼ˆMVPï¼‰æ›´ä¸ºé‡è¦ã€‚ æ£€æŸ¥çš„æ•ˆç‡å¹¶ä¸é‡è¦ã€‚ è¿™å°†æ˜¯ä¸‹ä¸€æ­¥ã€‚ </p><br><p> å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨GitHubä¸Š</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å­˜å‚¨åº“ä¸­</a>æ‰¾åˆ°ç”¨äºVSTS REST APIçš„åº“çš„å®ç°ï¼ˆç”¨äºæ£€æŸ¥ï¼‰ï¼Œä»¥åŠä¸€ä¸ªå®ç°å…¶ä¸­æŸäº›ç­–ç•¥çš„å°ç¤ºä¾‹ã€‚ æˆ‘å¸Œæœ›æœ‰äººä¼šè§‰å¾—æœ‰ç”¨ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN428660/">https://habr.com/ru/post/zh-CN428660/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN428650/index.html">ä¼šå‘˜åˆ¶åº¦æˆ–å¦‚ä½•å…è´¹ç”Ÿæ´»</a></li>
<li><a href="../zh-CN428652/index.html">éº»çœç†å·¥å­¦é™¢çš„è¯¾ç¨‹â€œè®¡ç®—æœºç³»ç»Ÿå®‰å…¨â€ã€‚ ç¬¬15è¯¾ï¼šåŒ»ç–—è½¯ä»¶ï¼Œç¬¬1éƒ¨åˆ†</a></li>
<li><a href="../zh-CN428654/index.html">éº»çœç†å·¥å­¦é™¢çš„è¯¾ç¨‹â€œè®¡ç®—æœºç³»ç»Ÿå®‰å…¨â€ã€‚ ç¬¬15è¯¾ï¼šåŒ»ç–—è½¯ä»¶ï¼Œç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN428656/index.html">éº»çœç†å·¥å­¦é™¢çš„è¯¾ç¨‹â€œè®¡ç®—æœºç³»ç»Ÿå®‰å…¨â€ã€‚ ç¬¬15è¯¾ï¼šåŒ»ç–—è½¯ä»¶ï¼Œç¬¬3éƒ¨åˆ†</a></li>
<li><a href="../zh-CN428658/index.html">Mail.Rué›†å›¢åŠå…¬å®¤çš„å…è´¹æ•™è‚²ç ”è®¨ä¼š</a></li>
<li><a href="../zh-CN428662/index.html">é›¶å”®ç¼–ç¨‹ä»»åŠ¡</a></li>
<li><a href="../zh-CN428664/index.html">Linuxå†…æ ¸å¯åŠ¨ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN428666/index.html">æˆ‘å¦‚ä½•ä½¿ç”¨CSSè’™ç‰ˆåˆ›å»ºæ”¹å˜å¿ƒæƒ…çš„åŠ¨ç”»</a></li>
<li><a href="../zh-CN428668/index.html">æš´é›ªå®£å¸ƒå°†äº2019å¹´å‘å¸ƒã€Šé­”å…½äº‰éœ¸IIIã€‹çš„é‡æ–°å‘è¡Œã€‚ å…¬å¼€é¢„è®¢</a></li>
<li><a href="../zh-CN428672/index.html">QuietOnä¸»åŠ¨é™å™ªæ¦‚è¿°</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>