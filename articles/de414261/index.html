<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüíª üåì üíº Wo speichern Sie die Daten? üßëüèº üè∑Ô∏è üîò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Wir setzen unsere experimentelle Artikelserie fort und beobachten, wie Sie in Echtzeit den Prozess der Erstellung eines Spiels auf UWP bee...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wo speichern Sie die Daten?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/414261/">  Hallo Habr!  Wir setzen unsere experimentelle Artikelserie fort und beobachten, wie Sie in Echtzeit den Prozess der Erstellung eines Spiels auf UWP beeinflussen k√∂nnen.  Heute werden wir √ºber die Frage "Wo werden Daten gespeichert?" Sprechen, die in den Reihen der Entwickler st√§ndig auftaucht.  Mach mit und teile deine Gedanken in den Kommentaren! <br><br><img src="https://habrastorage.org/webt/bi/xw/n9/bixwn96nclriud-rklafycm_rma.jpeg"><a name="habracut"></a><br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>Teil 1: Wo soll ich anfangen?</b></a> </li><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2: Erweiterter Begr√º√üungsbildschirm</a></b> </li><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3: Der Stil des Sohnes von Mamas Sohn</a></b> </li><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 4: Benutzerdaten abrufen (freiwillig)</a></b> </li><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 5: Wo speichern Sie die Daten?</a></b> </li></ul><br>  <i>Ich gebe dem Autor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alexei Plotnikov</a> das Wort.</i> <br><br>  In einem fr√ºheren Artikel habe ich das Problem der bequemen Synchronisation von Benutzerdaten zwischen Ger√§ten angesprochen und zun√§chst das Problem mit der Identifizierung gel√∂st. Dies ist jedoch der kleinste Teil dessen, was noch zu tun ist, um die Ziele zu erreichen. <br><br>  Ein viel komplexeres Problem ist die Art und vor allem der Speicherort von Benutzerdaten. Wenn Microsoft eine solche Frage stellt, f√§llt ihm als Erstes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microsoft Azure ein</a> .  Die Azure-Cloud-Plattform umfasst eine so breite Palette von Diensten, dass es anscheinend keine Aufgaben gibt, die mit ihrer Hilfe nicht gel√∂st werden k√∂nnen.  Ob es wahr ist oder nicht, kann ich nicht beurteilen, aber meine Aufgabe liegt definitiv in der Macht dieser Plattform.  Das Wichtigste zuerst. <br><br>  Wir fangen klein an - was ist eine Wolke?  Zum ersten Mal h√∂rte ich 2012 von der Cloud und dann wurde der Ausdruck "Cloud Computing" am h√§ufigsten verwendet.  Die urspr√ºngliche Idee solcher Berechnungen bestand darin, die Rechenarbeit auf verschiedene Ger√§te zu verteilen, die voneinander entfernt sind.  Besonders eindrucksvoll wurde √ºber die Zukunft gesprochen, in der selbst die schwierigsten Aufgaben in wenigen Augenblicken erledigt werden, da die Berechnungen auf alle Computer der Welt verteilt werden. <br><br>  In der Praxis kam es auf Rechenzentren an, die auf der ganzen Welt verstreut waren und den Verbrauchern ihre Rechenleistung zur Verf√ºgung stellten. Das urspr√ºngliche Konzept war nur die Verteilung zwischen den Maschinen innerhalb des Rechenzentrums und zwischen den Rechenzentren selbst (meistens innerhalb derselben Region). <br><br>  Basierend auf dem Vorstehenden k√∂nnen wir davon ausgehen, dass Sie das Wort "Cloud" als vertrauteres "Hosting" wahrnehmen k√∂nnen, mit dem einzigen Unterschied, dass die Leistung der Cloud ohne zus√§tzlichen Aufwand von Ihrer Seite erweitert werden kann. <br><br>  Die zweite Frage, die Sie m√∂glicherweise haben, ist, warum Azure?  "Da dies ein Artikel im Microsoft-Blog ist, wird der Autor nur √ºber seine Produkte sprechen" - Sie sagen, und Sie werden sich irren.  Die Motive f√ºr die Verwendung von Azure sind weitaus h√§ufiger anzutreffen. Da es sich um ein Microsoft-Produkt handelt, ist die Integration mit den anderen Produkten, mit deren Hilfe meine Anwendung entwickelt wird, h√∂chstm√∂glich. <br><br>  Ich stelle jedoch fest, dass das Unternehmen alle Anstrengungen unternimmt, um die Verwendung von Azure f√ºr Entwickler f√ºr Android oder iOS attraktiv zu machen.  Nun, das zuletzt erw√§hnte, aber nicht das geringste Problem sind die Kosten f√ºr die Nutzung der Cloud.  Da ich Inhaber eines BizSpark-Abonnements bin, wurde mir ein monatliches Darlehen f√ºr eine Tasche gew√§hrt, deren Zinsen mehr sind als die Deckung meiner Cloud-Anforderungen. Die Bedingungen, die kostenlos zur Verf√ºgung gestellt werden, k√∂nnen jedoch auch die meisten Anforderungen eines privaten Entwicklers abdecken. <br><br>  Fahren wir nun mit der direkten Auswahl eines Synchronisations- und Datenspeicherungsmechanismus fort.  Ich werde nicht schlau sein, als Autodidakt muss ich mich oft mit Technologien auseinandersetzen, von denen ich keine Ahnung habe, bevor ich UWP kennen gelernt habe. Ich habe √§hnliche Probleme mithilfe von SQL-Datenbanken gel√∂st. <br><br>  UWP verf√ºgt jedoch nicht √ºber die Mittel, um mit klassischen SQL-DBMS zu arbeiten, aber SQLite wird als Alternative angeboten. Nachdem ich mit der Studie begonnen hatte, stellte ich fest, dass eine solche Datenbank integriert ist, die f√ºr die bequeme Speicherung und Verwendung lokaler Daten geeignet ist, f√ºr die Datenplatzierung jedoch v√∂llig ungeeignet ist im Remote-Speicher.  Bereits beim Schreiben dieses Artikels, als die erforderliche Technologie ausgew√§hlt wurde, stie√ü ich auf eine der Azure-L√∂sungen im Bereich der Entwicklung mobiler Anwendungen, mit denen Sie Daten aus der SQLite-Tabelle zwischen Ger√§ten synchronisieren k√∂nnen. Nach sorgf√§ltiger √úberlegung blieb ich jedoch bei der ersten Wahl. <br><br>  √úbrigens war es nicht schwierig, die erste Wahl zu treffen, da Microsoft h√∂flich eine Liste von Technologien erstellt hat, mit denen sich der UWP-Entwickler wahrscheinlich auseinandersetzen m√ºsste.  In den neuesten Versionen von Visual Studio wird beim Erstellen eines neuen UWP-Projekts eine Seite mit Empfehlungen f√ºr den Einstieg angezeigt, auf der einer der Links "Hinzuf√ºgen eines empfohlenen Dienstes" lautet.  Wenn Sie auf diesen Link klicken, wird die Registerkarte "Dienst verbinden" ge√∂ffnet. Bereits darin wird die Option "Cloud-Speicher mit Azure-Speicherdienst" angezeigt. <br><br><img src="https://habrastorage.org/webt/fr/wx/k9/frwxk9themsqsxrjnxuhfnuzljw.png"><br><br>  Die Intuition legt nahe, dass dies genau das ist, was Sie brauchen. Ich habe mich daher entschlossen, mich auf eine eingehende Untersuchung dieses Themas zu konzentrieren, um es im Projekt weiter zu verwenden. <br><br>  Cloud-Speicher besteht aus mehreren Produkten f√ºr verschiedene Aufgaben, √ºber die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> mehr gelesen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden</a> kann. Ich interessierte mich jedoch haupts√§chlich f√ºr den Tabellenspeicher, der sich als NoSQL-Datenbank herausstellte. <br><br>  NoSQL ist eine schemafreie Datenbank, in der die Tabelle nicht im Voraus strukturiert werden muss.  Tats√§chlich ist die Tabelle in diesem Fall nur ein Teil des Pfads zum sogenannten Abschnitt. Dies bedeutet, dass eine einzelne Tabelle Zeilen mit beispielsweise drei und f√ºnf Spalten gleichzeitig enthalten kann.  Um die Funktionen des Tabellenspeichers vollst√§ndig zu verstehen, empfehle ich Ihnen, das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handbuch</a> sorgf√§ltig zu lesen, aber ich werde dieses Thema aus meiner allt√§glichen Sicht betrachten, da sich das Material letztendlich an Anf√§nger richtet, die ich in diesem Thema bin. <br><br>  <b>Lassen Sie uns zun√§chst herausfinden, wie eine NoSQL-Tabelle erstellt wird:</b> <br><br>  1. Registrieren Sie ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kostenloses</a> Azure-Konto.  Wenn Sie ein MSDN- oder BizSpark-Abonnement haben und es bereits in Azure aktiviert ist, k√∂nnen Sie diesen Schritt √ºberspringen.  Mit einem kostenlosen Konto erhalten Sie f√ºr den ersten Monat ein Darlehen von 200 USD und anschlie√üend freien Zugriff auf eine bestimmte Menge an Ressourcen der meisten Azure-Dienste.  In eine verst√§ndliche Sprache √ºbersetzt, wird alles so ausgef√ºhrt, dass Sie erst bezahlen m√ºssen, wenn Ihr Produkt genug verdient, um die Kosten zu decken, ganz zu schweigen von der Verwendung von Azure f√ºr die Selbstbildung. <br><br>  Aber selbst wenn Sie den freien Schwellenwert √ºberschreiten, sind die Preise f√ºr einen Tabellenspeicher viel loyaler als f√ºr eine √§hnliche Menge von SQL-Datenbanken.  Zum Zeitpunkt des Schreibens dieses Artikels habe ich beispielsweise zwei Tabellen mit bisher nur einem Eintrag erstellt.  W√§hrend 18 Tagen des Berichtszeitraums habe ich mich durchschnittlich 20 bis 30 Mal am Tag an sie gewandt, und f√ºr diesen Zeitraum wurden 2 Kopeken vom Guthabenkonto abgeschrieben.  Als ich diese Kosten f√ºr das geplante Volumen hochskalierte, stellte ich fest, dass sie mehr als durch die potenziellen Einnahmen aus dem Antrag gedeckt sind. <br><br>  2. Nachdem Sie ein Konto in Azure haben, erstellen wir ein Speicherkonto. <br><br><img src="https://habrastorage.org/webt/pk/zf/ci/pkzfciggnj3px9azcypmku_rgd8.png"><br><br>  Sie k√∂nnen dies alles auf derselben Visual Studio Services-Verbindungsseite tun, die ich oben beschrieben habe.  Wenn Sie diese Seite pl√∂tzlich geschlossen haben, k√∂nnen Sie sie √∂ffnen, indem Sie im Projektmappen-Explorer auf ‚ÄûVerbundene Dienste‚Äú doppelklicken.  Nach Auswahl des gew√ºnschten Dienstes wird ein Fenster mit den verf√ºgbaren Speicherkonten ge√∂ffnet. Um ein neues hinzuzuf√ºgen, klicken Sie auf die entsprechende Schaltfl√§che. <br><br>  <b>Im neuen Fenster m√ºssen Sie die folgenden Schritte ausf√ºhren:</b> <br><br><ul><li>  Um zu beginnen, m√ºssen Sie sich mit Ihrem Microsoft-Konto anmelden.  Sie m√ºssen das Konto verwenden, an das Ihre Abonnements gebunden sind, oder ein kostenloses Azure-Konto. </li><li>  Nachdem Sie sich in Ihrem Konto angemeldet haben, wird Ihr Abonnement (a) im Feld "Abonnement" angezeigt.  Bei der Auswahl ist alles einfach, daher sind Kommentare √ºberfl√ºssig. </li><li>  Geben Sie im Feld "Name" den gew√ºnschten Namen des Speicherdienstes an.  Da dies auch der Dom√§nenname des Dienstes ist, muss er in allen in Azure verf√ºgbaren Konten eindeutig sein und nicht nur in Ihren eigenen. </li><li>  Im Feld "Preiskategorie" m√ºssen Sie die Unterschiede zwischen einer Cloud-Plattform und herk√∂mmlichem Hosting verstehen, da Sie durch Klicken auf den Link unter dem Feld eine Preisliste sehen, jedoch keine verst√§ndliche Erkl√§rung, die Ihnen jede Option bietet.  In der Wildnis der Sitelinks finden Sie nat√ºrlich umfassende Informationen zu all diesen Abk√ºrzungen wie GRS und LRS, aber dies ist f√ºr den durchschnittlichen Entwickler √ºberfl√ºssig.  Es gen√ºgt zu verstehen, dass je teurer der Tarif ist, desto mehr Rechenzentren an der Verarbeitung und Speicherung Ihrer Daten beteiligt sind und desto h√∂her ist die Wahrscheinlichkeit ihrer Sicherheit.  F√ºr ein kleines Projekt ist die niedrigste LRS-Rate in Ordnung. </li><li>  Eine ‚ÄûRessourcengruppe‚Äú ist eine Kombination mehrerer Azure-Dienste f√ºr eine einzelne Verwaltung.  In unserem Fall erstellen Sie einen neuen, weisen Sie einen beliebigen Anzeigenamen zu und fahren Sie fort. </li><li>  Als letztes m√ºssen Sie den ‚ÄûStandort‚Äú f√ºr Ihren Service ausw√§hlen.  Mit Standort ist der tats√§chliche Standort der Rechenzentren gemeint, die f√ºr die Arbeit mit unseren Daten verantwortlich sind.  Bitte beachten Sie, dass ich im Plural spreche, da es in einer Region mehrere Rechenzentren geben kann und die Arbeit auf diese verteilt werden kann (falls Sie eine beratende Preiskategorie w√§hlen).  W√§hlen Sie diejenige aus, die Ihrer prim√§ren Benutzerbasis am n√§chsten liegt.  Wenn Sie jedoch vorhaben, auf der ganzen Welt zu wachsen, und √ºberall auf der Welt maximale Reaktion ben√∂tigen, st√∂rt Sie niemand f√ºr jede regionale Version der Anwendung, ein separates Speicherkonto zu erstellen und die Datensynchronisation zwischen ihnen zu implementieren.  Ein hohes Ma√ü an Erweiterbarkeit ist der Hauptvorteil der Cloud. </li></ul><br>  3. Nachdem Sie das Speicherkonto erstellt haben, wird es der Liste hinzugef√ºgt. Sie k√∂nnen fortfahren, indem Sie auf die Schaltfl√§che "Hinzuf√ºgen" klicken.  Das Ergebnis dieser Aktion ist das Hinzuf√ºgen eines NuGet-Pakets f√ºr die Arbeit mit Azure zum Projekt und das Speichern der Verbindungszeichenfolge in der Datei app.config des Projekts. <br><br>  Leider ist es nicht m√∂glich, mit Werten aus dieser Datei in UWP (oder m√∂glicherweise mit schrecklichen Kr√ºcken) zu arbeiten. Kopieren Sie daher einfach die Verbindungszeichenfolge zum Speicherdienst von dort an eine geeignete Stelle im Projekt und fahren Sie mit dem n√§chsten Schritt fort. <br><br>  4. Nun bleibt es, eine Tabelle zu erstellen und damit zu arbeiten.  Und hier beginnt die individuelle Arbeit, abh√§ngig von den Aufgaben. <br><br>  Tatsache ist, dass Sie vor dem Erstellen von Tabellen sorgf√§ltig √ºber die Architektur zum Speichern Ihrer Daten nachdenken sollten.  Das Arbeiten mit dem Tabellenspeicher ist so bequem, dass das Erstellen einer neuen Tabelle direkt aus dem Code nur wenige Zeilen umfasst. Mit dieser Bequemlichkeit besteht nat√ºrlich der Wunsch, jedem Benutzer eine separate Tabelle zuzuweisen, da die ultimative Aufgabe darin besteht, Daten zwischen seinen Ger√§ten zu synchronisieren.  Wenn Sie jedoch mit einer unbekannten Technologie arbeiten, sollten Sie keine voreiligen Entscheidungen treffen und die Vor- und Nachteile sorgf√§ltig abw√§gen.  Ein spezieller <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel im Handbuch</a> kann <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ihnen</a> dabei helfen, die richtige Entscheidung zu treffen. Machen Sie sich jedoch bereit, ihn mehrmals neu zu lesen, da es sehr schwierig ist, alle Daten sofort zu lernen, insbesondere unter Ber√ºcksichtigung der Masse neuer Begriffe. <br><br>  Ich werde die Geschichte unter Ber√ºcksichtigung der Tatsache fortsetzen, dass Sie das Handbuch noch gelesen und einige der Funktionen der Arbeit mit der Tischspeicherung verstanden haben.  Zum Beispiel wurde mir klar, dass eine Tabelle konzeptionell keine isolierte Einheit ist, sondern vielmehr ein Ort f√ºr eine logische Gruppierung von Datens√§tzen.  Dies ist leicht zu verstehen, wenn Sie die Tabelle als Ordner pr√§sentieren, in dem Sie Datendateien speichern.  Ein Ordner selbst nimmt keinen Speicherplatz ein und ist kein integraler Bestandteil von Dateien, sondern definiert lediglich einen Teil des Pfads zu Dateien, die logisch, aber nicht erforderlich sind, um in diesem Ordner gespeichert zu werden. <br><br>  Die Schlussfolgerung daraus ist recht einfach: Niemand st√∂rt sich daran, die Einstellungen aller Benutzer in einer Tabelle zu speichern. Hauptsache, das Wertepaar in den Spalten PartitionKey und RowKey ist in der Tabelle eindeutig.  Dies wird in meinem Projekt erneut implementiert, da die Benutzer-ID als PartitionKey fungiert und beispielsweise die Zeichenfolge "UserName" als RowKey, mit der wir den eindeutigen Datensatz bestimmen k√∂nnen, in dem der Benutzername gespeichert ist.  Aber wie ich oben sagte, m√ºssen wir alle Vor- und Nachteile abw√§gen, also lasst uns abw√§gen: <br><br><ul><li>  "F√ºr" eine separate Tabelle f√ºr die Daten jedes Benutzers ist die Bequemlichkeit bei der Wahrnehmung der Datenstruktur.  Wenn wir die Tabelle als Ordner mit Dateien betrachten, ist es logisch, dass sich alle Dateien eines Benutzers im selben Ordner befinden, und es ist √ºblicher, mit einer solchen Architektur zu arbeiten. </li><li>  Alle anderen Faktoren sprechen gegen eine separate Tabelle.  Benutzerdaten in einer separaten Tabelle - dies ist praktisch genau, bis die Anzahl solcher Tabellen in Tausenden liegt.  Da sich das Speicherkonto auf einer h√∂heren Ebene √ºber der Tabelle befindet, wird f√ºr sie keine andere Gruppierung bereitgestellt. <br><br>  Angesichts der potenziellen Benutzerbasis besteht die Gefahr, dass wir in Tausenden von einzelnen Tabellen ertrinken und diejenigen verlieren, die einen Priorit√§tswert haben.  Gleichzeitig vereinfacht das Speichern der Einstellungen aller Benutzer in einer Tabelle die Verwaltung und das Arbeiten mit Daten, um statistische Informationen zu sammeln oder soziale Funktionen zu implementieren. <br><br>  Dar√ºber hinaus k√∂nnen Sie aufgrund der geringen Kosten f√ºr die Verwendung des Tabellenspeichers alle Daten gem√§√ü der erforderlichen Logik in separaten Tabellen duplizieren.  Insbesondere plane ich, eine zus√§tzliche Tabelle mit dem Benutzernamen, einem Link zum Avatar und einem Hinweis auf die Zugeh√∂rigkeit zum Land zu erstellen, die f√ºr Bewertungstabellen oder andere soziale Funktionen verwendet wird, die der Anwendung hinzugef√ºgt werden k√∂nnen. </li></ul><br>  Wenn Sie also die Datenspeicherstruktur herausgefunden haben, f√ºgen wir endlich eine neue Tabelle hinzu.  Da wir uns geweigert haben, es auf Codeebene zu erstellen, bleiben zwei Optionen: √ºber das Azure-Webportal oder √ºber das spezielle Microsoft Azure Storage Explorer-Tool, das von storageexplorer.com heruntergeladen werden kann.  In beiden F√§llen muss das gew√ºnschte Speicherkonto ausgew√§hlt und im Abschnitt "Tables / Tables Service" die Option "+ Table / Create Table" ausgew√§hlt werden.  Geben Sie im angezeigten Dialogfeld den gew√ºnschten Namen ein und √ºbernehmen Sie die √Ñnderungen. <br><br><img src="https://habrastorage.org/webt/ca/0b/j9/ca0bj92etkk7v2qpp-r63wtymeq.png"><br><br>  Danach k√∂nnen Sie problemlos mit der neuen Tabelle aus dem Code arbeiten. <br><br>  Die Hauptoperationen, die ich mit der Tabelle ausf√ºhren werde, sind das Einf√ºgen und Extrahieren von Zeilen, die in der Tabellenspeicherterminologie als "Entit√§ten" bezeichnet werden.  Ein solcher Begriff ist leichter zu verstehen, wenn Sie feststellen, dass Sie zum Einf√ºgen und Abrufen einer Entit√§t eine Klasse zuordnen m√ºssen, die von TableEntity von Microsoft.WindowsAzure.Storage.Table geerbt wurde.  Die Nachfolgerklasse enth√§lt bereits einige erforderliche Felder, z. B. PartitionKey (Abschnittsname) und RowKey (Zeilenname). Die Felder, die wir unabh√§ngig voneinander implementieren, sind Spalten in der Zeile (Entit√§tseigenschaften). <br><br>  Stellen Sie sich ein Beispiel f√ºr eine Tabelle vor, in der eine Liste aller Spieler mit Namen, Avatar und L√§nderzugeh√∂rigkeit gespeichert wird. <br><br><pre><code class="cs hljs">    : Imports Microsoft.WindowsAzure.Storage Imports Microsoft.WindowsAzure.Storage.Table</code> </pre> <br>  Ich habe mich entschlossen, die Methoden f√ºr die Arbeit mit der Tabelle in eine separate Klasse einzuteilen, um das Arbeiten an verschiedenen Stellen der Anwendung zu vereinfachen.  Erstellen Sie es und f√ºgen Sie sofort die zuvor bekannten Konstanten hinzu: <br><br><pre> <code class="cs hljs">Public Class AzureWorker Private Const AzureStorageConnectionString As String = <span class="hljs-string"><span class="hljs-string">"  ,     app.config"</span></span> Private Const GamerListTableNameString As String = <span class="hljs-string"><span class="hljs-string">"GamerList"</span></span> <span class="hljs-string"><span class="hljs-string">'    ‚Ä¶ End Class</span></span></code> </pre> <br>  Jetzt m√ºssen wir eine Klasse erstellen, die wir der Entit√§t (Zeile) in der Tabelle zuordnen: <br><br><pre> <code class="cs hljs"> Private Class GamerListClodTableDataClass Inherits TableEntity Public Const RowKeyValue As String = <span class="hljs-string"><span class="hljs-string">"UserID"</span></span> <span class="hljs-function"><span class="hljs-function">Public Sub </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">New</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) RowKey</span></span> = RowKeyValue End Sub Public Property UserName As String = <span class="hljs-string"><span class="hljs-string">""</span></span> Public Property UserountryID As String = <span class="hljs-string"><span class="hljs-string">""</span></span> Public Property UserAvatar As String = <span class="hljs-string"><span class="hljs-string">""</span></span> End Class</code> </pre> <br>  Die zuzuordnende Klasse muss von TableEntity geerbt sein und Felder f√ºr die Daten enthalten, die in die Tabelle eingef√ºgt werden sollen.  Beachten Sie, dass das Festlegen von Werten f√ºr einen RowKey oder PartitionKey auf Klassenebene nicht erforderlich ist. In meinem Fall wird der RowKey jedoch festgelegt, da er unabh√§ngig von anderen Eingaben unver√§nderlich ist. <br><br>  Da Sie zu diesem Zeitpunkt wahrscheinlich die Essenz der Arbeit mit dem Tabellenspeicher nicht vollst√§ndig verstanden haben, werde ich die in dieser Phase festgelegte Logik erl√§utern.  Der schnellste Weg, mit einer Tabelle zu arbeiten, besteht darin, die Entit√§t nach dem Namen der Zeichenfolge und dem Abschnittsnamen abzufragen. Daher m√ºssen Sie diese Daten im Voraus kennen.  Dar√ºber hinaus muss die Kombination von PartitionKey und RowKey innerhalb der Tabelle eindeutig sein. Dies bedeutet, dass es logisch ist, eine eindeutige Benutzer-ID in einen dieser Schl√ºssel zu schreiben und dem zweiten Schl√ºssel einen Namen zuzuweisen, den wir immer kennen.  Genau dies wird in der GamerListClodTableDataClass-Klasse ausgef√ºhrt. <br><br>  Die letzte vorbereitende Phase vor direkten Abfragen an die Tabelle ist die Erstellung des Objekts in einer separaten Funktion: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-function">Private Shared Function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetCloudTable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tableName As String</span></span></span><span class="hljs-function">) As CloudTable Dim storageAccount As CloudStorageAccount</span></span> = CloudStorageAccount.Parse(AzureStorageConnectionString) Dim tableClient As CloudTableClient = storageAccount.CreateCloudTableClient() Dim table As CloudTable = tableClient.GetTableReference(tableName) Return table End Function</code> </pre> <br>  Dies geschieht, um den Code nicht jedes Mal zu duplizieren, wenn wir Daten in die Tabelle lesen oder schreiben m√∂chten.  Bitte beachten Sie, dass dieser Code keine direkten Anforderungen an die Cloud stellt und ohne Probleme ausgef√ºhrt wird, wenn keine Verbindung besteht.  Er erstellt lediglich Schritt f√ºr Schritt ein Tabellenobjekt aus vorhandenen Daten, z. B. der Speicherverbindungszeichenfolge und dem Tabellennamen. <br><br>  Lassen Sie uns abschlie√üend direkt mit der Tabelle arbeiten und zun√§chst die aktuellen Benutzerdaten speichern: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-function">Public Shared Async Function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SavedOrUpdateUserData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">u As UserManager</span></span></span><span class="hljs-function">) As </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Task</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Of Boolean</span></span></span><span class="hljs-function">) Dim table As CloudTable</span></span> = GetCloudTable(GamerListTableNameString) Try If Await table.ExistsAsync Then Dim UserDataClodTableData As New GamerListClodTableDataClass With {.PartitionKey = u.UserId, .UserName = u.UserName.Trim, .UserountryID = u.UserountryID, .UserAvatar = <span class="hljs-string"><span class="hljs-string">"https://apis.live.net/v5.0/"</span></span> &amp; u.UserId &amp; <span class="hljs-string"><span class="hljs-string">"/picture"</span></span>} Dim insertOperation As TableOperation = TableOperation.InsertOrReplace(UserDataClodTableData) Await table.ExecuteAsync(insertOperation) Return True End If Catch ex As Exception End Try Return False End Function</code> </pre> <br>  Die Anforderung wird als asynchrone Funktion gestellt, damit der aufrufende Code das Ergebnis der Ausf√ºhrung erhalten kann (True bei Erfolg und False bei Fehler).  Au√üerdem wird ein Parameter vom Typ UserManager an die Funktion √ºbergeben, die auf die Klasse mit Benutzerdaten verweist.  Wir haben eine solche Klasse in einem fr√ºheren Artikel erstellt. Der einzige Unterschied besteht darin, dass in dieser Version ein Feld UserountryID vorhanden ist, in dem Daten zum Land des Benutzers gespeichert werden. <br><br>  Bei Abfragen an die Tabelle m√ºssen Sie zuerst das Objekt mithilfe der Verbindungszeichenfolge zum Repository und des Tabellennamens erstellen (wir haben diesen Prozess zuvor in eine separate Funktion gestellt).  Als N√§chstes sollten Sie die Existenz der Tabelle √ºberpr√ºfen. Obwohl wir sicher sind, dass wir eine Tabelle mit diesem Namen haben, kann ein Fehler auftreten, z. B. aufgrund mangelnder Netzwerkverbindung oder aufgrund eines Fehlers in der Cloud (weshalb dieser Code im Try / Block abgelegt wird Fang).  Bevor Sie in die Tabelle schreiben, m√ºssen Sie eine Instanz der UserDataClodTableData-Klasse erstellen, den Feldern den erforderlichen Wert zuweisen und erst dann die InsertOrReplace-Operation erstellen.  Wie Sie dem Namen der Operation entnehmen k√∂nnen, wird eine neue Zeile in die Tabelle eingef√ºgt, wenn Zeilen mit demselben PartitionKey- und RowKey-Paar nicht in der Tabelle vorhanden sind, und die Daten ersetzt, wenn eine solche Zeile bereits vorhanden ist.  Nun, das endg√ºltige ExecuteAsync-Team wird tats√§chlich die geplante Aktion auf der Tischspeicherseite ausf√ºhren. <br><br>  Das Lesen von Daten aus einer Tabelle ist so einfach wie das Schreiben.  Fordern wir zum Beispiel einen Benutzernamen an: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-function">Public Shared Async Function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetUserName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id As String</span></span></span><span class="hljs-function">) As </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Task</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Of String</span></span></span><span class="hljs-function">) Dim table As CloudTable</span></span> = GetCloudTable(GamerListTableNameString) Try If Await table.ExistsAsync Then Dim retrieveOperation As TableOperation = TableOperation.Retrieve(Of GamerListClodTableDataClass)(id, GamerListClodTableDataClass.RowKeyValue) Dim retrievedResult As TableResult = Await table.ExecuteAsync(retrieveOperation) If retrievedResult.<span class="hljs-function"><span class="hljs-function">Result IsNot Nothing Then Return </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CType</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">retrievedResult.Result, GamerListClodTableDataClass</span></span></span><span class="hljs-function">).UserName End If End If Catch ex As Exception End Try Return "" End Function</span></span></code> </pre> <br>  Dieser Code unterscheidet sich fast nicht vom vorherigen und beginnt auch damit, ein Tabellenobjekt zu erstellen und seine Existenz zu √ºberpr√ºfen.  Au√üerdem erstellen wir wie bei der Aufzeichnung eine Operation, diesmal jedoch eine Extraktionsoperation, f√ºr die die Angabe von PartitionKey und RowKey erforderlich ist.  Danach extrahieren wir das Ergebnis mit ExecuteAsync und arbeiten mit dem resultierenden Objekt vom Typ TableResult. Dabei wird die Result-Eigenschaft in den Typ der zugeordneten Klasse umgewandelt und der Benutzername extrahiert. <br><br>  Das Arbeiten mit einer Tabelle ist nicht auf Lese- und Schreibvorg√§nge beschr√§nkt und unterst√ºtzt viele verschiedene Skripte.  Sie k√∂nnen beispielsweise eine Abfrage erstellen, mit der alle Entit√§ten mit dem angegebenen PartitionKey oder alle Entit√§ten mit dem angegebenen Feld extrahiert werden. Es ist jedoch wichtig, die Geschwindigkeit solcher Vorg√§nge sowie die Datenmenge zu ber√ºcksichtigen, die √ºber das Netzwerk √ºbertragen wird. <br><br>  Das obige Beispiel ist unter dem Gesichtspunkt der Abfragegeschwindigkeit am optimalsten, da das Adressierungssystem h√∂chstwahrscheinlich eine Entit√§t entlang des Pfads "Speichername \ Tabellenname \ PartitionKey + RowKey" findet. Um jedoch nur einen Namen zu erhalten, laden wir die gesamte Entit√§t als Ganzes, was nicht vorteilhaft ist auf die Menge der √ºbertragenen Daten. <br><br>  Das Folgende ist ein modifizierter Funktionscode, der die maximale Abfrageoptimierung ber√ºcksichtigt: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-function">Public Shared Async Function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetUserName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id As String</span></span></span><span class="hljs-function">) As </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Task</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Of String</span></span></span><span class="hljs-function">) Dim table As CloudTable</span></span> = GetCloudTable(GamerListTableNameString) Try If Await table.<span class="hljs-function"><span class="hljs-function">ExistsAsync Then Dim projectionQuery As </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TableQuery</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Of DynamicTableEntity</span></span></span><span class="hljs-function">)</span></span> = <span class="hljs-function"><span class="hljs-function">New </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TableQuery</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Of DynamicTableEntity</span></span></span><span class="hljs-function">)(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>).</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Where</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TableQuery.CombineFilters(TableQuery.GenerateFilterCondition(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"PartitionKey"</span></span></span></span><span class="hljs-function"><span class="hljs-params">, QueryComparisons.Equal, id</span></span></span><span class="hljs-function">), "and", TableQuery.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GenerateFilterCondition</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"RowKey"</span></span></span></span><span class="hljs-function"><span class="hljs-params">, QueryComparisons.Equal, GamerListClodTableDataClass.RowKeyValue</span></span></span><span class="hljs-function">))).</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Select</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"UserName"</span></span></span></span><span class="hljs-function"><span class="hljs-params">}</span></span></span><span class="hljs-function">) Dim resolver As </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EntityResolver</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Of String</span></span></span><span class="hljs-function">)</span></span> = Function(pk, rk, ts, props, etag) <span class="hljs-function"><span class="hljs-function">Return </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">props</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"UserName"</span></span></span></span></span><span class="hljs-function">).StringValue End Function Dim result As </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TableQuerySegment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Of String</span></span></span><span class="hljs-function">)</span></span> = Await table.ExecuteQuerySegmentedAsync(projectionQuery, resolver, Nothing) If result.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-function">Then Return </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">result</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">) End If End If Catch ex As Exception End Try Return "" End Function</span></span></code> </pre> <br>  Anstatt ein Operationsobjekt zu erstellen, erstellen wir in diesem Code ein Anforderungsobjekt, das verschiedene Methoden enth√§lt, um zu bestimmen, was als Ergebnis abgerufen werden muss.  Die Where-Methode erstellt einen Filter, der angibt, dass nur die Zeilen zur√ºckgegeben werden m√ºssen, f√ºr die PartitionKey und RowKey den angegebenen Werten entsprechen, und die n√§chste Auswahl gibt an, dass nur die Spalte Benutzername ausgew√§hlt werden muss. <br><br>  Bei einer solchen Abfrage ist es nicht sinnvoll, das Ergebnis mit einer Klasse zu vergleichen. Daher wird das IDictionary als R√ºckgabewert verwendet, wobei der Schl√ºssel der Name der Spalte und der Wert der Inhalt ist.  Da die Funktion ExecuteQuerySegmentedAsync nicht wei√ü, welches Ergebnis ihrer Ausf√ºhrung erhalten wird, ist es m√∂glich (und in diesem Fall erforderlich), einen EntityResolver-Delegaten zu √ºbergeben, der auf eine Funktion verweist, die den gew√ºnschten Wert aus dem W√∂rterbuch √ºbernimmt.  Das Ergebnis all dessen wird TableQuerySegment, in dessen erstem Index der Name des angeforderten Benutzers gespeichert ist. <br><br>  Im Allgemeinen k√∂nnen Sie durch die Verwendung von Abfragen anstelle der grundlegenden Extraktionsoperation die M√∂glichkeiten der Arbeit mit einer Tabelle erheblich erweitern. Seien Sie jedoch vorsichtig, da hier im Gegensatz zu klassischem SQL die Geschwindigkeit der Abfrageverarbeitung direkt von den Parametern abh√§ngt.  Niemand st√∂rt Sie daran, eine Abfrage auszuf√ºhren, um alle Benutzerdatens√§tze abzurufen, deren Namen dem angegebenen entsprechen. Eine solche Abfrage ist jedoch l√§nger als das Gegenst√ºck in SQL.  Um dies zu lernen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verweise</a> ich Sie noch einmal auf den oben erw√§hnten Leitfaden zum Tischdesign. Au√üerdem empfehle ich Ihnen, den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel zu lesen</a> , der Beispiele f√ºr die Arbeit mit der Tabellenspeicherung enth√§lt. <br><br>  <i>Wichtig!</i>  <i>Die Linkartikel verwenden Code f√ºr klassische .NET-Anwendungen und unterscheiden sich von der UWP-Implementierung.</i>  <i>Gl√ºcklicherweise ist dieser Unterschied nicht signifikant und die Analoga sind intuitiv (meistens liegen die Unterschiede im Async-Pr√§fix).</i> <br><br>  Abschlie√üend werde ich die Ergebnisse der Verwendung des Azure-Speichers in meinem Projekt im Moment mitteilen.  Beim ersten Start, nachdem ich die Benutzer-ID erhalten und Daten von der Live-ID heruntergeladen habe, schlage ich vor, dass er einen Alias ‚Äã‚Äã(Spitznamen) w√§hlt, falls der im Profil gespeicherte Name nicht zu ihm passt.  Anschlie√üend wird der eingegebene Kurzname in der UserManager-Klasse anstelle der Standardklasse gespeichert, und alle diese Daten werden in der GamerList-Tabelle gespeichert.  Beim n√§chsten Start wird die Benutzer-ID im Hintergrund empfangen und ein Alias ‚Äã‚Äãvom Gesch√§ft angefordert.  Infolgedessen sieht der Benutzer seinen Spitznamen im Spiel und nicht den Namen aus dem Standardprofil. <br><br>  Auch in Zukunft wird eine Tabelle mit einer Liste von Benutzern n√ºtzlich sein, um soziale Funktionen in das Spiel einzugeben, und jetzt habe ich mindestens eine Anwendung f√ºr diese Daten entwickelt.  Bei der Implementierung dieser Aufgabe helfen mir Azure-Tools wie Warteschlangenspeicher und Azure-Funktionen erneut, aber ich werde in einem der folgenden Artikel darauf eingehen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414261/">https://habr.com/ru/post/de414261/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414245/index.html">Polynom-Regressionsmodell</a></li>
<li><a href="../de414249/index.html">Public-Key-Infrastruktur: GCrypt-Bibliothek als Alternative zu OpenSSL mit Unterst√ºtzung f√ºr russische Kryptografie</a></li>
<li><a href="../de414251/index.html">Entwicklung ohne Programmierung: Immerhin Life Hack?</a></li>
<li><a href="../de414253/index.html">Muster f√ºr Tester. Proxy (alternativ)</a></li>
<li><a href="../de414255/index.html">Patentierter Traum des Programmierers - Teil II</a></li>
<li><a href="../de414263/index.html">Gibt es Leben au√üerhalb von Roscosmos? √úberblick √ºber die Erforschung des russischen Privatraums</a></li>
<li><a href="../de414265/index.html">Richard Hamming: Kapitel 7. K√ºnstliche Intelligenz - II</a></li>
<li><a href="../de414267/index.html">Wie ersetze ich einen Buchhalter durch einen Roboter?</a></li>
<li><a href="../de414269/index.html">"20.000 IOPS pro Knoten bieten eine gute Leistung bei einer Latenz von 5 ms." F√ºr OLTP - nein</a></li>
<li><a href="../de414271/index.html">So z√§hmen Sie eine Festplatte in einem Laptop und verhindern das Parken in 8 Sekunden Ausfallzeit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>