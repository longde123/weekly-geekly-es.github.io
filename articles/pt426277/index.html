<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíæ üóùÔ∏è üôáüèø Coisas para lembrar para um programador que muda para Python ü•ê üêß ‚õ∑Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Era uma vez, nos meus dias de estudante, fui picado por uma p√≠ton, embora o per√≠odo de incuba√ß√£o tenha sido atrasado e acabei me tornando um programad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Coisas para lembrar para um programador que muda para Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426277/"><p>  Era uma vez, nos meus dias de estudante, fui picado por uma p√≠ton, embora o per√≠odo de incuba√ß√£o tenha sido atrasado e acabei me tornando um programador de p√©rolas. </p><br><p>  No entanto, em algum momento, a p√©rola se esgotou e eu decidi pegar o python. No come√ßo, fiz algo e descobri o que era necess√°rio para essa tarefa. Depois, percebi que precisava de algum tipo de conhecimento sistem√°tico e li v√°rios livros: </p><br><ul><li>  Bill Lyubanovich ‚ÄúPython Simples.  Estilo moderno de programa√ß√£o ‚Äù </li><li>  Dan Bader "Python puro.  As sutilezas da programa√ß√£o para profissionais ¬ª </li><li>  Brett Slatkin ‚ÄúSegredos do Python: 59 dicas para escrever c√≥digo eficaz‚Äù </li></ul><br><p> O que me pareceu bastante adequado para entender as sutilezas b√°sicas do idioma, embora n√£o me lembre de mencionar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><strong>espa√ßos</strong></a> neles, mas n√£o tenho certeza de que esse seja um recurso realmente necess√°rio - se eu o pressionei de mem√≥ria, provavelmente esse m√©todo n√£o ser√° suficiente, mas √© claro tudo depende da situa√ß√£o. </p><br><p>  Como resultado, acumulei algumas anota√ß√µes sobre os recursos do python que, ao que me parece, podem ser √∫teis para quem deseja migrar para ele de outros idiomas. </p><a name="habracut"></a><br><p> Notei que, durante entrevistas em python, muitas vezes as pessoas fazem perguntas sobre coisas que n√£o est√£o relacionadas ao desenvolvimento real, como o que pode ser a chave do dicion√°rio (ou o que <code>x = yield y</code> significa), caras, na vida real, a chave pode ser apenas um n√∫mero ou uma string; nesses casos √∫nicos, quando n√£o √© assim, voc√™ pode ler a documenta√ß√£o e descobrir por que perguntar isso?  Para descobrir o que o entrevistado n√£o sabe?  Portanto, no final, todos se lembrar√£o da resposta a essa pergunta em particular e ela deixar√° de funcionar. </p><br><p>  Considero as vers√µes python superiores a 3,5 relevantes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√©</a> hora <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de esquecer</a> o segundo python por um longo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tempo</a> ), pois  esta √© a vers√£o no debian est√°vel, o que significa que em todos os outros lugares existem vers√µes mais recentes) </p><br><p>  Como n√£o sou um guru de python, espero que eles me corrijam nos coment√°rios se de repente eu congelar algum tipo de estupidez. </p><br><h2 id="tipizaciya">  Digita√ß√£o </h2><br><p>  Python √© uma linguagem de tipo din√¢mico, ou seja,  verifica a correspond√™ncia de tipos em tempo de execu√ß√£o, por exemplo: </p><br><pre> <code class="plaintext hljs">cat type.py a=5 b='5' print(a+b)</code> </pre> <br><p>  execute: </p><br><pre> <code class="plaintext hljs">python3 type.py ... TypeError: unsupported operand type(s) for +: 'int' and 'str'</code> </pre> <br><p>  No entanto, se o seu projeto amadureceu de acordo com a necessidade de digita√ß√£o est√°tica, o python tamb√©m oferece essa oportunidade usando o analisador est√°tico <code>mypy</code> : </p><br><pre> <code class="plaintext hljs">mypy type.py type.py:3: error: Unsupported operand types for + ("int" and "str")</code> </pre> <br><p>  √â verdade que nem todos os erros s√£o capturados desta maneira: </p><br><pre> <code class="plaintext hljs">cat type2.py def greeting(name): return 'Hello ' + name greeting(5)</code> </pre> <br><p>  mypy n√£o vai jurar aqui, mas ocorrer√° um erro durante a execu√ß√£o; portanto, as vers√µes atuais do python suportam sintaxe especial para especificar tipos de argumentos de fun√ß√£o: </p><br><pre> <code class="plaintext hljs">cat type3.py def greeting(name: str) -&gt; str: return 'Hello ' + name greeting(5)</code> </pre> <br><p>  e agora: </p><br><pre> <code class="plaintext hljs">mypy type3.py type3.py:4: error: Argument 1 to "greeting" has incompatible type "int"; expected "str"</code> </pre> <br><h2 id="peremennye-i-dannye">  Vari√°veis ‚Äã‚Äãe Dados </h2><br><p>  Vari√°veis ‚Äã‚Äãem python n√£o armazenam dados, mas apenas se referem a eles, e os dados podem ser mut√°veis ‚Äã‚Äã(mut√°veis) e imut√°veis ‚Äã‚Äã(imut√°veis). <br>  Isso leva a um comportamento diferente, dependendo do tipo de dados em situa√ß√µes quase id√™nticas, por exemplo, um c√≥digo como esse: </p><br><pre> <code class="plaintext hljs">x = 1 y = x x = 2 print(y)</code> </pre> <br><p>  leva ao fato de que as vari√°veis <code>x</code> e <code>y</code> referem a dados diferentes, e isso: </p><br><pre> <code class="plaintext hljs">x = [1, 2, 3] y = x x[0] = 7 print(y)</code> </pre> <br><p>  n√£o, <code>x</code> e <code>y</code> permanecem links para a mesma lista (embora, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">observado nos coment√°rios, o</a> exemplo n√£o tenha sido muito bem-sucedido, mas ainda n√£o pensei em um melhor), a prop√≥sito, em python, voc√™ pode verificar com o operador <code>is</code> (tenho certeza que o criador do Java perder√° para sempre um bom sono de vergonha quando descobri esse operador em python). </p><br><p>  Embora as linhas pare√ßam uma lista, elas s√£o um tipo de dados imut√°veis, isso significa que a pr√≥pria sequ√™ncia n√£o pode ser alterada, voc√™ s√≥ pode criar uma nova, mas pode atribuir um valor diferente √† vari√°vel, embora os dados originais n√£o sejam alterados: </p><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; mystr = 'sss' &gt;&gt;&gt; newstr = mystr #       &gt;&gt;&gt; mystr[0] = 'a' ... TypeError: 'str' object does not support item assignment &gt;&gt;&gt; mystr = 'ssa' #    &gt;&gt;&gt; newstr #         'sss'</code> </pre> <br><p>  Falando em strings, devido √† sua imunidade, concatenar uma lista muito grande de strings adicionando ou anexando em um loop pode n√£o ser muito eficaz (dependendo da implementa√ß√£o em um compilador / vers√£o em particular), geralmente, nesses casos, √© recomend√°vel usar o m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">join</a> , que se comporta um pouco inesperado: </p><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; str_list = ['ss', 'dd', 'gg'] &gt;&gt;&gt; 'XXX'.join(str_list) 'ssXXXddXXXgg' &gt;&gt;&gt; str = 'hello' &gt;&gt;&gt; 'XXX'.join(str) 'hXXXeXXXlXXXlXXXo'</code> </pre> <br><p>  Primeiro, a linha na qual o m√©todo √© chamado se torna um separador, e n√£o o in√≠cio de uma nova linha, como se pode pensar; em segundo lugar, voc√™ precisa passar uma lista (um objeto iter√°vel) e n√£o uma linha separada, porque tamb√©m √© um objeto iter√°vel e ser√° simbolizado . </p><br><p>  Como as vari√°veis ‚Äã‚Äãs√£o links, √© bastante normal querer fazer uma c√≥pia de um objeto para n√£o quebrar o objeto original, mas existe uma armadilha - a fun√ß√£o de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥pia</a> copia apenas um n√≠vel, o que claramente n√£o √© o que se espera de uma fun√ß√£o com esse nome, portanto, use <code>deepcopy</code> . </p><br><p>  Um problema semelhante com a c√≥pia pode ocorrer quando uma cole√ß√£o √© multiplicada por um escalar, conforme explicado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><h2 id="oblast-vidimosti">  √Çmbito de aplica√ß√£o </h2><br><p>  O t√≥pico do escopo provavelmente merece um artigo separado, mas h√° uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">boa resposta para o SO</a> . <br>  Em resumo, o escopo √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lexical</a> e existem seis √°reas de visibilidade - vari√°veis ‚Äã‚Äãno corpo da fun√ß√£o, no encerramento, no m√≥dulo, no corpo da classe, fun√ß√µes python internas e vari√°veis ‚Äã‚Äãna lista e outras inclus√µes. <br>  H√° uma sutileza - a vari√°vel padr√£o √© leg√≠vel em namespaces anexados anexados, mas a modifica√ß√£o requer o uso de palavras-chave especiais <code>nonlocal</code> - <code>nonlocal</code> e <code>global</code> para modificar as vari√°veis ‚Äã‚Äãem um n√≠vel mais alto ou em visibilidade global, respectivamente. </p><br><p>  Por exemplo, um c√≥digo como este: </p><br><pre> <code class="plaintext hljs">x = 7 print(id(x)) def func(): print(id(x)) return x print(func())</code> </pre> <br><p>  Funciona com uma vari√°vel global, e esta: </p><br><pre> <code class="plaintext hljs">x = 7 print(id(x)) def func(): x = 1 print(id(x)) return x print(func()) print(x)</code> </pre> <br><p>  j√° gera um local. <br>  Do meu ponto de vista, isso n√£o √© muito bom; em princ√≠pio, qualquer uso de vari√°veis ‚Äã‚Äãn√£o locais em uma fun√ß√£o faz parte da interface p√∫blica da fun√ß√£o, sua assinatura, o que significa que ela deve ser declarada explicitamente e vis√≠vel no in√≠cio da fun√ß√£o.  Al√©m disso, as palavras-chave n√£o s√£o muito informativas - <code>global</code> soa como uma defini√ß√£o de uma fun√ß√£o global, mas na verdade significa <code>use global</code> . </p><br><p>  No python, n√£o existe um ponto de entrada obrigat√≥rio a partir do qual o programa √© iniciado, como √© feito em muitas linguagens, apenas tudo o que √© escrito no n√≠vel do m√≥dulo √© executado sequencialmente, no entanto, como as vari√°veis ‚Äã‚Äãno n√≠vel do m√≥dulo s√£o vari√°veis ‚Äã‚Äãglobais, do meu ponto de vista, deve ser uma boa pr√°tica. colocando o c√≥digo principal na fun√ß√£o <code>main()</code> , seguido por sua chamada no final do arquivo: </p><br><pre> <code class="plaintext hljs">if __name__ == '__main__': main()</code> </pre> <br><p>  essa condi√ß√£o funcionar√° se o arquivo for chamado como um script e n√£o importado como um m√≥dulo. </p><br><h2 id="argumenty-funkciy">  Argumentos de Fun√ß√£o </h2><br><p>  O Python oferece oportunidades simplesmente elegantes para definir argumentos de fun√ß√£o - argumentos posicionais, nomeados e suas combina√ß√µes. </p><br><p>  Mas voc√™ precisa entender como os argumentos s√£o passados ‚Äã‚Äã- porque  em python, todas as vari√°veis ‚Äã‚Äãs√£o links para dados, ent√£o voc√™ pode adivinhar que a transfer√™ncia √© por refer√™ncia, mas h√° uma peculiaridade - o pr√≥prio link √© passado por valor, ou seja,  voc√™ pode modificar o valor mut√°vel por refer√™ncia: </p><br><pre> <code class="plaintext hljs">def add_element(mylist): mylist.append(3) mylist = [1,2] add_element(mylist) print(mylist)</code> </pre> <br><p>  execute: </p><br><pre> <code class="plaintext hljs">python3 arg_modify.py [1, 2, 3]</code> </pre> <br><p>  no entanto, voc√™ n√£o pode substituir o link original em uma fun√ß√£o: </p><br><pre> <code class="plaintext hljs">def try_del(mylist): mylist = [] return mylist mylist = [1,2] try_del(mylist) print(mylist)</code> </pre> <br><p>  o link de origem est√° vivo e funcionando: </p><br><pre> <code class="plaintext hljs">python3 arg_kill.py [1, 2]</code> </pre> <br><p>  Voc√™ tamb√©m pode definir valores padr√£o para os argumentos, mas h√° uma coisa n√£o √≥bvia a ser lembrada: os valores padr√£o s√£o calculados uma vez ao definir a fun√ß√£o, isso n√£o cria problemas se voc√™ passar dados inalterados como valor padr√£o e se voc√™ passar dados vari√°veis ‚Äã‚Äãou valor din√¢mico, o resultado ser√° um pouco inesperado: </p><br><p>  dados mut√°veis: </p><br><pre> <code class="plaintext hljs">cat arg_list.py def func(arg = []): arg.append('x') return arg print(func()) print(func()) print(func())</code> </pre> <br><p>  resultado: </p><br><pre> <code class="plaintext hljs">python3 arg_list.py ['x'] ['x', 'x'] ['x', 'x', 'x']</code> </pre> <br><p>  valor din√¢mico: </p><br><pre> <code class="plaintext hljs">cat arg_now.py from datetime import datetime def func(arg = datetime.now()): return arg print(func()) print(func()) print(func())</code> </pre> <br><p>  n√≥s obtemos: </p><br><pre> <code class="plaintext hljs">python3 arg_now.py 2018-09-28 10:28:40.771879 2018-09-28 10:28:40.771879 2018-09-28 10:28:40.771879</code> </pre> <br><h2 id="oop">  OOP </h2><br><p>  OOP em python foi feito de maneira muito interessante (algumas propriedades valem a pena) e esse √© um t√≥pico importante, mas os sapiens familiarizados com o OOP podem pesquisar no google tudo (ou encontr√°-lo no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hub</a> ), ent√£o ele n√£o precisa repeti-lo, embora valha a pena dizer que o python deve ser um pouco uma filosofia diferente - √© que um programador inteligente m√°quinas, e n√£o √© uma amea√ßa (UPD: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mais</a> ), de modo que o padr√£o python n√£o √© habitual para outros modificadores de acesso idiomas: m√©todos privados implementadas pela adi√ß√£o de um sublinhado duplo (que muda o tempo de execu√ß√£o do nome do m√©todo n√£o √© OAPC  T√≥pico chance de us√°-lo), e protegida um sublinhado (que n√£o faz nada, √© apenas uma conven√ß√£o de nomenclatura). <br>  Aqueles que perdem a funcionalidade usual podem procurar tentativas de trazer essas oportunidades para o python, algumas op√ß√µes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lang</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">acesso ao python</a> ) foram pesquisadas por mim, mas eu n√£o as testei ou estudei. </p><br><p>  O √∫nico ponto negativo das classes padr√£o √© o c√≥digo padr√£o em qualquer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">m√©todo Dunder</a> , eu pessoalmente gosto da biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">attrs</a> , √© muito mais python. <br>  Vale ressaltar que, como no Python todos os objetos, incluindo fun√ß√µes e classes, as classes podem ser criadas dinamicamente (sem o uso de <code>eval</code> ) pela fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">type</a> . <br>  Tamb√©m vale a pena ler sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">metaclasses</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no Habr</a> ) e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">descritores</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Habr</a> ). <br>  Uma peculiaridade que vale a pena lembrar √© que os atributos de uma classe e um objeto n√£o s√£o a mesma coisa; no caso de atributos imut√°veis, isso n√£o causa problemas, pois os atributos s√£o "sombreados" - os atributos do objeto com o mesmo nome s√£o criados automaticamente, mas no caso de atributos mut√°veis, voc√™ pode n√£o obtenha exatamente o que era esperado: </p><br><pre> <code class="plaintext hljs">cat class_attr.py class MyClass: storage = [7,] def __init__(self, number): self.number = number obj = MyClass(1) obj2 = MyClass(2) obj.number = 5 obj.storage.append(8) print(obj2.storage, obj2.number)</code> </pre> <br><p>  n√≥s obtemos: </p><br><pre> <code class="plaintext hljs">python3 class_attr.py [7, 8] 2</code> </pre> <br><p>  como voc√™ pode ver - eles mudaram <code>obj</code> e o <code>storage</code> mudou no <code>obj2</code> .  esse atributo (diferente do <code>number</code> ) n√£o pertence √† inst√¢ncia, mas √† classe. </p><br><h2 id="konstanty">  Constantes </h2><br><p>  Como no caso de modificadores de acesso, o python n√£o tenta limitar o desenvolvedor, portanto, √© imposs√≠vel definir uma vari√°vel escalar protegida contra modifica√ß√£o da maneira padr√£o; existe simplesmente um acordo de que vari√°veis ‚Äã‚Äãcom um nome em mai√∫sculas devem ser consideradas constantes. <br>  Por outro lado, o Python possui estruturas de dados imut√°veis, como tupla. Portanto, se voc√™ deseja tornar alguma estrutura global como uma configura√ß√£o imut√°vel e n√£o quiser depend√™ncias adicionais, o nome de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usu√°rio duplo</a> √© uma boa op√ß√£o, embora exija um pouco mais de esfor√ßo para descrever os tipos, portanto Gosto da implementa√ß√£o alternativa da estrutura imut√°vel com nota√ß√£o de ponto - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Box</a> (consulte o par√¢metro frozen_box). <br>  Bem, se voc√™ quiser constantes escalares, poder√° implementar o controle de acesso no est√°gio de "compila√ß√£o", ou seja,  verifica mypy, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exemplo</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">detalhes</a> . </p><br><h2 id="sort-vs-sorted">  .sort () vs classificado () </h2><br><p>  Existem duas maneiras de classificar uma lista em python.  O primeiro √© o m√©todo <code>.sort()</code> que modifica a lista original e n√£o retorna nada (Nenhum), ou seja,  n√£o pode fazer isso: </p><br><pre> <code class="plaintext hljs">my_list = my_list.sort()</code> </pre> <br><p>  A segunda √© a fun√ß√£o <code>sorted()</code> , que gera uma nova lista e pode trabalhar com todos os objetos iter√°veis.  Quem quiser mais informa√ß√µes deve come√ßar com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SO</a> . </p><br><h2 id="standartnaya-biblioteka">  Biblioteca padr√£o </h2><br><p>  Geralmente, a biblioteca python padr√£o inclui excelentes solu√ß√µes para problemas comuns, mas vale a pena ser cr√≠tica, porque h√° esquisitices suficientes.  √â verdade, tamb√©m acontece que o que parece estranho √† primeira vista acaba sendo a melhor solu√ß√£o, voc√™ s√≥ precisa conhecer todas as condi√ß√µes (veja abaixo o alcance), mas ainda existem esquisitices. </p><br><p>  Por exemplo, o m√≥dulo de unidade mais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">unido</a> inclu√≠do no kit n√£o tem nada a ver com python e cheira a Java, portanto, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">autor do python diz</a> : "Todo mundo est√° usando py.test ...".  Embora bastante interessante, embora nem sempre seja adequado, o m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">doctest</a> vem como padr√£o. </p><br><p>  O m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">urllib fornecido</a> n√£o possui uma interface t√£o bonita quanto o m√≥dulo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">solicita√ß√µes de</a> terceiros. </p><br><p>  A mesma hist√≥ria com o m√≥dulo para analisar os par√¢metros da linha de comando - o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">argparse inclu√≠do</a> √© uma demonstra√ß√£o do POO do c√©rebro, e o m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">docopt</a> parece ser apenas uma solu√ß√£o inteligente - a auto-documenta√ß√£o final!  Embora, de acordo com os rumores, apesar do docopt e do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">clique, um</a> nicho permane√ßa. </p><br><p>  Tamb√©m com o depurador - como eu o entendo, poucas pessoas usam o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pdb</a> inclu√≠do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">,</a> existem muitas alternativas, mas parece que a maioria dos desenvolvedores usa o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ipdb</a> , que, do meu ponto de vista, √© mais conveniente de usar atrav√©s do m√≥dulo do wrapper de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">depura√ß√£o</a> . <br>  Ele permite que, em vez de <code>import ipdb;ipdb.set_trace()</code> escreva simplesmente <code>import debug</code> , ele tamb√©m adiciona um m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">see</a> para facilitar a inspe√ß√£o de objetos. </p><br><p>  Para substituir o m√≥dulo de serializa√ß√£o padr√£o, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pickle √©</a> feito de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">endro</a> , a prop√≥sito, vale lembrar que esses m√≥dulos n√£o s√£o adequados para a troca de dados em sistemas externos, pois  restaurar objetos arbitr√°rios recebidos de uma fonte n√£o controlada n√£o √© seguro; nesses casos, existem json (para REST) ‚Äã‚Äãe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gRPC</a> (para RPC). </p><br><p>  Para substituir o m√≥dulo de processamento de express√£o regular padr√£o, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">refaz o</a> m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">regex</a> com todos os tipos de itens adicionais, como as classes de caracteres ala <code>\p{Cyrillic}</code> . <br>  A prop√≥sito, algo n√£o ocorreu para o python, um depurador divertido para express√µes regulares semelhantes √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cevada</a> . </p><br><p>  Aqui est√° outro exemplo - uma pessoa criou seu m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no local</a> para corrigir a curvatura e a incompletude da API do m√≥dulo de entrada de arquivo padr√£o na parte de edi√ß√£o do arquivo. </p><br><p>  Bem, eu penso muito nesses casos, j√° que me deparei com mais de um, portanto, tenha cuidado e n√£o se esque√ßa de olhar para todos os tipos de listas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">impressionantes</a> √∫teis, acho que um bom nutricionista tem um cheiro da melhor maneira poss√≠vel, este √©, a prop√≥sito, um t√≥pico para outra discuss√£o - de acordo com meus sentimentos (√© claro, n√£o h√° estat√≠sticas sobre esse assunto e aparentemente n√£o pode ser) no mundo python, o n√≠vel de especialistas est√° acima da m√©dia, porque muitas vezes bons softwares acabam sendo escritos em python, escreva nos coment√°rios o que voc√™ pensa sobre isso. </p><br><h2 id="parallelizm-i-konkurentnost">  Concorr√™ncia e Concorr√™ncia </h2><br><p>  O Python oferece amplas oportunidades para programa√ß√£o paralela e competitiva, mas n√£o sem recursos. </p><br><p>  Se voc√™ precisar de paralelismo, e isso acontecer quando suas tarefas exigirem computa√ß√£o, preste aten√ß√£o ao m√≥dulo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">multiprocessamento</a> . </p><br><p>  E se suas tarefas t√™m muitas expectativas de E / S, o python oferece v√°rias op√ß√µes para escolher, de threads e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gevent</a> , a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ass√≠ncio</a> . <br>  Todas essas op√ß√µes parecem bastante adequadas para uso (embora os threads exijam muito mais recursos), mas h√° uma sensa√ß√£o de que o ass√≠ncio est√° lentamente espremendo o resto, inclusive gra√ßas a todos os tipos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">guloseimas,</a> como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uvloop</a> . </p><br><p>  Se algu√©m n√£o notou - em python, os threads n√£o s√£o sobre paralelismo, n√£o sou competente o suficiente para falar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bem</a> sobre o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GIL</a> , mas h√° material suficiente sobre esse t√≥pico, portanto, n√£o existe essa necessidade, o principal a lembrar √© que os threads em python (mais precisamente no CPython) eles se comportam de maneira diferente de outras linguagens de programa√ß√£o - s√£o executados em apenas um n√∫cleo, o que significa que n√£o s√£o adequados para casos em que voc√™ precisa de um paralelismo real; no entanto, a execu√ß√£o do encadeamento √© interrompida ao aguardar a entrada / sa√≠da, para que possam ser usados  competir. </p><br><h2 id="inye-strannosti">  Outras esquisitices </h2><br><p>  Em python, <code>a = a + b</code> nem sempre √© equivalente a <code>a += b</code> : </p><br><pre> <code class="plaintext hljs">a = [1] a = a + (2,3) TypeError: can only concatenate list (not "tuple") to list a += (2,3) a [1, 2, 3]</code> </pre> <br><p>  Estou enviando para a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SO</a> para obter detalhes, at√© encontrar tempo para descobrir por que √© assim, no sentido pelo motivo pelo qual eles fizeram isso, como se isso fosse novamente sobre mutabilidade. </p><br><h2 id="strannosti-kotorye-ne-strannosti">  Extravag√¢ncias que n√£o s√£o estranhas </h2><br><p>  √Ä primeira vista, me pareceu estranho que o tipo de faixa n√£o inclua a borda direita, mas uma pessoa gentil me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">disse</a> para ignorar onde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eu precisava aprender</a> e verificou-se que tudo √© bastante l√≥gico. </p><br><p>  Um grande t√≥pico separado √© o arredondamento (embora esse problema seja comum a quase todas as linguagens de programa√ß√£o), al√©m de usar o arredondamento como voc√™ quiser, exceto que todos estudaram no curso escolar de matem√°tica, porque os problemas de representa√ß√£o de n√∫meros de ponto flutuante ainda est√£o sobrepostos a ele, refiro-me a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> detalhado. <br>  Grosso modo, em vez do algoritmo comum de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">meia-</a> volta para a matem√°tica escolar, √© usado o algoritmo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">meio-par</a> , que reduz a probabilidade de distor√ß√£o na an√°lise estat√≠stica e, portanto, √© recomendado pelo padr√£o IEEE 754. </p><br><p>  Al√©m disso, eu n√£o conseguia entender por que <code>-22//10=-3</code> , e ent√£o outra pessoa am√°vel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apontou</a> que isso inevitavelmente decorre da pr√≥pria defini√ß√£o matem√°tica, segundo a qual o restante n√£o pode ser negativo, o que leva a um comportamento t√£o incomum. n√∫meros negativos. <br>  ACHTUNG!  Agora, isso √© novamente uma coisa estranha e eu n√£o entendo nada, veja esta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">discuss√£o</a> . </p><br><h2 id="otladka-regulyarnyh-vyrazheniy">  Depura√ß√£o de Express√£o Regular </h2><br><p>  E aqui aconteceu que no mundo python n√£o h√° ferramenta para depurar interativamente express√µes regulares semelhantes ao excelente m√≥dulo pearl <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Regexp :: Debugger</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apresenta√ß√£o em v√≠deo</a> ), √© claro que existem v√°rias ferramentas on-line, existem alguns tipos de solu√ß√µes propriet√°rias do Windows, mas para mim n√£o √© isso, pode valer a pena usar uma ferramenta de barra de p√©rola, porque python rexes n√£o s√£o muito diferentes de barra de p√©rola, escreverei uma instru√ß√£o para aqueles que n√£o possuem barra de p√©rola: </p><br><pre> <code class="plaintext hljs">sudo apt install cpanminus cpanm Regexp::Debugger perl -I ~/perl5/lib/perl5/ -E "use Regexp::Debugger; 'ababc' =~ /(a|b) b+ c/x"</code> </pre> <br><p>  Acho que mesmo uma pessoa n√£o familiarizada com a p√©rola entender√° onde √© necess√°rio inserir a linha e onde est√° a express√£o regular, <code>x</code> √© uma bandeira semelhante ao python re.VERBOSE. <br>  Pressione se passe pela express√£o regular, uma descri√ß√£o detalhada dos comandos dispon√≠veis na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> . </p><br><h2 id="dokumentaciya">  A documenta√ß√£o </h2><br><p>  Existe uma fun√ß√£o de ajuda no python, que permite obter ajuda sobre qualquer fun√ß√£o carregada (tirada de sua documenta√ß√£o), o nome da fun√ß√£o √© passado como par√¢metro: </p><br><pre> <code class="plaintext hljs">$ python3 &gt;&gt;&gt; help(help)</code> </pre> <br><p>  mas essa nem sempre √© uma maneira conveniente e geralmente √© mais conveniente usar o utilit√°rio pydoc: </p><br><pre> <code class="plaintext hljs">pydoc3 urllib.parse.urlparse</code> </pre> <br><p>  o utilit√°rio permite pesquisar por palavras-chave e at√© iniciar um servidor local com documenta√ß√£o html, mas n√£o testei o √∫ltimo. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt426277/">https://habr.com/ru/post/pt426277/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt426267/index.html">Uma m√∫sica sobre como a cria√ß√£o de projetos se transformou em inferno</a></li>
<li><a href="../pt426269/index.html">Um aplicativo python kivy para uma dieta variada. Do c√≥digo ao recebimento do arquivo .apk para Android</a></li>
<li><a href="../pt426271/index.html">Tesla Model 3 seguran√ßa autom√≥vel</a></li>
<li><a href="../pt426273/index.html">Instale e configure o Oracle Internet Directory para resolver nomes de banco de dados</a></li>
<li><a href="../pt426275/index.html">Como procuramos por sinais de erro m√©dico</a></li>
<li><a href="../pt426279/index.html">Como os formatos e tecnologias de √°udio ‚Äúlutaram‚Äù e evolu√≠ram: um grande resumo hist√≥rico</a></li>
<li><a href="../pt426281/index.html">Fundadores da Amazon, Google, Microsoft e Facebook perderam mais de US $ 30 bilh√µes durante uma queda do mercado de a√ß√µes</a></li>
<li><a href="../pt426283/index.html">WeChat na √çndia: de um poderoso lan√ßamento a uma completa perda de interesse</a></li>
<li><a href="../pt426285/index.html">Em uma das oficinas da AvtoVAZ encontrou uma fazenda para minera√ß√£o</a></li>
<li><a href="../pt426287/index.html">Enviando para a lua</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>