<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùî üï∑Ô∏è ü§∏üèø C√≥digo abierto: c√≥digo de humor, trucos de c√≥digo, NO c√≥digo üßîüèø üëàüèª üëåüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hojeando en un software de c√≥digo abierto diverso, peri√≥dicamente encuentro todo tipo de cosas interesantes: a veces es solo un comentario divertido, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥digo abierto: c√≥digo de humor, trucos de c√≥digo, NO c√≥digo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437832/"><p><img src="https://habrastorage.org/webt/ns/bp/do/nsbpdo-3rgtiavelrrlgrxkgluc.jpeg" alt="Old GLib vs New Clang"></p><br><p>  Hojeando en un software de c√≥digo abierto diverso, peri√≥dicamente encuentro todo tipo de cosas interesantes: a veces es solo un comentario divertido, a veces es algo ingenioso en un sentido m√°s amplio.  Colecciones similares aparecen peri√≥dicamente tanto en el "Internet global" como en Habr√©; por ejemplo, hay una pregunta bien conocida en StackOverflow sobre los comentarios en el c√≥digo, y recientemente se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">public√≥</a> aqu√≠ una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">selecci√≥n de</a> nombres divertidos de entidades legales y top√≥nimos.  Intentar√© estructurar y dise√±ar lo que gradualmente acumul√©.  Debajo del corte, te esperan citas de QEMU, el kernel de Linux y m√°s. </p><a name="habracut"></a><br><h2 id="linux-kernel">  Kernel de Linux </h2><br><p> Creo que para muchos no es ning√∫n secreto que las cartas de la lista de correo del kernel de Linux divergen peri√≥dicamente entre comillas.  As√≠ que echemos un vistazo mejor al c√≥digo.  E inmediatamente, el sistema de ensamblaje del n√∫cleo nos recibe con una sorpresa: como saben, los proyectos creados por Autoconf tienen un Makefile con dos objetivos est√°ndar para la limpieza: <code>clean</code> y <code>distclean</code> .  Naturalmente, el kernel no se construye con Autoconf, y lo que solo vale <code>menuconfig</code> , por lo que hay m√°s objetivos aqu√≠: <code>clean</code> , <code>distclean</code> y <code>mrproper</code> : s√≠, s√≠, Mr.Proper, <del>  un limpiador central dos veces m√°s r√°pido </del>  . </p><br><p>  Hablando del sistema de configuraci√≥n: una vez me sorprend√≠ cuando lo encontr√© adem√°s de comandos claros como <code>allnoconfig</code> , <code>allyesconfig</code> (sospecho que se puede compilar algo <em>muy depurador</em> , por lo que ahora no me arriesgar√≠a a descargarlo en hardware real ... .) y <code>allmodconfig</code> al misterioso objetivo <code>allrandconfig</code> .  "¬øSe est√°n burlando?", Pens√©, luego le cont√© a mi amigo acerca de esta observaci√≥n, a lo que √©l respondi√≥ que probablemente era un comando completamente significativo, pero no para un montaje real, sino para probar la correcci√≥n de la disposici√≥n de las dependencias entre las opciones, como dije. Ahora, una especie de par√°metros de configuraci√≥n difusos. </p><br><p>  Sin embargo, hay vida en el n√∫cleo m√°s all√° del sistema de ensamblaje: la documentaci√≥n a veces no solo es t√©cnica, sino tambi√©n de un tipo de valor art√≠stico.  Suponga que desea alertar a los usuarios del modo de suspensi√≥n de su fragilidad y el riesgo de p√©rdida de datos si no se siguen ciertas reglas.  Escribir√≠a tristemente, diciendo <em>ATENCI√ìN: &lt;sustituye un par de las l√≠neas m√°s aburridas&gt;</em> .  Pero el desarrollador que escribi√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esto hizo algo</a> diferente: </p><br><pre> <code class="plaintext hljs">Some warnings, first. * BIG FAT WARNING ********************************************************* * * If you touch anything on disk between suspend and resume... * ...kiss your data goodbye. * * If you do resume from initrd after your filesystems are mounted... * ...bye bye root partition. * [this is actually same case as above] * * ...</code> </pre> <br><h3 id="malenkie-hitrosti">  Peque√±os trucos </h3><br><p>  No es sorprendente que no todos los c√≥digos se puedan compilar con optimizaciones: cuando intent√© forzarlos a que se activaran para todos los archivos de objetos, naturalmente encontr√© alguna fuente de entrop√≠a o algo similar que <code>#error</code> si la optimizaci√≥n estaba activada.  Bueno, la criptograf√≠a es as√≠.  Pero, ¬ødesea un c√≥digo que no se ensamblar√° si <strong>desactiva</strong> todas las optimizaciones, la alineaci√≥n, etc.?  ¬øC√≥mo es esto posible?  Y esta es una afirmaci√≥n tan est√°tica: </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* SPDX-License-Identifier: GPL-2.0 */</span></span> <span class="hljs-comment"><span class="hljs-comment">// ... /* * This function doesn't exist, so you'll get a linker error if * something tries to do an invalidly-sized xchg(). */ extern void __xchg_called_with_bad_pointer(void); static inline unsigned long __xchg(unsigned long x, volatile void *ptr, int size) { unsigned long ret, flags; switch (size) { case 1: #ifdef __xchg_u8 return __xchg_u8(x, ptr); #else local_irq_save(flags); ret = *(volatile u8 *)ptr; *(volatile u8 *)ptr = x; local_irq_restore(flags); return ret; #endif /* __xchg_u8 */ // ... default: __xchg_called_with_bad_pointer(); return x; } }</span></span></code> </pre> <br><p>  Se supone, aparentemente, que para cualquier uso con un argumento constante, esta funci√≥n se expandir√° en una sola rama de <code>switch</code> , y cuando se usa con un argumento <em>v√°lido</em> , esta rama no ser√° <code>default:</code> <br>  En una forma no optimizada, esta funci√≥n causar√° un error de enlace casi por dise√±o ... </p><br><h3 id="znaete-li-vy">  Sabes </h3><br><ul><li>  ... que el kernel tiene un compilador JIT bytecode del modo de usuario?  Esta tecnolog√≠a se llama eBPF y se utiliza para enrutamiento, rastreo y mucho m√°s.  Por cierto, si no tienes miedo de las herramientas "nucleares" experimentales, mira el paquete bpftools. </li><li>  ... que el n√∫cleo puede durar unos cinco minutos de tiempo de procesador?  Existe una llamada al sistema <code>sendfile</code> que copia bytes de un descriptor de archivo a otro.  Si le dice el mismo descriptor y establece el desplazamiento correcto en el archivo, rebobinar√° los mismos datos hasta que copie 2 GB. </li><li>  ... que existe una variante del trabajo de hibernaci√≥n realizado por el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">proceso</a> del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">usuario</a> . No me sorprender√° si tambi√©n puede guardarlo en el almacenamiento de red. </li></ul><br><h2 id="qemu">  QEMU </h2><br><p>  En general, cuando le√≠ a Robert Love sobre el dispositivo kernel de Linux, y luego sub√≠ a las fuentes QEMU, tuve una cierta sensaci√≥n de deja vu.  Hab√≠a listas incrustadas en estructuras por valor (y no como en el curso de programaci√≥n inicial que aprenden, a trav√©s de punteros), y un cierto subsistema de RCU (lo que es, todav√≠a no lo entend√≠ completamente, pero tambi√©n existe en el n√∫cleo) y, Probablemente mucho m√°s similar. </p><br><p>  ¬øQu√© es lo primero que una persona ordenada quiere trabajar en un proyecto para conocer?  Probablemente con estilo de codificaci√≥n.  Y ya en esto, uno podr√≠a decir, ceremonial, documento, vemos: </p><br><pre> <code class="plaintext hljs">1. Whitespace Of course, the most important aspect in any coding style is whitespace. Crusty old coders who have trouble spotting the glasses on their noses can tell the difference between a tab and eight spaces from a distance of approximately fifteen parsecs. Many a flamewar has been fought and lost on this issue.</code> </pre> <br><p>  Aqu√≠ est√° la eterna pregunta sobre la longitud m√°xima de la l√≠nea: </p><br><pre> <code class="plaintext hljs">Lines should be 80 characters; try not to make them longer. ... Rationale: - Some people like to tile their 24" screens with a 6x4 matrix of 80x24 xterms and use vi in all of them. The best way to punish them is to let them keep doing it. ...</code> </pre> <br><p>  <em>(Hmm ... Es dos veces m√°s grande en cada eje de lo que a veces uso. ¬øEs tal Linux HD?)</em> </p><br><p>  Todav√≠a hay mucho interesante - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">leer</a> . </p><br><h3 id="i-snova-hitrosti">  Y de nuevo trucos </h3><br><p>  Dicen que C es un lenguaje de bajo nivel.  Pero si es bueno pervertirse, puede mostrar las maravillas de la generaci√≥n de c√≥digo en tiempo de compilaci√≥n sin Scala o incluso C ++. </p><br><p>  Por ejemplo, el archivo softmmu_template.h est√° <code>softmmu_template.h</code> en la base del c√≥digo QEMU.  Cuando vi este nombre, pens√© que se supon√≠a que deb√≠a ser copiado en mi implementaci√≥n de back-end TCG y ajust√© hasta que sali√≥ la implementaci√≥n TLB correcta.  ¬°No importa c√≥mo!  Aqu√≠ se explica c√≥mo usarlo <strong>correctamente</strong> : </p><br><p>  <strong>accel / tcg / cputlb.h:</strong> </p><br><pre> <code class="cpp hljs">define DATA_SIZE <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"softmmu_template.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DATA_SIZE 2 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"softmmu_template.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DATA_SIZE 4 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"softmmu_template.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DATA_SIZE 8 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"softmmu_template.h"</span></span></span></span></code> </pre> <br><p>  Como puede ver, juego de manos y sin C ++.  Pero este es un ejemplo bastante simple.  ¬øQu√© tal algo m√°s complicado? </p><br><p>  Existe dicho archivo: <strong>tcg / tcg-opc.h</strong> .  Su contenido es bastante misterioso y se ve m√°s o menos as√≠: </p><br><pre> <code class="cpp hljs">... DEF(mov_i32, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, TCG_OPF_NOT_PRESENT) DEF(movi_i32, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, TCG_OPF_NOT_PRESENT) DEF(setcond_i32, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) DEF(movcond_i32, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, IMPL(TCG_TARGET_HAS_movcond_i32)) <span class="hljs-comment"><span class="hljs-comment">/* load/store */</span></span> DEF(ld8u_i32, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) DEF(ld8s_i32, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) DEF(ld16u_i32, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) DEF(ld16s_i32, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) ...</code> </pre> <br><p>  De hecho, todo es muy simple: se usa as√≠: </p><br><p>  <strong>tcg / tcg.h:</strong> </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> TCGOpcode { <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DEF(name, oargs, iargs, cargs, flags) INDEX_op_ ## name, #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"tcg-opc.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">undef</span></span></span><span class="hljs-meta"> DEF NB_OPS, } TCGOpcode;</span></span></code> </pre> <br><p>  M√°s o menos: </p><br><p>  <strong>tcg / tcg-common.c:</strong> </p><br><pre> <code class="cpp hljs">TCGOpDef tcg_op_defs[] = { #define DEF(s, oargs, iargs, cargs, flags) \ { #s, oargs, iargs, cargs, iargs + oargs + cargs, flags }, #include <span class="hljs-string"><span class="hljs-string">"tcg-opc.h"</span></span> #undef DEF };</code> </pre> <br><p>  Incluso es extra√±o que en el curso de otros casos de uso no se haya encontrado.  Y tenga en cuenta que, en este caso, no hay scripts complicados para la generaci√≥n de c√≥digo, solo C, solo hardcore. </p><br><h3 id="znaete-li-vy-1">  Sabes </h3><br><ul><li>  ... que QEMU puede funcionar no solo en el modo de emulaci√≥n de un sistema completo, sino tambi√©n ejecutar un proceso separado para otra arquitectura que se comunica con el n√∫cleo del host? </li></ul><br><h2 id="java-jvm-i-vse-vse-vse">  Java, JVM y todo-todo-todo </h2><br><p>  ¬øQu√© soy todo acerca de Linux?  Hablemos de algo multiplataforma.  Sobre la JVM, por ejemplo.  Bueno, sobre GraalVM, probablemente, muchos desarrolladores en este ecosistema ya lo han escuchado.  Si no lo has escuchado, en pocas palabras: es √©pico.  Entonces, despu√©s de hablar sobre Graal, pasemos a la buena JVM. </p><br><p>  A veces, la JVM necesita detener todos los subprocesos administrados (la etapa de recolecci√≥n de basura es muy pegadiza u otra cosa), pero el problema es que puede detener los subprocesos solo en los llamados puntos seguros.  Como se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">describe aqu√≠</a> , una verificaci√≥n normal de una variable global lleva mucho tiempo, incluido alg√∫n tipo de chamanismo con barreras de memoria.  ¬øQu√© hicieron los desarrolladores?  Se limitaron a una lectura variable. </p><br><div class="spoiler">  <b class="spoiler_title">Casi como en HQ9 +</b> <div class="spoiler_text"><p>  Existe un lenguaje c√≥mico: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HQ9 +</a> .  Fue creado como un "lenguaje de programaci√≥n educativa muy conveniente", es decir, es muy simple realizar las tareas t√≠picas que los estudiantes solicitan: </p><br><ul><li>  el int√©rprete de comandos 'H' imprime Hello, World! </li><li>  en el comando 'Q' imprime el texto del programa en s√≠ (quine) </li><li>  en '9' imprime la letra de <em>99 botellas de cerveza</em> </li><li>  por 'i' incrementa la variable <strong>i</strong> en uno </li><li>  <em>no puede hacer nada m√°s, pero ¬øpor qu√©?</em> </li></ul></div></div><br><p>  ¬øC√≥mo logra la JVM el objetivo con una sola instrucci√≥n?  Pero es muy simple: si es necesario detenerse, elimina la pantalla de la p√°gina de memoria con esta variable: los hilos caen en SIGSEGV, y la JVM los estaciona y los detiene cuando finaliza el "mantenimiento".  Recuerdo en StackOverflow cuando se le pregunt√≥ en una entrevista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬øC√≥mo se bloquea una JVM?</a>  respondi√≥: </p><br><blockquote>  JNI  De hecho, con JNI, el bloqueo es el modo de operaci√≥n predeterminado.  Tienes que trabajar muy duro para que no se bloquee. </blockquote><p>  Bromeando como una broma, y ‚Äã‚Äãa veces en la JVM realmente lo es. </p><br><p>  Bueno, como mencion√© la generaci√≥n de c√≥digo en Scala, y ahora estamos hablando de este ecosistema, aqu√≠ hay un hecho interesante para usted: la generaci√≥n de c√≥digo en Scala (la que tiene macros) est√° estructurada de esta manera: usted escribe c√≥digo en Scala usando la API compilador y compilarlo.  Luego, en el siguiente inicio del compilador, simplemente pasa el generador de c√≥digo resultante al classpath del compilador mismo, y ese, al ver una directiva especial, lo llama, pasando los √°rboles de sintaxis recibidos durante la llamada.  En respuesta, recibe un AST, que debe ser sustituido en el lugar de la llamada. </p><br><h3 id="osobennosti-ideologiy-licenzirovaniya">  Caracter√≠sticas de las ideolog√≠as de licencias. </h3><br><p>  Me gusta la ideolog√≠a del software libre, pero tambi√©n tiene algunas caracter√≠sticas divertidas. </p><br><p>  Una vez, hace unos diez a√±os, actualic√© mi estable de Debian y, pensando en la sintaxis de alg√∫n comando, escrib√≠ habitualmente <code>man &lt;&gt;</code> , que recibi√≥ una descripci√≥n exhaustiva como "[nombre del programa] es un programa con documentaci√≥n distribuida bajo licencia GNU GFDL con secciones inmutables, que no est√° libre de DFSG ".  <em>Dicen que este programa fue escrito por algunos propietarios malvados de algunos FSF ...</em> (Ahora la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">discusi√≥n</a> es google). </p><br><p>  Algunas distribuciones consideran que una biblioteca peque√±a pero importante es un software no libre, porque el autor escribi√≥ a la licencia permisiva est√°ndar que <em>este programa deber√≠a usarse para el bien y no para el mal</em> .  La risa, la risa, y yo tambi√©n, probablemente tendr√≠amos miedo de tomar tal cosa en producci√≥n: nunca se sabe lo que el autor piensa sobre el bien y el mal. </p><br><h2 id="vsyakoe-raznoe">  Cualquier miscel√°neo </h2><br><h3 id="osobennosti-internacionalnogo-kompilyatorostroeniya-v-period-zakona-mura">  Caracter√≠sticas del compilador internacional durante la Ley Moore </h3><br><p>  Los duros desarrolladores de LLVM han limitado la alineaci√≥n admitida: </p><br><blockquote>  La alineaci√≥n m√°xima es 1 &lt;&lt; 29. </blockquote><p>  Como dicen, te <em>hace re√≠r primero y luego pensar</em> : el primer pensamiento, pero qui√©n necesita alineaci√≥n en 512 MiB.  Luego le√≠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sobre el desarrollo del kernel en Rust</a> , y all√≠ proponen hacer una estructura de "tabla de p√°ginas" alineada a 4096 bytes.  ¬øY c√≥mo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se lee</a> Wikipedia, as√≠ que generalmente: </p><br><blockquote>  Una jerarqu√≠a de mapeo completa de p√°ginas de 4 KB para todo el espacio de 48 bits requerir√≠a un poco m√°s de 512 GB de memoria (aproximadamente 0.195% del espacio virtual de 256 TB). </blockquote><br><h3 id="versiya-formata-----kak-hranit">  Versi√≥n de formato: ¬øc√≥mo almacenar? </h3><br><p>  Una vez que decid√≠ averiguar por qu√© la exportaci√≥n no funciona en un programa, <em>pero resulta que funciona</em> ... ¬øO no? </p><br><p>  Despu√©s de haber iniciado los comandos de back-end manualmente, me di cuenta de que, en principio, todo est√° en orden, solo la versi√≥n debe transmitirse como "2.0", pero solo "2" se va.  Anticipando una correcci√≥n trivial editando una constante de cadena, encuentro la funci√≥n <code>double getVersion()</code> , pero lo que es mayor, menor es, ¬°incluso hay un punto!  Sin embargo, al final, todo se decidi√≥ no mucho m√°s complicado de lo esperado, yo <del>  solo mejor precisi√≥n de salida </del>  Reenvi√≥ el tipo de datos y reenvi√≥ las l√≠neas. </p><br><h3 id="o-raznice-mezhdu-teoretikami-i-praktikami">  Sobre la diferencia entre te√≥ricos y practicantes </h3><br><p>  En mi opini√≥n, en alg√∫n lugar de Habr√© ya vi una traducci√≥n de un art√≠culo sobre cu√°les son los bloqueos m√≠nimos en el inicio, pero ¬øa√∫n es un programa compilado en C? <code>int main;</code>  - hay un s√≠mbolo <code>main</code> y, <em>t√©cnicamente</em> , puede transferirle el control.  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">sirikid</a> not√≥ correctamente que incluso los bytes <code>int</code> son superfluos aqu√≠.</em>  <em>En general, incluso hablando de un programa de 9 bytes de tama√±o, es mejor no dispersar las afirmaciones de que <strong>es el</strong> m√°s peque√±o ...</em> Es cierto, el programa se caer√°, pero esto es completamente coherente con las reglas. </p><br><p>  Entonces, sabemos c√≥mo descartar lo que deber√≠a funcionar, pero ¬øqu√© pasa con el lanzamiento de uno que no sea de lanzamiento? </p><br><pre> <code class="plaintext hljs">$ ldd /bin/ls linux-vdso.so.1 (0x00007fff93ffa000) libselinux.so.1 =&gt; /lib/x86_64-linux-gnu/libselinux.so.1 (0x00007f0b27664000) libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f0b2747a000) libpcre.so.3 =&gt; /lib/x86_64-linux-gnu/libpcre.so.3 (0x00007f0b27406000) libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f0b27400000) /lib64/ld-linux-x86-64.so.2 (0x00007f0b278e9000) libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f0b273df000) $ /lib/x86_64-linux-gnu/libc.so.6</code> </pre> <br><p>  ... y libc √©l <del>  voz humana </del>  : </p><br><pre> <code class="plaintext hljs">GNU C Library (Ubuntu GLIBC 2.28-0ubuntu1) stable release version 2.28. Copyright (C) 2018 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. Compiled by GNU CC version 8.2.0. libc ABIs: UNIQUE IFUNC ABSOLUTE For bug reporting instructions, please see: &lt;https://bugs.launchpad.net/ubuntu/+source/glibc/+bugs&gt;.</code> </pre> <br><h3 id="programmisty-igrayut-v-golf">  Los programadores juegan golf </h3><br><p>  Hay un sitio completo en StackExchange dedicado a Code Golf: competiciones con el estilo de "Resolver este problema con una penalizaci√≥n m√≠nima, dependiendo del tama√±o del c√≥digo fuente".  El formato en s√≠ implica soluciones muy sofisticadas, pero a veces se vuelven muy sofisticadas.  Por lo tanto, en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una de las preguntas</a> , se recopil√≥ una colecci√≥n de lagunas prohibidas est√°ndar.  Me gusta especialmente este: </p><br><blockquote>  Usando MetaGolfScript <br>  MetaGolfScript es una familia de lenguajes de programaci√≥n.  Por ejemplo, el programa vac√≠o en MetaGolfScript-209180605381204854470575573749277224 imprime "Hello, World!". </blockquote><br><h2 id="odnoy-strokoy">  En una linea </h2><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El bool no inicializado que bloque√≥ el programa</a> , o donde el comportamiento indefinido conduce </p><br></li><li><p>  ... que, por cierto, es m√°gico.  Alguien en LLVM brome√≥ el 1 de abril, y otro hizo un informe de esto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mi peque√±o optimizador: el comportamiento indefinido es m√°gico</a> </p><br></li><li><p>  ¬øRecuerdas el atractivo ambiguo de alabar a los desarrolladores de software de c√≥digo abierto en el rastreador?  En Binaryen, se implement√≥ de manera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">simple y con buen gusto</a> : </p><br><blockquote>  <strong>Problema:</strong> este proyecto es INCRE√çBLE <br>  <strong>Resoluci√≥n:</strong> wontfix, funciona seg√∫n lo previsto </blockquote><br></li><li><p>  en febrero de 2009, una persona <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hizo una pregunta</a> en StackOverflow: "¬øC√≥mo hacer esto y ese navegador cruzado? O bien, <em>tres navegadores que funcionan son geniales y ¬øqui√©n usa Chrome de todos modos?</em> " </p><br></li></ul><br><p>  Finalmente, ¬øde d√≥nde viene el t√≠tulo del art√≠culo?  Este es un truco parafraseado de la salida del compilador <code>emcc</code> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Emscripten</a> : </p><br><pre> <code class="plaintext hljs">$ emcc --help ... emcc: supported targets: llvm bitcode, javascript, NOT elf (autoconf likes to see elf above to enable shared object support)</code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437832/">https://habr.com/ru/post/437832/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437820/index.html">50 sombras de seguridad Drupal</a></li>
<li><a href="../437824/index.html">Extensi√≥n universal 1C para Hojas de c√°lculo y Documentos de Google: tomar y usar</a></li>
<li><a href="../437826/index.html">C√≥mo migramos la base de datos de Redis y Riak KV a PostgreSQL. Parte 1: el proceso</a></li>
<li><a href="../437828/index.html">Abra el seminario web "SELECCIONE el orden de ejecuci√≥n de consultas y el plan de consultas en MS SQL Server"</a></li>
<li><a href="../437830/index.html">Programaci√≥n confiable por idioma: revisi√≥n novata. Parte 1</a></li>
<li><a href="../437834/index.html">Dos historias sobre c√≥mo tuvieron lugar los eventos de programaci√≥n en Ekaterimburgo</a></li>
<li><a href="../437836/index.html">Under the hood Screeps: virtualizaci√≥n en el sandbox MMO para programadores</a></li>
<li><a href="../437838/index.html">Las tecnolog√≠as de aprendizaje autom√°tico aceleran el proceso de adaptaci√≥n de los pacientes a las pr√≥tesis bi√≥nicas a veces</a></li>
<li><a href="../437842/index.html">La historia secreta de Donkey Kong: de m√°quinas recreativas a NES</a></li>
<li><a href="../437844/index.html">La lucha duradera de la escritura est√°tica frente a la din√°mica: TypeScript no ayudar√°</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>