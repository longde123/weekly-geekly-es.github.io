<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëä üëÇüèæ üë©üèº‚ÄçüöÄ Comment d√©sactiver la protection Spectre: un nouveau param√®tre a √©t√© ajout√© au noyau Linux ü¶É üó∫Ô∏è „Ä∞Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Un indicateur est apparu dans le noyau Linux qui d√©sactive la protection contre les vuln√©rabilit√©s Spectre v4 dans tous les processus enfants ex√©cut√©s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment d√©sactiver la protection Spectre: un nouveau param√®tre a √©t√© ajout√© au noyau Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1cloud/blog/442140/">  Un indicateur est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">apparu</a> dans le noyau Linux qui d√©sactive la protection contre les vuln√©rabilit√©s Spectre v4 dans tous les processus enfants ex√©cut√©s sur le serveur.  En savoir plus sur le nouveau param√®tre - sous la coupe. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/25/9x/p2/259xp2x-uwaukqzuau_duxb9inc.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rie H</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CC BY</a> / Photo modifi√©e</i></font> <br><br><h2>  Pourquoi avez-vous d√ª d√©sactiver la protection </h2><br>  Le groupe de vuln√©rabilit√©s du processeur Spectre est devenu connu au d√©but de 2018, et au cours des mois suivants, cette famille a √©t√© reconstitu√©e avec de nouveaux ¬´trous de s√©curit√©¬ª.  Les vuln√©rabilit√©s sont associ√©es au fonctionnement des syst√®mes qui augmentent les performances du processeur - √©criture <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sp√©culative</a> et lecture et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pr√©diction des transitions</a> - et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">permettent aux</a> attaquants de contourner les m√©canismes d'isolation de la m√©moire dans les processeurs Intel et AMD. <br><br>  Pour fermer les vuln√©rabilit√©s, les d√©veloppeurs de syst√®mes d'exploitation √©mettent des correctifs, mais leur installation entra√Æne souvent une diminution de la vitesse des serveurs.  Par exemple, sur les machines Linux, certains correctifs Spectre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©duisent les</a> performances de 30 √† 50%. <br><br>  Les administrateurs syst√®me n'√©taient pas satisfaits du probl√®me, en particulier dans les grands centres de donn√©es.  Ils ont commenc√© √† demander aux d√©veloppeurs du noyau Linux de d√©sactiver s√©lectivement la protection Spectre.  Certaines des vuln√©rabilit√©s d√©couvertes ne sont que de nature th√©orique et, dans un certain nombre de syst√®mes, elles ne peuvent fondamentalement pas nuire.  Par exemple, les fermes de rendu et les superordinateurs hors ligne sont d√©connect√©s d'Internet, ils n'ont donc <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pas peur des</a> injections de code malveillantes. <br><br>  L'√©quipe Linux a rencontr√© des utilisateurs et introduit plusieurs fonctions qui d√©sactivent la protection contre les vuln√©rabilit√©s Spectre v1, v2 (nous en parlerons plus tard) et v4.  Le dernier d'entre eux a √©t√© introduit d√©but f√©vrier pour toutes les versions actuelles du noyau - il s'agit du nouveau drapeau PR_SPEC_DISABLE_NOEXEC. <br><br><h2>  Quoi et pourquoi d√©sactive la fonction </h2><br>  La vuln√©rabilit√© de Spectre v4 est appel√©e le contournement de magasin sp√©culatif.  Il permet aux logiciels malveillants d'acc√©der √† des r√©sultats informatiques sp√©culatifs que le processeur avait pr√©c√©demment rejet√©s comme inutiles. <br><br>  Cette situation se produit lorsque le processeur lit et √©crit √† tour de r√¥le en utilisant l'adressage indirect.  La lecture se produit plus souvent que l'√©criture et le processeur peut utiliser les donn√©es de la m√©moire pour d√©terminer l'adresse de lecture sans attendre le calcul du d√©calage de l'adressage indirect.  Si, apr√®s avoir calcul√© le d√©calage, une intersection des zones de m√©moire pour l'√©criture et la lecture est d√©tect√©e (c'est-√†-dire que la lecture a √©t√© effectu√©e √† partir de la mauvaise zone), la deuxi√®me op√©ration est √† nouveau effectu√©e et le r√©sultat sp√©culatif est rejet√©. <br><br>  En th√©orie, il s'av√®re que si un attaquant conna√Æt les adresses et la structure des cellules de m√©moire, il peut en extraire des donn√©es, telles que des cl√©s de chiffrement. <br><br>  Le correctif pour Spectre v4 est apparu dans le noyau Linux quelques jours apr√®s la publication d'informations sur la vuln√©rabilit√© - par d√©faut, il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">a d√©sactiv√©</a> la fonction de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©sambigu√Øsation de</a> la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">m√©moire</a> , ce qui a permis une ex√©cution extraordinaire des commandes.  Mais cela a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ralenti les</a> op√©rations d'E / S <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">du</a> processeur de 10 √† 40%. <br><br><img src="https://habrastorage.org/webt/ug/hf/ea/ughfeapypkngowzen4e-cpxrnlo.jpeg"><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rie H</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CC BY-SA</a></i></font> <br><br>  Et d√©but juin 2018, la version 4.17 du noyau a permis de d√©sactiver cette protection.  Il y avait un probl√®me: le param√®tre n'a pas √©t√© transmis du processus parent au processus enfant.  Pour eux, la protection devait √™tre d√©sactiv√©e manuellement, ce qui g√™nait les administrateurs syst√®me.  Mais d√©but f√©vrier, les d√©veloppeurs du noyau ont impl√©ment√© l'indicateur <b>PR_SPEC_DISABLE_NOEXEC</b> .  Il compl√®te la fonction pr√©c√©dente et copie le mode de fonctionnement du patch de Spectre v4 du processus parent vers les processus enfants.  PR_SPEC_DISABLE_NOEXEC fait partie de prctl, et vous pouvez l'activer lors du d√©marrage de tout nouveau processus. <br><br><h2>  Ce que disent les experts </h2><br>  Dans la liste de diffusion des d√©veloppeurs du noyau Linux, l'introduction du nouveau drapeau a √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crite par</a> Waiman Long de Red Hat.  Selon lui, la protection contre Spectre v4 affecte consid√©rablement les performances des applications qui effectuent de nombreuses op√©rations d'√©criture, telles que les bases de donn√©es.  PR_SPEC_DISABLE_NOEXEC aidera √† automatiser la v√©rification de la d√©sactivation du correctif et √† acc√©l√©rer les serveurs avec un grand nombre de processus ex√©cut√©s simultan√©ment. <br><br>  Dans le m√™me temps, les participants de la communaut√© informatique notent que dans certaines situations, la manipulation imprudente d'un nouveau drapeau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">peut entra√Æner</a> des cons√©quences d√©sagr√©ables. <br><br><blockquote>  ¬´Il convient de noter que dans certains environnements, il n'est pas s√ªr de d√©sactiver la protection contre Spectre v4¬ª, explique Sergey Belkin, chef du d√©partement de d√©veloppement du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fournisseur IaaS 1cloud.ru</a> .  - Il s'agit, par exemple, des services Web utilisant Java et JavaScript.  La divulgation du contenu du processus de contr√¥le par du code manag√© peut √™tre fatale pour la s√©curit√© des applications. ¬ª </blockquote><br><h2>  √Ä propos des autres correctifs Spectre dans le noyau Linux </h2><br>  En plus de l'indicateur PR_SPEC_DISABLE_NOEXEC, le noyau Linux a d'autres param√®tres qui d√©sactivent la protection Spectre. <br><br>  Le premier est <b>nospectre_v2</b> .  La fonction d√©sactive la protection de Spectre v2, ce qui permet aux attaquants d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utiliser</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le bloc de pr√©diction de transition</a> afin de ¬´forcer¬ª le processeur √† effectuer sp√©culativement une op√©ration dans un module de m√©moire sp√©cifique.  Pour la protection, le correctif <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©sactive la</a> fonction de pr√©diction indirecte des transitions et emp√™che le transfert des informations re√ßues entre les threads du m√™me c≈ìur de processeur. <br><br>  La d√©sactivation de la protection entra√Æne une augmentation des performances du processeur de 30% - c'est ainsi qu'elle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est tomb√©e</a> apr√®s l'installation d'un patch √† partir de Spectre v2.  M√™me le cr√©ateur de Linux, Linus Torvalds, a pris en charge la nouvelle fonctionnalit√©.  Selon lui, la vuln√©rabilit√© ne menace que les processeurs dot√©s de la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SMT</a> , dans ce cas particulier il sera plus rentable de la d√©sactiver. <br><br>  Le deuxi√®me param√®tre - <b>nospectre_v1</b> - d√©sactive la protection de la premi√®re option Spectre.  √Ä l'aide de logiciels malveillants, les pirates peuvent amener le processeur √† pr√©dire de mani√®re incorrecte le r√©sultat d'une transition conditionnelle et √† ignorer les r√©sultats des calculs sp√©culatifs dans la zone de m√©moire dont les pirates ont besoin.  Bien que le patch de la v1 n'affecte pas significativement les performances (selon certains <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapports</a> , la r√©duction de la vitesse du processeur peut √™tre n√©glig√©e), les d√©veloppeurs ont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">demand√© d'</a> ajouter la possibilit√© de d√©sactiver cette protection au noyau.  Cela nous a permis de simplifier la structure des r√©seaux isol√©s des acc√®s externes. <br><br>  La communaut√© du noyau Linux reste fid√®le √† l'id√©e de libre choix que Linus Torvalds a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pos√©e</a> au tout d√©but: les utilisateurs eux-m√™mes sont responsables de l'√©quilibre entre la s√©curit√© et les performances des syst√®mes Linux.  Par cons√©quent, il convient de s'attendre √† ce que lors de la d√©tection de nouvelles vuln√©rabilit√©s similaires √† Spectre dans le noyau, un correctif et la possibilit√© de le d√©sactiver appara√Ætront. <br><br><h5>  Messages de notre blog d'entreprise: </h5><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Meltdown et Spectre: vuln√©rabilit√© du processeur du Nouvel An</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sauvegarde de fichiers: comment √™tre √† l'abri de la perte de donn√©es</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1cloud Cloud Architecture Evolution</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442140/">https://habr.com/ru/post/fr442140/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442130/index.html">Tests 3CX v16 sur Raspberry Pi 3B + et mise √† jour WebMeeting</a></li>
<li><a href="../fr442132/index.html">Premiers pas avec Azure Machine Learning √† l'aide du SDK Python</a></li>
<li><a href="../fr442134/index.html">128 calculs de caract√®res: gagnants du concours Wolfram sur une seule ligne</a></li>
<li><a href="../fr442136/index.html">Une pr√©vision d'une journ√©e et demie de l'√©nergie √©olienne aidera √† optimiser la puissance de sortie des √©oliennes</a></li>
<li><a href="../fr442138/index.html">Objet composite ¬´source de donn√©es¬ª et √©l√©ments d'une approche fonctionnelle</a></li>
<li><a href="../fr442142/index.html">Roskomnadzor a accidentellement bloqu√© les talons des fournisseurs</a></li>
<li><a href="../fr442144/index.html">GitLab 11.8 publi√© avec prise en charge JavaScript dans SAST, sous-groupes dans Pages et suivi des erreurs</a></li>
<li><a href="../fr442146/index.html">T√©l√©phone Energizer: 18 000 mAh d'√©nergie propre</a></li>
<li><a href="../fr442148/index.html">VS Code - Extraits de marionnettiste</a></li>
<li><a href="../fr442150/index.html">Neurosexisme: d√©mystifier le mythe selon lequel les hommes et les femmes ont des cerveaux diff√©rents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>