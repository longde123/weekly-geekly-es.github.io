<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöÑ üïô üèà Algunas caracter√≠sticas del desarrollo de habilidades para Alice üí≠ üßúüèª üïµüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øVives en Mosc√∫ y conduces tu coche? Si es as√≠, ¬øc√≥mo paga el estacionamiento? ¬øEnviar SMS? ¬øPagar a trav√©s de la aplicaci√≥n de estacionamiento de Mos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Algunas caracter√≠sticas del desarrollo de habilidades para Alice</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471388/"><img src="https://habrastorage.org/webt/lh/sw/na/lhswnatvipaiuqcpqxd0_a-jm1y.png"><br><br>  ¬øVives en Mosc√∫ y conduces tu coche?  Si es as√≠, ¬øc√≥mo paga el estacionamiento?  ¬øEnviar SMS?  ¬øPagar a trav√©s de la aplicaci√≥n de estacionamiento de Mosc√∫?  ¬øUsar el bot en Telegram?  "Todo esto es inc√≥modo", decid√≠, y cre√© mi habilidad para que Alice pagara el estacionamiento por voz.  Adem√°s, Alice ya est√° integrada en Yandex.Navigator.  Ahora puede decirle al Navegador algo como "Alice, pedirle a <i>Mosc√∫ Parking que</i> <i>pague el estacionamiento 3209 por 30 minutos</i> ". <br><br>  ¬øQu√© encontr√© al desarrollar una habilidad? <br><a name="habracut"></a><br><h2>  La sesi√≥n </h2><br>  Para comenzar la habilidad de un desarrollador externo, Alice necesita decir "Alice, lanza la habilidad de manera regular".  Esto es bueno y conveniente si tienes una larga comunicaci√≥n con la habilidad, por ejemplo, el juego comienza.  Si necesita decir una frase, obtener una respuesta y eso es todo, entonces "ingresar una habilidad" es un inconveniente: con esta entrada, cuando termine de trabajar con una habilidad, deber√° "salir" de ella. <br><br>  Para una frase, hay una soluci√≥n de los desarrolladores de Alice: debe decir: "Alice pide la habilidad para <i>hacer tal y tal</i> ".  Sin embargo, el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ejemplo de Python</a> de los desarrolladores de Alice no admite ese lanzamiento de habilidades: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> req[<span class="hljs-string"><span class="hljs-string">'session'</span></span>][<span class="hljs-string"><span class="hljs-string">'new'</span></span>]: <span class="hljs-comment"><span class="hljs-comment"># -  return</span></span></code> </pre> <br>  Cada vez que se lanza una habilidad, incl.  y con el comando "Alice pide una <i>habilidad</i> ...", el valor de <i>session.new</i> es <i>True</i> .  Por lo tanto, todo el c√≥digo de procesamiento adicional no se ejecutar√°.  La soluci√≥n es verificar el texto de <i>session.command</i> : debe estar vac√≠o. <br><br>  Por cierto, si "ingres√≥" una habilidad, entonces, de manera predeterminada, para todas las habilidades Alice admite frases de salida: "Alice, det√©ngala" y "Alice, regrese".  Si desea finalizar la sesi√≥n con fuerza con la habilidad, debe pasar <i>end_session</i> igual a <i>True</i> en la respuesta.  Pero esto solo funciona con Yandex.Station: en otros dispositivos, salir de la habilidad en este caso no funciona. <br><br><h2>  Trabajar con n√∫meros </h2><br>  Mi habilidad es trabajar con n√∫meros: primero reconozca el n√∫mero de tel√©fono del usuario, luego reconozca el n√∫mero de estacionamiento. <br><br>  En el ejemplo anterior de Yandex utilizado <br><br><pre> <code class="python hljs">req[<span class="hljs-string"><span class="hljs-string">'request'</span></span>][<span class="hljs-string"><span class="hljs-string">'original_utterance'</span></span>].lower()</code> </pre> <br>  para trabajar con una solicitud del usuario.  Primero, us√© este campo de la solicitud.  Para reconocer el n√∫mero de tel√©fono del usuario, tuve que pedirle al usuario que nombrara cada d√≠gito del n√∫mero por separado, por ejemplo, "nueve uno seis uno dos tres cuatro cinco seis siete".  Y en el c√≥digo, reemplace los valores de texto ("nueve") con num√©rico (9).  Result√≥ a√∫n m√°s divertido con el c√≥digo de estacionamiento: llam√© al c√≥digo "3209" como "treinta dos cero nueve", hab√≠a muchos reemplazos en el c√≥digo como <br><br><pre> <code class="python hljs">s.replace(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'32'</span></span>).replace(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'31'</span></span>).replace(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'0'</span></span>)</code> </pre> <br>  Dado que, en base al texto de solicitud en el c√≥digo de habilidad, trat√© de entender lo que el usuario quiere (la m√°quina de estado no se usa en la habilidad), tuve que hacer esta conversi√≥n con casi cada (!) Solicitud de usuario. <br><br>  Result√≥ que los servidores de Alice ya est√°n haciendo todo por usted (e incluso m√°s).  En lugar de <i>request.original_utterance</i> , debe usar <i>request.command</i> .  S√≠, esto se indica en la documentaci√≥n.  En la informaci√≥n sobre herramientas en el ejemplo de respuesta. <br><blockquote>  Campo de servicio: solicitud de usuario convertida para el procesamiento interno de Alice.  Durante la conversi√≥n, el texto, en particular, se borra de los signos de puntuaci√≥n, y los n√∫meros se convierten en n√∫meros. </blockquote>  Es extra√±o que en el ejemplo de los desarrolladores de Alice (enlace de arriba) se use el texto original ( <i>request.original_utterance</i> ).  De hecho, se est√° haciendo a√∫n m√°s en <i>request.command</i> (que no se describe en la documentaci√≥n).  Por ejemplo, un n√∫mero de tel√©fono se convierte al formato <i>(916) 123-45-67</i> ; ahora el usuario que yo <i>sepa</i> puede llamar al tel√©fono en cualquier formato que le <i>resulte</i> conveniente.  Adem√°s, las frases "Alicia, pide tal y tal habilidad", los mensajes de "Alicia" se cortan, los errores tipogr√°ficos se corrigen. <br><br>  Del lado de Alice, partes individuales de las solicitudes (n√∫meros, nombres, direcciones, fechas) se pueden convertir en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Entidades nombradas</a> .  Pero funciona raro.  Solicite <i>79161234567 1234</i> , en entidades con nombre convertidas a dos n√∫meros: <i>791612345 <b>70</b></i> y <i>1234</i> .  Por qu√© el primer n√∫mero resulta ser diferente, no fue posible averiguarlo.  El soporte de Yandex.Dialog todav√≠a est√° pensando en la respuesta. <br><br><h2>  Tiempo de respuesta de habilidad </h2><br>  Alice espera una respuesta de la habilidad en 3 segundos (Google tiene este l√≠mite: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">5/10 segundos</a> ).  Mi habilidad es acceder a servidores de terceros para iniciar y finalizar el estacionamiento.  Responden lentamente.  A veces en 3 segundos mi habilidad no tiene tiempo para dar una respuesta.  Individualmente, no fue posible aumentar el tiempo de respuesta de la habilidad.  Por lo tanto, en algunos casos, era necesario sacrificar la conveniencia; por ejemplo, al comienzo del estacionamiento, la habilidad no solicita el autom√≥vil real especificado en el perfil de la aplicaci√≥n de estacionamiento de Mosc√∫, sino que utiliza el que retuvo durante la autorizaci√≥n del usuario. <br><br>  Bueno, sobre los derechos de "I am PR";) - </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/471388/">https://habr.com/ru/post/471388/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../471372/index.html">¬øPor qu√© las empresas deben administrar los tel√©fonos inteligentes de los empleados?</a></li>
<li><a href="../471374/index.html">Te invitamos a NIXMultiConf # 3 en Jarkov</a></li>
<li><a href="../471378/index.html">¬øD√≥nde comienza la programaci√≥n?</a></li>
<li><a href="../471380/index.html">Pentesters a la vanguardia de la ciberseguridad</a></li>
<li><a href="../471384/index.html">Liga de Internet gratis</a></li>
<li><a href="../471394/index.html">Habr Weekly # 22 / C√≥mo comunicarse en un equipo, nuevos impuestos para mega-corporaciones, TON en los dedos, Amazon copia productos</a></li>
<li><a href="../471396/index.html">C√≥mo CSS Grid cambia la estructuraci√≥n de contenido</a></li>
<li><a href="../471402/index.html">Iptables y filtrado de tr√°fico de los disidentes pobres y perezosos</a></li>
<li><a href="../471404/index.html">¬øEs posible ganar m√°s trabajando como ingeniero en otro pa√≠s?</a></li>
<li><a href="../471408/index.html">Una alternativa a los inversores de fase de zumbido: l√≠neas de transmisi√≥n (TQWT, ALT)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>