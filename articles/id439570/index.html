<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¶ğŸ½ ğŸï¸ ğŸ² IPython magic untuk mengedit tag sel Jupyter ğŸ™ğŸ¿ ğŸ‡ğŸ¼ ğŸ¤¶ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya datang dengan ide, bahwa akan lebih baik untuk mengedit tag sel dengan bantuan IPython magic daripada mengklik mouse dan berinteraksi dengan tag ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IPython magic untuk mengedit tag sel Jupyter</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439570/"><p>  Saya datang dengan ide, bahwa akan lebih baik untuk mengedit tag sel dengan bantuan IPython magic daripada mengklik mouse dan berinteraksi dengan tag atau toolbar metadata.  Jadi, sekarang saya bisa melakukannya dengan mengetikkan kode ini langsung ke area input sel: </p><br><pre><code class="plaintext hljs">%tags foo bar baz</code> </pre> <a name="habracut"></a><br><h1 id="tldr">  TL; DR </h1><br><p>  Arahkan ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">intisari</a> ini untuk melihat cuplikan kode (Lisensi MIT). </p><br><h1 id="introduction">  Pendahuluan </h1><br><p>  Proyek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Jupyter</a> adalah alat luar biasa untuk pemrograman interaktif dan visualisasi data.  Ketika datang untuk mempresentasikan hasil dari upaya pemrograman yang dilakukan di notebook Jupyter Anda ada alat-alat seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nbconvert</a> dan teman-teman, yang memungkinkan untuk mengekspor hasil pekerjaan ke dalam format PDF atau HTML.  Seringkali seseorang ingin memoles buku catatan untuk menghasilkan laporan, misalnya dengan menyembunyikan sel kode tertentu atau melakukan preprocessing lainnya selama konversi.  Untuk tujuan ini, Jupyter mendukung pemberian metadata atau tag tambahan ke sel notebook. </p><br><p>  Namun, Jupyter UI untuk mengelola metadata sel agak menjengkelkan, karena melibatkan banyak mengklik mouse.  Saya ingin tetap menggunakan keyboard dan menggunakan pintasan untuk melakukan sesuatu, jika memungkinkan.  Cara yang lebih baik adalah menyimpan informasi ini langsung di sel kode.  Kernel Python (IPython) untuk notebook Jupyter mendukung apa yang disebut perintah% magic, yang memungkinkan untuk memperlakukan baris sumber yang sesuai dengan cara kustom apa pun. </p><br><h1 id="code">  Kode </h1><br><p>  Untuk mengubah metadata sel, kita perlu berbicara dengan kernel Jupyter.  A menemukan bahwa ini dimungkinkan dari kode javascript.  Untuk menyuntikkannya ke notebook kita dapat menggunakan objek tampilan khusus, misalnya: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> IPython.display <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Javascript, display display(Javascript(<span class="hljs-string"><span class="hljs-string">'alert("hi!")'</span></span>))</code> </pre> <br><p>  Di dalam kode javascript, menurut manual: "elemen yang mengandung akan tersedia sebagai <code>element</code> ". </p><br><p>  Sekarang kita dapat menulis fungsi pembantu yang akan menemukan sel input yang sesuai dan memodifikasi metadata-nya: </p><br><pre> <code class="javascript hljs">define(<span class="hljs-string"><span class="hljs-string">'setTags'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element, tags</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cell_element = element.parents(<span class="hljs-string"><span class="hljs-string">'.cell'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> index = Jupyter.notebook.get_cell_elements().index(cell_element); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cell = Jupyter.notebook.get_cell(index); cell.metadata.tags = tags; } });</code> </pre> <br><p>  Untuk memanipulasi fungsi lingkup, saya menggunakan library <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">needsejs yang</a> tersedia di jupyter. <br>  Terakhir, kami mendefinisikan sihir% kustom yang menggunakan fungsi ini. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> IPython.core.magic <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> register_cell_magic, register_line_cell_magic <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> IPython.display <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Javascript, display <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_set_tags</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(tags)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> all(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> t: isinstance(t, str), tags)) display(Javascript( <span class="hljs-string"><span class="hljs-string">""" require(['setTags'], function(setTags) { setTags(element, %s); }); """</span></span> % json.dumps(tags) )) @register_line_cell_magic <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(line, cell=None)</span></span></span><span class="hljs-function">:</span></span> _set_tags(line.split())</code> </pre> <br><p>  Pada akhirnya ada tangkapan layar dari semua langkah yang dijelaskan di atas: </p><br><p><img src="https://habrastorage.org/webt/dp/ff/vj/dpffvjgt8doougrd0yupcptyepa.png" alt="Contoh notebook"></p><br><p>  Dimungkinkan untuk mendefinisikan perintah di atas dalam <code>custom.js</code> dan modul python untuk berbagi kode di berbagai notebook.  <em>Masalah yang diketahui:</em> tag bilah alat tidak diperbarui secara otomatis. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id439570/">https://habr.com/ru/post/id439570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id439560/index.html">Adaptor blockchain Ethereum untuk platform data IRIS InterSystems</a></li>
<li><a href="../id439562/index.html">Konfigurasikan kluster Kubernetes HA pada logam kosong dengan kubeadm. Bagian 1/3</a></li>
<li><a href="../id439564/index.html">Aplikasi Praktis Transformasi Pohon AST Menggunakan Putout sebagai Contoh</a></li>
<li><a href="../id439566/index.html">Mengapa dokumentasi SRE penting? Bagian 3</a></li>
<li><a href="../id439568/index.html">SSD berbasis QLC - pembunuh hard drive? Tidak juga</a></li>
<li><a href="../id439572/index.html">Desain peralatan elektronik berbantuan komputer</a></li>
<li><a href="../id439574/index.html">SmartCard I2C Protocol. Tukar perintah APDU melalui antarmuka I2C</a></li>
<li><a href="../id439576/index.html">Tinjauan luas wawancara Python. Kiat & Trik</a></li>
<li><a href="../id439578/index.html">Untuk pertanyaan transformasi dan operasi lainnya</a></li>
<li><a href="../id439580/index.html">Membuat Git untuk Windows berfungsi di ReactOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>