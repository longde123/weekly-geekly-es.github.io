<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游뛌游낗 游 游꼣 Poner en orden la lista de reproducci칩n de torrent-TV (Super Wash) 游깼 游닏 游뚯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="UPD El servicio Torrent-TV, que era la principal fuente de contenido, ha muerto, por lo que el art칤culo carece de significado pr치ctico. 

 Las transmi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Poner en orden la lista de reproducci칩n de torrent-TV (Super Wash)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438842/"> <b>UPD</b>  <b>El servicio Torrent-TV, que era la principal fuente de contenido, ha muerto, por lo que el art칤culo carece de significado pr치ctico.</b> <br><br>  Las transmisiones en el servicio ilegal Torrent-TV (Super Wash) son transmisiones abrumadoramente originales de operadores o de un sat칠lite sin sujeci칩n.  Estas son principalmente secuencias de video entrelazadas.  Torrent TV ofrece la mejor calidad posible, pero poca estabilidad.  Hoy hay algunos canales, ma침ana no.  Hoy, algunos canales funcionan bien, ma침ana es malo.  Este servicio no es adecuado para un uso continuo sin problemas, por el cual pagaron, es decir  no pagaron, luego recibieron.  Pero es genial cuando necesitas ver algo con alta calidad (si el canal funcionar치 de manera estable en ese momento).  Otro problema es la formaci칩n de una lista de reproducci칩n personal conveniente.  Esto se discutir치 en una nota. <br><br><img src="https://habrastorage.org/webt/-q/pn/q4/-qpnq4tysuha1lgfmqtcv7uu3ha.png"><br><a name="habracut"></a><br>  La lista de reproducci칩n base de torrent-TV (Super Wash) contiene m치s de 1200 canales.  Todo tipo de regiones, diferentes pa칤ses, duplicados de SD y HD, diferentes canales de basura, etc. 200-300 canales pertenecen a los espectadores rusos.  Al mismo tiempo, la agrupaci칩n de canales aceptada no es conveniente para todos.  Parece que puedes tomar una lista de reproducci칩n de Torrent TV, organizarla seg칰n lo requiera el alma del perfeccionista.  El problema es que los enlaces de AceStream a los canales cambian peri칩dicamente, y la lista de reproducci칩n preparada ser치 in칰til.  Es decir  Necesita la generaci칩n autom치tica de una lista de reproducci칩n nueva y actualizada en una forma conveniente para usted.  Eso es lo que haremos. <br><br>  <b>Necesitar치s:</b> <br><br><ul><li>  Experiencia en la configuraci칩n de programas para ver Torrent TV ("Super Wash") y saber de qu칠 se trata. </li><li>  Enrutador con soporte de Entware (si es necesario, y algunas habilidades puede adaptar f치cilmente las instrucciones para OpenWrt o Entware en los cuadros). </li></ul><br>  <b>La nota no aborda problemas:</b> <br><br><ul><li>  Elegir y configurar un administrador de IPTV. </li><li>  Configuraci칩n del sistema en su conjunto para ver Torrent TV. </li><li>  Caracter칤sticas de cajas espec칤ficas de Android para trabajar con video entrelazado en general y Torrent TV en particular. </li></ul><br>  Utilizaremos el programa en el enrutador, que cuando lo solicite el enlace, descargar치 la lista de reproducci칩n actual de Torrent-TV, formar치 una nueva lista de reproducci칩n y le dar치: <br><br><ul><li>  Su propia lista de canales basada en la lista preparada de canales favoritos. </li><li>  Puede excluir autom치ticamente los canales SD si hay coincidencia de HD para ellos. </li><li>  Ordena los grupos y sus nombres seg칰n tu deseo. </li><li>  Nombre del canal mostrado como lo desee. </li><li>  Ordenar canales en un grupo por HD / SD (principal) y nombre. </li><li>  Enlaces incorporados a fuentes de EPG. </li><li>  La fuente de los logotipos (as칤 como los logotipos mismos) y el cumplimiento de EPG para los canales que elija. </li></ul><br><h2>  쮺칩mo funcionar치 todo despu칠s de la sintonizaci칩n? </h2><br>  Agregue un enlace a la lista de reproducci칩n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://192.168.0.1:81/playlist.cgi</a> (reemplace 192.168.0.1 con la direcci칩n interna de su enrutador) en su administrador de IPTV.  Listo <br><br><img src="https://habrastorage.org/webt/cm/on/1u/cmon1uarl1wclz_9v5zxk2f-p34.png"><br><br>  El principio de funcionamiento es muy simple.  El script playlist.cgi en el enrutador inicia el programa ttv.py, que, basado en la lista de reproducci칩n actual de Torrent-TV (cargada en el momento del acceso) y una lista dada de canales favoritos, genera una nueva lista de reproducci칩n y luego la regala. <br><br><h2>  Instalar el software necesario en el enrutador </h2><br>  Con칠ctese a trav칠s de SSH al enrutador.  En Windows, puede usar el cliente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PuTTY</a> para conectar la conexi칩n. <br><br>  Instale el software necesario: <br><br><pre><code class="bash hljs">opkg update opkg install wget ca-certificates mc python3 lighttpd-mod-cgi</code> </pre> <br>  <b>wget</b> es un programa para descargar archivos.  Ser치 necesario solo para la configuraci칩n inicial. <br><br>  <b>ca-certificados</b> - certificados para wget. <br><br>  <b>mc</b> : administrador de archivos de Midnight Commander.  Solo es necesario debido al conveniente editor mcedit.  Si est치 acostumbrado a usar otro editor de texto, entonces no se puede instalar mc. <br><br>  <b>python3</b> es un int칠rprete de Python. <br><br>  <b>lighttpd-mod-cgi</b> : servidor web lighttpd. <br><br><h2>  Descargar archivos principales </h2><br><pre> <code class="bash hljs">mkdir -p /opt/etc/ttv wget --no-check-certificate -O /opt/etc/ttv/ttv.py https://raw.githubusercontent.com/Kyrie1965/ttv/master/ttv.py wget --no-check-certificate -O /opt/share/www/playlist.cgi https://raw.githubusercontent.com/Kyrie1965/ttv/master/playlist.cgi chmod +x /opt/share/www/playlist.cgi</code> </pre> <br>  M치s adelante hablar칠 sobre su cita, pero por ahora solo mostrar칠 el contenido.  No encuentre fallas en el c칩digo de Python, hasta este momento nunca he escrito nada en Python. <br><br><div class="spoiler">  <b class="spoiler_title">Contenido /opt/etc/ttv/ttv.py</b> <div class="spoiler_text"><pre> <code class="python hljs">PLAYLIST_LOAD_URL = <span class="hljs-string"><span class="hljs-string">"http://91.92.66.82/trash/ttv-list/as.all.tag.player.m3u"</span></span> TEMPLATE_SAVE_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/template.txt"</span></span> FAVORITES_LOAD_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/favorites.txt"</span></span> PLAYLIST_SAVE_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/playlist.m3u"</span></span> LOGOS_URL = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-comment"><span class="hljs-comment">#LOGOS_URL = "https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/{}" #LOGOS_URL = "{}" STREAM_URL = "http://127.0.0.1:6878/ace/getstream?id={}&amp;.mp4" #STREAM_URL = "acestream://{}" EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz" #EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz,http://programtv.ru/xmltv.xml.gz,http://api.torrent-tv.ru/ttv.xmltv.xml.gz" import re import urllib.request import os from operator import itemgetter as i from functools import cmp_to_key from urllib.parse import urlencode import gzip def cmp(a, b): return (a &gt; b) - (a &lt; b) def multikeysort(items, columns): comparers = [ ((i(col[1:].strip()), -1) if col.startswith('-') else (i(col.strip()), 1)) for col in columns ] def comparer(left, right): comparer_iter = ( cmp(fn(left), fn(right)) * mult for fn, mult in comparers ) return next((result for result in comparer_iter if result), 0) return sorted(items, key=cmp_to_key(comparer)) def loadChannels(content): lines = content.splitlines() returnChannels = {} pattern = re.compile("group-title=\"(.*?)\"") pattern2 = re.compile("tvg-logo=\"(.*?)\"") channelName = "" channelGroup = "" channelLogoLink = "" channelStreamID = "" waitURI = False for line in lines: if line.startswith("acestream"): if waitURI: channelStreamID = line[12:] HD = False if ("HD" in channelName) or ("UHD" in channelName) or ("4K" in channelName): HD = True tmpDict = {"name": channelName, "group": channelGroup, "stream": channelStreamID, "hd": HD, "logolink": channelLogoLink} returnChannels[channelName.upper()] = tmpDict waitURI = False elif line.startswith("#EXTINF"): index = line.rfind("\",") if (index == -1): continue channelName = line[index+2:] match = pattern.search(line) if match: channelGroup = match.group(1) else: channelGroup = "" match = pattern2.search(line) if match: channelLogoLink = match.group(1) else: channelLogoLink = "" waitURI = True return returnChannels def saveTemplate(content, channels, path): lines = content.splitlines() pattern = re.compile("group-title=\"(.*?)\"") waitURI = False channelName = "" channelReplace = "" channelNewName = "" channelEPG = "" channelGroup = "" channelStreamID = "" groupDict = {} currentGroup = 1 template="" for line in lines: if line.startswith("acestream"): if waitURI: channelStreamID = line[12:] template += channelName template += "/" template += channelReplace template += "/" template += channelNewName template += "/" template += channelEPG template += "/" template += channelName + ".png" template += "/" template += channelGroup template += "\n" waitURI = False elif line.startswith("#EXTINF"): x = line.split("\",") if (len(x) != 2): continue channelName = x[1] channelNewName = x[1] channelEPG = x[1] if (channels.get(channelName.upper() + " HD") != None): channelReplace = channelName + " HD" else: channelReplace = "-" match = pattern.search(x[0]) if match: channelGroup = match.group(1) if (groupDict.get(channelGroup)): channelGroup = groupDict.get(channelGroup) else: newGroupName = "{:02d}_{}".format(currentGroup, channelGroup) currentGroup += 1 groupDict[channelGroup] = newGroupName channelGroup = newGroupName else: channelGroup = "00_Unsigned" waitURI = True file = open(path,'w', encoding='utf-8') file.write(template) file.close() return def loadFavorites(content): returnChannels = {} lines = content.splitlines() for line in lines: parts = line.split('/') if len(parts) == 6: tmpDict = {"name": parts[0], "replace": parts[1], "newName": parts[2], "EPG": parts[3], "logo": parts[4], "group": parts[5]} returnChannels[parts[0].upper()] = tmpDict elif len(parts) == 5: #    tmpDict = {"name": parts[0], "replace": parts[1], "newName": parts[2], "EPG": parts[3], "group": parts[4], "logo": parts[0] + ".png"} returnChannels[parts[0].upper()] = tmpDict return returnChannels def savePlaylist(channels, favorites, path): returnChannels = [] currentChannels = set() for key, chDict in favorites.items(): if chDict["replace"] != "-": if favorites.get(chDict["replace"].upper()) != None and channels.get(chDict["replace"].upper()) != None: currentChannels.add(chDict["replace"]) elif channels.get(chDict["name"].upper()) != None: currentChannels.add(chDict["name"]) elif channels.get(chDict["name"].upper()) != None: currentChannels.add(chDict["name"]) for ch in currentChannels: chFromFavorites = favorites.get(ch.upper()) chFromChannels = channels.get(ch.upper()) tmpDict = {"name": chFromFavorites.get("newName"), "oldName": chFromFavorites.get("name"), "EPG": chFromFavorites.get("EPG"), "group": chFromFavorites.get("group"), "logof": chFromFavorites.get("logo"), "logoc": chFromChannels.get("logolink"), "stream": chFromChannels.get("stream"), "hd": chFromChannels.get("hd")} returnChannels.append(tmpDict) result = multikeysort(returnChannels, ['group', '-hd', 'name']) template="" template += "#EXTM3U url-tvg=" template += "\"" template += EPG_LINKS template += "\"" template += "\n" for n in result: group = n.get("group") if group.find("_", 2, 3) != -1: group = group[3:] if len(LOGOS_URL) &gt; 0: template += "#EXTINF:-1 tvg-name=\"{}\" tvg-logo=\"{}\" group-title=\"{}\",{}".format(n.get("EPG"), LOGOS_URL.format(urllib.parse.quote(n.get("logof"))), group, n.get("name")) else: template += "#EXTINF:-1 tvg-name=\"{}\" tvg-logo=\"{}\" group-title=\"{}\",{}".format(n.get("EPG"), n.get("logoc"), group, n.get("name")) template += "\n" template += STREAM_URL.format(n.get("stream")) template += "\n" file = open(path,'w', encoding='utf-8') file.write(template) file.close() return result #response = urllib.request.urlopen(PLAYLIST_LOAD_URL) #content = response.read().decode("utf-8") #channels = loadChannels(content) content = "" request = urllib.request.Request(PLAYLIST_LOAD_URL) request.add_header('Accept-encoding', 'gzip') response = urllib.request.urlopen(request) if response.info().get('Content-Encoding') == 'gzip': gzipFile = gzip.GzipFile(fileobj=response) content = gzipFile.read().decode("utf-8") else: content = response.read().decode("utf-8") channels = loadChannels(content) if channels == None or (len(channels.keys()) == 0): exit() saveTemplate(content, channels, TEMPLATE_SAVE_PATH) exists = os.path.isfile(FAVORITES_LOAD_PATH) if exists: file = open(FAVORITES_LOAD_PATH,'r', encoding='utf-8') content = file.read() favorites = loadFavorites(content) savePlaylist(channels, favorites, PLAYLIST_SAVE_PATH)</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Contenido /opt/share/www/playlist.cgi</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh PATH=/opt/sbin:/opt/bin:/opt/usr/sbin:/opt/usr/bin:/usr/sbin:/usr/bin:/sbin:/bin python3 /opt/etc/ttv/ttv.py echo "Content-Type: text/plain; charset=UTF-8" echo "" echo "$(cat /opt/etc/ttv/playlist.m3u)"</span></span></code> </pre> <br></div></div><br><h2>  Configuraci칩n y arranque del servidor web </h2><br>  Abra el archivo <b>/opt/etc/lighttpd/lighttpd.conf</b> : <br><br><pre> <code class="bash hljs">mcedit /opt/etc/lighttpd/lighttpd.conf</code> </pre> <br>  Para pegar desde el b칰fer, use May칰s + Insertar, guarde - F2, salga - F10. <br><br>  Cambie la l칤nea <b># server.port = 80</b> a: <br><br><pre> <code class="bash hljs">server.port = 81</code> </pre> <br>  Abra el archivo <b>/opt/etc/lighttpd/conf.d/30-cgi.conf</b> : <br><br><pre> <code class="bash hljs">mcedit /opt/etc/lighttpd/conf.d/30-cgi.conf</code> </pre> <br>  Cambie <b>".cgi" =&gt; "/ opt / bin / perl"</b> a: <br><br><pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">".cgi"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"/bin/sh"</span></span></code> </pre> <br>  Inicie el servidor web: <br><br><pre> <code class="bash hljs">/opt/etc/init.d/S80lighttpd start</code> </pre> <br><h2>  Crear una lista de canales favoritos </h2><br>  Ejecute el programa <b>ttv.py</b> : <br><br><pre> <code class="bash hljs">python3 /opt/etc/ttv/ttv.py</code> </pre> <br>  Se crear치 un archivo de <b>plantilla template.txt</b> en la carpeta <b>/ opt / etc / ttv</b> .  Este es un archivo de texto simple.  Siempre ser치 relevante, es decir  cuando se inicia el programa, se sobrescribe con los datos actuales. <br><br>  Cada l칤nea en este archivo corresponde a un canal Torrent-TV y tiene la forma: <br>  <b>CHANNEL_NAME / CHANGE_CHANNEL / YOUR_CHANNEL_NAME / YOUR_CHANNEL_NAME__EPG / YOUR_LOGO / YOUR GROUP</b> <br><br>  Por ejemplo: <br><br>  Amedia Premium / Amedia Premium HD / Amedia Premium / Amedia Premium / Amedia Premium.png / 11_Pel칤culas <br>  Amedia Premium HD / - / Amedia Premium HD / Amedia Premium HD / Amedia Premium HD.png / 11_Pel칤culas <br><br>  Guarde este archivo en su computadora para editarlo f치cilmente (por ejemplo, usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WinSCP</a> ).  C치mbiele el nombre a favoritos.txt. <br><br>  Edite el archivo, dejando solo los canales que necesita. <br><br>  <b>CHANNEL_NAME</b> : el nombre del canal en la lista de reproducci칩n original. <br><br>  <b>CHANGE_CHANNEL</b> : el nombre del canal en la lista de reproducci칩n original para su reemplazo.  Ponga un "-" si no se necesita un reemplazo.  Por defecto, los reemplazos se sustituyen autom치ticamente en la plantilla si el canal tiene una opci칩n HD.  Por ejemplo, en la lista de reproducci칩n original hay Amedia Premium y Amedia Premium HD.  Solo Amedia Premium HD estar치 en la lista de reproducci칩n final. <br><br>  <b>YOUR_CHANNEL_NAME</b> es el nombre para mostrar en el administrador de IPTV.  Puede ser cualquier cosa y afecta solo el nombre que se muestra en el administrador de IPTV.  Por ejemplo, el canal original se llama "Paramount Comedy HD (Rusia)", y cambia su nombre a "Paramount Comedy HD". <br><br>  <b>YOUR_CHANNEL_B__EPG_NAME</b> : esto es necesario para el pleno cumplimiento de la fuente de EPG seleccionada.  Por ejemplo, el canal original se llama "Match TV HD".  Y en la EPG este canal se llama "Match!".  Cambie este par치metro a "Match!"  y obtenga el pleno cumplimiento de su fuente de EPG.  Por lo tanto, para todos los canales, puede acercar el cumplimiento de EPG al 100%. <br><br>  <b>YOUR_LOGO</b> : el nombre del archivo del logotipo.  Por defecto, ttv.py toma enlaces de logotipos de la lista de reproducci칩n original, es decir  YOUR_LOGO ser치 ignorado.  Para usarlo, debe cambiar el par치metro LOGOS_URL en ttv.py (leer치 sobre esto m치s adelante). <br><br>  <b>YOUR_GROUP</b> : el nombre del grupo de canales.  Puede usar un 칤ndice, un n칰mero de dos d칤gitos, antes del nombre del grupo.  Este 칤ndice determina el orden de los grupos en la lista de reproducci칩n final (de menor a mayor).  Despu칠s de ordenar, el 칤ndice se eliminar치 autom치ticamente del nombre del grupo. <br><br><div class="spoiler">  <b class="spoiler_title">Aqu칤 hay un ejemplo de un archivo editado de favoritos.txt</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Amedia Premium/Amedia Premium HD/Amedia Premium/Amedia Premium/Amedia Premium.png/11_   Amedia Premium HD/-/Amedia Premium HD/Amedia Premium HD/Amedia Premium HD.png/11_   / HD///.png/12_  HD/-/ HD/ HD/ HD.png/12_ Viasat History/Viasat History HD/Viasat History/Viasat History/Viasat History.png/01_ Viasat History HD/-/Viasat History HD/Viasat History/Viasat History.png/01_ Discovery Channel/Discovery Channel HD/Discovery Channel/Discovery Channel/Discovery Channel.png/01_ Discovery Channel HD/-/Discovery Channel HD/Discovery Channel HD/Discovery Channel HD.png/01_ Discovery Science/Discovery Science HD/Discovery Science/Discovery Science/Discovery Science.png/01_ Discovery Science HD/-/Discovery Science HD/Discovery Science HD/Discovery Science HD.png/01_ Amedia Hit/Amedia Hit HD/Amedia Hit/Amedia Hit/Amedia Hit.png/11_   Amedia Hit HD/-/Amedia Hit HD/Amedia Hit HD/Amedia Hit HD.png/11_    /  HD/!/!/ .png/03_   HD/-/! HD/!/  HD.png/03_ Eurosport 1/Eurosport 1 HD/Eurosport 1/Eurosport 1/Eurosport 1.png/03_ Eurosport 1 HD/-/Eurosport 1 HD/Eurosport 1 HD/Eurosport 1 HD.png/03_ Paramount Comedy HD ()/-/Paramount Comedy HD/Paramount Comedy HD ()/Paramount Comedy HD ().png/11_   !  1/!  1 HD/!  1/!  1/!  1.png/03_ !  1 HD/-/!  1 HD/!  1 HD/!  1 HD.png/03_  1/ HD/ 1/ 1/ 1.png/13_-  HD/-/ HD/ HD/ HD.png/13_-</code> </pre> <br></div></div><br>  Copie el archivo <b>favoritos.txt</b> preparado en la carpeta <b>/ opt / etc / ttv</b> en el enrutador. <br><br>  Todo esta listo.  Puede recoger la lista de reproducci칩n en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://192.168.0.1:81/playlist.cgi</a> (reemplace 192.168.0.1 con la direcci칩n interna de su enrutador).  Simplemente especifique el enlace en el administrador de IPTV y siempre tendr치 su lista de reproducci칩n actual.  El script playlist.cgi lanza el programa ttv.py que, basado en la lista de reproducci칩n actual de torrent-TV (cargada en el momento de la llamada) y favorites.txt, genera una nueva lista de reproducci칩n y luego le da esta nueva lista de reproducci칩n. <br><br>  En la salida, si todos los canales est치n presentes en la lista de reproducci칩n actual (de lo contrario, se ignorar치n los canales faltantes), obtendr치 una lista de reproducci칩n tan ordenada: <br><br><div class="spoiler">  <b class="spoiler_title">Lista de reproducci칩n</b> <div class="spoiler_text"> <code>#EXTM3U url-tvg="https://teleguide.info/download/new3/xmltv.xml.gz" <br> #EXTINF:-1 tvg-name="Discovery Channel HD" tvg-logo="http://1ttv.org/uploads/SmWnYlOvkJn8GzttT2UY0vmo8PYfMg.png" group-title="",Discovery Channel HD <br> http://127.0.0.1:6878/ace/getstream?id=b6e518df35bdffc7ea8fdd05025cec851941a102&amp;.mp4 <br> #EXTINF:-1 tvg-name="Discovery Science HD" tvg-logo="http://1ttv.org/uploads/Yjj1p6idV0HGD56Wz7JX5IeKfD44vz.png" group-title="",Discovery Science HD <br> http://127.0.0.1:6878/ace/getstream?id=03fb28986da9168dd56ec6891253bcc496c13eb5&amp;.mp4 <br> #EXTINF:-1 tvg-name="Viasat History" tvg-logo="http://1ttv.org/uploads/MWGbB8wJp5Gm4vbPHl0ktohDDjMKdr.png" group-title="",Viasat History <br> http://127.0.0.1:6878/ace/getstream?id=c6d943e1aac03c179b3af9e99d97ac6779c947c7&amp;.mp4 <br> #EXTINF:-1 tvg-name="Eurosport 1 HD" tvg-logo="http://1ttv.org/uploads/DpFTzUEA3y67Z6ObTPF4xH0XLNRAZm.png" group-title="",Eurosport 1 HD <br> http://127.0.0.1:6878/ace/getstream?id=70bd87520c622ba7dd6e41aface77d5b2f437f87&amp;.mp4 <br> #EXTINF:-1 tvg-name="!" tvg-logo="http://1ttv.org/uploads/MXyy9Uud7oDuH8JqVisjsD0csgAHnQ.png" group-title="",! HD <br> http://127.0.0.1:6878/ace/getstream?id=9af7ac309216464e67092deb23d312a20c483674&amp;.mp4 <br> #EXTINF:-1 tvg-name="!  1 HD" tvg-logo="http://1ttv.org/uploads/9PM8M6cN21wQ3M5isVZgjNepzUI4Ry.png" group-title="",!  1 HD <br> http://127.0.0.1:6878/ace/getstream?id=b8a1e8458419b63ad1c3fa7bd79431d9625c322d&amp;.mp4 <br> #EXTINF:-1 tvg-name="Amedia Hit HD" tvg-logo="http://1ttv.org/uploads/HdnTfcZCgP7Odm1cOKNq9j4yJDRiFP.png" group-title="  ",Amedia Hit HD <br> http://127.0.0.1:6878/ace/getstream?id=ed6d00e9b6c50c95902b33c841302dd709b214da&amp;.mp4 <br> #EXTINF:-1 tvg-name="Amedia Premium HD" tvg-logo="http://1ttv.org/uploads/ornzQpk6WCW6xk0lyBhlwqH8u2QyU7.png" group-title="  ",Amedia Premium HD <br> http://127.0.0.1:6878/ace/getstream?id=c38a7580985fa85fa6e0a82c6fd7403e8e5c2b50&amp;.mp4 <br> #EXTINF:-1 tvg-name="Paramount Comedy HD ()" tvg-logo="http://1ttv.org/uploads/VowjbL265DoceAryIEtqNuPv3NDhFK.png" group-title="  ",Paramount Comedy HD <br> http://127.0.0.1:6878/ace/getstream?id=a9023adab9228b8aa7f1b508b553140b69cecd80&amp;.mp4 <br> #EXTINF:-1 tvg-name=" HD" tvg-logo="http://1ttv.org/uploads/m6ODa3HXr9QNAbSThJNvWeOIEYGp7q.png" group-title="", HD <br> http://127.0.0.1:6878/ace/getstream?id=4318416741f8d35f2de38e7100b89831e0ef0617&amp;.mp4 <br> #EXTINF:-1 tvg-name=" HD" tvg-logo="http://1ttv.org/uploads/ghvqmVpPWqn9x6POAm9UJBvXFzTrqN.png" group-title="-", HD <br> http://127.0.0.1:6878/ace/getstream?id=39b9b54a5031846e4936735ec62d157d5eca56e0&amp;.mp4 <br></code> <br></div></div><br><pre> <code class="bash hljs">: Discovery Channel HD Discovery Science HD Viasat History : Eurosport 1 HD ! HD !  1 HD   : Amedia Hit HD Amedia Premium HD Paramount Comedy HD :  HD -:  HD</code> </pre> <br>  Si es necesario, puede cambiar algunos par치metros en el programa ttv.py: <br><br><pre> <code class="bash hljs">mcedit /opt/etc/ttv/ttv.py</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Opciones disponibles para cambio</b> <div class="spoiler_text"> <code>PLAYLIST_LOAD_URL = "http://91.92.66.82/trash/ttv-list/as.all.tag.player.m3u" <br> TEMPLATE_SAVE_PATH = "/opt/etc/ttv/template.txt" <br> FAVORITES_LOAD_PATH = "/opt/etc/ttv/favorites.txt" <br> PLAYLIST_SAVE_PATH = "/opt/etc/ttv/playlist.m3u" <br> LOGOS_URL = "" <br> #LOGOS_URL = "https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/{}" <br> #LOGOS_URL = "{}" <br> STREAM_URL = "http://127.0.0.1:6878/ace/getstream?id={}&amp;.mp4" <br> #STREAM_URL = "acestream://{}" <br> EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz" <br> #EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz,http://programtv.ru/xmltv.xml.gz,http://api.torrent-tv.ru/ttv.xmltv.xml.gz"</code> <br> </div></div><br>  <b>PLAYLIST_LOAD_URL</b> : enlace para descargar la lista de reproducci칩n actual de torrent-TV. <br>  <b>TEMPLATE_SAVE_PATH</b> : ruta para guardar la plantilla. <br>  <b>FAVORITES_LOAD_PATH</b> : ruta para cargar la lista de canales favoritos. <br>  <b>PLAYLIST_SAVE_PATH</b> : ruta para guardar una nueva lista de reproducci칩n. <br>  <b>LOGOS_URL</b> : enlace con los logotipos de los canales.  Puede usar la cadena vac칤a ("") para tomar enlaces de la lista de reproducci칩n original, mientras que los logotipos de favorites.txt ser치n ignorados. <br>  <b>STREAM_URL</b> : vista del enlace de transmisi칩n en la lista de reproducci칩n final.  Esto puede ser un enlace directo a Ace Stream o un enlace a Ace Stream Proxy.  Depende del administrador de IPTV que est칠 utilizando. <br>  <b>EPG_LINKS</b> : una lista de enlaces EPG.  Todos los administradores de IPTV son diferentes.  Hay quienes no saben c칩mo tomar el enlace a la EPG de la lista de reproducci칩n.  Hay aquellos que solo admiten una fuente EPG de una lista de reproducci칩n.  Hay quienes no saben c칩mo combinar EPG de diferentes fuentes. <br><br>  Solo le interesar치n STREAM_URL, LOGOS_URL, EPG_LINKS, porque  el aspecto de la lista de reproducci칩n final depende de ellos.  Para ellos, se dan ejemplos alternativos en el archivo. <br><br><h2>  Conclusi칩n </h2><br>  Como resultado, obtienes la lista de reproducci칩n de Torrent TV real (Super Wash) con tu propia lista de canales, con tus propios nombres de canales, con tus propios grupos y su clasificaci칩n arbitraria, tus propios logotipos, con tu propio mapeo EPG, con la capacidad de excluir duplicados HD / SD, con clasificaci칩n canales dentro de grupos por HD / SD y nombre.  Solo necesita configurar todo una vez y una vez crear un archivo de sus canales favoritos.  Y luego todos los dispositivos en su red dom칠stica recibir치n la lista de reproducci칩n deseada a trav칠s del enlace, haciendo "todo es hermoso" de inmediato sin ninguna configuraci칩n adicional. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/bndudCB3Nps" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  UPD  19/02/2019: <br><br><ul><li>  Se agreg칩 compatibilidad con gzip al cargar la lista de reproducci칩n original ("superwash" ahora proporciona ttv.all.tag.player.m3u solo en gzip).  Su lista de reproducci칩n creada se dar치, como antes, en texto / sin formato. </li><li>  Se agreg칩 la capacidad de tomar enlaces a logotipos de la lista de reproducci칩n original. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438842/">https://habr.com/ru/post/438842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438832/index.html">C칩mo no perder el presupuesto para la producci칩n en serie de casos: 20 ejemplos de la pr치ctica de la Oficina de Dise침o de Ingenier칤a</a></li>
<li><a href="../438834/index.html">쮼l dise침ador tiene una nueva idea? 쯈u칠 podr칤a ser m치s f치cil?</a></li>
<li><a href="../438836/index.html">Monitoreo de temperatura del servidor de bricolaje</a></li>
<li><a href="../438838/index.html">Eventos digitales en Mosc칰 del 4 al 10 de febrero.</a></li>
<li><a href="../438840/index.html">Orgullo y pasi칩n, la historia de convertir un sue침o en un proyecto espacial</a></li>
<li><a href="../438850/index.html">Mosc칰 JS 44 - anuncio</a></li>
<li><a href="../438852/index.html">Nuevas puertas de enlace GSM de OpenVox</a></li>
<li><a href="../438854/index.html">Explicaci칩n de la naturaleza f칤sica del fen칩meno de "Fuerza de elevaci칩n" sin usar la ecuaci칩n de Bernoulli</a></li>
<li><a href="../438856/index.html">Ca칤da de la vida</a></li>
<li><a href="../438858/index.html">C칩mo usar la segmentaci칩n, la orientaci칩n y el posicionamiento (STP) en el desarrollo de una estrategia de marketing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>