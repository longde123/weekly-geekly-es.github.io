<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úä ‚ö±Ô∏è üö∂üèø Organiser un projet ML avec Ocean üë®üèæ‚Äç‚öïÔ∏è üö¢ üëê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entr√©e 


 Au fil des ann√©es de d√©veloppement de projets ML et DL, notre studio a accumul√© une grande base de code, beaucoup d'exp√©rience et des id√©es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Organiser un projet ML avec Ocean</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/surfstudio/blog/459340/"><p><img src="https://habrastorage.org/webt/cz/_r/ya/cz_ryawz8unift6rexjknj69rvo.png" alt="image"></p><br><h2 id="vstuplenie">  Entr√©e </h2><br><p>  Au fil des ann√©es de d√©veloppement de projets ML et DL, notre studio a accumul√© une grande base de code, beaucoup d'exp√©rience et des id√©es et conclusions int√©ressantes.  Lorsque vous d√©marrez un nouveau projet, ces connaissances utiles vous aident √† d√©marrer la recherche en toute confiance, √† r√©utiliser des m√©thodes utiles et √† obtenir les premiers r√©sultats plus rapidement. </p><br><p>  Il est tr√®s important que tous ces mat√©riaux soient non seulement dans l'esprit des d√©veloppeurs, mais √©galement sous forme lisible sur disque.  Cela permettra de former plus efficacement les nouveaux employ√©s, de les mettre √† jour et de les immerger dans le projet. </p><br><p>  Bien s√ªr, cela n'a pas toujours √©t√© le cas.  Nous avons rencontr√© beaucoup de probl√®mes au d√©but </p><br><ul><li>  Chaque projet √©tait organis√© diff√©remment, surtout s'il √©tait initi√© par des personnes diff√©rentes. </li><li>  Ils n'ont pas su ce que faisait le code, comment l'ex√©cuter et qui √©tait l'auteur. </li><li>  Ils n'ont pas utilis√© la virtualisation au bon niveau, emp√™chant souvent leurs coll√®gues d'installer des biblioth√®ques existantes d'une version diff√©rente. </li><li>  Les conclusions tir√©es des cartes qui se sont install√©es et sont mortes dans la montagne des cahiers de jupyter ont √©t√© oubli√©es. </li><li>  Rapports perdus sur les r√©sultats et l'avancement du projet. </li></ul><br><p>  Afin de r√©soudre ces probl√®mes une fois pour toutes, nous avons d√©cid√© que nous devions travailler √† la fois sur une organisation unifi√©e et appropri√©e du projet, et sur la virtualisation, l'abstraction des composants individuels et la r√©utilisation du code utile.  Progressivement, tous nos progr√®s dans ce domaine sont devenus un cadre ind√©pendant - Oc√©an. </p><br><p>  Cerise sur le g√¢teau - les journaux du projet, qui sont agr√©g√©s et transform√©s en un magnifique site, sont automatiquement collect√©s √† l'aide d'une seule commande. </p><br><p>  Dans l'article, nous vous expliquerons avec un petit exemple artificiel de quelles parties Ocean se compose et comment l'utiliser. </p><a name="habracut"></a><br><h2 id="pochemu-ocean">  Pourquoi l'oc√©an </h2><br><p>  Dans le monde du ML, nous avons envisag√© d'autres options.  Tout d'abord, nous devons mentionner le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cookiecutter-data-science</a> (ci <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-</a> apr√®s CDS) en tant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">qu'inspirateur</a> id√©ologique.  Commen√ßons par le bon: CDS offre non seulement une structure de projet pratique, mais indique √©galement comment g√©rer le projet pour que tout se passe bien - par cons√©quent, nous vous recommandons de faire une digression et de regarder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les</a> principales id√©es cl√©s de cette approche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans l'article CDS original</a> . </p><br><p>  Arm√© de CDS dans le projet de travail, nous y avons imm√©diatement apport√© plusieurs am√©liorations: nous avons ajout√© un enregistreur de fichiers pratique, une classe de coordination responsable de la navigation dans le projet et un g√©n√©rateur automatique de documentation Sphinx.  De plus, plusieurs commandes ont √©t√© soumises au Makefile, de sorte que m√™me un non initi√© dans les d√©tails du chef de projet √©tait pratique pour les ex√©cuter. </p><br><p>  Cependant, dans le processus, les inconv√©nients de l'approche CDS ont commenc√© √† appara√Ætre: </p><br><ul><li>  Le dossier de <strong>donn√©es</strong> peut s'agrandir, mais lequel des scripts ou des cahiers g√©n√®re le fichier suivant n'est pas compl√®tement clair.  Dans un grand nombre de fichiers, il est facile de se confondre.  Il n'est pas clair si, dans le cadre de la mise en ≈ìuvre de la nouvelle fonctionnalit√©, il est n√©cessaire d'utiliser certains des fichiers existants, car la description ou la documentation √† leur fin n'est stock√©e nulle part. </li><li> Dans les <strong>donn√©es, il n'y a</strong> pas assez de sous-dossier de <strong>fonctionnalit√©s</strong> dans lequel vous pouvez stocker des signes: statistiques calcul√©es, vecteurs et autres caract√©ristiques √† partir desquelles diff√©rentes repr√©sentations finales des donn√©es seraient collect√©es.  Cela a d√©j√† √©t√© remarquablement √©crit dans un article de blog. </li><li>  <strong>src</strong> est un autre dossier de probl√®mes.  Il a des fonctions pertinentes pour l'ensemble du projet, par exemple, la pr√©paration et le nettoyage des donn√©es du module <strong>src.data</strong> .  Mais il y a aussi le module <strong>src.models</strong> , qui contient tous les mod√®les de toutes les exp√©riences, et il peut y en avoir des dizaines.  Par cons√©quent, <strong>src</strong> est mis √† jour tr√®s souvent, se d√©veloppant avec des changements tr√®s mineurs, et selon la philosophie CDS, apr√®s chaque mise √† jour, vous devez reconstruire le projet, et c'est aussi le moment ..., - eh bien, vous comprenez. </li><li>  <strong>des r√©f√©rences sont</strong> pr√©sent√©es, mais il reste une question ouverte: qui, quand et sous quelle forme devrait y apporter le mat√©riel.  Et vous pouvez en dire beaucoup au cours du projet: quel travail a √©t√© fait, quel est leur r√©sultat, quels sont les plans futurs. </li></ul><br><p>  Pour r√©soudre les probl√®mes ci-dessus, l'essence suivante est pr√©sent√©e dans Ocean: <em>experiment</em> .  Une exp√©rience est un r√©f√©rentiel de toutes les donn√©es impliqu√©es dans le test d'une hypoth√®se.  Cela peut inclure: quelles donn√©es ont √©t√© utilis√©es, quelles donn√©es (artefacts) ont r√©sult√©, la version du code, l'heure de d√©but et de fin de l'exp√©rience, le fichier ex√©cutable, les param√®tres, les mesures et les journaux.  Certaines de ces informations peuvent √™tre suivies √† l'aide d'utilitaires sp√©ciaux, par exemple, MLFlow.  Cependant, la structure des exp√©riences pr√©sent√©es dans Ocean est plus riche et plus flexible. </p><br><p>  Le module d'une exp√©rience est le suivant: </p><br><pre><code class="plaintext hljs">&lt;project_root&gt; ‚îî‚îÄ‚îÄ experiments ‚îú‚îÄ‚îÄ exp-001-Tree-models ‚îÇ ‚îú‚îÄ‚îÄ config &lt;- yaml-   ‚îÇ ‚îú‚îÄ‚îÄ models &lt;-   ‚îÇ ‚îú‚îÄ‚îÄ notebooks &lt;-    ‚îÇ ‚îú‚îÄ‚îÄ scripts &lt;- , , train.py  predict.py ‚îÇ ‚îú‚îÄ‚îÄ Makefile &lt;-      ‚îÇ ‚îú‚îÄ‚îÄ requirements.txt &lt;-    ‚îÇ ‚îî‚îÄ‚îÄ log.md &lt;-    ‚îÇ ‚îú‚îÄ‚îÄ exp-002-Gradient-boosting ...</code> </pre> <br><p>  Nous partageons la base de code: un bon code r√©utilisable qui est pertinent tout au long du projet reste dans le module <b>src</b> du niveau projet.  Il est rarement mis √† jour, vous devez donc moins souvent cr√©er un projet.  Et le module de <b>scripts</b> d'une exp√©rience doit contenir du code qui n'est pertinent que pour l'exp√©rience en cours.  Ainsi, il peut √™tre chang√© fr√©quemment: il n'affecte pas le travail des coll√®gues dans d'autres exp√©riences. </p><br><p>  Examinons les possibilit√©s de notre framework en utilisant l'exemple d'un projet abstrait ML / DL. </p><br><h2 id="workflow-proekta">  Flux de travail du projet </h2><br><h3 id="inicializaciya">  Initialisation </h3><br><p>  Ainsi, le client - la police de Chicago - nous a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">transmis</a> les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">donn√©es</a> et la t√¢che: analyser les crimes commis dans la ville au cours de la p√©riode 2011-2017 et tirer des conclusions. </p><br><p>  Commen√ßons!  Nous allons au terminal et ex√©cutons la commande: </p><br><p> <code>ocean project new -n Crimes</code> </p> <br><p>  Le cadre a cr√©√© le dossier du projet sur les <b>d√©lits</b> correspondant.  Nous regardons sa structure: </p><br><pre> <code class="plaintext hljs">crimes ‚îú‚îÄ‚îÄ crimes &lt;- src-   ,    ‚îú‚îÄ‚îÄ config &lt;- ,     ‚îú‚îÄ‚îÄ data &lt;-  ‚îú‚îÄ‚îÄ demos &lt;-    ‚îú‚îÄ‚îÄ docs &lt;- Sphinx- ‚îú‚îÄ‚îÄ experiments &lt;-  ‚îú‚îÄ‚îÄ notebooks &lt;-   EDA ‚îú‚îÄ‚îÄ Makefile &lt;-       ‚îú‚îÄ‚îÄ log.md &lt;-   ‚îú‚îÄ‚îÄ README.md ‚îî‚îÄ‚îÄ setup.py</code> </pre> <br><p>  <b>Le coordinateur</b> du module du m√™me nom, d√©j√† √©crit et pr√™t, permet de naviguer dans tous ces dossiers.  Pour l'utiliser, le projet doit √™tre assembl√©: </p><br><p> <code>make package</code> </p> <br><blockquote>  <b>Il s'agit d'un bug</b> : si les commandes make ne veulent pas √™tre ex√©cut√©es, ajoutez-y le drapeau -B, par exemple, "make -B package".  Cela s'applique √† tous les autres exemples. </blockquote><br><h3 id="logi-i-eksperimenty">  Journaux et exp√©riences </h3><br><p>  Nous commen√ßons par le fait que les donn√©es client, dans notre cas le fichier <b>crimes.csv</b> , sont plac√©es dans le dossier <b>data / raw</b> . </p><br><p>  Sur le site Web de Chicago, il y a des cartes avec les divisions de la ville en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">postes</a> (¬´temps¬ª - l'emplacement le plus petit pour lequel une voiture de patrouille est affect√©e), les secteurs (¬´secteurs¬ª, compos√©s de 3 √† 5 postes), les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sections</a> (¬´districts¬ª, comprenant: 3 secteurs), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les districts administratifs</a> (¬´quartiers¬ª) et, enfin, les espaces publics (¬´zone communautaire¬ª).  Ces donn√©es peuvent √™tre utilis√©es pour la visualisation.  Dans le m√™me temps, les fichiers json avec les coordonn√©es des sections de polygones de chaque type ne sont pas des donn√©es envoy√©es par le client, nous les mettons donc en <b>donn√©es / externes</b> . </p><br><p>  Ensuite, vous devez introduire le concept d'exp√©rience.  Tout est simple: nous consid√©rons une t√¢che distincte comme une exp√©rience distincte.  Besoin d'analyser / pomper les donn√©es et de les pr√©parer pour une utilisation future?  Cela vaut la peine de faire une exp√©rience.  Pr√©parez-vous beaucoup de visualisation et de rapports?  Exp√©rience s√©par√©e.  Tester l'hypoth√®se en pr√©parant un mod√®le?  Eh bien, vous obtenez le point. </p><br><p>  Pour cr√©er notre premi√®re exp√©rience √† partir du dossier du projet, nous effectuons: </p><br><p> <code>ocean exp new -n Parsing -a ivanov</code> </p> <br><p>  Maintenant un nouveau dossier avec le nom <b>exp-001-Parsing est</b> apparu dans le dossier <b>crimes / experiences</b> , sa structure est donn√©e ci-dessus. </p><br><p>  Apr√®s cela, vous devez regarder les donn√©es.  Pour ce faire, cr√©ez un ordinateur portable dans le dossier des <b>carnets</b> correspondant.  Dans Surf, nous suivons le nom ¬´num√©ro d'ordinateur portable - nom¬ª, et l'ordinateur portable cr√©√© s'appellera <b>001-Parse-data.ipynb</b> .  √Ä l'int√©rieur, nous pr√©parerons des donn√©es pour de futurs travaux. </p><br><div class="spoiler">  <b class="spoiler_title">Code de pr√©paration des donn√©es</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd pd.options.display.max_columns = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-comment"><span class="hljs-comment">#       : from crimes.coordinator import Coordinator coord = Coordinator() coord.data_raw.contents() &gt; ['/opt/jupyterhub/notebooks/aolferuk/crimes/data/raw/crimes.csv'] #     : df = coord.data_raw.join('crimes.csv').load() df['Date'] = pd.to_datetime(df['Date']) df['Updated On'] = pd.to_datetime(df['Updated On']) df['Location X'] = np.nan df['Location Y'] = np.nan df.loc[df.Location.notnull(), 'Location X'] = df.loc[df.Location.notnull(), 'Location'].apply(lambda x: eval(x)[0]) df.loc[df.Location.notnull(), 'Location Y'] = df.loc[df.Location.notnull(), 'Location'].apply(lambda x: eval(x)[1]) df.drop('Location', axis=1, inplace=True) df['month'] = df.Date.apply(lambda x: x.month) df['day'] = df.Date.apply(lambda x: x.day) df['hour'] = df.Date.apply(lambda x: x.hour) #     : coord.data_interim.join('crimes.pkl').save(df)</span></span></code> </pre> </div></div><br><p>  Pour que vos coll√®gues sachent ce que vous avez fait et si vos r√©sultats peuvent √™tre utilis√©s par eux, vous devez commenter cela dans le journal: le fichier <b>log.md.</b>  La structure du journal (qui est essentiellement un fichier de d√©marque familier) est la suivante: </p><br><p><img src="https://habrastorage.org/webt/4g/us/lz/4guslzybw2d55w0nvck2y_q1nyu.png" alt="log.md"></p><br><p>  Les pi√®ces remplies √† la main sont surlign√©es en couleur.  La m√©ta principale de l'exp√©rience (couleur prune claire) est l'auteur et l'explication de sa t√¢che, le r√©sultat auquel l'exp√©rience va.  Les liens vers les donn√©es, prises et g√©n√©r√©es au cours du processus (couleur verte), aident √† surveiller les fichiers de donn√©es et √† comprendre qui, dans quoi et pourquoi les utilise.  Le journal lui-m√™me (couleur jaune) indique le r√©sultat du travail, les conclusions et le raisonnement.  Toutes ces donn√©es deviendront plus tard le contenu du site du journal du projet. </p><br><p>  Vient ensuite l'√©tape EDA ( <em>Exploratory Data Analysis - ¬´intelligence data analysis¬ª</em> ).  Peut-√™tre qu'elle sera men√©e par diff√©rentes personnes, et, bien s√ªr, nous aurons besoin de r√©sultats sous forme de rapports et de graphiques plus tard.  Ces arguments sont l'occasion de cr√©er une nouvelle exp√©rience.  Nous r√©alisons: </p><br><p> <code>ocean exp new -n Eda -a ivanov</code> </p> <br><p>  Dans le dossier des <b>cahiers</b> de l'exp√©rience, cr√©ez le cahier <b>001-EDA.ipynb</b> .  Le code complet n'a pas de sens, mais il n'est pas n√©cessaire, par exemple, pour vos coll√®gues.  Mais vous avez besoin de graphiques et de conclusions.  Beaucoup de code sort dans le cahier, et ce n'est pas en soi ce que l'on veut montrer au client.  Par cons√©quent, nous enregistrerons nos d√©couvertes et nos informations dans le fichier <b>log.md</b> et enregistrerons les images des graphiques dans des <b>r√©f√©rences</b> . </p><br><p>  Voici, par exemple, une carte des zones s√ªres de Chicago, si le destin vous y am√®ne: </p><br><p><img src="https://habrastorage.org/webt/0d/gc/yo/0dgcyoulqtdvmgoaclyjjdrd3t8.png" alt="chicagoMap"></p><br><p>  Il vient d'√™tre re√ßu dans un cahier et transf√©r√© aux <b>r√©f√©rences</b> . </p><br><p>  L'entr√©e suivante a √©t√© ajout√©e au journal: </p><br><pre> <code class="plaintext hljs">19.02.2019, 18:15 EDA conclusion: * The most common and widely spread crimes are theft (including burglary), battery and criminal damage done with firearms. * In 1 case out of 4 the suspect will be set free after detention. [!Criminal activity in different beats of the city](references/beats_activity.jpg) Actual exploration you can check in [the notebook](notebooks/001-Eda.ipynb)</code> </pre> <br><p>  Remarque: le graphique est con√ßu comme l'insertion d'une image dans un fichier md.  Et si vous laissez un lien vers le bloc-notes, il sera converti au format html et enregistr√© en tant que page distincte sur le site. </p><br><p>  Pour le collecter √† partir des journaux d'exp√©riences, nous ex√©cutons la commande suivante au niveau du projet: </p><br><p> <code>ocean log new</code> </p> <br><p>  Apr√®s cela, le dossier <b>crime / project_log est cr√©√©</b> et <b>index.html</b> est le journal du projet. </p><br><blockquote>  <b>Il s'agit d'un bug</b> : lorsqu'il est affich√© dans Jupyter, le site est impl√©ment√© comme un iframe pour plus de s√©curit√©, et donc les polices ne s'affichent pas correctement.  Par cons√©quent, en utilisant Ocean, vous pouvez imm√©diatement cr√©er une archive avec une copie du site afin qu'il soit pratique de le t√©l√©charger et de l'ouvrir sur un ordinateur local ou de l'envoyer par courrier.  Comme √ßa: <br> <code>ocean log archive [-n NAME] [-p PASSWORD]</code> </blockquote> <br><h3 id="dokumentaciya">  La documentation </h3><br><p>  Jetons un coup d'≈ìil √† la documentation de construction √† l'aide de Sphinx.  Cr√©ez une fonction dans le fichier <b>crimes / my_cool_module.py</b> et documentez-la.  Notez que Sphinx utilise le format de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">texte restructur√©</a> (RST): </p><br><div class="spoiler">  <b class="spoiler_title">my_cool_module.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_super_cool_random</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(max_value)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">''' Returns a random number from [0; max_value) interval. Considers the number to be taken from uniform distribution. :param max_value: Maximum value that defines range. :returns: Random number. '''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-comment"><span class="hljs-comment"># Good enough to begin with</span></span></code> </pre> </div></div><br><p>  Et puis tout est tr√®s simple: au niveau du projet, nous ex√©cutons l'√©quipe de g√©n√©ration de documentation, et vous √™tes pr√™t: </p><br><p> <code>ocean docs new</code> </p> <br><blockquote>  <strong>Question du public</strong> : Pourquoi, si nous avons collect√© le projet via <code>make</code> , devez-vous collecter de la documentation √† travers l' <code>ocean</code> ? <br>  <strong>R√©ponse</strong> : le processus de g√©n√©ration de documentation n'est pas seulement l'ex√©cution de la commande Sphinx, qui peut √™tre plac√©e dans <code>make</code> .  Ocean prend en charge la num√©risation du catalogue de vos codes sources, construit un index pour Sphinx √† partir de ceux-ci, et seulement alors Sphinx lui-m√™me se met au travail. </blockquote><p>  Une documentation html pr√™te √† l'emploi vous attend le long du chemin <b>crimes / docs / _build / html / index.html</b> .  Et notre module avec commentaires y est d√©j√† apparu: </p><br><p><img src="https://habrastorage.org/webt/j0/fw/dp/j0fwdpya1gqoovqlstlvulpycgq.jpeg" alt="genDoc"></p><br><h3 id="modeli">  Les mod√®les </h3><br><p>  L'√©tape suivante consiste √† cr√©er le mod√®le.  Nous r√©alisons: </p><br><p> <code>ocean exp new -n Model -a ivanov</code> </p> <br><p>  Et cette fois, jetez un ≈ìil √† ce qui se trouve dans le dossier des <b>scripts</b> √† l'int√©rieur de l'exp√©rience.  Le fichier <b>train.py</b> est vierge pour le futur processus de formation.  Le fichier contient d√©j√† le code passe-partout qui fait plusieurs choses √† la fois. </p><br><ul><li>  La fonction d'apprentissage prend plusieurs chemins de fichiers: <br><ul><li>  Dans le fichier de configuration, dans lequel il est raisonnable de transf√©rer les param√®tres du mod√®le, les param√®tres de formation et d'autres options pratiques √† contr√¥ler de l'ext√©rieur, sans plonger dans le code. </li><li>  Vers le fichier de donn√©es. </li><li>  Chemin d'acc√®s au r√©pertoire dans lequel vous souhaitez enregistrer le vidage de mod√®le final. </li></ul></li><li>  Suit les m√©triques obtenues dans le processus d'apprentissage dans <b>mlflow</b> .  Tout ce qui a √©t√© demand√© peut √™tre visualis√© via le mlflow de l'interface utilisateur en ex√©cutant la commande <code>make dashboard</code> dans le dossier d'exp√©rience. </li><li>  Envoie une alerte √† votre t√©l√©gramme indiquant que le processus d'apprentissage est termin√©.  Pour impl√©menter ce m√©canisme, le bot <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Alarmerbot a</a> √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilis√©</a> .  Pour que cela fonctionne, vous devez faire un peu: envoyer la commande / start au bot, puis transf√©rer le jeton √©mis par le bot dans le <b>fichier crimes / config / alarm_config.yml</b> .  La cha√Æne peut ressembler √† ceci: <br> <code>ivanov: a5081d-1b6de6-5f2762</code> </li> <li>  Il est contr√¥l√© depuis la console. </li></ul><br><p>  Pourquoi g√©rer notre script depuis la console?  Tout est organis√© pour que le processus d'apprentissage ou d'obtention des pr√©dictions de n'importe quel mod√®le soit facilement organis√© par un d√©veloppeur tiers qui ne conna√Æt pas les d√©tails de la mise en ≈ìuvre de votre exp√©rience.  Pour que toutes les pi√®ces du puzzle <b>s'embo√Ætent</b> , apr√®s la conception de <b>train.py,</b> vous devez organiser le <b>Makefile</b> .  Il contient la commande <b>train</b> vierge, et il vous suffit de d√©finir correctement les chemins d'acc√®s aux fichiers de configuration requis r√©pertori√©s ci-dessus, et de r√©pertorier toutes les personnes qui souhaitent recevoir des notifications de t√©l√©gramme dans la valeur du param√®tre de nom d'utilisateur.  En particulier, l'alias fonctionne, ce qui enverra une alerte √† tous les membres de l'√©quipe. </p><br><p>  Une fois que tout est pr√™t, notre exp√©rience commence par la <code>make train</code> , simplement et avec √©l√©gance. </p><br><p>  Si vous souhaitez utiliser les r√©seaux de neurones d'autres personnes, les environnements virtuels ( <b>venv</b> ) vous aideront.  Les cr√©er et les supprimer dans le cadre d'une exp√©rience est tr√®s simple: </p><br><ul><li>  <code>ocean env new</code> cr√©era un nouvel environnement.  Il est non seulement actif par d√©faut, mais cr√©e √©galement un noyau suppl√©mentaire (noyau) pour les blocs-notes et pour des recherches ult√©rieures.  Il sera appel√© de la m√™me mani√®re que le nom de l'exp√©rience. </li><li>  <code>ocean env list</code> affiche une liste de noyaux. </li><li>  <code>ocean env delete</code> environnement cr√©√© dans l'exp√©rience. </li></ul><br><h2 id="chego-ne-hvataet">  Qu'est-ce qui manque? </h2><br><ul><li>  Ocean n'est pas ami avec conda ( <del>  parce que nous ne l'utilisons pas </del>  ) </li><li>  Mod√®le de projet en anglais uniquement. </li><li>  Le probl√®me de localisation s'applique toujours au site: la construction du journal du projet suppose que tous les journaux sont en anglais. </li></ul><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Le code source du projet se trouve <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Si vous √™tes int√©ress√© - super!  Vous pouvez trouver plus d'informations dans le fichier README <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans le r√©f√©rentiel Ocean</a> . </p><br><p>  Et comme ils le disent g√©n√©ralement dans de tels cas, les contributions sont les bienvenues, nous ne serons heureux que si vous participez √† l'am√©lioration du projet. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459340/">https://habr.com/ru/post/fr459340/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459328/index.html">Meilleur rapport qualit√© / prix - Mpow A5 (059)</a></li>
<li><a href="../fr459330/index.html">Bitrix pour programmeur et manager: amour et haine</a></li>
<li><a href="../fr459334/index.html">YouTrack 2019.2: une banni√®re √† l'√©chelle du syst√®me, des am√©liorations √† la page de la liste des t√¢ches, de nouvelles options de recherche et plus encore</a></li>
<li><a href="../fr459336/index.html">Vivez et apprenez. Partie 1. Orientation scolaire et professionnelle</a></li>
<li><a href="../fr459338/index.html">Utilisation du v√©rificateur comme moyen de mod√©lisation rapide des projets RTL. Introduction √† UVM</a></li>
<li><a href="../fr459342/index.html">Cache √† distance pour iOS, basculements de fonctionnalit√©s, th√®mes sombres et carri√®re de d√©veloppeur - rapportez avec Avito iOS Meetup # 7</a></li>
<li><a href="../fr459344/index.html">Mesures DevOps - o√π obtenir des donn√©es pour les calculs</a></li>
<li><a href="../fr459346/index.html">Autour du monde avec un livre √©lectronique: ONYX BOOX James Cook 2 Review</a></li>
<li><a href="../fr459348/index.html">Un autre contournement d'authentification dans les r√©seaux Wi-Fi publics</a></li>
<li><a href="../fr459350/index.html">Nouvelles du monde d'OpenStreetMap n ¬∞ 467 (25/06/2019 - 01.07.2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>