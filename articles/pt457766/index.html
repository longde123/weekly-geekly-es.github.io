<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äçüîß üë©üèø‚Äç‚öïÔ∏è üöÖ Geramos n√≠veis de ladrilhos e ocultamos quadrados do jogador üìø üë©üèæ‚Äçüî¨ üë©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gera√ß√£o de n√≠vel no inexplorado 2 
 Estamos muito orgulhosos do gerador de n√≠vel de jogo Unexplored 2, este √© um programa que atende a todos os requis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Geramos n√≠veis de ladrilhos e ocultamos quadrados do jogador</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457766/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/y7/gx/lz/y7gxlziwifqpjitd5m4rqtp-x8a.gif"></div><br><h1>  Gera√ß√£o de n√≠vel no inexplorado 2 </h1><br>  Estamos muito orgulhosos do gerador de n√≠vel de jogo Unexplored 2, este √© um programa que atende a todos os requisitos modernos.  Em um post, falarei sobre como os n√≠veis de jogo s√£o criados. <br><br>  N√£o tivemos que reinventar a roda.  No Unexplored 1, j√° criamos t√©cnicas que influenciaram muito o sucesso do primeiro jogo.  O 2 inexplorado apenas continuou o que foi iniciado.  A base de nossa tecnologia consiste em duas partes: usamos a gera√ß√£o de v√°rios est√°gios, que quase simula um processo muito semelhante ao trabalho de um projetista de n√≠vel de vida.  Al√©m disso, usamos uma t√©cnica chamada " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gera√ß√£o de masmorra c√≠clica</a> ", que √© muito melhor para gerar n√≠veis de apar√™ncia natural do que a maioria dos aplicativos de cria√ß√£o de conte√∫do generativo padr√£o.  Neste post vou falar sobre o primeiro aspecto.  A adapta√ß√£o da gera√ß√£o c√≠clica de masmorras ao Unexplored 2 ser√° o t√≥pico de um post futuro. <br><br><h2>  Imita√ß√£o de design de n√≠vel "humano" </h2><br>  O gerador de n√≠vel divide o processo de gera√ß√£o de n√≠vel em um conjunto inteiro de est√°gios controlados.  Vai do planejamento de alto n√≠vel para um mapa de n√≠vel detalhado de baixo n√≠vel.  De fato, ele primeiro cria um esbo√ßo do n√≠vel e come√ßa a adicionar detalhes at√© que o n√≠vel seja conclu√≠do e preenchido. <br><a name="habracut"></a><br>  Em cada est√°gio individual deste processo, usamos gram√°ticas generativas para transformar o n√≠vel gerado nos est√°gios anteriores.  Em particular, usamos gram√°ticas de blocos e gram√°ticas gr√°ficas, que s√£o variedades de gram√°ticas de string mais gerais que simplesmente pesquisam e substituem partes de strings por outras, como as express√µes regulares.  Se voc√™ n√£o estiver familiarizado com os conceitos de gram√°ticas generativas e express√µes regulares, recomendo que voc√™ procure exemplos na Internet (ou apenas continue lendo - voc√™ n√£o precisar√° de conhecimento aprofundado para entender o significado desta publica√ß√£o). <br><br>  A primeira etapa do n√≠vel √© relativamente simples.  Usamos um bitmap de baixa resolu√ß√£o para localizar os princ√≠pios b√°sicos do n√≠vel.  No exemplo abaixo, o n√≠vel √© inicialmente muito simples: consiste apenas na entrada (e) √† esquerda, na entrada √† direita e na conex√£o do caminho direto.  A maioria das outras pe√ßas √© indefinida (u) ou bloqueada (B) porque est√£o nas bordas do n√≠vel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a03/aa5/2fa/a03aa52fae0cb45e82425c4c95e38214.png"></div><br>  <i>Figura 1: Um esbo√ßo simples do n√≠vel</i> <br><br>  Na pr√≥xima etapa, s√£o adicionados detalhes: um grupo de salas aparece, conectado por port√µes, projetados para passar em uma determinada dire√ß√£o: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2b9/7cd/1e4/2b97cd1e4732bab984f5181a37ba71f7.png"></div><br>  <i>Figura 2: Estrutura adicionada</i> <br><br>  Os mapas de blocos s√£o √≥timos para criar geometria de n√≠vel, mas √© mais pr√°tico trabalhar com gr√°ficos para gerar estruturas e l√≥gica de jogo.  Isto √© o que o gerador faz a seguir: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2b3/da0/5c5/2b3da05c5967229d8d14816df5bf80ce.png"></div><br>  <i>Figura 3: Gr√°fico base</i> <br><br>  No gr√°fico, alguns n√≥s cont√™m subn√≥s; no nosso caso, a maioria dos port√µes √© marcada como perigosa (H), e alguns s√£o marcados como abertos (O). <br><br>  Com base em uma an√°lise bastante simples e em regras generativas, novos elementos s√£o adicionados ao gr√°fico.  Por exemplo, o ponto final (G) est√° localizado em um local distante o suficiente das entradas.  Al√©m disso, pequenos perigos s√£o adicionados ao gr√°fico para tornar o n√≠vel mais amea√ßador. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/784/3a5/6e0/7843a56e0fb89b3a1350076657c212c5.png"></div><br>  Figura 4: Novos itens adicionados ao gr√°fico. <br><br>  Enquanto isso, um mapa de blocos de baixa resolu√ß√£o √© convertido usando v√°rias fun√ß√µes de ru√≠do em um mapa de blocos de alta resolu√ß√£o para dar uma apar√™ncia mais natural: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/465/e65/18e/465e6518e606b4eb70e4d04b2b3ca8c1.png"></div><br>  Figura 5: Mapa de blocos de alta resolu√ß√£o <br><br>  Em seguida, as informa√ß√µes do gr√°fico s√£o usadas para decorar o mapa de blocos e adicionar novos elementos: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/722/9b7/140/7229b7140304bb1f8302586b2dfb6c16.png"></div><br>  <i>Figura 6: Placa decorada.</i> <br><br>  O mapa como √© √© gerado apenas para apresenta√ß√£o na jogabilidade.  Ladrilhos brancos indicam espa√ßos abertos, e quase todos os outros ladrilhos indicam elementos de jogabilidade muito espec√≠ficos, por exemplo, uma passagem secreta pelos arbustos (c√≠rculos verdes), ‚Äúport√µes nos matagais‚Äù (quadrados verdes e faixas lil√°s) ou locais de reprodu√ß√£o para amarrar √°rvores (c√≠rculos vermelhos com letra s).  A parte principal do n√≠vel ainda est√° indefinida e, neste est√°gio, o gerador assume que essas √°reas devem ser preenchidas para bloquear o movimento do jogador. <br><br>  Ele executa essa tarefa em v√°rias camadas: a camada inferior indica o n√≠vel de altura e tipo de superf√≠cie, a segunda adiciona √°gua em determinados locais e a terceira camada adiciona vegeta√ß√£o e outras decora√ß√µes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e37/6b6/f11/e376b6f11b4e4e526986238c4d0c50cc.png"></div><br>  <i>Figura 7: Tipos de superf√≠cie terrestre (grama, lama e pedras)</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2d7/898/9ac/2d78989ac691225d306a3319c2f7e111.png"></div><br>  <i>Figura 8: √Ågua</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/021/ade/799/021ade7992212c857d6e4101e31273e0.png"></div><br>  <i>Figura 9: Vegeta√ß√£o e outras decora√ß√µes</i> <br><br>  Essas camadas s√£o adicionadas ao arquivo de dados do n√≠vel final, ao qual s√£o adicionados mais alguns detalhes.  O jogo usa esses dados para colocar ativos e aumentar o n√≠vel que voc√™ v√™.  Existem muitos truques nesta fase.  Por exemplo, voc√™ pode perceber que os ladrilhos de terra na figura acima t√™m formas estranhas.  Esses formul√°rios s√£o usados ‚Äã‚Äãpara criar ‚Äúblocos‚Äù no solo de tal maneira que o player n√£o percebe que os dados de origem eram um mapa de blocos.  Vou falar sobre isso na segunda parte do artigo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bc9/b89/75c/bc9b8975c9b0704266c5786af53834eb.png"></div><br>  <i>Figura 10: N√≠vel Pronto</i> <br><br><h2>  Adicionando jogabilidade </h2><br>  H√° muitos benef√≠cios nesse m√©todo de gera√ß√£o de n√≠vel.  O est√°gio de convers√£o de um n√≠vel em um gr√°fico √© especialmente importante para simplificar o "racioc√≠nio" sobre a jogabilidade para o gerador.  No exemplo mostrado acima, n√£o fizemos nada com isso, exceto para verificar se as metas de n√≠vel s√£o criadas a alguma dist√¢ncia das entradas.  Mas para outros n√≠veis nesses est√°gios, mais tarefas s√£o executadas. <br><br>  Tomemos, por exemplo, um mapa de cavernas em um estilo de masmorra mais cl√°ssico (comparado ao n√≠vel da floresta do exemplo acima).  O gr√°fico base deste n√≠vel possui apenas uma entrada e alguns novos tipos de port√£o.  Um par est√° fechado (L): alguns port√µes prendem o jogador de um lado (T) e verde escuro eu chamo de ‚Äúv√°lvula‚Äù: esse tipo de port√£o permite que o jogador siga apenas uma dire√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/45d/72c/52a/45d72c52a99a84d42541b602c84b7806.png"></div><br>  <i>Figura 11: Contagem de bases da caverna</i> <br><br>  A estrutura desse n√≠vel permite que o gerador crie uma miss√£o muito mais complexa.  Por exemplo, a √∫nica maneira de chegar a esse n√≠vel √© atrav√©s de uma "v√°lvula", for√ßando o jogador a procurar outra sa√≠da.  A chave para abrir a sa√≠da (canto inferior esquerdo) est√° localizada atr√°s do perigo no canto superior esquerdo, e o alvo est√° localizado atr√°s dos port√µes que prendem o jogador.  Um exemplo desse objetivo seria uma passagem que cai atr√°s de um jogador.  Em geral, isso cria uma caverna que √© interessante explorar por conta pr√≥pria, mas o Unexplored 2 tamb√©m tem a capacidade de adicionar criaturas e eventos que se misturam no tempo de execu√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/45d/72c/52a/45d72c52a99a84d42541b602c84b7806.png"></div><br>  <i>Figura 12: Fechaduras e chaves adicionadas √† caverna</i> <br><br>  Usando o processo descrito acima, o gr√°fico √© usado para gerar e preencher um mapa de blocos totalmente detalhado.  A aplica√ß√£o de v√°rios par√¢metros que refletem a natureza da caverna desse n√≠vel leva a resultados muito variados com estruturas subterr√¢neas destru√≠das (quadrados azuis marcados com a letra c) e abismos amplos com espigas (c√≠rculos lil√°s): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fca/65c/c79/fca65cc79406fa4ba471d763f8ab6539.png"></div><br>  <i>Figura 13: N√≠vel da caverna em detalhes completos</i> <br><br><h2>  Resumir </h2><br>  Espero que voc√™ tenha uma id√©ia geral de como abordamos a gera√ß√£o de n√≠veis no Unexplored 2. Esse √© um processo complexo de v√°rias etapas, sobre o qual pretendo escrever mais no futuro pr√≥ximo.  Pelo menos eu j√° prometi escrever sobre a aplica√ß√£o da gera√ß√£o c√≠clica de masmorras.  Mas voc√™ pode contar muito mais, desde t√©cnicas generosas de narrativa, linhas de renderiza√ß√£o e m√©todos de sombreamento at√© o longo processo de design que usamos para criar o sistema de sorte, al√©m de outros aspectos. <br><br><h1>  Parte 2. Dos ladrilhos √†s curvas, ou divers√£o com as contagens de Voronoi </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a15/895/3a8/a158953a829bff67da8a242686b2675b.png"></div><br>  O gerador de conte√∫do inexplorado 2 gera mapas de blocos.  Um resultado t√≠pico √© assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e2/f20/fff/0e2f20fff2077a7259c639e8aa5bdda8.png"></div><br>  Esses cart√µes de blocos s√£o empilhados um sobre o outro e usam blocos diferentes para indicar os tipos de superf√≠cie da terra (neste exemplo, grama ou sujeira), al√©m de v√°rias decora√ß√µes.  Nesse caso, existem v√°rios arbustos (grandes c√≠rculos verdes), pedras (c√≠rculos pretos), plantas (pequenos c√≠rculos verdes), flores (c√≠rculos brancos) e texturas decorativas (quadrados cinza).  Tamb√©m existem pe√ßas especiais que indicam dados do jogo, por exemplo, pontos de reprodu√ß√£o marcados com a letra "s".  Al√©m disso, os ladrilhos podem ser marcados com informa√ß√µes adicionais, por exemplo, n√≠vel de altura ou subtipos especiais. <br><br>  Os mapas lado a lado s√£o uma estrutura de dados conveniente para geradores.  Mas, ao mesmo tempo, √© bastante direto, e a grade √© frequentemente percept√≠vel no jogo.  No entanto, depois de carregar os dados no jogo e colocar os ativos, o resultado fica assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/760/51a/40f/76051a40f79ffbbb15a3054536893003.png"></div><br>  Acho que escondemos muito bem os azulejos, e foi assim que conseguimos. <br><br><h2>  Voronoi Magic </h2><br>  O truque √© que blocos individuais correspondem a c√©lulas no diagrama de Voronoi.  Este diagrama pode ser usado para gerar formas com apar√™ncia muito mais natural.  O diagrama de Voronoi √© criado semeando o plano com pontos aleat√≥rios e dividindo-o em c√©lulas de forma que cada ponto no plano perten√ßa √† c√©lula correspondente ao ponto inicial mais pr√≥ximo.  Na gera√ß√£o de conte√∫do procedural, os diagramas de Voronoi podem ser usados ‚Äã‚Äãde v√°rias maneiras interessantes. <br><br>  Um diagrama t√≠pico de Voronoi √© criado a partir de uma distribui√ß√£o aleat√≥ria, mas bastante uniforme, dos pontos geradores, que se parece com isso: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5fd/15a/338/5fd15a3382b48d74706d5f5458c4f7cb.png"></div><br>  No Unexplored 2, usamos um tipo diferente de distribui√ß√£o de pontos geradores.  Primeiro, geramos um ponto para cada bloco.  Portanto, podemos ter certeza de que cada bloco no mapa de blocos corresponder√° a uma c√©lula no diagrama de Voronoi. <br><br>  Se colocarmos os pontos de gera√ß√£o no meio de cada c√©lula, obteremos uma grade reta que se parece exatamente com um mapa de blocos (para esta e outras imagens abaixo, criei uma vers√£o de xadrez na qual metade dos blocos √© renderizada em amarelo para que voc√™ possa se sair um pouco melhor veja padr√µes): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0dd/a26/a2f/0dda26a2fa9d01ea045c1219d0a3c999.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8eb/451/15b/8eb45115b429cbb8b612f46ce3fad524.png"></div><br>  A maneira mais f√°cil √© melhorar o gr√°fico, simplesmente randomizando a posi√ß√£o de cada ponto de gera√ß√£o.  Ao mover pontos, vale a pena verificar se o ponto n√£o vai al√©m do bloco original. <br><br>  O resultado √© algo como isto: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a3/33a/043/4a333a043cf9caadc0a09ff606c046ca.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ab6/c25/031/ab6c250312ab2f4e4efec42788c129d5.png"></div><br>  J√° √© melhor, mas muito barulhento e, portanto, n√£o recebe linhas sinuosas bonitas.  A imagem pode ser aprimorada executando o "relaxamento" dos diagramas de Voronoi (essa √© uma t√©cnica padr√£o para eles, que n√£o discutirei aqui).  Mas ainda assim permanecer√° um pouco barulhento e √© dif√≠cil prever efetivamente os n√∫meros em uma escala que excede a escala de blocos individuais. <br><br>  Para resolver esse problema, precisamos n√£o apenas mover-nos aleatoriamente, mas abordar isso de maneira mais inteligente.  Diferentes tipos de movimento podem ter um efeito muito diferente.  Por exemplo, ao usar o ru√≠do Perlin, s√£o obtidos cart√µes de curvas interessantes.  Ou voc√™ pode transformar toda a grade em blocos hexagonais, movendo simplesmente cada segunda linha dos pontos de gera√ß√£o para a esquerda: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6b1/ccb/69e/6b1ccb69e7e6ca475e6c62c56f52b56c.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b06/787/b2f/b06787b2f08c28d84f009caffd76ff14.png"></div><br>  Fizemos um grande avan√ßo quando come√ßamos a mover os pontos geradores em certos padr√µes para criar cantos arredondados.  A primeira etapa deste processo j√° est√° sendo realizada dentro do gerador de n√≠veis.  Os √¢ngulos entre os diferentes tipos de superf√≠cie da Terra s√£o reconhecidos e os ladrilhos dos cantos s√£o marcados com figuras diferentes, indicando a forma como eles s√£o deformados para gerar um ambiente mais bonito: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/21a/822/1fb/21a8221fb1d87fec480db9cc2c95425e.png"></div><br>  Nesse caso, a diferen√ßa nos n√≠veis de eleva√ß√£o tamb√©m faz com que os √¢ngulos apare√ßam no mapa de blocos.  √â por isso que voc√™ v√™ cantos arredondados adicionais na grama, no canto superior direito e no canto inferior esquerdo, onde as inclina√ß√µes foram geradas. <br><br>  O jogo usa essas informa√ß√µes para mudar os pontos de gera√ß√£o do gr√°fico Voronoi.  Cada canto arredondado muda a localiza√ß√£o do ponto de origem (veja a imagem abaixo).  Al√©m disso, tamb√©m muda os pontos geradores de seus quatro vizinhos ortogonais.  Esse processo √© cumulativo;  os pontos geradores podem se mover v√°rias vezes se estiverem pr√≥ximos de v√°rios √¢ngulos.  No entanto, ap√≥s o processamento de todas as compensa√ß√µes, os pontos de gera√ß√£o s√£o um pouco aleat√≥rios (cerca de 10% da largura do ladrilho em cada dire√ß√£o) e o deslocamento final √© limitado a um m√°ximo de 40% da largura do ladrilho. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a94/9b9/3f5/a949b93f5e2e724a95658f75af6a50c4.png"></div><br>  O resultado j√° est√° ficando de alta qualidade: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ccc/830/f24/ccc830f24c201bd4e519ca0407f77c18.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b8b/d27/edb/b8bd27edb8a753ee92e9d2d5551e6a05.png"></div><br>  Mas ainda n√£o terminamos ... <br><br><h2>  Decore sabiamente </h2><br>  A forma geral ficou melhor, mas as bordas ainda s√£o muito retas e parecem meio irregulares.  Esconderemos isso colocando ativos curvos nas bordas onde as cores diferem.  No entanto, o verdadeiro truque √© que uma curva √© frequentemente colocada em duas arestas e seus √¢ngulos entre si s√£o usados ‚Äã‚Äãpara determinar a dire√ß√£o da curva. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d27/4ef/fc6/d274effc6224874373a8c8c355dcb209.png"></div><br>  O resultado fica assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e97/591/baa/e97591baad40e954f3c4b164f2b91739.png"></div><br>  Em seguida, usamos recursos 3D para adicionar recortes de textura: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/711/70a/6b0/71170a6b0ea154c6974e8787be8c0680.png"></div><br>  Por fim, adicionamos outro ativo para preencher o n√≠vel.  A localiza√ß√£o desses ativos √© determinada pelos dados de n√≠vel gerados anteriormente e, em geral, segue princ√≠pios simples.  Usamos pequenos ativos ao redor dos maiores para criar transi√ß√µes naturais e bonitas.  Em particular, vale a pena notar que pedras s√£o adicionadas ao p√© das fal√©sias, criando variabilidade e suavizando visualmente as encostas verticais necess√°rias para a jogabilidade: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/760/51a/40f/76051a40f79ffbbb15a3054536893003.png"></div><br><h2>  Variabilidade local </h2><br>  Os √¢ngulos n√£o s√£o o √∫nico tipo de deslocamento que usamos.  Em particular, queremos que as arestas sejam mais retas ao lado das estruturas artificiais (por exemplo, as paredes destru√≠das mostradas abaixo): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/839/9f5/127/8399f5127ae11017b243716b075c3324.png"></div><br>  Em nosso sistema, esse efeito √© f√°cil de obter.  Simplesmente adicionamos outra regra de deslocamento, que pro√≠be o deslocamento de ladrilhos com estruturas artificiais.  O gerador usa pequenos quadrados para marcar essas pe√ßas e o jogo garante que todas as compensa√ß√µes sejam simplesmente ignoradas: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b84/5b1/372/b845b1372a6623d931eb30ed29fe5bcc.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/09e/2c4/f64/09e2c4f64fad5ee474fcbfa21e607c73.png"></div><br>  Se voc√™ olhar para o ch√£o, poder√° ver claramente que certas √°reas s√£o retas, enquanto outras se curvam mais naturalmente: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c60/5e3/635/c605e363554553121d8c70c61ebaa5b2.png"></div><br>  N√£o √© lindo? <br><br>  Existem outras regras que podem ser facilmente adicionadas usando essa t√©cnica.  Por exemplo, √†s vezes for√ßamos os ladrilhos para criar um padr√£o hexagonal, de modo que os caminhos estreitos permane√ßam largos o suficiente para se moverem ao redor deles.  Estou certo de que encontraremos outros usos para outros padr√µes. <br><br>  Essa √© uma das muitas raz√µes pelas quais eu amo os diagramas de Voronoi.  Em outra ocasi√£o, escreverei sobre como os usamos para gerar e decorar os mapas do mundo Unexplored 2. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt457766/">https://habr.com/ru/post/pt457766/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt457756/index.html">O livro Kafka Streams em a√ß√£o. Aplicativos e microsservi√ßos em tempo real ¬ª</a></li>
<li><a href="../pt457758/index.html">Engenheiros salvam pessoas perdidas na floresta, mas a floresta ainda n√£o se rendeu</a></li>
<li><a href="../pt457760/index.html">Como tornar os cont√™ineres ainda mais isolados: uma revis√£o das tecnologias de sandbox de cont√™ineres</a></li>
<li><a href="../pt457762/index.html">R√©gua do CCD: o que √© comido</a></li>
<li><a href="../pt457764/index.html">10 erros do jovem PO (parte II)</a></li>
<li><a href="../pt457768/index.html">Como fiquei vulner√°vel: digitalizando a infraestrutura de TI com a Qualys</a></li>
<li><a href="../pt457770/index.html">Escrevemos o transformador personalizado AST no TypeScript</a></li>
<li><a href="../pt457774/index.html">Estudar como piloto particular na Terra-m√©dia: mudar e morar em uma vila da Nova Zel√¢ndia</a></li>
<li><a href="../pt457776/index.html">Minas em desempenho est√£o esperando nos bastidores: parte 2</a></li>
<li><a href="../pt457784/index.html">Calibra√ß√£o personalizada do Eye-Tracker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>