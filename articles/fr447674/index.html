<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤ŸğŸ¿ ğŸ™‹ ğŸšš Le code est vivant et mort. DeuxiÃ¨me partie Actions et propriÃ©tÃ©s ğŸ•œ ğŸš¿ ğŸ¤›ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La derniÃ¨re fois, j'ai Ã©crit que les noms des objets sont d'une grande importance, et qu'ils doivent Ãªtre sÃ©lectionnÃ©s avec soin et avec une attention...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le code est vivant et mort. DeuxiÃ¨me partie Actions et propriÃ©tÃ©s</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447674/"><p>  La derniÃ¨re fois, j'ai Ã©crit que les noms des objets sont d'une grande importance, et qu'ils doivent Ãªtre sÃ©lectionnÃ©s avec soin et avec une attention aux dÃ©tails.  La mauvaise rÃ©putation fait peur et ne permet pas de comprendre l'essence de ce qui se passe.  Mais quelle est l'essence de tout cela? </p><br><p>  Il est difficile d'Ã©valuer un hÃ©ros sans comprendre ses <em>Â«statistiquesÂ»</em> et ses <em>Â«capacitÃ©sÂ»</em> .  Ce qu'il peut et ce dont il est capable, c'est le prochain niveau de difficultÃ© dans lequel nous devons plonger.  Il ne suffit pas de reflÃ©ter le sanctuaire interne de l'objet Ã  l'aide d'un nom exact, vous devez Ã©galement vous assurer qu'il s'agit toujours d'un <em>sanctuaire</em> , et non des Ã©curies des getters. </p><br><p>  Ã€ ce sujet - dans l'article. </p><a name="habracut"></a><br><h2 id="oglavlenie-cikla">  Table des matiÃ¨res du cycle </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les objets</a> </li><li>  Actions et propriÃ©tÃ©s </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Code comme texte</a> </li></ol><br><h2 id="deystviya">  Actions </h2><br><p> Le personnage attaque, dÃ©fend, esquive, tire d'un arc, utilise des sorts, agite une lame.  Le nom reflÃ¨te l'objet, mais l'objet lui-mÃªme est en mouvement, en rÃ©action, en action.  Sinon, nous parlerions de tableaux dans Excel. </p><br><p>  En C #, les actions sont des mÃ©thodes et des fonctions.  Et pour nous: les verbes, les atomes du mouvement verbal.  Les verbes dÃ©placent le temps, car les objets existent et interagissent.  LÃ  oÃ¹ il y a un changement - il doit y avoir un verbe. </p><br><h3 id="settery">  Setters </h3><br><p>  De tous les changements, l'affectation est la moins mobile.  Il dÃ©crit strictement et mathÃ©matiquement quelles sont les quantitÃ©s et ce qu'elles sont Ã©gales, mais ne communique jamais la vie et la vigueur Ã  un texte, comme le font les verbes. </p><br><p> Par exemple, il existe <code>IPullRequest</code> avec la propriÃ©tÃ© <code>Status</code> , qui peut Ãªtre <code>Approved</code> , <code>Declined</code> ou <code>Merged</code> .  Vous pouvez Ã©crire <code>pullRequest.Status = Status.Declined</code> , mais cela revient Ã  dire <em>"DÃ©finir la demande de pool sur le statut annulÃ©",</em> est impÃ©ratif.  <code>pullRequest.Decline()</code> est beaucoup plus <code>pullRequest.Decline()</code> et, par consÃ©quent, <code>pullRequest.Approve()</code> , <code>pullRequest.Merge()</code> . </p><br><p>  Un verbe actif est prÃ©fÃ©rable Ã  un setter, mais pas tous les verbes. </p><br><h3 id="passivnyy-zalog">  Voix passive </h3><br><p>  <code>PerformPurchase</code> , <code>DoDelete</code> , <code>MakeCall</code> . </p><br><p>  Comme dans <code>HeroManager</code> un nom important est masquÃ© par un <code>Manager</code> vide de sens, donc dans <code>PerformMigration</code> - <code>Perform</code> .  AprÃ¨s tout, plus vivant - il suffit de <code>Migrate</code> ! </p><br><p>  Les verbes actifs rafraÃ®chissent le texte: pas <em>Â«hitÂ»</em> , mais <em>Â«hitÂ»</em> ;  pas <em>Â«fait un swingÂ»</em> , mais <em>Â«agitÃ©Â»</em> ;  pas <em>Â«pris une dÃ©cisionÂ»</em> , mais <em>Â«dÃ©cidÃ©Â»</em> .  Donc dans le code: <code>PerformApplication</code> â†’ <code>Apply</code> ;  <code>DoDelete</code> â†’ <code>Delete</code> ;  <code>PerformPurchase</code> â†’ <code>Purchase</code> , <code>Buy</code> .  <em>(Mais</em> <code>DealDamage</code> <em>s'est calmÃ©, bien que dans de rares cas, l'</em> <code>Attack</code> <em>puisse Ãªtre signifiÃ©e</em> <em>.)</em> </p><br><p>  En Ã©vitant la voix passive, nous dÃ©veloppons l'histoire, dÃ©plaÃ§ons les personnages, mais nous devons Ã©galement nous assurer que le film ne se dÃ©roule pas en noir et blanc. </p><br><h3 id="silnye-glagoly">  Verbes forts </h3><br><p>  Certains mots vÃ©hiculent des nuances de sens mieux que d'autres.  Si vous Ã©crivez <em>Â«il a bu un verre d'eauÂ»</em> , ce sera simple et clair.  Mais <em>Â«vidÃ© un verre d'eauÂ»</em> - au sens figurÃ©, plus fort. </p><br><p>  Ainsi, le changement de santÃ© du joueur peut Ãªtre exprimÃ© par <code>player.Health = X</code> ou <code>player.SetHealth</code> , mais plus pittoresque est <code>player.RestoreHealth</code> . </p><br><p>  Ou, par exemple, nous connaissons <code>Stack</code> non pas par <code>Add/Remove</code> , mais par <code>Push/Pop</code> . </p><br><p>  Les verbes forts et actifs saturent l'objet de comportement, s'ils ne sont pas trop spÃ©cifiques. </p><br><h3 id="izbytochnye-detali">  PiÃ¨ces redondantes </h3><br><p>  Comme avec <code>ManualResetEvent</code> , plus nous nous rapprochons des internes techniques de .NET, qui sont complexes et il serait agrÃ©able de les exprimer simplement, plus les dÃ©tails et les excÃ¨s de l'API sont riches. </p><br><p>  Il arrive que vous ayez besoin de travailler sur un autre thread, mais pour ne pas vous soucier de le crÃ©er et de l'arrÃªter.  En C #, il y a <code>ThreadPool</code> pour cela.  Seulement ici est un simple <em>Â«faire le travailÂ»</em> ici - <code>QueueUserWorkItem</code> !  Le type d'Ã©lÃ©ment de travail ( <code>WorkItem</code> ) et ce qu'il peut Ãªtre, sinon l'utilisateur ( <code>User</code> ), n'est pas clair.  Beaucoup plus facile serait - <code>ThreadPool.Run</code> ou <code>ThreadPool.Execute</code> . </p><br><p>  Un autre exemple.  Se souvenir et savoir qu'il existe une instruction atomique de <em>comparaison et d'Ã©change (CAS)</em> est bien, mais le porter propre au code n'est pas la meilleure solution.  <code>Interlocked.CompareExchange(ref x, newX, oldX)</code> est infÃ©rieur aux <code>Atomically.Change(ref x, from: oldX, to: newX)</code> (utilisant des paramÃ¨tres nommÃ©s). </p><br><p>  Le code n'est pas un doctorat en travail avec un ordinateur quantique, pas une application aux calculs mathÃ©matiques, mais le lecteur est parfois complÃ¨tement indiffÃ©rent Ã  ce que les instructions de bas niveau sont appelÃ©es.  L'utilisation quotidienne est importante. </p><br><h3 id="povtoreniya">  RÃ©pÃ©titions </h3><br><p>  <code>UsersRepository.AddUser</code> , <code>Benchmark.ExecuteBenchmark</code> , <code>AppInitializer.Initialize</code> , <code>UniversalMarshaller.Marshal</code> , <code>Logger.LogError</code> . </p><br><p>  Comme je l'ai dit dans la derniÃ¨re partie, la rÃ©pÃ©tition Ã©rode le sens, comprime l'espace. </p><br><p>  Pas <code>UsersRepository.AddUser</code> , mais <code>UsersRepository.Add</code> ;  pas <code>Directory.CreateDirectory</code> , mais <code>Directory.Create</code> ;  pas <code>HttpWebResponse.GetResponseStream</code> , mais <code>HttpWebResponse.Stream</code> ;  pas <code>Logger.LogError</code> , mais <code>Log.Error</code> . </p><br><h3 id="melkiy-sor">  LitiÃ¨re fine </h3><br><p>  <code>Check</code> est un mot Ã  plusieurs facettes.  <code>CheckHasLongName</code> peut renvoyer un <code>CheckHasLongName</code> ou <code>CheckHasLongName</code> une exception si l'utilisateur a un nom trop long.  Mieux vaut <code>bool HasLongName</code> ou <code>void EnsureHasShortName</code> .  J'ai mÃªme rencontrÃ© <code>CheckRebootCounter</code> , qui ... Quelque part Ã  l'intÃ©rieur, j'ai redÃ©marrÃ© IIS! </p><br><p>  <code>Enumerate</code> - de la mÃªme sÃ©rie.  Il existe une mÃ©thode <code>Directory.EnumerateDirectories(path)</code> dans .NET: pour une raison quelconque, il est spÃ©cifiÃ© que les dossiers seront rÃ©pertoriÃ©s, bien que <code>Directories.Of(path)</code> ou <code>path.Directories()</code> . </p><br><p>  <code>Calc</code> - <code>Calculate</code> est si souvent rÃ©duit, bien qu'il ressemble davantage Ã  des dÃ©pÃ´ts de calcium. </p><br><p>  <code>Proc</code> est une autre abrÃ©viation de fantaisie pour <code>Process</code> . </p><br><p>  <code>Base</code> , <code>Impl</code> , <code>Internal</code> , <code>Raw</code> - mots parasites qui indiquent la complexitÃ© des objets. </p><br><h3 id="itogo">  Total </h3><br><p>  Une fois de plus, un lecteur attentif le remarquera, tout se rÃ©sume Ã  la simplification, Ã  l'assimilation de la parole naturelle, et les conseils eux-mÃªmes se rapportent en grande partie non seulement au code, mais Ã  l'Ã©criture en gÃ©nÃ©ral.  En les utilisant, le dÃ©veloppeur peaufine Ã  la fois le code sous forme de texte et le texte lui-mÃªme, s'efforÃ§ant d'obtenir une prÃ©sentation transparente et fluide, pour plus de simplicitÃ©. </p><br><p>  Maintenant que nous avons compris le mouvement et les <em>Â«effets spÃ©ciauxÂ»</em> , regardons comment les relations entre les objets sont dÃ©crites. </p><br><h2 id="svoystva">  Les propriÃ©tÃ©s </h2><br><p>  Le personnage a de la santÃ© et du mana;  les articles sont dans le panier;  le systÃ¨me solaire est composÃ© de planÃ¨tes.  Les objets agissent non seulement de faÃ§on altruiste, mais ils sont Ã©galement liÃ©s: hiÃ©rarchiquement (ancÃªtre-hÃ©ritier), compositionnels (partie entiÃ¨re), spatiaux (Ã©lÃ©ment de stockage), etc. </p><br><p>  En C #, les propriÃ©tÃ©s et les relations sont des mÃ©thodes (commenÃ§ant gÃ©nÃ©ralement par <code>Get</code> ), des getters (propriÃ©tÃ©s avec un corps <code>get</code> spÃ©cifique) et des champs.  Mais pour nous c'est: des ajouts de mots exprimant l'appartenance d'un objet Ã  un autre.  Par exemple, un joueur a la santÃ© - <code>Player.Health</code> , qui correspond presque exactement Ã  la <em>Â«santÃ© du joueurÂ» en anglais</em> . </p><br><p>  Ce qui est le plus confus aujourd'hui, ce sont les mÃ©thodes d'action et les mÃ©thodes de propriÃ©tÃ©. </p><br><h3 id="glagol-vmesto-suschestvitelnogo">  Verbe au lieu d'un nom </h3><br><p>  <code>GetDiscount</code> , <code>CalculateDamage</code> , <code>FetchResult</code> , <code>ComputeFov</code> , <code>CreateMap</code> . </p><br><p>  Les tassements se font entendre partout: les mÃ©thodes doivent commencer par les verbes.  Vous voyez rarement quelqu'un douter: est-ce vraiment le cas?  AprÃ¨s tout, il ne peut pas y avoir de diffÃ©rence significative entre <code>Player.Health</code> et <code>Player.Health()</code> .  Que les enregistrements soient syntaxiquement diffÃ©rents, ils <em>signifient</em> la mÃªme chose. </p><br><p>  Supposons que, dans <code>IUsersRepository</code> un <code>GetUser(int id)</code> soit facilement attendu.  Pourquoi, pour reprÃ©senter l'utilisateur, penser Ã  une sorte de reÃ§u ( <code>Get</code> )?  Ce sera plus prÃ©cis - <code>User(int id)</code> ! </p><br><p>  Et vraiment: pas <code>FetchResult()</code> , mais <code>Result()</code> ;  pas <code>GetResponse()</code> , mais <code>Response()</code> ;  pas <code>CalculateDamage()</code> , mais <code>Damage()</code> . </p><br><p>  Un exposÃ© DDD donne un exemple de Â«bonÂ» code: <code>DiscountCalculator</code> avec la mÃ©thode <code>CalculateDiscountBy(int customerId)</code> .  Non seulement il y a une rÃ©pÃ©tition symÃ©trique sur le visage - <code>DiscountCalculator.CalculateDiscount</code> , ils ont Ã©galement spÃ©cifiÃ© que la remise est <em>calculÃ©e</em> .  Et quoi d'autre, demande-t-on, Ã  faire avec elle? </p><br><p>  Il serait plus fort de passer de l'entitÃ© elle-mÃªme - <code>Discount</code> avec la mÃ©thode <code>static decimal Of(Customer customer, Order order)</code> pour appeler <code>Discount.Of(customer, order)</code> - est plus simple que <code>_discountCalculator.CalculateDiscountBy(customerId)</code> et correspond Ã  une seule langue. </p><br><p>  Parfois, en omettant le verbe, nous perdons quelque chose, comme, par exemple, dans <code>CreateMap()</code> : un remplacement direct par <code>Map()</code> peut ne pas Ãªtre suffisant.  Ensuite, la meilleure solution est <code>NewMap()</code> : encore une fois, l'objet est en tÃªte, pas l'action. </p><br><p>  L'utilisation de verbes vides vides est caractÃ©ristique d'une culture impÃ©rative obsolÃ¨te, oÃ¹ l'algorithme est primaire et en avance sur le concept.  Vous y trouverez souvent une <em>Â«lame trempÃ©eÂ»</em> qu'une <em>Â«lame trempÃ©eÂ»</em> .  Mais le style des livres sur James Bond ne convient pas pour dÃ©crire le paysage.  LÃ  oÃ¹ il n'y a pas de mouvement, il n'y a pas de place pour le verbe. </p><br><h3 id="drugoe">  Autre </h3><br><p>  Les propriÃ©tÃ©s et les mÃ©thodes exprimant les relations entre les objets sont Ã©galement des objets, par consÃ©quent, ce qui prÃ©cÃ¨de Ã  bien des Ã©gards s'applique Ã  eux. </p><br><p>  Par exemple, les rÃ©pÃ©titions dans les propriÃ©tÃ©s: pas <code>Thread.CurrentThread</code> , mais <code>Thread.Current</code> ;  pas <code>Inventory.InventoryItems</code> , mais <code>Inventory.Items</code> , etc. </p><br><h2 id="itogo-1">  Total </h2><br><p>  Les mots simples et comprÃ©hensibles ne sont pas confondus, et donc le code qui les compose n'est pas non plus confondu.  En Ã©criture, il est tout aussi important d'Ã©crire facilement: Ã©viter les prÃ©positions passives, une abondance d'adverbes et d'adjectifs, les rÃ©pÃ©titions, car les actions prÃ©fÃ¨rent un verbe Ã  un substantif.  Un exemple bien connu: <em>"Il a hochÃ© la tÃªte, d'accord",</em> au lieu de <em>"Il a hochÃ© la tÃªte"</em> , il <code>QueueUserWorkItem</code> , et je me souviens de <code>QueueUserWorkItem</code> . </p><br><p>  Le texte du code est Ã©galement diffÃ©rent en ce que dans le premier cas, vous serez payÃ© si la <em>maison est debout, noyÃ©e dans les rayons du soleil couchant</em> ;  dans le second - si la maison est <em>debout</em> ;  mais cela vaut la peine de se rappeler: une <em>maison</em> doit rester debout, et non des bÃ¢tons d'aides. </p><br><p>  Dans les deux premiers articles de la sÃ©rie, je voulais montrer combien il est important de travailler non seulement sur l'algorithme, mais aussi sur le mot;  comment les noms dÃ©terminent le contenu de ce qui est appelÃ©;  comment le code redondant et trop compliquÃ© Ã©loigne le lecteur. </p><br><p>  ParallÃ¨lement Ã  cela, les bons noms ne sont que des notes.  Pour <em>jouer</em> , ils doivent Ãªtre Ã©crits et incarnÃ©s dans la musique.  Je vous en dirai plus dans le prochain <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> final. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr447674/">https://habr.com/ru/post/fr447674/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr447664/index.html">Ventes d'analyses commerciales transversales</a></li>
<li><a href="../fr447666/index.html">Sauvegarde MS SQL: quelques fonctionnalitÃ©s utiles de Commvault que tout le monde ne connaÃ®t pas</a></li>
<li><a href="../fr447668/index.html">InterprÃ¨te MSH</a></li>
<li><a href="../fr447670/index.html">La substitution des importations dans la pratique. Partie 2. Le dÃ©but. Hyperviseur</a></li>
<li><a href="../fr447672/index.html">Catalogue des systÃ¨mes informatiques de l'entreprise</a></li>
<li><a href="../fr447676/index.html">Nouveau Mail.ru Mail et qu'est-ce que la pieuvre a Ã  voir avec Ã§a</a></li>
<li><a href="../fr447678/index.html">Le concept d'une brÃ¨ve encyclopÃ©die</a></li>
<li><a href="../fr447680/index.html">Exercices d'Ã©mulation: manuel Xbox 360 FMA</a></li>
<li><a href="../fr447682/index.html">Space Data Center: 24 heures avant le lancement</a></li>
<li><a href="../fr447684/index.html">Comment afficher les valeurs de l'entreprise dans un bureau (sans affiches ni slogans)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>