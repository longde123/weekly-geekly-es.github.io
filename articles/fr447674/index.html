<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤟🏿 🙋 🚚 Le code est vivant et mort. Deuxième partie Actions et propriétés 🕜 🚿 🤛🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La dernière fois, j'ai écrit que les noms des objets sont d'une grande importance, et qu'ils doivent être sélectionnés avec soin et avec une attention...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le code est vivant et mort. Deuxième partie Actions et propriétés</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447674/"><p>  La dernière fois, j'ai écrit que les noms des objets sont d'une grande importance, et qu'ils doivent être sélectionnés avec soin et avec une attention aux détails.  La mauvaise réputation fait peur et ne permet pas de comprendre l'essence de ce qui se passe.  Mais quelle est l'essence de tout cela? </p><br><p>  Il est difficile d'évaluer un héros sans comprendre ses <em>«statistiques»</em> et ses <em>«capacités»</em> .  Ce qu'il peut et ce dont il est capable, c'est le prochain niveau de difficulté dans lequel nous devons plonger.  Il ne suffit pas de refléter le sanctuaire interne de l'objet à l'aide d'un nom exact, vous devez également vous assurer qu'il s'agit toujours d'un <em>sanctuaire</em> , et non des écuries des getters. </p><br><p>  À ce sujet - dans l'article. </p><a name="habracut"></a><br><h2 id="oglavlenie-cikla">  Table des matières du cycle </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les objets</a> </li><li>  Actions et propriétés </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Code comme texte</a> </li></ol><br><h2 id="deystviya">  Actions </h2><br><p> Le personnage attaque, défend, esquive, tire d'un arc, utilise des sorts, agite une lame.  Le nom reflète l'objet, mais l'objet lui-même est en mouvement, en réaction, en action.  Sinon, nous parlerions de tableaux dans Excel. </p><br><p>  En C #, les actions sont des méthodes et des fonctions.  Et pour nous: les verbes, les atomes du mouvement verbal.  Les verbes déplacent le temps, car les objets existent et interagissent.  Là où il y a un changement - il doit y avoir un verbe. </p><br><h3 id="settery">  Setters </h3><br><p>  De tous les changements, l'affectation est la moins mobile.  Il décrit strictement et mathématiquement quelles sont les quantités et ce qu'elles sont égales, mais ne communique jamais la vie et la vigueur à un texte, comme le font les verbes. </p><br><p> Par exemple, il existe <code>IPullRequest</code> avec la propriété <code>Status</code> , qui peut être <code>Approved</code> , <code>Declined</code> ou <code>Merged</code> .  Vous pouvez écrire <code>pullRequest.Status = Status.Declined</code> , mais cela revient à dire <em>"Définir la demande de pool sur le statut annulé",</em> est impératif.  <code>pullRequest.Decline()</code> est beaucoup plus <code>pullRequest.Decline()</code> et, par conséquent, <code>pullRequest.Approve()</code> , <code>pullRequest.Merge()</code> . </p><br><p>  Un verbe actif est préférable à un setter, mais pas tous les verbes. </p><br><h3 id="passivnyy-zalog">  Voix passive </h3><br><p>  <code>PerformPurchase</code> , <code>DoDelete</code> , <code>MakeCall</code> . </p><br><p>  Comme dans <code>HeroManager</code> un nom important est masqué par un <code>Manager</code> vide de sens, donc dans <code>PerformMigration</code> - <code>Perform</code> .  Après tout, plus vivant - il suffit de <code>Migrate</code> ! </p><br><p>  Les verbes actifs rafraîchissent le texte: pas <em>«hit»</em> , mais <em>«hit»</em> ;  pas <em>«fait un swing»</em> , mais <em>«agité»</em> ;  pas <em>«pris une décision»</em> , mais <em>«décidé»</em> .  Donc dans le code: <code>PerformApplication</code> → <code>Apply</code> ;  <code>DoDelete</code> → <code>Delete</code> ;  <code>PerformPurchase</code> → <code>Purchase</code> , <code>Buy</code> .  <em>(Mais</em> <code>DealDamage</code> <em>s'est calmé, bien que dans de rares cas, l'</em> <code>Attack</code> <em>puisse être signifiée</em> <em>.)</em> </p><br><p>  En évitant la voix passive, nous développons l'histoire, déplaçons les personnages, mais nous devons également nous assurer que le film ne se déroule pas en noir et blanc. </p><br><h3 id="silnye-glagoly">  Verbes forts </h3><br><p>  Certains mots véhiculent des nuances de sens mieux que d'autres.  Si vous écrivez <em>«il a bu un verre d'eau»</em> , ce sera simple et clair.  Mais <em>«vidé un verre d'eau»</em> - au sens figuré, plus fort. </p><br><p>  Ainsi, le changement de santé du joueur peut être exprimé par <code>player.Health = X</code> ou <code>player.SetHealth</code> , mais plus pittoresque est <code>player.RestoreHealth</code> . </p><br><p>  Ou, par exemple, nous connaissons <code>Stack</code> non pas par <code>Add/Remove</code> , mais par <code>Push/Pop</code> . </p><br><p>  Les verbes forts et actifs saturent l'objet de comportement, s'ils ne sont pas trop spécifiques. </p><br><h3 id="izbytochnye-detali">  Pièces redondantes </h3><br><p>  Comme avec <code>ManualResetEvent</code> , plus nous nous rapprochons des internes techniques de .NET, qui sont complexes et il serait agréable de les exprimer simplement, plus les détails et les excès de l'API sont riches. </p><br><p>  Il arrive que vous ayez besoin de travailler sur un autre thread, mais pour ne pas vous soucier de le créer et de l'arrêter.  En C #, il y a <code>ThreadPool</code> pour cela.  Seulement ici est un simple <em>«faire le travail»</em> ici - <code>QueueUserWorkItem</code> !  Le type d'élément de travail ( <code>WorkItem</code> ) et ce qu'il peut être, sinon l'utilisateur ( <code>User</code> ), n'est pas clair.  Beaucoup plus facile serait - <code>ThreadPool.Run</code> ou <code>ThreadPool.Execute</code> . </p><br><p>  Un autre exemple.  Se souvenir et savoir qu'il existe une instruction atomique de <em>comparaison et d'échange (CAS)</em> est bien, mais le porter propre au code n'est pas la meilleure solution.  <code>Interlocked.CompareExchange(ref x, newX, oldX)</code> est inférieur aux <code>Atomically.Change(ref x, from: oldX, to: newX)</code> (utilisant des paramètres nommés). </p><br><p>  Le code n'est pas un doctorat en travail avec un ordinateur quantique, pas une application aux calculs mathématiques, mais le lecteur est parfois complètement indifférent à ce que les instructions de bas niveau sont appelées.  L'utilisation quotidienne est importante. </p><br><h3 id="povtoreniya">  Répétitions </h3><br><p>  <code>UsersRepository.AddUser</code> , <code>Benchmark.ExecuteBenchmark</code> , <code>AppInitializer.Initialize</code> , <code>UniversalMarshaller.Marshal</code> , <code>Logger.LogError</code> . </p><br><p>  Comme je l'ai dit dans la dernière partie, la répétition érode le sens, comprime l'espace. </p><br><p>  Pas <code>UsersRepository.AddUser</code> , mais <code>UsersRepository.Add</code> ;  pas <code>Directory.CreateDirectory</code> , mais <code>Directory.Create</code> ;  pas <code>HttpWebResponse.GetResponseStream</code> , mais <code>HttpWebResponse.Stream</code> ;  pas <code>Logger.LogError</code> , mais <code>Log.Error</code> . </p><br><h3 id="melkiy-sor">  Litière fine </h3><br><p>  <code>Check</code> est un mot à plusieurs facettes.  <code>CheckHasLongName</code> peut renvoyer un <code>CheckHasLongName</code> ou <code>CheckHasLongName</code> une exception si l'utilisateur a un nom trop long.  Mieux vaut <code>bool HasLongName</code> ou <code>void EnsureHasShortName</code> .  J'ai même rencontré <code>CheckRebootCounter</code> , qui ... Quelque part à l'intérieur, j'ai redémarré IIS! </p><br><p>  <code>Enumerate</code> - de la même série.  Il existe une méthode <code>Directory.EnumerateDirectories(path)</code> dans .NET: pour une raison quelconque, il est spécifié que les dossiers seront répertoriés, bien que <code>Directories.Of(path)</code> ou <code>path.Directories()</code> . </p><br><p>  <code>Calc</code> - <code>Calculate</code> est si souvent réduit, bien qu'il ressemble davantage à des dépôts de calcium. </p><br><p>  <code>Proc</code> est une autre abréviation de fantaisie pour <code>Process</code> . </p><br><p>  <code>Base</code> , <code>Impl</code> , <code>Internal</code> , <code>Raw</code> - mots parasites qui indiquent la complexité des objets. </p><br><h3 id="itogo">  Total </h3><br><p>  Une fois de plus, un lecteur attentif le remarquera, tout se résume à la simplification, à l'assimilation de la parole naturelle, et les conseils eux-mêmes se rapportent en grande partie non seulement au code, mais à l'écriture en général.  En les utilisant, le développeur peaufine à la fois le code sous forme de texte et le texte lui-même, s'efforçant d'obtenir une présentation transparente et fluide, pour plus de simplicité. </p><br><p>  Maintenant que nous avons compris le mouvement et les <em>«effets spéciaux»</em> , regardons comment les relations entre les objets sont décrites. </p><br><h2 id="svoystva">  Les propriétés </h2><br><p>  Le personnage a de la santé et du mana;  les articles sont dans le panier;  le système solaire est composé de planètes.  Les objets agissent non seulement de façon altruiste, mais ils sont également liés: hiérarchiquement (ancêtre-héritier), compositionnels (partie entière), spatiaux (élément de stockage), etc. </p><br><p>  En C #, les propriétés et les relations sont des méthodes (commençant généralement par <code>Get</code> ), des getters (propriétés avec un corps <code>get</code> spécifique) et des champs.  Mais pour nous c'est: des ajouts de mots exprimant l'appartenance d'un objet à un autre.  Par exemple, un joueur a la santé - <code>Player.Health</code> , qui correspond presque exactement à la <em>«santé du joueur» en anglais</em> . </p><br><p>  Ce qui est le plus confus aujourd'hui, ce sont les méthodes d'action et les méthodes de propriété. </p><br><h3 id="glagol-vmesto-suschestvitelnogo">  Verbe au lieu d'un nom </h3><br><p>  <code>GetDiscount</code> , <code>CalculateDamage</code> , <code>FetchResult</code> , <code>ComputeFov</code> , <code>CreateMap</code> . </p><br><p>  Les tassements se font entendre partout: les méthodes doivent commencer par les verbes.  Vous voyez rarement quelqu'un douter: est-ce vraiment le cas?  Après tout, il ne peut pas y avoir de différence significative entre <code>Player.Health</code> et <code>Player.Health()</code> .  Que les enregistrements soient syntaxiquement différents, ils <em>signifient</em> la même chose. </p><br><p>  Supposons que, dans <code>IUsersRepository</code> un <code>GetUser(int id)</code> soit facilement attendu.  Pourquoi, pour représenter l'utilisateur, penser à une sorte de reçu ( <code>Get</code> )?  Ce sera plus précis - <code>User(int id)</code> ! </p><br><p>  Et vraiment: pas <code>FetchResult()</code> , mais <code>Result()</code> ;  pas <code>GetResponse()</code> , mais <code>Response()</code> ;  pas <code>CalculateDamage()</code> , mais <code>Damage()</code> . </p><br><p>  Un exposé DDD donne un exemple de «bon» code: <code>DiscountCalculator</code> avec la méthode <code>CalculateDiscountBy(int customerId)</code> .  Non seulement il y a une répétition symétrique sur le visage - <code>DiscountCalculator.CalculateDiscount</code> , ils ont également spécifié que la remise est <em>calculée</em> .  Et quoi d'autre, demande-t-on, à faire avec elle? </p><br><p>  Il serait plus fort de passer de l'entité elle-même - <code>Discount</code> avec la méthode <code>static decimal Of(Customer customer, Order order)</code> pour appeler <code>Discount.Of(customer, order)</code> - est plus simple que <code>_discountCalculator.CalculateDiscountBy(customerId)</code> et correspond à une seule langue. </p><br><p>  Parfois, en omettant le verbe, nous perdons quelque chose, comme, par exemple, dans <code>CreateMap()</code> : un remplacement direct par <code>Map()</code> peut ne pas être suffisant.  Ensuite, la meilleure solution est <code>NewMap()</code> : encore une fois, l'objet est en tête, pas l'action. </p><br><p>  L'utilisation de verbes vides vides est caractéristique d'une culture impérative obsolète, où l'algorithme est primaire et en avance sur le concept.  Vous y trouverez souvent une <em>«lame trempée»</em> qu'une <em>«lame trempée»</em> .  Mais le style des livres sur James Bond ne convient pas pour décrire le paysage.  Là où il n'y a pas de mouvement, il n'y a pas de place pour le verbe. </p><br><h3 id="drugoe">  Autre </h3><br><p>  Les propriétés et les méthodes exprimant les relations entre les objets sont également des objets, par conséquent, ce qui précède à bien des égards s'applique à eux. </p><br><p>  Par exemple, les répétitions dans les propriétés: pas <code>Thread.CurrentThread</code> , mais <code>Thread.Current</code> ;  pas <code>Inventory.InventoryItems</code> , mais <code>Inventory.Items</code> , etc. </p><br><h2 id="itogo-1">  Total </h2><br><p>  Les mots simples et compréhensibles ne sont pas confondus, et donc le code qui les compose n'est pas non plus confondu.  En écriture, il est tout aussi important d'écrire facilement: éviter les prépositions passives, une abondance d'adverbes et d'adjectifs, les répétitions, car les actions préfèrent un verbe à un substantif.  Un exemple bien connu: <em>"Il a hoché la tête, d'accord",</em> au lieu de <em>"Il a hoché la tête"</em> , il <code>QueueUserWorkItem</code> , et je me souviens de <code>QueueUserWorkItem</code> . </p><br><p>  Le texte du code est également différent en ce que dans le premier cas, vous serez payé si la <em>maison est debout, noyée dans les rayons du soleil couchant</em> ;  dans le second - si la maison est <em>debout</em> ;  mais cela vaut la peine de se rappeler: une <em>maison</em> doit rester debout, et non des bâtons d'aides. </p><br><p>  Dans les deux premiers articles de la série, je voulais montrer combien il est important de travailler non seulement sur l'algorithme, mais aussi sur le mot;  comment les noms déterminent le contenu de ce qui est appelé;  comment le code redondant et trop compliqué éloigne le lecteur. </p><br><p>  Parallèlement à cela, les bons noms ne sont que des notes.  Pour <em>jouer</em> , ils doivent être écrits et incarnés dans la musique.  Je vous en dirai plus dans le prochain <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> final. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr447674/">https://habr.com/ru/post/fr447674/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr447664/index.html">Ventes d'analyses commerciales transversales</a></li>
<li><a href="../fr447666/index.html">Sauvegarde MS SQL: quelques fonctionnalités utiles de Commvault que tout le monde ne connaît pas</a></li>
<li><a href="../fr447668/index.html">Interprète MSH</a></li>
<li><a href="../fr447670/index.html">La substitution des importations dans la pratique. Partie 2. Le début. Hyperviseur</a></li>
<li><a href="../fr447672/index.html">Catalogue des systèmes informatiques de l'entreprise</a></li>
<li><a href="../fr447676/index.html">Nouveau Mail.ru Mail et qu'est-ce que la pieuvre a à voir avec ça</a></li>
<li><a href="../fr447678/index.html">Le concept d'une brève encyclopédie</a></li>
<li><a href="../fr447680/index.html">Exercices d'émulation: manuel Xbox 360 FMA</a></li>
<li><a href="../fr447682/index.html">Space Data Center: 24 heures avant le lancement</a></li>
<li><a href="../fr447684/index.html">Comment afficher les valeurs de l'entreprise dans un bureau (sans affiches ni slogans)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>