<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤵🏻 🛤️ 🧑🏿‍🤝‍🧑🏻 Nous calculons par IP: comment gérer le spam sur un réseau social 🔷 🌡️ 🏩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le spamming sur les réseaux sociaux et les messageries instantanées est une douleur. Douleur pour les utilisateurs honnêtes et les développeurs. Comme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous calculons par IP: comment gérer le spam sur un réseau social</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/426843/">  Le spamming sur les réseaux sociaux et les messageries instantanées est une douleur.  Douleur pour les utilisateurs honnêtes et les développeurs.  Comment ils le combattent à Badoo, a déclaré Mikhail Ovchinnikov sur Highload ++, puis la version texte de ce rapport. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VknD3bQXuYU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>À propos de l'orateur:</strong> Mikhail Ovchinnikov travaille chez Badoo et est un anti-spam depuis cinq ans. <br><br>  Badoo compte 390 millions d'utilisateurs enregistrés (données d'octobre 2017).  Si nous comparons la taille de l'audience du service avec la population de la Russie, nous pouvons dire que dans notre pays, selon les statistiques, chaque 100 millions de personnes sont protégées par 500000 policiers, et à Badoo, un seul employé Antispam protège chaque 100 millions d'utilisateurs du spam.  Mais même un si petit nombre de programmeurs peut protéger les utilisateurs contre divers problèmes sur Internet. <br><a name="habracut"></a><br>  Nous avons un large public, et il peut avoir différents utilisateurs: <br><br><ul><li>  Bon et très bon, nos clients payants préférés; </li><li> Les mauvais sont ceux qui, au contraire, essaient de gagner de l'argent avec nous: ils envoient du spam, fraudent de l'argent et se livrent à la fraude. </li></ul><br><h2>  Qui doit se battre <br></h2><br>  Le spam peut être différent, il est souvent impossible de le distinguer du comportement d'un utilisateur ordinaire.  Cela peut être manuel ou automatique - les bots qui sont engagés dans le mailing automatique veulent également nous contacter. <br><br><blockquote>  Peut-être que vous avez également écrit des robots - créiez des scripts pour la publication automatique.  Si vous faites cela maintenant, il vaut mieux ne pas lire plus loin - vous ne devriez en aucun cas savoir ce que je vais vous dire maintenant. <br></blockquote><br>  Ceci, bien sûr, est une blague.  L'article ne contiendra aucune information qui simplifiera la vie des spammeurs. <br><br><img src="https://habrastorage.org/webt/kr/3c/7v/kr3c7vtm241m6npyzo7ej4bcams.jpeg"><br><br>  Alors avec qui devons-nous nous battre?  Ce sont des spammeurs et des escrocs. <br><br>  Le spam est apparu il y a longtemps, dès le tout début du développement d'Internet.  Dans notre service, les spammeurs essaient généralement d'enregistrer un compte en y téléchargeant une <strong>photo d'une jolie fille</strong> .  Dans la forme la plus simple, ils commencent à envoyer les types de liens de spam les plus évidents. <br><br>  Une option plus compliquée consiste à ce que les gens n’envoient rien d’explicite, n’envoient aucun lien, ne fassent aucune publicité, mais <strong>attirent l’utilisateur vers un endroit plus pratique pour eux, par exemple, des messageries instantanées</strong> : Skype, Viber, WhatsApp.  Là, ils peuvent, sans notre contrôle, vendre quoi que ce soit à l'utilisateur, promouvoir, etc. <br><br>  Mais les <strong>spammeurs ne sont pas le plus gros problème</strong> .  Ils sont évidents et faciles à combattre.  Des personnages beaucoup plus complexes et intéressants sont des <strong>escrocs</strong> qui prétendent être une autre personne et essaient de tromper les utilisateurs de toutes les manières qui se trouvent sur Internet. <br><br>  Bien sûr, les actions des spammeurs et des escrocs ne sont pas toujours très différentes du comportement des utilisateurs ordinaires qui le font aussi parfois.  Il existe de nombreux signes formels dans les deux qui ne permettent pas de tracer une ligne claire entre eux.  Ce n'est presque jamais possible. <br><br><h2>  Comment faire face au spam au Mésozoïque <br></h2><br><ol><li>  La chose la plus simple qui pouvait être faite était d'écrire <strong>des expressions régulières distinctes pour chaque type de spam</strong> et d'entrer chaque mauvais mot et chaque domaine distinct dans ce régulier.  Tout cela a été fait manuellement et, bien sûr, c'était aussi gênant et inefficace que possible. <br></li><li>  Vous pouvez <strong>rechercher</strong> manuellement <strong>des adresses IP douteuses et les saisir dans la configuration du serveur</strong> afin que les utilisateurs suspects n'accèdent plus jamais à votre ressource.  Ceci est inefficace car les adresses IP sont constamment réaffectées, redistribuées. <br></li><li>  Écrivez des scripts uniques pour chaque type de spammeur ou de bot, raclez leurs journaux, trouvez manuellement des modèles.  Si un petit quelque chose change dans le comportement du spammeur, tout cesse de fonctionner - également complètement inefficace. <br></li></ol><img src="https://habrastorage.org/webt/ak/3l/ls/ak3llsljdhla9k_myprwxpmjc_y.jpeg"><br><br>  Tout d'abord, je vais vous montrer les méthodes les plus simples de lutte contre le spam que chacun peut mettre en œuvre par lui-même.  Ensuite, je vous parlerai en détail des systèmes plus complexes que nous avons développés en utilisant l'apprentissage automatique et d'autres pièces d'artillerie lourde. <br><br><h2>  Les moyens les plus simples de lutter contre le spam <br></h2><br><h3>  Modération manuelle <br></h3><br>  Dans n'importe quel service, vous pouvez embaucher des modérateurs qui afficheront manuellement le contenu et le profil de l'utilisateur, et décideront quoi faire avec cet utilisateur.  En règle générale, ce processus ressemble à la recherche d'une aiguille dans une botte de foin.  Nous avons un grand nombre d'utilisateurs, moins de modérateurs. <br><br><img src="https://habrastorage.org/webt/xv/aa/ak/xvaaakhzi0pnnvltii7wcpf2uci.jpeg"><br><br>  En plus du fait que les modérateurs ont évidemment besoin de beaucoup, vous avez besoin de beaucoup d'infrastructure.  Mais, en fait, la chose la plus difficile en est une autre - un problème se pose: comment, au contraire, protéger les utilisateurs des modérateurs. <br><br>  Il est nécessaire de s'assurer que les modérateurs n'ont pas accès aux données personnelles.  Ceci est important car les modérateurs peuvent théoriquement aussi essayer de nuire.  Autrement dit, nous avons besoin d'antispam pour antispam, afin que les modérateurs soient sous contrôle strict. <br><br>  De toute évidence, vous ne pouvez pas vérifier tous les utilisateurs de cette manière.  Néanmoins, la <strong>modération est en tout cas nécessaire</strong> , car tout système à l'avenir aura besoin d'une formation et d'une main humaine qui déterminera ce qu'il faut faire avec l'utilisateur. <br><br><h3>  Collecte de statistiques <br></h3><br>  Vous pouvez essayer d'utiliser des statistiques - pour collecter divers paramètres pour chaque utilisateur. <br><br><img src="https://habrastorage.org/webt/n2/yq/ck/n2yqckqwqt8ttzvjtmtc3vgnbza.jpeg"><br><br>  L'utilisateur Innokenty se connecte à partir de son adresse IP.  La première chose que nous faisons est de vous connecter à l'adresse IP saisie.  Ensuite, nous construisons un index avant et arrière entre toutes les adresses IP et tous les utilisateurs, afin que vous puissiez obtenir toutes les adresses IP à partir desquelles un utilisateur spécifique se connecte, ainsi que tous les utilisateurs qui se connectent à partir d'une adresse IP spécifique. <br><br>  De cette façon, nous obtenons la connexion entre l'attribut et l'utilisateur.  Il peut y avoir beaucoup de tels attributs.  Nous pouvons commencer à collecter des informations non seulement sur les adresses IP, mais aussi sur les photos, les appareils à partir desquels l'utilisateur est entré - sur tout ce que nous pouvons déterminer. <br><br><img src="https://habrastorage.org/webt/i3/kw/8e/i3kw8el8s0_psz5w_d1hoxwui_s.jpeg"><br><br>  Nous collectons ces statistiques et l'associons à l'utilisateur.  Pour chacun des attributs, nous pouvons collecter des compteurs détaillés. <br><br>  Nous avons une modération manuelle qui décide quel utilisateur est bon, lequel est mauvais, et à un moment donné, l'utilisateur est bloqué ou reconnu comme normal.  Nous pouvons obtenir séparément des données pour chaque attribut, combien d'utilisateurs au total, combien d'entre eux sont bloqués, combien sont reconnus comme normaux. <br><br>  Ayant de telles statistiques pour chacun des attributs, nous pouvons à peu près déterminer qui est le spammeur, qui ne l'est pas. <br><br><img src="https://habrastorage.org/webt/og/tj/tk/ogtjtkfpogqabof2yd_reen33ts.jpeg"><br><br>  Disons que nous avons deux adresses IP - 80% des spammeurs sur une et 1% sur la seconde.  Évidemment, le premier est beaucoup plus spammé, vous devez en faire quelque chose et appliquer une sorte de sanction. <br><br>  Le plus simple est d'écrire <strong>des règles heuristiques</strong> .  Par exemple, si les utilisateurs bloqués représentent plus de 80% et ceux qui sont considérés comme normaux - moins de 5%, cette adresse IP est considérée comme incorrecte.  Ensuite, nous interdisons ou faisons autre chose avec tous les utilisateurs avec cette adresse IP. <br><br><h3>  Collecte de statistiques à partir de textes <br></h3><br>  En plus des attributs évidents des utilisateurs, vous pouvez également effectuer une analyse de texte.  Vous pouvez analyser automatiquement les messages des utilisateurs, en isoler tout ce qui est lié au spam: mentionner les messagers, les téléphones, les e-mails, les liens, les domaines, etc., et collecter exactement les mêmes statistiques auprès d'eux. <br><br><img src="https://habrastorage.org/webt/wr/t2/oo/wrt2oo4ybijxo1cx3odkuf917pi.jpeg"><br><br>  Par exemple, si un nom de domaine a été envoyé dans des messages par 100 utilisateurs, dont 50 ont été bloqués, alors ce nom de domaine est mauvais.  Il peut être mis sur liste noire. <br><br>  Nous recevrons une grande quantité de statistiques supplémentaires pour chacun des utilisateurs sur la base des textes des messages.  Aucun apprentissage automatique n'est nécessaire pour cela. <br><br><h3>  Arrêter les mots <br></h3><br>  En plus des éléments évidents - téléphones et liens - vous pouvez extraire des phrases ou des mots du texte qui sont particulièrement courants pour les spammeurs.  Vous pouvez gérer cette liste de mots vides manuellement. <br><br>  Par exemple, sur les comptes des spammeurs et des escrocs, la phrase: «Il y a beaucoup de contrefaçons» est souvent trouvée.  Ils écrivent qu'ils sont généralement les seuls ici qui sont mis en place pour quelque chose de sérieux, tous les autres faux, qui en aucun cas ne peuvent faire confiance. <br><br>  Sur les sites de rencontres selon les statistiques, les spammeurs utilisent plus souvent que les gens ordinaires la phrase: "Je recherche une relation sérieuse".  Il est peu probable qu'une personne ordinaire écrive ceci sur un site de rencontres - avec une probabilité de 70%, il s'agit d'un spammeur qui essaie d'attirer quelqu'un. <br><br><h3>  Rechercher des comptes similaires <br></h3><br>  Avec des statistiques sur les attributs et les mots vides trouvés dans les textes, vous pouvez créer un système pour rechercher des comptes similaires.  Cela est nécessaire pour rechercher et interdire tous les comptes créés par la même personne.  Un spammeur qui a été bloqué peut immédiatement enregistrer un nouveau compte. <br><br>  Par exemple, un utilisateur Harold se connecte, se connecte au site et fournit ses attributs plutôt uniques: adresse IP, photo, mot stop qu'il a utilisé.  Peut-être qu'il s'est même inscrit avec un faux compte Facebook. <br><br><img src="https://habrastorage.org/webt/qr/he/g-/qrheg-lipc_-e6qakgidkfcz7lu.jpeg"><br><br>  Nous pouvons trouver tous les utilisateurs similaires à lui qui ont un ou plusieurs de ces attributs correspondants.  Lorsque nous savons avec certitude que ces utilisateurs sont connectés, en utilisant l'index très direct et inversé, nous trouvons les attributs, et par eux de tous les utilisateurs, et les classons.  Si, disons le premier Harold, nous bloquons, le reste est également facile à "tuer" en utilisant ce système. <br><br>  Toutes les méthodes que je viens de décrire sont très simples: il est facile de collecter des statistiques, puis il est facile de rechercher des utilisateurs à l'aide de ces attributs.  Mais, malgré la facilité, à l'aide de choses aussi simples - modération simple, statistiques simples, mots vides simples - ils parviennent <strong>à vaincre 50% du spam</strong> . <br><br>  Dans notre entreprise, pour les six premiers mois de travail, le service Antispam a vaincu 50% des spams.  Les 50% restants, comme vous le savez, sont beaucoup plus compliqués. <br><br><h2>  Comment rendre la vie difficile aux spammeurs <br></h2><br>  Les spammeurs inventent quelque chose, essayent de compliquer nos vies, et nous essayons de les combattre.  C'est une guerre sans fin.  Il y en a beaucoup plus que nous, et à chaque étape, nous trouvons leur propre chemin d'accès multiple. <br><br><blockquote>  Je suis sûr qu'il y a quelque part des conférences de spammeurs où les conférenciers parlent de la façon dont ils ont vaincu Badoo Antispam, de leurs KPI ou de la façon de créer un spam évolutif tolérant aux pannes en utilisant les dernières technologies. <br></blockquote><br>  Malheureusement, nous ne sommes pas invités à de telles conférences. <br><br>  Mais nous pouvons rendre la vie difficile aux spammeurs.  Par exemple, au lieu d'afficher directement à l'utilisateur la fenêtre «Vous êtes verrouillé», vous pouvez utiliser le soi-disant <strong>bannissement furtif</strong> - c'est lorsque nous ne disons pas à l'utilisateur qu'il est banni.  Il ne devrait même pas le soupçonner. <br><br><img src="https://habrastorage.org/webt/pt/3b/xm/pt3bxmfuyowj_0nkhjxnh3-yn14.jpeg"><br><br>  L'utilisateur entre dans le bac à sable (Silent Hill), où tout semble être réel: vous pouvez envoyer des messages, voter, mais en fait tout va dans le vide, dans le brouillard.  Personne ne verra et n'entendra jamais, personne ne recevra ses messages et votes. <br><br>  Nous avons eu un cas où un spammeur a spammé pendant longtemps, a fait la promotion de ses mauvais produits et services, et six mois plus tard, a décidé d'utiliser le service comme prévu.  Il a enregistré son vrai compte: vraies photos, nom, etc.  Naturellement, notre moteur de recherche de comptes similaires l'a rapidement compris et l'a mis en interdiction furtive.  Après cela, il a écrit pendant six mois dans le vide qu'il était très seul, personne n'a répondu.  En général, il a déversé toute son âme dans le brouillard de Silent Hill, mais n'a reçu aucune réponse. <br><br>  Les spammeurs, bien sûr, ne sont pas des imbéciles.  Ils essaient d'une manière ou d'une autre de déterminer qu'ils sont entrés dans le bac à sable et qu'ils ont été bloqués, quitter l'ancien compte et en trouver un nouveau.  Nous avons parfois même l'idée qu'il serait bien d'envoyer plusieurs de ces spammeurs dans le bac à sable ensemble, afin qu'ils se vendent tout ce qu'ils veulent et s'amusent comme vous le souhaitez.  Mais bien que nous n'ayons pas atteint ce point, nous concevons d'autres méthodes, par exemple, la vérification photo et téléphonique. <br><br><img src="https://habrastorage.org/webt/dz/7h/hc/dz7hhcjzwil1qnx_xtgg5itrxy4.jpeg"><br><br>  Comme vous le savez, il est difficile pour un spammeur qui est un bot et non une personne de passer la vérification par téléphone ou photo. <br><br>  Dans notre cas, la vérification par photo ressemble à ceci: l'utilisateur est invité à prendre une photo avec un certain geste, la photo résultante est comparée avec des photos déjà chargées dans le profil.  Si les visages sont les mêmes, alors la personne est probablement réelle, a téléchargé ses vraies photos et peut être laissée pour quelque temps. <br><br>  Il n'est pas facile pour les spammeurs de réussir ce test.  Nous avons même eu un petit jeu au sein de l'entreprise appelé Guess Who the Spammer.  Étant donné quatre photos, vous devez comprendre laquelle est un spammeur. <br><br><img src="https://habrastorage.org/webt/qm/h_/yp/qmh_ypmte7ptgnoyjjjmdudpheg.jpeg"><br><br>  À première vue, ces filles ont l'air complètement inoffensives, mais dès qu'elles commencent à subir une photo-vérification, il devient clair à un moment donné que l'une d'entre elles n'est absolument pas ce qu'elle prétend être. <br><br>  Dans tous les cas, les spammeurs ont du mal à lutter contre la vérification photo.  Ils souffrent vraiment, essaient de le contourner, de tromper et de démontrer toutes leurs compétences Photoshop. <br><br><img src="https://habrastorage.org/webt/bc/gp/hg/bcgphg5m2v4zh5q5aqaqhxx7wtk.jpeg"><br><br>  Les spammeurs font tout ce qu'ils peuvent, et parfois ils pensent, probablement, que tout cela est complètement traité par des technologies modernes incroyables qui sont si mal construites qu'elles sont si faciles à tromper. <br><br>  Ils ne savent pas que chaque photo est ensuite à nouveau vérifiée manuellement par les modérateurs. <br><br><h2>  Pas de temps <br></h2><br>  En fait, malgré le fait que nous trouvions différentes façons de rendre la vie difficile aux spammeurs, il n'y a généralement pas assez de temps, car l'anti-spam devrait fonctionner instantanément.  Il doit trouver et neutraliser l'utilisateur avant de commencer son activité négative. <br><br>  La meilleure chose à faire est de déterminer au stade de l'inscription que l'utilisateur n'est pas très bon.  Cela peut être fait, par exemple, en utilisant le clustering. <br><br><h3>  Regroupement d'utilisateurs <br></h3><br>  Nous pouvons collecter toutes les informations possibles juste après l'inscription.  Nous n'avons toujours pas d'appareils avec lesquels l'utilisateur se connecte, ni de photos, il n'y a pas de statistiques.  Nous n'avons rien à lui envoyer pour vérification, il n'a rien fait de suspect.  Mais nous avons déjà des informations primaires: <br><br><ul><li>  sexe </li><li>  l'âge </li><li>  pays d'enregistrement; </li><li>  pays et fournisseur IP; </li><li>  Domaine de messagerie </li><li>  opérateur téléphonique (le cas échéant); </li><li>  données de fb (le cas échéant) - combien d'amis il a, combien de photos il a téléchargées, combien de temps il s'y est inscrit, etc. </li></ul><br>  Toutes ces informations peuvent être utilisées pour localiser les clusters d'utilisateurs.  Nous utilisons l'algorithme de clustering <strong>K-means</strong> simple et populaire.  Il est parfaitement implémenté partout, il est pris en charge dans toutes les bibliothèques MachineLearning, il est parfaitement parallèle, il fonctionne rapidement.  Il existe des versions en streaming de cet algorithme qui vous permettent de répartir les utilisateurs sur des clusters à la volée.  Même dans nos volumes, tout cela fonctionne assez rapidement. <br><br>  Après avoir reçu de tels groupes d'utilisateurs (clusters), nous pouvons effectuer toutes les actions.  Si les utilisateurs sont très similaires (le cluster est fortement connecté), il s'agit très probablement d'un enregistrement de masse, il doit être arrêté immédiatement.  L'utilisateur n'a pas encore eu le temps de faire quoi que ce soit, il suffit de cliquer sur le bouton "S'inscrire" - et c'est tout, il est déjà entré dans le bac à sable. <br><br>  Des statistiques peuvent être collectées sur les clusters - si 50% du cluster est bloqué, les 50% restants peuvent être envoyés pour vérification, ou modéré individuellement tous les clusters manuellement, regardez les attributs par lesquels ils coïncident et prenez une décision.  Sur la base de ces données, les analystes peuvent identifier des modèles. <br><br><h3>  Patterns <br></h3><br>  Les modèles sont des ensembles d'attributs utilisateur les plus simples que nous connaissons immédiatement.  Certains modèles fonctionnent en fait très efficacement contre certains types de spammeurs. <br><br>  Par exemple, considérons une combinaison de trois attributs complètement indépendants et assez communs: <br><br><ol><li>  L'utilisateur est enregistré aux États-Unis; <br></li><li>  Son fournisseur est Privax LTD (opérateur VPN); <br></li><li>  Domaine de messagerie: [mail.ru, list.ru, bk.ru, mailbox.ru]. <br></li></ol><br>  Ces trois attributs, ne représentant apparemment rien d'eux-mêmes, donnent ensemble la probabilité qu'il s'agisse d'un spammeur, près de 90%. <br><br>  Vous pouvez extraire autant de schémas que vous le souhaitez pour chaque type de spammeur.  C'est beaucoup plus efficace et plus facile que d'afficher manuellement tous les comptes ou même les clusters. <br><br><h3>  Regroupement de texte <br></h3><br>  En plus de regrouper les utilisateurs par attributs, vous pouvez trouver des utilisateurs qui écrivent les mêmes textes.  Bien sûr, ce n'est pas si simple.  Le fait est que notre service fonctionne dans de nombreuses langues.  De plus, les utilisateurs écrivent souvent avec des abréviations, de l'argot, parfois avec des erreurs.  Eh bien, les messages eux-mêmes sont généralement très courts, littéralement 3 à 4 mots (environ 25 caractères). <br><br>  Par conséquent, si nous voulons trouver des textes similaires parmi les milliards de messages que les utilisateurs écrivent, nous devons trouver quelque chose d'inhabituel.  Si vous essayez d'utiliser des méthodes classiques basées sur l'analyse de la morphologie et un véritable traitement honnête de la langue, alors avec toutes ces restrictions, argots, acronymes et un tas de langues, c'est très difficile. <br><br>  Vous pouvez faire un peu plus simplement - appliquez l'algorithme <strong>n-gram</strong> .  Chaque message qui apparaît est décomposé en n-grammes.  Si n = 2, alors ce sont des bigrammes (paires de lettres).  Progressivement, le message entier est divisé en paires de lettres et des statistiques sont collectées, combien de fois chaque bigramme apparaît dans le texte. <br><br><img src="https://habrastorage.org/webt/co/4f/st/co4fst5xivvfiyxlxu8jzy0m2a4.jpeg"><br><br>  Vous ne pouvez pas vous arrêter aux bigrammes, mais ajoutez des trigrammes, des skipgrams (statistiques sur les lettres après 1, 2, etc. lettres).  Plus nous obtenons d'informations, mieux c'est.  Mais même les bigrammes fonctionnent déjà assez bien. <br><br>  Ensuite, nous obtenons un vecteur des bigrammes de chaque message dont la longueur est égale au carré de la longueur de l'alphabet. <br><br>  Il est très pratique de travailler avec ce vecteur et de le regrouper, car: <br><br><ul><li>  se compose de chiffres; </li><li>  compressé, il n'y a pas de vide; </li><li>  taille toujours fixe. </li><li>  l'algorithme k-means avec de tels vecteurs compressés de taille fixe est très rapide.  Nos milliards de messages sont regroupés en quelques minutes. </li></ul><br>  Mais ce n'est pas tout.  Malheureusement, si nous collectons simplement tous les messages dont la fréquence est similaire à celle des bigrammes, nous obtenons des messages dont la fréquence est similaire à celle des bigrammes.  Cependant, il n'est pas nécessaire qu'ils soient en fait au moins quelque peu similaires dans leur sens.  Il y a souvent de longs textes dans lesquels les vecteurs sont très proches, presque les mêmes, mais les textes eux-mêmes sont complètement différents.  De plus, à partir d'une certaine longueur de texte, cette méthode de clustering cessera généralement de fonctionner, car  les fréquences des bigrammes sont égales. <br><img src="https://habrastorage.org/webt/n5/cz/x1/n5czx1j8fb0hoskjlrwcqfi4gmg.jpeg"><br><br>  Par conséquent, vous devez ajouter un filtrage.  Étant donné que les clusters existent déjà, ils sont assez petits, nous pouvons facilement filtrer l'intérieur du cluster en utilisant Stemming ou Bag of Words.  À l'intérieur d'un petit cluster, vous pouvez littéralement comparer tous les messages avec tout le monde et obtenir le cluster dans lequel il est garanti que les mêmes messages coïncident non seulement dans les statistiques, mais aussi dans la réalité. <br><br> ,    — ,   ,   (  )      .       ,     - . <br><br><h3>   <br></h3><br>     —  VPN, TOR, Proxy, .   ,   ,    ,       . <br><br>  ,    ,      «   IP». <br><br><img src="https://habrastorage.org/webt/4f/mm/cz/4fmmczwlvswrgpf2lwenmap_ojg.jpeg"><br><br>        VPN —    ,     IP-    ,    IP- VPN, Proxy  . <br><br>       : <br><br><ol><li> <strong>  ISP</strong> (Internet Service Provider),    IP-   .    ,     . <br></li><li> <strong>  Whois</strong> .  IP-  Whois    : ; ; ,    IP-;  ,   IP-    ..        ,      IP-. <br></li><li> <strong> GeolP.</strong>    ,  IP-   ,   ,     IP-   , , ,   IP- -  . <br></li><li> <strong> </strong> —       IP- ,       GeolP, Whois,   . <br></li></ol><br>    ,   ,     ,   IP- VPN  . <br><br><img src="https://habrastorage.org/webt/xn/3-/3r/xn3-3rzsxwp1j8vkwfzqbqwf2ia.jpeg"><br><br>   <strong> </strong> ,           —   , ,   ..,     ,  IP-  VPN. <br><br> ,    .       ,       advanced-,        100% .        . <br><br>       ,  IP-   VPN,      ,    IP-   .     , ,     .   SOCKS-proxy,          IP-   . <br><br>  ,    ,       ,   <strong>p0f</strong> .  ,      fingerprinting     ,      :   , VPN-, Proxy  ..     ,    . <br><br><h2>    <br></h2><br>  ,     , , ,  ,  :         ?  —   !   ,               ,  ,     . <br><br>       —         ?       .       2  ,       . <br><br>        ,    ,   ,      ,    ,    ,      ,      . <br><br><img src="https://habrastorage.org/webt/kh/ta/q4/khtaq4exl7jt9eqlx_7bkbq0toq.jpeg"><br><br>    ,     ,     ? <br><br><h3> «User Decency» <br></h3><br>     —   ,            . <br><br>   «» : <br><br><ul><li>  ; </li><li>  ; </li><li>  ; </li><li>  ; </li><li> . </li></ul><br>              .    <strong>  </strong> .    ,       ,           ,        . <br><br>        ,   ,    « <strong> </strong> ».    , ,  ,  ,         .         . <br><br>      1, ,  ,      ,      —        . <br><br><img src="https://habrastorage.org/webt/fn/oq/27/fnoq274iaylcaenxrn7ne2xbluk.jpeg"><br><br>         . <br><br><h3> False positive <br></h3><br> ,    —    . ,       IP-. ,    -,          . , fingerprint,     ,  ,   —    ,    ,     ,   ,   - . <br><br>  :            : «,    —   Pornhub —     ?»     ,    -   ,            . <br><br>      .   ,  ,      ,       . <br><br>    - «Pornhub».   -      ,  -  . <br><br><img src="https://habrastorage.org/webt/hc/-b/sr/hc-bsrvrndwftksm6hpepc_jyhi.jpeg"><br><br>  -         -,           . <br><br>   ,        ,   .     : , , , ,   ..    ,   «»         .    ,  ,  ,   .       ,     ,      . <br><br>     ,         . <br><br><h2>  - <br></h2><br>    —           MachineLearning,    ,             0  1 —    . <br><img src="https://habrastorage.org/webt/bg/oa/tb/bgoatbaeeo_0zxpxfafc-d7qxl0.jpeg"><br><br>     ,     ,     <strong> </strong> ,   .       ,       ,          .            ,   -  ,  . <br><br>  ,           —   .        —   ,      . <br><br>     ,     (   )  ,       ,     . , ,    ,              :  ,  ,   .         . <br><br><blockquote>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HighLoad++ 2018</a> ,            , : <br><br><ul><li>       ML-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ,        <br></li><li>    NVIDIA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   ,        . <br></li><li>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>  use case    . <br></li></ul><br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">youtube-</a> ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> — ,           . <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr426843/">https://habr.com/ru/post/fr426843/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr426825/index.html">Quelques conseils pour les pigistes</a></li>
<li><a href="../fr426831/index.html">Conversation désagréable, herpétologue et surprise totale</a></li>
<li><a href="../fr426835/index.html">Analyse comparative et détaillée des plugins de mise en cache pour WordPress</a></li>
<li><a href="../fr426837/index.html">Diffusion vidéo sur votre site qui fonctionne</a></li>
<li><a href="../fr426839/index.html">Vous avez oublié Total.js?</a></li>
<li><a href="../fr426849/index.html">4 outils pour exécuter des commandes sur plusieurs serveurs Linux simultanément</a></li>
<li><a href="../fr426851/index.html">Développement Web moderne: choisissez votre aventure</a></li>
<li><a href="../fr426853/index.html">«S in IoT Stands for Security»: la première loi au monde sur la protection des gadgets intelligents a été adoptée - nous comprenons ce qu'est l'essence</a></li>
<li><a href="../fr426861/index.html">Une nouvelle chasse à la matière noire prend place sous la montagne</a></li>
<li><a href="../fr426863/index.html">Disponible sur les quaternions et leurs avantages</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>