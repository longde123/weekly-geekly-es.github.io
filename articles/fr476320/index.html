<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüíº üë®üèº‚Äçüè≠ üë©üèª‚Äçü§ù‚Äçüë®üèæ Gestion d'√©quipes en cours de livraison d'une nouvelle version d'application √† Kubernetes üåΩ üö£üèø üòõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans notre pratique, nous sommes souvent confront√©s √† la t√¢che d'adapter les applications clientes pour qu'elles s'ex√©cutent sur Kubernetes. Lors de l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gestion d'√©quipes en cours de livraison d'une nouvelle version d'application √† Kubernetes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/476320/"><img src="https://habrastorage.org/webt/bl/a1/wq/bla1wqhxnafiftfwcg0s3vsyvxe.png"><br><br>  Dans notre pratique, nous sommes souvent confront√©s √† la t√¢che d'adapter les applications clientes pour qu'elles s'ex√©cutent sur Kubernetes.  Lors de la r√©alisation de ces travaux, un certain nombre de probl√®mes typiques se posent.  Nous avons r√©cemment couvert l'un d'eux dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fichiers locaux lors du transfert d'une application vers Kubernetes</a> , et l'autre, d√©j√† connect√© aux processus CI / CD, sera d√©crit dans cet article. <br><br><h2>  Commandes arbitraires avec Helm et werf </h2><br>  Une application n'est pas seulement une logique m√©tier et des donn√©es, mais √©galement un ensemble de commandes arbitraires qui doivent √™tre ex√©cut√©es pour une mise √† jour r√©ussie.  Il peut s'agir, par exemple, de migrations de bases de donn√©es, de ¬´serveurs¬ª pour la disponibilit√© de ressources externes, de certains transcodeurs ou d√©compresseurs, de bureaux d'enregistrement dans la d√©couverte de services externe - vous pouvez effectuer diff√©rentes t√¢ches sur diff√©rents projets. <br><br>  Que propose Kubernetes pour r√©soudre ces probl√®mes? <a name="habracut"></a>  Kubernetes est bon pour ex√©cuter des conteneurs en tant que pods, la solution standard consiste donc √† ex√©cuter une commande √† partir d'une image.  Pour cela, Kubernetes a une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>primitive de travail</b></a> qui vous permet d'ex√©cuter le pod avec des conteneurs d'application et surveille l'ach√®vement de ce pod. <br><br>  <b>Helm</b> va un peu plus loin et sugg√®re de lancer Job √† diff√©rentes √©tapes du processus de d√©ploiement.  Nous parlons de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hooks Helm</a> avec lesquels vous pouvez ex√©cuter Job avant ou apr√®s la mise √† jour des manifestes de ressources.  D'apr√®s notre exp√©rience, il s'agit d'une excellente fonctionnalit√© de Helm qui peut √™tre utilis√©e pour r√©soudre des t√¢ches de d√©ploiement. <br><br>  Cependant, il est impossible d'obtenir des informations √† jour sur l'√©tat des objets lors du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>d√©ploiement</b></a> dans Helm, nous utilisons donc l'utilitaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>werf</b></a> , qui permet de surveiller l'√©tat des ressources pendant le d√©ploiement directement √† partir du syst√®me CI et, en cas d'√©chec, de diagnostiquer rapidement une panne. <br><br>  Il s'est av√©r√© que ces fonctionnalit√©s utiles Helm et werf sont parfois mutuellement exclusives, mais il y a toujours une issue.  Examinez comment vous pouvez surveiller l'√©tat des ressources et ex√©cuter des commandes arbitraires sur l'exemple des migrations. <cut></cut><br><br><h2>  Ex√©cution des migrations avant la publication </h2><br>  La mise √† jour du sch√©ma de donn√©es fait partie int√©grante de la sortie de toute application de base de donn√©es.  Le d√©ploiement standard pour les applications qui appliquent des migrations en ex√©cutant une commande distincte implique les √©tapes suivantes: <br><br><ol><li>  mise √† jour de la base de code; </li><li>  d√©but de la migration; </li><li>  basculer le trafic vers la nouvelle version de l'application. </li></ol><br>  Au sein de Kubernetes, le processus devrait √™tre le m√™me, mais adapt√© √† nos besoins: <br><br><ol><li>  lancer un conteneur avec un nouveau code, qui peut contenir un nouvel ensemble de migrations; </li><li>  d√©marrer le processus d'application des migrations, apr√®s avoir fait cela avant de mettre √† jour la version de l'application. </li></ol><br>  Envisagez l'option lorsque <b>la base de donn√©es de l'application est d√©j√† en cours d'ex√©cution</b> et que nous n'avons pas besoin de la d√©ployer dans le cadre de la version qui d√©ploie l'application.  Deux crochets conviennent pour appliquer les migrations: <br><br><ul><li>  <code>pre-install</code> - cela fonctionne sur la premi√®re version Helm de l'application apr√®s avoir trait√© tous les mod√®les, mais avant de cr√©er des ressources dans Kubernetes; </li><li>  <code>pre-upgrade</code> - fonctionne lors de la mise √† jour de la version Helm et s'ex√©cute, comme la <code>pre-install</code> , apr√®s le traitement des mod√®les, mais avant de cr√©er des ressources dans Kubernetes. </li></ul><br>  Exemple de travail utilisant Helm et les deux crochets mentionn√©s: <br><br><pre> <code class="plaintext hljs">--- apiVersion: batch/v1 kind: Job metadata: name: {{ .Chart.Name }}-apply-migrations annotations: "helm.sh/hook": pre-install,pre-upgrade spec: activeDeadlineSeconds: 60 backoffLimit: 0 template: metadata: name: {{ .Chart.Name }}-apply-migrations spec: imagePullSecrets: - name: {{ required ".Values.registry.secret_name required" .Values.registry.secret_name }} containers: - name: job command: ["/usr/bin/php7.2", "artisan", "migrate", "--force"] {{ tuple "backend" . | include "werf_container_image" | indent 8 }} env: {{ tuple "backend" . | include "werf_container_env" | indent 8 }} - name: DB_HOST value: postgres restartPolicy: Never</code> </pre> <br>  <i><b>Remarque</b> : le mod√®le YAML ci-dessus a √©t√© cr√©√© en tenant compte des sp√©cificit√©s de werf.</i>  <i>Pour l'adapter √† un Casque "propre", il suffit:</i> <br><br><ul><li>  <i>remplacer <code>{{ tuple "backend" . | include "werf_container_image" | indent 8 }}</code></i> <i><code>{{ tuple "backend" . | include "werf_container_image" | indent 8 }}</code></i>  <i><code>{{ tuple "backend" . | include "werf_container_image" | indent 8 }}</code> vers l'image de conteneur dont vous avez besoin;</i> </li><li>  <i>supprimez la ligne <code>{{ tuple "backend" . | include "werf_container_env" | indent 8 }}</code></i> <i><code>{{ tuple "backend" . | include "werf_container_env" | indent 8 }}</code></i>  <i><code>{{ tuple "backend" . | include "werf_container_env" | indent 8 }}</code> , qui est sp√©cifi√© dans la cl√© <code>env</code> .</i> </li></ul><br>  Ainsi, ce mod√®le Helm devra √™tre ajout√© au <code>.helm/templates</code> , qui contient d√©j√† le reste des ressources de publication.  Lorsque <code>werf deploy --stages-storage :local</code> appel√©, tous les mod√®les seront trait√©s en premier, puis ils seront charg√©s dans le cluster Kubernetes. <br><br><h2>  D√©marrage des migrations pendant le processus de publication </h2><br>  L'option ci-dessus implique l'utilisation de migrations pour le cas o√π la base de donn√©es est d√©j√† en cours d'ex√©cution.  Mais que se passe-t-il si nous devons d√©ployer la revue de branche pour l'application et que la <b>base de donn√©es est d√©ploy√©e avec l'application</b> en une seule version? <br><br>  <i><b>NB</b> : Vous pouvez rencontrer un probl√®me similaire lors du d√©ploiement dans l'environnement de production si vous utilisez Service avec un point de terminaison qui contient l'adresse IP de la base de donn√©es pour se connecter √† la base de donn√©es.</i> <br><br>  Dans ce cas, les crochets de <code>pre-install</code> et de <code>pre-upgrade</code> ne nous conviennent pas, car l'application essaiera d'appliquer des migrations √† la base de donn√©es qui <i>n'existe pas encore</i> .  Ainsi, il est n√©cessaire d'effectuer des migrations <i>apr√®s</i> la sortie. <br><br>  Lorsque vous utilisez Helm, une telle t√¢che est r√©alisable, car elle <i>ne surveille pas l'</i> √©tat des applications.  Apr√®s le chargement des ressources dans Kubernetes, les hooks de publication se d√©clenchent <i>toujours</i> : <br><br><ul><li>  <code>post-install</code> - apr√®s le chargement de toutes les ressources dans K8 √† la premi√®re version; </li><li>  <code>post-upgrade</code> - apr√®s la mise √† jour de toutes les ressources dans K8 lors de la mise √† jour de la version. </li></ul><br>  Cependant, comme nous l'avons mentionn√© ci-dessus, <b>werf dispose d'un syst√®me de suivi des ressources</b> lors de la sortie.  Je m'attarderai un peu plus sur ce point: <br><br><ul><li>  Pour le suivi, werf utilise les capacit√©s de la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">kubedog</a> , dont nous avons d√©j√† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">parl√©</a> dans le blog. </li><li>  Cette fonctionnalit√© de werf nous permet de d√©terminer de mani√®re unique l'√©tat de la publication et d'afficher des informations sur la r√©ussite ou l'√©chec du d√©ploiement dans l'interface du syst√®me CI / CD. </li><li>  Sans recevoir ces informations, on ne peut parler d'aucune automatisation du processus de publication, car la cr√©ation r√©ussie de ressources dans le cluster Kubernetes n'est qu'une des √©tapes.  Par exemple, l'application peut ne pas d√©marrer en raison d'une configuration incorrecte ou d'un probl√®me de r√©seau, mais pour voir cela apr√®s la <code>helm upgrade</code> , vous devrez effectuer des √©tapes suppl√©mentaires. </li></ul><br>  Revenons maintenant √† l'application des migrations sur les post-hooks de Helm.  Les probl√®mes rencontr√©s: <br><br><ul><li>  De nombreuses applications avant de lancer d'une mani√®re ou d'une autre v√©rifient l'√©tat du circuit dans la base de donn√©es.  Par cons√©quent, sans nouvelles migrations, l'application peut ne pas d√©marrer. </li><li>  √âtant donn√© que werf, par d√©faut, garantit que tous les objets sont √† l'√©tat <code>Ready</code> , les hooks de publication ne fonctionneront pas et les migrations √©choueront. </li><li>  Les objets de suivi peuvent √™tre d√©sactiv√©s via des annotations suppl√©mentaires, mais il est alors impossible d'obtenir des informations fiables sur les r√©sultats du d√©ploiement. </li></ul><br>  En cons√©quence, nous sommes arriv√©s √† ce qui suit: <br><br><ul><li>  Les travaux sont cr√©√©s avant les ressources principales, <b>il n'est donc pas n√©cessaire d'utiliser des crochets Helm pour les migrations</b> . </li><li>  Cependant, un travail avec migrations doit √™tre ex√©cut√© sur chaque d√©ploiement.  Pour que cela se produise, <b>Job doit avoir un nom unique</b> (al√©atoire): dans ce cas, pour Helm, c'est √† chaque fois un nouvel objet dans la version, qui sera cr√©√© dans Kubernetes. </li><li>  Avec un tel lancement, cela n'a aucun sens de craindre que Job s'accumule avec les migrations, car tous auront des noms uniques et le Job pr√©c√©dent est supprim√© avec une nouvelle version. </li><li>  <b>Un travail avec des migrations doit avoir un conteneur init</b> qui v√©rifie la disponibilit√© de la base de donn√©es - sinon nous obtenons un d√©ploiement abandonn√© (le travail tombera sur le conteneur init). </li></ul><br>  La configuration r√©sultante ressemble √† ceci: <br><br><pre> <code class="plaintext hljs">--- apiVersion: batch/v1 kind: Job metadata: name: {{ printf "%s-apply-migrations-%s" .Chart.Name (now | date "2006-01-02-15-04-05") }} spec: activeDeadlineSeconds: 60 backoffLimit: 0 template: metadata: name: {{ printf "%s-apply-migrations-%s" .Chart.Name (now | date "2006-01-02-15-04-05") }} spec: imagePullSecrets: - name: {{ required ".Values.registry.secret_name required" .Values.registry.secret_name }} initContainers: - name: wait-db image: alpine:3.6 ommand: ["/bin/sh", "-c", "while ! nc -z postgres 5432; do sleep 1; done;"] containers: - name: job command: ["/usr/bin/php7.2", "artisan", "migrate", "--force"] {{ tuple "backend" . | include "werf_container_image" | indent 8 }} env: {{ tuple "backend" . | include "werf_container_env" | indent 8 }} - name: DB_HOST value: postgres restartPolicy: Never</code> </pre> <br>  <i><b>NB</b> : √† strictement parler, les conteneurs init pour v√©rifier la disponibilit√© de la base de donn√©es sont de toute fa√ßon mieux utilis√©s.</i> <br><br><h2>  Un exemple de mod√®le universel pour toutes les op√©rations de d√©ploiement </h2><br>  Cependant, les op√©rations qui doivent √™tre effectu√©es pendant la version peuvent √™tre plus que le lancement des migrations d√©j√† mentionn√©es.  Vous pouvez contr√¥ler l'ordre d'ex√©cution de Job non seulement via les types de crochets, mais √©galement en <b>attribuant un poids √† chacun d'eux</b> - via l'annotation <code>helm.sh/hook-weight</code> .  Les crochets sont tri√©s par poids dans l'ordre croissant et, si le poids est le m√™me, par nom de ressource. <br><br>  Avec un grand nombre de t√¢ches, il est pratique de cr√©er un mod√®le universel pour les <code>values.yaml</code> et de placer la configuration dans <code>values.yaml</code> .  Ce dernier peut ressembler √† ceci: <br><br><pre> <code class="plaintext hljs">deploy_jobs: - name: migrate command: '["/usr/bin/php7.2", "artisan", "migrate", "--force"]' activeDeadlineSeconds: 120 when: production: 'pre-install,pre-upgrade' staging: 'pre-install,pre-upgrade' _default: '' - name: cache-clear command: '["/usr/bin/php7.2", "artisan", "responsecache:clear"]' activeDeadlineSeconds: 60 when: _default: 'post-install,post-upgrade'</code> </pre> <br>  ... et le mod√®le lui-m√™me est comme ceci: <br><br><pre> <code class="plaintext hljs">{{- range $index, $job := .Values.deploy_jobs }} --- apiVersion: batch/v1 kind: Job metadata: name: {{ $.Chart.Name }}-{{ $job.name }} annotations: "helm.sh/hook": {{ pluck $.Values.global.env $job.when | first | default $job.when._default }} "helm.sh/hook-weight": "1{{ $index }}" spec: activeDeadlineSeconds: {{ $job.activeDeadlineSeconds }} backoffLimit: 0 template: metadata: name: {{ $.Chart.Name }}-{{ $job.name }} spec: imagePullSecrets: - name: {{ required "$.Values.registry.secret_name required" $.Values.registry.secret_name }} initContainers: - name: wait-db image: alpine:3.6 ommand: ["/bin/sh", "-c", "while ! nc -z postgres 5432; do sleep 1; done;"] containers: - name: job command: {{ $job.command }} {{ tuple "backend" $ | include "werf_container_image" | indent 8 }} env: {{ tuple "backend" $ | include "werf_container_env" | indent 8 }} - name: DB_HOST value: postgres restartPolicy: Never {{- end }}</code> </pre> <br>  Cette approche vous permet d'ajouter rapidement de nouvelles commandes au processus de publication et rend la liste des commandes ex√©cutables plus visuelle. <br><br><h2>  Conclusion </h2><br>  L'article fournit des exemples de mod√®les qui vous permettent de d√©crire les op√©rations courantes que vous devez effectuer lors du lancement d'une nouvelle version de l'application.  Bien qu'ils soient le r√©sultat de l'exp√©rience dans la mise en ≈ìuvre de processus CI / CD dans des dizaines de projets, nous n'insistons pas sur le fait qu'il n'y a qu'une seule bonne solution pour toutes les t√¢ches.  Si les exemples d√©crits dans l'article ne couvrent pas les besoins de votre projet, nous serons heureux de voir des situations dans les commentaires qui pourraient aider √† compl√©ter ce mat√©riel. <br><br>  Commentaire des d√©veloppeurs de werf: <br><blockquote>  <i>√Ä l'avenir, werf pr√©voit d'introduire des √©tapes de d√©ploiement des ressources configurables par l'utilisateur.</i>  <i>√Ä l'aide de telles √©tapes, il sera possible de d√©crire les deux cas et pas seulement.</i> </blockquote><br><h2>  PS </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Utilisation de werf pour d√©ployer des graphiques Helm complexes</a> ¬ª; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Assemblage et d√©ploiement du m√™me type de microservices avec werf et GitLab CI</a> "; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fusion √† 3 voies dans werf: d√©ploiement dans Kubernetes avec Helm¬´ sous st√©ro√Ødes ¬ª</a> ¬ª; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Trucs et astuces Kubernetes: acc√©l√©rer le bootstrap des grandes bases de donn√©es.</a> " </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr476320/">https://habr.com/ru/post/fr476320/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr476308/index.html">Les 5 meilleures pratiques de d√©veloppement logiciel √† suivre en 2020</a></li>
<li><a href="../fr476310/index.html">CRM visage humain</a></li>
<li><a href="../fr476312/index.html">React ou Angular ou Vue.js - que choisir?</a></li>
<li><a href="../fr476316/index.html">Vue Storefront: Remplissez les donn√©es dans ES</a></li>
<li><a href="../fr476318/index.html">Nous attaquons compl√®tement Joker 2019: comment s'est pass√©e la plus grande conf√©rence Java en Russie</a></li>
<li><a href="../fr476322/index.html">Sch√©mas de distribution cl√©s avec un centre de confiance: Sch√©mas Giraud et Bloma</a></li>
<li><a href="../fr476324/index.html">Sommaire d'octobre sur la gestion des produits</a></li>
<li><a href="../fr476328/index.html">Starlink est une grosse affaire</a></li>
<li><a href="../fr476330/index.html">Pourquoi ai-je quitt√© Saint-P√©tersbourg pour Penza</a></li>
<li><a href="../fr476332/index.html">Am√©liorer l'informatique quantique avec l'apprentissage automatique classique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>