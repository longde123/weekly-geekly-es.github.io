<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จโ๐ ๐๐ฟ ๐ธ ุฏููู UseEffect ุงููุงูู ๐๐ผ ๐ฉ๐พโ๐ญ ๐ฆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏ ูุชุจุช ุนุฏุฉ ููููุงุช ุจุงุณุชุฎุฏุงู ุงูุณูุงููุฑ . ุฑุจูุง - ุญุชู ุฃููู ุฃูุดุฃูุง ุชุทุจูู ุตุบูุฑ. ุจุดูู ุนุงู ุ ุฃูุช ุณุนูุฏ ุฌุฏูุง ุจุงููุชูุฌุฉ. ููุฏ ุงุนุชุฏุช ุนูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฏููู UseEffect ุงููุงูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/445276/" style=";text-align:right;direction:rtl"> ููุฏ ูุชุจุช ุนุฏุฉ ููููุงุช ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุณูุงููุฑ</a> .  ุฑุจูุง - ุญุชู ุฃููู ุฃูุดุฃูุง ุชุทุจูู ุตุบูุฑ.  ุจุดูู ุนุงู ุ ุฃูุช ุณุนูุฏ ุฌุฏูุง ุจุงููุชูุฌุฉ.  ููุฏ ุงุนุชุฏุช ุนูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููู ุนูููุฉ ุงูุนุซูุฑ ุนูู ุจุนุถ ุงูุญูู ุงููููุฏุฉ ุบูุฑ ูุงุถุญุฉ.  ููุฏ ููุช ุญุชู ุจุฅูุดุงุก ุจุนุถ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุณูุงููุฑ ุงูุฎุงุตุฉ ุจู</a> ูุฎูุถุช ุงูููุฏ ุฅูู 300 ุณุทุฑ ุ ุญูุซ ูุถุนุช ูููุง ูุง ุชู ุชูุซููู ูุณุจููุง ุจุชูุฑุงุฑ ุดุธุงูุง ุงูุจุฑูุงูุฌ.  ูุงุฐุง ูุนูุช ุ ููุฏ ุฃุธูุฑุช ููุฒููุงุก.  "ุฃุญุณูุช" ุ ูุงููุง ุนู ูุดุฑูุนู. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/webt/bd/vj/e1/bdvje1n-vjzezd47wnphch1wq8a.png"></a> <br>  ููู ูู ุจุนุถ ุงูุฃุญูุงู ุ ุนูุฏ ุงุณุชุฎุฏุงู <code>useEffect</code> ุ ูุง <code>useEffect</code> ููููุงุช ุขููุงุช ุงูุจุฑูุงูุฌ ูุน ุจุนุถูุง ุจุดูู ุฌูุฏ.  ูุจุฏู ูู ุฃูู ุชูุชูุฏ ุดูุฆูุง ูุง.  ูู ูุฐุง ูุดุงุจู ููุนูู ูุน ุฃุญุฏุงุซ ุฏูุฑุฉ ุญูุงุฉ ุงููููู ุงููุณุชูุฏุฉ ุฅูู ุงููุตู ... ูููู ูู ูู ูุฐูู ุจุงููุนูุ <a name="habracut"></a><br>  ุนูุฏ ูุญุงููุฉ ููู ูุง ูุง ููุงุณุจู ุจุงูุถุจุท ุ ุชูุงุญุธ ุฃูู ุชุทุฑุญ ุงูุฃุณุฆูุฉ ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููู ุชูุนุจ <code>componentDidMount</code> ุจุงุณุชุฎุฏุงู <code>useEffect</code> ุ </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุชุญููู ุงูุจูุงูุงุช ุฏุงุฎู <code>useEffect</code> ุ  ูุง ูู <code>[]</code> ุ </li><li style=";text-align:right;direction:rtl">  ูู ูุฌุจ ุชุญุฏูุฏ ุงููุธุงุฆู ูุชุจุนูุงุช ููุชุฃุซูุฑุ </li><li style=";text-align:right;direction:rtl">  ููุงุฐุง ููุชูู ุงูุจุฑูุงูุฌ ุฃุญูุงููุง ุจุญููุฉ ูุง ุชูุชูู ูู ุฅุนุงุฏุฉ ุชุญููู ุงูุจูุงูุงุชุ </li><li style=";text-align:right;direction:rtl">  ููุงุฐุง ุชุธูุฑ ุงูุญุงูุฉ ุงููุฏููุฉ ุฃุญูุงููุง ุฏุงุฎู ุงูุชุฃุซูุฑุงุช ุฃู ุฃู ุงูุฎุตุงุฆุต ุงููุฏููุฉ ููุฌูุฏุฉุ </li></ul><br>  ุนูุฏูุง ุจุฏุฃุช ุงุณุชุฎุฏุงู ุงูุฎุทุงูุงุช ูุฃูู ูุฑุฉ ุ ุนุฐุจุชูู ูุฐู ุงูุฃุณุฆูุฉ ุฃูุถูุง.  ุญุชู ุนูุฏูุง ููุช ุฃุณุชุนุฏ ุงููุซุงุฆู ุ ูู ุฃุณุชุทุน ุฃู ุฃููู ุฃููู ุฃุชูู ุจุนุถ ุงูุชูุงุตูู ุงูุฏูููุฉ.  ููุฐ ุฐูู ุงูุญูู ุ ูุฑุฑุช ุจุนุฏุฉ ูุญุธุงุช ุ ุนูุฏูุง ุฃุฏุฑูุช ูุฌุฃุฉ ุดูุฆูุง ููููุง ุ ุฃุฑุฏุช ุญููุง ุฃู ุฃุตุฑุฎ: "ููุฑููุง!"  ุญูู ูุง ุฃุฏุฑูุชู ูู ูุฐู ุงููุญุธุงุช ุ ุฃุฑูุฏ ุฃู ุฃุฎุจุฑู.  ูุง ุชุนููุชู ุนู <code>useEffect</code> ุงูุขู ุณูุณูุญ ูู ุจุฑุคูุฉ ุงูุฅุฌุงุจุงุช ุงููุงุถุญุฉ ุนูู ุงูุฃุณุฆูุฉ ุฃุนูุงู ุจูุถูุญ. <br><br>  ูููู ูู ุฃุฌู ุงูุงุทูุงุน ุนูู ุฅุฌุงุจุงุช ูุฐู ุงูุฃุณุฆูุฉ ุ ูุญุชุงุฌ ุฃููุงู ุฅูู ุงูุชุฑุงุฌุน.  ุงูุบุฑุถ ูู ูุฐู ุงูููุงูุฉ ููุณ ุฅุนุทุงุก ูุฑุงุฆูุง ุจุนุถ ุงูุฅุฑุดุงุฏุงุช ุฎุทูุฉ ุจุฎุทูุฉ ููุนูู ูุน <code>useEffect</code> .  ุฅูู ููุฏู ุฅูู ูุณุงุนุฏุชู ุ ุฅุฐุง <code>useEffect</code> " <code>useEffect</code> " <code>useEffect</code> .  ูุจุตุฑุงุญุฉ ุ ููุณ ููุงู ุงููุซูุฑ ููุชุนููู.  ูู ุงููุงูุน ุ ุณููุถู ูุนุธู ุงูููุช ูู ูุณูุงู ูุง ุนุฑููุงู ูู ูุจู. <br><br>  ูู ูุฌุชูุน ูู ุดูุก ูู ุฑุฃุณู ุฅูุง ุจุนุฏ ุฃู ุชูููุช ุนู ุงููุธุฑ ุฅูู ุฎุทุงู <code>useEffect</code> ุฎูุงู ููุธูุฑ ุงูุฃุณุงููุจ ุงููุฃูููุฉ ูุฏูุฑุฉ ุญูุงุฉ ุงูููููุงุช ุงููุงุฆูุฉ ุนูู ุงูููููุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  "ูุฌุจ ุฃู ุชูุณู ูุง ุชุนููุชู" </h3><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">habr.com/ru/company/ruvds/blog/445276/</a></i> <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8c3/9be/fba/8c39befba869c3bae1a6b87c2d2589d1.jpg"></div><br>  ูู ุงูููุชุฑุถ ุฃู ูููู ูุงุฑุฆ ูุฐู ุงููุงุฏุฉ ูุนุชุงุฏูุง ุฅูู ุญุฏ ูุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">useEffect</a> API.  ูุฐุง ููุงู ุทููู ููุนุง ูุง ุ ููููู ููุงุฑูุชู ุจูุชุงุจ ุตุบูุฑ.  ุงูุญูููุฉ ูู ุฃููู ุฃูุถู ุงูุชุนุจูุฑ ุนู ุฃููุงุฑู ุจูุฐู ุงูุทุฑููุฉ.  ุฃุฏูุงู ุ ุจุงุฎุชุตุงุฑ ุดุฏูุฏ ุ ูุชู ุฅุนุทุงุก ุฅุฌุงุจุงุช ูุชูู ุงูุฃุณุฆูุฉ ุงูุชู ุชูุช ููุงูุดุชูุง ุฃุนูุงู.  ุฑุจูุง ุชููู ูููุฏุฉ ูุฃููุฆู ุงูุฐูู ููุณ ูุฏููู ุงูููุช ุฃู ุงูุฑุบุจุฉ ูู ูุฑุงุกุฉ ุฌููุน ุงูููุงุฏ. <br><br>  ุฅุฐุง ูุงู ุงูุชูุณูู ุงูุฐู <code>useEffect</code> ููู <code>useEffect</code> ุ ุจูู <code>useEffect</code> ุ ุบูุฑ ููุงุณุจ ูู ุ ูููููู ุงูุงูุชุธุงุฑ ููููุงู - ุญุชู ุงููุญุธุฉ ุงูุชู ุชุธูุฑ ูููุง ูุฐู ุงูุชูุณูุฑุงุช ูู ุฃุฏูุฉ ุฃุฎุฑู ูุง ุชุนุฏ ููุง ุชุญุตู.  ุฅูููู ููุณ ุงููุตุฉ ูุน ููุชุจุฉ React ููุณูุง ุ ูุงูุชู ูุงูุช ูู ุนุงู 2013 ุดูุฆูุง ุฌุฏูุฏูุง ุชูุงููุง.  ูุณุชุบุฑู ูุฌุชูุน ุงูุชุทููุฑ ุจุนุถ ุงูููุช ุญุชู ูุชุนุฑู ุนูู ุงููููุฐุฌ ุงูุนููู ุงูุฌุฏูุฏ ูุงูููุงุฏ ุงูุชุนููููุฉ ุงููุจููุฉ ุนูู ูุฐุง ุงููููุฐุฌ ูุชุธูุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุฅุฌุงุจุงุช ุนูู ุงูุฃุณุฆูุฉ</font> </h2><br>  ูููุง ููู ุฅุฌุงุจุงุช ูุตูุฑุฉ ููุฃุณุฆูุฉ ุงูุชู ุชู ุทุฑุญูุง ูู ุจุฏุงูุฉ ูุฐู ุงููุงุฏุฉ ุ ูุงููุฎุตุตุฉ ูุฃููุฆู ุงูุฐูู ูุง ูุฑูุฏูู ูุฑุงุกุฉ ูุฐุง ุงููุต ุจุงููุงูู.  ุฅุฐุง ุดุนุฑุช ุฃุซูุงุก ูุฑุงุกุฉ ูุฐู ุงูุฅุฌุงุจุงุช ุฃูู ูุง ุชููู ุญููุง ูุนูู ูุง ุชูุฑุฃู ุ ูุงุจุญุซ ูู ุงููุงุฏุฉ.  ุณูู ุชุฌุฏ ุชูุณูุฑุงุช ููุตูุฉ ูู ุงููุต.  ุฅุฐุง ููุช ุณุชูุฑุฃ ูู ุดูุก ุ ูููููู ุชุฎุทู ูุฐุง ุงููุณู. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">to ููู ูููู ูุนุจ componentDidMount ุจุงุณุชุฎุฏุงู useEffectุ</font> </h3><br>  ุนูู ุงูุฑุบู ูู ุฃูู ููููู ุงุณุชุฎุฏุงู <code>useEffect(fn, [])</code> ูุชุดุบูู ูุธููุฉ <code>componentDidMount</code> ุ ุฅูุง ุฃููุง ููุณุช ุงูููุงูุฆ ุงูุฏููู ูู <code>componentDidMount</code> .  ููู ุ ุนูู ุนูุณ <code>componentDidMount</code> ุ ุชูุชูุท ุงูุฎุตุงุฆุต ูุงูุฏููุฉ.  ูุฐูู ุ ุญุชู ุฏุงุฎู ุฑุฏ ุงูุงุชุตุงู ุ ุณุชุฑู ุงูุฎุตุงุฆุต ุงูุฃูููุฉ ูุงูุญุงูุฉ.  ุฅุฐุง ููุช ุชุฑูุฏ ุฃู ุชุฑู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู ุดูุก ูุง ุ ููููู ูุชุงุจุชู ูู ุฑุงุจุท <code>ref</code> .  ูููู ุนุงุฏุฉ ูุง ูููู ููุงู ุทุฑููุฉ ุฃุจุณุท ูููููุฉ ุงูููุฏ ุ ูุฐุง ูุฅู ุงูููุงู ุจุฐูู ุงุฎุชูุงุฑู.  ุชุฐูุฑ ุฃู ูููุฐุฌ ุงูุชุฃุซูุฑุงุช ุงูุนูููุฉ ูุฎุชูู ุนู ุฐูู ุงููุทุจู ุนูู <code>componentDidMount</code> ูุทุฑู ุฏูุฑุฉ ุญูุงุฉ ุงููููู ุงูุฃุฎุฑู.  ูุฐูู ุ ูุฅู ูุญุงููุฉ ุงูุนุซูุฑ ุนูู ูุนุงุฏูุงุชูุง ุงูุฏูููุฉ ูููู ุฃู ุชุถุฑ ุฃูุซุฑ ููุง ุชููุน.  ูู ุฃุฌู ุงูุนูู ุจุดูู ููุชุฌ ุ ุชุญุชุงุฌ ุ ุฅุฐุง ุฌุงุฒ ุงูุชุนุจูุฑ ุ ุฅูู "ุงูุชูููุฑ ูู ุงูุขุซุงุฑ".  ุฃุณุงุณ ูููุฐุฌูู ุงูุนููู ุฃูุฑุจ ุฅูู ุชูููุฐ ุงูุชุฒุงูู ูู ุงูุงุณุชุฌุงุจุฉ ููุฃุญุฏุงุซ ูู ุฏูุฑุฉ ุญูุงุฉ ุงูููููุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">to ููููุฉ ุชุญููู ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ ุฏุงุฎู useEffectุ</font>  <font color="#3AC1EF">ูุง ูู []ุ</font> </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุง ููู</a> ุฏููู ุฌูุฏ ุญูู ุชุญููู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู <code>useEffect</code> .  ุญุงูู ูุฑุงุกุชูุง ุจุงููุงูู!  ุงููุง ููุณุช ูุจูุฑุฉ ูุซู ุฐูู.  ุงูุฃููุงุณ ุ <code>[]</code> ุ ุงูุชู ุชูุซู ุตููููุง ูุงุฑุบูุง ุ ุชุนูู ุฃู ุงูุชุฃุซูุฑ ูุง ูุณุชุฎุฏู ุงูููู ุงููุดุงุฑูุฉ ูู ุฏูู ุจูุงูุงุช React ุ ูููุฐุง ุงูุณุจุจ ูููู ุงุนุชุจุงุฑ ุงุณุชุฎุฏุงูู ุงููุฑุฏู ุขูููุง.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุนุฏ ุงุณุชุฎุฏุงู ูุฌููุนุฉ ูุงุฑุบุฉ ูู ุงูุชุจุนูุงุช ูุตุฏุฑูุง ุดุงุฆุนูุง ููุฃุฎุทุงุก ูู ุญุงูุฉ ุงุณุชุฎุฏุงู ูููุฉ ูุนููุฉ ุจุงููุนู ูู ุงูุชุฃุซูุฑ.  ุณุชุญุชุงุฌ ุฅูู ุฅุชูุงู ุงูุนุฏูุฏ ูู ุงูุงุณุชุฑุงุชูุฌูุงุช (ุงูููุฏูุฉ ุจุดูู ุฃุณุงุณู ูู ุดูู <code>useReducer</code> ู <code>useCallback</code> ) ุงูุชู ูููู ุฃู ุชุณุงุนุฏ ูู ุงููุถุงุก ุนูู ุงูุญุงุฌุฉ ุฅูู ุงูุชุจุนูุฉ ุจุฏูุงู ูู ุงูุชุฎูุต ูู ูุฐู ุงูุชุจุนูุฉ ุจุดูู ุบูุฑ ูุนููู. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">need ูู ูุฌุจ ุชุญุฏูุฏ ุงููุธุงุฆู ูุชุจุนูุงุช ููุชุฃุซูุฑุ</font> </h3><br>  ููุตู ุจุฃู ุชุคุฎุฐ ุงููุธุงุฆู ุงูุชู ูุง ุชุญุชุงุฌ ุฅูู ุฎุตุงุฆุต ุฃู ุญุงูุฉ ุฎุงุฑุฌ ุงูููููุงุช ุ ูุชูุตู ุจูุถุน ุชูู ุงููุธุงุฆู ุงูุชู ุชุณุชุฎุฏู ููุท ุจูุงุณุทุฉ ุงูุชุฃุซูุฑุงุช ุฏุงุฎู ุงูุชุฃุซูุฑุงุช.  ุฅุฐุง <code>useCallback</code> ุจุนุฏ ุฐูู ูู ุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงูููุฌูุฏุฉ ูู ูุทุงู ุงูุชุฌุณูุฏ (ุจูุง ูู ุฐูู ุงููุธุงุฆู ูู ุงูุฎุตุงุฆุต) ุ <code>useCallback</code> ูู <code>useCallback</code> ุญูุซ ุชู ุงูุชุตุฑูุญ ุนููุง ุ ูุญุงูู ุงุณุชุฎุฏุงููุง ูุฑุฉ ุฃุฎุฑู.  ููุงุฐุง ูุฐุง ูููุ  ูููู ูููุธุงุฆู "ุฑุคูุฉ" ุงูููู ูู ุงูุฎุตุงุฆุต ูุงูุญุงูุฉ ุ ุจุญูุซ ุชุดุงุฑู ูู ุชุฏูู ุงูุจูุงูุงุช.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅููู</a> ุงููุฒูุฏ ูู ุงููุนูููุงุช ุงูููุตูุฉ ุญูู ูุฐุง ุงูุฃูุฑ ูู ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">โ ููุงุฐุง ููุชูู ุงูุจุฑูุงูุฌ ุฃุญูุงููุง ุจุญููุฉ ูุง ููุงูุฉ ููุง ูุฅุนุงุฏุฉ ุชุญููู ุงูุจูุงูุงุชุ</font> </h3><br>  ูููู ุฃู ูุญุฏุซ ูุฐุง ุนูุฏ ุชูููุฐ ุชุญููู ุงูุจูุงูุงุช ุจุทุฑููุฉ ูุง ุชุญุชูู ุนูู ูุณูุทุฉ ุซุงููุฉ ุชูุซู ุงูุชุจุนูุงุช.  ุจุฏูููุง ุ ูุชู ุชูููุฐ ุงูุชุฃุซูุฑุงุช ุจุนุฏ ูู ุนูููุฉ ุชุฌุณูุฏ - ููุง ูุนูู ุฃู ุชุญุฏูุฏ ุงูุญุงูุฉ ุณูู ูุชุณุจุจ ูู ุงูุชุฐููุฑ ุจูุฐู ุงูุขุซุงุฑ.  ูููู ุฃู ุชุญุฏุซ ุญููุฉ ูุง ููุงุฆูุฉ ุฃูุถูุง ูู ุญุงูุฉ ุงูุฅุดุงุฑุฉ ุฅูู ุงููููุฉ ุงูุชู ุชุชุบูุฑ ุฏุงุฆููุง ูู ุตููู ุงูุชุจุนูุฉ.  ุชุนุฑู ุนูู ููุน ุงููููุฉ ุงูููููุฉ ุนู ุทุฑูู ุฅุฒุงูุฉ ุงูุชุจุนูุงุช ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู.  ููุน ุฐูู ุ ุนุงุฏุฉู ูุง ุชููู ุฅุฒุงูุฉ ุงูุชุจุนูุงุช (ุฃู ุงุณุชุฎุฏุงู rashly ุจุงุณุชุฎุฏุงู <code>[]</code> ุงูุทุฑููุฉ ุงูุฎุงุทุฆุฉ ูุญู ูุดููุฉ.  ุจุฏูุงู ูู ุฐูู ุ ูุฌุจ ุฃู ุชุฌุฏ ูุตุฏุฑ ุงููุดููุฉ ูุญููุง ุญููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุฃู ุชุณุจุจ ุงูุฏุงูุงุช ูุดููุฉ ููุงุซูุฉ.  ููููู ุงููุณุงุนุฏุฉ ูู ุญููุง ุนู ุทุฑูู ูุถุนูุง ูู ุชุฃุซูุฑุงุช ุ ุฃู ููููุง ุฎุงุฑุฌ ุงูููููุงุช ุ ุฃู ุนู ุทุฑูู ุงูุงูุชูุงู ุนูู <code>useCallback</code> .  ูุชุฌูุจ ุฅูุดุงุก ูุงุฆูุงุช ูุชุนุฏุฏุฉ ุ ููููู ุงุณุชุฎุฏุงู <code>useMemo</code> . <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">sometimes ููุงุฐุง ุชุธูุฑ ุงูุญุงูุฉ ุงููุฏููุฉ ูู ุจุนุถ ุงูุฃุญูุงู ุฏุงุฎู ุงูุขุซุงุฑ ุฃู ูุชู ุงูุนุซูุฑ ุนูู ุงูุฎุตุงุฆุต ุงููุฏููุฉุ</font> </h3><br>  ุงูุชุฃุซูุฑุงุช ุฏุงุฆูุง "ุงูุธุฑ" ุฎุตุงุฆุต ูุงูุฏููุฉ ูู ุชูุฏูู ุงูุชู ุฃุนูู ุนููุง.  ูุณุงุนุฏ ูุฐุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุน ุงูุฃุฎุทุงุก</a> ุ ูููู ูู ุจุนุถ ุงูุญุงูุงุช ูููู ุฃู ูุชุฏุงุฎู ูุน ุงูุชุดุบูู ุงูุนุงุฏู ูููููู.  ูู ูุซู ูุฐู ุงูุญุงูุงุช ุ ููููู ุงุณุชุฎุฏุงู ุงุฑุชุจุงุทุงุช <code>ref</code> ุงููุงุจูุฉ ููุชุบููุฑ ุตุฑุงุญุฉ ููุนูู ูุน ูุฐู ุงูููู (ููููู ูุฑุงุกุฉ ุฐูู ูู ููุงูุฉ ุงูููุงูุฉ ุงููุฐููุฑุฉ ุฃุนูุงู).  ุฅุฐุง ููุช ุชุนุชูุฏ ุฃูู ุชุฑู ุฎุตุงุฆุต ุฃู ุญุงูุฉ ูู ุงูุนุฑุถ ุงููุฏูู ุ ูููู ูุง ุชุชููุน ุฐูู ุ ููุฏ ุชููู ูุฏ ูุงุชุชู ุจุนุถ ุงูุชุจุนูุงุช.  ูู ุฃุฌู ูุนุฑูุฉ ููููุฉ ุฑุคูุชูู ุ ุงุณุชุฎุฏู ูุงุนุฏุฉ ุงูููุช.  ูู ุบุถูู ููููู ุ ุณูู ูุตุจุญ ูุซู ุทุจูุนุชู ุงูุซุงููุฉ.  ุฃูุถูุง ุ ุฃูู ูุธุฑุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐู</a> ุงูุฅุฌุงุจุฉ ูู ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ. <br><br>  ุขูู ุฃู ุชููู ูุฐู ุงูุฅุฌุงุจุงุช ุนูู ุงูุฃุณุฆูุฉ ูููุฏุฉ ูุฃููุฆู ุงูุฐูู ูุฑุฃููุง.  ุงูุขู ุฏุนููุง ูุชุญุฏุซ ุฃูุซุฑ ุนู <code>useEffect</code> . <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ูู ุชูุฏูู ูู ุฎุตุงุฆุตู ูุญุงูุชู.</font> </h2><br>  ูุจู ุฃู ูุชููู ูู ููุงูุดุฉ ุงูุขุซุงุฑ ุ ูุญุชุงุฌ ุฅูู ุงูุญุฏูุซ ุนู ุงูุชูุฏูู. <br><br>  ููุง ูู ูููู ุนุฏุงุฏ ูุธููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">   &lt;div&gt;     &lt;p&gt;You clicked {count} times&lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/p&gt;     &lt;button onClick={() =&gt; setCount(count + 1)}&gt;       Click me     &lt;/</span></span></span></span><span class="hljs-function"><span class="hljs-params">button&gt;   &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/div&gt; ); }</span></span></span></span></span></span></code> </pre> <br>  ุฃูู ูุธุฑุฉ ูุงุญุตุฉ ุนูู <code>&lt;p&gt;You clicked {count} times&lt;/p&gt;</code> .  ูุงุฐุง ุชุนููุ  ูู ุงูุซุงุจุช ุงูุซุงุจุช ุจุทุฑููุฉ ูุง "ููุงุญุธ" ุงูุชุบููุฑุงุช ูู ุงูุญุงูุฉ ููู ูุชู ุชุญุฏูุซูุง ุชููุงุฆููุงุ  ูููู ุงุนุชุจุงุฑ ูุฐุง ุงูุงุณุชูุชุงุฌ ููุนูุง ูู ุงูููุฑุฉ ุงูุฃููู ุงููููุฉ ูุดุฎุต ูุฏุฑุณ React ุ ููููุง ููุณุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฐุฌูุง ุนููููุง ุฏููููุง</a> ููุง ูุญุฏุซ. <br><br>  ูู ูุซุงููุง ุ <code>count</code> ูุฌุฑุฏ ุฑูู.  ูุฐุง ููุณ ููุนูุง ูู "ุฑุจุท ุงูุจูุงูุงุช" ุงูุณุญุฑู ุ ูููุณ ููุนูุง ูู "ูุงุฆู ุงููุฑุงูุจ" ุฃู "ุงููููู" ุ ุฃู ุฃู ุดูุก ุขุฎุฑ.  ุฃูุงููุง ุฑูู ุฌูุฏ ูุฏูู ุ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> count = <span class="hljs-number"><span class="hljs-number">42</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... &lt;p&gt;You clicked {count} times&lt;/p&gt; // ...</span></span></code> </pre> <br>  ุฃุซูุงุก ุฅุฎุฑุงุฌ ุงููููู ุงูุฃูู ุ ุชููู ูููุฉ <code>count</code> ุชู ุงูุญุตูู ุนูููุง ูู <code>useState()</code> ูู 0. ุนูุฏูุง ูุณูู <code>setCount(1)</code> ุ ูุณุชุฏุนู <code>setCount(1)</code> ุงููููู ูุฑุฉ ุฃุฎุฑู.  ุณูููู ูุฐุง <code>count</code> ุงูุฒููู 1. ูููุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     function Counter() { const count = 0; //  useState() // ... &lt;p&gt;You clicked {count} times&lt;/p&gt; // ... } //       function Counter() { const count = 1; //  useState() // ... &lt;p&gt;You clicked {count} times&lt;/p&gt; // ... } //        function Counter() { const count = 2; //  useState() // ... &lt;p&gt;You clicked {count} times&lt;/p&gt; // ... }</span></span></code> </pre> <br>  React ูุณุชุฏุนู ุงููููู ูููุง ูููุง ุจุชุญุฏูุซ ุงูุญุงูุฉ.  ููุชูุฌุฉ ูุฐูู ุ ูุฅู ูู ุนูููุฉ ุชุฌุณูุฏ "ุชุฑู" ูููุชูุง ุงูุฎุงุตุฉ ุจุงูุญุงูุฉ <code>counter</code> ุ ูุงูุชู ุ ุฏุงุฎู ุงููุธููุฉ ุ ุซุงุจุชุฉ. <br><br>  ูุชูุฌุฉ ูุฐูู ุ ูุง ูููู ูุฐุง ุงูุฎุท ุจุฃู ุนูููุฉ ุฑุจุท ุจูุงูุงุช ุฎุงุตุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">&lt;p&gt;You clicked {count} times&lt;<span class="hljs-regexp"><span class="hljs-regexp">/p&gt;</span></span></code> </pre> <br>  ูููู ููุท ุจุชุถููู ูููุฉ ุนุฏุฏูุฉ ูู ุงูููุฏ ุงูุฐู ุชู ุฅูุดุงุคู ุฃุซูุงุก ุงูุนุฑุถ.  ูุชู ุชูููุฑ ูุฐุง ุงูุฑูู ุจูุงุณุทุฉ React.  ุนูุฏูุง ูุณูู <code>setCount</code> ุ <code>setCount</code> ูููููู ูุฑุฉ ุฃุฎุฑู ุจูููุฉ <code>count</code> ูุฎุชููุฉ.  React ุซู ูููู ุจุชุญุฏูุซ DOM ุจุญูุซ ูุทุงุจู ุทุฑุงุฒ ูุงุฆู ุงููุณุชูุฏ ุฃุญุฏุซ ุฅุฎุฑุงุฌ ููุจูุงูุงุช ุฃุซูุงุก ุชูุฏูู ุงููููู. <br><br>  ุงูุงุณุชูุชุงุฌ ุงูุฃูุซุฑ ุฃูููุฉ ุงูุฐู ูููู ุงุณุชุฎูุงุตู ูู ุฐูู ูู ุฃู <code>count</code> ุซุงุจุช ุฏุงุฎู ุฃู ุนุฑุถ ูุนูู ููุง ูุชุบูุฑ ูุน ูุฑูุฑ ุงูููุช.  ูุชุบูุฑ ุงููููู ุงูุฐู ูุชู ุงุณุชุฏุนุงุคู ูุฑุงุฑูุง ูุชูุฑุงุฑูุง.  ูู ุชุฌุณูุฏ "ูุฑู" ูููุฉ <code>count</code> ุงูุฎุงุตุฉ ุจู ุ ูุงูุชู ูุชู ุนุฒููุง ููู ุนูููุฉ ุชุฌุณูุฏ. <br><br>  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐู</a> ุงููุงุฏุฉ ุ ููููู ุงูุนุซูุฑ ุนูู ุชูุงุตูู ุญูู ูุฐู ุงูุนูููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ูู ุชูุฏูู ูู ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ุงูุฎุงุตุฉ ุจู.</font> </h2><br>  ูู ุดูุก ูุง ูุฒุงู ูุงุถุญุง.  ูุงุฐุง ุนู ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซุ <br>  ูููู ูุธุฑุฉ ุนูู ูุฐุง ุงููุซุงู.  ููุง ุ ุจุนุฏ ุซูุงุซ ุซูุงูู ูู ุงูููุฑ ููู ุงูุฒุฑ ุ ูุชู ุนุฑุถ ูุฑุจุน ุฑุณุงูุฉ ูุญุชูู ุนูู ูุนูููุงุช ุญูู ุงููููุฉ ุงููุฎุฒูุฉ ูู <code>count</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleAlertClick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     alert(<span class="hljs-string"><span class="hljs-string">'You clicked on: '</span></span> + count);   }, <span class="hljs-number"><span class="hljs-number">3000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">   &lt;div&gt;     &lt;p&gt;You clicked {count} times&lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/p&gt;     &lt;button onClick={() =&gt; setCount(count + 1)}&gt;       Click me     &lt;/</span></span></span></span><span class="hljs-function"><span class="hljs-params">button&gt;     &lt;button onClick={handleAlertClick}&gt;       Show alert     &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/button&gt;   &lt;/</span></span></span></span><span class="hljs-function"><span class="hljs-params">div&gt; </span></span></span><span class="hljs-function">); }</span></span></code> </pre> <br>  ุงูุชุฑุถ ุฃููู ุฃุคุฏู ุชุณูุณู ุงูุฅุฌุฑุงุกุงุช ุงูุชุงูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุณุฃุฑูุน ูููุฉ <code>count</code> ุฅูู 3 ุจุงูููุฑ <code>Click me</code> ุงูุฒุฑ "ุงูููุฑ <code>Click me</code> . </li><li style=";text-align:right;direction:rtl">  ุงููุฑ ููู ุงูุฒุฑ " <code>Show alert</code> . </li><li style=";text-align:right;direction:rtl">  ุฒูุงุฏุฉ ุงููููุฉ ุฅูู 5 ูุจู ุงูุชูุงุก ุงููููุฉ. </li></ul><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/46c/55d/5f1/46c55d5f1f749462b7a173f1e748e41e.gif"></div><br>  <i><font color="#999999">ุฒูุงุฏุฉ ูููุฉ ุงูุนุฏุฏ ุจุนุฏ ุงูููุฑ ููู ุงูุฒุฑ "ุฅุธูุงุฑ ุงูุชูุจูู"</font></i> <br><br>  ูุง ุฑุฃูู ูุธูุฑ ูู ูุฑุจุน ุงูุฑุณุงูุฉุ  ูู ุณูุชู ุนุฑุถ ุงูุฑูู 5 ููุงู ุ ููู ูุง ูุชูุงูู ูุน ูููุฉ <code>count</code> ูู ุงูููุช ุงูุฐู ุชู ููู ุชุดุบูู ุงููุคูุช ุ ุฃู 3 - ุฃู ูููุฉ <code>count</code> ูู ุงูููุช ุงูุฐู ูุชู ููู ุงูุถุบุท ุนูู ุงูุฒุฑุ <br><br>  ุณุชุฌุฏ ุงูุขู ุฅุฌุงุจุฉ ุนูู ูุฐุง ุงูุณุคุงู ุ ูููู ุฅุฐุง ููุช ุชุฑุบุจ ูู ูุนุฑูุฉ ูู ุดูุก ุจููุณู - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅููู</a> ูุณุฎุฉ ุตุงูุญุฉ ูู ูุฐุง ุงููุซุงู. <br><br>  ุฅุฐุง ูุงู ูุง ุฑุฃูุชู ูุจุฏู ุบูุฑ ููููู ุจุงููุณุจุฉ ูู - ูุฅููู ูุซุงู ุฃูุฑุจ ุฅูู ุงููุงูุน.  ุชุฎูู ุชุทุจูู ุงูุฏุฑุฏุดุฉ ุงูุฐู ูุชู ููู ุ ูู ุงูููุงูุฉ ุ ุชุฎุฒูู <code>ID</code> ุงููุณุชูู ุงูุญุงูู ููุฑุณุงูุฉ ุ ูููุงู ุฒุฑ <code>Send</code> .  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐู</a> ุงููุงุฏุฉ ุ ูุง ูุญุฏุซ ูุนุชุจุฑ ุจุงูุชูุตูู.  ูู ุงููุงูุน ุ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุนูู ุณุคุงู ูุง ูุธูุฑ ูู ูุฑุจุน ุงูุฑุณุงูุฉ ูู 3. <br><br>  ุขููุฉ ุนุฑุถ ูุฑุจุน ุฑุณุงูุฉ "ุงุณุชููุช" ุนูู ุงูุญุงูุฉ ูู ุงูููุช ุงูุฐู ุชู ููู ุงูููุฑ ุนูู ุงูุฒุฑ. <br><br>  ููุงู ุทุฑู ูุชุทุจูู ุฅุตุฏุงุฑ ุขุฎุฑ ูู ุงูุณููู ุ ูููู ุงูุขู ุณูุชุนุงูู ูุน ุงูุณููู ุงูููุงุณู ูููุธุงู.  ุนูุฏ ุจูุงุก ุงูููุงุฐุฌ ุงูุฐูููุฉ ููุชูููููุฌูุงุช ุ ูู ุงูููู ุงูุชูููุฒ ุจูู "ุงูุทุฑูู ุงูุฃูู ููุงููุฉ" ูุจูู ุฌููุน ุฃููุงุน "ูุฎุงุฑุฌ ุงูุทูุงุฑุฆ". <br><br>  ููู ูุนูู ูู ูุฐุงุ <br><br>  ููุฏ ูููุง ุจุงููุนู ุฃู ูููุฉ <code>count</code> ุซุงุจุชุฉ ููู ููุงููุฉ ูุญุฏุฏุฉ ููุธุงุฆููุง.  ุฃุนุชูุฏ ุฃูู ูู ุงููููุฏ ุงูุญุฏูุซ ุนู ูุฐุง ุจูุฒูุฏ ูู ุงูุชูุตูู.  ุงูููุทุฉ ุงููููุฉ ูู ุฃู ูุธููุชูุง ุชุณูู ุนุฏุฉ ูุฑุงุช (ูุฑุฉ ูุงุญุฏุฉ ููู ุนูููุฉ ุชุฌุณูุฏ) ุ ูููู ูุน ูู ูู ูุฐู ุงูููุงููุงุช ุ <code>count</code> ุฏุงุฎููุง ุซุงุจุชูุง.  ุชู ุถุจุท ูุฐุง ุงูุซุงุจุช ุนูู ูููุฉ ูุนููุฉ (ุชูุซู ุญุงูุฉ ุนูููุฉ ุชูุฏูู ูุนููุฉ). <br><br>  ูุฐุง ุงูุณููู ูููุธุงุฆู ููุณ ุดูุฆูุง ุฎุงุตูุง ูู React - ุงููุธุงุฆู ุงูุนุงุฏูุฉ ุชุชุตุฑู ุจุทุฑููุฉ ููุงุซูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sayHi</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">person</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = person.name; setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   alert(<span class="hljs-string"><span class="hljs-string">'Hello, '</span></span> + name); }, <span class="hljs-number"><span class="hljs-number">3000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> someone = {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Dan'</span></span>}; sayHi(someone); someone = {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Yuzhi'</span></span>}; sayHi(someone); someone = {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Dominic'</span></span>}; sayHi(someone);</code> </pre> <br>  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง</a> ุงููุซุงู ุ <code>someone</code> ุฅุนุงุฏุฉ ุชุนููู ุงููุชุบูุฑ ุงูุฎุงุฑุฌู <code>someone</code> ุนุฏุฉ ูุฑุงุช.  ูููู ุฃู ูุญุฏุซ ููุณ ุงูุดูุก ูู ููุงู ูุง ุฏุงุฎู React ุ ูุฏ ุชุชุบูุฑ ุงูุญุงูุฉ ุงูุญุงููุฉ ูููููู.  ููุน ุฐูู ุ ููุฌุฏ ุฏุงุฎู ุฏุงูุฉ <code>sayHi</code> <code>name</code> ุซุงุจุช ูุญูู ูุฑุชุจุท <code>person</code> ูู ููุงููุฉ ูุนููุฉ.  ูุฐุง ุงูุซุงุจุช ูุญูู ุ ูุจุงูุชุงูู ูุชู ุนุฒู ูููู ูู ุงุณุชุฏุนุงุกุงุช ุงููุธุงุฆู ุงููุฎุชููุฉ ุนู ุจุนุถูุง ุงูุจุนุถ!  ูุชูุฌุฉู ูุฐูู ุ ุจุนุฏ ุงููุถุงุก ูููุฉ ุฒูููุฉ ุ "ุชุชุฐูุฑ" ูุงูุฐุฉ ุงูุฑุณุงูุฉ ุงููุนุฑูุถุฉ ูููุฉ <code>name</code> ุงูุฎุงุตุฉ ุจูุง. <br><br>  ูุฐุง ูุง ููุณุฑ ููู ููุชูุท ูุนุงูุฌ ุงูุฃุญุฏุงุซ ูููุฉ <code>count</code> ุนูุฏ ุงูููุฑ ููู ุฒุฑ.  ุฅุฐุง ูููุง ุ ูุน ุงูููููุงุช ุ ุจุชุทุจูู ููุณ ุงููุจุฏุฃ ุ ุงุชุถุญ ุฃู ูู "ูุฑู" ูุฑู ูููุฉ <code>count</code> ุงูุฎุงุตุฉ ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     function Counter() { const count = 0; //  useState() // ... function handleAlertClick() {   setTimeout(() =&gt; {     alert('You clicked on: ' + count);   }, 3000); } // ... } //       function Counter() { const count = 1; //  useState() // ... function handleAlertClick() {   setTimeout(() =&gt; {     alert('You clicked on: ' + count);   }, 3000); } // ... } //        function Counter() { const count = 2; //  useState() // ... function handleAlertClick() {   setTimeout(() =&gt; {     alert('You clicked on: ' + count);   }, 3000); } // ... }</span></span></code> </pre> <br>  ูุชูุฌุฉ ูุฐูู ุ ูููู ูู <code>handleAlertClick</code> ุ ูู ุงููุงูุน ุ ุจุฅุฑุฌุงุน <code>handleAlertClick</code> "ุงูุฅุตุฏุงุฑ" <code>handleAlertClick</code> .  ูู ูู ูุฐู ุงูุฅุตุฏุงุฑุงุช "ูุชุฐูุฑ" ูููุฉ <code>count</code> ุงูุฎุงุตุฉ ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     function Counter() { // ... function handleAlertClick() {   setTimeout(() =&gt; {     alert('You clicked on: ' + 0);   }, 3000); } // ... &lt;button onClick={handleAlertClick} /&gt; // ,   0 // ... } //       function Counter() { // ... function handleAlertClick() {   setTimeout(() =&gt; {     alert('You clicked on: ' + 1);   }, 3000); } // ... &lt;button onClick={handleAlertClick} /&gt; // ,   1 // ... } //        function Counter() { // ... function handleAlertClick() {   setTimeout(() =&gt; {     alert('You clicked on: ' + 2);   }, 3000); } // ... &lt;button onClick={handleAlertClick} /&gt; // ,   2 // ... }</span></span></code> </pre> <br>  ููุฐุง ุงูุณุจุจ ุ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง</a> ุงููุซุงู ุ "ุชูุชูู" ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ุฅูู ุนุฑูุถ ูุญุฏุฏุฉ ุ ูุนูุฏ ุงูููุฑ ููู ุงูุฒุฑ ุ ูุณุชุฎุฏู ุงููููู ุญุงูุฉ <code>count</code> ูู ูุฐู ุงูุนุฑูุถ. <br><br>  ุถูู ูู ุชุฌุณูุฏ ูุนูู ุ ุชุธู ุงูุฎุตุงุฆุต ูุงูุญุงูุฉ ุฏุงุฆููุง ููุง ูู.  ููู ุฅุฐุง ุงุณุชุฎุฏูุช ุนูููุงุช ุชูุฏูู ูุฎุชููุฉ ุฎุตุงุฆุตูุง ูุญุงูุชูุง ุ ูุญุฏุซ ููุณ ุงูุดูุก ูุน ุฃู ุขููุงุช ุชุณุชุฎุฏููุง (ุจูุง ูู ุฐูู ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ).  ูู ุฃูุถุง "ููุชููู" ุฅูู ุนุฑูุถ ูุญุฏุฏุฉ.  ูุฐูู ุ ุญุชู "ุงูุฏุงูุงุช" ุบูุฑ ุงููุชุฒุงููุฉ ุฏุงุฎู ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ "ุณุชุฑู" ููุณ ููู <code>count</code> . <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูู ุงููุซุงู ุฃุนูุงู ุ ููุช ุจุฏูุฌ ููู <code>count</code> ูุนูู ูุจุงุดุฑุฉ ูู ูุธููุฉ <code>handleAlertClick</code> .  ูู ูุคุฐููุง ูุฐุง ุงูุงุณุชุจุฏุงู "ุงูุนููู" ุ ุญูุซ ูุง ูููู ุชุบููุฑ <code>count</code> ุงูุซุงุจุช ุฏุงุฎู ุนุฑุถ ูุนูู.  ุฃููุงู ุ ุฅูู ุซุงุจุช ุ ูุซุงูููุง ุ ุฅูู ุฑูู.  ูู ุงูุขูู ุงูููู ุฃูู ูููู ูููุฑุก ุฃู ูููุฑ ุฃูุถูุง ูู ูุนุงูู ุฃุฎุฑู ุ ูุซู ุงููุงุฆูุงุช ุ ูููู ููุท ุฅุฐุง ูุจููุง ููุงุนุฏุฉ ุจุนุฏู ุฅุฌุฑุงุก ุชุบููุฑุงุช (ุงูุทูุฑุงุช) ูู ุงูุฏููุฉ.  ูู ุงูููุช ููุณู ุ ูุญู ุฑุงุถูู ุนู ุงูุฏุนูุฉ ุฅูู <code>setSomething(newObj)</code> ููุงุฆู ุฌุฏูุฏ ุจุฏูุงู ูู ุชุบููุฑ ุงููุงุฆู ุงูุญุงูู ุ ุญูุซ ุฃูู ูู ุฎูุงู ูุฐุง ุงูููุฌ ูู ูุชู ุงููุณุงุณ ุจุงูุญุงูุฉ ุงูุชู ุชูุชูู ุฅูู ุงูุนุฑุถ ุงูุณุงุจู. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ูู ุชูุฏูู ูู ุขุซุงุฑู ุงูุฎุงุตุฉ.</font> </h2><br>  ูุฐู ุงููุงุฏุฉ ุ ููุง ุชุนูููู ุ ูุฎุตุตุฉ ููุขุซุงุฑ ุ ููููุง ูู ูุชุญุฏุซ ุนููุง ุญุชู ุงูุขู.  ุงูุขู ุณูู ูุตูุญูุง.  ููุง ุงุชุถุญ ุ ูุฅู ุงูุนูู ูุน ุงูุชุฃุซูุฑุงุช ูุง ูุฎุชูู ุจุดูู ุฎุงุต ุนูุง ุชูุตููุง ุฅููู ุจุงููุนู. <br><br>  ุชุฃูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงูุงู</a> ูู ุงููุซุงุฆู ุ ููู ูุดุจู ุฅูู ุญุฏ ูุจูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุซุงู</a> ุงูุฐู ูููุง ุจุชุญูููู ุจุงููุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">`You clicked </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${count}</span></span></span><span class="hljs-string"> times`</span></span>; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">   &lt;div&gt;     &lt;p&gt;You clicked {count} times&lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/p&gt;     &lt;button onClick={() =&gt; setCount(count + 1)}&gt;       Click me     &lt;/</span></span></span></span><span class="hljs-function"><span class="hljs-params">button&gt;   &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/div&gt; ); }</span></span></span></span></span></span></code> </pre> <br>  ุงูุขู ูุฏู ุณุคุงู ูู.  ููู ููุฑุฃ ุงูุชุฃุซูุฑ ุฃุญุฏุซ ูููุฉ <code>count</code> ุ <br><br>  ุฑุจูุง ูุชู ุงุณุชุฎุฏุงู ุจุนุถ "ุฑุจุท ุงูุจูุงูุงุช" ููุง ุ ุฃู "ูุงุฆู ูุฑุงูุจ" ูููู ุจุชุญุฏูุซ ูููุฉ <code>count</code> ุฏุงุฎู ูุธููุฉ ุงูุชุฃุซูุฑุ  ุฑุจูุง ูููู <code>count</code> ูุชุบูุฑูุง ูุงุจูุงู ููุชุบููุฑ ุงูุฐู ุชุญุฏุฏ ูููุชู React ุฏุงุฎู ูููููุง ุ ููุชูุฌุฉ ูุฐูู ูุฑู ุงูุชุฃุซูุฑ ุฏุงุฆููุง ุฃุญุฏุซ ุฅุตุฏุงุฑ ููุ <br><br>  ูุง. <br><br>  ูุญู ูุนูู ุจุงููุนู ุฃูู ูู ุชูุฏูู ุนูุตุฑ ูุนูู ุ <code>count</code> ุซุงุจุชูุง.  ุญุชู ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ "ูุฑูู" ูููุฉ <code>count</code> ูู ุงูุชุฌุณูุฏ ุงูุฐู "ููุชููู ุฅููู" ูุธุฑูุง ูุญูููุฉ ุฃู <code>count</code> ุซุงุจุช ูู ูุทุงู ูุนูู.  ูููุทุจู ุงูุดูุก ููุณู ุจุงููุณุจุฉ ููุขุซุงุฑ! <br><br>  ูุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ูุฐุง ููุณ ูู <code>count</code> ุงููุชุบูุฑุงุช <code>count</code> ูุงูุฐู ูุชุบูุฑ ุจุทุฑููุฉ ูุง ุฏุงุฎู ุชุฃุซูุฑ "ูู ูุชุบูุฑ".  ุฃูุงููุง ูู ูุธููุฉ ุงูุชุฃุซูุฑ ููุณู ุ ูุงูุชู ุชุฎุชูู ูู ูู ุนูููุฉ ุชูุฏูู. <br><br>  ูู ุฅุตุฏุงุฑ "ูุฑู" ูููุฉ <code>count</code> ูู ุงูุชุฌุณูุฏ ุงูุฐู ููุชูู ุฅููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     function Counter() { // ... useEffect(   //        () =&gt; {     document.title = `You clicked ${0} times`;   } ); // ... } //       function Counter() { // ... useEffect(   //        () =&gt; {     document.title = `You clicked ${1} times`;   } ); // ... } //        function Counter() { // ... useEffect(   //        () =&gt; {     document.title = `You clicked ${2} times`;   } ); // .. }</span></span></code> </pre> <br> React     ,       DOM       . <br><br>  ,          (  ), ,   ,   ,     ยซยป      ,   ยซยป. <br><br> , ,       . <br><br>  ,    ( ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>            ).    ,     ,        ,   . <br><br>      ,       ,        : <br><br> React: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">      ,      0. </li></ul><br> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">   : <code>&lt;p&gt;You clicked 0 times&lt;/p&gt;</code> . </li><li style=";text-align:right;direction:rtl">  ,       ,   : <code>() =&gt; { document.title = 'You clicked 0 times' }</code> . </li></ul><br> React: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุงูุทุจุน  . , ,   -  DOM. </li></ul><br> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ,     . </li></ul><br> React: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ,    ,    . </li><li style=";text-align:right;direction:rtl">  <code>() =&gt; { document.title = 'You clicked 0 times' }</code> . </li></ul><br>     ,      .   ,     ,  -   : <br><br> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> , React,     1. </li></ul><br> React: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">      ,      1. </li></ul><br> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">   : <code>&lt;p&gt;You clicked 1 times&lt;/p&gt;</code> . </li><li style=";text-align:right;direction:rtl">  ,       ,   : <code>() =&gt; { document.title = 'You clicked 1 times' }</code> . </li></ul><br> React: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุงูุทุจุน  . , ,   -  DOM. </li></ul><br> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ,     . </li></ul><br> React: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ,    ,    . </li><li style=";text-align:right;direction:rtl">  <code>() =&gt; { document.title = 'You clicked 1 times' }</code> . </li></ul><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">  โฆ </font> </h2><br>     ,  ,     ,     ,  ยซยป       . <br><br>    .   : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`You clicked </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${count}</span></span></span><span class="hljs-string"> times`</span></span>);   }, <span class="hljs-number"><span class="hljs-number">3000</span></span>); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">   &lt;div&gt;     &lt;p&gt;You clicked {count} times&lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/p&gt;     &lt;button onClick={() =&gt; setCount(count + 1)}&gt;       Click me     &lt;/</span></span></span></span><span class="hljs-function"><span class="hljs-params">button&gt;   &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/div&gt; ); }</span></span></span></span></span></span></code> </pre> <br>        ,       ? <br><br>  ,       . ,    ,    ,       .    !    ,    ,      , ,  ,    <code>count</code> .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a57/27d/333/a5727d333c270e05942f508707265378.gif"></div><br> <i><font color="#999999">       </font></i> <br><br>    : ยซ,     !         ?ยป. <br><br> ,   , <code>this.setState</code>  ,   ,   .    ,  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> ,    ,   ,  : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">  componentDidUpdate() {   setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`You clicked </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.state.count}</span></span></span><span class="hljs-string"> times`</span></span>);   }, <span class="hljs-number"><span class="hljs-number">3000</span></span>); }</code> </pre> <br>   ,  <code>this.state.count</code>       <code>count</code> ,    ,   .  ,      , ,     5 ,  5  . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/264/b32/9ed/264b329edc111a1973003bdf2bcacd65.gif"></div><br> <i><font color="#999999">       </font></i> <br><br>     ,       JavaScript-,  ,   ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> ,    ,      <code>setTimeout</code> ,      .   ,          (React   <code>this.state</code>    ,          ),    . <br><br>  โ      ,  ,  ยซยป  ,   .        ,  ,  ,    . ,    ,         . , ,   ,    ,   ,  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">  </font> </h2><br>    ,        (  , , -   API  )      ,   . <br><br>      : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Example</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(props.counter);   }, <span class="hljs-number"><span class="hljs-number">1000</span></span>); }); <span class="hljs-comment"><span class="hljs-comment">// ... } function Example(props) { const counter = props.counter; useEffect(() =&gt; {   setTimeout(() =&gt; {     console.log(counter);   }, 1000); }); // ... }</span></span></code> </pre> <br>   ,     ยซยป     .   !           .  ,       . <br><br> , ,  - ,   ,     ,   ,   .    ,   <code>ref</code> ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> . <br><br>  ,           ,     ,  ,  ,    .  ,    (    ),   ยซยป         React-.       ,       ,         .       ,    . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>      ,   ,      ,    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Example</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> latestCount = useRef(count); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-comment"><span class="hljs-comment">//        count   latestCount.current = count;   setTimeout(() =&gt; {     //            console.log(`You clicked ${latestCount.current} times`);   }, 3000); }); // ...</span></span></code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/78f/794/826/78f7948263dd13b023498b23cb99f4fc.gif"></div><br> <i><font color="#999999">       </font></i> <br><br>   -  React    .     React   <code>this.state</code>  .         ,      ,   <code>latestCount.current</code>         .  ,       .        ,   ,   ,    . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">  ?</font> </h2><br>    ,      .  ,      ,  ยซยป         . <br><br>   : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   ChatAPI.subscribeToFriendStatus(props.id, handleStatusChange);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     ChatAPI.unsubscribeFromFriendStatus(props.id, handleStatusChange);   }; });</code> </pre> <br> , <code>props</code> โ   <code>{id: 10}</code>    ,  <code>{id: 20}</code> โ  .  ,     : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> React     <code>{id: 10}</code> . </li><li style=";text-align:right;direction:rtl"> React    <code>{id: 20}</code> . </li><li style=";text-align:right;direction:rtl"> React    <code>{id: 20}</code> . </li></ul><br> ( ,   ,   .) <br><br>      ,    ยซยป   - ,      ,     ยซยป   - ,      .  โ  ,       ,   ,        .     . <br><br> React    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> ,       .   ,         .    .            .        : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> React    <code>{id: 20}</code> . </li><li style=";text-align:right;direction:rtl">     .     <code>{id: 20}</code> . </li><li style=";text-align:right;direction:rtl"> React     <code>{id: 10}</code> . </li><li style=";text-align:right;direction:rtl"> React    <code>{id: 20}</code> . </li></ul><br>       ,          ยซยป  <code>props</code> ,  <code>{id: 10}</code> ,  ,   <code>props</code>  <code>{id: 20}</code> . <br><br>  ,     โฆ <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/5fe/238/cf0/5fe238cf03a21dfa32af624124fcdcff.gif"></div><br> <i><font color="#999999">   โ    ?</font></i> <br><br>     : ยซ      (  , , -   API  )      ,   ยป. <br><br>   !         ยซ ยป ,     .    ,   ,    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  ,  props  {id: 10} function Example() { // ... useEffect(   //       () =&gt; {     ChatAPI.subscribeToFriendStatus(10, handleStatusChange);     //           return () =&gt; {       ChatAPI.unsubscribeFromFriendStatus(10, handleStatusChange);     };   } ); // ... } //  ,  props  {id: 20} function Example() { // ... useEffect(   //       () =&gt; {     ChatAPI.subscribeToFriendStatus(20, handleStatusChange);     //           return () =&gt; {       ChatAPI.unsubscribeFromFriendStatus(20, handleStatusChange);     };   } ); // ... }</span></span></code> </pre> <br>       ,        ,   โฆ     ,  ยซยป      ,   -,   <code>{id: 10}</code> . <br><br>    React         . ,      ,    .       <code>props</code> ,    . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">,    </font> </h2><br>      React  ,           .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> . <br><br> ,    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Greeting</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ name }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Greeting"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     Hello, {name}   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br>     ,     <code>&lt;Greeting name="Dan" /&gt;</code> ,   โ <code>&lt;Greeting name="Yuzhi" /&gt;</code> ,       <code>&lt;Greeting name="Yuzhi" /&gt;</code> .             <code>Hello, Yuzhi</code> . <br><br> ,   ,   .    React,     .   ,   ,     .         <code>$.addClass</code>  <code>$.removeClass</code>  jQuery- ( โ ,    ยซยป),   ,    CSS-  React (  โ ,    ยซยป). <br><br> React  DOM  ,       .      ยซยป  ยซยป. <br><br>       .  <code>useEffect</code>   ,     React,    . <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Greeting</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ name }</span></span></span><span class="hljs-function">) </span></span>{ useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, '</span></span> + name; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Greeting"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     Hello, {name}   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br>       <code>useEffect</code>    ,     ,    .     ,    -    ,      !      ,      ยซยป,    ยซยป. <br><br>      ,         <code>A</code> ,   <code>B</code> ,   โ   <code>C</code> ,   ,         <code>C</code> .               (,    - ),         . <br><br>  , , ,             . (         ). <br><br>    ? <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF"> React  </font> </h2><br>    React     DOM.     DOM      , React     DOM,  - . <br><br> ,     : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">&lt;h1 className=<span class="hljs-string"><span class="hljs-string">"Greeting"</span></span>&gt; Hello, Dan &lt;<span class="hljs-regexp"><span class="hljs-regexp">/h1&gt;</span></span></code> </pre> <br>       : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">&lt;h1 className=<span class="hljs-string"><span class="hljs-string">"Greeting"</span></span>&gt; Hello, Yuzhi &lt;<span class="hljs-regexp"><span class="hljs-regexp">/h1&gt;</span></span></code> </pre> <br> React   : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oldProps = {<span class="hljs-attr"><span class="hljs-attr">className</span></span>: <span class="hljs-string"><span class="hljs-string">'Greeting'</span></span>, <span class="hljs-attr"><span class="hljs-attr">children</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello, Dan'</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newProps = {<span class="hljs-attr"><span class="hljs-attr">className</span></span>: <span class="hljs-string"><span class="hljs-string">'Greeting'</span></span>, <span class="hljs-attr"><span class="hljs-attr">children</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello, Yuzhi'</span></span>};</code> </pre> <br> React      ,   <code>children</code> ,        DOM.   ,  <code>className</code>  .     : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">domNode.innerText = <span class="hljs-string"><span class="hljs-string">'Hello, Yuzhi'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// domNode.className   </span></span></code> </pre> <br>     -     ?    ,           ,      . <br><br> , ,     -  : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Greeting</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ name }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [counter, setCounter] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, '</span></span> + name; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">   &lt;h1 className=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"Greeting"</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;     Hello, {name}     &lt;button onClick={(</span></span></span><span class="hljs-function">) =&gt;</span></span> setCounter(counter + <span class="hljs-number"><span class="hljs-number">1</span></span>)}&gt;       Increment     &lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt;   &lt;/</span></span>h1&gt; ); }</code> </pre> <br>      <code>counter</code>  .   <code>document.title</code>   <code>name</code> ,   <code>name</code>   .  <code>document.title</code>    <code>counter</code>  ,   . <br><br>   React โฆ  ? <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> oldEffect = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, Dan'</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> newEffect = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, Dan'</span></span>; }; <span class="hljs-comment"><span class="hljs-comment">//   React  ,        ?</span></span></code> </pre> <br>    โ . React     ,    ,   . (     .       <code>name</code> .) <br><br>  ,      ,      (    <code>deps</code> ),    <code>useEffect</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">  useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, '</span></span> + name; }, [name]); <span class="hljs-comment"><span class="hljs-comment">//  </span></span></code> </pre> <br>    ,      React: ยซ,  ,        ,   ,      <code>name</code>       ยป. <br><br>   ,        ,       React     : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oldEffect = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, Dan'</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oldDeps = [<span class="hljs-string"><span class="hljs-string">'Dan'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newEffect = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, Dan'</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newDeps = [<span class="hljs-string"><span class="hljs-string">'Dan'</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// React     ,     . //      ,     .</span></span></code> </pre> <br>          ,    ,         !       -  -     . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">  React  </font> </h2><br>    React    โ     .  ,   ,      ,    ,    <code>useEffect</code> ,        ,   ,   . (      !) <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-comment"><span class="hljs-comment">// ... } useEffect(() =&gt; {   fetchData(); }, []); //   ?  .      . // ... }</span></span></code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FAQ  </a>     ,     .      . <br><br> ยซ       !ยป, โ  .  :    ,          ,   .   , , ,   โ ,       . <br><br> ,    ,   . ,  ,       ,   ,     .       ,    .    . <br><br> ,      ,      . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">    ,    React</font> </h2><br>      ,  ,  React   ,     . <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">  useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, '</span></span> + name; }, [name]);</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fae/247/cd0/fae247cd068eedbd4b62ba50592d2b3d.gif"></div><br> <i><font color="#999999">    โ  </font></i> <br><br>       ,   ,  , <code>[]</code> , ,   ,   ,    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">  useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">'Hello, '</span></span> + name; }, []); <span class="hljs-comment"><span class="hljs-comment">// :    name</span></span></code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/25f/75d/b3f/25f75db3f9f57ffe1426912093577445.gif"></div><br> <i><font color="#999999">   โ    </font></i> <br><br>          .       ,    ยซยป ,    ,   . <br><br> , ,   ,    .      ,      : ยซ   <code>setInterval</code>        <code>clearInterval</code>   ยป. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>    .  ,  ,   ,   <code>useEffect</code> ,  , ,     <code>[]</code> . -      , ? <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> id = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     setCount(count + <span class="hljs-number"><span class="hljs-number">1</span></span>);   }, <span class="hljs-number"><span class="hljs-number">1000</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> clearInterval(id); }, []); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{count}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; }</code> </pre> <br> ,  ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> . <br><br>       ,     ยซ     ,      ยป,         .   ,       ,      ,  <code>setInterval</code> ,  .      ,  ? <br><br>      ,   โ     React   ,       ,        .  ,   <code>count</code> ,     React   , ,    ,  .        โ   . <br><br>     <code>count</code>  0.   <code>setCount(count + 1)</code>      <code>setCount(0 + 1)</code> .         ,   โ    <code>[]</code> ,     <code>setCount(0 + 1)</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  ,   0 function Counter() { // ... useEffect(   //       () =&gt; {     const id = setInterval(() =&gt; {       setCount(0 + 1); //  setCount(1)     }, 1000);     return () =&gt; clearInterval(id);   },   [] //    ); // ... } //       1 function Counter() { // ... useEffect(   //     - ,    //   React  ,   .   () =&gt; {     const id = setInterval(() =&gt; {       setCount(1 + 1);     }, 1000);     return () =&gt; clearInterval(id);   },   [] ); // ... }</span></span></code> </pre> <br>   React,   ,         ,     โ . <br><br>    <code>count</code> โ ,    (   ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> count = <span class="hljs-comment"><span class="hljs-comment">// ... useEffect(() =&gt; {   const id = setInterval(() =&gt; {     setCount(count + 1);   }, 1000);   return () =&gt; clearInterval(id); }, []);</span></span></code> </pre> <br>            . React        . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/29e/53b/d0c/29e53bd0c9b7d2ac70d3cd924886b030.gif"></div><br> <i><font color="#999999">  ,     </font></i> <br><br>        .       ,    ,  React       ,   ,     .           โ   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">-</a>      . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">       </font> </h2><br>       React   ,      .     ,  ,    ,   . <br><br>       ,      ,   ,    .     <code>count</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> id = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   setCount(count + <span class="hljs-number"><span class="hljs-number">1</span></span>); }, <span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> clearInterval(id); }, [count]);</code> </pre> <br>    . ,    ,   โ  ,    .   <code>count</code>    ,         <code>count</code>   ,   <code>setCount(count + 1)</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  ,   0 function Counter() { // ... useEffect(   //       () =&gt; {     const id = setInterval(() =&gt; {       setCount(0 + 1); // setCount(count + 1)     }, 1000);     return () =&gt; clearInterval(id);   },   [0] // [count] ); // ... } //  ,   1 function Counter() { // ... useEffect(   //       () =&gt; {     const id = setInterval(() =&gt; {       setCount(1 + 1); // setCount(count + 1)     }, 1000);     return () =&gt; clearInterval(id);   },   [1] // [count] ); // ... }</span></span></code> </pre> <br>     ,  <code>setInterval</code> ,    <code>count</code> ,    . ,    . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/573/427/1dd/5734271ddfa94d2d65ac6160515e0069.gif"></div><br> <i><font color="#999999"> ,    </font></i> <br><br>         ,      ,   ,   .       โ      ,       . <br><br>       . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">  </font> </h2><br> ,      <code>count</code>  . <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> id = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     setCount(count + <span class="hljs-number"><span class="hljs-number">1</span></span>);   }, <span class="hljs-number"><span class="hljs-number">1000</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> clearInterval(id); }, [count]);</code> </pre> <br>     ,    ,     <code>count</code> .   ,    <code>count</code>    <code>setCount</code> .    ,   ,     <code>count</code>   .     ,    ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a> <code>setState</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">  useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> id = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     setCount(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function"> =&gt;</span></span> c + <span class="hljs-number"><span class="hljs-number">1</span></span>);   }, <span class="hljs-number"><span class="hljs-number">1000</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> clearInterval(id); }, []);</code> </pre> <br>       ยซ ยป. ,  <code>count</code>    - ,       <code>setCount(count + 1)</code> .  <code>count</code>  -    ,      <code>count + 1</code>  ยซยป  React.  React      <code>count</code> . ,     React โ    ,    ,    ,    . <br><br>       <code>setCount(c =&gt; c + 1)</code> .     ยซ React ยป,  ,    .  ยซ ยป      , ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a> . <br><br>    ,  ,   ,   .       React.        <code>count</code>    : <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f12/8ad/20c/f128ad20c28317ed27a3cb68197fc906.gif"></div><br> <i><font color="#999999">  ,     </font></i> <br><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> . <br><br>        ,  <code>setInterval</code> ,    ,      <code>c =&gt; c + 1</code>    .       <code>count</code> . React    . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">   Google Docs</font> </h2><br> ,     ,   โ     ?      ,   ,  ยซยป,   ,       . ,    Google Docs        .      .       ,    . <br><br>       ,      .             .      ,    <code>setCount(c =&gt; c + 1)</code> ,       ,     <code>setCount(count + 1)</code> ,        ยซยป   <code>count</code> .    ,    (  โ ยซยป). ยซ   Reactยป โ   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">   </a> .        . <br><br>     (     )   ,  Google Docs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>    .   โ     ,     React  .    ,  ,     ( ,  ,   )         . <br><br>   ,     <code>setCount(c =&gt; c + 1)</code> ,   .    ,       . ,       ,      ,      ,  ,         .    <code>setCount(c =&gt; c + 1)</code>     .   <code>useReducer</code> . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">   </font> </h2><br>     ,       : <code>count</code>  <code>step</code> .  <code>setInterval</code>     ,   <code>step</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [step, setStep] = useState(<span class="hljs-number"><span class="hljs-number">1</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> id = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     setCount(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function"> =&gt;</span></span> c + step);   }, <span class="hljs-number"><span class="hljs-number">1000</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> clearInterval(id); }, [step]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   &lt;&gt;     &lt;h1&gt;{count}&lt;/h1&gt;     &lt;input value={step} onChange={e =&gt; setStep(Number(e.target.value))} /&gt;   &lt;/&gt; ); }</code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>    . <br><br>    ,    React  .       <code>step</code> ,     .      . <br><br>     :  <code>step</code>  <code>setInterval</code> โ   <code>step</code>     . ,   ,   ,   !     ,   ,         ,  ,       ,    . <br><br>   ,   ,  ,    <code>setInterval</code> ,      <code>step</code> .    <code>step</code>  ? <br><br>            , ,         <code>useReducer</code> . <br><br>   ,     <code>setSomething(something =&gt; ...)</code> ,  ,           .     ยซยป,    ,  ,       . <br><br>     <code>step</code>   <code>dispatch</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [state, dispatch] = useReducer(reducer, initialState); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { count, step } = state; useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> id = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   dispatch({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'tick'</span></span> }); <span class="hljs-comment"><span class="hljs-comment">//  setCount(c =&gt; c + step); }, 1000); return () =&gt; clearInterval(id); }, [dispatch]);</span></span></code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>      . <br><br>     : ยซ    ,  ?ยป.    ,  React  ,   <code>dispatch</code>       .           . <br><br>   ! <br><br> (    <code>dispatch</code>  <code>setstate</code>      <code>useRef</code>      ,   React  ,    .     โ    .) <br><br>  ,     ,   ,     ,  .          <code>step</code> .    ,     .      ,  .      : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = { <span class="hljs-attr"><span class="hljs-attr">count</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">step</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reducer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { count, step } = state; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === <span class="hljs-string"><span class="hljs-string">'tick'</span></span>) {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">count</span></span>: count + step, step }; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === <span class="hljs-string"><span class="hljs-string">'step'</span></span>) {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { count, <span class="hljs-attr"><span class="hljs-attr">step</span></span>: action.step }; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(); } }</code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> ,   ,      ,    . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF"> useReducer โ  - </font> </h2><br>    ,       ,       ,          .    ,     ,  ? , ,  API   <code>&lt;Counter step={1} /&gt;</code> . ,       <code>props.step</code>    ? <br><br>   ,        !     ,      : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ step }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, dispatch] = useReducer(reducer, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reducer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === <span class="hljs-string"><span class="hljs-string">'tick'</span></span>) {     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state + step;   } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>();   } } useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> id = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     dispatch({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'tick'</span></span> });   }, <span class="hljs-number"><span class="hljs-number">1000</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> clearInterval(id); }, [dispatch]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{count}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; }</code> </pre> <br>      ,      . ,   ,  ,   ,       . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>  . <br><br>        <code>dispatch</code>    .  ,  ,     .       . <br><br> ,      ,      .   ยซยป  ,    ,    ?    ,     <code>dispatch</code> , React   .        .                . <br><br>       <code>useReducer</code>    ยซ-ยป .         ,  . ,   ,           ,  ,  . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">   </font> </h2><br>         ,    - ,        . <br><br> ,  ,  ,  : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [data, setData] = useState({ <span class="hljs-attr"><span class="hljs-attr">hits</span></span>: [] }); <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> axios(     <span class="hljs-string"><span class="hljs-string">'https://hn.algolia.com/api/v1/search?query=react'</span></span>,   );   setData(result.data); } useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   fetchData(); }, []); <span class="hljs-comment"><span class="hljs-comment">//   ? // ...</span></span></code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>  ,      . <br><br>   ,  ,      .  ,   ,         ,   , ,    ,    ,       ,    . <br><br> ,       ,   ,    ,       : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ,       function getFetchUrl() {   return 'https://hn.algolia.com/api/v1/search?query=react'; } // ,        async function fetchData() {   const result = await axios(getFetchUrl());   setData(result.data); } useEffect(() =&gt; {   fetchData(); }, []); // ... }</span></span></code> </pre> <br>  , ,                : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [query, setQuery] = useState(<span class="hljs-string"><span class="hljs-string">'react'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ,       function getFetchUrl() {   return 'https://hn.algolia.com/api/v1/search?query=' + query; } // ,        async function fetchData() {   const result = await axios(getFetchUrl());   setData(result.data); } useEffect(() =&gt; {   fetchData(); }, []); // ... }</span></span></code> </pre> <br>       ,    (,     ),         .     . <br><br>  ,      .        ,        : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... useEffect(() =&gt; {   //      !   function getFetchUrl() {     return 'https://hn.algolia.com/api/v1/search?query=react';   }   async function fetchData() {     const result = await axios(getFetchUrl());     setData(result.data);   }   fetchData(); }, []); //    . // ... }</span></span></code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>    . <br><br>          ?   ,           ยซ ยป.       React,    -          . <br><br>      <code>getFetchUrl</code> ,      <code>query</code> ,  ,  , ,     .   โ  ,  <code>query</code>     : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [query, setQuery] = useState(<span class="hljs-string"><span class="hljs-string">'react'</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFetchUrl</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'https://hn.algolia.com/api/v1/search?query='</span></span> + query;   }   <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{     <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> axios(getFetchUrl());     setData(result.data);   }   fetchData(); }, [query]); <span class="hljs-comment"><span class="hljs-comment">//    . // ... }</span></span></code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>    . <br><br>   ,    ยซ Reactยป.        <code>query</code> . ,   ,    ,             ,     .   ,         ,     . <br><br>    <code>exhaustive-deps</code>   <code>eslint-plugin-react-hooks</code>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a>       ,   .  ,      ,         . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/04a/90d/cba/04a90dcbacb01105d634964880ebed19.gif"></div><br> <i><font color="#999999">  </font></i> <br><br>   . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF"> ,      ?</font> </h2><br>        . ,               ,         . , ,      . <br><br>          ?  ,  . :     React  .       .         ,  ยซ   ยป. ,    ,    .   , ,   ,     ! <br><br> ,    ,  . ,      <code>getFetchUrl</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFetchUrl</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">query</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'https://hn.algolia.com/api/v1/search?query='</span></span> + query; } useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> url = getFetchUrl(<span class="hljs-string"><span class="hljs-string">'react'</span></span>);   <span class="hljs-comment"><span class="hljs-comment">// ...    -   ... }, []); //  : getFetchUrl useEffect(() =&gt; {   const url = getFetchUrl('redux');   // ...    -   ... }, []); //  : getFetchUrl // ... }</span></span></code> </pre> <br>      <code>getFetchUrl</code>     โ   ,           . <br><br>   ,   ยซยป   ,    .        <code>getFetchUrl</code> (,    ,   ),    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       function getFetchUrl(query) {   return 'https://hn.algolia.com/api/v1/search?query=' + query; } useEffect(() =&gt; {   const url = getFetchUrl('react');   // ...    -    ... }, [getFetchUrl]); //   ,     . useEffect(() =&gt; {   const url = getFetchUrl('redux');   // ...    -   ... }, [getFetchUrl]); //   ,     . // ... }</span></span></code> </pre> <br>      ,    <code>getFetchUrl</code>   .    ,   โ  . -      ,       ,     .      ,     ,    ,    . <br><br>   โ        . <br><br>  ,         ,           : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//        function getFetchUrl(query) { return 'https://hn.algolia.com/api/v1/search?query=' + query; } function SearchResults() { useEffect(() =&gt; {   const url = getFetchUrl('react');   // ...    -   ... }, []); //     . useEffect(() =&gt; {   const url = getFetchUrl('redux');   // ...    -   ... }, []); //     . // ... }</span></span></code> </pre> <br>        ,                 .    ,  ,      . <br><br>       .    ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">useCallback</a> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    ,   const getFetchUrl = useCallback((query) =&gt; {   return 'https://hn.algolia.com/api/v1/search?query=' + query; }, []);  //      . useEffect(() =&gt; {   const url = getFetchUrl('react');   // ...    -   ... }, [getFetchUrl]); //      . useEffect(() =&gt; {   const url = getFetchUrl('redux');   // ...    -   ... }, [getFetchUrl]); //       // ... }</span></span></code> </pre> <br>  <code>useCallback</code>         .             :  ,   -,   ,      ,   . <br><br>       ,    .          ( <code>'react'</code>  <code>'redux'</code> ).  ,        ,         ,    <code>query</code> .  ,  ,   <code>query</code>    , <code>getFetchUrl</code>       . <br><br>   ,       <code>query</code>  <code>useCallback</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [query, setQuery] = useState(<span class="hljs-string"><span class="hljs-string">'react'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFetchUrl = useCallback(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   query   return 'https://hn.algolia.com/api/v1/search?query=' + query; }, []); //  : query // ... }</span></span></code> </pre> <br>    <code>useCallback</code>      <code>query</code> ,   ,     <code>getFetchUrl</code> ,      <code>query</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [query, setQuery] = useState(<span class="hljs-string"><span class="hljs-string">'react'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//      query const getFetchUrl = useCallback(() =&gt; {   return 'https://hn.algolia.com/api/v1/search?query=' + query; }, [query]);  //    . useEffect(() =&gt; {   const url = getFetchUrl();   // ...    -   ... }, [getFetchUrl]); //    . // ... }</span></span></code> </pre> <br>   <code>useCallback</code> ,  <code>query</code>  ,   <code>getFetchUrl</code>  ,  ,     .   <code>query</code> ,    <code>getFetchUrl</code> ,      .      Excel:     - ,     ,     ,   . <br><br>  โ    ,              .         ,    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Parent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [query, setQuery] = useState(<span class="hljs-string"><span class="hljs-string">'react'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//      query const fetchData = useCallback(() =&gt; {   const url = 'https://hn.algolia.com/api/v1/search?query=' + query;   // ...      ... }, [query]);  //       return &lt;Child fetchData={fetchData} /&gt; } function Child({ fetchData }) { let [data, setData] = useState(null); useEffect(() =&gt; {   fetchData().then(setData); }, [fetchData]); //       // ... }</span></span></code> </pre> <br>   <code>fetchData</code>  <code>Parent</code>       <code>query</code> , <code>Child</code>        ,      . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF">     ?</font> </h2><br>  ,          ,   , ,             .   ,    ,   ,        ,     : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Parent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = {   <span class="hljs-attr"><span class="hljs-attr">query</span></span>: <span class="hljs-string"><span class="hljs-string">'react'</span></span> }; fetchData = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> url = <span class="hljs-string"><span class="hljs-string">'https://hn.algolia.com/api/v1/search?query='</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.query;   <span class="hljs-comment"><span class="hljs-comment">// ...    -   ... }; render() {   return &lt;Child fetchData={this.fetchData} /&gt;; } } class Child extends Component { state = {   data: null }; componentDidMount() {   this.props.fetchData(); } render() {   // ... } }</span></span></code> </pre> <br> ,   : ยซ , ,   ,  <code>useEffect</code> โ     <code>componentDidMount</code>  <code>componentDidUpdate</code> .     !ยป.         <code>componentDidUpdate</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Child</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = {   <span class="hljs-attr"><span class="hljs-attr">data</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }; componentDidMount() {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.fetchData(); } componentDidUpdate(prevProps) {   <span class="hljs-comment"><span class="hljs-comment">//         if (this.props.fetchData !== prevProps.fetchData) {     this.props.fetchData();   } } render() {   // ... } }</span></span></code> </pre> <br> , <code>fetchData</code> โ   ! (, ,  ,     .)      - ,   .  <code>this.props.fetchData</code>    <code>prevProps.fetchData</code>        . ,  ,  ? <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">  componentDidUpdate(prevProps) {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.fetchData(); }</code> </pre> <br>      .          . (      .)  ,   <code>fetchData</code>   <code>this.state.query</code> ? <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">  render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Child</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">fetchData</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.fetchData.bind(this,</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">this.state.query</span></span></span></span><span class="xml"><span class="hljs-tag">)} /&gt;</span></span></span><span class="xml">; }</span></span></code> </pre> <br>    <code>this.props.fetchData !== prevProps.fetchData</code>    <code>true</code> ,    ,  <code>query</code>  !         . <br><br>      ,   ,   ,        <code>query</code>  <code>Child</code> .  ,   ,    <code>query</code> ,          <code>query</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Parent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = {   <span class="hljs-attr"><span class="hljs-attr">query</span></span>: <span class="hljs-string"><span class="hljs-string">'react'</span></span> }; fetchData = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> url = <span class="hljs-string"><span class="hljs-string">'https://hn.algolia.com/api/v1/search?query='</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.query;   <span class="hljs-comment"><span class="hljs-comment">// ...    -    ... }; render() {   return &lt;Child fetchData={this.fetchData} query={this.state.query} /&gt;; } } class Child extends Component { state = {   data: null }; componentDidMount() {   this.props.fetchData(); } componentDidUpdate(prevProps) {   if (this.props.query !== prevProps.query) {     this.props.fetchData();   } } render() {   // ... } }</span></span></code> </pre> <br>     ,   ,     -       ,     ,     . <br><br>      ,   ,      .     <code>this</code> ,        .  ,      ,       ,     ,  -  .    ,    <code>this.props.fetchData</code> ,     ,    ,  ,   ,    . <br><br>   -       <code>useCallback</code> .   , ,     ,     .     ,     .   <code>useCallback</code>    <code>props.fetchData</code>   . <br><br> , <code>useMemo</code>        : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ColorPicker</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//         Child, //       . const [color, setColor] = useState('pink'); const style = useMemo(() =&gt; ({ color }), [color]); return &lt;Child style={style} /&gt;; }</span></span></code> </pre> <br>     ,     <code>useCallback</code> ,    - .      ยซ ยป,     ,      ,     .    ,       .      ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>    . <br><br>     ,   <code>fetchData</code>      (     ),       .    ,     ,       . (ยซ   <code>props.onComplete</code>    ,       ?ยป)    ,       . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF"> </font> </h2><br>          ,   : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Article</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = {   <span class="hljs-attr"><span class="hljs-attr">article</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }; componentDidMount() {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fetchData(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.id); } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> fetchData(id) {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> article = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> API.fetchArticle(id);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ article }); } <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>  , , ,    .    .   โ    ,     : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Article</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = {   <span class="hljs-attr"><span class="hljs-attr">article</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }; componentDidMount() {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fetchData(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.id); } componentDidUpdate(prevProps) {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (prevProps.id !== <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.id) {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fetchData(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.id);   } } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> fetchData(id) {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> article = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> API.fetchArticle(id);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ article }); } <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>  , , ,       .     ,       . ,     <code>{id: 10}</code> ,      <code>{id: 20}</code> ,    ,            .   ,   ,      ,  .  ููุฐุง ุฎุทุฃ. <br><br> ,     ,   .  โ ,   ,    <code>async/await</code> (  ,    - )    ,    (        ,      ). <br><br>         ,           <code>async</code> -. (, ,     ,     ,    .) <br><br>        ,   ,   !         . <br><br>  ,             : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Article</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ id }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [article, setArticle] = useState(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> didCancel = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{     <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> article = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> API.fetchArticle(id);     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!didCancel) {       setArticle(article);     }   }   fetchData();   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     didCancel = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;   }; }, [id]); <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>      ,      ,    ,       .         ,       . <br><br><h2 style=";text-align:right;direction:rtl"> <font color="#3AC1EF"> </font> </h2><br>          ,   ,  ,      ,  ,   .       ,  , ,   .         .  โ   . <br><br>        <code>useEffect</code> ,  ,  ,  .       React.    ,     <code>useEffect</code>      . <br><br>   ,   ,  ยซ  ยป,         .     .    ,   ,  ,  ,   ยซยป  ,      . <br><br>       ,  <code>useEffect</code>   ,    .   โ    .  โ    ,  ,  โ   ,      .   ,  ,       ,   ,      API. <br><br>  ,        ,  <code>useFetch</code> ,       ,  <code>useTheme</code> ,    .  ,      ,         <code>useEffect</code> .  ,   ,     ,    . <br><br>   , , <code>useEffect</code>      .    โ    ,     .      ,         .       ? <br><br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Suspense</a>          React  ,       ,  -  ( : , , )     . <br><br>    <code>Suspense</code>       ,  ,  <code>useEffect</code>     ,    ,    ,        -  .    ,       ,        ,          .      ,  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> ,        ,    . <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุงููุชุงุฆุฌ</font> </h2><br>       ,   .   ,           ,   - , , ,     . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar445276/">https://habr.com/ru/post/ar445276/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar445266/index.html">ุณูู GeekBrains ุฌูุจุง ุฅูู ุฌูุจ ูุน Rostelecom ุฅุฌุฑุงุก ุฅูุชุฑูุช ุงูุฃุดูุงุก ูุงูุงุซูู</a></li>
<li><a href="../ar445268/index.html">ุชูุงุตูู GraphQL: ูุงุฐุง ูููู ูููุงุฐุง</a></li>
<li><a href="../ar445270/index.html">[ุฅุดุงุฑุฉ ูุฑุฌุนูุฉ] ุจุงุด ูููุจุชุฏุฆูู: 21 ุฃูุฑ ูููุฏ</a></li>
<li><a href="../ar445272/index.html">JavaScript ูู ุฃูุถู ูุบุฉ ุจุฑูุฌุฉ ูููุจุชุฏุฆูู. ูู ูู ุฃู ูุงุ</a></li>
<li><a href="../ar445274/index.html">ุนูุฏูุง ูููู "Zoรซ"! == "Zoรซ" ุ ุฃู ููุงุฐุง ุชุญุชุงุฌ ุฅูู ุชุทุจูุน ุณูุงุณู Unicode</a></li>
<li><a href="../ar445278/index.html">ููููุฉ ุฅูุดุงุก ูุนุจุฉ ุฅุฐุง ูู ุชูู ููุงููุง ุฃุจุฏูุง</a></li>
<li><a href="../ar445280/index.html">ุฑุจุญูุฉ ุงูููุงูุน ูุงูุฎุฏูุงุช</a></li>
<li><a href="../ar445284/index.html">ClickHouse ุชุญูููุงุช ุงูููุชุฌ ููููุชุงูุชู</a></li>
<li><a href="../ar445286/index.html">ูุณูุฏ ูููุฏููู ูููุฎ: ููุตุฉ ุงูุชุณุฌูู Hedera Hashgraph ุงูููุฒุนุฉ</a></li>
<li><a href="../ar445288/index.html">ูู ูุง ุชุจุฐูููู ูู ุงููุฑูุถ ุงูุงุณุชููุงููุฉ ูุงูุจูุงูุงุช ุงูุดุฎุตูุฉ "ูู ููุงู ูุงุญุฏ" ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>