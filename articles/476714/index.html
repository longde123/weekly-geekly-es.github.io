<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçí üö† üó∫Ô∏è Operaci√≥n de aprendizaje autom√°tico en Mail.ru Mail üéÖüèø üìÆ üëâüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Basado en mis actuaciones en Highload ++ y DataFest Minsk 2019 

 Para muchos, el correo de hoy es una parte integral de la vida en l√≠nea. Con su ayud...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Operaci√≥n de aprendizaje autom√°tico en Mail.ru Mail</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/476714/"><img src="https://habrastorage.org/webt/k-/h5/xj/k-h5xjc6xswda5namvb8vgzjnns.jpeg"><br><br>  <i>Basado en mis actuaciones en Highload ++ y DataFest Minsk 2019</i> <br><br>  Para muchos, el correo de hoy es una parte integral de la vida en l√≠nea.  Con su ayuda, realizamos correspondencia comercial, almacenamos todo tipo de informaci√≥n importante relacionada con las finanzas, reservas de hotel, pago y mucho m√°s.  A mediados de 2018, formulamos una estrategia de producto de desarrollo de correo.  ¬øQu√© deber√≠a ser el correo moderno? <br><br>  El correo debe ser <b>inteligente</b> , es decir, ayudar a los usuarios a navegar por la creciente cantidad de informaci√≥n: filtrar, estructurar y proporcionarla de la manera m√°s conveniente.  Deber√≠a ser <b>√∫til</b> , ya que permite directamente en el buz√≥n resolver varios problemas, por ejemplo, pagar multas (una funci√≥n que, desafortunadamente, uso).  Y al mismo tiempo, por supuesto, el correo debe proporcionar protecci√≥n de la informaci√≥n cortando el correo no deseado y protegiendo contra los piratas inform√°ticos, es decir, estar <b>seguro</b> . <br><a name="habracut"></a><br>  Estas √°reas determinan una serie de tareas clave, muchas de las cuales pueden resolverse eficazmente mediante el aprendizaje autom√°tico.  Aqu√≠ hay ejemplos de caracter√≠sticas existentes desarrolladas como parte de la estrategia, una para cada direcci√≥n. <br><br><ul><li>  <b>Respuesta inteligente</b>  Hay una funci√≥n de respuesta inteligente en el correo.  La red neuronal analiza el texto de la carta, comprende su significado y prop√≥sito, y como resultado ofrece las tres opciones de respuesta m√°s adecuadas: positiva, negativa y neutral.  Esto ayuda a ahorrar significativamente tiempo al responder cartas, y tambi√©n a menudo responde de manera no est√°ndar y divertida para usted. <br></li><li> <b>Agrupaci√≥n de cartas</b> relacionadas con pedidos en tiendas online.  A menudo hacemos compras en Internet y, por regla general, las tiendas pueden enviar varias cartas para cada pedido.  Por ejemplo, desde AliExpress, el servicio m√°s grande, hay muchas letras para un pedido, y pensamos que en el caso de la terminal su n√∫mero puede llegar a 29. Por lo tanto, usando el modelo de Reconocimiento de Entidades con Nombre, seleccionamos el n√∫mero de pedido y otra informaci√≥n del texto y grupo Todas las letras en un hilo.  Tambi√©n mostramos la informaci√≥n b√°sica sobre el pedido en un cuadro separado, lo que facilita el trabajo con este tipo de letras. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f1/b29/7f7/3f1b297f73ba953ecda62e89fee2ee9c.png"><br></li><li>  <b>Antiphishing</b>  El phishing es un tipo de correo electr√≥nico fraudulento particularmente peligroso con la ayuda de los atacantes que intentan obtener informaci√≥n financiera (incluidas las tarjetas bancarias de los usuarios) e inicios de sesi√≥n.  Dichas cartas imitan las reales enviadas por el servicio, incluso visualmente.  Por lo tanto, con la ayuda de Computer Vision, reconocemos los logotipos y el estilo de las letras de las grandes empresas (por ejemplo, Mail.ru, Sberbank, Alpha) y tenemos esto en cuenta, junto con el texto y otros signos en nuestros clasificadores de spam y phishing. <br></li></ul><br><h2>  Aprendizaje autom√°tico </h2><br>  Un poco sobre el aprendizaje autom√°tico en el correo en general.  El correo es un sistema altamente cargado: en nuestros servidores, un promedio de 1.500 millones de cartas por d√≠a pasa a 30 millones de usuarios de DAU.  Sirve todas las funciones y caracter√≠sticas necesarias de unos 30 sistemas de aprendizaje autom√°tico. <br><br>  Cada carta pasa por un transportador de clasificaci√≥n completo.  Primero cortamos el spam y dejamos buenos correos electr√≥nicos.  Los usuarios a menudo no notan la operaci√≥n de antispam, porque el 95-99% del spam ni siquiera entra en la carpeta correspondiente.  El reconocimiento de spam es una parte muy importante de nuestro sistema, y ‚Äã‚Äãlo m√°s dif√≠cil, ya que en la esfera anti-spam hay una adaptaci√≥n constante entre los sistemas de defensa y ataque, lo que proporciona un desaf√≠o continuo de ingenier√≠a para nuestro equipo. <br><br>  A continuaci√≥n, separamos las letras de las personas y los robots.  Las cartas de las personas son las m√°s importantes, por lo que para ellas ofrecemos funciones como Respuesta inteligente.  Las cartas de los robots se dividen en dos partes: transaccionales: son cartas importantes de los servicios, por ejemplo, confirmaci√≥n de compras o reservas de hotel, finanzas e informaci√≥n, son publicidad comercial, descuentos. <br><br>  Creemos que las cartas transaccionales tienen el mismo valor que la correspondencia personal.  Deben estar a la mano, porque a menudo es necesario encontrar r√°pidamente informaci√≥n sobre el pedido o reservar un boleto, y pasamos tiempo buscando estas cartas.  Por lo tanto, por conveniencia, los dividimos autom√°ticamente en seis categor√≠as principales: viajes, reservas, finanzas, boletos, registros y, finalmente, multas. <br><br>  Los boletines son el grupo m√°s grande y probablemente menos importante que no requiere una reacci√≥n instant√°nea, ya que nada significativo cambiar√° en la vida del usuario si no lee dicha carta.  En nuestra nueva interfaz, los colapsamos en dos hilos: redes sociales y boletines informativos, lo que borra visualmente el buz√≥n y deja solo a la vista cartas importantes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/300/e18/9b9/300e189b9567866cb526eb34be80b3b4.jpg"><br><br><h3>  Operaci√≥n </h3><br>  Una gran cantidad de sistemas causa muchas dificultades en la operaci√≥n.  Despu√©s de todo, los modelos se degradan con el tiempo, como cualquier software: los signos se descomponen, las m√°quinas fallan, se despliega un c√≥digo.  Adem√°s, los datos cambian constantemente: se agregan nuevos, se transforma el patr√≥n de comportamiento del usuario, etc., por lo tanto, el modelo sin el soporte adecuado funcionar√° peor y peor con el tiempo. <br><br>  No debemos olvidar que cuanto m√°s profundo es el aprendizaje autom√°tico que penetra en la vida de los usuarios, mayor es el impacto que tienen en el ecosistema y, como resultado, m√°s p√©rdidas financieras o ganancias pueden obtener los jugadores del mercado.  Por lo tanto, en un n√∫mero cada vez mayor de √°reas, los jugadores se est√°n adaptando al trabajo de los algoritmos ML (ejemplos cl√°sicos son publicidad, b√∫squeda y antispam ya mencionados). <br><br>  Adem√°s, las tareas de aprendizaje autom√°tico tienen una peculiaridad: cualquier cambio, aunque insignificante, en el sistema puede generar mucho trabajo con el modelo: trabajar con datos, reentrenamiento, implementaci√≥n, lo que puede llevar semanas o meses.  Por lo tanto, cuanto m√°s r√°pido sea el entorno en el que operan sus modelos, m√°s esfuerzo requiere su soporte.  Un equipo puede crear muchos sistemas y disfrutarlos, y luego gastar casi todos los recursos en su soporte, sin la capacidad de hacer algo nuevo.  Una vez nos encontramos con tal situaci√≥n una vez en un equipo anti-spam.  Y llegaron a la conclusi√≥n obvia de que el mantenimiento deber√≠a automatizarse. <br><br><h3>  Automatizaci√≥n </h3><br>  ¬øQu√© se puede automatizar?  De hecho, casi todo.  Identifiqu√© cuatro √°reas que definen la infraestructura del aprendizaje autom√°tico: <br><br><ul><li>  recolecci√≥n de datos; <br></li><li>  educaci√≥n continua; <br></li><li>  despliegue; <br></li><li>  pruebas y monitoreo. <br></li></ul><br>  Si el entorno es inestable y cambia constantemente, entonces toda la infraestructura alrededor del modelo es mucho m√°s importante que el modelo en s√≠.  Puede ser el buen clasificador lineal antiguo, pero si aplica correctamente los signos y establece buenos comentarios de los usuarios, funcionar√° mucho mejor que los modelos de vanguardia con todas las campanas y silbatos. <br><br><h4>  Bucle de retroalimentaci√≥n </h4><br>  Este ciclo combina la recopilaci√≥n de datos, m√°s capacitaci√≥n e implementaci√≥n; de hecho, todo el ciclo de actualizaci√≥n del modelo.  ¬øPor qu√© es esto importante?  Mira el calendario de inscripci√≥n por correo: <br><br><img src="https://habrastorage.org/webt/8b/nj/qx/8bnjqxedzuj9ubakau7yd1vh_cc.png"><br><br>  El desarrollador de aprendizaje autom√°tico ha introducido un modelo antibot que evita que los bots se registren por correo.  El gr√°fico cae a un valor donde solo quedan usuarios reales.  ¬°Todo es genial!  Pero pasan cuatro horas, los botvods ajustan sus guiones, y todo vuelve al punto de partida.  En esta implementaci√≥n, el desarrollador pas√≥ un mes agregando caracter√≠sticas y un modelo de capacitaci√≥n, pero el spammer pudo adaptarse en cuatro horas. <br><br>  Para no ser tan dolorosamente doloroso y no tener que rehacer todo m√°s tarde, debemos pensar inicialmente en c√≥mo se ver√° el ciclo de retroalimentaci√≥n y qu√© haremos si cambia el entorno.  Comencemos recopilando datos: este es el combustible para nuestros algoritmos. <br><br><h2>  Recogida de datos </h2><br>  Est√° claro que las redes neuronales modernas, cuantos m√°s datos, mejor, y de hecho, generan usuarios del producto.  Los usuarios pueden ayudarnos marcando los datos, pero no puede abusar de ellos, porque en alg√∫n momento los usuarios se cansar√°n de completar sus modelos y cambiar√°n a otro producto. <br><br>  Uno de los errores m√°s comunes (aqu√≠ hago una referencia sobre Andrew Ng) es que la orientaci√≥n a las m√©tricas en el conjunto de datos de prueba es demasiado fuerte, y no a los comentarios del usuario, que en realidad es la medida principal de la calidad del trabajo, ya que creamos un producto para el usuario.  Si el usuario no entiende o no le gusta el trabajo del modelo, entonces todo es perecedero. <br><br>  Por lo tanto, el usuario siempre debe poder votar, debe darle una herramienta para comentarios.  Si creemos que una carta relacionada con las finanzas ha llegado al cuadro, debemos marcarla como "finanzas" y dibujar un bot√≥n en el que el usuario pueda hacer clic y decir que no es finanzas. <br><br><h3>  Calidad de retroalimentaci√≥n </h3><br>  Hablemos de la calidad de los comentarios de los usuarios.  En primer lugar, usted y el usuario pueden poner diferentes significados en un concepto.  Por ejemplo, usted y los gerentes de producto piensan que ‚Äúfinanzas‚Äù son cartas del banco, y el usuario cree que la carta de mi abuela sobre la jubilaci√≥n tambi√©n se refiere a las finanzas.  En segundo lugar, hay usuarios a los que les encanta presionar botones sin ninguna l√≥gica.  En tercer lugar, el usuario puede estar profundamente equivocado en sus conclusiones.  Un v√≠vido ejemplo de nuestra pr√°ctica es la introducci√≥n del clasificador de <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B8%25D0%25B3%25D0%25B5%25D1%2580%25D0%25B8%25D0%25B9%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B5_%25D0%25BF%25D0%25B8%25D1%2581%25D1%258C%25D0%25BC%25D0%25B0">spam nigeriano</a> , un tipo muy divertido de spam, cuando se le pide al usuario que recolecte varios millones de d√≥lares de un pariente lejano que se encuentra repentinamente en √Åfrica.  Despu√©s de presentar este clasificador, verificamos los clics de "No spam" en estas letras, y result√≥ que el 80% de ellos son jugosos spam nigerianos, lo que sugiere que los usuarios pueden ser extremadamente confiables. <br><br>  Y no olvidemos que no solo las personas pueden presionar los botones, sino todo tipo de bots que pretenden ser un navegador.  As√≠ que la retroalimentaci√≥n cruda no es buena para aprender.  ¬øQu√© se puede hacer con esta informaci√≥n? <br><br>  Usamos dos enfoques: <br><br><ul><li>  <b>Comentarios de ML relacionados</b> .  Por ejemplo, tenemos un sistema de antibi√≥ticos en l√≠nea que, como mencion√©, toma una decisi√≥n r√°pida en funci√≥n de un n√∫mero limitado de signos.  Y hay un segundo sistema lento que funciona ex post.  Ella tiene m√°s datos sobre el usuario, sobre su comportamiento, etc.  Como resultado, se toma la decisi√≥n m√°s equilibrada, respectivamente, tiene mayor precisi√≥n e integridad.  Puede dirigir la diferencia en el trabajo de estos sistemas en el primero como datos para la capacitaci√≥n.  Por lo tanto, un sistema m√°s simple siempre intentar√° acercarse a un rendimiento m√°s complejo. <br></li><li>  <b>Clasificaci√≥n de clics</b> .  Simplemente puede clasificar cada clic del usuario, evaluar su validez y capacidad de uso.  Hacemos esto en el correo antispam utilizando los atributos del usuario, su historial, los atributos del remitente, el texto en s√≠ y el resultado de los clasificadores.  Como resultado, obtenemos un sistema autom√°tico que valida los comentarios de los usuarios.  Y dado que es necesario entrenarlo con mucha menos frecuencia, su trabajo puede convertirse en el principal para todos los dem√°s sistemas.  La precisi√≥n es la principal prioridad en este modelo, porque entrenar a un modelo en datos inexactos est√° lleno de consecuencias. <br></li></ul><br>  Mientras limpiamos datos y reentrenamos nuestros sistemas ML, no debemos olvidarnos de los usuarios, porque para nosotros miles, millones de errores en un gr√°fico son estad√≠sticas, y para un usuario, cada error es una tragedia.  Adem√°s del hecho de que el usuario necesita vivir de alguna manera con su error en el producto, √©l, despu√©s de la retroalimentaci√≥n, espera la exclusi√≥n de una situaci√≥n similar en el futuro.  Por lo tanto, siempre debe dar a los usuarios no solo la oportunidad de votar, sino tambi√©n corregir el comportamiento de los sistemas ML, creando, por ejemplo, heur√≠stica personal para cada clic de retroalimentaci√≥n, en el caso del correo, es posible filtrar dichos mensajes por remitente y encabezado para este usuario. <br><br>  Tambi√©n debe utilizar el modelo en funci√≥n de algunos informes o llamadas de soporte en modo semiautom√°tico o manual, para que otros usuarios tampoco sufran problemas similares. <br><br><h3>  Heur√≠stica para el aprendizaje </h3><br>  Hay dos problemas con estas heur√≠sticas y muletas.  La primera es que el n√∫mero cada vez mayor de muletas es dif√≠cil de mantener, sin mencionar su calidad y rendimiento a larga distancia.  El segundo problema es que el error puede no ser de frecuencia, y unos pocos clics para volver a entrenar el modelo no ser√°n suficientes.  Parecer√≠a que estos dos efectos no relacionados pueden nivelarse sustancialmente si se aplica el siguiente enfoque. <br><br><ol><li>  Crea una muleta temporal. <br></li><li>  Dirigimos sus datos al modelo; se recupera regularmente, incluidos los datos recibidos.  Aqu√≠, por supuesto, es importante que la heur√≠stica tenga una alta precisi√≥n para no reducir la calidad de los datos en el conjunto de entrenamiento. <br></li><li>  Luego colgamos el monitoreo para el funcionamiento de la muleta, y si despu√©s de alg√∫n tiempo la muleta ya no funciona y est√° completamente cubierta por el modelo, puede retirarla con seguridad.  Ahora es poco probable que este problema se repita. <br></li></ol><br>  Entonces el ej√©rcito de muletas es muy √∫til.  Lo principal es que su servicio es urgente, no permanente. <br><br><h2>  Educaci√≥n adicional </h2><br>  La reentrenamiento es el proceso de agregar nuevos datos obtenidos como resultado de los comentarios de los usuarios u otros sistemas, y capacitar el modelo existente sobre ellos.  Puede haber varios problemas con el reciclaje: <br><br><ol><li>  Es posible que un modelo simplemente no sea compatible con la educaci√≥n superior y aprenda solo desde cero. <br></li><li>  En ninguna parte del libro de la naturaleza est√° escrito que la educaci√≥n continua ciertamente mejorar√° la calidad del trabajo en la producci√≥n.  A menudo sucede todo lo contrario, es decir, solo es posible el deterioro. <br></li><li>  Los cambios pueden ser impredecibles.  Este es un punto bastante sutil que hemos identificado por nosotros mismos.  Incluso si el nuevo modelo en la prueba A / B muestra resultados similares en comparaci√≥n con el actual, esto no significa en absoluto que funcionar√° de manera id√©ntica.  Su trabajo puede diferir en un uno por ciento, lo que puede traer nuevos errores o devolver los ya corregidos.  Tanto nosotros como los usuarios ya sabemos c√≥mo vivir con los errores actuales, y cuando ocurre una gran cantidad de errores nuevos, el usuario tambi√©n puede no entender lo que est√° sucediendo, porque espera un comportamiento predecible. <br></li></ol><br>  Por lo tanto, lo m√°s importante en el reentrenamiento est√° garantizado para mejorar el modelo, o al menos no empeorarlo. <br><br>  Lo primero que viene a la mente cuando hablamos de educaci√≥n continua es el enfoque de aprendizaje activo.  ¬øQu√© significa esto?  Por ejemplo, el clasificador determina si la carta se relaciona con las finanzas, y alrededor de su l√≠mite de toma de decisiones, agregamos una selecci√≥n de ejemplos marcados.  Esto funciona bien, por ejemplo, en publicidad, donde hay muchos comentarios y puedes entrenar al modelo en l√≠nea.  Y si hay poca retroalimentaci√≥n, obtenemos una muestra fuertemente sesgada en relaci√≥n con la producci√≥n de la distribuci√≥n de datos, en base a la cual es imposible evaluar el comportamiento del modelo durante la operaci√≥n. <br><br><img src="https://habrastorage.org/webt/wz/1c/0g/wz1c0gfwffg6kh2gnc76v_-70ai.jpeg"><br><br>  De hecho, nuestro objetivo es preservar patrones antiguos, modelos ya conocidos, y adquirir otros nuevos.  Aqu√≠, la continuidad es importante.  El modelo, que a menudo lanzamos con gran dificultad, ya funciona, por lo que podemos centrarnos en su rendimiento. <br><br>  En el correo, se utilizan diferentes modelos: √°rboles, lineales, redes neuronales.  Para cada uno, hacemos nuestro propio algoritmo de reentrenamiento.  En el proceso de reentrenamiento, obtenemos no solo datos nuevos, sino tambi√©n caracter√≠sticas nuevas que tendremos en cuenta en todos los algoritmos a continuaci√≥n. <br><br><h3>  Modelos lineales </h3><br>  Digamos que tenemos una regresi√≥n log√≠stica.  Creamos el modelo de p√©rdida a partir de los siguientes componentes: <br><br><ul><li>  LogLoss en nuevos datos; <br></li><li>  regularizamos el peso de los nuevos signos (no tocamos los viejos); <br></li><li>  aprendemos de datos antiguos para preservar patrones antiguos; <br></li><li>  y, quiz√°s, lo m√°s importante: adjuntamos la regularizaci√≥n arm√≥nica, que garantiza un ligero cambio en los pesos en relaci√≥n con el modelo anterior de acuerdo con la norma. <br></li></ul><br>  Dado que cada componente de p√©rdida tiene coeficientes, podemos elegir los valores √≥ptimos para nuestra tarea de validaci√≥n cruzada o en funci√≥n de los requisitos del producto. <br><br><img src="https://habrastorage.org/webt/kz/ej/-r/kzej-rg5tcarotc9l25xe7x9d8a.jpeg"><br><br><h3>  Arboles </h3><br>  Pasemos a los √°rboles de decisi√≥n.  Filmamos el siguiente algoritmo de reentrenamiento de √°rbol: <br><br><ol><li>  Un bosque de 100-300 √°rboles funciona en el producto, que fue entrenado en el antiguo conjunto de datos. <br></li><li>  Al final, eliminamos M = 5 piezas y agregamos 2M = 10 nuevas, entrenadas en todo el conjunto de datos, pero con un alto peso de los nuevos datos, lo que naturalmente garantiza un cambio incremental en el modelo. <br></li></ol><br>  Obviamente, con el tiempo, el n√∫mero de √°rboles aumenta significativamente, y deben reducirse peri√≥dicamente para adaptarse a los tiempos.  Para hacer esto, utilizamos la ahora omnipresente destilaci√≥n de conocimiento (KD).  Brevemente sobre el principio de su trabajo. <br><br><ol><li>  Tenemos el modelo actual "complejo".  Comenzamos en el conjunto de datos de entrenamiento y obtenemos la distribuci√≥n de probabilidad de las clases en la salida. <br></li><li>  A continuaci√≥n, ense√±amos al modelo de estudiante (un modelo con menos √°rboles en este caso) a repetir los resultados del modelo, utilizando la distribuci√≥n de clases como una variable objetivo. <br></li><li>  Es importante tener en cuenta aqu√≠ que no usamos marcado de conjunto de datos de ninguna manera, y por lo tanto podemos usar datos arbitrarios.  Por supuesto, usamos una muestra de datos de la secuencia de combate como muestra de entrenamiento para el modelo de estudiante.  Por lo tanto, el conjunto de entrenamiento nos permite garantizar la precisi√≥n del modelo, y una muestra del flujo garantiza un rendimiento similar en la distribuci√≥n de producci√≥n, compensando el desplazamiento de la muestra de entrenamiento. <br></li></ol><br><img src="https://habrastorage.org/webt/a9/y-/qb/a9y-qbwv-wg1r8w7ohezamjzbi4.jpeg"><br><br>  La combinaci√≥n de estas dos t√©cnicas (agregar √°rboles y reducir peri√≥dicamente su n√∫mero mediante la Destilaci√≥n del conocimiento) garantiza la introducci√≥n de nuevos patrones y una continuidad completa. <br><br>  Con la ayuda de KD, tambi√©n realizamos la distinci√≥n de operaciones con caracter√≠sticas de un modelo, por ejemplo, eliminaci√≥n de caracter√≠sticas y trabajo en pases.  En nuestro caso, tenemos una serie de caracter√≠sticas estad√≠sticas importantes (por remitentes, hashes de texto, URL, etc.) que se almacenan en una base de datos que tiene la propiedad de rechazar.  El modelo, por supuesto, no est√° listo para tal desarrollo de eventos, ya que no hay situaciones de falla en el conjunto de entrenamiento.  En tales casos, combinamos KD y t√©cnicas de aumento: cuando entrenamos para una parte de los datos, eliminamos o ponemos a cero los signos necesarios, y tomamos las etiquetas (salidas del modelo actual) como las iniciales, el modelo de estudiante nos ense√±a a repetir esta distribuci√≥n. <br><br><img src="https://habrastorage.org/webt/xz/dc/12/xzdc12577_krj0_-qknhnh8eqvo.jpeg"><br><br>  Notamos que cuanto m√°s grave es la manipulaci√≥n de los modelos, mayor es el porcentaje de flujo de muestra requerido. <br><br>  Para eliminar caracter√≠sticas, la operaci√≥n m√°s simple, solo se requiere una peque√±a parte del flujo, ya que solo cambian un par de caracter√≠sticas, y el modelo actual estudiado en el mismo conjunto: la diferencia es m√≠nima.  Para simplificar el modelo (reduciendo el n√∫mero de √°rboles varias veces), ya se requieren de 50 a 50. Y omitir caracter√≠sticas estad√≠sticas importantes que afectan seriamente el rendimiento del modelo requiere a√∫n m√°s flujo para igualar el trabajo del nuevo modelo, que es resistente a las omisiones, en todo tipo de letras. <br><br><img src="https://habrastorage.org/webt/xw/b5/ib/xwb5ibcbds7xt3asahheyhpj9v4.jpeg"><br><br><h3>  Texto r√°pido </h3><br>  Pasemos a FastText.  Perm√≠tame recordarle que la representaci√≥n (incrustaci√≥n) de una palabra consiste en la suma de la incrustaci√≥n de la palabra en s√≠ y de todas sus letras N-gramas, generalmente trigramas.  Dado que los trigramas pueden ser bastante, se utiliza Bucket Hashing, es decir, la conversi√≥n de todo el espacio en un cierto hashmap fijo.  Como resultado, la matriz de peso se obtiene por la dimensi√≥n de la capa interna por el n√∫mero de palabras + cubo. <br><br>  Durante la educaci√≥n superior, aparecen nuevos signos: palabras y trigramas.  En el entrenamiento posterior est√°ndar de Facebook, no sucede nada significativo.  Solo se vuelven a entrenar los pesos antiguos con entrop√≠a cruzada en datos nuevos.  ,    , ,      ,      .     FastText.     (  ),     -         ,      . <br><br><img src="https://habrastorage.org/webt/ib/0g/v3/ib0gv3rq9xvxitkbimz_6f4yaqs.jpeg"><br><br><h3> CNN </h3><br>     .   CNN   , , ,       .    ,     ,         .         Triplet Loss ( <a href="https://arxiv.org/abs/1503.03832"> </a> ). <br><br><h4> Triplet Loss </h4><br>         Triplet Loss.   ,         .         ,     ,     . <br><br><img src="https://habrastorage.org/webt/h9/uz/cy/h9uzcyjc9y86mc2inrlv0wq3kwm.jpeg"><br><br>    ,       ,       .     ,  .    ,       . <br><br>      -       .        (Finetuning):    ,     .            ,  ‚Äî   .  ,         v1  v2.    . <br><br><img src="https://habrastorage.org/webt/eb/iu/ro/ebiurox9uuibm_meuq8tap3zyzw.jpeg"><br><br><h3>   </h3><br>        ,    ,     .  ,    ,   CNN  Fast Text  .     ,       ( , ,  ).            .                    ,           . <br><br><img src="https://habrastorage.org/webt/ik/42/y4/ik42y4lvyzbhbsuywkmrxwg6bp4.jpeg"><br><br>        .     CNN  Fast Text    ,     ‚Äî          .          Knowledge Distillation. <br><br>           ,             .               ,            ,        . <br><br><h2>  Implementar </h2><br>         ,        . <br><br><h3> /B- </h3><br>    ,     ,  ,   ,     - .          ,  ,      ,    A/B-.              .       5 %,  30 %,  50 %   100 % ,            .   -      ,    ,     ,     .       50 %   ,       ,      . <br><br>   A/B-    .   ,   A/B-   (      6  24      ),         .         ,       /B- (            ),    A/B-  . ,          ,        . <br><br>        ,   A/B-.         , Precision, Recall      ,       .       ,  ,      (Complexity) .    ,       -,      ,   ,      A/B-. <br><br><img src="https://habrastorage.org/webt/jf/nf/mu/jfnfmu8eoxpau1ux_n_ndww9ffi.jpeg"><br><br>             A/B-. <br><br><h3>  &amp;  </h3><br>   ,   ,    , , ,      .    ,   ‚Äî   ,     . <br><br>   ,          ‚Äî       .          ,          .      ,     ‚Äî -      ,     . <br><br>     ,                 .             (     ).  -       .  ,      ,         ¬´¬ª       .    ,     ,        .          . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/db1/f2f/6a9/db1f2f6a95922c5c4caf13e5aab1be57.jpg"><br><br>            .     ,       ,      .   KL-           A/B-   ,          . <br><br>               ,       . ,  NER-       -,         ,    .     ! <br><br><h2>  Resumen </h2><br>       . <br><br><ul><li> <b></b> .    :       ,     .  ,   ‚Äî       ,        ML-.       ,     , ,  . <br></li><li> <b></b> .   ‚Äî  ,     -.    ,              . </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La m√©trica autom√°tica reduce en gran medida el tiempo que lleva implementar modelos. </font><font style="vertical-align: inherit;">Al monitorear las estad√≠sticas y la distribuci√≥n de la toma de decisiones, el n√∫mero de ca√≠das de los usuarios es obligatorio para su buen sue√±o y d√≠as libres productivos.</font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bueno, espero que lo que lea le ayude a mejorar sus sistemas de ML m√°s r√°pido, acelerar su lanzamiento al mercado y hacerlos m√°s confiables, reduciendo la cantidad de estr√©s del trabajo. </font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/476714/">https://habr.com/ru/post/476714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../476704/index.html">C√≥mo automatizar el dise√±o de correos electr√≥nicos con el mismo tipo de elementos: utilizamos objetos inteligentes</a></li>
<li><a href="../476706/index.html">Cerebras Systems present√≥ una computadora con el procesador m√°s grande del mundo de 22 √ó 22 cent√≠metros</a></li>
<li><a href="../476708/index.html">Slurm Basic en Mosc√∫. D√≠a tres La colecci√≥n de contrainteligencia y el grupo, volando Pavel Selivanov y "Slurm Inspires!"</a></li>
<li><a href="../476710/index.html">Inscripci√≥n abierta: inmersi√≥n profunda en TI en Marte</a></li>
<li><a href="../476712/index.html">Servicio para reuniones aleatorias con extra√±os, pero no para citas. Historial de inicio de Random Coffee</a></li>
<li><a href="../476718/index.html">Historia de una radio nacional: Mussolini de Rural Radio y Joseph Goebbels l√°mparas c√°lidas</a></li>
<li><a href="../476720/index.html">C√≥mo identificar un empleado potencial en la etapa de curr√≠culum</a></li>
<li><a href="../476722/index.html">Automatizaci√≥n de suministro de flujo Apache NiFi</a></li>
<li><a href="../476724/index.html">Instale Vmware ESXi en Mac Pro 1.1</a></li>
<li><a href="../476726/index.html">Graduado de la Universidad de Innopolis sobre estudiar en la Universidad de Grenoble, AI, ingl√©s con franc√©s y queso con chinches</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>