<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš ğŸ¤°ğŸ» ğŸ‘©ğŸ¼â€âœˆï¸ ä½¿ç”¨JAX-RSè¿›è¡Œååº”å¼ç¼–ç¨‹ ğŸ—¾ ğŸ¤Ÿ ğŸ¤¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¤§å®¶å¥½ï¼ 

 å»å¹´ï¼Œ Java Enterprise Developerè¯¾ç¨‹å·²ç»æˆåŠŸå¯åŠ¨ï¼Œå¹¶ä¸”æˆ‘ä»¬æƒ³ä¸æ‚¨åˆ†äº«è¯¥ä¸»é¢˜çš„æœ€æ–°èµ„æ–™ï¼Œå…¶ä¸­è®¨è®ºäº†å¼‚æ­¥æ–¹æ³•çš„ä½¿ç”¨ä»¥åŠå¼€å‘å“åº”å¼å“åº”åº”ç”¨ç¨‹åºçš„é˜¶æ®µã€‚ 

 èµ°å§ 

 èµ·åˆï¼Œå“åº”å¼ç¼–ç¨‹å¬èµ·æ¥åƒæ–°å…´èŒƒå¼çš„åç§°ï¼Œä½†å®é™…ä¸Šæ˜¯æŒ‡ä¸€ç§ç¼–ç¨‹æ–¹æ³•ï¼Œå…¶ä¸­ä½¿ç”¨é¢å‘äº‹ä»¶çš„æ–¹æ³•æ¥å¤„ç†...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨JAX-RSè¿›è¡Œååº”å¼ç¼–ç¨‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/424031/">å¤§å®¶å¥½ï¼ <br><br> å»å¹´ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java Enterprise Developer</a>è¯¾ç¨‹å·²ç»æˆåŠŸå¯åŠ¨ï¼Œå¹¶ä¸”æˆ‘ä»¬æƒ³ä¸æ‚¨åˆ†äº«è¯¥ä¸»é¢˜çš„æœ€æ–°èµ„æ–™ï¼Œå…¶ä¸­è®¨è®ºäº†å¼‚æ­¥æ–¹æ³•çš„ä½¿ç”¨ä»¥åŠå¼€å‘å“åº”å¼å“åº”åº”ç”¨ç¨‹åºçš„é˜¶æ®µã€‚ <br><br> èµ°å§ <br><br> èµ·åˆï¼Œå“åº”å¼ç¼–ç¨‹å¬èµ·æ¥åƒæ–°å…´èŒƒå¼çš„åç§°ï¼Œä½†å®é™…ä¸Šæ˜¯æŒ‡ä¸€ç§ç¼–ç¨‹æ–¹æ³•ï¼Œå…¶ä¸­ä½¿ç”¨é¢å‘äº‹ä»¶çš„æ–¹æ³•æ¥å¤„ç†å¼‚æ­¥æ•°æ®æµã€‚ åŸºäºæŒç»­ä¸æ–­çš„æ•°æ®ï¼Œååº”æ€§ç³»ç»Ÿé€šè¿‡æ‰§è¡Œä¸€ç³»åˆ—äº‹ä»¶æ¥å“åº”å®ƒä»¬ã€‚ <br> å“åº”å¼ç¼–ç¨‹éµå¾ªâ€œè§‚å¯Ÿè€…â€è®¾è®¡æ¨¡å¼ï¼Œè¯¥æ¨¡å¼å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œåˆ™å°†é€šçŸ¥æ‰€æœ‰å…¶ä»–å¯¹è±¡å¹¶ç›¸åº”åœ°å¯¹å…¶è¿›è¡Œæ›´æ–°ã€‚ å› æ­¤ï¼Œä¸æ˜¯è½®è¯¢äº‹ä»¶çš„æ›´æ”¹ï¼Œè€Œæ˜¯å¼‚æ­¥æ¨é€äº‹ä»¶ï¼Œä»¥ä¾¿è§‚å¯Ÿè€…å¯ä»¥å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œè§‚å¯Ÿè€…æ˜¯åœ¨è°ƒåº¦äº‹ä»¶æ—¶æ‰§è¡Œçš„åŠŸèƒ½ã€‚ æåˆ°çš„æ•°æ®æµæ˜¯å®é™…å¯è§‚å¯Ÿâ€‹â€‹åˆ°çš„ã€‚ <br><br> å‡ ä¹æ‰€æœ‰è¯­è¨€å’Œæ¡†æ¶éƒ½åœ¨å…¶ç”Ÿæ€ç³»ç»Ÿä¸­ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œå¹¶ä¸”Javaçš„æœ€æ–°ç‰ˆæœ¬ä¹Ÿä¸ä¾‹å¤–ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è§£é‡Šå¦‚ä½•ä½¿ç”¨Java EE 8å’ŒJava 8åŠŸèƒ½ä¸­çš„æœ€æ–°ç‰ˆæœ¬çš„JAX-RSåº”ç”¨ååº”å¼ç¼–ç¨‹ã€‚ <br><br><img src="https://habrastorage.org/webt/zp/g6/dr/zpg6dry4ynjfjnr6y6fkmkluoea.png"><a name="habracut"></a><br><br>  <b>å–·æ°”å®£è¨€</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Jetå®£è¨€</a>åˆ—å‡ºäº†å››ä¸ªåŸºæœ¬æ–¹é¢ï¼Œå³åº”ç”¨ç¨‹åºéœ€è¦æ›´åŠ çµæ´»ï¼Œæ¾è€¦åˆï¼Œæ˜“äºæ‰©å±•å¹¶å› æ­¤å…·æœ‰å“åº”èƒ½åŠ›ã€‚ å®ƒæŒ‡å‡ºï¼Œåº”ç”¨ç¨‹åºå¿…é¡»å…·æœ‰å“åº”èƒ½åŠ›ï¼Œçµæ´»æ€§ï¼ˆå› æ­¤å…·æœ‰å¯ä¼¸ç¼©æ€§ï¼‰ï¼Œå¼¹æ€§å’Œæ¶ˆæ¯é©±åŠ¨èƒ½åŠ›ã€‚ <br><br> åŸºæœ¬ç›®æ ‡æ˜¯çœŸæ­£å“åº”çš„åº”ç”¨ç¨‹åºã€‚ å‡è®¾æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå…¶ä¸­ä¸€ä¸ªå¤§çº¿ç¨‹å‚ä¸å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œå¹¶ä¸”åœ¨å®Œæˆå·¥ä½œä¹‹åï¼Œè¯¥çº¿ç¨‹å°†å“åº”å‘é€å›åŸå§‹è¯·æ±‚è€…ã€‚ å½“åº”ç”¨ç¨‹åºæ”¶åˆ°çš„è¯·æ±‚æ•°è¶…å‡ºå…¶å¤„ç†èƒ½åŠ›æ—¶ï¼Œæ­¤çº¿ç¨‹å°†æˆä¸ºç“¶é¢ˆï¼Œå¹¶ä¸”è¯¥åº”ç”¨ç¨‹åºå°†å¤±å»å…¶ä»¥å‰çš„å“åº”èƒ½åŠ›ã€‚ ä¸ºäº†ä¿æŒå“åº”èƒ½åŠ›ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»æ˜¯å¯ä¼¸ç¼©çš„å’Œå¯æ¢å¤çš„ã€‚ å¯æŒç»­æ€§å¯ä»¥è¢«è§†ä¸ºå…·æœ‰è‡ªåŠ¨æ¢å¤åŠŸèƒ½çš„åº”ç”¨ç¨‹åºã€‚ æ ¹æ®å¤§å¤šæ•°å¼€å‘äººå‘˜çš„ç»éªŒï¼Œåªæœ‰æ¶ˆæ¯é©±åŠ¨çš„ä½“ç³»ç»“æ„æ‰èƒ½ä½¿åº”ç”¨ç¨‹åºå…·æœ‰å¯ä¼¸ç¼©æ€§ï¼Œå¼¹æ€§å’Œå“åº”èƒ½åŠ›ã€‚ <br><br> åœ¨Java 8å’ŒJava EE 8ä¸­å¼•å…¥äº†ååº”å¼ç¼–ç¨‹ã€‚Javaå¼•å…¥äº†è¯¸å¦‚<code>CompletionStage</code>åŠå…¶å®ç°<code>CompletableFuture</code>æ¦‚å¿µï¼Œå¹¶ä¸”Javaå¼€å§‹åœ¨è§„èŒƒä¸­ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œä¾‹å¦‚JAX-RSä¸­çš„Reactive Client APIã€‚ <br><br>  <b>JAX-RS 2.1ååº”æ€§å®¢æˆ·ç«¯API</b> <br><br> è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨Java EE 8åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ååº”å¼ç¼–ç¨‹ã€‚è¦äº†è§£è¯¥è¿‡ç¨‹ï¼Œæ‚¨éœ€è¦ä¸€äº›Java EE APIçš„åŸºç¡€çŸ¥è¯†ã€‚ <br><br>  JAX-RS 2.1å¼•å…¥äº†ä¸€ç§æ–°çš„æ–¹æ³•æ¥åˆ›å»ºæ”¯æŒå“åº”å¼ç¼–ç¨‹çš„RESTå®¢æˆ·ç«¯ã€‚  JAX-RSä¸­æä¾›çš„é»˜è®¤è°ƒç”¨ç¨‹åºå®ç°æ˜¯åŒæ­¥çš„ï¼Œè¿™æ„å‘³ç€åˆ›å»ºçš„å®¢æˆ·ç«¯å°†å‘æœåŠ¡å™¨çš„ç«¯ç‚¹å‘é€é˜»å¡è°ƒç”¨ã€‚ æ¸…å•1ç»™å‡ºäº†ä¸€ä¸ªç¤ºä¾‹å®ç°ã€‚ <br><br> æ¸…å•1 <br><br><pre> <code class="java hljs">Response response = ClientBuilder.newClient() .target(<span class="hljs-string"><span class="hljs-string">"http://localhost:8080/service-url"</span></span>) .request() .get();</code> </pre> <br> ä»2.0ç‰ˆå¼€å§‹ï¼ŒJAX-RSæä¾›å¯¹åœ¨å®¢æˆ·ç«¯APIä¸Šåˆ›å»ºå¼‚æ­¥è°ƒç”¨ç¨‹åºçš„æ”¯æŒï¼Œåªéœ€è°ƒç”¨<code>async()</code>æ–¹æ³•å³å¯ï¼Œå¦‚æ¸…å•2æ‰€ç¤ºã€‚ <br><br> æ¸…å•2 <br><br><pre> <code class="java hljs">Future&lt;Response&gt; response = ClientBuilder.newClient() .target(<span class="hljs-string"><span class="hljs-string">"http://localhost:8080/service-url"</span></span>) .request() .async() .get();</code> </pre> <br> åœ¨å®¢æˆ·ç«¯ä¸Šä½¿ç”¨å¼‚æ­¥è°ƒç”¨ç¨‹åºå°†è¿”å›ç±»å‹ä¸º<code>javax.ws.rs.core.Response</code>çš„<code>Future</code>å®ä¾‹ã€‚ è¿™å¯èƒ½å¯¼è‡´é€šè¿‡è°ƒç”¨<code>future.get()</code>æ¥è½®è¯¢å“åº”ï¼Œæˆ–è€…æ³¨å†Œåœ¨HTTPå“åº”å¯ç”¨æ—¶å°†è°ƒç”¨çš„å›è°ƒã€‚ ä¸¤ç§å®ç°æ–¹å¼éƒ½é€‚åˆå¼‚æ­¥ç¼–ç¨‹ï¼Œä½†æ˜¯å¦‚æœè¦å°†å›è°ƒåˆ†ç»„æˆ–å‘è¿™äº›å¼‚æ­¥æ‰§è¡Œæœ€å°å€¼æ·»åŠ æ¡ä»¶å¤§å°å†™ï¼Œäº‹æƒ…é€šå¸¸ä¼šå˜å¾—å¤æ‚ã€‚ <br><br>  JAX-RS 2.1é€šè¿‡ç”¨äºæ„å»ºå®¢æˆ·ç«¯çš„æ–°JAX-RS Reactive Client APIæä¾›äº†ä¸€ç§å…‹æœè¿™äº›é—®é¢˜çš„ååº”æ–¹å¼ã€‚ å°±åƒåœ¨å®¢æˆ·ç«¯æ„å»ºæœŸé—´è°ƒç”¨<code>rx()</code>æ–¹æ³•ä¸€æ ·ç®€å•ã€‚ åœ¨æ¸…å•3ä¸­ï¼Œ <code>rx()</code>æ–¹æ³•è¿”å›åœ¨å®¢æˆ·ç«¯æ‰§è¡ŒæœŸé—´å­˜åœ¨çš„ååº”å¼è°ƒç”¨ç¨‹åºï¼Œå¹¶ä¸”å®¢æˆ·ç«¯è¿”å›ç±»å‹ä¸º<code>CompletionStage.rx()</code>çš„å“åº”ï¼Œè¯¥å“åº”å…è®¸é€šè¿‡ç®€å•è°ƒç”¨ä»åŒæ­¥è°ƒç”¨ç¨‹åºè¿‡æ¸¡åˆ°å¼‚æ­¥è°ƒç”¨ç¨‹åºã€‚ <br><br> æ¸…å•3 <br><br><pre> <code class="java hljs">CompletionStage&lt;Response&gt; response = ClientBuilder.newClient() .target(<span class="hljs-string"><span class="hljs-string">"http://localhost:8080/service-url"</span></span>) .request() .rx() .get();</code> </pre> <br>  <code>CompletionStage&lt;&gt;</code>æ˜¯Java 8ä¸­å¼•å…¥çš„æ–°æ¥å£ã€‚é¡¾åæ€ä¹‰ï¼Œ <code>CompletionStage&lt;&gt;</code>è¡¨ç¤ºä¸€ä¸ªè®¡ç®—ï¼Œå¯ä»¥ä½œä¸ºè¾ƒå¤§è®¡ç®—æ¡†æ¶çš„ä¸€ä¸ªæ­¥éª¤ã€‚ è¿™æ˜¯å”¯ä¸€ä¸€ä¸ªä½¿ç”¨JAX-RSçš„Java 8ååº”æ€§ä»£è¡¨ã€‚ <br> æ¥æ”¶åˆ°å“åº”å®ä¾‹ä¹‹åï¼Œæˆ‘å¯ä»¥è°ƒç”¨<code>AcceptAsync()</code> ï¼Œåœ¨å…¶ä¸­æä¾›ä¸€æ®µä»£ç ï¼Œå½“å“åº”å¯ç”¨æ—¶ï¼Œå®ƒå°†å¼‚æ­¥æ‰§è¡Œï¼Œå¦‚æ¸…å•4æ‰€ç¤ºã€‚ <br><br> æ¸…å•4 <br><br><pre> <code class="java hljs">response.thenAcceptAsync(res -&gt; { Temperature t = res.readEntity(Temperature.class); <span class="hljs-comment"><span class="hljs-comment">//do stuff with t });</span></span></code> </pre> <br>  <b>å‘ç«¯ç‚¹RESTæ·»åŠ ååº”æ€§</b> <br><br> ååº”æ€§æ–¹æ³•ä¸ä»…é™äºJAX-RSä¸­çš„å®¢æˆ·ç«¯ï¼› å®ƒä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œé¦–å…ˆï¼Œæˆ‘å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„è„šæœ¬ï¼Œåœ¨å…¶ä¸­å¯ä»¥è¯·æ±‚ä¸€ä¸ªç›®çš„åœ°çš„ä½ç½®åˆ—è¡¨ã€‚ å¯¹äºæ¯ä¸ªä½ç½®ï¼Œæˆ‘å°†ä½¿ç”¨ä½ç½®æ•°æ®è¿›è¡Œå•ç‹¬è°ƒç”¨åˆ°å¦ä¸€ä¸ªç‚¹ä»¥è·å–æ¸©åº¦å€¼ã€‚ ç›®çš„åœ°çš„äº¤äº’å°†å¦‚å›¾1æ‰€ç¤ºã€‚ <br><br><img src="https://habrastorage.org/webt/rd/zr/cr/rdzrcrvbeyyfkp_bc5szid_t9au.png"><br>  <i>å›¾1.ç›®æ ‡ç‚¹ä¹‹é—´çš„äº¤äº’</i> <br><br> é¦–å…ˆï¼Œæˆ‘åªå®šä¹‰åŸŸæ¨¡å‹ï¼Œç„¶åå®šä¹‰æ¯ä¸ªæ¨¡å‹çš„æœåŠ¡ã€‚ æ¸…å•5æ˜¾ç¤ºäº†å¦‚ä½•å®šä¹‰<code>Forecast</code>ç±»ï¼Œè¯¥ç±»åŒ…è£…äº†<code>Location</code>å’Œ<code>Temperature</code>ç±»ã€‚ <br><br> æ¸…å•5 <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Temperature</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Double temperature; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String scale; <span class="hljs-comment"><span class="hljs-comment">// getters &amp; setters } public class Location { String name; public Location() {} public Location(String name) { this.name = name; } // getters &amp; setters } public class Forecast { private Location location; private Temperature temperature; public Forecast(Location location) { this.location = location; } public Forecast setTemperature( final Temperature temperature) { this.temperature = temperature; return this; } // getters }</span></span></code> </pre> <br> ä¸ºäº†åŒ…è£…é¢„æµ‹åˆ—è¡¨ï¼Œæ¸…å•6ä¸­å®ç°äº†<code>ServiceResponse</code>ç±»ã€‚ <br><br> æ¸…å•6 <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ServiceResponse</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> processingTime; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Forecast&gt; forecasts = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setProcessingTime</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> processingTime)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.processingTime = processingTime; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ServiceResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forecasts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;Forecast&gt; forecasts)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forecasts = forecasts; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// getters }</span></span></code> </pre> <br> æ¸…å•7ä¸­æ‰€ç¤º<code>LocationResource</code>å®šä¹‰äº†ä¸‰ä¸ªç”¨<code>/location</code>è·¯å¾„è¿”å›çš„ç¤ºä¾‹ä½ç½®ã€‚ <br><br> æ¸…å•7 <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Path</span></span>(<span class="hljs-string"><span class="hljs-string">"/location"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocationResource</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@GET</span></span> <span class="hljs-meta"><span class="hljs-meta">@Produces</span></span>(MediaType.APPLICATION_JSON) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Response </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLocations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ List&lt;Location&gt; locations = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); locations.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Location(<span class="hljs-string"><span class="hljs-string">"London"</span></span>)); locations.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Location(<span class="hljs-string"><span class="hljs-string">"Istanbul"</span></span>)); locations.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Location(<span class="hljs-string"><span class="hljs-string">"Prague"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Response.ok(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GenericEntity&lt;List&lt;Location&gt;&gt;(locations){}).build(); } }</code> </pre> <br> æ¸…å•8ä¸­æ˜¾ç¤º<code>TemperatureResource</code>è¿”å›ç»™å®šä½ç½®çš„30åˆ°50ä¹‹é—´çš„éšæœºç”Ÿæˆçš„æ¸©åº¦å€¼ã€‚ å·²å°†500 msçš„å»¶è¿Ÿæ·»åŠ åˆ°å®ç°ä¸­ï¼Œä»¥æ¨¡æ‹Ÿä¼ æ„Ÿå™¨è¯»å–ã€‚ <br><br> æ¸…å•8 <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Path</span></span>(<span class="hljs-string"><span class="hljs-string">"/temperature"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TemperatureResource</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@GET</span></span> <span class="hljs-meta"><span class="hljs-meta">@Path</span></span>(<span class="hljs-string"><span class="hljs-string">"/{city}"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Produces</span></span>(MediaType.APPLICATION_JSON) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Response </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAverageTemperature</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@PathParam(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"city"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> String cityName) </span></span>{ Temperature temperature = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Temperature(); temperature.setTemperature((<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>) (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random().nextInt(<span class="hljs-number"><span class="hljs-number">20</span></span>) + <span class="hljs-number"><span class="hljs-number">30</span></span>)); temperature.setScale(<span class="hljs-string"><span class="hljs-string">"Celsius"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Thread.sleep(<span class="hljs-number"><span class="hljs-number">500</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InterruptedException ignored) { ignored.printStackTrace(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Response.ok(temperature).build(); } }</code> </pre> <br> é¦–å…ˆï¼Œæˆ‘å°†å±•ç¤ºåŒæ­¥<code>ForecastResource</code>çš„å®ç°ï¼ˆè¯·å‚è§æ¸…å•9ï¼‰ï¼Œè¯¥å®ç°è¿”å›æ‰€æœ‰ä½ç½®ã€‚ ç„¶åï¼Œå¯¹äºæ¯ä¸ªä½ç½®ï¼Œä»–è‡´ç”µæ¸©åº¦æœåŠ¡éƒ¨é—¨ä»¥æ‘„æ°åº¦ä¸ºå•ä½è·å–å€¼ã€‚ <br><br> æ¸…å•9 <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Path</span></span>(<span class="hljs-string"><span class="hljs-string">"/forecast"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ForecastResource</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Uri</span></span>(<span class="hljs-string"><span class="hljs-string">"location"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebTarget locationTarget; <span class="hljs-meta"><span class="hljs-meta">@Uri</span></span>(<span class="hljs-string"><span class="hljs-string">"temperature/{city}"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebTarget temperatureTarget; <span class="hljs-meta"><span class="hljs-meta">@GET</span></span> <span class="hljs-meta"><span class="hljs-meta">@Produces</span></span>(MediaType.APPLICATION_JSON) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Response </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLocationsWithTemperature</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> startTime = System.currentTimeMillis(); ServiceResponse response = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ServiceResponse(); List&lt;Location&gt; locations = locationTarget .request() .get(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GenericType&lt;List&lt;Location&gt;&gt;(){}); locations.forEach(location -&gt; { Temperature temperature = temperatureTarget .resolveTemplate(<span class="hljs-string"><span class="hljs-string">"city"</span></span>, location.getName()) .request() .get(Temperature.class); response.getForecasts().add( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Forecast(location).setTemperature(temperature)); }); <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> endTime = System.currentTimeMillis(); response.setProcessingTime(endTime - startTime); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Response.ok(response).build(); } }</code> </pre> <br> å½“å°†é¢„æµ‹ç›®æ ‡è¯·æ±‚ä¸º<code>/forecast</code> ï¼Œæ‚¨å°†è·å¾—ç±»ä¼¼äºæ¸…å•10æ‰€ç¤ºçš„è¾“å‡ºã€‚è¯·æ³¨æ„ï¼Œè¯·æ±‚å¤„ç†æ—¶é—´ä¸º1.533 msï¼Œè¿™æ˜¯åˆä¹é€»è¾‘çš„ï¼Œå› ä¸ºæ¥è‡ªä¸‰ä¸ªä¸åŒä½ç½®çš„æ¸©åº¦å€¼åŒæ­¥è¯·æ±‚æ€»è®¡ä¸º1.5ã€‚æ¯«ç§’ <br><br> æ¸…å•10 <br><br><pre> <code class="java hljs">{ <span class="hljs-string"><span class="hljs-string">"forecasts"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"location"</span></span>: { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"London"</span></span> }, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: { <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: <span class="hljs-string"><span class="hljs-string">"Celsius"</span></span>, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: <span class="hljs-number"><span class="hljs-number">33</span></span> } }, { <span class="hljs-string"><span class="hljs-string">"location"</span></span>: { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Istanbul"</span></span> }, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: { <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: <span class="hljs-string"><span class="hljs-string">"Celsius"</span></span>, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: <span class="hljs-number"><span class="hljs-number">38</span></span> } }, { <span class="hljs-string"><span class="hljs-string">"location"</span></span>: { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Prague"</span></span> }, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: { <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: <span class="hljs-string"><span class="hljs-string">"Celsius"</span></span>, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: <span class="hljs-number"><span class="hljs-number">46</span></span> } } ], <span class="hljs-string"><span class="hljs-string">"processingTime"</span></span>: <span class="hljs-number"><span class="hljs-number">1533</span></span> }</code> </pre><br> åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸€åˆ‡éƒ½æŒ‰è®¡åˆ’è¿›è¡Œã€‚ ç°åœ¨æ˜¯æ—¶å€™åœ¨æœåŠ¡å™¨ç«¯å¼•å…¥ååº”å¼ç¼–ç¨‹äº†ï¼Œå¯ä»¥åœ¨æ¥æ”¶åˆ°æ‰€æœ‰ä½ç½®ä¹‹åå¹¶è¡Œè°ƒç”¨æ¯ä¸ªä½ç½®ã€‚ è¿™å¯ä»¥æ˜æ˜¾æ”¹å–„å‰é¢æ˜¾ç¤ºçš„åŒæ­¥æµã€‚ æ¸…å•11ä¸­å®Œæˆäº†è¯¥æ“ä½œï¼Œå…¶ä¸­æ˜¾ç¤ºäº†è¢«åŠ¨é¢„æµ‹æœåŠ¡ç‰ˆæœ¬çš„å®šä¹‰ã€‚ <br><br> æ¸…å•11 <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Path</span></span>(<span class="hljs-string"><span class="hljs-string">"/reactiveForecast"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ForecastReactiveResource</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Uri</span></span>(<span class="hljs-string"><span class="hljs-string">"location"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebTarget locationTarget; <span class="hljs-meta"><span class="hljs-meta">@Uri</span></span>(<span class="hljs-string"><span class="hljs-string">"temperature/{city}"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebTarget temperatureTarget; <span class="hljs-meta"><span class="hljs-meta">@GET</span></span> <span class="hljs-meta"><span class="hljs-meta">@Produces</span></span>(MediaType.APPLICATION_JSON) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLocationsWithTemperature</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Suspended </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> AsyncResponse async)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> startTime = System.currentTimeMillis(); <span class="hljs-comment"><span class="hljs-comment">//   (stage)    CompletionStage&lt;List&lt;Location&gt;&gt; locationCS = locationTarget.request() .rx() .get(new GenericType&lt;List&lt;Location&gt;&gt;() {}); //      , //  ,   , //    CompletionStage final CompletionStage&lt;List&lt;Forecast&gt;&gt; forecastCS = locationCS.thenCompose(locations -&gt; { //      //   ompletionStage List&lt;CompletionStage&lt;Forecast&gt;&gt; forecastList = //      //     locations.stream().map(location -&gt; { //     //      //    final CompletionStage&lt;Temperature&gt; tempCS = temperatureTarget .resolveTemplate("city", location.getName()) .request() .rx() .get(Temperature.class); //   CompletableFuture,   //    //      return CompletableFuture.completedFuture( new Forecast(location)) .thenCombine(tempCS, Forecast::setTemperature); }).collect(Collectors.toList()); //    CompletableFuture, //     completable future //  return CompletableFuture.allOf( forecastList.toArray( new CompletableFuture[forecastList.size()])) .thenApply(v -&gt; forecastList.stream() .map(CompletionStage::toCompletableFuture) .map(CompletableFuture::join) .collect(Collectors.toList())); }); //   ServiceResponse, //       //    . //   future    // forecastCS,    //      CompletableFuture.completedFuture( new ServiceResponse()) .thenCombine(forecastCS, ServiceResponse::forecasts) .whenCompleteAsync((response, throwable) -&gt; { response.setProcessingTime( System.currentTimeMillis() - startTime); async.resume(response); }); } }</span></span></code> </pre> <br> ä¹ä¸€çœ‹ï¼Œå“åº”å¼å®ç°ä¼¼ä¹å¾ˆå¤æ‚ï¼Œä½†æ˜¯ç»è¿‡æ›´ä»”ç»†çš„ç ”ç©¶ï¼Œæ‚¨ä¼šå‘ç°å®ƒå¾ˆç®€å•ã€‚ åœ¨<code>ForecastReactiveResource</code>çš„å®ç°ä¸­<code>ForecastReactiveResource</code>æˆ‘é¦–å…ˆä½¿ç”¨JAX-RS Reactive Client APIåˆ›å»ºå¯¹å®šä½æœåŠ¡çš„å®¢æˆ·ç«¯è°ƒç”¨ã€‚ æ­£å¦‚æˆ‘ä¸Šé¢æåˆ°çš„ï¼Œè¿™æ˜¯Java EE 8çš„é™„åŠ ç»„ä»¶ï¼Œå®ƒæœ‰åŠ©äºä½¿ç”¨<code>rx()</code>æ–¹æ³•åˆ›å»ºå“åº”å¼è°ƒç”¨ã€‚ <br><br> ç°åœ¨ï¼Œæˆ‘å°†æ ¹æ®ä½ç½®åˆ›å»ºä¸€ä¸ªæ–°é˜¶æ®µï¼Œä»¥æ±‡æ€»é¢„æµ‹åˆ—è¡¨ã€‚ å®ƒä»¬å°†ä½œä¸ºä¸€ä¸ªé¢„æµ‹åˆ—è¡¨å­˜å‚¨åœ¨ä¸€ä¸ªç§°ä¸º<code>forecastCS</code>å¤§å‹å®Œæˆé˜¶æ®µä¸­ã€‚ æœ€ç»ˆï¼Œæˆ‘å°†ä»…ä½¿ç”¨<code>forecastCS</code>åˆ›å»ºæœåŠ¡è°ƒç”¨å“åº”ã€‚ <br><br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä»¥å˜é‡<code>forecastList</code>å®šä¹‰çš„å®Œæˆé˜¶æ®µåˆ—è¡¨çš„å½¢å¼æ”¶é›†<code>forecastList</code> ã€‚ ä¸ºäº†ä¸ºæ¯ä¸ªé¢„æµ‹åˆ›å»ºä¸€ä¸ªå®Œæˆé˜¶æ®µï¼Œæˆ‘æŒ‰ä½ç½®ä¼ é€’æ•°æ®ï¼Œç„¶åå†æ¬¡ä½¿ç”¨JAX-RS Reactive Client APIåˆ›å»º<code>tempCS</code>å˜é‡ï¼Œè¯¥APIè°ƒç”¨åŸå¸‚åç§°çš„æ¸©åº¦æœåŠ¡ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨<code>resolveTemplate()</code>æ–¹æ³•æ„å»ºå®¢æˆ·ç«¯ï¼Œè¿™ä½¿æˆ‘å¯ä»¥å°†åŸå¸‚åç§°ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ”¶é›†å™¨ã€‚ <br><br> ä½œä¸ºæµå¼ä¼ è¾“çš„æœ€åä¸€æ­¥ï¼Œæˆ‘è°ƒç”¨<code>CompletableFuture.completedFuture()</code> ï¼Œå¹¶å°†æ–°çš„<code>Forecast</code>å®ä¾‹ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ æˆ‘å°†è¿™ä¸€æœªæ¥ä¸<code>tempCS</code>é˜¶æ®µç»“åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿è·å¾—æ‰€ç›‘è§†ä½ç½®çš„æ¸©åº¦å€¼ã€‚ <br><br> æ¸…å•11ä¸­çš„<code>CompletableFuture.allOf()</code>æ–¹æ³•å°†å®Œæˆé˜¶æ®µåˆ—è¡¨è½¬æ¢ä¸º<code>forecastCS</code> ã€‚ å½“æ‰€æœ‰æä¾›çš„å¯å®Œæˆçš„å°†æ¥å¯¹è±¡å®Œæˆæ—¶ï¼Œæ‰§è¡Œæ­¤æ­¥éª¤å°†è¿”å›ä¸€ä¸ªå¤§å‹çš„å¯å®Œæˆçš„å°†æ¥å®ä¾‹ã€‚ <br><br> æœåŠ¡å“åº”æ˜¯<code>ServiceResponse</code>ç±»çš„å®ä¾‹ï¼Œå› æ­¤æˆ‘åˆ›å»ºäº†ä¸€ä¸ªå®Œæˆçš„Futureï¼Œç„¶åå°†<code>forecastCS</code>å®Œæˆé˜¶æ®µä¸é¢„æµ‹åˆ—è¡¨ç»“åˆèµ·æ¥å¹¶è®¡ç®—æœåŠ¡å“åº”æ—¶é—´ã€‚ <br><br> å½“ç„¶ï¼Œååº”å¼ç¼–ç¨‹ä¼šå¼ºåˆ¶æœåŠ¡å™¨ç«¯ä»…å¼‚æ­¥è¿è¡Œï¼› åœ¨æœåŠ¡å™¨å°†å“åº”å‘é€å›è¯·æ±‚è€…ä¹‹å‰ï¼Œå®¢æˆ·ç«¯å°†ä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚ ä¸ºäº†å…‹æœæ­¤é—®é¢˜ï¼ŒæœåŠ¡å™¨å‘é€äº‹ä»¶ï¼ˆSSEï¼‰å¯ç”¨äºåœ¨å“åº”å¯ç”¨æ—¶ç«‹å³éƒ¨åˆ†å‘é€å“åº”ï¼Œä»¥ä¾¿å°†æ¯ä¸ªä½ç½®çš„æ¸©åº¦å€¼ä¸€ä¸ªä¸€ä¸ªåœ°ä¼ è¾“åˆ°å®¢æˆ·ç«¯ã€‚  <code>ForecastReactiveResource</code>çš„è¾“å‡ºå°†ç±»ä¼¼äºæ¸…å•12ä¸­çš„è¾“å‡ºã€‚å¦‚è¾“å‡ºä¸­æ‰€ç¤ºï¼Œå¤„ç†æ—¶é—´ä¸º515 msï¼Œè¿™æ˜¯ä»ä¸€ä¸ªä½ç½®è·å–æ¸©åº¦å€¼çš„ç†æƒ³è¿è¡Œæ—¶é—´ã€‚ <br><br> æ¸…å•12 <br><br><pre> <code class="java hljs">{ <span class="hljs-string"><span class="hljs-string">"forecasts"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"location"</span></span>: { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"London"</span></span> }, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: { <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: <span class="hljs-string"><span class="hljs-string">"Celsius"</span></span>, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span> } }, { <span class="hljs-string"><span class="hljs-string">"location"</span></span>: { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Istanbul"</span></span> }, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: { <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: <span class="hljs-string"><span class="hljs-string">"Celsius"</span></span>, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: <span class="hljs-number"><span class="hljs-number">32</span></span> } }, { <span class="hljs-string"><span class="hljs-string">"location"</span></span>: { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Prague"</span></span> }, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: { <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: <span class="hljs-string"><span class="hljs-string">"Celsius"</span></span>, <span class="hljs-string"><span class="hljs-string">"temperature"</span></span>: <span class="hljs-number"><span class="hljs-number">45</span></span> } } ], <span class="hljs-string"><span class="hljs-string">"processingTime"</span></span>: <span class="hljs-number"><span class="hljs-number">515</span></span> }</code> </pre> <br>  <b>ç»“è®º</b> <br><br> åœ¨æœ¬æ–‡çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘é¦–å…ˆå±•ç¤ºäº†ä¸€ç§ä½¿ç”¨ä½ç½®å’Œæ¸©åº¦æœåŠ¡è·å–é¢„æŠ¥çš„åŒæ­¥æ–¹æ³•ã€‚ ç„¶åï¼Œæˆ‘è½¬åˆ°äº†ååº”æ€§æ–¹æ³•ï¼Œä»¥ä¾¿åœ¨æœåŠ¡è°ƒç”¨ä¹‹é—´æ‰§è¡Œå¼‚æ­¥å¤„ç†ã€‚ å½“æ‚¨å°†Java EE 8ä¸­çš„JAX-RS Reactive Client APIä¸Javâ€‹â€‹a 8ä¸­å¯ç”¨çš„<code>CompletionStage</code>å’Œ<code>CompletableFuture</code>ç±»ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œç”±äºå“åº”å¼ç¼–ç¨‹ï¼Œå¼‚æ­¥å¤„ç†çš„åŠŸèƒ½ä¼šæ¾æ•£ã€‚ <br><br> å“åº”å¼ç¼–ç¨‹ä¸ä»…ä»…æ˜¯ä»åŒæ­¥æ¨¡å‹ä¸­å®ç°å¼‚æ­¥æ¨¡å‹ã€‚ å®ƒè¿˜ç®€åŒ–äº†åµŒå¥—é˜¶æ®µç­‰æ¦‚å¿µçš„ä½¿ç”¨ã€‚ ä½¿ç”¨çš„æ¬¡æ•°è¶Šå¤šï¼Œåœ¨å¹¶è¡Œç¼–ç¨‹ä¸­ç®¡ç†å¤æ‚çš„è„šæœ¬å°±è¶Šå®¹æ˜“ã€‚ <br><br> ç»“æŸ <br><br> è°¢è°¢æ‚¨çš„å…³æ³¨ã€‚ ä¸å¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬æ­£åœ¨ç­‰å¾…æ‚¨çš„è¯„è®ºå’Œé—®é¢˜ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN424031/">https://habr.com/ru/post/zh-CN424031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN424021/index.html">è‡ªå­¦ç¼–ç¨‹çš„æŒ‘æˆ˜ä»¥åŠå¦‚ä½•å…‹æœå®ƒä»¬</a></li>
<li><a href="../zh-CN424023/index.html">æˆ‘ä»¬ä½¿ç”¨Fastlaneè‡ªåŠ¨ç»„è£…iOSåº”ç”¨ç¨‹åº</a></li>
<li><a href="../zh-CN424025/index.html">åœ¨å¤§å‹Reactåº”ç”¨ç¨‹åºä¸­è¿›è¡Œè·¯ç”±</a></li>
<li><a href="../zh-CN424027/index.html">å­¦ä¹ å¯¹æŠ—ç­–ç•¥ï¼ŒæŠ€å·§å’Œå¸¸è¯†ï¼ˆATT @ CKï¼‰ã€‚ ä¼ä¸šç­–ç•¥ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN424029/index.html">å…³äºæ‡’æƒ°</a></li>
<li><a href="../zh-CN424033/index.html">Kotlinåœ¨åšä»€ä¹ˆï¼šé‡‡è®¿Andrei Breslav</a></li>
<li><a href="../zh-CN424035/index.html">2019å¹´æ˜¯è‹±ç‰¹å°”åœæ­¢çš„ä¸€å¹´</a></li>
<li><a href="../zh-CN424037/index.html">GraphQLç®€ä»‹</a></li>
<li><a href="../zh-CN424039/index.html">ç™»é™†å¤–æ˜Ÿäººåçš„å¯†ç å­¦</a></li>
<li><a href="../zh-CN424041/index.html">ç»†èƒç”Ÿç‰©å­¦ç®€ä»‹</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>