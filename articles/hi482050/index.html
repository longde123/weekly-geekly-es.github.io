<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЩМЁЯП╜ ЁЯЫгя╕П ЁЯНд рдЬреЗрдбреА рдХрдиреНрд╡реЗрдВрд╢рди рдиреЗрдЯрд╡рд░реНрдХ рдХрдореА рддрдХрдиреАрдХ - рдЫрдВрдЯрд╛рдИ ЁЯЫГ ЁЯШп ЁЯМК</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЖрдкрдХреЗ рд╕рд╛рдордиреЗ рдлрд┐рд░ рд╕реЗ, рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХрд╛ рдХрд╛рд░реНрдпред рдкреНрд░рд╛рдердорд┐рдХрддрд╛ - рд╕реНрд╡реАрдХрд╛рд░реНрдп рд╕рдЯреАрдХрддрд╛ рдХреЗ рд╕рд╛рде рдЧрддрд┐ред рдЖрдк YOLOv3 рдХреЗ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЛ рд▓реЗрдВ рдФрд░ рдЗрд╕реЗ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░реЗрдВред рд╕рдЯ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЬреЗрдбреА рдХрдиреНрд╡реЗрдВрд╢рди рдиреЗрдЯрд╡рд░реНрдХ рдХрдореА рддрдХрдиреАрдХ - рдЫрдВрдЯрд╛рдИ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482050/"><p><img src="https://habrastorage.org/webt/tf/oa/br/tfoabr16w_dawnzb9hnjndyv_bg.png" alt="рдЫрд╡рд┐"></p><br><p>  рдЖрдкрдХреЗ рд╕рд╛рдордиреЗ рдлрд┐рд░ рд╕реЗ, рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХрд╛ рдХрд╛рд░реНрдпред  рдкреНрд░рд╛рдердорд┐рдХрддрд╛ - рд╕реНрд╡реАрдХрд╛рд░реНрдп рд╕рдЯреАрдХрддрд╛ рдХреЗ рд╕рд╛рде рдЧрддрд┐ред  рдЖрдк YOLOv3 рдХреЗ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЛ рд▓реЗрдВ рдФрд░ рдЗрд╕реЗ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░реЗрдВред  рд╕рдЯреАрдХрддрд╛ (mAp75) 0.95 рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред  рд▓реЗрдХрд┐рди рд░рди рдЧрддрд┐ рдЕрднреА рднреА рдХрдо рд╣реИред  рдЕрд░реЗред </p><br><p>  рдЖрдЬ рд╣рдо рдкрд░рд┐рдорд╛рдгреАрдХрд░рдг рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░реЗрдВрдЧреЗред  рдФрд░ рдХрдЯреМрддреА рдХреЗ рддрд╣рдд, <strong>рдореЙрдбрд▓ рдкреНрд░реВрдирд┐рдВрдЧ</strong> рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ - рд╕рдЯреАрдХрддрд╛ рдХреЛ рдЦреЛрдП рдмрд┐рдирд╛ рдЗрдиреНрд╡реЗрдВрд╢рди рдХреЛ рддреЗрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдирд╛рд╡рд╢реНрдпрдХ рдиреЗрдЯрд╡рд░реНрдХ рднрд╛рдЧреЛрдВ рдХреЛ рдЯреНрд░рд┐рдо рдХрд░рдирд╛ред  рджреГрд╖реНрдЯрд┐рдЧрдд - рдХрд╣рд╛рдБ, рдХрд┐рддрдирд╛ рдФрд░ рдХреИрд╕реЗ рдХрдЯрдирд╛ рд╣реИред  рдЖрдЗрдП рдЬрд╛рдиреЗрдВ рдХрд┐ рдЗрд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЖрдк рдЗрд╕реЗ рдХрд╣рд╛рдВ рд╕реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ  рдЕрдВрдд рдореЗрдВ рдХреЗрд░ рдкрд░ рдПрдХ рднрдВрдбрд╛рд░ рд╣реИред </p><a name="habracut"></a><br><h3 id="vvedenie">  рдкрд░рд┐рдЪрдп </h3><br><p>  рдХрд╛рдо рдХреЗ рдЕрдВрддрд┐рдо рд╕реНрдерд╛рди рдкрд░, рдкрд░рдо рдореИрдХреНрд░реЛрд╕реНрдХреЛрдк, рдореБрдЭреЗ рдПрдХ рдЖрджрдд рдорд┐рд▓реА - рд╣рдореЗрд╢рд╛ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рд░рди рдЯрд╛рдЗрдо рдХреЛ рд╣рдореЗрд╢рд╛ рдкрд░реНрдпрд╛рдкреНрддрддрд╛ рдлрд┐рд▓реНрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛рдВрдЪрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЖрдорддреМрд░ рдкрд░ рдЙрддреНрдкрд╛рджреЛрдВ рдореЗрдВ рдЕрддреНрдпрд╛рдзреБрдирд┐рдХ рдЗрд╕ рдлрд┐рд▓реНрдЯрд░ рдХреЛ рдкрд╛рд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдиреЗ рдореБрдЭреЗ рдкреНрд░реВрдирд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рд┐рдд рдХрд┐рдпрд╛ред </p><br><p>  рдкреНрд░реВрдирд┐рдВрдЧ рдПрдХ рдкреБрд░рд╛рдирд╛ рд╡рд┐рд╖рдп рд╣реИ рдЬрд┐рд╕рдХреЗ <a href="https://www.youtube.com/watch%3Fv%3DeZdOkDtYMoo" rel="nofollow">рдмрд╛рд░реЗ</a> рдореЗрдВ 2017 рдХреЗ <a href="https://www.youtube.com/watch%3Fv%3DeZdOkDtYMoo" rel="nofollow">рд╕реНрдЯреИрдирдлреЛрд░реНрдб рд╡реНрдпрд╛рдЦреНрдпрд╛рди</a> рдореЗрдВ рдмрд╛рдд рдХреА рдЧрдИ рдереАред  рдореБрдЦреНрдп рд╡рд┐рдЪрд╛рд░ рд╡рд┐рднрд┐рдиреНрди рдиреЛрдбреНрд╕ рдХреЛ рд╣рдЯрд╛рдХрд░ рд╕рдЯреАрдХрддрд╛ рдХреЛ рдЦреЛрдП рдмрд┐рдирд╛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рдХрдо рдХрд░рдирд╛ рд╣реИред  рд╢рд╛рдВрдд рд▓рдЧрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореИрдВ рд╢рд╛рдпрдж рд╣реА рдХрднреА рдЗрд╕рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реБрдирддрд╛ рд╣реВрдВред  рд╕рдВрднрд╡рддрдГ, рдкрд░реНрдпрд╛рдкреНрдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдирд╣реАрдВ рд╣реИрдВ, рдХреЛрдИ рд░реВрд╕реА-рднрд╛рд╖рд╛ рдХреЗ рд▓реЗрдЦ рдирд╣реАрдВ рд╣реИрдВ, рдпрд╛ рдмрд╕ рд╣рд░ рдХреЛрдИ рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рдХреИрд╕реЗ-рдХреИрд╕реЗ рдФрд░ рдореМрди рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИред <br>  рд▓реЗрдХрд┐рди рдЕрд▓рдЧ рд▓реЗ рдЬрд╛рдУ </p><br><h3 id="vzglyad-v-biologiyu">  рдЬреАрд╡ рд╡рд┐рдЬреНрдЮрд╛рди рдореЗрдВ рдПрдХ рдирдЬрд╝рд░ </h3><br><p>  рдореБрдЭреЗ рдЕрдЪреНрдЫрд╛ рд▓рдЧрддрд╛ рд╣реИ рдЬрдм рдмрд╛рдпреЛрд▓реЙрдЬреА рд╕реЗ рдбреАрдк рд▓рд░реНрдирд┐рдВрдЧ рдХреЗ рдЖрдЗрдбрд┐рдпрд╛ рдЖрддреЗ рд╣реИрдВред  рд╡реЗ, рдЬреИрд╕реЗ рд╡рд┐рдХрд╛рд╕, рдкрд░ рднрд░реЛрд╕рд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдХреНрдпрд╛ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ ReLU <a href="http://www.gatsby.ucl.ac.uk/~lmate/biblio/dayanabbott.pdf" rel="nofollow">рдорд╕реНрддрд┐рд╖реНрдХ рдореЗрдВ рдиреНрдпреВрд░реЙрдиреНрд╕ рдХреЛ рд╕рдХреНрд░рд┐рдп</a> рдХрд░рдиреЗ рдХреЗ <a href="http://www.gatsby.ucl.ac.uk/~lmate/biblio/dayanabbott.pdf" rel="nofollow">рдХрд╛рд░реНрдп рдХреЗ</a> рд╕рдорд╛рди <a href="http://www.gatsby.ucl.ac.uk/~lmate/biblio/dayanabbott.pdf" rel="nofollow">рд╣реИ</a> ?) </p><br><p>  рдореЙрдбрд▓ рдкреНрд░реВрдирд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рднреА рдЬреАрд╡ рд╡рд┐рдЬреНрдЮрд╛рди рдХреЗ рдХрд░реАрдм рд╣реИред  рдпрд╣рд╛рдВ рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА рддреБрд▓рдирд╛ рдорд╕реНрддрд┐рд╖реНрдХ рдХреА рдкреНрд▓рд╛рд╕реНрдЯрд┐рд╕рд┐рдЯреА рд╕реЗ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред  <a href="https://www.litres.ru/norman-doydzh/plastichnost-mozga/%3Futm_medium%3Dcpc%26utm_source%3Dgoogle%26utm_campaign%3DDSA%257C149839530%26utm_term%3D%26utm_content%3Dk50id%257Caud-499675211712%253Adsa-179513627318%257Ccid%257C149839530%257Caid%257C248455294996%257Cgid%257C6837176850%257Cpos%257C1t1%257Csrc%257Cg_%257Cdvc%257Cc%257Creg%257C1011993%257Crin%257C%257C%26k50id%3D6837176850%257Caud-499675211712%253Adsa-179513627318%26gclid%3DCj0KCQiA0ZHwBRCRARIsAK0Tr-oKPqkmL7_Oxg62JZO8Jlk9zO-9nYKIRFxHi_lgoCvsQQadvUGxUzkaApgpEALw_wcB" rel="nofollow">рдиреЙрд░реНрдорди рдбреЙрдЬ рдХреА</a> рдкреБрд╕реНрддрдХ рдореЗрдВ рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ: </p><br><ol><li>  рдПрдХ рдорд╣рд┐рд▓рд╛ рдХрд╛ рдорд╕реНрддрд┐рд╖реНрдХ рдЬреЛ рдЬрдиреНрдо рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рдЖрдзрд╛ рдерд╛, рдиреЗ рд▓рд╛рдкрддрд╛ рдЖрдзреЗ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЦреБрдж рдХреЛ рдлрд┐рд░ рд╕реЗ рд╕рдВрдЧрдард┐рдд рдХрд┐рдпрд╛ </li><li>  рдЖрджрдореА рдиреЗ рдЦреБрдж рдХреЛ рдорд╕реНрддрд┐рд╖реНрдХ рдХреЗ рдЙрд╕ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдЧреЛрд▓реА рдорд╛рд░ рджреА рдЬреЛ рджреГрд╖реНрдЯрд┐ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рд╕рдордп рдХреЗ рд╕рд╛рде, рдорд╕реНрддрд┐рд╖реНрдХ рдХреЗ рдЕрдиреНрдп рд╣рд┐рд╕реНрд╕реЛрдВ рдиреЗ рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рд╛ред  (рдлрд┐рд░ рд╕реЗ рдХреЛрд╢рд┐рд╢ рдордд рдХрд░реЛ) </li></ol><br><p>  рддреЛ рдЕрдкрдиреЗ рдореЙрдбрд▓ рд╕реЗ рдЖрдк рдХреБрдЫ рдХрдордЬреЛрд░ рдмрдВрдбрд▓реЛрдВ рдХреЛ рдХрд╛рдЯ рд╕рдХрддреЗ рд╣реИрдВред  рдЪрд░рдо рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рд╢реЗрд╖ рдмрдВрдбрд▓реЛрдВ рдореЗрдВ рдХрдЯреМрддреА рд╡рд╛рд▓реЛрдВ рдХреЛ рдмрджрд▓рдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓реЗрдЧреАред </p><br><h3 id="lyubish-transfer-learning-ili-uchish-s-nulya">  рдХреНрдпрд╛ рдЖрдк рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рд╕реАрдЦрдирд╛ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рдЦрд░реЛрдВрдЪ рд╕реЗ рд╕реАрдЦрддреЗ рд╣реИрдВ? </h3><br><p>  <strong>рд╡рд┐рдХрд▓реНрдк рдирдВрдмрд░ рдПрдХред</strong>  рдЖрдк Yolov3 рдкрд░ Transfer Learning рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рд░реЗрдЯрд┐рдирд╛, рдорд╛рд╕реНрдХ-рдЖрд░рд╕реАрдПрдирдПрди рдпрд╛ рдпреВ-рдиреЗрдЯред  рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХ рдмрд╛рд░ рдирд╣реАрдВ, рд╣рдореЗрдВ 80 рд╡рд░реНрдЧреЛрдВ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ COCO рдореЗрдВ рд╣реИред  рдореЗрд░реЗ рдЕрднреНрдпрд╛рд╕ рдореЗрдВ, рд╕рдм рдХреБрдЫ 1-2 рд╡рд░реНрдЧреЛрдВ рддрдХ рд╕реАрдорд┐рдд рд╣реИред  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ 80 рд╡рд░реНрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдпрд╣рд╛рдВ рдмреЗрдорд╛рдиреА рд╣реИред  рдпрд╣ рд╕реЛрдЪрддрд╛ рд╣реИ рдХрд┐ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореИрдВ рдореМрдЬреВрджрд╛ рдкреВрд░реНрд╡ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рднрд╛рд░ рдХреЛ рдЦреЛрдП рдмрд┐рдирд╛ рдРрд╕рд╛ рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред </p><br><p>  <strong>рд╡рд┐рдХрд▓реНрдк рд╕рдВрдЦреНрдпрд╛ рджреЛред</strong>  рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдбреЗрдЯрд╛ рдФрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рд╕рдВрд╕рд╛рдзрди рд╣реЛрдВ, рдпрд╛ рдЖрдкрдХреЛ рдмрд╕ рдПрдХ рд╕реБрдкрд░-рдХрд╕реНрдЯрдо рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛред  рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛  рд▓реЗрдХрд┐рди рдЖрдк рд╕реНрдХреНрд░реИрдЪ рд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╕реАрдЦрддреЗ рд╣реИрдВред  рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рдЖрджреЗрд╢ рд╣реИ, рдПрдХ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдЬреЛ рд╢рдХреНрддрд┐ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ REDUCED рд╣реИ рдФрд░ рдбреНрд░реЙрдкрдЖрдЙрдЯ рдХреЛ рдкреАрдЫреЗ рд╣рдЯрдиреЗ рд╕реЗ рдзрдХреНрдХрд╛ рджреЗрддрд╛ рд╣реИред  рдореИрдВрдиреЗ рдбреНрд░реЙрдкрдЖрдЙрдЯреНрд╕ 0.6, рдХрд╛рд░реНрд▓ рдХреЛ рджреЗрдЦрд╛ред </p><br><p>  рджреЛрдиреЛрдВ рд╣реА рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  Promotivirovaliред  рдЕрдм рдЖрдЗрдП рдЬрд╛рдиреЗрдВ рдХрд┐ рдХрд┐рд╕ рддрд░рд╣ рдХрд╛ рд╣реИ <del>  рдЦрддрдирд╛ </del>  рдЫрдВрдЯрд╛рдИ </p><br><h3 id="obschiy-algoritm">  рд╕рд╛рдорд╛рдиреНрдп рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо </h3><br><p>  рд╣рдордиреЗ рддрдп рдХрд┐рдпрд╛ рдХрд┐ рд╣рдо рд╕рдЬрд╛ рдХреЛ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рдмрд╣реБрдд рд╕рд░рд▓ рд▓рдЧрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/ey/yt/-g/eyyt-g-b6pfzjrbnim_ssosyqqk.png"></p><br><p>  рдХрд┐рд╕реА рднреА рджреГрдврд╝ рд╕рдВрдХрд▓реНрдк рдХреЛ рд╣рдЯрд╛рдирд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рддрдирд╛рд╡ рд╣реИ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ рддреНрд░реБрдЯрд┐ рдореЗрдВ рдХреБрдЫ рд╡реГрджреНрдзрд┐ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИред  рдПрдХ рдУрд░, рдпрд╣ рддреНрд░реБрдЯрд┐ рд╡реГрджреНрдзрд┐ рдЗрд╕ рдмрд╛рдд рдХрд╛ рд╕реВрдЪрдХ рд╣реИ рдХрд┐ рд╣рдо рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХрдирд╡рд┐рдХреНрд╢рди рдХреЛ рдХреИрд╕реЗ рд╣рдЯрд╛рддреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдмрдбрд╝реА рд╡реГрджреНрдзрд┐ рджрд░реНрд╢рд╛рддреА рд╣реИ рдХрд┐ рд╣рдо рдХреБрдЫ рдЧрд▓рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ)ред  рд▓реЗрдХрд┐рди рдЫреЛрдЯреА рд╡реГрджреНрдзрд┐ рдХрд╛рдлреА рд╕реНрд╡реАрдХрд╛рд░реНрдп рд╣реИ рдФрд░ рдЕрдХреНрд╕рд░ рдПрдХ рдЫреЛрдЯреЗ рдПрд▓рдЖрд░ рдХреЗ рд╕рд╛рде рдмрд╛рдж рдХреЗ рдЖрд╕рд╛рди рдЖрдЧреЗ рдХреЗ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рджреНрд╡рд╛рд░рд╛ рдЗрд╕реЗ рд╕рдорд╛рдкреНрдд рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдкреБрди: рдкреНрд░рдпрд╛рд╕ рдХрд╛ рдПрдХ рдЪрд░рдг рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/kb/ui/5d/kbui5dm1k8sgflm5xzu0wggbbhs.png"></p><br><p>  рдЕрдм рд╣рдореЗрдВ рдпрд╣ рд╕рдордЭрдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ рдХрд┐ рдХрдм рд╣рдо рдЕрдкрдиреА рд▓рд░реНрдирд┐рдВрдЧ рдХреЛ рд░реЛрдХрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ &lt;-&gt; рдкреНрд░реВрдирд┐рдВрдЧ рд╕рд╛рдЗрдХрд┐рд▓ред  рд╡рд┐рджреЗрд╢реА рд╡рд┐рдХрд▓реНрдк рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдм рд╣рдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдЖрдХрд╛рд░ рдФрд░ рдЪрд▓рд╛рдиреЗ рдХреА рдЧрддрд┐ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореЛрдмрд╛рдЗрд▓ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП)ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╕рдмрд╕реЗ рдЖрдо рд╡рд┐рдХрд▓реНрдк рдЪрдХреНрд░ рдЬрд╛рд░реА рд░рдЦрдирд╛ рд╣реИ рдЬрдм рддрдХ рдХрд┐ рддреНрд░реБрдЯрд┐ рд╕реНрд╡реАрдХрд╛рд░реНрдп рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рди рд╣реЛ рдЬрд╛рдПред  рд╢рд░реНрдд рдЬреЛрдбрд╝реЗрдВ: </p><br><p><img src="https://habrastorage.org/webt/1i/pi/52/1ipi52uqhkciw2ne-1zt2rbdmje.png"></p><br><p>  рддреЛ, рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рд╣рдЯрд╛рдпрд╛ рдЬрд╛рдирд╛ рдмрд╛рдХреА рд╣реИ рдХрд┐ рд╣рдЯрд╛рдП рдЧрдП рд╕рдВрдХрд▓реНрдкреЛрдВ рдХреЛ рдХреИрд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред </p><br><h3 id="poisk-udalyaemyh-svertok">  рд╡рд┐рд▓реЛрдкрди рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ </h3><br><p>  рд╣рдореЗрдВ рдХреБрдЫ рджреГрдврд╝ рд╕рдВрдХрд▓реНрдкреЛрдВ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред  рдЖрдЧреЗ рдлрд╛рдбрд╝ рдФрд░ "рд╢реВрдЯрд┐рдВрдЧ" рдХрд┐рд╕реА рднреА рдПрдХ рдмреБрд░рд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рд╕рд┐рд░ рд╣реИ, рддреЛ рдЖрдк рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП "рдХрдордЬреЛрд░" рдирд┐рд╖реНрдХрд░реНрд╖реЛрдВ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдХрдИ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ: </p><br><ol><li>  <a href="https://openreview.net/pdf%3Fid%3DrJqFGTslg" rel="nofollow">рд╕рдмрд╕реЗ рдЫреЛрдЯрд╛ L1 рдЙрдкрд╛рдп рдпрд╛ low_magnitude_pruning</a> ред  рдпрд╣ рд╡рд┐рдЪрд╛рд░ рдХрд┐ рдЫреЛрдЯреЗ рд╡рдЬрди рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓реНрдк рдЕрдВрддрд┐рдо рдирд┐рд░реНрдгрдп рдореЗрдВ рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рдпреЛрдЧрджрд╛рди рдХрд░рддреЗ рд╣реИрдВ </li><li>  рдФрд╕рдд рдФрд░ рдорд╛рдирдХ рд╡рд┐рдЪрд▓рди рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рд╕рдмрд╕реЗ рдЫреЛрдЯрд╛ рдПрд▓ 1-рдорд╛рдкред  рд╣рдо рд╡рд┐рддрд░рдг рдХреА рдкреНрд░рдХреГрддрд┐ рдХреЗ рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЗ рдкреВрд░рдХ рд╣реИрдВред </li><li>  <a href="https://arxiv.org/abs/1512.08571" rel="nofollow">рджреЛрд╖реЛрдВ рдХреЛ рдорд╛рд╕реНрдХ рдХрд░рдирд╛ рдФрд░ рдкрд░рд┐рдгрд╛рдореА рд╕рдЯреАрдХрддрд╛ рдХреЛ рдХрдо рд╕реЗ рдХрдо рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдирд╛</a> ред  рддреБрдЪреНрдЫ рд╕рдВрдХрд▓реНрдкреЛрдВ рдХреА рдПрдХ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рдкрд░рд┐рднрд╛рд╖рд╛, рд▓реЗрдХрд┐рди рдмрд╣реБрдд рд╕рдордп рд▓реЗрдиреЗ рд╡рд╛рд▓реА рдФрд░ рд╕рдВрд╕рд╛рдзрди-рдЧрд╣рдиред </li><li>  рдЕрдиреНрдп </li></ol><br><p>  рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рдХрд▓реНрдк рдореЗрдВ рдЬреАрд╡рди рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рдФрд░ рдЗрд╕рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рд╣реИрдВред  рдпрд╣рд╛рдВ рд╣рдо рд╕рдмрд╕реЗ рдЫреЛрдЯреЗ рдПрд▓ 1-рдорд╛рдк рдХреЗ рд╕рд╛рде рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ </p><br><h3 id="ruchnoy-process-dlya-yolov3">  YOLOv3 рдХреЗ рд▓рд┐рдП рдореИрдиреБрдЕрд▓ рдкреНрд░рдХреНрд░рд┐рдпрд╛ </h3><br><p>  рдореВрд▓ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдореЗрдВ рдЕрд╡рд╢рд┐рд╖реНрдЯ рдмреНрд▓реЙрдХ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рд╡реЗ рдЧрд╣рд░реЗ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдХрд┐рддрдиреЗ рд╢рд╛рдВрдд рд╣реИрдВ, рд╡реЗ рдХреБрдЫ рд╣рдж рддрдХ рд╣рдореЗрдВ рдмрд╛рдзрд╛ рджреЗрдВрдЧреЗред  рдХрдард┐рдирд╛рдИ рдпрд╣ рд╣реИ рдХрд┐ рдЖрдк рдЗрди рдкрд░рддреЛрдВ рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рд╕реВрдЪрдХрд╛рдВрдХреЛрдВ рдХреЗ рд╕рд╛рде рд╕рд╛рдордВрдЬрд╕реНрдп рдирд╣реАрдВ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/mh/p-/-k/mhp--ksk3ifgurz5jx6exgcrm5c.png"></p><br><p>  рдЗрд╕рд▓рд┐рдП, рд╣рдо рдЙрди рдкрд░рддреЛрдВ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рдирд╕реЗ рд╣рдо рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рд╕рд╛рдордВрдЬрд╕реНрдп рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/qy/ek/zo/qyekzofcur-q0auqurg3egxnato.png"></p><br><p>  рдЕрдм рдПрдХ рдХрд╛рд░реНрдп рдЪрдХреНрд░ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╣реИрдВ: </p><br><ol><li>  рд╕рдХреНрд░рд┐рдпрдг рдЕрдирд▓реЛрдб рдХрд░реЗрдВ </li><li>  рд╣рдореЗрдВ рдЖрд╢реНрдЪрд░реНрдп рд╣реИ рдХрд┐ рдХрд┐рддрдирд╛ рдХрдЯреМрддреА рдХрд░рдирд╛ рд╣реИ </li><li>  рдХрд╛рдЯ рджреЛ </li><li>  LR = 1e-4 рдХреЗ рд╕рд╛рде 10 рдпреБрдЧ рдЬрд╛рдиреЗрдВ </li><li>  рдкрд░реАрдХреНрд╖рдг </li></ol><br><p>  рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдХрджрдо рдкрд░ рд╣рдо рдХрд┐рд╕ рднрд╛рдЧ рдХреЛ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдирд▓реЛрдбрд┐рдВрдЧ рдХрдиреНрд╡реЗрдВрд╢рди рдЙрдкрдпреЛрдЧреА рд╣реИред  рдЙрддрд░рд╛рдИ рдХреЗ рдЙрджрд╛рд╣рд░рдг: </p><br><p><img src="https://habrastorage.org/webt/rp/jo/pk/rpjopk6dzfrl6psoucr8tgj0log.png"></p><br><p>  рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд▓рдЧрднрдЧ рд╣рд░ рдЬрдЧрд╣ 5% рджреГрдврд╝ рд╕рдВрдХрд▓реНрдкреЛрдВ рдореЗрдВ рдПрд▓ 1-рдорд╛рдирджрдВрдб рдмрд╣реБрдд рдХрдо рд╣реИ рдФрд░ рд╣рдо рдЙрдиреНрд╣реЗрдВ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдореЗрдВ, рдЗрд╕ рддрд░рд╣ рдХреЗ рдЙрддрд░рд╛рдИ рдХреЛ рджреЛрд╣рд░рд╛рдпрд╛ рдЧрдпрд╛ рдФрд░ рдПрдХ рдЖрдХрд▓рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдХрд┐ рдХреМрди рд╕реА рдкрд░рддреЗрдВ рдФрд░ рдХрд┐рддрдиреА рдХрдЯреМрддреА рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВред </p><br><p>  рдкреВрд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ 4 рдЪрд░рдгреЛрдВ рдореЗрдВ рдкреВрд░реА рд╣реБрдИ (рдпрд╣рд╛рдВ рдФрд░ рд╣рд░ рдЬрдЧрд╣ рдЖрд░рдЯреАрдПрдХреНрд╕ 2060 рд╕реБрдкрд░ рдХреЗ рд▓рд┐рдП рдирдВрдмрд░): </p><br><div class="scrollable-table"><table><thead><tr><th>  рдХрджрдо </th><th>  mAp75 </th><th>  рдорд╛рдкрджрдВрдбреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛, рдорд┐рд▓рд┐рдпрди </th><th>  рдиреЗрдЯрд╡рд░реНрдХ рдЖрдХрд╛рд░, рдПрдордмреА </th><th>  рдореВрд▓ рд╕реЗ,% </th><th>  рднрд╛рдЧреЛ рд╕рдордп, рдПрдордПрд╕ </th><th>  рдЦрддрдирд╛ рдХреА рд╕реНрдерд┐рддрд┐ </th></tr></thead><tbody><tr><td>  0 </td><td>  0.9656 </td><td>  60 </td><td>  241 </td><td>  100 </td><td>  180 </td><td>  - </td></tr><tr><td>  1 </td><td>  0.9622 </td><td>  55 </td><td>  218 </td><td>  91 </td><td>  175 </td><td>  рд╕рднреА рдХрд╛ 5% </td></tr><tr><td>  2 </td><td>  0.9625 </td><td>  50 </td><td>  197 </td><td>  83 </td><td>  168 </td><td>  рд╕рднреА рдХрд╛ 5% </td></tr><tr><td>  3 </td><td>  0.9633 </td><td>  39 </td><td>  155 </td><td>  64 </td><td>  155 </td><td>  400+ рдХрдирд╡рд▓реНрд╢рди рдХреЗ рд╕рд╛рде рдкрд░рддреЛрдВ рдХреЗ рд▓рд┐рдП 15% </td></tr><tr><td><del>  4 </del></td><td><del>  0.9555 </del></td><td><del>  31 </del></td><td><del>  124 </del></td><td><del>  51 </del></td><td><del>  146 </del></td><td><del>  100+ рдХрдирд╡рд▓реНрд╢рди рдХреЗ рд╕рд╛рде рдкрд░рддреЛрдВ рдХреЗ рд▓рд┐рдП 10% </del></td></tr></tbody></table></div><br><p>  рдЪрд░рдг 2 рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕рдХрд╛рд░рд╛рддреНрдордХ рдкреНрд░рднрд╛рд╡ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛ - рдкреИрдЪ-рдЖрдХрд╛рд░ 4 рдореЗрдореЛрд░реА рдореЗрдВ рдорд┐рд▓рд╛, рдЬрд┐рд╕рдиреЗ рд░рд┐рдЯреНрд░реЗрдирд┐рдВрдЧ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдмрд╣реБрдд рддреЗрдЬ рдХрд░ рджрд┐рдпрд╛ред <br>  рдЪрд░рдг 4 рдкрд░, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд░реЛрдХ рджреА рдЧрдИ рдереА, рдХреНрдпреЛрдВрдХрд┐  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЖрдЧреЗ рдХреА рд╢рд┐рдХреНрд╖рд╛ рдиреЗ рдкреБрд░рд╛рдиреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ mAp75 рдирд╣реАрдВ рдмрдврд╝рд╛рдпрд╛ред <br>  рдирддреАрдЬрддрди, рд╣рдо <strong>15% рдХреА</strong> рдХрдореА рд╕реЗ рдЕрдиреБрдорд╛рди рдореЗрдВ рддреЗрдЬреА рд▓рд╛рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣реЗ, рдЖрдХрд╛рд░ рдХреЛ <strong>35% рддрдХ</strong> рдХрдо рдХрд┐рдпрд╛ рдФрд░ рд╕рдЯреАрдХрддрд╛ рдореЗрдВ рдирд╣реАрдВ рдЦреЛ рджрд┐рдпрд╛ред </p><br><h3 id="avtomatizaciya-dlya-bolee-prostyh-arhitektur">  рд╕рд░рд▓ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рдЪрд╛рд▓рди </h3><br><p>  рд╕рд░рд▓ рдиреЗрдЯрд╡рд░реНрдХ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП (рд╕рд╢рд░реНрдд рдЬреЛрдбрд╝ рдХреЗ рдмрд┐рдирд╛, рдХрдВрдХрд░реАрдЯ рдФрд░ рдЕрд╡рд╢рд┐рд╖реНрдЯ рдмреНрд▓реЙрдХ), рдпрд╣ рд╕рднреА рдХрдВрдлрд░реНрдЯреЗрдмрд▓ рд▓реЗрдпрд░реНрд╕ рдХреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рдиреЗ рдФрд░ рдХрдЯрд╛рд╡ рдХреЗ рд╕рдорд╛рдзрд╛рди рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА рд╕рдВрднрд╡ рд╣реИред </p><br><p>  рдореИрдВрдиреЗ <a href="https://github.com/PaginDm/keras-L1-pruning" rel="nofollow">рдЗрд╕</a> рд╡рд┐рдХрд▓реНрдк рдХреЛ <a href="https://github.com/PaginDm/keras-L1-pruning" rel="nofollow">рдпрд╣рд╛рдВ</a> рд▓рд╛рдЧреВ <a href="https://github.com/PaginDm/keras-L1-pruning" rel="nofollow">рдХрд┐рдпрд╛ рд╣реИ</a> ред <br>  рдпрд╣ рд╕рд░рд▓ рд╣реИ: рдЖрдкрдХреЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ рдПрдХ рд╣рд╛рдирд┐ рдлрд╝рдВрдХреНрд╢рди, рдПрдХ рдЕрдиреБрдХреВрд▓рдХ рдФрд░ рдмреИрдЪ рдЬрдирд░реЗрдЯрд░ рд╣реИрдВ: </p><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pruning <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.optimizers <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Adam <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.utils <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Sequence train_batch_generator = BatchGenerator... score_batch_generator = BatchGenerator... opt = Adam(lr=<span class="hljs-number"><span class="hljs-number">1e-4</span></span>) pruner = pruning.Pruner(<span class="hljs-string"><span class="hljs-string">"config.json"</span></span>, <span class="hljs-string"><span class="hljs-string">"categorical_crossentropy"</span></span>, opt) pruner.prune(train_batch, valid_batch)</code> </pre> <br><p>  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдЖрдк рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреИрд░рд╛рдореАрдЯрд░ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"input_model_path"</span></span>: <span class="hljs-string"><span class="hljs-string">"model.h5"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"output_model_path"</span></span>: <span class="hljs-string"><span class="hljs-string">"model_pruned.h5"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"finetuning_epochs"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, # the number of epochs for train between pruning steps <span class="hljs-attr"><span class="hljs-attr">"stop_loss"</span></span>: <span class="hljs-number"><span class="hljs-number">0.1</span></span>, # loss for stopping process <span class="hljs-attr"><span class="hljs-attr">"pruning_percent_step"</span></span>: <span class="hljs-number"><span class="hljs-number">0.05</span></span>, # part of convs for delete on every pruning step <span class="hljs-attr"><span class="hljs-attr">"pruning_standart_deviation_part"</span></span>: <span class="hljs-number"><span class="hljs-number">0.2</span></span> # shift for limit pruning part }</code> </pre> <br><p>  рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдорд╛рдирдХ рд╡рд┐рдЪрд▓рди рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рддрд┐рдмрдВрдз рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓рдХреНрд╖реНрдп рдкрд╣рд▓реЗ рд╕реЗ рд╣реА "рдкрд░реНрдпрд╛рдкреНрдд" L1- рдЙрдкрд╛рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓реНрдкреЛрдВ рдХреЛ рдЫреЛрдбрд╝рдХрд░, рд╣рдЯрд╛рдП рдЧрдП рд▓реЛрдЧреЛрдВ рдХреЗ рдПрдХ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдирд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/bh/_9/nq/bh_9nqasnp91xifixn7ilhco0mw.png"></p><br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдо рд╡рд┐рддрд░рдг рдХреЗ рд╕рдорд╛рди рдХрдордЬреЛрд░реЛрдВ рдХреЛ рдХреЗрд╡рд▓ рджрд╛рдИрдВ рдУрд░ рд╕реЗ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдмрд╛рдИрдВ рдУрд░ рдХреЗ рд╡рд┐рддрд░рдг рд╕реЗ рд╣рдЯрд╛рдиреЗ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/pr/r5/zp/prr5zpjrdvh1wow6slejnn6axya.png"></p><br><p>  рдЬрдм рд╡рд┐рддрд░рдг рд╕рд╛рдорд╛рдиреНрдп рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЧреБрдгрд╛рдВрдХ pruning_standart_deviation_part рд╕реЗ рдЪреБрдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/dl/yl/7d/dlyl7dub216jsr67dcbnhez5fl8.png"><br>  рдореИрдВ 2 рд╕рд┐рдЧреНрдорд╛ рдзрд╛рд░рдг рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред  рдпрд╛ рдЖрдк рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдореВрд▓реНрдп рдЫреЛрдбрд╝рдХрд░ &lt;1.0ред </p><br><p>  рдЖрдЙрдЯрдкреБрдЯ рдиреЗрдЯрд╡рд░реНрдХ рдЖрдХрд╛рд░, рд╣рд╛рдирд┐ рдФрд░ рдкреВрд░реЗ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рд░рди рд╕рдордп рдХрд╛ рдПрдХ рдЧреНрд░рд╛рдл рд╣реИ, рдЬрд┐рд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ 1.0 рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрд╣рд╛рдВ рдЧреБрдгрд╡рддреНрддрд╛ рдореЗрдВ рд╣рд╛рдирд┐ рдХреЗ рдмрд┐рдирд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдЖрдХрд╛рд░ рд▓рдЧрднрдЧ 2 рдЧреБрдирд╛ рдХрдо рд╣реЛ рдЧрдпрд╛ рдерд╛ (100k рд╡рдЬрди рдХреЗ рд▓рд┐рдП рдПрдХ рдЫреЛрдЯрд╛ рдХрдирд╡рд▓реНрд╢рди рдиреЗрдЯрд╡рд░реНрдХ): </p><br><p><img src="https://habrastorage.org/webt/ig/hu/x_/ighux_gyoaptm71iu2hk_txga_g.png"></p><br><p>  рд░рди рдЧрддрд┐ рд╕рд╛рдорд╛рдиреНрдп рдЙрддрд╛рд░-рдЪрдврд╝рд╛рд╡ рдХреЗ рдЕрдзреАрди рд╣реИ рдФрд░ рдмрд╣реБрдд рдХреБрдЫ рдирд╣реАрдВ рдмрджрд▓рд╛ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рд╣реИ: </p><br><ol><li>  рд╡реАрдбрд┐рдпреЛ рдХрд╛рд░реНрдбреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдирд╣реАрдВ (32, 64, 128) рд╕реЗ рдХрдиреНрд╡реЗрдВрд╢рдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрджрд▓ рдЬрд╛рддреА рд╣реИ - 27, 51, рдЖрджрд┐ред  рдпрд╣рд╛рдВ рдореБрдЭреЗ рдЧрд▓рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИред </li><li>  рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рд╡реНрдпрд╛рдкрдХ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╕реБрд╕рдВрдЧрдд рд╣реИред  рдЪреМрдбрд╝рд╛рдИ рдХрдо рдХрд░рддреЗ рд╣реБрдП, рд╣рдо рдЧрд╣рд░рд╛рдИ рдХреЛ рдирд╣реАрдВ рдЫреВрддреЗ рд╣реИрдВред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдо рд▓реЛрдб рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЧрддрд┐ рдХреЛ рдирд╣реАрдВ рдмрджрд▓рддреЗ рд╣реИрдВред </li></ol><br><p>  рдЗрд╕рд▓рд┐рдП, рд╕реБрдзрд╛рд░ рдХреЗ рджреМрд░рд╛рди CUDA рдХреЗ рднрд╛рд░ рдореЗрдВ 20-30% рдХреА рдХрдореА рдЖрдИ рд╣реИ, рд▓реЗрдХрд┐рди рд░рди рд╕рдордп рдореЗрдВ рдХрдореА рдирд╣реАрдВ рд╣реБрдИ рд╣реИ </p><br><h3 id="itogi">  рдкрд░рд┐рдгрд╛рдо </h3><br><p>  Porefleksiruemред  рд╣рдордиреЗ 2 pruning рд╡рд┐рдХрд▓реНрдкреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛ - YOLOv3 рдХреЗ рд▓рд┐рдП (рдЬрдм рдЖрдкрдХреЛ рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рд╕реЗ рдХрд╛рдо рдХрд░рдирд╛ рд╣реИ) рдФрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд╕рд╛рде рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рди рд╣реИред  рдпрд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рджреЛрдиреЛрдВ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд╕рдЯреАрдХрддрд╛ рдХреА рд╣рд╛рдирд┐ рдХреЗ рдмрд┐рдирд╛ рдиреЗрдЯрд╡рд░реНрдХ рдЖрдХрд╛рд░ рдФрд░ рддреНрд╡рд░рдг рдореЗрдВ рдХрдореА рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред  рдкрд░рд┐рдгрд╛рдо: </p><br><ul><li>  рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рдХрдо </li><li>  рддреНрд╡рд░рдг рдЪрд▓рд╛рдПрдВ </li><li>  CUDA рд▓реЛрдб рдореЗрдВ рдХрдореА </li><li>  рдирддреАрдЬрддрди, рдкрд░реНрдпрд╛рд╡рд░рдг рдорд┐рддреНрд░рддрд╛ (рд╣рдо рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рднрд╡рд┐рд╖реНрдп рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдХрд╣реАрдВ рдЕрдХреЗрд▓реЗ <a href="https://meduza.io/feature/2019/12/12/kto-takaya-greta-tunberg-i-pochemu-ona-stala-chelovekom-goda-zhurnal-time" rel="nofollow">рдЧреНрд░реЗрдЯрд╛ рдЯреНрдпреВрдирдмрд░реНрдЧ</a> рдЖрдирдиреНрджрд┐рдд рд╣реИрдВ) </li></ul><br><h3 id="appendix">  рдкрд░рд┐рд╢рд┐рд╖реНрдЯ </h3><br><ul><li>  рдкреНрд░реБрдирд┐рдВрдЧ рдЪрд░рдг рдХреЗ рдмрд╛рдж, рдЖрдк рдкрд░рд┐рдорд╛рдгреАрдХрд░рдг рдХреЛ рднреА рдореЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, TensorRT рдХреЗ рд╕рд╛рде) </li><li>  Tensorflow low_magnitude_pruning рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред </li><li>  рдореИрдВ <a href="https://github.com/PaginDm/keras-L1-pruning" rel="nofollow">рднрдВрдбрд╛рд░</a> рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдФрд░ рдореБрдЭреЗ рдорджрдж рдХрд░рдиреЗ рдореЗрдВ рдЦреБрд╢реА рд╣реЛрдЧреА </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi482050/">https://habr.com/ru/post/hi482050/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi482034/index.html">Yandex: рд╡рд╣рд╛рдБ рд╕рдм рдХреБрдЫ рд╣реИ ... рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi482038/index.html">рд╣рдо 2019 рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╣реИрдмрд░ рдХреИрд░рд┐рдпрд░ рдореЗрдВ рд╕рдореЗрдЯ рд░рд╣реЗ рд╣реИрдВ</a></li>
<li><a href="../hi482040/index.html">C ++ рдореЗрдВ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреА рд░реВрдкрд░реЗрдЦрд╛ рддреИрдпрд╛рд░ рдХрд░рдирд╛</a></li>
<li><a href="../hi482042/index.html">рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде Newtonsoft.Json рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ред рднрд╛рдЧ реи</a></li>
<li><a href="../hi482044/index.html">рдбреЙрдХрд░ рдЫрд╡рд┐рдпреЛрдВ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП 10 рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рдЕрднреНрдпрд╛рд╕ред рднрд╛рдЧ реи</a></li>
<li><a href="../hi482052/index.html">рдирдпрд╛ рд╕рд╛рд▓ рдбрд╛рдЯрд╛рд╕реЗрдЯ 2019: рд░реВрд╕реА рднрд╛рд╖рд╛ рдХрд╛ рдЦреБрд▓рд╛ рддрд╛рдирд╡рд╛рд▓рд╛ рд╢рдмреНрджрдХреЛрд╢</a></li>
<li><a href="../hi482054/index.html">3. рд▓реЛрдЪрджрд╛рд░ рд╕реНрдЯреИрдХ: рд╕реБрд░рдХреНрд╖рд╛ рд▓реЙрдЧ рд╡рд┐рд╢реНрд▓реЗрд╖рдгред рдбреИрд╢рдмреЛрд░реНрдб</a></li>
<li><a href="../hi482058/index.html">рд╢рд┐рдХрд╛рд░реА рдпрд╛ рд╢рд┐рдХрд╛рд░? рдЬреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЕрдзрд┐рдХрд╛рд░рд┐рдпреЛрдВ рдХреА рд░рдХреНрд╖рд╛ рдХрд░реЗрдЧрд╛</a></li>
<li><a href="../hi482060/index.html">рдЕрднрд┐рдЧрдо рдирд┐рдпрдВрддреНрд░рдг рдЕрдзрд┐рджреЗрд╢ рдореЙрдбрд▓ (рдореИрдХ): рдЕрд╡рд▓реЛрдХрди рдФрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдЕрдиреБрдкреНрд░рдпреЛрдЧ</a></li>
<li><a href="../hi482064/index.html">CMS Umbraco 8 рдкрд░ рдмрд╣реБрднрд╛рд╖реА рд╕рд╛рдЗрдЯреЛрдВ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдЖрд╕рд╛рдиреА</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>