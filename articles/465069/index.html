<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßúüèª üßìüèº üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë© Nuevo en Hadoop: Conozca los diversos formatos de archivo en Hadoop üë©üèª‚Äçüî¨ üë©üèø‚Äç‚öïÔ∏è üõéÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! Estamos publicando una traducci√≥n del art√≠culo preparado para los estudiantes del nuevo grupo del curso de Ingeniero de datos . Si est√° ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nuevo en Hadoop: Conozca los diversos formatos de archivo en Hadoop</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/465069/"><p>  <em>Hola a todos!</em>  <em>Estamos publicando una traducci√≥n del art√≠culo preparado para los estudiantes del nuevo grupo del curso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ingeniero de datos</a> .</em>  <em>Si est√° interesado en aprender c√≥mo construir un sistema de procesamiento de datos eficiente y escalable con costos m√≠nimos, ¬°vea la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">grabaci√≥n de la clase magistral por</a> Yegor Mateshuk!</em> </p><br><p><img src="https://habrastorage.org/webt/sn/-p/ol/sn-polirenlkh5aii4zxq6apbqu.png"></p><br><p>  Hace unas semanas escrib√≠ un art√≠culo sobre Hadoop, que cubr√≠a varios <br>  partes y descubri√≥ qu√© papel juega en el campo de la ingenier√≠a de datos.  En este art√≠culo, yo <br>  Dar√© una breve descripci√≥n de los diversos formatos de archivo en Hadoop.  Es rapido y facil <br>  tema  Si est√° tratando de entender c√≥mo funciona Hadoop y qu√© lugar ocupa en el trabajo <br>  Ingeniero de datos, mira mi art√≠culo sobre Hadoop <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <a name="habracut"></a></p><br><p>  Los formatos de archivo Hadoop se dividen en dos categor√≠as: orientados a filas y columnas. <br>  orientado </p><br><p>  <strong><em>Orientado a la fila:</em></strong> <br>  Las filas de datos de un tipo se almacenan juntas, formando un continuo <br>  almacenamiento: SequenceFile, MapFile, Avro Datafile.  Por lo tanto, si es necesario <br>  acceder solo a una peque√±a cantidad de datos de una fila, de todos modos la fila completa <br>  ser√° le√≠do en la memoria.  Los retrasos en la serializaci√≥n pueden, hasta cierto punto <br>  aliviar el problema, pero completamente desde la sobrecarga de leer toda la fila de datos con <br>  la unidad no podr√° deshacerse.  Almacenamiento orientado a filas <br>  adecuado en casos donde es necesario procesar toda la l√≠nea al mismo tiempo <br>  datos </p><br><p> <strong><em>Orientado a columnas:</em></strong> <br>  El archivo completo se divide en varias columnas de datos y todas las columnas de datos. <br>  almacenados juntos: Parquet, RCFile, ORCFile.  Formato orientado a columna (columna- <br>  orientado), le permite omitir columnas innecesarias al leer datos, lo cual es adecuado para <br>  situaciones en las que se necesita una peque√±a cantidad de l√≠neas.  Pero este formato de lectura y escritura <br>  requiere m√°s espacio de memoria ya que toda la l√≠nea de cach√© debe estar en la memoria <br>  (para obtener una columna de varias filas).  Al mismo tiempo, no es adecuado para <br>  grabaci√≥n en tiempo real, porque despu√©s de una falla de grabaci√≥n, el archivo actual no puede <br>  Los datos restaurados y orientados linealmente pueden reutilizarse <br>  sincronizado desde el √∫ltimo punto de sincronizaci√≥n en caso de un error de escritura, por lo tanto, <br>  por ejemplo, Flume usa un formato de almacenamiento orientado a l√≠neas. </p><br><p><img src="https://habrastorage.org/webt/zi/yo/fj/ziyofjvmudfs1_6dspxiorkpegs.png"><br>  <em>Figura 1 (izquierda).</em>  <em>Tabla l√≥gica mostrada</em> <em><br></em>  <em>Figura 2 (derecha).</em>  <em>Ubicaci√≥n orientada a filas (archivo de secuencia)</em> </p><br><p><img src="https://habrastorage.org/webt/nt/ns/mm/ntnsmmjqfywf7ylxhax87mf3th4.png"><br>  <em>Figura 3. Dise√±o orientado a columnas</em> </p><br><p>  Si a√∫n no ha entendido completamente qu√© es la orientaci√≥n de columna o fila, <br>  no te preocupes  Puede seguir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este enlace</a> para comprender la diferencia entre los dos. <br>  Aqu√≠ hay algunos formatos de archivo que se usan ampliamente en el sistema Hadoop: </p><br><h1 id="sequence-fayl">  Archivo de secuencia </h1><br><p>  El formato de almacenamiento cambia dependiendo de si el almacenamiento est√° comprimido, <br>  ¬øUtiliza compresi√≥n de escritura o compresi√≥n de bloque? </p><br><p><img src="https://habrastorage.org/webt/bi/9f/ck/bi9fcksg6kdlsknq_khl9kynaym.png"><br>  <em>Figura 4. La estructura interna del archivo de secuencia sin compresi√≥n y con compresi√≥n de registros.</em> </p><br><p>  <strong>Sin compresi√≥n:</strong> <br>  Almacenar en el orden correspondiente a la longitud del registro, longitud de la clave, valor del grado, <br>  Valor clave y valor del valor.  El rango es el n√∫mero de bytes.  Serializaci√≥n <br>  realizado utilizando el especificado. </p><br><p>  <strong>Compresi√≥n de registro:</strong> <br>  Solo se comprime el valor y el c√≥dec comprimido se almacena en el encabezado. </p><br><p>  <strong>Compresi√≥n de bloque:</strong> <br>  Se comprimen varios registros para que pueda usar <br>  Aproveche las similitudes entre las dos entradas y ahorre espacio.  Banderas <br>  Las sincronizaciones se agregan al principio y al final del bloque.  Valor de bloque m√≠nimo <br>  establecido por el atributo o.seqfile.compress.blocksizeset. </p><br><p><img src="https://habrastorage.org/webt/6h/3z/ax/6h3zaxasqkputk_zviyfbkk5cq0.png"><br>  <em>Figura 4. La estructura interna del archivo de secuencia con compresi√≥n de bloque.</em> </p><br><h1 id="map-fayl">  Archivo de mapa </h1><br><p>  Un archivo de mapa es un tipo de archivo de secuencia.  Despu√©s de agregar el √≠ndice a <br>  el archivo de secuencia y su clasificaci√≥n dan como resultado un archivo de mapa.  El √≠ndice se almacena como un archivo separado. <br>  archivo, que generalmente contiene los √≠ndices de cada una de las 128 entradas.  Los √≠ndices pueden ser <br>  cargado en la memoria para una recuperaci√≥n r√°pida, porque los archivos en los que se almacenan los datos, <br>  organizado en el orden especificado por la clave. </p><br><p>  Las entradas del archivo de mapa deben estar en orden.  De lo contrario nosotros <br>  obtener una IOException. </p><br><p>  Tipos de archivo de mapa derivados: </p><br><ol><li>  SetFile: un archivo de mapa especial para almacenar una secuencia de teclas del tipo <br>  Escribible  Las claves se escriben en un orden espec√≠fico. </li><li>  ArrayFile: la clave es un n√∫mero entero que indica la posici√≥n en la matriz, valor <br>  escriba escribible. </li><li>  BloomMapFile: optimizado para el m√©todo get () de un archivo de mapa usando <br>  filtros din√°micos Bloom.  El filtro se almacena en la memoria y el m√©todo habitual. <br>  Se llama a get () para leer solo si el valor clave <br>  existe </li></ol><br><p>  Los archivos enumerados a continuaci√≥n en el sistema Hadoop incluyen RCFile, ORCFile y Parquet. <br>  La versi√≥n orientada a columnas de Avro es Trevni. </p><br><h1 id="rc-fayl">  Archivo RC </h1><br><p>  <em>Archivo de columnas de registro de Hive</em> : este tipo de archivo primero divide los datos en grupos de filas, <br>  y dentro de un grupo de filas, los datos se almacenan en columnas.  Su estructura es la siguiente <br>  manera: </p><br><p><img src="https://habrastorage.org/webt/uh/r-/-u/uhr--uerc9tzdcf8rpibdjtlsqa.png"><br>  <em>Figura 5. Ubicaci√≥n de los datos del archivo RC en un bloque HDFS.</em> <em><br></em> <br>  Compare con puro orientado a filas y columnas: </p><br><p><img src="https://habrastorage.org/webt/gu/wy/ub/guwyubksx4hdehelcdu2n4hq5vg.png"><br>  <em>Figura 6. Almacenamiento fila por fila en el bloque HDFS.</em> <em><br></em> <br><img src="https://habrastorage.org/webt/ln/m6/xm/lnm6xmcqgobn2g-luqbl0k4umnu.png"><br>  <em>Figura 7. Agrupaci√≥n por columnas en un bloque HDFS.</em> </p><br><h1 id="orc-fayl">  Archivo ORC </h1><br><p>  ORCFile (archivo de columnas de registro optimizado): es un formato m√°s eficiente <br>  archivo que rcfile.  Divide internamente los datos en tiras de 250M cada uno. <br>  Cada carril tiene un √≠ndice, datos y pie de p√°gina.  El √≠ndice almacena el m√≠nimo y <br>  el valor m√°ximo de cada columna, as√≠ como la posici√≥n de cada fila en la columna. </p><br><p><img src="https://habrastorage.org/webt/gt/qp/ne/gtqpneym6chonudpbhlmgzcescc.png"><br>  <em>Figura 8. Ubicaci√≥n de los datos en el archivo ORC</em> </p><br><p>  Hive usa los siguientes comandos para usar el archivo .orc: </p><br><h1 id="parquet">  Parquet </h1><br><p>  Formato de almacenamiento gen√©rico orientado a columnas basado en Google Dremel. <br>  Especialmente bueno para procesar datos con un alto grado de anidamiento. </p><br><p><img src="https://habrastorage.org/webt/2y/h0/r7/2yh0r7jkwy9kfpmqy5bfoa0ayog.png"><br>  <em>Figura 9. La estructura interna del archivo Parquet.</em> </p><br><p>  El parquet transforma las estructuras anidadas en almacenamiento de columna plana, <br>  que est√° representado por el nivel de repetici√≥n y el nivel de definici√≥n (R y D) y utiliza <br>  metadatos para restaurar registros mientras lee datos para recuperar todos <br>  archivo.  A continuaci√≥n ver√° un ejemplo de R y D: </p><br><pre><code class="plaintext hljs">AddressBook { contacts: { phoneNumber: ‚Äú555 987 6543‚Äù } contacts: { } } AddressBook { }</code> </pre> <br><p><img src="https://habrastorage.org/webt/nd/zo/uz/ndzouzvvlfrp_vasa0fq0o1_axk.png"></p><br><p>  Eso es todo  Ahora ya conoce las diferencias en los formatos de archivo en Hadoop.  Si <br>  encuentra cualquier error o inexactitud, no dudes en contactar <br>  a mi  Puedes contactarme en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LinkedIn</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/465069/">https://habr.com/ru/post/465069/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../465055/index.html">Seis habilidades para llevar tu carrera de ciencia de datos al siguiente nivel.</a></li>
<li><a href="../465057/index.html">Contenedores y Ventanas. De Hello World a Kubernetes. Primera parte, introductoria</a></li>
<li><a href="../465059/index.html">PoE a una distancia de m√°s de 200 metros. Monitoreo y reinicio autom√°tico de clientes PoE</a></li>
<li><a href="../465061/index.html">¬øPor qu√©, en lugar de una semana laboral de cuatro d√≠as, es mejor pensar en un d√≠a laboral de seis horas?</a></li>
<li><a href="../465063/index.html">Los 10 errores m√°s comunes al trabajar con la plataforma Spring. Parte 2</a></li>
<li><a href="../465071/index.html">TechTrain 2019 IT festival: c√≥mo participaron JUG.ru, JUGNsk y JUG.MSK</a></li>
<li><a href="../465073/index.html">¬°No aparezcas! Transiciones interrumpibles en iOS</a></li>
<li><a href="../465075/index.html">En la cabina del conductor del tren</a></li>
<li><a href="../465077/index.html">Inseguro.AsSpan: Span <T> ¬øC√≥mo reemplazar los punteros?</a></li>
<li><a href="../465081/index.html">CLRium # 6: concurrencia y paralelismo. Aprendiendo la magia de la paralelizaci√≥n de tareas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>