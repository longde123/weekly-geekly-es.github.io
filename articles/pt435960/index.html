<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÑ üîÑ üö¥ Experi√™ncia de pensamento: Flutter on Go üé≠ üëäüèæ üçù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mais recentemente, descobri o Flutter - uma nova estrutura do Google para o desenvolvimento de aplicativos m√≥veis de plataforma cruzada - e at√© tive a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Experi√™ncia de pensamento: Flutter on Go</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435960/"><p>  Mais recentemente, descobri o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flutter</a> - uma nova estrutura do Google para o desenvolvimento de aplicativos m√≥veis de plataforma cruzada - e at√© tive a oportunidade de mostrar o b√°sico do Flutter a uma pessoa que nunca havia programado antes.  O pr√≥prio Flutter foi escrito em Dart - um idioma nascido no navegador Chrome e que escapou para o mundo dos consoles - e isso me fez pensar "hmm, mas o Flutter poderia muito bem ser escrito em Go!". </p><br><p>  Porque n√£o  Tanto o Go como o Dart foram criados pelo Google, ambos com linguagens compiladas digitadas - para rever alguns dos eventos de maneira um pouco diferente, o Go seria um excelente candidato para a implementa√ß√£o de um projeto de grande escala como o Flutter.  Algu√©m dir√° - n√£o h√° classes, gen√©ricos e exce√ß√µes no Go, por isso n√£o se encaixa. </p><br><p>  Ent√£o, vamos fingir que o Flutter j√° est√° escrito em Go.  Como ser√° o c√≥digo e, em geral, ele funcionar√°? </p><br><p><img src="https://habrastorage.org/webt/9r/4y/cv/9r4ycvikoillhjboi5olwnta4nm.png"></p><a name="habracut"></a><br><h1 id="chto-ne-tak-s-dart">  O que h√° de errado com o Dart? </h1><br><p> Eu tenho seguido essa linguagem desde o seu in√≠cio como uma alternativa ao JavaScript nos navegadores.  O Dart foi incorporado ao navegador Chrome por algum tempo e a esperan√ßa era que ele substitu√≠sse o JS.  Foi incrivelmente triste ler em mar√ßo de 2015 que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">suporte ao Dart foi removido do Chrome</a> . </p><br><p>  Dart em si √© √≥timo!  Bem, basicamente, depois do JavaScript, qualquer idioma √© √≥timo, mas depois, digamos, Go, o Dart n√£o √© t√£o bonito.  mas tudo bem.  Possui todos os recursos conceb√≠veis e inconceb√≠veis - classes, gen√©ricos, exce√ß√µes, futuros, espera ass√≠ncrona, loop de eventos, JIT / AOT, coletor de lixo, sobrecarga de fun√ß√£o - nomeie qualquer recurso conhecido da teoria das linguagens de programa√ß√£o e, no Dart, ele ter√° uma alta propor√ß√£o probabilidades.  O Dart possui uma sintaxe especial para praticamente qualquer chip - uma sintaxe especial para getters / setters, uma sintaxe especial para construtores abreviados, uma sintaxe especial para uma sintaxe especial e muito mais. </p><br><p>  Isso faz com que o Dart, √† primeira vista, seja familiar para as pessoas que j√° haviam programado em qualquer linguagem de programa√ß√£o antes, e isso √© √≥timo.  Mas, ao tentar explicar toda essa abund√¢ncia de recursos especiais em um exemplo simples "Ol√°, mundo", descobri que isso, pelo contr√°rio, dificulta o dom√≠nio. </p><br><ul><li>  <strong>todos os recursos "especiais" da linguagem eram confusos</strong> - "um m√©todo especial chamado construtor", "sintaxe especial para inicializa√ß√£o autom√°tica", "sintaxe especial para par√¢metros nomeados" etc. </li><li>  <strong>tudo "oculto" era confuso</strong> - "de que importa√ß√£o √© essa fun√ß√£o? est√° oculto, olhando para o c√≥digo que voc√™ n√£o pode descobrir", "por que existe um construtor nesta classe, mas n√£o nesta classe? est√° l√°, mas est√° oculto" e assim por diante </li><li>  <strong>tudo "amb√≠guo" confuso</strong> - "ent√£o, aqui para criar os par√¢metros da fun√ß√£o com ou sem nomes?", "deve ser const ou final?", "aqui use a sintaxe da fun√ß√£o normal ou '' abreviado com seta ''", etc. </li></ul><br><p>  Em princ√≠pio, essa trindade - "especial", "oculta" e "amb√≠gua" - n√£o √© ruim captura a ess√™ncia do que as pessoas chamam de "m√°gica" nas linguagens de programa√ß√£o.  Esses s√£o recursos criados para simplificar a escrita do c√≥digo, mas de fato complicam sua leitura e compreens√£o. </p><br><p>  E esta √© exatamente a √°rea em que o Go assume uma posi√ß√£o fundamentalmente diferente de outros idiomas e mant√©m ferozmente a defesa.  Go √© uma linguagem quase sem m√°gica - a quantidade de "oculto", "especial" e "amb√≠guo" √© minimizada.  Mas o Go tem suas desvantagens. </p><br><h1 id="chto-ne-tak-s-go">  O que h√° de errado com o Go? </h1><br><p>  Como estamos falando do Flutter, e essa √© uma estrutura de interface do usu√°rio, vamos considerar o Go como uma ferramenta para descrever e trabalhar com a interface do usu√°rio.  Em geral, as estruturas de interface do usu√°rio s√£o um tremendo desafio e quase sempre exigem solu√ß√µes especializadas.  Uma das abordagens mais frequentes na interface do usu√°rio √© a cria√ß√£o de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DSL</a> - linguagens espec√≠ficas do dom√≠nio - implementadas na forma de bibliotecas ou estruturas personalizadas especificamente para as necessidades da interface do usu√°rio.  E na maioria das vezes voc√™ pode ouvir a opini√£o de que o Go √© objetivamente uma linguagem ruim para o DSL. </p><br><p>  Em ess√™ncia, DSL significa criar uma nova linguagem - termos e verbos - na qual o desenvolvedor possa operar.  O c√≥digo deve descrever claramente os principais recursos da interface gr√°fica e seus componentes, ser flex√≠vel o suficiente para liberar a imagina√ß√£o do designer e, ao mesmo tempo, ser r√≠gido o suficiente para restringi-lo de acordo com certas regras.  Por exemplo, voc√™ poder√° colocar os bot√µes em algum cont√™iner e colocar o √≠cone no lugar certo nesse bot√£o, mas o compilador retornar√° um erro se voc√™ tentar inserir o bot√£o, digamos, em texto. </p><br><p>  Al√©m disso, as linguagens para descrever a interface do usu√°rio s√£o frequentemente declarativas - dando a oportunidade de descrever a interface na forma de "o que eu gostaria de ver" e deixar a pr√≥pria estrutura entender a partir de qual c√≥digo e como execut√°-lo. </p><br><p>  Alguns idiomas foram originalmente desenvolvidos com essas tarefas √† vista, mas n√£o o Go.  Parece que escrever Flutter on Go ser√° outra tarefa! </p><br><h1 id="oda-flutter">  Oda Flutter </h1><br><p>  Se voc√™ n√£o conhece o Flutter, recomendo que passe o pr√≥ximo final de semana assistindo a v√≠deos educacionais ou lendo tutoriais, dos quais existem muitos.  Porque Flutter, sem d√∫vida, reverte as regras do jogo no desenvolvimento de aplicativos m√≥veis.  E, provavelmente, n√£o apenas m√≥vel - j√° existem renderizadores (em termos de Flutter, incorporadores) para iniciar aplicativos Flutter como aplicativos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nativos de dekstop</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aplicativos da web</a> . </p><br><p> √â f√°cil de aprender, √© l√≥gico, vem com uma enorme biblioteca de belos widgets em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Design de Materiais</a> (e n√£o apenas), possui uma comunidade grande e grande e um excelente ajuste (se voc√™ gosta da facilidade de trabalhar com <code>go build/run/test</code> no Go, depois no Flutter voc√™ ter√° uma experi√™ncia semelhante). </p><br><p>  H√° um ano, eu precisava escrever um pequeno aplicativo m√≥vel (para iOS e Android, √© claro), e percebi que a complexidade de desenvolver um aplicativo de alta qualidade para ambas as plataformas √© muito grande (o aplicativo n√£o era a tarefa principal) - tive que terceirizar e pagar por isso.  De fato, escrever uma aplica√ß√£o simples, mas de alta qualidade e trabalhar em todos os dispositivos, era uma tarefa imposs√≠vel, mesmo para uma pessoa com quase 20 anos de experi√™ncia em programa√ß√£o.  E sempre foi um absurdo para mim. </p><br><p>  Com o Flutter, reescrevi esse aplicativo √†s 15h, enquanto aprendia a estrutura em si do zero.  Se algu√©m me dissesse que isso poderia ser um pouco mais cedo, eu n√£o acreditaria. </p><br><p>  A √∫ltima vez que vi um aumento semelhante na produtividade com a descoberta de novas tecnologias foi h√° 5 anos quando descobri o Go.  Aquele momento mudou minha vida. </p><br><p>  Portanto, recomendo come√ßar a aprender Flutter e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este tutorial √© muito bom</a> . </p><br><h1 id="hello-world-na-flutter">  "Ol√°, mundo" no Flutter </h1><br><p>  Quando voc√™ cria um novo aplicativo atrav√©s da <code>flutter create</code> , voc√™ obt√©m exatamente esse programa com um t√≠tulo, texto, contador e um bot√£o que incrementa o contador. </p><br><p><img src="https://habrastorage.org/webt/_1/iu/9g/_1iu9gibgfkoiyadzl0kb8be_j4.gif"></p><br><p>  Eu acho que este √© um √≥timo exemplo.  para escrev√™-lo em nosso imagin√°rio Flutter on Go.  Possui quase todos os conceitos b√°sicos da estrutura na qual voc√™ pode testar a ideia.  Vamos dar uma olhada no c√≥digo (este √© um arquivo): </p><br><pre> <code class="plaintext hljs">import 'package:flutter/material.dart'; void main() =&gt; runApp(MyApp()); class MyApp extends StatelessWidget { @override Widget build(BuildContext context) { return MaterialApp( title: 'Flutter Demo', theme: ThemeData( primarySwatch: Colors.blue, ), home: MyHomePage(title: 'Flutter Demo Home Page'), ); } } class MyHomePage extends StatefulWidget { MyHomePage({Key key, this.title}) : super(key: key); final String title; @override _MyHomePageState createState() =&gt; _MyHomePageState(); } class _MyHomePageState extends State&lt;MyHomePage&gt; { int _counter = 0; void _incrementCounter() { setState(() { _counter++; }); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text( 'You have pushed the button this many times:', ), Text( '$_counter', style: Theme.of(context).textTheme.display1, ), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), ); } }</code> </pre> <br><p>  Vamos analisar o c√≥digo em partes, analisar o que e como ele se encaixa no Go e dar uma olhada nas v√°rias op√ß√µes que temos. </p><br><h2 id="perevodim-kod-na-go">  Traduzimos o c√≥digo no Go </h2><br><p>  O come√ßo ser√° simples e direto - importe a depend√™ncia e inicie a fun√ß√£o <code>main()</code> .  Nada complicado ou interessante aqui, a mudan√ßa √© quase sint√°tica: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { app := NewApp() flutter.Run(app) }</code> </pre> <br><p>  A √∫nica diferen√ßa √© que, em vez de iniciar o <code>MyApp()</code> - uma fun√ß√£o que √© um construtor que √© uma fun√ß√£o especial oculta dentro de uma classe chamada MyApp - simplesmente chamamos a fun√ß√£o expl√≠cita e n√£o oculta <code>NewApp()</code> .  Ela faz a mesma coisa, mas √© muito mais claro explicar e entender o que √©, como come√ßa e como funciona. </p><br><h3 id="klassy-vidzhetov">  Classes de widget </h3><br><p>  No Flutter, tudo consiste em widgets.  Na vers√£o Dart do Flutter, cada widget √© implementado como uma classe que herda classes especiais para widgets do Flutter. </p><br><p>  N√£o h√° classes no Go e, portanto, n√£o h√° hierarquia de classes, porque o mundo n√£o √© orientado a objetos e ainda menos hier√°rquico.  Para programadores familiarizados apenas com o modelo OOP orientado a classe, isso pode ser uma revela√ß√£o, mas realmente n√£o √©.  O mundo √© um gr√°fico gigante entrela√ßado de conceitos, processos e intera√ß√µes.  N√£o √© perfeitamente estruturado, mas n√£o ca√≥tico, e tentar compact√°-lo em uma hierarquia de classes √© a maneira mais confi√°vel de tornar a base de c√≥digo ileg√≠vel e desajeitada - exatamente o que a maioria das bases de c√≥digo √© atualmente. </p><br><p><img src="https://habrastorage.org/webt/gd/9f/ad/gd9fadtyygideailxszfgw2cs_k.png"></p><br><p>  Eu realmente aprecio o Go, porque seus criadores se deram ao trabalho de repensar esse conceito onipresente de classes e implementaram no Go um conceito de POO muito mais simples e mais poderoso, que, por acaso, acabou se aproximando do que o criador do OOP, Alan Kay, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tinha em mente</a> . </p><br><p>  No Go, representamos qualquer abstra√ß√£o na forma de uma estrutura de tipo espec√≠fica: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  Na vers√£o Dart do Flutter, o <code>MyApp</code> deve herdar o <code>StatelessWidget</code> e substituir o m√©todo de <code>build</code> .  Isso √© necess√°rio para resolver dois problemas: </p><br><ol><li>  d√™ ao nosso widget ( <code>MyApp</code> ) algumas propriedades / m√©todos especiais </li><li>  permitir que o Flutter chame nosso c√≥digo no processo de compila√ß√£o / renderiza√ß√£o </li></ol><br><p>  Eu n√£o conhe√ßo os elementos internos do Flutter, ent√£o digamos que o item n√∫mero 1 n√£o esteja em quest√£o, e apenas precisamos faz√™-lo.  A Go possui uma solu√ß√£o t√£o √∫nica e √≥bvia para isso: tipos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">incorpora√ß√£o</a> : </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  Este c√≥digo adicionar√° todas <code>flutter.Core</code> propriedades e m√©todos do <code>flutter.Core</code> ao nosso tipo <code>MyApp</code> .  Eu o chamei de <code>Core</code> vez de <code>Widget</code> , porque, em primeiro lugar, a incorpora√ß√£o de tipo ainda n√£o torna nosso <code>MyApp</code> widget e, em segundo lugar, esse nome √© muito bem usado na estrutura do GopherJS Vecty (algo como React, only for Go).  Mais adiante, abordarei o tema da semelhan√ßa entre Vecty e Flutter. </p><br><p>  O segundo ponto - a implementa√ß√£o do m√©todo <code>build()</code> , que poder√° usar o mecanismo Flutter - tamb√©m √© resolvido de forma simples e inequ√≠voca no Go.  S√≥ precisamos adicionar um m√©todo com uma assinatura espec√≠fica que satisfa√ßa uma certa interface definida em algum lugar da nossa biblioteca fict√≠cia Flutter no Go: </p><br><p>  flutter.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { Build(ctx BuildContext) Widget }</code> </pre> <br><p>  E agora nosso main.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core <span class="hljs-comment"><span class="hljs-comment">// ... } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.MaterialApp() }</span></span></code> </pre> <br><p>  Podemos notar algumas diferen√ßas aqui: </p><br><ul><li>  o c√≥digo √© um pouco mais detalhado - <code>BuildContext</code> , <code>Widget</code> e <code>MaterialApp</code> apontam para <code>flutter</code> importa√ß√µes na frente deles. </li><li>  o c√≥digo √© um pouco menos infundado - n√£o h√° palavras como <code>extends Widget</code> ou <code>@override</code> </li><li>  O m√©todo <code>Build()</code> come√ßa com uma letra mai√∫scula, porque significa a "publicidade" do m√©todo no Go.  No Dart, a publicidade √© determinada pelo fato de o nome come√ßar com um sublinhado (_) ou n√£o. </li></ul><br><p>  Portanto, para criar um widget em nosso Flutter on Go, precisamos incorporar o tipo <code>flutter.Core</code> e implementar a interface <code>flutter.Widget</code> .  N√≥s descobrimos isso, cavar mais. </p><br><h2 id="sostoyanie">  Condi√ß√£o </h2><br><p>  Essa foi uma das coisas que realmente me confundiu em Flutter.  Existem duas classes diferentes - <code>StatelessWidget</code> e <code>StatefulWidget</code> .  Quanto a mim, um "widget sem estado" √© o mesmo widget, apenas sem, hmm, dados, estado - por que criar uma nova classe?  Mas tudo bem, eu posso viver com isso. </p><br><p>  Al√©m disso, al√©m disso, voc√™ n√£o pode simplesmente herdar outra classe ( <code>StatefulWidget</code> ), mas deve escrever essa m√°gica (o IDE far√° isso por voc√™, mas n√£o √© o ponto): </p><br><pre> <code class="plaintext hljs">class MyHomePage extends StatefulWidget { @override _MyHomePageState createState() =&gt; _MyHomePageState(); } class _MyHomePageState extends State&lt;MyHomePage&gt; { int _counter = 0; void _incrementCounter() { setState(() { _counter++; }); } @override Widget build(BuildContext context) { return Scaffold() } }</code> </pre> <br><p>  Hmm, vamos ver o que acontece aqui. </p><br><p>  Fundamentalmente, a tarefa √© a seguinte: adicione um estado ao widget - o contador, no nosso caso - e informe o mecanismo Flutter quando alteramos o estado para redesenhar o widget.  Essa √© a real complexidade do problema (complexidade essencial em termos de Brooks). </p><br><p>  Tudo o resto √© complexidade acidental.  O Flutter on Dart cria uma nova classe <code>State</code> que usa gen√©ricos e usa um widget como par√¢metro de tipo.  Em seguida, a classe <code>_MyHomePageState</code> √© <code>_MyHomePageState</code> , que herda o <code>State  MyApp</code> ... ok, voc√™ ainda pode digeri-lo de alguma forma.  Mas por que o m√©todo <code>build()</code> √© definido pela classe State, e n√£o a classe que o widget √©?  Brrr .... </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A resposta a esta pergunta</a> est√° nas Perguntas frequentes do Flutter e a resposta curta √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">considerada</a> em detalhes suficientes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> - para evitar uma certa classe de erros ao herdar o <code>StatefulWidget</code> .  Em outras palavras, essa √© uma solu√ß√£o alternativa para resolver o problema do design de OOP orientado a classe.  Chic. </p><br><p>  Como far√≠amos isso no Go? </p><br><p>  Em primeiro lugar, pessoalmente eu preferiria n√£o criar uma entidade separada para o "estado" - <code>State</code> .  Afinal, j√° temos um estado em cada tipo espec√≠fico - esses s√£o apenas campos da estrutura.  A linguagem j√° nos deu essa ess√™ncia, por assim dizer.  Criar outra entidade similar apenas confundir√° o programador. </p><br><p>  O desafio, √© claro, √© dar a Flutter a capacidade de responder a mudan√ßas de estado (afinal, essa √© a ess√™ncia da programa√ß√£o reativa).  E se podemos "pedir" ao desenvolvedor para usar uma fun√ß√£o especial ( <code>setState()</code> ), ent√£o podemos pedir da mesma forma que use uma fun√ß√£o especial para informar ao mecanismo quando redesenhar e quando n√£o usar.  No final, nem todas as altera√ß√µes de estado exigem redesenho, e aqui teremos ainda mais controle: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyHomePage <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core counter <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> } <span class="hljs-comment"><span class="hljs-comment">// Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.Scaffold() } // incrementCounter increments widgets's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) // or m.Rerender() // or m.NeedsUpdate() }</span></span></code> </pre> <br><p>  Voc√™ pode brincar com diferentes op√ß√µes de nomes - eu gosto de <code>NeedsUpdate()</code> por sua franqueza e pelo fato de ser uma propriedade de widget (obtida de <code>flutter.Core</code> ), mas o m√©todo global <code>flutter.Rerender()</code> tamb√©m parece bom.  √â verdade que d√° uma falsa sensa√ß√£o de que o widget ser√° redesenhado imediatamente, mas n√£o √© assim - ser√° redesenhado na pr√≥xima atualiza√ß√£o de quadro, e a frequ√™ncia de chamada do m√©todo pode ser muito maior que a frequ√™ncia de renderiza√ß√£o - mas nosso mecanismo Flutter j√° deve ser capaz de lidar com isso. </p><br><p>  Mas a id√©ia √© que acabamos de resolver o problema necess√°rio sem adicionar: </p><br><ul><li>  novo tipo </li><li>  gen√©ricos </li><li>  regras especiais para o estado de leitura / grava√ß√£o </li><li>  novos m√©todos substitu√≠dos especiais </li></ul><br><p>  Al√©m disso, a API √© muito mais clara e compreens√≠vel - basta aumentar o contador (como faria em qualquer outro programa) e pedir ao Flutter para redesenhar o widget.  Isso √© algo que n√£o √© muito √≥bvio se <code>setState</code> - que n√£o √© apenas uma fun√ß√£o especial para definir estado, √© uma fun√ß√£o que retorna uma fun√ß√£o (wtf?) Na qual j√° estamos fazendo algo com state.  Mais uma vez, a magia oculta nas linguagens e estruturas torna muito dif√≠cil entender e ler o c√≥digo. </p><br><p>  No nosso caso, resolvemos o mesmo problema, o c√≥digo √© mais simples e duas vezes menor. </p><br><h2 id="vidzhety-s-sostoyaniem-v-drugih-vidzhetah">  Widgets de estado em outros widgets </h2><br><p>  Como uma continua√ß√£o l√≥gica do t√≥pico, vamos dar uma olhada em como o "widget de estado" √© usado em outro widget no Flutter: </p><br><pre> <code class="plaintext hljs">@override Widget build(BuildContext context) { return MaterialApp( title: 'Flutter Demo', home: MyHomePage(title: 'Flutter Demo Home Page'), ); }</code> </pre> <br><p>  <code>MyHomePage</code> aqui √© um "widget de estado" (possui um contador), e n√≥s o criamos chamando o construtor <code>MyHomePage()</code> durante a constru√ß√£o ... Espere, o que? </p><br><p>  <code>build()</code> √© chamado para redesenhar o widget, possivelmente v√°rias vezes por segundo.  Por que devemos criar um widget, especialmente com um estado, sempre durante a renderiza√ß√£o?  Isso n√£o faz sentido. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Acontece</a> que o Flutter usa essa separa√ß√£o entre <code>Widget</code> e <code>State</code> para ocultar esse gerenciamento de inicializa√ß√£o / estado do programador (mais coisas ocultas, mais!).  Ele cria um novo widget sempre, mas o estado, se j√° tiver sido criado, √© automaticamente encontrado e anexado ao widget.  Essa m√°gica acontece de forma invis√≠vel e eu n√£o tenho ideia de como funciona - voc√™ precisa ler o c√≥digo. </p><br><p>  Considero um verdadeiro mal na programa√ß√£o ocultar e esconder o m√°ximo poss√≠vel do programador, justificando-o com ergonomia.  Estou certo de que o programador estat√≠stico m√©dio n√£o ler√° o c√≥digo Flutter para entender como essa m√°gica funciona e √© improv√°vel que entenda como e o que est√° interconectado. </p><br><p>  Para a vers√£o Go, eu definitivamente n√£o gostaria de uma feiti√ßaria oculta e preferiria uma inicializa√ß√£o expl√≠cita e vis√≠vel, mesmo que isso signifique um c√≥digo um pouco mais infundado.  A abordagem de Flutter ao Dart tamb√©m pode ser implementada, mas eu adoro o Go por minimizar a magia e gostaria de ver a mesma filosofia nos frameworks.  Portanto, eu escreveria meu c√≥digo para widgets com estado na √°rvore de widgets assim: </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// MyApp is our top application widget. type MyApp struct { flutter.Core homePage *MyHomePage } // NewMyApp instantiates a new MyApp widget func NewMyApp() *MyApp { app := &amp;MyApp{} app.homePage = &amp;MyHomePage{} return app } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx flutter.BuildContext) flutter.Widget { return m.homePage } // MyHomePage is a home page widget. type MyHomePage struct { flutter.Core counter int } // Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.Scaffold() } // incrementCounter increments app's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) }</span></span></code> </pre> <br><p>  Esse c√≥digo perde a vers√£o do Dart, pois se eu quiser remover o <code>homePage</code> da √°rvore de widgets e substitu√≠-lo por outra coisa, preciso remov√™-lo em tr√™s locais, em vez de um.  Mas, em troca, temos uma imagem completa do que, onde e como isso acontece, onde a mem√≥ria est√° alocada, quem liga para quem e assim por diante - o c√≥digo na palma da sua m√£o √© claro e f√°cil de ler. </p><br><p>  A prop√≥sito, o Flutter tamb√©m possui o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">StatefulBuilder</a> , que adiciona ainda mais magia e permite criar widgets com o estado em movimento. </p><br><h1 id="dsl">  DSL </h1><br><p>  Agora vamos assumir a parte divertida.  Como vamos representar a √°rvore de widgets no Go?  Queremos que pare√ßa conciso, limpo, f√°cil de refatorar e alterar, descreva as rela√ß√µes espaciais entre widgets (widgets visualmente pr√≥ximos, devem estar pr√≥ximos e na descri√ß√£o) e, ao mesmo tempo, suficientemente flex√≠veis para descrever arbitr√°rias c√≥digo como manipuladores de eventos. </p><br><p>  Parece-me que a op√ß√£o no Dart √© bastante bonita e eloquente: </p><br><pre> <code class="plaintext hljs">return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text('You have pushed the button this many times:'), Text( '$_counter', style: Theme.of(context).textTheme.display1, ), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), );</code> </pre> <br><p>  Cada widget possui um construtor que aceita par√¢metros opcionais, e o que torna o registro realmente bom aqui s√£o os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">par√¢metros nomeados das fun√ß√µes</a> . </p><br><h2 id="imenovannye-parametry">  Par√¢metros nomeados </h2><br><p>  Caso voc√™ n√£o esteja familiarizado com esse termo, em muitos idiomas os par√¢metros da fun√ß√£o s√£o chamados de "posicionais", pois sua posi√ß√£o √© importante para a fun√ß√£o: </p><br><pre> <code class="plaintext hljs">Foo(arg1, arg2, arg3)</code> </pre> <br><p>  , e no caso de par√¢metros nomeados, tudo √© decidido pelo nome na chamada: </p><br><pre> <code class="plaintext hljs">Foo(name: arg1, description: arg2, size: arg3)</code> </pre> <br><p>  Isso adiciona texto, mas salva cliques e se move pelo c√≥digo, na tentativa de entender o que significam os par√¢metros. </p><br><p>  No caso da √°rvore de widgets, eles desempenham um papel fundamental na legibilidade.  Compare o mesmo c√≥digo acima, mas sem par√¢metros nomeados: </p><br><pre> <code class="plaintext hljs">return Scaffold( AppBar( Text(widget.title), ), Center( Column( MainAxisAlignment.center, &lt;Widget&gt;[ Text('You have pushed the button this many times:'), Text( '$_counter', Theme.of(context).textTheme.display1, ), ], ), ), FloatingActionButton( _incrementCounter, 'Increment', Icon(Icons.add), ), );</code> </pre> <br><p>  N√£o √© isso.  certo?  N√£o √© apenas mais dif√≠cil de entender (voc√™ precisa ter em mente o que cada par√¢metro significa e qual √© o seu tipo, e isso √© uma carga cognitiva significativa), mas tamb√©m n√£o nos d√° liberdade na escolha de quais par√¢metros queremos transferir.  Por exemplo, voc√™ pode n√£o querer um <code>FloatingActionButton</code> para seu aplicativo Material, portanto, simplesmente n√£o o especifica nos par√¢metros.  Sem par√¢metros nomeados, precisaremos for√ßar a especifica√ß√£o de todos os widgets poss√≠veis ou recorrer √† m√°gica com reflex√£o para descobrir quais widgets foram transferidos. </p><br><p>  E como n√£o h√° sobrecarga de fun√ß√µes e par√¢metros nomeados no Go, essa n√£o ser√° uma tarefa f√°cil para o Go. </p><br><h1 id="derevo-vidzhetov-v-go">  √Årvore de widgets Go </h1><br><h2 id="versiya-1">  Vers√£o 1 </h2><br><p>  Vamos dar uma olhada no objeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Andaime</a> , que √© um inv√≥lucro conveniente para um aplicativo m√≥vel.  Possui v√°rias propriedades - appBar, drawe, home, bottomNavigationBar, floatingActionBar - e todos esses s√£o widgets.  Ao criar uma √°rvore de widgets, precisamos, de alguma forma, inicializar esse objeto, passando as propriedades de widget acima mencionadas.  Bem, isso n√£o √© muito diferente da cria√ß√£o e inicializa√ß√£o usual de objetos. </p><br><p>  Vamos tentar a abordagem da testa: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> flutter.NewScaffold( flutter.NewAppBar( flutter.Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), ), <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, flutter.NewCenter( flutter.NewColumn( flutter.MainAxisCenterAlignment, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, []flutter.Widget{ flutter.Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), flutter.Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), flutter.FloatingActionButton( flutter.NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, ), )</code> </pre> <br><p>  N√£o √© o c√≥digo de interface do usu√°rio mais bonito, definitivamente.  A palavra <code>flutter</code> todo lugar e pergunta.  para escond√™-lo (na verdade, eu tive que nomear o <code>material</code> da embalagem, n√£o a <code>flutter</code> , mas n√£o a ess√™ncia), os par√¢metros an√¥nimos s√£o completamente √≥bvios e esses <code>nil</code> s√£o abertamente confusos em todos os lugares. </p><br><h2 id="versiya-2">  Vers√£o 2 </h2><br><p>  Como, no entanto, a maior parte do c√≥digo usar√° um ou outro tipo / fun√ß√£o do pacote <code>flutter</code> , podemos usar o formato "dot import" para importar o pacote para o nosso espa√ßo para nome e, assim, "ocultar" o nome do pacote: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span></code> </pre> <br><p>  Agora, em vez de <code>flutter.Text</code> , podemos escrever apenas <code>Text</code> .  Geralmente, √© uma pr√°tica ruim, mas trabalhamos com a estrutura, e essa importa√ß√£o estar√° literalmente em todas as linhas.  Na minha pr√°tica, esse √© exatamente o caso para o qual essa importa√ß√£o √© aceit√°vel - por exemplo, como ao usar a maravilhosa estrutura para testar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GoConvey</a> . </p><br><p>  Vamos ver como o c√≥digo ficar√°: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold( NewAppBar( Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), ), <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, NewCenter( NewColumn( MainAxisCenterAlignment, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), FloatingActionButton( NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, ), )</code> </pre> <br><p>  J√° √© melhor, mas esses par√¢metros nulos e sem nome .... </p><br><h2 id="versiya-3">  Vers√£o 3 </h2><br><p>  Vamos ver como ser√° o c√≥digo se usarmos a reflex√£o (a capacidade de inspecionar o c√≥digo enquanto o programa estiver em execu√ß√£o) para analisar os par√¢metros passados.  Essa abordagem √© usada em v√°rias estruturas HTTP iniciais no Go ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">martini</a> , por exemplo) e √© considerada uma pr√°tica muito ruim - √© insegura, perde a conveni√™ncia do sistema de tipos, √© relativamente lenta e adiciona m√°gica ao c√≥digo - mas, para fins de experimento, voc√™ pode tentar: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold( NewAppBar( Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>), ), NewCenter( NewColumn( MainAxisCenterAlignment, []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>), Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), FloatingActionButton( NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, ), )</code> </pre> <br><p>  N√£o √© ruim, e parece com a vers√£o original do Dart, mas a falta de par√¢metros nomeados ainda machuca os olhos. </p><br><h2 id="versiya-4">  Vers√£o 4 </h2><br><p>  Vamos recuar um pouco e nos perguntar o que estamos tentando fazer.  N√£o precisamos copiar cegamente a abordagem do Dart (embora seja um bom b√¥nus - h√° menos para ensinar as pessoas que j√° est√£o familiarizadas com o Flutter on Dart).  De fato, apenas criamos novos objetos e atribu√≠mos propriedades a eles. </p><br><p>  Pode tentar assim? </p><br><pre> <code class="go hljs">scaffold := NewScaffold() scaffold.AppBar = NewAppBar(Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>)) column := NewColumn() column.MainAxisAlignment = MainAxisCenterAlignment counterText := Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter)) counterText.Style = ctx.Theme.textTheme.display1 column.Children = []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>), counterText, } center := NewCenter() center.Child = column scaffold.Home = center icon := NewIcon(icons.Add), fab := NewFloatingActionButton() fab.Icon = icon fab.Text = <span class="hljs-string"><span class="hljs-string">"Increment"</span></span> fab.Handler = m.onPressed scaffold.FloatingActionButton = fab <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> scaffold</code> </pre> <br><p>    ,         " ",         . -,       ‚Äì   ,      . -,      ,            . </p><br><p> ,       UI   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GTK</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Qt</a> . , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a>  Qt 5: </p><br><pre> <code class="plaintext hljs"> QGridLayout *layout = new QGridLayout(this); layout-&gt;addWidget(new QLabel(tr("Object name:")), 0, 0); layout-&gt;addWidget(m_objectName, 0, 1); layout-&gt;addWidget(new QLabel(tr("Location:")), 1, 0); m_location-&gt;setEditable(false); m_location-&gt;addItem(tr("Top")); m_location-&gt;addItem(tr("Left")); m_location-&gt;addItem(tr("Right")); m_location-&gt;addItem(tr("Bottom")); m_location-&gt;addItem(tr("Restore")); layout-&gt;addWidget(m_location, 1, 1); QDialogButtonBox *buttonBox = new QDialogButtonBox(QDialogButtonBox::Ok | QDialogButtonBox::Cancel, this); connect(buttonBox, &amp;QDialogButtonBox::rejected, this, &amp;QDialog::reject); connect(buttonBox, &amp;QDialogButtonBox::accepted, this, &amp;QDialog::accept); layout-&gt;addWidget(buttonBox, 2, 0, 1, 2);</code> </pre><br><p>   ,   -      . ,  ,    ,           . </p><br><h2 id="versiya-5">  5 </h2><br><p>   ,     ‚Äì          -.  Por exemplo: </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Widget</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold(ScaffoldParams{ AppBar: NewAppBar(AppBarParams{ Title: Text(TextParams{ Text: <span class="hljs-string"><span class="hljs-string">"My Home Page"</span></span>, }), }), Body: NewCenter(CenterParams{ Child: NewColumn(ColumnParams{ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text(TextParams{ Text: <span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, }), Text(TextParams{ Text: fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton( FloatingActionButtonParams{ OnPressed: m.incrementCounter, Tooltip: <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, Child: NewIcon(IconParams{ Icon: Icons.add, }), }, ), }) }</code> </pre> <br><p> ! ,   .    <code>...Params</code>    ,          .  , ,       Go    ,       ,     . </p><br><p> -,     <code>...Params</code> ,       .    (proposal)     ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"  "</a> .  ,     <code>FloatingActionButtonParameters{...}</code>  <code>{...}</code>    .     : </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Widget</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold({ AppBar: NewAppBar({ Title: Text({ Text: <span class="hljs-string"><span class="hljs-string">"My Home Page"</span></span>, }), }), Body: NewCenter({ Child: NewColumn({ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text({ Text: <span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, }), Text({ Text: fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton({ OnPressed: m.incrementCounter, Tooltip: <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, Child: NewIcon({ Icon: Icons.add, }), }, ), }) }</code> </pre> <br><p>        Dart!         . </p><br><h2 id="versiya-6">  6 </h2><br><p>   ,         .  ,    ,    ,       ,   . </p><br><p>   ,    ,   ,      -,     ‚Äì     : </p><br><pre> <code class="go hljs">button := NewButton(). WithText(<span class="hljs-string"><span class="hljs-string">"Click me"</span></span>). WithStyle(MyButtonStyle1)</code> </pre> <br><p>  ou </p><br><pre> <code class="go hljs">button := NewButton(). Text(<span class="hljs-string"><span class="hljs-string">"Click me"</span></span>). Style(MyButtonStyle1)</code> </pre> <br><p>     Scaffold-    : </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return NewScaffold(). AppBar(NewAppBar(). Text("Flutter Go app")). Child(NewCenter(). Child(NewColumn(). MainAxisAlignment(MainAxisCenterAlignment). Children([]Widget{ Text("You have pushed the button this many times:"), Text(fmt.Sprintf("%d", m.counter)). Style(ctx.Theme.textTheme.display1), }))). FloatingActionButton(NewFloatingActionButton(). Icon(NewIcon(icons.Add)). Text("Increment"). Handler(m.onPressed)) }</span></span></code> </pre> <br><p>        Go ‚Äì       , .      Dart-,       : </p><br><ul><li>    </li><li>  "" </li><li>      </li><li>       </li></ul><br><p>          <code>New...()</code>   ‚Äì  ,   .       ,    ‚Äî <strong>"  ,      ,   ,      ,    ,     ,      ‚Äì        "</strong> . </p><br><p>   ,   , 5-  6-    . </p><br><h1 id="finalnaya-versiya-koda">    </h1><br><p>         "hello, world"   Flutter  Go: </p><br><p> main.go </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { flutter.Run(NewMyApp()) }</code> </pre> <br><p> app.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-comment"><span class="hljs-comment">// MyApp is our top application widget. type MyApp struct { Core homePage *MyHomePage } // NewMyApp instantiates a new MyApp widget func NewMyApp() *MyApp { app := &amp;MyApp{} app.homePage = &amp;MyHomePage{} return app } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx BuildContext) Widget { return m.homePage }</span></span></code> </pre> <br><p> home_page.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> ) <span class="hljs-comment"><span class="hljs-comment">// MyHomePage is a home page widget. type MyHomePage struct { Core counter int } // Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx BuildContext) Widget { return NewScaffold(ScaffoldParams{ AppBar: NewAppBar(AppBarParams{ Title: Text(TextParams{ Text: "My Home Page", }), }), Body: NewCenter(CenterParams{ Child: NewColumn(ColumnParams{ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text(TextParams{ Text: "You have pushed the button this many times:", }), Text(TextParams{ Text: fmt.Sprintf("%d", m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton( FloatingActionButtonParameters{ OnPressed: m.incrementCounter, Tooltip: "Increment", Child: NewIcon(IconParams{ Icon: Icons.add, }), }, ), }) } // incrementCounter increments app's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) }</span></span></code> </pre> <br><p>   ! </p><br><h1 id="zaklyuchenie">  Conclus√£o </h1><br><h4 id="pohozhest-s-vecty">   Vecty </h4><br><p>        ,      ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Vecty</a> .  , ,  , ,  Vecty    DOM/CSS/JS,  Flutter            ,        120   .   ,   Vecty  ,     Flutter  Go  Vecty . </p><br><h4 id="luchshee-ponimanie-dizayna-flutter">    Flutter </h4><br><p>         ‚Äì        ,   .            Flutter,         . </p><br><h4 id="nedostatki-go">  Go </h4><br><p>    <strong>"  Flutter    Go?"</strong>    <strong>""</strong> ,  , , ,        ,   Flutter, , ,     ""   .      ,    Go       . </p><br><p>  ,  <strong>   Go    </strong> .                 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a>    Go, , ,    -.    ‚Äì      ,         ,        . </p><br><p>           Go.              ‚Äì       ,      . </p><br><h4 id="mysli-o-buduschem-flutter">    Flutter </h4><br><p>      ,  Flutter  ,     ,       .  "/ "   ,  Dart    ( , ,     ).    Dart,  ,      (,    )    DartVM  V8,  Flutter    ‚Äì   Flutter      -. </p><br><p> ,     .          .  ,           ,  1.0     . , -      . </p><br><p>    game changer,     Flutter ,           ,           . </p><br><p>            UI ‚Äì  Flutter,    . </p><br><h1 id="ssylki">  Refer√™ncias </h1><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://flutter.io</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flutter Tutorial for Beginners ‚Äî Build iOS and Android Apps</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Go proposal: An Improved, Golang-Cohesive Design for Named Arguments</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Go proposal: spec: untyped composite literals</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt435960/">https://habr.com/ru/post/pt435960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt435950/index.html">Data center modular a servi√ßo do Large Hadron Collider</a></li>
<li><a href="../pt435952/index.html">Quem s√£o "hosters n√£o lavados"?</a></li>
<li><a href="../pt435954/index.html">Desenvolvimento de m√≥dulos para bonecos com kit de desenvolvimento de bonecos</a></li>
<li><a href="../pt435956/index.html">PHP Digest No. 147 (1 a 14 de janeiro de 2019)</a></li>
<li><a href="../pt435958/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n ¬∞ 347 (7 a 13 de janeiro de 2019)</a></li>
<li><a href="../pt435962/index.html">25¬∫ anivers√°rio da Aeron: sensa√ß√µes e impress√µes da vers√£o atualizada do Aeron Remastered</a></li>
<li><a href="../pt435964/index.html">Ethereum planeja ser 99% mais econ√¥mico</a></li>
<li><a href="../pt435968/index.html">Vis√£o geral dos algoritmos de aprendizado de m√°quina profundo para rob√¥s</a></li>
<li><a href="../pt435970/index.html">Guia do iniciante para desenvolvimento de servidores Web com Node.js</a></li>
<li><a href="../pt435972/index.html">Introdu√ß√£o √† programa√ß√£o reativa no Spring</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>