<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛳️ 😲 ♐️ Nous transférons Zimbra d'une infrastructure à serveur unique vers une infrastructure à serveurs multiples 🔍 👨🏿‍🤝‍👨🏼 ⛺️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un article précédent, nous avons expliqué comment installer Zimbra sur une infrastructure multi-serveurs. En plus d'une résilience accrue, cette ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous transférons Zimbra d'une infrastructure à serveur unique vers une infrastructure à serveurs multiples</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/433152/">  Dans un article précédent, nous avons expliqué comment installer Zimbra sur une infrastructure multi-serveurs.  En plus d'une résilience accrue, cette infrastructure est facilement évolutive et idéale pour les fournisseurs de SaaS vendant des outils de messagerie et de collaboration aux services et aux grandes entreprises.  Mais que se passe-t-il si Zimbra était initialement installé sur un seul serveur dans votre entreprise, mais que la société se développait et se développait, sa vitesse et sa disponibilité ont commencé à diminuer de manière significative?  La solution évidente serait de migrer la Zimbra Collaboration Suite vers une infrastructure multi-serveurs, mais est-il possible de le faire sans temps d'arrêt prolongé et sans perdre de précieuses données? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="image"><a name="habracut"></a><br><br>  Il s'avère que cela est possible.  Lors de l'utilisation d'une solution de Zextras, le processus de migration vers une nouvelle infrastructure se déroulera en plusieurs étapes: <br><br><ol><li>  Installation propre de Zimbra sur votre infrastructure multiserveur souhaitée </li><li>  Installation du Winterlet de sauvegarde Zextras sur le serveur source </li><li>  Installez Zextras Backup sur le serveur de destination avec Mailbox Storage </li><li>  Création d'une sauvegarde avec le contenu du serveur source </li><li>  Déployer Zimbra Backup sur l'infrastructure cible </li><li>  Mise en service d'une infrastructure multi-serveurs avec Zimbra </li></ol><br>  Le processus d'installation multi-serveur de Zimbra Open-Source Edition a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">été décrit en détail dans un article précédent</a> .  Une fois que les éléments Zimbra installés sur différents serveurs commenceront à fonctionner dans leur ensemble, il sera possible de démarrer le processus de «déplacement» de l'ancien serveur vers la nouvelle infrastructure.  L'hiver de sauvegarde Zextras conçu par la société informatique italienne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Zextras</a> et inclus dans le package d'extension modulaire Zextras Suite fera très bien l'affaire. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ce/305/a72/4ce305a729cdd5fcb15d41d94eb79c95.png" alt="image"><br><br>  Après avoir installé le zimblet sur le serveur source, exécutez la fonction Exporter la sauvegarde.  Zextras Backup analysera votre serveur et créera une copie de sauvegarde du contenu des boîtes aux lettres, des paramètres et paramètres utilisateur, des données de calendrier, des fichiers partagés, ainsi que des informations sur les groupes d'utilisateurs et les domaines.  Une fois la sauvegarde créée, il ne sera pas superflu de l'enregistrer ailleurs pour plus de fiabilité.  À ces fins, un disque dur externe et un stockage cloud conviennent. <br><br>  Notez qu'en raison de la période d'essai de 30 jours, l'utilisation de Zextras Backup pour déployer une copie de sauvegarde du serveur Zimbra d'origine sur la nouvelle infrastructure peut être absolument gratuite et en même temps évaluer la simplicité et la facilité d'utilisation de Zextras Suite. <br><br>  Installez Zextras Suite sur un ou plusieurs serveurs de boîtes aux lettres de l'infrastructure cible.  Une fois l'installation terminée, il sera possible d'utiliser la fonction d'importation de sauvegarde fournie par la sauvegarde Zextras pour restaurer à partir de la sauvegarde.  Dans la boîte de dialogue qui apparaît, vous pouvez choisir lequel des éléments réservés doit être restauré sur ce serveur.  Grâce à cela, l'administrateur de l'infrastructure Zimbra peut répartir différents domaines ou même des comptes sur différents serveurs de boîtes aux lettres. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bae/289/a75/bae289a75eefd7cba509e44c9b3f2226.png" alt="image"><br><br>  Une fois la restauration de la sauvegarde du serveur source sur l'infrastructure cible terminée, l'infrastructure multiserveur Zimbra peut être mise en service. <br><br>  Un lecteur attentif, cependant, attirera l'attention sur le fait que cette méthode implique toujours une interruption du travail du serveur source Zimbra pendant que la sauvegarde est prise et déployée sur l'infrastructure cible.  Selon la quantité de données, une telle interruption peut varier de quelques minutes à des valeurs totalement inacceptables.  Si la durée de la panne du serveur ne vous convient pas, vous pouvez utiliser la «migration incrémentielle» - une méthode qui vous permet de migrer sans arrêter les serveurs, quelle que soit la quantité de données transférées. <br><br>  Pour effectuer une migration incrémentielle, l'utilisateur devra installer Zextras Backup sur le serveur source, ainsi que sur un ou plusieurs serveurs de boîtes aux lettres de l'infrastructure cible.  Afin de réduire la charge sur un serveur en cours d'exécution, il est recommandé de lui connecter un disque dur externe et de le monter dans le <b>dossier / opt / zimbra / backup / zextras /</b> .  De plus, avant de commencer la migration, il est recommandé de définir la valeur TTL sur 300 dans les enregistrements MX du DNS Nord afin de maximiser la vitesse du processus de transfert de données. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6fd/36d/2a6/6fd36d2a6ed3941cef8e81b76136d0ef.png" alt="image"><br><br>  Commençons la migration en désactivant tous les serveurs Real Time Scanner à l'aide de la <b>commande false zxsuite backup setProperty ZxBackup_RealTimeScanner</b> .  Ensuite, sur le serveur source, lancez SmartScan à l'aide de la <b>commande zxsuite backup doSmartScan</b> .  Grâce à cela, toutes nos données sont exportées dans le <b>dossier / opt / zimbra / backup / zextras /</b> , et si vous y avez déjà monté un disque dur externe, vous obtiendrez également un support de sauvegarde.  Notez que si vous avez l'intention de disperser des domaines du serveur source pour différents serveurs de boîtes aux lettres sur l'infrastructure cible, vous pouvez également le faire à l'aide d'une commande du formulaire <b>zxsuite backup doExport / chemin / vers / export / dossier / domaines domain1.com, domain2.com</b> et éventuellement obtenir des sauvegardes de divers domaines. <br><br>  Après cela, vous pouvez procéder au déploiement de la sauvegarde sur l'infrastructure cible.  Pour ce faire, nous vous recommandons d'utiliser l'option <b>Provisioning Only</b> , qui vous permet d'importer uniquement les données de domaine, de groupe d'utilisateurs et de compte, en ignorant le contenu des boîtes aux lettres.  Pour utiliser cette option, entrez la commande <b>zxsuite backup doExternalRestore / path / for / the / data / provisioning_only TRUE</b> sur le serveur cible.  Répétez cette procédure avec chaque serveur et sauvegardez les domaines correspondants si vous souhaitez les distribuer sur différents serveurs de boîtes aux lettres <br><br>  En conséquence, vous obtiendrez une copie de travail de l'ancien nord sans le contenu des boîtes aux lettres.  Après cela, vous pouvez immédiatement basculer le flux de lettres vers l'infrastructure cible, puis commencer à déplacer le contenu des boîtes aux lettres de l'ancien serveur à l'aide de la <b>sauvegarde zxsuite doExternalRestore / path / for / the / data /</b> command.  Le inconvénient évident de cette approche est que les utilisateurs de Zimbra n'auront pas accès aux e-mails envoyés et reçus pendant un certain temps, bien qu'ils continueront normalement à recevoir et envoyer des e-mails.  En outre, lors de la restauration directe du contenu de la boîte aux lettres, les performances du serveur peuvent diminuer.  Une fois la restauration du contenu des boîtes aux lettres terminée, nous pouvons parler de la réussite de la migration sans aucun temps d'arrêt. <br><br>  Pour toutes questions relatives à la Suite Zextras, vous pouvez contacter le représentant de Zextras Katerina Triandafilidi par e-mail katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433152/">https://habr.com/ru/post/fr433152/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433138/index.html">Cinq principes de conception de produits lors de la réservation</a></li>
<li><a href="../fr433140/index.html">Module client Google Pay prêt</a></li>
<li><a href="../fr433142/index.html">Des classiques intemporels ou un aperçu des nouveaux vecteurs d'attaque via Microsoft Office</a></li>
<li><a href="../fr433144/index.html">Sortie de .NET Core 2.2. Quoi de neuf (1 sur 3)</a></li>
<li><a href="../fr433146/index.html">[compétition] Top 25 des consoles de jeux (secouez les temps anciens)</a></li>
<li><a href="../fr433154/index.html">Expérience utilisateur 5G NR attendue dans le monde réel</a></li>
<li><a href="../fr433156/index.html">Dell devient public et se dirige vers le cloud hybride</a></li>
<li><a href="../fr433158/index.html">Parodies musicales de SUSE sur Kubernetes, Linus Torvalds et autres</a></li>
<li><a href="../fr433164/index.html">Rapide et furieux: Forza Horizon 4 accélère avec les shaders de fenêtre</a></li>
<li><a href="../fr433166/index.html">Prédire le temps de solution de ticket à l'aide du Machine Learning</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>