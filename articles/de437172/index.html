<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔟 🤘🏻 😽 IBM MQ und JMeter: Erster Kontakt 💆🏾 🆙 🎆</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 

 Dies ist eine Fortsetzung meiner vorherigen Veröffentlichung und gleichzeitig ein Remake des Artikels Automatisiertes Testen von Dienst...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IBM MQ und JMeter: Erster Kontakt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437172/">  Hallo Habr! <br><br>  Dies ist eine Fortsetzung meiner <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorherigen Veröffentlichung</a> und gleichzeitig ein Remake des Artikels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Automatisiertes Testen von Diensten mit dem MQ-Protokoll mit JMeter</a> . <br><br>  Dieses Mal erzähle ich Ihnen von meinen Erfahrungen mit der Abstimmung von JMeter und IBM MQ zum erfolgreichen Testen von Anwendungen auf IBM WAS.  Angesichts einer solchen Aufgabe gab es leicht nicht nach.  Ich möchte allen Interessierten helfen, Zeit zu sparen. <br><br><img src="https://habrastorage.org/webt/m1/zs/v3/m1zsv39inuqwaivywvuyolm7svy.jpeg"><a name="habracut"></a><br><br><h4>  Einführung </h4><br>  Über das Projekt: Datenbus, viele XML-Nachrichten, drei Austauschbereiche (Warteschlangen, Datenbanken, Dateisystem), Webdienste mit eigener Nachrichtenverarbeitungslogik.  Mit der Entwicklung des Projekts wurde das manuelle Testen schwieriger.  Apache JMeter wurde gerufen, um zu helfen - leistungsstark und Open Source, mit einer großen Benutzergemeinschaft und einer benutzerfreundlichen Oberfläche.  Die einfache Anpassung der "out of the box" -Version ermöglicht es Ihnen, alle Fälle abzudecken, und das Versprechen des leitenden Entwicklers, zu helfen, <i>wenn etwas</i> (hat geholfen) endgültig in der Auswahl genehmigt wird. <br><br><h4>  Den anfänglichen Kontext vorbereiten </h4><br>  Für die Interaktion mit dem Warteschlangenmanager benötigen Sie einen anfänglichen Kontext.  Es kann verschiedene Arten geben, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> können Sie mehr lesen. <br>  Es ist praktisch, MQ Explorer zu verwenden, um es zu erstellen: <br><br><img src="https://habrastorage.org/webt/fd/8n/vz/fd8nvzjfzfegb7s-llhpym7jkje.png"><br>  <sup>Abbildung 1: Hinzufügen eines Anfangskontexts</sup> <br><br>  Wählen Sie den Dateityp des Kontexts und das Verzeichnis zum Speichern der <b>.bindings der</b> Datei aus, die die Beschreibung der JNDI-Objekte enthalten sollen: <br><br><img src="https://habrastorage.org/webt/hw/vj/dz/hwvjdzq1tz7uirpst3kx1mw1ovk.png"><br>  <sup>Abbildung 2: Auswählen eines anfänglichen Kontexttyps</sup> <br><br>  Dann können Sie beginnen, diese Objekte zu erstellen.  Und beginnen Sie mit einer Verbindungsfabrik: <br><br><img src="https://habrastorage.org/webt/ps/te/si/pstesiexhf6j0wtsyg79o8y1fdg.png"><br>  <sup>Abbildung 3: Erstellen einer Verbindungsfactory</sup> <br><br>  Wähle einen freundlichen Namen ... <br><br><img src="https://habrastorage.org/webt/ac/d8/4p/acd84pxqwx4uu4unovfz1uubil8.png"><br>  <sup>Abbildung 4: Auswählen eines Verbindungsfactory-Namens</sup> <br><br>  ... und der <b>Queue Connection Factory-Typ</b> : <br><br><img src="https://habrastorage.org/webt/41/tl/lv/41tllv7t62nxpz6ovv694ckmeg4.png"><br>  <sup>Abbildung 5: Auswählen eines Verbindungsfactory-Typs</sup> <br><br>  Protokoll - <b>MQ-Client</b> für die Möglichkeit der Remote-Interaktion mit MQ: <br><br><img src="https://habrastorage.org/webt/lf/hh/ue/lfhhuelb3jr90e1oux90syfsnvm.png"><br>  <sup>Abbildung 6: Auswählen eines Verbindungsfactory-Protokolls</sup> <br><br>  Im nächsten Schritt können Sie eine vorhandene Fabrik auswählen und weitere Einstellungen daraus kopieren.  Klicken Sie auf <b>Weiter</b> , wenn es keine gibt: <br><br><img src="https://habrastorage.org/webt/4b/w7/qc/4bw7qcrzsbpneieurkfajwprwm8.png"><br>  <sup>Abbildung 7: Auswählen von Einstellungen für eine vorhandene Verbindungsfactory</sup> <br><br>  Stellen Sie im Parameterauswahlfenster einfach drei ein.  Geben Sie auf der Registerkarte <b>Verbindung</b> den Namen des Warteschlangenmanagers und die IP des Standes mit seinem Standort an (verlassen Sie Port <b>1414</b> ): <br><br><img src="https://habrastorage.org/webt/q8/dy/_8/q8dy_8pnmrfqfzp0zyqkpg8o4lk.png"><br>  <sup>Abbildung 8: Konfigurieren der Verbindungsfactory-Einstellungen</sup> <br><br>  Und auf der Registerkarte <b>Kanäle</b> den Kanal für die Verbindung.  Klicken Sie auf <b>Fertig stellen</b> , um den <b>Vorgang</b> abzuschließen: <br><br><img src="https://habrastorage.org/webt/j0/w_/ha/j0w_harmdbn-cp5llaeg-rn73pa.png"><br>  <sup>Abbildung 9: Abschluss der Verbindungsfactory</sup> <br><br>  Stellen Sie nun eine Verbindung zur Warteschlange her: <br><br><img src="https://habrastorage.org/webt/-r/w1/b7/-rw1b7zu5n-xv4xu_ou94xuqyy8.png"><br>  <sup>Abbildung 10: Erstellen eines Ziels</sup> <br><br>  Wählen Sie einen Anzeigenamen (ich bevorzuge es, den tatsächlichen Namen der Warteschlange anzugeben) und den <b>Warteschlangentyp</b> : <br><br><img src="https://habrastorage.org/webt/3o/3k/x8/3o3kx8mvfv4lwsgyyclxs_zfj14.png"><br>  <sup>Abbildung 11: Auswahl des Namens und des Typs des Ziels</sup> <br><br>  In Analogie zu <i>Abbildung 7 können</i> Sie die Einstellungen aus einer vorhandenen Warteschlange kopieren.  Klicken Sie auch auf <b>Weiter,</b> wenn es das erste ist: <br><br><img src="https://habrastorage.org/webt/ay/pf/zq/aypfzqpohkfqpg7-_fkigm5vmom.png"><br>  <sup>Abbildung 12: Auswählen der Einstellungen eines vorhandenen Ziels</sup> <br><br>  Wählen Sie im Einstellungsfenster einfach den Managernamen und die gewünschte Warteschlange aus und klicken Sie auf <b>Fertig stellen</b> .  Wiederholen Sie dann die erforderliche Anzahl von Malen, bis alle für die Interaktion mit JMeter erforderlichen Warteschlangen erstellt wurden: <br><br><img src="https://habrastorage.org/webt/cg/yv/qx/cgyvqxujvofhsa2ko9j2zhwlk-q.png"><br>  <sup>Abbildung 13: Abschluss der Erstellung des Ziels</sup> <br><br><h4>  JMeter vorbereiten </h4><br>  Die Vorbereitung von JMeter besteht darin, die Bibliotheken hinzuzufügen, die für die Interaktion mit MQ erforderlich sind.  Sie befinden sich in% wmq_home% / java / lib.  Kopieren Sie sie nach% jmeter_home% / lib / ext, bevor Sie JMeter starten. <br><br><ul><li>  com.ibm.mq.commonservices.jar </li><li>  com.ibm.mq.headers.jar </li><li>  com.ibm.mq.jar </li><li>  com.ibm.mq.jmqi.jar </li><li>  com.ibm.mq.pcf.jar </li><li>  com.ibm.mqjms.jar </li><li>  dhbcore.jar </li><li>  fscontext.jar </li><li>  jms.jar </li><li>  jta.jar </li><li>  providerutil.jar </li></ul><br><br>  Eine alternative Liste, die von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">polarnik</a> in einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kommentar</a> mit einer leichten Nuance vorgeschlagen wurde: javax.jms-api-2.0.jar anstelle von jms.jar. <br>  Bei jms.jar tritt ein NoClassDEfFoundError-Fehler auf, dessen Lösung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier zu</a> finden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ist</a> . <br><br><ul><li>  com.ibm.mq.allclient.jar </li><li>  fscontext.jar </li><li>  javax.jms-api-2.0.jar </li><li>  providerutil.jar </li></ul><br><br>  Beide Bibliothekslisten funktionieren erfolgreich mit JMeter 5.0 und IBM MQ 8.0.0.4. <br><br><h4>  Testplan einrichten </h4><br>  Ein notwendiger und ausreichender Satz von JMeter-Elementen sieht folgendermaßen aus: <br><br><img src="https://habrastorage.org/webt/le/yn/ii/leyniisl_c_7j4tuhrrrzkcvlmu.png"><br>  <sup>Abbildung 14: Testplan</sup> <br><br>  Das Testplanbeispiel enthält fünf Variablen.  Trotz ihrer geringen Anzahl empfehle ich, separate Konfigurationselemente für verschiedene Arten von Variablen zu starten.  Wenn die Tests zunehmen, wird dies die Navigation erheblich vereinfachen.  In diesem Fall werden zwei Listen erhalten.  Der erste enthält die Parameter für die Verbindung mit MQ (siehe <i>Abbildung 2</i> und <i>Abbildung 4</i> ): <br><br><img src="https://habrastorage.org/webt/5c/7m/hs/5c7mhsdg58uwbrw3cs5zngxik1u.png"><br>  <sup>Abbildung 15: MQ-Verbindungseinstellungen</sup> <br><br>  Das zweite sind die Namen der Ziele, die auf die Warteschlange verweisen: <br><br><img src="https://habrastorage.org/webt/co/aw/gb/coawgbuyeg3zu7k1kkwflc9yvwk.png"><br>  <sup>Abbildung 16: Parametrisierte Warteschlangennamen</sup> <br><br>  Es bleibt JMS Publisher so zu konfigurieren, dass die Testnachricht in die ausgehende Warteschlange geladen wird: <br><br><img src="https://habrastorage.org/webt/0i/k5/ls/0ik5lshjbfihp1qm20tpfl0oc2o.png"><br>  <sup>Abbildung 17: Konfigurieren von JMS Publisher</sup> <br><br>  Und JMS-Abonnent, um die Nachricht aus der eingehenden Warteschlange zu lesen: <br><br><img src="https://habrastorage.org/webt/az/z0/4i/azz04iww1sfoxupraa10iwlcxas.png"><br>  <sup>Abbildung 18: Konfigurieren des JMS-Abonnenten</sup> <br><br>  Wenn alles richtig gemacht ist, wird das Ergebnis im Listener mit hellen und fröhlichen grünen Farben gefüllt. <br><br><h4>  Fazit </h4><br>  Er hat die Themen Routing und Administration bewusst weggelassen, dies sind eher intime und umfangreiche Themen für einzelne Veröffentlichungen. <br><br>  Darüber hinaus gibt es einen erheblichen Teil der Nuancen bei der Arbeit mit Warteschlangen, Datenbanken und Dateien, über die ich auch separat und gründlich sprechen möchte. <br><br>  Pass auf deine Zeit auf.  Und danke fürs Zuschauen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gw/-l/bs/gw-lbsso67kzbcmb8oibvw-pn1u.png" alt="Bild" width="400"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de437172/">https://habr.com/ru/post/de437172/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de437158/index.html">Drei Prozent</a></li>
<li><a href="../de437160/index.html">Devops</a></li>
<li><a href="../de437164/index.html"># 10Jahre Herausforderung für Programmierer</a></li>
<li><a href="../de437166/index.html">Kampfflug auf Meteor-e</a></li>
<li><a href="../de437170/index.html">Facebook schlägt vor, Weltraumlaser für die globale Kommunikation einzusetzen</a></li>
<li><a href="../de437174/index.html">.NET, TensorFlow und die Windmühlen von Kaggle - die Reise beginnt</a></li>
<li><a href="../de437176/index.html">App für iOS und Android auf Kotlin + Flutter UI</a></li>
<li><a href="../de437180/index.html">Harte sibirische JVM: Tolles Interview über Excelsior JET</a></li>
<li><a href="../de437182/index.html">Abfangen von Systemaufrufen im Linux-Kernel-Modul</a></li>
<li><a href="../de437184/index.html">Nikolay Durov 90% haben die Entwicklung der Telegram Open Network-Plattform abgeschlossen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>