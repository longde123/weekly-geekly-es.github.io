<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😄 🆖 🐊 Curso MIT "Segurança de sistemas de computadores". Palestra 7: A Sandbox do Cliente Nativo, Parte 1 😗 🐌 🧛🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula nº 6.858. "Segurança de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Segurança de sistemas de computadores". Palestra 7: A Sandbox do Cliente Nativo, Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418223/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula nº 6.858.  "Segurança de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security é um curso sobre o desenvolvimento e implementação de sistemas de computador seguros.  As palestras abrangem modelos de ameaças, ataques que comprometem a segurança e técnicas de segurança baseadas em trabalhos científicos recentes.  Os tópicos incluem segurança do sistema operacional (SO), recursos, gerenciamento de fluxo de informações, segurança de idiomas, protocolos de rede, segurança de hardware e segurança de aplicativos da web. <br><br>  Palestra 1: “Introdução: modelos de ameaças” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: “Controle de ataques de hackers” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: “Estouros de Buffer: Explorações e Proteção” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: “Separação de Privilégios” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: “De onde vêm os sistemas de segurança?” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: “Oportunidades” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: “Sandbox do Cliente Nativo” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Hoje falaremos sobre um sistema chamado <b>Native Client</b> , que o <b>Google</b> usa no mundo real.  É uma tecnologia sandbox para executar código em diferentes plataformas.  É usado no <b>navegador Chrome</b> , permitindo que aplicativos da Web executem códigos de máquina arbitrários.  Este é realmente um sistema bem legal.  Também ilustra os recursos de isolamento e uma técnica peculiar de separação de sandbox ou privilégio chamada <b>isolamento de falhas de software, isolamento de falhas de software</b> , sem usar o sistema operacional ou a máquina virtual para criar a sandbox. <br><br><img src="https://habrastorage.org/webt/pm/pn/i2/pmpni2s7ydakqxa5tzszbpp2pbu.jpeg"><br><br>  Em vez disso, o <b>Native Client</b> adota uma abordagem completamente diferente para examinar instruções específicas em um arquivo binário para descobrir se é seguro executá-lo ou não.  Portanto, antes de começarmos a estudar os detalhes técnicos do sistema, vamos descobrir por que esses caras realmente querem executar código de máquina?  O interesse específico deles é aplicar esta solução em um navegador da Web, onde você já pode executar o código <b>JavaScript</b> , o <b>Flash Player</b> e alguns outros processos.  Por que esses caras estão tão empolgados com a capacidade de executar código na plataforma <b>x86</b> ?  Afinal, parece que este é um passo para trás. <br><br>  <b>Público:</b> eles querem obter cálculos muito rápidos. <br><br>  <b>Professor:</b> Sim, essa é uma enorme vantagem do código de máquina.  Mesmo que não seja seguro a longo prazo, fornece alto desempenho.  Tudo o que você não faria em <b>JavaScript</b> , por exemplo, escreva um programa e o compile, realmente funcionará muito mais rápido.  Existem outras razões? <br><br>  <b>Público:</b> executando código existente? <br><br>  <b>Professor:</b> certo.  É importante que nem tudo possa ser escrito em <b>JavaScript</b> .  Portanto, se você possui um aplicativo existente ou, na terminologia do setor, código "herdado" que pretende executar na Internet, essa parece ser uma ótima solução.  Como você pode usar apenas uma biblioteca existente, por exemplo, algum tipo de "mecanismo" gráfico complexo que é sensível ao desempenho e a muitas outras coisas complexas que você não deseja reimplementar, e essa será uma boa solução. <br>  Se você está apenas programando um novo aplicativo da Web, deve usar seu próprio cliente se não estiver particularmente preocupado com herança ou desempenho? <br><br>  <b>Público-alvo:</b> então você não precisa usar <b>JavaScript</b> . <br><br>  <b>Professor:</b> sim, essa é uma boa razão.  Se você não gosta de <b>JavaScript</b> , não precisa usá-lo, certo?  Você pode usar, por exemplo, <b>C</b> , executar código <b>Python</b> , escrever em <b>Haskell</b> , em qualquer idioma que achar mais adequado. <br><br>  Portanto, esta é uma lista bastante convincente de motivação para executar seu próprio código em um navegador, e é muito difícil obter direitos para tal ação.  Em apenas um segundo, consideraremos os detalhes técnicos e agora quero mostrar uma demonstração simples de treinamento que recebi do site do <b>Native Client</b> . <br><br><img src="https://habrastorage.org/webt/eu/nh/qv/eunhqvmixughsk_piecmnsfwcpy.jpeg"><br><br>  Isso é bastante simples, porque você pode pegar um programa <b>C ++</b> ou <b>C</b> e executá-lo em um navegador.  Você pode olhar para esta página da web, que é um arquivo <b>HTML</b> que possui um monte de código <b>JavaScript</b> . <br><br><img src="https://habrastorage.org/webt/no/fp/is/nofpisdyic-0xbo1xfg-ptmbsta.jpeg"><br><br>  O motivo da existência desse código <b>JavaScript</b> é que ele permite que você interaja com partes do <b>Native Client</b> .  Em relação à operação do navegador, o significado de uma solução é que você tenha algum tipo de página da Web que contém código <b>JavaScript</b> .  E essa solução funciona com os privilégios das páginas e permite que você faça várias coisas na própria página da Web, por exemplo, se comunique com a rede em algumas circunstâncias. <br><br>  <b>O Native Client</b> permite que você execute seu módulo dentro do navegador, para que o código <b>JavaScript</b> possa interagir com ele e receber uma resposta.  Isso mostra alguns dos códigos <b>JavaScript</b> necessários para o <b>Native Client</b> para interagir com o módulo <b>NaCl</b> específico que estamos prestes a executar. <br><br><img src="https://habrastorage.org/webt/kl/hz/hr/klhzhr6znxavpre0y7ro-bjrgbw.jpeg"><br><br>  E você pode enviar mensagens para este módulo.  Como isso é feito?  Você pega o objeto deste módulo em <b>JavaScript</b> , denomina-se <b>postMessage</b> e <b>,</b> portanto, suporta o envio dessa mensagem para o módulo <b>NaCl</b> .  Quando o módulo <b>NaCl</b> responder, ele iniciará a função de mensagem em <b>JavaScript</b> .  E, nesse caso em particular, uma caixa de diálogo é exibida no navegador. <br><br><img src="https://habrastorage.org/webt/n1/6f/ct/n16fct-epmcvq47bqh35b7wvc8i.jpeg"><br><br>  Portanto, no lado do <b>JavaScript</b> , essa é uma interface de página da web bastante simples.  A única coisa que você precisa fazer adicionalmente é atribuir o módulo <b>NaCl</b> dessa maneira.  Ou seja, basta inserir um módulo com um <b>ID</b> específico <b>aqui</b> .  O mais interessante aqui é o código <b>hello</b> com a extensão <b>nmf</b> .  Ele apenas diz que há um arquivo executável que você precisa baixar e começar a trabalhar com ele em um ambiente <b>NaCl</b> . <br><br><img src="https://habrastorage.org/webt/14/r_/xn/14r_xn80sp_m3ubrkfftdryomqw.jpeg"><br><br>  Esse código nativo é realmente como qualquer outro código C ++ que você possa escrever.  A parte interessante é essa função de processamento de mensagens do <b>HandleMessage</b> . <br><br><img src="https://habrastorage.org/webt/hr/rn/kn/hrrnkncebsasx-lajbmnlf089xc.jpeg"><br><br>  Esta é uma classe <b>C ++</b> e, sempre que o código <b>JavaScript</b> enviar uma mensagem para o código <b>nativo</b> , ele executará essa função.  Ele executa uma verificação <b>if (message = = 'hello')</b> .  Nesse caso, ele criará algum tipo de linha de resposta e a enviará de volta.  Isso é coisa bem simples.  Mas, para detalhes, vamos tentar executá-lo e ver o que acontece. <br><br>  Podemos construir e executar um pequeno servidor Web que servirá a esta página e ao módulo <b>Native Client</b> .  Aqui eu posso ir para este <b>URL</b> , e aqui vemos a página do <b>NaCl</b> .  O módulo recebeu nossa mensagem de boas-vindas do <b>JavaScript</b> , respondeu de volta com uma string no <b>JavaScript</b> e o código <b>JavaScript</b> acionou uma caixa de diálogo pop-up contendo essa resposta. <br><br><img src="https://habrastorage.org/webt/rh/hi/xv/rhhixv0gqz8vgls10i0dkus3vgw.jpeg"><br><br>  Então isso realmente funciona. <br><br>  Tente descobrir se podemos causar uma falha no <b>cliente nativo</b> .  Espero que não, mas podemos pegar esse código e esse buffer e escrever um monte de bobagens nele, por exemplo, 65536 e ver o que acontece. <br><br><img src="https://habrastorage.org/webt/hi/gc/iy/higciynre_pzpduwpdkhsw-6hlq.jpeg"><br><br>  Espero que isso não cause o travamento do meu navegador porque o <b>Native Client está</b> tentando fornecer isolamento.  Mas vamos ver o que acontece. <br><br>  Reinicie o servidor web.  Vemos que a entrada do módulo ainda é bem-sucedida, nosso navegador não foi ferido.  No entanto, as mensagens com o cliente não ocorreram; portanto, a caixa de diálogo está ausente.  Vamos dar uma olhada no console <b>JavaScript</b> na parte inferior da página e ver se o módulo <b>Native Client</b> nos informa sobre a falha do módulo <b>NaCl</b> . <br><br><img src="https://habrastorage.org/webt/5d/ec/ev/5decevvdddfz81augpqkdi25tni.jpeg"><br><br>  É possível que o argumento que inseri tenha causado um estouro de buffer ou acesso a algum endereço errado, mas, em qualquer caso, o módulo <b>NaCl</b> é realmente capaz de isolar a corrupção acidental de memória de forma que não afete o navegador. <br><br>  Esta é uma demonstração rápida desse sistema na forma em que você pode usá-lo como usuário final ou desenvolvedor.  Vejamos mais alguns exemplos.  Por exemplo, como o <b>Native Client</b> funcionará, ou por que precisamos disso, e não de um design alternativo. <br><br>  Portanto, se seu objetivo é isolar seu próprio código, existem várias alternativas com as quais você pode fazer isso.  De fato, as pessoas costumavam ter problemas ao usar código legado e outros idiomas antes do aparecimento do <b>Native Client</b> .  Eles os resolveram de várias maneiras, o que pode não ter sido tão seguro e conveniente quanto o <b>Native Client</b> , mas forneceu os mesmos recursos de isolamento. <br><br>  Então, o que você deve fazer se realmente deseja executar o código da máquina em um navegador?  Uma opção é confiar no desenvolvedor.  Talvez uma variante dessa abordagem seja a pergunta ao usuário se ele deseja executar algum trecho de código no navegador ou não. <br><br>  Então, todo mundo entende aproximadamente que tipo de plano é esse, certo?  Por exemplo, em vez de toda essa estratégia de compilação do <b>Native Client</b> , eu poderia apenas criar um programa <b>C</b> , executá-lo em um navegador e ele me perguntaria se eu quero executar este site ou não?  E se eu clicar em "sim", acidentalmente em "roçada" na memória do navegador, ele travará.  Então é possível, certo?  Isso, é claro, resolve todos esses problemas, mas o que há de errado nisso? <br><br>  Eu acho que o ruim é que esta solução é insegura.  Essa é uma maneira de contornar esse sistema e muitos outros sistemas. <br><br>  <b>A Microsoft</b> tinha um sistema chamado <b>ActiveX</b> que basicamente implementou esse plano.  Você pode enviar os binários para o <b>IE</b> , o navegador do seu computador, e até que eles retornem com um certificado de um desenvolvedor específico assinado por, por exemplo, <b>Microsoft</b> ou outra pessoa, o navegador não executará seu código.  Você acha que esse é um plano útil? <br><br>  Público: É uma questão de confiança! <br><br>  Professor: sim, é.  Você realmente precisa confiar um pouco que o desenvolvedor assinará apenas os "binários" que não farão nada errado.  Mas muitas vezes é impossível descobrir se isso é algo ruim ou não, então eles simplesmente escrevem o código <b>C</b> e o assinam cegamente sem fazer uma enorme quantidade de trabalho.  Nesse caso, você pode obter certos problemas no futuro. <br><br>  Da mesma forma, a decisão de perguntar ao usuário se ele realmente deseja executar alguma coisa não garante segurança.  Mesmo que o usuário queira ter cuidado, na verdade não está claro como ele deve decidir?  Suponha que eu realmente queira entender se posso deixar este programa funcionar?  Disseram-me que está tudo bem, talvez tenha sido criado por desenvolvedores respeitáveis ​​do <b>Google.com</b> ou <b>Microsoft.com</b> .  No entanto, este é o arquivo executável <b>foo.exe</b> e eu absolutamente não sei o que está dentro dele.  Mesmo se eu desmontar o código dele, será muito difícil dizer se ele fará algo ruim ou não.  Portanto, é realmente difícil para o usuário decidir se a execução do código é segura para o sistema. <br><br><img src="https://habrastorage.org/webt/yj/sh/fa/yjshfa6jbfjytpoxjzdt2qfgdpw.jpeg"><br><br>  Assim, o <b>Native Client</b> pode atuar como um mecanismo pelo qual os usuários podem ter alguma confiança em dizerem sim ou não a algum programa. <br><br>  Então, na prática, acho que deveria haver uma opção proposta por nosso palestrante convidado Paul Yang na semana passada.  Ele aconselhou a execução do plug-in " <b>play extension</b> " ou "play the extension" no <b>navegador Chrome</b> .  Ou seja, antes de iniciar qualquer extensão, incluindo o <b>Native Client</b> , você precisa clicar nessa coisa.  De certa forma, é o mesmo que perguntar ao usuário.  Mas, neste caso, mesmo que o usuário decida responder "sim", o sistema ainda estará seguro, porque o <b>Native Client será incluído</b> no trabalho.  Nesse sentido, temos um mecanismo de segurança duplo: primeiro pergunte ao usuário e, em seguida, com uma resposta positiva, inicie o cliente sandbox, o que não permitirá que o navegador trave. <br><br>  Portanto, outra abordagem que deve ser aplicada é usar o sandbox, implementado por meio do SO ou hardware, ou isolar processos.  Foi isso que examinamos nas duas últimas palestras. <br><br>  Talvez você usaria mecanismos de isolamento do <b>Unix</b> .  Se você tivesse algo mais complexo, usaria o <b>FreeBSD</b> ou o <b>Capsicum</b> .  É ótimo para isolar um pedaço de código na sandbox, porque você pode limitar seus recursos.  <b>O Linux</b> possui um mecanismo semelhante chamado <b>Seccomp</b> , que abordamos brevemente na última palestra, e também permite que você faça essas coisas. <br><br>  Portanto, já existe um mecanismo para escrever código isoladamente em sua máquina.  Por que esses caras estão contra o uso desta solução existente?  Parece que eles estão "inventando a roda" por algum motivo.  Então o que está acontecendo? <br><br>  <b>Público:</b> talvez eles queiram minimizar erros? <br><br>  <b>Professor:</b> sim, de certa forma, eles não confiam no sistema operacional.  Talvez eles estejam realmente preocupados com erros do SO.  É provável que o kernel do <b>FreeBSD</b> ou <b>Linux</b> contenha bastante código <b>C</b> que eles não desejam ou não podem verificar se estão corretos, mesmo que quisessem.  E no <b>Capsicum</b> ou no <b>Seccomp, o</b> trabalho é realizado com base no plano de isolamento; portanto, basta que o kernel tenha apenas um pequeno e fiel pedaço de código, para que o sandbox mantenha e aplique o isolamento. <br><br><img src="https://habrastorage.org/webt/wr/iq/ew/wriqewh7dx-iiwc-q2wymixcw1k.jpeg"><br><br>  <b>Público-alvo:</b> como você tem muito mais maneiras de usar navegadores, precisa lidar com vários sistemas operacionais, como iOS e Android, e acessar ... <br><br>  <b>Professor:</b> sim, de fato, outra consideração interessante é que geralmente muitos sistemas operacionais apresentam erros.  Além disso, de fato, diferentes sistemas operacionais são de alguma forma incompatíveis entre si.  Isso significa que cada sistema operacional possui seu próprio mecanismo, conforme mostrado aqui: O <b>Unix</b> possui <b>Capsicum</b> , o <b>Linux</b> possui <b>Seccomp</b> , mas essas são apenas variações do <b>Unix</b> .  <b>O Mac OS</b> possui <b>cinto de segurança</b> , o <b>Windows</b> tem outra coisa e a lista continua. <br><br>  Portanto, no final, cada plataforma com a qual você trabalha tem seu próprio mecanismo de isolamento.  E o que realmente não os incomoda muito é que eles terão que escrever um código diferente para <b>Mac</b> , <b>Windows</b> e <b>Linux</b> .  Mais ainda, isso afeta a maneira como você escreve essas coisas para trabalhar dentro da caixa de areia.  Como no <b>Native Client,</b> você realmente escreve um pedaço de código que é executado da mesma maneira que o código do SO "nativo", da mesma forma que <b>o</b> código da <b>Apple</b> , <b>o</b> código do <b>Windows</b> ou <b>o</b> código do sistema <b>Linux</b> é executado. <br><br>  E se você usar esses mecanismos de isolamento, eles realmente impõem restrições diferentes ao programa colocado na sandbox.  Portanto, você precisa escrever um programa que será executado dentro da caixa de proteção do <b>Linux</b> , outro programa para ser executado dentro da caixa de proteção do <b>Windows</b> e assim por diante. <br><br>  Isso é o que é realmente inaceitável para eles.  Eles não querem lidar com problemas desse tipo.  Que outras considerações você tem? <br><br>  <b>Público-alvo:</b> presumivelmente desempenho do sistema.  Porque se você usar <b>Capsicum</b> , precisará cuidar de recursos suficientes para garantir que os processos funcionem dentro da caixa de proteção.  Aqui eles podem enfrentar o mesmo problema. <br><br>  <b>Professor:</b> sim, é verdade.  O plano de isolamento de falhas de software é realmente muito intensivo em recursos, o que no nível do sistema operacional pode causar uma falta de recursos para dar suporte à sandbox.  Acontece que, em seu próprio <b>cliente nativo,</b> eles realmente usam a sandbox e a sandbox do SO para fornecer segurança adicional.  Assim, de fato, eles não ganham no desempenho de sua implementação, embora provavelmente possam. <br><br>  <b>Público:</b> talvez eles queiram controlar tudo.  Como eles podem controlar o que acontece no navegador, mas se o enviaram ao computador do cliente no sistema operacional, eles não sabem o que poderia acontecer lá. <br><br>  <b>Professor:</b> pode-se dizer que sim, o sistema operacional pode ter erros ou não gerenciar o sandbox suficientemente bem.  Ou a interface é um pouco diferente, então você não sabe o que o sistema operacional está prestes a revelar. <br><br>  <b>Público:</b> e isso não impedirá que o código faça algumas coisas ruins.  Há muitas coisas que o código faz, por exemplo, que você deseja executar análise estática, mas os loops de código impedem a ação do programa. <br><br>  <b>Professor:</b> na verdade, é muito difícil determinar se existe ou não um processo em loop infinito, mas, em princípio, essa abordagem permite detectar alguns problemas de código.  Eu acho que um exemplo realmente interessante, que eu não conhecia até ler o artigo deles, mostra que esses caras estão preocupados com erros de hardware e não apenas com vulnerabilidades do SO que podem ser executadas pelo código.  Por exemplo, o próprio processador possui algumas instruções que podem congelar ou reiniciar o computador.  Basicamente, seu equipamento não deve ter esse erro, porque o sistema operacional depende do fato de que o hardware, em qualquer caso, ajudará a alcançar o kernel, a fim de eliminar as consequências de um erro do usuário. <br><br>  Mas acontece que os processadores são tão complexos que têm erros, e esses caras dizem que encontraram evidências disso.  Se houver instruções complexas que o processador não esperava receber, ele será interrompido em vez de processar o núcleo do sistema.  Isso é ruim.  Eu acho que isso não é catastrófico se eu apenas executar algumas coisas úteis no meu laptop, mas muito pior se o computador congelar quando visito algum tipo de página da web. <br><br>  Portanto, eles queriam criar um nível de proteção mais alto para os módulos do <b>Native Client do</b> que aquele que fornece isolamento no nível do sistema operacional, mesmo sem erros de hardware.  Então, sobre segurança, eles se comportam como paranóicos, incluindo o problema de segurança de hardware. <br><br>  Vamos ver agora como o <b>Native Client</b> realmente isola os processos na sandbox.  Assim, o <b>Native Client</b> adota uma abordagem diferente, que pode ser chamada de "isolar falhas de software". <br><br><img src="https://habrastorage.org/webt/rk/a1/gv/rka1gv4vu6qut_1tjda81we9u6w.jpeg"><br><br>  O plano não é confiar no fato de que o sistema operacional ou o equipamento verificará as coisas enquanto o programa estiver em execução, mas confiar neles para revisar as instruções com antecedência e decidir que elas podem ser executadas com segurança.  Assim, de fato, basta examinar o arquivo binário para verificar todas as instruções possíveis e verificar se elas serão seguras ou não.  Depois de ter decidido que tudo estará seguro, você pode simplesmente iniciar o processo porque sabe que ele consiste em coisas seguras e não haverá falhas. <br><br>  Portanto, o que eles farão é examinar quase todas as instruções no código binário enviado ao navegador e decidir se instruções específicas são seguras ou não. <br><br>      ?     .      ? ,  ,          . <br><br>     -  <b>ALU</b> ,  ,      .         ,    .       ,   ,        .   ,      ,   ,           . <br><br><img src="https://habrastorage.org/webt/jh/gt/nb/jhgtnbhw2ijz1h3_9t_ypdy-nr4.jpeg"><br><br>     ?  ,   ,     .   ,     ,     ,       .  ,    «»  ,  ?           . <br><br>       , ,     ,    -  ,        .    «»    ,    -   .   ,      «» ,     .        ,   ,        ,      ,       . <br> ,         (      )    .      . ,      <b>if</b>  ,      ,    .   ,  ,   –  . <br><br>  ,     ,         ,       .               .  ,       ,        . ,   ,        ,       ,    «»      . <br><br><img src="https://habrastorage.org/webt/na/m3/8e/nam38efcfifztldcv1vxg6zfhpu.jpeg"><br><br>        .       ,          ,     .   ,      ,         . <br><br>          ,    ,    ,   ,       - ,      .       ,  ,   , , .               <b>Trusted Service Runtime</b> ,     .          .         <b>Google</b> .    ,    <b>NaCl</b>    . <br><br>     ,   , ,  ,  ,    —  ,      —   .        ,        . <br><br> <b>:</b> ,        ,       <b>NaCl</b> ?        ,      ? <br><br> <b>:</b>  ,     ,   ,      <b>NaCl</b> .    ,   <b>malloc</b>  <b>pthread_create</b> ,       <b>Trusted Service Runtime</b> .     -        ,        <b>Unix</b> ,       - . ,     ,        <b>JavaScript</b>   -.        <b>RPC</b>   <b>JavaScript</b> ,         . <br><br><img src="https://habrastorage.org/webt/t9/yv/c3/t9yvc38rfpu-anjcegov4zusgjg.jpeg"><br><br> ,   ,     <b>NaCl</b>  <b>Unix</b> -,    - ,          -. <br><br>        .  ,       <b>Native Client</b> .          –       <b>Native Client</b> ? <br><br>    ,  <b>Native Client</b>    .   ,     ,    .        ,      ,    <b>x86</b>            . ,        ,       «»,     . <br><br>            ,           .  ,         ,     0  256   .  ,    ,      ,    ,         . <br><br>        ?   ,      ? <br><br> <b>:</b>  ,     . <br><br> <b>:</b> ,     . ,        ,        .     ,      ,         ?    ,     ? <br><br> <b>:</b>              . <br><br> <b>:</b> ! <br><br> <b>:</b>  -,       ,    .       . <br><br> <b>:</b> ,     .    ,       .  ,  ,       .  ,           ,       ,  <b>Trusted Service Runtime</b> .       ,        ,         <b>Trusted Service Runtime</b>   ,     .  ,          . <br><br>  ,         ,      <b>NaCl</b>    ,     .              ,       0.  ,          <b>NaCl</b>   .         . <br><br> 28:00  <br><br> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Curso MIT "Segurança de sistemas de computadores".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> 7: « Native Client»,  2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/I0Psvvky-44" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . <br><br> ,    .  Você gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usuários da Habr em um análogo exclusivo de servidores básicos que inventamos para você:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as opções estão disponíveis com RAID1 e RAID10, até 24 núcleos e até 40GB DDR4). <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 meses de graça</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao pagar por um novo Dell R630 por um período de seis meses - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x HDD Intel Deca-Core Xeon E5-2630 v4 / 128GB DDR4 / 4x1TB ou SSD 2x240GB / 1Gbps 10 TB - de US $ 99,33 por mês</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , apenas até o final de agosto, faça o pedido pode estar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente nós temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um prédio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418223/">https://habr.com/ru/post/pt418223/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418213/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 5: “De onde vêm os sistemas de segurança”, parte 1</a></li>
<li><a href="../pt418215/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 5: “De onde vêm os erros do sistema de segurança”, Parte 2</a></li>
<li><a href="../pt418217/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 6: “Oportunidades”, parte 1</a></li>
<li><a href="../pt418219/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 6: Oportunidades, Parte 2</a></li>
<li><a href="../pt418221/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 6: “Oportunidades”, parte 3</a></li>
<li><a href="../pt418225/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 7: Sandbox do Cliente Nativo Parte 2</a></li>
<li><a href="../pt418227/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 7: A Sandbox do Cliente Nativo, Parte 3</a></li>
<li><a href="../pt418229/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 8: Modelo de Segurança de Rede, Parte 1</a></li>
<li><a href="../pt418233/index.html">Mnemônicos da BMW para encontrar valores-limite</a></li>
<li><a href="../pt418235/index.html">Saga orquestrada ou como criar transações comerciais em serviços com o banco de dados por padrão de serviço</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>