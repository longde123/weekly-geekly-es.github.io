<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§í üß£ üíí Monitorando como um processo de gerenciamento de eventos üåî üå°Ô∏è üê∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! Hoje, queremos compartilhar com voc√™ um artigo do chefe do suporte t√©cnico do IT-GRAD Alik Fakhrutdinov, no qual falaremos sobre como constr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Monitorando como um processo de gerenciamento de eventos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/it-grad/blog/479058/">  Ol√° Habr!  Hoje, queremos compartilhar com voc√™ um artigo do chefe do suporte t√©cnico do IT-GRAD Alik Fakhrutdinov, no qual falaremos sobre como constru√≠mos um novo sistema de monitoramento como parte de uma colabora√ß√£o com o MTS PJSC.  Desta vez, omitimos os detalhes e as nuances t√©cnicas e focamos na complexidade administrativa do processo.  Sob o corte, falaremos sobre quais eventos nos levaram a construir um novo sistema de monitoramento (em vez de "estragar" o antigo), falaremos sobre novos chips de monitoramento como um servi√ßo para os clientes e as dificuldades que encontramos no processo. <br><br><img src="https://habrastorage.org/webt/ni/gh/gu/nighguvx-kvfp4edo1vegjtuhee.png"><br><a name="habracut"></a><br>  Como voc√™ deve saber, o conceito de provedor de nuvem unificado √© atualmente representado por tr√™s marcas colaboradoras: <br><br><ul><li>  #CloudMTS, criado pelo Centro de Inova√ß√£o MTS; </li><li>  IT-GRAD Company, um provedor de IaaS baseado em nuvem; </li><li>  Servi√ßo 1cloud. </li></ul><br>  Agora, todas as marcas desse conceito trabalham juntas e se complementam mutuamente, tentando fechar as solicita√ß√µes de v√°rios segmentos de nosso p√∫blico.  No entanto, durante a fus√£o, encontramos algumas dificuldades, uma das quais levou ao desenvolvimento de um novo sistema de monitoramento. <br><br>  Ap√≥s a transa√ß√£o, foi iniciado o processo de separa√ß√£o da infraestrutura de TI em nuvem do IT-GRAD em um segmento separado.  Foi um per√≠odo de transi√ß√£o dif√≠cil, durante o qual um grande n√∫mero de equipamentos e data centers foram desconectados, que n√£o foram inclu√≠dos no acordo.  O roteamento das redes internas e externas mudou.  Ao mesmo tempo, os prazos estavam se esgotando e os gatilhos no sistema de monitoramento nem sempre conseguiam atualizar a tempo.  Isso levou √† gera√ß√£o de muitos incidentes falsos a partir de equipamentos inexistentes. <br><br>  No processo de reconfigura√ß√£o global, os funcion√°rios tiveram dificuldades.  suporte - eles enfrentaram um fluxo t√£o grande de alertas falsos que foi extremamente dif√≠cil processar todos os eventos corretamente e em tempo h√°bil.  Era necess√°rio reconfigurar completamente o sistema de monitoramento, atualizando-o para as tarefas atuais e transform√°-lo em um novo servi√ßo, tanto para uso interno quanto para nossos clientes. <br><br>  Como resultado, decidiu-se criar uma unidade de gerenciamento de eventos dedicada, que estabelecer√° o sistema de monitoramento no IT-GRAD e, posteriormente, se tornar√° um √∫nico centro para monitorar o estado da infraestrutura do provedor de nuvem integrado. <br><br>  Como resultado da transforma√ß√£o, os principais requisitos s√£o: <br><br><ul><li> O sistema de monitoramento deve funcionar n√£o apenas no IT-GRAD, mas tamb√©m se tornar um servi√ßo interno para o Unified Cloud Provider e um servi√ßo para os clientes. </li><li>  Era necess√°ria uma solu√ß√£o que coletasse estat√≠sticas de toda a infraestrutura de TI. </li><li>  Como existem muitos sistemas, todos os eventos de monitoramento devem convergir em um √∫nico agregador de dados, onde eventos e gatilhos s√£o verificados em um √∫nico CMDB e, se necess√°rio, os usu√°rios s√£o notificados automaticamente. </li></ul><br>  Depois de coletar e analisar todos os dados dispon√≠veis naquele momento, dividimos a implementa√ß√£o do projeto em v√°rias etapas: <br><br><ol><li>  Determinando os requisitos para um sistema de monitoramento. </li><li>  Prepara√ß√£o de modelos de servi√ßos de ‚Äúcomponentes de sa√∫de‚Äù. </li><li>  An√°lise de requisitos de confiabilidade e toler√¢ncia a falhas do sistema de monitoramento. </li><li>  Teste e implementa√ß√£o consistente do sistema. </li><li>  Organiza√ß√£o de monitoramento como servi√ßo para clientes. </li></ol><br>  Para maior clareza, apresentamos esse processo na forma de um fluxograma. <br><br><img src="https://habrastorage.org/webt/-h/k1/3t/-hk13tsh0_g4knuxug1un9fbnz0.png"><br><br><img src="https://habrastorage.org/webt/im/vw/iz/imvwizgfssjladi2z1vjeyhavfq.png"><br><br><h2>  Dificuldades de crescimento </h2><br>  Obviamente, a introdu√ß√£o de um sistema t√£o complexo n√£o p√¥de correr perfeitamente bem, e encontramos algumas dificuldades. <br><br><ul><li>  O primeiro ponto √© a forma√ß√£o de um novo departamento.  Descobriu-se que encontrar especialistas altamente especializados que conhecem e t√™m experi√™ncia pr√°tica trabalhando com v√°rios sistemas de monitoramento n√£o √© t√£o simples.  Um de nossos requisitos era o entendimento do monitoramento como servi√ßo, e n√£o apenas como um dos componentes da infraestrutura de TI. </li><li>  Prazos para resolver o problema. </li><li>  Uma infraestrutura de TI geograficamente fragmentada que precisava ser levada a um √∫nico padr√£o. </li><li>  Um grande n√∫mero de sistemas de monitoramento diferentes que precisavam ser combinados em um √∫nico sistema. </li></ul><br><h2>  Monitoramento e relat√≥rios no sistema de monitoramento </h2><br><img src="https://habrastorage.org/webt/8c/v1/ks/8cv1ksztmrzpkpciokczldwbrla.png"><br><br>  <s>Socialismo:</s> a infraestrutura de TI √© contabilidade e controle.  Nem um √∫nico evento, mesmo o mais insignificante, deve ser deixado sem aten√ß√£o.  No momento, conseguimos criar um processo de gera√ß√£o de relat√≥rios e controle, incluindo: <br><br><ul><li>  relat√≥rios e estat√≠sticas de rastreamento dos componentes de nossos clientes; </li><li>  Conduzir uma an√°lise gerencial do ‚Äústatus operacional‚Äù de nossa infraestrutura interna; </li><li>  planejando melhorias no servi√ßo com base nos relat√≥rios coletados. </li></ul><br>  O √∫nico CMDB criado nos permite rastrear o status e o hist√≥rico de eventos em toda a infraestrutura como um todo e para cada componente individualmente. <br>  Al√©m disso, come√ßamos a monitorar o status de servi√ßos individuais, por exemplo, backups, ou seja, a corre√ß√£o das tarefas de backup.  Se, por algum motivo, a tarefa falhar, o sistema registrar√° o incidente.  Indica o servidor de backup, a tarefa em si e a m√°quina virtual - sabendo disso, podemos corrigi-lo rapidamente.  Al√©m disso, pelos servi√ßos de monitoramento, podemos fornecer relat√≥rios aos nossos clientes. <br><br><img src="https://habrastorage.org/webt/pa/c-/zg/pac-zg3xdavqyulsak9y8xljtes.png"><br><br>  Abaixo, fornecemos uma captura de tela dos relat√≥rios da Live Technologies. <br><br><img src="https://habrastorage.org/webt/jd/9u/lp/jd9ulpxp8w7qy893_hq22zzduaw.png"><br><br>  Abaixo, voc√™ pode ver um relat√≥rio resumido sobre o n√∫mero de incidentes agrupados por classe de unidades de configura√ß√£o (KE) em termos do grau de influ√™ncia na infraestrutura. <br><br><img src="https://habrastorage.org/webt/l9/sm/rb/l9smrbglo4siz6kfg126t6xpr0y.png"><br><br><h2>  Resultados do sistema de monitoramento </h2><br>  O novo sistema de monitoramento j√° est√° operando ativamente e estamos prontos para compartilhar com voc√™ os resultados de seu trabalho e nossas pr√≥prias observa√ß√µes. <br><br>  No momento, conseguimos restaurar completamente o monitoramento da infraestrutura do IT-GRAD e nos livrar da gera√ß√£o de incidentes falsos.  O servi√ßo para clientes est√° sendo testado e estar√° dispon√≠vel em breve.  No futuro, planejamos concluir a integra√ß√£o de infraestruturas conectando 1cloud e #CloudMTS a um √∫nico sistema de monitoramento IT-GRAD. <br><br><img src="https://habrastorage.org/webt/kv/qc/iw/kvqciwppv9tdyjk-0cyqf5a52pi.png"><br><br>  <b>Anteriormente,</b> quando um gatilho de alerta era acionado, era gerado um incidente no suporte de 1 linha.  O oficial de servi√ßo a processou e notificou o cliente por telefone ou e-mail. <br><br>  <b>Agora</b> tudo funciona de forma aut√¥noma: quando o gatilho √© acionado por 2 minutos, se necess√°rio, o cliente √© notificado automaticamente. <br><br>  Vamos prestar um pouco de aten√ß√£o em como os alertas funcionam. <br><br><img src="https://habrastorage.org/webt/gz/iv/ap/gzivapzmr1zhjki1yte4nv5iwuy.png"><br><br>  No caso de uma altera√ß√£o no estado do componente de TI, o sistema de monitoramento registra o evento no agregador de dados, que processa o evento atrav√©s do corpo da carta e, dependendo do grau de criticidade do estado do componente especificado no alerta, gera uma solicita√ß√£o, notifica√ß√£o ou incidente com a prioridade desejada.  Al√©m disso, o sistema, por meio do CMDB, determina a qual KE do cliente pertence e, de acordo com o modelo de integridade, ele alerta por email ou SMS.  Al√©m disso, no momento, um bot de telegrama especial para alertas est√° passando por um est√°gio de finaliza√ß√£o e em breve estar√° dispon√≠vel para todos os nossos clientes. <br><br><img src="https://habrastorage.org/webt/ze/9i/io/ze9iioab2nas2p53dwwxl2yowbo.png"><br><br>  Agora, como parte do processo de monitoramento e controle de servi√ßos, estamos monitorando o "estado de sa√∫de" do ambiente de TI em funcionamento em tempo real, notificando automaticamente usu√°rios externos e internos.  O monitoramento do status da infraestrutura e dos servi√ßos de TI, bem como dos dados coletados, permite que voc√™ tome a√ß√µes proativas antes que algo d√™ errado. <br><br>  Como voc√™ pode ver, o processo de constru√ß√£o de um sistema de monitoramento est√° repleto de armadilhas.  No entanto, temos certeza de que, como resultado do trabalho conjunto de nossos engenheiros e analistas, obtivemos um excelente produto que resolve dois problemas de neg√≥cios de uma s√≥ vez: fornece monitoramento de alta qualidade e permite implementar o monitoramento como um servi√ßo para os clientes. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt479058/">https://habr.com/ru/post/pt479058/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt479048/index.html">Node.js Streams para manequins ou como trabalhar com streams</a></li>
<li><a href="../pt479050/index.html">Pesquisa de patentes em TI. O curso do jovem lutador. Parte II Fontes de informa√ß√£o para pesquisa de patentes</a></li>
<li><a href="../pt479052/index.html">[Supercomputa√ß√£o 2019]. Armazenamento em v√°rias nuvens como um aplicativo para novas unidades Kingston DC1000M</a></li>
<li><a href="../pt479054/index.html">Friday Mobile Poll</a></li>
<li><a href="../pt479056/index.html">Falar sobre a vida? Equipe DREAM no Pr√™mio Alexa Desafio Socialbot 3</a></li>
<li><a href="../pt479060/index.html">Por que o controle de qualidade √© uma boa carreira para um programador</a></li>
<li><a href="../pt479062/index.html">Multithreading em Node.js. Loop de eventos</a></li>
<li><a href="../pt479066/index.html">Designers industriais Tesla Cybertruck: por que ele √© t√£o bom e ruim</a></li>
<li><a href="../pt479068/index.html">An√°lise de incidentes em sistemas e redes de computadores</a></li>
<li><a href="../pt479070/index.html">Como Nadia se tornou Nadezhda Mikhailovna</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>