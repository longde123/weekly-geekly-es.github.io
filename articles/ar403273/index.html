<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฝ ๐ ๐๐พ ุงูุฃุชูุชุฉ ูุน Pebble ูุฑูุญุฉ ุ Noolite ูุณุชูุฑุฉ ูุจุฃุณุนุงุฑ ูุนูููุฉ esp8266 ๐๐ผ ๐จโ๐ฉโ๐ฆโ๐ฆ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฐ ุงูููุงูุฉ ุงูุฃุฎูุฑุฉ (ุงุณุชูุฑ ุงูุฑุงุจุท ููุฏุฉ ุนุงู ุชูุฑูุจูุง. ูุฎูุงู ูุฐุง ุงูุนุงู ุ ุฃุนุฏุช ุงูุชูููุฑ ูู ุจุนุถ ุงูุฃุดูุงุก ุ ูุดูู ุงูุฅูุชุฑูุช ุดูุฆูุง ูุซู ุฅูุชุฑูุช ุงูุฃุดูุงุก :) โ ุฅูุชุฑูุช...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุฃุชูุชุฉ ูุน Pebble ูุฑูุญุฉ ุ Noolite ูุณุชูุฑุฉ ูุจุฃุณุนุงุฑ ูุนูููุฉ esp8266</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/403273/" style=";text-align:right;direction:rtl"> ููุฐ ุงูููุงูุฉ ุงูุฃุฎูุฑุฉ (ุงุณุชูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฑุงุจุท</a> ููุฏุฉ ุนุงู ุชูุฑูุจูุง. ูุฎูุงู ูุฐุง ุงูุนุงู ุ ุฃุนุฏุช ุงูุชูููุฑ ูู ุจุนุถ ุงูุฃุดูุงุก ุ ูุดูู ุงูุฅูุชุฑูุช ุดูุฆูุง ูุซู ุฅูุชุฑูุช ุงูุฃุดูุงุก :) โ ุฅูุชุฑูุช ุงูุฃุดูุงุก). <br><br>  ุณุฃุญุงูู ุฃู ุฃูุฎุต ุฌุฒุกูุง ุฌุฏูุฏูุง ูู ุงููุนุฑูุฉ ุงููุชุฑุงููุฉ ุ ูุฃุตู ุฃูู ุฃุณุนู ููุง ุฃุฑูุฏ ุชุญูููู โ ุฃุทูุจ ููู ูุฑุงุกุชู. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  Noolite F v2.0 </h2><br>  <b>ูู ุงูุนููุงู ุ ุญุตูุช ุนูู ุงููููุงุช: ุญุตุงุฉ ูููููุช.</b>  <b>ุฏุนูุง ููุชูู ุฅูููู!</b> <br>  ูุง ุฒูุช ุฃุฏูุฑ ูุน ุญุตุงุฉ ุจูุฏู ุถูุก ุงููุฑุขุจ ูุงูุฌุฑุงุฌ ูุงูุจูุงุจุฉ.  ููุฏ ุชู ุจุงููุนู ูุชุงุจุฉ ุงููุซูุฑ ูู ุงููุนูููุงุช ุงููููุฏุฉ ุญูู ุงููููุงูุช ุ ููุธูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจุญุซ</a> ููุงูุงุช ุฌุฏูุฏุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ูุญุฏุงุช ุงูุฌูู ุงูุฃูู ูู ูุธุงู noolite ุ ูุฏู ูุญุฏุงุช ุฌุฏูุฏุฉ: ูุญุฏุฉ ุทุงูุฉ SLF-1-200 (nooLite-F) ูุน ุงูุชุบุฐูุฉ ุงููุฑุชุฏุฉ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุดููุฑ ุงูุฌูู ุงูุฌุฏูุฏ</a> ). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/312/be1/be5/312be1be5d922ebcc46d307015f01eb0.png" alt="ุงูุตูุฑุฉ"><br><br>  ูุชูุฉ ุงูุทุงูุฉ SB-1-150 <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/0a1/575/b81/0a1575b813bdd72fa22800bf8b33374d.png" alt="ุงูุตูุฑุฉ"><br><br>  ููุญูู USB ูุญุฏุซ MTRF-64 USB. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/61e/842/1de/61e8421deaa8155d33aba9f064002a3b.png" alt="ุงูุตูุฑุฉ"><br><br>  ูู ุงูุถูุก ูู ุจูุชู ุนูู ูุธุงู noolite. <br><br>  ุญุชู ููุช ูุฑูุจ ุ ูุงู ูุฏู ูุญูู USB ูู ุงูุฌูู ุงูุฃูู ูุน 16 ุฌูุงุฒูุง ูุงูุขู 64 ููุงุฉ (MTRF-64 USB) ูู "ุชุดูุฌ ุงููุธุงู ุงูุฃุณุงุณู ููููุฒู" ุ ูุฃูุถูุง ูุฃุฌูุฒุฉ ุงูุฌูู ุงูุฌุฏูุฏ ุฐุงุช ุงูุชุนูููุงุช (noolite F).  ููู ุงูุชูููููุฌูุง ุชุณูุฑ ูู ุงูุงุชุฌุงู ุงูุตุญูุญ ุ ูุฎููุฉ ุฃุฌูุฒุฉ ุฌุฏูุฏุฉ ูุญุฏูุซุฉ. <br><br>  <b>ููุงู ุฎูุงุฑุงู ุฃูู ููุฃุฌูุฒุฉ ุงูุฌุฏูุฏุฉ: ุงูููุงุญุธุงุช ููุจุฏุฃ ุชุญุฏูุฏ ุงูุฃุฌูุฒุฉ ุญุณุจ ุงูุนูุงููู: ุงููุนุฑูู.</b>  ุงูุขู ููุณ ุนููู ูุชุงุจุฉ ุงูุฃุฌูุฒุฉ ูููุงุฉ 1 ูุงูุชุญูู ูู ุงูููุงุฉ.  ุงูุขู ููููู ุงููุตูู ุฅูู ุฌูุงุฒ ูุนูู ูู ููุงุฉ ูุงุญุฏุฉ ุนู ุทุฑูู ูุนุฑูู ูุฅุฑุณุงู ุฃูุฑ ุชูููุฐ ุฅููู. <br><br>  ูุซุงุฆู ุงูุฌูู ุงูุฌุฏูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุงุญุฉ</a> ุนูู ูููุน ุงูุดุฑูุฉ ุงููุตูุนุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูู ุดูุก ูุนูู ูู ุฎูุงู ุงููููุฐ ุงูุชุณูุณูู ุจุงุณุชุฎุฏุงู ุฑูุฒ ุจูุซูู.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- #!/usr/bin/env python import serial import time class NooLiteCommand: def __init__(self, ch, cmd, mode=0, ctr=0, res=0, fmt=0, d0=0, d1=0, d2=0, d3=0, id0=0, id1=0, id2=0, id3=0): self.st = 171 self.mode = mode self.ctr = ctr self.res = res self.ch = ch self.cmd = cmd self.fmt = fmt self.d0 = d0 self.d1 = d1 self.d2 = d2 self.d3 = d3 self.id0 = id0 self.id1 = id1 self.id2 = id2 self.id3 = id3 self.sp = 172 @property def crc(self): crc = sum([ self.st, self.mode, self.ctr, self.res, self.ch, self.cmd, self.fmt, self.d0, self.d1, self.d2, self.d3, self.id0, self.id1, self.id2, self.id3, ]) return crc if crc &lt; 256 else divmod(crc, 256)[1] def to_bytes(self): return bytearray([ self.st, self.mode, self.ctr, self.res, self.ch, self.cmd, self.fmt, self.d0, self.d1, self.d2, self.d3, self.id0, self.id1, self.id2, self.id3, self.crc, self.sp ]) class NooliteSerial: def __init__(self, tty_name): self.tty = self._get_tty(tty_name) def on(self, ch): self.send_command(ch, 2, 2, 0) pass def off(self, ch): self.send_command(ch, 0, 2, 0) pass def status(self, ch): m = self.send_command(ch, 128, 2, 0) pass def send_command(self, ch, cmd, mode=0, ctr=0, res=0, fmt=0, d0=0, d1=0, d2=0, d3=0, id0=0, id1=0, id2=0, id3=0): command = NooLiteCommand(ch, cmd, mode, ctr, res, fmt, d0, d1, d2, d3, id0, id1, id2, id3) self.tty.write(command.to_bytes()) while True: bytes_response = list(self.tty.read(117)) if bytes_response: all_responses.append(bytes_response) if bytes_response[3] == 0: break else: break return all_responses @staticmethod def _get_tty(tty_name): serial_port = serial.Serial(tty_name, timeout=0.1) if not serial_port.is_open: serial_port.open() serial_port.flushInput() serial_port.flushOutput() return serial_port noo_serial = NooliteSerial('/dev/ttyUSB0') #ch, cmd, mode, ctr #noo_serial.send_command(1, 15, 2, 0) #    1 #noo_serial.send_command(0, 4, 2, 0) #switch #noo_serial.send_command(0, 2, 2, 0) #turn on #noo_serial.send_command(0, 3, 2, 0) #   #noo_serial.send_command(0, 0, 2, 0) #turn off #noo_serial.send_command(0, 15, 2, 0) #  #noo_serial.send_command(0, 128, 2, 0,0,1) #CMD_Read_State + fmt = 1 #noo_serial.on(0) #noo_serial.status(0) #noo_serial.off(0) #noo_serial.off(0) #noo_serial.status(0) #noo_serial.send_command(ch=0,ctr=8, cmd=4, id0=0,id1=0,id2=48,id3=114) #switch noolite ID 0.0.48.114</span></span></code> </pre> <br></div></div><br>  ุจุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงููุงุฒูุฉ ูู ุงูููุช ุงูููุงุณุจ ุ ูููููุง ุงูุชุญูู ูู ูุชู noolite ูุชููู ุงูุญุงูุฉ ูู ุชูู ุงูุฌุฏูุฏุฉ.  ูุธุฑูุง ูุฃู ูุฏู 99 ูช ูู ูุฐู ุงููุชู ุงููุฏููุฉ ุ ูุจูู ูู ุงุณุชุฎุฏุงู ุงููุฎุทุท ุงููุฏูู ููุชุงุจุฉ ูุชูุฉ ูุงุญุฏุฉ ุฅูู ููุงุฉ ูุงุญุฏุฉ ุ ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุญูููุฉ ุฃู ูุญูู USB ูุฏุนู ููุงู ูู ุงููุชู ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ (ุจูุถู ุงููุทูุฑูู ููุชูุงูู ุฏูู ุฑูุต ุงูุฏู).  ุนูู ุงูููุฑ ุ ููููู ุฅุฏุงุฑุฉ ูุชููู ุญุงูุฉ ูุชู ุฌุฏูุฏุฉ ูุฅุฏุงุฑุฉ ุงููุฏููุฉ. <br><br>  ุญุชู ููุช ูุฑูุจ ุ ูู ููู ููุงู ุฒุฑ ุถุบุท ูุงุญุฏ ูู ุงูููุฒู.  ุงุถุทุฑุฑุช ุฅูู ุฅุถุงูุฉ ุถูุก ุฅูู ุงููุฑุขุจ (ูุตูุช ููุชู ูุชุฑุชูุจ ุงูุฃุดูุงุก: D) ุ ููุง ุธูุฑ ููุชุงุญ ูู ุงูุฅุถุงุกุฉ ุงูุฎูููุฉ ููุฑุขุฉ ุงููุงููุงุฌ.  ูุน ุงูุนูู ุฃู ููุงู <b>ูุญุฏุฉ ุทุงูุฉ SB-1-150</b> ุ ููุช ุจุชุนููู ุงูููุชุงุญ ุงูุนุงุฏู ูุชูุตูู ุงููุญุฏุฉ.  ูุงู ุงูุถูุก ุงูุฎููู ูููุฑุขุฉ ูุตููุนูุง ูู ููุญุฉ ุจูุถุงุก ุ ููุจุงุช ุฅุถุงุกุฉ 3 ูุงุช 4000 ู ุ ุถูุก ุฃุจูุถ.  SB-1-150 ูุฑูุฏ ูู ููุนู ูู ุญูุซ ุฃูู ูููู ูุถุนู ูู ุตูุฏูู ููุชุงุญ ุงูุฌุฏุงุฑ (ุงูุชุจุฏูู) ูู ุณูุงู ุงูุฏุงุฆุฑุฉ ุงูุญุงููุฉ ูุนู ุทุฑูู ุชูุตูู ููุชุงุญ ุงูุถุบุท ุนูู ุงูุฒุฑ ุจุงููุญุฏุฉ ููุณูุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุจุงูุถุจุท ูุง ุชุญุชุงุฌู ูุชุงุชู ูููุงููุงุฌ :)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/geektimes/post_images/63d/97d/4ff/63d97d4ff9ed73ee3fe00abba6a94fed.png" alt="ุงูุตูุฑุฉ"><br></div></div><br><h2 style=";text-align:right;direction:rtl">  ุญุตุงุฉ </h2><br>  ุนูุฏูุง ุจุฏุฃุช ุงููุดุงุฑูุฉ ูู ุงูุฃุชูุชุฉ ุ ูุงู ุฃุญุฏ ุงูุนูุงูู ุงูุฑุฆูุณูุฉ: ุงูุฅุฏุงุฑุฉ ุงููุฎุชุตุฉ ูุงูููุงุฆูุฉ. <br><br>  ูุจุฏู ุฃูู ูู ุงูุณูู ุงูุชุญูู ูู ุงููุงุชู ุงูุฐูู ุ ูููู ... ูููุณ ูู ุงูููุงุณุจ ุชุญููู ุงูุชุทุจูู ูู ูู ูุฑุฉ ุ ุญูุซ ุชูุฌุฏ ุฃุฒุฑุงุฑ ุตุบูุฑุฉ ุบูุฑ ูุฑูุญุฉ ุ ุฃู ุฅุนูุงูุงุช ุนูู ุงููุณุงุฑ ุ ุฃู ุญุชู ุชุตู ุฅูู ุงูุถุบุท ุนูู ุงูุฒุฑ ... ุชุฎุชูู ูู ุงูุฑุบุจุฉ.  ูุฎุชูู ุงูุชุญูู ุงูุตูุชู ุ ูุฃูู ุฃูุถูุง ุบูุฑ ูุฑูุญ ูุบุฑูุจ :) - ุฏุนู ูุจูู ูู ูุคุงูุฑุงุช ุฃููุงู ุงูุฎูุงู ุงูุนููู. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/5ea/226/ba7/5ea226ba78a2e6fb2e61a63458aa88af.png" alt="ุงูุตูุฑุฉ"><br><br>  ูููุช ุจุญู ุงููุดููุฉ ุจุทุฑููุฉ ุฃุฎุฑู - ูู ุฎูุงู ุณุงุนุฉ ุงููุฏ ุ ุงูุชู ุฏุงุฆููุง ูุง ูุง ุชุดุบู ูุณุงุญุฉ ูุชุฌูุน ุจูู ุฌููุน ูุณุงุฆู ุงูุฑุงุญุฉ ูุงูุชููู ูุณุฑุนุฉ ุงูุชุญูู.  ุนูููุง - ุจูุจู ุนูู ููุฏ ุงูุญูุงุฉ!  ูููู ุงูุดูุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ุฃูู ุ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ ุ ูุง ูุฒุงู ุจุฅููุงูู ูุชุงุจุฉ ุงูุชุทุจููุงุช - ุชุทุจููุงุชู ุงูุฎุงุตุฉ ุ ูุฅุฏุงุฑุฉ ุฃูุธูุฉ ุงูุฃุชูุชุฉ ุงูุฎุงุตุฉ ุจู.  ุฅููุง ูู ุงููุงูุน ููุจูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุญุตุงุฉ ุนูู ููุฏ ุงูุญูุงุฉ!</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏูู ุจูุงุจุฉ ุงูุชุญูู</a> <br></div></div><br>  ูู ุชุคุซุฑ ูุฃุณุงุฉ ุฅุบูุงู ุดุฑูุฉ pebble.com (ุงุดุชุฑุช Fitbit ุฌููุน ููุงูุน pebble.com ูุจุฑุงุกุงุช ุงูุงุฎุชุฑุงุน) ุนูู ุฃุฏุงุฆูุง ูุฃุฏุงุฆูุง.  ูู ุงูุขููุฉ ุงูุฃุฎูุฑุฉ ูุงู ููุงู ุชุญุฏูุซ ูู ios ู android - ุชู ุฅูุบุงุก ุฑุจุท ุงูุณุงุนุฉ ูู ุฎุฏูุงุช ุณุญุงุจุฉ ุญุตุงุฉ (ูู ุญุงูุฉ ุฅููุงุก ุงูุฏุนู) ูุงูุชูููุถ. <br><br>  ุจุตุฑูุง - ูู ูุชุบูุฑ ุดูุก ุ ููู ุงูุฎุฏูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุจูู</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">cloudpebble.net</a> - WTFุ  ูุฐุง ุดูุก ูููุฏ ููุบุงูุฉ.  ุฅุฐุง ูุงู ุจุฅููุงูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู JS (ูููุณ ููุงู ุฑุบุจุฉ ููุถุงุก ุงููุซูุฑ ูู ุงูููุช ุนูู C ++) - ูุฑุฌู ุงูุชุฑุญูุจ ุนูู ูุชู ุงูุทุงุฆุฑุฉ :) - ุชุณูุญ ูู ุงูุญุตุงุฉ ุงูุณุญุงุจูุฉ "ุจุฅููุงุก" ุงูุชุทุจูู ุจุณุฑุนุฉ.  ุญุณููุง ููุฐุง ูุนูุช ุฐูู.  ุจุงูุทุจุน ุ ูุง ููุจุบู ููุงุฑูุฉ ุฃุฏุงุก JS ูุน C ++ (ูุฐุง ููุฏุณ) ุ ุชุนุซุฑุช.  ูุนู ูุนูุง! <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุดุจูุจุฉ ุณุญุงุจุฉ ุจูุจู ููุนูู ูุน API</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> UI = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'ui'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ajax = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'ajax'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> noolite = [ [<span class="hljs-string"><span class="hljs-string">''</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/mqtt/gate/slidegate'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/gate.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">''</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/mqtt/gate/garage'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/door.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">'!'</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/103'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/100'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/system2.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">'1  '</span></span>,<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">'2  '</span></span>,<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 1'</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/101'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 2'</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/102'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">''</span></span>,<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">''</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/admin/system/1'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/system1.png'</span></span>], ]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> water = [ [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/admin/poliv/1'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/admin/poliv/2'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 1 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/20'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 2 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/21'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 3 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/22'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 4 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/23'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 5 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/admin/poliv/switch/5'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 6 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/admin/poliv/switch/6'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 7 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/admin/poliv/switch/7'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 8 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/admin/poliv/switch/8'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 9 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/admin/poliv/switch/9'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/water.png'</span></span>], ]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> light1 = [ [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/6'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/0'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">'  '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/1'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">'  '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/7'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">'  '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/8'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 1 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/2'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 1 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/3'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 1 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/4'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/5'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/9'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], ]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> light2 = [ [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/15'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/16'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 2 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/10'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 2 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/11'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' 2 '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/12'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">' '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/13'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], [<span class="hljs-string"><span class="hljs-string">'  '</span></span>,<span class="hljs-string"><span class="hljs-string">'http://your-home-server-ip-address:1183/noolite/switch/14'</span></span>, <span class="hljs-string"><span class="hljs-string">'images/light.png'</span></span>], ]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UI.Menu({ <span class="hljs-attr"><span class="hljs-attr">sections</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">items</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }] }] }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UI.Menu({ <span class="hljs-attr"><span class="hljs-attr">sections</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">items</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }] }] }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UI.Menu({ <span class="hljs-attr"><span class="hljs-attr">sections</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">items</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }] }] }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu3 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UI.Menu({ <span class="hljs-attr"><span class="hljs-attr">sections</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">items</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }] }] }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> items = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;noolite.length; i++) { items[i] = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: noolite[i][<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">icon</span></span>: noolite[i][<span class="hljs-number"><span class="hljs-number">2</span></span>] }; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> items1 = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;light1.length; i++) { items1[i] = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: light1[i][<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">icon</span></span>: light1[i][<span class="hljs-number"><span class="hljs-number">2</span></span>] }; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> items2 = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;light2.length; i++) { items2[i] = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: light2[i][<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">icon</span></span>: light2[i][<span class="hljs-number"><span class="hljs-number">2</span></span>] }; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> items3 = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;water.length; i++) { items3[i] = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: water[i][<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-attr"><span class="hljs-attr">subtitle</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">icon</span></span>: water[i][<span class="hljs-number"><span class="hljs-number">2</span></span>] }; } menu.items(<span class="hljs-number"><span class="hljs-number">0</span></span>, items); menu1.items(<span class="hljs-number"><span class="hljs-number">0</span></span>, items1); menu2.items(<span class="hljs-number"><span class="hljs-number">0</span></span>, items2); menu3.items(<span class="hljs-number"><span class="hljs-number">0</span></span>, items3); menu.show(); menu.on(<span class="hljs-string"><span class="hljs-string">'select'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.itemIndex == <span class="hljs-number"><span class="hljs-number">4</span></span>) { menu1.show(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.itemIndex == <span class="hljs-number"><span class="hljs-number">5</span></span>) { menu2.show(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.itemIndex ==<span class="hljs-number"><span class="hljs-number">8</span></span>) { menu3.show(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> url = noolite[e.itemIndex][<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(url); ajax({ <span class="hljs-attr"><span class="hljs-attr">url</span></span>: url, <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">'get'</span></span> }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'switched OK'</span></span>); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Failure! console.log('error'); } ); } }); menu1.on('select', function(e) { var url = light1[e.itemIndex][1]; console.log(url); ajax({ url: url, method: 'get' }, function(data) { console.log('switched OK'); }, function(error) { // Failure! console.log('error'); } ); }); menu2.on('select', function(e) { var url = light2[e.itemIndex][1]; console.log(url); ajax({ url: url, method: 'get' }, function(data) { console.log('switched OK'); }, function(error) { // Failure! console.log('error'); } ); }); menu3.on('select', function(e) { var url = water[e.itemIndex][1]; ajax({ url: url, method: 'get' }, function(data) { console.log('switched OK'); }, function(error) { // Failure! console.log('error'); } ); });</span></span></code> </pre><br></div></div><br>  ูุชู ูุชุงุจุฉ ุงูุฑูุฒ ูุชุฌููุนู ูุจุงุดุฑุฉ ุนูู ูููุน ุงูููุจ ุงูุณุญุงุจู Pebble ุ ููู ุฎูุงู ุงููุงุชู ุ ูููู ุชูุฒูู ุงูุชุทุจูู ุงููุฌูุน ุ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ - ูู ุซูุงูู.  ูู ุดูุก ุจุณูุท ููุบุงูุฉ ุจุญูุซ ูููู ูุฃู ูููุฏุณ ุฃุชูุชุฉ ุดุงุจ ุงูุชุนุงูู ูุนู ุ) <br><br>  ุฅูู ูุฃูุฑ ูุคุณู ... ุฅูู ูุฃูุฑ ูุคุณู ุฃู ุจูุจู ุชููู ุนู ุงููุฌูุฏ ููู ุงูููุช ุงูุญุงูู ูุง ุฃุฑู ุจุฏููุงู.  ุณูู ุจูุจู ุชุงูู ุฏุงุฆูุง ูู ูููุจูุง! <br><br><h2 style=";text-align:right;direction:rtl">  MQTT </h2><br>  ูู ุงูุนุงู ุงููุงุถู ุ ุงูุชููุช ุจุจุฑูุชูููู ุฑุงุฆุน ูุซู MQTT (ุงูุชุงุฑูุฎ: ุชู ุชุทููุฑ ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุงูุจุฑูุชูููู ุจูุงุณุทุฉ ุงูุฏูุชูุฑ ุฃูุฏู ุณุชุงูููุฑุฏ ููุงุฑู (IBM) ู Arlene Nipper (Arcom) ูู ุนุงู 1999 ูุชู ูุดุฑู ุจููุฌุจ ุชุฑุฎูุต ุจุฏูู ุญููู ููููุฉ. ูุงูุช ููุงุตูุงุช MQTT 3.1.1 ููุญุฏุฉ ูู ูุจู ุงุชุญุงุฏ OASIS ูู ุนุงู 2014. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุงุจุท</a> ). <br><br>  ููุงู ุงููุซูุฑ ูู ุงููุนูููุงุช ุญูู ููููุฉ ุนูู ุงูุจุฑูุชูููู ููุง ูู ุงูุนููุงุก ... ูุดุนุฑุช ุจุฎูุจุฉ ุฃูู ูุจูุฑุฉ ูุนุฏู ูุฌูุฏ ุนููุงุก ุญูููููู ูุชุทุจููุงุช ุงููุงุชู ุงููุญููู ุ ููุท ุนูู android. <br><br>  ุฅุฏุฑุงู ุฃู ุนุฏู ูุฌูุฏ ุชุทุจูู ุฌูุฏ ูููุงุชู ุงููุญููู ููุซู ูุดููุฉ ูุจูุฑุฉ ุฌุฏูุง (ุญูุฑุฉ) ูู ูุฌุงู ุฅูุชุฑูุช ุงูุฃุดูุงุก (ูููู ุงููุซูุฑ ูู ุงููุงุณ ุ ููููู ูุง ููุนููู ุณูู ุงููููู ุฌุฏูุง ....) - ูุฑุฑุช ุฃูุง ููุฑููู ูู ุงูุนูู ุฅูุดุงุก ุนููู ููุธุงู Android ู ios ู wp ุจุญูุซ ุชูุจู ุฌููุน ุงููุนุงููุฑ ูุชููู ูุฑูุญุฉ.  ุณุฃูุชุจ ุนู ุงูุนููู ูู ููุช ูุงุญู ุ ุจุงูุฅุถุงูุฉ ุฅูู ููููุฉ ุชูููู ุตุฏุงูุงุช ESP8266 + MTRF64 (Noolite) ูุฅุนุฏุงุฏ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ Nodemcu.  ุณุชููู ุฑุงุฆุนุฉ ููุฑูุญุฉ ูุฑุฎูุตุฉ ูุฌูููุฉ!  ุชุงุจุน ุฃุฎุจุงุฑ ุงูุชุทุจูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/96c/60d/e63/96c60de63c38253cccee7ddb9aad0b4b.png" alt="ุงูุตูุฑุฉ"><br><br>  <s>ููููู ุงูุขู ุงูุชุญูู ูู ุฅุถุงุกุฉ Noolite ุจุฏูู ุฃู ุฎูุงุฏู ููุฒููุฉ ููุญููุงุช USB ููุงุจู 50-100 ุฏููุงุฑ!</s> <br><br><h2 style=";text-align:right;direction:rtl">  ูุฎุทุท ุนุงู ูุฃุชูุชุฉ ุงูููุฒู </h2><br>  ุงููุฎุทุท ุงูุชุงูู ูุง ูุฒุงู ููุฌูุฏูุง: <br><br><blockquote style=";text-align:right;direction:rtl">  ุงููุฑุงูุจุฉ ุจุงูููุฏูู: ุงููุฑุงูุจุฉ ุจุงูููุฏูู xeoma [ip camera] <br>  ุงูุฎุงุฏู ุนูู ูุญุฏุฉ ุงููุธุงู: nginx + gunicorn + python + mqtt broker <br>  ุงูุฅุฏุงุฑุฉ: ุณุงุนุฉ ุจูุจู + ุนููู MQTT <br>  ูุญุฏุงุช ุงูุชุญูู (ุนูุฏ ุงููุธุงู): ESP8266 + optocouplers \ ds18b20ุ dht11 sensor [22] </blockquote><br>  ูุธุฑูุง ูุฃููู ุฑุฃูุช ุงููุซูุฑ ูู ูุณุงุฆู ุงูุฑุงุญุฉ ูู ุจุฑูุชูููู MQTT ุ ุจุฏุกูุง ูู ุจููุฉ ุงูุงุดุชุฑุงู ูุงูุชูุงุตู ุงูููุฑู ูุน ุฃุฌูุฒุฉ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูููุงุฆูุฉ ุ ูุชูุชูู ุจุญูููุฉ ุฃู ุฑุณุงุฆู MQTT ูููู ุฃู ุชุทูุฑ ุนุจุฑ ุฌูุงุฒ ุงูุชูุฌูู ุฏูู "ุฅุนุงุฏุฉ ุชูุฌูู" ุฃู ููุงูุฐ ููุงู ูุงูุฑูุต ูุน ุงูุฏู.  ููุงุฆู!  ุฅุณุชูุชุน!  ุจุญูุงุณ :) <br><br>  ูู ูุฐุง ูุงุฏูู ุฅูู ูุงูุฑูุฒูุฉ ุงููุธุงู ุ ุฃู ุชุฌูุจ "korchvagen" ูุงุญุฏ ูู ุงูููุฒู ูุงูุชุจุฏูู ุฅูู ุงูุนุฏูุฏ ูู ุงูุนูุฏ ุงููุณูุงุฉ ูุงุณุชุฎุฏุงู ูุณูุท MQTT ุงูุณุญุงุจู (ููุงู ูุณุทุงุก MQTT ูุฌุงููุง ุ ุนูู ุณุจูู ุงููุซุงู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">mqtt.ximxim.com</a> (ุนูู ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุงููููุน ูุชูุฑูุฑ ูููุตูู )) - ูุธุฑูุง ูุฃู esp8266 ูุญู ุฌููุน ุงููุดุงูู ุ ููุนูู ุจุฏูุฑู ุนุจุฑ wifi ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู MQTT. <br><br>  ุจุงููุธุฑ ุฅูู ุฃู MQTT Buddy ุณูููุฑ ุฎุฏูุฉ ุงูุจุฑูุฌุฉ ุงููุตูุฉ ุ ูู ุฃููุฑ ูู ูุชุงุจุฉ ุฃู ูุตูุต ุจุฑูุฌูุฉ ููุฒููุฉ ุ ุณุฃููู ููุท ุจุฅูุดุงุฆูุง ูู ุญู ุณุญุงุจู ููุฐุง ุณูููู ุฅูุชุฑูุช ุงูุฃุดูุงุก ุญูููููุง ูุณูุนูู!  ูู ุงูุฃููุงู ุฅูู ุงูุฃูุนุงู! <br><br><h2 style=";text-align:right;direction:rtl">  ESP8266 </h2><br>  ุนูุฏูุง ุชุนุฑูุช ุนูู ููุญุฉ ุงูุชุทููุฑ ูุฐู ุ ุฃุนุฌุจุช ุนูู ุงูููุฑ ุจุญูููุฉ ุฃู ุงูููุญุฉ ุตุบูุฑุฉ ุ ูููุงู ุฏุนู ููุบุฉ ุจุฑูุฌุฉ LUA ุนูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ Nodemcu.  ูุง ุชุญุชุงุฌู ูู ูุญุฏุฉ MQTT.  ูู ุงูุฃุชูุชุฉ ุ ุชุนุชุจุฑ ุงูุญููู ุงูุจุณูุทุฉ ูุงูููุซููุฉ ูู ุงูุฃุณุงุณ.  ุงูุชูููุฉ ูู $ 2 ุฅูู $ 5 ููุงุจู ุฑุณูู (ูููููุฐุฌ ุงูุฎุงูุณ ุนูู ุงูููุฑ ูุน ูุญูู USB ุนูู ูุชู ุงูุทุงุฆุฑุฉ) ุชุณูุญ ูู ุจูุดุฑ ุงูุฃูุธูุฉ ุงููุฑุนูุฉ ุจุณุฑุนุฉ. <br><br>  ุงุชุตุงู WiFi ุณุฑูุน ุ ูุงูุนุฏูุฏ ูู ุงูุงุญุชูุงูุงุช.  ุนูู ุณุจูู ุงููุซุงู: ุจูุงุจุฉ / ุฌุฑุงุฌ / ุณูู / ุชุญูู ูู ุงูุฅุถุงุกุฉ.  ูุฏู 30 ูช ูู ุงูุฑู ูู ุงูุญุฏููุฉ ูุนูู ูู ูุธุงู Noolite (ูุชู ุงูุงุชุตุงู ุงูุฌุงูุฉ) ุ ู 70 ูช ุงููุชุจููุฉ ูู ููุญุฉ ุชุทููุฑ esp8266 ูุน ุงูุชุญูู ุนุจุฑ ูุบุฉ LUA ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู MQTT. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูููุฐุฌ ููุฏ LUA ูู esp8266 ุ ูุงูุญุตูู ุนูู IP ูุงุณุชุฏุนุงุก ููู ุงูุนูู ุจุงุณุชุฎุฏุงู MQTT</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="lua hljs"><span class="hljs-comment"><span class="hljs-comment">--load credentials dofile("credentials.lua") function init(name, pass) wifi.setmode(wifi.STATION) wifi.sta.config(name, pass) wifi.sta.connect() tmr.alarm(0, 1000, 1, function() if wifi.sta.getip()== nil then print("IP unavaiable, Waiting...") else tmr.stop(0) print("Config done, IP is "..wifi.sta.getip()) print("mac : "..wifi.sta.getmac()) dofile("mqtt.lua") end end) end print("START!") init(SSID,PASSWORD)</span></span></code> </pre><br><br>  - ููู mqtt.lua <br><br><pre style=";text-align:right;direction:rtl"> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> door = <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-comment"><span class="hljs-comment">-- gpio13 local window = 6 -- gpio12 local cooler = 5 --gpio14 local led = 4 --GPIO2 board led! LOW == turn ON local light1 = 8 --gpio 15 local light2 = 1 --gpio 5 local light3 = 2 -- gpio 4 function register_myself() m:subscribe("mqtt_buddy/#",0,function(conn) print ("subscribed to Xim mqtt.ximxim.com server") end) end m = mqtt.Client("MQTT_BUDDY_SHOW_ROOM", 120, MQTT_USER, MQTT_PASS) m:on("connect", function(client) print ("connected to Xim mqtt.ximxim.com server") end) m:on("offline", function(client) reconnect_mqtt() end) m:on("message", function(client, topic, data) --print(topic.." data:"..data) if topic == "mqtt_buddy/window" and data == "1" then print "open-close window..." gpio.write(window, gpio.HIGH) gpio.write(led, gpio.LOW) tmr.alarm(1, 1000, tmr.ALARM_SINGLE, function() gpio.write(window, gpio.LOW) gpio.write(led, gpio.HIGH) print "command to close\open window is sent!" end) elseif topic == "mqtt_buddy/door" and data == "1" then print "open-close door..." gpio.write(door, gpio.HIGH) gpio.write(led, gpio.LOW) tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(door, gpio.LOW) gpio.write(led, gpio.HIGH) print "command to close\open door is sent!" end) elseif topic == "mqtt_buddy/cooler" then if data == "1" then print "switch on fan..." gpio.write(cooler, gpio.HIGH) gpio.write(led, gpio.LOW) else print "switch off fan..." gpio.write(cooler, gpio.LOW) gpio.write(led, gpio.HIGH) end elseif topic == "mqtt_buddy/light1" then if data == "1" then print "switch light1 ON..." gpio.write(light1, gpio.HIGH) gpio.write(led, gpio.LOW) else print "switch light1 off..." gpio.write(light1, gpio.LOW) gpio.write(led, gpio.HIGH) end elseif topic == "mqtt_buddy/light2" then if data == "1" then print "switch light2 ON..." gpio.write(light2, gpio.HIGH) gpio.write(led, gpio.LOW) else print "switch light2 off..." gpio.write(light2, gpio.LOW) gpio.write(led, gpio.HIGH) end elseif topic == "mqtt_buddy/light3" then if data == "1" then print "switch light3 ON..." gpio.write(light3, gpio.HIGH) gpio.write(led, gpio.LOW) else print "switch light3 off..." gpio.write(light3, gpio.LOW) gpio.write(led, gpio.HIGH) end end end) m:connect(MQTT_SERVER, MQTT_SERVER_PORT, 0, function(conn) register_myself() end)</span></span></code> </pre><br></div></div><br><h3 style=";text-align:right;direction:rtl">  ุงููุดููุฉ </h3><br>  ุจุงูุงูุชูุงู ุฅูู ูุฌุชูุน ุถุฎู ูู <b>ุงููููุฑูู</b> ุ ุฃุฑุฏุช ุฃู ุฃุชุทุฑู ุฅูู ููุถูุน ุจุงูุบ ุงูุฃูููุฉ ุ ุฃู ุจุงูุฃุญุฑู ุงููุดููุฉ ุงูุชู ุฃุฑูุฏ ุญููุง ุ ูููู ููุณ ููุงู ููุช ูุงูู ููุฒูุฏ ูู ุงูุจุญุซ / ุงููุนุฑูุฉ ุงููุชุนููุฉ. <br><br>  ุฎูุงุตุฉ ุงูููู: ูุน ุงููุงูุฑูุฒูุฉ ุ ุชุจูู ุงููุฑุงูุจุฉ ุจุงูููุฏูู ุ ูุงูุชู ุชุชุทูุจ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุฌูุงุฒ ูุถูู (ุงูุญุฏ ุงูุฃุฏูู) ูููู ุตูุฑ ุงููุตุฏุฑ ุฅูุง ุฅูู ุฎุงุฏู ูุฑุงูุจุฉ ููุฏูู (ูุซู ivideon) ุฃู ุญุชู ูุนุงูุฌุฉ ุงูููุฏูู ุนูู ุฌูุงุฒ ููุฒูู ุ ูุซู xeoma (ุนูู ุงูุฑุบู ูู ุฃู ูุฏููู ุฃูุถูุง ุณุญุงุจุฉ) - ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู - ุฃูุช ุจุญุงุฌุฉ ุฅูู "ุชุฏููุงุช ููุฏูู" ุฅูู ุงูุฃูุงู ุ ุตูุฑ ูููุฉ ุงูุญูุณุจุฉ ุงูููุงุฆูุฉ (ุญููู ุงูุณุญุงุจุฉ) - ุฃู ุงูุนูุณ - ูุฌุนู ุงูุจุซ ุจุณูุทูุง. <br><br>  ููุงู ุฃููุงุฑ ุจุดุฃู ุชููู ุตูุฑ ุงููุตุฏุฑ ูู ุงููุงููุฑุง (ููุงู ุฃูุถูุง ูุดููุฉ ููุง ุ ููุณ ููู ูุงููุฑุง ุนููุงู URL ูุงุณุชูุงู ุตูุฑุฉ ูู ุงููุงููุฑุง ููู ุบูุฑ ุงููุงุถุญ ุจุดูู ุนุงู ููู ุณูุชุนุฑู ุงูุขุฎุฑูู ุนูู ุนููุงู URL ูุฐุง ....) ูุฅุนุงุฏุฉ ุชูุฌููู ุฅูู ููุงุฉ MQTT ุญูุซ ูุชู ุฏุนู ุงูุจูุงูุงุช ุงูุซูุงุฆูุฉ (ุงูุชู ููุงู ุตูุฑุฉ ูููู ุฅุฑุณุงููุง ุจุณูููุฉ ุนุจุฑ ุจุฑูุชูููู mqtt ูู ุดูู ุซูุงุฆู). <br><br>  ุฑุจูุง ุญุงูู ุดุฎุต ูุง ุจุงููุนู ุชูููุฐ ูุซู ูุฐู ุงูุฃุดูุงุก = ESP8266 + ูุงููุฑุง ููุจ IPุ <br>  ุงูุฑุฌุงุก ุงูุฑุฏ (bogdanovich.alex [@] gmail.com).  ุณุฃููู ููุชูุง ููุบุงูุฉ! <br><br>  ุนูุฏ ุชูููุฐ probros ุ ุณูุฎุชูู ุณุคุงู ุงูุฎุงุฏู ุงูููุฒูู.  ููุงุฐุงุ  ูุฃูู ูุฃูู ุงูููุฑุจุงุก ููุณุฎู ูุฑูู :) <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/148/bfb/eab/148bfbeab6e37921aa198344af6564de.png" alt="ุงูุตูุฑุฉ"><br><br>  ูู ููู ุฅูุฌุงุจู ููุฒุงุฌ ุฌูุฏ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar403273/">https://habr.com/ru/post/ar403273/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar403255/index.html">ูุชู ุฅูุดุงุก ุฃูู ูุงูุน ููุฅุนูุงู "ุฅุฏุฑุงูู" ุ ูุงูุฐู ูุง ูุนุชูุฏ ุนูู ุชุฎุทูุท ุงูุตูุญุฉ</a></li>
<li><a href="../ar403263/index.html">ููู ูุชู ุชุฑุชูุจ ุงูุนูู ูู ูุฑูุฒ ุฎุฏูุฉ "NAG"</a></li>
<li><a href="../ar403265/index.html">ุตูุงุนุฉ ุงูููุงุฏู ุชุนูู ุงูุญุฑุจ ุนูู Airbnb</a></li>
<li><a href="../ar403267/index.html">ุฅูู ุงูุฃูุธูุฉ ุงูููุฌูุฏุฉ ุนูู ุดุฑูุญุฉ ุนุจุฑ FPGAs: ุฃุณุจูุน ุงูุฅููุชุฑูููุงุช ุงูุฏูููุฉ ุงูุฑูููุฉ ูู ูููู - 24-29 ุฃุจุฑูู 2017</a></li>
<li><a href="../ar403271/index.html">ุทูุงุฑ ุงููุฑูุญูุฉ</a></li>
<li><a href="../ar403275/index.html">ูุง ูุฒุงู ุงูุจุญุซ ุนู ุงููุงุฏุฉ ุงููุถุงุฏุฉ ุงูููููุฏุฉ ูู ุงูููู ูู ุญุงูุฉ ูุฒุนุฌุฉ ูู ุนุฏู ุงููููู</a></li>
<li><a href="../ar403277/index.html">ุฃุฑุณูุช ูุคูุงุก ุงููุณุงุก ุงูููุฏูุงุช ุตูุงุฑูุฎ ุฅูู ุงููุฑูุฎ ุจูุจูุบ ุฃูู ูู ููุฒุงููุฉ ูููู "ุงููุฑูุฎ"</a></li>
<li><a href="../ar403279/index.html">ุชุชูุงุนู ุฃุฎุจุงุฑ: ูุจูุนุงุช ุงููุฑู ูุนุงุทู ุงููุฑู ุงุฎุชุฑุงู ... ุงูุณููู</a></li>
<li><a href="../ar403281/index.html">ุณูููู Windows 10 ุจููุน ุชุทุจููุงุช ุงูุฎูููุฉ</a></li>
<li><a href="../ar403283/index.html">ุทุงุจุนุฉ 3D Funtastique EVO v1.0: ุงูููุฏูุฉ ุงูุฃููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>