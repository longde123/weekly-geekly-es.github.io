<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👳🏿 👩🏻‍🤝‍👨🏾 💈 Services, Microservices und Batch-orientierte Programmierung 🐫 💃 🥨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Viele Programmierer haben gehört, dass der Code manchmal separaten Bibliotheken zur weiteren Wiederverwendung zugewiesen werden sollte. Die Frage, wel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Services, Microservices und Batch-orientierte Programmierung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466455/">  Viele Programmierer haben gehört, dass der Code manchmal separaten Bibliotheken zur weiteren Wiederverwendung zugewiesen werden sollte.  Die Frage, welche Art von Code als separate Einheit herausgegriffen werden soll, verwirrt jedoch viele Entwickler.  Beim Lesen von Artikeln / Konversationen zu diesem Thema wird normalerweise an das Problem der vorzeitigen Verallgemeinerung erinnert. <br><br>  Erfahrene Programmierer haben normalerweise ihre eigenen Regeln, nach denen sie verstehen, ob der Code als wiederverwendbar unterschieden werden sollte.  Zum Beispiel, wenn ein solcher (oder sehr ähnlicher) Code an drei oder mehr Stellen verwendet wird.  Trotzdem sind sich alle einig, mit denen ich Gelegenheit hatte, zu diesem Thema zu sprechen, dass ein solcher wiederverwendbarer Code existieren muss, seine Erstellung ein Segen ist und es sich lohnt, Ihre Zeit zu verbringen. <br><br>  Ich möchte das Thema der Wiederverwendung von Code im Zusammenhang mit der Erstellung einer serviceorientierten und Microservice-Architektur ansprechen. <br><a name="habracut"></a><br><h3>  Was ist wiederverwendbarer Code? </h3><br>  Wiederverwendbarer Code ist Code, der in einer separaten Entität isoliert ist und in verschiedenen Sprachen unterschiedlich aufgerufen wird - Bibliothek, Paket, Abhängigkeit usw.  In der Regel wird dieser Code in einem separaten Repository gespeichert, und es gibt eine Dokumentation zum Verbinden und Verwenden dieses Codes (README.md).  Zusätzlich kann der Code durch Tests abgedeckt werden, es kann Anweisungen zum Vornehmen von Änderungen geben (CONTRIBUTING.md) und CI kann konfiguriert werden.  Verschiedene der Beschreibung beigefügte Abzeichen verbessern nur die visuelle Darstellung der Reife einer bestimmten Entität, und die Anzahl der zugewiesenen Sterne zeigt die Beliebtheit dieser Lösung an.  Sie müssen für Beispiele nicht weit gehen - öffnen Sie einfach die Github-Seite eines der gängigen Frameworks in Ihrer Lieblingssprache, zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vue.js.</a>  Im Allgemeinen sind die Methoden zur hochwertigen Gestaltung von Bibliotheken ein Wagen und ein kleiner Wagen. <br><br><h3>  Dienstleistungen und Microservices </h3><br>  In diesem Artikel ist ein Service eine vollständige Entität, die einen bestimmten Satz spezifischer Aufgaben in ihrem Verantwortungsbereich ausführt und eine Schnittstelle für die Interaktion bereitstellt.  Der Service oder Microservice in diesem Artikel kann aus architektonischer Sicht identische Konzepte sein, die Frage ist nur maßstabsgetreu.  Ein Service kann aus einer Reihe von Microservices bestehen, die ihren Geschäftslogiksektor implementieren, oder ein stolzer Microservice sein. <br><br>  Die serviceorientierte Architektur setzt voraus, dass jeder Service nur minimal mit anderen verbunden ist.  Trotzdem ist eine dienstübergreifende Interaktion nicht ausgeschlossen, sondern es wird nur davon ausgegangen, dass sie minimiert werden sollte.  Um Anforderungen zu empfangen, implementiert ein Dienst normalerweise eine standardisierte API.  Es kann alles sein - REST, SOAP, JSONRPC oder das neue GraphQL. <br><br>  Herkömmlicherweise können Dienstleistungen in Infrastruktur und Lebensmittelgeschäft unterteilt werden.  Produktdienstleistungen sind solche, die die Logik eines Kundenprodukts implementieren.  Sie arbeiten beispielsweise mit Anwendungen für die Verbindung oder organisieren den Support für dieses Produkt über den gesamten Lebenszyklus eines Kunden.  Bei Infrastrukturservices geht es eher um die Grundfunktionalität eines Unternehmens (oder Projekts), z. B. einen Service mit Kundeninformationen oder einen Service, der Informationen zu bestimmten Bestellungen speichert.  Zu den Infrastrukturdiensten gehören auch Dienste, die Zusatzfunktionen implementieren, z. B. ein Kundeninformationsdienst (Senden von Push-Nachrichten oder SMS) oder ein Dienst zur Interaktion mit Dadata. <br><br><h3>  Eine kleine Fantasie </h3><br>  Angenommen, es gibt einen hypothetischen Online-Shop, der auf einer serviceorientierten Architektur basiert.  Die Entwickler dieses technischen Wunders konnten sich einig sein und kamen zu dem Schluss, dass alle ihre Dienste als APIs funktionieren werden, beispielsweise unter Verwendung des jsonrpc-Protokolls.  Da der Online-Shop jedoch groß ist, nicht stillsteht und sich aktiv weiterentwickelt, gibt es dort mehrere Entwicklungsgruppen, also mehr als zwei - zwei Design-Gruppen, eine begleitet von dem, was bereits geschrieben wurde.  Um den Effekt zu verstärken, schreiben alle Teams auf denselben Stapel. <br><br>  <i>Die Architektur eines hypothetischen Online-Shops:</i> <br><br><img src="https://habrastorage.org/webt/8t/di/2r/8tdi2rdhusrs66kvbyrwkcoauag.png"><br><br>  Nur der im Internet herausragende API-Dienst bietet Zugriff auf alle Front-End-Systeme - die Weboberfläche des Online-Shops sowie auf mobile Anwendungen. <br><br>  Der Kundeninformationsdienst speichert Informationen über Kunden, weiß, wie diese gestartet, autorisiert und die erforderlichen Informationen über sie ausgegeben werden. <br><br>  Der Produktinformationsdienst speichert Informationen zu Produkten, deren Guthaben und Verfügbarkeit für Bestellungen und bietet Methoden zum bequemen Abrufen der erforderlichen Informationen. <br><br>  Der Bestellservice arbeitet mit Bestellungen.  Hier ist die Logik der Auftragserstellung, ihrer Bestätigung, der Wahl der Zahlungsart und der Lieferadresse usw. <br><br>  Der Kundeninformationsdienst kann PUSH / SMS / E-Mail-Nachrichten senden.  Die Art der Kommunikation hängt beispielsweise von den Einstellungen eines bestimmten Clients ab, und der Client kann auch die gewünschte Zeit für den Empfang von Benachrichtigungen festlegen. <br><br>  Diese Dienste sind bedingt infrastrukturell, da ein Online-Shop ohne sie nicht als solche funktionieren kann. <br><br>  Dienstleistungen für Werbeaktionen und Angebote sowie die Verteilung des Digests sollen in naher Zukunft von Projektteams entwickelt werden.  Diese Dienstleistungen sind bedingt Lebensmittel. <br><br>  In jedem Fall kann ein neuer Produktservice ohne Interaktion mit Infrastrukturdiensten nicht existieren - er muss höchstwahrscheinlich Informationen über Kunden erhalten oder Benachrichtigungen senden. <br><br>  In dem oben beschriebenen Beispiel werden die Details der Implementierung jedes Dienstes absichtlich ausgeblendet.  So verfügt beispielsweise ein Kundeninformationsdienst wahrscheinlich über einen Mechanismus zur verzögerten Codeausführung, z. B. eine Ausführungswarteschlange, und ein Produktinformationsdienst kann über ein eigenes Admin-Panel für eine bequeme Warenverwaltung verfügen, und die API für Front-End-Systeme verfügt wahrscheinlich über mehrere Replikate.  Darüber hinaus ist die beschriebene Architektur möglicherweise nicht optimal, sie wird einfach dem Kopf entnommen. <br><br>  Im Kontext der vorgeschlagenen Architektur wird sofort klar, dass vorgefertigte Bibliotheken für eine schnelle Produktentwicklung unerlässlich sind.  Daher ist es wichtig, eine vorgefertigte Implementierung des jsonrpc-Servers sowie des Clients dafür zu haben, da dies das Hauptprotokoll für die Organisation der dienstübergreifenden Interaktion ist.  Auch in diesem Beispiel wird das Problem der Dokumentation der API voll ausgeschöpft.  Für die Erstellung der Dokumentation sollten die Teams natürlich auch über ein vorgefertigtes Tool verfügen.  Wenn wir davon ausgehen, dass es noch ein vorgefertigtes Tool zum Generieren von SMD-Schemata für jsonrpc-Server gibt, kann sich die Geschwindigkeit der Entwicklung neuer Dienste noch weiter erhöhen.  Daher sollte es im Unternehmen idealerweise eine Reihe vorgefertigter Bibliotheken geben, mit denen alle Teams typische Aufgaben ausführen.  Diese Bibliotheken können entweder proprietär oder Open Source sein. Hauptsache, sie erfüllen ihre Aufgaben gut.  Offensichtlich ist ein Team, das sich auf dem allgemeinen Stapel befindet und Dienste mit vorgefertigten Bibliotheken schreibt, effektiver als ein Team, das ständig zyklisch arbeitet.  Das Vorhandensein eines einzigen Frameworks und einer einzigen Datenbank von Bibliotheken, die in allen Projektteams verwendet werden, nenne ich ein einziges Ökosystem. <br><br><h3>  Und was ist mit großen Unternehmen? </h3><br>  In großen Unternehmen gibt es viel mehr Infrastrukturdienste sowie die verwendeten Interaktionsprotokolle.  Die Anzahl der fertigen Bibliotheken kann bis zu zehn oder sogar Hunderten betragen.  Noch wichtiger ist es, hier wiederverwendbaren Code hervorzuheben. <br><br>  Zufällig habe ich Erfahrung in einem Unternehmen, das etwa 200 Entwickler beschäftigt, die in verschiedenen Sprachen schreiben - Java, C #, PHP, Python, Go, Js usw. Überraschenderweise ist das gemeinsame Ökosystem im Kontext eines einzelnen Stapels. weit entfernt von allen Entwicklungsteams haben und nutzen.  Es scheint, dass das Offensichtliche - wiederverwendbaren Code vorzubereiten, richtig zu formatieren und zu verwenden - alles andere als offensichtlich ist.  Natürlich lösen Entwicklungsteams ihre Probleme.  Jemand verwendet eine Dienstvorlage - einen Satz Code, der den Kern jedes neuen Dienstes bildet, aus dem alles Unnötige herausgeworfen und der erforderliche hinzugefügt wird. <br><br>  Andere Entwicklungsteams verwenden ihre eigenen Motorräder, kopieren sie und fügen sie von Projekt zu Projekt ein. Es ist ihnen egal, sie zu dokumentieren und zu testen.  Im Allgemeinen gibt es große Unstimmigkeiten bei den Tools und Ansätzen, die innerhalb desselben Stacks in einem Unternehmen verwendet werden.  Darüber hinaus geografisch in einer Stadt gelegen. <br><br><h3>  Die Vorteile eines einzigen Ökosystems </h3><br>  Die Bildung eines einzigen Ökosystems kann viele Schwierigkeiten lösen und birgt ein großes Potenzial zur Steigerung der Produktivität eines großen Unternehmens.  Tatsächlich stammt diese Praxis aus der Open Source-Community - die besten Lösungen auf ihrem Gebiet überleben und sind am beliebtesten.  Jetzt reicht es aus, einen Abhängigkeitsmanager zu öffnen und sich über die Fülle der vorgeschlagenen Lösungen zu wundern.  Ein solcher Ansatz kann jedoch im Unternehmen umgesetzt werden.  Die Vorteile dieses Ansatzes bei der Implementierung eines neuen Dienstes sind folgende: <br><br><ul><li>  Hohe Stabilität - Die Verwendung von testbedeckten, gut dokumentierten Bibliotheken erhöht die Stabilität des gesamten Dienstes. </li><li>  Einfache Rotation von Kollegen zwischen Teams - Wenn sich alle Teams in einem einzigen Ökosystem befinden, muss der Entwickler beim Wechsel von einem Team zu einem anderen nicht viel Zeit damit verbringen, die verwendeten Tools kennenzulernen, da er sie bereits kennt. </li><li>  Konzentration auf Geschäftslogik - in der Tat läuft die Entwicklung eines neuen Dienstes darauf hinaus, die notwendigen Abhängigkeiten zu verschärfen, die alle Infrastrukturaufgaben lösen und nur Geschäftslogik schreiben; </li><li>  Beschleunigung der Entwicklung - es besteht keine Notwendigkeit zum Radfahren, alles ist bereit, außer Geschäftslogik; </li><li>  Vereinfachung des Testens - Es muss nur die Geschäftslogik getestet werden, da die Bibliotheken bereits getestet wurden. </li></ul><br><h3>  Fliege in die Salbe </h3><br>  Es ist klar, dass zur Erreichung dieses Ansatzes einige Praktiken befolgt werden sollten, nämlich Bibliotheken mit semantischer Versionierung zu entwickeln, sich um Dokumentation und Tests zu kümmern und ci zu konfigurieren.  Dies ist eine Art Indikator für die Reife nicht nur des Entwicklungsteams, sondern auch der Entwickler im gesamten Unternehmen. <br><br><h3>  PS </h3><br>  Der paketorientierte Ansatz besteht nur darin, dass der wiederverwendbare Code auf meinem Stapel als Paket bezeichnet wird.  Das klingt lustig.  Kürzlich hatte ich einen Dialog mit einem meiner Kollegen, der mich dazu veranlasste, diesen Artikel zu schreiben: <br><blockquote>  - Kollege: Sie werden in fünf zu einer Kassiererin <br>  - ich: Bedeutung?) <br>  - Kollege: Bald werden Sie fragen: "Benötigen Sie ein Paket?" <br>  - Ich: Bitte öffnen Sie einen Gedanken.  Ich verstehe nicht <br>  - Kollege: Nun, zum x-ten Mal haben Sie ein fertiges Paket, um mein Problem zu lösen <br></blockquote><br>  Die Sache ist, dass es in unserer Entwicklergemeinschaft innerhalb des Unternehmens ungefähr 20 vorgefertigte Pakete gibt, und die Erstellung eines neuen Dienstes bedeutet, die erforderlichen Abhängigkeiten aufzurufen und Geschäftslogik zu schreiben.  Die Kosten für das Binden in Bezug auf das Schreiben von Code sind nahezu ungültig. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466455/">https://habr.com/ru/post/de466455/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466445/index.html">Angriffe zwischen Vertrauensstellungen zwischen Domänen</a></li>
<li><a href="../de466447/index.html">Wofür sollen wir ein CDN bauen?</a></li>
<li><a href="../de466449/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 44. Einführung in OSPF</a></li>
<li><a href="../de466451/index.html">Read_You kann nicht werfen</a></li>
<li><a href="../de466453/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 45. Konfigurieren von OSPF</a></li>
<li><a href="../de466457/index.html">Landwirtschaft und Sonnenkollektoren - Win-Win-Strategie für Energieingenieure und Landwirte</a></li>
<li><a href="../de466459/index.html">Postgresql Parallel Integration Tests in GO-Anwendung</a></li>
<li><a href="../de466461/index.html">Zabbix Summit 2019: Was erwartet Sie dieses Jahr?</a></li>
<li><a href="../de466463/index.html">Wie wir einen Prototyp für eine Stop-Repair-Anwendung erstellt haben</a></li>
<li><a href="../de466465/index.html">Summ3r 0f h4ck 2019: Forschungsergebnisse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>