<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë≥üèø üë©üèª‚Äçü§ù‚Äçüë®üèæ üíà Services, Microservices und Batch-orientierte Programmierung üê´ üíÉ ü•®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Viele Programmierer haben geh√∂rt, dass der Code manchmal separaten Bibliotheken zur weiteren Wiederverwendung zugewiesen werden sollte. Die Frage, wel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Services, Microservices und Batch-orientierte Programmierung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466455/">  Viele Programmierer haben geh√∂rt, dass der Code manchmal separaten Bibliotheken zur weiteren Wiederverwendung zugewiesen werden sollte.  Die Frage, welche Art von Code als separate Einheit herausgegriffen werden soll, verwirrt jedoch viele Entwickler.  Beim Lesen von Artikeln / Konversationen zu diesem Thema wird normalerweise an das Problem der vorzeitigen Verallgemeinerung erinnert. <br><br>  Erfahrene Programmierer haben normalerweise ihre eigenen Regeln, nach denen sie verstehen, ob der Code als wiederverwendbar unterschieden werden sollte.  Zum Beispiel, wenn ein solcher (oder sehr √§hnlicher) Code an drei oder mehr Stellen verwendet wird.  Trotzdem sind sich alle einig, mit denen ich Gelegenheit hatte, zu diesem Thema zu sprechen, dass ein solcher wiederverwendbarer Code existieren muss, seine Erstellung ein Segen ist und es sich lohnt, Ihre Zeit zu verbringen. <br><br>  Ich m√∂chte das Thema der Wiederverwendung von Code im Zusammenhang mit der Erstellung einer serviceorientierten und Microservice-Architektur ansprechen. <br><a name="habracut"></a><br><h3>  Was ist wiederverwendbarer Code? </h3><br>  Wiederverwendbarer Code ist Code, der in einer separaten Entit√§t isoliert ist und in verschiedenen Sprachen unterschiedlich aufgerufen wird - Bibliothek, Paket, Abh√§ngigkeit usw.  In der Regel wird dieser Code in einem separaten Repository gespeichert, und es gibt eine Dokumentation zum Verbinden und Verwenden dieses Codes (README.md).  Zus√§tzlich kann der Code durch Tests abgedeckt werden, es kann Anweisungen zum Vornehmen von √Ñnderungen geben (CONTRIBUTING.md) und CI kann konfiguriert werden.  Verschiedene der Beschreibung beigef√ºgte Abzeichen verbessern nur die visuelle Darstellung der Reife einer bestimmten Entit√§t, und die Anzahl der zugewiesenen Sterne zeigt die Beliebtheit dieser L√∂sung an.  Sie m√ºssen f√ºr Beispiele nicht weit gehen - √∂ffnen Sie einfach die Github-Seite eines der g√§ngigen Frameworks in Ihrer Lieblingssprache, zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vue.js.</a>  Im Allgemeinen sind die Methoden zur hochwertigen Gestaltung von Bibliotheken ein Wagen und ein kleiner Wagen. <br><br><h3>  Dienstleistungen und Microservices </h3><br>  In diesem Artikel ist ein Service eine vollst√§ndige Entit√§t, die einen bestimmten Satz spezifischer Aufgaben in ihrem Verantwortungsbereich ausf√ºhrt und eine Schnittstelle f√ºr die Interaktion bereitstellt.  Der Service oder Microservice in diesem Artikel kann aus architektonischer Sicht identische Konzepte sein, die Frage ist nur ma√üstabsgetreu.  Ein Service kann aus einer Reihe von Microservices bestehen, die ihren Gesch√§ftslogiksektor implementieren, oder ein stolzer Microservice sein. <br><br>  Die serviceorientierte Architektur setzt voraus, dass jeder Service nur minimal mit anderen verbunden ist.  Trotzdem ist eine dienst√ºbergreifende Interaktion nicht ausgeschlossen, sondern es wird nur davon ausgegangen, dass sie minimiert werden sollte.  Um Anforderungen zu empfangen, implementiert ein Dienst normalerweise eine standardisierte API.  Es kann alles sein - REST, SOAP, JSONRPC oder das neue GraphQL. <br><br>  Herk√∂mmlicherweise k√∂nnen Dienstleistungen in Infrastruktur und Lebensmittelgesch√§ft unterteilt werden.  Produktdienstleistungen sind solche, die die Logik eines Kundenprodukts implementieren.  Sie arbeiten beispielsweise mit Anwendungen f√ºr die Verbindung oder organisieren den Support f√ºr dieses Produkt √ºber den gesamten Lebenszyklus eines Kunden.  Bei Infrastrukturservices geht es eher um die Grundfunktionalit√§t eines Unternehmens (oder Projekts), z. B. einen Service mit Kundeninformationen oder einen Service, der Informationen zu bestimmten Bestellungen speichert.  Zu den Infrastrukturdiensten geh√∂ren auch Dienste, die Zusatzfunktionen implementieren, z. B. ein Kundeninformationsdienst (Senden von Push-Nachrichten oder SMS) oder ein Dienst zur Interaktion mit Dadata. <br><br><h3>  Eine kleine Fantasie </h3><br>  Angenommen, es gibt einen hypothetischen Online-Shop, der auf einer serviceorientierten Architektur basiert.  Die Entwickler dieses technischen Wunders konnten sich einig sein und kamen zu dem Schluss, dass alle ihre Dienste als APIs funktionieren werden, beispielsweise unter Verwendung des jsonrpc-Protokolls.  Da der Online-Shop jedoch gro√ü ist, nicht stillsteht und sich aktiv weiterentwickelt, gibt es dort mehrere Entwicklungsgruppen, also mehr als zwei - zwei Design-Gruppen, eine begleitet von dem, was bereits geschrieben wurde.  Um den Effekt zu verst√§rken, schreiben alle Teams auf denselben Stapel. <br><br>  <i>Die Architektur eines hypothetischen Online-Shops:</i> <br><br><img src="https://habrastorage.org/webt/8t/di/2r/8tdi2rdhusrs66kvbyrwkcoauag.png"><br><br>  Nur der im Internet herausragende API-Dienst bietet Zugriff auf alle Front-End-Systeme - die Weboberfl√§che des Online-Shops sowie auf mobile Anwendungen. <br><br>  Der Kundeninformationsdienst speichert Informationen √ºber Kunden, wei√ü, wie diese gestartet, autorisiert und die erforderlichen Informationen √ºber sie ausgegeben werden. <br><br>  Der Produktinformationsdienst speichert Informationen zu Produkten, deren Guthaben und Verf√ºgbarkeit f√ºr Bestellungen und bietet Methoden zum bequemen Abrufen der erforderlichen Informationen. <br><br>  Der Bestellservice arbeitet mit Bestellungen.  Hier ist die Logik der Auftragserstellung, ihrer Best√§tigung, der Wahl der Zahlungsart und der Lieferadresse usw. <br><br>  Der Kundeninformationsdienst kann PUSH / SMS / E-Mail-Nachrichten senden.  Die Art der Kommunikation h√§ngt beispielsweise von den Einstellungen eines bestimmten Clients ab, und der Client kann auch die gew√ºnschte Zeit f√ºr den Empfang von Benachrichtigungen festlegen. <br><br>  Diese Dienste sind bedingt infrastrukturell, da ein Online-Shop ohne sie nicht als solche funktionieren kann. <br><br>  Dienstleistungen f√ºr Werbeaktionen und Angebote sowie die Verteilung des Digests sollen in naher Zukunft von Projektteams entwickelt werden.  Diese Dienstleistungen sind bedingt Lebensmittel. <br><br>  In jedem Fall kann ein neuer Produktservice ohne Interaktion mit Infrastrukturdiensten nicht existieren - er muss h√∂chstwahrscheinlich Informationen √ºber Kunden erhalten oder Benachrichtigungen senden. <br><br>  In dem oben beschriebenen Beispiel werden die Details der Implementierung jedes Dienstes absichtlich ausgeblendet.  So verf√ºgt beispielsweise ein Kundeninformationsdienst wahrscheinlich √ºber einen Mechanismus zur verz√∂gerten Codeausf√ºhrung, z. B. eine Ausf√ºhrungswarteschlange, und ein Produktinformationsdienst kann √ºber ein eigenes Admin-Panel f√ºr eine bequeme Warenverwaltung verf√ºgen, und die API f√ºr Front-End-Systeme verf√ºgt wahrscheinlich √ºber mehrere Replikate.  Dar√ºber hinaus ist die beschriebene Architektur m√∂glicherweise nicht optimal, sie wird einfach dem Kopf entnommen. <br><br>  Im Kontext der vorgeschlagenen Architektur wird sofort klar, dass vorgefertigte Bibliotheken f√ºr eine schnelle Produktentwicklung unerl√§sslich sind.  Daher ist es wichtig, eine vorgefertigte Implementierung des jsonrpc-Servers sowie des Clients daf√ºr zu haben, da dies das Hauptprotokoll f√ºr die Organisation der dienst√ºbergreifenden Interaktion ist.  Auch in diesem Beispiel wird das Problem der Dokumentation der API voll ausgesch√∂pft.  F√ºr die Erstellung der Dokumentation sollten die Teams nat√ºrlich auch √ºber ein vorgefertigtes Tool verf√ºgen.  Wenn wir davon ausgehen, dass es noch ein vorgefertigtes Tool zum Generieren von SMD-Schemata f√ºr jsonrpc-Server gibt, kann sich die Geschwindigkeit der Entwicklung neuer Dienste noch weiter erh√∂hen.  Daher sollte es im Unternehmen idealerweise eine Reihe vorgefertigter Bibliotheken geben, mit denen alle Teams typische Aufgaben ausf√ºhren.  Diese Bibliotheken k√∂nnen entweder propriet√§r oder Open Source sein. Hauptsache, sie erf√ºllen ihre Aufgaben gut.  Offensichtlich ist ein Team, das sich auf dem allgemeinen Stapel befindet und Dienste mit vorgefertigten Bibliotheken schreibt, effektiver als ein Team, das st√§ndig zyklisch arbeitet.  Das Vorhandensein eines einzigen Frameworks und einer einzigen Datenbank von Bibliotheken, die in allen Projektteams verwendet werden, nenne ich ein einziges √ñkosystem. <br><br><h3>  Und was ist mit gro√üen Unternehmen? </h3><br>  In gro√üen Unternehmen gibt es viel mehr Infrastrukturdienste sowie die verwendeten Interaktionsprotokolle.  Die Anzahl der fertigen Bibliotheken kann bis zu zehn oder sogar Hunderten betragen.  Noch wichtiger ist es, hier wiederverwendbaren Code hervorzuheben. <br><br>  Zuf√§llig habe ich Erfahrung in einem Unternehmen, das etwa 200 Entwickler besch√§ftigt, die in verschiedenen Sprachen schreiben - Java, C #, PHP, Python, Go, Js usw. √úberraschenderweise ist das gemeinsame √ñkosystem im Kontext eines einzelnen Stapels. weit entfernt von allen Entwicklungsteams haben und nutzen.  Es scheint, dass das Offensichtliche - wiederverwendbaren Code vorzubereiten, richtig zu formatieren und zu verwenden - alles andere als offensichtlich ist.  Nat√ºrlich l√∂sen Entwicklungsteams ihre Probleme.  Jemand verwendet eine Dienstvorlage - einen Satz Code, der den Kern jedes neuen Dienstes bildet, aus dem alles Unn√∂tige herausgeworfen und der erforderliche hinzugef√ºgt wird. <br><br>  Andere Entwicklungsteams verwenden ihre eigenen Motorr√§der, kopieren sie und f√ºgen sie von Projekt zu Projekt ein. Es ist ihnen egal, sie zu dokumentieren und zu testen.  Im Allgemeinen gibt es gro√üe Unstimmigkeiten bei den Tools und Ans√§tzen, die innerhalb desselben Stacks in einem Unternehmen verwendet werden.  Dar√ºber hinaus geografisch in einer Stadt gelegen. <br><br><h3>  Die Vorteile eines einzigen √ñkosystems </h3><br>  Die Bildung eines einzigen √ñkosystems kann viele Schwierigkeiten l√∂sen und birgt ein gro√ües Potenzial zur Steigerung der Produktivit√§t eines gro√üen Unternehmens.  Tats√§chlich stammt diese Praxis aus der Open Source-Community - die besten L√∂sungen auf ihrem Gebiet √ºberleben und sind am beliebtesten.  Jetzt reicht es aus, einen Abh√§ngigkeitsmanager zu √∂ffnen und sich √ºber die F√ºlle der vorgeschlagenen L√∂sungen zu wundern.  Ein solcher Ansatz kann jedoch im Unternehmen umgesetzt werden.  Die Vorteile dieses Ansatzes bei der Implementierung eines neuen Dienstes sind folgende: <br><br><ul><li>  Hohe Stabilit√§t - Die Verwendung von testbedeckten, gut dokumentierten Bibliotheken erh√∂ht die Stabilit√§t des gesamten Dienstes. </li><li>  Einfache Rotation von Kollegen zwischen Teams - Wenn sich alle Teams in einem einzigen √ñkosystem befinden, muss der Entwickler beim Wechsel von einem Team zu einem anderen nicht viel Zeit damit verbringen, die verwendeten Tools kennenzulernen, da er sie bereits kennt. </li><li>  Konzentration auf Gesch√§ftslogik - in der Tat l√§uft die Entwicklung eines neuen Dienstes darauf hinaus, die notwendigen Abh√§ngigkeiten zu versch√§rfen, die alle Infrastrukturaufgaben l√∂sen und nur Gesch√§ftslogik schreiben; </li><li>  Beschleunigung der Entwicklung - es besteht keine Notwendigkeit zum Radfahren, alles ist bereit, au√üer Gesch√§ftslogik; </li><li>  Vereinfachung des Testens - Es muss nur die Gesch√§ftslogik getestet werden, da die Bibliotheken bereits getestet wurden. </li></ul><br><h3>  Fliege in die Salbe </h3><br>  Es ist klar, dass zur Erreichung dieses Ansatzes einige Praktiken befolgt werden sollten, n√§mlich Bibliotheken mit semantischer Versionierung zu entwickeln, sich um Dokumentation und Tests zu k√ºmmern und ci zu konfigurieren.  Dies ist eine Art Indikator f√ºr die Reife nicht nur des Entwicklungsteams, sondern auch der Entwickler im gesamten Unternehmen. <br><br><h3>  PS </h3><br>  Der paketorientierte Ansatz besteht nur darin, dass der wiederverwendbare Code auf meinem Stapel als Paket bezeichnet wird.  Das klingt lustig.  K√ºrzlich hatte ich einen Dialog mit einem meiner Kollegen, der mich dazu veranlasste, diesen Artikel zu schreiben: <br><blockquote>  - Kollege: Sie werden in f√ºnf zu einer Kassiererin <br>  - ich: Bedeutung?) <br>  - Kollege: Bald werden Sie fragen: "Ben√∂tigen Sie ein Paket?" <br>  - Ich: Bitte √∂ffnen Sie einen Gedanken.  Ich verstehe nicht <br>  - Kollege: Nun, zum x-ten Mal haben Sie ein fertiges Paket, um mein Problem zu l√∂sen <br></blockquote><br>  Die Sache ist, dass es in unserer Entwicklergemeinschaft innerhalb des Unternehmens ungef√§hr 20 vorgefertigte Pakete gibt, und die Erstellung eines neuen Dienstes bedeutet, die erforderlichen Abh√§ngigkeiten aufzurufen und Gesch√§ftslogik zu schreiben.  Die Kosten f√ºr das Binden in Bezug auf das Schreiben von Code sind nahezu ung√ºltig. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466455/">https://habr.com/ru/post/de466455/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466445/index.html">Angriffe zwischen Vertrauensstellungen zwischen Dom√§nen</a></li>
<li><a href="../de466447/index.html">Wof√ºr sollen wir ein CDN bauen?</a></li>
<li><a href="../de466449/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 44. Einf√ºhrung in OSPF</a></li>
<li><a href="../de466451/index.html">Read_You kann nicht werfen</a></li>
<li><a href="../de466453/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 45. Konfigurieren von OSPF</a></li>
<li><a href="../de466457/index.html">Landwirtschaft und Sonnenkollektoren - Win-Win-Strategie f√ºr Energieingenieure und Landwirte</a></li>
<li><a href="../de466459/index.html">Postgresql Parallel Integration Tests in GO-Anwendung</a></li>
<li><a href="../de466461/index.html">Zabbix Summit 2019: Was erwartet Sie dieses Jahr?</a></li>
<li><a href="../de466463/index.html">Wie wir einen Prototyp f√ºr eine Stop-Repair-Anwendung erstellt haben</a></li>
<li><a href="../de466465/index.html">Summ3r 0f h4ck 2019: Forschungsergebnisse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>