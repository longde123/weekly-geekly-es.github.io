<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ” ğŸ™ğŸ¿ ğŸ¹ é€šè¿‡ROSä½¿ç”¨PS4 Dualshock 4æ¸¸æˆæ†æ§åˆ¶EduMipè‡ªå¹³è¡¡æœºå™¨äºº ğŸ‘ŠğŸ¿ ğŸ¥Ÿ ğŸ™ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨ROSå¯ä»¥é€šè¿‡ç½‘ç»œè¿æ¥å¤šä¸ªè®¾å¤‡å¹¶å‘é€æ§åˆ¶æ•°æ®ã€‚ 

 å‰ªè¾‘çš„æœ€åæ˜¯è§†é¢‘ï¼Œæ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡æ“çºµæ†æ§åˆ¶æœºå™¨äººã€‚ 

 æˆ‘ä»¬æœ¬èº«éœ€è¦ä¸€ä¸ªæ“çºµæ†ï¼Œæ‚¨å¯ä»¥ä»PS4ä¸Šå°†å…¶å–å‡ºæˆ–åœ¨å•†åº—ä¸­è´­ä¹°ã€‚ æˆ‘è´­ä¹°äº†dualshock 4 v2ï¼Œç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚ 

 æ‚¨è¿˜éœ€è¦åœ¨å…·æœ‰ROSçš„...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>é€šè¿‡ROSä½¿ç”¨PS4 Dualshock 4æ¸¸æˆæ†æ§åˆ¶EduMipè‡ªå¹³è¡¡æœºå™¨äºº</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413901/"><img src="https://habrastorage.org/webt/_f/dn/x1/_fdnx14qysbx7xanwy1j5snwseo.jpeg"><br> è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨ROSå¯ä»¥é€šè¿‡ç½‘ç»œè¿æ¥å¤šä¸ªè®¾å¤‡å¹¶å‘é€æ§åˆ¶æ•°æ®ã€‚ <br><br> å‰ªè¾‘çš„æœ€åæ˜¯è§†é¢‘ï¼Œæ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡æ“çºµæ†æ§åˆ¶æœºå™¨äººã€‚ <br><a name="habracut"></a><br> æˆ‘ä»¬æœ¬èº«éœ€è¦ä¸€ä¸ªæ“çºµæ†ï¼Œæ‚¨å¯ä»¥ä»PS4ä¸Šå°†å…¶å–å‡ºæˆ–åœ¨å•†åº—ä¸­è´­ä¹°ã€‚ æˆ‘è´­ä¹°äº†dualshock 4 v2ï¼Œç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚ <br><br> æ‚¨è¿˜éœ€è¦åœ¨å…·æœ‰ROSçš„è®¡ç®—æœºä¸Šå®‰è£…è“ç‰™ï¼Œåœ¨é©±åŠ¨ç¨‹åºæ–‡æ¡£ä¸­ï¼Œå»ºè®®ä½¿ç”¨USB Blutoothé€‚é…å™¨2.1+ç‰ˆã€‚ æˆ‘ä½¿ç”¨ç¬”è®°æœ¬ç”µè„‘å†…ç½®çš„é€‚é…å™¨å·¥ä½œå¾—å¾ˆå¥½ã€‚ æ‚¨ä¹Ÿå¯ä»¥è¿æ¥æ“çºµæ†å’ŒUSBç”µç¼†ã€‚ <br><br> ç„¶ååœ¨å¸¦æœ‰ROSçš„Ubuntuä¸­ï¼Œæ‚¨éœ€è¦<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ ¹æ®è¯´æ˜</a>å®‰è£…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é©±åŠ¨ç¨‹åº</a> ã€‚ <br><br> å®‰è£…é©±åŠ¨ç¨‹åºå¹¶é€šè¿‡è“ç‰™è¿æ¥æ“çºµæ†åï¼Œæˆ‘ä»¬å¯åŠ¨äº†å›¾å½¢å®ç”¨ç¨‹åºjstest-gtkï¼Œçœ‹åˆ°æˆ‘ä»¬æœ‰ä¸¤ä¸ªæ“çºµæ†ï¼Œæˆ‘ä»¬éœ€è¦ç¬¬äºŒä¸ªæ“çºµæ†ï¼Œå› ä¸ºå®ƒå…·æœ‰æ‰€æœ‰æŒ‰é’®å’Œæ“çºµæ†ã€‚ <br><br><img src="https://habrastorage.org/webt/wl/fv/eq/wlfveq7wjya3rbkmfq0k23srzti.png"><br><br> ç”±äºROSé»˜è®¤æƒ…å†µä¸‹ä¸joy0ä¸€èµ·ä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨joy1ä¸Šé‡æ–°å®šä¹‰å®ƒï¼š <br><br><pre><code class="bash hljs">sudo chmod a+rw /dev/input/js1 rosparam <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> joy_node/dev <span class="hljs-string"><span class="hljs-string">"/dev/input/js1"</span></span></code> </pre> <br> ç°åœ¨æˆ‘ä»¬éœ€è¦å°†å®ƒä»¬å…¨éƒ¨è¿æ¥åˆ°å•ä¸ªç½‘ç»œä¸­ã€‚ æ‹¥æœ‰ROSçš„ç¬”è®°æœ¬ç”µè„‘å°†æ˜¯ä¸»æœºï¼Œå¸¦æœ‰BeagleBone Blue ROSçš„EduMipå°†é€šè¿‡wifiè¿æ¥åˆ°ç¬”è®°æœ¬ç”µè„‘ã€‚ è¿™ä¸¤ä¸ªè®¾å¤‡éƒ½åœ¨wifiè·¯ç”±å™¨çš„æœ¬åœ°ç½‘ç»œä¸­ã€‚ <br><br> åœ¨æ‚¨çš„PCä¸Šï¼Œè®¾ç½®ROSç¯å¢ƒå˜é‡ï¼Œä»¥ä½¿ç”¨.bashrcå‘½ä»¤åœ¨PCä¸Šæœç´¢rosï¼ˆroscoreï¼‰å‘å¯¼ï¼ˆå°†è¿™äº›å‘½ä»¤æ·»åŠ åˆ°.bashrcæ–‡ä»¶çš„æœ«å°¾ï¼‰ï¼š <br><br><pre> <code class="bash hljs">â€œ<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ROS_MASTER_URI=http://192.168.10.101:11311â€ &lt;-   ROS IP- ,     ros (roscore). â€œ<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ROS_IP=192.168.10.101â€ &lt;-   ROS IP-   ( ).</code> </pre> <br> åœ¨EduMIPä¸Šï¼Œè®¾ç½®ROSç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿å®ƒä½¿ç”¨.bashrcå‘½ä»¤åœ¨PCä¸Šæ‰¾åˆ°rosï¼ˆroscoreï¼‰å‘å¯¼ï¼ˆå°†è¿™äº›å‘½ä»¤æ·»åŠ åˆ°.bashrcæ–‡ä»¶çš„æœ«å°¾ï¼‰ï¼š <br><br><pre> <code class="bash hljs">â€œ<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ROS_MASTER_URI=http://192.168.10.101:11311â€ &lt;-   ROS IP- ,     ros (roscore). â€œ<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ROS_IP=192.168.10.102â€ &lt;-   ROS IP-   ( EduMIP).</code> </pre> <br> å‰©ä¸‹çš„åªæ˜¯ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè¯¥ç¨‹åºå°†ä»æ“çºµæ†è¯»å–æ“çºµæ†çš„ä½ç½®å¹¶å‘é€ç»™ä¸»é¢˜ï¼Œç„¶åç”±æœºå™¨äººè¯»å–è¯¥ä¸»é¢˜ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Callback function for joystick pessaged void joyCallback(const sensor_msgs::Joy::ConstPtr&amp; joy) { // X vel driven by left joystick for and aft command_velocity_twist.linear.x = joy-&gt;axes[1]; // heading driven by left joysticj left and right command_velocity_twist.angular.z = joy-&gt;axes[0]; } // this function gets called at 10Hz to publish the command_velocity array of 2 floats void timerCallback(const ros::TimerEvent&amp; event) { cmd_vel_publisher.publish(command_velocity_twist); }</span></span></code> </pre><br> åœ¨æ‚¨çš„PCä¸Šï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡Œrqt_graphç›´è§‚åœ°æŸ¥çœ‹èŠ‚ç‚¹å’Œä¸»é¢˜ï¼š <br><br><img src="https://habrastorage.org/webt/su/rh/qk/surhqkd9og14hwlv_c1fgzvbno0.png"><br><br> æ¼”ç¤ºä½¿ç”¨æ“çºµæ†è¿›è¡Œçš„æœºå™¨äººæ§åˆ¶ï¼š <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/jeWt0xflcKs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>ç®€ä»‹ï¼š</b>ä½¿ç”¨ROSï¼Œæ‚¨å¯ä»¥ä¸ºåˆ†æ•£åœ¨å¤šä¸ªè®¾å¤‡ä¸Šçš„å·¥ä½œæ„å»ºç³»ç»Ÿï¼Œä¾‹å¦‚ï¼Œåœ¨ä¸»è®¡ç®—æœºä¸Šæ‰§è¡Œå¤§å‹è®¡ç®—ï¼Œè€Œä»…å¯¹æœºå™¨äººæœ¬èº«è¿›è¡Œå¿«é€Ÿå“åº”æ‰€éœ€çš„å†…å®¹ã€‚  BeagleBone Blueå…·æœ‰å¯ç¼–ç¨‹çš„å®æ—¶å­ç³»ç»Ÿï¼ˆPRU-ICSSï¼‰ã€‚ <br><br>  PRU-ICSSç”±ä¸€ä¸ªåŸºäºä¸¤ä¸ª32ä½å†…æ ¸çš„å¾®å¤„ç†å™¨ç»„æˆï¼Œè¯¥å†…æ ¸å…·æœ‰RISCæ¶æ„ï¼Œå¹¶ä»¥200 MHzçš„é¢‘ç‡è¿è¡Œã€‚ æ¯ä¸ªå†…æ ¸éƒ½æœ‰è‡ªå·±çš„å­˜å‚¨åŒºä»¥åŠLinuxå…¼å®¹çš„å­˜å‚¨åŒºï¼Œå¯ä»¥ä½¿ç”¨ä½äºP8-P9è¿æ¥å™¨ä¸Šçš„é€šç”¨å¼•è„šå¹¶äº§ç”Ÿä¸­æ–­ã€‚ <br><br> æ­¤å¤–ï¼Œæ›´æ”¹ä½ç½®æ—¶å®‰è£…åœ¨BeagleBone Blueä¸Šçš„MPU9250ä¼ æ„Ÿå™¨å¯èƒ½ä¼šå½¢æˆä¸­æ–­ï¼Œæ‚¨å¯ä»¥åœ¨è¯¥ä¸­æ–­ä¸ŠæŒ‚èµ·åŠŸèƒ½ï¼Œè¿™æ­£æ˜¯EduMipæ‰€åšçš„ã€‚ <br><br> å¦‚æœæˆ‘ä»¬è°ˆè®ºä¸‹ä¸€ä¸ªè¿›åŒ–æ­¥éª¤ï¼Œé‚£å°±æ˜¯ROS2ï¼Œå…¶ä¸­çš„åŒºåˆ«ä¹‹ä¸€æ˜¯DDSï¼ˆæ•°æ®åˆ†å‘æœåŠ¡ï¼‰ï¼Œå®ƒä½¿æ‚¨å¯ä»¥æ„å»ºä¸€ä¸ªä¸è¿è¡ŒROSçš„ä¸åŒäº¤äº’æœºå™¨äººå’Œè®¾å¤‡çš„ç½‘ç»œã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN413901/">https://habr.com/ru/post/zh-CN413901/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN413891/index.html">ç»Ÿä¸€æ³•äººå®ä½“å·æ³¨å†Œç°¿-ç»Ÿä¸€æ³•äººå®ä½“å·æ³¨å†Œç°¿å¦‚ä½•</a></li>
<li><a href="../zh-CN413893/index.html">ä½œä¸ºå®‰å…¨å·¥å…·çš„æ¼æ´-2ï¼Œæˆ–å¦‚ä½•æ•æ‰APTâ€œæ´»é¥µâ€</a></li>
<li><a href="../zh-CN413895/index.html">æŠ¢ä¾¿å®œçš„å¥èº«æ‰‹é•¯</a></li>
<li><a href="../zh-CN413897/index.html">Unity3D ECSå’Œä½œä¸šç³»ç»Ÿ</a></li>
<li><a href="../zh-CN413899/index.html">ä¿„ç½—æ–¯äººçš„ç”Ÿç‰©è¯†åˆ«ä¸ªäººæ•°æ®</a></li>
<li><a href="../zh-CN413903/index.html">Cambridge Analyticaå¦‚ä½•å°†ç‚¹å‡»è½¬åŒ–ä¸ºå£°éŸ³</a></li>
<li><a href="../zh-CN413907/index.html">é¢å‘ç§»åŠ¨å¼€å‘äººå‘˜256çš„æœ‰è¶£ææ–™çš„æ‘˜è¦ï¼ˆ6æœˆ4æ—¥-6æœˆ12æ—¥ï¼‰</a></li>
<li><a href="../zh-CN413909/index.html">é‚£æ˜¯ä½ å„¿æ—¶çš„å›å¿†å»çš„åœ°æ–¹</a></li>
<li><a href="../zh-CN413913/index.html">ç†Ÿæ‚‰éŸ³é¢‘å’Œè§†é¢‘è®¾å¤‡å±•è§ˆä¼šï¼šç®€è¦ä»‹ç»æœ€å¤§çš„æ´»åŠ¨-ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN413915/index.html">ä½¿å¡”é˜²æˆä¸ºç»Ÿä¸€æ¸¸æˆ-ç¬¬2éƒ¨åˆ†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>