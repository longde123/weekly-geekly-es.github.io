<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêü ü§öüèª üë©‚Äçüè≠ Mis peque√±os rel√©s: la computadora Brainfuck es una realidad üöé üôã üë©‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ha pasado exactamente un a√±o desde la √∫ltima publicaci√≥n y pens√© que el primero de abril es un gran d√≠a para el resumen anual de mis tres proyectos in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mis peque√±os rel√©s: la computadora Brainfuck es una realidad</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/411145/"><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/m0/ly/sf/m0lysfg74dvrhabcw-sbs1lld7g.jpeg"></a> <br>  Ha pasado exactamente un a√±o desde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la √∫ltima publicaci√≥n</a> y pens√© que el primero de abril es un gran d√≠a para el resumen anual de mis tres proyectos inform√°ticos locos.  En ese momento, el proyecto solo exist√≠a en papel, pero ahora definitivamente se ha convertido en una realidad. </p><br><p>  Bloques de rel√© sonando, los c√°lculos de rel√© m√°s r√°pidos del mundo (pero esto no es preciso), recapitulaci√≥n, indicadores de vac√≠o y LED parpadeantes. </p><a name="habracut"></a><br><h1 id="istoricheskaya-spravka">  Antecedentes historicos </h1><br><p><img src="https://habrastorage.org/webt/kh/qa/4m/khqa4myljg149ffbe7kjbmlmh_q.jpeg"><br>  <em>Figura 1: Un volumen de "Radio-Electronic Toys" de Wojciechowski, 1979, maltratados por mi vida y por m√≠ mismo.</em> </p><br><p>  √ârase una vez, cuando todo era grande, y yo era peque√±o (un a√±o as√≠ en 2002), mi padre me regal√≥ el libro Radio-Electronic Toys de Wojciechowski.  Entonces no ten√≠a una computadora, pero no escuch√© nada sobre Internet, y un libro familiar para muchos result√≥ ser solo un almac√©n de dispositivos electr√≥nicos entretenidos.  Entre ellos se encontraba una descripci√≥n de una computadora electr√≥nica y un circuito modelo simple en rel√©s telef√≥nicos.  Este modelo, que estaba en mi segundo a√±o en la universidad en 2008, lo arm√© para un informe sobre la historia de las computadoras. </p><br><p><img src="https://habrastorage.org/webt/cn/1w/-3/cn1w-35bc5xkah3gs2f8hgr8fgc.jpeg"><br>  <em>Figura 2: RCM - ALU de 4 bits</em> </p><br><p>  En ese momento, ya estaba explorando las vastas extensiones de Internet y siendo consciente de la existencia de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">computadora de retransmisi√≥n</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Harry Porter</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">, la computadora de retransmisi√≥n n√∫mero 2</a> y la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">computadora de retransmisi√≥n Zuse</a> : estaba pensando en construir mi propia unidad. </p><br><p>  Para aquellos que son poco conscientes de lo que otros tienen, sugiero ver mi revisi√≥n de video de las computadoras de retransmisi√≥n caseras.  A lo largo del a√±o, est√° un poco desactualizado, pero no ha dejado de ser menos interesante: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/whk8NKAdsB8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  En el mismo 2008, en clases sobre los fundamentos te√≥ricos de la ingenier√≠a el√©ctrica, decid√≠ sobre el componente principal: un rel√© de l√°mina.  En uno de los laboratorios, me sorprendi√≥ observar en la forma de onda c√≥mo funcionaba el beb√© RES55 a una frecuencia de 50 Hz.  Esto me caus√≥ una impresi√≥n duradera y comenc√© a acumular interruptores de l√°minas. </p><br><h1 id="proshlo-10-let">  Han pasado 10 a√±os ... </h1><br><p>  Y despu√©s de una d√©cada, el proyecto se est√° moviendo con gran velocidad para su lanzamiento.  Todo se movi√≥ desde un punto muerto en noviembre de 2016, cuando naci√≥ la arquitectura actual.  Desafortunadamente, decid√≠ hacer todas las placas de circuito impreso por mi cuenta ... como resultado, un metro cuadrado completo de PCB de doble cara se convirti√≥ en un agujero negro y absorbi√≥ varios cientos de horas hombre de tiempo libre, que son aproximadamente seis meses para un empleado.  De abril a noviembre del 2k17 pr√°cticamente no pas√≥ nada. </p><br><h1 id="infografika">  Infografia </h1><br><p><img src="https://habrastorage.org/webt/sl/is/nf/slisnf0apkc-ncrszkk55oxehxu.jpeg"></p><br><p>  La arquitectura de la m√°quina corresponde a la m√°quina de Turing.  Hay una cinta con datos: RAM para 64 kiloslov (palabra de 16 bits).  RAM: cach√© de chips de alg√∫n tipo de tapete.  placas base para Intel Pentium.  Para autenticidad, vaya a ... la secci√≥n Autenticidad.  Microcircuit RAM se usa en la mayor√≠a de las computadoras de retransmisi√≥n caseras que conozco. </p><br><p>  El elemento central es un sumador paralelo de 16 bits.  √âl es responsable de calcular el n√∫mero de la siguiente instrucci√≥n y trabaja con datos y un puntero. <br>  En las entradas del sumador hay un registro temporal de 16 bits y un registro de comando de 12 bits.  Tambi√©n se env√≠an 12 bits a los 4 bits altos del sumador, lo que da 16 bits "completos".  Es importante que el sumador funcione correctamente con la suma y resta de un n√∫mero de 12 bits. </p><br><p>  La desventaja es obvia: en un momento podemos saltar solo 2 ^ 12 instrucciones hacia atr√°s o hacia adelante, o cambiar el puntero o los datos por este valor.  El primero, que debe tener en cuenta al escribir programas, el segundo, siempre puede repetir el procedimiento. </p><br><p>  La resta est√° en el c√≥digo adicional.  La transferencia paralela proporciona un retraso de c√°lculo constante: solo 3 rel√©s de serie.  Esto no es m√°s de 2 ms. </p><br><p>  El registro IP y el registro AP, as√≠ como la entrada de RAM, est√°n conectados a la salida del sumador a trav√©s de pestillos. </p><br><h2 id="vychisleniya">  C√°lculos </h2><br><p>  Las operaciones principales son exactamente dos piezas.  En un caso, trabajamos con el c√°lculo de un nuevo valor de puntero, en el otro, un nuevo valor de datos. </p><br><p>  Cada flanco ascendente comienza el c√°lculo de un nuevo n√∫mero de instrucci√≥n.  B√°sicamente, IP ++ est√° hecho.  Despu√©s del c√°lculo, el IP se alimenta a la entrada de direcci√≥n de la tarjeta de memoria y, a trav√©s del bus de datos, la instrucci√≥n ingresa al registro de comando.  Los 4 bits altos determinan la instrucci√≥n futura, los 12 bajos probablemente no sean iguales a cero y en el futuro el sumador cambiar√° el n√∫mero en el registro temporal exactamente por este valor. </p><br><p>  Cada borde descendente comienza la operaci√≥n. </p><br><p>  Para operaciones con registros AP e IP, la secuencia de acciones se ve as√≠: </p><br><ol><li>  A trav√©s del bus de direcciones, el contenido del registro IP (AP) se copia en el registro temporal; </li><li>  Los registros temporales y de comando se alimentan a la entrada del sumador.  Despu√©s de 2 ms, la respuesta estar√° lista a la salida del sumador. </li><li>  La respuesta se registra en el registro IP o AP. </li></ol><br><p>  Hay algunas caracteristicas.  Para los comandos AP + BIAS y AP-BIAS, este es exactamente el caso, para los comandos condicionales, cuando, por ejemplo, IP = (* AP == 0?) IP + 1: IP + -BIAS, a√∫n necesitamos cargar el valor actual de la celda de datos en el bus de datos y eliminar informaci√≥n de un detector nulo. </p><br><p>  Para las operaciones <em>AP + BIAS y</em> AP-BIAS, la secuencia es ligeramente diferente. </p><br><ol><li>  A trav√©s del bus de datos, el valor actual de la celda de memoria se escribe en el registro temporal. </li><li>  Los registros temporales y de comando se alimentan a la entrada del sumador.  Despu√©s de 2 ms, la respuesta estar√° lista a la salida del sumador. </li><li>  El registro AP contin√∫a siendo alimentado a la entrada de la tarjeta de memoria.  La respuesta del sumador se escribe directamente en la memoria. </li></ol><br><p>  Los c√°lculos siempre ocurren en modo de 16 bits.  Pero la bandera nula de la rama condicional se define como: </p><br><pre><code class="cpp hljs">Z = ((<span class="hljs-number"><span class="hljs-number">16b</span></span>it?) *AP : (*AP) &amp; <span class="hljs-number"><span class="hljs-number">0x00FF</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) ;</code> </pre> <br><h1 id="konstrukciya">  Construcci√≥n </h1><br><p>  Nada ha cambiado desde la √∫ltima vez. </p><br><h2 id="modul">  Modulo </h2><br><p><img src="https://habrastorage.org/webt/h1/9b/9m/h19b9mwdk162l0g8x5iwtbweypo.jpeg"><br>  <em>Figura 3: M√≥dulo de la computadora.</em>  <em>De izquierda a derecha: m√≥dulo D-flip-flop, m√≥dulo de diodos, m√≥dulo 2AND / 2XOR</em> </p><br><p>  En el n√∫cleo hay un peque√±o m√≥dulo de 40x64 mm.  Cada m√≥dulo es una placa de circuito impreso con 4 rel√©s, en los que se implementa una operaci√≥n l√≥gica simple.  Hay un conector para 16 contactos (hay m√≥dulos para 12 y 14 contactos) y hasta 4 LED.  Todos los tama√±os son estrictamente fijos. </p><br><p><img src="https://habrastorage.org/webt/an/jz/uo/anjzuocj0hnbubswwexxtukvn_e.jpeg"><br>  <em>Figura 4: M√≥dulos durante el ensamblaje</em> </p><br><p>  Por ejemplo: </p><br><ol><li>  M√≥dulo 2AND / 2XOR - 2 operaciones l√≥gicas independientes - 2AND y 2XOR.  Se utilizan 32 piezas en el bloque sumador, dos m√≥dulos por bit.  Al principio, se soldaron los 4 LED, pero la circuiter√≠a del m√≥dulo es tal que dos rel√©s en cada m√≥dulo est√°n conectados en paralelo, y para reducir la energ√≠a consumida por la unidad, se elimin√≥ la mitad de los LED. </li><li>  M√≥dulo D-trigger: 64 piezas van a dos bloques de registro.  De estos, 60 son disparadores sin una se√±al de habilitaci√≥n. </li><li>  M√≥dulo de diodos: solo 8 diodos en la placa para implementar un diodo de entradas m√∫ltiples O.  Un truco sucio, pero permite guardar tanto en un rel√© (todav√≠a tengo unos 400 rel√©s en reserva ahora) como a tiempo: en comparaci√≥n con un rel√©, la se√±al se transmite a la salida de dicho elemento l√≥gico al instante. </li><li>  M√≥dulo 2 y - Este es el ladrillo base.  De hecho, hay 4 rel√©s con un contacto de conmutaci√≥n para implementar absolutamente cualquier circuito l√≥gico.  Ir√°n a bloques de l√≥gica en una cantidad desconocida. </li><li>  Universal 2AND / 2OR que est√° hecho de tal manera que permite implementar casi cualquier funci√≥n l√≥gica: 4AND, 4OR, 4AND-NOT, 4OR-NOT y as√≠ sucesivamente.  Tambi√©n ir√° al bloque l√≥gico en una cantidad desconocida. </li></ol><br><p>  Como dije, despu√©s de haber perdido mucho tiempo en la fabricaci√≥n de placas de circuito impreso caseras, me asust√© y ped√≠ un juego completo de placas de circuito a los chinos.  En la primera semana arm√© los primeros m√≥dulos.  Y un mes despu√©s, todos los m√≥dulos para el bloque sumador estaban listos. </p><br><p><img src="https://habrastorage.org/webt/xn/72/gz/xn72gzk6fnala_kjqcga1ycq-cc.jpeg"><br>  <em>Figura 5: Bloque sumador</em> </p><br><h2 id="blok">  Bloque </h2><br><p>  32 m√≥dulos de 8 m√≥dulos en 4 filas se combinan en un bloque funcional.  Hay 5 bloques en total (en el peor de los casos, 6): </p><br><ol><li>  El bloque sumador es un sumador completo de 16 bits.  Dos entradas de 16 bits para n√∫meros, 1 l√≠nea de transferencia de cero bits, dos salidas.  En uno est√° la operaci√≥n de suma, en el otro est√° el XOR entre las entradas.  Se puede usar como una operaci√≥n independiente. </li><li>  Bloque de registro IP / AP: dos registros independientes de 16 bits sin se√±al de habilitaci√≥n.  Los hallazgos de Q y ~ Q se usan directamente y se alimentan a trav√©s de pestillos a donde sigue.  Era posible soldar 4 rel√©s, pero en aras de salvar el rel√©, la funcionalidad se coloc√≥ en pestillos externos. </li><li>  Bloque de registros TMP / CMD: aqu√≠ hay tres registros.  Uno es un registro temporal de 16 bits.  Exactamente igual que IP o AP.  El segundo es de 12 bits; su salida est√° conectada a la entrada del sumador a trav√©s de un pestillo.  El tercero es de 4 bits, con una se√±al de habilitaci√≥n incorporada.  Se utiliza para almacenar la instrucci√≥n actual. </li><li>  Bloques l√≥gicos - 2 piezas.  O tres.  El esquema a√∫n es desconocido.  Los c√°lculos preliminares muestran que 64 m√≥dulos ser√°n suficientes (GOTO: Memory Board). </li></ol><br><p>  En la base de cada bloque, la placa base es de 200x150 mm, sin cableado.  Todo lo que est√° encendido son 32 conectores y clavijas cuadradas que sobresalen desde abajo para una instalaci√≥n envolvente. </p><br><p><img src="https://habrastorage.org/webt/s_/pn/tl/s_pntl-inevaow8u_8bnzg-710k.jpeg"><br>  <em>Figura 6: placa base y su cesta</em> </p><br><p>  Los m√≥dulos que sobresalen en el conector as√≠ no son confiables.  Colgar√°n aqu√≠ y all√°, cambiar√°n de sacudidas y en todos los sentidos reducir√°n la confiabilidad de la estructura.  Para arreglarlos, dibuj√© e imprim√≠ canastas especiales con surcos.  Los m√≥dulos ciertamente no ir√°n a ninguna parte: sobrevivieron a un viaje en tren a Mosc√∫ y regresaron sin ning√∫n problema. </p><br><p>  La canasta podr√≠a haberse dibujado m√°s f√°cilmente: con una capa de 0,32 mm se imprimir√≠a un poco m√°s de 10 horas.  Tres cestas est√°n impresas con pl√°stico PLA, dos m√°s con HIPS.  Este √∫ltimo, debido a la falta de una carcasa para mi impresora, se deforma perceptiblemente al imprimir. </p><br><p>  Puede notar que el bloque sumador no tiene orejas para adjuntar.  La canasta para √©l se imprimi√≥ la primera.  Luego acoplar√© estas orejas o imprimir√© una nueva canasta. <br><img src="https://habrastorage.org/webt/y3/es/a5/y3esa50tcletmcbmu5zn5nhxhrk.jpeg"><br>  <em>Figura 7: Bloque sumador y bloque l√≥gico.</em> </p><br><h2 id="montazh-nakrutkoy">  Envoltura de alambre </h2><br><p>  En la placa base, estamos esperando 600 conclusiones que deben interconectarse.  Afortunadamente, es necesario conectar no solo todo, sino solo casi todo.  Por otro lado, no hay nada m√°s f√°cil. </p><br><p>  Recogemos una herramienta especial, una bobina de alambre y una pata despu√©s de una pata, terminamos el diagrama de conexi√≥n. </p><br><p><img src="https://habrastorage.org/webt/wj/ak/gv/wjakgvtczgj932i6vpb77xjpb_e.jpeg"><br>  <em>Figura 8: Cierre del bloque sumador</em> </p><br><p>  Esto es solo el comienzo del trabajo.  Bueno, como un comienzo.  Al principio hubo un silencio silencioso: los cables se colocaron al azar, algunos puentes son largos, otros son demasiado largos ... Despu√©s de aprender un poco mejor que antes, quit√© la mayor√≠a de los puentes y los torc√≠ de nuevo. Comenc√© a estirar los puentes con una cuerda.  Por lo tanto, los cables no se cuelgan y el resultado se ve mucho mejor.  Trat√© de poner para que los cables no presionen en las esquinas de no sus pines.  Como resultado, no hay un solo circuito.  Desde el primer intento solo hab√≠a l√≠neas de tierra. </p><br><p><img src="https://habrastorage.org/webt/bq/6t/e3/bq6te3y4th4_ahzqaa12kto6llw.jpeg"><br>  <em>Figura 9: Cierre del bloque sumador.</em>  <em>Resultado final</em> </p><br><p>  Por el momento, no es exactamente sencillo, pero creo que para el primer tablero es un muy buen resultado.  Hasta ahora, no he aprendido c√≥mo tender el cable a la bobina, o una herramienta curva, o las manos ... </p><br><p>  En camarada  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">UA3MQJ</a> tiene un <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo detallado</a></strong> sobre este m√©todo de instalaci√≥n. </p><br><p>  Adem√°s del bloque sumador, se necesita un bloque de registro.  M√°s bien, dos registros de bloque.  Un par de meses m√°s y se ensamblan y prueban otros 64 m√≥dulos.  Queda por enrollar la placa base. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ctT1eXD5qDE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Como fue eso </p><br><h1 id="indikatornye-moduli">  M√≥dulos indicadores </h1><br><p><img src="https://habrastorage.org/webt/pq/u-/2i/pqu-2ianoeafpk1aubms_sevths.jpeg"><br>  <em>Figura 10: M√≥dulo indicador</em> </p><br><p>  El estado actual de los registros del procesador debe mostrarse en algo y decid√≠ que los indicadores de vac√≠o ser√°n los correctos.  En el tablero de 100x100 mm (para 10 piezas de este tama√±o que puede pedir a los chinos por $ 5), hay 6 indicadores IV-6, disparadores K155TM8 y un microcontrolador.  La indicaci√≥n aqu√≠ es din√°mica. </p><br><p>  Tambi√©n hay una entrada de 16 bits para la lectura directa del estado del registro y un puerto UART para recibir comandos de la tarjeta de memoria. </p><br><p>  Ahora el firmware puede leer el estado del puerto de 16 bits y, en formato HEX, mostrarlo en el indicador.  En total, necesito 4 piezas de dichos m√≥dulos.  Tres mostrar√°n el estado actual de los registros: IP, AP y CMD del registro para tener una visualizaci√≥n m√°s conveniente de los valores almacenados actuales.  Cuarto: mostrar√° el n√∫mero total de instrucciones ejecutadas. </p><br><h1 id="zaschelka">  Pestillo </h1><br><p><img src="https://habrastorage.org/webt/tt/u8/s6/ttu8s6chfwlltkbgkzbsbrldz0k.jpeg"><br>  <em>Figura 11: M√≥dulo de cierre</em> </p><br><p>  El m√≥dulo de cierre consta de 8 rel√©s RES43.  En el interior hay dos contactos.  Izquierda y derecha son LED que muestran el estado actual de la entrada y salida. </p><br><p>  El tama√±o del pestillo es de 100x100 mm.  La cantidad requerida es de 8 piezas.  Dos est√°n listos, queda por recoger seis m√°s. </p><br><h1 id="plata-pamyati">  Tablero de memoria </h1><br><p><img src="https://habrastorage.org/webt/ou/zw/vt/ouzwvtghdzcjmuywgdroiiovasi.jpeg"><br>  <em>Figura 12: Tarjeta de memoria.</em>  <em>Vista general</em> </p><br><p>  El bloque m√°s grande, que contiene principalmente dos 64 Kbytes de chips RAM est√°ticos y esquemas coincidentes para entradas de direcciones y un puerto de datos.  El tablero alberga el microcontrolador ATmega1280.  Tiene dos tareas vitales: </p><br><ol><li>  Descargando el programa y los datos iniciales a la RAM.  El binario compilado debe colocarse en la memoria.  Para hacer esto, ser√° posible conectarse a la tarjeta de memoria a trav√©s de UART o telnet (a trav√©s de Wi-Fi) y descargar el archivo ejecutable.  MK leer√° el encabezado y colocar√° secciones de c√≥digo y datos en la RAM.  Soy demasiado perezoso para hacer esto con los interruptores y botones de alternar, un programa de mierda que puede hacer algo m√°s complicado. HelloWorld contiene miles de instrucciones.  Hay un par de cartas de triunfo en el nido a este respecto, pero sobre ellas en otro momento. </li><li>  Implementa comandos para leer datos de la consola y escribir en ellos.  Si si instrucciones ""  y "," se implementan utilizando MK.  Por el contrario, la l√≥gica del rel√© informa al MK que ahora es necesario transferir el estado del bus de datos a la consola, o viceversa, para emitir el valor de la consola al bus de datos.  De hecho, MK funciona como un convertidor de interfaz paralela en UART.  S√≠, es bastante posible ejecutar algunos especiales.  chip y lo pensar√©. </li></ol><br><p>  Todav√≠a no he decidido qu√© hacer con el modo de 16 bits.  Por supuesto, la mayor√≠a de los programas est√°n escritos bajo el cerebro de 8 bits y todo es simple: leemos y escribimos el byte bajo.  Y en modo de 16 bits, ¬øqu√© debo hacer?  ¬øMostrar la palabra completa o solo el byte bajo tambi√©n? </p><br><p>  Adem√°s de las principales, MK tiene una serie de tareas secundarias, de las que puede prescindir, en principio, pero est√°n destinadas a la conveniencia de usar la m√°quina: </p><br><ol><li>  MK es responsable de mostrar un √°rea peque√±a de memoria en una matriz LED de 32x16 p√≠xeles.  Lo hace mientras el bus de direcciones y el bus de datos no est√°n ocupados por la l√≥gica principal.  Aqu√≠ no estoy seguro de que para MK generalmente haya tiempo en el autob√∫s, por lo que es necesario verificar la pregunta.  Pero en el encabezado del programa habr√° una direcci√≥n de inicio para mostrar e intentar√© que funcione.  La indicaci√≥n es din√°mica.  Se emiten dos columnas de datos a la vez en un ciclo de reloj. </li><li>  Cuando el indicador del modo de memoria protegida se activa en el binario, en el caso de un intento de ejecutar una secci√≥n de datos o escribir en la secci√≥n de memoria, el MK generar√° una excepci√≥n de "Fallo de segmentaci√≥n".  Entonces podemos asegurarnos de que el programa no vaya a donde no deber√≠a.  No est√° prohibido leer la secci√≥n de memoria. </li><li>  Cuando se activa el indicador de control de c√≥digo, MK activa el simulador y ejecutar√° las mismas instrucciones que la computadora, comparando los resultados esperados y recibidos.  Si el resultado es diferente, se lanzar√° la excepci√≥n "Error de m√°quina".  Esto significar√° que se ha producido un error en los c√°lculos y quiz√°s un m√≥dulo ha comenzado a fallar.  O tambi√©n nosotros levantamos la frecuencia del reloj y los rel√©s ya no tienen tiempo para calcular.  Solo con la ayuda de esta funcionalidad, intentar√© exprimir al m√°ximo el autom√≥vil; algo tendr√° que controlar el funcionamiento correcto durante este per√≠odo. </li></ol><br><p>  Todav√≠a hay una funci√≥n temporal, pero a√∫n vital, de la placa de memoria: emular un bloque de l√≥gica mientras no est√° all√≠.  Hay l√≠neas de entrada y salida en la placa de memoria y podemos suministrar las se√±ales necesarias a los bloques.  Por lo tanto, al conectar todas las l√≠neas de control a la tarjeta de memoria y escribir un programa que emita la secuencia de comandos necesaria, resultar√° en el menor tiempo posible: </p><br><ol><li>  ejecutar los primeros programas para su ejecuci√≥n; </li><li>  algoritmos de depuraci√≥n y circuiter√≠a del bloque l√≥gico, lo que aumentar√° las posibilidades de su ensamblaje y operaci√≥n sin errores m√°s adelante. </li></ol><br><p>  Luego, al reunir los m√≥dulos necesarios de los bloques l√≥gicos, todas las funciones se transferir√°n gradualmente "al hierro".  Cuando MK deja de ser responsable de la l√≥gica, el proyecto se considerar√° completado. </p><br><h1 id="autentichnost">  Autenticidad </h1><br><p>  El proyecto no fue concebido originalmente como puramente rel√©, sin el uso de transistores y microcircuitos.  Por un lado, la computadora resulta ser h√≠brida y pierde resistencia a la radiaci√≥n, por otro lado, la mayor√≠a de las computadoras de retransmisi√≥n tienen una dolencia similar.  La versi√≥n final de la m√°quina utilizar√° un chip de memoria y un microcontrolador.  La memoria de ferrita se utilizar√° en otro proyecto, ya "sin silicio". </p><br><p>  Para compensar el efecto del no canon, obtuve una m√°quina de escribir electr√≥nica ‚ÄúRobotron S6130‚Äù </p><br><p><img src="https://habrastorage.org/webt/7q/sc/qp/7qscqpvy4fjdknrgucm0ryum5im.jpeg"><br>  <em>Figura 13: M√°quina de escribir electr√≥nica tipo manzanilla.</em> </p><br><p>  Desafortunadamente, la m√°quina se me acerc√≥ en un mal estado de vida.  Fue utilizado durante mucho tiempo en contabilidad, pero al final fue abandonado para morir en un espl√©ndido aislamiento. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Bmlq4-TQYF0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Recomiendo ver una cr√≠tica √∫nica de este monstruo. </p><br><p>  Directamente, la mec√°nica est√° en buenas condiciones, pero la placa del procesador, en la que se encontraba un par de bater√≠as D-0.25 NiCd, fue muy utilizada.  Se filtraron con seguridad e inundaron todo a su alrededor con electrolitos. </p><br><p>  Quiero restaurarlo y usarlo como terminal de entrada / salida para la computadora. Sin embargo, adem√°s del mal funcionamiento de la parte electr√≥nica, la m√°quina tiene una margarita rusa (unidad con letras) y teclas rusas.  El segundo se decide por pegatinas, el primero debe buscarse y aqu√≠ todav√≠a no tengo suerte.  Sobre el hecho de que se requiere un cartucho con una cinta de tinta, generalmente estoy en silencio.  Al menos tengo papel para ella ... </p><br><p>  Si la electr√≥nica decide que se pierde irremediablemente, entonces tratar√© de encontrar un donante o desarrollar√© un nuevo relleno electr√≥nico.  Hacer que un tablero de control sea un pu√±ado de shagoviks no es la tarea m√°s dif√≠cil.  Ser√° m√°s dif√≠cil traducir un manual del alem√°n y comprender los conocimientos tradicionales.  Por supuesto, esta m√°quina merece un art√≠culo separado sobre los resultados del renacimiento.  Contra ella, hasta ahora es la prioridad del trabajo realizado. </p><br><h1 id="testy">  Pruebas </h1><br><p>  Todos aquellos que hayan le√≠do hasta este lugar recibir√°n una recompensa en forma de bloques de rel√© resquebrajados. </p><br><p>  Para empezar, intentemos aplicar una onda cuadrada a la entrada del rel√© a trav√©s de una cascada de transistores: </p><br><p><img src="https://habrastorage.org/webt/aa/9s/ob/aa9sobefi3g2phsqmkudkq9cafw.jpeg"><br>  <em>Figura 14: Prueba de alta velocidad del interruptor de l√°minas RES55.</em>  <em>Hay una se√±al amarilla en la bobina, azul en los contactos.</em> </p><br><p>  Dado que la entrada del osciloscopio tiene una cierta capacitancia, y despu√©s de que se abre el contacto del rel√©, permanece en el aire y comienza la autodescarga, vemos el exponente opuesto.  ¬°A una frecuencia de 1.7 kHz!  Para el relevo!  ¬°Para un peque√±o rel√© de l√°mina!  Parada ordinaria a 20Hz o ligeramente superior.  A una frecuencia nominal de 100 Hz, los bordes ascendente y descendente son aproximadamente 600 Œºs cada uno.  Aqu√≠ son tan peque√±os (200 microsegundos), porque la energ√≠a de la anterior todav√≠a permanece en la bobina en el momento del pr√≥ximo encendido. </p><br><p>  Aplicamos voltaje a los bloques, cortamos los interruptores de los instrumentos de medici√≥n sovi√©ticos a las entradas. </p><br><p><img src="https://habrastorage.org/webt/yx/zv/pa/yxzvpakpbgnygfzcnkxcvllaxvq.jpeg"><br>  <em>Figura 15: Bloque sumador y bloque de registro en funcionamiento</em> </p><br><p>  Cuenta!  Genial </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zqWaLdvAkPY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  As√≠ se ve√≠a desde la escena.  Al principio quer√≠a rehacer los conmutadores para 16 bits.  Conecta los indicadores a la entrada y a la salida, pero ... no pude resistirme. </p><br><p>  Bueno, dado que todo funciona y el rel√© result√≥ ser capaz de velocidades incre√≠bles, alimentamos el meandro a la l√≠nea de transferencia: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8WnqqeKWtjw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Y cortamos 500Hz.  El sumador hace frente, aunque el sonido no se puede decir.  En realidad, el sonido es claro, pero el micr√≥fono de condensador piensa de manera diferente.  Hasta donde yo s√©, este es el sumador de relevos m√°s r√°pido del mundo. </p><br><h1 id="prodolzhenie-sleduet">  Para continuar </h1><br><p><img src="https://habrastorage.org/webt/3v/et/il/3vetilfxdaaga8060ahosnruc34.jpeg"><br>  <em>Figura 16: Dise√±o de un marco de computadora</em> </p><br><p>  Poco a poco, las seis piezas de pestillos faltantes se recogen y el marco de la futura m√°quina comienza a dise√±arse.  Hay seis bloques en el dibujo en caso de que 64 m√≥dulos no sean suficientes para la l√≥gica.  Y si ya es suficiente, el lugar debajo del bloque central inferior permanecer√° vac√≠o. </p><br><p>  Al mismo tiempo, estoy escribiendo firmware para una tarjeta de memoria para que pueda reemplazar un bloque l√≥gico faltante.  En el verano, la computadora podr√° ejecutar su primer programa. </p><br><h2 id="tri-kompyutera">  ¬øTres computadoras? </h2><br><p>  Si tres.  El primero es el BrainfuckPC actual.  El segundo es una computadora <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">neum√°tica</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cuyo nombre en c√≥digo es FluidicPC</a> . </p><br><div class="spoiler">  <b class="spoiler_title">Sobre el tercer monstruo futuro resistente a la radiaci√≥n ya puede encontrar referencias en Internet, pero no quiero rociar entre proyectos y primero quiero terminar el actual, todav√≠a no hago un anuncio.</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/fn/l2/xu/fnl2xu1n17czsdx6lbs5u2yzkmi.jpeg"><br>  <em>Figura 17: Cambio de decatrones A101, A102 y A103</em> <br>  Aunque a partir de esta imagen ya puedes adivinar lo que se discutir√°. </p></div></div><br><h2 id="zacheeeem">  POR QU√â ??? </h2><br><img src="https://habrastorage.org/files/1fb/f24/c16/1fbf24c164974f8fabba8e7e03e5856b.jpg"><br><br><h2 id="ssylki">  Referencias </h2><br><p>  Todo el proyecto sigue estando completamente abierto.  Por lo tanto, los principales enlaces para el proyecto: </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Repositorio con diagramas de circuitos y dise√±os de PCB</a> .  Tambi√©n hay firmware para el m√≥dulo indicador y la tarjeta de memoria. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">En esta p√°gina</a> publico semanalmente y no muy informes sobre lo que se ha hecho.  Ahora est√° leyendo un art√≠culo, un poco m√°s que completamente compuesto por estas notas.  Con traducci√≥n, comentarios y adiciones. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Compilador y emulador</a> . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es411145/">https://habr.com/ru/post/es411145/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es411135/index.html">Par√°metros</a></li>
<li><a href="../es411137/index.html">VTC - Centro de comunicaci√≥n satelital (Vladivostok)</a></li>
<li><a href="../es411139/index.html">El misterio con la vida de neutrones se vuelve m√°s complicado, y la materia oscura todav√≠a no es visible</a></li>
<li><a href="../es411141/index.html">"Casa inteligente" en Arduino para una casa de cambio</a></li>
<li><a href="../es411143/index.html">Programaci√≥n de microcontroladores modernos: clase 1</a></li>
<li><a href="../es411147/index.html">Enormes manchas de planetas gigantes</a></li>
<li><a href="../es411149/index.html">Pron√≥stico TRIZ de sistemas descentralizados y la sociedad ciberf√≠sica de 2035</a></li>
<li><a href="../es411151/index.html">iMX6ULL. Transici√≥n a m√≥dulos de procesador</a></li>
<li><a href="../es411153/index.html">Nueve c√≠rculos de burocracia: c√≥mo un aeropuerto en Denver est√° tratando de obtener una licencia de puerto espacial</a></li>
<li><a href="../es411155/index.html">Reemplace los antibi√≥ticos habituales con mol√©culas sint√©ticas de IBM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>