<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฒ๐ฟ ๐ณ ๐ฝ ุนูุณ ูุญูู USB-SATA (ุชุงุฑูุฎ ุงููุชุฏุฑุจ ูุงุญุฏ) ๐ฉ๐ปโ๐ ๐ ๐คฝ๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุจู ุงูุชุงุฑูุฎ 


 ุงูุชุฏุฑูุจ ุงูุฏุงุฎูู ูู ุนูููุฉ ุงูุชุณุงุจ ุงููุนุฑูุฉ ูุงูุฎุจุฑุฉ. ูุนุชูุฏ ูุฑูู ุฃูุงู ุงูุฑุงููู ูุฏููุง ุฃู ุชุญุณูู ุฃูู ุงููุนูููุงุช ููุฃุฌูุฒุฉ ูุงูุจุฑุงูุฌ ูู ุญูููุง ุฃูุฑ ูุณ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุนูุณ ูุญูู USB-SATA (ุชุงุฑูุฎ ุงููุชุฏุฑุจ ูุงุญุฏ)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ntc-vulkan/blog/485966/" style=";text-align:right;direction:rtl"><h1 id="predystoriya" style=";text-align:right;direction:rtl">  ูุจู ุงูุชุงุฑูุฎ </h1><br><p style=";text-align:right;direction:rtl">  ุงูุชุฏุฑูุจ ุงูุฏุงุฎูู ูู ุนูููุฉ ุงูุชุณุงุจ ุงููุนุฑูุฉ ูุงูุฎุจุฑุฉ.  ูุนุชูุฏ ูุฑูู ุฃูุงู ุงูุฑุงููู ูุฏููุง ุฃู ุชุญุณูู ุฃูู ุงููุนูููุงุช ููุฃุฌูุฒุฉ ูุงูุจุฑุงูุฌ ูู ุญูููุง ุฃูุฑ ูุณุชุญูู ุฏูู ููู ูุฐู ุงููุนุฑูุฉ ูุงูุฎุจุฑุฉ ุฅูู ุฃุฌูุงู ุงููุณุชูุจู ูู ุงููุชุฎุตุตูู.  ูุฐุง ูู ุงูุณุจุจ ูู ุฃููุง ูููู ุจุชูุธูู ุฏูุฑุงุช ุชุฏุฑูุจูุฉ ูุฑุฏูุฉ ููุทูุงุจ ุงูููููุจูู ูุงูุฎุฑูุฌูู ูุณููุงุช ุนุฏูุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุจุญูุซ ุงูุฃูููุฉ ูู ููุงุฑุฉ ูุง ูุชู ุชุฏุฑูุณูุง ูู ุงูุฌุงูุนุฉ.  ููููู ูุนุฑูุฉ ุฐูู ูู ุฎูุงู ุฃูุซูุฉ ููููุณุฉ ูุชูุฌูู ูู ุงูููุฌููู ุฐูู ุงูุฎุจุฑุฉ.  ูู ุนุงู ุ ูููู ุงููุชุฏุฑุจูู ูุฏููุง ุจุญู ุงููุดููุงุช ุงููููุฉ ุงููุนูุฏุฉ ุ ูุชุญููู ุฃูุฏุงููู ูุงููุถู ูุฏููุง ุ ูุชูุณูุน ุขูุงููู ุงูููููุฉ ูุฌุนู ุงูุนุงูู ุฃูุซุฑ ุฃูุงููุง.  ูู ูุงุญุฏ ูููู ูุฏูู ูุตุชู ุงูุฎุงุตุฉ ูู ุฃู ูุตุจุญ ูุชุฎุตุตุง ุ ูุชุญุช ุงููุต - ุจุฏุงูุฉ ูุงุญุฏุฉ ูููู. </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eu/dr/h-/eudrh-mevrjhfjo4jfjouffyyk4.png"></div><a name="habracut"></a><br><h1 id="vvedenie" style=";text-align:right;direction:rtl">  ููุฏูุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูู ุฃูุชูุจุฑ ูู ุงูุนุงู ุงููุงุถู ุ ุฌุฆุช ููุชุฏุฑูุจ ุงูููู ูู ุดุฑูุฉ NTC Vulkan.  ุชู ุชูุฌูู ุงูุชูุงูู ุฅูู ูุฌุงู ุงูููุฏุณุฉ ุงูุนูุณูุฉ.  ููุช ุฃุนุฑู ูุง ูุงู ุนููู ุ ููุฏ ุญุงููุช ุจุงููุนู ุฅุฌุฑุงุก ุจุญุซ ูุณุชูู ุนู crackme ุชุญุช x86 ุ ููููู ูููุช ุฃู ุฃูุซุฑ ุงูุฃุดูุงุก ุฅุซุงุฑุฉ ููุงูุชูุงู ุชููู ุจุงูุชุญุฏูุฏ ูู ุชูุงุทุน ุงูุจุฑุงูุฌ ูุงูุฃุฌูุฒุฉ.  ูู ุชูู ูุฏู ุฎุจุฑุฉ ูู ูุฐุง ุงููุฌุงู ุ ููููู ููุช ุฃุฑุบุจ ูู ุชุฌุฑุจุฉ ูุฏู. </p><br><p style=";text-align:right;direction:rtl"> ูู ููู ูุฏู ุฃู ุชููุนุงุช ูุญุฏุฏุฉ ูู ูุฐุง ุงูุญุฏุซ - ุงูุฃุตุฏูุงุก ูุงููุนุงุฑู ูุชุญุฏุซูู ุบุงูุจูุง ุนู ุงูุชุฏุฑูุจ ุงูููู ูู ุงูุนุฏูุฏ ูู ุงูุดุฑูุงุช ุงููุนุฑููุฉ.  ูุนูุฏูุง ุนูุฑุถ ุนููู ุชุฌุฑุจุฉ ูุฏู ูู ุงูุจุญุซ ุนู ูุญูู USB-SATA ุ ููุช ุณุนูุฏูุง ุจุงููุฑุตุฉ ุงูุฌุฏูุฏุฉ ูุชุนูู ุดูุก ูุง.  ุฅู ุงูุฎุจุฑุฉ ุงูููุชุณุจุฉ ูุงููุชูุฌุฉ ุงูุชู ุญููุชูุง ุฌุนูุช ูู ุงููููู ุงูุชุญูู ูู ุตุญุฉ ุงุฎุชูุงุฑ ููุงู ุงูุชุฏุฑูุจ ููููุฉ ุงููุณุชูุจู. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏุฃุช ุงูุฏุฑุงุณุฉ ุจุงูุญุตูู ุนูู ูุญูู USB-SATA ููุชุธู ูู ูุชูุงูู ุงููุฏ.  ููุง ูู ูุง ูุนูุชู ุจุนุฏ ุฐูู. </p><br><h1 id="vizualnyy-shemotehnicheskiy-analiz" style=";text-align:right;direction:rtl">  ุชุญููู ุงูุฏูุงุฆุฑ ุงูุจุตุฑูุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุฃููุงู ุฅูู ูุญุต ููุญุฉ ุงููุญูู ูุชุญุฏูุฏ ุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ ููุฌูุงุฒ.  ูู ุงูุฃุดูุงู ุฃุฏูุงู ุ ูุชู ุชูููุฒ ุงููุชู ุงูุฑุฆูุณูุฉ ููููููุงุช ุงููููุฉ ูุชุดุบูู ุงูุฌูุงุฒ.  ุงูุตูุฑ ุงูุชู ุงูุชูุทุช ุจุนุฏ ุงูุจุญุซ: </p><br><img src="https://habrastorage.org/webt/9x/1n/ej/9x1nejzyxjz-zpfnb_d_v9y9giy.jpeg"><br><p style=";text-align:right;direction:rtl">  <em>USB ุฅูู ูุญูู SATA.</em>  <em>ุนุฑุถ ุฃุนูู</em> </p><br><img src="https://habrastorage.org/webt/tx/ra/je/txrajeoqdj1x7ytwn7huh0gdy6g.jpeg"><br><p style=";text-align:right;direction:rtl">  <em>USB ุฅูู ูุญูู SATA.</em>  <em>ุนุฑุถ ุฃุณูู</em> </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ูุถุงุก ุจุนุถ ุงูููุช ูู Google ุ ุงูุชุดูุช ูุฌูุฏ ูุญูููู ููุฌูุฏ ุนูู ุงูููุญุฉ: ุฃุญุฏููุง ุจ 3.3 ูููุช ูุงูุขุฎุฑ ุจ 1.2 ูููุช. ููุง ุฃูู ูู ุงูุณูู ุฌุฏูุง ุชุญุฏูุฏ ุฐุงูุฑุฉ ุงูููุงุด ุงููุซุจุชุฉ ุนูู ุงูููุญ.  ูุนูู ROM ุนูู ูุงุฌูุฉ SPI ุ ูุชุจูุบ ุณุนุฉ ุงูุฐุงูุฑุฉ 512 ูููู ุจุงูุช ูู ุงูุซุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุฃู ูุฑุญูุฉ ุงุณุชุทูุงุน ุงูุฏูุงุฆุฑ ูุฏ ุงูุชููุช ุชูุฑูุจูุง ุ ูููู ุงูุจุญุซ ุงูุณุฑูุน ุนูู ุงูุฅูุชุฑูุช ูู ูุณูุฑ ุนู ุฃู ูุชุงุฆุฌ ููุงุณุชุนูุงู "ASM1051".  ูู ูุชู ุงูุนุซูุฑ ุนูู ูุณุชูุฏุงุช ููุดุฑูุญุฉ ุงููุซุจุชุฉ ุนูู ุงูุณุจูุฑุฉ.  ุตุญูุญ ุ ูุง ูุฒุงู ุจุฅููุงูู ุงูุนุซูุฑ ุนูู ุจุฑูุงูุฌ ูุชูุญ ูู ุชุญุฏูุซู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงู <a href="https://datasheetspdf.com/pdf-file/917641/ASMedia/ASM1053/1">ูุฑูุฉ ุจูุงูุงุช</a> ุตุบูุฑุฉ ููุทุฑุงุฒ ุงููุฏูู <strong>ASM1053</strong> . </p><br><h1 id="usb" style=";text-align:right;direction:rtl">  USB </h1><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุงุชุตุงู ุจุฌูุงุฒ ููุจููุชุฑ ุ ูุธูุฑ ุงููุญูู ูุฌูุงุฒ ุชุฎุฒูู USB.  ูุฑุฑุช ุฃู ูุนุฑูุฉ ุฃุนูู ุจู <a href="https://ru.wikipedia.org/wiki/USB">USB</a> ูู ุงููุญุชูู ุฃู ุชููู ูููุฏุฉ ูุจุญุซู ุ ูุจุงูุชุงูู ูุฅู ุงูุณุงุนุงุช ุงูููููุฉ ุงููุงุฏูุฉ ูุถูุช ูู ุฏุฑุงุณุฉ ุงููุงุฌูุฉ. <br>  ุจุดูู ุนุงู ุ ูููู ุฃู ุชููู ุฃุฌูุฒุฉ USB ูู ูุฆุงุช ูุฎุชููุฉ ุ ุงุนุชูุงุฏูุง ุนูู ูุธุงุฆููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงููุญูููุฉ ูู ุฌูุงุฒ ุงูุชุฎุฒูู ูุจูุฑ ุงูุณุนุฉ ุ ูููุญุฉ ุงูููุงุชูุญ ูุฃุฌูุฒุฉ ุงููุงูุณ ูู <a href="https://ru.wikipedia.org/wiki/USB_HID">ุฌูุงุฒ ูุงุฌูุฉ ุงูุฅูุณุงู (HID)</a> .  ููุฃู ุงููุญูู ุงูุฎุงุต ุจู ูุฑุฆู ูู ุฅุฏุงุฑุฉ ุงูุฃุฌูุฒุฉ ูุฌูุงุฒ ุชุฎุฒูู ุ ููุฐุง ูุนูู ุฃูู ุชู ุชุนุฑููู ุนูู ุฃูู ูุฎุฒู ูุจูุฑ ุงูุณุนุฉ ููุฌุจ ุฃู ูุนูู ูุน ุฃูุงูุฑ SCSI. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฃุฏุจ USB ุงูุฃุณุงุณูุฉ ุงูุชู ุฌุงุกุช ูู ูุชูุงูู ุงููุฏูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <a href="https://pierrelib.pagesperso-orange.fr/buses/USB_in_a_Nutshell.pdf">USB ูู NutShell</a> </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <a href="https://usb.org/sites/default/files/usbmassbulk_10.pdf">ูุฆุฉ ุงูุชุฎุฒูู ุงูุดุงูู ููุญุงููุฉ ุงูุชุณูุณููุฉ</a> </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <a href="http://ww1.microchip.com/downloads/en/appnotes/01169a.pdf">ูุฆุฉ ุชุฎุฒูู USB ูุจูุฑ ุงูุณุนุฉ ุนูู ุฌูุงุฒ ูุถูู</a> </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <a href="https://www.seagate.com/files/staticfiles/support/docs/manual/Interface%2520manuals/100293068j.pdf">ุฏููู ูุฑุฌุน ุฃูุงูุฑ SCSI</a> </p><br></li></ul></div></div><br><h1 id="chtenie-pamyati-iz-pzu" style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงูุฐุงูุฑุฉ ูู ROM </h1><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุนุฏู ูุนุฑูุฉ ุฃู ุดูุก ุนู ASM1051 ุงููุซุจุช ุนูู ุงูููุญุฉ ุ ููุฏ ุงุนุชุจุฑุช ุงูุฐุงูุฑุฉ ูู ROM ุงูุฅุฌุฑุงุก ุงูุฃูุซุฑ ูุถูุญูุง.  ุงูุชููุช ุฅูู ุงููุฎุชุจุฑ.  ูุงู ุจูุตู ุฑูุงูุฉ ุฐุงูุฑุฉ ุงูููุงุด ุจูุฌูู ุดุนุฑ ูุญุงู ูุฑุจุทูุง ุจุจุฑูุฌูุฉ ChipProg-48 USB.  ูู ุชูู ููุงู ูุดุงูู ูู ุงููุฑุงุกุฉ ุ ููุงู ูุฏู ููู ุซูุงุฆู ุนูู ูุฏู.  ูู ุฐูู ุงูููุช ุ ูู ุฃุณุชุทุน ุชุญุฏูุฏ ูุง ูุงู ููุฌูุฏูุง ุนูู ูุญุฑู ุงูุฃูุฑุงุต ุงููุญููู ุ ูุจุฏุฃุช ูู ุชุญููู ุงูุจูุงูุงุช. </p><br><h1 id="analiz-binarnogo-fayla" style=";text-align:right;direction:rtl">  ุชุญููู ููู ุซูุงุฆู </h1><br><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ููุช ุจูุชุญ ููู ุชูุฑูุบ ุฐุงูุฑุฉ ูู ROM ุจุงุณุชุฎุฏุงู WinHex ุ ูููู ููููู ุงุณุชุฎุฏุงู ุฃู ูุญุฑุฑ HEX.  ุจุฏุฃ ุงููุธุฑ ูู ุงูุจุงูุชุงุช: </p><br><img src="https://habrastorage.org/webt/fz/g8/v7/fzg8v7gjqsop97y-kgybcmudrqa.jpeg"><br><p style=";text-align:right;direction:rtl">  <em>ุจุฏุงูุฉ ุชูุฑูุบ ุฐุงูุฑุฉ ูุฑุงุกุฉ ูู ROM</em> </p><br><p style=";text-align:right;direction:rtl"> ููุทุฉ ุงูุดุงุดุฉ ุฃุนูุงู ูู ููุทุฉ ุดุงุดุฉ ูู ุงููุญุฑุฑ.  ุงูุฎุท <code>ASMT1051</code> ุ ุงูุฐู ูุจุฏุฃ ุจุนููุงู 0x44 ุ ูุงุถุญ ุนูู ุงูููุฑ.  ููููู ุฃูุถูุง ุฑุคูุฉ ุงูุณุทุฑ <code>asmedia</code> ูู ุงูุนููุงู 0x18.  ูุชุญููู ุงูุจูุงูุงุช ุงูุฃููู ุ ุงุณุชุฎุฏูุช ุฃุฏุงุฉ ุชุญููู ุงูุชุฑุฏุฏ ุ ููู ูุชููุฑุฉ ูู WinHex. </p><br><img src="https://habrastorage.org/webt/ui/r9/ad/uir9adkobpc6gnl55k6vjnaf65i.jpeg"><br><p style=";text-align:right;direction:rtl">  <em>ุฑุณู ุจูุงูู ูุชุญููู ุชุฑุฏุฏ ุฐุงูุฑุฉ ROM</em> </p><br><p style=";text-align:right;direction:rtl">  ูุนุฑุถ ุงูุฑุณู ุงูุจูุงูู ุงูุจุงูุชุงุช ุงูุฃูุซุฑ ุดููุนูุง ูู ุงูููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุงููููุฉ 0x00 ู 0xFF (ุงูุฃุนูุฏุฉ ุงููุตูู ุนูู ุงูุฑุณู ุงูุจูุงูู) ุ ุบุงูุจูุง ูุง ุชูุฌุฏ ุงูุจุงูุชุงุช ุงูุชุงููุฉ ูู ุงูุฐุงูุฑุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  0x02. </li><li style=";text-align:right;direction:rtl">  0x74. </li><li style=";text-align:right;direction:rtl">  0x90. </li><li style=";text-align:right;direction:rtl">  0xA3. </li><li style=";text-align:right;direction:rtl">  0xE0. </li><li style=";text-align:right;direction:rtl">  0xF0. </li></ul><br><p style=";text-align:right;direction:rtl">  ุณูููู ูู ุงููููู ุชุฃููุฏ ุงูุชุฑุงุถู ุจูุฌูุฏ ุจุฑุงูุฌ ุซุงุจุชุฉ ูู ROM.  ุฅุญุฏู ุงูุทุฑู ุงูุณููุฉ ููููุงู ุจุฐูู ูู ูุญุงููุฉ ููุงุฑูุฉ <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25B4_%25D0%25BE%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0%25D1%2586%25D0%25B8%25D0%25B8">ุฃููุงุฏ opcodes ูู</a> ุฃุจููุฉ ูุฎุชููุฉ ููุงุณุจุฉ ูุฃุฌูุฒุฉ ุงูุชุญูู ุงูุฏูููุฉ (ุงููุดุงุฑ ุฅูููุง ูููุง ููู - MC) ูุน ูุญุฏุงุช ุงูุจุงูุช ุงูุชู ุบุงูุจูุง ูุง ุชูุฌุฏ ูู ุงูุฐุงูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุชูุฏูุฑู ุชูุฑูุจูุง ุ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูู ุฃู ุฑูุฒ ูู ุงููุฌููุน ูุฌุจ ุฃู ููู ุจุงูุฃูุงูุฑ ูุซู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณุงุฆู ุงูุชุญููุ </li><li style=";text-align:right;direction:rtl">  ุฃุญุฒุงุจ ุงูููุงุก ุงููุดุชุฑู. </li><li style=";text-align:right;direction:rtl">  ุฏุนูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุชูุงุนุฏ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ูู ูุฐู ุงูุจูู ุงููุฎุชููุฉ ุ ูุฏ ูููู ููุฐู ุงูุฃูุงูุฑ ุฃุดูุงู ูุฎุชููุฉ ุ ููู ููุงู ุญุงุณุฉ ูุงุญุฏุฉ ูุดุชุฑูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุงู ุนููู ุฃู ุฃุฐูุจ ุฅูู ุนุฏุฉ ูุฌููุนุงุช ูู ุงูุฅุฑุดุงุฏุงุช ุงูุฎุงุตุฉ ุจููุงุฉ ูุฎุชููุฉ ูุจู ุฃู ุฃุฌุฏ ุชูู ุงูููุงุณุจุฉ.  ููุงุฑูุฉ ูุน ุจููุฉ <a href="https://ru.wikipedia.org/wiki/Intel_8051">ุฅูุชู 8051</a> ุฃุนุทุช ูุชูุฌุฉ ูุนูููุฉ ุฌุฏุง.  ุชุชุฒุงูู ุฑููุฒ ุงูุชุดุบูู ูุจุนุถ <a href="http://www.keil.com/support/man/docs/is51/is51_opcodes.htm">ุงูุฃูุงูุฑ</a> ูุน ูุญุฏุงุช ุงูุจุงูุช ุงูุดุงุฆุนุฉ ูู ููู ุ ุนูู ุณุจูู ุงููุซุงู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  0x02 - LJMP addr16 ุ </li><li style=";text-align:right;direction:rtl">  0x74 - MOV A ุ #immed ุ </li><li style=";text-align:right;direction:rtl">  0x90 - MOV DPTR ุ #immed ุ </li><li style=";text-align:right;direction:rtl">  0xA3 - INC DPTRุ </li><li style=";text-align:right;direction:rtl">  0xE0 - MOVX A ุDPTR ุ </li><li style=";text-align:right;direction:rtl">  0xF0 - MOVXDPTR ุ A. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุญูุง ุฃู ููุงู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ู MK ูู ROM.  ูููู ูููุฑุก ุฃู ูุญููู ุงูุซูุงุฆู ุนูู ุงูููุฑ ุฅูู ูููู <a href="https://www.hex-rays.com/products/ida/index.shtml">IDA Pro</a> ุ ููู ูู ุงูุบุฏุงุก ุณุฃู ุฃุญุฏ ุงูุฒููุงุก: </p><br><blockquote style=";text-align:right;direction:rtl">  <em>"ูู ุฃูุช ูุชุฃูุฏ ูู ุฃู ุงูููุฏ ุงูููุฌูุฏ ูู ุงูุฐุงูุฑุฉ ูุจุฏุฃ ุจุงูุถุจุท ูู ุงูุตูุฑุ"</em> </blockquote><p style=";text-align:right;direction:rtl">  ูุจุงููุนู ุ ูุฌุจ ุฃู ุชุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุจุนุถ "ุงูุจูุงูุงุช ุงูููููุฉ" ุฃู ุงูุจูุงูุงุช ูู ุงูุนููุงู 0x00 ูููู ุฃู ุชููู ูู ุงูุฐุงูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุงุฌูุช ูููุฉ ุชุญุฏูุฏ ุนููุงู ุงูุจุฏุก ููุฑูุฒ.  ูุชุญููู ูุฐุง ุงููุฏู ุ ูุงู ูู ุงูุฃูุถู ุงุณุชุฎุฏุงู ูุญุงูู <a href="https://www.eltan.com/products/spi-flash-tools/46-em100-emulator.html">EM100</a> SPI.  ูุญู ุงููุญุงูู ูุญู ุฑูุงูุฉ ุงูุฐุงูุฑุฉ ุนูู ุงูููุญุฉ ุ ุญูุซ ูุง ุชูุฌุฏ ุญุงุฌุฉ ุฅูู ูุญุงู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู ูู ูุฑุฉ ูุน ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ูุฌูุงุฒ EM100 ุชุณุฌูู ุณุฌู ูุตูู ุฅูู ุงูุฐุงูุฑุฉ.  ุจุงููุธุฑ ุฅูู ุฃู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ูู ROM ูุฏ ุชูุช ูุฑุงุกุชู ุจุงููุนู ุ ููููู ุงูุขู ุชูุฒููู ุนูู ูุญุงูู SPI.  ุจุนุฏ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ูุญุงู ุงููุญุงูู ูู ููุญุฉ ุงููุญูู ูุชุณุฌูู ุณุฌู ุนูุฏ ุชูุตูู ุงููุญูู ุนุจุฑ USB ุจุฌูุงุฒ ููุจููุชุฑ. </p><br><img src="https://habrastorage.org/webt/8i/rp/f2/8irpf2mpqht4crvi8aqwcj3ot7s.jpeg"><br><p style=";text-align:right;direction:rtl">  <em>ูุญุงูู SPI ููุญูู ุจููุญุฉ ูุญูู USB-SATA</em> </p><br><p style=";text-align:right;direction:rtl">  ุฃูุง ููุญูู ุงูุฃุณูุงู ูู ุงููุญุงูู ุฅูู ููุตุงุช ูู ุฐุงูุฑุฉ ุงูููุงุด ูุงูุถ ุงููุญุงูู ูุน ุนุฏุฏ ูููู ูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ.  ุงูุขู ูุจูู ุฃู ูุฑู ูุง ุฅุฐุง ูุงู MK ูุนุงูุฌ ุงูุฐุงูุฑุฉ ุ ูุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ููุง ูู ุงูุนูุงููู. </p><br><img src="https://habrastorage.org/webt/yc/v6/te/ycv6teqfm5n_7gzvwgss1d6ycwk.png"><br><p style=";text-align:right;direction:rtl">  <em>ROM ูู ุงููุตูู ุฅูู ุฐุงูุฑุฉ ROM (ุชู ุงูุญุตูู ุนูููุง ุจุงุณุชุฎุฏุงู ุจุฑูุงูุฌ ูุญุงูู SPI)</em> </p><br><p style=";text-align:right;direction:rtl">  ููุถุญ ุงูุดูู ุฃุนูุงู ุฃูู ุนูุฏ ุชูุตูู ุงูุทุงูุฉ ุจุงููุญูู ุ ุชุฑุณู ูุญุฏุฉ ุงูุชุญูู ASM1051 ุงููุซุจุชุฉ ุนูู ุงูููุญุฉ ุนุฏุฉ ุฃูุงูุฑ 0x03 (ูุฑุงุกุฉ ุงูุจูุงูุงุช). </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ููุฑุฃ ASM1051 ุจุงูุช 0x80 ุ ุจุฏุกูุง ูู 0x0000.  ูููุง ููู ูุญุฏุชู ุจุงูุช ุ ุจุฏุกูุง ูู ุงูุนููุงู 0x0080 ุ ุซู ูุญุฏุชู ุจุงูุช ุฃุฎุฑููู ูู ุงูุนููุงู 0x8082.  ุซู ููุฑุฃ ูุนุธู ุงูุฐุงูุฑุฉ ูู ROM ุ ุจุฏุกูุง ูู ุงูุนููุงู 0x0082. </p><br><p style=";text-align:right;direction:rtl">  ูููููุง ุฃู ููุชุฑุถ ุฃู ุนุฏุฏูุง ูุจูุฑูุง ูู ูุญุฏุงุช ุงูุจุงูุช ุงูุชู ุชุชู ูุฑุงุกุชูุง ูู ROM ุ ุจุฏุกูุง ูู ุงูุนููุงู 0x0082 ุ ูู ุนูู ุงูุฃุฑุฌุญ ุงูุฑูุฒ.  ูุงุฐุง ูููุงุฐุง ูุทููุจ ูุจู ูุฐุง ููุณ ูุงุถุญุง ุจุนุฏ.  ูู ุงููุนุฑูู ููุท ุฃูู ุงุณุชุฌุงุจุฉู ููุทูุจ ุงูุฃูู ุ ุณูุชููู ASM1051 ุฎุทูุทูุง ูู ุฐุงูุฑุฉ ุงูููุงุด ุงููููุฒุฉ ูู ุงูุดูู ุฃุนูุงู.  ูุงูุช ููุฌูุฏุฉ ููุท ูู ุฃูู 0x80 ุจุงูุช. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุญุงู ุงูููุช ููุชุญูู ูู ุฃู ุงูุฐุงูุฑุฉ ุงูุฎุงุฑุฌูุฉ ุนูู ุงูููุญุฉ ุชุญุชูู ุนูู ุจุฑุงูุฌ ุซุงุจุชุฉ ููุธุงู MK ูุน kernel 8051 ุ ูููุน ุงูููุฏ ููุณู ูู ุงูุนููุงู 0x0082.  ุงูุชุญ ููู ุชูุฑูุบ ุงูุฐุงูุฑุฉ ูู IDA Pro ุ ูุญุฏุฏ ููุน ุงููุนุงูุฌ Intel 8051 ูุฅุฒุงุญุฉ ุงูุฑูุฒ 0x0082. </p><br><img src="https://habrastorage.org/webt/r8/fy/pl/r8fyplytapyh-i_lfgazwcsoxga.png"><br><p style=";text-align:right;direction:rtl">  <em>ูุชุญ ููู ุซูุงุฆู ูู IDA Pro ูุน ุฅุฒุงุญุฉ 0x82</em> </p><br><p style=";text-align:right;direction:rtl">  ูู ุชูู ููุงู ูุดุงูู ูู ูุชุญ ุงูุซูุงุฆู ูู ุงููููู. </p><br><p style=";text-align:right;direction:rtl">  <strong><em>ุงูุงุณุชูุชุงุฌุงุช:</em></strong> </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  MK ASM1051 ูุฏููุง ููุฏุณุฉ ูุนูุงุฑูุฉ 8051. </li><li style=";text-align:right;direction:rtl">  ููุฌุฏ ูู ROM ุฑูุฒ ูุจุฏุฃ ุจุงูุนููุงู 0x82.  ููุงู ุดูุก ุขุฎุฑ ุฅูู ุฌุงูุจ ุงูุฑูุฒ. </li><li style=";text-align:right;direction:rtl">  ุงูุจุงูุช 0x80 ุงูุฃูู ุฌุฐุจ ุงูุงูุชุจุงู. </li></ol><br><h1 id="analiz-koda" style=";text-align:right;direction:rtl">  ุชุญููู ุงูููุฏ </h1><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุจุนุฏ ุงูุชุฃูุฏ ูู ุชุญููู ุงูุดูุฑุฉ ูู ุงููุคุณุณุฉ ุงูุฏูููุฉ ููุชูููุฉ ุจุดูู ุตุญูุญ ุ ููููู ุงูุจุฏุก ูู ุชุญููููุง ูุงูุชุนููู ุนูููุง ุจุงูุชูุงุฒู. </p><br><p style=";text-align:right;direction:rtl">  ุฃุซูุงุก ุฏุฑุงุณุฉ ุงูููุฏ ุ ุชู ุงูุนุซูุฑ ุนูู ูุธุงุฆู ุจุณูุทุฉ ุ ูุซู ุทุฑุญ ุฃุฑูุงู 32 ุจุช ุ ุชู ุงูุนุซูุฑ ุนูู ูุนุงูุฌุงุช ูุฎุชููุฉ ุ ุนูู ุบุฑุงุฑ <code>switch ()</code> ูู S. Melkali ุ ููุธุงุฆู ุจุณูุทุฉ ููุบุงูุฉ ุ ูุซู ุชุฎุฒูู ุงููููุฉ ูู R7 ูู ุงูุฐุงูุฑุฉ ูู ุจุนุถ ุงูุนูุงููู.  ุฃูู ุงูุงูุชุดุงูุงุช ุงูุชู ุณุฃุตููุง ุฃุฏูุงู. </p><br><h2 id="nahodka--1" style=";text-align:right;direction:rtl">  ุงูุนุซูุฑ ุนูู ุฑูู 1 </h2><br><p style=";text-align:right;direction:rtl">  ููู ุงููุซูุฑ ููุงูุชูุงู ุ ุงุณุชุฌุงุจุฉู ูุทูุจ ุงูุงุณุชูุณุงุฑ ( <a href="https://en.wikipedia.org/wiki/SCSI_command">ุฃูุฑ SCSI</a> ) ุ ุชูููุช ุฑุฏูุง ูุญุชูู ุนูู ุณุทุฑูู ุฑุฃููุงููุง ูู ุจุฏุงูุฉ ุฐุงูุฑุฉ ROM.  ุจุงูุทุจุน ุ ููุฏ ููุช ุนูู ุงูููุฑ ุจุชุบููุฑ ูุฐู ุงูุฃุณุทุฑ ูู ุฐุงูุฑุฉ ุงููุญุงูู ุ ูู ุงูุชุธุงุฑ ุทูุจ ุงูุชุญููู ููุนุฑูุฉ ูุง ูุชุจุชู.  ูุฐุง ุงูุญูู ุงูุณุงุฐุฌ ุงููุงุฑ ุจุณุฑุนุฉ.  ุงูุขู ุ ุงุณุชุฌุงุจุฉู ููุฃูุฑ ุ ุฑุฃูุช ุณุทุฑูุง ุขุฎุฑ ุ ูู ูุทูุจ ASM1051 ูุนุธู ุงูุฐุงูุฑุฉ ูู ุฐุงูุฑุฉ ุงููุฑุงุกุฉ ููุท.  MK ูุฑุงุกุฉ ููุท ุฃูู 0x80 ุจุงูุช ูุฌููุน.  ูู ุจููุฉ 8051 ุ ูููู ุงุณุชุฎุฏุงู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููููุงุน (ุงูุฃุฌูุฒุฉ) ุ ุนูู ูุง ูุจุฏู ุ ุจุฏุฃ ASM1051 ูู ุงูุชูููุฏ ููู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุฃุตุจุญ ูู ุงููุงุถุญ ุฃู ูุญุฏุงุช ุงูุจุงูุช 0x80 ุงูุฃููู ูููุฉ ุฌุฏูุง ุ ููู ูุคุฏู ุชุบููุฑูุง ุฅูู ุงููุฌุงุญ.  ูุฑุฑุช ุฃู ุฃุฏุฑุณ ุจูุฒูุฏ ูู ุงูุชูุตูู ุงูุทูุจุงุช ุงูุชู ุชูุฏููุง MK ุนูู SPI ูุจู ุชูุฒูู ุงูููุฏ. </p><br><img src="https://habrastorage.org/webt/ep/cl/8i/epcl8it0d2d63f8oq1tctpmfvii.png"><br><p style=";text-align:right;direction:rtl">  <em>ุทูุจ ุจูุงูุงุช SPI ูู ROM</em> </p><br><p style=";text-align:right;direction:rtl">  ุทูุจุงู ูู ูุญุฏุชู ุจุงูุช ูุจุฏู ููุงูุชูุงู.  ุฃุณูุฑ ุงูุจุญุซ ูู IDA 0x00 ู 0x80 ู 0xEB ุนู ุนุฏุฏ ูุจูุฑ ูู ุงููุชุงุฆุฌ ุงูุชู ูู ุฃูู ุจุชุญููููุง ุ ููู ุงูุจุงูุชุงุช 0x5A ุตุงุฏูุชูุง ูุฑุงุช ุฃูู. </p><br><img src="https://habrastorage.org/webt/sv/ym/kf/svymkfdb-0nsj764k8igczukjj0.png"><br><p style=";text-align:right;direction:rtl">  <em>ููุงุฑูุฉ ูุน ุงูุจุงูุช 0x5A.</em>  <em>ุนุฏ ุงููุฌููุน ุงูุงุฎุชุจุงุฑู -8</em> </p><br><p style=";text-align:right;direction:rtl">  ุญุฑููุง ุงูููุฑ ุงูุณุงุฏุณ ูุงุฏูู ุฅูู ูุณู ุงูููุฏ ุงูููุถุญ ูู ุงูุดูู ุฃุนูุงู.  ูููู ููุงุญุธุฉ ุฃู ุงููููุฉ ูู ุงูุณุฌู ูุน ุงูุนููุงู 0x80 <strong>7E ุชุชู</strong> ููุงุฑูุชูุง ูุน 0x5A.  ุซู ูุชู ูุฑุงุกุฉ ุงููุฌููุน ุงูุงุฎุชุจุงุฑู -8 ููููู ุงูููุฌูุฏุฉ ูู ุงูุนููุงู 0x80 <strong>04</strong> ุฅูู 0x80 <strong>7E</strong> .  ุจุนุฏ ุฐูู ุ <strong>ุชุชู</strong> ููุงุฑูุฉ ุงููููุฉ ุนูุฏ 0x80 <strong>7F</strong> ุจุงููุจูุบ ุงูุฐู ุชู ุงุณุชูุงูู ูุณุจููุง. </p><br><img src="https://habrastorage.org/webt/j4/ao/x2/j4aox2tkbow4wzw57rrbprixw9u.png"><br><p style=";text-align:right;direction:rtl">  <em>ุจุฏุงูุฉ ุงูุฐุงูุฑุฉ ูู ROM</em> </p><br><p style=";text-align:right;direction:rtl">  ุชุดุจู ูุฐู ุงูุฅุฒุงุญุงุช ุจุฏุงูุฉ ุชูุฑูุบ ุฐุงูุฑุฉ ูู ROM.  ููุถุญ ุงูุดูู ุฃุนูุงู ุฃู ุงูุนููุงู 0x7E ูุญุชูู ุนูู ุงูุจุงูุช 0x5A.  ูุฅุฐุง ุนุฏุช ุงููุฌููุน ุงูุงุฎุชุจุงุฑู -8 ููุจุงูุช ูู ุงูููุถุน 0x04 ุฅูู 0x7E ุ ูุณูุญุตู ุนูู 0xA7 ุ ููุฐู ุงููููุฉ ุชููู ููุท ูู ุงูุนููุงู 0x7F. </p><br><p style=";text-align:right;direction:rtl">  ุจุทุฑููุฉ ููุงุซูุฉ ุ ุชูููุง ูู ุงูุนุซูุฑ ุนูู ุญุณุงุจ ูุฌููุน ุงูุชุฏููู ููุจุงูุช ูู ุงูุนููุงู 0x0082 ุฅูู 0x807F (ูุจุฏู ุฃู ูุฐุง ูู ุงูุฑูุฒ ุจุงููุงูู) ุ ูุงูุฐู ูุชู ุงูุชุญูู ููู ูุน ุงูุจุงูุช ุนูู ุงูุนููุงู 0x8083.  ููู 0x8082 ูุฑุฉ ุฃุฎุฑู ุชููู ุงููููุฉ 0x5A. </p><br><p style=";text-align:right;direction:rtl">  ูุนู ุ ูุฐุง ุฃูุซุฑ ุชุนููุฏูุง ูู ูุฌุฑุฏ ุชุบููุฑ ุงูุฎุทูุท ูู ุงูุฐุงูุฑุฉ.  ููุฏ ุบูุฑุชูุง ุฃูุถูุง ุ ููููู ููุช ุฃูุถูุง ุจุญุณุงุจ ููุชุจ ูุจุงูุบ ุงูุงุฎุชูุงุฑ ููููู ุงูุฌุฏูุฏ ูู ุงูุฃูุงูู ุงูุตุญูุญุฉ.  ุจุนุฏ ุฐูู ุ ุงุณุชุฌุงุจุฉู ูุฃูุฑ SCSI INQUIRY ุ ุฑุฃูุช ุฎุทูุทู. </p><br><p style=";text-align:right;direction:rtl">  <strong><em>ุงูุงุณุชูุชุงุฌุงุช:</em></strong> </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุซูุงุก ุงูุชูููุฏ ุ ูุญุงูู ASM1051 ุชูุฒูู ุฑูุฒ ูู ROM. </li><li style=";text-align:right;direction:rtl">  ุฃููุงู ุ ููุงุฑู ASM1051 ุจุงูุช ุงููุฌููุน ุงูุงุฎุชุจุงุฑู -8 ูู ุงูุนููุงู 0x04 ุฅูู 0x7E ูุน ุงููููุฉ ูู 0x7F. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุฌุญุช ุงูููุงุฑูุฉ ุจูู ูุฌููุน ุงูุดููุงุช ููุฏูุจุงุฌุฉ ุ ููููููุง ุงููุธุฑ ูู ุฐูู ูู ุฃุฌู "ุงูุฑูุฒ" (ุงูุนูุงููู ูู 0x0082 ุฅูู 0x807F).  ููุงุฑู ASM1051 ูุฐุง ุงููุจูุบ ุจุงููููุฉ ูู ุงูุนููุงู 0x8083 ููุชุญูู ูู ูุฌูุฏ ุงูุจุงูุช 0x5A ูู ุงูุนููุงู 0x8082. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุตุญูุญุฉ ุ ูุณูุชู ุชุญููู ASM1051 ูู ROM ุ ูุฅูุง ูุฅูู ูุณุชุฎุฏู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููููุงุน. </li></ol><br><h2 id="nahodka--2" style=";text-align:right;direction:rtl">  ุงูุจุญุซ ุนู ุฑูู 2 </h2><br><p style=";text-align:right;direction:rtl">  ุฃุซูุงุก ูุฑุงุฌุนุฉ ุงููุธุงุฆู ูุงูุชุนููู ุนูููุง ุ ูุฌุฏุช ุฃูู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูุชู ุงุณุชุฎุฏุงู ูุธููุฉ PRINTF ูู ุงูููุฏ (ุฃุทูู ุนูููุง ุฐูู).  ุงูุดูุก ุงููุซูุฑ ููุงูุชูุงู ูู ุฃูู ูุจู ุฃู ูุชู ุงุณุชุฏุนุงุคูุง ุ ูุชู ูุชุงุจุฉ ุญุฑู <strong>ูุทุจูุน</strong> ูู ุณุฌู R7. </p><br><img src="https://habrastorage.org/webt/fn/0a/9a/fn0a9aafvgus1v4emxuf6j9kbea.png"><br><p style=";text-align:right;direction:rtl">  <em>ูุธููุฉ PRINTF ูู IDA Pro</em> </p><br><p style=";text-align:right;direction:rtl">  ุชู ุชูุฏูู ุงููุธููุฉ ููุณูุง ูู ุงูุดูู ุฃุนูุงู.  ุฏุนููุง ูุชุนุงูู ูุนูุง.  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุชุญุชุงุฌ ุฅูู ููู ุงููููุฉ ูู ุงูุณุฌู ูุน ุงูุนููุงู 0x7F6 ุฅูู ุงูุจุทุงุฑูุฉ.  ุฅุฐุง ูุงู ููุงู ุตูุฑ ุ ุซู ุงูุฎุฑูุฌ ูู ุงููุธููุฉ.  ูุญุฏุซ ุงูุดูุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ุฅุฐุง ูู ููู ููุงู ุตูุฑ.  ุซู ูุชู ููู ูููุฉ ุงูุณุฌู R7 ุฅูู ุงูุณุฌู ุจุงูุนููุงู 0xC001 ุ ูููุง ูุฐูุฑ ุ ูุจู ุงุณุชุฏุนุงุก ูุฐู ุงููุธููุฉ ุ ุชุชู ูุชุงุจุฉ ุญุฑู ูุทุจูุน ุนูู R7.  ุจุนุฏ ุฐูู ุ ุชุญูู ููุง ุฅุฐุง ูุงูุช ุงููููุฉ ูู R7 ุชุณุงูู ุฑูุฒ ุงูุญุฑู "." ุฃู "-" ุ ุฅู ูู ููู ุ ููู ุจุฅููุงุก ุงููุธููุฉ.  ูููู ุฅุฐุง ุชุญููุช ุงูููุงุฑูุฉ ุฅูู ูุฌุงุญ ุ ูุฅู ุงููุธููุฉ ุชุฃุฎุฐ ุงููููุฉ ูู ุงูุณุฌู ุจุงูุนููุงู 0x16A ูุชููููุง ุฅูู 0xC001 ุ ูููููุง ุตุนุจุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุจุฏูุงู ูู ุงูุจุงูุช <strong>0x41</strong> (ุงูุญุฑู "A" ูู ASCII) ุ ุณุชูุชูู ุงููุธููุฉ ุฅูู 0xC001 ุงูุจุงูุช 0x34 (ุงูุญุฑู <strong>"4"</strong> ูู ASCII) ุ ุซู 0x31 (ุงูุญุฑู <strong>"1"</strong> ูู ASCII).  ุงูุฎุฑูุฌ ูู ุงููุธููุฉ ูุฑุฉ ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุดูุช ุฃูู ูุง ูููู ุชูุฑูุฑ ุงูุชุญูู ูู ุจุฏุงูุฉ ุงููุธููุฉ ุ ุญูุซ ุชุชู ุชููุฆุฉ ุงูุณุฌู ุงูุฐู ูุญูู ุงูุนููุงู 0x7F6 ุฅูู ุงูุตูุฑ ุ ุซู ูุง ูุชุบูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.  ูุฐุง ูู ุ ูุชู ุชุนุทูู ูุฐู ุงููุธููุฉ ูู ูุจู ูุจุฑูุฌ ุ ุนูู ุงูุฑุบู ูู ุฃููุง ุชุจูู ูุชุฑุฌูุฉ.  ุชุดูุฑ ุญูููุฉ ุฃู ูุญุฏุงุช ุงูุจุงูุช ุชุชู ูุชุงุจุชูุง ููุท ุฅูู ุณุฌู 0xC001 (ูุฃุญูุงููุง ุงุซูุงู ุนูู ุงูุชูุงูู) ุ ุฅูู ุฃู ูุฐุง ูู ุงูุฃุฑุฌุญ ุชุณุฌูู ุฃุฌูุฒุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ูุดุจู UART.  ููุนุฑูุฉ ูุง ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูุฌุจ ุนููู ุงูููุงู ุจูุง ููู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญุฏุฏ ุงูุฃุฑุฌู ุนูู ASM1051 ุญูุซ ูุชู ุฅุฎุฑุงุฌ UART. </li><li style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ูุนููุงุช UART (ุงูุณุฑุนุฉ ุ ุงูุชูุงูุค ุ ุนุฏุฏ ุจุชุงุช ุงูุชููู). </li><li style=";text-align:right;direction:rtl">  ุณูููู ูู ุงูุฌููู ุชูููู UART ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ (ุนูู ูุง ูุจุฏู ุ ุชู ุฅููุงู ุชุดุบููู). </li></ol><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ูู ุดูุก ุจุณูุทูุง ุฌุฏูุง: ููููู ุฃู ุชุชูุงูุจ ูุน ููุณ ุงูุณุงููู ุจูุญูู ููุทูู ูุงูุจุญุซ ุนู ุงูุดุฎุต ุงูุฐู ุณุชุธูุฑ ููู ูุญุธุฉ ุฅุฑุณุงู UART.  ุฅุฐุง ูุงูุช ููุงู ุฅุดุงุฑุฉ ุ ูููู ุชุญุฏูุฏ ุงูุณุฑุนุฉ ุจุญููู ููุช ุงููุจุถุงุช.  ูุน ุจููุฉ ุงููุนููุงุช ุ ูู ุดูุก ูุงุถุญ ุฃูุถูุง ุ ุงูุธุฑ ููุท ูุญุธุฉ ุฅุฑุณุงู ุจุงูุช ุนูู ุงููุญูู. </p><br><p style=";text-align:right;direction:rtl">  "ูุชูููู" ูุฐู ุงููุธููุฉ ุ ููููู ูุชุงุจุฉ ุงูุฃุตูุงุฑ ุจุฏูุงู ูู ุงูุฃุณุทุฑ ุงูุซูุงุซุฉ ุงูุฃููู ุ ุญูุซ ูุชู ุชุญุฏูุฏ ุงููููุฉ ูู ุงูุณุฌู ุจุงุณุชุฎุฏุงู ุงูุนููุงู 0x7F6.  ููููุงู ุจุฐูู ุ ุฃูุง ูุฑุฉ ุฃุฎุฑู ูุชุญ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูู WinHex. </p><br><img src="https://habrastorage.org/webt/rm/rw/mg/rmrwmgen5bw46g0r1a7uchsnkog.png"><br><p style=";text-align:right;direction:rtl">  <em>ูุชู ุชุฎุตูุต ุณุชุฉ ุจุงูุช ูุฅุนุงุฏุฉ ุชุนููู.</em> </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุญุฑุฑ ุ ุฃููู ุจุชุบููุฑ ุงูุจุงูุชุงุช ุงูุณุชุฉ ุงููุทููุจุฉ ุฅูู ุฃุตูุงุฑ.  ุงูุขู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ุฌุงูุฒ ููููู ุชูุฒููู ุนูู ูุญุงูู ROM.  ุฅุฐุง ุงูุชุฑุถูุง ุฃู ูุธููุฉ ุฅุฎุฑุงุฌ ุงูุจุงูุชุงุช ูู UART ููุฏ ุงูุชุดุบูู ุ ูุฃู ููุงููุชูุง ููุฌูุฏุฉ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูู ุฌููุน ุฃูุญุงุก ุงูููุฏ ุ ูููููุง ุฃู ูุชููุน ุฃู ุงูุจุงูุชุงุช ูุฌุจ ุฃู "ุชุทูุฑ" ูู UART ุนูุฏูุง ูููู ุงููุญูู ููุฏ ุงูุชุดุบูู.  ุขูู ุฃู ุฃุฑู ุชุชุจุนูุง ูุดูุฑ ุฅูู ูุญุฏุงุช ุงูุจุงูุช ูู UART ุนู ููุฏุงุฑ ุงูููุฏ ุงูุฐู ูุชู ุชูููุฐู. </p><br><p style=";text-align:right;direction:rtl">  ููุง ูุชุจุช ุฃุนูุงู ุ ูู ุฃุฌู ุงูุนุซูุฑ ุนูู ุงูุณุงููู Rx ู Tx ุงููุงุฒูุฉ ุ ููููู ุฅููุงุก ูุธุฑุฉ ุนูู ูุญูู ุงูููุทู ุงููุงุญุฏ ุชูู ุงูุขุฎุฑ.  ููุน ุฐูู ุ ุงูุชุฑุถุช ุฃู Rx ู Tx ุนูู ASM1051 ูู ููุณ ุงูููุงู ูุซู ASM1053 - ุงูุณุงููู 40 ู 41 ุ ุนูู ุงูุชูุงูู.  ุฃุถุน ูุณุจุงุฑ ูุญูู ุนูู ุงูุฑูู 41 (ุงูููุชุฑุถ Tx) ูุฃุฑู ุดูุฆูุง ูุดุงุจููุง ููุฅุดุงุฑุฉ ุงููุฑุบูุจุฉ: </p><br><img src="https://habrastorage.org/webt/qn/s7/rq/qns7rq-nxvqvqcgzlo4hwqb7spc.png"><br><p style=";text-align:right;direction:rtl">  <em>ูุฎุทุท ุงูุชูููุช ูุน ุงูุณุงู 41 - TX</em> </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุชูุตูู ูุญูู USB-UART ููุฑุงูุจุฉ ุงูุฃุญุฑู ุงููุทุจูุนุฉ ุงููุงุฑุฏุฉ ูู ุงูุฌูุงุฒ ุ ูุงู ุนููู ุฃู ุฃููู ุจุชูุตูู ุณูููู ูุญูููู ูุจุงุดุฑุฉ ุจููุญุฉ ุงููุญูู ูุฅุตูุงุญู ุจุงูุบุฑุงุก ุงูุณุงุฎู. </p><br><img src="https://habrastorage.org/webt/jn/x2/-f/jnx2-fwuhcewoy4aodelx7ugqbk.jpeg"><br><p style=";text-align:right;direction:rtl">  <em>ุงุซููู ูู ุงูุฃุณูุงู ููุญูู ุฅูู RX ู TX</em> </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฏุฑุณุช ุงูุฑุณู ุงูุจูุงูู ูู ุงูุดูู "ูุฎุทุท ุงูุชูููุช ูู ุงูุณุงู 41 - TX" ููููุงู: ููุช ุงููุจุถุฉ ุงููุงุญุฏุฉ ุ ุนูู ูุง ูุจุฏู ุ 1 ฮผs ุ ูุณุชุฉ ุจุชุงุช - 6.3 ฮผs.  ุจุนุฏ ุฅุนุงุฏุฉ ุญุณุงุจ ุงููููุฉ ุจุงูุจุงูุฏ ุ ุชูููุช ุญูุงูู 950ุ000 ุจุงูุฏ ุ ูุฃูุฑุจ ุณุฑุนุฉ UART ููุงุณูุฉ ูู 921600 ุจุงูุฏ.  ุฃุนุชูุฏ ุฃูู ุชู ุงูุญุตูู ุนูู ูุฐุง ุงูุชูุงูุถ ุจุณุจุจ ุฎุทุฃ ุงูููุงุณ ูู ูุจู ุงููุญูู ุงูููุทูู ุ ููู ุฃูู ุงูุฌูุงุฒ ุงูุฃูุซุฑ ูููุฉ ุ ูููู "ุงูุทูู" ุงูุตููู.  ุจุนุฏ ุชุนููู ุงููุนููุงุช ูู ุฅุทุงุฑ ุจุฑูุงูุฌ Terminal 1.9b ุ ุชูููุช ูู ูุฑุงูุจุฉ ุงูุจุงูุชุงุช ุงููุงุฑุฏุฉ ูู ASM1051 MK ุฃุซูุงุก ุชุดุบููู. </p><br><img src="https://habrastorage.org/webt/fa/de/pc/fadepckvko4t2dyacaqt93hidao.png"><br><p style=";text-align:right;direction:rtl">  <em>ุฅุทุงุฑ ุงูุจุฑูุงูุฌ 1.9b ุงููุญุทุฉ ุงูุทุฑููุฉ ุฃุซูุงุก ุชุดุบูู ุงููุญูู</em> </p><br><p style=";text-align:right;direction:rtl">  <strong><em>ุงูุงุณุชูุชุงุฌ:</em></strong> </p><br><p style=";text-align:right;direction:rtl">  ูุญุชูู ASM1051 MK ุนูู ูุญุฏุฉ ุฃุฌูุฒุฉ UART.  ุงูุณุฌู ูุฅุฑุณุงู ุงูุจูุงูุงุช ูุฏูู ุนููุงู 0xC001.  ูุนุฏู ุงูุจูุงูุงุช ูู 921600 ุจุงูุฏ.  ููุงู ูุงุญุฏ ููู ููููุง.  Leg 41 ูู Tx ู Leg 40 ูู Rx (ุฑุบู ุฃู ูุฐุง ููุณ ุฏููููุง). </p><br><h2 id="nahodka--3" style=";text-align:right;direction:rtl">  ุงูุจุญุซ ุนู ุฑูู 3 </h2><br><p style=";text-align:right;direction:rtl">  ุจุงูุชูุฑูุฑ ุฎูุงู ุงูููุฏ ุงูููุฌูุฏ ูู ุฃุฏุงุฉ ูู ุงูุดูุฑุฉ ุ ูุฅุถุงูุฉ ุงูุชุนูููุงุช ุ ููููู ุฃู ุชุฌุฏ ุงูุฅูุดุงุกุงุช ุฃูุซุฑ ุตุนูุจุฉ ูู ูุชุงุจุฉ ุฑูู ูู ุงูุณุฌู.  ูุฐุง ุตุงุฏูุช ูุนุงูุฌูุง ูุซูุฑูุง ููุงูุชูุงู ุ ุฌุฒุก ููู ูู C ุ ุจุฏุง ููุฃูู <code>switch ()</code> . </p><br><img src="https://habrastorage.org/webt/zq/ra/nr/zqranrtexseqh7xpj0ynpjav9su.png"><br><p style=";text-align:right;direction:rtl">  <em>ูุนุงูุฌ ุงูุฃูุงูุฑ ูู ุงูุณุฌู ูุน ุงูุนููุงู 0x800F</em> </p><br><p style=";text-align:right;direction:rtl">  ูุน ุงูุนูู ุฃูู ูู ููุงู ูุง ูุฌุจ ูุนุงูุฌุฉ <a href="https://en.wikipedia.org/wiki/SCSI_command">ุฃูุงูุฑ SCSI</a> ุ ุจุฏุฃุช ูู ุงูุจุญุซ ุนู ูุญุฏุงุช ุงูุจุงูุช ุงูุชู ุชุชู ููุงุฑูุฉ ูุญุชููุงุช ุงูุณุฌู ุจูุง ูุน ุงูุนููุงู 0x800F ูู ุงูุดูู ุฃุนูุงู.  ุงุชุถุญ ุฃู ุงููุฑูุน ุงูุฃุฑุจุนุฉ ุงูุฃููู ุชุญูู ูู ุฃูุงูุฑ ุงููุฑุงุกุฉ (10) ุ ุงููุชุงุจุฉ (10) ุ ุงููุฑุงุกุฉ (16) ุ ุงููุชุงุจุฉ (16).  ููุณ ููุงู ุดู ูู ุฃู ูุฐุง ูู ูุนุงูุฌ ุฃูุงูุฑ SCSI.  ุจุนุฏ ุฐูู ุ ูุธุฑุช ุฅูู ูุธููุฉ ุชุณูู ุฅุฐุง ูุงู ุงูุฃูุฑ ุงูุฐู ุฌุงุก ููุณ ุงููุฑุงุกุฉ / ุงููุชุงุจุฉ (u_Switch).  ุจูุงุกู ุนูู ุงูุจุงูุช ุงูููุฌูุฏ ูู ุงูุณุฌู ูุน ุงูุนููุงู 0x16A (ุงููููุฉ ูุฃุฎูุฐุฉ ูู 0x800F) ุ ูุฅูู ููุฑุฃ ุงูุนููุงู ุงูุฐู ุณูุญุตู ุนููู ุนูุฏ ุงูุฎุฑูุฌ ูู ูุฐู ุงููุธููุฉ.  ูุฐุง ูุดุงุจู <code>switch ()</code> . </p><br><img src="https://habrastorage.org/webt/8c/ni/xf/8cnixfxf9a1bcyzv0ttlsgpmcqo.png"><br><p style=";text-align:right;direction:rtl">  <em>ุชุจุฏูู ุฃูุงูุฑ SCSI</em> </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃููู ุญุฏุฏุช ุจุงููุนู ุงูุจุงูุชุฉ ุงูุชู ุฃูุงุฑู ุจูุง ุฃูุฑ SCSI ุงูุฐู ุฌุงุก ูู ุงููุญูู ุ ููุฏ ููุช ุจุณุฑุนุฉ ุจุชุฑุชูุจ ูุฑุงุณูุงุช ุงูุนูุงููู ุญุณุจ ุงูุฃูุงูุฑ.  ูุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงูุดูู ุฃุนูุงู ุ ูููู ููุงุญุธุฉ ุฃูู ุฅุฐุง ูุงูุช ุงูุจุงูุช 0x1A ูู ุงูุณุฌู ูุน ุงูุนููุงู 0x16A ุ ูุจุนุฏ ุงูุฎุฑูุฌ ูู ุฏุงูุฉ u_Switch ุ ููุชูู ุฅูู ูุนุงูุฌุฉ 0x1B85.  ููู ุงููุซูุฑ ููุงูุชูุงู ุ ุฃูู ูู ูุชู ุชุนุฑูู ุฌููุน ูุญุฏุงุช ุงูุจุงูุช ููุงุฑูุฉู ุจู u_Switch ูู ูุนูุงุฑ SCSI.  ุจูุนูู ุ ูููู ูููุญูู ูุนุงูุฌุฉ ุงูุจุงูุชุงุช 0xE6 ุฃู 0xDF ุ ููู ูุง ูุชู ุญููุง ุญุณุจ ุงููุนูุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูููู ูููุญูู ุชูููุฐ ุงูุฃูุงูุฑ ุงููุฎุตุตุฉ ูููุงู ูุธุงุฆู ูุนุงูุฌ ููู. </p><br><img src="https://habrastorage.org/webt/4m/kn/bz/4mknbzam6xol2fhb750trvrxs_c.png"><br><p style=";text-align:right;direction:rtl">  <em>ุตูุญุฉ 13 ูู <a href="https://usb.org/sites/default/files/usbmassbulk_10.pdf">ูุฆุฉ ุงูุชุฎุฒูู ุงูุดุงูู ููุญุงููุฉ ุงูุชุณูุณููุฉ</a></em> </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุจู ุฅูู ุงูุฅุฒุงุญุฉ <strong>0x0F</strong> ูุณุจุฉ ุฅูู ุงูุนููุงู 0x8000.  ูุจู ุงููุนุงูุฌ ุ ูุชู ูุฑุงุกุฉ ุฃูุฑ SCSI ูู ุงูุณุฌู ุจุนููุงู 0x800F.  ุฅุฐุง ููุช ุชูุฑุฃ ุจุนูุงูุฉ ุงูุฌุฏูู ูู ุงูุดูู ุฃุนูุงู ุ ููููู ุฃู ุชุฑู ุฃูู ูู ุงูุชูุงู ูุชูุฉ ุงูุฃูุงูุฑ (CBW) ุ ูุญุชูู ุญูู CBWCB ุฃูุถูุง ุนูู ุฅุฒุงุญุฉ <strong>0x0F</strong> .  ุงุชุถุญ ุฃู ุนูุงููู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ASM1051 ุ ุงูุชู ุชุจุฏุฃ ุจู 0x8000 ุ ูููู ุฃู ุชููู ูุฎุฒู ูุคูุช USB ุ ููุง ูู ููุถุญ ูู ุงูุฌุฏูู ุฃุฏูุงู. </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุนููุงู ุงูุฐุงูุฑุฉ </th><th>  ูุตู </th></tr></thead><tbody><tr><td>  0h8000-0h8003 </td><td>  dCBWSignature (USBC - ูู ุญุงูุฉ ุชููู ุญุฒูุฉ) </td></tr><tr><td>  0h8004-0h8007 </td><td>  dCBWTag </td></tr><tr><td>  0h8008-0h800B </td><td>  dCBWDataTransferLength </td></tr><tr><td>  0h800C </td><td>  bmdCBWFlag </td></tr><tr><td>  0h800D </td><td>  bCBWLUN </td></tr><tr><td>  0h800E </td><td>  bCBWCBLength </td></tr><tr><td>  0h800F-0h801F </td><td>  CBWCB - ุฃูุฑ SCSI ููุนููุงุชู </td></tr></tbody></table></div><br><p style=";text-align:right;direction:rtl">  ููุถุญ ุงูุดูู ุฃุฏูุงู ูุณู ุงูููุฏ ุญูุซ ุชุญุฏุซ ุงูููุงุฑูุฉ ูุน ุณูุณูุฉ USBC (ูุซู ูุฌุจ ุฃู ูููู ุชูููุน dCBWSignature) ูููุน ุงูุชูููุน ุงูููุชุฑุญ ูู 0x8000.  ุฃุนุชูุฏ ุฃู ูุฐุง ูููู ููุชุฃูุฏ ูู ูุฌูุฏ ุงููุฎุฒู ุงููุคูุช ูู USB ูู ุฐุงูุฑุฉ RAM ุจุฏุกูุง ูู 0x8000. </p><br><img src="https://habrastorage.org/webt/-t/et/eo/-teteok9i6rotmpp1w6wxy0bun4.png"><br><p style=";text-align:right;direction:rtl">  <em>ุชุญูู ูุฌุงู dCBWSignature ููุทุงุจูุฉ ูุน ุณูุณูุฉ USBC</em> </p><br><p style=";text-align:right;direction:rtl">  <strong><em>ุงูุงุณุชูุชุงุฌุงุช:</em></strong> </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  MK ASM1051 ูุง ููููู ุงูุชุนุงูู ูุน ุฃูุงูุฑ SCSI ููุท ุ ูุงูุชู ุชู ูุตููุง ูู ุงููุนูุงุฑ. </li><li style=";text-align:right;direction:rtl">  ุนููุงู ุจุฏุก ุงููุฎุฒู ุงููุคูุช USB ูู 0x8000.  ููุฌุฏ ุฃูุฑ SCSI ูู ุงูุณุฌู ูุน ุงูุนููุงู 0x800F ุ ููุง ูุนูู ุฃูู ุณุชููู ููุงู ุจูุงูุงุช / ูุณูุทุงุช ุฃุฎุฑู ููุฃูุงูุฑ. </li></ol><br><h2 id="nahodka--4" style=";text-align:right;direction:rtl">  ุงูุจุญุซ ุนู ุฑูู 4 </h2><br><p style=";text-align:right;direction:rtl">  ูุน ุงูุนูู ุฃู ุนุถู ุงููููุณุช ูุงุฏุฑ ุนูู ูุนุงูุฌุฉ ุงููุฑู ุบูุฑ ุงูููุงุณูุฉ ุ ุฃุฑุฏุช ุฃู ุฃุนุฑู ูุง ุงูุฐู ูููููู ุจู.  ูุนุธููู ุฃุทุงุนูู ุจุณุฑุนุฉ.  ูู ุฃุฐูุฑ ุฏุฑุงุณุฉ ุฑูุฒ ูุฐู ุงูุฃูุงูุฑ ุ ูุฃู ูุฐุง ูุฏ ูุณุชุบุฑู ููุชูุง ุทููููุง ููุฏ ูููู ูุงุฏุฉ ูููุงู ูููุตู ุจุนููุงู "ุงููุฌูุน ุจุณูุท" ุ ูุณุฃุดุฑุญ ุงููุชุงุฆุฌ ูู ุงูุฌุฏูู ุฃุฏูุงู. </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุฃูุฑ SCSI </th><th>  ูุตู ุงููุฑูู </th></tr></thead><tbody><tr><td>  0xE0 </td><td>  ูุณูุญ ูู ุจูุฑุงุกุฉ ุงูุจุงูุชุงุช 0x80 ุงูุฃููู ูู ROM.  ูู ุงููุณุชูุจู ุ ุณุฃุฏุนู ูุฐุง ุงูุฌุฒุก ูู ุงูุฐุงูุฑุฉ <em>ุงูุฏูุจุงุฌุฉ</em> (ูุนู ุ ููุณ ูุญุฏุงุช ุงูุจุงูุช 0x80 ุงูุชู ุชูุฌุฏ ุจูุง ุฎุทูุท <code>asmedia</code> ู <code>ASM1051</code> ) </td></tr><tr><td>  0hE1 </td><td>  ููุชุจ 0x80 ุจุงูุช ุงูุฃููู ุฅูู ROM </td></tr><tr><td>  0hE3 </td><td>  ููุชุจ ุฅูู ุฐุงูุฑุฉ ROM ูู 0x80 ูุนุงูุฌ ุฃู ุนุฏุฏ ูู ูุญุฏุงุช ุงูุจุงูุช.  ุงููุณูุทุฉ (ููุง ุงุชุถุญ ูููุง ุจุนุฏ) ูู ุญุฌู ุงูุญุฒูุฉ </td></tr><tr><td>  0hE4 </td><td>  ููุฑุฃ ูุชูุฉ ุงูุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ASM1051.  ูุญุฌุฉ ุ ูุฃุฎุฐ ุนููุงู ุงูุจุฏุงูุฉ ูุนุฏุฏ ุงูุจุงูุชุงุช ุงูุชู ููุฑุฃูุง </td></tr><tr><td>  0hE5 </td><td>  ููุชุจ ุจุงูุช ูุงุญุฏ ูุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูู </td></tr><tr><td>  0hE7 </td><td>  ููุฑุฃ ุงูุญุฒูุฉ ุงููุณุชููุฉ ุงูุฃุฎูุฑุฉ ูู ุงููุฎุฒู ุงููุคูุช ATA. </td></tr><tr><td>  0hE8 </td><td>  ูุนูุฏ ุชุดุบูู ุงูุฌูุงุฒ </td></tr></tbody></table></div><br><p style=";text-align:right;direction:rtl">  ุฃุนุชุฑู ุฃููู ูู ุฃุญุฏุฏ ูู ุงูุฃูุงูุฑ ูู ุฎูุงู ูุฑุงุกุฉ ูุธุงุฆู ูู ุงููุคุณุณุฉ ุงูุฏูููุฉ ููุชูููุฉ.  ุจุนุฏ ุฃู ุงุฑุชุทูุช ุจุงูุญุงุฆุท ุฃุซูุงุก ุงูุจุญุซ ุ ุชุฐูุฑุช ุฃููู ุฑุฃูุช <a href="https://www.usbdev.ru/files/asmedia/asm105mptool/">ุงูุจุฑุงูุฌ ูุงูุนุฏูุฏ ูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ</a> ูุฌูุงุฒ ASM1051 ุนูุฏูุง ููุช ุฃุจุญุซ ุนู ูุซุงุฆู ุนููู.  ุจุงุณุชุฎุฏุงู ุงูุจุฑูุงูุฌ ุงูููุฌูุฏ ุ ููููู ุชุญุฏูุซ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุฌูุงุฒ.  ูุฐูู ูุฑุฑุช ุฃู ุงูููุช ูุฏ ุญุงู ูุงุณุชุฎุฏุงู <a href="https://www.syssoft.ru/HHD-Software/Device-Monitoring-Studio/">Device Monitoring Studio</a> ููุนุฑูุฉ ูุง ูุฑุณู ุงูููุจููุชุฑ ุฅูู ุงูููุงูุฆ ุฃุซูุงุก ุงูุชุญุฏูุซ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูุงู ูู ุงููููู ููู ููููุฉ ุญุฏูุซ ุนูููุฉ ุชุญุฏูุซ ุงูุจุฑูุงูุฌ ุงูุซุงุจุช: ุฃููุงู ูุชู ุฅุฑุณุงู ุงูุฏูุจุงุฌุฉ (ูุน ุงูุฃูุฑ 0xE1) ุ ุซู ูุชู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ 0xE3 ุ ุซู ูุชู ุชูููุน ูู ูุฐุง ุจุฅุนุงุฏุฉ ุงูุชุดุบูู (ุงูุฃูุฑ 0xE8).  ููุญุตูู ุนูู ุชุญุฏูุซ ุณุฑูุน ููุฑูุญ ุ ูุชุจุช ุณููุงุฑูู Python ูุฏุฑุฌ ุงูุฃุณุทุฑ ุงููุงุฒูุฉ ูู ุงูููุฏูุฉ ุ ุซู ููุฑุฃ ูุฌุงููุน ุงูุดููุงุช ููููู ุจุชุญุฏูุซ ุงูุฌูุงุฒ.  ุงูุขู ูู ุฃุนุฏ ุฃุญุชุงุฌ ุฅูู ูุญุงูู ุ ููุฏ ุฃุชูุญุช ูู ุงููุฑุตุฉ ูุชุญููู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุฅูู ASM1051 ุนุจุฑ USB ุ ูููููู ุฅุนุงุฏุฉ ROM ุงูุฃุตูู ุฅูู ุงูููุญุฉ. </p><br><p style=";text-align:right;direction:rtl">  <strong><em>ุงููุชุงุฆุฌ</em></strong> </p><br><p style=";text-align:right;direction:rtl">  ูุชุญุฏูุซ ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ุ ูุฌุจ ุชูููุฐ ุซูุงุซุฉ ุฃูุงูุฑ SCSI ุจุงูุชุชุงุจุน: 0xE1 ู 0xE3 ู 0xE8. </p><br><h2 id="nahodka--5" style=";text-align:right;direction:rtl">  ุงูุจุญุซ ุนู ุฑูู 5 </h2><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฃูุงูุฑ ุบูุฑ ุงูููุซูุฉ ุ ูุงู ูู ุงููุซูุฑ ููุงูุชูุงู ุฃู ููุธุฑ ุฅูู ูุนุงูุฌุงุช ุงูุฃูุงูุฑ ุงูููุงุณูุฉ. </p><br><img src="https://habrastorage.org/webt/be/9e/st/be9estiir9g45o0thkj4bacvsmm.png"><br><p style=";text-align:right;direction:rtl">  <em>ููู ุงูุจุช ุงูุซุงูุซ ูู ุงูุชุณุฌูู 0xC884 ุฅูู ุงูุจุช ุงูุณุงุจุน ููุชุณุฌูู 0x8002</em> </p><br><p style=";text-align:right;direction:rtl">  ููุฌุฏ ุงุฎุชุจุงุฑ ูุงุญุฏ ูุซูุฑ ููุงูุชูุงู ูู ูุนุงูุฌ ุงูุฃูุฑ SCSI MODE SENSE (10).  ููุถุญ ุงูุดูู ุฃุนูุงู ุฌุฒุกูุง ูู ุฑูุฒ ุงููุธููุฉ.  ูููู ููุงุญุธุฉ ุฃู ุงูุจุช ุงูุซุงูุซ ููุฏ ุงููุฑุงุกุฉ ูู ุณุฌู <strong>0xC884</strong> .  ุซู ูุชู ุชุนููู ูููุฉ ูุฐุง ุงูุจุช ูู ุงูุณุฌู ูู 0x8002. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูุซูุฑ ุงูุงูุชูุงู ููุง ูู ุฃู ุณุฌู <strong>0xC884</strong> ูู ุชุชู ุชููุฆุชู ูู ุฃู ููุงู ูู ุงูููุฏ ุ ููุง ูุนูู ุฃูู ุนูู ุงูุฃุฑุฌุญ ุฃุฌูุฒุฉ. </p><br><img src="https://habrastorage.org/webt/fc/mw/sh/fcmwsh6pa3zzkpbsfxxici-t4g4.jpeg"><br><p style=";text-align:right;direction:rtl">  <em>ุฌุฏูู 362 ูู <a href="https://www.seagate.com/files/staticfiles/support/docs/manual/Interface%2520manuals/100293068j.pdf">ุฏููู ูุฑุฌุน ุฃูุงูุฑ SCSI</a></em> </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุฅุฐุง ูุธุฑุช ุฅูู ูุซุงุฆู <a href="https://www.seagate.com/files/staticfiles/support/docs/manual/Interface%2520manuals/100293068j.pdf">ุฃูุฑ SCSI</a> 0x5A (MODE SENSE) ุ ูุตุจุญ ูู ุงููุงุถุญ ุฃู ูุญูู USB-SATA ูุฌุจ ุฃู ูุณุชุฌูุจ ูุทูุจ MENE SENSE.  ุชุญุชูู ุงูุจุงูุชุฉ ุงูุซุงูุซุฉ ูู ุงูุงุณุชุฌุงุจุฉ ุนูู ุงูุฌุฒุก ุงูุณุงุจุน ูู WP (ุญูุงูุฉ ุงููุชุงุจุฉ - ุงูุญูุงูุฉ ูู ุงููุชุงุจุฉ).  ุจุงูููุงุณุจุฉ ุ ููุฏ ุฑุฃูุช ุจุงููุนู ุจุช <strong>ุงูุณุงุจุนุฉ</strong> ูู 0x8002 ุ <strong>ูุงูุฅุฒุงุญุฉ</strong> ูู ุจุฏุงูุฉ ุงููุฎุฒู ุงููุคูุช USB (0x8000) ูู ุจุงูุถุจุท <strong>3 ููุง</strong> . </p><br><p style=";text-align:right;direction:rtl">  <strong><em>ุงูุงุณุชูุชุงุฌ:</em></strong> </p><br><p style=";text-align:right;direction:rtl">  ููุฑุฃ ููุงูุฆ USB-SATA ุงูุฐู ุชู ุงุฎุชุจุงุฑู ุงูุจุช ุงูุซุงูุซ ูู ุณุฌู ุงูุฃุฌูุฒุฉ ุนูู <strong>0xC884</strong> ููุฑุณูู ุฅูู ูุถูู USB ุจุงุนุชุจุงุฑู ุจุช WP. </p><br><h2 id="nahodka--6" style=";text-align:right;direction:rtl">  ุงูุจุญุซ ุนู ุฑูู 6 </h2><br><p style=";text-align:right;direction:rtl">  ูุดุจู ุณุฌู ุงูุฃุฌูุฒุฉ ุงูููุฌูุฏ ุฃุซูุงุก ุงูุชุญููู ูู ูุนุงูุฌ ุฃูุฑ MODE SENSE SCSI ุฅูู ุญุฏ ูุจูุฑ GPIO.  ูุชุฃููุฏ ูุฐุง ุ ูุฑุฑุช ุฃู ุฃุชุทุฑู ุฅูู ASM1051 ุฃุฑุฌู ุจููุงูู ูุจุงุดุฑ ููุฑุงุกุฉ ูููุฉ ุงูุชุณุฌูู (ุฃูุฑ SCSI 0xE4) ุจุนููุงู <strong>0xC884</strong> .  ููููุงู ุจุฐูู ุ ูุชุจุช ุจุฑูุงูุฌ ูุตู Python ุจุงุณุชุฎุฏุงู ุฃูุงูุฑ SCSI ูุฎุตุตุฉ ุชุฑุงูุจ ุงููููุฉ ูู ุณุฌู <strong>0xC884 ูุชุนุฑุถูุง</strong> ุนูู ุงูููุจููุชุฑ. </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุจุช 0xC884 </th><th>  7 </th><th>  6 </th><th>  5 </th><th>  4 </th><th>  3 </th><th>  2 </th><th>  1 </th><th>  0 </th></tr></thead><tbody><tr><td>  ุงูุณุงู ASM1051 </td><td>  - </td><td>  - </td><td>  37 </td><td>  - </td><td>  9 </td><td>  10 </td><td>  45 </td><td>  44 </td></tr></tbody></table></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅุฌุฑุงุก ูุซู ูุฐู ุงูุชุฌุฑุจุฉ ุ ููุช ุจุชุฌููุน ุฌุฏูู ุนุฑุถุช ููู ุงูุจุชุงุช ูู ุณุฌู <strong>0xC884 ุงูุชู</strong> ุชุบูุฑุช ุนูุฏูุง ููุณุช ุงูููุงูู ASM1051 ุงูุฃุฑุฌู.  ุงุชุถุญ ุฃู ุงูุณุฌู ููุฏ ุงูุฏุฑุงุณุฉ ูุฑุชุจุท ุจุดูู ูุซูู ุจู GPIO ุ ููู ูุญุงููุฉ ุงููุชุงุจุฉ ุฅููู (ุจุงุณุชุฎุฏุงู SCSI-command 0xE5) ูู ุชูุฌุญ - ูู ุชุชุบูุฑ ุงููููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุซู ูุฑุฑุช ุฃู ูุฐุง ุงูุณุฌู ุฅูุง ูููุฑุงุกุฉ ููุท ุฃู ุงููุชุงุจุฉ ูู ููุงู ูุง ูุญุธูุฑ ุนูู ูุณุชูู ุงูุฃุฌูุฒุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุชู ุฅุนุฏุงุฏ ุฃุฑุฌู MK ูู ุงูุจุฏุงูุฉ ูููุฑุงุกุฉ ููุท ุ ููู ุงููุญุชูู ุฃู ุชููู ุงููุชุงุจุฉ ุฅูู ุงูุณุฌู <strong>0xC884</strong> ุบูุฑ ูุชููุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูู ุฃุฌู ุงูุนุซูุฑ ุนูู ุงูุณุฌูุงุช ุงููุฑุชุจุทุฉ ุจู GPIO ุ ุฐูุจุช ุฅูู ุฑูุฒ ุงูุชููุฆุฉ MK.  ูุชุจุช ุฌููุน ุงูุณุฌูุงุช ุงูุชู ุนูุงููููุง ูุฑูุจุฉ ูู <strong>0xC884</strong> .  ุญุตูุช ุนูู ุญูุงูู 10 ูููู ุ ูุฃุฐูุฑูู ุจุฃู ุงููุญุทุฉ ุงูุนุงุดุฑุฉ ูู MK ูุชุตูุฉ <strong>ุจุงููุตุจุงุญ ุงูููุฌูุฏ</strong> ุนูู ุงูููุญุฉ ุ ููู ุชูุงุจู ุงูุจุชุฉ ุงูุซุงููุฉ ูู ุงูุณุฌู <strong>0xC884</strong> .          โ <strong>0880</strong> ,            (,    ).  ,   ,   <strong>0880</strong>      (/),   <strong>0884</strong>   ,  - . </p><br><p style=";text-align:right;direction:rtl">         <strong>0880</strong>    ,    <strong>0884</strong>    .     <strong>0884</strong>  .           ASM1051. </p><br><p style=";text-align:right;direction:rtl"> <strong><em>:</em></strong> </p><br><p style=";text-align:right;direction:rtl">    GPIO  ASM1051.    <strong>0880</strong>   /   I/O.  0884    I/O. </p><br><h2 id="nahodka--5-prodolzhenie" style=";text-align:right;direction:rtl">  โ 5.  </h2><br><p style=";text-align:right;direction:rtl">   GPIO-  ,  45-           <strong>0884</strong> .           <strong>WP</strong> ,    USB.       45-    ,    HDD,     ,  . </p><br><img src="https://habrastorage.org/webt/9m/yq/lv/9myqlvzd8guku1qfcllendjrtcc.png"><br><p style=";text-align:right;direction:rtl"> <em>     HDD,      45-  </em> </p><br><p style=";text-align:right;direction:rtl">     .       GND 45-      ,      HDD.     . </p><br><p style=";text-align:right;direction:rtl"> <strong><em></em></strong> </p><br><p style=";text-align:right;direction:rtl">   45-  ASM1051         HDD. </p><br><h1 id="razrabotka-sobstvennogo-ustroystva" style=";text-align:right;direction:rtl">    </h1><br><p style=";text-align:right;direction:rtl">       USB-SATA-.           ASM1051.   ,  -  ,     .   ,     GPIO.    โ  ASM1051  ,         HDD. ,   ,     (ยซ     ยป),     ,  ,         USB-SATA-   ASM1051. </p><br><p style=";text-align:right;direction:rtl"> ,           footprint  ASM1051,       datasheet  ASM1053.     ,        ASM1051   . </p><br><img src="https://habrastorage.org/webt/mf/9k/pi/mf9kpiav5oxxejflxjfndixzccy.jpeg"><br><p style=";text-align:right;direction:rtl"> <em>ASM1051     </em> </p><br><p style=";text-align:right;direction:rtl">    ,       3D- ,    . </p><br><img src="https://habrastorage.org/webt/4n/vk/ea/4nvkearirndsx2wx6lzbv2--iu0.png"><br><p style=";text-align:right;direction:rtl"> <em>3D-      </em> </p><br><p style=";text-align:right;direction:rtl">            <strong>WP</strong> .  GPIO ASM1051      ,   UART.  ,      SATA,     HDD.      USB 3.0 Micro-B     Type-C.  HDD      USB,   HDD 3.5"  +12 ,           12  21 .     . </p><br><img src="https://habrastorage.org/webt/zh/ji/wu/zhjiwuyqzibs09gswjbdlths-_g.jpeg"><br><p style=";text-align:right;direction:rtl"> <em>    </em> </p><br><h1 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h1><br><p style=";text-align:right;direction:rtl">       ,       . </p><br><p style=";text-align:right;direction:rtl">           -,    ,   .         ยซ ยซยป,          .        ,       . </p><br><p style=";text-align:right;direction:rtl">   ,    (,   )   embedded-. ,  ,       .      ,    ,    , ,         . </p><br><p style=";text-align:right;direction:rtl">       ,   datasheets,    ,   .       ,  <strong>   !</strong> </p><br><p style=";text-align:right;direction:rtl"> <a href="https://raccoonsecurity.ru/"><img src="https://habrastorage.org/webt/6d/ts/lv/6dtslv2uikkshhl7tmsi7fgjp0y.png"></a> </p><br><p style=";text-align:right;direction:rtl"> <em>Raccoon Security โ     ยซยป     , , ,       .</em> <br> <em>        ,         ,     .       <a href="https://raccoonsecurity.ru/internship/"></a> .</em> </p><cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar485966/">https://habr.com/ru/post/ar485966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar485950/index.html">ุงููุจุงุก ูุงูุฑูุงุจุฉ: ูู ุชุญุงูู ุงูุณูุทุงุช ุงูุตูููุฉ ูุจุญ ูุดุฑ ุงููุนูููุงุช ุญูู ููุฑูุณ ููุฑููุงุ</a></li>
<li><a href="../ar485952/index.html">ูุงุฌูุฉ CLI ูู Laravel Artisan</a></li>
<li><a href="../ar485954/index.html">ุฎูุงุตุฉ ุฌุงูุง ูู 28 ููุงูุฑ</a></li>
<li><a href="../ar485958/index.html">[ููุฎุต ุงููุณุคูู] ูุงุฐุง ูู ูุงู ุงูุจุฑูุงูุฌ ูุฑูุฏ ุญููู ุงููุณุคูู ููุง ุชุฑูุฏู</a></li>
<li><a href="../ar485962/index.html">ุงูุจุญูุซ ุงูุดุฎุตูุฉ ุนูู 2019-nCoV</a></li>
<li><a href="../ar485968/index.html">ูุชุฌุงูุฒ ุงูุฃููุงู ูุฑุฉ ุฃุฎุฑู. RouterOS + BGP + OSPF</a></li>
<li><a href="../ar485970/index.html">ุซูุงุซูู ููุฉ ููุงุจูุงุช ูุคุฎุฑุง: ุงูุชูููุฉ ูุงูุชุตููู ู sciencepop ูุฃุณููุจ ุงูุญูุงุฉ</a></li>
<li><a href="../ar485972/index.html">ุทุฑู ุชุญููู ุงูุงูุญุฏุงุฑ ูู ุนููู ุงูุจูุงูุงุช</a></li>
<li><a href="../ar485974/index.html">Raspberry Pi ู SIM7600E 4G HAT Modem</a></li>
<li><a href="../ar485986/index.html">ุฃูุถู 5 ุงุชุฌุงูุงุช ููุชูุทูู ูู ุนุงู 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>