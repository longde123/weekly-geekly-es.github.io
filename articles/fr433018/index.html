<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõÄüèΩ üë± üöß UDB. Qu'est-ce que c'est? Partie 2. Chemin de donn√©es üôáüèª ü§± üë∏üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous continuons √† consid√©rer UDB sur la base de la documentation Cypress. Et cette fois, nous √©tudierons en d√©tail Datapath, un automate op√©rationnel....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB. Qu'est-ce que c'est? Partie 2. Chemin de donn√©es</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433018/"><img src="https://habrastorage.org/webt/g_/al/i6/g_ali6vm2tdujirqgof2slfxnmk.jpeg"><br><br>  Nous continuons √† consid√©rer UDB sur la base de la documentation Cypress.  Et cette fois, nous √©tudierons en d√©tail Datapath, un automate op√©rationnel. <br><a name="habracut"></a><br>  Le contenu g√©n√©ral du cycle ¬´UDB.  Qu'est-ce que c'est? " <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1. Introduction.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pld.</a> <br>  Partie 2. Chemin de donn√©es.  (Article actuel) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3. Datapath FIFO.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 4. Datapath ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 5. Chemin de donn√©es.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Petites choses utiles.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 6. Module de gestion et d'√©tat.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 7. Module de commande de temporisation et de r√©initialisation</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 8. Adressage UDB</a> <br><br><h3>  21.3.2 Machine op√©rationnelle (Datapath) </h3><br>  Le chemin de donn√©es repr√©sent√© sur la figure 21-6 contient une ALU √† cycle unique de 8 bits et sa comparaison et g√©n√©ration associ√©es d'indicateurs de condition.  Les blocs de chemin de donn√©es des UDB voisins peuvent √™tre cha√Æn√©s ensemble pour augmenter la profondeur de bits.  Datapath comprend une petite RAM de configuration dynamique qui peut s√©lectionner dynamiquement l'op√©ration √† effectuer dans un cycle sp√©cifique. <br><br>  Datapath est optimis√© pour l'impl√©mentation de fonctions embarqu√©es typiques telles que les temporisateurs, compteurs, PWM, PRS, CRC, registres √† d√©calage et g√©n√©rateurs de bande morte.  L'ajout de fonctions d'addition et de soustraction prend en charge les op√©rations num√©riques delta-sigma. <br><br><img src="https://habrastorage.org/webt/p3/qf/tw/p3qftwvnkiyvec-lgkvod-2y7va.png"><br>  Figure 21-6.  Chemin de donn√©es de niveau sup√©rieur. <br><br><h3>  21.3.2.1 Pr√©sentation </h3><br>  Les chapitres suivants donnent un aper√ßu des principales fonctionnalit√©s de Datapath. <br><br>  <b>Configuration dynamique</b> <br><br>  Configuration dynamique - la possibilit√© de modifier le travail et les communications internes de Datapath √† chaque cycle sous le contr√¥le d'un s√©quenceur.  Ceci est impl√©ment√© √† l'aide de la m√©moire de configuration (RAM de configuration), qui stocke huit configurations uniques.  L'adresse d'entr√©e de cette m√©moire peut √™tre transmise √† partir de n'importe quel bloc connect√© aux ressources de trace, g√©n√©ralement √† partir de la logique PLD, des broches d'E / S ou d'autres chemins de donn√©es. <br><br>  <b>Alu</b> <br><br>  ALU peut effectuer huit fonctions g√©n√©rales: incr√©menter, d√©cr√©menter, ajouter, soustraire et √©galement effectuer des op√©rations logiques ET, OU, XOR et PASS.  Le choix des fonctions est d√©termin√© par la m√©moire de configuration pour chaque cycle.  Des op√©rations de d√©calage ind√©pendantes (gauche, droite, permutation de quartet), ainsi que des op√©rations de masquage sont disponibles √† la sortie ALU. <br><br>  <b>Constructions conditionnelles</b> <br><br>  Chaque chemin de donn√©es poss√®de deux comparateurs masqu√©s au niveau du bit qui peuvent √™tre configur√©s pour s√©lectionner plusieurs entr√©es de registre de chemin de donn√©es comme arguments.  D'autres conditions identifiables peuvent √™tre des z√©ros, des uns et un d√©bordement.  Ces conditions constituent les principales sorties de Datapath et peuvent √™tre transmises aux lignes de trace num√©riques ou aux entr√©es d'autres fonctions. <br><br>  <b>CRC / PRS int√©gr√©</b> <br><br>  Datapath prend en charge les calculs CRC √† cycle unique et la g√©n√©ration de s√©quences pseudo-al√©atoires (English Pseudo Random Sequence, PRS) avec une profondeur de bits donn√©e et un polyn√¥me g√©n√©rateur.  Pour atteindre une profondeur de bits sup√©rieure √† 8 bits, les signaux peuvent √™tre cha√Æn√©s entre Datapath.  Cette fonctionnalit√© est contr√¥l√©e dynamiquement, ce qui signifie qu'elle peut alterner avec d'autres fonctions. <br><br>  <b>Nombre de bits √©lev√© personnalis√©</b> <br><br>  Le nombre du bit le plus significatif (bit le plus significatif anglais, MSB) de la fonction arithm√©tique et de la fonction de d√©calage peut √™tre d√©fini par programme.  Cela prend en charge les fonctions CRC / PRS de longueur variable et, en conjonction avec la sortie de masquage ALU, permet l'impl√©mentation de temporisations de longueurs arbitraires, de compteurs et de blocs de d√©calage. <br><br>  <b>Tampons d'entr√©e / sortie FIFO</b> <br><br>  Chaque Datapath poss√®de deux tampons FIFO de 4 octets, chacun pouvant √™tre configur√© pour fonctionner comme un tampon d'entr√©e (CPU ou DMA √©crit des donn√©es dans FIFO, Datapath lit FIFO), ou comme un tampon de sortie (Datapath √©crit dans FIFO et CPU ou DMA en lit).  Ces tampons FIFO g√©n√®rent un √©tat qui peut √™tre transmis pour interagir avec les s√©quenceurs, les interruptions ou les demandes DMA. <br><br>  <b>Encha√Ænement</b> <br><br>  Le chemin de donn√©es peut √™tre configur√© pour cha√Æner des conditions et des signaux dans une cha√Æne vers des chemins de donn√©es voisins.  Le d√©calage, le transfert, la capture et d'autres signaux conditionnels peuvent √™tre combin√©s en cha√Ænes pour cr√©er des fonctions arithm√©tiques de plus grande profondeur de bits, ainsi que des fonctions de d√©calage et des fonctions CRC / PRS. <br><br>  <b>Multiplexage temporel</b> <br><br>  Dans les applications de sur√©chantillonnage ou lorsque des vitesses d'horloge √©lev√©es ne sont pas n√©cessaires, une ALU dans Datapath peut √™tre efficacement divis√©e entre deux ensembles de registres et de g√©n√©rateurs de conditions.  Les sorties de l'ALU et du registre √† d√©calage sont verrouill√©es et peuvent √™tre utilis√©es comme entr√©e dans les cycles suivants.  Des exemples d'utilisation incluent la prise en charge des fonctions 16 bits dans un seul chemin de donn√©es (8 bits) ou l'alternance des op√©rations de g√©n√©ration CRC avec des op√©rations de d√©calage de donn√©es. <br><br>  <b>Entr√©es de chemin de donn√©es</b> <br><br>  Datapath dispose de quatre types d'entr√©es: configuration, contr√¥le et entr√©es de donn√©es (s√©rie et parall√®le).  Les entr√©es de configuration s√©lectionnent l'adresse RAM de la configuration dynamique.  Les entr√©es de commande chargent les registres de donn√©es du FIFO et t√©l√©chargent la sortie de la batterie dans le FIFO.  Les entr√©es de donn√©es s√©rie incluent les entr√©es shift et carry.  Le port d'entr√©e de donn√©es parall√®le vous permet de recevoir jusqu'√† 8 bits de donn√©es des ressources de trace. <br><br>  <b>Sorties de chemin de donn√©es</b> <br><br>  Au total, 16 signaux sont g√©n√©r√©s dans Datapath.  Certains d'entre eux sont des signaux conditionnels (par exemple, des comparaisons), d'autres sont des signaux d'√©tat (par exemple, le statut FIFO) et les autres sont des signaux de donn√©es (par exemple, la sortie du registre √† d√©calage).  Ces 16 signaux sont multiplex√©s en 6 sorties de chemin de donn√©es et achemin√©s vers la matrice de trace.  Par d√©faut, les sorties sont synchronis√©es avec la fr√©quence d'horloge, ce qui cr√©e un pipeline avec un retard de 1 cycle d'horloge.  De plus, leurs (sorties) peuvent √™tre commut√©es en mode asynchrone (combinatoire) (voir les notes du traducteur). <br><br>  <b><i>Note du traducteur</i></b> <br><br>  <i>J'ai longtemps cherch√© √† savoir quel √©tait le timing des sorties Datapath.</i>  <i>D'apr√®s mon exp√©rience, tout est l√† de mani√®re asynchrone.</i>  <i>Il s'est av√©r√© que ce n'est pas tellement l'√©tat des sorties, mais cet √©diteur qui d√©finit les variables bas√©es sur celles-ci.</i> <br><br><img src="https://habrastorage.org/webt/zy/il/bn/zyilbndbqdrrsga9y-i0nnry_kc.png"><br><br>  <i>Cela forcera l'√©diteur √† g√©n√©rer le code Verilog suivant:</i> <br><pre><code class="plaintext hljs">/* ==================== Assignment of Registered Variables ==================== */ always @ (posedge clock) begin : register_assignments var1 &lt;= (decr_finished); end</code> </pre> <br>  <i>Si vous passez en mode combinatoire</i> <br><br><img src="https://habrastorage.org/webt/bs/ax/q_/bsaxq_yb5ui9zfsoojlqha7jtqc.png"><br><br>  <i>le code deviendra comme ceci:</i> <br><br><pre> <code class="plaintext hljs">assign var1 = (decr_finished);</code> </pre><br>  <i>Mais tout cela s'applique aux variables g√©n√©r√©es √† partir des sorties Datapath.</i>  <i>Et les sorties elles-m√™mes sont toujours asynchrones.</i>  <i>Et leurs noms (dans cet exemple <b>decr_finished</b> ) peuvent √™tre utilis√©s sans entrer de variables suppl√©mentaires.</i> <br><br>  <b>Registres de travail Datapath</b> <br><br>  Chaque module Datapath poss√®de six registres de travail 8 bits.  La CPU ou le DMA a un acc√®s en lecture et en √©criture √† tous les registres. <br><br>  <i>Tableau 21-1</i> <br><div class="scrollable-table"><table><tbody><tr><th>  Tapez </th><th>  Pr√©nom </th><th>  La description </th></tr><tr><td>  La batterie </td><td>  A0, A1 </td><td>  Les batteries peuvent √™tre soit une source soit un r√©cepteur <br>  pour ALU.  Ils peuvent √©galement √™tre charg√©s √† partir du registre de donn√©es. <br>  ou FIFO.  Les batteries contiennent g√©n√©ralement la valeur de fonction actuelle. <br>  (par exemple, compteur, CRC ou d√©calage).  Ces registres perdent leur <br>  valeurs lors de l'entr√©e en mode veille et lors de la r√©initialisation prendre <br>  valeur 0x00. </td></tr><tr><td>  Les donn√©es </td><td>  D0, D1 </td><td>  Les registres de donn√©es contiennent g√©n√©ralement des constantes de fonction, <br>  par exemple, une valeur de comparaison PWM, une p√©riode de temporisation ou un polyn√¥me CRC. <br>  Ces registres conservent leurs valeurs en mode veille. <br>  mode. </td></tr><tr><td>  FIFO </td><td>  F0, F1 </td><td>  Deux tampons FIFO de 4 octets fournissent comme source, <br>  et un r√©cepteur pour les donn√©es tamponn√©es.  FIFO peut √™tre <br>  configur√©s comme tampons d'entr√©e et tampons de sortie, ou comme un <br>  tampon d'entr√©e et un tampon de sortie.  Les signaux d'√©tat montrent <br>  lire et √©crire l'√©tat de ces tampons.  Vers des exemples d'utilisation <br>  peut inclure des donn√©es TX et RX tamponn√©es dans SPI ou UART, <br>  ainsi que les donn√©es PWM tamponn√©es et les donn√©es tamponn√©es <br>  sur la p√©riode de la minuterie.  Ces registres n'enregistrent pas leurs valeurs. <br>  en mode veille et lors de la r√©initialisation, ils prennent la valeur 0x00. </td></tr></tbody></table></div><br>  Dans le prochain article, nous allons commencer √† traiter du FIFO. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433018/">https://habr.com/ru/post/fr433018/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433008/index.html">Les p√©riph√©riques USB constituent une menace ¬´soudaine¬ª</a></li>
<li><a href="../fr433010/index.html">Avoir une id√©e: syst√®me d'autorisation pour les packages npm</a></li>
<li><a href="../fr433012/index.html">Peut-√™tre que je ne suis en vie qu'√† cause d'elle: pourquoi les patients souffrant d'apn√©e s'appuient-ils sur un programme √©crit par un pirate</a></li>
<li><a href="../fr433014/index.html">Blagues sur la r√©cente lib√©ration d'astronautes dans l'espace</a></li>
<li><a href="../fr433016/index.html">Changements d'interface, animation en couches et chaos visuel structur√©: un examen des tendances Web pour 2019</a></li>
<li><a href="../fr433030/index.html">Live: performances frontales</a></li>
<li><a href="../fr433032/index.html">Comment fonctionne le routage m√©dical - nous en parlons sur l'exemple de l'application DOC +</a></li>
<li><a href="../fr433034/index.html">Injection de spels</a></li>
<li><a href="../fr433036/index.html">Conseils pour organiser l'informatique dans une petite entreprise</a></li>
<li><a href="../fr433038/index.html">Pourquoi les sp√©cialistes du marketing apprennent-ils la programmation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>