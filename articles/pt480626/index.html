<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë≥üèø üö• ‚öæÔ∏è Heran√ßa de sistemas e processos legados ou Os primeiros 90 dias no papel de CTO ‚õπüèæ üîÖ üë©üèΩ‚Äçüöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sabe-se que a compet√™ncia CTO √© testada apenas pela segunda vez que esse papel √© desempenhado. Porque uma coisa √© trabalhar em uma empresa h√° v√°rios a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Heran√ßa de sistemas e processos legados ou Os primeiros 90 dias no papel de CTO</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/480626/">  Sabe-se que a compet√™ncia CTO √© testada apenas pela segunda vez que esse papel √© desempenhado.  Porque uma coisa √© trabalhar em uma empresa h√° v√°rios anos, evoluir com ela e, estando no mesmo contexto cultural, gradualmente ganhar mais responsabilidade.  E √© outra coisa - assumir imediatamente o cargo de diretor t√©cnico em uma empresa com malas herdadas e v√°rios problemas claramente notados sob o tapete. <br><br>  Nesse sentido, a experi√™ncia de Leon Fayer, que ele compartilhou no <a href="https://devopsconf.io/">DevOpsConf</a> , n√£o √© apenas √∫nica, mas √© multiplicada pela experi√™ncia e pelo n√∫mero de pap√©is diferentes que ele conseguiu <a href="https://devopsconf.io/">exercer</a> por mais de 20 anos.  Sob o corte, uma cronologia de eventos ao longo de 90 dias e muitas hist√≥rias que s√£o boas de rir quando acontecem com outra pessoa, mas que n√£o s√£o t√£o divertidas de encarar pessoalmente. <br><br>  Leon √© muito colorido em russo, por isso, se voc√™ tiver 35 a 40 minutos, recomendo assistir ao v√≠deo.  Vers√£o em texto para economizar tempo abaixo. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ZeAK87Tzxdw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br>  A primeira vers√£o do relat√≥rio era uma descri√ß√£o bem estruturada do trabalho com pessoas e processos, contendo recomenda√ß√µes √∫teis.  Mas ela n√£o transmitiu todas as surpresas que surgiram ao longo do caminho.  Portanto, mudei o formato e descrevi os problemas que a nova empresa apareceu na minha frente como um inferno de uma caixa de rap√© e os m√©todos para resolv√™-los em ordem cronol√≥gica. <br><br>
<h2>  Um m√™s antes </h2><br>  Como muitas boas hist√≥rias, essa come√ßou com √°lcool.  Sentamos com os amigos no bar e, como deveria estar entre as pessoas de TI, todos choraram por seus problemas.  Um deles acabou de mudar de emprego e falou sobre seus problemas com a tecnologia, as pessoas e a equipe.  Quanto mais ouvia, mais percebia que ele s√≥ precisava me contratar, porque eram exatamente esses problemas que eu vinha resolvendo nos √∫ltimos 15 anos.  Eu disse isso a ele e no dia seguinte j√° nos conhecemos em um ambiente de trabalho.  A empresa foi chamada de Estrat√©gias de Ensino. <br><br>  Estrat√©gias de ensino lidera o mercado de programas educacionais para crian√ßas muito pequenas - desde o nascimento at√© tr√™s anos.  A empresa tradicional de "papel" j√° tem 40 anos e a vers√£o SaaS digital da plataforma 10. Recentemente, come√ßou o processo de adapta√ß√£o da tecnologia digital aos padr√µes da empresa.  A vers√£o "nova" foi lan√ßada em 2017 e era quase como a antiga, mas funcionou pior. <br><br>  O mais interessante √© que o tr√°fego desta empresa √© muito previs√≠vel - dia ap√≥s dia, ano a ano, voc√™ pode prever com muita clareza quantas pessoas vir√£o e quando.  Por exemplo, entre 13h e 15h, todas as crian√ßas nos jardins de inf√¢ncia v√£o dormir e os professores come√ßam a inserir informa√ß√µes.  E isso acontece todos os dias, exceto nos finais de semana, porque nos fins de semana quase ningu√©m trabalha. <br><br><img src="https://habrastorage.org/webt/n2/lh/e2/n2lhe2m_ecj0tpoaruzjqkrxapu.jpeg"><br><br>  Olhando um pouco √† frente, comecei meu trabalho durante o per√≠odo de maior tr√°fego anual, o que √© interessante por v√°rias raz√µes. <br><br>  A plataforma, que parecia ter apenas 2 anos de idade, tinha uma pilha peculiar: ColdFusion &amp; SQL Server 2008.  O ColdFusion, se voc√™ n√£o sabe, mas provavelmente n√£o sabe, √© um PHP corporativo que surgiu em meados dos anos 90 e, desde ent√£o, eu nem ouvi falar disso.  Tamb√©m havia: Ruby, MySQL, PostgreSQL, Java, Go, Python.  Mas o principal mon√≥lito funcionou no ColdFusion e no SQL Server. <br><br><h2>  Os problemas </h2><br>  Quanto mais eu falava com os funcion√°rios da empresa sobre o trabalho e quais problemas eram encontrados, mais percebia que os problemas n√£o s√£o apenas de natureza t√©cnica.  Ok, a tecnologia √© antiga - e eles n√£o funcionaram nisso, mas houve problemas com a equipe e com os processos, e a empresa come√ßou a entender isso. <br><br>  Tradicionalmente, os t√©cnicos estavam sentados no canto e fazendo parte de seu trabalho.  Mas mais e mais neg√≥cios come√ßaram a passar pela vers√£o digital.  Portanto, na empresa no √∫ltimo ano antes do in√≠cio do meu trabalho, surgiram novos: o conselho de administra√ß√£o, CTO, CPO e diretor de QA.  Ou seja, a empresa come√ßou a investir no campo tecnol√≥gico. <br><br>  Tra√ßos de heran√ßa pesada n√£o estavam apenas nos sistemas.  A empresa tinha processos legados, pessoas legadas, cultura legada.  Tudo isso teve que ser mudado.  Eu pensei que definitivamente n√£o seria chato, e decidi tentar. <br><br><h2>  Dois dias antes </h2><br>  Dois dias antes de iniciar um novo emprego, cheguei ao escrit√≥rio, preenchi os √∫ltimos documentos, familiarizei-me com a equipe e descobri que a equipe estava lutando com o problema naquele momento.  Consistia no fato de que o tempo m√©dio de carregamento da p√°gina saltou para 4 s, ou seja, 2 vezes. <br><br><img src="https://habrastorage.org/webt/_-/f5/gc/_-f5gcpcerys6k6cnwunj6_7muo.jpeg"><br><br>  A julgar pelo cronograma, obviamente algo aconteceu, e n√£o est√° claro o que.  Verificou-se que o problema estava na lat√™ncia da rede no data center: lat√™ncia de 5 ms no data center foi convertida em 2 s para os usu√°rios.  Por que isso aconteceu, eu n√£o sabia, mas, de qualquer forma, ficou claro que o problema est√° no data center. <br><br><h2>  Primeiro dia </h2><br>  Dois dias se passaram e, no meu primeiro dia √∫til, descobri que o problema n√£o desapareceu. <br><br><img src="https://habrastorage.org/webt/mt/9f/al/mt9falv8ildnntz-l5km7chphnc.jpeg"><br><br>  Por dois dias, os usu√°rios da p√°gina carregaram em m√©dia 4 s.  Pergunto se eles descobriram qual √© o problema. <br><br>  <i>- Sim, n√≥s abrimos um ingresso.</i> <i><br></i>  <i>- e</i> <i><br></i>  <i>"Bem, eles ainda n√£o nos responderam."</i> <br><br>  Ent√£o percebi que tudo que me haviam dito antes era apenas a pequena ponta do iceberg com a qual eu tinha que lutar. <br><br>  H√° uma boa cita√ß√£o que √© muito adequada para este caso: <br><blockquote>  "√Äs vezes voc√™ precisa mudar a organiza√ß√£o para mudar a tecnologia". <br></blockquote>  Mas desde que comecei a trabalhar na √©poca mais movimentada do ano, tive que procurar as duas op√ß√µes para resolver o problema: r√°pido e a longo prazo.  E comece com o que √© cr√≠tico agora. <br><br><h2>  Dia tr√™s </h2><br>  Portanto, o carregamento leva 4 segundos e de 13 a 15 os maiores picos. <br><br><img src="https://habrastorage.org/webt/cj/_z/zu/cj_zzuftuner2jr1m_iklw535ha.jpeg"><br><br>  No terceiro dia, nesse intervalo de tempo, a velocidade do download ficou assim: <br><br><img src="https://habrastorage.org/webt/cf/n7/yo/cfn7yovt5s8vo2rj85phm-ehvq8.jpeg"><br><br>  Do meu ponto de vista, nada funcionou.  Do ponto de vista de todos os outros, funcionou um pouco mais devagar que o normal.  Mas isso simplesmente n√£o acontece assim - esse √© um problema s√©rio. <br><br>  Tentei convencer a equipe, √† qual eles responderam que s√≥ precisavam de mais servidores.  Essa, √© claro, √© a solu√ß√£o para o problema, mas nem sempre √© a √∫nica e mais eficaz.  Perguntei por que n√£o h√° servidores suficientes, quanto tr√°fego.  Extrapolei os dados e conclu√≠ que temos cerca de 150 solicita√ß√µes por segundo, o que basicamente se encaixa em limites razo√°veis. <br><br>  <strong>Mas n√£o devemos esquecer que, antes de voc√™ obter a resposta certa, voc√™ precisa fazer a pergunta certa.</strong>  Minha pr√≥xima pergunta foi: quantos servidores front-end temos?  A resposta "me intrigou" - t√≠nhamos 17 servidores de front-end! <br><br>  <em>- Tenho vergonha de perguntar, 150 dividido por 17, ser√° cerca de 8?</em>  <em>Voc√™ quer dizer que cada servidor ignora 8 solicita√ß√µes por segundo e, se houver 160 solicita√ß√µes por segundo amanh√£, precisaremos de mais 2 servidores?</em> <br><br>  Obviamente, n√£o precisamos de servidores adicionais.  A solu√ß√£o estava no pr√≥prio c√≥digo e na superf√≠cie: <br><br><pre><code class="xml hljs">var currentClass = classes.getCurrentClass(); return currentClass;</code> </pre> <br>  Havia uma fun√ß√£o <code>getCurrentClass()</code> , porque tudo no site funciona no contexto da classe - corretamente.  E para essa fun√ß√£o em cada p√°gina, havia <strong>mais de 200 solicita√ß√µes</strong> . <br><br>  A solu√ß√£o dessa maneira era muito simples, n√£o havia necessidade de reescrever nada: simplesmente n√£o solicite as mesmas informa√ß√µes novamente. <br><br><pre> <code class="xml hljs">if ( !isDefined("REQUEST.currentClass") ) { var classes = new api.private.classes.base(); REQUEST.currentClass = classes.getCurrentClass(); } return REQUEST.currentClass;</code> </pre> <br>  Fiquei muito feliz porque decidi que apenas no terceiro dia encontrei o principal problema.  Como eu era ing√™nuo, esse era apenas um dos muitos problemas. <br><br><img src="https://habrastorage.org/webt/zq/92/de/zq92de3_zhm7sjzlsspsxddgp_k.jpeg"><br><br>  Mas a solu√ß√£o para esse primeiro problema reduziu muito o cronograma. <br><br>  Ao mesmo tempo, est√°vamos envolvidos em outras otimiza√ß√µes.  √Ä vista havia muito de tudo que pode ser reparado.  Por exemplo, no mesmo terceiro dia, descobri que ainda havia um cache no sistema (no come√ßo, pensei que todas as solicita√ß√µes fossem diretamente do banco de dados).  Quando penso em um cache, apresento o Redis ou Memcached padr√£o.  Mas apenas pensei assim, porque para o cache desse sistema foram utilizados o MongoDB e o SQL Server - o mesmo a partir do qual os dados haviam acabado de ser lidos. <br><br><h2>  Dia dez </h2><br>  Na primeira semana, eu estava lidando com problemas que precisavam ser resolvidos agora.  Em algum momento da segunda semana, cheguei ao stand-up para conversar com a equipe, ver o que est√° acontecendo e como est√° todo o processo. <br><br>  Novamente, uma coisa interessante foi descoberta.  A equipe era composta por: 18 desenvolvedores;  8 testadores;  3 gerentes;  2 arquitetos.  E todos eles participaram de rituais comuns, ou seja, mais de 30 pessoas vieram para o stand-up todas as manh√£s e disseram o que estavam fazendo.  √â claro que a reuni√£o n√£o levou 5 ou 15 minutos.  Ningu√©m ouviu ningu√©m, porque todo mundo trabalha em sistemas diferentes.  Dessa forma, 2-3 bilhetes por hora na sess√£o de limpeza j√° eram um bom resultado. <br><br>  A primeira coisa que fizemos foi dividir a equipe em v√°rias ao longo da linha de produtos.  Para diferentes se√ß√µes e sistemas, identificamos equipes separadas que inclu√≠am desenvolvedores, testadores, gerentes de produto, analistas de neg√≥cios. <br><br>  Como resultado, recebemos: <br><br><ul><li>  Redu√ß√£o de stand-ups e com√≠cios. </li><li>  Conhecimento do produto. </li><li>  Um senso de propriedade.  Quando antes as pessoas costumavam sempre falar sobre sistemas, elas sabiam que algu√©m provavelmente teria que trabalhar com seus erros, mas n√£o com eles mesmos. </li><li>  Colabora√ß√£o entre grupos.  Voc√™ n√£o pode dizer que o controle de qualidade n√£o se comunicava muito com os programadores antes, o produto fazia suas pr√≥prias coisas etc.  Agora eles t√™m um ponto de responsabilidade comum. </li></ul><br>  Nosso foco principal √© efici√™ncia, produtividade e qualidade - esses s√£o os problemas que tentamos resolver com a transforma√ß√£o da equipe. <br><br><h2>  D√©cimo primeiro dia </h2><br>  No processo de mudar a estrutura da equipe, descobri como os <strong>Story</strong> <strong>Points</strong> s√£o contados.  1 SP foi igual a um dia e cada ticket continha SP para desenvolvimento e controle de qualidade, ou seja, pelo menos 2 SP. <br><br>  Como eu encontrei isso? <br><br><img src="https://habrastorage.org/webt/lf/vr/wr/lfvrwr4l1lnanb06p4fr_krck0o.jpeg"><br><br>  Foi encontrado um erro: em um dos relat√≥rios, onde a data de in√≠cio e t√©rmino do per√≠odo para o qual o relat√≥rio √© necess√°rio √© inserida, o √∫ltimo dia n√£o √© levado em considera√ß√£o.  Ou seja, em algum lugar da solicita√ß√£o n√£o havia &lt;=, mas simplesmente &lt;.  Disseram-me que estes s√£o tr√™s Story Points, ou seja, <strong>3 dias</strong> . <br><br>  Depois disso n√≥s: <br><br><ul><li>  Revisou o sistema de classifica√ß√£o dos Story Points.  Agora, a corre√ß√£o de pequenos bugs que podem ser passados ‚Äã‚Äãrapidamente pelo sistema chega rapidamente ao usu√°rio. </li><li>  Come√ßamos a combinar tickets relacionados para desenvolvimento e teste.  Anteriormente, todo ticket, todo bug era um ecossistema fechado, n√£o anexado a mais nada.  Alterar tr√™s bot√µes em uma p√°gina pode ter tr√™s tickets diferentes com tr√™s processos diferentes de controle de qualidade, em vez de um teste autom√°tico em uma p√°gina. </li><li>  Eles come√ßaram a trabalhar com os desenvolvedores em uma abordagem para avaliar os custos de m√£o-de-obra.  Tr√™s dias para trocar um bot√£o n√£o √© engra√ßado. </li></ul><br><h2>  Vig√©simo dia </h2><br>  Em algum lugar no meio do primeiro m√™s, a situa√ß√£o havia se estabilizado um pouco, eu descobri o que estava acontecendo principalmente e j√° comecei a olhar para o futuro e pensar em solu√ß√µes de longo prazo. <br><br>  Objetivos de longo prazo: <br><br><ul><li>  <strong>Plataforma gerenciada</strong>  Centenas de solicita√ß√µes em cada p√°gina - isso n√£o √© s√©rio. </li><li>  <strong>Tend√™ncias previs√≠veis.</strong>  Havia picos de tr√°fego peri√≥dicos que, √† primeira vista, n√£o se correlacionavam com outras m√©tricas - era necess√°rio entender por que isso acontece e aprender a prever. </li><li>  <strong>Extens√£o da plataforma.</strong>  Os neg√≥cios est√£o em constante crescimento, mais e mais usu√°rios est√£o chegando, o tr√°fego est√° aumentando. </li></ul><br><blockquote>  Costumava-se dizer no passado: <i>"Vamos reescrever tudo em [idioma / framework], tudo funcionar√° melhor!"</i> </blockquote>  Na maioria dos casos, isso n√£o funciona, bem, se o reescrito funcionar√°.  Portanto, precis√°vamos criar um roteiro - uma estrat√©gia concreta que ilustra passo a passo como os objetivos de neg√≥cios ser√£o alcan√ßados (o que faremos e por que), que: <br><br><ul><li>  reflete a miss√£o e os objetivos do projeto; </li><li>  prioriza os principais objetivos; </li><li>  cont√©m um cronograma para sua conquista. </li></ul><br>  Antes disso, ningu√©m havia conversado com a equipe sobre o prop√≥sito de qualquer altera√ß√£o.  Isso requer as taxas de sucesso corretas.  Pela primeira vez na hist√≥ria da empresa, definimos KPI para um grupo t√©cnico, e esses indicadores estavam atrelados aos organizacionais. <br><br><img src="https://habrastorage.org/webt/rr/w3/uu/rrw3uuf1o9gjx6m2nfhedfkdzzy.jpeg"><br><br>  Ou seja, os KPIs organizacionais s√£o suportados por equipes e os KPIs de equipe j√° s√£o suportados por indiv√≠duos.  Caso contr√°rio, se os KPIs tecnol√≥gicos n√£o concordarem com os organizacionais, todo mundo puxa o cobertor sobre si mesmo. <br><br>  Por exemplo, um dos KPIs organizacionais √© aumentar a participa√ß√£o de mercado por meio de novos produtos. <br><br>  Como voc√™ pode apoiar o objetivo de ter mais novos produtos? <br><br><ul><li>  Primeiro, queremos gastar mais tempo desenvolvendo novos produtos em vez de corrigir bugs.  Essa √© uma solu√ß√£o l√≥gica f√°cil de medir. </li><li>  Em segundo lugar, queremos apoiar um aumento no volume de transa√ß√µes, porque quanto maior a participa√ß√£o no mercado, mais usu√°rios e, consequentemente, mais tr√°fego. </li></ul><br><img src="https://habrastorage.org/webt/9k/kz/g3/9kkzg3hekreotv2wu2vcxt7cpgi.jpeg"><br><br>  Em seguida, os KPIs individuais que podem ser executados dentro do grupo estar√£o, por exemplo, no local de origem dos principais defeitos.  Se voc√™ se concentrar nesta se√ß√£o em particular, poder√° diminuir o n√∫mero de defeitos e aumentar o tempo para desenvolver novos produtos e, novamente, dar suporte aos KPIs organizacionais. <br><br>  Assim, cada decis√£o, incluindo a reescrita do c√≥digo, deve apoiar os objetivos espec√≠ficos que a empresa estabeleceu para n√≥s (o crescimento da organiza√ß√£o, novas fun√ß√µes, recrutamento). <br><br>  Durante esse processo, surgiu uma coisa interessante que se tornou not√≠cia n√£o apenas para os t√©cnicos, mas geralmente na empresa: todos os tickets devem se concentrar em pelo menos um KPI.  Ou seja, se o produto disser que deseja criar um novo recurso, a primeira pergunta deve ser feita: ‚ÄúQual KPI esse recurso suporta?‚Äù Se n√£o, desculpe-me - parece que esse √© um recurso desnecess√°rio. <br><br><h2>  Trig√©simo dia </h2><br>  No final do m√™s, descobri mais uma nuance de que nenhuma equipe da Ops jamais havia visto os contratos que conclu√≠mos com os clientes.  Voc√™ pode perguntar por que ver os contatos. <br><br><ul><li>  Primeiro, porque os SLAs s√£o registrados em contratos. </li><li>  Em segundo lugar, os SLAs s√£o todos diferentes.  Cada cliente veio com seus requisitos e o departamento de vendas assinou sem olhar. </li></ul><br>  Outra nuance interessante √© que, no contrato com um dos maiores clientes, est√° escrito que todas as vers√µes de software suportadas pela plataforma devem ser n-1, ou seja, n√£o a vers√£o mais recente, mas a pen√∫ltima. <br><br>  √â claro a que dist√¢ncia est√°vamos do n-1 se a plataforma estivesse no ColdFusion e no SQL Server 2008, que em julho deixou de ter suporte. <br><br><h2>  Quadrag√©simo quinto dia </h2><br>  Em algum lugar no meio do segundo m√™s, eu tinha tempo livre suficiente para me sentar e fazer um <strong>mapeamento</strong> completo do <strong>fluxo de</strong> <strong>valor</strong> durante todo o processo.  Essas s√£o as etapas necess√°rias a serem tomadas, desde a cria√ß√£o do produto at√© a entrega ao consumidor, e voc√™ deve pint√°-lo com o m√°ximo de detalhes poss√≠vel. <br><br>  Voc√™ divide o processo em peda√ßos pequenos e v√™ o que leva muito tempo, o que pode ser otimizado, aprimorado etc.  Por exemplo, quanto tempo a solicita√ß√£o do produto leva, passando pela limpeza, quando atinge o ticket que o desenvolvedor pode levar, o controle de qualidade etc.  Voc√™ analisa cada etapa em detalhes e acha que pode otimizar. <br><br>  Quando fiz isso, duas coisas chamaram minha aten√ß√£o: <br><br><ul><li>  alta porcentagem de tickets de retorno do controle de qualidade para desenvolvedores; </li><li>  a revis√£o da solicita√ß√£o de recebimento demorou muito tempo. </li></ul><br>  O problema era que essas eram conclus√µes como: parece levar muito tempo, mas n√£o sabemos ao certo quanto. <br><blockquote>  "√â imposs√≠vel melhorar o que n√£o pode ser medido." </blockquote>  Como comprovar a gravidade do problema?  Passa dias ou horas? <br><br>  Para medir isso, adicionamos algumas etapas ao processo Jira: "ready for dev" e "ready for QA", para medir quanto tempo cada ticket aguarda e quantas vezes ele retorna a uma determinada etapa. <br><br><img src="https://habrastorage.org/webt/r-/r0/je/r-r0je2tmskambpia1aq6bla_wg.jpeg"><br><br>  Tamb√©m adicionamos "em revis√£o" para saber quantos ingressos est√£o em revis√£o, em m√©dia, e √© por isso que eles j√° est√£o dan√ßando.  T√≠nhamos m√©tricas do sistema, agora adicionamos novas m√©tricas e come√ßamos a medir: <br><br><ul><li>  <strong>Efici√™ncia do processo:</strong> desempenho e planejado / entregue. </li><li>  <strong>Qualidade do processo:</strong> n√∫mero de defeitos, defeitos de controle de qualidade. </li></ul><br>  Realmente ajuda a entender o que est√° indo bem e o que est√° ruim. <br><br><h2>  Quinquag√©simo dia </h2><br>  Isso √© tudo, √© claro, bom e interessante, mas no final do segundo m√™s aconteceu algo que, em princ√≠pio, era previs√≠vel, embora eu n√£o esperasse tal escala.  As pessoas come√ßaram a sair porque o topo mudou.  Novas pessoas chegaram √† lideran√ßa, que come√ßaram a mudar tudo, e as antigas desistiram.  E geralmente em uma empresa com v√°rios anos de idade, todos os amigos e todos se conhecem. <br><br>  Isso era esperado, mas a escala de demiss√µes foi inesperada.  Por exemplo, em uma semana, dois l√≠deres de equipe entraram simultaneamente com sua pr√≥pria demiss√£o.  Portanto, n√£o tive que esquecer outros problemas, mas me concentrar na <strong>cria√ß√£o de uma equipe</strong> .  Esse √© um problema longo e dif√≠cil, mas ela teve que lidar com isso porque queria salvar as pessoas que permaneceram (ou a maioria delas).  Era necess√°rio, de alguma forma, reagir ao fato de as pessoas sa√≠rem para manter a moral na equipe. <br><br>  Em teoria, isso √© bom: entra uma nova pessoa com uma carta branca completa que pode avaliar as habilidades da equipe e substituir o pessoal.  Na verdade, voc√™ n√£o pode simplesmente trazer novas pessoas por muitas raz√µes.  <strong>Sempre precisa de um equil√≠brio.</strong> <br><br><ul><li>  Velho e novo.  Precisamos manter os idosos que podem mudar e apoiar a miss√£o.  Mas, ao mesmo tempo, precisamos trazer sangue novo, falaremos sobre isso um pouco mais tarde. </li><li>  Experi√™ncia.  Conversei muito com bons juniores que queimaram e queriam trabalhar para n√≥s.  Mas n√£o pude aceit√°-los, porque n√£o havia senhores suficientes para apoiar os juniores e ser mentores para eles.  Primeiro foi necess√°rio ganhar o topo e s√≥ ent√£o a juventude. </li><li>  Cenoura e palito. </li></ul><br>  N√£o tenho uma boa resposta para a pergunta sobre qual equil√≠brio √© correto, como mant√™-lo, quantas pessoas devem sair e quanto empurrar.  Este √© um processo puramente individual. <br><br><h2>  Dia cinquenta primeiro </h2><br>  Comecei a olhar atentamente para a equipe para entender quem eu tenho e mais uma vez lembrei: <br><blockquote>  "A maioria dos problemas s√£o problemas com as pessoas." <br></blockquote>  Descobri que na equipe, como tal - os desenvolvedores e as Ops - t√™m tr√™s grandes problemas: <br><br><ul><li>  <strong>Satisfa√ß√£o com o estado atual das coisas.</strong> </li><li>  <strong>Falta de responsabilidade</strong> - porque ningu√©m jamais trouxe os resultados do trabalho dos artistas para influenciar os neg√≥cios. </li><li>  <strong>Medo da mudan√ßa.</strong> </li></ul><br><img src="https://habrastorage.org/webt/sh/0w/_r/sh0w_rpbvooslwuo5fml-4nuhfm.jpeg"><br><br>  A mudan√ßa sempre tira voc√™ da sua zona de conforto e, quanto mais jovens, mais eles n√£o gostam de mudar porque n√£o entendem o porqu√™ e n√£o sabem como.  A resposta mais comum que ouvi foi: "N√≥s nunca fizemos isso".  E chegou ao ponto de completo absurdo - as menores mudan√ßas n√£o ocorreram sem que algu√©m se indignasse.  E n√£o importa o quanto as mudan√ßas digam respeito ao seu trabalho, as pessoas disseram: "N√£o, por qu√™?  N√£o vai funcionar. <br><blockquote>  Mas voc√™ n√£o pode melhorar sem mudar nada. </blockquote>  Tive uma conversa absolutamente absurda com um funcion√°rio, contei minhas id√©ias para otimiza√ß√£o, para as quais ele me disse: <br>  <i>- Ah, voc√™ n√£o viu o que tivemos no ano passado!</i> <i><br></i>  <i>"Ent√£o o que?"</i> <i><br></i>  <i>"Agora muito melhor do que era."</i> <i><br></i>  <i>"Ent√£o n√£o poderia ser melhor?"</i> <i><br></i>  <i>Porque?</i> <br><br>  Boa pergunta - por qu√™?  Como se, se √© melhor agora do que era, tudo est√° bom o suficiente.  Isso leva a uma falta de responsabilidade, o que √© absolutamente normal em princ√≠pio.  Como eu disse, a equipe t√©cnica estava um pouco distante.  A empresa acreditava que deveria, mas <strong>ningu√©m jamais estabeleceu padr√µes</strong> .  Eles nunca viram o SLA no suporte t√©cnico, por isso foi bastante "aceit√°vel" para o grupo (e isso me impressionou mais): <br><br><ul><li>  12 segundos de download; </li><li>  5 a 10 minutos de inatividade em cada release; </li><li>  A solu√ß√£o de problemas cr√≠ticos leva dias e semanas; </li><li>  falta de servi√ßo 24x7 / plant√£o. </li></ul><br>  Ningu√©m nunca tentou perguntar por que n√£o devemos faz√™-lo melhor, e ningu√©m nunca percebeu que n√£o deveria ser. <br><br>  Como b√¥nus, havia outro problema: <strong>falta de experi√™ncia</strong> .  Os idosos foram embora e a equipe jovem restante cresceu sob o regime anterior e foi envenenada por ele. <br><br>  Por tudo isso, as pessoas tamb√©m tinham medo de falhar, de parecer incompetentes.  Isso se expressa no fato de que, em primeiro lugar, <strong>sob nenhuma circunst√¢ncia eles pediram ajuda</strong> .  Quantas vezes conversamos em grupo e individualmente, e eu disse: "Fa√ßa uma pergunta se voc√™ n√£o souber fazer alguma coisa".  Estou confiante em mim mesmo e sei que posso resolver qualquer problema, mas isso levar√° tempo.  Portanto, se voc√™ puder perguntar a algu√©m que sabe como resolv√™-lo em 10 minutos, perguntarei.  Quanto menos experi√™ncia voc√™ tiver, mais voc√™ tem medo de perguntar, porque pensa que ser√° considerado incompetente. <br><br>  Esse medo de fazer uma pergunta se manifesta de formas interessantes.  Por exemplo, voc√™ pergunta: "Como est√° indo com esta tarefa?" - "Faltam algumas horas, j√° estou terminando".  No dia seguinte, voc√™ perguntar novamente, voc√™ obt√©m a resposta de que est√° tudo bem, mas houve um problema: ele estar√° pronto no final do dia.  Outro dia passa, e at√© voc√™ pressionar a parede e for√ßar algu√©m a falar, tudo continua.  Uma pessoa quer resolver o problema, acredita que, se n√£o o resolver, ser√° um grande fracasso. <br><br>  √â por isso que os <strong>desenvolvedores exageraram</strong> .  Foi essa piada quando eles discutiram uma tarefa espec√≠fica, eles me deram uma figura que fiquei muito surpreso.  Ao que me disseram que, em estimativas, o desenvolvedor inclui o tempo que o ticket retornar√° do controle de qualidade, porque eles encontrar√£o erros l√°, o tempo que o PR levar√° e o tempo que as pessoas que precisam visualiz√°-lo estar√£o ocupadas - ou seja, tudo isso s√≥ √© poss√≠vel. <br><br>  Em segundo lugar, as pessoas que t√™m medo de parecer incompetentes <strong>analisam desnecessariamente</strong> .  Quando voc√™ diz o que exatamente precisa ser feito, come√ßa: ‚ÄúN√£o, mas e se pensarmos aqui?‚Äù Nesse sentido, nossa empresa n√£o √© √∫nica, √© um problema comum da juventude. <br><br>  Em resposta, introduzi as seguintes pr√°ticas: <br><br><ul><li>  <strong>A regra √© 30 minutos.</strong>  Se em meia hora voc√™ n√£o conseguir resolver o problema, pe√ßa ajuda a algu√©m.  Isso funciona com sucesso vari√°vel, porque as pessoas ainda n√£o perguntam, mas pelo menos o processo j√° come√ßou. </li><li>  <strong>Exclua tudo, exceto a ess√™ncia</strong> , ao estimar o termo da tarefa, ou seja, considere apenas quanto tempo leva para escrever o c√≥digo. </li><li>  <strong>Educa√ß√£o continuada</strong> para quem analisa demais.  √â apenas um trabalho constante com as pessoas. </li></ul><br><h2>  Sexag√©simo dia </h2><br>  Enquanto eu fazia tudo isso, √© hora de descobrir o or√ßamento.  Claro, encontrei muitas coisas interessantes em que gastamos o dinheiro.  Por exemplo, t√≠nhamos um rack inteiro em um data center separado, no qual havia um servidor FTP usado por um cliente.  Acabou que "... nos mudamos, mas ele permaneceu, n√£o o mudamos".  Isso foi h√° 2 anos. <br><br>  De particular interesse foi a conta de servi√ßo em nuvem.  Estou certo de que o principal motivo da grande fatura de servi√ßos em nuvem s√£o os desenvolvedores que t√™m acesso ilimitado aos servidores pela primeira vez em suas vidas.  Eles n√£o precisam perguntar: "Por favor, me d√™ um servidor de teste", eles podem usar.  Al√©m disso, os desenvolvedores sempre querem construir um sistema t√£o legal para que o Facebook com Netflix inveje. <br><br>  Mas os desenvolvedores n√£o t√™m experi√™ncia na compra de servidores e a capacidade de determinar o tamanho certo dos servidores, porque eles n√£o precisavam disso antes.  E, geralmente, eles n√£o entendem completamente a diferen√ßa entre escalabilidade e desempenho. <br><br>  Resultados do invent√°rio: <br><br><ul><li>  Sa√≠mos de um data center. </li><li>  Encerrou o contrato com 3 servi√ßos de log.  Porque t√≠nhamos cinco deles - cada desenvolvedor que come√ßou a brincar com algo ganhou um novo. </li><li>  Desativou 7 sistemas da AWS.  Mais uma vez, ningu√©m interrompeu os projetos mortos, todos continuaram trabalhando. </li><li>  Custos de software reduzidos em 6 vezes. </li></ul><br><h2>  Setenta quinto dia </h2><br>  O tempo passou e, depois de dois meses e meio, tive que me encontrar com o conselho de administra√ß√£o.  Nosso conselho de administra√ß√£o n√£o √© melhor nem pior do que outros; ele quer saber tudo como todos os conselhos de administra√ß√£o.  As pessoas investem dinheiro e querem entender o quanto o que fazemos se encaixa nos KPIs definidos. <br><br>  O Conselho de Administra√ß√£o recebe muitas informa√ß√µes todos os meses: o n√∫mero de usu√°rios, seu crescimento, quais servi√ßos eles usam e como, produtividade e produtividade e, finalmente, a velocidade m√©dia de carregamento da p√°gina. <br><br>  O √∫nico problema √© que acredito que o valor m√©dio √© puro mal.  Mas o conselho de administra√ß√£o √© muito dif√≠cil de explicar.  Eles est√£o acostumados a operar com n√∫meros agregados, e n√£o, por exemplo, pela propaga√ß√£o do tempo de carregamento por segundo. <br><br>  Nesse sentido, houve pontos interessantes.  Por exemplo, eu disse que voc√™ precisa dividir o tr√°fego entre servidores da web individuais, dependendo do tipo de conte√∫do. <br><br><img src="https://habrastorage.org/webt/ff/mh/xv/ffmhxvphw6ln5xchqs9kgbuo5sc.jpeg"><br><br>  Ou seja, o ColdFusion passa pelo Jetty e pelo nginx e lan√ßa p√°ginas.  E imagens, JS e CSS passam por um nginx separado com suas pr√≥prias configura√ß√µes.  Essa √© uma pr√°tica bastante padr√£o que <a href="https://medium.com/web-performance-for-developers/content-separation-bd00aeaaea35">escrevi</a> h√° alguns anos atr√°s.      ,  ‚Ä¶      200 . <br><br><img src="https://habrastorage.org/webt/il/ao/cg/ilaocgbqlktg1gg6zsn8p2gcnna.jpeg"><br><br>   ,      ,    Jetty.         ‚Äî   .    ,  ,     ,   -      12%? <br><br><h2>    </h2><br>      ,         ‚Äî  .  ,    ,  . <br><br><img src="https://habrastorage.org/webt/np/mr/qm/npmrqmgkq2ucbj_hgiu73q50-ou.jpeg"><br><br>       ‚Äî   ,   .     .  -   ,     . <br><br><h1>  Conclus√£o </h1><br>    .          ,           ,    ,      . ,    ,            <code>SEQUENCE</code> .      <code>nextID</code> ,      . <br><br>     ,     .   ,     , ‚Äî  . <br><br><img src="https://habrastorage.org/webt/mt/h9/za/mth9za8bwoxv2dscpu8y1_abcfk.jpeg"><br><br>          .    ,  : <br><br><ul><li>   ; </li><li>   ; </li><li>    ; </li><li>  ; </li><li>    ; </li><li>    ; </li><li>  . </li></ul><br>     . <br><br>   <a href="https://twitter.com/papa_fire"> twitter</a> , <a href="https://www.facebook.com/leon.fayer">facebook</a>   <a href="https://medium.com/fayerplay">medium</a> . <br><br><blockquote>   legacy   :      ,     .  c <a href="https://devopsconf.io/moscow/2020">DevOpsConf</a>    ,    .     <a href="https://www.youtube.com/c/DevOpsChannel">youtube</a> , <a href="http://eepurl.com/bN_0E1"></a>  <a href="https://t.me/DevOpsConfChannel"></a> ,      DevOps. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt480626/">https://habr.com/ru/post/pt480626/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt480612/index.html">Fa√ßa essas altera√ß√µes para atender aos padr√µes de acessibilidade do design da web.</a></li>
<li><a href="../pt480614/index.html">ENUM r√°pido</a></li>
<li><a href="../pt480618/index.html">Jogo eletr√¥nico Tic Tac Toe. O que eu vim para</a></li>
<li><a href="../pt480620/index.html">SD-WAN e DNA para ajudar o administrador: recursos de arquitetura e pr√°tica</a></li>
<li><a href="../pt480622/index.html">Como usar a capacidade de armazenamento dispon√≠vel corretamente</a></li>
<li><a href="../pt480642/index.html">Introdu√ß√£o aos ELFs do Linux: Entendendo e Analisando</a></li>
<li><a href="../pt480644/index.html">O manifesto sobre a aboli√ß√£o de 146 do C√≥digo Penal e o boicote ao Sberbank e aos detentores de direitos autorais-parasitas. Para c√≥digo-fonte aberto e nginx</a></li>
<li><a href="../pt480646/index.html">Habr - melhores artigos, autores e estat√≠sticas 2019</a></li>
<li><a href="../pt480650/index.html">Cujo cabelo √© mais forte: morfologia capilar</a></li>
<li><a href="../pt480652/index.html">C√¢mera PoE de 250 metros por fio - √© poss√≠vel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>