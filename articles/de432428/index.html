<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏱️ 👨🏾‍🍳 👰🏽 Zentraler Bus gegen Service Mesh: Wie man einen Mitap in eine Schlacht verwandelt 🤷🏻 🧑🏼‍🤝‍🧑🏼 💽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Als wir feststellten, dass es für uns langweilig sein würde, das nächste Treffen abzuhalten, beschlossen wir, daraus etwas Actionreicheres zu machen. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zentraler Bus gegen Service Mesh: Wie man einen Mitap in eine Schlacht verwandelt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/psb/blog/432428/">  Als wir feststellten, dass es für uns langweilig sein würde, das nächste Treffen abzuhalten, beschlossen wir, daraus etwas Actionreicheres zu machen.  In einem Duell, nämlich in einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Duell</a> zwischen zwei Integrationsansätzen - ESB und Distributed -, deren Ehre von Schwergewichtsexperten verteidigt wurde.  In diesem Beitrag werden wir Ihnen erzählen, wie der Kampf verlaufen ist und den Gewinner herausfinden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1c8/ea2/c5b/1c8ea2c5b4bea415ac5fb3187574ac30.jpg"><br><a name="habracut"></a><br><h2>  Ein paar Worte zum Format </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alexander Trekhlebov</a> , unser Unternehmensarchitekt, sprach für den Zentralbus.  Für die Dezentralisierung - Andrey Trushkin, Leiter des Zentrums für Innovation und vielversprechende Technologien der Promsvyazbank.  Sie gaben abwechselnd Berichte über ihre Technologien und beantworteten verschiedene Fragen, provokativ und nicht sehr.  So war es. <br><br><h2>  Warum ist ESB cool? </h2><br>  Zunächst sollten Sie es wissen lassen und erzählen, wie alles begann.  Viele erinnern sich wahrscheinlich daran, dass in der ersten Phase alles ohne Integration geschah, als jedes System mit jedem anderen System kommunizierte und seine Integrationstests durchführte. <br><br>  Wenn also eine Person kündigte oder ihm etwas anderes passierte, wusste niemand, wie das alles funktionieren würde.  Jeder Computer interagierte mit einem Server.  Welches Protokoll, welche Art von Interaktion?  Nur die Person, die im System arbeitete, wusste das alles. <br><br>  Dann kam der Integrationsbus.  Es schien nicht nur so, sondern weil die wichtigsten Protokolle und Interaktionsmethoden darauf gesammelt wurden und es möglich war, das System nicht zu zwingen, bestimmte Dinge zu beschreiben.  Sie konnte mit ihren internen Algorithmen mit ihnen kommunizieren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb0/98f/435/eb098f4350ddd5690d4843ee39d553f8.png"><br><br>  Ferner stellte sich heraus, dass sie meistens über Warteschlangen oder über REST mit dem Bus kommunizieren. <br><br>  Im Laufe der Zeit verschwand jedoch in vielen Fällen die Notwendigkeit eines Busses und einer REST.  Aber es sah aus wie ein Rollback, wichtige Fragen hingen wieder: <br><br><ul><li>  Wie man orchestriert, wenn kein Reifen vorhanden ist.  Wo wird das passieren? <br></li><li>  Was tun mit Daten- und Protokollformaten? <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/a13/7dd/6a2/a137dd6a22ca7d26a1da27105419a130.png"><br><br>  Darüber hinaus ist die Leistung in einem zentralisierten System viel besser als in Distributed.  Sie können sich auf die Geschwindigkeit, das Volumen und die Verfügbarkeit verlassen.  All dies, weil es sich um ein System handelt, das von einem bestimmten Team gewartet wird. <br><br>  <i>Wie anfällig ist dieses System?</i>  <i>Was passiert, wenn ein Computer gehackt wird?</i> <br><br>  Es gibt immer Redundanz und Zentralisierung.  Falls einer außer Betrieb ist, funktioniert das System. <br><br>  <i>Wer ist für den Reifen verantwortlich?</i>  <i>Ihr Team oder Entwickler von Drittanbietern?</i> <br><br>  Im internen Team bieten wir operative Dienstleistungen, Zuverlässigkeit und Überwachung.  Wenn etwas nicht funktioniert, wissen wir, wo wir suchen müssen.  Es gibt eine Frage: "Ist es in solchen Fällen möglich, Anbietern und Teams von Drittanbietern zu vertrauen?"  Hier ist eine gute Überwachung erforderlich.  Denn die Qualität liegt in jedem Fall in der Verantwortung des internen Teams. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e39/45e/f6b/e3945ef6b554670e5c939d47c41e8acb.png"><br><br>  <i>Wenn der Bus wächst, werden die Dienste nicht verbunden.</i>  <i>Ändern Sie Dienste mit Releases oder was?</i>  <i>Was tun mit Agile?</i> <br><br>  Hier kommen wir zur Grundfrage.  <b>Integration ist keine Anwendung.</b>  Früher war es ein Teil, jetzt ist es nicht mehr.  Integrationsentwicklung ist keine Anwendungsentwicklung.  Es ist die Entwicklung von Integrationsinteraktionen oder die Entwicklung im Rahmen eines separaten Projekts, jedoch nicht speziell einer Anwendung. <br><br>  Ihre agilen Bedenken sind verständlich.  Dieses Modell wird verwendet, wenn wir ein separates System herstellen, das irgendwo an der Seite mit dem Bus verbunden ist.  Als ich bei einer anderen Bank arbeitete, gab es ein solches System: einen Monat des Testens, einen Monat der Entwicklung.  Dadurch werden alle Integrationsinteraktionen schnell auf dem Bus implementiert.  Noch schneller als von Analysten beschrieben, da Entwicklungssysteme sehr ausgefeilt und einfach sind.  Und Agilität wird bei der Entwicklung des endgültigen Systems verwendet. <br><br>  <i>Wie lange sucht das Team nach dem Service, den es benötigt, und wo sucht es danach?</i> <br><br>  Jeder hat den Traum, dass es eine Weltkarte gibt, auf der alle wichtigen Geschäftsbereiche über die Kontinente verteilt sind.  Und es ist sogar teilweise implementiert.  Der Analytiker geht dorthin und beginnt intensiv auf den Kontinenten zu wandern. Nach einiger Zeit findet er die Interaktion, die benötigt wird.  Wenn alles perfekt passt, benutzt er es einfach.  Wenn nicht, beschreibt in TK, welche Ergänzungen er benötigt.  Es wäre großartig, eine solche Option zu haben, aber bisher sind weniger bequeme Systeme relevant, die viel mehr Zeit und Mühe erfordern, um mit ihnen zu arbeiten. <br><br><img src="https://habrastorage.org/webt/4u/hc/h_/4uhch_i9j8zifq0vkwdysfvk3ms.jpeg"><br><br><h2>  Oder ist Service Mesh vielleicht cooler? </h2><br>  Zunächst hat sich in 3-4 Jahren viel verändert.  Aber was genau ist passiert?  Die gleiche Banalität, die alle Redner regelmäßig wiederholen und an der wir auch nicht vorbeikommen können, ist eingetreten: Die Welt verändert sich. <br><br>  Die Anforderungen an die Geschwindigkeit des Wandels werden immer größer.  Gleichzeitig verschwinden Zuverlässigkeitsanforderungen, Sicherheitsanforderungen nirgendwo und die Lastanforderungen steigen nur.  Wie wir sehen können, versuchen alle, Marktanteile zu gewinnen, was zwangsläufig zu einer Erhöhung der Belastung der Unternehmenssysteme und folglich der Integration führt. <br><br>  In der Tat half der ESB zu einer Zeit sehr cool als Vorlage für die technische Implementierung in Bezug auf die Dezentralisierung von Anwendungen, die Zuordnung von Logik zwischen verschiedenen Anwendungen, ein einheitliches Gerät für die Integration von Anwendungen untereinander.  Sagen wir einfach bedingt einheitlich. <br><br>  Stellen wir uns nun vor, dass es nicht 20 Systeme im Unternehmen gibt - schließlich wird versucht, zu der Architektur überzugehen, die als das Schlagwort „Microservices“ bezeichnet wird.  Und was ist ein Microservice?  Es gibt viele Definitionen, eine davon wird regelmäßig von Martin Fowler verwendet: Es ist ein Service, den ein Mid-Developer in einem Sprint entwickeln kann.  Stellen Sie sich vor, wie viele solcher Dienste in einem großen Unternehmen angeboten werden.  Zum Beispiel schätzt Netflix die Anzahl seiner Microservices auf 800-900.  In einem Unternehmen, das ein externes Ökosystem für Partner aufbauen möchte, können diese Dienstleistungen im Prinzip mehr als tausend betragen.  Aber jeder dieser Dienste hält langfristig einer enormen Belastung stand und sollte sich unabhängig entwickeln. <br><br>  Was ist mit dem Bus?  Wenn der Bus dieser gemeinsame Komplex zwischen ihnen bleibt, stellt sich heraus, dass er zu einem Engpass wird und die Entwicklung von Diensten verzögert.  Nicht nur, weil sie auf genau diese Dienste wartet, sondern weil sie sich als eigenständiges Team von Menschen entwickelt, die dieselben Technologien und Fähigkeiten besitzen. <br><br>  Und jetzt stellen wir uns vor: Mehrere Dutzend Produktteams entwickeln und arbeiten mit uns zusammen.  Und jeder von ihnen sieht mehrere Dienste.  Und der Bus wird von zwei Teams gefahren.  Natürlich werden diese Teams mit hoher Wahrscheinlichkeit nicht in der Lage sein, diese Integration mit dem erforderlichen Maß an Geschwindigkeit und Qualität zu entwickeln. <br><br>  Es stellt sich die Frage: "Wie können wir die gleiche schnelle Geschwindigkeit sicherstellen, ohne die Zugänglichkeit, Sicherheit usw. zu verlieren?"  Die Antwort ist sehr einfach: "Lassen Sie diese Dienste ohne expliziten Vermittler direkt interagieren." <br><br>  Dann wird die nächste wichtige Frage aufgeworfen: "Wie lernen Dienste voneinander?"  Und hier ist die Antwort auch sehr einfach: Sie können ein System entwickeln, mit dem die Dienste selbst über sich selbst berichten würden.  Das heißt, in dem Moment, in dem der Dienst entwickelt wird, veröffentlicht er unabhängig Informationen über sich selbst in einer bestimmten Registrierung.  Und basierend auf diesen Informationen können alle Dienste mit ihm interagieren. <br><br>  So entstand das Konzept eines „Netzes von Dienstleistungen“ - wie es ursprünglich als <i>„Dienstleistungsnetz“ bezeichnet wurde</i> .  Als eine Art Zwischenstufe der Integration zwischen Diensten, die eine solche Integration wie eine Cloud-Lösung bietet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d97/6a1/248/d976a1248fe855f8f531ab455ab91ec2.png"><br><br>  Große Unternehmen versuchen nun, die Probleme der Entwicklungsgeschwindigkeit parallel zu lösen - um dafür eine bestimmte allgemeine Lösung zu finden, die verteilt und oft eingebettet ist.  In diesem Fall verwendet jeder Dienst einen bestimmten Satz vorgefertigter Bibliotheken, um Informationen bei der Bereitstellung automatisch in einer Registrierung zu veröffentlichen. <br><br>  Oft stellt sich immer noch die Frage: "Aber was tun mit dem kanonischen Datenmodell, dessen Quelle in der Regel der ESB war, in dessen Implementierung und Wartung so viel Geld und Aufwand investiert wurde?"  Immerhin war sie ein Standardmodell.  Hier eine Gegenfrage: „Und welche Vorteile hat es uns gebracht?  Und war es nicht genau der Punkt, der unsere Entwicklung verzögerte? "  Tatsächlich erweitert sich das Modell bei der Entwicklung von Diensten immer mehr.  Es wird immer neue Herausforderungen geben. <br><br>  Um es auf den Punkt zu bringen: Die <i>Kosten für das Hinzufügen neuer Geräte, das Organisieren von Interaktionen usw. sind in der Regel erheblich geringer als die Kosten für die Aktualisierung des kanonischen ESB-Datenmodells</i> . <br><br>  Auch die dezentrale Integration gewährleistet weitgehend die gleiche hohe Verfügbarkeit.  Jeder der Mikrodienste ist unabhängig, auch von anderen Mikrodiensten, hängt jedoch entscheidend von der externen Belastung ab, die auf ihn ausgeübt wird.  Parallel zur Integration bereitgestellt kann auch technologisch unabhängig implementiert werden. <br><br>  Manchmal ist die Verwendung eines ziemlich schweren ESB unter modernen Bedingungen nicht sinnvoll oder verringert die Qualität der Lösung.  Die Anwendung von Serverless-Technologien, die Infrastruktur, die sich nicht an die kurzlebigen Anforderungen der zu erstellenden Lösungen anpasst, steht bereits kurz bevor, wird jedoch in der richtigen Form für einen bestimmten Dienst bereitgestellt.  Jetzt sieht es nach etwas sehr Fernem aus, aber die Welt verändert sich, wie bereits gesagt, ziemlich schnell. <br><br>  Viele Softwareanbieter gehen diesen Weg in Bezug auf ihre Integrationslösungen.  Es gibt bereits Frameworks, die im Wesentlichen das Konzept des Service Mesh implementieren (derselbe Linkerd oder Istio).  Dasselbe passiert bereits beim Hosten einer großen Anzahl von Netzwerk-Proxys und Service-Mesh-Integrationsdiensten.  Viel gemeinsam mit Service-Mesh- und Container-Orchestrierungssystemen wie Kubernetes. <br><br>  <i>Ist es möglich, Distributed basierend auf ESB zu erstellen?</i>  <i>Ist es möglich, aus einem System ein anderes zu machen?</i>  <i>Und wenn ja, worum geht es bei diesen Streitigkeiten?</i> <br><br>  Hier kommen Hegel und seine „Verleugnung der Verneinung“ in den Sinn.  Wenn sich eine Idee auf einer höheren historischen Ebene wiederholt.  Von einem zum anderen zu kommen ist meiner Meinung nach möglich.  Eine andere Frage ist, wie wir vorgehen werden.  Tatsächlich ähnelt das Konzept der Mikrodienste und ihrer Implementierung in vielerlei Hinsicht dem Konzept der Integration, das ursprünglich war: die Interaktion von Mikrodiensten untereinander, jeweils mit jedem. <br><br>  Ist es möglich, nach den Grundsätzen des Netzes zur Integration zu gelangen, wenn wir vom ESB ausgehen?  Tatsächlich folgt Red Hat, jetzt IBM, bereits demselben Prinzip.  Schauen Sie sich nur ihr Verständnis des Konzepts des Integrationsstapels und der flexiblen Integration (Agile Integration) an.  Sie bieten eine große Anzahl von Integrations-Proxys, die nicht mit Logik überladen sind.  Das Wichtigste ist die Transparenz und das Wissen über die Dienstleistungen, das alle neuen Teilnehmer an der Interaktion benötigen. <br><br>  <i>Versteht Ihre Bank, dass der ESB sich selbst überlebt hat, wenn er weiterhin erhebliche Budgets in ihn investiert?</i> <br><br>  Budgetfragen sind ehrlich gesagt ein Geschäftsgeheimnis.  Für die verwendeten Ansätze entwickeln wir derzeit eine Parallele von zwei Ansätzen.  In der Promsvyazbank gibt es wirklich viele Systeme, die an den Bus gebunden sind.  Sie sind weiterhin über den Bus integriert.  Wir für unseren Teil verstehen jedoch, dass ESB ein vielversprechender Ansatz ist und es effizienter ist, in verteilte Integrationen zu investieren, ohne einen Bus zu verwenden.  Dies ist jetzt unsere strategische Priorität. <br><br>  <i>Wo ist der Ort für die Geschäftsüberwachung in einem verteilten System?</i> <br><br>  Bei der dezentralen Integration schließt das Vorhandensein einer großen Anzahl von Diensten das Vorhandensein einer Geschäftsüberwachung nicht aus.  All dies kann auf der Ebene der jeweiligen Rahmenbedingungen festgelegt werden.  Dementsprechend kann diese Überwachung Informationen in einem bestimmten Speicher zusammenführen, der für Daten verantwortlich ist.  Diese Daten werden dort analysiert und ein zusammenfassender Bericht erstellt. <br><br>  <i>Wie sehen Sie den Plan für den Übergang zur dezentralen Integration?</i> <br><br>  Der Übergang zur dezentralen Integration ist im Zusammenhang mit dem Übergang zu neuen Architekturprinzipien sinnvoll zu betrachten.  Dies ist ein komplexer Übergang, der nicht sofort stattfinden kann.  Ja, Sie können versuchen, es im Format eines "Urknalls" zu halten, aber diese Szenariooption birgt ernsthafte Risiken.  Logischer ist die Möglichkeit, eine neue Schaltung parallel zur vorhandenen zu erstellen und beim Erstellen (im iterativen Modus) neue Produkte einzuführen.  Während sich die neue Architekturkontur entwickelt, können die Produkte aus der aktuellen IT-Landschaft, die den Test der Zeit bestanden haben, dorthin übertragen werden.  Ein solcher Weg ist ziemlich lang - er wird auf 4 bis 5 Jahre geschätzt -, aber aufgrund der Iteration ist es möglich, Ergebnisse in der Art des industriellen Betriebs nacheinander zu erhalten. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9eb/4eb/a78/9eb4eba78ed341fc7e5d8fbc3523513b.png"><br><br><h2>  Wer hat gewonnen? </h2><br>  Nach drei interaktiven Runden mit Präsentationen, Fragen und Antworten versteckte sich das Publikum in Erwartung der Bekanntgabe des Endergebnisses.  Sie erkennen wahrscheinlich, dass der Gewinner der PSB-Schlacht Andrey Trushkin und das verteilte System war. <br><br>  Abschließend bieten wir ein Video an, das dazu beiträgt, die Atmosphäre unseres Kampfes zu spüren: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/fEvsDpOqhbE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de432428/">https://habr.com/ru/post/de432428/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de432418/index.html">Analysieren von Lambda-Ausdrücken in Java</a></li>
<li><a href="../de432420/index.html">Einführung in Git Merge und Git Rebase: Warum und wann sie verwendet werden sollen</a></li>
<li><a href="../de432422/index.html">Offline-Modus unter iOS und Funktionen seiner Implementierung unter Realm</a></li>
<li><a href="../de432424/index.html">HyperFlex Certified Infrastructure für SAP HANA</a></li>
<li><a href="../de432426/index.html">Debuggen eines Fehlers, der nicht abgespielt wird</a></li>
<li><a href="../de432432/index.html">Die neue Technologie der Océ ColorWave-Serie verbessert den Druck</a></li>
<li><a href="../de432434/index.html">Rover-Entwickler der nächsten Generation verwenden KI, um die Rover-Effizienz zu steigern</a></li>
<li><a href="../de432436/index.html">Achten Sie auf Smart Touch ID-Betrug, der in den App Store eingedrungen ist</a></li>
<li><a href="../de432440/index.html">Eine Vielzahl von Browsern beginnt bei uns</a></li>
<li><a href="../de432442/index.html">Merkmale der Arbeit in einem internationalen Team. Indien</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>