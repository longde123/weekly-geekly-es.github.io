<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🎤 👨🏻‍💻 👩🏾‍🎨 Memperkenalkan Linux Virtual Interfaces: Tunnels 🛄 🎖️ 🕰️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Linux mendukung banyak jenis terowongan. Ini membingungkan pemula yang merasa sulit untuk memahami perbedaan dalam teknologi dan memahami terowongan m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Memperkenalkan Linux Virtual Interfaces: Tunnels</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/457386/"> Linux mendukung banyak jenis terowongan.  Ini membingungkan pemula yang merasa sulit untuk memahami perbedaan dalam teknologi dan memahami terowongan mana yang lebih baik untuk digunakan dalam situasi tertentu.  Materi, terjemahan yang kami terbitkan hari ini, akan memberikan gambaran singkat tentang antarmuka tunneling yang umum digunakan dari kernel Linux.  Kami tidak akan mempelajari secara mendalam topik ini, hanya mempertimbangkan fitur umum terowongan dan opsi untuk penggunaannya di Linux. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/-0/wg/hq/-0wghqvj6hymntfthlttl1xu6tm.jpeg"></a> <br><br>  Penulis materi ini percaya bahwa apa yang akan dibahas di sini mungkin menarik bagi semua orang yang ada hubungannya dengan mengelola jaringan komputer.  Daftar antarmuka terowongan, serta informasi referensi pada konfigurasi tertentu, dapat diperoleh dengan menggunakan perintah <code>ip link help</code> iproute2 <code>ip link help</code> . <br><br>  Antarmuka yang umum digunakan berikut akan dibahas di sini: IPIP, SIT, ip6tnl, VTI dan VTI6, GRE dan GRETAP, GRE6 dan GRE6TAP, FOU, GUE, GENEVE, ERSPAN dan IP6ERSPAN. <br><br>  Setelah membaca artikel ini, Anda akan belajar tentang fitur-fitur dari antarmuka ini dan mencari tahu perbedaan di antara mereka.  Anda akan belajar cara membuatnya dan belajar tentang situasi di mana mereka paling baik digunakan. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">IPIP</font> </h2><br>  Terowongan IPIP, seperti namanya, adalah terowongan yang beroperasi dalam mode IP over IP ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RFC 2003</a> ).  Header paket tunnel IPIP adalah seperti yang ditunjukkan di bawah ini. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/369/49b/92c/36949b92c3d045185f09095a7a23dbfd.png"></div><br>  <i><font color="#999999">Header paket tunnel IPIP</font></i> <br><br>  Terowongan semacam itu biasanya digunakan untuk menghubungkan dua subnet IPv4 internal melalui jaringan IPv4 publik (Internet).  Penggunaan IPIP menciptakan beban tambahan minimal pada sistem, tetapi hanya transmisi data satu arah (unicast) yang dapat dilakukan pada terowongan semacam itu.  Artinya, setelah membangun terowongan seperti itu, tidak akan mungkin menggunakannya untuk transmisi data multicast. <br><br>  Terowongan IPIP mendukung IP over IP dan MPLS over mode IP. <br><br>  Harap dicatat bahwa ketika modul ipip dimuat, atau ketika perangkat IPIP pertama kali dibuat, kernel Linux akan membuat perangkat <code>tunl0</code> default di setiap namespace dengan atribut <code>local=any</code> dan <code>remote=any</code> .  Saat menerima paket IPIP, kernel, dalam kasus tertentu, akan mengarahkan mereka ke <code>tunl0</code> sebagai perangkat default.  Ini terjadi ketika kernel tidak dapat menemukan perangkat lain yang atribut <code>local/remote</code> lebih cocok dengan sumber dan alamat tujuan paket. <br><br>  Berikut cara membuat terowongan IPIP: <br><br>  Di server A: <br><br><pre> <code class="plaintext hljs"># ip link add name ipip0 type ipip local LOCAL_IPv4_ADDR remote REMOTE_IPv4_ADDR # ip link set ipip0 up # ip addr add INTERNAL_IPV4_ADDR/24 dev ipip0 Add a remote internal subnet route if the endpoints don't belong to the same subnet # ip route add REMOTE_INTERNAL_SUBNET/24 dev ipip0</code> </pre> <br>  Di server B: <br><br><pre> <code class="plaintext hljs"># ip link add name ipip0 type ipip local LOCAL_IPv4_ADDR remote REMOTE_IPv4_ADDR # ip link set ipip0 up # ip addr add INTERNAL_IPV4_ADDR/24 dev ipip0 # ip route add REMOTE_INTERNAL_SUBNET/24 dev ipip0</code> </pre> <br>  Harap dicatat bahwa ketika menggunakan konfigurasi ini, itu harus sejalan dengan data nyata.  Secara khusus, <code>LOCAL_IPv4_ADDR</code> , <code>REMOTE_IPv4_ADDR</code> , <code>INTERNAL_IPV4_ADDR</code> dan <code>REMOTE_INTERNAL_SUBNET</code> perlu diganti dengan alamat yang digunakan di lingkungan Anda.  Hal yang sama berlaku untuk contoh konfigurasi lainnya, yang akan kita bahas nanti. <br><br><h2>  <font color="#3AC1EF">Duduk</font> </h2><br>  SIT (Simple Internet Transition) adalah teknologi tunneling yang tujuan utamanya adalah untuk menghubungkan jaringan IPv6 yang terisolasi melalui Internet menggunakan protokol IPv4. <br><br>  Awalnya, teknologi SIT hanya bisa bekerja dalam mode tunneling "IPv6 over IPv4".  Namun, selama bertahun-tahun pembangunan, telah mendapatkan dukungan dari beberapa rezim lagi.  Secara khusus, itu adalah <code>ipip</code> (hal yang sama terjadi dengan terowongan IPIP), <code>ip6ip</code> , <code>mplsip</code> dan lainnya. <br><br>  Mode apa pun digunakan untuk bekerja dengan lalu lintas IP dan IPv6, yang mungkin berguna dalam beberapa situasi.  Terowongan SIT juga mendukung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ISATAP</a> .  Berikut adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">contoh</a> penggunaan teknologi ini. <br><br>  Header dari paket SIT adalah seperti yang ditunjukkan di bawah ini. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/193/172/49e/19317249ec76200873dabf9aac6bc755.png"></div><br>  <i><font color="#999999">Header paket tunnel SIT</font></i> <br><br>  Ketika modul <code>sit</code> dimuat, kernel Linux menciptakan <code>sit0</code> default. <br><br>  Berikut cara membuat terowongan SIT (langkah-langkah ini harus dilakukan pada server A dan B): <br><br><pre> <code class="plaintext hljs"># ip link add name sit1 type sit local LOCAL_IPv4_ADDR remote REMOTE_IPv4_ADDR mode any # ip link set sit1 up # ip addr add INTERNAL_IPV4_ADDR/24 dev sit1</code> </pre> <br><h2>  <font color="#3AC1EF">Ip6tnl</font> </h2><br>  Antarmuka ip6tnl bekerja dalam mode IPv4 / IPv6 over IPv6.  Ini mirip dengan versi IPv6 dari terowongan SIT.  Inilah tampilan header paket ip6tnl. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e7/b3b/1b6/9e7b3b1b6862d0f3100c9c64db2171b7.png"></div><br>  <i><font color="#999999">Header paket tunnel IP6tnl</font></i> <br><br>  Terowongan Ip6tnl mendukung <code>ip6ip6</code> , <code>ipip6</code> dan mode <code>any</code> .  Mode <code>ipip6</code> diwakili oleh skema IPv4 over IPv6, mode <code>ip6ip6</code> adalah IPv6 over IPv6.  Mode apa pun mendukung kedua skema. <br><br>  Ketika modul <code>ip6tnl</code> , kernel Linux menciptakan perangkat default yang disebut <code>ip6tnl0</code> . <br><br>  Berikut cara membuat terowongan ip6tnl: <br><br><pre> <code class="plaintext hljs"># ip link add name ipip6 type ip6tnl local LOCAL_IPv6_ADDR remote REMOTE_IPv6_ADDR mode any</code> </pre> <br><h2>  <font color="#3AC1EF">VTI dan VTI6</font> </h2><br>  Antarmuka Linux VTI (Virtual Tunnel Interface) mirip dengan antarmuka Cisco VTI dan implementasi Juniper dari secure tunnel (st.xx). <br><br>  Driver tunneling ini mengimplementasikan enkapsulasi IP, yang dapat digunakan dengan xfrm untuk membuat terowongan yang aman dan kemudian menggunakan terowongan rute level kernel melalui terowongan tersebut. <br><br>  Secara umum, terowongan VTI berfungsi seperti terowongan IPIP atau SIT.  Pengecualian adalah bahwa mereka menggunakan enkapsulasi / dekapsulasi fwmark dan IPsec. <br><br>  VTI6 adalah setara IPv6 dari VTI. <br><br>  Berikut cara membuat terowongan VTI: <br><br><pre> <code class="plaintext hljs"># ip link add name vti1 type vti key VTI_KEY local LOCAL_IPv4_ADDR remote REMOTE_IPv4_ADDR # ip link set vti1 up # ip addr add LOCAL_VIRTUAL_ADDR/24 dev vti1 # ip xfrm state add src LOCAL_IPv4_ADDR dst REMOTE_IPv4_ADDR spi SPI PROTO ALGR mode tunnel # ip xfrm state add src REMOTE_IPv4_ADDR dst LOCAL_IPv4_ADDR spi SPI PROTO ALGR mode tunnel # ip xfrm policy add dir in tmpl src REMOTE_IPv4_ADDR dst LOCAL_IPv4_ADDR PROTO mode tunnel mark VTI_KEY # ip xfrm policy add dir out tmpl src LOCAL_IPv4_ADDR dst REMOTE_IPv4_ADDR PROTO mode tunnel mark VTI_KEY</code> </pre> <br>  Selain itu, IPsec dapat dikonfigurasi menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">libreswan</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">strongSwan</a> . <br><br><h2>  <font color="#3AC1EF">GRE dan GRETAP</font> </h2><br>  Teknologi GRE (Generic Routing Encapsulation) dijelaskan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RFC 2784</a> .  Dalam tunneling GRE, header GRE tambahan ditambahkan antara header paket IP internal dan eksternal. <br><br>  Secara teoritis, GRE dapat merangkum paket dari setiap protokol Layer 3 dengan tipe Ethernet yang valid.  Ini membedakan teknologi GRE dari teknologi IPIP, yang hanya mendukung enkapsulasi paket IP.  Inilah tampilan header paket saat menggunakan teknologi GRE. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22d/b74/b09/22db74b090586084bfe845c7df963139.png"></div><br>  <i><font color="#999999">Header paket tunnel GRE</font></i> <br><br>  Harap dicatat bahwa terowongan GRE memungkinkan dukungan multicast dan IPv6. <br><br>  Saat memuat modul <code>gre</code> , kernel Linux membuat <code>gre0</code> default <code>gre0</code> . <br><br>  Berikut cara membuat terowongan GRE: <br><br><pre> <code class="plaintext hljs"># ip link add name gre1 type gre local LOCAL_IPv4_ADDR remote REMOTE_IPv4_ADDR [seq] key KEY</code> </pre> <br>  Sementara terowongan GRE beroperasi di OSI layer 3, terowongan GRETAP beroperasi di OSI layer 2.  Ini berarti bahwa salah satu header internal dari paket masing-masing adalah header Ethernet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1da/ec8/099/1daec8099c6cede117df740da4791144.png"></div><br>  <i><font color="#999999">Header Paket GRETAP Tunnel</font></i> <br><br>  Berikut cara membuat terowongan GRETAP: <br><br><pre> <code class="plaintext hljs"># ip link add name gretap1 type gretap local LOCAL_IPv4_ADDR remote REMOTE_IPv4_ADDR</code> </pre> <br><h2>  <font color="#3AC1EF">GRE6 dan GRE6TAP</font> </h2><br>  GRE6 adalah setara IPv6 dari GRE.  Terowongan GRE6 memungkinkan Anda merangkum semua protokol layer 3 di IPv6.  Ini adalah tampilan paket GRE6. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d8c/69e/45a/d8c69e45aab1f77ea5948cf2a6e81c35.png"></div><br>  <i><font color="#999999">Header Paket Tunnel GRE6</font></i> <br><br>  Dalam terowongan GRE6TAP, seperti pada terowongan GRETAP, ada header Ethernet di antara header paket internal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/72c/290/7c7/72c2907c7c649e6390d1e51156bcac57.png"></div><br>  <i><font color="#999999">Header Paket Tunnel GRE6TAP</font></i> <br><br>  Berikut cara membuat terowongan GRE: <br><br><pre> <code class="plaintext hljs"># ip link add name gre1 type gre6 local LOCAL_IPv6_ADDR remote REMOTE_IPv6_ADDR # ip link add name gretap1 type gretap6 local LOCAL_IPv6_ADDR remote REMOTE_IPv6_ADDR</code> </pre> <br><h2>  <font color="#3AC1EF">Fou</font> </h2><br>  Tunneling dapat dilakukan di berbagai tingkat tumpukan jaringan.  Terowongan IPIP, SIT, dan GRE ada di lapisan IP.  Dan terowongan FOU (mereka diatur sesuai dengan skema "foo over UDP") beroperasi di tingkat UDP. <br><br>  Ada beberapa keuntungan menggunakan tunneling UDP dibandingkan tunneling IP.  Faktanya adalah protokol UDP bekerja dengan infrastruktur perangkat keras yang ada. <br><br>  Sebagai contoh, ini adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RSS</a> di kartu jaringan, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ECMP</a> di switch, ini adalah teknologi untuk menghitung checksum tanpa partisipasi prosesor sentral.  Menerapkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">patch</a> FOU yang sesuai untuk pengembang menunjukkan peningkatan signifikan dalam kinerja untuk SIT dan IPIP. <br><br>  Saat ini, terowongan FOU mendukung enkapsulasi protokol berdasarkan IPIP, SIT, dan GRE.  Beginilah tampilan tajuk paket FOU. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90d/a66/cb9/90da66cb92c6e3083f29ed97b952e0b6.png"></div><br>  <i><font color="#999999">Header Paket FOU Tunnel</font></i> <br><br>  Berikut cara membuat terowongan FOU: <br><br><pre> <code class="plaintext hljs"># ip fou add port 5555 ipproto 4 # ip link add name tun1 type ipip remote 192.168.1.1 local 192.168.1.2 ttl 225 encap fou encap-sport auto encap-dport 5555</code> </pre> <br>  Perintah pertama mengonfigurasi port FOU penerima untuk IPIP yang terikat ke 5555. Untuk menggunakan GRE, Anda harus menggunakan <code>ipproto 47</code> .  Perintah kedua mengkonfigurasi antarmuka IPIP virtual baru ( <code>tun1</code> ), yang dirancang untuk enkapsulasi FOU, yang port targetnya adalah 5555. <br><br>  Harap dicatat bahwa terowongan FOU tidak didukung di Red Hat Enterprise Linux. <br><br><h2>  <font color="#3AC1EF">Gue</font> </h2><br>  Tipe lain dari tunneling UDP diperkenalkan oleh teknologi GUE ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Generic UDP Encapsulation</a> ).  Perbedaan antara FOU dan GUE adalah bahwa GUE memiliki header sendiri, yang berisi informasi protokol dan data lainnya. <br><br>  Terowongan GUE saat ini mendukung enkapsulasi internal IPIP, SIT, dan GRE.  Inilah tampilan header paket GUE. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/412/d7f/d38/412d7fd38350aa55b24cb0b93865d93c.png"></div><br>  <i><font color="#999999">Header Paket GUE Tunnel</font></i> <br><br>  Berikut cara membuat terowongan GUE: <br><br><pre> <code class="plaintext hljs"># ip fou add port 5555 gue # ip link add name tun1 type ipip remote 192.168.1.1 local 192.168.1.2 ttl 225 encap gue encap-sport auto encap-dport 5555</code> </pre> <br>  Berkat perintah ini, port GUE penerima untuk IPIP terikat ke nomor 5555 dan terowongan IPIP yang dikonfigurasi untuk enkapsulasi GUE akan dibuat. <br><br>  Terowongan GUE tidak didukung di Red Hat Enterprise Linux. <br><br><h2>  <font color="#3AC1EF">GENEVE</font> </h2><br>  Terowongan GENEVE (Generic Network Virtualization Encapsulation) mendukung semua fitur XLAN, NVGRE, dan STT.  Teknologi GENEVE dirancang untuk menghindari keterbatasan yang diidentifikasi dari ketiga teknologi ini.  Banyak yang percaya bahwa teknologi ini mampu, dalam jangka panjang, sepenuhnya menggantikan ketiga format yang lebih tua ini.  Inilah yang terlihat seperti header paket tunnel GENEVE. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/767/f30/98e/767f3098ee539caf3f03778143fa6106.png"></div><br>  <i><font color="#999999">Header Paket Tunnel GENEVE</font></i> <br><br>  Header ini mirip dengan header paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VXLAN</a> .  Perbedaan utama antara keduanya adalah bahwa header GENEVE lebih fleksibel.  Itu membuatnya sangat mudah untuk mengimplementasikan fitur-fitur baru dengan memperluas header menggunakan bidang Type-Length-Value (TLV). <br><br>  Detail tentang GENEVE dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> dan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  GENEVE digunakan dalam solusi SDN <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Open Virtual Network</a> (OVN) sebagai alat enkapsulasi standar.  Berikut cara membuat terowongan GENEVE: <br><br><pre> <code class="plaintext hljs"># ip link add name geneve0 type geneve id VNI remote REMOTE_IPv4_ADDR</code> </pre> <br><h2>  <font color="#3AC1EF">ERSPAN dan IP6ERSPAN</font> </h2><br>  Teknologi Encapsulated Remote Switched Port Analyzer (ERSPAN) menggunakan enkapsulasi GRE untuk memperluas kemampuan dasar mirroring port dari layer 2 ke layer 3.  Ini memungkinkan Anda untuk meneruskan lalu lintas yang dicerminkan melalui jaringan IP yang diarahkan.  Inilah tampilan header paket ERSPAN. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dee/15d/871/dee15d871a6ee9d433f154b9a6a6e048.png"></div><br>  <i><font color="#999999">Header Paket ERSPAN Tunnel</font></i> <br><br>  Terowongan ERSPAN memungkinkan host Linux untuk bertindak sebagai sumber lalu lintas ERSPAN dan mengirim lalu lintas ERSPAN yang dicerminkan ke host jarak jauh atau ke tujuan ERSPAN yang menerima dan memproses paket ERSPAN yang dihasilkan oleh switch Cisco atau perangkat lain yang mendukung ERSPAN.  Sistem serupa dapat digunakan untuk menganalisis dan mendiagnosis jaringan, untuk mendeteksi lalu lintas berbahaya. <br><br>  Linux saat ini mendukung sebagian besar fitur dari dua versi ERSPAN - v1 (tipe II) dan v2 (tipe III). <br><br>  Berikut cara membuat terowongan ERSPAN: <br><br><pre> <code class="plaintext hljs"># ip link add dev erspan1 type erspan local LOCAL_IPv4_ADDR remote REMOTE_IPv4_ADDR seq key KEY erspan_ver 1 erspan IDX</code> </pre> <br>  Anda juga dapat melakukan ini: <br><br><pre> <code class="plaintext hljs"># ip link add dev erspan1 type erspan local LOCAL_IPv4_ADDR remote REMOTE_IPv4_ADDR seq key KEY erspan_ver 2 erspan_dir DIRECTION erspan_hwid HWID</code> </pre> <br>  Tambahkan filter tc untuk memantau lalu lintas: <br><br><pre> <code class="plaintext hljs"># tc qdisc add dev MONITOR_DEV handle ffff: ingress # tc filter add dev MONITOR_DEV parent ffff: matchall skip_hw action mirred egress mirror dev erspan1</code> </pre> <br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Kami telah membahas beberapa teknologi tunneling di Linux di sini.  Ini adalah tabel ringkasan untuk mereka. <br><br><div class="scrollable-table"><table><tbody><tr><td>  Tunnel / Jenis Koneksi <br></td><td>  Header luar <br></td><td>  Header yang dienkapsulasi <br></td><td>  Header dalam <br></td></tr><tr><td>  ipip <br></td><td>  IPv4 <br></td><td>  Tidak ada <br></td><td>  IPv4 <br></td></tr><tr><td>  duduk <br></td><td>  IPv4 <br></td><td>  Tidak ada <br></td><td>  IPv4 / IPv6 <br></td></tr><tr><td>  ip6tnl <br></td><td>  IPv4 <br></td><td>  Tidak ada <br></td><td>  IPv4 / IPv6 <br></td></tr><tr><td>  vti <br></td><td>  IPv4 <br></td><td>  IPsec <br></td><td>  IPv4 <br></td></tr><tr><td>  vti6 <br></td><td>  IPv6 <br></td><td>  IPsec <br></td><td>  IPv6 <br></td></tr><tr><td>  gre <br></td><td>  IPv4 <br></td><td>  GRE <br></td><td>  IPv4 / IPv6 <br></td></tr><tr><td>  Gretap <br></td><td>  IPv4 <br></td><td>  GRE <br></td><td>  Eter + IPv4 / IPv6 <br></td></tr><tr><td>  gre6 <br></td><td>  IPv6 <br></td><td>  GRE <br></td><td>  IPv4 / IPv6 <br></td></tr><tr><td>  gre6tap <br></td><td>  IPv6 <br></td><td>  GRE <br></td><td>  Eter + IPv4 / IPv6 <br></td></tr><tr><td>  kamu <br></td><td>  IPv4 / IPv6 <br></td><td>  UDP <br></td><td>  IPv4 / IPv6 / GRE <br></td></tr><tr><td>  gue <br></td><td>  IPv4 / IPv6 <br></td><td>  UDP + GUE <br></td><td>  IPv4 / IPv6 / GRE <br></td></tr><tr><td>  gen <br></td><td>  IPv4 / IPv6 <br></td><td>  UDP + Geneve <br></td><td>  Eter + IPv4 / IPv6 <br></td></tr><tr><td>  erspan <br></td><td>  IPv4 <br></td><td>  GRE + ERSPAN <br></td><td>  IPv4 / IPv6 <br></td></tr><tr><td>  ip6erspan <br></td><td>  IPv6 <br></td><td>  GRE + ERSPAN <br></td><td>  IPv4 / IPv6 <br></td></tr></tbody></table></div><br>  Harap dicatat bahwa semua terowongan, contoh-contoh pembuatan yang ditunjukkan di sini, hanya ada sampai server di-boot ulang.  Jika Anda ingin membuat terowongan yang pulih setelah reboot, pertimbangkan untuk menggunakan daemon untuk mengkonfigurasi jaringan, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NetworkManager</a> , atau gunakan mekanisme yang sesuai dari distribusi Linux yang Anda gunakan. <br><br>  <b>Pembaca yang budiman!</b>  Terowongan Linux apa yang Anda gunakan? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457386/">https://habr.com/ru/post/id457386/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457366/index.html">Seorang fanatik, sepotong besi atau penonton - gamer seperti apa Anda?</a></li>
<li><a href="../id457374/index.html">Kurangi waktu pembangunan proyek Android Anda</a></li>
<li><a href="../id457378/index.html">Bagaimana id Software menciptakan Wolfenstein 3D berdasarkan teknologi dari Commander Keen</a></li>
<li><a href="../id457380/index.html">OpenGL Ultramodern. Bagian 2</a></li>
<li><a href="../id457382/index.html">7 kebiasaan programmer berkinerja tinggi</a></li>
<li><a href="../id457390/index.html">Madagaskar - pulau kontras</a></li>
<li><a href="../id457392/index.html">Penghematan pada Pengembangan Lintas-Platform Seluler: Studi Kasus Skyeng</a></li>
<li><a href="../id457396/index.html">Membuka kunci wadah LUKS root secara otomatis setelah boot panas</a></li>
<li><a href="../id457398/index.html">Tetapi apakah saya melakukan omong kosong? Mengapa pengembang pergi ke gemba</a></li>
<li><a href="../id457400/index.html">Jumlah korban dalam bencana nuklir seperti Chernobyl sangat dibesar-besarkan untuk drama</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>