<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèöÔ∏è üîÄ üïµüèº Estamos desarrollando un bot de Telegram para rastrear pel√≠culas en NodeJS y TypeScript üë®üèº‚Äçüé§ üßíüèæ üë©üèΩ‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se te ocurri√≥ que vienes al cine y ves trailers antes del comienzo de la pel√≠cula, mientras que algunos se aferran a ti con bastante fuerza y ‚Äã‚Äãte pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Estamos desarrollando un bot de Telegram para rastrear pel√≠culas en NodeJS y TypeScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443876/"><img src="https://habrastorage.org/webt/k8/du/50/k8du50aoufwmy7qczw9n6opy2mq.png"><br><br>  Se te ocurri√≥ que vienes al cine y ves trailers antes del comienzo de la pel√≠cula, mientras que algunos se aferran a ti con bastante fuerza y ‚Äã‚Äãte prometes ver esta pel√≠cula si no en el cine, al menos m√°s tarde, cuando est√© disponible para descargar ?  Me atrevo a sugerir que s√≠.  Pero a menudo termina con el hecho de que se olvida con √©xito y, en el mejor de los casos, encuentra accidentalmente esta pel√≠cula desplaz√°ndose por la lista de pel√≠culas ya lanzadas. <br><br>  A menudo me encontr√© con ese problema y decid√≠ crearlo con Eve - Telegram-bot, que me ayuda a no olvidar los lanzamientos de mis pel√≠culas favoritas.  ¬°Qu√© es, c√≥mo funciona y c√≥mo se desarroll√≥, puede leer debajo del corte! <br><a name="habracut"></a><br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pr√≥logo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Por qu√©</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Selecci√≥n de tecnolog√≠a</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Telegraf.js</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Estructura del proyecto</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inicializaci√≥n y Lanzamiento</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Manejar la entrada del usuario</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Localizaci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conclusi√≥n</a> </li></ul><br><a name="foreword"></a><h3>  Pr√≥logo </h3><br>  Este art√≠culo no es una gu√≠a detallada sobre c√≥mo crear bots de Telegram.  Y aunque en el curso del art√≠culo a menudo me referir√© a mi proyecto, el prop√≥sito de este material es una historia sobre el desarrollo en general, es decir, la elecci√≥n de tecnolog√≠as, puntos clave y dificultades que encontr√©. <br><a name="why"></a><br><h3>  Por qu√© </h3><br>  Entonces, como escrib√≠ anteriormente, a menudo olvido ver esas pel√≠culas cuyo trailer me gust√≥.  He estado pensando en una soluci√≥n a este problema durante mucho tiempo.  Lo primero que se me ocurri√≥ fue la creaci√≥n de una aplicaci√≥n nativa para tel√©fonos inteligentes, pero desde  Nunca antes hab√≠a hecho esto, tomar√≠a mucho tiempo y no el hecho de que el resultado final satisfar√≠a mis necesidades, as√≠ como las necesidades de los usuarios potenciales. <br><br>  La siguiente idea fue crear una PWA.  Es una opci√≥n bastante interesante para familiarizarse con la tecnolog√≠a, pero decid√≠ dejarla para el futuro.  Al mismo tiempo, he estado usando Telegram durante mucho tiempo y durante todo este tiempo he acumulado una cantidad suficiente de bots que peri√≥dicamente hacen que mi vida sea un poco m√°s f√°cil.  Finalmente, despu√©s de sopesar todos los pros y los contras, decid√≠ que esta plataforma es perfecta para esta idea. <br><a name="technologies"></a><br><h3>  Selecci√≥n de tecnolog√≠a </h3><br>  Si pasas por Github para bots de Telegram, puedes ver que la mayor√≠a de ellos est√°n escritos en Python.  Python es realmente un gran lenguaje y excelente para esta idea, pero quer√≠a implementar este proyecto espec√≠ficamente en NodeJS + TypeScript.  Aplicando los filtros apropiados, encontr√© 2 herramientas bastante populares: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">node-telegram-bot-api</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Telegraf.js</a> . <br><br>  Antes de esta experiencia en el desarrollo de bots no ten√≠a, por lo que al elegir entre estos dos no estaba claro qu√© par√°metros se deben mirar.  Como resultado, despu√©s de mirar la documentaci√≥n y revisar los problemas de cada una de las bibliotecas, me decid√≠ por Telegraf.js.  El factor decisivo fue la disponibilidad de middlewares, que est√° dise√±ado de la misma manera que en el popular framework Express.js.  Telegraf.js tambi√©n tiene un historial de actualizaciones m√°s frecuente y documentaci√≥n bien estructurada, lo que sugiere que los desarrolladores est√°n haciendo un esfuerzo suficiente para mejorar la herramienta.  Adem√°s, contiene sugerencias para TypeScript, que definitivamente es una ventaja para la pila seleccionada. <br><a name="telegraf"></a><br><h3>  Telegraf.js </h3><br>  Telegraf.js es la biblioteca principal en la que se escribi√≥ el proyecto.  Utiliza varios enfoques interesantes que le permiten crear bots complejos mientras mantiene la simplicidad del c√≥digo.  A continuaci√≥n se detallan los mecanismos m√°s interesantes: <br><br><ul><li>  <b>Middlewares</b> : s√≠, estos son los mismos middlewares que est√°n disponibles en Express.js.  Cuando el usuario env√≠a algo al bot, el mensaje primero pasa por todos los middlewares registrados y luego llega al controlador.  Middlewares puede modificar el contexto, as√≠ como suspender la ejecuci√≥n de la solicitud, por ejemplo, si un usuario normal intenta ingresar al √°rea para los administradores.  Telegraf.js proporciona algunos middlewares extremadamente √∫tiles listos para usar, pero tambi√©n puede usarlos usted mismo.  Es decir, los middlewares se consideran caracter√≠sticas asesinas de Telegraf.js </li><li>  <b>Sesiones</b> : sesiones que pueden almacenar informaci√≥n que no est√° vinculada al controlador.  Puede dar una analog√≠a con variables globales a las que se puede acceder desde cualquier parte del bot.  Una cosa muy conveniente, que se utiliza, por ejemplo, para la localizaci√≥n.  Es posible almacenar sesiones en diferentes modos: DB, redis, archivos locales, etc. </li><li>  <b>Webooks</b> : el bot puede funcionar en dos modos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sondeo largo</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Webhooks</a> .  Y aunque funcionan igualmente r√°pido, es mejor usar la segunda opci√≥n en un entorno de producci√≥n.  Por lo tanto, el bot no necesitar√° tocar el servidor de Telegram, sino que recibir√° todas las actualizaciones √©l mismo. <br><br>  <b>Importante: Un</b> requisito previo para Webhooks es la compatibilidad con el servidor SSL / TLS.  Tambi√©n aseg√∫rese de que el puerto en el que se ejecuta Webhook est√© abierto y accesible desde el exterior. </li><li>  <b>Marcado</b> : con esta clase puedes ense√±arle al bot a responder en marcado / marcado de descuento.  Esto es importante si, por ejemplo, est√° creando un juego HTML.  Sin embargo, en mi proyecto, lo us√© solo para texto en negrita / cursiva. </li><li>  <b>Stage</b> es un m√≥dulo extremadamente interesante que me ayud√≥ a mantener los nervios y algunas horas de desarrollo.  Aqu√≠ lo contar√© con m√°s detalle. <br>  El bot puede escuchar los mensajes del usuario y, seg√∫n el tipo o el contenido del mensaje, redirigirlo a un controlador en particular que realizar√° su funci√≥n y enviar√° una respuesta al usuario.  Se ve as√≠: <br><br><pre><code class="javascript hljs">bot.hears(<span class="hljs-string"><span class="hljs-string">'hello'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> ctx =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> ctx.reply(<span class="hljs-string"><span class="hljs-string">'Hello!'</span></span>); });</code> </pre> <br>  Funciona simplemente: si escribes hola al bot, simplemente responder√° ¬°Hola!  Conociendo este aspecto del trabajo, tratemos de imaginar c√≥mo puede funcionar el bot para buscar pel√≠culas: <br><br><ol><li>  El usuario escribe que quiere ir a buscar pel√≠culas; </li><li>  El usuario conduce el nombre de la pel√≠cula; </li><li>  El bot devuelve una lista de pel√≠culas y le pide al usuario que guarde la pel√≠cula seleccionada en su biblioteca; </li><li>  ... </li></ol><br>  ¬°Atenci√≥n, una pregunta!  ¬øC√≥mo puede distinguir un bot cuando un usuario le escribe que quiere comenzar a buscar una pel√≠cula y cuando escribe el nombre de la pel√≠cula a buscar? <br><br>  <i>S√≠, puede tomar cualquier texto enviado como el nombre de la pel√≠cula, pero queremos que el bot con <s>blackjack y hookers sea una</s> buena interfaz.</i> <br><br>  ¬°Y aqu√≠ entran en escena las escenas!  Ser√° m√°s f√°cil saberlo con el ejemplo anterior.  Cuando el usuario dice que quiere ir a buscar pel√≠culas, lanzamos la escena.  Dentro de esta escena hay controladores de texto separados: bot.hears (...).  Por lo tanto, todos los mensajes posteriores se relacionar√°n directamente con la b√∫squeda de pel√≠culas hasta que el usuario escriba un mensaje para salir y abandonar la escena.  Despu√©s de eso, los controladores dentro de esta escena se desactivan hasta que el usuario regrese all√≠ nuevamente.  A continuaci√≥n, describir√© c√≥mo us√© las escenas para hacer que el manejo de eventos sea lo m√°s simple posible. <br></li></ul><br><a name="structure"></a><br><h3>  Estructura del proyecto </h3><br>  Existe la sospecha de que el art√≠culo resultar√° bastante voluminoso y, por lo tanto, para no estirarlo a√∫n m√°s, omitir√© algunos puntos.  Por ejemplo, para que el bot comience a funcionar, debe comenzar obteniendo el token API Telegram Bot.  Puede leer sobre c√≥mo hacerlo en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> oficial de Telegram o en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> de Telegraf.js. <br><br>  La estructura de archivos del proyecto es la siguiente: <br><br><div class="spoiler">  <b class="spoiler_title">Estructura del proyecto</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/44/ps/n8/44psn8gqdploz320kpoh0yzmwxg.png"><br></div></div><br>  Funciona de la siguiente manera: <br><br><ul><li>  <b>src / controllers</b> : estas son las escenas sobre las que se escribi√≥ anteriormente.  En este proyecto, cada escena es un controlador separado que procesa las solicitudes correspondientes. </li><li>  <b>src / locales</b> : traducciones para diferentes idiomas.  Telegraf.js hace que sea relativamente f√°cil agregar localizaci√≥n al bot usando middlewares. </li><li>  <b>src / models</b> - modelos para MongoDB. </li><li>  <b>src / types</b> : sugerencias para TypeScript.  Desafortunadamente, no todas las bibliotecas utilizadas en el proyecto tienen tiempos predeterminados. </li><li>  <b>src / util</b> : varias funciones auxiliares que se utilizan en diferentes partes del proyecto.  Aqu√≠ puede ver c√≥mo funciona la disponibilidad de la pel√≠cula para descargar, administrar sesiones, crear teclados, manejadores de errores y mucho m√°s. </li><li>  <b>src / bot.ts</b> : el archivo principal donde se realiza toda la preparaci√≥n y el lanzamiento del bot. </li><li>  <b>src / telegram.ts</b> : en este caso, creamos un objeto de la clase Telegram de la biblioteca Telegraf.js.  Usando este objeto, podemos enviar mensajes a los usuarios primero, usando su ID, y no esperar hasta que escriban algo.  Por ejemplo, en este proyecto, enviamos al usuario un mensaje indicando que la pel√≠cula que estaba siguiendo ya se puede descargar.  Por supuesto, este objeto proporciona muchas m√°s funciones. </li><li>  <b>Todo lo dem√°s</b> son configuraciones para diferentes partes del proyecto que no se discutir√°n en este art√≠culo. </li></ul><br><a name="start"></a><h3>  Inicializaci√≥n y Lanzamiento </h3><br>  Cuando descubrimos la estructura del proyecto, veamos c√≥mo comienza realmente el bot.  Nuevamente, para acortar el art√≠culo, no insertar√© el c√≥digo completo aqu√≠, sino que solo hablar√© sobre los momentos principales, en mi opini√≥n.  Puede ver el c√≥digo completo en el repositorio, cuyo enlace est√° disponible al final del art√≠culo. <br><br>  Todo comienza con la conexi√≥n a la base de datos, que almacena informaci√≥n sobre los usuarios y las pel√≠culas que rastrean.  Despu√©s de una conexi√≥n exitosa, registramos todas las escenas utilizadas en el proyecto, establecemos par√°metros para la localizaci√≥n y agregamos varios middlewares: sesiones de procesamiento, localizaci√≥n, configuraci√≥n de escenas, as√≠ como varias de las nuestras.  Uno de ellos, por ejemplo, recibe toda la informaci√≥n sobre el usuario de acuerdo con su ID y la agrega al contexto que se utiliza en los controladores.  Finalmente, despu√©s de todas las preparaciones b√°sicas, lanzamos el bot en modo de desarrollo (sondeo largo) o de producci√≥n (Webhooks). <br><br>  <b>Importante:</b> si utiliza diferentes m√©todos para recibir actualizaciones (sondeo largo y Webhooks), cuando inicie el bot en modo de sondeo largo, primero elimine el Webhook que escucha utilizando la solicitud GET en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">api.telegram.org/botYOUR_TOKEN/deleteWebhook</a> .  De lo contrario, el bot podr√≠a no funcionar correctamente. <br><a name="userinput"></a><br><h3>  Manejar la entrada del usuario </h3><br>  ¬°Hurra!  El bot funciona, est√° conectado a la base de datos y est√° listo para recibir mensajes de los usuarios.  ¬øPero c√≥mo hacerlo bien? <br><br>  En primer lugar, ser√° conveniente para los usuarios utilizar el teclado Telegram incorporado.  De hecho, cuando hace clic en los botones de este teclado, los mensajes se env√≠an con el contenido de estos botones.  A continuaci√≥n, simplemente agregamos controladores para este texto y realizamos ciertas acciones. <br><br>  El archivo <a href="">bot.ts contiene</a> dichos controladores.  Como el bot admite dos idiomas, los botones tambi√©n pueden contener texto diferente, en ruso e ingl√©s.  Telegraf-i18n tiene una funci√≥n de coincidencia que puede manejar hacer clic en el mismo bot√≥n con diferentes idiomas. <br><br>  La mayor√≠a de los controladores en bot.ts realizan una sola funci√≥n: lanzan al usuario a la escena correspondiente.  Por lo tanto, tenemos varias secciones: b√∫squeda de pel√≠culas, mi colecci√≥n, configuraciones y contactos.  Cada secci√≥n tiene su propia escena y su propio bot√≥n, cuando se hace clic, el usuario se mueve a la escena correspondiente. <br><br>  <b>Importante:</b> aseg√∫rese de agregar un controlador que libere al usuario de la escena, de lo contrario se arriesga a quedarse all√≠ para siempre.  Tambi√©n ser√° √∫til hacer un comando general (/ saveme se usa en el bot), que se agregar√° a cada escena y al archivo principal.  Este comando servir√° como una salida de cualquier escena, as√≠ como restablecer la configuraci√≥n del usuario. <br><br>  Y ahora, el usuario quiere ir a buscar pel√≠culas.  Al hacer clic en el bot√≥n apropiado, lo movemos a la escena de b√∫squeda.  Por conveniencia, cada escena tiene su propia carpeta con archivos, cada uno de los cuales realiza una funci√≥n espec√≠fica. <br><br>  Dentro de la escena, puede usar sus middlewares, que est√°n en el archivo middlewares.ts.  Por ejemplo, al usar middleware en la escena de b√∫squeda, simplemente podemos reenviar toda la informaci√≥n sobre la pel√≠cula a los m√©todos apropiados, en lugar de realizar la misma funci√≥n cada vez dentro de ellos. <br><br>  Telegram tambi√©n tiene un teclado en l√≠nea.  Quiz√°s haya encontrado mensajes con votos, debajo de los cuales hay varios botones transl√∫cidos, y cuando hace clic en uno de ellos, el n√∫mero de votos cambia.  Estos botones son el teclado en l√≠nea. <br><br><div class="spoiler">  <b class="spoiler_title">As√≠ se ve Eve</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/gz/sn/-n/gzsn-nvolazzilaylnhy-ugacny.png"><br></div></div><br>  Cada bot√≥n contiene informaci√≥n, cuando hace clic en el bot√≥n, se transmitir√° al controlador correspondiente.  <b>¬°El tama√±o de la informaci√≥n transmitida no debe exceder los 64 bytes!</b>  Para ense√±arle al bot a escuchar clics en los botones, debemos registrarlos usando bot.action (/ trigger /, callback).  El primer par√°metro contiene todos los datos vinculados al bot√≥n.  Decid√≠ usar algo como Acciones de Redux, donde se adjunta un objeto de la forma {a: actionName, p: payload} a cada bot√≥n.  Al registrar oyentes, podemos usar un RegExp simple, por ejemplo: bot.action (/ actionName /, callBack).  Todos los controladores para el teclado en l√≠nea est√°n en los archivos actions.ts. <br><br>  Adem√°s, en algunas escenas hay archivos helpers.ts, que contienen peque√±as funciones para descargar los archivos restantes.  En su mayor parte, hay generadores de teclado para diversas acciones del usuario. <br><a name="localization"></a><br><h3>  Localizaci√≥n </h3><br>  Como este es un tema importante, creo que vale la pena mencionarlo por separado.  Como dije antes, Telegraf.js contiene una cantidad bastante grande de middlewares, uno de los cuales es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">telegraf-i18n</a> .  El repositorio contiene instrucciones detalladas y no tuve ning√∫n problema especial con esto, pero agregar√© algunas palabras sobre c√≥mo funciona esto en este proyecto. <br><br>  Hay una carpeta local donde se encuentran los archivos para la localizaci√≥n, que son un objeto JSON de la forma {"clave": "traducci√≥n"}.  Adem√°s, siempre que necesitemos usar diferentes idiomas, usamos el m√©todo de esta biblioteca, donde transferimos la traducci√≥n que necesitamos por clave, y en la salida obtenemos la traducci√≥n correspondiente.  Se puede usar una sesi√≥n para almacenar informaci√≥n sobre el idioma seleccionado por el usuario.  Tambi√©n vale la pena mencionar nuevamente los botones.  Hay una funci√≥n de coincidencia en la misma biblioteca, por lo que si el texto en el bot√≥n cambia seg√∫n el idioma, esta funci√≥n lo ayudar√° a colgar al oyente correcto. <br><br>  <b>Importante:</b> si va a utilizar la localizaci√≥n y escribir un bot en TypeScript, no olvide agregar la carpeta de traducci√≥n a tsconfig.json, de lo contrario el c√≥digo no se compilar√°.  Por ejemplo: <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"include"</span></span>: [<span class="hljs-string"><span class="hljs-string">"src/locales/*.json"</span></span>]</code> </pre> <br><a name="conclusion"></a><h3>  Conclusi√≥n </h3><br>  ¬°Gracias por leer hasta el final!  En este art√≠culo, trat√© de describir el proceso de creaci√≥n de un bot de Telegram en su conjunto lo m√°s detallado posible, sin un fuerte apego a mi proyecto.  Espero que despu√©s de leer este art√≠culo, adem√°s de estudiar el c√≥digo fuente de Eve, puedas crear f√°cilmente un bot que pueda ayudarte. <br><br>  Seg√∫n lo prometido, puede ver el c√≥digo fuente en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> e intentar Eve en acci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Estar√© inmensamente agradecido por cualquier cr√≠tica y sugerencia de mejora. <br><br>  Tambi√©n me gustar√≠a se√±alar la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">secci√≥n</a> en la documentaci√≥n de Telegraf.js con proyectos interesantes de c√≥digo abierto que puede ver e inspirarse en la arquitectura y las soluciones.  Yo, a su vez, quiero mencionar uno de ellos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">The Guard Bot</a> .  Un bot realmente grande y bien hecho, de donde tom√© prestadas algunas de las soluciones para mi desarrollo. <br><br>  Y en el momento en que dije todo lo que quer√≠a, ¬°con gusto responder√© sus preguntas, sugerencias y comentarios! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/443876/">https://habr.com/ru/post/443876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443862/index.html">Las cerraduras del auto del fiscal. Bestchange est√° bloqueado nuevamente</a></li>
<li><a href="../443868/index.html">Como programador fui al gimnasio, y lo que surgi√≥</a></li>
<li><a href="../443870/index.html">Unidad: Edici√≥n de malla procesal</a></li>
<li><a href="../443872/index.html">Descripci√≥n general de las nuevas caracter√≠sticas de nanoCAD SPDS Steelwork versi√≥n 1.2</a></li>
<li><a href="../443874/index.html">Comparaci√≥n de marcos de aprendizaje profundo: TensorFlow, PyTorch, Keras, MXNet, Microsoft Cognitive Toolkit, Caffe, etc.</a></li>
<li><a href="../443878/index.html">DEV Labs 2019. Python para resolver tareas no triviales. Mitap en l√≠nea</a></li>
<li><a href="../443882/index.html">MOSDROID # 15 Phosphorus: video de rendimiento</a></li>
<li><a href="../443884/index.html">3 cualidades clave de un gerente de producto exitoso: Anton Danilov</a></li>
<li><a href="../443886/index.html">Resolver una tarea de una entrevista de Google en JavaScript: 4 formas diferentes</a></li>
<li><a href="../443894/index.html">El cuarto nivel del multiuniverso de Max Tegmark</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>