<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☦️ ♎️ 🏣 Usando Babel y Webpack para configurar un proyecto React desde cero ⚛️ 🆑 💅🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hay muchas herramientas disponibles para preparar el entorno para el desarrollo de React. Por ejemplo, nuestro tutorial React utiliza la herramienta c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Usando Babel y Webpack para configurar un proyecto React desde cero</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/436886/">  Hay muchas herramientas disponibles para preparar el entorno para el desarrollo de React.  Por ejemplo, nuestro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tutorial React</a> utiliza la herramienta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">create-react-app</a> para crear un proyecto de plantilla que contiene todo lo que necesita para desarrollar aplicaciones React.  El autor del artículo, cuya traducción publicamos hoy, quiere hablar sobre cómo configurar de forma independiente el entorno para desarrollar proyectos de React utilizando Babel y Webpack.  Estas herramientas también se utilizan en proyectos creados con las herramientas create-react-app, y creemos que cualquiera que estudie el desarrollo de React estará interesado en conocerlos y la metodología para crear proyectos de React a un nivel más profundo.  Es decir, hablaremos sobre cómo configurar Webpack para que esta herramienta use Babel para compilar código JSX en código JavaScript, y cómo configurar el servidor utilizado para desarrollar proyectos React. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/nu/zw/y9/nuzwy97oaqp-qan8ooxn_ryt2b0.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Paquete web</font> </h2><br>  Webpack se utiliza para compilar módulos JavaScript.  Esta herramienta a menudo se llama un "paquete" (de paquete) o "generador de módulos".  Después de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">instalarlo</a> , puede trabajar con él utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la interfaz de línea de comandos</a> o su <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">API</a> .  Si no está familiarizado con Webpack, se recomienda que lea sobre los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">principios básicos de</a> su funcionamiento y vea su <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">comparación</a> con otros constructores de módulos.  Así es como se ve Webpack a un alto nivel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc0/e21/470/dc0e21470d18e7abc53a1c7a087b2807.png"></div><br>  <i><font color="#999999">Webpack work</font></i> <br><br>  Webpack toma todo de lo que depende el proyecto y lo convierte en recursos estáticos que pueden transferirse al cliente.  El empaquetado de aplicaciones es muy importante, ya que la mayoría de los navegadores limitan la capacidad de descargar recursos simultáneamente.  Además, le permite ahorrar tráfico enviando al cliente solo lo que necesita.  En particular, Webpack utiliza una memoria caché interna, debido a que los módulos se descargan al cliente solo una vez, lo que finalmente lleva a una carga más rápida de los sitios. <br><br><h2>  <font color="#3AC1EF">Babel</font> </h2><br>  Babel es un transpilador, que se utiliza principalmente para convertir construcciones adoptadas en versiones recientes del estándar ECMAScript en un formato que sea comprensible para los navegadores modernos y no para los últimos navegadores y otros entornos en los que se puede ejecutar JavaScript.  Babel, además, puede convertir a JavaScript y código JSX usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@ babel / preset-react</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/385/f39/809/385f398094efe878d5b031f9177e1084.jpg"></div><br>  <i><font color="#999999">Babel</font></i> <br><br>  Gracias a Babel, nosotros, al desarrollar aplicaciones React, podemos usar JSX.  Por ejemplo, aquí está el código que usa JSX: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">b</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello world!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">b</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> App;</code> </pre> <br>  Tal código se ve ordenado, es claro, es fácil de leer y editar.  Al mirarlo, puede comprender de inmediato que describe un componente que devuelve un elemento <code>&lt;div&gt;</code> que contiene el texto <code>Hello world!</code>  en negrita  Y aquí hay un ejemplo de código que hace lo mismo en el que JSX no se usa: <br><br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">"use strict"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(exports, <span class="hljs-string"><span class="hljs-string">"__esModule"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _react = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"react"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _react2 = _interopRequireDefault(_react); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_interopRequireDefault</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">obj</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj &amp;&amp; obj.__esModule ? obj : { <span class="hljs-attr"><span class="hljs-attr">default</span></span>: obj }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _react2.default.createElement(   <span class="hljs-string"><span class="hljs-string">"div"</span></span>,   <span class="hljs-literal"><span class="hljs-literal">null</span></span>,   _react2.default.createElement(     <span class="hljs-string"><span class="hljs-string">"b"</span></span>,     <span class="hljs-literal"><span class="hljs-literal">null</span></span>,     <span class="hljs-string"><span class="hljs-string">"Hello world!"</span></span>   ) ); } exports.default = App;</code> </pre> <br>  Las ventajas del primer ejemplo sobre el segundo son obvias. <br><br><h2>  <font color="#3AC1EF">Prerrequisitos</font> </h2><br>  Para configurar un proyecto de aplicación React, necesitaremos los siguientes módulos npm. <br><br><ul><li>  reaccionar - Reaccionar biblioteca. </li><li>  react-dom es una biblioteca que nos ayudará a usar las capacidades de React en el navegador. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">babel</a> / core - Transpilación JSX en JS. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">babel</a> / preset-env: crea código adecuado para navegadores antiguos. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">babel</a> / preset-react: configura el transpiler para que funcione con el código React. </li><li>  babel-loader: configure Webpack para que funcione con Babel. </li><li>  css-loader: configuración de Webpack para trabajar con CSS. </li><li>  webpack - montaje de módulos. </li><li>  webpack-cli: trabaje con Webpack desde la línea de comandos. </li><li>  cargador de estilo: carga todo el código CSS utilizado en el encabezado del archivo HTML. </li><li>  webpack-dev-server: configuración de un servidor de desarrollo. </li></ul><br>  Ahora cree, en la carpeta <code>react-scratch</code> , un nuevo proyecto usando npm ( <code>npm init</code> ) e instale algunos de los paquetes anteriores con el siguiente comando: <br><br><pre> <code class="javascript hljs">npm install --save-dev @babel/core @babel/preset-env @babel/preset-react babel-loader css-loader webpack webpack-cli style-loader webpack-dev-server</code> </pre> <br>  El punto de entrada al programa será el archivo <code>index.js</code> , que está contenido en la carpeta <code>src</code> ubicada en el directorio raíz del proyecto.  La estructura de este proyecto se muestra a continuación.  Algunos archivos y carpetas se crean automáticamente, algunos necesitará crearlos usted mismo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ad9/a00/04e/ad9a0004e52411f8c211dd7df3287997.png"></div><br>  <i><font color="#999999">Estructura del proyecto</font></i> <br><br>  El proyecto terminado, que trataremos aquí, se puede encontrar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> repositorio. <br><br>  La carpeta de <code>component</code> contendrá componentes del proyecto (en nuestro caso, aquí solo hay un componente).  En la carpeta <code>dist</code> , en el archivo <code>main.js</code> , se <code>main.js</code> el código compilado y <code>index.html</code> es, como ya se mencionó, el archivo HTML principal de nuestra aplicación. <br><br><h2>  <font color="#3AC1EF">Configuración de paquete web</font> </h2><br>  Webpack se puede configurar de muchas maneras.  En particular, la configuración de esta herramienta puede tomar la forma de argumentos de línea de comandos o estar presente en el proyecto como un archivo de configuración con el nombre <code>webpack.config.js</code> .  En él, debe describir y exportar el objeto que contiene la configuración.  Comenzaremos a configurar este archivo con una descripción del objeto que se ve así (lo consideraremos en partes y a continuación le daremos su código completo): <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: <span class="hljs-string"><span class="hljs-string">"./src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">mode</span></span>: <span class="hljs-string"><span class="hljs-string">"development"</span></span>, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">"./main.js"</span></span> }, }</code> </pre> <br>  La propiedad de <code>entry</code> establece el archivo principal con el código fuente del proyecto.  El valor de la propiedad de <code>mode</code> indica el tipo de entorno para compilar (en nuestro caso, este es el entorno de <code>development</code> ) y dónde colocar el archivo compilado. <br><br><h2>  <font color="#3AC1EF">Proyecto de trabajo</font> </h2><br>  Coloque el siguiente código en el archivo <code>index.html</code> de nuestro proyecto, ubicado en la carpeta <code>dist</code> : <br><br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"ltr"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">React From Scratch</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"root"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"main.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"><span class="xml"><span class="undefined"> </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Presta atención a la etiqueta de <code>script</code> presente en este archivo.  Apunta al archivo <code>main.js</code> , que se obtendrá durante la compilación del proyecto.  Utilizaremos el elemento <code>&lt;div&gt;</code> con el identificador <code>root</code> para mostrar la aplicación React. <br><br>  Ahora instale los paquetes react y react-dom: <br><br><pre> <code class="javascript hljs">npm install react react-dom</code> </pre> <br>  Agregue el siguiente código a <code>index.js</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./component/app.component"</span></span>; ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.querySelector("#root"));</span></span></code> </pre> <br>  Este es el código estándar para dichos archivos de aplicación React.  Aquí conectamos las bibliotecas, conectamos el archivo componente y mostramos la aplicación en la <code>&lt;div&gt;</code> con el identificador <code>root</code> . <br><br>  Aquí está el código para el archivo <code>app.component.js</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./app.component.css"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{s.intro}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello World</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> MyComponent;</code> </pre> <br>  Aquí está el código para el archivo <code>app.component.css</code> : <br><br><pre> <code class="javascript hljs">.intro { background-color: yellow; }</code> </pre> <br><h2>  <font color="#3AC1EF">Configurar Babel</font> </h2><br>  Babel es un transportista con gran potencial.  En particular, puede convertir MENOS a CSS, JSX a JS, TypeScript a JS.  Usaremos solo dos configuraciones con él: react y env (también se denominan "presets").  Babel se puede configurar de diferentes maneras, en particular, estamos hablando de herramientas de línea de comandos, sobre un archivo de configuración especial, sobre el archivo <code>package.json</code> estándar.  Estamos satisfechos con la última opción.  Agregue la siguiente sección a <code>package.json</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"babel"</span></span>: {   <span class="hljs-string"><span class="hljs-string">"presets"</span></span>: [     <span class="hljs-string"><span class="hljs-string">"@babel/env"</span></span>,     <span class="hljs-string"><span class="hljs-string">"@babel/react"</span></span>   ] }</code> </pre> <br>  Gracias a esta configuración, Babel sabrá qué preajustes necesita usar.  Ahora configure Webpack para usar Babel. <br><br><h2>  <font color="#3AC1EF">Configurar Webpack para trabajar con Babel</font> </h2><br>  Aquí usaremos la biblioteca babel-loader, que le permite usar Babel con Webpack.  De hecho, el punto es que Babel podrá interceptar y procesar archivos antes de que Webpack los procese. <br><br><h3>  <font color="#3AC1EF">▍JS archivos</font> </h3><br>  Estas son las reglas sobre el trabajo con archivos JS (este código irá al archivo <code>webpack.config.js</code> ), representan una de las propiedades del objeto de configuración exportado por este archivo: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.m?js$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/(node_modules|bower_components)/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: {         <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"babel-loader"</span></span>       }     },   ] }</code> </pre> <br>  Una matriz de reglas se almacena en la propiedad de reglas del objeto representado aquí, según el cual se debe procesar el archivo especificado por la expresión regular descrita en la propiedad de <code>test</code> .  En este caso, la regla se aplicará a todos los archivos con las extensiones <code>.m</code> y <code>.js</code> , y no queremos <code>node_modules</code> archivos de la carpeta <code>node_modules</code> y <code>bower_components</code> .  Además, aquí indicamos que queremos usar babel-loader.  Después de eso, nuestros archivos JS serán procesados ​​por Babel primero y luego empaquetados usando Webpack. <br><br><h3>  <font color="#3AC1EF">▍ archivos CSS</font> </h3><br>  Agregue la configuración para procesar archivos CSS a la matriz de <code>rules</code> del objeto del <code>module</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.m?js$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/(node_modules|bower_components)/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: {         <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"babel-loader"</span></span>       }     },     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.css$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [         <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>,         {           <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>,           <span class="hljs-attr"><span class="hljs-attr">options</span></span>: {             <span class="hljs-attr"><span class="hljs-attr">modules</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>           }         }       ]     },  ] }</code> </pre> <br>  Resolveremos la tarea de procesar archivos CSS usando style-loader y css-loader.  La propiedad <code>use</code> puede aceptar una matriz de objetos o cadenas.  Los cargadores se llaman, comenzando desde el último, por lo que nuestros archivos se procesarán primero con css-loader.  Configuramos esta herramienta escribiendo <code>true</code> en la propiedad de <code>modules</code> del objeto de <code>options</code> .  Gracias a esto, los estilos CSS se aplicarán solo a los componentes en los que se importan.  Css-loader permitirá importar comandos en archivos CSS, después de lo cual Style-Loader agregará lo que resulta en forma de una etiqueta de <code>style</code> en la sección <code>&lt;head&gt;</code> de la página: <br><br><pre> <code class="javascript hljs">&lt;style&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">--</span></span></span></span><span class="xml"><span class="hljs-tag">  </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">css</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">--</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍Recursos estáticos</font> </h3><br>  Continuaremos trabajando en el objeto de configuración del <code>module</code> , describiendo las reglas para procesar recursos estáticos en él: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.m?js$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/(node_modules|bower_components)/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: {         <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"babel-loader"</span></span>       }     },     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.css$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [         <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>,         {           <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>,           <span class="hljs-attr"><span class="hljs-attr">options</span></span>: {             <span class="hljs-attr"><span class="hljs-attr">modules</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>           }         }       ]     },     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(png|svg|jpg|gif)$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [<span class="hljs-string"><span class="hljs-string">"file-loader"</span></span>]     }   ] }</code> </pre> <br>  Si el sistema encuentra un archivo con la extensión PNG, SVG, JPG o GIF, se utilizará el cargador de archivos para procesar dicho archivo.  Procesar dichos archivos es importante para la preparación y optimización adecuadas del proyecto. <br><br><h2>  <font color="#3AC1EF">Configurar un servidor de desarrollo</font> </h2><br>  Ahora, en el archivo <code>webpack.config.js</code> , configure el servidor de desarrollo: <br><br><pre> <code class="javascript hljs">devServer: {   <span class="hljs-attr"><span class="hljs-attr">contentBase</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">"dist"</span></span>),   <span class="hljs-attr"><span class="hljs-attr">compress</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,   <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">9000</span></span>,   <span class="hljs-attr"><span class="hljs-attr">watchContentBase</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,   <span class="hljs-attr"><span class="hljs-attr">progress</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> },</code> </pre> <br>  La propiedad <code>contentBase</code> <code>devServer</code> configuración <code>contentBase</code> apunta a la carpeta en la que se encuentran nuestros recursos y el archivo <code>index.html</code> .  La propiedad <code>port</code> permite especificar el puerto en el que escuchará el servidor.  La propiedad <code>watchContentBase</code> permite monitorear los cambios a los archivos en la carpeta especificada por la propiedad <code>contentBase</code> . <br><br>  Aquí está el código completo para el archivo <code>webpack.config.js</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"path"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: <span class="hljs-string"><span class="hljs-string">"./src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">mode</span></span>: <span class="hljs-string"><span class="hljs-string">"development"</span></span>, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">"./main.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">devServer</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">contentBase</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">"dist"</span></span>),   <span class="hljs-attr"><span class="hljs-attr">compress</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,   <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">9000</span></span>,   <span class="hljs-attr"><span class="hljs-attr">watchContentBase</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,   <span class="hljs-attr"><span class="hljs-attr">progress</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.m?js$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/(node_modules|bower_components)/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: {         <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"babel-loader"</span></span>       }     },     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.css$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [         <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>,         {           <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>,           <span class="hljs-attr"><span class="hljs-attr">options</span></span>: {             <span class="hljs-attr"><span class="hljs-attr">modules</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>           }         }       ]     },     {       <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(png|svg|jpg|gif)$/</span></span>,       <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [<span class="hljs-string"><span class="hljs-string">"file-loader"</span></span>]     }   ] } };</code> </pre> <br>  Ahora agregaremos al <code>package.json</code> , en la sección de <code>scripts</code> , el comando para iniciar el servidor de desarrollo y el comando para comenzar a construir el proyecto: <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: {   <span class="hljs-string"><span class="hljs-string">"dev"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server"</span></span>,   <span class="hljs-string"><span class="hljs-string">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack"</span></span> },</code> </pre> <br>  Ahora todo está listo para iniciar el servidor de desarrollo con el siguiente comando: <br><br><pre> <code class="javascript hljs">npm run dev</code> </pre> <br>  Si ahora va a la dirección <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http: // localhost: 9000</a> , puede ver la página de nuestro proyecto. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08e/085/c32/08e085c32bbba9c6874ec2359f8e0d93.png"></div><br>  <i><font color="#999999">Página del proyecto en el navegador</font></i> <br><br>  Para construir un proyecto, use el siguiente comando: <br><br><pre> <code class="javascript hljs">npm run start</code> </pre> <br>  Después de eso, puede abrir el archivo <code>index.html</code> en un navegador y ver lo mismo que puede ver al iniciar el servidor de desarrollo y dirigirse a la dirección <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http: // localhost: 9000</a> . <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Este artículo proporciona una descripción general de la configuración de Webpack y Babel para su uso en proyectos React.  De hecho, se pueden crear configuraciones mucho más complejas en la base que hemos desarmado hoy.  Por ejemplo, en lugar de CSS, puede usar MENOS, en lugar de JS normal, escribir en TypeScript.  Si es necesario, puede, por ejemplo, configurar la minificación de archivos y mucho más.  Por supuesto, si hoy tuvo su primer contacto con el proceso de configuración de proyectos de React por su cuenta, puede parecerle que todo esto es muy complicado y es mucho más fácil usar una plantilla preparada.  Sin embargo, después de descubrirlo un poco, se dará cuenta de que un ligero aumento en la complejidad de la configuración le da más libertad, lo que le permite personalizar sus proyectos tal como lo necesita, sin depender completamente de algunas soluciones "estándar" y reducir su dependencia de ellos. <br><br>  <b>Estimados lectores!</b>  ¿Qué enfoque utiliza con más frecuencia al preparar su entorno de trabajo para los proyectos React? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436886/">https://habr.com/ru/post/es436886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436874/index.html">Bailes de Año Nuevo alrededor del adaptador FC o una historia sobre cuán lejos están las causas del problema de los síntomas</a></li>
<li><a href="../es436876/index.html">[SAP] SAPUI5 para dummies parte 1: un ejercicio completo paso a paso</a></li>
<li><a href="../es436878/index.html">BERT es un modelo de lenguaje de vanguardia para 104 idiomas. Tutorial para lanzar BERT localmente y en Google Colab</a></li>
<li><a href="../es436880/index.html">Conceptos básicos de la plantilla de C ++: plantillas de funciones</a></li>
<li><a href="../es436884/index.html">Dominamos async / wait en un ejemplo real</a></li>
<li><a href="../es436888/index.html">Historia sobre cómo diseñar una API</a></li>
<li><a href="../es436890/index.html">Tutorial React Parte 10: Taller sobre cómo trabajar con propiedades de componentes y estilo</a></li>
<li><a href="../es436892/index.html">Tutorial React Parte 11: Formación de marcado dinámico y el método de matriz de mapa</a></li>
<li><a href="../es436894/index.html">Creeping IT Apocalypse. Los nuevos servicios en la nube dejarán a algunos ingenieros sin trabajo</a></li>
<li><a href="../es436896/index.html">docker-pretty-ps - finalmente un docker legible ps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>