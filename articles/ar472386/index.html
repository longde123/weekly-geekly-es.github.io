<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐พ ๐ถ ๐ ุชุฃุซูุฑ ZIO ูุงููุทุท: ุชุญุงูู ูุงุฌุญ ๐ฉ๐ฟโ๐ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฃุตุจุญ Cats Effect ููุนูุง ูู "ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ" ูู ุฃุฌู ุนุงูู Scala ุงููุธููู ุ ููุง ูุชูุญ ูู ุงูุฌูุน ุจูู ุงููุธุงู ุงูุจูุฆู ุงููุชููุน ุจุงููุงูู ููููุชุจุงุช ูุนูุง. 

 ูุชู ุช...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุฃุซูุฑ ZIO ูุงููุทุท: ุชุญุงูู ูุงุฌุญ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/472386/" style=";text-align:right;direction:rtl">  ุฃุตุจุญ Cats Effect ููุนูุง ูู "ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ" ูู ุฃุฌู ุนุงูู Scala ุงููุธููู ุ ููุง ูุชูุญ ูู ุงูุฌูุน ุจูู ุงููุธุงู ุงูุจูุฆู ุงููุชููุน ุจุงููุงูู ููููุชุจุงุช ูุนูุง. <br><br>  ูุชู ุชูููุฐ ุงูุนุฏูุฏ ูู ุงูููุชุจุงุช ุงูููุชุงุฒุฉ: http4s ุ fs2 ุ doobie - ููุท ุนูู ุฃุณุงุณ ูุฆุงุช ุงููุชุงุจุฉ ูู Cats Effect.  ูุชููุฑ ุงูููุชุจุงุช ุ ูุซู ZIO ู Monix ุ ุจุฏูุฑูุง ุ ูุซููุงุช ููุฆุงุช ุงูุฃููุงุน ูุฐู ูุฃููุงุน ุชุฃุซูุฑูุง.  ุนูู ุงูุฑุบู ูู ุจุนุถ ุงููุดููุงุช ุงูุชู ุณูุชู ุฅุตูุงุญูุง ูู ุงูุฅุตุฏุงุฑ 3.0 ุ ูุณุงุนุฏ Cats Effect ุงูุนุฏูุฏ ูู ุงููุณุงูููู ูู ุงููุตุงุฏุฑ ุงูููุชูุญุฉ ุนูู ุฏุนู ุนุถููุง ูููุธุงู ุงูุฅูููููุฌู ุงููุธููู ุจุงููุงูู ููุบุฉ Scala.  ููุงุฌู ุงููุทูุฑูู ุงูุฐูู ูุณุชุฎุฏููู Cats Effect ุฎูุงุฑูุง ุตุนุจูุง: ุฃู ุชุทุจูู ููุขุซุงุฑ ูุงุณุชุฎุฏุงูู ูู ุชุทุจููุงุชูู. <br><br>  ุงูููู ููุงู ุซูุงุซุฉ ุจุฏุงุฆู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุทุท IO ุ ูุฑุฌุน ุงูุชูููุฐ ุ </li><li style=";text-align:right;direction:rtl">  Monix ุ ููุน ุจูุงูุงุช ุงููููุฉ ูุชูุงุนููุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ZIO ุ ููุน ุจูุงูุงุช ZIO ููุทุงู ุชุฑุงุจุทูุง. </li></ul><br>  ุณุฃุญุงูู ูู ูุฐุง ุงูููุดูุฑ ุฃู ุฃุซุจุช ูู ุฃูู ูุฅูุดุงุก ุชุทุจููู ุจุงุณุชุฎุฏุงู Cats Effect ุ ูุนุฏ ZIO ุงุฎุชูุงุฑูุง ุฌูุฏูุง ูุน ุญููู ููุฏุฑุงุช ุชุตููู ูุฎุชููุฉ ุชูุงููุง ุนู ุชูููุฐ ุงููุฑุงุฌุน ูู Cats IO. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  1. ุฃูุถู MTL / ุงูููุฏุณุฉ ุงูููุงุฆูุฉ ุจุฏูู ุนูุงูุงุช </h2><br>  MTL (ููุชุจุฉ ูุญููุงุช ุงููููุงุฏ) ูู ููุท ุจุฑูุฌุฉ ุชููู ููู ุงููุธุงุฆู ูุชุนุฏุฏุฉ ุงูุฃุดูุงู ุญุณุจ ููุน ุชุฃุซูุฑูุง ูุชุนุจุฑ ุนู ูุชุทูุจุงุชูุง ูู ุฎูุงู "ููุฏ ูุฆุฉ ุงููุชุงุจุฉ".  ูู ุณูุงูุง ุ ููุทูู ุนููู ุบุงูุจูุง ุงูููุท ุงูููุงุฆู ุจุฏูู ุนูุงูุงุช (ุนูู ุงูุฑุบู ูู ุฃูู ููุณ ููุณ ุงูุดูุก) ุ ุฎุงุตุฉู ุนูุฏูุง ูุง ุชุญุชูู ููุงููู ุงูููุน ุนูู ููุงููู. <br><br>  ูู ุงููุนุฑูู ุฃูู ูุง ูููู ุชุญุฏูุฏ ูุซูู ุนูููู ููุฆุงุช ุฃููุงุน MTL ุงูููุงุณูููุฉ ูุซู Writer ู State ุ ููุฐูู ูุฃููุงุน ุงูุชุฃุซูุฑุงุช ูุซู Cats IO.  ุงููุดููุฉ ูู ุฃู ูุซููุงุช ูุฐู ุงูุฃููุงุน ูู ุงูุฃููุงุน ููุฐู ุงูุฃููุงุน ูู ุงูุชุฃุซูุฑุงุช ุชุชุทูุจ ุงููุตูู ุฅูู ุญุงูุฉ ูุงุจูุฉ ููุชุบููุฑ ุ ูุงูุชู ูุง ูููู ุฅูุดุงุคูุง ุนุงููููุง ุ ูุฃู ุฅูุดุงุก ุญุงูุฉ ูุงุจูุฉ ููุชุบููุฑ ูู ุฃูุถูุง ุชุฃุซูุฑ. <br><br>  ููุญุตูู ุนูู ุฃูุถู ุฃุฏุงุก ุ ูู ุงูููู ุชุฌูุจ "ุงููุญููุงุช ุงูุฃุญุงุฏูุฉ" ูุชูุฏูู ุชุทุจูู ุงููุชุงุจุฉ ูุงูุฏููุฉ ูุจุงุดุฑุฉู ุ ุจุงูุฅุถุงูุฉ ุฅูู ููุน ุงูุชุฃุซูุฑ ุงูุฑุฆูุณู. <br><br>  ูุชุญููู ุฐูู ุ ูุณุชุฎุฏู ูุจุฑูุฌู Scala ุฎุฏุนุฉ: ูููููู ุจุฅูุดุงุก ูุซููุงุช (ูููู ูุธููุฉ) ูู ุงููุณุชูู ุงูุนููู ูู ุจุฑุงูุฌูู ูุน ุงูุชุฃุซูุฑุงุช ุซู ูุฒูุฏูููู ุจุงููุฒูุฏ ูู ุงูุจุฑูุงูุฌ ูุชุฃุซูุฑุงุช ูุญููุฉ: <br><br><pre style=";text-align:right;direction:rtl"><code class="scala hljs"><span class="hljs-type"><span class="hljs-type">Ref</span></span>.make[<span class="hljs-type"><span class="hljs-type">AppState</span></span>](initialAppState).flatMap(ref =&gt; <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> monadState = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MonadState</span></span>[<span class="hljs-type"><span class="hljs-type">Task</span></span>, <span class="hljs-type"><span class="hljs-type">AppState</span></span>] { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Task</span></span>[<span class="hljs-type"><span class="hljs-type">AppState</span></span>] = ref.get <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set</span></span></span></span>(s: <span class="hljs-type"><span class="hljs-type">AppState</span></span>): <span class="hljs-type"><span class="hljs-type">Task</span></span>[<span class="hljs-type"><span class="hljs-type">Unit</span></span>] = ref.set(s).unit } myProgram )</code> </pre> <br>  ุนูู ุงูุฑุบู ูู ุฃู ูุซู ูุฐู ุงูุฎุฏุนุฉ ูููุฏุฉ ุ ูุฅููุง ูุง ุชุฒุงู "ุนูุงุฒ".  ูู ุนุงูู ูุซุงูู ุ ูููู ุฃู ุชููู ุฌููุน ูุซููุงุช ูุฆุงุช ุงููุชุงุจุฉ ูุชูุงุณูุฉ (ูุซูู ูุงุญุฏ ููู ููุน) ุ ููุง ูููู ุฅูุดุงุคูุง ูุญูููุง ุ ููุง ูุคุฏู ุฅูู ุฅูุดุงุก ุชุฃุซูุฑุงุช ุ ุซู ูุชู ูููุง ุจุทุฑููุฉ ุณุญุฑูุฉ ุจููู ุถูููุฉ ูุงุณุชุฎุฏุงููุง ุจูุงุณุทุฉ ุงูุทุฑู ุงููุงุญูุฉ. <br><br>  ููุงู ููุฒุฉ ุฑุงุฆุนุฉ ูู MTL / tagless-final ููู ุฃูู ููููู ุชุญุฏูุฏ ูุนุธู ุงูุญุงูุงุช ูุจุงุดุฑุฉ ุฃุนูู ููุน ุจูุงูุงุช ZIO ุจุงุณุชุฎุฏุงู ุจูุฆุฉ ZIO. <br><br>  ูููุง ููู ุทุฑููุฉ ูุงุญุฏุฉ ูุฅูุดุงุก ุชุนุฑูู MonadState ุนุงููู ูููุน ุจูุงูุงุช ZIO: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">S</span></span></span><span class="hljs-class">] </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">state</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Ref</span></span>[<span class="hljs-type"><span class="hljs-type">S</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ZIOMonadState</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">S</span></span>, <span class="hljs-type"><span class="hljs-type">R</span></span> &lt;: <span class="hljs-type"><span class="hljs-type">State</span></span>[<span class="hljs-type"><span class="hljs-type">S</span></span>], <span class="hljs-type"><span class="hljs-type">E</span></span>]: <span class="hljs-type"><span class="hljs-type">MonadState</span></span>[<span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, ?], <span class="hljs-type"><span class="hljs-type">S</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MonadState</span></span>[<span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, ?], <span class="hljs-type"><span class="hljs-type">S</span></span>] { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, <span class="hljs-type"><span class="hljs-type">S</span></span>] = <span class="hljs-type"><span class="hljs-type">ZIO</span></span>.accessM(_.state.get) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set</span></span></span></span>(s: <span class="hljs-type"><span class="hljs-type">S</span></span>): <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, <span class="hljs-type"><span class="hljs-type">Unit</span></span>] = <span class="hljs-type"><span class="hljs-type">ZIO</span></span>.accessM(_.state.set(s).unit) }</code> </pre><br>  ูุชู ุงูุขู ุชุนุฑูู ูุซูู ุนุงููููุง ูุฃู ุจูุฆุฉ ุชุฏุนู ุงูุญุงูุฉ ุนูู ุงูุฃูู <code>State[S]</code> . <br><br>  ูุจุงููุซู ุจุงููุณุจุฉ ูู <code>FunctorListen</code> ุ ูุงููุนุฑูู ุจุงุณู <code>MonadWriter</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Writer</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">W</span></span></span><span class="hljs-class">] </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writer</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Ref</span></span>[<span class="hljs-type"><span class="hljs-type">W</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ZIOFunctorListen</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">W</span></span>: <span class="hljs-type"><span class="hljs-type">Semigroup</span></span>, <span class="hljs-type"><span class="hljs-type">R</span></span> &lt;: <span class="hljs-type"><span class="hljs-type">Writer</span></span>[<span class="hljs-type"><span class="hljs-type">W</span></span>], <span class="hljs-type"><span class="hljs-type">E</span></span>]: <span class="hljs-type"><span class="hljs-type">FunctorListen</span></span>[<span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, ?], <span class="hljs-type"><span class="hljs-type">W</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">FunctorListen</span></span>[<span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, ?], <span class="hljs-type"><span class="hljs-type">W</span></span>] { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">listen</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>](fa: <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, <span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, (<span class="hljs-type"><span class="hljs-type">A</span></span>, <span class="hljs-type"><span class="hljs-type">W</span></span>)] = <span class="hljs-type"><span class="hljs-type">ZIO</span></span>.accessM(_.state.get.flatMap(w =&gt; fa.map(a =&gt; a -&gt; w))) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tell</span></span></span></span>(w: <span class="hljs-type"><span class="hljs-type">W</span></span>): <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, <span class="hljs-type"><span class="hljs-type">W</span></span>] = <span class="hljs-type"><span class="hljs-type">ZIO</span></span>.accessM(_.state.update(_ |+| w).unit) }</code> </pre><br>  ูุจุงูุทุจุน ุ ูููููุง ุฃู ููุนู ุงูุดูุก ููุณู ูุน <code>MonadError</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ZIOMonadError</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>]: <span class="hljs-type"><span class="hljs-type">MonadError</span></span>[<span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, ?], <span class="hljs-type"><span class="hljs-type">E</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MonadError</span></span>[<span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, ?], <span class="hljs-type"><span class="hljs-type">E</span></span>]{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleErrorWith</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>](fa: <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, <span class="hljs-type"><span class="hljs-type">A</span></span>])(f: <span class="hljs-type"><span class="hljs-type">E</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, <span class="hljs-type"><span class="hljs-type">A</span></span>]): <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, <span class="hljs-type"><span class="hljs-type">A</span></span>] = fa catchAll f <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">raiseError</span></span></span></span>[<span class="hljs-type"><span class="hljs-type">A</span></span>](e: <span class="hljs-type"><span class="hljs-type">E</span></span>): <span class="hljs-type"><span class="hljs-type">ZIO</span></span>[<span class="hljs-type"><span class="hljs-type">R</span></span>, <span class="hljs-type"><span class="hljs-type">E</span></span>, <span class="hljs-type"><span class="hljs-type">A</span></span>] = <span class="hljs-type"><span class="hljs-type">ZIO</span></span>.fail(e) }</code> </pre> <br>  ูุฐู ุงูุชูููุฉ ูุงุจูุฉ ููุชุทุจูู ุจุณูููุฉ ุนูู ูุฆุงุช ุงูุฃููุงุน ุงูุฃุฎุฑู ุ ุจูุง ูู ุฐูู ูุฆุงุช ุงูููุน ุจุฏูู ุนูุงูุงุช ุชูููุฒ ุ ูุงูุชู ูุฏ ุชุชุทูุจ ูุซููุงุช ุฅูุดุงุก ุชุฃุซูุฑุงุช (ุงูุชุบููุฑุงุช ุ ุงูุชููููุงุช) ุ ูุธุงุฆู ุงูุงุฎุชุจุงุฑ ุงูุชู ุชููุฏ ุชุฃุซูุฑุงุช (ุงูุฌูุน ุจูู ุชุฃุซูุฑุงุช ุงูุจูุฆุฉ ูุงูููุงูุฉ ุจุฏูู ุนูุงูุงุช) ุ ุฃู ุฃู ุดูุก ุขุฎุฑ ูููู ุงููุตูู ุฅููู ุจุณูููุฉ ูู ุงูุจูุฆุฉ . <br><br>  ูุง ูุฒูุฏ ูู ุงูุชุญููุงุช ุฃุญุงุฏูุฉ ุจุทูุฆุฉ!  ุฏุนูุง ูููู "ูุง" ูุฅูุดุงุก ุชุฃุซูุฑุงุช ุนูุฏ ุชููุฆุฉ ูุซููุงุช ูุฆุฉ ุงููุตู ุ ุฅูู ุงูุชุฏุงุนูุงุช ุงููุญููุฉ.  ูุง ุญุงุฌุฉ ุฅูู ุงููุฒูุฏ ูู ุงูุนูุงุฒุงุช.  ุงูุงูุบูุงุณ ุงููุจุงุดุฑ ูู ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ุงูุจุญุชุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  2. ุชูููุฑ ุงูููุงุฑุฏ ููุฌุฑุฏ ุงูุจุดุฑ </h2><br>  ูุงูุช ุฅุญุฏู ุงูููุฒุงุช ุงูุฃููู ูู ZIO ูู interraption - ูุฏุฑุฉ ููุช ุชุดุบูู ZIO ุนูู ููุงุทุนุฉ ุฃู ุชุฃุซูุฑ ูุงุจู ููุชูููุฐ ุนูู ุงูููุฑ ููุถูููุฉ ูุชุญุฑูุฑ ุฌููุน ุงูููุงุฑุฏ.  ุชุทุจูู ุงูุฎุงู ููุฐู ุงูููุฒุฉ ุถุฑุจ ุงููุทุท IO. <br><br>  ุฃุทูู ูุงุณูู ุนูู ูุฐู ุงูุงุณุชุซูุงุกุงุช ุบูุฑ ุงููุชุฒุงููุฉ ูููุธุงุฆู ุ ูุงูุฐู ูุณูุญ ูู ุจุฅูุดุงุก ุงููููู ุ ูุงูููุงู ุจุนูููุงุช ููุงุฒูุฉ ูุชูุงูุณูุฉ ูุนุงูุฉ ุ ูุงูููุงู ุจุญุณุงุจุงุช ูุซุงููุฉ ุนูู ุงููุณุชูู ุงูุนุงููู.  ุฅู ูุซู ูุฐู ุงูุงููุทุงุนุงุช ูุง ุชุฌูุจ ููุงุฆุฏ ูุจูุฑุฉ ูุญุณุจ ุ ุจู ุชุดูู ุฃูุถูุง ููุงู ูุนูุฏุฉ ูู ูุฌุงู ุฏุนู ุงููุตูู ุงูุขูู ุฅูู ุงูููุงุฑุฏ. <br><br>  ูุณุชุฎุฏู ุงููุจุฑูุฌูู ูุชุชุจุน ุงูุฃุฎุทุงุก ูู ุงูุจุฑุงูุฌ ูู ุฎูุงู ุชุญููู ุจุณูุท.  ูููู ุงูููุงู ุจุฐูู ุฃูุถูุง ุจุงุณุชุฎุฏุงู ZIO ุ ุงูุฐู ูุณุชุฎุฏู ูุธุงู ูุชุงุจุฉ ูููุณุงุนุฏุฉ ูู ุงูุชุดุงู ุงูุฃุฎุทุงุก.  ููู ุงูุงููุทุงุน ุดูุก ุขุฎุฑ.  ูููู ููุงุทุนุฉ ุงูุชุฃุซูุฑ ุงููุงุชุฌ ุนู ุงูุนุฏูุฏ ูู ุงูุชุฃุซูุฑุงุช ุงูุฃุฎุฑู ุนูุฏ ุฃู ุญุฏ. <br><br>  ุงููุธุฑ ูู ุงูุชุฃุซูุฑ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> { handle &lt;- openFile(file) data &lt;- readFile(handle) _ &lt;- closeFile(handle) } <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> data</code> </pre> <br>  ูู ูุชูุงุฌุฃ ูุนุธู ุงููุทูุฑูู ุจูุฐุง ุงูุณููุงุฑูู: ูู ูุชู ุชูููุฐ <code>readFile</code> ุญุงูุฉ ุชุนุทู <code>readFile</code> .  ูุญุณู ุงูุญุธ ุ ูุฅู ูุธุงู ุงูุชุฃุซูุฑุงุช ูุฏูู <code>ensuring</code> ( <code>guarantee</code> ูู Cats Effect) ูุณูุญ ูู ุจุฅุถุงูุฉ ูุนุงูุฌ ููุงุฆู ุฅูู ุชุฃุซูุฑ finalizer ุ ุนูู ุบุฑุงุฑ ุงูููุงุฆู. <br><br>  ูุฐูู ุ ูููู ุญู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูู ุงูููุฏ ุฃุนูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> { handle &lt;- openFile(file) data &lt;- readFile(handle).ensuring(closeFile(handle)) } <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> ()</code> </pre> <br>  ุฃุตุจุญ ุงูุชุฃุซูุฑ ุงูุขู "ููุงูููุง ููุณููุท" ุ ุจูุนูู ุฃูู ุฅุฐุง <code>readFile</code> ููู <code>readFile</code> ุ <code>readFile</code> ุงูููู ูุบูููุง.  ูุฅุฐุง ูุฌุญ <code>readFile</code> ุ ูุณูุชู ุฅุบูุงู ุงูููู ุฃูุถูุง.  ูู ุฌููุน ุงูุญุงูุงุช ุ ุณูุชู ุฅุบูุงู ุงูููู. <br><br>  ูููู ูุง ูุฒุงู ุบูุฑ ุชูุงูุง ุนูู ุงูุฅุทูุงู.  ุงูููุงุทุนุฉ ุชุนูู ุฃูู ูููู ููุงุทุนุฉ ุงูุชุฃุซูุฑ ูู ูู ููุงู ุ ุญุชู ุจูู <code>openFile</code> ู <code>readFile</code> .  ุฅุฐุง ุญุฏุซ ูุฐุง ุ ููู ูุชู ุฅุบูุงู ุงูููู ุงูููุชูุญ ูุณูุญุฏุซ ุชุณุฑุจ ููููุงุฑุฏ. <br><br>  ููุท ุงูุญุตูู ุนูู ููุฑุฏ ูุฅุทูุงูู ููุชุดุฑ ุนูู ูุทุงู ูุงุณุน ูุฏุฑุฌุฉ ุฃู ZIO ูุฏูุช ูุดุบู ููุณ ุ ูุงูุฐู ุธูุฑ ุฃูุถูุง ูู Cats Effect 1.0.  ุชุญูู ุนุจุงุฑุฉ Bracket ูู ุงูุงููุทุงุนุงุช: ุฅุฐุง ุชู ุชููู ุงูููุฑุฏ ุจูุฌุงุญ ุ ูุณูุญุฏุซ ุงูุฅุตุฏุงุฑ ุญุชู ุฅุฐุง ุชูุช ููุงุทุนุฉ ุงูุชุฃุซูุฑ ุจุงุณุชุฎุฏุงู ุงูููุฑุฏ.  ุนูุงูุฉู ุนูู ุฐูู ุ ูุง ูููู ููุงุทุนุฉ ููุง ุงุณุชูุงู ุงูููุฑุฏ ุ ููุง ูููุฑ ุถูุงููุง ูุฃูุงู ุงูููุฑุฏ. <br><br>  ุจุงุณุชุฎุฏุงู ุดุฑูุญุฉ ุ ูุจุฏู ุงููุซุงู ุฃุนูุงู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs">openFile(file).bracket(closeFile(_))(readFile(_))</code> </pre> <br>  ูุณูุก ุงูุญุธ ุ ูุชู ุชุบููู ููุณ ูุงุญุฏ ููุท (ุนุงูุฉ ุฅูู ุญุฏ ูุง) ููุท ุงุณุชููุงู ุงูููุงุฑุฏ.  ููุงู ุงูุนุฏูุฏ ูู ุงูุขุฎุฑูู ุ ูุง ุณููุง ูุน ููุงูู ุงูุจูุงูุงุช ุงูุชูุงูุณูุฉ ุ ูุงูุชู ูุฌุจ ุฃู ูููู ุงููุตูู ุฅูููุง ูุชุงุญูุง ููููุงุทุนุงุช ุ ูุฅูุง ูุฅู ุงูุชุณุฑูุจุงุช ููููุฉ. <br><br>  ุจุดูู ุนุงู ุ ูู ุนูู ุงูููุงุทุนุฉ ูููุณู ุฅูู ุดูุฆูู ุฑุฆูุณููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุน ุงูุงููุทุงุนุงุช ูู ุจุนุถ ุงูููุงุทู ุงูุชู ูุฏ ุชููุทุน ุ </li><li style=";text-align:right;direction:rtl">  ุงูุณูุงุญ ุจุงูุงููุทุงุน ูู ุงูููุงุทู ุงูุชู ูุฏ ุชุชุฌูุฏ. </li></ul><br>  ZIO ูุฏูู ุงููุฏุฑุฉ ุนูู ุชูููุฐ ูููููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูููููุง ุชุทููุฑ ูุณุฎุชูุง ุงูุฎุงุตุฉ ูู ุงูุฃููุงุณ ุจุงุณุชุฎุฏุงู ุชุฌุฑูุฏุงุช ZIO ููุฎูุถุฉ ุงููุณุชูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ZIO</span></span>.uninterruptible { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> { a &lt;- acquire exit &lt;- <span class="hljs-type"><span class="hljs-type">ZIO</span></span>.interruptible(use(a)) .run.flatMap(exit =&gt; release(a, exit) .const(exit)) b &lt;- <span class="hljs-type"><span class="hljs-type">ZIO</span></span>.done(exit) } <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> b }</code> </pre><br>  ูู ูุฐุง ุงูุฑูุฒ ุ ูุนุฏ <code>use(a)</code> ูู ุงูุฌุฒุก ุงููุญูุฏ ุงูุฐู ูููู ููุงุทุนุชู.  ูุถูู ุงููุงููู ุงููุญูุท ุชูููุฐ <code>release</code> ูู ุฃู ุญุงู. <br><br>  ูู ุฃู ููุช ุ ููููู ุงูุชุญูู ููุง ุฅุฐุง ูุงูุช ููุงู ูุฑุตุฉ ููููุงุทุนุฉ.  ููุฐุง ุ ููุงู ุญุงุฌุฉ ููุท ุฅูู ุนูููุชูู ุจุฏุงุฆูุชูู (ูู ุงูุจุงูู ูุดุชู ูููุง). <br><br>  ูุชูุญ ูู ูููุฐุฌ ุงูููุงุทุนุฉ ุงููุงูู ุงูููุฒุงุช ูุฐุง ุชูููุฐ ููุณ ููุท ุชูููุฐ ุจุณูุท ููููุณ ุ ูููู ุฃูุถูุง ุชูููุฐ ุณููุงุฑูููุงุช ุฃุฎุฑู ูู ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุ ุญูุซ ููุฌุฏ ุชูุงุฒู ุจูู ูุฒุงูุง ูุนููุจ ุงูููุงุทุนุงุช. <br><br>  ูููุฑ Cats IO ุนูููุฉ ูุงุญุฏุฉ ููุท ููุชุญูู ูู ุงูููุงุทุนุงุช: Combinator unancelable.  ูุฌุนู ูุชูุฉ ูุงููุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฏูู ุงููุทุงุน.  ุนูู ุงูุฑุบู ูู ุฃู ูุฐู ุงูุนูููุฉ ูุงุฏุฑุงู ูุง ูุชู ุงุณุชุฎุฏุงููุง ุ ุฅูุง ุฃููุง ูุฏ ุชุคุฏู ุฅูู ุชุณุฑุจ ุฃู ุชุฃููู ุงูููุฑุฏ. <br><br>  ูู ุงูููุช ููุณู ุ ุงุชุถุญ ุฃูู ููููู ุชุญุฏูุฏ ุจุฏุงุฆูุฉ ุฏุงุฎู Cats IO ุ ูุงูุชู ุชุชูุญ ูู ุชุญููู ุงููุฒูุฏ ูู ุงูุชุญูู ูู ุงูููุงุทุนุงุช.  ุงุชุถุญ ุฃู ุชูููุฐ ูุงุจูู ูุงุจููุง ุงููุนูุฏ ููุบุงูุฉ ูุงู ุจุทูุฆูุง ููุบุงูุฉ. <br><br>  ูุชูุญ ูู ZIO ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุน ุงูุงููุทุงุนุงุช ุ ุงูุชู ุชุนูู ุนูู ูุณุชูู ุนุงูู ูุน ุจูุงูุงุช ูุฑูุจ ุฅุนูุงูู ุ ููุง ููุฑุถ ุนููู ุงูุงุฎุชูุงุฑ ุจูู ุงูุชุนููุฏ ุงูุดุฏูุฏ ุงูููุชุฑู ุจุงูุฃุฏุงุก ุงูููุฎูุถ ูุงูุชุณุฑุจ ุงููุญุธูุฑ. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ุฐุงูุฑุฉ Transactional Memory ุงููุถุงูุฉ ูุคุฎุฑูุง ูู ZIO ุชุชูุญ ูููุณุชุฎุฏู ูุชุงุจุฉ ููุงูู ุงูุจูุงูุงุช ูุฑููุฒูุง ุจุดูู ุบูุฑ ูุชุฒุงูู ูุชูุงูุณู ุชููุงุฆููุง ูุชุณูุญ ุจุงูููุงุทุนุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  3. ูุถููู ุงูููุงุฆู </h2><br>  ุชููุฑ ูุชูุฉ try / ูุฃุฎูุฑุงู ูู ุงูุนุฏูุฏ ูู ูุบุงุช ุงูุจุฑูุฌุฉ ุงูุถูุงูุงุช ุงููุงุฒูุฉ ููุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุชุฒุงููุฉ ุฏูู ุชุณุฑุจ ุงูููุงุฑุฏ. <br><br>  ุนูู ูุฌู ุงูุฎุตูุต ุ ูุถูู ูุฐุง ุงูุญุธุฑ ูุง ููู: ุฅุฐุง ุจุฏุฃุช ูุชูุฉ ุงููุญุงููุฉ ูู ุงูุชูููุฐ ุ ูุณูุชู ุชูููุฐ ุงููุชูุฉ ุงูููุงุฆูุฉ ุนูุฏ ุชููู ุงููุญุงููุฉ. <br><br>  ููุทุจู ูุฐุง ุงูุถูุงู ุนูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงู ูุชู "ุญุงูู / ุฃุฎูุฑูุง" ูุชุฏุงุฎูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุชูุฌุฏ ุฃุฎุทุงุก ูู "try block" ุ </li><li style=";text-align:right;direction:rtl">  ููุงู ุฃุฎุทุงุก ูู ูุชูุฉ ุงููุชุฏุงุฎูุฉ ุฃุฎูุฑุง. </li></ul><br>  ูููู ุงุณุชุฎุฏุงู ุนูููุฉ "ุถูุงู" ZIO ุชูุงููุง ูุซู ุงููุญุงููุฉ / ุฃุฎูุฑูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> effect2 = effect.ensuring(cleanup)</code> </pre> <br>  ุชููุฑ ZIO ุงูุถูุงูุงุช ุงูุชุงููุฉ ูู "effect.ensuring (finalizer)": ุฅุฐุง ุจุฏุฃ ุชูููุฐ "effect" ุ ูุณูุจุฏุฃ "finalizer" ูู ุงูุชูููุฐ ุนูุฏ ุชููู "effect". <br><br>  ูุซู ุงููุญุงููุฉ / ุฃุฎูุฑูุง ุ ุชุจูู ูุฐู ุงูุถูุงูุงุช ูู ุงูุญุงูุงุช ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงู ุชุฑููุจุงุช "ูุถูููุฉ" ูุชุฏุงุฎูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ููุงู ุฃุฎุทุงุก ูู "ุงูุชุฃุซูุฑ" ุ </li><li style=";text-align:right;direction:rtl">  ููุงู ุฃุฎุทุงุก ูู "finalizer" ุงููุชุฏุงุฎูุฉ. </li></ul><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุชู ุงูุญูุงุธ ุนูู ุงูุถูุงู ุญุชู ุฅุฐุง ุชูุช ููุงุทุนุฉ ุงูุชุฃุซูุฑ (ุชุชุดุงุจู ุงูุถูุงูุงุช ุนูู "ุดุฑูุญุฉ" ุ ูู ุงููุงูุน ุ ูุชู ุชูููุฐ "ููุณ" ุนูู "ุถูุงู"). <br><br>  ูููุฑ ููุน ุจูุงูุงุช Cats IO ุถูุงููุง ุขุฎุฑ ุฃุถุนู.  ุจุงููุณุจุฉ ุฅูู "effect.guarantee (finalizer)" ุ ูุชู ุฅุถุนุงููุง ุนูู ุงููุญู ุงูุชุงูู: ุฅุฐุง ุจุฏุฃ ุชูููุฐ "effect" ุ ูุณูุจุฏุฃ "finalizer" ูู ุงูุชูููุฐ ุนูุฏ ุชููู "effect" ุ ุฅุฐุง ูู ูุชู ุฅุฏุฑุงุฌ ุชุฃุซูุฑ ุงููุดููุฉ ูู "effect". <br><br>  ููุฌุฏ ุถูุงู ุฃุถุนู ุฃูุถูุง ูู ุชูููุฐ "ุงูููุณ" ูู Cats IO. <br><br>  ููุญุตูู ุนูู ุชุณุฑุจ ููุฑุฏ ุ ูุง ุนููู ุณูู ุงุณุชุฎุฏุงู ุงูุชุฃุซูุฑ ุงููุณุชุฎุฏู ุฏุงุฎู ุชุฃุซูุฑ "ุงูููุงูุฉ" ุฃู "bracket.use" ุ ููู ุจุชููููู ุจุดูุก ูู ูุฐุง ุงููุจูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-comment"><span class="hljs-comment">//   `interruptedFiber` -    val bigTrouble = interruptedFiber.join</span></span></code> </pre> <br>  ุนูุฏูุง ูุชู ุฅุฏุฑุงุฌ bigTrouble ุจูุฐู ุงูุทุฑููุฉ ูู ุชุฃุซูุฑ ุขุฎุฑ ุ ูุตุจุญ ุงูุชุฃุซูุฑ ุฏูู ุงููุทุงุน - ูู ูุชู ุชูููุฐ "ููุงุฆูุงุช" ุชู ุชุนููููุง ูู ุฎูุงู "ุงูุถูุงู" ุ ุฃู ูู ูุชู ุชูุธูู ุงูููุงุฑุฏ ูู ุฎูุงู "ุงูููุณ".  ูู ูุฐุง ูุคุฏู ุฅูู ุงุณุชูุฒุงู ุงูููุงุฑุฏ ุ ุญุชู ุนูุฏูุง ูููู ููุงู "finalizer" ูู ุงููุชูุฉ. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ูู ูุจุฏุฃ "finalizer" ูู ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ูู ุงูุชูููุฐ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs">(<span class="hljs-type"><span class="hljs-type">IO</span></span>.unit &gt;&gt; bigTrouble).guarantee(<span class="hljs-type"><span class="hljs-type">IO</span></span>(println(<span class="hljs-string"><span class="hljs-string">"Won't be executed!!!ยซ)))</span></span></code> </pre> <br>  ุนูุฏ ุชูููู ุงูููุฏ ุฏูู ูุฑุงุนุงุฉ ุงูุณูุงู ุงูุนุงู ุ ูู ุงููุณุชุญูู ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ุณูุชู ุฅุฏุฑุงุฌ ุชุฃุซูุฑ ุ ูุซู "bigTrouble" ุ ูู ุฃู ููุงู ูู ุชุฃุซูุฑ "use" ูุนูููุฉ "bracket" ุฃู ุฏุงุฎู ูุชูุฉ "finalizer". <br><br>  ูุฐูู ุ ูู ุชุชููู ูู ูุนุฑูุฉ ูุง ุฅุฐุง ูุงู ุจุฑูุงูุฌ Cats IO ุณูุนูู ูุน ุชุณุฑุจ ุงูููุงุฑุฏ ุฃู ูุชู "finalizer" ุงูููููุฏุฉ ุฏูู ุชูููู ุงูุจุฑูุงูุฌ ุจุงููุงูู.  ูุง ูููู ุชูููู ุงูุจุฑูุงูุฌ ุจุงููุงูู ุฅูุง ูุฏูููุง ุ ูุชููู ูุฐู ุงูุนูููุฉ ุฏุงุฆููุง ูุตุญูุจุฉ ุจุฃุฎุทุงุก ูุง ูููู ุงูุชุญูู ูููุง ุจูุงุณุทุฉ ุงููุชุฑุฌู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฌุจ ุชูุฑุงุฑ ูุฐู ุงูุนูููุฉ ูู ูู ูุฑุฉ ุชุญุฏุซ ูููุง ุฃูุฉ ุชุบููุฑุงุช ูููุฉ ูู ุงูููุฏ. <br><br>  ูุฏู ZIO ุชุทุจูู ูุฎุตุต ูู "ุงูุถูุงู" ูู Cats Effect ู "warrantyCase" ู "bracket".  ุชุณุชุฎุฏู ุงูุชุทุจููุงุช ุฏูุงูุงุช ZIO ุงูุฃุตููุฉ (ูููุณ ุฏูุงูุงุช Cats IO) ุ ููุง ูุณูุญ ููุง ุจุชูููู ุงููุดุงูู ุงููุญุชููุฉ ูุน ุชุณุฑุจ ุงูููุงุฑุฏ ููุง ูุงูุขู ุ ูุน ุงูุนูู ุฃูู ูู ุฌููุน ุงูููุงูู ุณูุชู ุฅุทูุงู ุงูููุงุฆู ูุณูุชู ุชุญุฑูุฑ ุงูููุงุฑุฏ. <br><br><h2 style=";text-align:right;direction:rtl">  4. ุงูุชุจุฏูู ูุณุชูุฑุฉ </h2><br>  ูุญุชูู Cats Effect ุนูู ุทุฑููุฉ "evalOn" ูู "ContextShift" ุ ูุงูุชู ุชุชูุญ ูู ููู ุชูููุฐ ุจุนุถ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฅูู ุณูุงู ุชูููุฐ ุขุฎุฑ. <br><br>  ูุฐุง ูููุฏ ูุนุฏุฉ ุฃุณุจุงุจ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฑุถ ุงูุนุฏูุฏ ูู ููุชุจุงุช ุงูุนููู ุนููู ุงูููุงู ุจุจุนุถ ุงูุนูู ูู ุชุฌูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุฎุงุตุฉ ุจููุ </li><li style=";text-align:right;direction:rtl">  ุชุชุทูุจ ููุชุจุงุช UI ุจุนุถ ุงูุชุญุฏูุซุงุช ุชุญุฏุซ ูู ูุคุดุฑ ุชุฑุงุจุท UIุ </li><li style=";text-align:right;direction:rtl">  ุชุชุทูุจ ุจุนุถ ุงูุชุฃุซูุฑุงุช ุนุฒููุง ุนูู ุชุฌูุนุงุช ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุชู ุชู ุชูููููุง ูุน ููุฒุงุชูุง ุงููุญุฏุฏุฉ. </li></ul><br>  ุชููุฐ ุนูููุฉ "EvalOn" ุงูุชุฃุซูุฑ ุญูุซ ูุฌุจ ุชุดุบูููุง ุ ุซู ุชุนูุฏ ุฅูู ุณูุงู ุงูุชูููุฐ ุงูุฃุตูู.  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs">cs.evalOn(kafkaContext)(kafkaEffect)</code> </pre> <br>  ููุงุญุธุฉ: ูุฏู Cats IO ุจููุฉ "ุชุญูู" ููุงุซูุฉ ุ ูุงูุชู ุชุณูุญ ูู ุจุงูุชุจุฏูู ุฅูู ุณูุงู ูุฎุชูู ุฏูู ุงูุฑุฌูุน ุฅูู ุงูุฎูู ุ ูููู ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุงุฏุฑูุง ูุง ูููู ูุฐุง ุงูุณููู ูุทููุจูุง ุ ูุฐูู ููุถู "evalOn". <br><br>  ูููุฑ ุชุทุจูู ZIO ูู "evalOn" (ุงููุตููุน ุนูู "ููู" ZIO ุงูุจุฏุงุฆู) ุงูุถูุงูุงุช ุงููุงุฒูุฉ ูููู ููุงู ุชุฃุซูุฑ ุงูุชุฃุซูุฑ ุจุดูู ูุฑูุฏ - ุณูุชู ุชูููุฐ ุงูุชุฃุซูุฑ ุฏุงุฆููุง ูู ุณูุงู ูุญุฏุฏ. <br><br>  ุงููุทุท IO ูุฏููุง ุถูุงู ูุฎุชูู ูุฃุถุนู - ุณูุชู ุชูููุฐ ุงูุชุฃุซูุฑ ูู ุณูุงู ูุนูู ุญุชู ุฃูู ุนูููุฉ ุบูุฑ ูุชุฒุงููุฉ ุฃู ุงูุชุจุฏูู ุงูุฏุงุฎูู. <br><br>  ุงููุธุฑ ูู ุฌุฒุก ุตุบูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ููู ุงููุณุชุญูู ูุนุฑูุฉ ูุง ุฅุฐุง ูุงู ุณูุชู ุฏูุฌ ุชุฃุซูุฑ ุบูุฑ ูุชุฒุงูู (ุฃู ุงูุชุจุฏูู ุงููุชุฏุงุฎู) ูู ุงูุชุฃุซูุฑ ุงูุฐู ุณูุชู ุงูุชุจุฏูู ุ ูุฃูู ูุง ูุชู ุนุฑุถ ุนุฏู ุงูุชุฒุงูู ูู ุงูุฃููุงุน. <br><br>  ูุฐูู ุ ููุง ูู ุงูุญุงู ูู ุฃูุงู ุงูููุงุฑุฏ ุ ูููู ุฃูู ุณูุชู ุฅุทูุงู ุชุฃุซูุฑ Cats IO ุ ูู ุงูุถุฑูุฑู ุฏุฑุงุณุฉ ุงูุจุฑูุงูุฌ ุจุฃูููู.  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ููู ุชุฌุฑุจุชู ุ ูุฅู ูุณุชุฎุฏูู Cats IO ูุดุนุฑูู ุจุงูุฏูุดุฉ ุนูุฏูุง ุ ุนูุฏ ุงุณุชุฎุฏุงู "evalOn" ูู ุณูุงู ูุงุญุฏ ุ ููุชุดู ูุงุญููุง ุฃู ูุนุธู ุงูุชุฃุซูุฑ ูุฏ ุชู ุจุทุฑูู ุงูุฎุทุฃ ูู ุณูุงู ุขุฎุฑ. <br><br>  ูุชูุญ ูู ZIO ุชุญุฏูุฏ ุงูููุงู ุงูุฐู ูุฌุจ ุชุดุบูู ุงูุชุฃุซูุฑุงุช ููู ุ ูุงูุซูุฉ ูู ุฃูู ุณูุญุฏุซ ูู ุฌููุน ุงูุญุงูุงุช ุ ุจุบุถ ุงููุธุฑ ุนู ููููุฉ ุฏูุฌ ุงูุชุฃุซูุฑุงุช ูู ุชุฃุซูุฑุงุช ุฃุฎุฑู. <br><br><h2 style=";text-align:right;direction:rtl">  5. ุฃูู ุฑุณุงุฆู ุงูุฎุทุฃ </h2><br>  ุณูุชู ุชุดุบูู ุฃู ุชุฃุซูุฑ ูุฏุนู ุงูุชุฒุงูู ุฃู ุงูุชุฒุงูู ุฃู ุงููุตูู ุงูุขูู ุฅูู ุงูููุงุฑุฏ ูู ูููุฐุฌ ุฎุทุฃ ุฎุทู: โโุจุดูู ุนุงู ุ ูุง ูููู ุญูุธ ุฌููุน ุงูุฃุฎุทุงุก. <br><br>  ูุฐุง ุตุญูุญ ุจุงููุณุจุฉ ููู ูู "Throwable" ุ ููู ููุน ุฎุทุฃ ุซุงุจุช ูุฏูุฌ ูู Cats IO ุ ูููุน ุงูุฎุทุฃ ูุชุนุฏุฏ ุงูุฃุดูุงู ุงููุฏุนูู ูู ZIO. <br><br>  ุฃูุซูุฉ ุนูู ุงูููุงูู ุงูุชู ุจูุง ุนุฏุฉ ุฃุฎุทุงุก ููุฑุฉ ูุงุญุฏุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Finalizer ูููู ุงุณุชุซูุงุก. </li><li style=";text-align:right;direction:rtl">  ูุชู ุงูุฌูุน ุจูู ุงุซููู (ุงูุณููุท) ุงูุขุซุงุฑ ูู ุชูููุฐ ููุงุฒ ุ </li><li style=";text-align:right;direction:rtl">  ุงุซููู (ุงูุณููุท) ุงูุขุซุงุฑ ูู ุญุงูุฉ ุงูุณุจุงูุ </li><li style=";text-align:right;direction:rtl">  ูุณูุท ุงูุชุฃุซูุฑ ุงููุชูุทุน ูุจู ูุบุงุฏุฑุฉ ุงููุณู ุงููุญูู ูู ุงูุงููุทุงุนุงุช. </li></ul><br>  ูุธุฑูุง ูุนุฏู ุญูุธ ุฌููุน ุงูุฃุฎุทุงุก ุ ุชููุฑ ZIO ุจููุฉ ุจูุงูุงุช "ุงูุณุจุจ [E]" ุงุณุชูุงุฏูุง ุฅูู ุดุจู ุญููุฉ ูุฌุงููุฉ (ุชุฌุฑูุฏ ูู ุงูุฌุจุฑ ุงูุชุฌุฑูุฏู ุ ููุง ูููุชุฑุถ ูุนุฑูุชูุง ููุง) ุ ููุง ูุณูุญ ุจุชูุตูู ุงูุฃุฎุทุงุก ุงูุชุณูุณููุฉ ูุงููุชูุงุฒูุฉ ูุฃู ููุน ูู ุงูุฃุฎุทุงุก.  ุฎูุงู ุฌููุน ุงูุนูููุงุช (ุจูุง ูู ุฐูู ุงูุชูุธูู ููุชุฃุซูุฑ ุงูุณุงูุท ุฃู ุงููุชูุทุน) ุ ุชููู ZIO ุจุชุฌููุน ุงูุฃุฎุทุงุก ูู ุจููุฉ ุจูุงูุงุช "ุงูุณุจุจ [E]".  ูููู ุงูุจูุงูุงุช ูุฐุง ูุชุงุญ ูู ุฃู ููุช.  ูุชูุฌุฉ ูุฐูู ุ ุชููู ZIO ุฏุงุฆููุง ุจุชุฎุฒูู ุฌููุน ุงูุฃุฎุทุงุก: ููู ูุชููุฑุฉ ุฏุงุฆููุง ุ ููููู ุชุณุฌูููุง ูุฏุฑุงุณุชูุง ูุชุญููููุง ููููุง ููุชุทูุจุงุช ุงูุนูู. <br><br>  ุงุฎุชุงุฑ ุงููุทุท IO ูููุฐุฌ ูุน ููุฏุงู ูุนูููุงุช ุงูุฎุทุฃ.  ุจูููุง ุชููู ZIO ุจุชูุตูู ุงูุฎุทุฃูู ูู ุฎูุงู Cause [E] ุ ูุฅู Cats IO "ุชููุฏ" ุฅุญุฏู ุฑุณุงุฆู ุงูุฎุทุฃ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนู ุทุฑูู ุงุณุชุฏุนุงุก "e.printStackTrace ()" ุนูู ุงูุฎุทุฃ ุงูุฐู ูุญุฏุซ. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุณูุชู ููุฏ ุฎุทุฃ ูู "finalizer" ูู ูุฐุง ุงูุฑูุฒ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">IO</span></span>.raiseError(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Error</span></span>(<span class="hljs-string"><span class="hljs-string">"Error 1"</span></span>)).guarantee(<span class="hljs-type"><span class="hljs-type">IO</span></span>.raiseError(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Error</span></span>(<span class="hljs-string"><span class="hljs-string">"Error 2ยซ)))</span></span></code> </pre> <br>  ูุฐุง ุงูููุฌ ูุชุชุจุน ุงูุฃุฎุทุงุก ูุนูู ุฃูู ูุง ููููู ุชุญุฏูุฏ ูููุน ููุนุงูุฌุฉ ูุฌููุนุฉ ูุงููุฉ ูู ุงูุฃุฎุทุงุก ุงูุชู ุชุญุฏุซ ุจุณุจุจ ูุฒูุฌ ูู ุงูุขุซุงุฑ ูุญููุง.  ุชุณูุญ ูู ZIO ุจุงุณุชุฎุฏุงู ุฃู ููุน ูู ุงูุฃุฎุทุงุก ุ ุจูุง ูู ุฐูู "Throwable" (ุฃู ุฃููุงุน ูุฑุนูุฉ ุฃูุซุฑ ุชุญุฏูุฏูุง ูุซู "IOExceptio" ุฃู ุชุณูุณู ูุฑูู ุงุณุชุซูุงุก ุขุฎุฑ ูุฎุตุต) ุ ููุง ูุถูู ุนุฏู ููุฏ ุฃูุฉ ุฃุฎุทุงุก ุฃุซูุงุก ุชูููุฐ ุงูุจุฑูุงูุฌ. <br><br><h2 style=";text-align:right;direction:rtl">  6. ุชุฒุงูู ุฏูู ุงูุฌููุฏ </h2><br>  ูููุฑ ูู ูู ZIO ู Cats IO ูููุดุฆูุง ูุณูุญ ูู ุจุชุฏููู ุงูุฑูุฒ ูุน ุฑุฏ ุงุชุตุงู ูููู ูู ุงููุงูุน <br><br>  ูุชู ุชูููุฑ ูุฐู ุงูููุฒุฉ ูู ุฎูุงู ูุฆุฉ ุฃูุงุจูุจ Async ูู ุชุฃุซูุฑ ุงููุทุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> effect: <span class="hljs-type"><span class="hljs-type">Task</span></span>[<span class="hljs-type"><span class="hljs-type">Data</span></span>] = <span class="hljs-type"><span class="hljs-type">Async</span></span>[<span class="hljs-type"><span class="hljs-type">Task</span></span>].async(k =&gt; getDataWithCallbacks( onSuccess = v =&gt; k(<span class="hljs-type"><span class="hljs-type">Right</span></span>(v)), onFailure = e =&gt; k(<span class="hljs-type"><span class="hljs-type">Left</span></span>(e)) ))</code> </pre><br>  ูุคุฏู ูุฐุง ุฅูู ุฅูุดุงุก ุชุฃุซูุฑ ุบูุฑ ูุชุฒุงูู ุ ูุงูุฐู ุ ุนูุฏ ุชูููุฐู ุ ุณููุชุธุฑ ุญุชู ุชุธูุฑ ุงููููุฉ ุ ุซู ูุณุชูุฑ ุ ููู ูุฐุง ุณูููู ูุงุถุญูุง ูููุณุชุฎุฏู ุจุงููุณุจุฉ ููุชุฃุซูุฑ.  ูุฐูู ุ ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ุฌุฐุงุจุฉ ููุบุงูุฉ ูุชุทููุฑ ููุฏ ุบูุฑ ูุชุฒุงูู. <br><br>  ูุงุญุธ ุฃูู ุจูุฌุฑุฏ ุฃู ูุชุญูู ุฑูุฒ ุฑุฏ ุงูุงุชุตุงู ุฅูู ุชุฃุซูุฑ ุ ูุชู ุงุณุชุฏุนุงุก ูุธููุฉ ุฑุฏ ุงูุงุชุตุงู (ุชุณูู ููุง `k`).  ุฅููุงุก ูุธููุฉ ุฑุฏ ุงูุงุชุตุงู ูุฐู ุจูููุฉ ูุฌุงุญ / ุฎุทุฃ.  ุนูุฏ ุงุณุชุฏุนุงุก ูุธููุฉ ุฑุฏ ุงูุงุชุตุงู ูุฐู ุ ูุณุชุฃูู ุชูููุฐ ุงูุชุฃุซูุฑ (ุชู ุฅููุงูู ูุคูุชูุง ูุณุจููุง). <br><br>  ุชุถูู ZIO ุฃู ุงูุชุฃุซูุฑ ุณูุณุชุฃูู ุงูุชูููุฐ ุนูู ุชุฌูุน ูุคุดุฑุงุช ุชุฑุงุจุท ููุช ุงูุชุดุบูู ุฅุฐุง ูู ูุชู ุชุนููู ุงูุชุฃุซูุฑ ุฅูู ุฃู ุณูุงู ุฎุงุต ูุนูู ุ ุฃู ุฅูู ุณูุงู ุขุฎุฑ ุชู ุฅุฑูุงู ุงูุชุฃุซูุฑ ุจู. <br><br>  ูุณุชุฃูู ุงููุทุท IO ุงูุชุฃุซูุฑ ุนูู ูุคุดุฑ ุชุฑุงุจุท ุฑุฏ ุงูุงุชุตุงู.  ุงููุฑู ุจูู ูุฐู ุงูุฎูุงุฑุงุช ุนููู: ูุง ูุชููุน ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุฐู ูุชุณุจุจ ูู ุฑุฏ ุงูุงุชุตุงู ุฃู ูุชู ุชูููุฐ ุฑูุฒ ุฑุฏ ุงูุงุชุตุงู ุฅูู ุงูุฃุจุฏ ุ ููููู ูุณูุญ ููุท ุจุชุฃุฎูุฑ ุจุณูุท ูุจู ุฅุฑุฌุงุน ุนูุตุฑ ุงูุชุญูู.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุง ุชูุฏู Cats IO ูุซู ูุฐุง ุงูุถูุงู ุนูู ุงูุฅุทูุงู: ูุฏ ูุชุฌูุฏ ูุคุดุฑ ุงูุชุฑุงุจุท call call ุ ุฅุทูุงู callback ุ ูู ุงูุชุธุงุฑ ููุช ุบูุฑ ูุญุฏุฏ ุนูุฏ ุนูุฏุฉ ุงูุชุญูู ูู ุงูุชูููุฐ. <br><br>  ุงุณุชุฃููุช ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูู ููุงูู ุงูุจูุงูุงุช ุงูุชูุงูุณูุฉ ูู Cats Effect ("ูุคุฌู" ุ "Semaphore") ุงูุขุซุงุฑ ุงูุชู ูู ุชูุฑุฌุน ุงูุชุญูู ูู ุงูุชูููุฐ ุฅูู ูุคุดุฑ ุงูุชุฑุงุจุท ุงููุชุตู.  ูุชูุฌุฉ ูุฐูู ุ ุชู ุงูุชุดุงู ุงููุดุงูู ุงููุชุนููุฉ ุงูุฌููุฏ ูุฌุฏููุฉ ุงูุชูููุฐ ููุทูุนุฉ ูููุง.  ุนูู ุงูุฑุบู ูู ุฃูู ุชู ุงูุนุซูุฑ ุนูู ูู ูุฐู ุงููุดููุงุช ุ ุฅูุง ุฃููุง ุชู ุญููุง ููุท ูู ุฃุฌู ููุงูู ุงูุจูุงูุงุช ุงูุชูุงูุณูุฉ ูู Cats Effect. <br><br>  ููุฏ ุงููุณุชุฎุฏู ุงูุฐู ูุณุชุฎุฏู ุทุฑููุฉ ููุงุซูุฉ ููุง ูู Cats IO ุณูู ููุงุฌู ูุซู ูุฐู ุงููุดุงูู ุ ูุฃู ูุซู ูุฐู ุงูููุงู ุบูุฑ ุญุชููุฉ ุ ูููู ุฃู ุชุญุฏุซ ุงูุฃุฎุทุงุก ูู ุญุงูุงุช ูุงุฏุฑุฉ ููุบุงูุฉ ุ ูู ููุช ุงูุชุดุบูู ุ ููุง ูุฌุนู ุชุตุญูุญ ุงูุฃุฎุทุงุก ูุงูุชุดุงู ุงููุดููุฉ ุนูููุฉ ุตุนุจุฉ. <br><br>  ูููุฑ ZIO ุญูุงูุฉ ุญุงูุฉ ุชููู ุชุงู ููุฌุฏููุฉ ูููุฉ ุนุงุฏูุฉ ุฎุงุฑุฌ ุงูุตูุฏูู ุ ููุง ูุฌุนู ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุจูุถูุญ ุณููู Cats IO (ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู "unsafeRun" ูู "Promise" ุ ูุงูุชู ุงูุชูุช ุจุชุฃุซูุฑ ุบูุฑ ูุชุฒุงูู ูุณุชุฃูู). <br><br>  ุนูู ุงูุฑุบู ูู ุฃู ุฃูุงู ูู ุงูุญููู ุบูุฑ ููุงุณุจ ูุฌููุน ุงูุญุงูุงุช ุ ูุชููุฑ ZIO ู Cats IO ูุฑููุฉ ูุงููุฉ ูุญู ุฌููุน ุงูููุงูู (ุจุทุฑู ูุฎุชููุฉ) ุ ูุฅู ุงุฎุชูุงุฑ ZIO ูุนูู ุงุณุชุฎุฏุงู "Async" ุฏูู ุฃู ููู ูููุฑุถ ุนููู ูุถุน ุฑูุฒ ุงููุดููุฉ ูู "unsafeRun" ุ ููู ูุนุฑูู ุจุงูุชุณุจุจ ูู ุญุงูุฉ ุชููู ุชุงู <br><br><h2 style=";text-align:right;direction:rtl">  7. ูุชูุงูู ูุน ุงููุณุชูุจู </h2><br>  ูุนุฏ ุงุณุชุฎุฏุงู "Future" ูู ููุชุจุฉ Scala ุงูููุงุณูุฉ ุญูููุฉ ูุงูุนุฉ ูุนุฏุฏ ูุจูุฑ ูู ููุงุนุฏ ุงูููุฏ.  ุชุฃุชู ZIO ุจุฃุณููุจ "fromFuture" ุ ูุงูุฐู ูููุฑ ุณูุงู ุชูููุฐ ุฌุงูุฒูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ZIO</span></span>.fromFuture(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> ec =&gt; <span class="hljs-comment"><span class="hljs-comment">// Create some Future using `ec`: ??? )</span></span></code> </pre> <br>  ุนูุฏ ุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑููุฉ ููุงูุชูุงู ุนูู Future ูู ุฃุญุฏ ุงูุชุฃุซูุฑุงุช ุ ูููู ูู ZIO ุชุนููู ุงูููุงู ุงูุฐู ุณูุชู ููู ุชูููุฐ Future ุ ูุณุชููู ุงูุฃุณุงููุจ ุงูุฃุฎุฑู ุ ูุซู evalOn ุ ุจููู Future ุจุดูู ุตุญูุญ ุฅูู ุณูุงู ุงูุชูููุฐ ุงููุทููุจ.  ููุจู Cats IO "Future" ุ ูุงูุฐู ุชู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู "ExecutionContext" ุฎุงุฑุฌู.  ูุฐุง ูุนูู ุฃู Cats IO ูุง ูููููุง ุชุญุฑูู ุชูููุฐ Future ููููุง ููุชุทูุจุงุช evalOn ุฃู ุฃุณุงููุจ ุงูุชุญูู.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ูุฐุง ูุซูู ูุงูู ุงููุณุชุฎุฏู ุจุชุญุฏูุฏ ุณูุงู ุงูุชูููุฐ ูู Future ุ ููุง ูุนูู ุงุฎุชูุงุฑูุง ุถูููุง ูุจูุฆุฉ ูููุตูุฉ. <br><br>  ูุธุฑูุง ูุฃูู ูููู ุชุฌุงูู ExecutionContext ุงูููุฏูุฉ ุ ูููู ุชูุซูู ZIO ููุฌููุน ูู ููุฒุงุช Cats IO ุ ููุง ูุถูู ุชูุงุนููุง ุฃูุซุฑ ุณูุงุณุฉ ูุฏูุฉ ูุน Future ูู ุงูุญุงูุฉ ุงูุนุงูุฉ ุ ูููู ูุง ุชุฒุงู ููุงู ุงุณุชุซูุงุกุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  8. ุญุธุฑ IO </h2><br>  ููุง ูู ูุจูู ูู ููุงู " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฌูุน ุงูุฎูุท</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃูุถู ุงูููุงุฑุณุงุช ูุน ZIO</a> "ุ ูุชุทุจููุงุช ุงูุฎูุงุฏู ุ ููุฒู ูุฌูุฏ ุชุฌูุนูู ูููุตููู ุนูู ุงูุฃูู ูุชุญููู ุฃูุตู ูุฏุฑ ูู ุงูููุงุกุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุฌูุน ุซุงุจุช ูุขุซุงุฑ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ / ุบูุฑ ูุชุฒุงูู. </li><li style=";text-align:right;direction:rtl">  ุฏููุงููููุฉ ุ ูุน ุฅููุงููุฉ ุฒูุงุฏุฉ ุนุฏุฏ ุญุธุฑ ุงูููุงุถูุน. </li></ul><br>  ุณูุคุฏู ูุฑุงุฑ ุชุดุบูู ุฌููุน ุงูุชุฃุซูุฑุงุช ุนูู ุชุฌูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุซุงุจุช ุฅูู ุชููู ุชุงู ูู ููู ูุง ุ ุจูููุง ูุคุฏู ุชุดุบูู ุฌููุน ุงูุชุฃุซูุฑุงุช ุนูู ุชุฌูุน ุฏููุงูููู ุฅูู ููุฏุงู ุงูุฃุฏุงุก. <br><br>  ุนูู JVM ุ ุชููุฑ ZIO ุนูููุชูู ุชุฏุนูุงู ุชุฃุซูุฑุงุช ุงูุญุธุฑ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุงูู ุงูุชุดุบูู "Blocking (effect") ุ ุงูุฐู ูููู ุจุชุจุฏูู ุชูููุฐ ุชุฃุซูุฑ ูุนูู ูู ูุฌููุนุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงููุญุธูุฑุฉ ุงูุชู ููุง ุฅุนุฏุงุฏุงุช ูุณุจูุฉ ุฌูุฏุฉ ูููู ุชุบููุฑูุง ุฅุฐุง ุฑุบุจุช ูู ุฐูู ุ </li><li style=";text-align:right;direction:rtl"> ยซeffectBlocking(effect)ยป ,          ,        . </li></ul><br>     ,     ,       ,       ยซblockingยป.   ,    -    ,  ,       ยซeffectBlockingยป     ,    ZIO  (  ). <br><br> Cats IO    ,         .    ,     ยซblockingยป,    ยซevalOnยป, , ,         . <br><br>           (      ZIO)         (,        ),          . <br><br><h2 style=";text-align:right;direction:rtl"> 9.   </h2><br>  ,      Scala,          : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ยซReaderTยป/ ยซKleisliยป,       ; </li><li style=";text-align:right;direction:rtl"> ยซEitherTยป,      ( ยซOptionTยป,     ยซEitherTยป   ยซUnitยป    ). </li></ul><br>    ,          (, http4s   ยซKleisliยป  ยซOptionTยป).        (ยซeffect totationยป), ZIO   ยซreaderยป  ยซtyped errorยป      ZIO.         ยซreaderยป  ยซtyped errorยป , ZIO    ,    . , ยซTask[A]ยป,    ยซreaderยป  ยซtyped errorsยป. <br><br>   ZIO     ()      - .  ,      ZIO     ,      . <br><br> Cats IO    .  ,  ,   ยซreaderยป  ยซtyped errorsยป      ยซstateยป, ยซwriterยป  ,      . <br><br> ZIO     8   Cats IO    .               ,          Scala          . <br><br><h2 style=";text-align:right;direction:rtl"> 10.   </h2><br> ZIO   ,        ,      . ,           Scala,      . <br><br>   ZIO   2000  ,    ยซtyped errorsยป  ,       โ     375    .        Scala ,      .     ,      ,         . <br><br>           : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">      ; </li><li style=";text-align:right;direction:rtl">        ; </li><li style=";text-align:right;direction:rtl">  ,       ; </li><li style=";text-align:right;direction:rtl">       . </li></ul><br>         .   , -    ,      . <br><br> -            .        ,     .      ZIO    . Cats IO    ,     ,  ZIO ( ,       ). <br><br><h2 style=";text-align:right;direction:rtl"> 11.   </h2><br>  ZIO   ,     ,  -       . <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ,  : ยซZIO. succeedยป  ยซApplicative[F].pureยป, ยซzipยป  ยซApply[F].productยป, ยซZIO.foreachยป  ยซTraverse[F].traverseยป. <br></li><li style=";text-align:right;direction:rtl">         (Cats, Cats Effect, Scalaz     ). </li><li style=";text-align:right;direction:rtl">  ,       (  ยซRuntimeยป,      Cats Effect  -   Cats Effect).  โ        Cats IO. </li><li style=";text-align:right;direction:rtl">    . </li><li style=";text-align:right;direction:rtl">         . : "zip"/"zipPar", "ZIO.foreach"/"ZIO.foreachPar", "ZIO.succeed"/"ZIO.succeedLazyยซ. <br></li><li style=";text-align:right;direction:rtl">      ,        ยซยป.   ZIO    IDE. </li><li style=";text-align:right;direction:rtl">      Scala  ZIO  : ยซZIO.fromFutureยป, ยซZIO.fromOptionยป, ยซZIO.fromEitherยป, ยซZIO.fromTryยป. </li><li style=";text-align:right;direction:rtl">         ยซยป. </li></ul><br> ,          Scala,    ,  ZIO   ,       ,   ,   ZIO,     . Cats IO     ,        Cats. <br><br>     ,      ,     ,       ( , ,    ). <br><br><h2 style=";text-align:right;direction:rtl"> 12.  </h2><br> ZIO โ  - ,           . <br><br>     : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">     ,  ยซRefยป, ยซPromiseยป, ยซQueueยป, ยซSemaphoreยป   ยซStreamยป    //; </li><li style=";text-align:right;direction:rtl"> STM,       , ,     ; </li><li style=";text-align:right;direction:rtl"> ยซScheduleยป,    ; </li><li style=";text-align:right;direction:rtl">    ยซClockยป, ยซRandomยป, ยซConsoleยป  ยซSystemยป ,     ; </li><li style=";text-align:right;direction:rtl">      ,    . </li></ul><br> -   Cats IO    .    Cats IO  ,      (  )      . <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  Cats Effect      Scala-,   ,    . <br><br>  ,   Cats Effect,    ,         Cats Effect : Cats IO, Monix, Zio. <br><br>    ,      .        ,    , ,  : ZIO  Cats Effect    . <br><br><blockquote style=";text-align:right;direction:rtl">          Scala      โ    .          ,   Scala. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> ScalaConf  ,   18     ,     John A De Goes  . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar472386/">https://habr.com/ru/post/ar472386/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar472372/index.html">ุฃุชูุชุฉ ุฃูุฏุฑููุฏ ุฏููู ุณูู ููุบุงูุฉ ูุฅูุดุงุก ุฃูู ุงุฎุชุจุงุฑ ูุฅุณุจุฑูุณู</a></li>
<li><a href="../ar472374/index.html">ููุงุฐุง ุงูุชูููุง ุงูุฎูุงุฏู ุฅูู ุฃูุณููุฏุง</a></li>
<li><a href="../ar472378/index.html">ููุซูููุฉ ุงูููุงุด: ูุชููุน ูุบูุฑ ูุชููุน. ุงูุฌุฒุก 2. ุงููุคุชูุฑ ุงูุฑุงุจุน ุนุดุฑ ูุฌูุนูุฉ USENIX. ุชูููุงุช ุชุฎุฒูู ุงููููุงุช</a></li>
<li><a href="../ar472380/index.html">MIRO - ููุตุฉ ุฑูุจูุช ุฏุงุฎููุฉ ููุชูุญุฉ</a></li>
<li><a href="../ar472384/index.html">ูุธุฑุฉ ุนูู ุชุญุฏูุซุงุช Android ูู ููุธูุฑ ุงููุทูุฑ</a></li>
<li><a href="../ar472388/index.html">ููู ูุงุฑุช ุชุนูู ุญุฑุจ ุฃุณุนุงุฑ ุงูุฃูุงุฒูู</a></li>
<li><a href="../ar472392/index.html">ุตุนูุฏ ูุณููุท ูุฅุฑุฌุงุน ุงูุฃุดุฑุทุฉ ุงูุตูุชูุฉ ุงููุณููุญ ุจูุง - ูุชุนุงูู ูุน ุงูุฎุฑุงูุงุช ูููุฏู ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููููู</a></li>
<li><a href="../ar472394/index.html">ุชูููู ุชุฃุซูุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุนูู ุงูููุท ูุงูุบุงุฒ ุงูุจุญุฑู</a></li>
<li><a href="../ar472396/index.html">ุญูู ุงูุนุงูู ูู 4 ุซูุงูู ูู Columnstore (ุงูุฌุฒุก ุงูุฃูู)</a></li>
<li><a href="../ar472402/index.html">ุชุฏูู ููุงููุฉ ููุฏูู RTMP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>