<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤦🏼 ✍️ ↖️ Curso MIT "Segurança de sistemas de computadores". Palestra 14: “SSL e HTTPS”, parte 2 ☝🏽 👩🏾‍🔧 🌛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula nº 6.858. "Segurança de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Segurança de sistemas de computadores". Palestra 14: “SSL e HTTPS”, parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427785/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula nº 6.858.  "Segurança de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security é um curso sobre o desenvolvimento e implementação de sistemas de computador seguros.  As palestras abrangem modelos de ameaças, ataques que comprometem a segurança e técnicas de segurança baseadas em trabalhos científicos recentes.  Os tópicos incluem segurança do sistema operacional (SO), recursos, gerenciamento de fluxo de informações, segurança de idiomas, protocolos de rede, segurança de hardware e segurança de aplicativos da web. <br><br>  Palestra 1: “Introdução: modelos de ameaças” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: “Controle de ataques de hackers” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: “Estouros de Buffer: Explorações e Proteção” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: “Separação de Privilégios” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: “De onde vêm os sistemas de segurança?” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: “Oportunidades” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: “Sandbox do Cliente Nativo” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 8: “Modelo de Segurança de Rede” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 9: “Segurança de aplicativos da Web” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 10: “Execução Simbólica” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 11: “Linguagem de Programação Ur / Web” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 12: Segurança de rede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 13: “Protocolos de Rede” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 14: “SSL e HTTPS” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  A primeira razão é que o protocolo OCSP adiciona um atraso a cada solicitação que você faz.  Cada vez que você deseja se conectar a um servidor, primeiro você precisa se conectar ao OCSP, aguardar que ele responda e depois fazer outra coisa.  Portanto, os atrasos na conexão não contribuem para a popularidade deste protocolo. <br><br>  O segundo motivo é que você não deseja que o OCSP afete sua capacidade de navegar na web.  Suponha que o servidor OSCP esteja inoperante e você possa perder completamente a Internet, porque o protocolo considera que, como não é possível verificar o certificado de alguém, é possível que todos os sites na Internet sejam ruins e você não deve ir lá.  Como ninguém precisa disso, a maioria dos clientes vê a não interferência do servidor OCSP como um desenvolvimento positivo. <br><br><img src="https://habrastorage.org/webt/ou/hg/z8/ouhgz8o30mmy-dsatasxyeujasm.jpeg"><br><br>  Isso é realmente ruim do ponto de vista da segurança.  Como se você é um invasor e deseja convencer alguém de que possui um certificado legal, mas, na realidade, esse certificado foi revogado, tudo o que você precisa fazer é impedir que o cliente se comunique com o servidor OCSP. <br><br>  O cliente dirá o seguinte: "Estou tentando solicitar uma verificação de certificado do site de que preciso, mas esse OCSP, ao que parece, não está próximo, então apenas vou a este site".  Portanto, usar o OCSP não é um bom plano. <br><br>  Na prática, as pessoas tentam criar essa alternativa, porque os clientes tendem a cometer erros graves.  Assim, por exemplo, o navegador Chrome é entregue ao cliente, já tendo em si uma lista de certificados que o Google realmente deseja revogar.  Portanto, se alguém emitir um certificado incorretamente para o Gmail ou outro site importante, como o Facebook ou a Amazon, a próxima versão do Chrome já conterá essas informações na lista de verificação interna.  Dessa forma, você não precisa acessar o servidor CRL e se comunicar com o OCSP.  Se o navegador tiver verificado que o certificado não é mais válido, o cliente o rejeitará. <br><br>  <b>Aluno:</b> digamos que roubei a chave secreta da CA, porque nem todas as chaves públicas são criptografadas? <br><br>  <b>Professor:</b> Sim, isso terá consequências ruins.  Eu não acho que exista solução para esse problema.  Obviamente, houve situações em que os centros de certificação foram comprometidos; por exemplo, em 2011, havia duas CAs comprometidas que de alguma forma emitiram certificados para o Gmail, Facebook e assim por diante.  Não está claro como isso aconteceu, talvez alguém realmente tenha roubado sua chave secreta.  Mas, independentemente dos motivos do comprometimento, essas CAs foram removidas da lista de autoridades de certificação confiáveis, incorporadas aos navegadores, de modo que não estavam mais na próxima versão do Chrome. <br><br>  De fato, isso causou problemas para os titulares legítimos de certificados emitidos por esses centros, porque seus certificados anteriores se tornaram inválidos e eles tiveram que obter novos certificados.  Então, na prática, todo esse barulho com certificados é um assunto bastante confuso. <br><br>  Então, examinamos o princípio geral dos certificados.  Eles são melhores que o Kerberos no sentido de que você não precisa mais desse cara para ficar online o tempo todo.  Além disso, eles são mais escaláveis, porque você pode ter vários KDCs e não precisa se comunicar com eles sempre que estabelecer uma conexão. <br><br>  Outro recurso interessante desse protocolo é que, diferentemente do Kerberos, você não precisa autenticar os dois lados da conexão.  Você pode se conectar ao servidor da web sem ter um certificado para si mesmo, e isso acontece o tempo todo.  Se você acessar o site amazon.com, verificará se o site da Amazon é o certo, mas a Amazon não tem idéia de quem você é e não saberá até que você se autentique no site.  Portanto, no nível do protocolo de criptografia, você não possui um certificado, mas a Amazon possui um. <br><br>  Isso é muito melhor que o Kerberos, porque você deve ter uma entrada em seu banco de dados para se conectar aos serviços Kerberos.  O único inconveniente de usar este protocolo é que o servidor deve ter um certificado.  Portanto, você não pode se conectar ao servidor e dizer: "Ei, vamos criptografar nossas coisas.  Não tenho idéia de quem você é, mas você não tem idéia de quem eu sou, mas vamos criptografá-lo de qualquer maneira.  Isso é chamado de criptografia oportunista e, é claro, é vulnerável a ataques intermediários.  Você pode criptografar coisas comuns com alguém, sem conhecê-lo; em seguida, um invasor que está se preparando para atacar você também pode criptografar seus pacotes mais tarde e se proteger de bisbilhoteiros. <br><br>  Por isso, é uma pena que esses protocolos que estamos considerando aqui - SSL, TLS - não ofereçam esse tipo de criptografia oportunista.  Mas assim é a vida. <br><br><img src="https://habrastorage.org/webt/nc/ub/ad/ncubadhb3kgtliwcappped2edsc.jpeg"><br><br>  <b>Aluno:</b> Estou apenas curioso.  Digamos que uma vez por ano, eles criem pares de chaves com novos nomes.  Por que não tentar usar essa chave específica o ano todo? <br><br>  <b>Professor:</b> Eu acho que eles fazem isso.  Mas algo parece estar errado com este circuito.  Aqui, como no Kerberos, as pessoas começam usando criptografia forte, mas, com o tempo, fica cada vez pior.  Os computadores estão se tornando mais rápidos, novos algoritmos estão sendo desenvolvidos para quebrar com êxito essa criptografia.  E se as pessoas não se importam em melhorar a confiabilidade, os problemas aumentam.  Por exemplo, acontece quando um grande número de certificados é assinado. <br><br>  Existem duas nuances aqui.  Existe um esquema de assinatura de chave pública.  Além disso, como a chave pública criptografada tem algumas limitações, ao assinar uma mensagem, na realidade, apenas o hash dessa mensagem é assinado, porque é difícil assinar uma mensagem gigantesca, mas é fácil assinar um hash compacto. <br><br>  O problema surgiu porque as pessoas usavam o MD5 como uma função de hash, transformando a assinatura de uma mensagem enorme em algo de 128 bits criptografado.  Talvez o MD5 tenha sido bom há 20 anos, mas com o tempo, as pessoas descobriram pontos fracos que poderiam ser explorados por um invasor. <br><br>  Suponha que, em algum momento, alguém realmente solicite um certificado com um hash MD5 específico e analise cuidadosamente outra mensagem que foi hash com o mesmo valor MD5.  Como resultado, ele tinha uma assinatura de CA com hash e, em seguida, outra mensagem apareceu, ou uma chave diferente ou um nome diferente, e agora ele pode convencer alguém de que está assinada com o certificado correto.  E isso está realmente acontecendo.  Por exemplo, se você gastar muito tempo tentando quebrar uma chave, terá êxito.  Se este certificado usar criptografia, ele poderá ser quebrado usando o método de força bruta. <br><br>  Outro exemplo de uso malsucedido da criptografia é o algoritmo RSA.  Não falamos sobre o RSA, mas o RSA é um desses sistemas criptográficos de chave pública que permite criptografar e assinar mensagens.  Hoje em dia, você pode gastar muito dinheiro, mas no final, quebra as chaves RSA de 1000 bits.  Você provavelmente terá que fazer uma quantidade gigantesca de trabalho, mas isso é fácil de fazer ao longo do ano.  Você pode solicitar à autoridade de certificação para assinar uma mensagem ou até mesmo pegar a chave pública existente de alguém, tentar encontrar a chave secreta apropriada para ela ou cortá-la manualmente. <br>  Portanto, você deve acompanhar o invasor, usar chaves RSA maiores ou usar um esquema de criptografia diferente. <br><br>  Por exemplo, agora as pessoas não usam hashes e certificados MD5.  Eles usam o algoritmo de hash criptográfico SHA-1.  Por algum tempo, forneceu a segurança necessária, mas hoje é uma defesa fraca.  Agora, o Google está ativamente tentando forçar desenvolvedores da Web e desenvolvedores de navegadores a abandonar o uso do SHA-1 e usar uma função de hash diferente, porque é claro que, talvez depois de 5 ou 10 anos, atacar com êxito o SHA-1 não será difícil.  Sua fraqueza já foi comprovada. <br><br>  Então, eu acho que a bala mágica, como tal, não existe.  Você só precisa ter certeza de que continua desenvolvendo em paralelo com os hackers.  Claro, o problema existe.  Portanto, todas as coisas sobre as quais falamos devem se basear na criptografia adequada ou no fato de ser muito difícil de decifrar.  Portanto, você deve escolher as opções apropriadas.  Pelo menos, existe uma data de validade, portanto, é melhor escolher uma data de validade de 1 ano, em vez de 10 anos. <br><br><img src="https://habrastorage.org/webt/qi/yi/6v/qiyi6v-gw4dxnfu2aljfqsbry84.jpeg"><br><br>  Essa chave de CA cria um problema mais sério, pois não tem uma data de validade.  Portanto, você deve escolher configurações de segurança mais agressivas, por exemplo, chaves RSA de 4000 ou 6000 bits ou outra coisa.  Ou um esquema de criptografia diferente, ou todos juntos, mas não use SHA-1 aqui. <br><br>  Agora vamos ver como integramos esse protocolo em um aplicativo específico, a saber, um navegador da web.  Se você deseja fornecer comunicação de rede ou comunicação com sites usando criptografia, há três coisas no navegador que devemos proteger. <br><br>  A primeira coisa, A é a proteção de dados na rede.  Isso é relativamente fácil, porque apenas vamos executar um protocolo muito semelhante ao que eu descrevi até agora.  Vamos criptografar todas as mensagens, assiná-las, garantir que elas não tenham sido adulteradas; em geral, faremos todas essas coisas maravilhosas.  É assim que protegeremos os dados. <br><br>  Mas há mais duas coisas no navegador da Web com as quais realmente precisamos nos preocupar.  Portanto, o primeiro, B, é o código usado no navegador, por exemplo, JavaScript ou dados importantes armazenados no navegador, nos cookies ou no armazenamento local, tudo isso deve estar protegido de alguma forma contra hackers.  Em um segundo, vou lhe dizer como protegê-los. <br><br>  O último, C, no qual você geralmente não pensa, mas o que pode se tornar um problema real na prática, é proteger a interface do usuário.  E a razão para isso é que, em última instância, a maioria dos dados confidenciais com os quais nos preocupamos com proteção vem do usuário.  Portanto, o usuário imprime dados em algum site e ele provavelmente tem várias guias de sites diferentes abertas simultaneamente, para poder distinguir com qual site ele está realmente interagindo, a qualquer momento. <br><br><img src="https://habrastorage.org/webt/ff/r5/sx/ffr5sxflt5wiyeffvqcc-19g3ko.jpeg"><br><br>  Se ele acidentalmente digitar a senha da Amazon em algum fórum da web, isso não levará a conseqüências desastrosas, dependendo de quanto ele se preocupa com a senha da Amazon, mas ainda assim será desagradável.  Portanto, você realmente deseja ter uma boa interface do usuário que ajude o usuário a entender o que está fazendo, se ele imprime dados confidenciais no site certo e se algo acontece com esses dados depois que ele os envia.  Portanto, essa é uma questão muito importante para proteger aplicativos da Web. <br><br>  Então, vamos falar sobre o que os navegadores modernos fazem com essas coisas A, B e C.  Como mencionei, para proteger os dados na rede, simplesmente usaremos esse protocolo, chamado SSL ou TLS, se criptografia e autenticação de dados forem usadas. <br><br><img src="https://habrastorage.org/webt/hz/lm/w-/hzlmw-7eizpg4ftw37xs3rfuaha.jpeg"><br><br>  Isso é muito semelhante ao que discutimos e inclui autoridades de certificação e assim por diante.  E então, é claro, há muitos mais detalhes.  Por exemplo, o TLS é extremamente complexo, mas não o consideraremos desse ponto de vista.  Vamos nos concentrar na proteção do navegador, que é muito mais interessante.  Precisamos garantir que qualquer código ou dado entregue através de conexões não criptografadas não seja capaz de alterar o código e os dados recebidos de uma conexão criptografada, porque nosso modelo de ameaça é tal que todos os dados não criptografados podem ser falsificados por um invasor na rede. <br><br>  Portanto, se tivermos algum tipo de código JavaScript não criptografado que é executado em nosso navegador, devemos assumir que ele pode ter sido violado por um invasor porque não foi criptografado.  Não foi autenticado pela rede.  E, portanto, devemos impedir sua interferência de qualquer página entregue por meio de uma conexão não criptografada. <br><br>  Portanto, o plano geral é que, para isso, introduzamos um novo esquema de URL, que chamaremos de HTTPS.  Você costuma ver isso nos URLs.  O novo esquema de URL é que agora esses URLs são simplesmente diferentes dos endereços HTTP.  Portanto, se você tiver um URL com este HTTPS: //, ele terá uma origem de origem diferente dos URLs HTTP comuns, porque os últimos passam por patches não criptografados, eles passam por SSL / TLS.  Dessa forma, você nunca confundirá esses tipos de endereços se a mesma política de origem funcionar corretamente. <br><br>  Portanto, esta é uma peça do quebra-cabeça.  Mas também é necessário garantir a distinção correta entre sites criptografados, porque, por motivos históricos, eles usam políticas de cookies diferentes.  Então, vamos falar primeiro sobre como distinguiremos diferentes sites criptografados um do outro. <br><br>  O plano é que o nome do host através da URL seja o nome no certificado.  De fato, as autoridades de certificação assinam o nome do host, que aparece no URL como o nome da chave pública do servidor da web.  Como tal, a Amazon supostamente possui um certificado para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.amazon.com</a> .  Este é o nome em nossa tabela que possui a chave pública correspondente à sua chave privada. <br><br><img src="https://habrastorage.org/webt/02/ac/pr/02acprkvkfgjid2srmwparj-2di.jpeg"><br><br>  É isso que o navegador procurará.  Portanto, se ele recebe um certificado, se ele tenta se conectar ou obter o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">URL foo.com</a> , significa que o servidor representa com precisão o certificado autêntico foo.com.  Caso contrário, digamos, tentamos entrar em contato com um cara e contatamos outro, porque ele tem um nome completamente diferente no certificado ao qual nos conectamos.  Isso será uma incompatibilidade de certificado. <br><br>  Veja como distinguiremos sites diferentes um do outro: levaremos a CA para isso para nos ajudar a distinguir esses sites um do outro, porque os CAs prometem emitir certificados apenas para os membros de rede certos.  Portanto, isso faz parte da mesma política de origem, segundo a qual dividimos o código em partes.  Como você se lembra, os cookies têm uma política um pouco diferente.  Eles são quase da mesma origem, mas não exatamente, os cookies têm um plano um pouco diferente.  Os cookies têm o chamado sinalizador de segurança, Secure Flag.  A regra é que, se os cookies tiverem esse sinalizador, eles serão enviados apenas em resposta a solicitações HTTPS ou em conjunto com solicitações HTTPS.  Os cookies com e sem um sinalizador de segurança se relacionam entre si como solicitações https e http. <br><br><img src="https://habrastorage.org/webt/tw/l4/-6/twl4-6-mbn5k_6oidgztjwj-w00.jpeg"><br><br>  Isso é um pouco complicado.  Seria mais fácil se um cookie simplesmente indicasse que era um cookie para o host HTTPS, e era um cookie para o host HTTP, e eles eram completamente diferentes.  Isso ficaria muito claro em termos de isolamento de sites seguros de sites inseguros.  Infelizmente, por razões históricas, os cookies usam esse tipo estranho de interação. <br><br>  Portanto, se um cookie é marcado como seguro, ele se aplica apenas a sites HTTPS, ou seja, possui o host correto.  Cookies seguros aplicam-se apenas a URLs de host HTTPS, enquanto cookies inseguros se aplicam a ambos os tipos de URLs, para https e http, portanto, em apenas um segundo, isso se tornará uma fonte de problemas para nós. <br><br>  E o último toque que os navegadores da web colocam para tentar nos ajudar nesse sentido é o aspecto da interface do usuário na qual eles inserem algum tipo de ícone de cadeado para que os usuários possam vê-lo.  Portanto, você deve prestar atenção ao ícone de cadeado na barra de endereços do navegador e ao URL para descobrir em qual site você está realmente localizado. <br><br>  Os desenvolvedores de navegadores da Web esperam que você se comporte da seguinte maneira: depois de acessar um site, verifique primeiro o URL e verifique se esse é o nome do host com o qual deseja conversar e, em seguida, encontre o ícone de cadeado e entenda que está tudo bem.  Este é um aspecto da interface do usuário do navegador. <br><br>  No entanto, isso não é suficiente.  Acontece que muitos sites de phishing simplesmente incluem a imagem do ícone de cadeado no próprio site, mas usam um URL diferente.  E se você não souber qual deve ser o endereço deste site, poderá ser enganado.  Nesse sentido, esse lado da interface do usuário é um pouco confuso, em parte porque os próprios usuários geralmente ficam confusos.  Portanto, é difícil dizer o que está aqui.  Portanto, focaremos principalmente o segundo aspecto, B, que certamente é muito mais fácil de discutir.  Tem perguntas sobre isso? <br><br><img src="https://habrastorage.org/webt/qa/fd/hd/qafdhd88bbl1aei6z5osbicglea.jpeg"><br><br>  <b>Aluno:</b> Percebi que alguns sites mudam ao longo do tempo de HTTP para HTTPS. <br><br>  <b>Professor:</b> sim, os navegadores evoluem com o tempo, e isso é confirmado pelo fato de terem um ícone de cadeado.  Alguns navegadores definem um ícone de cadeado apenas se todo o conteúdo ou todos os recursos da sua página também forem transmitidos via https.  Portanto, um dos problemas que o HTTPS está tentando resolver à força é o conteúdo misto ou problemas com tipos de conteúdo inseguros incorporados na página.  Portanto, às vezes você não poderá obter um ícone de cadeado por causa dessa verificação.  Se o navegador Chrome considerar que o certificado do site não é bom o suficiente e usa criptografia fraca, ele não exibirá um ícone de cadeado.  No entanto, navegadores diferentes agem de maneira diferente e, se o Chrome não fornecer um ícone de cadeado, o Firefox poderá.  Portanto, novamente, não há uma definição clara do que esse ícone de cadeado significa. <br><br>  Vamos ver quais problemas podem surgir ao implementar este plano.  No HTTP normal, estamos acostumados a confiar no DNS, o que deve nos fornecer o endereço IP correto no servidor.     DNS    HTTPS URL-?   DNS         DNS? <br><br> <b>:</b>  ,  ,      ,   IP-. <br><br> <b>:</b>  ,    , ,  amazon.com. <br><br> <b>:</b> , -    amazon.com,        IP-. <br><br> <b>:</b>  ,    ,     –  -      DNS  . , DNS      ,      .    ,  DNS   ,     IP-,    .   ,  -  DNS-     IP-?   ? <br><br> <b>:</b>  ,    HTTPS? <br><br> <b>:</b>  ,  ,            . <br><br> <b>:</b> ,      HTTP URL. <br><br> <b>:</b>   ,        HTTPS,        . <br><br> <b>:</b>         . <br><br> <b>:</b> ,  .      .  ,    CA,      , ,  ,    -    ,      . <br><br> ,   -     https  ,  -    ,     ,    ,         ,    ,     ,      . <br><br>   HTTPS  ,   -   . ,      .   ,   ,      ,     .      -. «   ,       ».      ,   ,      ,    - ,          .  , -           . <br><br>      ,  , ,      . ,     amazon.com  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.amazon.com</a> , , ,    . <br><br>      -,     ,         ,    .     ,  : „ ,      , , ,     ».    ,  -        ,   .            . <br><br>   ,    DNS,             ,            ,     . <br><br>  , ,      DNS,  . ,          DNS-,   SSL / TLS  HTTPS,    DNS .     ,  DNS   .        DoS ,    ,     . <br><br>    ,     —     ,    ?  ,              ,       ?     ,      ? <br><br><img src="https://habrastorage.org/webt/zb/e6/cr/zbe6crkrrghb5p_sfcmriorkiz8.jpeg"><br><br> <b>:</b> ,    -     ,   .  ,     . <br><br> <b>:</b> ,   , ,      ,  ,      ,       : «  »! , ,   - , ,     ,     ,    .    ,     . <br><br> <b>:</b>  ,             . <br><br> <b>:</b> ,    .        . ,    ,   ,  ,    ,      cookies,    ,       URL-,       ,    origin. ,     -        amazon.com   ,    ,  ,    ,    amazon.com.      ,     amazon.com,   ,         ,       ,  ,      ,      JavaScript   . <br><br> ,      ,    -.           ,    .    -     amazon.com  «»  .    ,         amazon.com,     ,   ,       ,       .    .       ,    ,      . <br><br> 52:10  <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> MIT «  ».  14: «SSL  HTTPS»,  3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/q1OF_0ICt9A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A versão completa do curso está disponível </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Obrigado por ficar conosco.  Você gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usuários da Habr em um análogo exclusivo de servidores básicos que inventamos para você:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD 1Gbps da US $ 20 ou como dividir o servidor?</a>  (as opções estão disponíveis com RAID1 e RAID10, até 24 núcleos e até 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD de 1Gbps até dezembro de graça</b> quando pagar por um período de seis meses, você pode fazer o pedido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente nós temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um prédio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt427785/">https://habr.com/ru/post/pt427785/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt427773/index.html">Eu escrevi uma extensão entre navegadores para guias, mas você não faz isso</a></li>
<li><a href="../pt427775/index.html">Um bot disfarçado de programador corrige erros no código</a></li>
<li><a href="../pt427779/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 3</a></li>
<li><a href="../pt427781/index.html">Por que a ciência de dados das organizações de crédito</a></li>
<li><a href="../pt427783/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 14: “SSL e HTTPS”, parte 1</a></li>
<li><a href="../pt427787/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 14: “SSL e HTTPS”, parte 3</a></li>
<li><a href="../pt427789/index.html">Exxon Mobil acusada de manipular dados de impacto ambiental da empresa para enganar investidores</a></li>
<li><a href="../pt427793/index.html">Winamp 2019: retorno triunfante e perspectivas vagas</a></li>
<li><a href="../pt427795/index.html">[Sexta-feira] AI Revenge</a></li>
<li><a href="../pt427797/index.html">Princípio KISS no desenvolvimento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>