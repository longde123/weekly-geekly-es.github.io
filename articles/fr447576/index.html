<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¼ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¼ â” DÃ©veloppement JavaScript responsable Partie 1 ğŸ’€ ğŸ§˜ğŸ» ğŸ‘¨ğŸ¼â€ğŸ”¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les chiffres nous indiquent que la croissance du code JavaScript a un mauvais effet sur les performances des projets Web. Si cela continue, puis trÃ¨s ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DÃ©veloppement JavaScript responsable Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/447576/">  Les chiffres nous indiquent que la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://">croissance du</a> code JavaScript a un mauvais effet sur les performances des projets Web.  Si cela continue, puis trÃ¨s bientÃ´t, lors du chargement de la page du milieu, au moins 400 Ko de code JS seront transfÃ©rÃ©s.  Et ce n'est que la quantitÃ© de donnÃ©es transfÃ©rÃ©es.  Comme d'autres ressources textuelles, le code JavaScript est presque toujours transmis sous forme compressÃ©e.  La compression est probablement la seule chose qui est gÃ©nÃ©ralement effectuÃ©e correctement lors du transfert de code du serveur vers le client. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/cbe/89c/0eb/cbe89c0eb2f6ea78726730bc7dfba6ed.jpg" alt="image"></a> <br><br>  Malheureusement, bien que la rÃ©duction du temps de transfert de certaines ressources contribue sÃ©rieusement Ã  ce que nous appelons les Â«performancesÂ», la compression n'affecte pas le temps que prend le navigateur pour analyser et traiter le script aprÃ¨s son chargement complet. . <br><a name="habracut"></a><br>  Si le serveur envoie 400 Ko de code JS compressÃ© au client, la quantitÃ© rÃ©elle de code que le navigateur doit traiter aprÃ¨s la dÃ©compression des donnÃ©es reÃ§ues sera dans la zone mÃ©gaoctets.  La faÃ§on dont diffÃ©rents appareils gÃ¨rent ce type de travail dÃ©pend des appareils eux-mÃªmes.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Beaucoup a Ã©tÃ©</a> Ã©crit Ã  ce sujet, mais nous ne pouvons que dire avec certitude que le temps nÃ©cessaire, mÃªme pour analyser la quantitÃ© de code qui est assez habituelle pour son temps, varie considÃ©rablement entre les diffÃ©rents appareils. <br><br>  Jetez un Å“il, par exemple, Ã  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce</a> simple projet que je fais.  Pendant le chargement de la page, environ 23 Ko de code JS non compressÃ© sont transfÃ©rÃ©s au client.  Chrome, fonctionnant sur le MacBook Pro, qui est sorti Ã  la mi-2017, traite cette assez petite quantitÃ© de code en environ 25 ms.  Cependant, sur le smartphone Android <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nokia 2</a> , un chiffre similaire atteint 190 ms.  Cela ne veut pas dire qu'elle est trÃ¨s petite, mais en tout cas, la page devient interactive assez rapidement. <br><br>  Maintenant, une question importante.  Que pensez-vous, comment un simple smartphone Nokia 2 gÃ¨re-t-il les pages modernes moyennes?  En fait - tout simplement horrible.  La navigation sur des pages Web, mÃªme sur une connexion Internet rapide, oblige l'utilisateur Ã  faire preuve de patience, car travailler avec des pages chargÃ©es de code JavaScript ne devient possible qu'aprÃ¨s une longue pÃ©riode d'attente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02f/eed/ec5/02feedec5d7773ad8a84b7160c77bbf7.png"></div><br>  <i><font color="#999999">AperÃ§u des performances de Nokia 2 lors de l'affichage d'une page contenant une grande quantitÃ© de code JS, dont le traitement bloque le thread principal</font></i> <br><br>  Bien que les appareils avec lesquels ils utilisent pour parcourir les pages Web et les rÃ©seaux par lesquels les donnÃ©es sont transmises se soient considÃ©rablement amÃ©liorÃ©s ces derniÃ¨res annÃ©es, des Ã©tudes montrent que toutes ces amÃ©liorations sont Â«absorbÃ©esÂ» par de grandes quantitÃ©s de code JS incluses dans les pages.  Nous devons utiliser JavaScript de maniÃ¨re responsable.  La responsabilitÃ© commence par une comprÃ©hension de ce que nous crÃ©ons et de la faÃ§on dont nous le faisons. <br><br>
<h2>  <font color="#3AC1EF">Comparaison de l'idÃ©ologie des "sites" et des "applications"</font> </h2><br>  Des choses Ã©tranges se produisent avec des termes inexacts que nous utilisons pour nommer quelque chose, bien que leur signification, Ã  un niveau intuitif, soit claire pour tout le monde.  Parfois, nous surchargeons le sens du mot Â«abeilleÂ», en l'appelant Â«abeillesÂ» et guÃªpes, mÃªme si la diffÃ©rence entre les abeilles et les guÃªpes est trÃ¨s importante.  La prise en compte de ces diffÃ©rences peut conduire au fait que les Â«abeillesÂ» et les Â«guÃªpesÂ» agiront diffÃ©remment.  Par exemple, nous allons dÃ©truire un nid de frelons, mais si nous parlons d'abeilles, les insectes sont beaucoup plus utiles et vulnÃ©rables, leur nid situÃ© au mauvais endroit sera probablement dÃ©cidÃ© de ne pas dÃ©truire, mais de le transfÃ©rer quelque part. <br><br>  Une libertÃ© similaire peut Ãªtre observÃ©e dans la faÃ§on dont nous utilisons les termes Â«site WebÂ» et Â«application WebÂ».  Les diffÃ©rences entre ces concepts sont beaucoup moins Ã©videntes que les diffÃ©rences entre les vraies guÃªpes et les abeilles, mais si ces concepts sont combinÃ©s, cela peut entraÃ®ner des consÃ©quences trÃ¨s dÃ©sagrÃ©ables.  Les problÃ¨mes commencent lorsque nous nous permettons quelque chose, selon qu'un certain projet est Â«juste un site WebÂ» ou Â«une application Web complÃ¨teÂ».  Si vous crÃ©ez un site d'informations pour une entreprise, il est fort probable que vous ne vous appuyiez pas sur un cadre puissant pour gÃ©rer les modifications DOM ou pour implÃ©menter le routage sur le client.  J'espÃ¨re au moins.  L'utilisation d'outils mal adaptÃ©s Ã  la rÃ©solution de certains problÃ¨mes nuira non seulement Ã  ceux qui utiliseront le site, mais affectera aussi probablement gravement le processus de dÃ©veloppement. <br><br>  Lors du dÃ©veloppement d'une application Web, tout semble diffÃ©rent.  Nous installons des packages, qui s'accompagnent de l'ajout de centaines, sinon de milliers, de dÃ©pendances au projet.  De plus, nous ne sommes mÃªme pas sÃ»rs de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sÃ©curitÃ© de</a> certains d'entre eux.  Nous Ã©crivons des configurations complexes pour les bundlers.  Lorsque vous travaillez dans un environnement de dÃ©veloppement fou et omniprÃ©sent, vous avez besoin de connaissances et d'attention afin de vous assurer que ce qui a Ã©tÃ© collectÃ© est rapide, que le projet fonctionnera lÃ  oÃ¹ il devrait fonctionner.  En cas de doute, exÃ©cutez la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">commande npm ls --prod</a> dans le rÃ©pertoire racine de votre projet et voyez si vous pouvez nommer l'objectif d'utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tout</a> ce que cette commande affiche.  MÃªme si vous pouvez le faire, cela ne s'applique pas aux scripts tiers.  Je suis sÃ»r que plusieurs de ces scripts sont Ã©galement utilisÃ©s dans votre projet. <br><br>  Nous oublions que les sites Web et les applications Web occupent la mÃªme Â«niche Ã©cologiqueÂ».  Les deux sont sous la mÃªme influence de l'environnement, qui se compose d'une variÃ©tÃ© de rÃ©seaux et d'appareils.  De telles restrictions ne disparaÃ®tront pas si nous dÃ©cidons d'appeler ce que nous dÃ©veloppons en tant qu 'Â«applicationÂ», et les appareils de nos utilisateurs ne deviendront pas magiquement beaucoup plus rapides si nous appelons le Â«site WebÂ» une Â«applicationÂ». <br><br>  Il est de notre responsabilitÃ© de savoir qui utilise ce que nous crÃ©ons, nous devons tenir compte du fait que les conditions dans lesquelles diffÃ©rents utilisateurs se connectent Ã  Internet peuvent diffÃ©rer de celles sur lesquelles nous comptons.  Lors de la crÃ©ation de quelque chose, nous devons connaÃ®tre le but pour lequel nous le crÃ©ons, et aprÃ¨s cela, nous devons dÃ©velopper ce qui aide Ã  atteindre ce but - mÃªme si le dÃ©veloppement s'avÃ¨re <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ne pas</a> Ãªtre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une entreprise aussi passionnante</a> . <br><br>  Cela signifie la nÃ©cessitÃ© de rÃ©Ã©valuer notre dÃ©pendance Ã  l'Ã©gard de JavaScript, et comment son utilisation, en particulier au dÃ©triment du HTML et du CSS, peut nous conduire Ã  l'utilisation de modÃ¨les irrationnels qui nuisent aux performances et Ã  l'accessibilitÃ© des projets Web. <br><br><h2>  <font color="#3AC1EF">Ne laissez pas les cadres vous imposer des modÃ¨les irrationnels</font> </h2><br>  J'ai Ã©tÃ© tÃ©moin de la dÃ©couverte de choses Ã©tranges dans des bases de code lorsque je travaillais avec des Ã©quipes dÃ©pendantes de frameworks afin de les aider Ã  Ãªtre plus productives.  Bon nombre de ces dÃ©couvertes ont un point commun, Ã  savoir que la faÃ§on dont elles sont Ã©crites entraÃ®ne souvent des problÃ¨mes de disponibilitÃ© et de performances des sites.  Par exemple, considÃ©rez le composant React suivant: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { validateEmail } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"helpers/validation"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SignupForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (props) {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateEmail = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateEmail.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.email = <span class="hljs-string"><span class="hljs-string">""</span></span>;  }  updateEmail (event) {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({      <span class="hljs-attr"><span class="hljs-attr">email</span></span>: event.target.value    });  }  handleSubmit () {    <span class="hljs-comment"><span class="hljs-comment">//      -      if (validateEmail(this.state.email)) {      // ...    }  }  render () {    return (      &lt;div&gt;        &lt;span class="email-label"&gt;Enter your email:&lt;/span&gt;        &lt;input type="text" id="email" onChange={this.updateEmail} /&gt;        &lt;button onClick={this.handleSubmit}&gt;Sign Up&lt;/button&gt;      &lt;/div&gt;    );  } }</span></span></code> </pre> <br>  Vous trouverez ici plusieurs problÃ¨mes notables concernant l'accessibilitÃ© du projet: <br><br><ol><li>  Un formulaire qui n'utilise pas l'Ã©lÃ©ment <code>&lt;form&gt;</code> n'est plus un formulaire.  En fait, vous pouvez rÃ©soudre ce problÃ¨me en spÃ©cifiant simplement le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">role = "form" de</a> l'Ã©lÃ©ment parent <code>&lt;div&gt;</code> , mais si vous crÃ©ez un formulaire, et que ce que nous voyons ressemble dÃ©finitivement Ã  un formulaire, utilisez l'Ã©lÃ©ment <code>&lt;form&gt;</code> , en le dÃ©finissant en consÃ©quence attribue l' <code>action</code> et la <code>method</code> .  L'attribut <code>action</code> joue ici un rÃ´le crucial, car il permet au formulaire de faire au moins quelque chose mÃªme si JavaScript n'est pas disponible (naturellement, si le composant a Ã©tÃ© rendu sur le serveur). </li><li>  La <code>&lt;span&gt;</code> ne remplace pas la <code>&lt;label&gt;</code> , qui fournit certaines fonctionnalitÃ©s concernant la disponibilitÃ© des projets que <code>&lt;span&gt;</code> ne possÃ¨de pas. </li><li>  L'Ã©lÃ©ment <code>&lt;button&gt;</code> sans l'attribut <code>type="submit"</code> n'est qu'un bouton, en cliquant sur celui qui appelle le gestionnaire d'Ã©vÃ©nements qui lui est liÃ©.  Si nous voulons faire quelque chose avec les donnÃ©es avant de soumettre le formulaire, nous devons affecter l'attribut <code>type="submit"</code> au bouton et dÃ©placer le code du gestionnaire d'Ã©vÃ©nements <code>onClick</code> vers le gestionnaire d'Ã©vÃ©nements de formulaire <code>onSubmit</code> . </li><li>  Soit dit en passant, pourquoi utiliser JavaScript pour vÃ©rifier les adresses e-mail, alors que HTML5 met Ã  notre disposition des contrÃ´les qui prennent en charge la vÃ©rification des donnÃ©es d'entrÃ©e dans presque tous les navigateurs - jusqu'Ã  IE10?  Nous voyons ici une occasion manquÃ©e de profiter des fonctionnalitÃ©s qui sont dÃ©jÃ  dans le navigateur et d'appliquer le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">type d'Ã©lÃ©ment</a> appropriÃ©, ainsi que l'attribut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">requis</a> .  Cependant, en utilisant de telles constructions, gardez Ã  l'esprit que la configuration de leur interaction normale avec les lecteurs d'Ã©cran nÃ©cessitera un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">certain effort</a> . </li></ol><br>  Compte tenu de ce qui prÃ©cÃ¨de, nous refactorisons le code du composant: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SignupForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (props) {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } handleSubmit (event) {   <span class="hljs-comment"><span class="hljs-comment">//    ,         XHR   // (      ,     ,     JS).   event.preventDefault();   //  â€¦ } render () {   return (     &lt;form method="POST" action="/signup" onSubmit={this.handleSubmit}&gt;       &lt;label for="email" class="email-label"&gt;Enter your email:&lt;/label&gt;       &lt;input type="email" id="email" required /&gt;       &lt;button type="submit"&gt;Sign Up&lt;/button&gt;     &lt;/form&gt;   ); } }</span></span></code> </pre> <br>  Maintenant, le fait que ce composant s'affiche non seulement s'avÃ¨re plus accessible, mais moins de code JS est utilisÃ© pour implÃ©menter les mÃªmes fonctionnalitÃ©s qu'auparavant.  Dans un monde qui s'est littÃ©ralement noyÃ© dans JavaScript, se dÃ©barrasser de quelques lignes de code devrait Ãªtre considÃ©rÃ© comme quelque chose de positif.  Le navigateur nous offre de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombreuses opportunitÃ©s</a> , et nous devons nous efforcer d'utiliser ces opportunitÃ©s aussi souvent que possible. <br><br>  Je ne veux pas dire ici que les problÃ¨mes d'accessibilitÃ© des pages se posent exclusivement lors de l'utilisation de certains frameworks.  Je veux dire, en s'appuyant trop sur JavaScript, le dÃ©veloppeur, par consÃ©quent, passera simplement Ã  cÃ´tÃ© de nombreuses fonctionnalitÃ©s HTML et CSS importantes.  Ces lacunes dans les connaissances conduisent souvent Ã  des erreurs, d'ailleurs, nous ne soupÃ§onnons mÃªme pas ces erreurs.  Les frameworks peuvent Ãªtre des outils utiles qui augmentent la productivitÃ© des dÃ©veloppeurs, mais l'Ã©tude constante des capacitÃ©s des technologies Web de base est extrÃªmement importante pour crÃ©er des produits pratiques et utilisables, quels que soient les outils auxiliaires utilisÃ©s dans leur dÃ©veloppement. <br><br><h2>  <font color="#3AC1EF">Faites confiance Ã  la puissance de la plateforme web et donnez Ã  vos projets un bel avenir</font> </h2><br>  Puisque nous parlons de cadres, il convient de noter que la plate-forme Web, en soi, est Ã©galement un cadre Ã©norme.  Comme indiquÃ© dans la section prÃ©cÃ©dente, nous nous trouvons dans une meilleure position si nous pouvons compter sur des modÃ¨les Ã©tablis pour travailler avec les capacitÃ©s de balisage et de navigateur.  Une alternative Ã  ces fonctionnalitÃ©s standard consiste Ã  les rÃ©inventer.  Il va sans dire qu'une telle Â«inventionÂ» est lourde de difficultÃ©s considÃ©rables.  Mais que se passerait-il si de tels problÃ¨mes, chacun Ã  sa maniÃ¨re, Ã©taient rÃ©solus par les auteurs de tous les packages JavaScript que nous installons? <br><br><h3>  <font color="#3AC1EF">ApplicationsApplications d'une seule page</font> </h3><br>  L'une des faiblesses des dÃ©veloppeurs qu'ils peuvent facilement se permettre est l'utilisation du modÃ¨le Single Page Application (SPA), mÃªme dans les projets pour lesquels ce modÃ¨le ne convient pas.  Bien entendu, ces projets bÃ©nÃ©ficient du fait qu'ils sont perÃ§us par les utilisateurs comme plus productifs du fait du routage effectuÃ© par le client.  Mais quels sont les inconvÃ©nients de l'utilisation du modÃ¨le SPA?  Les capacitÃ©s de navigation de page intÃ©grÃ©es du navigateur, bien que construites sur un modÃ¨le synchrone, offrent au projet une tonne d'avantages.  L'un d'eux est que la gestion de l'historique des visites se fait Ã  travers la mise en place d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un cahier des charges complexe</a> .  Les utilisateurs sans JavaScript, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">qu'ils l'aient dÃ©sactivÃ© eux-mÃªmes ou non</a> , ne perdront pas la possibilitÃ© de travailler avec le projet.  Pour qu'une application d'une page soit disponible dans les navigateurs avec JavaScript dÃ©sactivÃ©, il s'avÃ¨re soudain qu'une attention considÃ©rable doit Ãªtre accordÃ©e au rendu du serveur. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53d/522/b04/53d522b04f07c6c8e4fb377f620e5148.png"></div><br>  <i><font color="#999999">Comparaison des diffÃ©rentes options de chargement d'une application expÃ©rimentale sur un canal de communication lent.</font></i>  <i><font color="#999999">Le rendu de l'application Ã  gauche dÃ©pend entiÃ¨rement de JavaScript.</font></i>  <i><font color="#999999">L'application de droite est rendue sur le serveur, mais utilise ensuite, sur le client, la mÃ©thode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hydrate ()</a> pour connecter les composants au balisage dÃ©jÃ  crÃ©Ã© sur le serveur</font></i> <br><br>  Ici, vous pouvez voir que l'application, qui est rendue sur le client, affiche pendant quelques secondes Ã  l'utilisateur un Ã©cran vide, puis affiche l'interface terminÃ©e. <br><br>  Une application qui est restituÃ©e sur le serveur et rendue opÃ©rationnelle sur le client affiche rapidement les principaux Ã©lÃ©ments de l'interface, mais vous pouvez l'utiliser aprÃ¨s environ le mÃªme temps que l'application qui est rendue entiÃ¨rement sur le client. <br><br>  La disponibilitÃ© de l'application souffre Ã©galement si le routeur situÃ© sur le client ne peut pas informer l'utilisateur de ce qui a changÃ© sur la page qu'il consulte.  Cela peut obliger l'utilisateur Ã  s'appuyer sur des technologies d'assistance afin de savoir ce qui a changÃ© exactement sur la page, par consÃ©quent, le travail de l'utilisateur avec le site est beaucoup plus compliquÃ©. <br><br>  De plus, vous pouvez immÃ©diatement rencontrer notre vieil ennemi - une charge excessive sur le systÃ¨me.  Certains routeurs clients sont trÃ¨s petits.  Mais si vous faites un projet sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React</a> , utilisez un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">routeur</a> compatible et, Ã©ventuellement, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bibliothÃ¨que</a> pour gÃ©rer l'Ã©tat de l'application, cela signifie que vous devez accepter qu'il contiendra une certaine quantitÃ© de code de service, Ã  partir de laquelle vous ne pouvez pas obtenir n'importe oÃ¹.  A savoir, dans ce cas, il s'agit d'environ 135 Ko de ce code.  Analysez soigneusement les projets que vous crÃ©ez et si le routage client vaut la charge supplÃ©mentaire sur le systÃ¨me.  Il arrive gÃ©nÃ©ralement qu'il vaut mieux refuser le systÃ¨me de routage client. <br><br>  Si vous Ãªtes inquiet des sentiments de l'utilisateur, si vous voulez que le site lui paraisse rapide, alors vous pouvez vous fier Ã  l'attribut link <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rel = prefetch</a> , qui vous permet d'organiser le prÃ©chargement de documents Ã  partir de la mÃªme source.  L'utilisation de cet attribut a un impact Ã©norme sur l'amÃ©lioration de la productivitÃ© du projet, perÃ§ue par les utilisateurs, car les pages liÃ©es Ã  l'utilisation de cet attribut, lorsque vous cliquez sur ces liens, sont instantanÃ©ment chargÃ©es Ã  partir du cache.  De plus, comme le prÃ©chargement des donnÃ©es a une faible prioritÃ©, il est peu probable qu'il soit en concurrence pour la bande passante avec des ressources importantes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/186/561/5a6/1865615a66b7643a81e2544c90b89644.png"></div><br>  <i><font color="#999999">Le code HTML rÃ©fÃ©rencÃ© par Ã©crit / est prÃ©chargÃ© lorsque vous visitez la page principale du site.</font></i>  <i><font color="#999999">Lorsqu'un utilisateur clique sur le lien correspondant, le code HTML est instantanÃ©ment chargÃ© Ã  partir du cache du navigateur</font></i> <br><br>  Le principal problÃ¨me qui peut survenir avec les pages de prÃ©chargement, et dont vous devez Ãªtre conscient, est qu'un tel chargement peut s'avÃ©rer Ãªtre une perte de temps et de ressources.  Pour le rÃ©soudre, vous pouvez, par exemple, utiliser le petit script <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quicklink</a> de Google, qui attÃ©nue ce problÃ¨me.  Il vÃ©rifie si le client actuel utilise une connexion lente, si le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mode d'enregistrement des donnÃ©es</a> est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">activÃ©</a> et, par dÃ©faut, vous permet d'Ã©viter de prÃ©charger des documents Ã  partir de sources autres que la page source. <br><br>  Afin de rendre le site rapide aux yeux des utilisateurs qui le visitent plusieurs fois, vous pouvez faire appel Ã  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des techniciens de maintenance</a> .  Ils peuvent Ãªtre utilisÃ©s indÃ©pendamment du fait que le projet utilise ou non un systÃ¨me de routage client, Ã©tant donnÃ© que vous connaissez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">certaines des fonctionnalitÃ©s des techniciens de</a> maintenance.  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">effectuant la mise en cache</a> des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">itinÃ©raires au</a> moyen de techniciens de service, nous obtenons bon nombre des mÃªmes avantages que ceux typiques du prÃ©chargement des matÃ©riaux de certains liens, mais nous avons des capacitÃ©s beaucoup plus Ã©tendues pour travailler avec les demandes et les rÃ©ponses.  Que vous perceviez votre site comme une Â«applicationÂ» ou non, le doter d'un technicien est probablement un exemple de l'un des cas d'utilisation JavaScript les plus critiques de notre Ã©poque. <br><br><h3>  <font color="#3AC1EF">â–JavaScript n'est pas conÃ§u pour la mise en page</font> </h3><br>  Si nous installons un package JS conÃ§u pour rÃ©soudre les problÃ¨mes liÃ©s Ã  la mise en page, alors il est temps pour nous d'Ãªtre trÃ¨s prudents et de nous demander ce que nous essayons de rÃ©aliser avec ce package.  CSS a Ã©tÃ© crÃ©Ã© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">spÃ©cifiquement</a> pour la crÃ©ation de mises en page, afin de l'utiliser efficacement, vous n'avez pas besoin d'abstractions.  La plupart des tÃ¢ches de crÃ©ation de mises en page qu'ils essaient de rÃ©soudre Ã  l'aide de JavaScript, telles que le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">placement d'</a> Ã©lÃ©ments, leur alignement, l'ajustement de leurs tailles, comme la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">manipulation de texte,</a> ou mÃªme la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">crÃ©ation</a> complÃ¨te de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mises</a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page Ã  l'</a> aide de JavaScript, peuvent dÃ©sormais Ãªtre accomplies Ã  l'aide de CSS.  Les outils modernes pour crÃ©er des mises en page comme Flexbox et Grid sont bien pris en charge par les navigateurs, nous n'avons donc pas besoin de dÃ©velopper des projets basÃ©s sur des cadres pour travailler avec des mises en page.  Soit dit en passant, CSS est Ã©galement un cadre.  Lorsque nous avons Ã  notre disposition une telle opportunitÃ© que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les demandes de propriÃ©tÃ©</a> , l'amÃ©lioration progressive des dispositions pour soutenir de nouveaux moyens de formation, il s'avÃ¨re, n'est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pas si difficile</a> . <br><br><pre> <code class="plaintext hljs">/*   , ,   ,        CSS Grid. */ /*  @supports  ,     CSS Grid,     . */ @supports (display: grid) { /*      */ @media (min-width: 40em) {   /*       CSS Grid */ } }</code> </pre> <br>  L'utilisation de JavaScript pour rÃ©soudre les problÃ¨mes de crÃ©ation de mises en page et de personnalisation de leur apparence n'est pas nouvelle.  C'est ce que nous avons fait en 2009, lorsque nous vivions dans une atmosphÃ¨re d'auto-illusion, en disant que chaque site devrait ressembler Ã  IE6 ainsi qu'aux navigateurs les plus avancÃ©s de l'Ã©poque.  Si aujourd'hui, en 2019, nous continuons Ã  dÃ©velopper des sites afin qu'ils se ressemblent dans tous les navigateurs, cela signifie que nous devons reconsidÃ©rer nos objectifs.  Il y aura toujours des navigateurs qui doivent Ãªtre pris en charge et qui n'ont pas les mÃªmes capacitÃ©s que les navigateurs les plus modernes.  La similitude externe totale des projets sur toutes les plateformes n'est pas seulement un gaspillage d'Ã©nergie, c'est aussi un ennemi fondamental de l'idÃ©e d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">amÃ©liorations progressives</a> . <br><br><h2>  <font color="#3AC1EF">Conclusion: je ne vais pas devenir un tueur de JavaScript</font> </h2><br>  Ne vous mÃ©prenez pas, je n'appartiens pas aux ennemis de JavaScript.  GrÃ¢ce Ã  ce langage, j'ai construit une carriÃ¨re et, pour Ãªtre honnÃªte, JavaScript, depuis plus de dix ans, m'apporte beaucoup de plaisir.  Comme pour toute relation Ã  long terme, plus je passe de temps Ã  travailler avec JavaScript, mieux je le connais.  C'est un langage mature avec de nombreuses fonctionnalitÃ©s qui, chaque annÃ©e, s'amÃ©liore. <br><br>  Cependant, il me semble parfois que quelque chose a mal tournÃ© avec notre relation JavaScript.  Je le critique.  Ou, plus prÃ©cisÃ©ment, je critique la tendance actuelle Ã  considÃ©rer JavaScript comme le principal outil de construction de sites, auquel on a recours en premier lieu, sans regarder autre chose.  Lorsque j'ai analysÃ© un autre paquet qui ressemblait Ã  une guirlande de NoÃ«l dÃ©routante, il est devenu clair pour moi que le Web Ã©tait intoxiquÃ© par JavaScript.  Nous utilisons cette langue pour presque toutes les raisons, mÃªme dans les cas oÃ¹ les circonstances ne l'exigent pas.  Parfois, je pense Ã  la gravitÃ© des consÃ©quences de cette attitude envers JS. <br><br>  J'ai l'intention de continuer Ã  Ã©crire sur JavaScript et le dÃ©veloppement Web, de continuer Ã  chercher des moyens d'utiliser rationnellement les technologies Web.  J'espÃ¨re qu'ensemble, nous amÃ©liorerons le Web moderne. <br><br>  <b>Chers lecteurs!</b>  Pensez-vous que le Web moderne est vraiment surchargÃ© de code JavaScript? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/b4/fn/f5/b4fnf52x9i3mn80tttdafqtvkfe.jpeg"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr447576/">https://habr.com/ru/post/fr447576/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr447566/index.html">Les scientifiques ont d'abord montrÃ© une vÃ©ritable "photo" d'un trou noir</a></li>
<li><a href="../fr447568/index.html">Entretien avec l'astronaute Alexander Laveikin sur le cinÃ©ma spatial, les surcharges de 20 unitÃ©s et l'atterrissage en douceur</a></li>
<li><a href="../fr447570/index.html">GoLand 2019.1: analyse des performances du code, Smart Step Into, refactoring Extract Interface, Nilness Analyzer et plus</a></li>
<li><a href="../fr447572/index.html">Ã‰nergie, chaleur et eau: deuxiÃ¨me partie</a></li>
<li><a href="../fr447574/index.html">Notes du pigiste: DÃ©veloppement de la premiÃ¨re application native React</a></li>
<li><a href="../fr447578/index.html">AccÃ©lÃ©ration de JavaScript Ã  l'aide de la dÃ©finition du type de donnÃ©es</a></li>
<li><a href="../fr447580/index.html">Chasse aux menaces ou comment se dÃ©fendre contre 5% des menaces</a></li>
<li><a href="../fr447582/index.html">Rusatom: impression 3D de mÃ©taux en Russie</a></li>
<li><a href="../fr447584/index.html">Anatomie du "Space Data Center". Serveur cÃ©leste: regardez sous le capot</a></li>
<li><a href="../fr447586/index.html">Interpolation de chaÃ®nes avancÃ©e dans Swift 5.0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>