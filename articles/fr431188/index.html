<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤸🏻 🧑🏾‍🤝‍🧑🏾 🐸 Aspects techniques du blocage d'Internet en Russie. Défis et perspectives ㊙️ 🖥️ 🍆</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Commençons tout de suite par un avertissement: il n'y aura essentiellement aucun problème politique ci-dessous. Nous éviterons autant que possible les...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aspects techniques du blocage d'Internet en Russie. Défis et perspectives</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/431188/">  <em>Commençons tout de suite par un avertissement: il n'y aura essentiellement aucun problème politique ci-dessous.</em>  <em>Nous éviterons autant que possible les problèmes administratifs et juridiques afin de ne pas arracher complètement la partie technique des avions restants.</em> <br><br>  Les verrous Internet en Russie existent déjà - c'est une donnée avec laquelle nous vivons et devons continuer à vivre.  Et si oui, vous devez comprendre comment cela fonctionne techniquement, ce que le fournisseur peut et ne peut pas faire.  Philip Culin ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">schors</a> ) a depuis longtemps commencé à collecter des informations sur ce sujet, a participé à des travaux normatifs, s'est rendu à diverses réunions.  En conséquence, maintenant seul Roskomnadzor en sait plus sur lui sur les serrures en Russie, mais ce n'est pas certain.  Sous la coupe, un bref résumé de la situation actuelle. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sBMgOt3z8IQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>À propos de l'orateur:</strong> Philip Kulin ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">schors</a> ) directeur général de Deep Forest LLC, un petit hébergeur russe, principalement engagé dans l'hébergement mutualisé. <br><a name="habracut"></a><br><h2>  Enchevêtrement de problèmes <br></h2><br>  Il semblerait qu'il y ait des serrures et il y en a.  Nous ne les aimons pas, mais peut-être qu'il n'y a rien de mal avec eux? <br><br><blockquote>  En fait, le blocage est un enchevêtrement de problèmes. <br></blockquote><br>  <strong>Les dommages collatéraux sont le plus gros problème de blocage.</strong>  L'exemple le plus frappant illustrant cela s'est produit en avril 2018, lorsque de grands blocs d'adresses IP des services cloud ont été bloqués, respectivement, de nombreux services n'ont pas fonctionné et ont subi de gros dommages. <br><br>  <strong>Volatilité des réglementations et des pratiques</strong> qui changent tout le temps.  Il y a un an, cette histoire aurait été complètement différente et, il y a deux ans, elle aurait très probablement contredit celle d'aujourd'hui.  Dans un an, tout sera à nouveau différent.  Aujourd'hui, c'est ainsi, en un mois - un peu mal, et après six mois, ce n'est plus du tout.  Cela doit être surveillé, mais il faut aussi avoir le temps de travailler. <br><br>  <strong>Les verrous sont difficiles à diagnostiquer</strong> .  Si une ressource est entrée dans le verrou exactement sur le registre - c'est le cas le plus simple.  Dans les cas que nous considérerons plus loin, il est assez difficile de distinguer un vrai verrou des problèmes techniques.  Un exemple frappant - en octobre, Yandex a abandonné le DNS de cinq heures, période pendant laquelle beaucoup ont réussi à décider qu'il s'agissait d'un blocage de Roskomnadzor.  Il est vraiment difficile de déterminer exactement, et de telles situations se sont déjà produites, donc les gens pensent immédiatement au blocage. <br><br>  <strong>Il est impossible de prédire</strong> quand vous serez bloqué et s'ils le seront.  Vous travaillez tranquillement et votre travail est soudainement terminé. <br><br>  <strong>Il est complètement impossible de calculer les risques</strong> , car, peut-être, certains widgets du site que vous avez déjà oubliés, ou peut-être l'ensemble de l'entreprise, seront attaqués.  Un très bon exemple d'imprévisibilité des risques est le cas Bitrix24.  En mars, ils ont rapidement déplacé leurs services vers Amazon.  Au cours du même mois, un document a fuité sur le réseau, qui, il est vrai, était probablement faux, dans lequel de grands sous-réseaux Amazon ont été enregistrés.  Néanmoins, Bitrix24 a réagi d'une manière ou d'une autre et a évité les problèmes en avril, lorsque les services Amazon ont été vraiment bloqués. <br><br>  Je vous assure, la plupart d'entre vous sont si malchanceux!  Ces documents ne passeront pas par hasard entre vos mains.  Une fois votre entreprise terminée, vous en saurez plus après coup. <br><br>  Dans les cas simples, on sait pourquoi votre site a été bloqué.  Par exemple, le forum a publié des informations qu'un tribunal a reconnues interdites, mais vous n'avez pas eu le temps de réagir.  Mais la <strong>communication avec le superviseur a un délai inacceptable</strong> - par exemple, une journée.  Sur Internet pendant cette période, vous pouvez perdre un cinquième de l'entreprise. <br><br>  Tout cela mène à un certain <strong>désespoir</strong> .  Il est possible de discuter avec ironie, par exemple, du blocage de David Homack et de Lurk.  Mais c'est une tout autre affaire lorsque cela vous arrive, comme cela m'est arrivé une fois.  Le client a indiqué les adresses IP de mes serveurs sur un domaine que je n'ai pas géré - je suis assis et le téléphone ne s'arrête tout simplement pas.  Les clients disent qu'ils partent et demandent un remboursement, mais je ne peux rien faire!  Et personne ne peut m'aider avec ça.  C'est vraiment un sentiment de désespoir complet. <br><br><h2>  Groupes à risques <br></h2><br>  Les verrous concernent: <br><br><ul><li>  <strong>Les propriétaires de sites et de services</strong> qui, notamment, peuvent être bloqués par erreur.  Ou ils peuvent reconnaître certaines informations comme interdites. </li><li>  <strong>Les utilisateurs des services de</strong> verrouillage sont également concernés.  Le fait que votre site soit bloqué vous concerne principalement.  Mais il y a des gens qui ont utilisé ce site ou ce service. </li><li>  <strong>Hébergeurs et fournisseurs</strong> entre deux incendies.  Parce qu'ils sont tenus de travailler et de services, et la mise en œuvre des exigences du superviseur, ce qui menace d'amendes.  Permettez-moi de vous rappeler que les amendes sont de 50 à 100 000 roubles par protocole.  Il peut y avoir de nombreux protocoles de ce type, par exemple, par mois, et les montants obtenus sont très importants. </li></ul><br><h2>  Le principe de fonctionnement des serrures <br></h2><br>  Tout d'abord, nous discutons brièvement de la façon dont le blocage se produit afin de comprendre l'image complète. <br><br><ul><li>  Les organes exécutifs fédéraux ou le tribunal décident d'interdire toute information pour une raison quelconque. </li><li>  Les informations sont envoyées à Roskomnadzor, qui doit faire une entrée dans le registre des sites interdits. </li><li>  Certaines procédures internes se poursuivent (il y en a beaucoup aussi - toute une conférence peut être lue), à ​​la suite de quoi Roskomnadzor peut décider de bloquer et d'ajouter le site au soi-disant «téléchargement» - un fichier technique qui est envoyé aux fournisseurs. </li><li>  Les fournisseurs de ce fichier appliquent une restriction. </li><li>  Vérification des prestataires, qui est automatique depuis deux ans maintenant. </li></ul><br><img src="https://habrastorage.org/webt/ec/7u/oy/ec7uoyx013k4hat7f1emkodh0je.png"><br><br>  Il est important de comprendre que le trafic est filtré par chaque fournisseur.  Autrement dit, pas quelque part sur des routeurs transfrontaliers ou un filtre d'état, mais chaque fournisseur définit un filtre entre Internet et les abonnés dans chacun de ses sous-réseaux.  Dans le diagramme ci-dessus, le dispositif de vérification est à côté des abonnés, car il se représente comme un abonné - c'est important. <br><br><h2>  Outils de filtrage <br></h2><br>  Les fournisseurs peuvent acheter du trafic filtré auprès d'un fournisseur supérieur.  Mais il y a un problème - lors de l'achat de trafic auprès d'un fournisseur supérieur, le fournisseur-acheteur ne peut pas déterminer le problème technique ou le blocage.  Il ne dispose d'aucun outil, car il reçoit un trafic déjà réduit, ce qui n'affecte pas très bien son activité. <br><br>  Ou vous pouvez utiliser: <br><br><ul><li>  solutions commerciales intégrées spéciales; </li><li>  solutions open source open source (il n'existe actuellement qu'un seul projet de ce type); </li><li>  votre "ferme collective". </li></ul><br>  Il n'y a pas de fusées et le principal problème n'est pas du tout d'écrire un programme. <br><br>  Les options d'implémentation suivantes sont disponibles. <br><img src="https://habrastorage.org/webt/0e/fv/2r/0efv2rq-4k220c9rs8sfajg7vh4.png"><br><br>  Par exemple, vous avez un petit canal de 100 Gbps, vous mettez le filtre dans l'espace. <br><img src="https://habrastorage.org/webt/m2/uz/3h/m2uz3hsz3c1tnbtsny8iresopwk.png"><br><br>  Un peu de trafic miroir, mais avec le trafic miroir, le problème est qu'il fonctionne comme s'il était en avance sur la courbe.  Autrement dit, le filtre essaie de répondre plus rapidement que la réponse normale, respectivement, si le filtre commence à ralentir, il sera condamné à une amende (rappel, 50-100 mille roubles). <br><img src="https://habrastorage.org/webt/sh/pu/wd/shpuwd9apxic9-mqokh9igug_-i.png"><br><br>  Routage sélectif - lorsque le trafic vers les adresses IP, qui peut inclure quelque chose du «téléchargement», passe par un filtre séparé. <br><br>  Malheureusement, il n'y a pas de chiffres exacts, mais à en juger par les signes et les tests indirects, c'est maintenant le moyen le plus courant de filtrer le trafic. <br><br>  Le routage sélectif peut être complété par le fait que les <strong>ensembles d'adresses IP pour le filtrage sont agrégés vers le haut.</strong>  Autrement dit, non seulement quelques adresses sont bloquées, mais l'ensemble du réseau / 24 arrive immédiatement au filtre.  De plus, les grands fournisseurs, par exemple, dans MTS, ont des services de sécurité spéciaux qui recherchent spécifiquement les blocs IP à risque, qui tombent également dans le filtrage. <br><br>  Le routage sélectif peut également être combiné avec <strong>le filtrage des requêtes DNS</strong> .  Il s'agit d'une méthode populaire utilisée, par exemple, par Dom.ru. <br><br>  Nous analyserons par étapes les problèmes que tout cela apporte. <br><br><h2>  Prendre la décision de bloquer <br></h2><br>  Roskomnadzor prend une décision - cela provoque immédiatement un problème lié, par exemple, à l'organisation d'un service d'assistance.  Dans certains cas, il doit informer le propriétaire du site ou de l'hébergeur, mais en même temps, le destinataire de la notification n'est pas exact (il provient de données publiques et tout le monde ne prend pas en charge l'adresse actuelle), les notifications sont perdues, <strong>il n'y a pas d'informations ouvertes</strong> . <br><br>  Pour cette raison, toutes sortes de mauvaises choses se produisent.  L'hôte ou le propriétaire du site ne peut pas contrôler les demandes qui lui sont adressées, il n'y a pas d'informations ouvertes.  Par exemple, Google a une base de données de sites avec des virus où vous pouvez vous enregistrer en tant que système autonome, confirmer en quelque sorte que vous êtes un système autonome et voir vraiment par vous-même quels sites, selon Google, propagent des "logiciels malveillants" dans votre système autonome.  Les verrous n'existent pas - vous ne comptez que sur la notification qui vous parvient et vous pouvez la lire à temps. <br><br>  Les conditions d'interaction avec Roskomnadzor ne sont pas respectées, et généralement un peu étranges, malgré le fait qu'il existe des normes - envoyer une notification en une journée, répondre en une journée, prendre une décision en une journée.  Lorsque vous recevez une notification et que vous dites que vous ne disposez pas de ces informations et demandez des éclaircissements, vous pouvez obtenir une réponse dans quelques semaines.  Ou peut-être qu'ils vous bloqueront, puis ils vous répondront que vous avez toujours les informations.  J'ai eu de telles situations, mais peu de gens poursuivent - je ne connais pas du tout de tels cas. <br><br>  Encore une fois, si une notification arrive, vous ne pouvez pas toujours comprendre de quoi il s'agit.  Dans la plupart des cas, Roskomnadzor décrit normalement ce que cela signifie.  Mais même dans notre pratique, il y avait trois cas de micro-hébergeur, lorsque la description ne permettait pas de savoir de quel type d'informations nous parlions.  Je ne savais même pas quoi écrire au client - Roskomnadzor ne publie les procès-verbaux et les textes de la décision qu'au tribunal, bien qu'ils disposent de tels documents. <br><br><h2>  Le moment de l'application du "déchargement" <br></h2><br>  Donc, la décision a été prise, le fournisseur a téléchargé le «téléchargement» et doit ensuite en faire quelque chose.  Il y a deux options pour la vitesse: une journée ou immédiatement. <br><br>  Il est important que la journée soit allouée au blocage de la ressource et au déverrouillage, si tout à coup une décision est prise de la déverrouiller.  Pour beaucoup, cela se fait sous forme de mises à jour nocturnes des commutateurs.  D'après mon expérience: je n'ai pas reçu la notification à temps, la ressource a été bloquée, le problème a été résolu, mais vous attendez un jour pendant qu'ils la débloquent.  Mais l'entreprise n'attend pas, il y a des pertes. <br><br>  Mais maintenant, dans les normes, le mot <strong>«immédiatement»</strong> sonne très souvent <strong>, par accord oral, c'est une heure</strong> .  Mais il y a un accord oral aujourd'hui, et demain ce n'est pas le cas.  Fondamentalement, le libellé «immédiatement» fait maintenant référence aux décisions du procureur sur l'extrémisme. <br><br>  Pour comprendre comment tout est filtré, vous devez savoir ce qu'il y a à l'intérieur de la «décharge».  Il existe une liste d'entrées en XML de l'un des quatre types par type de verrou et les détails de la solution: <br><br><ol><li>  URL (s) + domaine + adresse (s) IP; <br></li><li>  Domaine + adresse (s) IP; <br></li><li>  Le domaine avec le masque (* .example.com) + adresse IP (a); <br></li><li>  Adresse IP (a) - bien sûr, il y a une adresse et elle est complètement bloquée. <br></li></ol><br>  Pour clarifier les chiffres en question, voici les statistiques du 22 janvier 2019. <br><img src="https://habrastorage.org/webt/1o/xn/59/1oxn59rg0lzgm-iewywnlanduja.jpeg"><br><br>  Important: seulement 139 000 enregistrements, et le type de blocage le plus populaire est le blocage «par domaine».  Ce sont des protocoles HTTP et HTTPS. <br><br><h2>  Toxicité "déchargement" <br></h2><br>  Avant de bloquer la ressource, le fournisseur doit analyser le «déchargement».  Cela pose également des problèmes.  J'ai spécifiquement attiré l'attention sur le fait que le «déchargement» n'est pas un registre, mais un document technique qui est délivré au fournisseur pour qu'il prenne des décisions en fonction de cela.  Mais malgré cela, le prestataire doit effectuer un très gros traitement de «déchargement». <br><br>  Par exemple, dans le «téléchargement», il y a <strong>redondance</strong> , les enregistrements se chevauchent.  Si vous prenez une URL, cela ne signifie pas qu'il n'y aura pas de blocage par le domaine contenu dans cette URL.  Il n'y en a pas beaucoup maintenant, cependant, un peu plus de trois mille. <br><br>  Le «téléchargement» contient des <strong>URL avec des fragments (#) et des sessions</strong> .  C'est généralement horrible, car vous devez comprendre comment se déroule le test. <br><br>  Le fournisseur doit ramener le «téléchargement» à sa forme normale, car il contient des <strong>URL et des domaines incorrects.</strong>  Fondamentalement, seules les barres obliques inversées sont désormais trouvées.  Il y a des lacunes, mais elles sont rapidement supprimées, et pour les contre-obliques, pour une raison quelconque, un "amour" spécial.  Eh bien, avec les contre-obliques, ils ont décidé de la question, mais s'il y a un signe plus?  Par conséquent, il devrait toujours y avoir une surveillance, toujours quelque chose à faire. <br><br>  Encore une fois, j'attire l'attention sur le fait que le <strong>problème du fournisseur est notre problème</strong> .  Que fait le prestataire?  Une motivation de 100 000 roubles est une bonne motivation pour s'assurer qu'en cas de problème, même avec un soupçon de problème, hacher tout de suite, puis le comprendre. <br><br>  La pertinence de «décharger» les adresses IP qui ne sont pas «bloquées par des adresses IP», mais tout le reste (blocage par domaine, URL, masque) ressemble à ceci. <br><img src="https://habrastorage.org/webt/lk/nw/0i/lknw0ihtkgp0cl9x0yh2rjtcrga.jpeg"><br><br>  Littéralement un peu plus de la moitié est pertinent, et le reste est une viande hachée complète. <br><br><h2>  Vérification des verrous <br></h2><br>  Je vais commencer par la fin. <br><br><blockquote>  Toute l'histoire de la mise en œuvre des verrous en Russie est l'histoire des contrôles de ces verrous. <br></blockquote><br>  Je ne sais pas comment à l’étranger, chez nous c’est absolument exactement l’histoire des inspections.  Toutes les serrures ne sont pas faites comme il est écrit, comment les faire, mais comme elles vérifient, car personne n'aime payer des amendes, en particulier 100 000. <br><br>  Avant le registre des sites interdits, il y avait une liste de documents extrémistes du ministère de la Justice (il existe maintenant, il est maintenant dans le registre, puis il était séparé) et des vérifications des verrous par le ministère public sur cette liste.  Je suis un micro-hébergeur et j'ai réussi à me bloquer ces ressources. <br><br>  Types de contrôles existants: <br><br><ul><li>  Inspections sur le terrain (principalement le ministère de l'Intérieur, le FSB et le parquet) - elles sont rares, mais elles existent. </li><li>  AS «Inspector» est un système automatisé préféré qui vérifie tous les fournisseurs. </li></ul><br><img src="https://habrastorage.org/webt/59/ni/o1/59nio1btog0crenlyyzd-ffb65y.png"><br><br>  L '«inspecteur» se tient derrière le filtre et fait semblant d'être abonné.  Mais l'appareil lui-même ne fait rien, il reçoit des tâches et donne des réponses à un certain centre de contrôle, c'est-à-dire  c'est un tel shell distant à l'intérieur du réseau du fournisseur.  Il ressemble beaucoup à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RIPE Atlas</a> . <br><br>  Le centre de contrôle d'un système automatisé est un véritable service à haute charge, car nous avons 4 000 opérateurs télécoms, ils n'ont pas un réseau, mais un boîtier doit être dans chaque réseau.  Autrement dit, pas tous les fournisseurs, mais <strong>dans chaque réseau de chaque fournisseur</strong> .  En conséquence, le centre de contrôle a certains problèmes. <br><br>  Question: y a-t-il des problèmes avec le chèque lui-même?  Bien sûr que oui. <br><br><h2>  Problèmes de vérification <br></h2><br>  À SPECTRUM-2017 (un forum sous les auspices de Roskomnadzor lui-même) Veklich A.A., l'un des chefs de l'entreprise unitaire de l'État fédéral du Centre principal de radiofréquences (RFRC)  fait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport</a> complet sur quels sont exactement les problèmes techniques avec l'inspection de l '«inspecteur» des prestataires. <br><br>  Problèmes de vérification: <br><br><ul><li>  L '«inspecteur» voit-il <strong>cela comme un filtre d'un fournisseur ou d'une ressource?</strong>  C'est peut-être l'un d'entre vous qui a trouvé la base de données «Inspector» et tous les sites distribuent simplement un stub qui ressemble à un stub de fournisseur. </li><li>  <strong>Taux de blocage</strong> - pour tous les types de blocage (pour HTTPS, domaine, adresse IP) qu'est-ce qu'un indicateur que la ressource est bloquée?  Par exemple, vous devez analyser les ports par adresse IP, c'est tout un problème. </li><li>  <strong>Taux de blocage pour d'autres protocoles.</strong> </li><li>  <strong>Comment vérifier un domaine par masque</strong> ?  Sous l'astérisque, il peut y avoir différentes adresses IP, différents domaines.  Puis-je mettre un filtre sur toute la bande?  Et pour vérifier cela - de manière sélective ou générer du hachage?  Je dois dire tout de suite qu'il existe un tel verrou, mais personne ne le vérifie. </li></ul><br><h2>  La méthode de travail de l'AS «Inspecteur» <br></h2><br>  Conformément à ces problèmes, la méthodologie de travail de l '«examinateur» a été créée. <br><img src="https://habrastorage.org/webt/wh/ob/p4/whobp4kojjtmfwfyulrpff5z7po.png"><br><br>  Et oui, votre diapositive illustre pleinement cette technique.  Je ne comprends pas très bien comment vous pouvez logiquement vivre avec.  Pour nous, tout cela se traduit par le fait que les fournisseurs essaient de résoudre ce problème d'une manière ou d'une autre, et de le rendre pratique pour eux-mêmes, et pas toujours pratique pour nous. <br><br>  Travaillant sans technique, de nombreux prestataires ont acquis une expérience existentielle.  En général, toute la technique de blocage est une voie empirique qui coûte de l'argent, des nerfs, des chutes, même maintenant, alors qu'une technique s'est déjà un peu calmée. <br><br>  Il existe une salle de discussion non officielle (ce qui est remarquable - à Telegram, où ailleurs), où les fournisseurs communiquent avec les employés du Centre de radiofréquence.  La chose la plus intéressante est que vous pouvez y obtenir une aide réelle, les employés du State Reserves Center aident les prestataires à résoudre leurs problèmes et expliquent comment fonctionne l '«inspecteur».  Mais tout cela n'est pas officiel, il n'y a pas de documents. <br><br>  Il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">norme de</a> Roskomnadzor sur les voies et méthodes de restriction d'accès, qui est enregistrée auprès du ministère de la Justice.  Il va spécialement à la fin, car il a la priorité la plus basse.  Les fournisseurs n'agissent pas comme écrit dans le règlement, mais plutôt comment fonctionne la méthode de vérification. <br><br><h2>  Technique de travail avec «déchargement» <br></h2><br>  Selon la norme et l'expérience acquise, je vais vous expliquer comment ils fonctionnent avec le «déchargement», c'est-à-dire comment nos ressources sont bloquées. <br><br>  <strong>Par URL</strong> : <br><br><ul><li>  S'il s'agit d'un protocole HTTP normal, filtrez par en-têtes. </li><li>  Si le protocole crypté est HTTPS - filtrez comme un "domaine" </li></ul><br>  Pourquoi est-il généralement clair de l'URL avec le protocole crypté, c'est la redondance. <br><br>  <strong>Par domaine:</strong> <br><br><ul><li>  Le protocole HTTP habituel est un filtre par l'en-tête Host. </li><li>  Protocole crypté HTTPS - ou filtre DNS;  ou filtrer par en-tête SNI (lors de l'établissement d'une connexion cryptée, un en-tête non crypté avec un nom de domaine à l'intérieur est transmis);  ou filtrer par adresse IP. </li><li>  Il est recommandé de bloquer d'autres protocoles par adresse IP, mais comme "l'inspecteur" ne vérifie pas cela, quelqu'un le fait, personne ne le fait pas. </li></ul><br>  La norme dit que dans le deuxième cas, les verrous «par domaine» ne peuvent pas être bloqués par l'adresse IP.  Mais le fournisseur, quand il commence à brouiller le filtre, inclut immédiatement un autre niveau, afin de ne pas recevoir d'amende.  Une telle histoire n'est pas rare et entraîne naturellement des dommages supplémentaires pour l'entreprise. <br><br>  Théoriquement, les fournisseurs filtrent le <strong>domaine avec le masque</strong> comme par le domaine sans astérisque.  Puisqu'il n'y a pas de contrôle non plus, il n'y a pas de problème non plus. <br><br>  <strong>Ils</strong> filtrent par <strong>adresse IP et bloc d'adresses IP</strong> comme ils le savent - parfois directement sur le routeur de périphérie. <br><br><h3>  Participants consciencieux </h3><br>  Nous savons que non seulement les «méchants» sont bloqués, mais aussi <strong>les participants consciencieux à Internet</strong> .  Par exemple, lorsqu'une personne n'avait pas l'intention de conserver des informations interdites sur son hébergement, mais n'a pas lu la lettre ou n'a pas reçu de notification. <br><br>  Le deuxième groupe est constitué de participants étrangers.  Ils vivent dans leur domaine juridique et ne violent pas la loi.  Ils peuvent rire, par exemple, des pots-de-vin, ils ne voient rien de mal à cela.  Par exemple, les hébergeurs n'ont même pas le droit de supprimer ces informations, car les lois ne leur sont pas applicables.  Ce ne sont pas des gens méchants, mais les serrures les frappent également. <br><br><h3>  Problèmes de filtrage </h3><br>  Examinons les problèmes, parlons du filtrage DNS, qui est recommandé par la norme. <br><br>  Première question: d' <strong>où vient le DNS</strong> ?  En effet, des informations interdites peuvent être publiées, mais DNS représente le service dont les gens ont besoin, tout comme DNS, par exemple, les adresses IP.  Lors de la simulation de DNS, tout n'est pas très bon, et on ne sait pas pourquoi. <br><br>  Le deuxième point est la mise en œuvre de <strong>l'interception DNS</strong> .       (     —   ),      . ,        .ru   DNS,    ,       DNS. <br><br>    ,  <strong>   </strong> .        .   ,   . <br><br>      DNS (DNSCrypt, DoT, DoH)       DNS. <br><br>        ,       IP,        HTTP/HTTPS.      ?    , , ,   Telegram   ( ) —    ? <strong>    </strong> ! <br><br>     — ,    —  ,    443:  SNI, SNI  (ESNI)    , , QUIC, DNSCrypt, VPN, MTProto-proxy? <br><br>  , , Google,    SNI,    DNSCrypt  443 .      -.  ,  ,       HTTPS,   .         ,      . <br><br><h2>   <br></h2><br>     , ,  100  .     ,  IP-,     .    ,   ,   ,  . <br><br>    ,  «  !». «»       ,   «»,    ,  .  ,     .      -  100 ,     . <br><img src="https://habrastorage.org/webt/cv/i7/p2/cvi7p2b4z1mknqwuh1vgsjrju_c.png"><br><br>       —  ,     .   IP,  ,    «» IP . ,     IP (   ),   ,   ,    . <br><img src="https://habrastorage.org/webt/nd/vi/0n/ndvi0nvlgvtc-yojul6bslqxn_e.png"><br><br>  :   IP ,   «»   IP,    ,       ,  «»  —   . ,         ,      . <br><br>     : <br><br><ul><li> ; </li><li> ; </li><li>  ,     . </li></ul><br>         .  ,      . , LiveJournal    -   - CDN,   /23     IP.   ,   ,    . <br><br><h2> «»  <br></h2><br>  «»,      ,     «»,  , ,     .         ,   «».  «»    ,     ,      . <br><br>    «»  200 «» ,       .   ,     ,   . ,  ,  . <br><br>    ? <br><img src="https://habrastorage.org/webt/eg/2g/t_/eg2gt_bfkscybjrod2r93_lbggs.png"><br><br>     , , .   MSK-IX,   MSK-IX   ,     .    -      DNS-. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.google.com/url%3Fq%3D">DNS-</a>   ,  -  «» ,    IP-    ,  ,     IP-  ,   .. - ,       , . <br><br> , ,    ,     .    ,    ,      «», ,  5  2017     . <br><br>         .    ,     .        DDoS,           . <br><br>  ,  - - ? <br><img src="https://habrastorage.org/webt/ye/63/gq/ye63gqphufbkczl3gtyjuxdgtcm.png"><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.google.com/url%3Fq%3D">14  2018 </a> :   ,    «» . -  4 ,    400 ,    4 000 IP-.  ,        , -  600     ,  20%  TK    . <br><br>    : <br><img src="https://habrastorage.org/webt/gl/5r/ss/gl5rss-uqew3jaepytl-1z3lg6u.png"><br><br>   ,   IP-    «». 5     : «     —      - ?»     .   ,      IP         (   ),    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> : DIGITAL RESISTANCE. <br><br>      : « !»,     .   ,     ,   -   .   ,   2   ,  2  ,      - .     «»   «»   4 000,     ,      . ,  ,         —   1538. <br><br>  ,         —    - ! <br><br> ,    .   ,      -    : - , <strong>   </strong> .   ,     . , ,  DNS- —      ,     ,         .    «» ,     . <br><br> ,          -   HTTP  ,      .   Motobratan.ru     ,    .     ,           . <br><br><h2>   <br></h2><br> -      , : <br><br><ul><li>    «»; </li><li>     , «»  ; </li><li>  ; </li><li>   . </li></ul><br> ,  —   .    ,  ,    .           «».    «»,   ,  : «,  ,  !»          «»   ,   -  .         -  . <br><br>  ,     ,      «»,   . <br><br><h2>  <br></h2><br>    ,      , — <strong> </strong> .   : <br><br><ul><li>     . </li><li>   —      ,  ,    . </li><li>     —     ? , Kubernetes   ,           —  Continuous Integration! </li></ul><br>   — <strong> DPI</strong> ,     ,    .    ,   DPI   . -,   - ,   .  DPI   , ,       DPI,     .  <strong></strong>   .    DPI   ,  ,     . <br><br>    —   <strong>  DNS  </strong> ,    . <br><br><ul><li>   ,   DNS     ,     —  . </li><li>       ,     .  , ,     . </li><li>   ,    DNS,    «» . </li></ul><br>     : <strong>   Telegram?</strong> <br><br>    ,  : .  Telegram ,     , ,   DPI  <strong>  </strong> . ,     ,     ,       Telegram. <br><br> ,             . <br><br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a>  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Telegram-</a>      @usher2    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">schors</a> <br><br><blockquote>             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HighLoad++</a> 2018.       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> —  ,    . ,     ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Saint HighLoad++</a> . <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431188/">https://habr.com/ru/post/fr431188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431176/index.html">Microservices, API et innovations: la puissance des API</a></li>
<li><a href="../fr431178/index.html">Mots parasites en anglais</a></li>
<li><a href="../fr431180/index.html">Ext JS sur le serveur</a></li>
<li><a href="../fr431184/index.html">Réseaux maillés multi-sauts WIFI utilisant la technologie Mesh Connex</a></li>
<li><a href="../fr431186/index.html">Conception par types: comment rendre les états invalides inexprimables en C #</a></li>
<li><a href="../fr431190/index.html">Comment évaluer le niveau d'une entreprise de référencement sans conclure un accord avec elle</a></li>
<li><a href="../fr431192/index.html">AWC présente Firecracker - micro-virtualisation pour Linux</a></li>
<li><a href="../fr431194/index.html">Tube chaud hardcore. Comment était DotNext 2018 Moscou</a></li>
<li><a href="../fr431196/index.html">Comment Yandex.Taxi prédit le temps de livraison des voitures à l'aide de l'apprentissage automatique</a></li>
<li><a href="../fr431198/index.html">Fonctionnement du répartiteur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>