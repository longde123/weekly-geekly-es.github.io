<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¸ğŸ» ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ¾ ğŸ¸ Aspects techniques du blocage d'Internet en Russie. DÃ©fis et perspectives ãŠ™ï¸ ğŸ–¥ï¸ ğŸ†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CommenÃ§ons tout de suite par un avertissement: il n'y aura essentiellement aucun problÃ¨me politique ci-dessous. Nous Ã©viterons autant que possible les...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aspects techniques du blocage d'Internet en Russie. DÃ©fis et perspectives</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/431188/">  <em>CommenÃ§ons tout de suite par un avertissement: il n'y aura essentiellement aucun problÃ¨me politique ci-dessous.</em>  <em>Nous Ã©viterons autant que possible les problÃ¨mes administratifs et juridiques afin de ne pas arracher complÃ¨tement la partie technique des avions restants.</em> <br><br>  Les verrous Internet en Russie existent dÃ©jÃ  - c'est une donnÃ©e avec laquelle nous vivons et devons continuer Ã  vivre.  Et si oui, vous devez comprendre comment cela fonctionne techniquement, ce que le fournisseur peut et ne peut pas faire.  Philip Culin ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">schors</a> ) a depuis longtemps commencÃ© Ã  collecter des informations sur ce sujet, a participÃ© Ã  des travaux normatifs, s'est rendu Ã  diverses rÃ©unions.  En consÃ©quence, maintenant seul Roskomnadzor en sait plus sur lui sur les serrures en Russie, mais ce n'est pas certain.  Sous la coupe, un bref rÃ©sumÃ© de la situation actuelle. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sBMgOt3z8IQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Ã€ propos de l'orateur:</strong> Philip Kulin ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">schors</a> ) directeur gÃ©nÃ©ral de Deep Forest LLC, un petit hÃ©bergeur russe, principalement engagÃ© dans l'hÃ©bergement mutualisÃ©. <br><a name="habracut"></a><br><h2>  EnchevÃªtrement de problÃ¨mes <br></h2><br>  Il semblerait qu'il y ait des serrures et il y en a.  Nous ne les aimons pas, mais peut-Ãªtre qu'il n'y a rien de mal avec eux? <br><br><blockquote>  En fait, le blocage est un enchevÃªtrement de problÃ¨mes. <br></blockquote><br>  <strong>Les dommages collatÃ©raux sont le plus gros problÃ¨me de blocage.</strong>  L'exemple le plus frappant illustrant cela s'est produit en avril 2018, lorsque de grands blocs d'adresses IP des services cloud ont Ã©tÃ© bloquÃ©s, respectivement, de nombreux services n'ont pas fonctionnÃ© et ont subi de gros dommages. <br><br>  <strong>VolatilitÃ© des rÃ©glementations et des pratiques</strong> qui changent tout le temps.  Il y a un an, cette histoire aurait Ã©tÃ© complÃ¨tement diffÃ©rente et, il y a deux ans, elle aurait trÃ¨s probablement contredit celle d'aujourd'hui.  Dans un an, tout sera Ã  nouveau diffÃ©rent.  Aujourd'hui, c'est ainsi, en un mois - un peu mal, et aprÃ¨s six mois, ce n'est plus du tout.  Cela doit Ãªtre surveillÃ©, mais il faut aussi avoir le temps de travailler. <br><br>  <strong>Les verrous sont difficiles Ã  diagnostiquer</strong> .  Si une ressource est entrÃ©e dans le verrou exactement sur le registre - c'est le cas le plus simple.  Dans les cas que nous considÃ©rerons plus loin, il est assez difficile de distinguer un vrai verrou des problÃ¨mes techniques.  Un exemple frappant - en octobre, Yandex a abandonnÃ© le DNS de cinq heures, pÃ©riode pendant laquelle beaucoup ont rÃ©ussi Ã  dÃ©cider qu'il s'agissait d'un blocage de Roskomnadzor.  Il est vraiment difficile de dÃ©terminer exactement, et de telles situations se sont dÃ©jÃ  produites, donc les gens pensent immÃ©diatement au blocage. <br><br>  <strong>Il est impossible de prÃ©dire</strong> quand vous serez bloquÃ© et s'ils le seront.  Vous travaillez tranquillement et votre travail est soudainement terminÃ©. <br><br>  <strong>Il est complÃ¨tement impossible de calculer les risques</strong> , car, peut-Ãªtre, certains widgets du site que vous avez dÃ©jÃ  oubliÃ©s, ou peut-Ãªtre l'ensemble de l'entreprise, seront attaquÃ©s.  Un trÃ¨s bon exemple d'imprÃ©visibilitÃ© des risques est le cas Bitrix24.  En mars, ils ont rapidement dÃ©placÃ© leurs services vers Amazon.  Au cours du mÃªme mois, un document a fuitÃ© sur le rÃ©seau, qui, il est vrai, Ã©tait probablement faux, dans lequel de grands sous-rÃ©seaux Amazon ont Ã©tÃ© enregistrÃ©s.  NÃ©anmoins, Bitrix24 a rÃ©agi d'une maniÃ¨re ou d'une autre et a Ã©vitÃ© les problÃ¨mes en avril, lorsque les services Amazon ont Ã©tÃ© vraiment bloquÃ©s. <br><br>  Je vous assure, la plupart d'entre vous sont si malchanceux!  Ces documents ne passeront pas par hasard entre vos mains.  Une fois votre entreprise terminÃ©e, vous en saurez plus aprÃ¨s coup. <br><br>  Dans les cas simples, on sait pourquoi votre site a Ã©tÃ© bloquÃ©.  Par exemple, le forum a publiÃ© des informations qu'un tribunal a reconnues interdites, mais vous n'avez pas eu le temps de rÃ©agir.  Mais la <strong>communication avec le superviseur a un dÃ©lai inacceptable</strong> - par exemple, une journÃ©e.  Sur Internet pendant cette pÃ©riode, vous pouvez perdre un cinquiÃ¨me de l'entreprise. <br><br>  Tout cela mÃ¨ne Ã  un certain <strong>dÃ©sespoir</strong> .  Il est possible de discuter avec ironie, par exemple, du blocage de David Homack et de Lurk.  Mais c'est une tout autre affaire lorsque cela vous arrive, comme cela m'est arrivÃ© une fois.  Le client a indiquÃ© les adresses IP de mes serveurs sur un domaine que je n'ai pas gÃ©rÃ© - je suis assis et le tÃ©lÃ©phone ne s'arrÃªte tout simplement pas.  Les clients disent qu'ils partent et demandent un remboursement, mais je ne peux rien faire!  Et personne ne peut m'aider avec Ã§a.  C'est vraiment un sentiment de dÃ©sespoir complet. <br><br><h2>  Groupes Ã  risques <br></h2><br>  Les verrous concernent: <br><br><ul><li>  <strong>Les propriÃ©taires de sites et de services</strong> qui, notamment, peuvent Ãªtre bloquÃ©s par erreur.  Ou ils peuvent reconnaÃ®tre certaines informations comme interdites. </li><li>  <strong>Les utilisateurs des services de</strong> verrouillage sont Ã©galement concernÃ©s.  Le fait que votre site soit bloquÃ© vous concerne principalement.  Mais il y a des gens qui ont utilisÃ© ce site ou ce service. </li><li>  <strong>HÃ©bergeurs et fournisseurs</strong> entre deux incendies.  Parce qu'ils sont tenus de travailler et de services, et la mise en Å“uvre des exigences du superviseur, ce qui menace d'amendes.  Permettez-moi de vous rappeler que les amendes sont de 50 Ã  100 000 roubles par protocole.  Il peut y avoir de nombreux protocoles de ce type, par exemple, par mois, et les montants obtenus sont trÃ¨s importants. </li></ul><br><h2>  Le principe de fonctionnement des serrures <br></h2><br>  Tout d'abord, nous discutons briÃ¨vement de la faÃ§on dont le blocage se produit afin de comprendre l'image complÃ¨te. <br><br><ul><li>  Les organes exÃ©cutifs fÃ©dÃ©raux ou le tribunal dÃ©cident d'interdire toute information pour une raison quelconque. </li><li>  Les informations sont envoyÃ©es Ã  Roskomnadzor, qui doit faire une entrÃ©e dans le registre des sites interdits. </li><li>  Certaines procÃ©dures internes se poursuivent (il y en a beaucoup aussi - toute une confÃ©rence peut Ãªtre lue), Ã  â€‹â€‹la suite de quoi Roskomnadzor peut dÃ©cider de bloquer et d'ajouter le site au soi-disant Â«tÃ©lÃ©chargementÂ» - un fichier technique qui est envoyÃ© aux fournisseurs. </li><li>  Les fournisseurs de ce fichier appliquent une restriction. </li><li>  VÃ©rification des prestataires, qui est automatique depuis deux ans maintenant. </li></ul><br><img src="https://habrastorage.org/webt/ec/7u/oy/ec7uoyx013k4hat7f1emkodh0je.png"><br><br>  Il est important de comprendre que le trafic est filtrÃ© par chaque fournisseur.  Autrement dit, pas quelque part sur des routeurs transfrontaliers ou un filtre d'Ã©tat, mais chaque fournisseur dÃ©finit un filtre entre Internet et les abonnÃ©s dans chacun de ses sous-rÃ©seaux.  Dans le diagramme ci-dessus, le dispositif de vÃ©rification est Ã  cÃ´tÃ© des abonnÃ©s, car il se reprÃ©sente comme un abonnÃ© - c'est important. <br><br><h2>  Outils de filtrage <br></h2><br>  Les fournisseurs peuvent acheter du trafic filtrÃ© auprÃ¨s d'un fournisseur supÃ©rieur.  Mais il y a un problÃ¨me - lors de l'achat de trafic auprÃ¨s d'un fournisseur supÃ©rieur, le fournisseur-acheteur ne peut pas dÃ©terminer le problÃ¨me technique ou le blocage.  Il ne dispose d'aucun outil, car il reÃ§oit un trafic dÃ©jÃ  rÃ©duit, ce qui n'affecte pas trÃ¨s bien son activitÃ©. <br><br>  Ou vous pouvez utiliser: <br><br><ul><li>  solutions commerciales intÃ©grÃ©es spÃ©ciales; </li><li>  solutions open source open source (il n'existe actuellement qu'un seul projet de ce type); </li><li>  votre "ferme collective". </li></ul><br>  Il n'y a pas de fusÃ©es et le principal problÃ¨me n'est pas du tout d'Ã©crire un programme. <br><br>  Les options d'implÃ©mentation suivantes sont disponibles. <br><img src="https://habrastorage.org/webt/0e/fv/2r/0efv2rq-4k220c9rs8sfajg7vh4.png"><br><br>  Par exemple, vous avez un petit canal de 100 Gbps, vous mettez le filtre dans l'espace. <br><img src="https://habrastorage.org/webt/m2/uz/3h/m2uz3hsz3c1tnbtsny8iresopwk.png"><br><br>  Un peu de trafic miroir, mais avec le trafic miroir, le problÃ¨me est qu'il fonctionne comme s'il Ã©tait en avance sur la courbe.  Autrement dit, le filtre essaie de rÃ©pondre plus rapidement que la rÃ©ponse normale, respectivement, si le filtre commence Ã  ralentir, il sera condamnÃ© Ã  une amende (rappel, 50-100 mille roubles). <br><img src="https://habrastorage.org/webt/sh/pu/wd/shpuwd9apxic9-mqokh9igug_-i.png"><br><br>  Routage sÃ©lectif - lorsque le trafic vers les adresses IP, qui peut inclure quelque chose du Â«tÃ©lÃ©chargementÂ», passe par un filtre sÃ©parÃ©. <br><br>  Malheureusement, il n'y a pas de chiffres exacts, mais Ã  en juger par les signes et les tests indirects, c'est maintenant le moyen le plus courant de filtrer le trafic. <br><br>  Le routage sÃ©lectif peut Ãªtre complÃ©tÃ© par le fait que les <strong>ensembles d'adresses IP pour le filtrage sont agrÃ©gÃ©s vers le haut.</strong>  Autrement dit, non seulement quelques adresses sont bloquÃ©es, mais l'ensemble du rÃ©seau / 24 arrive immÃ©diatement au filtre.  De plus, les grands fournisseurs, par exemple, dans MTS, ont des services de sÃ©curitÃ© spÃ©ciaux qui recherchent spÃ©cifiquement les blocs IP Ã  risque, qui tombent Ã©galement dans le filtrage. <br><br>  Le routage sÃ©lectif peut Ã©galement Ãªtre combinÃ© avec <strong>le filtrage des requÃªtes DNS</strong> .  Il s'agit d'une mÃ©thode populaire utilisÃ©e, par exemple, par Dom.ru. <br><br>  Nous analyserons par Ã©tapes les problÃ¨mes que tout cela apporte. <br><br><h2>  Prendre la dÃ©cision de bloquer <br></h2><br>  Roskomnadzor prend une dÃ©cision - cela provoque immÃ©diatement un problÃ¨me liÃ©, par exemple, Ã  l'organisation d'un service d'assistance.  Dans certains cas, il doit informer le propriÃ©taire du site ou de l'hÃ©bergeur, mais en mÃªme temps, le destinataire de la notification n'est pas exact (il provient de donnÃ©es publiques et tout le monde ne prend pas en charge l'adresse actuelle), les notifications sont perdues, <strong>il n'y a pas d'informations ouvertes</strong> . <br><br>  Pour cette raison, toutes sortes de mauvaises choses se produisent.  L'hÃ´te ou le propriÃ©taire du site ne peut pas contrÃ´ler les demandes qui lui sont adressÃ©es, il n'y a pas d'informations ouvertes.  Par exemple, Google a une base de donnÃ©es de sites avec des virus oÃ¹ vous pouvez vous enregistrer en tant que systÃ¨me autonome, confirmer en quelque sorte que vous Ãªtes un systÃ¨me autonome et voir vraiment par vous-mÃªme quels sites, selon Google, propagent des "logiciels malveillants" dans votre systÃ¨me autonome.  Les verrous n'existent pas - vous ne comptez que sur la notification qui vous parvient et vous pouvez la lire Ã  temps. <br><br>  Les conditions d'interaction avec Roskomnadzor ne sont pas respectÃ©es, et gÃ©nÃ©ralement un peu Ã©tranges, malgrÃ© le fait qu'il existe des normes - envoyer une notification en une journÃ©e, rÃ©pondre en une journÃ©e, prendre une dÃ©cision en une journÃ©e.  Lorsque vous recevez une notification et que vous dites que vous ne disposez pas de ces informations et demandez des Ã©claircissements, vous pouvez obtenir une rÃ©ponse dans quelques semaines.  Ou peut-Ãªtre qu'ils vous bloqueront, puis ils vous rÃ©pondront que vous avez toujours les informations.  J'ai eu de telles situations, mais peu de gens poursuivent - je ne connais pas du tout de tels cas. <br><br>  Encore une fois, si une notification arrive, vous ne pouvez pas toujours comprendre de quoi il s'agit.  Dans la plupart des cas, Roskomnadzor dÃ©crit normalement ce que cela signifie.  Mais mÃªme dans notre pratique, il y avait trois cas de micro-hÃ©bergeur, lorsque la description ne permettait pas de savoir de quel type d'informations nous parlions.  Je ne savais mÃªme pas quoi Ã©crire au client - Roskomnadzor ne publie les procÃ¨s-verbaux et les textes de la dÃ©cision qu'au tribunal, bien qu'ils disposent de tels documents. <br><br><h2>  Le moment de l'application du "dÃ©chargement" <br></h2><br>  Donc, la dÃ©cision a Ã©tÃ© prise, le fournisseur a tÃ©lÃ©chargÃ© le Â«tÃ©lÃ©chargementÂ» et doit ensuite en faire quelque chose.  Il y a deux options pour la vitesse: une journÃ©e ou immÃ©diatement. <br><br>  Il est important que la journÃ©e soit allouÃ©e au blocage de la ressource et au dÃ©verrouillage, si tout Ã  coup une dÃ©cision est prise de la dÃ©verrouiller.  Pour beaucoup, cela se fait sous forme de mises Ã  jour nocturnes des commutateurs.  D'aprÃ¨s mon expÃ©rience: je n'ai pas reÃ§u la notification Ã  temps, la ressource a Ã©tÃ© bloquÃ©e, le problÃ¨me a Ã©tÃ© rÃ©solu, mais vous attendez un jour pendant qu'ils la dÃ©bloquent.  Mais l'entreprise n'attend pas, il y a des pertes. <br><br>  Mais maintenant, dans les normes, le mot <strong>Â«immÃ©diatementÂ»</strong> sonne trÃ¨s souvent <strong>, par accord oral, c'est une heure</strong> .  Mais il y a un accord oral aujourd'hui, et demain ce n'est pas le cas.  Fondamentalement, le libellÃ© Â«immÃ©diatementÂ» fait maintenant rÃ©fÃ©rence aux dÃ©cisions du procureur sur l'extrÃ©misme. <br><br>  Pour comprendre comment tout est filtrÃ©, vous devez savoir ce qu'il y a Ã  l'intÃ©rieur de la Â«dÃ©chargeÂ».  Il existe une liste d'entrÃ©es en XML de l'un des quatre types par type de verrou et les dÃ©tails de la solution: <br><br><ol><li>  URL (s) + domaine + adresse (s) IP; <br></li><li>  Domaine + adresse (s) IP; <br></li><li>  Le domaine avec le masque (* .example.com) + adresse IP (a); <br></li><li>  Adresse IP (a) - bien sÃ»r, il y a une adresse et elle est complÃ¨tement bloquÃ©e. <br></li></ol><br>  Pour clarifier les chiffres en question, voici les statistiques du 22 janvier 2019. <br><img src="https://habrastorage.org/webt/1o/xn/59/1oxn59rg0lzgm-iewywnlanduja.jpeg"><br><br>  Important: seulement 139 000 enregistrements, et le type de blocage le plus populaire est le blocage Â«par domaineÂ».  Ce sont des protocoles HTTP et HTTPS. <br><br><h2>  ToxicitÃ© "dÃ©chargement" <br></h2><br>  Avant de bloquer la ressource, le fournisseur doit analyser le Â«dÃ©chargementÂ».  Cela pose Ã©galement des problÃ¨mes.  J'ai spÃ©cifiquement attirÃ© l'attention sur le fait que le Â«dÃ©chargementÂ» n'est pas un registre, mais un document technique qui est dÃ©livrÃ© au fournisseur pour qu'il prenne des dÃ©cisions en fonction de cela.  Mais malgrÃ© cela, le prestataire doit effectuer un trÃ¨s gros traitement de Â«dÃ©chargementÂ». <br><br>  Par exemple, dans le Â«tÃ©lÃ©chargementÂ», il y a <strong>redondance</strong> , les enregistrements se chevauchent.  Si vous prenez une URL, cela ne signifie pas qu'il n'y aura pas de blocage par le domaine contenu dans cette URL.  Il n'y en a pas beaucoup maintenant, cependant, un peu plus de trois mille. <br><br>  Le Â«tÃ©lÃ©chargementÂ» contient des <strong>URL avec des fragments (#) et des sessions</strong> .  C'est gÃ©nÃ©ralement horrible, car vous devez comprendre comment se dÃ©roule le test. <br><br>  Le fournisseur doit ramener le Â«tÃ©lÃ©chargementÂ» Ã  sa forme normale, car il contient des <strong>URL et des domaines incorrects.</strong>  Fondamentalement, seules les barres obliques inversÃ©es sont dÃ©sormais trouvÃ©es.  Il y a des lacunes, mais elles sont rapidement supprimÃ©es, et pour les contre-obliques, pour une raison quelconque, un "amour" spÃ©cial.  Eh bien, avec les contre-obliques, ils ont dÃ©cidÃ© de la question, mais s'il y a un signe plus?  Par consÃ©quent, il devrait toujours y avoir une surveillance, toujours quelque chose Ã  faire. <br><br>  Encore une fois, j'attire l'attention sur le fait que le <strong>problÃ¨me du fournisseur est notre problÃ¨me</strong> .  Que fait le prestataire?  Une motivation de 100 000 roubles est une bonne motivation pour s'assurer qu'en cas de problÃ¨me, mÃªme avec un soupÃ§on de problÃ¨me, hacher tout de suite, puis le comprendre. <br><br>  La pertinence de Â«dÃ©chargerÂ» les adresses IP qui ne sont pas Â«bloquÃ©es par des adresses IPÂ», mais tout le reste (blocage par domaine, URL, masque) ressemble Ã  ceci. <br><img src="https://habrastorage.org/webt/lk/nw/0i/lknw0ihtkgp0cl9x0yh2rjtcrga.jpeg"><br><br>  LittÃ©ralement un peu plus de la moitiÃ© est pertinent, et le reste est une viande hachÃ©e complÃ¨te. <br><br><h2>  VÃ©rification des verrous <br></h2><br>  Je vais commencer par la fin. <br><br><blockquote>  Toute l'histoire de la mise en Å“uvre des verrous en Russie est l'histoire des contrÃ´les de ces verrous. <br></blockquote><br>  Je ne sais pas comment Ã  lâ€™Ã©tranger, chez nous câ€™est absolument exactement lâ€™histoire des inspections.  Toutes les serrures ne sont pas faites comme il est Ã©crit, comment les faire, mais comme elles vÃ©rifient, car personne n'aime payer des amendes, en particulier 100 000. <br><br>  Avant le registre des sites interdits, il y avait une liste de documents extrÃ©mistes du ministÃ¨re de la Justice (il existe maintenant, il est maintenant dans le registre, puis il Ã©tait sÃ©parÃ©) et des vÃ©rifications des verrous par le ministÃ¨re public sur cette liste.  Je suis un micro-hÃ©bergeur et j'ai rÃ©ussi Ã  me bloquer ces ressources. <br><br>  Types de contrÃ´les existants: <br><br><ul><li>  Inspections sur le terrain (principalement le ministÃ¨re de l'IntÃ©rieur, le FSB et le parquet) - elles sont rares, mais elles existent. </li><li>  AS Â«InspectorÂ» est un systÃ¨me automatisÃ© prÃ©fÃ©rÃ© qui vÃ©rifie tous les fournisseurs. </li></ul><br><img src="https://habrastorage.org/webt/59/ni/o1/59nio1btog0crenlyyzd-ffb65y.png"><br><br>  L 'Â«inspecteurÂ» se tient derriÃ¨re le filtre et fait semblant d'Ãªtre abonnÃ©.  Mais l'appareil lui-mÃªme ne fait rien, il reÃ§oit des tÃ¢ches et donne des rÃ©ponses Ã  un certain centre de contrÃ´le, c'est-Ã -dire  c'est un tel shell distant Ã  l'intÃ©rieur du rÃ©seau du fournisseur.  Il ressemble beaucoup Ã  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RIPE Atlas</a> . <br><br>  Le centre de contrÃ´le d'un systÃ¨me automatisÃ© est un vÃ©ritable service Ã  haute charge, car nous avons 4 000 opÃ©rateurs tÃ©lÃ©coms, ils n'ont pas un rÃ©seau, mais un boÃ®tier doit Ãªtre dans chaque rÃ©seau.  Autrement dit, pas tous les fournisseurs, mais <strong>dans chaque rÃ©seau de chaque fournisseur</strong> .  En consÃ©quence, le centre de contrÃ´le a certains problÃ¨mes. <br><br>  Question: y a-t-il des problÃ¨mes avec le chÃ¨que lui-mÃªme?  Bien sÃ»r que oui. <br><br><h2>  ProblÃ¨mes de vÃ©rification <br></h2><br>  Ã€ SPECTRUM-2017 (un forum sous les auspices de Roskomnadzor lui-mÃªme) Veklich A.A., l'un des chefs de l'entreprise unitaire de l'Ã‰tat fÃ©dÃ©ral du Centre principal de radiofrÃ©quences (RFRC)  fait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport</a> complet sur quels sont exactement les problÃ¨mes techniques avec l'inspection de l 'Â«inspecteurÂ» des prestataires. <br><br>  ProblÃ¨mes de vÃ©rification: <br><br><ul><li>  L 'Â«inspecteurÂ» voit-il <strong>cela comme un filtre d'un fournisseur ou d'une ressource?</strong>  C'est peut-Ãªtre l'un d'entre vous qui a trouvÃ© la base de donnÃ©es Â«InspectorÂ» et tous les sites distribuent simplement un stub qui ressemble Ã  un stub de fournisseur. </li><li>  <strong>Taux de blocage</strong> - pour tous les types de blocage (pour HTTPS, domaine, adresse IP) qu'est-ce qu'un indicateur que la ressource est bloquÃ©e?  Par exemple, vous devez analyser les ports par adresse IP, c'est tout un problÃ¨me. </li><li>  <strong>Taux de blocage pour d'autres protocoles.</strong> </li><li>  <strong>Comment vÃ©rifier un domaine par masque</strong> ?  Sous l'astÃ©risque, il peut y avoir diffÃ©rentes adresses IP, diffÃ©rents domaines.  Puis-je mettre un filtre sur toute la bande?  Et pour vÃ©rifier cela - de maniÃ¨re sÃ©lective ou gÃ©nÃ©rer du hachage?  Je dois dire tout de suite qu'il existe un tel verrou, mais personne ne le vÃ©rifie. </li></ul><br><h2>  La mÃ©thode de travail de l'AS Â«InspecteurÂ» <br></h2><br>  ConformÃ©ment Ã  ces problÃ¨mes, la mÃ©thodologie de travail de l 'Â«examinateurÂ» a Ã©tÃ© crÃ©Ã©e. <br><img src="https://habrastorage.org/webt/wh/ob/p4/whobp4kojjtmfwfyulrpff5z7po.png"><br><br>  Et oui, votre diapositive illustre pleinement cette technique.  Je ne comprends pas trÃ¨s bien comment vous pouvez logiquement vivre avec.  Pour nous, tout cela se traduit par le fait que les fournisseurs essaient de rÃ©soudre ce problÃ¨me d'une maniÃ¨re ou d'une autre, et de le rendre pratique pour eux-mÃªmes, et pas toujours pratique pour nous. <br><br>  Travaillant sans technique, de nombreux prestataires ont acquis une expÃ©rience existentielle.  En gÃ©nÃ©ral, toute la technique de blocage est une voie empirique qui coÃ»te de l'argent, des nerfs, des chutes, mÃªme maintenant, alors qu'une technique s'est dÃ©jÃ  un peu calmÃ©e. <br><br>  Il existe une salle de discussion non officielle (ce qui est remarquable - Ã  Telegram, oÃ¹ ailleurs), oÃ¹ les fournisseurs communiquent avec les employÃ©s du Centre de radiofrÃ©quence.  La chose la plus intÃ©ressante est que vous pouvez y obtenir une aide rÃ©elle, les employÃ©s du State Reserves Center aident les prestataires Ã  rÃ©soudre leurs problÃ¨mes et expliquent comment fonctionne l 'Â«inspecteurÂ».  Mais tout cela n'est pas officiel, il n'y a pas de documents. <br><br>  Il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">norme de</a> Roskomnadzor sur les voies et mÃ©thodes de restriction d'accÃ¨s, qui est enregistrÃ©e auprÃ¨s du ministÃ¨re de la Justice.  Il va spÃ©cialement Ã  la fin, car il a la prioritÃ© la plus basse.  Les fournisseurs n'agissent pas comme Ã©crit dans le rÃ¨glement, mais plutÃ´t comment fonctionne la mÃ©thode de vÃ©rification. <br><br><h2>  Technique de travail avec Â«dÃ©chargementÂ» <br></h2><br>  Selon la norme et l'expÃ©rience acquise, je vais vous expliquer comment ils fonctionnent avec le Â«dÃ©chargementÂ», c'est-Ã -dire comment nos ressources sont bloquÃ©es. <br><br>  <strong>Par URL</strong> : <br><br><ul><li>  S'il s'agit d'un protocole HTTP normal, filtrez par en-tÃªtes. </li><li>  Si le protocole cryptÃ© est HTTPS - filtrez comme un "domaine" </li></ul><br>  Pourquoi est-il gÃ©nÃ©ralement clair de l'URL avec le protocole cryptÃ©, c'est la redondance. <br><br>  <strong>Par domaine:</strong> <br><br><ul><li>  Le protocole HTTP habituel est un filtre par l'en-tÃªte Host. </li><li>  Protocole cryptÃ© HTTPS - ou filtre DNS;  ou filtrer par en-tÃªte SNI (lors de l'Ã©tablissement d'une connexion cryptÃ©e, un en-tÃªte non cryptÃ© avec un nom de domaine Ã  l'intÃ©rieur est transmis);  ou filtrer par adresse IP. </li><li>  Il est recommandÃ© de bloquer d'autres protocoles par adresse IP, mais comme "l'inspecteur" ne vÃ©rifie pas cela, quelqu'un le fait, personne ne le fait pas. </li></ul><br>  La norme dit que dans le deuxiÃ¨me cas, les verrous Â«par domaineÂ» ne peuvent pas Ãªtre bloquÃ©s par l'adresse IP.  Mais le fournisseur, quand il commence Ã  brouiller le filtre, inclut immÃ©diatement un autre niveau, afin de ne pas recevoir d'amende.  Une telle histoire n'est pas rare et entraÃ®ne naturellement des dommages supplÃ©mentaires pour l'entreprise. <br><br>  ThÃ©oriquement, les fournisseurs filtrent le <strong>domaine avec le masque</strong> comme par le domaine sans astÃ©risque.  Puisqu'il n'y a pas de contrÃ´le non plus, il n'y a pas de problÃ¨me non plus. <br><br>  <strong>Ils</strong> filtrent par <strong>adresse IP et bloc d'adresses IP</strong> comme ils le savent - parfois directement sur le routeur de pÃ©riphÃ©rie. <br><br><h3>  Participants consciencieux </h3><br>  Nous savons que non seulement les Â«mÃ©chantsÂ» sont bloquÃ©s, mais aussi <strong>les participants consciencieux Ã  Internet</strong> .  Par exemple, lorsqu'une personne n'avait pas l'intention de conserver des informations interdites sur son hÃ©bergement, mais n'a pas lu la lettre ou n'a pas reÃ§u de notification. <br><br>  Le deuxiÃ¨me groupe est constituÃ© de participants Ã©trangers.  Ils vivent dans leur domaine juridique et ne violent pas la loi.  Ils peuvent rire, par exemple, des pots-de-vin, ils ne voient rien de mal Ã  cela.  Par exemple, les hÃ©bergeurs n'ont mÃªme pas le droit de supprimer ces informations, car les lois ne leur sont pas applicables.  Ce ne sont pas des gens mÃ©chants, mais les serrures les frappent Ã©galement. <br><br><h3>  ProblÃ¨mes de filtrage </h3><br>  Examinons les problÃ¨mes, parlons du filtrage DNS, qui est recommandÃ© par la norme. <br><br>  PremiÃ¨re question: d' <strong>oÃ¹ vient le DNS</strong> ?  En effet, des informations interdites peuvent Ãªtre publiÃ©es, mais DNS reprÃ©sente le service dont les gens ont besoin, tout comme DNS, par exemple, les adresses IP.  Lors de la simulation de DNS, tout n'est pas trÃ¨s bon, et on ne sait pas pourquoi. <br><br>  Le deuxiÃ¨me point est la mise en Å“uvre de <strong>l'interception DNS</strong> .       (     â€”   ),      . ,        .ru   DNS,    ,       DNS. <br><br>    ,  <strong>   </strong> .        .   ,   . <br><br>      DNS (DNSCrypt, DoT, DoH)       DNS. <br><br>        ,       IP,        HTTP/HTTPS.      ?    , , ,   Telegram   ( ) â€”    ? <strong>    </strong> ! <br><br>     â€” ,    â€”  ,    443:  SNI, SNI  (ESNI)    , , QUIC, DNSCrypt, VPN, MTProto-proxy? <br><br>  , , Google,    SNI,    DNSCrypt  443 .      -.  ,  ,       HTTPS,   .         ,      . <br><br><h2>   <br></h2><br>     , ,  100  .     ,  IP-,     .    ,   ,   ,  . <br><br>    ,  Â«  !Â». Â«Â»       ,   Â«Â»,    ,  .  ,     .      -  100 ,     . <br><img src="https://habrastorage.org/webt/cv/i7/p2/cvi7p2b4z1mknqwuh1vgsjrju_c.png"><br><br>       â€”  ,     .   IP,  ,    Â«Â» IP . ,     IP (   ),   ,   ,    . <br><img src="https://habrastorage.org/webt/nd/vi/0n/ndvi0nvlgvtc-yojul6bslqxn_e.png"><br><br>  :   IP ,   Â«Â»   IP,    ,       ,  Â«Â»  â€”   . ,         ,      . <br><br>     : <br><br><ul><li> ; </li><li> ; </li><li>  ,     . </li></ul><br>         .  ,      . , LiveJournal    -   - CDN,   /23     IP.   ,   ,    . <br><br><h2> Â«Â»  <br></h2><br>  Â«Â»,      ,     Â«Â»,  , ,     .         ,   Â«Â».  Â«Â»    ,     ,      . <br><br>    Â«Â»  200 Â«Â» ,       .   ,     ,   . ,  ,  . <br><br>    ? <br><img src="https://habrastorage.org/webt/eg/2g/t_/eg2gt_bfkscybjrod2r93_lbggs.png"><br><br>     , , .   MSK-IX,   MSK-IX   ,     .    -      DNS-. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.google.com/url%3Fq%3D">DNS-</a>   ,  -  Â«Â» ,    IP-    ,  ,     IP-  ,   .. - ,       , . <br><br> , ,    ,     .    ,    ,      Â«Â», ,  5  2017     . <br><br>         .    ,     .        DDoS,           . <br><br>  ,  - - ? <br><img src="https://habrastorage.org/webt/ye/63/gq/ye63gqphufbkczl3gtyjuxdgtcm.png"><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.google.com/url%3Fq%3D">14  2018 </a> :   ,    Â«Â» . -  4 ,    400 ,    4 000 IP-.  ,        , -  600     ,  20%  TK    . <br><br>    : <br><img src="https://habrastorage.org/webt/gl/5r/ss/gl5rss-uqew3jaepytl-1z3lg6u.png"><br><br>   ,   IP-    Â«Â». 5     : Â«     â€”      - ?Â»     .   ,      IP         (   ),    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> : DIGITAL RESISTANCE. <br><br>      : Â« !Â»,     .   ,     ,   -   .   ,   2   ,  2  ,      - .     Â«Â»   Â«Â»   4 000,     ,      . ,  ,         â€”   1538. <br><br>  ,         â€”    - ! <br><br> ,    .   ,      -    : - , <strong>   </strong> .   ,     . , ,  DNS- â€”      ,     ,         .    Â«Â» ,     . <br><br> ,          -   HTTP  ,      .   Motobratan.ru     ,    .     ,           . <br><br><h2>   <br></h2><br> -      , : <br><br><ul><li>    Â«Â»; </li><li>     , Â«Â»  ; </li><li>  ; </li><li>   . </li></ul><br> ,  â€”   .    ,  ,    .           Â«Â».    Â«Â»,   ,  : Â«,  ,  !Â»          Â«Â»   ,   -  .         -  . <br><br>  ,     ,      Â«Â»,   . <br><br><h2>  <br></h2><br>    ,      , â€” <strong> </strong> .   : <br><br><ul><li>     . </li><li>   â€”      ,  ,    . </li><li>     â€”     ? , Kubernetes   ,           â€”  Continuous Integration! </li></ul><br>   â€” <strong> DPI</strong> ,     ,    .    ,   DPI   . -,   - ,   .  DPI   , ,       DPI,     .  <strong></strong>   .    DPI   ,  ,     . <br><br>    â€”   <strong>  DNS  </strong> ,    . <br><br><ul><li>   ,   DNS     ,     â€”  . </li><li>       ,     .  , ,     . </li><li>   ,    DNS,    Â«Â» . </li></ul><br>     : <strong>   Telegram?</strong> <br><br>    ,  : .  Telegram ,     , ,   DPI  <strong>  </strong> . ,     ,     ,       Telegram. <br><br> ,             . <br><br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a>  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Telegram-</a>      @usher2    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">schors</a> <br><br><blockquote>             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HighLoad++</a> 2018.       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> â€”  ,    . ,     ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Saint HighLoad++</a> . <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431188/">https://habr.com/ru/post/fr431188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431176/index.html">Microservices, API et innovations: la puissance des API</a></li>
<li><a href="../fr431178/index.html">Mots parasites en anglais</a></li>
<li><a href="../fr431180/index.html">Ext JS sur le serveur</a></li>
<li><a href="../fr431184/index.html">RÃ©seaux maillÃ©s multi-sauts WIFI utilisant la technologie Mesh Connex</a></li>
<li><a href="../fr431186/index.html">Conception par types: comment rendre les Ã©tats invalides inexprimables en C #</a></li>
<li><a href="../fr431190/index.html">Comment Ã©valuer le niveau d'une entreprise de rÃ©fÃ©rencement sans conclure un accord avec elle</a></li>
<li><a href="../fr431192/index.html">AWC prÃ©sente Firecracker - micro-virtualisation pour Linux</a></li>
<li><a href="../fr431194/index.html">Tube chaud hardcore. Comment Ã©tait DotNext 2018 Moscou</a></li>
<li><a href="../fr431196/index.html">Comment Yandex.Taxi prÃ©dit le temps de livraison des voitures Ã  l'aide de l'apprentissage automatique</a></li>
<li><a href="../fr431198/index.html">Fonctionnement du rÃ©partiteur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>