<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüîß üî© üëø Aut√¥matos celulares no navegador üì∑ üçü üí°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um aut√¥mato celular √© um sistema que consiste em c√©lulas com valores num√©ricos em uma grade, al√©m de regras que determinam o comportamento dessas c√©lu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aut√¥matos celulares no navegador</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481672/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/028/8da/3c1/0288da3c139cf936f21eccce5342a6d6.jpg" alt="imagem"></div><br>  Um aut√¥mato celular √© um sistema que consiste em c√©lulas com valores num√©ricos em uma grade, al√©m de regras que determinam o comportamento dessas c√©lulas.  Aplicando repetidamente a regra a cada c√©lula da grade em paralelo com a visualiza√ß√£o da grade, √© poss√≠vel obter o efeito de um determinado organismo em evolu√ß√£o com comportamento complexo e intricado, mesmo que as regras sejam relativamente simples. <br><br>  Os aut√¥matos celulares t√™m v√°rias formas, tipos e dimens√µes.  Provavelmente o aut√¥mato celular mais famoso √© o Jogo da Vida de Conway (GOL).  Consiste em uma grade bidimensional na qual cada c√©lula cont√©m um valor bin√°rio (vivo ou morto).  As regras que acompanham, com base no estado das c√©lulas vizinhas, determinam se a c√©lula deve estar morta ou viva.  As regras dizem que uma c√©lula viva morre de solid√£o se houver menos de duas c√©lulas vivas ao seu redor.  Se mais de tr√™s c√©lulas vizinhas estiverem vivas, ela morre de superpopula√ß√£o.  Em outras palavras, uma c√©lula "sobrevive" se houver exatamente 2 ou 3 c√©lulas vizinhas vivas ao seu redor.  Para que uma c√©lula <em>morta</em> ganhe vida, ela deve ter exatamente 3 c√©lulas vizinhas vivas, caso contr√°rio ela permanece morta.  Um exemplo de uma m√°quina GoL que itera atrav√©s de v√°rios estados √© mostrado abaixo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/562/8d3/d06/5628d3d06c87bcf93b7949f8ea5eec7a.gif" alt="Jogo da vida"></div><br>  Outra vers√£o famosa do aut√¥mato celular √© unidimensional;  √© chamado de aut√¥mato celular elementar (ECA).  √â isso que estamos implementando neste post. <br><a name="habracut"></a><br>  Cada estado desse aut√¥mato √© armazenado como uma matriz unidimensional de valores booleanos e, embora sejam necess√°rias duas dimens√µes para visualizar o estado GOL, um aut√¥mato de valores √© suficiente para esse aut√¥mato.  Gra√ßas a isso, podemos usar duas dimens√µes (em vez de anima√ß√£o) para visualizar todo o hist√≥rico dos estados desse aut√¥mato.  Como no caso da GOL, o estado da c√©lula nesta m√°quina √© 0 ou 1, mas, diferentemente da c√©lula GOL, que √© atualizada dependendo de seus 8 vizinhos, a c√©lula ECA √© atualizada com base no estado do vizinho esquerdo, vizinho direito e ele pr√≥prio! <br><br>  Exemplos de regras s√£o mostrados abaixo: as tr√™s principais c√©lulas s√£o a entrada da regra e a inferior √© a sa√≠da, onde preto √© 1 e branco √© 0. Al√©m disso, podemos ver os padr√µes gerados por cada uma delas, quando o estado inicial √© todo 0, exceto 1 na c√©lula do meio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ad/c6d/69a/7adc6d69a6e6f302850bc9227ea8bdb1.jpg"></div><br>  Voc√™ pode se perguntar: por que as regras apresentadas acima s√£o indicadas por n√∫meros?  Como cada n√∫mero no intervalo de 0 a 255 corresponde diretamente √† regra do ECA e, portanto, esses n√∫meros s√£o usados ‚Äã‚Äãcomo os nomes das regras.  Esta correspond√™ncia √© mostrada abaixo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a41/65e/13b/a4165e13bf83463bbf66a155ba8441fd.png"></div><br>  <i>Do n√∫mero √† regra</i> <br><br>  Qualquer n√∫mero no intervalo de 0 a 255 pode ser representado em formato bin√°rio com apenas 8 d√≠gitos (primeira seta acima).  Al√©m disso, podemos atribuir a cada um desses n√∫meros um √≠ndice com base em sua localiza√ß√£o (segunda seta).  Naturalmente, esses √≠ndices est√£o no intervalo de 0 a 7, ou seja, podem ser representados na forma bin√°ria usando apenas 3 d√≠gitos (terceira seta).  Interpretando esses 3 d√≠gitos como entrada e o d√≠gito correspondente do n√∫mero original como sa√≠da, obtemos a fun√ß√£o tern√°ria de que precisamos (quarta seta). <br><br><h2>  Gera√ß√£o de regras </h2><br>  Vamos implementar a interpreta√ß√£o acima como uma fun√ß√£o de ordem superior <code>get_rule</code> que recebe um n√∫mero de 0 a 255 como entrada e retorna uma regra ECA correspondente a esse n√∫mero. <br><br>  Precisamos criar algo assim: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rule30 = get_rule(<span class="hljs-number"><span class="hljs-number">30</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> output110 = rule30(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  No exemplo acima, a <code>rule30(1,1,0)</code> inicial <code>rule30(1,1,0)</code> combinar√° todos os tr√™s valores bin√°rios em um n√∫mero (110 = 6) e retornar√° um pouco nessa posi√ß√£o (6) na representa√ß√£o bin√°ria 30. O n√∫mero 30 na representa√ß√£o bin√°ria √© 00011110, portanto, a fun√ß√£o retornar√° 0 (contamos √† direita e iniciamos a contagem de 0). <br><br>  Sabendo que as tr√™s vari√°veis ‚Äã‚Äãde entrada bin√°rias ser√£o combinadas em um n√∫mero, vamos come√ßar implementando essa fun√ß√£o de <code>combine</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> combine = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">b1, b2, b3</span></span></span><span class="hljs-function">) =&gt;</span></span> (b1 &lt;&lt; <span class="hljs-number"><span class="hljs-number">2</span></span>) + (b2 &lt;&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>) + (b3 &lt;&lt; <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  Tendo mudado os argumentos para as posi√ß√µes correspondentes √† esquerda e, em seguida, somando os tr√™s n√∫meros deslocados, obtemos a combina√ß√£o desejada. <br><br>  A segunda parte importante da fun√ß√£o <code>get_rule</code> √© determinar o valor do bit em uma posi√ß√£o espec√≠fica em um n√∫mero.  Portanto, vamos criar uma fun√ß√£o <code>get_bit(num, pos)</code> , que pode retornar um valor de bit em uma determinada posi√ß√£o <code>pos</code> em um determinado n√∫mero <code>num</code> .  Por exemplo, o n√∫mero 141 no formato bin√°rio √© 10001101, portanto, <code>get_bit(2, 141)</code> deve retornar <code>1</code> e <code>get_bit(5, 141)</code> deve retornar <code>0</code> . <br><br>  A fun√ß√£o <code>get_bit(num,pos)</code> pode ser implementada executando primeiro um deslocamento de bit do n√∫mero por <code>pos</code> para a direita e, em seguida, executando a opera√ß√£o bit a bit "AND" com o n√∫mero 1. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> get_bit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num, pos</span></span></span><span class="hljs-function">) =&gt;</span></span> (num &gt;&gt; pos) &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre> <br>  Agora s√≥ precisamos combinar essas duas fun√ß√µes: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> get_rule = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num</span></span></span><span class="hljs-function"> =&gt;</span></span> (b1, b2, b3) =&gt; get_bit(num, combine(b1, b2, b3));</code> </pre> <br>  √ìtimo!  Portanto, temos uma fun√ß√£o que para cada n√∫mero dentro do nosso intervalo nos fornece uma regra ECA √∫nica com a qual podemos fazer qualquer coisa.  O pr√≥ximo passo √© renderiz√°-los no navegador. <br><br><h2>  Visualiza√ß√£o de Regras </h2><br>  Para renderizar aut√¥matos no navegador, usaremos o elemento <code>canvas</code> .  O <code>canvas</code> pode ser criado e adicionado ao corpo html da seguinte maneira: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> canvas = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'canvas'</span></span>); canvas.width = <span class="hljs-number"><span class="hljs-number">800</span></span>; canvas.height = <span class="hljs-number"><span class="hljs-number">800</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(canvas); };</code> </pre> <br>  Para poder interagir com a <code>canvas</code> , precisamos de <em>contexto</em> .  O contexto nos permite desenhar formas e linhas, colorir objetos e geralmente navegar na <code>canvas</code> .  Ele √© fornecido atrav√©s do m√©todo <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext" rel="nofollow"><code>getContext</code></a> de nossa <code>canvas</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> context = canvas.getContext(<span class="hljs-string"><span class="hljs-string">'2d'</span></span>);</code> </pre> <br>  O par√¢metro <code>'2d'</code> refere-se ao tipo de contexto que usaremos neste exemplo. <br><br>  Em seguida, criaremos uma fun√ß√£o que, tendo o contexto, a regra ECA, bem como algumas informa√ß√µes sobre a escala e o n√∫mero de c√©lulas, desenhe a regra na <code>canvas</code> .  A id√©ia √© gerar e desenhar uma grade linha por linha;  A parte principal do c√≥digo √© mais ou menos assim: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw_rule</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx, rule, scale, width, height</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> row = initial_row(width); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; height; i++) { draw_row(ctx, row, scale); row = next_row(row, rule); } }</code> </pre> <br>  Come√ßamos com algum tipo de conjunto inicial de c√©lulas, que √© a linha atual.  Essa linha, como nos exemplos acima, geralmente cont√©m todos os zeros, com exce√ß√£o de uma unidade na c√©lula do meio, mas tamb√©m pode conter uma linha completamente aleat√≥ria de 1 e 0. N√≥s desenhamos essa linha de c√©lulas e usamos a regra para calcular a pr√≥xima linha de valores com base em linha atual.  Em seguida, basta repetir o desenho e calcular as novas etapas at√© descobrirmos que a grade √© alta o suficiente. <br><br>  Para o trecho de c√≥digo acima, precisamos implementar tr√™s fun√ß√µes: <code>draw_row</code> , <code>draw_row</code> e <code>next_row</code> . <br><br>  <code>initial_row</code> √© uma fun√ß√£o simples.  Ele cria uma matriz de zeros e altera o elemento no centro da matriz em um. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initial_row</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">length</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initial_row = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(length).fill(<span class="hljs-number"><span class="hljs-number">0</span></span>); initial_row[<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(length / <span class="hljs-number"><span class="hljs-number">2</span></span>)] = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> initial_row; }</code> </pre> <br>  Como j√° temos uma fun√ß√£o de regra, a fun√ß√£o <code>next_row</code> pode consistir em uma linha.  O valor de cada c√©lula em uma nova linha √© o resultado da aplica√ß√£o da regra com os valores das c√©lulas mais pr√≥ximas e a linha antiga √© usada como entrada. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> next_row = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">row, rule</span></span></span><span class="hljs-function">) =&gt;</span></span> row.map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_, i</span></span></span><span class="hljs-function">) =&gt;</span></span> rule(row[i - <span class="hljs-number"><span class="hljs-number">1</span></span>], row[i], row[i + <span class="hljs-number"><span class="hljs-number">1</span></span>]));</code> </pre> <br>  Voc√™ notou que tra√≠mos essa linha?  Cada c√©lula em uma nova linha requer entrada de outras tr√™s c√©lulas, mas duas c√©lulas nas bordas da linha recebem dados de apenas duas.  Por exemplo, <code>next_row[0]</code> tenta obter o valor de <code>next_row[0]</code> da <code>row[-1]</code> .  Isso ainda funciona porque, ao tentar acessar valores por √≠ndices que n√£o est√£o na matriz, o javascript retorna <code>undefined</code> , e acontece que <code>(undefined &gt;&gt; [ ])</code> (da fun√ß√£o de <code>combine</code> ) sempre retorna 0. Isso significa que, na realidade, processamos cada valor fora da matriz como 0. <br><br>  Sei que isso √© feio, mas em breve criaremos algo bonito na tela, para que possamos ser perdoados. <br><br>  Em seguida, vem a fun√ß√£o <code>draw_row</code> ;  √© ela quem realiza a renderiza√ß√£o! <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw_row</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx, row, scale</span></span></span><span class="hljs-function">) </span></span>{ ctx.save(); row.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cell</span></span></span><span class="hljs-function"> =&gt;</span></span> { ctx.fillStyle = cell === <span class="hljs-number"><span class="hljs-number">1</span></span> ? <span class="hljs-string"><span class="hljs-string">'#000'</span></span> : <span class="hljs-string"><span class="hljs-string">'#fff'</span></span>; ctx.fillRect(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, scale, scale); ctx.translate(scale, <span class="hljs-number"><span class="hljs-number">0</span></span>); }); ctx.restore(); ctx.translate(<span class="hljs-number"><span class="hljs-number">0</span></span>, scale); }</code> </pre> <br>  √â aqui que somos muito dependentes do objeto de contexto, usando pelo menos 5 m√©todos diferentes dele.  Aqui est√° uma breve lista e como us√°-los. <br><br><ul><li>  <code>fillStyle</code> indica como queremos preencher as formas.  Pode ser uma cor, por exemplo, <code>"#f55"</code> , bem como um gradiente ou padr√£o.  Usamos esse m√©todo para separar visualmente as c√©lulas 0 das c√©lulas 1. </li><li>  <code>fillRect(x, y, w, h)</code> desenha um ret√¢ngulo a partir de um ponto (x, y) com largura w e altura h, preenchidos de acordo com <code>fillStyle</code> .  Nossos ret√¢ngulos s√£o quadrados simples, mas voc√™ pode se surpreender que o ponto de partida de todos eles esteja na origem.  Isso aconteceu porque usamos esse m√©todo em combina√ß√£o com o <code>translate</code> . </li><li>  <code>translate(x, y)</code> permite mover todo o sistema de coordenadas.  A posi√ß√£o √© salva, portanto, o m√©todo √© uma excelente alternativa para rastrear diferentes posi√ß√µes dos elementos.  Por exemplo, em vez de calcular a posi√ß√£o de cada c√©lula da grade individual, podemos simplesmente desenhar uma c√©lula, mover para a direita, desenhar uma nova c√©lula e assim por diante. </li><li>  <code>save()</code> e <code>restore()</code> s√£o usados ‚Äã‚Äãem conjunto com <code>translate</code> e outros m√©todos de convers√£o de coordenadas.  N√≥s os usamos para <em>salvar o</em> sistema de coordenadas atual em um determinado ponto, para que mais tarde possamos retornar a ele (usando a <em>restaura√ß√£o</em> ).  Nesse caso, salvamos o sistema de coordenadas antes de renderizar a linha e a movemos para a direita.  Ent√£o, quando terminamos de desenhar a linha e percorremos todo o caminho para a direita, as coordenadas s√£o restauradas e retornamos ao estado original.  Ent√£o descemos para nos preparar para desenhar a pr√≥xima linha. </li></ul><br>  Agora temos todas as partes necess√°rias para a fun√ß√£o <code>draw_rule</code> .  Usamos essa fun√ß√£o em <code>window.onload</code> ap√≥s preparar a <code>canvas</code> .  Tamb√©m determinaremos os par√¢metros que precisamos. <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> width = <span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Width of the canvas const height = 500; // Height of the canvas const cells_across = 200; // Number of cells horizontally in the grid const cell_scale = width / cells_across; // Size of each cell const cells_down = height / cell_scale; // Number of cells vertically in the grid const rule = get_rule(30); // The rule to display const canvas = document.createElement('canvas'); canvas.width = width; canvas.height = height; document.body.appendChild(canvas); const context = canvas.getContext('2d'); draw_rule(context, rule, cell_scale, cells_across, cells_down); };</span></span></code> </pre> <br>  Extra√≠mos as dimens√µes da <code>canvas</code> como vari√°veis ‚Äã‚Äãseparadas, juntamente com o n√∫mero de c√©lulas horizontalmente.  Em seguida, computamos <code>cell_scale</code> e 'cells_down' para que a grade preencha toda a <code>canvas</code> , enquanto as c√©lulas permanecem quadradas.  Gra√ßas a isso, podemos alterar facilmente a "resolu√ß√£o" da grade, permanecendo dentro da <code>canvas</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d98/566/33e/d9856633e69f731e69a8ae40a79591c2.png"></div><br>  Isso √© tudo!  O exemplo de c√≥digo completo est√° no <a href="" rel="nofollow">github</a> e no <a href="https://codepen.io/kgolid/pen/oNgZKqV" rel="nofollow">codepen</a> : <br><br><h2>  Seguindo em frente </h2><br>  Gra√ßas a esse sistema, poderemos examinar uma ap√≥s a outra todas as 256 regras, iterativamente, alterando o c√≥digo ou escolhendo um n√∫mero de regra aleatoriamente a cada carregamento da p√°gina.  Seja como for, √© muito empolgante estudar todos esses resultados imprevis√≠veis em nosso ambiente controlado. <br><br>  Voc√™ tamb√©m pode tornar aleat√≥rio o estado inicial das c√©lulas do aut√¥mato, em vez dos "zeros s√≥lidos e uma unidade" est√°ticos.  Portanto, obtemos resultados ainda mais imprevis√≠veis.  Esta vers√£o da fun√ß√£o <code>initial_row</code> pode ser escrita assim: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">random_initial_row</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">width</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(width), _ =&gt; <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * <span class="hljs-number"><span class="hljs-number">2</span></span>)); }</code> </pre> <br>  Abaixo, voc√™ v√™ o quanto essa altera√ß√£o na linha de sa√≠da tem um grande impacto na sa√≠da. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a6/023/75e/6a602375ecbe522ad75829547ee92b5f.png"></div><br>  <i>String de origem aleat√≥ria</i> <br><br>  E este √© apenas um aspecto que voc√™ pode mudar!  Por que limitar-se a apenas duas condi√ß√µes?  (A transi√ß√£o de 2 para 3 estados aumenta o n√∫mero de regras de 256 para 7 625 597 484 987!) Por que limitar-se a quadrados?  Por que apenas 2 dimens√µes?  Por que apenas uma regra de cada vez? <br><br>  Exemplos de visualiza√ß√µes baseadas no ECA s√£o mostrados abaixo, mas com uma fun√ß√£o <code>draw_rule</code> alternativa que <code>draw_rule</code> linhas n√£o com quadrados, mas com um padr√£o isom√©trico e, em seguida, preenche as √°reas definidas por essas linhas com cores.  Voc√™ nem precisa exibir linhas divis√≥rias e apenas mostrar cores. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/028/8da/3c1/0288da3c139cf936f21eccce5342a6d6.jpg"></div><br>  Se voc√™ for ainda mais longe, poder√° adicionar simetrias axiais (linha do meio) e espelho (linha de baixo). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f71/cad/adc/f71cadadc23b156366f5bb93669d8b06.jpg"></div><br>  Se essas visualiza√ß√µes pareciam interessantes para voc√™, mas estude <a href="https://generated.space/sketch/hatch-automata-full/" rel="nofollow">essa caixa de prote√ß√£o interativa</a> , ou melhor ainda, comece com o c√≥digo que criamos e tente criar seus pr√≥prios aut√¥matos celulares! <br><br>  Boa sorte </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt481672/">https://habr.com/ru/post/pt481672/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt481662/index.html">Tentando novas ferramentas para criar e automatizar a implanta√ß√£o no Kubernetes</a></li>
<li><a href="../pt481664/index.html">Pre√ßos e custos sem servidor: AWS Lambda</a></li>
<li><a href="../pt481666/index.html">Regras personalizadas do SwiftLint</a></li>
<li><a href="../pt481668/index.html">O primeiro problema do visualizador ou as dificuldades de converter fluxos de v√≠deo WebRTC em HLS</a></li>
<li><a href="../pt481670/index.html">Crie um plano de a√ß√£o usando o AWS Cloud Adoption Framework</a></li>
<li><a href="../pt481674/index.html">Funil de vendas de carros ou como n√£o mesclar clientes e at√© trabalhar com aqueles que recusaram seus servi√ßos?</a></li>
<li><a href="../pt481676/index.html">Semana de seguran√ßa 52: seguran√ßa para alto-falantes inteligentes e c√¢meras IP</a></li>
<li><a href="../pt481678/index.html">Revis√£o pr√©-feriado: N6IIT01 Player e fones de ouvido com armadura YB04 - Hi-Fi do sul da China</a></li>
<li><a href="../pt481680/index.html">Escrevendo TodoMVC no dap. Parte 2</a></li>
<li><a href="../pt481684/index.html">Um laptop da Powerbank?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>