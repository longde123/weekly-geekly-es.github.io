<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯзУЁЯП╗ ЁЯСЛЁЯП╝ ЁЯд▓ЁЯП┐ OpenSceneGraph: рдмрдирд╛рд╡рдЯ рдореВрд▓ рдмрд╛рддреЗрдВ тП│ ЁЯСйЁЯП╝тАНтЪЦя╕П ЁЯМ▓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд░рд┐рдЪрдп 
 рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреА рдЬрд╛рдВрдЪ рдХреА рд╣реИ рдЬрд╣рд╛рдВ рдЙрдиреНрд╣реЛрдВрдиреЗ рдЗрдВрджреНрд░рдзрдиреБрд╖ рдХреЗ рд╕рднреА рд░рдВрдЧреЛрдВ рдореЗрдВ рдПрдХ рд╡рд░реНрдЧ рдЪрд┐рддреНрд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИред рдлрд┐рд░ рднреА, рдПрдХ рдФрд░ рддрдХрдиреАрдХ рд╣реИ, рдЕрд░реНрдерд╛рддреН рддрдерд╛рдХрдерд┐рдд...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OpenSceneGraph: рдмрдирд╛рд╡рдЯ рдореВрд▓ рдмрд╛рддреЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437624/"><img src="https://habrastorage.org/webt/py/ks/3w/pyks3wlvjf_zfef-sqocutbnimk.jpeg" alt="рдЫрд╡рд┐"><br><br><h1>  рдкрд░рд┐рдЪрдп </h1><br>  рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рдЙрджрд╛рд╣рд░рдг</a> рдХреА рдЬрд╛рдВрдЪ рдХреА рд╣реИ рдЬрд╣рд╛рдВ рдЙрдиреНрд╣реЛрдВрдиреЗ рдЗрдВрджреНрд░рдзрдиреБрд╖ рдХреЗ рд╕рднреА рд░рдВрдЧреЛрдВ рдореЗрдВ рдПрдХ рд╡рд░реНрдЧ рдЪрд┐рддреНрд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИред  рдлрд┐рд░ рднреА, рдПрдХ рдФрд░ рддрдХрдиреАрдХ рд╣реИ, рдЕрд░реНрдерд╛рддреН рддрдерд╛рдХрдерд┐рдд <em>рдмрдирд╛рд╡рдЯ рдорд╛рдирдЪрд┐рддреНрд░</em> рдХреЗ рддреНрд░рд┐-рдЖрдпрд╛рдореА рдЬреНрдпрд╛рдорд┐рддрд┐ рдпрд╛ рдХреЗрд╡рд▓ рдмрдирд╛рд╡рдЯ рдХреЗ рд▓рд┐рдП рдЖрд╡реЗрджрди - рдПрдХ рджреЛ-рдЖрдпрд╛рдореА рд░реЗрдЦрд╛рдкреБрдВрдЬ рдЫрд╡рд┐ред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдкреНрд░рднрд╛рд╡ рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЗ рдХреЛрдиреЗ рдкрд░ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рджреГрд╢реНрдп рдХреЗ рд░реЗрдЦрд╛рдкреБрдВрдЬ рд╣реЛрдиреЗ рдкрд░ рдкреНрд░рд╛рдкреНрдд рд╕рднреА рдкрд┐рдХреНрд╕реЗрд▓ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рддрдХрдиреАрдХ рдЕрдВрддрд┐рдо рдЫрд╡рд┐ рдХреЗ рдпрдерд╛рд░реНрдерд╡рд╛рдж рдФрд░ рд╡рд┐рд╕реНрддрд╛рд░ рдХреЛ рдХрд╛рдлреА рдмрдврд╝рд╛ рд╕рдХрддреА рд╣реИред <br><br>  OSG рдХрдИ рдмрдирд╛рд╡рдЯ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдФрд░ рдмрдирд╛рд╡рдЯ рдореЛрдб рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди, рдмрдирд╛рд╡рдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдЗрдП рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдУрдПрд╕рдЬреА рдмрд┐рдЯрдореИрдк рдЫрд╡рд┐рдпреЛрдВ рдХреЛ рдХреИрд╕реЗ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред  рд░реЗрдЦрд╛рдкреБрдВрдЬ рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╡рд░реНрдЧ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдСрд╕реНрдЧ :: рдЫрд╡рд┐, рдЬреЛ рдЗрд╕рдХреЗ рдЕрдВрджрд░ рдЫрд╡рд┐ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рдЙрджреНрджреЗрд╢реНрдп, рдЕрдВрддрддрдГ, рд╡рд╕реНрддреБ рдХреЛ рдмрдирд╛рд╡рдЯ рдХреЗ рд▓рд┐рдПред <br><a name="habracut"></a><br><h1>  1. рд░реЗрдЦрд╛рдкреБрдВрдЬ рдЫрд╡рд┐ рдбреЗрдЯрд╛ рдХреА рдкреНрд░рд╕реНрддреБрддрд┐ред  Osg рд╡рд░реНрдЧ :: рдЫрд╡рд┐ </h1><br>  рдбрд┐рд╕реНрдХ рд╕реЗ рдПрдХ рдЫрд╡рд┐ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИ osgDB :: readImageFile () рдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ред  рдпрд╣ osg :: readNodeFile () рдХреЙрд▓ рдХреЗ рд╕рдорд╛рди рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣рдореЗрдВ рдКрдм рдЪреБрдХрд╛ рд╣реИред  рдЕрдЧрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ picture.bmp рдирд╛рдо рдХрд╛ рдмрд┐рдЯрдореИрдк рд╣реИ, рддреЛ рдЗрд╕реЗ рд▓реЛрдб рдХрд░рдирд╛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛ <br><br><pre><code class="cpp hljs">osg::ref_ptr&lt;osg::Image&gt; image = osgDB::readImageFile(<span class="hljs-string"><span class="hljs-string">"picture.bmp"</span></span>);</code> </pre> <br>  рдпрджрд┐ рдЫрд╡рд┐ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рднрд░реА рд╣реБрдИ рд╣реИ, рддреЛ рд╕реВрдЪрдХ рдорд╛рдиреНрдп рд╣реЛрдЧрд╛, рдЕрдиреНрдпрдерд╛ рдлрд╝рдВрдХреНрд╢рди NULL рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рдПрдЧрд╛ред  рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЫрд╡рд┐ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <br><br><ol><li>  рдЯреА (), рдПрд╕ () рдФрд░ рдЖрд░ () - рдЫрд╡рд┐ рдХреА рдЪреМрдбрд╝рд╛рдИ, рдКрдВрдЪрд╛рдИ рдФрд░ рдЧрд╣рд░рд╛рдИ рд▓реМрдЯрд╛рдПрдВред <br></li><li>  data () - "рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд" рдЫрд╡рд┐ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд char * рдХрд╛ рдкреЙрдЗрдВрдЯрд░ рджреЗрддрд╛ рд╣реИред  рдЗрд╕ рд╕реВрдЪрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдбреЗрд╡рд▓рдкрд░ рдЫрд╡рд┐ рдбреЗрдЯрд╛ рдкрд░ рд╕реАрдзреЗ рдХрд╛рд░реНрдп рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдЖрдк getPixalFormat () рдФрд░ getDataType () рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЫрд╡рд┐ рдбреЗрдЯрд╛ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рд╡рд┐рдЪрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрдирдХреЗ рджреНрд╡рд╛рд░рд╛ рд▓реМрдЯрд╛рдП рдЧрдП рдорд╛рди, OpenGL рдлрд╝рдВрдХреНрд╢рди glTexImage * () рдХреЗ рдкреНрд░рд╛рд░реВрдк рдФрд░ рдкреНрд░рдХрд╛рд░ рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЪрд┐рддреНрд░ рдореЗрдВ GL_RGB рдкрд┐рдХреНрд╕реЗрд▓ рдкреНрд░рд╛рд░реВрдк рд╣реИ рдФрд░ рдкреНрд░рдХрд╛рд░ GL_UNSIGNED_BYTE рд╣реИ, рддреЛ RGB рд░рдВрдЧ рдШрдЯрдХ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреАрди рд╕реНрд╡рддрдВрддреНрд░ рддрддреНрд╡реЛрдВ (рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдмрд╛рдЗрдЯреНрд╕) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ <br></li></ol><br><img src="https://habrastorage.org/webt/6g/mo/or/6gmoorwfvryg44pq7sdi0cb4l9s.png"><br><br>  рдЖрдк рдПрдХ рдирдИ рдЫрд╡рд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Image&gt; image = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Image; image-&gt;allocateImage(s, t, r, GL_RGB, GL_UNSIGNED_BYTE); <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *ptr = image-&gt;data(); <span class="hljs-comment"><span class="hljs-comment">//        </span></span></code> </pre><br>  рдпрд╣рд╛рдБ s, t, r рдЫрд╡рд┐ рдЖрдХрд╛рд░ рд╣реИрдВ;  GL_RGB рдкрд┐рдХреНрд╕реЗрд▓ рдкреНрд░рд╛рд░реВрдк рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ, рдФрд░ GL_UNSIGNED_BYTE рдПрдХрд▓ рд░рдВрдЧ рдШрдЯрдХ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред  рдЖрд╡рд╢реНрдпрдХ рдЖрдХрд╛рд░ рдХрд╛ рдПрдХ рдЖрдВрддрд░рд┐рдХ рдбреЗрдЯрд╛ рдмрдлрд░ рд╕реНрдореГрддрд┐ рдореЗрдВ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд╖реНрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдЕрдЧрд░ рдЗрд╕ рдЫрд╡рд┐ рдХрд╛ рдПрдХ рднреА рд▓рд┐рдВрдХ рдирд╣реАрдВ рд╣реИред <br><br>  OSG рдкреНрд▓рдЧ-рдЗрди рд╕рд┐рд╕реНрдЯрдо рд▓рдЧрднрдЧ рд╕рднреА рд▓реЛрдХрдкреНрд░рд┐рдп рдЫрд╡рд┐ рдкреНрд░рд╛рд░реВрдкреЛрдВ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ: * .jpg, * .bmp, * * .ng, * .tif рдФрд░ рдЗрддрдиреЗ рдкрд░ред  рдпрд╣ рд╕реВрдЪреА рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреНрд▓рдЧрдЗрди рдХреЛ рд▓рд┐рдЦрдХрд░ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рдФрд░ рдЪрд░реНрдЪрд╛ рдХрд╛ рд╡рд┐рд╖рдп рд╣реИред <br><br><h1>  2. рдмрдирд╛рд╡рдЯ рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ </h1><br>  рддреАрди-рдЖрдпрд╛рдореА рдореЙрдбрд▓ рдореЗрдВ рдмрдирд╛рд╡рдЯ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХрдИ рдЪрд░рдгреЛрдВ рдХреЛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><ol><li>  рдЬреНрдпрд╛рдорд┐рддреАрдп рд╡рд╕реНрддреБ (3 рдбреА рдбрд┐рдЬрд╛рдЗрдирд░реЛрдВ рдХреЗ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ, рдпрд╣ рдПрдХ рдпреВрд╡реА рд╕реНрдХреИрди рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдХреЗ рд▓рд┐рдП рдХреЛрдиреЗ рдХреЗ рдмрдирд╛рд╡рдЯ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВред <br></li><li>  1 рдбреА, 2 рдбреА, 3 рдбреА, рдпрд╛ рдХреНрдпреВрдмрд┐рдХ рдмрдирд╛рд╡рдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрдирд╛рд╡рдЯ рд╡рд┐рд╢реЗрд╖рддрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВред <br></li><li>  рдмрдирд╛рд╡рдЯ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдЫрд╡рд┐рдпрд╛рдВ рд╕реЗрдЯ рдХрд░реЗрдВред <br></li><li>  рддреИрдпрд╛рд░ рдХреА рдЬрд╛ рд░рд╣реА рд╡рд╕реНрддреБ рдкрд░ рд▓рд╛рдЧреВ рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рд╕реЗрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрдирд╛рд╡рдЯ рд╡рд┐рд╢реЗрд╖рддрд╛ рдФрд░ рдореЛрдб рд╕рдВрд▓рдЧреНрди рдХрд░реЗрдВред <br></li></ol><br>  рдУрдПрд╕рдЬреА рдСрд╕реНрдЧ :: рдЯреЗрдХреНрд╕рдЪрд░ рдХреНрд▓рд╛рд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд╕рднреА рддрд░рд╣ рдХреЗ рдЯреЗрдХреНрд╕рдЪрд░ рдХреЛ рдЗрдирдХреИрдкреНрд╕ рдХрд░рддрд╛ рд╣реИред  Subclasses osg :: Texture1D, osg :: Texture2D, osg :: Texture3D рдФрд░ osg :: TextureCubeMap рдХреЛ рдЗрд╕рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рд╛ рд╣реИ, рдЬреЛ рдУрдкрдирдЬреАрдПрд▓ рдореЗрдВ рдЕрдкрдирд╛рдИ рдЧрдИ рд╡рд┐рднрд┐рдиреНрди рдмрдирд╛рд╡рдЯ рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рд╕рдмрд╕реЗ рдЖрдо рдУрд╕реНрдЧ :: рдЯреЗрдХреНрд╕рдЪрд░ рдХреНрд▓рд╛рд╕ рд╡рд┐рдзрд┐ рд╕реЗрдЯрд┐рдореЗрдЬ () рд╣реИ, рдЬреЛ рдмрдирд╛рд╡рдЯ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЫрд╡рд┐ рдХреЛ рд╕реЗрдЯ рдХрд░рддреА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Image&gt; image = osgDB::readImageFile(<span class="hljs-string"><span class="hljs-string">"picture.bmp"</span></span>); osg::ref_ptr&lt;osg::Texture2D&gt; texture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Texture2D; texture-&gt;setImage(image.get());</code> </pre><br>  рдпрд╛, рдЖрдк рдЯреЗрдХреНрд╕рдЪрд░ рдХреНрд▓рд╛рд╕ рдХреЗ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЛ рдЗрдореЗрдЬ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╕реАрдзреЗ рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Image&gt; image = osgDB::readImageFile(<span class="hljs-string"><span class="hljs-string">"picture.bmp"</span></span>); osg::ref_ptr&lt;osg::Texture2D&gt; texture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Texture2D(image.get());</code> </pre><br>  GetImage () рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рдЫрд╡рд┐ рдХреЛ рдмрдирд╛рд╡рдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реЗ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдПрдХ рдЕрдиреНрдп рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рдСрд╕реНрдЧ :: рдЬреНрдпреЛрдореЗрдЯреНрд░реА рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╢реАрд░реНрд╖ рдХреЗ рд▓рд┐рдП рдмрдирд╛рд╡рдЯ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕реЗрдЯ рдХрд░ рд░рд╣рд╛ рд╣реИред  рдЗрди рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХреЛрдВ рдХрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдСрд╕ :: Vec2Array рдФрд░ osg :: Vec3Array рдРрд░реЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ setTexCoordArray () рд╡рд┐рдзрд┐ рд╕реЗ рд╣реЛрддрд╛ рд╣реИред <br><br>  рдмрдирд╛рд╡рдЯ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдмрдирд╛рд╡рдЯ рд╕реНрд▓реЙрдЯ рдирдВрдмрд░ (рдпреВрдирд┐рдЯ) рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ OSG рдПрдХ рд╣реА рдЬреНрдпрд╛рдорд┐рддрд┐ рдкрд░ рдХрдИ рдмрдирд╛рд╡рдЯреЛрдВ рдХреЛ рд╕реБрдкрд░рдЗрдореНрдкреЛрдЬрд╝ рдХрд░рдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдПрдХрд▓ рдмрдирд╛рд╡рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдЗрдХрд╛рдИ рд╕рдВрдЦреНрдпрд╛ рд╣рдореЗрд╢рд╛ 0. рд╣реЛрддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреА рдЗрдХрд╛рдИ 0 рдХреЗ рд▓рд┐рдП рдмрдирд╛рд╡рдЯ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ рджрд┐рдЦрд╛рддрд╛ рд╣реИред <br><br><pre> <code class="cpp hljs">osf::ref_ptr&lt;osg::Vec2Array&gt; texcoord = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec2Array; texcoord-&gt;push_back( osg::Vec2(...) ); ... geom-&gt;setTexCoordArray(<span class="hljs-number"><span class="hljs-number">0</span></span>, texcoord.get());</code> </pre><br>  рдЙрд╕рдХреЗ рдмрд╛рдж, рд╣рдо рдмрдирд╛рд╡рдЯ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рд╕реЗрдЯ рдореЗрдВ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдмрдирд╛рд╡рдЯ рдореЛрдб (рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг GL_TEXTURE_2D рдореЗрдВ) рдХреЛ рдЪрд╛рд▓реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рдЬреНрдпрд╛рдорд┐рддрд┐ рд╡рд╛рд▓реЗ рдЬреНрдпрд╛рдорд┐рддрд┐ рдпрд╛ рдиреЛрдб рдХреЛ рд╡рд┐рд╢реЗрд╖рддрд╛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <br><br><pre> <code class="cpp hljs">geom-&gt;getOrCreateStateSet()-&gt;setTextureAttributeAndModes(texture.get());</code> </pre><br>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ OpenGL рд╡реАрдбрд┐рдпреЛ рдХрд╛рд░реНрдб рдХреА рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдореЗрдореЛрд░реА рдореЗрдВ рдЫрд╡рд┐ рдбреЗрдЯрд╛ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд┐рд╕реНрдЯрдо рдбреЗрдЯрд╛ рдореЗрдВ рд╕реНрдерд┐рдд рд╕рдорд╛рди рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде osg :: Image рдСрдмреНрдЬреЗрдХреНрдЯред  рдирддреАрдЬрддрди, рд╣рдо рдЗрд╕ рддрдереНрдп рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░реЗрдВрдЧреЗ рдХрд┐ рд╣рдордиреЗ рдПрдХ рд╣реА рдбреЗрдЯрд╛ рдХреА рджреЛ рдкреНрд░рддрд┐рдпрд╛рдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рд╣реИрдВ, рдЬреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдореЛрд░реА рдкрд░ рдХрдмреНрдЬрд╛ рдХрд░ рд░рд╣реА рд╣реИред  рдпрджрд┐ рдпрд╣ рдЪрд┐рддреНрд░ рдХрдИ рдмрдирд╛рд╡рдЯ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рд╕рд╛рдЭрд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ OpenGL рджреНрд╡рд╛рд░рд╛ рд╡реАрдбрд┐рдпреЛ рдПрдбреЙрдкреНрдЯрд░ рдореЗрдореЛрд░реА рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рдЗрд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдореЗрдореЛрд░реА рд╕реЗ рд╣рдЯрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдУрдПрд╕рдЬреА :: рдмрдирд╛рд╡рдЯ рд╡рд░реНрдЧ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╡рд┐рдзрд┐ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="cpp hljs">texture-&gt;setUnRefImageDataAfterApply( <span class="hljs-literal"><span class="hljs-literal">true</span></span> );</code> </pre> <br><h1>  3. рдПрдХ 2 рдбреА рдмрдирд╛рд╡рдЯ рдХреЛ рд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ </h1><br>  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рддрдХрдиреАрдХ 2 рдбреА рдЯреЗрдХреНрд╕рдЪрд░рд┐рдВрдЧ рд╣реИ - рдПрдХ рддреНрд░рд┐-рдЖрдпрд╛рдореА рд╕рддрд╣ рдХреЗ рдХрд┐рдирд╛рд░реЗ рдкрд░ рдПрдХ рджреЛ-рдЖрдпрд╛рдореА рдЫрд╡рд┐ (рдпрд╛ рдЫрд╡рд┐рдпрд╛рдВ) рдУрд╡рд░рд▓реЗрдЗрдВрдЧред  рдЪрддреБрд╖реНрдХреЛрдгреАрдп рдмрд╣реБрднреБрдЬ рдореЗрдВ рдПрдХрд▓ рдмрдирд╛рд╡рдЯ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд╕рдмрд╕реЗ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ <br><br><div class="spoiler">  <b class="spoiler_title">рдмрдирд╛рд╡рдЯ рдЙрджрд╛рд╣рд░рдг</b> <div class="spoiler_text">  <strong>main.h</strong> <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/Texture2D&gt; #include &lt;osg/Geometry&gt; #include &lt;osgDB/ReadFile&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> int main(int argc, char *argv[]) { (void) argc; (void) argv; osg::ref_ptr</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg::Vec3Array&gt; vertices = new osg::Vec3Array; vertices-&gt;push_back( osg::Vec3(-0.5f, 0.0f, -0.5f) ); vertices-&gt;push_back( osg::Vec3( 0.5f, 0.0f, -0.5f) ); vertices-&gt;push_back( osg::Vec3( 0.5f, 0.0f, 0.5f) ); vertices-&gt;push_back( osg::Vec3(-0.5f, 0.0f, 0.5f) ); osg::ref_ptr&lt;osg::Vec3Array&gt; normals = new osg::Vec3Array; normals-&gt;push_back( osg::Vec3(0.0f, -1.0f, 0.0f) ); osg::ref_ptr&lt;osg::Vec2Array&gt; texcoords = new osg::Vec2Array; texcoords-&gt;push_back( osg::Vec2(0.0f, 0.0f) ); texcoords-&gt;push_back( osg::Vec2(0.0f, 1.0f) ); texcoords-&gt;push_back( osg::Vec2(1.0f, 1.0f) ); texcoords-&gt;push_back( osg::Vec2(1.0f, 0.0f) ); osg::ref_ptr&lt;osg::Geometry&gt; quad = new osg::Geometry; quad-&gt;setVertexArray(vertices.get()); quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setTexCoordArray(0, texcoords.get()); quad-&gt;addPrimitiveSet( new osg::DrawArrays(GL_QUADS, 0, 4) ); osg::ref_ptr&lt;osg::Texture2D&gt; texture = new osg::Texture2D; osg::ref_ptr&lt;osg::Image&gt; image = osgDB::readImageFile("../data/Images/lz.rgb"); texture-&gt;setImage(image.get()); osg::ref_ptr&lt;osg::Geode&gt; root = new osg::Geode; root-&gt;addDrawable(quad.get()); root-&gt;getOrCreateStateSet()-&gt;setTextureAttributeAndModes(0, texture.get()); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br></div></div><br>  рдЪреЗрд╣рд░реЗ рдХреЛ рдХреЛрдиреЗ рдФрд░ рдорд╛рдирджрдВрдб рдХреА рдПрдХ рд╕рд░рдгреА рдмрдирд╛рдПрдБ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Vec3Array&gt; vertices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array; vertices-&gt;push_back( osg::Vec3(<span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-0.5f</span></span>) ); vertices-&gt;push_back( osg::Vec3( <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-0.5f</span></span>) ); vertices-&gt;push_back( osg::Vec3( <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>) ); vertices-&gt;push_back( osg::Vec3(<span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>) ); osg::ref_ptr&lt;osg::Vec3Array&gt; normals = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array; normals-&gt;push_back( osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) );</code> </pre><br>  рдмрдирд╛рд╡рдЯ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреА рдПрдХ рд╕рд░рдгреА рдмрдирд╛рдПрдБ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Vec2Array&gt; texcoords = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec2Array; texcoords-&gt;push_back( osg::Vec2(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) ); texcoords-&gt;push_back( osg::Vec2(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); texcoords-&gt;push_back( osg::Vec2(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); texcoords-&gt;push_back( osg::Vec2(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) );</code> </pre><br>  рдореБрджреНрджрд╛ рдпрд╣ рд╣реИ рдХрд┐ рддреНрд░рд┐-рдЖрдпрд╛рдореА рдореЙрдбрд▓ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╢реАрд░реНрд╖ рдХреЛ рджреЛ-рдЖрдпрд╛рдореА рдмрдирд╛рд╡рдЯ рдкрд░ рдПрдХ рдмрд┐рдВрджреБ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ, рдФрд░ рдмрдирд╛рд╡рдЯ рдкрд░ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕рд╛рдкреЗрдХреНрд╖ рд╣реИрдВ - рд╡реЗ рдЫрд╡рд┐ рдХреА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЪреМрдбрд╝рд╛рдИ рдФрд░ рдКрдВрдЪрд╛рдИ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рд╣реИрдВред  рд╣рдо рдкреВрд░реА рдЫрд╡рд┐ рдХреЛ рд╡рд░реНрдЧ рдкрд░ рд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдХреНрд░рдорд╢рдГ, рд╡рд░реНрдЧ рдХреЗ рдХреЛрдиреЗ рдмрдирд╛рд╡рдЯ рдмрд┐рдВрджреБрдУрдВ (0, 0), (0, 1), (1, 1) рдФрд░ (1, 0) рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрдВрдЧреЗред  рд╢реАрд░реНрд╖ рд╕рд░рдгреА рдореЗрдВ рдХреЛрдиреЗ рдХрд╛ рдХреНрд░рдо рдмрдирд╛рд╡рдЯ рдХреЗ рдХреЛрдиреЗ рдХреЗ рдХреНрд░рдо рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдЗрд╕рдХреЗ рдмрд╛рдж, рдПрдХ рд╡рд░реНрдЧ рдмрдирд╛рдПрдВ, рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЛ рд╡рд░реНрдЯрд┐рдХрд▓ рдХрд╛ рдПрдХ рд╕рд░рдгреА рдФрд░ рдорд╛рдирджрдВрдбреЛрдВ рдХрд╛ рдПрдХ рд╕рд░рдгреА рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Geometry&gt; quad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Geometry; quad-&gt;setVertexArray(vertices.get()); quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setTexCoordArray(<span class="hljs-number"><span class="hljs-number">0</span></span>, texcoords.get()); quad-&gt;addPrimitiveSet( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::DrawArrays(GL_QUADS, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) );</code> </pre><br>  рдПрдХ рдмрдирд╛рд╡рдЯ рд╡рд╕реНрддреБ рдмрдирд╛рдПрдВ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЫрд╡рд┐ рдХреЛ рд▓реЛрдб рдХрд░реЗрдВред <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Texture2D&gt; texture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Texture2D; osg::ref_ptr&lt;osg::Image&gt; image = osgDB::readImageFile(<span class="hljs-string"><span class="hljs-string">"../data/Images/lz.rgb"</span></span>); texture-&gt;setImage(image.get());</code> </pre><br>  рджреГрд╢реНрдп рдХрд╛ рд░реВрдЯ рдиреЛрдб рдмрдирд╛рдПрдВ рдФрд░ рд╣рдо рд╡рд╣рд╛рдВ рдмрдирд╛рдИ рдЧрдИ рдЬреНрдпрд╛рдорд┐рддрд┐ рдбрд╛рд▓реЗрдВ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Geode&gt; root = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Geode; root-&gt;addDrawable(quad.get());</code> </pre><br>  рдФрд░ рдЕрдВрдд рдореЗрдВ рдЯреЗрдХреНрд╕рдЪрд░ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рдЙрд╕ рдиреЛрдб рдкрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ рдЬрд┐рд╕рдореЗрдВ рдЬреНрдпрд╛рдорд┐рддрд┐ рд░рдЦреА рдЧрдИ рд╣реИ <br><br><pre> <code class="cpp hljs">root-&gt;getOrCreateStateSet()-&gt;setTextureAttributeAndModes(<span class="hljs-number"><span class="hljs-number">0</span></span>, texture.get());</code> </pre><br><img src="https://habrastorage.org/webt/wm/2a/fy/wm2afywfx6dnkhwaagvceqkycd8.png"><br><br>  Osg :: Texture2D рд╡рд░реНрдЧ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдмрдирд╛рд╡рдЯ рдХреА рдЫрд╡рд┐ рдХрд╛ рдЖрдХрд╛рд░ рджреЛ рдХреА рд╢рдХреНрддрд┐ рдХреЗ рдЧреБрдгрдХ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 64x64 рдпрд╛ 256x512), рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрди рдЫрд╡рд┐рдпреЛрдВ рдХреЛ рд╕реНрдХреЗрд▓ рдХрд░рдирд╛ рдЬреЛ рдЖрдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдкрдпреБрдХреНрдд рд╣реИрдВ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ OpenGL gluScitImage () рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рд╡рд╣рд╛рдБ рдПрдХ setResizeNonPowerOfTwoHint () рд╡рд┐рдзрд┐ рд╣реИ рдЬреЛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рдЫрд╡рд┐ рдХрд╛ рдЖрдХрд╛рд░ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред  рдХреБрдЫ рд╡реАрдбрд┐рдпреЛ рдХрд╛рд░реНрдбреЛрдВ рдХреЛ рджреЛ рдХреА рд╢рдХреНрддрд┐ рдХреА рдПрдХ рдЫрд╡рд┐ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрдмрдХрд┐ osg :: Texture2D рд╡рд░реНрдЧ рдПрдХ рдордирдорд╛рдирд╛ рдмрдирд╛рд╡рдЯ рдЖрдХрд╛рд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред <br><br><h1>  рдмрдирд╛рд╡рдЯ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ </h1><br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рдХрд╣рд╛ рд╣реИ, рдмрдирд╛рд╡рдЯ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ 0 рд╕реЗ 1. рдмрд┐рдВрджреБ (0, 0) рд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рд╣реЛрддреЗ рд╣реИрдВ, рдЫрд╡рд┐ рдХреЗ рдКрдкрд░реА рдмрд╛рдПрдВ рдХреЛрдиреЗ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдмрд┐рдВрджреБ (1, 1) рдирд┐рдЪрд▓реЗ рджрд╛рдПрдВ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИред  рдпрджрд┐ рдЖрдк рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдмрдирд╛рд╡рдЯ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ? <br><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдУрдкрдирдЬреАрдПрд▓ рдореЗрдВ, рдУрдПрд╕рдЬреА рдХреА рддрд░рд╣, рдЕрдХреНрд╖ рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рдмрдирд╛рд╡рдЯ рджреЛрд╣рд░рд╛рдИ рдЬрд╛рдПрдЧреА, рдмрдирд╛рд╡рдЯ рдХреЗ рд╕рдордиреНрд╡рдп рдХрд╛ рдореВрд▓реНрдп рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдЧрд╛ред  рдЗрд╕ рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдХреНрд╕рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд▓рдВрдмреА рдИрдВрдЯ рдХреА рджреАрд╡рд╛рд░ рдХрд╛ рдПрдХ рдореЙрдбрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдПрдХ рдЫреЛрдЯреА рдмрдирд╛рд╡рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ, рдЗрд╕рдХреА рд╕реБрдкрд░рдкреЛрдЬрд┐рд╢рди рдХреЛ рдЪреМрдбрд╝рд╛рдИ рдФрд░ рдКрдВрдЪрд╛рдИ рджреЛрдиреЛрдВ рдореЗрдВ рдХрдИ рдмрд╛рд░ рджреЛрд╣рд░рд╛рддрд╛ рд╣реВрдВред <br><br>  рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ osg :: Texture class рдХреЗ setWrap () рд╡рд┐рдзрд┐ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдкрд╣рд▓реЗ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ, рд╡рд┐рдзрд┐ рдЕрдХреНрд╖ рдХреЗ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдХреЛ рд▓реЗ рдЬрд╛рддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдорд┐рд╢реНрд░рдг рдореЛрдб рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рджреВрд╕рд░реЗ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     s texture-&gt;setWrap( osg::Texture::WRAP_S, osg::Texture::REPEAT ); //     r texture-&gt;setWrap( osg::Texture::WRAP_R, osg::Texture::REPEAT );</span></span></code> </pre><br>  рдпрд╣ рдХреЛрдб рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдПрд╕ рдФрд░ рдЖрд░ рдХреБрд▓реНрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдмрдирд╛рд╡рдЯ рдХреЛ рджреЛрд╣рд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрдЬрди рдХреЛ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдмрдирд╛рд╡рдЯ рдХрд╛ рдорд╛рди рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред рдмрдирд╛рд╡рдЯ рдорд╛рдирдЪрд┐рддреНрд░рдг рдореЛрдб рдХреА рдкреВрд░реА рд╕реВрдЪреА: <br><br><ol><li>  REPEAT - рдмрдирд╛рд╡рдЯ рджреЛрд╣рд░рд╛рдПрдВред <br></li><li>  MIRROR - рдЗрд╕реЗ рджреЛрд╣рд░рд╛рддреЗ рд╣реБрдП, рдмрдирд╛рд╡рдЯ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВред <br></li><li>  CLAMP_TO_EDGE - рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдЬреЛ 0 рд╕реЗ 1 рдХреЗ рдкрд╛рд░ рдЬрд╛рддреЗ рд╣реИрдВ, рдмрдирд╛рд╡рдЯ рдХреЗ рд╕рдВрдЧрдд рдХрд┐рдирд╛рд░реЗ рдкрд░ рддрдбрд╝рдХ рдЬрд╛рддреЗ рд╣реИрдВред <br></li><li>  CLAMP_TO_BORDER - рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдЬреЛ 0 рд╕реЗ 1 рддрдХ рдЬрд╛рддреЗ рд╣реИрдВ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕реАрдорд╛ рд░рдВрдЧ рджреЗрдЧрд╛ред <br></li></ol><br><h1>  4. рдмрдирд╛рд╡рдЯ рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдкрд╛рджрди </h1><br>  рдмрдирд╛рд╡рдЯ рд░реЗрдВрдбрд░рд┐рдВрдЧ рддрдХрдиреАрдХ рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдХреБрдЫ рддреНрд░рд┐-рдЖрдпрд╛рдореА рдЙрдк-рджреГрд╢реНрдп рдпрд╛ рдореЙрдбрд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдмрдирд╛рд╡рдЯ рдмрдирд╛рдиреЗ рдФрд░ рдЗрд╕реЗ рдореБрдЦреНрдп рджреГрд╢реНрдп рдореЗрдВ рд╕рддрд╣ рдкрд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред  рдПрдХ рд╕рдорд╛рди рддрдХрдиреАрдХ рдХреЛ рдЕрдХреНрд╕рд░ рдмрдирд╛рд╡рдЯ "рдмреЗрдХрд┐рдВрдЧ" рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдПрдХ рдмрдирд╛рд╡рдЯ рдХреЛ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдмреЗрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рддреАрди рдЪрд░рдг рдкреВрд░реЗ рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗ: <br><br><ol><li>  рдЗрд╕рдореЗрдВ рд░реЗрдВрдбрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЯреЗрдХреНрд╕рдЪрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВред <br></li><li>  рдПрдХ рдмрдирд╛рд╡рдЯ рдореЗрдВ рджреГрд╢реНрдп рд░реЗрдВрдбрд░ рдХрд░реЗрдВред <br></li><li>  рдЗрдЪреНрдЫрд┐рдд рдмрдирд╛рд╡рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред <br></li></ol><br>  рд╣рдореЗрдВ рдПрдХ рдЦрд╛рд▓реА рдмрдирд╛рд╡рдЯ рд╡рд╕реНрддреБ рдмрдирд╛рдиреА рдЪрд╛рд╣рд┐рдПред  рдУрдПрд╕рдЬреА рдЖрдкрдХреЛ рдХрд┐рд╕реА рджрд┐рдП рдЧрдП рдЖрдХрд╛рд░ рдХреА рдПрдХ рдЦрд╛рд▓реА рдмрдирд╛рд╡рдЯ рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  SetTextureSize () рд╡рд┐рдзрд┐ рдЖрдкрдХреЛ рдмрдирд╛рд╡рдЯ рдХреА рдЪреМрдбрд╝рд╛рдИ рдФрд░ рдКрдВрдЪрд╛рдИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдкреИрд░рд╛рдореАрдЯрд░ (3 рдбреА рдмрдирд╛рд╡рдЯ рдХреЗ рд▓рд┐рдП) рдХреА рдЧрд╣рд░рд╛рдИ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред <br><br>  рдХрд┐рд╕реА рдмрдирд╛рд╡рдЯ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХреИрдорд░рд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдЕрдЯреИрдЪ () рд╡рд┐рдзрд┐ рд╕реЗ рдХреЙрд▓ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреЛ рдПрдХ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдЯреЗрдХреНрд╕рдЪрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рд▓реЗрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рд╡рд┐рдзрд┐ рдПрдХ рддрд░реНрдХ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддреА рд╣реИ рдЬреЛ рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдлреНрд░реЗрдо рдмрдлрд░ рдХреЗ рдХрд┐рд╕ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдЗрд╕ рдмрдирд╛рд╡рдЯ рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд░рдВрдЧ рдмрдлрд░ рдХреЛ рдмрдирд╛рд╡рдЯ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рд┐рдП <br><br><pre> <code class="cpp hljs">camera-&gt;attach( osg::Camera::COLOR_BUFFER, texture.get() );</code> </pre><br>  рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдлреНрд░реЗрдо рдмрдлрд░ рдХреЗ рдЕрдиреНрдп рднрд╛рдЧреЛрдВ рдореЗрдВ DEPTH_BUFFER рдбреЗрдкреНрде рдмрдлрд░, STENCIL_BUFFER рд╕реНрдЯреИрдВрд╕рд┐рд▓ рдмрдлрд░ рдФрд░ COLOR_BUFFER0 рд╕реЗ COLOR_BUFFER15 рддрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд▓рд░ рдмрдлрд╝рд░реНрд╕ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рдЕрддрд┐рд░рд┐рдХреНрдд рд░рдВрдЧреАрди рдмрдлрд╝рд░реНрд╕ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдФрд░ рдЙрдирдХреА рд╕рдВрдЦреНрдпрд╛ рд╡реАрдбрд┐рдпреЛ рдХрд╛рд░реНрдб рдХреЗ рдореЙрдбрд▓ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рдХреИрдорд░реЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рдПрдХ рдмрдирд╛рд╡рдЯ рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рд╣реЛрддрд╛ рд╣реИ, рдЖрдкрдХреЛ рдкреНрд░рдХреНрд╖реЗрдкрдг рдореИрдЯреНрд░рд┐рдХреНрд╕ рдФрд░ рд╡реНрдпреВрдкреЛрд░реНрдЯ рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЬрд┐рд╕рдХрд╛ рдЖрдХрд╛рд░ рдмрдирд╛рд╡рдЯ рдХреЗ рдЖрдХрд╛рд░ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдлреНрд░реЗрдо рддреИрдпрд╛рд░ рд╣реЛрдиреЗ рдкрд░ рдмрдирд╛рд╡рдЯ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ рдореБрдЦреНрдп рдХреИрдорд░реЗ рдХреЛ рдмрдирд╛рд╡рдЯ рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдореБрдЦреНрдп рджреГрд╢реНрдп рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЖрдкрдХреЛ рдмрд╕ рдПрдХ рдХрд╛рд▓реА рд╕реНрдХреНрд░реАрди рдорд┐рд▓рддреА рд╣реИред  рдЬрдм рдЖрдк рдСрдл-рд╕реНрдХреНрд░реАрди рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкреВрд░реА рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИред <br><br><h1>  5. рдмрдирд╛рд╡рдЯ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг </h1><br>  рдПрдХ рдмрдирд╛рд╡рдЯ рдореЗрдВ рд░реЗрдВрдбрд░рд┐рдВрдЧ рддрдХрдиреАрдХ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░реНрдп рдХреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВ: рдПрдХ рд╡рд░реНрдЧ рдмрдирд╛рддреЗ рд╣реИрдВ, рдЙрд╕ рдкрд░ рдПрдХ рдЪреМрдХреЛрд░ рдмрдирд╛рд╡рдЯ рдмрдирд╛рддреЗ рд╣реИрдВ, рдФрд░ рдмрдирд╛рд╡рдЯ рдореЗрдВ рдПрдХ рдПрдирд┐рдореЗрдЯреЗрдб рджреГрд╢реНрдп рдкреНрд░рд╕реНрддреБрдд рдХрд░рддреЗ рд╣реИрдВ, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЙрд╕ рд╕реЗрд╕рдирд╛ рдЬрд┐рд╕реЗ рд╣рдо рдкреНрдпрд╛рд░ рдХрд░рддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХрд╛рдлреА рдмрдбрд╝рд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдореИрдВ рд╡реИрд╕реЗ рднреА рдЗрд╕рдХрд╛ рдкреВрд░реНрдг рд╕реНрд░реЛрдд рдХреЛрдб рджреВрдВрдЧрд╛ред <br><br><div class="spoiler">  <b class="spoiler_title">рдЯреЗрдХреНрд╕рд░реЗрдВрдбрд░ рдЙрджрд╛рд╣рд░рдг</b> <div class="spoiler_text">  <strong>main.h</strong> <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/Camera&gt; #include &lt;osg/Texture2D&gt; #include &lt;osg/MatrixTransform&gt; #include &lt;osgDB/ReadFile&gt; #include &lt;osgGA/TrackballManipulator&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ osg::Geometry *createQuad(const osg::Vec3 &amp;pos, float w, float h) { osg::ref_ptr&lt;osg::Vec3Array&gt; vertices = new osg::Vec3Array; vertices-&gt;push_back( pos + osg::Vec3( w / 2, 0.0f, -h / 2) ); vertices-&gt;push_back( pos + osg::Vec3( w / 2, 0.0f, h / 2) ); vertices-&gt;push_back( pos + osg::Vec3(-w / 2, 0.0f, h / 2) ); vertices-&gt;push_back( pos + osg::Vec3(-w / 2, 0.0f, -h / 2) ); osg::ref_ptr&lt;osg::Vec3Array&gt; normals = new osg::Vec3Array; normals-&gt;push_back(osg::Vec3(0.0f, -1.0f, 0.0f)); osg::ref_ptr&lt;osg::Vec2Array&gt; texcoords = new osg::Vec2Array; texcoords-&gt;push_back( osg::Vec2(1.0f, 1.0f) ); texcoords-&gt;push_back( osg::Vec2(1.0f, 0.0f) ); texcoords-&gt;push_back( osg::Vec2(0.0f, 0.0f) ); texcoords-&gt;push_back( osg::Vec2(0.0f, 1.0f) ); osg::ref_ptr&lt;osg::Geometry&gt; quad = new osg::Geometry; quad-&gt;setVertexArray(vertices.get()); quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setTexCoordArray(0, texcoords.get()); quad-&gt;addPrimitiveSet(new osg::DrawArrays(GL_QUADS, 0, 4)); return quad.release(); } //------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ int main(int argc, char *argv[]) { (void) argc; (void) argv; osg::ref_ptr&lt;osg::Node&gt; sub_model = osgDB::readNodeFile("../data/cessna.osg"); osg::ref_ptr&lt;osg::MatrixTransform&gt; transform1 = new osg::MatrixTransform; transform1-&gt;setMatrix(osg::Matrix::rotate(0.0, osg::Vec3(0.0f, 0.0f, 1.0f))); transform1-&gt;addChild(sub_model.get()); osg::ref_ptr&lt;osg::Geode&gt; model = new osg::Geode; model-&gt;addChild(createQuad(osg::Vec3(0.0f, 0.0f, 0.0f), 2.0f, 2.0f)); int tex_widht = 1024; int tex_height = 1024; osg::ref_ptr&lt;osg::Texture2D&gt; texture = new osg::Texture2D; texture-&gt;setTextureSize(tex_widht, tex_height); texture-&gt;setInternalFormat(GL_RGBA); texture-&gt;setFilter(osg::Texture2D::MIN_FILTER, osg::Texture2D::LINEAR); texture-&gt;setFilter(osg::Texture2D::MAG_FILTER, osg::Texture2D::LINEAR); model-&gt;getOrCreateStateSet()-&gt;setTextureAttributeAndModes(0, texture.get()); osg::ref_ptr&lt;osg::Camera&gt; camera = new osg::Camera; camera-&gt;setViewport(0, 0, tex_widht, tex_height); camera-&gt;setClearColor(osg::Vec4(1.0f, 1.0f, 1.0f, 1.0f)); camera-&gt;setClearMask(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); camera-&gt;setRenderOrder(osg::Camera::PRE_RENDER); camera-&gt;setRenderTargetImplementation(osg::Camera::FRAME_BUFFER_OBJECT); camera-&gt;attach(osg::Camera::COLOR_BUFFER, texture.get()); camera-&gt;setReferenceFrame(osg::Camera::ABSOLUTE_RF); camera-&gt;addChild(transform1.get()); osg::ref_ptr&lt;osg::Group&gt; root = new osg::Group; root-&gt;addChild(model.get()); root-&gt;addChild(camera.get()); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); viewer.setCameraManipulator(new osgGA::TrackballManipulator); viewer.setUpViewOnSingleScreen(0); camera-&gt;setProjectionMatrixAsPerspective(30.0, static_cast&lt;double&gt;(tex_widht) / static_cast&lt;double&gt;(tex_height), 0.1, 1000.0); float dist = 100.0f; float alpha = 10.0f * 3.14f / 180.0f; osg::Vec3 eye(0.0f, -dist * cosf(alpha), dist * sinf(alpha)); osg::Vec3 center(0.0f, 0.0f, 0.0f); osg::Vec3 up(0.0f, 0.0f, -1.0f); camera-&gt;setViewMatrixAsLookAt(eye, center, up); float phi = 0.0f; float delta = -0.01f; while (!viewer.done()) { transform1-&gt;setMatrix(osg::Matrix::rotate(static_cast&lt;double&gt;(phi), osg::Vec3(0.0f, 0.0f, 1.0f))); viewer.frame(); phi += delta; } return 0; }</span></span></span></span></code> </pre><br></div></div><br>  рдПрдХ рд╡рд░реНрдЧ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдЕрд▓рдЧ рдореБрдлреНрдд рдлрд╝рдВрдХреНрд╢рди рд▓рд┐рдЦреЗрдВ <br><br><pre> <code class="cpp hljs">osg::<span class="hljs-function"><span class="hljs-function">Geometry *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createQuad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> osg::Vec3 &amp;pos, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> w, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h)</span></span></span><span class="hljs-function"> </span></span>{ osg::ref_ptr&lt;osg::Vec3Array&gt; vertices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array; vertices-&gt;push_back( pos + osg::Vec3( w / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, -h / <span class="hljs-number"><span class="hljs-number">2</span></span>) ); vertices-&gt;push_back( pos + osg::Vec3( w / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, h / <span class="hljs-number"><span class="hljs-number">2</span></span>) ); vertices-&gt;push_back( pos + osg::Vec3(-w / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, h / <span class="hljs-number"><span class="hljs-number">2</span></span>) ); vertices-&gt;push_back( pos + osg::Vec3(-w / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, -h / <span class="hljs-number"><span class="hljs-number">2</span></span>) ); osg::ref_ptr&lt;osg::Vec3Array&gt; normals = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array; normals-&gt;push_back(osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)); osg::ref_ptr&lt;osg::Vec2Array&gt; texcoords = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec2Array; texcoords-&gt;push_back( osg::Vec2(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); texcoords-&gt;push_back( osg::Vec2(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) ); texcoords-&gt;push_back( osg::Vec2(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) ); texcoords-&gt;push_back( osg::Vec2(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); osg::ref_ptr&lt;osg::Geometry&gt; quad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Geometry; quad-&gt;setVertexArray(vertices.get()); quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setTexCoordArray(<span class="hljs-number"><span class="hljs-number">0</span></span>, texcoords.get()); quad-&gt;addPrimitiveSet(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::DrawArrays(GL_QUADS, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quad.release(); }</code> </pre><br>  рдлрд╝рдВрдХреНрд╢рди рдПрдХ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдЧ рдХреЗ рдХреЗрдВрджреНрд░ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рдЗрд╕рдХреЗ рдЬреНрдпрд╛рдорд┐рддреАрдп рдЖрдпрд╛рдореЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред  рдЕрдЧрд▓рд╛, рд╡рд░реНрдЯрд┐рдХрд▓ рдХреА рдПрдХ рд╕рд░рдгреА, рдорд╛рдирджрдВрдб рдФрд░ рдмрдирд╛рд╡рдЯ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреА рдПрдХ рд╕рд░рдгреА рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдирд┐рд░реНрдорд┐рдд рдЬреНрдпрд╛рдорд┐рддрд┐ рдлрд╝рдВрдХреНрд╢рди рд╕реЗ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддреА рд╣реИред <br><br>  рдореБрдЦреНрдп рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЗ рд╢рд░реАрд░ рдореЗрдВ, рд╕реЗрд╕рдирд╛ рдХреЗ рдореЙрдбрд▓ рдХреЛ рд▓реЛрдб рдХрд░реЗрдВ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Node&gt; sub_model = osgDB::readNodeFile(<span class="hljs-string"><span class="hljs-string">"../data/cessna.osg"</span></span>);</code> </pre><br>  рдЗрд╕ рдореЙрдбрд▓ рдХреЛ рдЪреЗрддрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, Z рдЕрдХреНрд╖ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рд░реЛрдЯреЗрд╢рди рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рдмрдирд╛рдПрдБ рдФрд░ рдЖрд░рдВрдн рдХрд░реЗрдВ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::MatrixTransform&gt; transform1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::MatrixTransform; transform1-&gt;setMatrix(osg::Matrix::rotate(<span class="hljs-number"><span class="hljs-number">0.0</span></span>, osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>))); transform1-&gt;addChild(sub_model.get());</code> </pre><br>  рдЕрдм рдореБрдЦреНрдп рджреГрд╢реНрдп рдХреЗ рд▓рд┐рдП рдПрдХ рдореЙрдбрд▓ рдмрдирд╛рдПрдВ - рдПрдХ рд╡рд░реНрдЧ рдЬрд┐рд╕ рдкрд░ рд╣рдо рдкреНрд░рд╕реНрддреБрдд рдХрд░реЗрдВрдЧреЗ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Geode&gt; model = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Geode; model-&gt;addChild(createQuad(osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), <span class="hljs-number"><span class="hljs-number">2.0f</span></span>, <span class="hljs-number"><span class="hljs-number">2.0f</span></span>));</code> </pre><br>  рдЖрд░рдЬреАрдмреАрдП рдкрд┐рдХреНрд╕реЗрд▓ рдкреНрд░рд╛рд░реВрдк рдХреЗ рд╕рд╛рде 1024x1024 рдкрд┐рдХреНрд╕реЗрд▓ рд╡рд░реНрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдЦрд╛рд▓реА рдмрдирд╛рд╡рдЯ рдмрдирд╛рдПрдВ (рдЕрд▓реНрдлрд╛ рдЪреИрдирд▓ рдХреЗ рд╕рд╛рде 32-рдмрд┐рдЯ рддреАрди-рдШрдЯрдХ рд░рдВрдЧ) <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> tex_widht = <span class="hljs-number"><span class="hljs-number">1024</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> tex_height = <span class="hljs-number"><span class="hljs-number">1024</span></span>; osg::ref_ptr&lt;osg::Texture2D&gt; texture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Texture2D; texture-&gt;setTextureSize(tex_widht, tex_height); texture-&gt;setInternalFormat(GL_RGBA); texture-&gt;setFilter(osg::Texture2D::MIN_FILTER, osg::Texture2D::LINEAR); texture-&gt;setFilter(osg::Texture2D::MAG_FILTER, osg::Texture2D::LINEAR);</code> </pre><br>  рдЗрд╕ рдмрдирд╛рд╡рдЯ рдХреЛ рдЪреМрдХреЛрд░ рдореЙрдбрд▓ рдкрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВред <br><br><pre> <code class="cpp hljs">model-&gt;getOrCreateStateSet()-&gt;setTextureAttributeAndModes(<span class="hljs-number"><span class="hljs-number">0</span></span>, texture.get());</code> </pre><br>  рдлрд┐рд░ рдПрдХ рдХреИрдорд░рд╛ рдмрдирд╛рдПрдВ рдЬреЛ рдмрдирд╛рд╡рдЯ рдХреЛ рд╕реЗрдВрдХ рджреЗрдЧрд╛ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Camera&gt; camera = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Camera; camera-&gt;setViewport(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, tex_widht, tex_height); camera-&gt;setClearColor(osg::Vec4(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)); camera-&gt;setClearMask(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</code> </pre><br>  рдХреИрдорд░рд╛ рд╡реНрдпреВрдкреЛрд░реНрдЯ рдмрдирд╛рд╡рдЯ рдХреЗ рд╕рдорд╛рди рдЖрдХрд╛рд░ рдХрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕реНрдХреНрд░реАрди рдФрд░ рд╕рдлрд╛рдИ рдорд╛рд╕реНрдХ рдХреЛ рд╕рд╛рдл рдХрд░рддреЗ рд╕рдордп рдкреГрд╖реНрдарднреВрдорд┐ рдХрд╛ рд░рдВрдЧ рд╕реЗрдЯ рдХрд░рдирд╛ рди рднреВрд▓реЗрдВ, рд░рдВрдЧ рдмрдлрд░ рдФрд░ рдЧрд╣рд░рд╛рдИ рдмрдлрд░ рджреЛрдиреЛрдВ рдХреЛ рд╕рд╛рдл рдХрд░рдиреЗ рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрддреЗ рд╣реИрдВред  рдЕрдЧрд▓рд╛, рдмрдирд╛рд╡рдЯ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреИрдорд░реЗ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ <br><br><pre> <code class="cpp hljs">camera-&gt;setRenderOrder(osg::Camera::PRE_RENDER); camera-&gt;setRenderTargetImplementation(osg::Camera::FRAME_BUFFER_OBJECT); camera-&gt;attach(osg::Camera::COLOR_BUFFER, texture.get());</code> </pre><br>  PRE_RENDER рдХрд╛ рдкреНрд░рддрд┐рдкрд╛рджрди рдХреНрд░рдо рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдХреИрдорд░рд╛ рдореБрдЦреНрдп рджреГрд╢реНрдп рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд░рд╣рд╛ рд╣реИред  FBO рдХреЛ рд░реЗрдВрдбрд░рд┐рдВрдЧ рд▓рдХреНрд╖реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ рдФрд░ рд╣рдорд╛рд░реА рдмрдирд╛рд╡рдЯ рдХреЛ рдХреИрдорд░реЗ рд╕реЗ рдЬреЛрдбрд╝реЗред  рдЕрдм рд╣рдо рдХреИрдорд░рд╛ рдХреЛ рдПрдХ рдкреВрд░реНрдг рд╕рдордиреНрд╡рдп рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдПрдХ рджреГрд╢реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рд╣рдо рдЕрдкрдирд╛ рд╕рдмрдЯреНрд░реА рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рд╣рдо рдПрдХ рдмрдирд╛рд╡рдЯ рдореЗрдВ рд░реЗрдВрдбрд░ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ: рдПрдХ рд╕реЗрд╕рдирд╛ рдореЙрдбрд▓ рдХреЗ рд╕рд╛рде рд░реЛрдЯреЗрд╢рди рдкрд░рд┐рд╡рд░реНрддрди рдЗрд╕рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ <br><br><pre> <code class="cpp hljs">camera-&gt;setReferenceFrame(osg::Camera::ABSOLUTE_RF); camera-&gt;addChild(transform1.get());</code> </pre><br>  рдореБрдЦреНрдп рдореЙрдбрд▓ (рд╡рд░реНрдЧ) рдФрд░ рдЗрд╕рдореЗрдВ рдПрдХ рдХреИрдорд░рд╛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдмрдирд╛рд╡рдЯ рдЬреЛрдбрд╝рдХрд░ рдПрдХ рд░реВрдЯ рд╕рдореВрд╣ рдиреЛрдб рдмрдирд╛рдПрдВ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Group&gt; root = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Group; root-&gt;addChild(model.get()); root-&gt;addChild(camera.get());</code> </pre><br>  рдПрдХ рджрд░реНрд╢рдХ рдмрдирд╛рдПрдВ рдФрд░ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ <br><br><pre> <code class="cpp hljs">osgViewer::Viewer viewer; viewer.setSceneData(root.get()); viewer.setCameraManipulator(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osgGA::TrackballManipulator); viewer.setUpViewOnSingleScreen(<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><br>  рдХреИрдорд░реЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдХреНрд╖реЗрдкрдг рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╕реЗрдЯ рдХрд░реЗрдВ - рдХрддрд░рди рдкрд┐рд░рд╛рдорд┐рдб рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рдкрд░рд┐рдкреНрд░реЗрдХреНрд╖реНрдп рдкреНрд░рдХреНрд╖реЗрдкрдг <br><br><pre> <code class="cpp hljs">camera-&gt;setProjectionMatrixAsPerspective(<span class="hljs-number"><span class="hljs-number">30.0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;(tex_widht) / <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;(tex_height), <span class="hljs-number"><span class="hljs-number">0.1</span></span>, <span class="hljs-number"><span class="hljs-number">1000.0</span></span>);</code> </pre><br>  рд╣рдордиреЗ рдПрдХ рджреГрд╢реНрдп рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рд╣реИ рдЬреЛ рдЙрдк-рд╕реЗрд╕рдирд╛ рдХреА рдЙрддреНрдкрддреНрддрд┐ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рдХреИрдорд░реЗ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдЕрдВрддрд░рд┐рдХреНрд╖ рдореЗрдВ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dist = <span class="hljs-number"><span class="hljs-number">100.0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> alpha = <span class="hljs-number"><span class="hljs-number">10.0f</span></span> * <span class="hljs-number"><span class="hljs-number">3.14f</span></span> / <span class="hljs-number"><span class="hljs-number">180.0f</span></span>; osg::<span class="hljs-function"><span class="hljs-function">Vec3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eye</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">, -dist * cosf(alpha), dist * sinf(alpha))</span></span></span></span>; osg::<span class="hljs-function"><span class="hljs-function">Vec3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">center</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; osg::<span class="hljs-function"><span class="hljs-function">Vec3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">up</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">-1.0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; camera-&gt;setViewMatrixAsLookAt(eye, center, up);</code> </pre><br>  рдЕрдВрдд рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рдлреНрд░реЗрдо рдореЗрдВ рдЬреЗрдб рдЕрдХреНрд╖ рдХреЗ рдЖрд╕рдкрд╛рд╕ рд╡рд┐рдорд╛рди рдХреЗ рд░реЛрдЯреЗрд╢рди рдХреЗ рдХреЛрдг рдХреЛ рдмрджрд▓рддреЗ рд╣реБрдП, рджреГрд╢реНрдп рдХреЛ рдЪреЗрддрди рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> phi = <span class="hljs-number"><span class="hljs-number">0.0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> delta = <span class="hljs-number"><span class="hljs-number">-0.01f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!viewer.done()) { transform1-&gt;setMatrix(osg::Matrix::rotate(<span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;(phi), osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>))); viewer.frame(); phi += delta; }</code> </pre><br>  рдирддреАрдЬрддрди, рд╣рдореЗрдВ рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рддрд╕реНрд╡реАрд░ рдорд┐рд▓рддреА рд╣реИ <br><br><img src="https://habrastorage.org/webt/se/g1/jr/seg1jrflbtmzfkb5cbtwys1hleg.gif"><br><br>  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдордиреЗ рджреГрд╢реНрдп рдХреЗ рдХреБрдЫ рдПрдиреАрдореЗрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рд░рди рдкреНрд░рджрд╛рди рдХрд░рдирд╛ () рд▓реВрдк рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдирд╛ рдФрд░ рдлреНрд░реЗрдо рд░реЗрдВрдбрд░ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдпрд╛ рдмрд╛рдж рдореЗрдВ рд░реЗрдВрдбрд░рд┐рдВрдЧ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдмрджрд▓рдирд╛ рд╡рд┐рднрд┐рдиреНрди рдзрд╛рд░рд╛рдУрдВ рд╕реЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░рдиреЗ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдПрдХ рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдЧрддрд┐рд╡рд┐рдзрд┐ рд╣реИред  рдЪреВрдВрдХрд┐ рдУрдПрд╕рдЬреА рдмрд╣реБ-рдереНрд░реЗрдбреЗрдб рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд░реЗрдВрдбрд░рд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдПрдореНрдмреЗрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдорд┐рдд рддрдВрддреНрд░ рднреА рд╣реИрдВ, рдЬреЛ рдбреЗрдЯрд╛ рдХреЛ рдереНрд░реЗрдб-рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдХреНрд╕реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред <br><br><h1>  6. рд░реЗрдВрдбрд░рд┐рдВрдЧ рд░рд┐рдЬрд▓реНрдЯ рдХреЛ рдлрд╛рдЗрд▓ рдореЗрдВ рд╕реЗрд╡ рдХрд░рдирд╛ </h1><br>  OSG рдХреИрдорд░реЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдСрдЧ :: рдЗрдореЗрдЬ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╕рдВрд▓рдЧреНрди рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдлреНрд░реЗрдо рдмрдлрд░ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЗрдореЗрдЬ рдбреЗрдЯрд╛ рдмрдлрд░ рдореЗрдВ рд╕рд╣реЗрдЬрддрд╛ рд╣реИред  рдЙрд╕рдХреЗ рдмрд╛рдж, рдпрд╣ рдбреЗрдЯрд╛ рдХреЛ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╡ рд╣реИ osg :: writeImageFile () рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбрд┐рд╕реНрдХ рдкрд░ <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Image&gt; image = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Image; image-&gt;allocateImage( width, height, <span class="hljs-number"><span class="hljs-number">1</span></span>, GL_RGBA, GL_UNSIGNED_BYTE ); camera-&gt;attach( osg::Camera::COLOR_BUFFER, image.get() ); ... osgDB::writeImageFile( *image, <span class="hljs-string"><span class="hljs-string">"saved_image.bmp"</span></span> );</code> </pre><br><h1>  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br>  рд╢рд╛рдпрдж рд▓реЗрдЦ рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рд╕рд╛рдордЧреНрд░реА рддреБрдЪреНрдЫ рд▓рдЧрддреА рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ OpenSceneGraph рдореЗрдВ рдмрдирд╛рд╡рдЯ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдмрд╣реБрдд рдореВрд▓ рдмрд╛рддреЗрдВ рд░реЗрдЦрд╛рдВрдХрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕ рдкрд░ рдЗрд╕ рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рддрдХрдиреАрдХреЗрдВ рдЖрдзрд╛рд░рд┐рдд рд╣реИрдВ, рдЬрд┐рдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣рдо рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗред <br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП ...</a></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi437624/">https://habr.com/ru/post/hi437624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi437614/index.html">рд╕реНрд╡рд┐рдлреНрдЯ рдпреВрдирд┐рд╡рд░реНрд╕ рдореЗрдВ Iterator рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░рд▓ рдкреИрдЯрд░реНрди</a></li>
<li><a href="../hi437616/index.html">рд╕реАрдИрдУ рдФрд░ iPhone рдмрд┐рдХреНрд░реА рдореЗрдВ рдЧрд┐рд░рд╛рд╡рдЯ рдХреЗ рдмрд┐рдирд╛ рдЫрд╣ рдорд╣реАрдиреЗ: рдЗрдВрдЯреЗрд▓ рд╢реЗрдпрд░реЛрдВ рдореЗрдВ рдЧрд┐рд░рд╛рд╡рдЯ рдХреНрдпреЛрдВ</a></li>
<li><a href="../hi437618/index.html">42 Google рдЙрдиреНрдирдд рдЦреЛрдЬ рдСрдкрд░реЗрдЯрд░ (рдкреВрд░реА рд╕реВрдЪреА)</a></li>
<li><a href="../hi437620/index.html">рдХреНрд▓рд╛рдЙрдб рдЯреЗрдХреНрдиреЛрд▓реЙрдЬреА рдХреИрд╕реЗ рд╣рдорд╛рд░реЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рддрд░реАрдХрд╛ рдмрджрд▓ рд░рд╣реА рд╣реИ</a></li>
<li><a href="../hi437622/index.html">Azure Machine Learning рд╕реЗрд╡рд╛ рдХреЗ рд╕рд╛рде рд╢реБрд░реБрдЖрдд рдХрд░рдирд╛</a></li>
<li><a href="../hi437626/index.html">рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде рдЯреНрд░реЗрдбрд┐рдВрдЧ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдкреНрд░рджрд░реНрд╢рди</a></li>
<li><a href="../hi437630/index.html">BETT рд╕рдореНрдореЗрд▓рди рд╕реЗ Microsoft рдХреА рдореБрдЦреНрдп рдШреЛрд╖рдгрд╛рдПрдБ</a></li>
<li><a href="../hi437632/index.html">рдореИрд╢, рднрд╛рд╖рд╛ рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ</a></li>
<li><a href="../hi437634/index.html">DIY рд╡рд╛рдпрд░рд▓реЗрд╕ рд░рд╛рдЙрдЯрд░</a></li>
<li><a href="../hi437636/index.html">Microsoft Store рдкрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдирд╛: рд╡рд░реНрд╖ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдкрд░рд┐рд╡рд░реНрддрди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>