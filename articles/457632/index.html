<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÉ üö© üëü ¬øCu√°nto cuestan las pruebas unitarias? üë≤üèº üêû üë©üèø‚Äçü§ù‚Äçüë©üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ahora, en la cima del ciclo econ√≥mico en una industria tan activa como el desarrollo de software, no es habitual contar dinero. A menudo, este proceso...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øCu√°nto cuestan las pruebas unitarias?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457632/"><img src="https://habrastorage.org/webt/rw/ea/ok/rweaokffbnoon0askaqimulpzlw.jpeg" alt="imagen"><br><br>  Ahora, en la cima del ciclo econ√≥mico en una industria tan activa como el desarrollo de software, no es habitual contar dinero.  A menudo, este proceso, en principio, se posiciona como una actividad creativa, donde no hay necesidad de justificar nada, y el artista sabe mejor qu√© y c√≥mo escribir.  En particular, hay mucho debate sobre las pruebas unitarias y el TDD, pero, desafortunadamente, todos se deslizan en declaraciones no comprobadas y ataques emocionales, confirmados por pruebas de art√≠culos y libros seleccionados con √©xito por metod√≥logos que ganan en consultas y ventas de entrenamientos, que, en su a su vez, no contienen absolutamente ninguna estad√≠stica o c√°lculo, o, por el contrario, acusaciones radicales de smushylebstvo y otros pecados de la juventud. <br><br><a name="habracut"></a>  A diferencia de argumentos vac√≠os similares, este art√≠culo le dar√° no solo una reflexi√≥n, sino tambi√©n una metodolog√≠a para evaluar la viabilidad econ√≥mica de introducir pruebas unitarias en un proyecto espec√≠fico.  Inmediatamente enfatizar√© que, como cualquier evaluaci√≥n, nuestra evaluaci√≥n para el proyecto de implementaci√≥n de la prueba unitaria se basar√° en suposiciones sobre el futuro del producto, el equipo y varios indicadores, que solo pueden evaluarse subjetivamente.  Sin embargo, la situaci√≥n en la que un programador realiza una evaluaci√≥n experta de indicadores que est√°n al menos relacionados de alguna manera con su campo de actividad es mucho mejor que preguntarle directamente si es rentable para la empresa utilizar pruebas unitarias o no.  Al final, los programadores generalmente no est√°n inclinados a pensar siquiera en indicadores financieros b√°sicos, sino que no solo los desarrolladores, sino tambi√©n los evaluadores y gerentes pueden evaluar el tiempo dedicado a escribir pruebas o la probabilidad de un error cr√≠tico en su ausencia. <br><br><h2>  Cual es el costo </h2><br>  En primer lugar, si vamos a calcular el costo de algo, primero debemos entender, al menos en t√©rminos generales, cu√°l es el valor.  Cuando compramos un pan de salchicha, esta pregunta no surge, ya que una etiqueta de precio cuelga debajo de ella.  Pero en el caso del proyecto, no estamos tratando con un pago √∫nico, sino con un flujo de efectivo que dura mucho tiempo, y lo invertimos primero y luego nos pagan.  Para evaluarlo correctamente, debe tener en cuenta que el dinero recibido ma√±ana costar√° menos que hoy.  Si la salchicha se vendiera por suscripci√≥n, no ser√≠a dif√≠cil de hacer, el costo de la suscripci√≥n podr√≠a calcularse descontando los pagos futuros por la cantidad de inflaci√≥n.  Sin embargo, en el caso del proyecto, debemos tener en cuenta que la empresa, al invertir en √©l, espera no solo compensar sus costos, sino tambi√©n ganar, tanto como para cubrir sus riesgos.  Hay una gran cantidad de riesgos, pero al final todo se reduce al hecho de que el rendimiento del dinero invertido en la implementaci√≥n del proyecto no est√° garantizado y mal pronosticado.  El dinero se puede llevar a un banco o pedir prestado a un prestatario dif√≠cil y garantizar que pague intereses regularmente, pero no puede invertir en un proyecto para terminar con un flujo de pagos predecible seg√∫n lo programado.  Por lo tanto, desde el punto de vista del inversor, en este caso, la empresa, el flujo de caja descontado a la tasa de rendimiento requerida generada por el proyecto, tambi√©n llamado valor presente neto, debe ser positivo: <br><p></p><p><math></math><img src="https://habrastorage.org/getpro/habr/formulas/128/9e7/86c/1289e786cfc21180ed959d4291ee0a8c.svg" alt="$ 0 <VPN = FCFF / WACC + FCFF / WACC ^ 2 + FCFF / WACC ^ 3 ... $" data-tex="display"></p><br>  Para calcularlo, necesitamos saber cu√°nto dinero traer√° o comer√° el proyecto en el primer, segundo, tercer a√±o, etc., as√≠ como la tasa de descuento, que no solo deber√≠a ser m√°s rentable que en el banco, sino tambi√©n cubrir los riesgos . <br><br>  <i>De hecho, esta es una f√≥rmula algo simplificada.</i>  <i>Estrictamente hablando, la tasa cambiar√° de a√±o en a√±o, por lo que WACC1 * WACC2 * WACC3, etc., debe usarse en el denominador, pero en la pr√°ctica incluso los tasadores profesionales descuidan esto, porque</i>  <i>En virtud de la metodolog√≠a de c√°lculo WACC, las expectativas del mercado con respecto a las tasas futuras ya se han incorporado a las tasas actuales y no es productivo hacer suposiciones al respecto.</i> <br><br>  Existen diferentes tipos de flujos de efectivo, pero tom√© el flujo de efectivo m√°s conveniente para nuestros prop√≥sitos para la empresa, que tiene en cuenta no solo el dinero adeudado a los propietarios, sino tambi√©n a los acreedores.  Por supuesto, la mayor√≠a de las empresas de TI no tienen deudas notables simplemente porque nadie les presta sin garant√≠a, y no tienen nada que prometer, pero todav√≠a hay excepciones, por ejemplo, este enfoque puede ser conveniente al evaluar un proyecto en el desarrollo interno de una empresa de fabricaci√≥n prestada .  La segunda raz√≥n por la cual FCFF es de particular inter√©s para nosotros es la simplicidad de su c√°lculo, FCFF es solo la utilidad operativa menos los impuestos, los costos netos de capital y los cambios en el capital de trabajo. <br><br>  Dado que FCFF es un flujo de efectivo tanto para los propietarios como para los prestamistas al mismo tiempo, se descuenta a una tasa ponderada del costo de capital, tanto propio como prestado. <br><br>  En las grandes empresas, el departamento financiero controla el costo del capital, por lo que puede preguntarlo, pero para el caso general, todav√≠a necesitamos una f√≥rmula para calcular el WACC: <br><p></p><p><math></math><img src="https://habrastorage.org/getpro/habr/formulas/4b3/f67/08f/4b3f6708fdc1d25760abf5538cf86f81.svg" alt="$ WACC = Re * P / EV + Rd * (1 - P / EV) $" data-tex="display"></p><br>  Aqu√≠ Re es el costo del capital, Rd es el costo del capital prestado (es decir, la tasa efectiva de las deudas de la compa√±√≠a), P es el valor de mercado del capital, EV es el costo total de la empresa (EV = P + D, donde D es la deuda). <br><br>  A continuaci√≥n, debemos determinar Re, para esto existen diferentes modelos, pero la forma m√°s f√°cil es tomar el modelo CAPM, donde Re = Rb + Œ≤ * Premium, donde Rb es la tasa libre de riesgo, Premium es la prima para el retorno de la inversi√≥n en capital, no en prestado, y Œ≤ es un factor de riesgo que muestra cu√°nto m√°s riesgoso es nuestro proyecto con respecto al negocio de una determinada empresa promedio. <br><br><h2>  C√≥mo se garantiza la calidad y qu√© pruebas unitarias son </h2><br>  Ahora tenemos que decidir qu√© pruebas unitarias son.  Por extra√±o que parezca, muchas personas, incluso cercanas al desarrollo, a menudo llaman pruebas unitarias de pruebas automatizadas, pero esto, por supuesto, no es as√≠. <br><br>  Las pruebas se dividen en funcionales y no funcionales.  No funcional incluye cosas que no est√°n directamente relacionadas con la funcionalidad del software, por ejemplo, pruebas de carga o pruebas relacionadas con la seguridad.  Funcional, sin embargo, solo significa verificar el cumplimiento de los requisitos y la ausencia de errores en su implementaci√≥n, se discutir√° espec√≠ficamente. <br><br>  Lo primero que debe hacerse para garantizar la calidad es tomar la funci√≥n de control de los desarrolladores y contratar a la persona responsable de ello.  Entonces aparece un probador en el equipo, que se dedica a las pruebas manuales.  Ning√∫n proyecto serio es simplemente inconcebible sin una prueba manual; es la base que el proyecto necesita vitalmente y la gran mayor√≠a de los problemas que se descubrir√°n y corregir√°n a tiempo ser√°n el m√©rito de los evaluadores.  En esta etapa, todo parece simple: si desea calidad, contrate a un especialista de calidad. <br><br>  A medida que el proyecto crezca, el tiempo para las pruebas manuales ser√° cada vez menor, por lo que los evaluadores estar√°n cada vez m√°s ocupados trabajando con las nuevas capacidades del sistema y comprobar√°n cada vez menos aquellas partes del sistema que no deber√≠an haber cambiado.  Sin embargo, a medida que crece la complejidad del sistema y existe la posibilidad de que aparezcan dependencias expl√≠citas e impl√≠citas entre sus componentes, que los desarrolladores te√≥ricamente pueden perder de vista, a√∫n es recomendable verificar algunas cosas cada vez antes del lanzamiento.  Este problema es especialmente grave en las metodolog√≠as flexibles con sus iteraciones cortas y lanzamientos frecuentes.  Esto implica l√≥gicamente la necesidad de automatizar el trabajo de los probadores, por ejemplo, escribir un script que haga clic en los botones y verifique el resultado en s√≠ mismo, o use herramientas m√°s potentes y convierta un probador ordinario en un especialista en pruebas automatizadas que pueda automatizar la parte rutinaria de su trabajo. <br><br>  Estas medidas pueden proporcionar un nivel de calidad decente, pero no hay l√≠mite para la perfecci√≥n.  Lo que hacen los probadores se llama prueba de caja negra, su responsabilidad es no conocer todas las caracter√≠sticas de la implementaci√≥n, por lo que las pruebas generalmente se centran en escenarios t√≠picos y no establecen el objetivo de romper el sistema o verificar su comportamiento en condiciones at√≠picas.  Adem√°s, algunas cosas no son f√°ciles de verificar simplemente debido a la falta de una interfaz, por ejemplo, si el objetivo de la iteraci√≥n es desarrollar una biblioteca para acceder a datos o alguna API espec√≠fica, para probarla necesitar√° escribir alguna aplicaci√≥n o al menos algo que usar√≠a este componente.  En tales casos, debe devolver parcialmente la funci√≥n de control de calidad a los desarrolladores y pedirles que escriban pruebas de integraci√≥n.  Este es el segundo tipo de pruebas automatizadas que se utilizan en el proyecto.  Su objetivo es probar la correcci√≥n de la interacci√≥n de los componentes del sistema escritos por diferentes personas, probar el comportamiento de estos componentes en condiciones l√≠mite, as√≠ como la correcci√≥n de la reacci√≥n a fallas en el entorno. <br><br>  Bueno, tenemos evaluadores que prueban el cumplimiento de los requisitos de todo el proyecto, hay pruebas para automatizar su trabajo y hay pruebas que prueban partes del proyecto escritas por diferentes desarrolladores, ¬øqu√© m√°s se puede hacer?  Las pruebas unitarias afirman ser el cuarto nivel de control de calidad.  Comprueban el c√≥digo escrito por un programador y, como regla, prueban la parte m√≠nima del c√≥digo, que es b√°sicamente adecuada para probar, por ejemplo, una clase separada.  En la pr√°ctica, con mayor frecuencia el desarrollador mismo escribe pruebas unitarias para su propio c√≥digo, y su n√∫mero y necesidad est√°n mal controlados.  Seg√∫n mis observaciones, aproximadamente el 40% del tiempo para desarrollar la caracter√≠stica en s√≠ puede denominarse una cantidad t√≠pica de tiempo de desarrollador dedicado a las pruebas unitarias, aunque esta proporci√≥n puede variar mucho.  El estudio de caso de c√≥digo abierto del proyecto SQLite es ampliamente conocido, ya que debido al exceso de mano de obra gratuita poco calificada proporcionada por una gran cantidad de personas que desean trabajar en un proyecto bien conocido, esta fuerza de trabajo se utiliza a la manera del ej√©rcito, es decir, escribiendo pruebas unitarias in√∫tiles, cuyo volumen en alg√∫n momento 100 veces el volumen del c√≥digo del propio DBMS.  Los casos inversos cuando las pruebas unitarias no se escriben o se escriben en un volumen m√≠nimo tampoco son sorprendentes.  Al final, casi todo el software desarrollado hasta el final del cero, es decir, antes de la era de la externalizaci√≥n y Agile, se cre√≥ sin pruebas unitarias. <br><br><h2>  Costos, ajuste de complejidad y persona-mes m√≠tico. </h2><br>  Por supuesto, si necesita escribir pruebas unitarias o algo m√°s, tendr√° que dedicar m√°s tiempo al proyecto o contratar desarrolladores adicionales.  La pregunta principal que surge en este caso es si la dependencia del tiempo de desarrollo y el costo de la cantidad de c√≥digo es lineal, o si obedece a otra ley. <br><br>  Hab√≠a una vez un repositorio SVN gratuito en el conocido servicio Assembla, que proporcionaba servicios de alojamiento de origen y herramientas de colaboraci√≥n, es decir, un rastreador, estad√≠sticas y otras tonter√≠as.  M√°s tarde, el obsequio termin√≥, pero no dejaron de enviar boletines y notificaciones.  Entonces, en 2015, su empleado public√≥ una breve publicaci√≥n titulada "¬øCu√°ntas personas deber√≠an discutir una tarea?"  Ahora se conserva solo en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://web.archive.org/web/20160323042350/">Archivo web</a> .  La esencia de la publicaci√≥n fue la siguiente: el empleado recopil√≥ estad√≠sticas sobre los clientes, trazando la dependencia de la duraci√≥n de la tarea en la cantidad de personas que la discutieron, el resultado fue el siguiente: <br><br><img src="https://habrastorage.org/webt/-l/cw/ht/-lcwhtf9rzyod_x9tmz8vrk469g.png" alt="imagen"><br><br>  Se puede ver que la dependencia es no lineal.  Por lo general, dos personas participan en la resoluci√≥n de un problema que dura dos d√≠as, tres personas, cuatro d√≠as y cuatro personas, ya seis d√≠as.  ¬øQu√© est√°n haciendo all√≠?  Podemos suponer que la tarea requiere varias etapas de trabajo, por ejemplo, en el caso de dos personas, Vasya hace su parte de la tarea y luego la transfiere a Petya, por lo que dura dos d√≠as.  Tres personas ya pueden discutir y, una vez m√°s, compartir responsabilidades, averiguar qui√©n tiene la culpa y qu√© hacer, y un grupo de siete personas pasar√° seis d√≠as adicionales discutiendo, negociando y discutiendo entre s√≠. <br><br>  Por supuesto, tambi√©n se puede suponer que un equipo amigable de siete personas tiene tareas dif√≠ciles que son mucho m√°s simples y cuantas m√°s personas est√©n ocupadas con la tarea, mayor puede ser, ¬°porque la amistad es m√°gica!  Por lo tanto, tales consideraciones pueden parecer exageradas, y no las incluir√© en los c√°lculos posteriores, sin embargo, si desea obtener una estimaci√≥n m√°s conservadora, no estar√≠a fuera de lugar hacer alguna correcci√≥n para la no linealidad del crecimiento de costos con el crecimiento de la base del c√≥digo del proyecto, que, por supuesto, Tambi√©n se incluyen pruebas unitarias, o para establecer un cierto margen de seguridad en los requisitos para el nivel de VPN. <br><br>  Si explicamos la no linealidad de este cronograma √∫nicamente por el crecimiento del tama√±o del equipo, entonces los costos asociados con √©l se pueden estimar a partir de la siguiente tabla de la dependencia de la parte del tiempo perdido en la comunicaci√≥n sobre el tama√±o del grupo de trabajo: <br><br><img src="https://habrastorage.org/webt/rh/70/jy/rh70jyv0agztsw1mpc-a_yzl2ni.png" alt="imagen"><br><br>  Por ejemplo, si hay cinco desarrolladores en un equipo, y cree que necesita contratar a dos para que todos puedan dedicar un 40% adicional de su tiempo a las pruebas unitarias, prep√°rese para el hecho de que los costos de desarrollo pueden aumentar en m√°s del 40%.  El equipo crecer√° y se volver√° menos eficiente, en lugar de 5 * 0.625 = 3.125 unidades convencionales de productividad, tendr√° 7 * 0.539 = 3.77 unidades, y la cantidad de trabajo aumentar√° de 1 a 1.4 unidades convencionales de trabajo, respectivamente, el tiempo requerido para el desarrollo aumentar√° en un 16%. <br><br>  <i>Una conclusi√≥n interesante que se puede extraer del gr√°fico es que cuando el n√∫mero de personas es m√°s de diez, el valor de cada nuevo participante se vuelve menor que el costo adicional de comunicaci√≥n y la ley de Brooks comienza a funcionar.</i>  <i>Solo queda tratar de dividir las tareas en tareas m√°s peque√±as o involucrar a empleados m√°s experimentados y eficientes en su implementaci√≥n.</i> <br><br>  Por supuesto, es dif√≠cil decir que la no linealidad del gr√°fico de Assembla solo se asocia con una disminuci√≥n de la eficiencia como resultado del crecimiento del equipo, pero est√° en buen acuerdo con la comprensi√≥n intuitiva de la complejidad y la ley de Brooks, por lo que si no desea correr riesgos y necesita una estimaci√≥n conservadora, estos datos pueden Convi√©rtete en una buena ayuda. <br><br><h2>  Los beneficios de las pruebas unitarias </h2><br>  Adem√°s de los costos, las pruebas unitarias tambi√©n traen beneficios.  Por supuesto, en la gran mayor√≠a de los casos, un error que podr√≠a detectarse mediante pruebas unitarias se detectar√° en otros niveles de control de calidad, pero siempre existe la posibilidad de un fallo t√©cnico y, en teor√≠a, las pruebas unitarias pueden reducirlo.  Personalmente, no conozco estos casos, afortunadamente, todos los evaluadores con los que trabaj√© eran personas extremadamente responsables, pero cuando se trata de probabilidades tan bajas, la experiencia personal puede ser poco representativa.  Las fallas pueden tener diferentes consecuencias, por ejemplo, una compa√±√≠a puede tener un SLA, cuya violaci√≥n conllevar√° ciertas p√©rdidas financieras, por ejemplo, la compa√±√≠a se ver√° obligada a dar a los clientes un mes de uso gratuito de sus servicios como compensaci√≥n, perdiendo 1/12 de los ingresos.  En este caso, ajustar el control de calidad, que reduce la probabilidad de violaciones de SLA durante el a√±o del 10% al 8%, reducir√° las p√©rdidas anuales promedio en aproximadamente un 0,17% de los ingresos.  Este dinero ser√° el componente positivo del flujo de caja que debe agregarse al modelo. <br><br>  <i>Tenga en cuenta que un c√°lculo tan simple es aplicable solo cuando la probabilidad de p√©rdidas es baja, si la probabilidad es superior al 15-20% y puede conducir a la quiebra o liquidaci√≥n de la empresa, es aconsejable utilizar modelos de valoraci√≥n opcionales, por ejemplo, como un √°rbol de decisi√≥n.</i>  <i>Afortunadamente, en la mayor√≠a de los casos, alg√∫n tipo de error est√∫pido no es algo que pueda llevar a la bancarrota a una empresa y no necesitamos sumergirnos en el horror de calcular el costo de las opciones.</i> <br><br><h2>  Ejemplo uno: Bison </h2><br>  Bison es una gran tienda en l√≠nea, se hacen llamar el minorista en l√≠nea n√∫mero 1 en Rusia.  La compa√±√≠a no es p√∫blica, pero en una reciente transacci√≥n de recapitalizaci√≥n, su capitalizaci√≥n total se estim√≥ en 50 mil millones de rublos, que es el doble de los ingresos anuales.  Se necesitaba una capitalizaci√≥n adicional debido a las p√©rdidas operativas, pero los accionistas esperan alcanzar un margen de beneficio operativo del 10% despu√©s de que la compa√±√≠a logre obtener una mayor participaci√≥n en el mercado y duplicar los ingresos dentro de un a√±o, despu√©s de lo cual tendr√° que comenzar a ganar, y el crecimiento de los ingresos disminuir√° hasta un 30% en el segundo a√±o, un 20% en el tercer a√±o y finalmente establecido en un 10% en el cuarto y a√±os posteriores.  Sin embargo, los bancos no est√°n muy seguros de esto y le dan a Bizon una larga advertencia, la deuda total de la compa√±√≠a es de solo 10 mil millones de rublos a una tasa del 11%.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bison es una empresa bastante torpe y mal administrada a nivel operativo, la contrataci√≥n descontrolada de empleados ya ha llevado al hecho de que emplea a 600 programadores, cuyo presupuesto de n√≥mina total es de 1,5 mil millones de rublos por a√±o y que gastan alrededor del 30% de su tiempo de trabajo en pruebas unitarias. La compa√±√≠a no tiene obligaciones con los clientes y una falla t√©cnica solo puede conducir a una interrupci√≥n temporal de las ventas, y en caso de falla, una reversi√≥n a la versi√≥n anterior del sitio demora aproximadamente una hora. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øCu√°l es el VPN del uso de pruebas unitarias en bisontes?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los ingresos de Bison deben ser de 50, 65, 78 y 86 mil millones en el primer, segundo, tercer y cuarto a√±o, respectivamente. Consideramos que la probabilidad de falla es del 33%, es decir, un incidente que puede abrumar su sitio durante mucho tiempo puede ocurrir aproximadamente una vez cada tres a√±os, lo que no es tan malo. Suponga que el uso de pruebas unitarias puede reducirlo al 25% simplemente porque, adem√°s de los errores del desarrollador, tambi√©n existe la posibilidad de varias fallas de hardware, ataques DDOS y otros problemas. Si el sitio web de la tienda en l√≠nea no est√° disponible durante una hora, el minorista no pierde m√°s del 0.023% de los ingresos, incluso teniendo en cuenta el hecho de que los clientes est√°n activos en promedio solo 12 horas al d√≠a. En otras palabras, las pruebas unitarias reducen las p√©rdidas de la compa√±√≠a en 11.5 millones de rublos en el primer a√±o, 14.8 en el segundo, 17.8 en el tercero y 19.6 millones en el cuarto a√±o.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incluso sin tener en cuenta el crecimiento del personal y los salarios de los desarrolladores, los costos de las pruebas unitarias ascender√°n a 450 millones de rublos al a√±o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creo que en esta etapa ya entiendes que las pruebas unitarias infligen un da√±o enorme en la condici√≥n financiera de Bison, incluso sin ajustar el aumento de la complejidad y los problemas asociados con la p√©rdida de capacidad de control. ¬°Y esto ocurre en una situaci√≥n en la que los accionistas se ven obligados a contribuir con dinero para financiar el trabajo de una empresa que genera p√©rdidas! Ning√∫n otro c√°lculo puede rehabilitar las pruebas unitarias en este caso, pero continuaremos descubriendo c√≥mo descontar el flujo de caja.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Volvamos a los desarrolladores, supongamos que la n√≥mina crece un 10% por a√±o, luego el efecto total de usar pruebas unitarias es -438, -480, -527 y -579 millones de rublos de p√©rdida operativa en el primer, segundo, tercer y cuarto a√±o, respectivamente, despu√©s de lo cual la p√©rdida crece un 10% anual. Las pruebas unitarias en este caso no afectan los costos netos de capital y el capital de trabajo, pero la p√©rdida conduce a un ahorro fiscal del 20% del volumen de p√©rdida, respectivamente, debe multiplicarse por 0.8: -351, -384, -421 y -463 millones rublos</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El EV de la compa√±√≠a es de 50 + 10 = 60 mil millones de rublos, P representa el 83% del capital, D 17%, sabemos que el costo de la deuda es del 11% anual, luego, para calcular el WACC, solo queda encontrar el costo del capital. El bisonte funciona en Rusia, por lo tanto, como la tasa libre de riesgo, debe tomar el rendimiento efectivo de los bonos del gobierno con la mayor duraci√≥n, ahora es del 7,6%. La prima por invertir en renta variable var√≠a de un a√±o a otro, pero por lo general est√° en la regi√≥n del 4-6% anual, tomaremos el 5% y, para determinar el coeficiente Œ≤, miraremos el directorio y encontraremos all√≠ el coeficiente de riesgo sin palanca para las empresas de la industria minorista en l√≠nea (sin palanca beta) igual a 1.3. Pero Bison tiene, aunque sea peque√±o, pero deudas, por lo que debe hacer una enmienda y calcular el apalancamiento beta:</font></font><br><p></p><p><math></math><img src="https://habrastorage.org/getpro/habr/formulas/05f/932/96c/05f93296c68dae88780ce6ef70c1530c.svg" alt="$ Œ≤l = Œ≤u * (1 + (1 - T) * D / P) = 1.3 * (1 + (1 - 0.2) * 10/50) = $ 1.51" data-tex="display"></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por lo tanto, la tasa de descuento WACC ser√° </font></font><br><p></p><p><math></math><img src="https://habrastorage.org/getpro/habr/formulas/db2/b09/9a6/db2b099a6c3ef240eaebda4bbf1e1076.svg" alt="$ (7.6 + 1.51 * 5) * 0.87 + 11 * 0.17 = 15 por ciento $" data-tex="display"></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente, calculamos la cantidad de pruebas unitarias para Bison, para esto descontamos los primeros a√±os de crecimiento desigual por separado, y para los pr√≥ximos a√±os con un aumento del 10% por a√±o, utilizamos el modelo Gordon. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El costo reducido del primer a√±o ser√°</font></font><math></math><img src="https://habrastorage.org/getpro/habr/formulas/ed0/3f7/f43/ed03f7f43fde367c0edbd06026f2bc51.svg" alt="$ -351 / 1.15 = -305 $" data-tex="inline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> millones de rublos, segundo </font></font><math></math><img src="https://habrastorage.org/getpro/habr/formulas/44b/2f4/9f2/44b2f49f26d53ea0de49c3647c36cc4f.svg" alt="$ -384 / 1.32 = -290 $" data-tex="inline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> millones de terceros </font></font><math></math><img src="https://habrastorage.org/getpro/habr/formulas/c7c/ed8/cfc/c7ced8cfc61f07d4588c5c6c8344b3d0.svg" alt="$ -421 / 1.52 = -277 $" data-tex="inline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">millones </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A partir del cuarto a√±o, las p√©rdidas crecen uniformemente en un 10% por a√±o, respectivamente, despu√©s del tercer a√±o, la f√≥rmula puede calcular la p√©rdida nominal de las pruebas unitarias.</font></font><math></math><img src="https://habrastorage.org/getpro/habr/formulas/4cc/3a5/ce1/4cc3a5ce13f512a9f63a8a68afb62aca.svg" alt="$ -463 / (1.15 - 1.1) = -9260 $" data-tex="inline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> millones para ser tra√≠dos al primer a√±o: </font></font><math></math><img src="https://habrastorage.org/getpro/habr/formulas/607/27d/39e/60727d39e4ca68f0df5d02d6086f7aa9.svg" alt="$ -9260 / 1.75 = -5291 $" data-tex="inline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un mill√≥n de rublos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En general, el da√±o por usar pruebas unitarias es</font></font><math></math><img src="https://habrastorage.org/getpro/habr/formulas/58d/8c7/a3c/58d8c7a3c72ae65b39a83c29fe3eae37.svg" alt="$ 305 + 384 + 421 + 5291 = $ 6.4" data-tex="inline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mil millones de rublos. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ejemplo dos: hiperestal </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vasily es un prometedor graduado del Colegio de Tecnolog√≠as Innovadoras de Chelyabinsk. No hay Amazonas y Google en Chelyabinsk, pero hay muchas empresas sider√∫rgicas, una de las cuales tuvo la suerte de obtener. Al final result√≥ que, los presupuestos son modestos, el dinero es cr√≥nicamente corto, por lo que podr√≠a permitirse contratar a un programador solo con un salario de menos de 50 mil rublos, incluidos todos los impuestos y pagos obligatorios. La primera tarea de Vasily fue el software para controlar el funcionamiento de un alto horno. Este proyecto no deber√≠a demorar m√°s de dos meses y es poco probable que reciba m√°s apoyo y desarrollo.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durante la visita de Vasily al taller, el especialista a cargo de la producci√≥n le dijo en t√©rminos generales lo siguiente: ‚Äú¬°Estimado colega! Presta atenci√≥n a este cubo gigante de metal fundido. Si algo sale mal, no solo estaremos extremadamente desanimados, sino que tambi√©n nos enfrentaremos a dificultades tecnol√≥gicas. El hecho es que si el alto horno se eleva, el metal en su interior se endurece y tomar√° tres meses eliminar las consecuencias del accidente. "No ser√° f√°cil lidiar con una pieza gigante de metal en el taller y reemplazarla con un nuevo alto horno". M√°s tarde, Vasily descubri√≥ que una parada de emergencia para un alto horno podr√≠a costarle a la compa√±√≠a 8 mil millones de rublos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pregunta: ¬øVasily est√° preocupado por escribir pruebas unitarias?</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como ya no tengo la fuerza y ‚Äã‚Äãla paciencia para calcular lo obvio, dir√© inmediatamente la respuesta: por supuesto que s√≠. </font><font style="vertical-align: inherit;">Vasily no tiene experiencia, tiene una alta probabilidad de cometer un error (doy el 50 por ciento, que solo sin la ayuda de colegas y sin un control de calidad adecuado, su programa fallar√° en alg√∫n lugar y el 10 por ciento, lo que conducir√° a un accidente), su tiempo no vale nada, y el precio del error es extremadamente alto. </font><font style="vertical-align: inherit;">Dado que en este ejemplo estamos hablando de un proyecto corto que se escribir√° y se olvidar√°, no hay necesidad de descontar nada, es suficiente comparar el salario de Vasily durante dos meses, igual a 100 mil rublos y la p√©rdida esperada de alrededor del 10% * 8 mil millones = 800 millones de rublos.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ejemplo tres: XSoft </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XSoft es una exitosa compa√±√≠a de outsourcing que acaba de firmar un contrato con otro cliente occidental. El cliente planea contratar a 7 programadores, su presupuesto en esta parte es de 15 millones de rublos al a√±o, de los cuales XSoft tomar√° 3 millones. El cliente es una bardana y no entiende nada en el desarrollo. Desde el punto de vista de XSoft, ¬ødeber√≠an los desarrolladores escribir pruebas unitarias?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por supuesto que si! En este caso, el costo de escribir y respaldar las pruebas unitarias es asumido por el cliente, y para el contratista, la cantidad adicional de trabajo solo significa aumentar la duraci√≥n del proyecto y las ganancias adicionales, que es al menos proporcional al n√∫mero de horas hombre dedicadas a las pruebas unitarias y, en el mejor de los casos, crece m√°s r√°pido que -para aumentar la base del c√≥digo y la complejidad del proyecto. Con su permiso, no desarrollar√© m√°s esta idea, profundizar√© en los detalles √≠ntimos de la relaci√≥n del subcontratista con el cliente y descontar√© sus flujos de efectivo, ya que la conclusi√≥n ya es obvia.</font></font><br><br><h2>  Ep√≠logo </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El art√≠culo result√≥ ser extenso, y espero no haberlo intentado en vano. </font><font style="vertical-align: inherit;">Como cualquier proyecto en cualquier negocio, la decisi√≥n de usar pruebas unitarias en su proyecto debe estar econ√≥micamente justificada. </font><font style="vertical-align: inherit;">Cuando las empresas de otras industrias planean comprar una m√°quina, abrir una f√°brica o tienda, sin duda calcular√°n el VPN y / o la TIR. </font><font style="vertical-align: inherit;">Es triste ver c√≥mo TI sigue siendo una industria descuidada a este respecto. </font><font style="vertical-align: inherit;">Pero conocer los conceptos b√°sicos de las finanzas y el h√°bito de abrir Excel a tiempo puede brindarle una ventaja notable sobre sus competidores.</font></font><br><cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457632/">https://habr.com/ru/post/457632/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457622/index.html">Medici√≥n del rendimiento de Qt</a></li>
<li><a href="../457624/index.html">C√≥mo rompimos la vieja choza y construimos un rascacielos en su lugar</a></li>
<li><a href="../457626/index.html">Revisi√≥n de los niveles de acceso del usuario utilizando Power BI utilizando el ejemplo de Bitrix CMS (BUS)</a></li>
<li><a href="../457628/index.html">Programa P2M efectivo y gesti√≥n de proyectos</a></li>
<li><a href="../457630/index.html">Experiencia desarrollando requisitos para el cient√≠fico de datos de cualidades profesionales</a></li>
<li><a href="../457634/index.html">Sintetizador DDS en Verilog</a></li>
<li><a href="../457638/index.html">Atr√°pame si puedes. Versi√≥n profeta</a></li>
<li><a href="../457640/index.html">¬øEn qu√© conf√≠an los expertos en protecci√≥n de datos? Informe del Congreso Internacional de Ciberseguridad</a></li>
<li><a href="../457646/index.html">Sobre el ant√≠lope en una m√°scara de gas y lagos de sal rosa</a></li>
<li><a href="../457652/index.html">C√≥mo organizar 120,000 fotos y para que no haya pruebas, con diferentes niveles de acceso, para el equipo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>