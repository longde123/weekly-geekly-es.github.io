<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐚 🛫 🚣🏾 Amankan kunci SSH 🥅 🛂 🦈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya ingin memberi tahu Anda cara menyimpan kunci SSH dengan aman di mesin lokal, tanpa takut bahwa beberapa aplikasi mungkin mencuri atau mendekripsi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Amankan kunci SSH</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435270/"><p><img src="https://habrastorage.org/webt/up/j1/kl/upj1kliwm70ton2ocnhvuf_kywm.png"></p><br><p>  Saya ingin memberi tahu Anda cara menyimpan kunci SSH dengan aman di mesin lokal, tanpa takut bahwa beberapa aplikasi mungkin mencuri atau mendekripsi mereka. </p><br><p> Artikel ini akan berguna bagi mereka yang belum menemukan solusi elegan setelah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">paranoia</a> pada 2018 dan terus menyimpan kunci dalam <code>$HOME/.ssh</code> . </p><br><p>  Untuk mengatasi masalah ini, saya sarankan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">KeePassXC</a> , yang merupakan salah satu pengelola kata sandi terbaik, menggunakan algoritma enkripsi yang kuat, dan juga memiliki agen SSH bawaan. </p><br><p>  Ini memungkinkan untuk menyimpan semua kunci dengan aman secara langsung dalam basis data kata sandi dan secara otomatis menambahkannya ke sistem ketika dibuka.  Setelah database ditutup, penggunaan kunci SSH juga menjadi tidak mungkin. </p><a name="habracut"></a><br><p>  Pertama-tama, kami akan menambahkan autostart dari agen SSH saat masuk, untuk ini, buka <code>~/.bashrc</code> di editor favorit Anda dan tambahkan sampai akhir: </p><br><pre> <code class="bash hljs">SSH_ENV=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$HOME</span></span></span><span class="hljs-string">/.ssh/environment"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> start_agent { <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Initialising new SSH agent..."</span></span> /usr/bin/ssh-agent | sed <span class="hljs-string"><span class="hljs-string">'s/^echo/#echo/'</span></span> &gt; <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${SSH_ENV}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> succeeded chmod 600 <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${SSH_ENV}</span></span></span><span class="hljs-string">"</span></span> . <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${SSH_ENV}</span></span></span><span class="hljs-string">"</span></span> &gt; /dev/null } <span class="hljs-comment"><span class="hljs-comment"># Source SSH settings, if applicable if [ -f "${SSH_ENV}" ]; then . "${SSH_ENV}" &gt; /dev/null #ps ${SSH_AGENT_PID} doesn't work under cywgin ps -ef | grep ${SSH_AGENT_PID} | grep ssh-agent$ &gt; /dev/null || { start_agent; } else start_agent; fi</span></span></code> </pre> <br><p>  Maka kita perlu mengaktifkan dukungan di KeePassXC: </p><br><p>  <strong>Alat</strong> -&gt; <strong>Opsi</strong> -&gt; <strong>Agen SSH</strong> -&gt; <strong>Aktifkan Agen SSH</strong> </p><br><p><img src="https://habrastorage.org/webt/5g/kp/vr/5gkpvrhdvkjnh3w7lohzsukxpgo.png"></p><br><p>  Ini menyelesaikan pengaturan, sekarang coba tambahkan kunci SSH baru ke KeePassXC: </p><br><p>  Klik pada ikon dengan kunci, lalu isi data: </p><br><p><img src="https://habrastorage.org/webt/on/9f/uq/on9fuqf49pqyltajtbmagcke6gi.png"></p><br><p>  Jika kunci dilindungi kata sandi, berikan kata sandi yang sama </p><br><p>  Pada tab <strong>Tingkat Lanjut</strong> , muat lampiran dengan <strong>id_rsa</strong> kami: </p><br><p><img src="https://habrastorage.org/webt/w3/dh/oe/w3dhoexgyv0h7so_gxntuehn-94.png"></p><br><p>  Pada tab <strong>agen SSH</strong> , perhatikan: </p><br><ul><li>  <strong>Tambahkan kunci ke agen saat membuka / membuka kunci basis data</strong> </li><li>  <strong>Hapus kunci dari agen saat menutup / mengunci basis data</strong> </li></ul><br><p>  Selanjutnya, pilih kunci kami ( <strong>id_rsa</strong> ) di lampiran </p><br><p>  Dan klik tombol <strong>Tambahkan ke Agen</strong> : </p><br><p><img src="https://habrastorage.org/webt/n_/vs/3m/n_vs3mywdc91lwrs_i2mm2kwea0.png"></p><br><p>  Sekarang ketika Anda memulai KeePassXC, kunci akan ditambahkan secara otomatis ke agen SSH, sehingga Anda tidak dapat lagi menyimpannya di disk! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id435270/">https://habr.com/ru/post/id435270/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id435258/index.html">Kami menulis bahasa pemrograman kami, bagian 2: representasi program menengah</a></li>
<li><a href="../id435260/index.html">Mengimplementasikan hot reload kode C ++ di Linux</a></li>
<li><a href="../id435262/index.html">Li-Fi: Masa Depan Internet</a></li>
<li><a href="../id435264/index.html">Mengedit harga dalam RMK. 1C: Manajemen Perdagangan 11</a></li>
<li><a href="../id435268/index.html">Jangan perlakukan aku, dokter</a></li>
<li><a href="../id435272/index.html">Siklofobia</a></li>
<li><a href="../id435274/index.html">PVS-Studio dan Bug Bounties di Perangkat Lunak Bebas dan Sumber Terbuka</a></li>
<li><a href="../id435278/index.html">10 materi tentang alat musik yang tidak biasa dan cara atipikal untuk mengekstraksi suara</a></li>
<li><a href="../id435280/index.html">Apakah pejabat dibutuhkan? Gagasan crowdfunding sosial</a></li>
<li><a href="../id435286/index.html">Bagaimana saya menyelamatkan Mars atau pencarian python kecil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>