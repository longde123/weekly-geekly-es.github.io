<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😨 💉 👨‍🎓 Netflix如何使用Python 📸 🚶🏾 ⏸️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="当我们许多人为PyCon会议做准备时，我们想谈一谈Netflix如何使用Python。 我们在整个生命周期中都使用Python：从确定需要资助的系列，到CDN的工作结束，将视频运送给1.48亿用户。 我们为许多开源Python软件包做出了贡献，其中一些在下面提到。 如果您有兴趣，请访问我们的空缺网站...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Netflix如何使用Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450870/"><img src="https://habrastorage.org/getpro/habr/post_images/082/1b1/5bd/0821b15bd96a296f6dd1ee62341bdf53.png"><br><br> 当我们许多人为PyCon会议做准备时，我们想谈一谈Netflix如何使用Python。 我们在整个生命周期中都使用Python：从确定需要资助的系列，到CDN的工作结束，将视频运送给1.48亿用户。 我们为许多开源Python软件包做出了贡献，其中一些在下面提到。 如果您有兴趣，请访问我们的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">空缺网站</a>或在PyCon上寻找我们。 <br><a name="habracut"></a><br><h1> 打开连接 </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Open Connect</a>是Netflix内容交付网络（CDN）。 呈现Netflix基础架构的一种简单但不准确的方法是：在按遥控器上的“播放”按钮之前发生的所有事情（例如登录，确定费率计划，推荐系统，选择电影）都可以在Amazon Web Services（AWS）中运行，之后发生的所有事情（即流视频）都可以通过Open Connect进行。 内容托管在尽可能靠近最终用户的Open Connect CDN服务器网络上，以提高客户的观看质量并降低Netflix和我们的合作伙伴Internet提供商的成本。 <br><br> 设计，开发和操作CDN需要各种软件系统，其中许多都是用Python编写的。 基于CDN的网络设备主要由Python应用程序控制。 此类应用程序监视网络设备的状态：使用哪些设备，使用哪种型号，使用哪些硬件组件以及它们位于何处。 这些设备的配置由其他几个系统控制，包括“真相来源”，设备配置应用程序和备份。 用于收集健康数据和其他操作数据的设备的交互是另一个Python应用程序。 长期以来，Python一直是Web上流行的编程语言，因为它是一种直观的语言，可让您快速解决网络问题。 已经开发了许多有用的库，使该语言更加适合于学习和使用。 <br><br><h1> 需求工程 </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Demand Engineering</a>负责<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">处理</a> Netflix云中的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">区域故障</a> ，流量分配，带宽操作和服务器性能。 我们可以自豪地说我们的工具主要基于Python构建。 故障转移服务使用numpy和scipy进行数值分析，使用boto3更改AWS基础设施，使用rq运行异步工作负载，所有这些都包装在一个薄Flask API层中。 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">bpython</a> shell中失败<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">退出</a>并立即完成的能力保存了该情况。 <br><br> 我们积极使用Jupyter Notebooks和nteract来分析运营数据和原型<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">可视化工具</a>以检测产能下降。 <br><br><h1> 核心 </h1><br>  CORE团队使用Python分析统计信息并发出警报。 当警报系统表明存在问题时，我们依靠许多统计和数学库（numpy，scipy，破裂，熊猫）来自动分析1000个相关信号。 我们已经开发了在团队内部和外部都使用的时间序列相关系统，以及用于并行化大量分析工作以获得快速结果的分布式工作系统。 <br><br> 我们还通常将Python用于自动化，研究和数据过滤任务，并作为便捷的可视化工具。 <br><br><h1> 监控，警报和自动恢复 </h1><br>  Insight工程团队负责工具的开发和操作，以快速识别问题，警报，诊断和自动修复。 随着Python的日益普及，该团队现在为大多数服务支持Python客户端。 一个示例是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spectator</a>客户端库，其中包含记录维度时间序列指标的代码。 我们创建Python库来与Netflix平台上的其他服务进行交互。 除了库， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Winston</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Bolt</a>产品还使用Python框架（Gunicorn + Flask + Flask-RESTPlus）构建。 <br><br><h1> 信息安全 </h1><br> 信息安全团队使用Python执行许多重要任务，包括自动化安全性，风险分类，识别并自动修复漏洞。 我们发布了几种成功产品的源代码，包括<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Security Monkey</a> （我们最活跃的开源项目）。  Python用于通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Bless</a>保护我们的SSH资源。 基础结构安全团队使用python通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Repokid</a>配置IAM权限。  Python脚本有助于在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Lemur中</a>生成TLS证书。 <br><br> 我们最近的一些项目包括Prism：一个批处理框架，可帮助安全工程师分析基础结构的状态并识别源代码中的风险因素和漏洞。 我们目前为Prism提供Python和Ruby库。  Diffy取证（计算机取证） <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">工具</a>完全用Python编写。 我们还使用Python通过Lanius发现敏感数据。 <br><br><h1> 个性化算法 </h1><br> 我们在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">机器学习框架中</a>广泛使用Python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">进行个性化</a> 。 这里讲授一些模型，这些模型提供了Netflix功能的关键方面：从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">推荐算法</a>到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">覆盖选择</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">营销算法</a> 。 例如，某些算法使用TensorFlow，Keras和PyTorch来学习深度神经网络，使用XGBoost和LightGBM来学习具有梯度增强功能或更广泛的Python堆栈的决策树（例如numpy，scipy，sklearn库，matplotlib，pandas，cvxpy库）。 由于我们一直在尝试新方法，因此在许多实验中，我们都使用Jupyter笔记本。 我们还开发了许多更高级别的库，用于将笔记本与我们的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">生态系统</a>的其余部分集成在一起（例如，访问数据，记录事实和提取属性，评估模型以及发布）。 <br><br><h1> 机器学习基础架构 </h1><br> 除了个性化之外，Netflix还将机器学习应用于整个公司的数百项其他任务。 其中许多应用程序都在Python平台Metaflow上运行，该平台使执行ML项目以及从原型阶段到生产的运行变得容易。 <br><br>  Metaflow突破了Python的界限：我们使用并行度高且经过优化的Python代码以10 Gb / s的速度提取数据，处理内存中的数亿个数据点，并在数万个CPU内核上组织计算。 <br><br><h1> 记事本 </h1><br>  Netflix的用户是Jupyter笔记本电脑的狂热用户，我们已经写过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这些投资</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">原因和性质</a> 。 <br><br> 但是Python在这些服务的提供方式中起着巨大的作用。 它是与Jupyter生态系统进行各种交互的开发，调试，研究和原型设计的主要语言。 我们使用Python为Jupyter服务器创建自定义扩展，这使我们能够代表用户管理诸如日志记录，归档，发布和克隆笔记本之类的任务。 我们通过各种Jupyter内核为用户提供了许多使用Python的选项，并使用Python来控制这些内核规范的部署。 <br><br><h1> 编排 </h1><br> 大数据编排团队负责提供用于计划和执行ETL和Adhoc管道的所有服务和工具。 <br><br> 许多业务流程组件都是用Python编写的。 从使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Jupyter</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Papermill</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">记事本</a>作为模板作业类型（Spark，Presto ...）的调度程序开始。 这为用户提供了一种标准化且简单的方式来表达需要完成的工作。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a>您可以阅读更多有关它的信息。 在需要人工干预的情况下，例如，重新启动过去一小时内发生的所有事情，我们将笔记本用作生产中的真实操作清单（“运行手册”）。 <br><br> 供内部使用，我们构建了一个完全由Python编写的事件驱动平台。 它从多个系统中接收事件流，这些事件流被组合到一个工具中。 这使您可以确定过滤事件，响应事件或路由的条件。 结果，我们能够隔离微服务，并确保数据平台上发生的所有事情的透明度。 <br><br> 我们的团队还开发了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pygenie</a>客户端，该客户端与<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Genie</a>联合工作完成服务交互。 在内部，我们对此库进行了其他扩展，这些扩展应用了业务协议并与Netflix平台集成。 这些库是用户以编程方式与大数据平台进行交互的主要方式。 <br><br> 最后，我们的团队为开源项目<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">papermill</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">scrapbook</a>做出了贡献：我们为自己和外部用例添加了代码。 我们的努力得到了开源社区的一致好评，对此我们感到非常高兴。 <br><br><h1> 实验平台 </h1><br> 科学计算团队创建了一个实验平台：AB测试和其他。 科学家和工程师可以在三个领域尝试创新：数据，统计和可视化。 <br><br> 我们的指标存储库是基于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PyPika</a>的Python平台，可让您编写可重用的参数化SQL查询。 这是任何新分析的切入点。 <br><br> 因果模型的因果模型库基于Python和R：在这里，科学家有机会探索新的因果模型。 它使用PyArrow和RPy2，因此可以轻松地以任何语言计算统计信息。 <br><br> 可视化库基于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Plotly</a> 。 由于Plotly是可视化的通用规范，因此有许多输出工具可用于我们的平台。 <br><br><h1> 会员生态系统 </h1><br> 合作伙伴生态系统团队使用Python在设备上测试Netflix应用程序。  Python构成了新的持续集成基础架构的核心，包括管理我们的业务流程服务器，管理Spinnaker，测试套件请求和过滤以及计划在设备和容器上的测试运行。 使用TensorFlow在Python中执行其他启动后分析，以确定哪些测试最有可能在哪些设备上引起问题。 <br><br><h1> 视频编码和媒体云开发 </h1><br> 我们的团队负责对Netflix目录进行编码（和转码），并使用机器学习来分析此目录。 <br><br> 我们在大约50个项目（例如<a href="">vmaf</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">mezzfs）中</a>使用Python，使用名为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Archer</a>的map-reduce平台创建计算机视觉解决方案，并将Python用于许多内部项目。 <br><br> 我们还开放了一些工具来促进Python项目的开发/分发，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">setupmeta</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pickley</a> 。 <br><br><h1>  Netflix和NVFX动画 </h1><br>  Python是我们用于创建动画和VFX内容的所有主要应用程序的行业标准，因此不用说我们会大量使用它。 我们与Maya和Nuke的所有集成都是使用Python和我们的Shotgun工具的大部分进行的。 我们刚刚开始在云中构建工具，并将在其中部署许多自定义Python AMI /容器。 <br><br><h1> 内容，科学和分析中的机器学习 </h1><br> 内容方面的机器学习团队广泛使用Python开发机器学习模型，这些模型是预测所有内容的受众人数，观看次数和其他指标的核心。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN450870/">https://habr.com/ru/post/zh-CN450870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN450858/index.html">开源网络聚会-现在在Yandex.Cloud＃3.2019中</a></li>
<li><a href="../zh-CN450860/index.html">智能插座REDMOND SkyPort 100S</a></li>
<li><a href="../zh-CN450862/index.html">@Pythonetc 2019年4月</a></li>
<li><a href="../zh-CN450864/index.html">我的电报频道@pythonetc的提示和技巧，2019年4月</a></li>
<li><a href="../zh-CN450868/index.html">FunTech QA自动化聚会的视频报告</a></li>
<li><a href="../zh-CN450872/index.html">Selenium WebDriver的TestNG注释指南</a></li>
<li><a href="../zh-CN450874/index.html">我对绝对利率假设的数值检验</a></li>
<li><a href="../zh-CN450878/index.html">如果可以的话赶上我</a></li>
<li><a href="../zh-CN450880/index.html">测量复杂形状的成型零件？ MetraSCAN 3D进行救援</a></li>
<li><a href="../zh-CN450886/index.html">背景：氢能汽车如何工作以及何时出现在道路上</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>