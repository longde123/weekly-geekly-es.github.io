<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🏭 💆 ☪️ Redux sind wie State Container in SwiftUI. Die Grundlagen 🙋🏻 🚼 🕣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Diese Woche werden wir über das Erstellen eines Statuscontainers sprechen, der dem von Redux verwendeten ähnelt. Es ist die einzige Wertquelle für die...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Redux sind wie State Container in SwiftUI. Die Grundlagen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476398/"><img src="https://habrastorage.org/webt/d3/qh/59/d3qh59r27fxn9tp1eg3ygd7lmqi.jpeg" alt="Bild"><br><br>  Diese Woche werden wir über das Erstellen eines Statuscontainers sprechen, der dem von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Redux</a> verwendeten ähnelt.  Es ist die einzige Wertquelle für die in der Entwicklung befindliche Anwendung.  Ein einziger Status für die gesamte Anwendung erleichtert das Debuggen und Überprüfen.  Eine einzige Quelle für Wahrheitswerte beseitigt Tausende von Fehlern, die beim Erstellen mehrerer Status in einer Anwendung auftreten. <br><a name="habracut"></a><br><h3>  Eine einzige Quelle für Wahrheitswerte </h3><br>  Die Hauptidee besteht darin, den Zustand der gesamten Anwendung durch eine einzige Struktur oder Zusammensetzung von Strukturen zu beschreiben.  Angenommen, wir arbeiten an einer Github-Repository-Suchanwendung, bei der state ein Array von Repositorys ist, die wir anhand einer bestimmten Anforderung mithilfe der Github-API auswählen. <br><br><pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> searchResult: [<span class="hljs-type"><span class="hljs-type">Repo</span></span>] = [] }</code> </pre> <br>  Der nächste Schritt besteht darin, den Status (schreibgeschützt) an jede Ansicht in der Anwendung zu übergeben.  Der beste Weg, dies zu erreichen, ist die Verwendung der SwiftUI-Umgebung.  Sie können auch ein Objekt, das den Status der gesamten Anwendung enthält, an die Umgebung der Basisansicht übergeben.  Die Basisansicht teilt die Umgebung mit allen untergeordneten Ansichten.  Weitere Informationen zur Umgebung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von SwiftUI finden Sie in der Publikation Power of the Environment in SwiftUI</a> . <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Store</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObservableObject</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">Published</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state: <span class="hljs-type"><span class="hljs-type">AppState</span></span> }</code> </pre><br>  Im obigen Beispiel haben wir ein <i>Geschäftsobjekt erstellt</i> , das den Status der Anwendung speichert und schreibgeschützten Zugriff darauf bietet.  Die State-Eigenschaft verwendet den Wrapper der <i>@Published-</i> Eigenschaft, der SwiftUI über alle Änderungen benachrichtigt.  Damit können Sie die gesamte Anwendung ständig aktualisieren und aus einer einzigen Quelle von Wahrheitswerten ableiten.  Früher haben wir in früheren Artikeln über Speicherobjekte gesprochen. Um mehr darüber zu erfahren, müssen Sie den Artikel „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Modellieren des Anwendungsstatus mithilfe von Speicherobjekten in SwiftUI</a> “ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lesen</a> . <br><br><h3>  Reduzierer und Aktionen </h3><br>  Es ist Zeit, über Benutzeraktionen zu sprechen, die zu Statusänderungen führen.  Eine Aktion ist eine einfache Aufzählung oder Sammlung von Aufzählungen, die eine Statusänderung beschreiben.  Legen Sie beispielsweise den Ladewert während der Datenerfassung fest, weisen Sie die resultierenden Repositorys einer Statuseigenschaft zu, usw.  Betrachten Sie nun den Beispielcode für eine Aufzählung von Action. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppAction</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> search(query: <span class="hljs-type"><span class="hljs-type">String</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> setSearchResult(repos: [<span class="hljs-type"><span class="hljs-type">Repo</span></span>]) }</code> </pre><br>  <i>Reduzieren</i> ist eine Funktion, die den aktuellen Status übernimmt, eine Aktion auf den Status anwendet und einen neuen Status generiert.  Normalerweise ist das <i>Reduzierstück</i> oder die <i>Zusammensetzung der Reduzierstücke</i> der einzige Ort in einer Anwendung, an dem sich der Zustand ändert.  Die Tatsache, dass eine einzelne Funktion den gesamten Status einer Anwendung ändern kann, macht den Code sehr einfach, leicht zu testen und leicht zu debuggen.  Das Folgende ist ein Beispiel für eine Reduktionsfunktion. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Reducer</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-built_in"><span class="hljs-built_in">reduce</span></span>: (<span class="hljs-keyword"><span class="hljs-keyword">inout</span></span> <span class="hljs-type"><span class="hljs-type">State</span></span>, <span class="hljs-type"><span class="hljs-type">Action</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> appReducer: <span class="hljs-type"><span class="hljs-type">Reducer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">AppState</span></span>, <span class="hljs-type"><span class="hljs-type">AppAction</span></span>&gt; = <span class="hljs-type"><span class="hljs-type">Reducer</span></span> { state, action <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> action { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> .setSearchResults(repos): state.searchResult = repos } }</code> </pre><br><h3>  Unidirektionale Strömung </h3><br>  Jetzt ist es Zeit, über den Datenfluss zu sprechen.  Jede Ansicht hat nur Lesezugriff auf den Status über das Geschäftsobjekt.  Ansichten können Aktionen an das Repository-Objekt senden.  Der Reduzierer ändert den Status und SwiftUI benachrichtigt dann alle Ansichten über Statusänderungen.  SwiftUI verfügt über einen äußerst effizienten Vergleichsalgorithmus, sodass der Status der gesamten Anwendung angezeigt und geänderte Ansichten sehr schnell aktualisiert werden können. <br><br>  <b>Zustand -&gt; Ansicht -&gt; Aktion -&gt; Zustand -&gt; Ansicht</b> <br><br>  Diese Architektur arbeitet nur mit einem unidirektionalen Datenstrom.  Dies bedeutet, dass alle Daten in der Anwendung dem gleichen Muster folgen, wodurch die Logik der erstellten Anwendung vorhersehbarer und verständlicher wird.  Lassen Sie uns das Geschäftsobjekt ändern, um das Senden von Aktionen zu unterstützen. <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Store</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class">&gt;: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObservableObject</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">Published</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state: <span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> appReducer: <span class="hljs-type"><span class="hljs-type">Reducer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">State</span></span>, <span class="hljs-type"><span class="hljs-type">Action</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(initialState: <span class="hljs-type"><span class="hljs-type">State</span></span>, appReducer: @escaping <span class="hljs-type"><span class="hljs-type">Reducer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">State</span></span>, <span class="hljs-type"><span class="hljs-type">Action</span></span>&gt;) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state = initialState <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.appReducer = appReducer } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> action: Action)</span></span></span></span> { appReducer.<span class="hljs-built_in"><span class="hljs-built_in">reduce</span></span>(&amp;state, action) } }</code> </pre><br><h3>  Nebenwirkungen </h3><br>  Wir haben bereits einen <b>unidirektionalen</b> Stream implementiert, der Benutzeraktionen akzeptiert und den Status ändert, aber was ist mit einer asynchronen Aktion, die wir normalerweise als <i>Nebeneffekte bezeichnen</i> .  Wie füge ich Unterstützung für asynchrone Tasks für den verwendeten Speichertyp hinzu?  Ich denke, es ist Zeit, die Verwendung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Combine Framework</a> einzuführen, das sich ideal für die Bearbeitung asynchroner Aufgaben eignet. <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Foundation <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Combine protocol Effect { associatedtype Action func mapToAction() -&gt; AnyPublisher&lt;Action, Never&gt; } enum SideEffect: Effect { case search(query: String) func mapToAction() -&gt; AnyPublisher&lt;Action, Never&gt; { switch self { case let .search(query): return dependencies.githubService .searchPublisher(matching: query) .replaceError(with: []) .map { AppAction.setSearchResults(repos: $0) } .eraseToAnyPublisher() } } }</code> </pre><br>  Durch die Einführung des Effect-Protokolls wurde die Unterstützung für <i>asynchrone Aufgaben</i> hinzugefügt.  <b>Effect</b> ist eine Actions-Sequenz, die mit dem <b>Publisher-</b> Typ <b>aus dem Combine-Framework veröffentlicht werden kann</b> .  Auf diese Weise können Sie asynchrone Jobs mit der Option "Kombinieren" verarbeiten und anschließend Aktionen veröffentlichen, mit denen der Reduzierer Aktionen auf den aktuellen Status anwendet. <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Store</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class">&gt;: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObservableObject</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">Published</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state: <span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> appReducer: <span class="hljs-type"><span class="hljs-type">Reducer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">State</span></span>, <span class="hljs-type"><span class="hljs-type">Action</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cancellables: <span class="hljs-type"><span class="hljs-type">Set</span></span>&lt;<span class="hljs-type"><span class="hljs-type">AnyCancellable</span></span>&gt; = [] <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(initialState: <span class="hljs-type"><span class="hljs-type">State</span></span>, appReducer: <span class="hljs-type"><span class="hljs-type">Reducer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">State</span></span>, <span class="hljs-type"><span class="hljs-type">Action</span></span>&gt;) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state = initialState <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.appReducer = appReducer } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> action: Action)</span></span></span></span> { appReducer.<span class="hljs-built_in"><span class="hljs-built_in">reduce</span></span>(&amp;state, action) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-function">&lt;E: Effect&gt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> effect: E)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-type"><span class="hljs-type">E</span></span>.<span class="hljs-type"><span class="hljs-type">Action</span></span> == <span class="hljs-type"><span class="hljs-type">Action</span></span> { effect .mapToAction() .receive(on: <span class="hljs-type"><span class="hljs-type">DispatchQueue</span></span>.main) .sink(receiveValue: send) .store(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: &amp;cancellables) } }</code> </pre><br><h3>  Praktisches Beispiel </h3><br>  Schließlich können wir die Repository- <i>Suchanwendung</i> vervollständigen, die die <i>Github-API</i> asynchron aufruft und die Repositorys auswählt, die der Abfrage entsprechen.  Der vollständige Quellcode der Anwendung ist auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github</a> verfügbar. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchContainerView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">EnvironmentObject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store: <span class="hljs-type"><span class="hljs-type">Store</span></span>&lt;<span class="hljs-type"><span class="hljs-type">AppState</span></span>, <span class="hljs-type"><span class="hljs-type">AppAction</span></span>&gt; @<span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> query: <span class="hljs-type"><span class="hljs-type">String</span></span> = <span class="hljs-string"><span class="hljs-string">"Swift"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">SearchView</span></span>( query: $query, repos: store.state.searchResult, onCommit: fetch ).onAppear(perform: fetch) } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { store.send(<span class="hljs-type"><span class="hljs-type">SideEffect</span></span>.search(query: query)) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchView</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">Binding</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> query: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> repos: [<span class="hljs-type"><span class="hljs-type">Repo</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> onCommit: () -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">NavigationView</span></span> { <span class="hljs-type"><span class="hljs-type">List</span></span> { <span class="hljs-type"><span class="hljs-type">TextField</span></span>(<span class="hljs-string"><span class="hljs-string">"Type something"</span></span>, text: $query, onCommit: onCommit) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> repos.isEmpty { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Loading..."</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-type"><span class="hljs-type">ForEach</span></span>(repos) { repo <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">RepoRow</span></span>(repo: repo) } } }.navigationBarTitle(<span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Search"</span></span>)) } } }</code> </pre><br>  Teilen Sie den Bildschirm in zwei Ansichten auf: <i>Containeransicht</i> und <i>Renderansicht</i> .  <b>Die Containeransicht</b> steuert die Aktionen und wählt die erforderlichen Teile aus dem <b>globalen Status aus</b> .  <b>Die Rendering-Ansicht</b> empfängt Daten und zeigt sie an.  Wir haben bereits in früheren Artikeln über Containeransichten gesprochen. Weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen finden Sie unter</a> dem Link " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einführung in Containeransichten in SwiftUI</a> ". <br><br><h3>  Schlussfolgerungen </h3><br>  Heute haben wir gelernt, wie man einen <i>Redux-ähnlichen Zustandscontainer mit Blick auf Nebenwirkungen erstellt</i> .  Dazu haben wir die SwiftUI Environment-Funktion und das Combine Framework verwendet.  Ich hoffe dieser Artikel war hilfreich. <br><br>  Vielen Dank fürs Lesen und bis bald! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de476398/">https://habr.com/ru/post/de476398/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de476380/index.html">Kryptowährungshandel - Wie man eine nachhaltige Strategie entwickelt</a></li>
<li><a href="../de476382/index.html">Serverschrank mit 14 Patchpanels oder 5 Tagen im Serverraum</a></li>
<li><a href="../de476384/index.html">So gestalten Sie ein Gehäuse für das Gerät. Komplette Anleitung</a></li>
<li><a href="../de476394/index.html">Wie ich anfing zu vermarkten</a></li>
<li><a href="../de476396/index.html">Schallortung: Wie das Gehirn Schallquellen erkennt</a></li>
<li><a href="../de476404/index.html">Sicherheitswoche 47: Nicht-triviale Sicherheitslücken</a></li>
<li><a href="../de476406/index.html">Neuronale Netze beim Dating</a></li>
<li><a href="../de476408/index.html">Auszahlung buchen</a></li>
<li><a href="../de476412/index.html">Hannes Lindemann v. Alain Bombard: einen Mythos entlarven?</a></li>
<li><a href="../de476414/index.html">Identifizieren Sie die Linux-Festplattenaktivität</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>