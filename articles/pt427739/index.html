<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëß üõ§Ô∏è üé≥ DDD, Hexagonal, Cebola, Limpo, CQRS ... como eu reuni tudo üåç üë®üèø‚Äçüè´ üèüÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo faz parte do Chronicle of Software Architecture , uma s√©rie de artigos sobre arquitetura de software. Neles, escrevo sobre o que aprendi s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DDD, Hexagonal, Cebola, Limpo, CQRS ... como eu reuni tudo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427739/"> <a href=""><img src="https://habrastorage.org/webt/mm/07/bx/mm07bx1u2dxlgab0prkzllunvf8.png"></a> <br><br>  Este artigo faz parte do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chronicle of Software Architecture</a> , uma s√©rie de artigos sobre arquitetura de software.  Neles, escrevo sobre o que aprendi sobre arquitetura de software, o que penso e como uso o conhecimento.  O conte√∫do deste artigo pode fazer mais sentido se voc√™ ler os artigos anteriores da s√©rie. <br><br>  Depois de me formar na universidade, comecei a trabalhar como professor do ensino m√©dio, mas h√° alguns anos desisti e fui para os desenvolvedores de software em tempo integral. <br><br>  Desde ent√£o, sempre senti que precisava recuperar o tempo "perdido" e descobrir o m√°ximo poss√≠vel, o mais r√°pido poss√≠vel.  Portanto, comecei a me envolver um pouco nos experimentos, a ler e escrever bastante, prestando especial aten√ß√£o ao design e arquitetura do software.  √â por isso que estou escrevendo esses artigos para me ajudar nos meus estudos. <br><a name="habracut"></a><br>  Nos √∫ltimos artigos, falei sobre muitos conceitos e princ√≠pios que aprendi e um pouco sobre como raciocino sobre eles.  Mas eu os imagino como fragmentos de um grande quebra-cabe√ßa. <br><br>  Este artigo √© sobre como eu reuni todos esses fragmentos.  Acho que devo dar um nome a eles, por isso vou cham√°-los de <b>arquitetura expl√≠cita</b> .  Al√©m disso, todos esses conceitos s√£o <i>"testados em batalha"</i> e s√£o usados ‚Äã‚Äãna produ√ß√£o em plataformas altamente confi√°veis.  Uma delas √© uma plataforma de com√©rcio eletr√¥nico SaaS com milhares de lojas online em todo o mundo, a outra √© uma plataforma de negocia√ß√£o que opera em dois pa√≠ses com um barramento de mensagens que processa mais de 20 milh√µes de mensagens por m√™s. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Blocos fundamentais do sistema</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">As ferramentas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Conectando ferramentas e mecanismos de entrega ao n√∫cleo do aplicativo</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Portas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Adaptadores prim√°rios ou de controle</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Adaptadores secund√°rios ou gerenciados</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Invers√£o de controle</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Organiza√ß√£o do n√∫cleo do aplicativo</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">N√≠vel de aplica√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">N√≠vel de dom√≠nio</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Servi√ßos de Dom√≠nio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modelo de dom√≠nio</a> </li></ul></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Componentes</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desconex√£o de componentes</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Disparando a l√≥gica em outros componentes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Recuperando dados de outros componentes</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Armazenamento de dados compartilhado para componentes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Armazenamento de dados separado para o componente</a> </li></ul></li></ul></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Controle de fluxo</a> </li></ul><br><a name="1"></a><h1>  Blocos fundamentais do sistema </h1><br>  Vamos come√ßar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lembrando as</a> arquiteturas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">EBI</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ports &amp; Adapters</a> .  Ambos separam claramente o c√≥digo interno e externo do aplicativo, bem como os adaptadores para conectar o c√≥digo interno e externo. <br><br>  Al√©m disso, a arquitetura de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">portas e adaptadores</a> define explicitamente os tr√™s blocos fundamentais de c√≥digo no sistema: <br><br><ul><li>  Isso permite que voc√™ execute a <b>interface</b> do <b>usu√°rio</b> , independentemente do seu tipo. </li><li>  <b>L√≥gica de neg√≥cios do</b> sistema ou <b>n√∫cleo do aplicativo</b> .  √â usado pela interface do usu√°rio para fazer transa√ß√µes reais. </li><li>  O c√≥digo de <b>infraestrutura</b> que conecta o n√∫cleo do nosso aplicativo a ferramentas como banco de dados, mecanismo de pesquisa ou APIs de terceiros. </li></ul><br> <a href=""><img src="https://habrastorage.org/webt/7q/gt/h5/7qgth5e95mntgholpnrryv4zbm4.png"></a> <br><br>  O n√∫cleo do aplicativo √© a coisa mais importante a se pensar.  Este c√≥digo permite que voc√™ execute a√ß√µes reais no sistema, ou seja, este √© o nosso aplicativo.  V√°rias interfaces de usu√°rio (um aplicativo da web progressivo, aplicativo m√≥vel, CLI, API etc.) podem funcionar com ele, tudo √© executado em um √∫nico n√∫cleo. <br><br>  Como voc√™ pode imaginar, um fluxo de execu√ß√£o t√≠pico vai do c√≥digo na interface do usu√°rio atrav√©s do n√∫cleo do aplicativo at√© o c√≥digo da infraestrutura, volta ao n√∫cleo do aplicativo e, finalmente, a resposta √© entregue √† interface do usu√°rio. <br><br> <a href=""><img src="https://habrastorage.org/webt/vn/7q/5u/vn7q5usrs1m2ftgkfmzagymrlfw.png"></a> <br><br><a name="2"></a><h1>  As ferramentas </h1><br>  Longe do c√≥digo do kernel mais importante, ainda existem ferramentas que o aplicativo usa.  Por exemplo, o mecanismo de banco de dados, mecanismo de pesquisa, servidor da Web e console da CLI (embora os dois √∫ltimos tamb√©m sejam mecanismos de entrega). <br><br> <a href=""><img src="https://habrastorage.org/webt/_o/aj/rn/_oajrnom8cuphtclxgw-m-sgars.png"></a> <br><br>  Parece estranho colocar o console da CLI na mesma se√ß√£o tem√°tica do DBMS, porque eles t√™m uma finalidade diferente.  Mas, de fato, ambos s√£o ferramentas usadas pelo aplicativo.  A principal diferen√ßa √© que o console da CLI e o servidor da Web <b>instruem o aplicativo a fazer alguma coisa</b> ; o kernel do DBMS, pelo contr√°rio, <b>recebe comandos do aplicativo</b> .  Essa √© uma diferen√ßa muito importante, pois afeta muito a maneira como escrevemos c√≥digo para conectar essas ferramentas ao n√∫cleo do aplicativo. <br><br><a name="3"></a><h1>  Conectando ferramentas e mecanismos de entrega ao n√∫cleo do aplicativo </h1><br>  Blocos de ferramentas de conex√£o de c√≥digo ao n√∫cleo do aplicativo s√£o chamados de adaptadores ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arquitetura de portas e adaptadores</a> ).  Eles permitem que a l√≥gica de neg√≥cios interaja com uma ferramenta espec√≠fica e vice-versa. <br><br>  Os adaptadores que instruem o aplicativo a fazer algo s√£o chamados de <b>adaptadores principais ou de controle</b> , enquanto os adaptadores que instruem o aplicativo a fazer algo s√£o chamados de <b>adaptadores secund√°rios ou gerenciados</b> . <br><br><a name="4"></a><h2>  Portas </h2><br>  No entanto, esses <i>adaptadores</i> n√£o s√£o criados por acaso, mas correspondem a um ponto de entrada espec√≠fico na <i><b>porta</b></i> principal do aplicativo.  Uma porta <b>nada mais √© do que uma especifica√ß√£o</b> de como a ferramenta pode usar o n√∫cleo do aplicativo ou vice-versa.  Na maioria dos idiomas e em sua forma mais simples, essa porta ser√° uma interface, mas na verdade pode ser composta de v√°rias interfaces e DTO. <br><br>  √â importante observar que as <b>portas (interfaces) est√£o dentro da l√≥gica de neg√≥cios</b> e os adaptadores est√£o fora.  Para que esse modelo funcione corretamente, √© extremamente importante criar portas de acordo com as necessidades do n√∫cleo do aplicativo e n√£o apenas imitar as APIs da ferramenta. <br><br><a name="5"></a><h2>  Adaptadores prim√°rios ou de controle </h2><br>  Adaptadores prim√°rios ou de controle <b>envolvem uma porta</b> e a usam para informar ao kernel do aplicativo o que fazer.  <b>Eles transformam todos os dados do mecanismo de entrega em chamadas de m√©todo no n√∫cleo do aplicativo.</b> <br><br> <a href=""><img src="https://habrastorage.org/webt/p3/6x/rc/p36xrcnsvtfgxpmnpb2f48vtguw.png"></a> <br><br>  Em outras palavras, nossos adaptadores de controle s√£o controladores ou comandos do console, eles s√£o incorporados ao construtor com algum objeto cuja classe implementa a interface (porta) necess√°ria para um controlador ou comando do console. <br><br>  Em um exemplo mais espec√≠fico, a porta pode ser a interface de servi√ßo ou a interface do reposit√≥rio que o controlador requer.  Uma implementa√ß√£o espec√≠fica de um servi√ßo, reposit√≥rio ou solicita√ß√£o √© ent√£o implementada e usada no controlador. <br><br>  Al√©m disso, a porta pode ser um barramento de comando ou uma interface de barramento de consulta.  Nesse caso, uma implementa√ß√£o espec√≠fica do barramento de comando ou solicita√ß√£o √© inserida no controlador, que cria um comando ou solicita√ß√£o e o passa para o barramento correspondente. <br><br><a name="6"></a><h2>  Adaptadores secund√°rios ou gerenciados </h2><br>  Ao contr√°rio dos adaptadores de controle que envolvem uma porta, os <b>adaptadores gerenciados</b> implementam uma porta, uma interface e entram no n√∫cleo do aplicativo em que a porta √© necess√°ria (com tipo). <br><br> <a href=""><img src="https://habrastorage.org/webt/rw/hz/bo/rwhzboewldt79asfbycnq9pwii0.png"></a> <br><br>  Por exemplo, temos um aplicativo nativo que precisa salvar dados.  Criamos uma interface de persist√™ncia com um m√©todo para <i>salvar uma</i> matriz de dados e um m√©todo para <i>excluir uma</i> linha em uma tabela por seu ID.  A partir de agora, sempre que o aplicativo precisar salvar ou excluir dados, solicitaremos no construtor um objeto que implemente a interface de persist√™ncia que definimos. <br><br>  Agora crie um adaptador espec√≠fico do MySQL que implementar√° essa interface.  Ele ter√° m√©todos para salvar a matriz e excluir a linha da tabela, e a apresentaremos sempre que a interface de persist√™ncia for necess√°ria. <br><br>  Se, em algum momento, decidirmos mudar o provedor de banco de dados, por exemplo, para PostgreSQL ou MongoDB, precisamos criar um novo adaptador que implemente a interface de persist√™ncia espec√≠fica para o PostgreSQL e introduzir um novo adaptador em vez do antigo. <br><br><a name="7"></a><h2>  Invers√£o de controle </h2><br>  Um recurso caracter√≠stico desse modelo √© que os adaptadores dependem de uma ferramenta espec√≠fica e de uma porta espec√≠fica (implementando uma interface).  Mas nossa l√≥gica de neg√≥cios depende apenas da porta (interface), projetada para atender √†s necessidades da l√≥gica de neg√≥cios e n√£o depende de um adaptador ou ferramenta espec√≠fica. <br><br> <a href=""><img src="https://habrastorage.org/webt/lz/8c/8m/lz8c8mla7fg4vuq9piocz1rb4ko.png"></a> <br><br>  Isso significa que as depend√™ncias s√£o direcionadas para o centro, ou seja, h√° uma <b>invers√£o do princ√≠pio de controle no n√≠vel arquitetural</b> . <br><br>  Embora, novamente, <b>seja imperativo que as portas sejam criadas de acordo com as necessidades do n√∫cleo do aplicativo e n√£o apenas imitem as APIs da ferramenta</b> . <br><br><a name="8"></a><h1>  Organiza√ß√£o do n√∫cleo do aplicativo </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A arquitetura Onion</a> pega as camadas DDD e as incorpora na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arquitetura de porta e adaptador</a> .  Esses n√≠veis foram projetados para trazer alguma ordem √† l√≥gica comercial, o interior do ‚Äúhex√°gono‚Äù de portas e adaptadores.  Como antes, a dire√ß√£o das depend√™ncias √© em dire√ß√£o ao centro. <br><br><a name="9"></a><h2>  Camada de Aplica√ß√£o (Camada de Aplica√ß√£o) </h2><br>  Casos de uso s√£o processos que podem ser iniciados no kernel por uma ou mais interfaces de usu√°rio.  Por exemplo, um CMS pode ter uma interface do usu√°rio para usu√°rios regulares, outra interface independente para administradores do CMS, outra CLI e uma API da web.  Essas UIs (aplicativos) podem acionar casos de uso exclusivos ou comuns. <br><br>  Os casos de uso s√£o definidos no n√≠vel do aplicativo - o primeiro n√≠vel do DDD e a arquitetura Onion. <br><br> <a href=""><img src="https://habrastorage.org/webt/en/x2/97/enx297n0fviyyevojd6u3y_mx3q.png"></a> <br><br>  Essa camada cont√©m servi√ßos de aplicativos (e suas interfaces) como objetos de primeira classe e tamb√©m interfaces de porta e adaptador (portas), que incluem interfaces ORM, interfaces de mecanismo de pesquisa, interfaces de mensagens, etc. No caso em que usamos o barramento de comando e / ou o barramento de solicita√ß√£o, nesse n√≠vel, s√£o os manipuladores de comando e solicita√ß√£o correspondentes. <br><br>  Os servi√ßos de aplicativo e / ou manipuladores de comando cont√™m a l√≥gica de implementa√ß√£o de um caso de uso, um processo de neg√≥cios.  Como regra, seu papel √© o seguinte: <br><br><ol><li>  use o reposit√≥rio para procurar uma ou mais entidades; </li><li>  pe√ßa a essas entidades que executem alguma l√≥gica de dom√≠nio; </li><li>  e use o armazenamento para salvar novamente entidades, salvando efetivamente altera√ß√µes de dados. </li></ol><br>  Os manipuladores de comando podem ser usados ‚Äã‚Äãde duas maneiras: <br><br><ol><li>  Eles podem conter l√≥gica para executar um caso de uso; </li><li>  Eles podem ser usados ‚Äã‚Äãcomo partes simples de uma conex√£o em nossa arquitetura que recebem um comando e simplesmente invocam a l√≥gica existente no servi√ßo de aplicativo. </li></ol><br>  Qual abordagem usar depende do contexto, por exemplo: <br><br><ul><li>  J√° temos servi√ßos de aplicativos e agora o barramento de comando est√° sendo adicionado? </li><li>  O barramento de comando permite especificar uma classe / m√©todo como manipulador ou voc√™ precisa estender ou implementar classes ou interfaces existentes? </li></ul><br>  Essa camada tamb√©m cont√©m <b>eventos de aplicativos acionadores</b> que representam algum resultado de um caso de uso.  Esses eventos acionam a l√≥gica que √© um efeito colateral de um caso de uso, como enviar emails, notificar uma API de terceiros, enviar uma notifica√ß√£o por push ou at√© iniciar outro caso de uso que perten√ßa a outro componente do aplicativo. <br><br><a name="10"></a><h2>  N√≠vel de dom√≠nio </h2><br>  Mais para dentro, existe um n√≠vel de dom√≠nio.  Os objetos nesse n√≠vel cont√™m dados e l√≥gica para gerenciar esses dados, que s√£o espec√≠ficos ao pr√≥prio dom√≠nio e s√£o independentes dos processos de neg√≥cios que acionam essa l√≥gica.  Eles s√£o independentes e desconhecem completamente o n√≠vel do aplicativo. <br><br> <a href=""><img src="https://habrastorage.org/webt/sm/tl/z2/smtlz2wmhuiysntbvasfqotc7zs.png"></a> <br><br><a name="11"></a><h3>  Servi√ßos de Dom√≠nio </h3><br>  Como mencionei acima, o papel do servi√ßo de aplicativo: <br><br><ol><li>  use o reposit√≥rio para procurar uma ou mais entidades; </li><li>  pe√ßa a essas entidades que executem alguma l√≥gica de dom√≠nio; </li><li>  e use o armazenamento para salvar novamente entidades, salvando efetivamente altera√ß√µes de dados. </li></ol><br>  Mas, √†s vezes, encontramos uma l√≥gica de dom√≠nio, que inclui v√°rias entidades do mesmo ou de tipos diferentes, e essa l√≥gica de dom√≠nio n√£o pertence √†s pr√≥prias entidades, ou seja, a l√≥gica n√£o √© de sua responsabilidade direta. <br><br>  Portanto, nossa primeira rea√ß√£o pode ser colocar essa l√≥gica fora das entidades no servi√ßo de aplicativo.  No entanto, isso significa que, em outros casos, a l√≥gica do dom√≠nio n√£o ser√° reutilizada: a l√≥gica do dom√≠nio deve permanecer fora do n√≠vel do aplicativo! <br><br>  A solu√ß√£o √© criar um servi√ßo de dom√≠nio, cuja fun√ß√£o √© obter um conjunto de entidades e executar alguma l√≥gica de neg√≥cios nelas.  Um servi√ßo de dom√≠nio pertence a um n√≠vel de dom√≠nio e, portanto, n√£o sabe nada sobre classes no n√≠vel do aplicativo, como servi√ßos ou reposit√≥rios de aplicativos.  Por outro lado, ele pode usar outros servi√ßos de dom√≠nio e, √© claro, objetos de modelo de dom√≠nio. <br><br><a name="12"></a><h3>  Modelo de dom√≠nio </h3><br>  No centro, est√° o modelo de dom√≠nio.  N√£o depende de nada fora deste c√≠rculo e cont√©m objetos de neg√≥cios que representam algo no dom√≠nio.  Exemplos de tais objetos s√£o, antes de tudo, entidades, bem como objetos de valor, enumera√ß√µes e quaisquer objetos usados ‚Äã‚Äãno modelo de dom√≠nio. <br><br>  Eventos de dom√≠nio tamb√©m vivem no modelo de dom√≠nio.  Quando um conjunto de dados espec√≠fico √© alterado, esses eventos s√£o acionados, os quais cont√™m novos valores das propriedades alteradas.  Esses eventos s√£o ideais, por exemplo, para uso no m√≥dulo de fornecimento de eventos. <br><br><a name="13"></a><h1>  Componentes </h1><br>  At√© agora, temos c√≥digo isolado em camadas, mas isso √© um isolamento de c√≥digo muito detalhado.  √â igualmente importante olhar para a foto com uma apar√™ncia mais geral.  Estamos falando de dividir o c√≥digo em subdom√≠nios e <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">contextos relacionados,</a></b></i> de acordo com as id√©ias de Robert Martin expressas na <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arquitetura gritante</a></b></i> [isto √©, a arquitetura deve "gritar" sobre o pr√≥prio aplicativo, e n√£o sobre quais estruturas ele usa - aprox.  trans.].  Eles falam sobre a organiza√ß√£o de pacotes por fun√ß√£o ou componente, e n√£o por camada, e Simon Brown explicou muito bem em seu artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúPacotes de componentes e testes de acordo com a arquitetura‚Äù</a> em seu blog: <br><br> <a href=""><img src="https://habrastorage.org/webt/mf/n5/un/mfn5unjrsm8lmkufaoj55mfyqk0.png"></a> <br><br>  Sou um defensor da organiza√ß√£o de pacotes de componentes e quero alterar descaradamente o diagrama de Simon Brown da seguinte maneira: <br><br> <a href=""><img src="https://habrastorage.org/webt/xn/ng/nd/xnngndzw3fq5rcvzvitudp-kpns.png"></a> <br><br>  Essas se√ß√µes do c√≥digo s√£o transversais para todas as camadas descritas anteriormente e esses s√£o os <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">componentes de</a></b></i> nosso aplicativo.  Exemplos de componentes s√£o cobran√ßa, usu√°rio, verifica√ß√£o ou conta, mas eles sempre est√£o associados a um dom√≠nio.  Contextos limitados, como autoriza√ß√£o e / ou autentica√ß√£o, devem ser considerados como ferramentas externas para as quais criamos um adaptador e nos escondemos atr√°s de uma porta. <br><br> <a href=""><img src="https://habrastorage.org/webt/9v/kd/ou/9vkdouyaegscibkngn0ui0ltbko.png"></a> <br><br><a name="14"></a><h2>  Desconex√£o de componentes </h2><br>  Assim como nas unidades de c√≥digo refinadas (classes, interfaces, caracter√≠sticas, mixins, etc.), as unidades grandes (componentes) se beneficiam do acoplamento fraco e da conectividade r√≠gida. <br><br>  Para separar classes, usamos inje√ß√£o de depend√™ncia, introduzindo depend√™ncias na classe, em vez de cri√°-las dentro da classe, e tamb√©m invertendo as depend√™ncias, tornando a classe dependente de abstra√ß√µes (interfaces e / ou classes abstratas) em vez de classes espec√≠ficas.  Isso significa que a classe dependente n√£o sabe nada sobre a classe espec√≠fica que usar√°, n√£o possui uma refer√™ncia ao nome completo das classes das quais depende. <br><br>  Da mesma forma, em componentes completamente desconectados, cada componente n√£o sabe nada sobre nenhum outro componente.  Em outras palavras, ele n√£o tem link para nenhum bloco de c√≥digo refinado de outro componente, mesmo para a interface!  Isso significa que a inje√ß√£o de depend√™ncia e a invers√£o de depend√™ncia n√£o s√£o suficientes para separar os componentes; precisaremos de algum tipo de constru√ß√£o arquitet√¥nica.  Eventos, um n√∫cleo comum, consist√™ncia eventual e at√© um servi√ßo de descoberta podem ser necess√°rios! <br><br> <a href=""><img src="https://habrastorage.org/webt/wp/gk/2w/wpgk2wxy5fgyjtrwuzctapvv19y.png"></a> <br><br><a name="15"></a><h3>  Disparando a l√≥gica em outros componentes </h3><br>  Quando um de nossos componentes (componente B) precisa fazer algo sempre que algo acontece em outro componente (componente A), n√£o podemos apenas fazer uma chamada direta do componente A para a classe / m√©todo do componente B, porque ent√£o A ser√° conectado a B. <br><br>  No entanto, podemos usar o gerenciador de eventos para despachar o evento do aplicativo, que ser√° entregue a qualquer componente que o ou√ßa, incluindo B, e o ouvinte de evento em B acionar√° a a√ß√£o desejada.  Isso significa que o componente A depender√° do gerenciador de eventos, mas ser√° separado do componente B. <br><br>  No entanto, se o evento em si "vive" em A, isso significa que B conhece a exist√™ncia de A e est√° associado a ele.  Para remover essa depend√™ncia, podemos criar uma biblioteca com um conjunto de funcionalidades do n√∫cleo do aplicativo que ser√£o compartilhadas por todos os componentes - um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√∫cleo comum</a> .  Isso significa que os dois componentes depender√£o do n√∫cleo comum, mas ser√£o separados um do outro.  Um n√∫cleo comum cont√©m funcionalidades como eventos de aplicativo e dom√≠nio, mas tamb√©m pode conter objetos de especifica√ß√£o e qualquer coisa que fa√ßa sentido compartilhar.  Ao mesmo tempo, deve ter um tamanho m√≠nimo, pois qualquer altera√ß√£o no kernel comum afetar√° todos os componentes do aplicativo.  Al√©m disso, se tivermos um sistema poliglota, digamos, um ecossistema de microsservi√ßos em diferentes idiomas, o n√∫cleo comum n√£o deve depender do idioma para que todos os componentes o entendam.  Por exemplo, em vez de um kernel comum com uma classe de eventos, ele conter√° uma descri√ß√£o do evento (ou seja, um nome, propriedades, talvez at√© m√©todos, embora sejam mais √∫teis no objeto de especifica√ß√£o) em uma linguagem universal como JSON, para que todos os componentes / microsservi√ßos possam interpret√°-lo e talvez at√© gere automaticamente suas pr√≥prias implementa√ß√µes espec√≠ficas. <br><br>  Essa abordagem funciona em aplicativos monol√≠ticos e distribu√≠dos, como ecossistemas de microsservi√ßos.  Mas se os eventos puderem ser entregues apenas de forma ass√≠ncrona, essa abordagem n√£o ser√° suficiente para contextos em que a l√≥gica de acionamento em outros componentes deve funcionar imediatamente!  Aqui, o componente A precisar√° fazer uma chamada HTTP direta para o componente B. Nesse caso, para desconectar os componentes, precisamos de um servi√ßo de descoberta.  O componente A perguntar√° para onde enviar a solicita√ß√£o para iniciar a a√ß√£o desejada.  Como alternativa, fa√ßa uma solicita√ß√£o ao servi√ßo de descoberta, que o encaminhar√° para o servi√ßo apropriado e, finalmente, retornar√° uma resposta ao solicitante.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Essa abordagem associa componentes a um servi√ßo de descoberta, mas n√£o os associa. </font></font><br><br><a name="16"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recuperando dados de outros componentes </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A meu ver, o componente n√£o tem permiss√£o para modificar dados que n√£o s√£o "propriet√°rios", mas pode solicitar e usar qualquer dado. </font></font><br><br><a name="17"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Armazenamento de dados compartilhado para componentes </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se o componente precisar usar dados pertencentes a outro componente (por exemplo, o componente de cobran√ßa deve usar o nome do cliente que pertence ao componente de contas), ele conter√° o objeto de solicita√ß√£o para o armazenamento de dados. </font><font style="vertical-align: inherit;">Ou seja, o componente de cobran√ßa pode saber sobre qualquer conjunto de dados, mas deve usar dados somente leitura de outros pa√≠ses.</font></font><br><br><a name="18"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Armazenamento de dados separado para o componente </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse caso, o mesmo modelo √© aplicado, mas o n√≠vel de armazenamento de dados se torna mais complicado. </font><font style="vertical-align: inherit;">A presen√ßa de componentes com seu pr√≥prio data warehouse significa que cada data warehouse cont√©m:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Um conjunto de dados que um componente possui e pode mudar, tornando-o a √∫nica fonte de verdade; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um conjunto de dados que √© uma c√≥pia dos dados de outros componentes que n√£o podem ser alterados por si s√≥, mas s√£o necess√°rios para a funcionalidade do componente. </font><font style="vertical-align: inherit;">Esses dados devem ser atualizados sempre que forem alterados no componente propriet√°rio.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada componente criar√° uma c√≥pia local dos dados necess√°rios de outros componentes, que ser√£o usados ‚Äã‚Äãconforme necess√°rio. </font><font style="vertical-align: inherit;">Quando os dados s√£o alterados no componente ao qual pertencem, esse componente propriet√°rio aciona um evento de dom√≠nio que carrega altera√ß√µes de dados. </font><font style="vertical-align: inherit;">Os componentes que cont√™m uma c√≥pia desses dados ouvir√£o esse evento de dom√≠nio e atualizar√£o sua c√≥pia local de acordo.</font></font><br><br><a name="19"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Controle de fluxo </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como eu disse acima, o fluxo de controle vai do usu√°rio ao n√∫cleo do aplicativo, √†s ferramentas de infraestrutura, depois novamente ao n√∫cleo do aplicativo - e de volta ao usu√°rio. </font><font style="vertical-align: inherit;">Mas como exatamente as aulas funcionam juntas? </font><font style="vertical-align: inherit;">Quem depende de quem? </font><font style="vertical-align: inherit;">Como os compomos? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como o tio Bob, em meu artigo sobre arquitetura limpa, tentarei explicar o fluxo do gerenciamento de esquema UMLish ...</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sem barramento de comando / solicita√ß√£o </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se n√£o usarmos o barramento de comando, os controladores depender√£o do servi√ßo de aplicativo ou do objeto Query. </font></font><br><br> <sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Suplemento 18/11/2017] Ignorei completamente o DTO, que utilizo para retornar dados da solicita√ß√£o, ent√£o o adicionei agora. Agradecimentos a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MorphineAdministered</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicou</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> um espa√ßo.</font></font></sup> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No diagrama acima, usamos a interface para o servi√ßo de aplicativo, embora possamos dizer que ele n√£o √© realmente necess√°rio, pois o servi√ßo de aplicativo faz parte do nosso c√≥digo de aplicativo. Mas n√£o queremos alterar a implementa√ß√£o, embora possamos realizar uma refatora√ß√£o completa.</font></font><br> <a href=""><img src="https://habrastorage.org/webt/hg/ak/_p/hgak_pjjk5jb-5klihtccnlb7dy.png"></a> <br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O objeto Query cont√©m uma consulta otimizada que simplesmente retorna alguns dados brutos que ser√£o mostrados ao usu√°rio. Esses dados s√£o retornados ao DTO, incorporado no ViewModel. Esse ViewModel pode ter algum tipo de l√≥gica do View e ser√° usado para preencher o View. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por outro lado, o servi√ßo de aplicativo cont√©m l√≥gica de casos de uso que √© acionada quando queremos fazer algo no sistema e n√£o apenas exibir alguns dados. O servi√ßo de aplicativo depende de reposit√≥rios que retornam entidades que cont√™m a l√≥gica que precisa ser iniciada. Tamb√©m pode depender do servi√ßo de dom√≠nio para coordenar o processo de dom√≠nio entre v√°rias entidades, mas esse √© um caso raro.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de analisar o caso de uso, o servi√ßo de aplicativo pode notificar todo o sistema que ocorreu um caso de uso e depender√° do distribuidor de eventos para acionar o evento. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â interessante notar que hospedamos interfaces no mecanismo de persist√™ncia e nos reposit√≥rios. </font><font style="vertical-align: inherit;">Isso pode parecer redundante, mas eles servem a prop√≥sitos diferentes:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A interface Persistence √© uma camada de abstra√ß√£o sobre o ORM, para que possamos trocar o ORM sem alterar o n√∫cleo do aplicativo. </font></font></li><li>       persistence-. ,     MySQL  MongoDB.    persistence-    ,         ORM,       .   ,    ,      ,        ,       ,   ,    MongoDB  SQL. </li></ul><br><h2> C  / </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se nosso aplicativo usa o barramento de comando / solicita√ß√£o, o diagrama permanece quase o mesmo, exceto que o controlador agora depende do barramento, bem como de comandos ou solicita√ß√µes. Uma inst√¢ncia de um comando ou solicita√ß√£o √© criada aqui e passada para o barramento, que encontrar√° o manipulador apropriado para receber e processar o comando. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No diagrama abaixo, o manipulador de comandos usa o servi√ßo de aplicativo. Mas isso nem sempre √© necess√°rio, porque na maioria dos casos o manipulador conter√° toda a l√≥gica do caso de uso. Tudo o que precisamos fazer √© extrair a l√≥gica do manipulador para um servi√ßo de aplicativo separado, se precisarmos reutilizar a mesma l√≥gica em outro manipulador. </font></font><br><br> <sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Suplemento 18/11/2017] Ignorei completamente o DTO, que utilizo para retornar dados da solicita√ß√£o, ent√£o o adicionei agora. Obrigada</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MorphineAdministered</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicava</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> um espa√ßo. </font></font></sup> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ deve ter notado que n√£o h√° depend√™ncias entre o barramento, o comando, a solicita√ß√£o e os manipuladores. </font><font style="vertical-align: inherit;">De fato, eles n√£o precisam se conhecer para garantir uma boa separa√ß√£o. </font><font style="vertical-align: inherit;">O m√©todo de direcionar o barramento para um processador espec√≠fico para processar um comando ou solicita√ß√£o √© configurado em uma configura√ß√£o simples. </font><font style="vertical-align: inherit;">Nos dois casos, todas as setas - depend√™ncias que cruzam o limite do kernel do aplicativo - apontam para dentro. </font><font style="vertical-align: inherit;">Como explicado anteriormente, esta √© a regra fundamental da arquitetura de portas e adaptadores, cebola e limpeza.</font></font><br> <a href=""><img src="https://habrastorage.org/webt/dh/vh/c1/dhvhc1qxek9af6wc2ztmfqq4m4u.png"></a> <br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br> <a href=""><img src="https://habrastorage.org/webt/la/3y/qs/la3yqsseqajawy91dvvrzcgzuku.png"></a> <br><br><h1>  Conclus√£o </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como sempre, o objetivo √© obter uma base de c√≥digo desconectada com alta conectividade, na qual voc√™ pode fazer altera√ß√µes com facilidade, rapidez e seguran√ßa. </font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os planos s√£o in√∫teis, mas o planejamento √© tudo. </font><font style="vertical-align: inherit;">- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eisenhower</font></font></i> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este infogr√°fico √© um mapa conceitual. </font><font style="vertical-align: inherit;">Conhecer e entender todos esses conceitos ajuda a planejar uma arquitetura saud√°vel e um aplicativo vi√°vel. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No entanto:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um mapa n√£o √© um territ√≥rio. </font><font style="vertical-align: inherit;">- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alfred Korzybsky</font></font></i> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em outras palavras, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">essas s√£o apenas recomenda√ß√µes! </font><font style="vertical-align: inherit;">Um aplicativo √© um territ√≥rio, uma realidade, um caso de uso espec√≠fico em que precisamos aplicar nosso conhecimento e determina como ser√° a arquitetura real! </font></font></b> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Precisamos entender todos esses padr√µes, mas tamb√©m sempre precisamos pensar e entender o que nossa aplica√ß√£o precisa, at√© onde podemos ir em prol da separa√ß√£o e conex√£o. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essa decis√£o depende de muitos fatores, desde os requisitos funcionais do projeto, at√© o momento do desenvolvimento do aplicativo, sua vida √∫til, a experi√™ncia da equipe de desenvolvimento e assim por diante. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â assim que imagino tudo isso para mim. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essas id√©ias s√£o discutidas em mais detalhes no pr√≥ximo artigo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Mais do que apenas camadas conc√™ntricas"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt427739/">https://habr.com/ru/post/pt427739/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt427729/index.html">Como configurar o Firewall em um servidor com Zimbra?</a></li>
<li><a href="../pt427731/index.html">Linus Torvalds volta a funcionar ap√≥s o lan√ßamento da vers√£o 4.19 do kernel</a></li>
<li><a href="../pt427733/index.html">Cyberpunk 2000: Ferramentas de Cria√ß√£o de Deus Ex</a></li>
<li><a href="../pt427735/index.html">An√°lise do jogo de Classmates at Joker 2018</a></li>
<li><a href="../pt427737/index.html">Viagem √† Terra dos Gigantes: Revis√£o do ONYX BOOX Gulliver</a></li>
<li><a href="../pt427741/index.html">Gerador de c√≥digo para o Laravel - para entrada na OEA, para sa√≠da JSON-API</a></li>
<li><a href="../pt427743/index.html">Engra√ßado e estranho: reunimos consultas de pesquisa que gostamos</a></li>
<li><a href="../pt427745/index.html">Dicas e truques do Kubernetes: acesso aos sites de desenvolvimento</a></li>
<li><a href="../pt427747/index.html">Quem esmaga um carro n√£o tripulado: resultados do experimento da M√°quina Moral</a></li>
<li><a href="../pt427749/index.html">Apple e Samsung s√£o multadas pela primeira vez por desacelerar telefones antigos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>