<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ ๐ฉ๐พโ๐คโ๐จ๐ผ โ ููุญูุงุช ุฑุงุฆุนุฉ ุ ุงููุฌูุฏ. 2. ุงูููุงุฑุณุฉ ๐คน๐ฟ ๐ ๐ฏ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุง ููููู ูุฑุงุกุฉ ุงูููุงู ุงูุฃูู ูุน ูุธุฑูุฉ ููุฏุณุฉ ุงูููููุงุช. 


 ููู ูุฐุง ุงูุฌุฒุก ุ ุณูู ุฃุฎุจุฑู ุจุงููุดุงูู ุงูุชู ูุงุฌููุงูุง ุฃุซูุงุก ุฅูุดุงุก ุงูููููู ุงูุฅุถุงูู ูููู ุญุงูููุง ุญูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููุญูุงุช ุฑุงุฆุนุฉ ุ ุงููุฌูุฏ. 2. ุงูููุงุฑุณุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hh/blog/463611/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ููููู ูุฑุงุกุฉ ุงูููุงู ุงูุฃูู ูุน ูุธุฑูุฉ ููุฏุณุฉ ุงูููููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุฐุง ุงูุฌุฒุก ุ ุณูู ุฃุฎุจุฑู ุจุงููุดุงูู ุงูุชู ูุงุฌููุงูุง ุฃุซูุงุก ุฅูุดุงุก ุงูููููู ุงูุฅุถุงูู ูููู ุญุงูููุง ุญููุง. <br><img src="https://habrastorage.org/webt/db/cn/c-/dbcnc-m5gfz68a0hpvnt2qjdcgw.png" alt="ุตูุฑุฉ"></p><a name="habracut"></a><br><h1 id="o-chem-budu-govorit" style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ุณุฃุชุญุฏุซ ุนููุ </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฌุฒุก ุงูุนููู <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Multipage UI </li><li style=";text-align:right;direction:rtl">  DI ูู ุงูุฅุถุงูุงุช </li><li style=";text-align:right;direction:rtl">  ุชูููุฏ ุงูุดูุฑุฉ </li><li style=";text-align:right;direction:rtl">  ุชุนุฏูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ </li></ul></li><li style=";text-align:right;direction:rtl">  ูุงุฐุง ุชูุนู ุจุนุฏ ุฐููุ <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุตุงุฆุญ </li><li style=";text-align:right;direction:rtl">  ุงูุชุนูููุงุช </li></ul></li></ul><br><h2 id="mnogostranichnyy-ui" style=";text-align:right;direction:rtl">  Multipage UI </h2><br><p style=";text-align:right;direction:rtl">  ุฃูู ุดูุก ูุชุนูู ุนูููุง ุงูููุงู ุจู ูู ุฅูุดุงุก ูุงุฌูุฉ ูุณุชุฎุฏู ูุชุนุฏุฏุฉ ุงูุตูุญุงุช.  ููุฏ ุตูุนูุง ุฃูู ูููุฐุฌ ูุนูุฏ ูุน ูุฌููุนุฉ ูู ุงูุนูุงูุงุช ุ ูุญููู ุงูุฅุฏุฎุงู.  ุจุนุฏ ุฐูู ุจูููู ุ ูุฑุฑูุง ุฅุถุงูุฉ ุงููุฏุฑุฉ ุนูู ุชุญุฏูุฏ ูุงุฆูุฉ ุงููุญุฏุงุช ุงูููุทูุฉ ุงูุชู ูููู ูููุณุชุฎุฏู ุงูุงุชุตุงู ุจุงููุญุฏุฉ ุงูููุทูุฉ ุงูุฌุฏูุฏุฉ.  ููุฑูุฏ ุฃูุถูุง ุงุฎุชูุงุฑ ุงููุญุฏุงุช ุงูููุทูุฉ ููุชุทุจูู ุงูุชู ูุฎุทุท ููุง ูุชูุตูู ุงููุญุฏุฉ ุงูููุทูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง. </p><br><p style=";text-align:right;direction:rtl">  ูุฌูุฏ ุงูุนุฏูุฏ ูู ุนูุงุตุฑ ุงูุชุญูู ูู ูููุฐุฌ ูุงุญุฏ ููุณ ููุงุฆููุง ููุบุงูุฉ ุ ูุฐูู ูุงููุง ุจุฅูุดุงุก ุซูุงุซ ุตูุญุงุช ูููุตูุฉ ุ ูุซูุงุซุฉ ููุงุทุน ูููุตูุฉ ููููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท.  ุจุงุฎุชุตุงุฑ ุ ูุฑุจุน ุงูุญูุงุฑ ูุนุงูุฌ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hd/jw/wf/hdjwwfojlb6w7gj_sacdswi802g.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูููู ูุธุฑูุง ูุฃู ุฅูุดุงุก ูุงุฌูุฉ ูุณุชุฎุฏู ูุชุนุฏุฏุฉ ุงูุตูุญุงุช ูู ููููุงุช ุฅุถุงููุฉ ุฃูุฑ ูุคูู ููุบุงูุฉ ุ ููุฏ ุฃุฑุฏุช ุงูุนุซูุฑ ุนูู ุดูุก ุฌุงูุฒ.  ููู ุฃุญุดุงุก IDEA ุ ุงูุชุดููุง ูุฆุฉ ุชุณูู <em>WizardDialog</em> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tl/gr/6z/tlgr6ztp3yro6-yyyqyhjsd55ky.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูุฐู ูุฆุฉ ูุฌูุนุฉ ุนูู ูุฑุจุน ุญูุงุฑ ููุชุธู ุ ุชุฑุงูุจ ุจุดูู ูุณุชูู ุชูุฏู ุงููุณุชุฎุฏู ูู ุงููุนุงูุฌ ุ ูุชุธูุฑ ุงูุฃุฒุฑุงุฑ ุงููุงุฒูุฉ (ุงูุณุงุจูุฉ ุ ุงูุชุงููุฉ ุ ุงูููุงูุฉ ุ ุฅูุฎ).  <em>ูุชู</em> ุฅุฑูุงู <em>WizardModel</em> ุฎุงุต ุจู <em>WizardDialog</em> ุ ุญูุซ ุชุชู ุฅุถุงูุฉ WizardSteps ุงููุฑุฏูุฉ.  ูู <em>WizardStep</em> ูู ูููุฐุฌ ูููุตู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุจุณุท ุฃุดูุงูู ุ ูููู ุชูููุฐ ุงูุญูุงุฑ ููุง ููู: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">WizardDialog</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyWizardDialog</span></span></span></span>( model: MyWizardModel, <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> onFinishButtonClickedListener: (MyWizardModel) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> ): WizardDialog&lt;MyWizardModel&gt;(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, model) { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onWizardGoalAchieved</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onWizardGoalAchieved() onFinishButtonClickedListener.invoke(myModel) } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  <em>ุณูู ูุฑุซ</em> ูู ูุฆุฉ <em>WizardDialog</em> ุ ูู ุจุงููุนููุงุช ุจุงุณุชุฎุฏุงู ูุฆุฉ <em>WizardModel ุงูุฎุงุตุฉ</em> ุจูุง.  ุชุญุชูู ูุฐู ุงููุฆุฉ ุนูู ุฑุฏ ุงุชุตุงู ุฎุงุต ( <em>onWizardGoalAchieved</em> ) ุ ูุงูุฐู ูุฎุจุฑูุง ุฃู ุงููุณุชุฎุฏู ุงูุชูู ูู ุฎูุงู ุงููุนุงูุฌ ุฅูู ุงูููุงูุฉ ูุงููุฑ ุนูู ุฒุฑ "ุฅููุงุก". <br>  ูู ุงูููู ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูู ุฏุงุฎู ูุฐู ุงููุฆุฉ ุ ููุงู ูุฑุตุฉ ูููุตูู ุฅูู <em>WizardModel</em> ููุท.  ูุฐุง ูุนูู ุฃู ุฌููุน ุงูุจูุงูุงุช ุงูุชู <em>ุณูุฌูุนูุง</em> ุงููุณุชุฎุฏู ุฃุซูุงุก ูุฑูุฑ ุงููุนุงูุฌ ุ ูุฌุจ ุนููู ุฅุถุงูุชูุง ูู <em>WizardModel</em> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">WizardModel</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyWizardModel</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">WizardModel</span></span></span></span>(<span class="hljs-string"><span class="hljs-string">"Title for my wizard"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.add(MyWizardStep1()) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.add(MyWizardStep2()) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.add(MyWizardStep3()) } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุงููููุฐุฌ ูุงูุชุงูู: ูุฑุซ ูู ูุฆุฉ <em>WizardModel</em> ูุจุงุณุชุฎุฏุงู ุทุฑููุฉ <em>ุงูุฅุถุงูุฉ</em> <em>ุงููุฏูุฌุฉ</em> <em>ุฃุถู</em> <em>WizardSteps</em> ูููุตูุฉ ุฅูู ูุฑุจุน ุงูุญูุงุฑ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">WizardStep</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyWizardStep1</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">WizardStep</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MyWizardModel</span></span></span><span class="hljs-class">&gt;</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> contentPanel: JPanel <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(state: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">WizardNavigationState</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: JComponent { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> contentPanel } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  <em>WizardSteps</em> ุจุณูุทุฉ ุฃูุถูุง: ูุญู ูุฑุซ ูู ูุฆุฉ <em>WizardStep</em> ุ <em>ููุถุนูุง ูู</em> ุตู ูููุฐุฌูุง ุ ูุงูุฃูู ูู ุฐูู ุ ูุนูุฏ ุชุญุฏูุฏ ุทุฑููุฉ ุงูุฅุนุฏุงุฏ ุ ูุงูุชู ุชูุฑุฌุน ุงููููู ุงูุฌุฐุฑ ูููููุฐุฌ ุงููุณุชูุจูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุจุงุฑุงุช ุจุณูุทุฉ ุ ูุจุฏู ุญูุง ูุซู ูุฐุง.  ูููู ูู ุงูุนุงูู ุงููุงูุนู ุ ุนูู ุงูุฃุฑุฌุญ ุณูููู ุงููููุฐุฌ ุงูุฎุงุต ุจู ูุดุจู ุดูุก ูุซู ูุฐุง: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/as/6d/mc/as6dmcznqssdt7zwhdz7ndebuv8.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ููุง ููููู ุฃู ุชุชุฐูุฑ ุชูู ุงูุฃููุงุช ุงูุชู ูู ููู ูุนุฑู ูููุง ูู ุงูุนุงูู ุงูุฐู ูุนูู ุจูุธุงู Android ูุง ูู ุงูููุฏุณุฉ ุงููุธููุฉ ู MVP ููุชุจุช ูู ุงูููุฏ ูู ูุดุงุท ูุงุญุฏ.  ููุงู ูุฌุงู ุฌุฏูุฏ ูููุนุงุฑู ุงููุนูุงุฑูุฉ ุ ูุฅุฐุง ููุช ุชุฑุบุจ ูู ุงูุญุตูู ุนูู ุงูุฎูุท ุ ููููู ุชูููุฐ ุงููููู ุงูุฎุงุต ุจู ููููููุงุช ุงูุฅุถุงููุฉ. </p><br><h3 id="vyvod" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ูุงุฌูุฉ ูุณุชุฎุฏู ูุชุนุฏุฏุฉ ุงูุตูุญุงุช ุ ูุงุณุชุฎุฏู <em>WizardDialog</em> - ุณูููู ุงูุฃูุฑ ุฃุณูู. </p><br><p style=";text-align:right;direction:rtl">  ููุชูู ุฅูู ุงูููุถูุน ุงูุชุงูู - DI ูู ุงูุฅุถุงูุงุช. </p><br><h2 id="di-v-plaginah" style=";text-align:right;direction:rtl">  DI ูู ุงูุฅุถุงูุงุช </h2><br><p style=";text-align:right;direction:rtl">  ููุงุฐุง ูุฏ ุชููู ููุงู ุญุงุฌุฉ ุญูู ุงูุชุจุนูุฉ ุฏุงุฎู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏุ <br>  ุงูุณุจุจ ุงูุฃูู ูู ุชูุธูู ุงููููู ุฏุงุฎู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุ ููุงุฐุง ุนูููุง ูุงุญุธ ููุนุง ูู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ุฏุงุฎู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏุ  ุงูููููู ุงูุฅุถุงูู ูู ุดูุก ูููุฏ ุ ุจูุฌุฑุฏ ุฃู ูุชุจุช ุ ููุฐุง ูุง ูุณูุชู. <br>  ูุนู ููู ูุง. <br>  ุนูุฏูุง ูููู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ุงูุฎุงุต ุจู ุ ุนูุฏูุง ุชูุชุจ ุงููุซูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุฅู ูุณุฃูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูููุธูุฉ ุชูุดุฃ ูู ุชููุงุก ููุณูุง.  ููุง ูุฏ ูุฃุชู ูู ูุชูุงูู ุงููุฏูู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุณุจุจ ุงูุซุงูู ุงูุฃูุซุฑ ุฃูููุฉ - ุจูุณุงุนุฏุฉ DI ููููู ุงููุตูู ุฅูู ุงูููููุงุช ุงูุชู ูุชุจูุง ูุทูุฑู ุงูุฅุถุงูุงุช ุงูุฃุฎุฑู.  ูููู ุฃู ูููู ุงูุญุงููุงุช ุงูุญุฏุซ ุ ููุทุน ุงูุงุดุฌุงุฑ ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃูู ุญุฑ ูู ุงุณุชุฎุฏุงู ุฃู ุฅุทุงุฑ DI (Spring ุ Dagger ุ ุฅูุฎ) ุ ููุฌุฏ ุฏุงุฎู IntelliJ IDEA ุฅุทุงุฑ DI ุงูุฎุงุต ุจู ุ ูุงูุฐู ูุณุชูุฏ ุฅูู ุงููุณุชููุงุช ุงูุซูุงุซุฉ ุงูุฃููู ูู ุงูุชุฌุฑูุฏ ุ ูุงูุชู ุชุญุฏุซุช ุนููุง ุจุงููุนู: <em>ุงูุชุทุจูู</em> ุ <em>ุงููุดุฑูุน</em> <em>ูุงููุญุฏุฉ ุงูููุทูุฉ</em> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ix/kh/dk/ixkhdkerqkc0sapkdvgj5qsg_44.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูู ูุณุชูู ูู ูุฐู ุงููุณุชููุงุช ูู ุชุฌุฑูุฏ ุฎุงุต ุจู ูุณูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><em>ุงููููู</em></a> .  ูุชู ุฅูุดุงุก ูููู ุงููุณุชูู ุงููุทููุจ ููู ูุซูู ููุงุฆู ูุฐุง ุงููุณุชูู.  ูุฐูู ูุชู ุฅูุดุงุก <em>ApplicationComponent</em> ูุฑุฉ ูุงุญุฏุฉ ููู ูุซูู ููุฆุฉ <em>ุงูุชุทุจูู</em> ุ ุนูู ุบุฑุงุฑ ูุซููุงุช <em>ProjectComponent</em> for <em>Project</em> ุ ูููุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ูุฌุจ ุงูููุงู ุจู ูุงุณุชุฎุฏุงู ุฅุทุงุฑ ุนูู DIุ </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูู ุจุฅูุดุงุก ูุฆุฉ ุชููู ุจุชูููุฐ ุฃุญุฏ ููููุงุช ุงููุงุฌูุฉ ุงูุชู ูุญุชุงุฌูุง - ุนูู ุณุจูู ุงููุซุงู ุ ูุฆุฉ ุชููู ุจุชุทุจูู <em>ApplicationComponent</em> ุฃู <em>ProjectComponent</em> ุฃู <em>ModuleComponent</em> .  ูู ุงูููุช ููุณู ุ ูุฏููุง ูุฑุตุฉ ูุญู ูุงุฆู ูู ุงููุณุชูู ุงูุฐู ูููุฐ ูุงุฌูุฉ.  ููุฐุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู <em>ProjectComponent</em> ููููู ุญูู ูุงุฆู ูู ูุฆุฉ <em>Project</em> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅูุดุงุก ูุฆุงุช ุงููููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyAppComponent</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> application: Application, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> anotherApplicationComponent: AnotherAppComponent ): ApplicationComponent <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyProjectComponent</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> project: Project, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> anotherProjectComponent: AnotherProjectComponent, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> myAppComponent: MyAppComponent ): ProjectComponent <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyModuleComponent</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> module: Module, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> anotherModuleComponent: AnotherModuleComponent, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> myProjectComponent: MyProjectComponent, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> myAppComponent: MyAppComponent ): ModuleComponent</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุซุงููุงู ุ ูู ุงููููู ุญูู ููููุงุช ุฃุฎุฑู ูู ููุณ ุงููุณุชูู ุฃู ุฃุนูู.  ูุฐุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู <em>ProjectComponent</em> ููููู ุญูู <em>ProjectComponent</em> ุฃู <em>ApplicationComponent</em> ุงูุฃุฎุฑู.  ูุฐุง ูู ุงูููุงู ุงูุฐู ููููู ููู ุงููุตูู ุฅูู ูุซููุงุช ุงูููููุงุช "ุงูุบุฑูุจุฉ". </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุช ููุณู ุ ุชุถูู IDEA ุฃู ูุชู ุชุฌููุน ุงูุฑุณู ุงูุจูุงูู ุงูุชุจุนูุฉ ุจุงููุงูู ุจุดูู ุตุญูุญ ุ ุณูุชู ุฅูุดุงุก ุฌููุน ุงููุงุฆูุงุช ุจุงูุชุฑุชูุจ ุงูุตุญูุญ ูุชููุฆุฉ ุจุดูู ุตุญูุญ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุชุงูู ุงูุฐู ูุฌุจ ุนููู ูู ุชุณุฌูู ุงููููู ูู ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><em>plugin.xml</em></a> .  ุจูุฌุฑุฏ ุชูููุฐ ุฅุญุฏู ูุงุฌูุงุช ุงูููููุงุช (ุนูู ุณุจูู ุงููุซุงู ุ <em>ApplicationComponent</em> ) ุ ุณุชุนุฑุถ IDEA ุนูู ุงูููุฑ ุชุณุฌูู ุงููููู ุงูุฎุงุต ุจู ูู plugin.xml. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุณุฌู ุงููููู ูู plugin.xml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">idea-plugin</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project-components</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">interface-class</span></span></span><span class="hljs-tag">&gt;</span></span> com.experiment.MyProjectComponent <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">interface-class</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">implementation-class</span></span></span><span class="hljs-tag">&gt;</span></span> com.experiments.MyProjectComponentImpl <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">implementation-class</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project-components</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">idea-plugin</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููู ูุชู ุฐููุ  ุชุธูุฑ ุนูุงูุฉ <em>&lt;project-component&gt; ุฎุงุตุฉ</em> ( <em>&lt;application-component&gt;</em> ุ <em>&lt;module-component&gt;</em> - ุญุณุจ ุงููุณุชูู).  ุชูุฌุฏ ุนูุงูุฉ ุจุฏุงุฎููุง <em>ุ ููุง ุนูุงูุชุงู ุฃุฎุฑูุงู: <em>&lt;interface-class&gt;</em> ุ ุญูุซ ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ุงุณู ูุงุฌูุฉ ุงููููู ุงูุฎุงุต ุจู ุ ู <em>&lt;implementation-class&gt;</em> ุ ุญูุซ ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ูุฆุฉ ุงูุชูููุฐ.</em>  <em>ูููู ุฃู ุชููู ูุฆุฉ ูุงุญุฏุฉ ูููุณ ุงููุฆุฉ ุฅูุง ูุงุฌูุฉ ูููู ุฃู ุชูููุฐู ุ ุจุญูุซ ููููู ุงูููุงู ุจู ุจุงุณุชุฎุฏุงู ุนูุงูุฉ <em>&lt;implementation-class&gt; ูุงุญุฏุฉ</em> .</em> <br></p><p style=";text-align:right;direction:rtl">  ุขุฎุฑ ูุง ูุฌุจ ูุนูู ูู ุงูุญุตูู ุนูู ุงููููู ูู ุงููุงุฆู ุงูููุงุจู ุ ุฃู ุฃููุง ูุญุตู ุนูู <em>ApplicationComponent</em> ูู ูุซูู <em>ุงูุชุทุจูู</em> ุ <em>ProjectComponent</em> ูู <em>Project</em> ุ ุฅูุฎ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุญุตูู ุนูู ุงููููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> myAppComponent = application.getComponent(MyAppComponent::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">myProjectComponent</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">project</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getComponent</span></span></span></span>(MyProjectComponent::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">myModuleComponent</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">module</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getComponent</span></span></span></span>(MyModuleComponent::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">)</span></span></code> </pre> </div></div><br><h3 id="vyvody" style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงู ุฅุทุงุฑ DI ุฏุงุฎู IDEA - ูุง ุญุงุฌุฉ ูุณุญุจ ุฃู ุดูุก ุจููุฑุฏู: ูุง ุฎูุฌุฑ ููุง Spring.  ุนูู ุงูุฑุบู ูู ุ ุจุงูุทุจุน ุ ููููู ุฐูู. </li><li style=";text-align:right;direction:rtl">  ูุน ูุฐุง DI ุ ููููู ุงููุตูู ุฅูู ุงูููููุงุช ุงูุฌุงูุฒุฉ ุ ููุฐุง ูู ุงูุนุตูุฑ ููุณู. </li></ol><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ููุชูู ุฅูู ุงููููุฉ ุงูุซุงูุซุฉ - ุชูููุฏ ุงูููุฏ. </p><br><h2 id="generaciya-koda" style=";text-align:right;direction:rtl">  ุชูููุฏ ุงูุดูุฑุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุชุฐูุฑ ุ ูู ูุงุฆูุฉ ุงููุฑุงุฌุนุฉ ุ ูุงูุช ูุฏููุง ูููุฉ ุชูููุฏ ุงููุซูุฑ ูู ุงููููุงุชุ  ูู ูู ูุฑุฉ ูููู ุจุฅูุดุงุก ูุญุฏุฉ ููุทูุฉ ุฌุฏูุฏุฉ ุ ูููู ุจุฅูุดุงุก ูุฌููุนุฉ ูู ุงููููุงุช: ุงููุชูุงุนููู ุ ุงูุนุฑูุถ ุ ุงูุฃุฌุฒุงุก.  ุนูุฏ ุฅูุดุงุก ูุญุฏุฉ ููุทูุฉ ุฌุฏูุฏุฉ ุ ุชููู ูุฐู ุงูููููุงุช ูุชุดุงุจูุฉ ุฌุฏูุง ูุน ุจุนุถูุง ุงูุจุนุถ ุ ูุฃูุฏ ุฃู ุฃุชุนูู ููููุฉ ุฅูุดุงุก ูุฐุง ุงูุฅุทุงุฑ ุชููุงุฆููุง. </p><br><h3 id="shablony" style=";text-align:right;direction:rtl">  ููุงูุจ </h3><br><p style=";text-align:right;direction:rtl">  ูุง ูู ุฃุณูู ุทุฑููุฉ ูุชูููุฏ ุงููุซูุฑ ูู ุงูุฑููุฒ ุงููุดุงุจูุฉุ  ุงุณุชุฎุฏุงู ุงูุฃููุงุท.  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุฅููุงุก ูุธุฑุฉ ุนูู ุงูููุงูุจ ุงูุฎุงุตุฉ ุจู ูููู ุงููุชุทูุจุงุช ุงูุชู ูุชู ุชูุฏูููุง ุฅูู ููุดุฆ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฌุฒุก ูู ูุงูุจ ููู build.gradle</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">'com.android.library'</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isKotlinProject) { apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-android'</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-kapt'</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isModuleWithUI) { apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-android-extensions'</span></span> }&gt; }&gt; ... android { ... &lt;<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isMoxyEnabled) { kapt { arguments { arg(<span class="hljs-string"><span class="hljs-string">"moxyReflectorPackage"</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;include var="packageName"&gt;'</span></span>) } } }&gt; ... } ... dependencies { <span class="hljs-function"><span class="hljs-function">compileOnly </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">project</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">':common'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> compileOnly </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">project</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">':core-utils'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> &lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(moduleName in enabledModules)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-function">compileOnly </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">project</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'&lt;include var="moduleName"&gt;'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> }&gt; ... }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุฃููุงู: ุฃุฑุฏูุง ุฃู ูููู ูุงุฏุฑูู ุนูู ุงุณุชุฎุฏุงู ุงูุธุฑูู ุฏุงุฎู ูุฐู ุงูุฃููุงุท.  ุฃุนุทู ูุซุงููุง: ุฅุฐุง ูุงู ุงูููููู ุงูุฅุถุงูู ูุฑุชุจุทูุง ุจุทุฑููุฉ ูุง ุจู UI ุ ููุญู ูุฑูุฏ ุชูุตูู ุฅุถุงูุงุช Gradle-plugin <em>kotlin-android ุงูุฎุงุตุฉ</em> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุญุงูุฉ ุฏุงุฎู ุงููุงูุจ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs">&lt;<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isKotlinProject) { apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-android'</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-kapt'</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isModuleWithUI) { apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-android-extensions'</span></span> }&gt; }&gt;</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุซุงูู ุงูุฐู ูุฑูุฏู ูู ุงููุฏุฑุฉ ุนูู ุงุณุชุฎุฏุงู ูุชุบูุฑ ุฏุงุฎู ูุฐุง ุงููุงูุจ.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ูููู ุจุชูููู kapt ูู Moxy ุ ูุฑูุฏ ุฅุฏุฑุงุฌ ุงุณู ุงูุญุฒูุฉ ููุณูุทุฉ ููุนุงูุฌ ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงุณุชุจุฏู ูููุฉ ุงููุชุบูุฑ ุฏุงุฎู ุงููุงูุจ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs">kapt { arguments { arg(<span class="hljs-string"><span class="hljs-string">"moxyReflectorPackage"</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;include var="packageName"&gt;'</span></span>) } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุดูุก ุขุฎุฑ ูุญุชุงุฌู ูู ุงููุฏุฑุฉ ุนูู ุงูุชุนุงูู ูุน ุงูุญููุงุช ุฏุงุฎู ุงููุงูุจ.  ุชุฐูุฑ ุงููููุฐุฌ ุงูุฐู ุญุฏุฏูุง ููู ูุงุฆูุฉ ุงููุญุฏุงุช ุงูุชู ูุฑูุฏ ุชูุตูููุง ุจุงููุญุฏุฉ ุงูุฌุฏูุฏุฉ ุงูุชู ูุชู ุฅูุดุงุคูุงุ  ูุฑูุฏ ุงูุงูุชูุงู ุญูููู ูู ุญููุฉ ูุฅุถุงูุฉ ููุณ ุงูุณุทุฑ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงุณุชุฎุฏู ุงูุญููุฉ ูู ุงููุงูุจ.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs">&lt;<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (moduleName in enabledModules) { <span class="hljs-function"><span class="hljs-function">compileOnly </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">project</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'&lt;include var="moduleName"&gt;'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> }&gt;</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ุทุฑุญูุง ุซูุงุซุฉ ุดุฑูุท ููููุฏ ุงูุดูุฑุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญู ูุฑูุฏ ุงุณุชุฎุฏุงู ุงูุดุฑูุท </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุงุณุชุจุฏุงู ุงูููู ุงููุชุบูุฑุฉ </li><li style=";text-align:right;direction:rtl">  ูุญู ุจุญุงุฌุฉ ุฅูู ุญููุงุช ูู ุงูุฃููุงุท </li></ul><br><h3 id="generatory-koda" style=";text-align:right;direction:rtl">  ูููุฏุงุช ุงูุดูุฑุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุง ูู ุงูุฎูุงุฑุงุช ูุชุทุจูู ูููุฏ ุงูุดูุฑุฉุ  ููููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชุงุจุฉ ูููุฏ ุงูุดูุฑุฉ ุงูุฎุงุต ุจู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุงู ุงูุฑุฌุงู ูู ุฃูุจุฑ ุจูุฐุง: ููุฏ ูุชุจูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููููุง ุฅุถุงูููุง ูุชูููุฏ ูุตุงุตุงุช</a> (ูุง ูุณูู ุจุงููุญุฏุงุช ุงููุนูุงุฑูุฉ).  ููุฏ ุชูุตููุง ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุบุฉ ุงููููุฐุฌ ุงูุฎุงุตุฉ ุจูู</a> ุ ูุงูุชู ุงุณุชุฎุฏููุง ูููุง ููุท ุงููุฏุฑุฉ ุนูู ุฅุฏุฑุงุฌ ุงููุชุบูุฑุงุช.  ุฃุญุถุฑูุง ุงูุธุฑูู ุฅูู <a href="">ูุณุชูู ุงููููุฏ</a> .  ููููุง ุงุนุชูุฏูุง ุฃููุง ูู ููุนู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุงูุซุงูู ูู ุงุณุชุฎุฏุงู ูุฆุฉ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ FileTemplateManager ุงููุถููุฉ ูู IDEA ุ ููููู ูุง ุฃูุตู ุจุฐูู.  ูุฃูู ูุฏูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณุฑุนุฉ</a> ููุญุฑู ุ ูุงูุฐู ูุฏูู ุจุนุถ ุงููุดุงูู ูู ุฅุนุงุฏุฉ ุชูุฌูู ูุงุฆูุงุช Java ุฅูู ุงูููุงูุจ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ูููู ูู <em>FileTemplateManager</em> ุฅูุดุงุก ูููุงุช ุบูุฑ Java ุฃู XML ูู ุงููุฑุจุน.  ููุญุชุงุฌ ุฅูู ุฅูุดุงุก ูููุงุช Groovy ู Kotlin ู Proguard ูุฃููุงุน ุฃุฎุฑู ูู ุงููููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูุงู ุงูุฎูุงุฑ ุงูุซุงูุซ ... <em>FreeMarker</em> .  ุฅุฐุง ูุงู ูุฏูู ููุงูุจ <em>FreeMarker</em> ุฌุงูุฒุฉ ุ ููุง ุชุชุนุฌู ูู ุงูุชุฎูุต ูููุง - ููุฏ ุชููู ูููุฏุฉ ูู ุฏุงุฎู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ูุฌุจ ุงูููุงู ุจู ุ ููุงุฐุง ูุฌุจ ุงุณุชุฎุฏุงู <em>FreeMarker</em> ุฏุงุฎู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏุ  ุฃููุงู ุ ูู ุจุฅุถุงูุฉ ููุงูุจ ุงููููุงุช.  ููููู ุฅูุดุงุก ูุฌูุฏ <em>/ templates</em> ุฏุงุฎู ุงููุฌูุฏ <em>/ resources</em> ูุฅุถุงูุฉ ุฌููุน ุงูููุงูุจ ุงูุฎุงุตุฉ ุจูุง ุฅูู ููุงู ูุฌููุน ุงููููุงุช - ุงูุนุฑูุถ ุงูุชูุฏูููุฉ ุ ุงูุฃุฌุฒุงุก ุ ุฅูุฎ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gk/ww/fe/gkwwfelyl443hdze6vd6a99ecmw.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุชุจุนูุฉ ุฅูู ููุชุจุฉ FreeMarker.  ูุธุฑูุง ูุฃู ุงูููููู ุงูุฅุถุงูู ูุณุชุฎุฏู Gradle ุ ูุฅู ุฅุถุงูุฉ ุชุจุนูุฉ ูุงุถุญุฉ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุถุงูุฉ ุชุจุนูุฉ ุนูู ููุชุจุฉ FreeMarker</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs">dependencies { ... compile <span class="hljs-string"><span class="hljs-string">'org.freemarker:freemarker:2.3.28'</span></span> }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูู ุจุชูููู FreeMarker ุฏุงุฎู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ูุฏููุง.  ุฃูุตุญู ุจุจุณุงุทุฉ ุจูุณุฎ ูุฐุง ุงูุชูููู ููุง - ูุชู ุชุนุฐูุจู ูุชุนุฑุถู ููุณุฎู ููู ุดูุก ูุนูู ููุท. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูููู FreeMarker</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TemplatesFactory</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> project: Project) : ProjectComponent { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> freeMarkerConfig <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> lazy { Configuration(Configuration.VERSION_2_3_28).apply { setClassForTemplateLoading( TemplatesFactory::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">"/templates" ) defaultEncoding = Charsets.UTF_8.name</span></span></span></span>() templateExceptionHandler = TemplateExceptionHandler.RETHROW_HANDLER logTemplateExceptions = <span class="hljs-literal"><span class="hljs-literal">false</span></span> wrapUncheckedExceptions = <span class="hljs-literal"><span class="hljs-literal">true</span></span> } } ...</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุญุงู ุงูููุช ูุฅูุดุงุก ูููุงุช ุจุงุณุชุฎุฏุงู <em>FreeMarker</em> .  ููููุงู ุจุฐูู ุ ูุญุตู ุนูู ูุงูุจ ูู ุงูุชูููู ุจุงุณูู ูุจุงุณุชุฎุฏุงู <em>FileWriter</em> ููุชุธู ุฅูุดุงุก ููู ูุน ุงููุต ุงููุทููุจ ูุจุงุดุฑุฉ ุนูู ุงููุฑุต. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅูุดุงุก ููู ูู ุฎูุงู FileWriter</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TemplatesFactory</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> project: Project) : ProjectComponent { ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pathToFile: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, templateFileName: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">data</span></span></span></span><span class="hljs-function"><span class="hljs-params">: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Map</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Any&gt; )</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> template = freeMarkerConfig.getTemplate(templateFileName) FileWriter(pathToFile, <span class="hljs-literal"><span class="hljs-literal">false</span></span>).use { writer -&gt; template.process(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>, writer) } } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููุจุฏู ุฃู ุงููููุฉ ูุฏ ุชู ุญููุง ุ ููู ูุง.  ูู ุงูุฌุฒุก ุงููุธุฑู ุ ุฐูุฑุช ุฃู IDEA ุจุฃูููู ูุชุฎูููุง ูููู PSI ุ ููุฌุจ ุฃุฎุฐ ุฐูู ูู ุงูุงุนุชุจุงุฑ.  ุฅุฐุง ููุช ุจุฅูุดุงุก ูููุงุช ุชุชุฌุงูุฒ ุจููุฉ PSI (ุนูู ุณุจูู ุงููุซุงู ุ ูู ุฎูุงู FileWriter) ุ ููู ุชููู IDEA ุฃูู ูุฏ ุฃูุดุฃุช ุดูุฆูุง ููู ุชุนุฑุถ ุงููููุงุช ูู ุดุฌุฑุฉ ุงููุดุฑูุน.  ุงูุชุธุฑูุง ุญูุงูู ุณุจุน ุฏูุงุฆู ูุจู ููุฑุณุฉ IDEA ูุฑุฃููุง ุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ - ุงูุนููุง ุจุดูู ุตุญูุญ ุ ุฃูุดุฆ ูููุงุช ุ ูุน ูุฑุงุนุงุฉ ูููู PSI. </p><br><h3 id="sozdaem-psi-strukturu-dlya-faylov" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูููู PSI ูููููุงุช </h3><br><p style=";text-align:right;direction:rtl">  ููุจุฏุก ุ <a href="">ุฏุนููุง ูุฑู</a> ุจููุฉ ุงููุฌูุฏ ุจุงุณุชุฎุฏุงู <a href="">PsiDirectory</a> .  ูููู ุงูุญุตูู ุนูู ุฏููู ุงูุจุฏุก ูููุดุฑูุน ุจุงุณุชุฎุฏุงู ูุธุงุฆู ุงูุชูุฏูุฏ <em>guessProjectDir</em> ู <em>toPsiDirectory</em> : </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุญุตูู ุนูู ูุดุฑูุน PsiDirectory</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> projectPsiDirectory = project.guessProjectDir()?.toPsiDirectory(project)</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูููู ุงูุนุซูุฑ ุนูู <em>ุงูุฏูุงุฆู</em> <em>ุงููุงุญูุฉ</em> ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ูุฆุฉ <em>PsiDirectory</em> <em>findSubdirectory</em> ุ ุฃู ูุชู ุฅูุดุงุคูุง ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <em>createSubdirectory</em> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุจุญุซ ูุฅูุดุงุก PsiDirectory</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> coreModuleDir = projectPsiDirectory.findSubdirectory(<span class="hljs-string"><span class="hljs-string">"core"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newModulePsiDir = coreModuleDir.createSubdirectory(config.mainParams.moduleName)</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุฃูุตู ุฃูุถูุง ุจุฅูุดุงุก <em>ุฎุฑูุทุฉ</em> ููููู ูู ุฎูุงููุง ุงูุญุตูู ุนูู ุฌููุน ููุงูู ูุฌูุฏ <em>PsiDirectory</em> ุจุงุณุชุฎุฏุงู ููุชุงุญ ุณูุณูุฉ ุ ุซู ุฅุถุงูุฉ ุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุฅูู ุฃู ูู ูุฐู ุงููุฌูุฏุงุช. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅูุดุงุก ุฎุฑูุทุฉ ุจููุฉ ุงููุฌูุฏ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฅุฑุฌุงุน mutableMapOf &lt;Stringุ PsiDirectoryุ&gt; (). Apply { <br>  ูุฐุง ["ุงูุฌุฐุฑ"] = modulePsiDir <br>  ูุฐุง ["src"] = modulePsiDir.createSubdirectory ("src") <br>  ูุฐุง ["main"] = ูุฐุง ["src"]ุ. createSubdirectory ("main") <br>  ูุฐุง ["java"] = ูุฐุง ["main"]ุ. createSubdirectory ("java") <br>  ูุฐุง ["res"] = ูุฐุง ["main"]ุ. createSubdirectory ("res") </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//   PsiDirectory   package name: // ru.hh.feature_worknear โ ru / hh / feature_worknear createPackageNameFolder(config) // data this["data"] = this["package"]?.createSubdirectory("data") // ...</code> </pre> <br><p style=";text-align:right;direction:rtl">  } </p></div></div><br><p style=";text-align:right;direction:rtl">  ุงููุฌูุฏุงุช ุงูุชู ุชู ุฅูุดุงุคูุง.  ุณูููู ุจุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PsiFiles</a> ุจุงุณุชุฎุฏุงู <a href="">PsiFileFactory</a> .  ูุฐู ุงููุฆุฉ ููุง ุทุฑููุฉ ุฎุงุตุฉ ุชุณูู <em>createFileFromText</em> .  ุชูุจู ุงูุทุฑููุฉ ุซูุงุซุฉ ูุนููุงุช ููุฏุฎูุงุช: ุงูุงุณู (String fileName) ูุงููุต (String text) ูุงูุชุจ (FileType fileType) ูููู ุงูุฅุฎุฑุงุฌ.  ุงุซููู ูู ุงููุนููุงุช ุงูุซูุงุซุฉ ูุงุถุญุฉ ุญูุซ ูููู ุงูุญุตูู ุนูููุง: ูุญู ูุนุฑู ุงูุงุณู ุจุฃููุณูุง ุ ูุญุตู ุนูู ุงููุต ูู FreeMarker.  ูุฃูู ูููู ุงูุญุตูู ุนูู <em>FileType</em> ุ  ููุง ูู ูู ุดูุกุ </p><br><h3 id="filetype" style=";text-align:right;direction:rtl">  ููุน ุงูููู </h3><br><p style=";text-align:right;direction:rtl">  <a href=""><em>FileType</em></a> ูู ูุฆุฉ ุฎุงุตุฉ ุชุฏู ุนูู ููุน ุงูููู.  ูุชููุฑ ูููุงู ููุท ููุง ูู "ุงููุฑุจุน": JavaFileType ู XmlFileType ุ ุนูู ุงูุชูุงูู ููููุงุช Java ููููุงุช XML.  ูููู ุงูุณุคุงู ุงูุฐู ูุทุฑุญ ููุณู ูู: ุฃูู ูููู ุงูุญุตูู ุนูู ุฃููุงุน ููู <em>build.gradle</em> ุ ููููุงุช <em>Kotlin</em> ุ ู <em>Proguard</em> ุ ู <em>.gitignore</em> ุ ุฃุฎูุฑูุง ุ! </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูููู ุฃุฎุฐ ูุนุธู <em>ุฃููุงุน FileType</em> ูุฐู ูู ููููุงุช ุฅุถุงููุฉ ุฃุฎุฑู ููุชูุจุฉ ุจุงููุนู ูู ูุจู ุดุฎุต ูุง.  ูููู ุงูุญุตูู ุนูู GroovyFileType ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ Groovy</a> ุ KotlinFileType ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ Kotlin</a> ุ Proguard ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ Android</a> . </p><br><p style=";text-align:right;direction:rtl">  ููู ูุถูู ุชุจุนูุฉ ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ูุขุฎุฑ ูุฏููุงุ  ูุญู ูุณุชุฎุฏู <em>gradle-intellij-plugin</em> .  ููุถูู ูุชูุฉ intellij ุฎุงุตุฉ ุฅูู ููู build.gradle ุงูุฎุงุต ุจุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ุ ููุฌุฏ ุจุฏุงุฎูู ุฎุงุตูุฉ ุฅุถุงููุฉ - <em>ุงูุฅุถุงูุงุช</em> .  ูู ูุฐู ุงูุฎุงุตูุฉ ุ ููููู ุณุฑุฏ ูุงุฆูุฉ ูุนุฑูุงุช ุงูููููุงุช ุงูุฅุถุงููุฉ ุงูุชู ูุฑูุฏ ุงูุงุนุชูุงุฏ ุนูููุง. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุถุงูุฉ ุงูุชุจุนูุงุช ุนูู ุงูุฅุถุงูุงุช ุงูุฃุฎุฑู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// build.gradle  intellij { โฆ plugins = ['android', 'Groovy', 'kotlin'] }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุฃุฎุฐ ุงูููุงุชูุญ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุฏุน ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ</a> ุงูุฑุณูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">JetBrains</a> .  ุจุงููุณุจุฉ ุฅูู ุงูููููุงุช ุงูุฅุถุงููุฉ ุงููุถูููุฉ ูู IDEA (ููู Groovy ู Kotlin ู Android) ุ ูููู ุงุณู ูุฌูุฏ ุงููููู ุงูุฅุถุงูู ุฏุงุฎู IDEA ูุงูู.  ุจุงููุณุจุฉ ููุจุงูู ุ ุชุญุชุงุฌ ุฅูู ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ูููู ุฅุถุงูู ูุนูู ูู ูุณุชูุฏุน <em>ุงูููููุงุช ุงูุฅุถุงููุฉ</em> ุงูุฑุณูู ูู JetBrains ุ ูุณูุชู ุงูุฅุดุงุฑุฉ ุฅูู ุฎุงุตูุฉ <em>ูุนุฑู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ XML</em> ููุงู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฅุตุฏุงุฑ (ุนูู ุณุจูู ุงููุซุงู ุ ููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุญุฉ ูููู ุงูุฅุถุงูุฉ Docker</a> ).  ุงูุฑุฃ ุงููุฒูุฏ ุญูู ุชูุตูู ุงูููููุงุช ุงูุฅุถุงููุฉ ุงูุฃุฎุฑู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู GitHub</a> . </p><br><p style=";text-align:right;direction:rtl">  ุซุงููุงู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ูุตู ุชุจุนูุฉ ุฅูู ููู <em>plugin.xml</em> .  ูุชู ุฐูู ุจุงุณุชุฎุฏุงู ุงูุนูุงูุฉ <em>.</em> <br></p><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุญู ูุฑุจุท ุงูููููุงุช ุงูุฅุถุงููุฉ ูู plugin.xml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">idea-plugin</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">depends</span></span></span><span class="hljs-tag">&gt;</span></span>org.jetbrains.android<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">depends</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">depends</span></span></span><span class="hljs-tag">&gt;</span></span>org.jetbrains.kotlin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">depends</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">depends</span></span></span><span class="hljs-tag">&gt;</span></span>org.intellij.groovy<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">depends</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">idea-plugin</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ูุฒุงููุฉ ุงููุดุฑูุน ุ ุณูููู ุจุชุดุฏูุฏ ุงูุชุจุนูุงุช ูู ุงูููููุงุช ุงูุฅุถุงููุฉ ุงูุฃุฎุฑู ุ ูุณูููู ูุงุฏุฑูู ุนูู ุงุณุชุฎุฏุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูู ููุง ูุง ูุฑูุฏ ุงูุงุนุชูุงุฏ ุนูู ุงูุฅุถุงูุงุช ุงูุฃุฎุฑูุ  ูู ูุฐู ุงูุญุงูุฉ ุ ูููููุง ุฅูุดุงุก ูุนุจ ูุตูุฑ ูููุน ุงูููู ุงูุฐู ูุญุชุงุฌู.  ููููุงู ุจุฐูู ุ ูู ุฃููุงู ุจุฅูุดุงุก ูุตู ุณูุฑุซ ูู ูุตู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><em>ุงููุบุฉ</em></a> .  ุณูุชู ุชูุฑูุฑ ุงููุนุฑู ุงููุฑูุฏ ููุบุฉ ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจูุง ุฅูู ูุฐู ุงููุฆุฉ (ูู ุญุงูุชูุง - <strong>"ru.hh.plugins.Ignore"</strong> ). </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅูุดุงุก ูุบุฉ ููููุงุช GitIgnore</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IgnoreLanguage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">private</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>() : Language(<span class="hljs-string"><span class="hljs-string">"ru.hh.plugins.Ignore"</span></span>, <span class="hljs-string"><span class="hljs-string">"ignore"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>), InjectableLanguage { <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> INSTANCE = IgnoreLanguage() } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDisplayName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Ignore() (</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">)"</span></span> } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููุงู ููุฒุฉ ููุง: ูููู ุจุนุถ ุงููุทูุฑูู ุจุฅุถุงูุฉ ุณุทุฑ ุบูุฑ ูุฑูุฏ ููุนุฑู.  ููุฐุง ุงูุณุจุจ ุ ูุฏ ูููุทุน ุชูุงูู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ุงูุฎุงุต ุจู ูุน ุงูููููุงุช ุงูุฅุถุงููุฉ ุงูุฃุฎุฑู.  ูุญู ุฑุงุฆุนูู ุ ูุฏููุง ุฎุท ูุฑูุฏ ูู ููุนู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุชุงูู ุงูุฐู ูุฌุจ ูุนูู ุจุนุฏ ุฃู ุฃูุดุฃูุง <em>Language</em> ูู ุฅูุดุงุก <em>FileType</em> .  ูุฑุซ ูู ูุฆุฉ <em>LanguageFileType</em> ุ ููุณุชุฎุฏู ูุซูู ุงููุบุฉ ุงูุฐู ุญุฏุฏูุงู ูุชููุฆุฉ ุจุนุถ ุงูุฃุณุงููุจ ุงูุจุณูุทุฉ ููุบุงูุฉ ูุชุฌุงูุฒูุง.  ุงูููุงู ุจู.  ุงูุขู ูููููุง ุงุณุชุฎุฏุงู <em>FileType</em> ุงูุฐู ุชู ุฅูุดุงุคู ุญุฏูุซูุง. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูู ุจุฅูุดุงุก FileType ุงูุฎุงุต ุจู ูู .gitignore</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IgnoreFileType</span></span></span></span>(language: Language) : LanguageFileType(language) { <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> INSTANCE = IgnoreFileType(IgnoreLanguage.INSTANCE) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String = <span class="hljs-string"><span class="hljs-string">"gitignore file"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String = <span class="hljs-string"><span class="hljs-string">"gitignore files"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDefaultExtension</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String = <span class="hljs-string"><span class="hljs-string">"gitignore"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getIcon</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Icon? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> }</code> </pre></div></div><br><h3 id="zavershaem-sozdanie-fayla" style=";text-align:right;direction:rtl">  ุงูุงูุชูุงุก ูู ุฅูุดุงุก ุงูููู </h3><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุนุซูุฑ ุนูู ุฌููุน <em>ุฃููุงุน FileType</em> ุงูุถุฑูุฑูุฉ ุ ุฃูุตู ุจุฅูุดุงุก ุญุงููุฉ ุฎุงุตุฉ ุชุณูู <em>TemplateData</em> - ูุณูู ุชุญุชูู ุนูู ุฌููุน ุงูุจูุงูุงุช ุงููุชุนููุฉ ุจุงููุงูุจ ุงูุฐู ุชุฑูุฏ ุฅูุดุงุก ุชุนูููุฉ ุจุฑูุฌูุฉ ููู.  ุณูู ูุญุชูู ุนูู ุงุณู ููู ุงููุงูุจ ุ ูุงุณู ููู <em>ุงูุฅุฎุฑุงุฌ</em> ุงูุฐู ุชุญุตู ุนููู ุจุนุฏ ุฅูุดุงุก ุงูุฑูุฒ ุ ู <em>FileType</em> ุงููุทููุจ <em>ุ</em> ูุฃุฎูุฑุงู <em>PsiDirectory</em> ุ ุญูุซ ุชุถูู ุงูููู ุงูุฐู ุชู ุฅูุดุงุคู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">TemplateData</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TemplateData</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> templateFileName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outputFileName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outputFileType: FileType, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outputFilePsiDirectory: PsiDirectory? )</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุซู ูุนูุฏ ุฅูู <em>FreeMarker</em> - ูุญุตู ุนูู ููู ุงููุงูุจ ููู ุ ุจุงุณุชุฎุฏุงู <em>StringWriter</em> ูุญุตู ุนูู ุงููุต ุ ูู <em>PsiFileFactory ูููู</em> ุจุฅูุดุงุก <em>PsiFile</em> ูุน ุงููุต ุงููุทููุจ ูุงูููุน.  ุชุชู ุฅุถุงูุฉ ุงูููู ุงูุฐู ุชู ุฅูุดุงุคู ุฅูู ุงูุฏููู ุงููุทููุจ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅูุดุงุก PsiFile ูู ุงููุฌูุฏ ุงููุทููุจ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createFromTemplate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">data</span></span></span></span><span class="hljs-function"><span class="hljs-params">: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">FileTemplateData</span></span></span></span><span class="hljs-function"><span class="hljs-params">, properties: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Map</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Any&gt;)</span></span></span></span>: PsiFile { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> template = freeMarkerConfig.getTemplate(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>.templateFileName) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> text = StringWriter().use { writer -&gt; template.process(properties, writer) writer.buffer.toString() } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> psiFileFactory.createFileFromText(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>.outputFileName, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>.outputFileType, text) }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูุชู ุฃุฎุฐ ูููู PSI ูู ุงูุงุนุชุจุงุฑ ุ ูุณูู ุชุฑู IDEA ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูููููุงุช ุงูุฅุถุงููุฉ ุงูุฃุฎุฑู ุ ูุง ุงูุฐู ูููุง ุจู.  ูููู ุฃู ูููู ููุงู ุฑุจุญ ูู ูุฐุง: ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุฑุฃู ุงููููู ุงูุฅุถุงูู ูู Git ุฃูู ุฃุถูุช ููููุง ุฌุฏูุฏูุง ุ ูุณูุนุฑุถ ูุฑุจุน ุญูุงุฑ ุชููุงุฆููุง ูุณุฃูู ุนูุง ุฅุฐุง ููุช ุชุฑูุฏ ุฅุถุงูุฉ ูุฐู ุงููููุงุช ุฅูู Gitุ </p><br><h3 id="vyvody-pro-generaciyu-koda" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌุงุช ุชูููุฏ ุงูุดูุฑุฉ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุฅูุดุงุก ูููุงุช ูุตูุฉ ุจูุงุณุทุฉ FreeMarker.  ูุฑูุญ ุฌุฏุง </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุฅูุดุงุก ุงููููุงุช ุ ุชุญุชุงุฌ ุฅูู ูุฑุงุนุงุฉ ุจููุฉ PSI ุ ูุฅูุง ูุณูุญุฏุซ ูู ุดูุก ุฎุทุฃ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฅูุดุงุก ูููุงุช ุจุงุณุชุฎุฏุงู PsiFileFactory ุ ูุณูุชุนูู ุนููู ุงูุนุซูุฑ ุนูู FileType ูู ููุงู ูุง. </li></ul><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ููุชูู ุงูุขู ุฅูู ุงูุฌุฒุก ุงูุนููู ุ ููู ุงูุฌุฒุก ุงูุฃูุซุฑ ูุฐูุฐูุง - ูุฐุง ุชุนุฏูู ููููุฏ. </p><br><h2 id="modifikaciya-koda" style=";text-align:right;direction:rtl">  ุชุนุฏูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุนุฏ ุฅูุดุงุก ูููู ุฅุถุงูู ููุท ูุฅูุดุงุก ุชุนูููุฉ ุจุฑูุฌูุฉ ูุฑุงุก ุ ูุฃูู ููููู ุฅูุดุงุก ุฑูุฒ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ุฃุฎุฑู ูููุณ <em>FreeMarker</em> .  ููู ูุง ูุง ูุณุชุทูุน <em>FreeMarker</em> ุงูููุงู ุจู ูู ุชุนุฏูู ุงูููุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุชุญุชูู ูุงุฆูุฉ ุงูุชุฏููู ุงูุฎุงุตุฉ ุจูุง ุนูู ุงูุนุฏูุฏ ูู ุงูููุงู ุงููุชุนููุฉ ุจุชุนุฏูู ุงูุฑูุฒ ุ ูููุจุฏุฃ ุจุฃุจุณุทูุง - ุชุนุฏูู ููู <em>settings.gradle</em> . </p><br><h3 id="modifikaciya-settingsgradle" style=";text-align:right;direction:rtl">  ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช </h3><br><p style=";text-align:right;direction:rtl">  ุฏุนูู ุฃุฐูุฑู ุจูุง ูุฑูุฏ ุงูููุงู ุจู: ูุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุณุทุฑูู ุฅูู ูุฐุง ุงูููู ูุตูุงู ุงููุณุงุฑ ุฅูู ุงููุญุฏุฉ ุงูููุทูุฉ ุงูููุดุฃุฉ ุญุฏูุซูุง: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุตู ุงููุณุงุฑ ุฅูู ุงููุญุฏุฉ ุงูููุทูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// settings.gradle include ':analytics project(':analytics').projectDir = new File(settingsDir, 'core/framework-metrics/analytics) ... include ':feature-worknear' project(':feature-worknear').projectDir = new File(settingsDir, 'feature/feature-worknear')</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฃุฎุงูุชู ุณุงุจููุง ูููููุง ุฃูู ูุฌุจ ุนููู ุฏุงุฆููุง ูุฑุงุนุงุฉ ูููู PSI ุนูุฏ ุงูุชุนุงูู ูุน ุงููููุงุช ุ ูุฅูุง <del>  ูู ุดูุก ุณูู ูุญุชุฑู </del>  ูู ุชุนูู.  ูู ุงููุงูุน ุ ูู ููุงู ุจุณูุทุฉ ุ ูุซู ุฅุถุงูุฉ ุณุทุฑูู ุฅูู ููุงูุฉ ุงูููู ุ ููููู ุงูููุงู ุจุฐูู.  ููููู ุฅุถุงูุฉ ุจุนุถ ุงูุฃุณุทุฑ ุฅูู ุงูููู ุจุงุณุชุฎุฏุงู <em>java.io.File</em> ุงููุนุชุงุฏ.  ููููุงู ุจุฐูู ุ ูุฌุฏ ุงููุณุงุฑ ุฅูู ุงูููู ุ ูุฅูุดุงุก ูุซูู <em>java.io.File</em> ุ ูุงุณุชุฎุฏุงู ูุธุงุฆู <em>ููุญู</em> Kotlin ูุถูู ุณุทุฑูู ุฅูู ููุงูุฉ ูุฐุง ุงูููู.  ููููู ุงูููุงู ุจุฐูู ุ ุณูู ุชุฑู IDEA ุชุบููุฑุงุชู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุถุงูุฉ ุฎุทูุท ุฅูู ููู settings.gradle</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  val projectBaseDirPath = project.basePath ุ: return <br>  val settingsPathFile = projectBaseDirPath + "/settings.gradle" </p><br><p style=";text-align:right;direction:rtl">  val settingsFile = ููู (settingsPathFile) </p><br><p style=";text-align:right;direction:rtl">  settingsFile.appendText ("include ': $ moduleName'") <br>  settingsFile.appendText ( <br>  "project (': $ moduleName'). projectDir = ููู ุฌุฏูุฏ (settingsDir ุ '$ folderPath')" <br>  ) </p></div></div><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ุจุงูุทุจุน ุ ูููู ุฐูู ุฃูุถู ูู ุฎูุงู ูููู PSI - ููู ุฃูุซุฑ ููุซูููุฉ. </p><br><h3 id="donastroyka-kapt-a-dlya-toothpick" style=";text-align:right;direction:rtl">  ุถุจุท Kapt ูุงููุณูุงู </h3><br><p style=";text-align:right;direction:rtl">  ูุฑุฉ ุฃุฎุฑู ุ ุฃุฐูุฑู ุจุงููุดููุฉ: ูู ูุญุฏุฉ ุงูุชุทุจูู ุ ููุฌุฏ ููู <em>build.gradle</em> ุ <em>ูููู</em> ุชูุฌุฏ ุฅุนุฏุงุฏุงุช ููุนุงูุฌ ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ.  ููุฑูุฏ ุฅุถุงูุฉ ุญุฒูุฉ ูู ุงููุญุฏุฉ ุงูููุทูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุฅูู ููุงู ูุญุฏุฏ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅูู ุฃููุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jt/hv/1b/jthv1bxuiigvexnvwnrvzs41wh8.png" alt="ุตูุฑุฉ"></p></div></div><br><p style=";text-align:right;direction:rtl">  ูุฏููุง ูู ุฅูุฌุงุฏ <em>PsiElement</em> ูุนูู ุ ูุจุนุฏ ุฐูู ูุฎุทุท ูุฅุถุงูุฉ ุฎุทูุง.  ูุจุฏุฃ ุงูุจุญุซ ุนู ุงูุนูุตุฑ ุจุงูุจุญุซ ุนู <em>PsiFile</em> ุ ูุงูุฐู ูุดูุฑ ุฅูู ููู <em>build.gradle</em> ููุญุฏุฉ ุงูุชุทุจูู.  ูููุฐุง ุชุญุชุงุฌ ุฅูู ุงูุนุซูุฑ ุนูู ุงููุญุฏุฉ ุงูุชู ุณูุจุญุซ ูููุง ุนู ุงูููู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุญู ูุจุญุซ ุนู ูุญุฏุฉ ุจุงูุงุณู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> appModule = ModuleManager.getInstance(project) .modules.toList() .first { it.name == <span class="hljs-string"><span class="hljs-string">"headhunter-applicant"</span></span> }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุจุงุณุชุฎุฏุงู ูุฆุฉ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <em>FilenameIndex ุ</em> ููููู ุงูุนุซูุฑ ุนูู <em>PsiFile</em> ุจุงุณููุง ุ ูุน ุชุญุฏูุฏ ุงููุญุฏุฉ ุงูููุทูุฉ ุงูููุฌูุฏุฉ ูู ููุทูุฉ ุงูุจุญุซ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุจุญุซ ุนู PsiFile ุจุงูุงุณู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> buildGradlePsiFile = FilenameIndex.getFilesByName( appModule.project, <span class="hljs-string"><span class="hljs-string">"build.gradle"</span></span>, appModule.moduleContentScope ).first()</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุนุซูุฑ ุนูู PsiFile ุ ูููููุง ุงูุจุฏุก ูู ุงูุจุญุซ ุนู PsiElement.   ,      โ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PSI Viewer</a> .     IDEA  ,    PSI-  . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/sd/nl/ac/sdnlac9nrqcqqt14wtrhohr9pf8.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">    -  (, build.gradle)        ,      PSI-   . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gt/et/xo/gtetxo8_4hbk0gzzfty7p_zmawu.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">    โ   ,        <em>PsiFile</em> -. </p><br><p style=";text-align:right;direction:rtl">    .   <em>PsiFile</em> .            . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">  PsiElement</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> toothpickRegistryPsiElement = buildGradlePsiFile.originalFile .collectDescendantsOfType&lt;GrAssignmentExpression&gt;() .firstOrNull { it.text.startsWith(<span class="hljs-string"><span class="hljs-string">"arguments"</span></span>) } ?.lastChild ?.children?.firstOrNull { it.text.startsWith(<span class="hljs-string"><span class="hljs-string">"toothpick_registry_children_package_names"</span></span>) } ?.collectDescendantsOfType&lt;GrListOrMap&gt;() ?.first() ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl"><del>  ?.. </del>   ?          PSI-.        <em>GrAssignmentExpression</em> ,   ,    <em>arguments = [ โฆ ]</em> .      ,      <em>toothpick_registry_children_package_names = [...]</em> ,       Groovy-. </p><br><p style=";text-align:right;direction:rtl">    <em>PsiElement</em> ,   .            .      . </p><br><p style=";text-align:right;direction:rtl">     PSI- ,       <em>PsiElementFactory</em>   ,    .  Java-?    Java-.   Groovy?  <em>GroovyPsiElementFactory</em> .  ู ููุฐุง. </p><br><p style=";text-align:right;direction:rtl">  <em>PsiElementFactory</em>       .       Groovy  Kotlin ,        . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"> PsiElement  package name</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> factory = GroovyPsiElementFactory.getInstance(buildGradlePsiFile.project) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> packageName = config.mainParams.packageName <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newArgumentItem = factory.createStringLiteralForReference(packageName)</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">         <em>PsiElement</em> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">   Map-</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs">targetPsiElement.add(newArgumentItem)</code> </pre> </div></div><br><h3 id="donastroyka-kapt-a-dlya-moxy-v-application-module" style=";text-align:right;direction:rtl">  kapt-  Moxy  application  </h3><br><p style=";text-align:right;direction:rtl">    -,    , โ  kapt-  Moxy  application .  :          <em>@RegisterMoxyReflectorPackages</em> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">-?</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/us/17/in/us17inlvgteb4k9pmegkurtl7y8.png" alt="ุตูุฑุฉ"></p></div></div><br><p style=";text-align:right;direction:rtl">         ,  :  <em>PsiFile</em> ,  <em>PsiElement</em> ,  โฆ      ,         <em>PsiElement</em> -. </p><br><p style=";text-align:right;direction:rtl">     :  ,    <em>@RegisterMoxyReflectorPackages</em> ,       <em>value</em>  ,          . </p><br><p style=";text-align:right;direction:rtl">    ,       . ,     <em>PsiManager</em> ,   <em>PsiClass</em>  . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"> PsiClass  @RegisterMoxyReflectorPackages</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> appModule = ModuleManager.getInstance(project) .modules.toList() .first { it.name == <span class="hljs-string"><span class="hljs-string">"headhunter-applicant"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> psiManager = PsiManager.getInstance(appModule.project) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> annotationPsiClass = ClassUtil.findPsiClass( psiManager, <span class="hljs-string"><span class="hljs-string">"com.arellomobile.mvp.RegisterMoxyReflectorPackages"</span></span> ) ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">     <em>AnnotatedMembersSearch</em>   ,      . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"> ,  </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> annotatedPsiClass = AnnotatedMembersSearch.search( annotationPsiClass, appModule.moduleContentScope ).findAll() ?.firstOrNull() ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ,  <em>PsiElement</em>  ,        value.     ,      . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">      </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> annotationPsiElement = (annotatedPsiClass .annotations .first() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> KtLightAnnotationForSourceEntry ).kotlinOrigin <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> packagesPsiElements = annotationPsiElement .collectDescendantsOfType&lt;KtValueArgumentList&gt;() .first() .collectDescendantsOfType&lt;KtValueArgument&gt;() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> updatedPackagesList = packagesPsiElements .mapTo(mutableListOf()) { it.text } .apply { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> += <span class="hljs-string"><span class="hljs-string">"\"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${config.packageName}</span></span></span><span class="hljs-string">\""</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newAnnotationValue = updatedPackagesList.joinToString(separator = <span class="hljs-string"><span class="hljs-string">",\n"</span></span>)</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">   <em>KtPsiFactory</em>   <em>PsiElement</em> โ          . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">      </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> kotlinPsiFactory = KtPsiFactory(project) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newAnnotationPsiElement = kotlinPsiFactory.createAnnotationEntry( <span class="hljs-string"><span class="hljs-string">"@RegisterMoxyReflectorPackages(\n</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$newAnnotationValue</span></span></span><span class="hljs-string">\n)"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> replaced = annotationPsiElement.replace(newAnnotationPsiElement)</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  . </p><br><p style=";text-align:right;direction:rtl">     ?    code style.  ,      IDEA    : CodeStyleManager. </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"> code style</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs">CodeStyleManager.getInstance(module.project).reformat(replacedElement)</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">    -  ,     . </p><br><h3 id="vyvody-1" style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">     ,      PSI-,      . </li><li style=";text-align:right;direction:rtl"> ,  PSI     ,    ,    PsiElement-. </li></ul><br><h1 id="chto-delat-dalshe" style=";text-align:right;direction:rtl">   ? </h1><br><p style=";text-align:right;direction:rtl">   . </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">      โ    ,       . </li><li style=";text-align:right;direction:rtl">       .       .   :            . </li><li style=";text-align:right;direction:rtl">     ?      .  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">   IDEA</a>   ,   .       ,        . โ   -  ,    GitHub  .  ,    ,  . </li><li style=";text-align:right;direction:rtl">    -   โ    IntelliJ IDEA   .  ,   <em>Util</em>  <em>Manager</em> ,  ,    ,    . </li><li style=";text-align:right;direction:rtl">   :     .  ,  <em>runIde</em> ,     IDEA,   .   ,           hh.ru,       . </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุดูุก. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a> ,  ,   โ . </p><br><h2 id="faq" style=";text-align:right;direction:rtl">  ุงูุชุนูููุงุช </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">       ? </li></ul><br><p style=";text-align:right;direction:rtl">       ,       .      ,   2  3 . </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">       IDEA   ,   -  ? </li></ul><br><p style=";text-align:right;direction:rtl"> ,    IDEA   IDEA SDK ,   deprecated,   ,  .   SDK-   ,   ,     . </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">         ? </li></ul><br><p style=";text-align:right;direction:rtl">    โ    gitignore .   -   . </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">          ? </li></ul><br><p style=";text-align:right;direction:rtl">      Android Studio  Mac OS,    Ubuntu,   . ,     Windows,    . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar463611/">https://habr.com/ru/post/ar463611/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar463599/index.html">"ูุฐุง ูุงุจูุณ": ูุดุงุฑู ุฑูุงุฏ ุงููุถุงุก ุงูุขุฑุงุก ุญูู ุงูุฃุฎุทุงุก ุงูุชู ุชุฑุชูุจูุง ูููููุฏ ุนูุฏ ุชุตููุฑ ุงูุฃููุงู ุนู ุงููุถุงุก</a></li>
<li><a href="../ar463601/index.html">ุทุฑููุฉ ูููุตูุฉ ุชุณุฌูู ูู ุฌุงูุง / logback</a></li>
<li><a href="../ar463605/index.html">ุงููุซูููู ุงูููููู - ูู ุงููุถุงุก ุงูุณุญูู</a></li>
<li><a href="../ar463607/index.html">ุงูุชุฑุงุฌุน ุงููุฏูุฌ ูู ุจุฏูู ูุน ุณูุงู ุงูุชูุงุนู ูุงูุณูุงููุฑ</a></li>
<li><a href="../ar463609/index.html">ูุธุงู ุงูุชูุตูุฉ ููุงุฏู Directum. ุงูุฌุฒุก ุงูุฃูู ุ ุงูุชุนุงูููุฉ</a></li>
<li><a href="../ar463613/index.html">ูููู ุฃูุถูุง ุฅูุดุงุก ุตูุฑ Docker ูู werf ุจุงุณุชุฎุฏุงู Dockerfile ุงููุนุชุงุฏ</a></li>
<li><a href="../ar463617/index.html">ููุฒุงุช ุงุฎุชุจุงุฑ MMO ุงููุญููู</a></li>
<li><a href="../ar463619/index.html">ุงูุนูู ุนู ุจุนุฏ: ุชุฌุฑุจุชูุง</a></li>
<li><a href="../ar463623/index.html">ููุฏ ุชู ุงุฎุชูุงุฑูุง ูู ูุฌููุนุฉ ุงูุงุฎุชุจุงุฑุงุช: ูุญู ุจุตุฏุฏ ุจูุงุก ุทุฑูู ูุตูุฑ ูู ุงููุจุงุฑูุงุช ุฅูู ุงูุงุฎุชุจุงุฑุงุช</a></li>
<li><a href="../ar463625/index.html">ูุฑุงูุจุฉ ุงูุดุจูุฉ ูุงูุชุดุงู ูุดุงุท ุงูุดุจูุฉ ุบูุฑ ุงูุทุจูุนู ุจุงุณุชุฎุฏุงู ุญููู Flowmon Networks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>