<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüëß‚Äçüëß üôåüèº üçõ Chirurgie cardiaque: comment nous avons r√©√©crit le composant principal d'un syst√®me DLP üéè üèáüèª üì≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©√©crire le code h√©rit√© comme un voyage chez le dentiste semble √™tre que tout le monde comprend qu'ils devraient y aller, mais ils tergiversent et ten...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Chirurgie cardiaque: comment nous avons r√©√©crit le composant principal d'un syst√®me DLP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/419385/">  R√©√©crire le code h√©rit√© comme un voyage chez le dentiste semble √™tre que tout le monde comprend qu'ils devraient y aller, mais ils tergiversent et tentent de retarder l'in√©vitable, car ils savent que cela fera mal.  Dans notre cas, les choses √©taient encore pires: nous avons d√ª r√©√©crire la partie cl√© du syst√®me, et en raison de circonstances externes, nous ne pouvions pas remplacer les anciens morceaux de code par de nouvelles parties en parties, uniquement en une seule fois et en totalit√©.  Et tout cela dans des conditions de manque de temps, de ressources et de documentation, mais avec l'exigence de gestion qu'en raison de ¬´l'op√©ration¬ª aucun client ne devrait souffrir. <br><br>  Sous la coupe, l'histoire de la fa√ßon dont nous avons r√©√©crit le composant principal du produit avec une histoire de 17 ans (!) De Scheme √† Clojure, et tout a fonctionn√© tout de suite (enfin, presque :)). <br><br><img src="https://habrastorage.org/webt/_6/o3/5d/_6o35dz5ilq8ube742dj-_nu1bk.jpeg"><br><a name="habracut"></a><br><h4>  17 ans dans la "Watch" </h4><br>  Solar Dozor est un syst√®me DLP avec une tr√®s longue histoire.  La premi√®re version est apparue en 2001 comme un service relativement petit pour filtrer le trafic de messagerie.  En 17 ans, le produit est devenu un grand progiciel qui collecte, filtre et analyse des informations h√©t√©rog√®nes au sein de l'organisation et prot√®ge l'entreprise des clients contre les menaces internes. <br><br>  Lors du d√©veloppement de la 6e version de Solar Dozor, nous avons secou√© le produit de mani√®re d√©cisive, jet√© les vieilles b√©quilles du code <s>et les remplac√© par de nouvelles</s> , mis √† jour l'interface, examin√© la fonctionnalit√© dans le sens des r√©alit√©s modernes - en g√©n√©ral, rendu le produit architectural et conceptuellement plus holistique. <br><br>  √Ä cette √©poque, sous le capot du Solar Dozor mis √† jour, il y avait une √©norme couche de code h√©rit√© monolithique - le service de filtrage tr√®s, qui pendant toutes ces 17 ann√©es est progressivement devenu de nouvelles fonctionnalit√©s, incarnant √† la fois des solutions √† long terme et des t√¢ches commerciales √† court terme, mais a r√©ussi √† rester dans l'architecture originale paradigmes. <br><br><img src="https://habrastorage.org/webt/ql/0n/0e/ql0n0e6i9ulsdjuud0_-bjmuhy4.png"><br>  <i>Service de filtrage</i> <br><br>  Il va sans dire que l'introduction de toute modification d'un code aussi ancien n√©cessitait une d√©licatesse particuli√®re.  Les d√©veloppeurs ont d√ª √™tre extr√™mement prudents pour ne pas ruiner accidentellement les fonctionnalit√©s cr√©√©es il y a dix ans.  En outre, de toutes nouvelles solutions int√©ressantes ont √©t√© forc√©es de se faufiler dans le lit d'architecture procrustienne, invent√© √† l'aube de l'√©poque. <br><br>  Comprendre que le besoin de mise √† jour du syst√®me est apparu est apparu il y a longtemps.  Mais l'esprit de toucher un service syst√®me √©norme et ancien faisait clairement d√©faut. <br><br><h4>  Ne pas essayer de retarder l'in√©vitable </h4><br>  Les produits avec une longue histoire de d√©veloppement ont une caract√©ristique int√©ressante.  Peu importe √† quel point une fonctionnalit√© peut sembler √©trange, si elle a surv√©cu avec succ√®s jusqu'√† nos jours, cela signifie qu'elle a √©t√© cr√©√©e non pas √† partir des id√©es th√©oriques des d√©veloppeurs, mais en r√©ponse aux besoins sp√©cifiques des clients. <br><br>  Dans cette situation, il ne pouvait √™tre question de remplacement progressif.  Il √©tait impossible de couper et de refaire la fonctionnalit√© des pi√®ces, car toutes ces pi√®ces √©taient demand√©es par les clients, et nous ne pouvions pas les ¬´fermer pour reconstruction¬ª.  Il √©tait n√©cessaire de retirer soigneusement l'ancien service et de lui fournir un remplacement complet.  Seulement dans son ensemble, seulement √† la fois. <br><br>  L'am√©lioration du processus de d√©veloppement de produits, la rapidit√© des changements et l'am√©lioration de la qualit√© dans son ensemble √©taient une condition n√©cessaire mais non suffisante.  La direction se demandait quels avantages le changement apporterait √† nos clients.  La r√©ponse a √©t√© d'√©largir l'ensemble d'interfaces pour interagir avec les nouveaux syst√®mes d'interception, ce qui fournirait une r√©troaction rapide et permettrait aux intercepteurs de r√©pondre plus rapidement aux incidents. <br><br>  Nous avons √©galement d√ª nous battre pour r√©duire la consommation des ressources, en maintenant (et id√©alement en augmentant) le taux de traitement actuel. <br><br><h4>  Un peu de farce </h4><br>  Tout au long du parcours de d√©veloppement de produits, l'√©quipe de Solar Dozor a tendu vers une approche fonctionnelle.  Cela conduit √† un choix plut√¥t non standard de langages de programmation pour une industrie mature.  √Ä diff√©rentes √©tapes de la vie du syst√®me, il s'agissait de Scheme, OCaml, Scala, Clojure, en plus du C (++) traditionnel et de Java. <br><br>  Le principal service de filtrage et d'autres services qui aident √† recevoir et √† transmettre des messages ont √©t√© √©crits et d√©velopp√©s dans le langage Scheme dans ses diff√©rentes impl√©mentations (ce dernier a √©t√© utilis√© par Racket).  Peu importe combien l'on veut chanter les louanges de la simplicit√© et de l'√©l√©gance de cette langue, on ne peut que reconna√Ætre que son d√©veloppement rencontre plus d'int√©r√™ts acad√©miques que industriels.  Le d√©calage est particuli√®rement notable par rapport √† d'autres services Solar Dozor plus modernes, d√©velopp√©s principalement sur Scala et Clojure.  Le nouveau service a √©galement √©t√© d√©cid√© d'√™tre mis en ≈ìuvre √† Clojure. <br><br><h4>  Clojure?! </h4><br>  Ici, bien s√ªr, je dois dire quelques mots sur les raisons pour lesquelles nous avons choisi Clojure comme langage de mise en ≈ìuvre principal. <br><br>  Tout d'abord, je ne voulais pas perdre l'exp√©rience unique de l'√©quipe d√©veloppant sur Scheme.  Clojure est √©galement un membre moderne de la famille des langues Lisp, et passer d'un Lisp √† un autre est g√©n√©ralement assez simple. <br><br>  Deuxi√®mement, gr√¢ce √† un engagement envers les principes fonctionnels et un certain nombre de solutions architecturales uniques, Clojure offre une facilit√© sans pr√©c√©dent de manipulation des flux de donn√©es.  Il est √©galement important que Clojure fonctionne sur la plate-forme JVM, ce qui signifie que vous pouvez utiliser une base de donn√©es commune avec d'autres services en Java et Scala, ainsi que de nombreux outils de profilage et de d√©bogage. <br><br>  Troisi√®mement, Clojure est un langage concis et expressif.  Cela facilite la lecture du code de quelqu'un d'autre et facilite la transmission du code √† un co√©quipier. <br><br>  Enfin, nous appr√©cions Clojure pour sa facilit√© de prototypage et son d√©veloppement dit REPL-centric.  Dans presque toutes les situations o√π il existe un doute, vous pouvez simplement cr√©er un prototype et poursuivre la discussion de mani√®re plus approfondie, avec de nouvelles donn√©es.  Le d√©veloppement orient√© REPL donne un retour rapide, car pour v√©rifier la fonctionnalit√© d'une fonction, il est non seulement n√©cessaire de recompiler le programme, mais m√™me de le red√©marrer (m√™me si le programme est un service situ√© sur un serveur distant). <br><br>  Pour l'avenir, je peux dire: je pense que nous n'avons pas perdu le choix. <br><br><h4>  Mettre la fonctionnalit√© petit √† petit </h4><br>  Lorsque nous parlons d'un remplacement complet, la premi√®re question qui se pose est la collecte d'informations sur les fonctionnalit√©s existantes. <br><br>  C'est devenu une t√¢che assez int√©ressante.  Il semblerait qu'il existe un syst√®me qui fonctionne, voici la documentation qui s'y rapporte, voici des personnes - des experts qui travaillent en √©troite collaboration avec le syst√®me et en informent les autres.  Mais pour obtenir une image compl√®te de toute la vari√©t√©, et plus encore, les exigences de d√©veloppement ne se sont pas av√©r√©es si simples. <br><br>  La collecte des exigences n'est pas en vain consid√©r√©e comme une discipline d'ing√©nierie distincte.  La mise en ≈ìuvre existante s'av√®re paradoxalement √™tre le r√¥le d'une ¬´norme corrompue¬ª.  Il montre comment et comment cela devrait fonctionner, mais en m√™me temps, les d√©veloppeurs devraient que la nouvelle version soit meilleure que l'original.  Il est n√©cessaire de s√©parer les moments n√©cessaires √† la mise en ≈ìuvre (g√©n√©ralement li√©s aux interfaces externes) de ceux qui peuvent √™tre am√©lior√©s en fonction des attentes des utilisateurs. <br><br><img src="https://habrastorage.org/webt/xp/qm/jj/xpqmjjwfro1gpmhwfuxongl5-ko.png"><br>  <i>Processus de filtrage des messages</i> <br><br><h4>  La documentation ne suffit pas </h4><br>  Quelle est la fonctionnalit√© r√©elle du syst√®me?  La r√©ponse √† cette question est donn√©e par diverses descriptions, telles que la documentation utilisateur, les manuels et les documents architecturaux, refl√©tant la structure du service sous divers aspects.  Mais en fin de compte, vous comprenez tr√®s bien √† quel point les id√©es et la r√©alit√© divergent, combien de nuances et de possibilit√©s inexpliqu√©es contiennent l'ancien code. <br><br>  Je souhaite contacter tous les d√©veloppeurs.  Prenez soin de votre code!  C'est votre atout le plus important.  Ne vous fiez pas √† la documentation.  Ne faites confiance qu'au code source. <br><br>  Heureusement pour nous, le code Scheme, en raison de la nature m√™me du langage cr√©√© pour l'enseignement de la programmation, est assez facile √† lire m√™me pour une personne non form√©e.  L'essentiel est de s'habituer √† certaines formes individuelles qui portent une touche l√©g√®re de lisp-archa√Øque. <br><br><h4>  Construire un processus </h4><br>  Le volume de travail √©tait √©norme et l'√©quipe est tr√®s petite.  Ce n'√©tait donc pas sans difficult√©s d'organisation.  Le flux de travail des bogues et des demandes de correction (et des am√©liorations mineures) de l'ancien service de filtrage ne s'est m√™me pas arr√™t√©.  Les d√©veloppeurs devaient r√©guli√®rement √™tre distraits par ces t√¢ches. <br><br>  Heureusement, il a √©t√© possible de repousser les demandes d'int√©gration de nouveaux √©l√©ments de grande fonctionnalit√© dans l'ancien filtre.  Certes, sous la promesse d'int√©grer cette fonctionnalit√© dans un nouveau service.  Cependant, l'ensemble des t√¢ches de publication augmentait lentement mais s√ªrement. <br><br>  Un autre facteur qui a ajout√© beaucoup de probl√®mes √©tait les d√©pendances externes du service.  Composant central, le service de filtrage utilise de nombreux services pour d√©compresser et analyser les contenus (textes, images, empreintes digitales, etc.).  Le travail avec eux a √©t√© partiellement guid√© par de vieilles d√©cisions architecturales.  Au cours du processus de d√©veloppement, il a √©galement √©t√© n√©cessaire de r√©√©crire certains composants de mani√®re moderne (et certains dans un langage moderne). <br><br>  Dans ces conditions, un syst√®me de tests fonctionnels pas √† pas a √©t√© construit.  Nous avons en quelque sorte fait passer le service √† un certain √©tat, qui a √©t√© renforc√© par des tests actifs, puis nous sommes pass√©s √† la mise en ≈ìuvre d'un nouveau. <br><br><h4>  Commencer le d√©veloppement </h4><br>  Tout d'abord, le cadre principal du service, les m√©canismes de base pour la r√©ception des messages et le d√©ballage des fichiers ont √©t√© mis en place.  C'√©tait le minimum absolu n√©cessaire pour commencer √† tester la vitesse et l'exactitude du futur service. <br><br>  Ici, il faut pr√©ciser que le d√©ballage fait r√©f√©rence au processus r√©cursif consistant √† obtenir des pi√®ces d'un fichier et √† en extraire des informations utiles.  Ainsi, par exemple, un document Word peut contenir non seulement du texte, mais √©galement des images, un document Excel incorpor√©, des objets OLE et bien plus encore. <br><br>  Le m√©canisme de d√©compression ne fait pas de distinction entre l'utilisation de biblioth√®ques internes, de programmes externes ou de services tiers, fournissant une interface unique pour organiser les pipelines de d√©compression. <br><br>  Un autre compliment envers Clojure: nous avons obtenu un prototype fonctionnel, dans lequel nous avons d√©crit les contours de la future fonctionnalit√©, dans les plus brefs d√©lais. <br><br><h4>  DSL pour la politique </h4><br>  La deuxi√®me √©tape consistait √† ajouter la validation des messages √† l'aide de strat√©gies de filtrage. <br><br>  Pour d√©crire les politiques, une DSL sp√©ciale a √©t√© cr√©√©e - un langage simple sans fioritures, qui nous a permis de pr√©senter les r√®gles et conditions de la politique sous une forme plus ou moins lisible par l'homme.  Il s'appelle MFLang. <br><br>  Le script sur MFLang "√† la vol√©e" est interpr√©t√© dans le code Clojure, met en cache les r√©sultats des v√©rifications sur le message, maintient un journal de travail d√©taill√© (et, franchement, m√©rite un article s√©par√©). <br><br>  L'utilisation de DSL a s√©duit les testeurs.  En bas avec creuser dans la base de donn√©es ou le format d'exportation!  Il √©tait maintenant possible d'envoyer simplement la r√®gle g√©n√©r√©e pour v√©rification, et imm√©diatement il devenait clair quelles conditions √©taient v√©rifi√©es.  Il √©tait √©galement possible d'obtenir un journal de v√©rification des messages d√©taill√©, √† partir duquel il est clair quelles donn√©es ont √©t√© prises pour la v√©rification et quels r√©sultats ont √©t√© renvoy√©s par la fonction de comparaison. <br><br>  Nous pouvons dire avec confiance que MFLang s'est av√©r√© √™tre un outil absolument inestimable pour la fonctionnalit√© de d√©bogage. <br><br><h4>  En pleine force </h4><br>  √Ä la troisi√®me √©tape, un m√©canisme a √©t√© ajout√© pour appliquer les actions d√©finies par la politique de s√©curit√© au message, ainsi que des liaisons de service qui permettent l'inclusion de nouveaux composants dans le complexe Solar Dozor.  Enfin, nous avons pu lancer le service et observer le r√©sultat du travail dans toute sa diversit√©. <br><br>  La question principale, bien s√ªr, √©tait de savoir comment la fonctionnalit√© impl√©ment√©e correspond √† ce qui √©tait attendu et dans quelle mesure elle l'impl√©mente. <br><br>  Je note que si le besoin de tests unitaires n'a pas √©t√© remis en question depuis longtemps (bien que les pratiques TDD elles-m√™mes suscitent toujours un d√©bat anim√©), l'introduction de tests automatis√©s de la fonctionnalit√© du syst√®me se heurte souvent √† une r√©sistance ouverte. <br><br>  Le d√©veloppement des autotests aide tous les membres de l'√©quipe √† mieux comprendre le processus du produit, √©conomise de l'√©nergie lors de la r√©gression, instaure une certaine confiance dans les performances du produit.  Mais le processus de leur cr√©ation se heurte √† un certain nombre de difficult√©s - collecte des donn√©es n√©cessaires, d√©termination des indicateurs d'int√©r√™t et test des options.  Les programmeurs per√ßoivent in√©vitablement la cr√©ation d'autotests comme un travail parall√®le facultatif, qu'il vaut mieux √©viter si possible. <br><br>  Mais si vous parvenez √† vaincre la r√©sistance, une fondation assez solide est cr√©√©e qui vous permet de vous faire une id√©e de la sant√© du syst√®me. <br><br><h4>  Nous rempla√ßons </h4><br>  Et puis un moment important est venu: nous avons inclus le service dans le colis de livraison.  Jusqu'√† pr√©sent, avec l'ancien.  Ainsi, une √©quipe pourrait effectuer un changement de version et comparer le comportement des services. <br><br>  Dans ce mode parall√®le, le nouveau service de filtrage a dur√© une version.  Pendant ce temps, nous avons r√©ussi √† collecter des statistiques suppl√©mentaires sur le travail, esquisser et mettre en ≈ìuvre les am√©liorations n√©cessaires. <br><br>  Enfin, apr√®s avoir rassembl√© nos forces, nous avons supprim√© l'ancien service de filtrage du produit.  La derni√®re √©tape de l'acceptation interne est all√©e, les bugs ont √©t√© corrig√©s, les d√©veloppeurs ont commenc√© √† passer progressivement √† d'autres t√¢ches.  D'une mani√®re ou d'une autre imperceptiblement, sans fanfare et applaudissements, un produit est sorti avec un nouveau service. <br><br>  Et ce n'est que lorsque les questions ont commenc√© √† venir de l'√©quipe de mise en ≈ìuvre que la compr√©hension est venue - le service sur lequel nous travaillions depuis si longtemps √©tait d√©j√† sur les sites et ... fonctionnait! <br><br>  Bien s√ªr, il y a eu des bugs et des am√©liorations mineures, n√©anmoins, apr√®s un mois d'utilisation active, les clients ont rendu un verdict: l'introduction d'un produit avec une nouvelle version du service de filtrage a caus√© moins de probl√®mes que l'introduction des versions pr√©c√©dentes.  H√©!  On dirait que nous l'avons fait! <br><br><h4>  En fin de compte </h4><br>  Le d√©veloppement d'un nouveau service de filtration a pris environ un an et demi.  Plus long qu'on ne le pensait √† l'origine, mais pas critique, d'autant plus que l'intensit√© r√©elle du travail du travail a co√Øncid√© avec l'√©valuation initiale.  Plus important encore, nous avons pu r√©pondre aux attentes de la direction et des clients et jeter les bases de futures am√©liorations de produits.  D√©j√† dans l'√©tat actuel, vous pouvez voir une r√©duction significative de la consommation de ressources - malgr√© le fait que le produit a encore de nombreuses possibilit√©s d'optimisation. <br><br>  Je peux ajouter quelques impressions personnelles. <br><br>  Remplacer un composant central par une longue histoire est une bouff√©e d'air frais pour le d√©veloppement.  Pour la premi√®re fois depuis longtemps, il est certain que le contr√¥le des produits revient entre nos mains. <br><br>  Il est difficile de surestimer les avantages d'un processus de communication et de d√©veloppement correctement organis√©.  Dans ce cas, il √©tait important d'√©tablir un travail non pas tant au sein de l'√©quipe, qu'avec de nombreux consommateurs du produit, qui avaient √† la fois des pr√©f√©rences et des attentes claires du syst√®me et des souhaits plut√¥t vagues. <br><br>  Pour nous, c'√©tait la premi√®re exp√©rience dans le d√©veloppement d'un projet d'une telle envergure sur Clojure.  Au d√©part, il y avait des pr√©occupations li√©es √† la nature dynamique du langage, √† la vitesse et √† la tol√©rance aux erreurs.  Heureusement, ils ne se sont pas mat√©rialis√©s. <br><br>  Il ne reste plus qu'√† souhaiter que le nouveau composant fonctionne aussi longtemps et avec succ√®s que son pr√©d√©cesseur. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419385/">https://habr.com/ru/post/fr419385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419373/index.html">Comparaison de React et Vue sur un exemple pratique</a></li>
<li><a href="../fr419375/index.html">Circulation des miARN</a></li>
<li><a href="../fr419379/index.html">Pourquoi Tesla et Deutsche Bank refusent les contrats papier</a></li>
<li><a href="../fr419381/index.html">Comment les gars de Storyline sont revenus de la Silicon Valley √† Minsk avec 770 000 $ pour une startup</a></li>
<li><a href="../fr419383/index.html">Nouvelle technique d'attaque WPA2 qui ne n√©cessite pas de client sur l'AP</a></li>
<li><a href="../fr419387/index.html">Vuln√©rabilit√©s de OWASP Top 10. A1: 2017 - Injections (Part 1)</a></li>
<li><a href="../fr419389/index.html">Moteur de rendu Angular 6 et Ivy</a></li>
<li><a href="../fr419391/index.html">Puissance, argent et open source. Expliquer comment la communaut√© fonctionne avec Apache Ignite</a></li>
<li><a href="../fr419393/index.html">Cr√©er une passerelle API simple dans ASP.NET Core</a></li>
<li><a href="../fr419395/index.html">Explication des expressions lambda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>