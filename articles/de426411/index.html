<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßõüèø üï∫üèº üëàüèø Entwickeln von C ++ / CLI-Deskriptorklassen üêû üë©üèæ‚Äçü§ù‚Äçüë©üèº ü§∑üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In C ++ / CLI werden h√§ufig die sogenannten Deskriptorklassen verwendet - verwaltete Klassen, die einen Zeiger auf die native Klasse als Mitglied habe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entwickeln von C ++ / CLI-Deskriptorklassen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426411/"><hr><p>  <i>In C ++ / CLI werden h√§ufig die sogenannten Deskriptorklassen verwendet - verwaltete Klassen, die einen Zeiger auf die native Klasse als Mitglied haben.</i>  <i>Der Artikel beschreibt ein praktisches und kompaktes Schema zum Verwalten der Lebensdauer des entsprechenden nativen Objekts basierend auf der Verwendung verwalteter Vorlagen.</i>  <i>Komplexe F√§lle der Finalisierung werden ber√ºcksichtigt.</i> <i><br></i> </p><hr><br><a name="habracut"></a><br><h1>  Inhaltsverzeichnis </h1><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einf√ºhrung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1. Grundlegendes Entsorgungsmuster in C ++ / CLI</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Definition von Destruktor und Finalizer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stapelsemantik verwenden</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2. Verwaltete Vorlagen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Intelligente Zeiger</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anwendungsbeispiel</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2.3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Komplexere Finalisierungsoptionen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2.3.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Finalizer Lock</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2.3.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verwenden von SafeHandle</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Referenzliste</a> <br></p><br><a name="id-introdaction"></a><br><h1>  Einf√ºhrung </h1><br><p> C ++ / CLI - eine der Sprachen von .NET Framework - wird selten zum Entwickeln gro√üer unabh√§ngiger Projekte verwendet.  Der Hauptzweck besteht darin, Assemblys f√ºr die .NET-Interaktion mit nativem (nicht verwaltetem) Code zu erstellen.  Dementsprechend sind Klassen, die als Deskriptorklassen bezeichnet werden, weit verbreitete verwaltete Klassen, die einen Zeiger auf die native Klasse als Mitglied haben.  In der Regel besitzt eine solche Deskriptorklasse das entsprechende native Objekt, dh sie muss es zum geeigneten Zeitpunkt l√∂schen.  Es ist ganz nat√ºrlich, eine solche Klasse <code>System::IDisposable</code> die <code>System::IDisposable</code> .  Die Implementierung dieser Schnittstelle in .NET muss einem speziellen Muster namens Basic Dispose [Cwalina] folgen.  Ein bemerkenswertes Merkmal von C ++ / CLI ist, dass der Compiler fast die gesamte Routinearbeit zur Implementierung dieser Vorlage √ºbernimmt, w√§hrend in C # fast alles von Hand erledigt werden muss. </p><br><a name="id-1"></a><br><h1>  1. Grundlegendes Entsorgungsmuster in C ++ / CLI </h1><br><p>  Es gibt zwei M√∂glichkeiten, diese Vorlage zu implementieren. </p><br><a name="id-1-1"></a><br><h2>  1.1.  Definition von Destruktor und Finalizer </h2><br><p>  In diesem Fall m√ºssen der Destruktor und der Finalizer in der verwalteten Klasse definiert werden, der Compiler erledigt den Rest. </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ref <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span>    ~X() {<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>} <span class="hljs-comment"><span class="hljs-comment">//     !X() {/* ... */} //  // ... };</span></span></code> </pre> <br><p>  Insbesondere macht der Compiler Folgendes: </p><br><ol><li>  Implementiert f√ºr Klasse <code>X</code> die <code>System::IDisposable</code> . </li><li>  In <code>X::Dispose()</code> ein Aufruf an den Destruktor, ein Aufruf an den Destruktor der Basisklasse (falls vorhanden) und ein Aufruf an <code>GC::SupressFinalize()</code> . </li><li>  √úberschreibt <code>System::Object::Finalize()</code> , wobei der Finalizer und die Finalizer der Basisklassen (falls vorhanden) aufgerufen werden. </li></ol><br><p>  Sie k√∂nnen die Vererbung von <code>System::IDisposable</code> explizit angeben, <code>X::Dispose()</code> selbst definieren. </p><br><a name="id-1-2"></a><br><h2>  1.2.  Stapelsemantik verwenden </h2><br><p>  Das Basic Dispose-Muster wird auch vom Compiler implementiert, wenn die Klasse ein Mitglied des freigegebenen Typs hat und mithilfe der Stapelsemantik deklariert wird.  Dies bedeutet, dass der Typname ohne die Kappe (' <code>^</code> ') f√ºr die Deklaration verwendet wird und die Initialisierung in der Konstruktorinitialisierungsliste erfolgt und nicht <code>gcnew</code> .  Die Semantik des Stapels ist in [Hogenson] beschrieben. </p><br><p>  Hier ist ein Beispiel: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ref <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> :</span></span> System::IDisposable { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    R(<span class="hljs-comment"><span class="hljs-comment">/*  */</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  // ... }; public ref class X {    R m_R; //   R^ m_R public:    X(/*  */) //         : m_R(/*  */) //   m_R = gcnew R(/*  */)    {/* ... */} // ... };</span></span></code> </pre> <br><p>  Der Compiler f√ºhrt in diesem Fall Folgendes aus: </p><br><ol><li>  Implementiert f√ºr Klasse <code>X</code> die <code>System::IDisposable</code> . </li><li>  <code>m_R</code> in <code>X::Dispose()</code> einen Aufruf von <code>R::Dispose()</code> f√ºr <code>m_R</code> . </li></ol><br><p>  Die Finalisierung wird durch die entsprechende Klasse- <code>R</code> Funktionalit√§t bestimmt.  Wie im vorherigen Fall kann die Vererbung von <code>System::IDisposable</code> explizit angegeben werden, Sie k√∂nnen <code>X::Dispose()</code> selbst definieren.  Nat√ºrlich kann die Klasse andere Mitglieder haben, die unter Verwendung der Semantik des Stapels deklariert wurden, und ihr <code>Dispose()</code> -Aufruf wird auch f√ºr sie bereitgestellt. </p><br><a name="id-2"></a><br><h1>  2. Verwaltete Vorlagen </h1><br><p>  Und schlie√ülich erm√∂glicht eine weitere gro√üartige Funktion von C ++ / CLI die Erstellung von Deskriptorklassen so weit wie m√∂glich.  Wir sprechen √ºber verwaltete Vorlagen.  Dies sind keine Generika, sondern echte Vorlagen, wie in klassischem C ++, aber Vorlagen sind keine nativen, sondern verwaltete Klassen.  Die Instanziierung solcher Muster f√ºhrt zur Erstellung verwalteter Klassen, die als Basisklassen oder als Mitglieder anderer Klassen innerhalb einer Assembly verwendet werden k√∂nnen.  Verwaltete Vorlagen sind in [Hogenson] beschrieben. </p><br><a name="id-2-1"></a><br><h2>  2.1.  Intelligente Zeiger </h2><br><p>  Mit verwalteten Vorlagen k√∂nnen Sie Klassen wie intelligente Zeiger erstellen, die einen Zeiger auf das native Objekt als Mitglied enthalten, und dessen Entfernung im Destruktor und Finalizer bereitstellen.  Solche intelligenten Zeiger k√∂nnen als Basisklassen oder Mitglieder (nat√ºrlich unter Verwendung der Stapelsemantik) verwendet werden, wenn Deskriptorklassen entwickelt werden, die automatisch freigegeben werden. </p><br><p>  Hier ist ein Beispiel f√ºr solche Muster.  Die erste Vorlage ist eine Basisvorlage, die zweite ist als Basisklasse und die dritte als Mitglied der Klasse vorgesehen.  Diese Vorlagen verf√ºgen √ºber einen Vorlagenparameter (nativ), mit dem ein Objekt gel√∂scht werden kann.  Die L√∂schklasse l√∂scht das Objekt standardm√§√üig mit dem <code>delete</code> . </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  , -  , T ‚Äî   template &lt;typename T&gt; struct DefDeleter {    void operator()(T* p) const { delete p; } }; //  , //      //  , T ‚Äî  , D ‚Äî - template &lt;typename T, typename D&gt; public ref class ImplPtrBase : System::IDisposable {    T* m_Ptr;    void Delete()    {        if (m_Ptr != nullptr)        {            D del;            del(m_Ptr);            m_Ptr = nullptr;        }    }    ~ImplPtrBase() { Delete(); }    !ImplPtrBase() { Delete(); } protected:    ImplPtrBase(T* p) : m_Ptr(p) {}    T* Ptr() { return m_Ptr; } }; //        template &lt;typename T, typename D = DefDeleter&lt;T&gt;&gt; public ref class ImplPtr : ImplPtrBase&lt;T, D&gt; { protected:    ImplPtr(T* p) : ImplPtrBase(p) {} public:    property bool IsValid    {        bool get() { return (ImplPtrBase::Ptr() != nullptr); }    } }; //        template &lt;typename T, typename D = DefDeleter&lt;T&gt;&gt; public ref class ImplPtrM sealed : ImplPtrBase&lt;T, D&gt; { public:    ImplPtrM(T* p) : ImplPtrBase(p) {}    operator bool() { return ( ImplPtrBase::Ptr() != nullptr); }    T* operator-&gt;() { return ImplPtrBase::Ptr(); }    T* Get() { return ImplPtrBase::Ptr(); } };</span></span></code> </pre> <br><a name="id-2-2"></a><br><h2>  2.2.  Anwendungsbeispiel </h2><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class"> //   {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    N();    ~N();    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoSomething</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... }; using NPtr = ImplPtr&lt;N&gt;; //   public ref class U : NPtr //  - { public:    U() : NPtr(new N()) {}    void DoSomething() { if (IsValid) Ptr()-&gt;DoSomething(); } // ... }; public ref class V //  -,   {    ImplPtrM&lt;N&gt; m_NPtr; //   public:    V() : m_NPtr(new N()) {}    void DoSomething() { if (m_NPtr) m_NPtr-&gt;DoSomething(); } // ... };</span></span></code> </pre> <br><p>  In diesen Beispielen werden die Klassen <code>U</code> und <code>V</code> ohne zus√§tzlichen Aufwand freigegeben, und <code>Dispose()</code> ruft den <code>delete</code> f√ºr einen Zeiger auf <code>N</code>  Mit der zweiten Option, die <code>ImplPtrM&lt;&gt;</code> , k√∂nnen Sie mehrere native Klassen in einer einzigen Deskriptorklasse verwalten. </p><br><a name="id-2-3"></a><br><h2>  2.3.  Komplexere Finalisierungsoptionen </h2><br><p>  Die Finalisierung ist ein ziemlich problematischer Aspekt von .NET.  In normalen Anwendungsszenarien sollten Finalizer nicht aufgerufen werden, Ressourcen sollten in <code>Dispose()</code> freigegeben werden.  In Notfallszenarien kann dies jedoch passieren und Finalizer sollten ordnungsgem√§√ü funktionieren. </p><br><a name="id-2-3-1"></a><br><h3>  2.3.1.  Finalizer Lock </h3><br><p>  Befindet sich die native Klasse in einer DLL, die mithilfe von <code>LoadLibrary()/FreeLibrary()</code> dynamisch <code>LoadLibrary()/FreeLibrary()</code> , kann es vorkommen, dass nach dem Entladen der DLL unver√∂ffentlichte Objekte vorhanden sind, die Verweise auf Instanzen dieser Klasse enthalten.  In diesem Fall versucht der Garbage Collector nach einer Weile, sie zu finalisieren, und da die DLL entladen ist, st√ºrzt das Programm h√∂chstwahrscheinlich ab.  (Ein charakteristisches Merkmal ist ein Absturz einige Sekunden, nachdem die Anwendung anscheinend geschlossen wurde.) Daher m√ºssen die Finalizer nach dem Entladen der DLL blockiert werden.  Dies kann mit einer kleinen √Ñnderung der grundlegenden <code>ImplPtrBase</code> Vorlage erreicht werden. </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ref <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DllFlag</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span>:    <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> s_Loaded = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetLoaded</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> loaded)</span></span></span><span class="hljs-function"> </span></span>{ s_Loaded = loaded; } }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> D&gt; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ref <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ImplPtrBase</span></span></span><span class="hljs-class"> :</span></span> DllFlag, System::IDisposable { <span class="hljs-comment"><span class="hljs-comment">// ...    !ImplPtrBase() { if (s_Loaded) Delete(); } // ... };</span></span></code> </pre> <br><p>  Nach dem Laden der DLL m√ºssen Sie <code>DllFlag::SetLoaded(true)</code> und vor dem Entladen von <code>DllFlag::SetLoaded(false)</code> . </p><br><a name="id-2-3-2"></a><br><h3>  2.3.2.  Verwenden von <code>SafeHandle</code> </h3><br><p>  Die <code>SafeHandle</code> Klasse implementiert einen ziemlich komplexen und zuverl√§ssigsten Finalisierungsalgorithmus, siehe [Richter].  Die <code>ImplPtrBase&lt;&gt;</code> kann f√ºr die Verwendung von <code>SafeHandle</code> neu <code>SafeHandle</code> .  Die restlichen Vorlagen m√ºssen nicht ge√§ndert werden. </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> SH = System::Runtime::InteropServices::SafeHandle; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> PtrType = System::IntPtr; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> D&gt; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ref <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ImplPtrBase</span></span></span><span class="hljs-class"> :</span></span> SH { <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span>:    ImplPtrBase(T* p) : SH(PtrType::Zero, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)    {        handle = PtrType(p);    }    <span class="hljs-function"><span class="hljs-function">T* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Ptr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;T*&gt;(handle.ToPointer()); }    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReleaseHandle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> override    </span></span>{        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!IsInvalid)        {            D del;            del(Ptr());            handle = PtrType::Zero;        }        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;    } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    property <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> IsInvalid    {        <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> override        </span></span>{            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (handle == PtrType::Zero);        }    } };</code> </pre> <br><a name="id-refs"></a><br><h1>  Referenzliste </h1><br><p>  [Richter] <br>  Richter, Jeffrey.  Programmieren auf der Plattform Microsoft .NET Framework 4.5 in C #.  4. Aufl.: Per.  aus dem Englischen  - St. Petersburg: Peter, 2016. </p><br><p>  [Cwalina] <br>  Tsvalina, Krzhishtov.  Abrams, Brad.  Infrastruktur von Softwareprojekten: Konventionen, Redewendungen und Vorlagen f√ºr wiederverwendbare .NET-Bibliotheken .: Transl.  aus dem Englischen  - M.: LLC ‚ÄúI.D.  Williams, 2011. </p><br><p>  [Hogenson] <br>  Hogenson, Gordon.  C ++ / CLI: Visuelle C ++ - Sprache f√ºr die .NET-Umgebung .: Per.  aus dem Englischen  - M.: LLC ‚ÄúI.D.  Williams, 2007. </p><br><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426411/">https://habr.com/ru/post/de426411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de426399/index.html">Kronos: Keine Zeitreise auch in verteilten Systemen</a></li>
<li><a href="../de426401/index.html">Amazon wird seiner KI beibringen, menschliche Emotionen zu definieren</a></li>
<li><a href="../de426405/index.html">Hacker im Rahmen der Gesetze der Russischen F√∂deration</a></li>
<li><a href="../de426407/index.html">Wie man die Reise zur Konferenz so nutzlos wie m√∂glich macht</a></li>
<li><a href="../de426409/index.html">Der Hacker Alexei, der MikroTik-Router ohne Erlaubnis der Eigent√ºmer sch√ºtzt, ist ber√ºhmt geworden</a></li>
<li><a href="../de426413/index.html">FESTE Prinzipien, √ºber die jeder Entwickler Bescheid wissen sollte</a></li>
<li><a href="../de426415/index.html">Fintech-Digest: Digitalisierungskontrolle durch die Zentralbank, Gehalt in Kryptow√§hrung, Mir-Karte in Form von Armb√§ndern und Schl√ºsselringen</a></li>
<li><a href="../de426417/index.html">Pavel 2.0: Reptilienberater auf JS, node.js mit Sockets und Telefonie</a></li>
<li><a href="../de426419/index.html">Verbotene √úberlastungs- oder Bridge-Methoden in Java</a></li>
<li><a href="../de426421/index.html">EHCI menschlich auf Russisch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>