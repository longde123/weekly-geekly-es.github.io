<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍🏭 🤥 👨‍🍳 Apa itu "ini" dan apa yang dimakannya 🏅 🐂 👨🏼‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foto oleh Sebastian Herrmann . 

 Selamat siang teman-teman! 

 Saya mempersembahkan kepada Anda terjemahan artikel Daniel James “Apa itu 'ini'? Kenap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apa itu "ini" dan apa yang dimakannya</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486048/"><img src="https://habrastorage.org/webt/hp/hc/s0/hphcs0pvspbd2pixgpfcnws9zg4.jpeg"><br>  Foto oleh <a href="https://unsplash.com/%40officestock" rel="nofollow">Sebastian Herrmann</a> . <br><br>  Selamat siang teman-teman! <br><br>  Saya mempersembahkan kepada Anda terjemahan artikel Daniel James <a href="https://www.javascriptjanuary.com/blog/what-is-this-why-is-that" rel="nofollow">“Apa itu 'ini'?</a>  <a href="https://www.javascriptjanuary.com/blog/what-is-this-why-is-that" rel="nofollow">Kenapa begitu? ”</a> . <br><br><h2>  Apa itu "ini" dan apa yang dimakannya </h2><br>  Ketika saya mulai belajar JavaScript, konsep ini bagi saya sangat membingungkan. <br><br><h3>  Pendahuluan </h3><br>  Pertumbuhan cepat dalam popularitas JS sebagian dapat dijelaskan oleh ambang masuk yang rendah.  Fitur seperti fungsi dan ini biasanya berfungsi seperti yang diharapkan.  Untuk menjadi seorang profesional di JS, Anda tidak perlu tahu banyak detail kecil dan detail (saya akan membantahnya - kira-kira Per.).  Tetapi sekali, setiap pengembang menemukan kesalahan yang disebabkan oleh nilai ini. <br><br>  Setelah itu, Anda memiliki keinginan untuk memahami cara kerjanya di JS.  Apakah ini konsep pemrograman berorientasi objek (OOP)?  Apakah JS Bahasa Pemrograman Berorientasi Objek (OOJP)?  Jika Anda "google" ini, Anda akan menerima tanggapan menyebutkan beberapa prototipe.  Prototipe seperti apa?  Untuk apa kata kunci "baru" digunakan sebelum kelas muncul di JS? <br><br>  Semua hal ini berkaitan erat.  Tetapi sebelum menjelaskan bagaimana ini bekerja, saya akan membiarkan diri saya sedikit menyimpang.  Saya ingin berbicara sedikit tentang mengapa JS itu apa adanya. <br><a name="habracut"></a><br><h3>  OOP di JS </h3><br>  Paradigma pemrograman prototipe (warisan) dalam JS adalah salah satu keunggulan OOP.  Bahkan sebelum munculnya kelas JS, ada OOJP.  JS adalah bahasa sederhana yang hanya menggunakan beberapa hal dari OOP.  Yang paling penting adalah fungsi, penutup, ini, prototipe, objek literal, dan kata kunci baru. <br><br><h3>  Enkapsulasi dan Dapat Digunakan Kembali dengan Penutup </h3><br>  Mari kita buat kelas Counter.  Kelas ini harus memiliki metode untuk mengatur ulang dan menambah penghitung.  Kita dapat menulis sesuatu seperti ini: <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">initialValue = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> _count = initialValue <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">reset</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ _count = <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">next</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ++_count } } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myCounter = Counter() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myCounter.next()) <span class="hljs-comment"><span class="hljs-comment">// 1</span></span></code> </pre> <br>  Dalam hal ini, kami membatasi diri untuk menggunakan fungsi dan objek literal tanpa ini atau baru.  Ya, kami sudah mendapatkan sesuatu dari OOP.  Kami memiliki kesempatan untuk membuat instance Counter baru.  Setiap instance Counter memiliki jumlah variabel internal sendiri.  Kami menerapkan enkapsulasi dan menggunakan kembali dengan cara yang murni fungsional. <br><br><h3>  Masalah kinerja </h3><br>  Misalkan kita sedang menulis sebuah program yang menggunakan sejumlah besar penghitung.  Setiap penghitung akan memiliki metode reset sendiri dan selanjutnya (Penghitung (). Reset! = Penghitung (). Reset).  Membuat penutupan seperti itu untuk setiap metode dari setiap instance akan membutuhkan banyak memori!  Arsitektur seperti itu "tidak berkelanjutan."  Oleh karena itu, kita perlu menemukan cara untuk menyimpan di setiap instance Counter hanya referensi ke metode yang digunakannya (pada kenyataannya, inilah yang dilakukan semua OOJP, seperti Java). <br><br>  Kami dapat memecahkan masalah ini sebagai berikut (tanpa melibatkan fitur bahasa tambahan): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> Counter = { <span class="hljs-attr"><span class="hljs-attr">reset</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">counter</span></span></span><span class="hljs-function">)</span></span>{ counter._count = <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">next</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">counter</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ++counter._count }, <span class="hljs-attr"><span class="hljs-attr">new</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">initialValue = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">_count</span></span>: initialValue } } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myCounter = Counter.new() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(Counter.next(myCounter)) <span class="hljs-comment"><span class="hljs-comment">// 1</span></span></code> </pre><br>  Pendekatan ini memecahkan masalah kinerja, tetapi kami harus membuat kompromi yang serius, yang terdiri dari kebutuhan akan partisipasi programmer tingkat tinggi dalam pelaksanaan program (dalam memastikan bahwa kode tersebut berfungsi).  Tanpa alat tambahan, kita harus puas dengan pendekatan ini. <br><br><h3>  Ini bergegas menyelamatkan </h3><br>  Kami menulis ulang contoh kami menggunakan ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> Counter = { <span class="hljs-attr"><span class="hljs-attr">reset</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">next</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ++<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count }, <span class="hljs-attr"><span class="hljs-attr">new</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">initialValue = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">_count</span></span>: initialValue, <span class="hljs-comment"><span class="hljs-comment">//          reset: Counter.reset, next: Counter.next } } } const myCounter = Counter.new() myCounter.next() // ,  reset     myCounter (Counter.new()).reset() console.log(myCounter.next()) // 2</span></span></code> </pre><br>  Perhatikan bahwa kami masih membuat reset sederhana dan fungsi berikutnya (Counter.new (). Reset == Counter.new (). Reset).  Dalam contoh sebelumnya, agar program dapat bekerja, kami dipaksa untuk memberikan deskriptor contoh untuk metode yang diterapkan bersama.  Sekarang kita panggil myCounter.next () dan lihat contoh menggunakan ini.  Tetapi bagaimana cara kerjanya?  Reset dan selanjutnya dideklarasikan di objek Counter.  Bagaimana JS tahu apa ini merujuk ketika memanggil fungsi? <br><br><h3>  Fungsi Memanggil di JS </h3><br>  Anda tahu betul bahwa fungsi-fungsi di JS memiliki metode panggilan (ada juga metode yang berlaku; perbedaan antara metode ini tidak signifikan. Perbedaannya adalah bagaimana kami meneruskan parameter: di terapkan sebagai array, dalam panggilan dipisahkan oleh koma - kira-kira Per.) .  Menggunakan panggilan, Anda memutuskan apa artinya ini ketika fungsi dipanggil: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myCounter = Counter.new() Counter.next.call(myCounter)</code> </pre><br>  Ini sebenarnya yang notasi titik lakukan di belakang layar ketika kita memanggil fungsi.  lhs.fn () identik dengan fn.call (lhs). <br><br>  Jadi, ini adalah pengidentifikasi khusus yang diatur ketika fungsi dipanggil. <br><br><h3>  Masalah mulai </h3><br>  Katakanlah Anda ingin membuat penghitung dan menambah nilainya setiap detik.  Inilah cara melakukannya: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myCounter = Counter.new() setInterval(myCounter.next, <span class="hljs-number"><span class="hljs-number">1000</span></span>) <span class="hljs-comment"><span class="hljs-comment">//    console.log(`Why is ${myCounter.next()} still 0?`) //  myCounter.next()    0?</span></span></code> </pre><br>  Apakah Anda melihat kesalahan di sini?  Ketika setInterval dimulai, nilai ini tidak terdefinisi, jadi tidak ada yang terjadi.  Masalah ini dapat dipecahkan sebagai berikut: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myCounter = Counter.new() setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ myCounter.next() }, <span class="hljs-number"><span class="hljs-number">1000</span></span>)</code> </pre><br><h3>  Sedikit tentang mengikat </h3><br>  Ada cara lain untuk mengatasi masalah ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bindThis</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fn, _this</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fn.call(_this, ...args) } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myCounter = Counter.new() setInterval(bindThis(myCounter.next, myCounter), <span class="hljs-number"><span class="hljs-number">1000</span></span>)</code> </pre><br>  Menggunakan fungsi bindThis pabrik, kita dapat memastikan bahwa Counter.next selalu memanggil myCounter karena ini, terlepas dari bagaimana fungsi baru dipanggil.  Bahkan, kami tidak mengubah fungsi Counter.next.  JS memiliki metode binding bawaan.  Oleh karena itu, kita dapat menulis ulang contoh di atas seperti ini: setInterval (myCounter.next.bind (myCounter), 1000). <br><br><h3>  Kami bekerja dengan prototipe </h3><br>  Saat ini, kami memiliki kelas Counter yang bagus, tetapi masih sedikit "bengkok".  Ini adalah baris berikut: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... reset: Counter.reset, next: Counter.next, // ...</span></span></code> </pre><br>  Kami membutuhkan cara yang lebih baik untuk berbagi metode kelas dengan instansnya.  Prototipe melakukan tugasnya dengan sangat baik.  Jika Anda merujuk ke properti fungsi atau objek yang tidak ada, JS akan mencari properti ini dalam prototipe fungsi atau objek ini (kemudian dalam prototipe prototipe dan seterusnya ke Object.prototype yang terletak di bagian atas rantai prototipe - sekitar Trans.).  Anda bisa mendefinisikan prototipe suatu objek menggunakan Object.setPrototypeOf.  Mari kita menulis ulang kelas Counter kita menggunakan prototipe: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> Counter = { <span class="hljs-attr"><span class="hljs-attr">reset</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">next</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ++<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count }, <span class="hljs-attr"><span class="hljs-attr">new</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">initialValue = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = initialValue } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newInstanceOf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">klass, ...args</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       "klass",  "class"   const instance = {} Object.setPrototypeOf(instance, klass) instance.new(...args) return instance } const myCounter = newInstanceOf(Counter) console.log(myCounter.next()) // 1</span></span></code> </pre><br><h3>  Kata kunci "baru" </h3><br>  Menggunakan setPrototypeOf sangat mirip dengan cara kerja operator "baru".  Perbedaannya adalah bahwa baru akan menggunakan konstruktor prototipe dari fungsi yang dikirimkan.  Oleh karena itu, alih-alih membuat objek untuk metode kami, kami meneruskannya ke prototipe konstruktor fungsi: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">initialValue = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = initialValue } Counter.prototype.reset = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = <span class="hljs-number"><span class="hljs-number">0</span></span> } Counter.prototype.next = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ++<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myCounter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Counter() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${myCounter.next()}</span></span></span><span class="hljs-string">`</span></span>) <span class="hljs-comment"><span class="hljs-comment">// 1</span></span></code> </pre><br>  Akhirnya, kami memiliki kode dalam bentuk yang dapat ditemukan dalam praktek.  Sebelum kelas muncul di JS, ini adalah pendekatan standar untuk membuat dan menginisialisasi kelas. <br><br><h3>  Kata kunci "kelas" </h3><br>  Saya harap sekarang Anda mengerti mengapa kami menggunakan prototipe konstruktor fungsi dan bagaimana ini bekerja dalam metode fungsi.  Namun, kode kami dapat ditingkatkan.  Untungnya, hari ini di JS ada cara yang lebih baik untuk mendeklarasikan kelas: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter</span></span></span><span class="hljs-class"> </span></span>{ reset(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = <span class="hljs-number"><span class="hljs-number">0</span></span> } next(){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ++<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count } <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(initialValue = 0){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = initialValue } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myCounter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Counter() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${myCounter.next()}</span></span></span><span class="hljs-string">`</span></span>) <span class="hljs-comment"><span class="hljs-comment">// 1</span></span></code> </pre><br>  Kata kunci "kelas" tidak melakukan apa-apa terutama di bawah "kucing".  Anda dapat menganggapnya sebagai gula sintaksis, pembungkus untuk pendekatan "prototipe".  Jika Anda menjalankan transporter yang berorientasi pada ES3, Anda akan mendapatkan sesuatu seperti ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Counter = <span class="hljs-comment"><span class="hljs-comment">/** @class **/</span></span> (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">initialValue</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(initialValue === <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) { initialValue = <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = initialValue } Counter.prototype.reset = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count = <span class="hljs-number"><span class="hljs-number">0</span></span> } Counter.prototype.next = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ ++<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._count } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Counter }()); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myCounter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Counter() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myCounter.next())</code> </pre><br>  Perhatikan bahwa transpiler menghasilkan kode yang hampir identik dengan contoh sebelumnya. <br><br><h3>  Fungsi panah </h3><br>  Jika Anda telah menulis kode dalam JS selama 5 tahun terakhir, Anda mungkin terkejut bahwa saya menyebutkan fungsi panah.  Saran saya: selalu gunakan fungsi panah sampai Anda benar-benar membutuhkan fungsi reguler.  Kebetulan definisi dari konstruktor dan metode kelas adalah kasus ketika kita harus menggunakan fungsi biasa.  Salah satu fitur fungsi panah adalah kebingungan. <br><br><h3>  Ini dalam fungsi panah </h3><br>  Beberapa orang mungkin berasumsi bahwa fungsi panah mengambil nilai saat ini ketika dibuat.  Ini tidak benar dari sudut pandang teknis (arti dari ini tidak didefinisikan, diambil dari lingkungan leksikal), tetapi ini adalah model mental yang baik.  Fungsi panah seperti ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myArrowFunction = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.doSomething() }</code> </pre><br>  Anda dapat menulis ulang seperti ini: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> _this = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myRegularFunction = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ _this.doSomething() }</code> </pre><br>  Terima kasih atas perhatian anda  Semua yang terbaik </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id486048/">https://habr.com/ru/post/id486048/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id486032/index.html">Bagaimana menjadi desainer dialog</a></li>
<li><a href="../id486034/index.html">Entri cepat ke manajemen produk melalui Open source</a></li>
<li><a href="../id486036/index.html">Analisis sentimen teks pada Node.js</a></li>
<li><a href="../id486042/index.html">Pembawa pesan dan telekomunikasi</a></li>
<li><a href="../id486046/index.html">Kernel Linux termasuk WireGuard VPN</a></li>
<li><a href="../id486050/index.html">Perpustakaan Webix JavaScript melalui mata seorang pemula. Bagian 3. Modul, diagram, tabel pohon</a></li>
<li><a href="../id486052/index.html">Bumi hangus adalah ibu dari semua game. Wawancara dengan penciptanya</a></li>
<li><a href="../id486056/index.html">Dari skrip ke platform kami sendiri: bagaimana kami mengotomatiskan pengembangan di Cyan Institute</a></li>
<li><a href="../id486060/index.html">Temukan Ketertiban dalam Kekacauan TI: Mengatur Pengembangan Anda Sendiri</a></li>
<li><a href="../id486062/index.html">Render zero-copy sederhana dari video yang dipercepat perangkat keras dalam QML</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>