<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº ü§∑ ü•û Manuel Node.js, Partie 4: Fichiers npm, package.json et package-lock.json üëé üçù üå≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous publions la quatri√®me partie de la traduction de Node.js. Dans cet article, nous allons commencer √† parler de npm et √©galement consi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Manuel Node.js, Partie 4: Fichiers npm, package.json et package-lock.json</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423703/"> Aujourd'hui, nous publions la quatri√®me partie de la traduction de Node.js.  Dans cet article, nous allons commencer √† parler de npm et √©galement consid√©rer les fonctionnalit√©s des <code>package-lock.json</code> <code>package.json</code> et <code>package-lock.json</code> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[Nous vous conseillons de lire] Autres parties du cycle</b> <div class="spoiler_text">  Partie 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Informations g√©n√©rales et mise en route</a> <br>  Partie 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JavaScript, V8, quelques astuces de d√©veloppement</a> <br>  Partie 3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">H√©bergement, REPL, travailler avec la console, les modules</a> <br>  Partie 4: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fichiers npm, package.json et package-lock.json</a> <br>  Partie 5: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npm et npx</a> <br>  Partie 6: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">boucle d'√©v√©nements, pile d'appels, temporisateurs</a> <br>  Partie 7: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Programmation asynchrone</a> <br>  Partie 8: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, Partie 8: Protocoles HTTP et WebSocket</a> <br>  Partie 9: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, partie 9: utilisation du syst√®me de fichiers</a> <br>  Partie 10: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, Partie 10: Modules standard, flux, bases de donn√©es, NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PDF complet du guide Node.js</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Les bases du NPM</font> </h2><br>  Npm (gestionnaire de packages de n≈ìuds) est le gestionnaire de packages Node.js.  Dans la premi√®re partie de ce document, nous avons d√©j√† mentionn√© que maintenant, dans npm, il existe plus d'un demi-million de packages, ce qui en fait le plus grand r√©f√©rentiel de code √©crit au monde dans une seule langue.  Cela sugg√®re que dans npm, vous pouvez trouver des packages con√ßus pour r√©soudre presque toutes les t√¢ches. <br><br>  Initialement, npm a √©t√© cr√©√© en tant que syst√®me de gestion de packages pour Node.js, mais aujourd'hui, il est √©galement utilis√© pour d√©velopper des projets frontaux en JavaScript.  Pour interagir avec le registre npm, la commande du m√™me nom est utilis√©e, ce qui donne au d√©veloppeur de nombreuses opportunit√©s. <br><br><h3>  <font color="#3AC1EF">‚ñçChargement de packages</font> </h3><br>  √Ä l'aide de la commande <code>npm</code> , vous pouvez t√©l√©charger des packages √† partir du registre.  Ci-dessous, nous consid√©rerons des exemples de son utilisation. <br><br><h3>  <font color="#3AC1EF">‚ñçInstallation de toutes les d√©pendances du projet</font> </h3><br>  Si le projet a un fichier <code>package.json</code> , vous pouvez installer toutes les d√©pendances de ce projet avec la commande suivante: <br><br><pre> <code class="plaintext hljs">npm install</code> </pre> <br>  Cette commande t√©l√©charge tout ce dont le projet a besoin et place ces mat√©riaux dans le dossier <code>node_modules</code> , en le cr√©ant s'il n'existe pas dans le r√©pertoire du projet. <br><br><h3>  <font color="#3AC1EF">‚ñçInstallation d'un package s√©par√©</font> </h3><br>  Un autre peut √™tre install√© avec la commande suivante: <br><br><pre> <code class="plaintext hljs">npm install &lt;package-name&gt;</code> </pre> <br>  Vous pouvez souvent voir comment cette commande est utilis√©e non pas sous une forme aussi simple, mais avec certains indicateurs.  Consid√©rez-les: <br><br><ul><li>  L'indicateur <code>--save</code> permet d'installer un package et d'ajouter une entr√©e √† ce sujet dans la section des <code>dependencies</code> du fichier <code>package.json</code> , qui d√©crit les d√©pendances du projet.  Ces d√©pendances sont utilis√©es par le projet pour impl√©menter ses principales fonctionnalit√©s, elles sont install√©es lors de son d√©ploiement sur le serveur (apr√®s la sortie de npm 5, les entr√©es sur les packages install√©s dans la section des d√©pendances sont faites automatiquement, et sans utiliser cet indicateur). </li><li>  L' <code>--save-dev</code> vous permet d'installer le package et d'ajouter une entr√©e √† ce sujet √† la section contenant une liste des d√©pendances de d√©veloppement (c'est-√†-dire les packages qui sont n√©cessaires pendant le d√©veloppement du projet, comme les biblioth√®ques pour les tests, mais ne sont pas n√©cessaires pour son fonctionnement) du fichier <code>package.json</code> appel√© <code>devDependencies</code> . </li></ul><br><h3>  <font color="#3AC1EF">‚ñç Pack Update</font> </h3><br>  Pour mettre √† jour des packages, utilisez la commande suivante: <br><br><pre> <code class="plaintext hljs">npm update</code> </pre> <br>  Apr√®s avoir re√ßu cette commande, npm v√©rifiera tous les packages pour leurs nouvelles versions et s'ils trouvent que leurs nouvelles versions respectent les restrictions de version de package sp√©cifi√©es dans <code>package.json</code> , installez-les. <br><br>  Vous pouvez √©galement mettre √† niveau un package distinct: <br><br><pre> <code class="plaintext hljs">npm update &lt;package-name&gt;</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçMise en ligne des packages de certaines versions</font> </h3><br>  En plus des t√©l√©chargements de packages standard, npm prend √©galement en charge le t√©l√©chargement de versions sp√©cifiques d'entre eux.  En particulier, on peut noter que certaines biblioth√®ques ne sont compatibles qu'avec certaines versions importantes d'autres biblioth√®ques, c'est-√†-dire que si les d√©pendances de ces biblioth√®ques √©taient install√©es sans tenir compte des versions, cela pourrait perturber leur travail.  La possibilit√© d'installer une version sp√©cifique d'un package est utile dans les situations o√π, par exemple, la derni√®re version de ce package vous convient parfaitement, mais il s'av√®re qu'il contient une erreur.  En attendant la sortie d'une version fixe du package, vous pouvez utiliser sa version plus ancienne mais stable. <br><br>  La possibilit√© de sp√©cifier des versions sp√©cifiques des biblioth√®ques requises par le projet est utile dans le d√©veloppement d'√©quipe lorsque tous les membres de l'√©quipe utilisent exactement les m√™mes biblioth√®ques.  La transition vers leurs nouvelles versions s'effectue √©galement de mani√®re centralis√©e, en apportant des modifications au fichier de projet <code>package.json</code> . <br><br>  Dans tous ces cas, la possibilit√© de sp√©cifier les versions de package requises par le projet est extr√™mement utile.  Npm suit le standard du versioning s√©mantique (semver). <br><br><h3>  <font color="#3AC1EF">‚ñçEx√©cuter des scripts</font> </h3><br>  Le fichier <code>package.json</code> prend en charge la possibilit√© de d√©crire les commandes (scripts) qui peuvent √™tre lanc√©es √† l'aide de cette construction: <br><br><pre> <code class="plaintext hljs">npm &lt;task-name&gt;</code> </pre> <br>  Par exemple, voici √† quoi ressemble la liste des scripts dans la section correspondante du fichier: <br><br><pre> <code class="plaintext hljs">{ "scripts": {   "start-dev": "node lib/server-development",   "start": "node lib/server-production" } }</code> </pre> <br>  Il est tr√®s courant d'utiliser cette fonctionnalit√© pour d√©marrer Webpack: <br><br><pre> <code class="plaintext hljs">{ "scripts": {   "watch": "webpack --watch --progress --colors --config webpack.conf.js",   "dev": "webpack --progress --colors --config webpack.conf.js",   "prod": "NODE_ENV=production webpack -p --config webpack.conf.js", } }</code> </pre> <br>  Cette approche permet de remplacer l'entr√©e de commandes longues, lourdes d'erreurs, par les constructions simples suivantes: <br><br><pre> <code class="plaintext hljs">$ npm watch $ npm dev $ npm prod</code> </pre> <br><h3>  <font color="#3AC1EF">HereO√π npm installe-t-il les packages?</font> </h3><br>  Lors de l'installation de packages √† l'aide de npm (ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">yarn</a> ), deux options d'installation sont disponibles: locale et globale. <br><br>  Par d√©faut, lorsque vous utilisez une commande telle que <code>npm install lodash</code> , le package appara√Æt dans le dossier <code>node_modules</code> situ√© dans le dossier du projet.  De plus, si la commande ci-dessus a √©t√© ex√©cut√©e, npm ajoutera √©galement une entr√©e pour la biblioth√®que <code>lodash</code> √† la section des <code>dependencies</code> du fichier <code>package.json</code> , qui se trouve dans le r√©pertoire en cours. <br><br>  L'installation globale des packages est effectu√©e √† l'aide de l'indicateur <code>-g</code> : <br><br><pre> <code class="plaintext hljs">npm install -g lodash</code> </pre> <br>  En ex√©cutant une telle commande, npm n'installe pas le package dans le dossier local du projet.  Au lieu de cela, il copie les fichiers du package dans un emplacement global.  O√π vont exactement ces fichiers? <br><br>  Pour le savoir, utilisez la commande suivante: <br><br><pre> <code class="plaintext hljs">npm root -g</code> </pre> <br>  Sous macOS ou Linux, les fichiers de package peuvent appara√Ætre dans le <code>/usr/local/lib/node_modules</code> .  Sous Windows, il peut s'agir de quelque chose comme <code>C:\Users\YOU\AppData\Roaming\npm\node_modules</code> . <br><br>  Toutefois, si vous utilisez Node.js nvm pour le contr√¥le de version, le chemin d'acc√®s au dossier de package global peut changer. <br><br>  Par exemple, j'utilise nvm et la commande ci-dessus m'indique que les packages globaux sont install√©s √† cette adresse: <code>/Users/flavio/.nvm/versions/node/v8.9.0/lib/node_modules</code> . <br><br><h3>  <font color="#3AC1EF">‚ñçUtiliser et ex√©cuter des packages install√©s avec npm</font> </h3><br>  Comment utiliser les modules install√©s en utilisant npm, localement ou globalement, tombant dans les dossiers <code>node_modules</code> ?  Supposons que vous ayez install√© la biblioth√®que <code>lodash</code> populaire, qui contient de nombreuses fonctions d'assistance utilis√©es dans le d√©veloppement JavaScript: <br><br><pre> <code class="plaintext hljs">npm install lodash</code> </pre> <br>  Une telle commande installera la biblioth√®que dans le dossier local du projet <code>node_modules</code> . <br><br>  Pour l'utiliser dans votre code, importez-le simplement √† l'aide de la commande <code>require</code> : <br><br><pre> <code class="plaintext hljs">const _ = require('lodash')</code> </pre> <br>  Que faire si le package est un fichier ex√©cutable? <br><br>  Dans ce cas, le fichier ex√©cutable se <code>node_modules/.bin/ folder</code> dans le <code>node_modules/.bin/ folder</code> . <br><br>  Vous pouvez voir comment ce m√©canisme fonctionne en installant le paquet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cowsay</a> .  Il s'agit d'un programme comique √©crit pour la ligne de commande.  Si vous passez du texte √† ce paquet, dans la console, dans le style de l'art ASCII, une image d'une vache sera affich√©e qui "prononcera" le texte correspondant.  D'autres cr√©atures peuvent ¬´exprimer¬ª le texte. <br><br>  Ainsi, apr√®s avoir install√© le package √† l'aide de la <code>npm install cowsay</code> , celui-ci, avec ses d√©pendances, se <code>node_modules</code> dans <code>node_modules</code> .  Et dans le dossier <code>.bin</code> cach√© seront √©crits des liens symboliques vers des fichiers binaires cowsay. <br><br>  Comment les r√©aliser? <br><br>  Bien s√ªr, vous pouvez entrer quelque chose comme <code>./node_modules/.bin/cowsay</code> dans le terminal pour appeler le programme, c'est une approche de travail, mais il est beaucoup mieux d'utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npx</a> , un outil pour lancer les ex√©cutables du package npm, inclus dans npm depuis la version 5.2.  A savoir, dans notre cas, nous avons besoin de la commande suivante: <br><br><pre> <code class="plaintext hljs">npx cowsay</code> </pre> <br>  Le chemin vers le package npx sera trouv√© automatiquement. <br><br><h2>  <font color="#3AC1EF">Fichier Package.json</font> </h2><br>  Le fichier <code>package.json</code> est un √©l√©ment essentiel de nombreux projets bas√©s sur l'√©cosyst√®me Node.js.  Si vous avez programm√© en JavaScript, qu'il s'agisse de d√©veloppement serveur ou client, vous avez probablement d√©j√† vu ce fichier.  Pourquoi est-il n√©cessaire?  Que devez-vous savoir sur lui et quelles opportunit√©s vous offre-t-il? <br><br>  <code>Package.json</code> est une sorte de fichier manifeste pour un projet.  Il met √† la disposition du d√©veloppeur de nombreuses possibilit√©s diverses.  Par exemple, il repr√©sente le r√©f√©rentiel central des param√®tres des outils utilis√©s dans le projet.  De plus, c'est l'endroit o√π <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npm</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">yarn</a> √©crivent des informations sur les noms et les versions des packages install√©s. <br><br><h3>  <font color="#3AC1EF">‚ñç Structure des fichiers</font> </h3><br>  Voici un exemple de fichier <code>package.json</code> simple: <br><br><pre> <code class="plaintext hljs">{ }</code> </pre> <br>  Comme vous pouvez le voir, il est vide.  Il n'y a pas d'exigences strictes concernant ce qui doit √™tre pr√©sent dans un tel fichier pour une certaine application.  La seule exigence pour la structure du fichier est qu'elle doit suivre les r√®gles du format JSON.  Sinon, ce fichier ne peut pas √™tre lu par les programmes qui tentent d'acc√©der √† son contenu. <br><br>  Si vous cr√©ez un package Node.js que vous avez l'intention de distribuer via npm, alors tout change radicalement et votre <code>package.json</code> doit avoir un ensemble de propri√©t√©s qui aideront d'autres personnes √† utiliser le package.  Nous en reparlerons plus tard. <br><br>  Voici un autre exemple de <code>package.json</code> : <br><br><pre> <code class="plaintext hljs">{ "name": "test-project" }</code> </pre> <br>  Il d√©finit la propri√©t√© <code>name</code> , dont la valeur est le nom de l'application ou du package dont les mat√©riaux sont contenus dans le m√™me dossier o√π se trouve ce fichier. <br><br>  Voici un exemple plus compliqu√© que j'ai pris d'un exemple d'application √©crit en utilisant Vue.js: <br><br><pre> <code class="plaintext hljs">{ "name": "test-project", "version": "1.0.0", "description": "A Vue.js project", "main": "src/main.js", "private": true, "scripts": {   "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",   "start": "npm run dev",   "unit": "jest --config test/unit/jest.conf.js --coverage",   "test": "npm run unit",   "lint": "eslint --ext .js,.vue src test/unit",   "build": "node build/build.js" }, "dependencies": {   "vue": "^2.5.2" }, "devDependencies": {   "autoprefixer": "^7.1.2",   "babel-core": "^6.22.1",   "babel-eslint": "^8.2.1",   "babel-helper-vue-jsx-merge-props": "^2.0.3",   "babel-jest": "^21.0.2",   "babel-loader": "^7.1.1",   "babel-plugin-dynamic-import-node": "^1.2.0",   "babel-plugin-syntax-jsx": "^6.18.0",   "babel-plugin-transform-es2015-modules-commonjs": "^6.26.0",   "babel-plugin-transform-runtime": "^6.22.0",   "babel-plugin-transform-vue-jsx": "^3.5.0",   "babel-preset-env": "^1.3.2",   "babel-preset-stage-2": "^6.22.0",   "chalk": "^2.0.1",   "copy-webpack-plugin": "^4.0.1",   "css-loader": "^0.28.0",   "eslint": "^4.15.0",   "eslint-config-airbnb-base": "^11.3.0",   "eslint-friendly-formatter": "^3.0.0",   "eslint-import-resolver-webpack": "^0.8.3",   "eslint-loader": "^1.7.1",   "eslint-plugin-import": "^2.7.0",   "eslint-plugin-vue": "^4.0.0",   "extract-text-webpack-plugin": "^3.0.0",   "file-loader": "^1.1.4",   "friendly-errors-webpack-plugin": "^1.6.1",   "html-webpack-plugin": "^2.30.1",   "jest": "^22.0.4",   "jest-serializer-vue": "^0.3.0",   "node-notifier": "^5.1.2",   "optimize-css-assets-webpack-plugin": "^3.2.0",   "ora": "^1.2.0",   "portfinder": "^1.0.13",   "postcss-import": "^11.0.0",   "postcss-loader": "^2.0.8",   "postcss-url": "^7.2.1",   "rimraf": "^2.6.0",   "semver": "^5.3.0",   "shelljs": "^0.7.6",   "uglifyjs-webpack-plugin": "^1.1.1",   "url-loader": "^0.5.8",   "vue-jest": "^1.0.2",   "vue-loader": "^13.3.0",   "vue-style-loader": "^3.0.1",   "vue-template-compiler": "^2.5.2",   "webpack": "^3.6.0",   "webpack-bundle-analyzer": "^2.9.0",   "webpack-dev-server": "^2.9.1",   "webpack-merge": "^4.1.0" }, "engines": {   "node": "&gt;= 6.0.0",   "npm": "&gt;= 3.0.0" }, "browserslist": [   "&gt; 1%",   "last 2 versions",   "not ie &lt;= 8" ] }</code> </pre> <br>  Comme vous pouvez le voir, il y a juste beaucoup de choses int√©ressantes.  √Ä savoir, les propri√©t√©s suivantes peuvent √™tre distingu√©es ici: <br><br><ul><li>  <code>name</code> - d√©finit le nom de l'application (package). </li><li>  <code>version</code> - contient des informations sur la version actuelle de l'application. </li><li>  <code>description</code> - une br√®ve description de l'application. </li><li>  <code>main</code> - d√©finit le point d'entr√©e de l'application. </li><li>  <code>private</code> - si cette propri√©t√© est d√©finie sur <code>true</code> , cela emp√™che la publication accidentelle du package vers npm. </li><li>  <code>scripts</code> - d√©finit un ensemble de scripts Node.js qui peuvent √™tre ex√©cut√©s. </li><li>  <code>dependencies</code> - contient une liste des packages npm dont d√©pend l'application. </li><li>  <code>devDependencies</code> - contient une liste des packages npm utilis√©s lors du d√©veloppement d'un projet, mais pas quand cela fonctionne vraiment. </li><li>  <code>engines</code> - d√©finit la liste des versions de Node.js sur lesquelles l'application s'ex√©cute. </li><li>  <code>browserlist</code> - utilis√© pour stocker la liste des navigateurs (et leurs versions) que l'application doit prendre en charge. </li></ul><br>  Toutes ces propri√©t√©s sont utilis√©es par npm ou par d'autres outils utilis√©s tout au long du cycle de vie de l'application. <br><br><h3>  <font color="#3AC1EF">‚ñçPropri√©t√©s utilis√©es dans package.json</font> </h3><br>  Parlons des propri√©t√©s qui peuvent √™tre utilis√©es dans <code>package.json</code> .  Ici, nous utiliserons le terme ¬´package¬ª, mais tout ce qui est dit sur les packages est √©galement vrai pour les applications locales qui ne sont pas pr√©vues pour √™tre utilis√©es comme packages. <br><br>  La plupart des propri√©t√©s que nous d√©crivons sont utilis√©es uniquement pour les besoins du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel</a> npm, certaines sont utilis√©es par des programmes qui interagissent avec du code comme le m√™me npm. <br><br><h4>  Propri√©t√© de nom </h4><br>  La propri√©t√© <code>name</code> d√©finit le nom du package: <br><br><pre> <code class="plaintext hljs">"name": "test-project"</code> </pre> <br>  Le nom doit √™tre plus court que 214 caract√®res, ne doit pas inclure d'espaces, doit √™tre compos√© uniquement de majuscules, de tirets ( <code>-</code> ) et de traits de soulignement ( <code>_</code> ). <br><br>  Des restrictions similaires existent car lorsqu'un package est publi√© dans npm, son nom est utilis√© pour former l'URL de la page du package. <br><br>  Si vous avez publi√© le code du package sur GitHub, dans le domaine public, une bonne option pour le nom du package est le nom du r√©f√©rentiel GitHub correspondant. <br><br><h4>  Propri√©t√© d'auteur </h4><br>  La propri√©t√© <code>author</code> contient des informations sur l'auteur du package: <br><br><pre> <code class="plaintext hljs">{ "author": "Flavio Copes &lt;flavio@flaviocopes.com&gt; (https://flaviocopes.com)" }</code> </pre> <br>  Il peut √™tre pr√©sent√© dans le format suivant: <br><br><pre> <code class="plaintext hljs">{ "author": {   "name": "Flavio Copes",   "email": "flavio@flaviocopes.com",   "url": "https://flaviocopes.com" } }</code> </pre> <br><h4>  Propri√©t√© des contributeurs </h4><br>  La propri√©t√© <code>contributors</code> contient un tableau contenant des informations sur les personnes qui ont contribu√© au projet: <br><br><pre> <code class="plaintext hljs">{ "contributors": [   "Flavio Copes &lt;flavio@flaviocopes.com&gt; (https://flaviocopes.com)" ] }</code> </pre> <br>  Cette propri√©t√© peut ressembler √† ceci: <br><br><pre> <code class="plaintext hljs">{ "contributors": [   {     "name": "Flavio Copes",     "email": "flavio@flaviocopes.com",     "url": "https://flaviocopes.com"   } ] }</code> </pre> <br><h4>  Propri√©t√© Bugs </h4><br>  La propri√©t√© <code>bugs</code> contient un lien vers le suivi des bogues du projet, il est tr√®s probable qu'un tel lien m√®ne √† la page du syst√®me de suivi des erreurs GitHub: <br><br><pre> <code class="plaintext hljs">{ "bugs": "https://github.com/flaviocopes/package/issues" }</code> </pre> <br><h4>  Propri√©t√© de la page d'accueil </h4><br>  La propri√©t√© de la <code>homepage</code> vous permet de d√©finir la page d'accueil du package: <br><br><pre> <code class="plaintext hljs">{ "homepage": "https://flaviocopes.com/package" }</code> </pre> <br><h4>  Propri√©t√© de version </h4><br>  La propri√©t√© <code>version</code> contient des informations sur la version actuelle du package: <br><br><pre> <code class="plaintext hljs">"version": "1.0.0"</code> </pre> <br>  Lors de la formation de la valeur de cette propri√©t√©, vous devez suivre les r√®gles de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gestion de versions s√©mantique</a> .  Cela signifie notamment que le num√©ro de version est toujours repr√©sent√© par trois chiffres: xxx <br><br>  Le premier num√©ro est la version principale du package, le second est la version mineure, le troisi√®me est la version patch. <br><br>  Changer ces chiffres a une certaine signification.  Ainsi, la sortie d'un package dans lequel les erreurs ne sont corrig√©es m√®ne qu'√† une augmentation de la valeur de la version du patch.  Si un package est publi√©, dont les modifications apport√©es sont r√©trocompatibles avec la version pr√©c√©dente, la version mineure change.  Les versions majeures des packages peuvent contenir des modifications qui rendent ces packages incompatibles avec les packages des versions majeures pr√©c√©dentes. <br><br><h4>  Propri√©t√© de licence </h4><br>  La propri√©t√© de <code>license</code> contient des informations sur la <code>license</code> package: <br><br><pre> <code class="plaintext hljs">"license": "MIT"</code> </pre> <br><h4>  Mots-cl√©s propri√©t√© </h4><br>  La propri√©t√© <code>keywords</code> contient un tableau de mots-cl√©s li√©s √† la fonctionnalit√© du package: <br><br><pre> <code class="plaintext hljs">"keywords": [ "email", "machine learning", "ai" ]</code> </pre> <br>  La s√©lection correcte des mots cl√©s aide les gens √† trouver ce dont ils ont besoin lors de la recherche de packages pour r√©soudre certains probl√®mes, vous permet de regrouper les packages et d'√©valuer rapidement leurs fonctionnalit√©s possibles lors de la consultation du site npm. <br><br><h4>  Description de la propri√©t√© </h4><br>  La propri√©t√© <code>description</code> contient une br√®ve description du package: <br><br><pre> <code class="plaintext hljs">"description": "A package to work with strings"</code> </pre> <br>  Cette propri√©t√© est particuli√®rement importante si vous pr√©voyez de publier le package dans npm, car elle permet aux utilisateurs du site npm de comprendre l'objectif du package. <br><br><h4>  Propri√©t√© du r√©f√©rentiel </h4><br>  La propri√©t√© du <code>repository</code> indique o√π se trouve le r√©f√©rentiel de packages: <br><br><pre> <code class="plaintext hljs">"repository": "github:flaviocopes/testing",</code> </pre> <br>  Notez que la valeur de cette propri√©t√© a le pr√©fixe <code>github</code> .  Npm prend √©galement en charge les pr√©fixes pour certains autres services populaires de ce type: <br><br><pre> <code class="plaintext hljs">"repository": "gitlab:flaviocopes/testing", "repository": "bitbucket:flaviocopes/testing",</code> </pre> <br>  Le syst√®me de contr√¥le de version utilis√© dans le d√©veloppement du package peut √©galement √™tre d√©fini explicitement: <br><br><pre> <code class="plaintext hljs">"repository": { "type": "git", "url": "https://github.com/flaviocopes/testing.git" }</code> </pre> <br>  Le m√™me package peut utiliser diff√©rents syst√®mes de contr√¥le de version: <br><br><pre> <code class="plaintext hljs">"repository": { "type": "svn", "url": "..." }</code> </pre> <br><h4>  Propri√©t√© principale </h4><br>  La propri√©t√© <code>main</code> d√©finit le point d'entr√©e du package: <br><br><pre> <code class="plaintext hljs">"main": "src/main.js"</code> </pre> <br>  Lorsqu'un package est import√© dans l'application, c'est l√† que la recherche sera effectu√©e pour ce que le module correspondant exporte. <br><br><h4>  Propri√©t√© priv√©e </h4><br>  La propri√©t√© <code>private</code> d√©finie sur <code>true</code> emp√™che la publication accidentelle du package vers npm: <br><br><pre> <code class="plaintext hljs">"private": true</code> </pre> <br><h4>  Propri√©t√© Scripts </h4><br>  La propri√©t√© <code>scripts</code> d√©finit la liste des scripts ou des utilitaires pouvant √™tre lanc√©s √† l'aide des outils npm: <br><br><pre> <code class="plaintext hljs">"scripts": { "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js", "start": "npm run dev", "unit": "jest --config test/unit/jest.conf.js --coverage", "test": "npm run unit", "lint": "eslint --ext .js,.vue src test/unit", "build": "node build/build.js" }</code> </pre> <br>  Ces scripts sont des applications en ligne de commande.  Vous pouvez les ex√©cuter en utilisant npm ou yarn, respectivement, en ex√©cutant des commandes de la forme <code>npm run XXXX</code> ou <code>yarn XXXX</code> , o√π <code>XXXX</code> est le nom du script.  Par exemple, cela pourrait ressembler √† ceci: <br><br><pre> <code class="plaintext hljs">npm run dev</code> </pre> <br>  Les scripts peuvent √™tre appel√©s comme vous le souhaitez, ils peuvent faire presque tout ce qu'un d√©veloppeur peut souhaiter. <br><br><h4>  Propri√©t√© des d√©pendances </h4><br>  La propri√©t√© <code>dependencies</code> contient une liste de packages npm install√©s en tant que d√©pendances de package: <br><br><pre> <code class="plaintext hljs">"dependencies": { "vue": "^2.5.2" }</code> </pre> <br>  Lors de l'installation d'un package √† l'aide de npm ou de fil, les commandes suivantes sont utilis√©es: <br><br><pre> <code class="plaintext hljs">npm install &lt;PACKAGENAME&gt; yarn add &lt;PACKAGENAME&gt;</code> </pre> <br>  Ces packages sont automatiquement ajout√©s √† la liste des d√©pendances du package en cours de d√©veloppement. <br><br><h4>  DevDependencies, propri√©t√© </h4><br>  La propri√©t√© <code>devDependencies</code> contient une liste de packages npm install√©s en tant que d√©pendances de d√©veloppement: <br><br><pre> <code class="plaintext hljs">"devDependencies": { "autoprefixer": "^7.1.2", "babel-core": "^6.22.1" }</code> </pre> <br>  Cette liste est diff√©rente de celle stock√©e dans la propri√©t√© <code>dependencies</code> , car les packages qui y sont disponibles sont install√©s uniquement dans le syst√®me du d√©veloppeur du package; dans l'utilisation pratique du package, ils ne sont pas utilis√©s. <br><br>  Les packages entrent dans cette liste lorsqu'ils sont install√©s √† l'aide de npm ou de fil, comme suit: <br><br><pre> <code class="plaintext hljs">npm install --dev &lt;PACKAGENAME&gt; yarn add --dev &lt;PACKAGENAME&gt;</code> </pre> <br><h4>  Propri√©t√© des moteurs </h4><br>  La propri√©t√© <code>engines</code> indique quelles versions de Node.js et d'autres produits logiciels sont utilis√©s pour fournir le package: <br><br><pre> <code class="plaintext hljs">"engines": { "node": "&gt;= 6.0.0", "npm": "&gt;= 3.0.0", "yarn": "^0.13.0" }</code> </pre> <br><h4>  Propri√©t√© Browserlist </h4><br>  La propri√©t√© <code>browserlist</code> permet de signaler les navigateurs (et leurs versions) qui seront pris en charge par le d√©veloppeur du package: <br><br><pre> <code class="plaintext hljs">"browserslist": [ "&gt; 1%", "last 2 versions", "not ie &lt;= 8" ]</code> </pre> <br>  Cette propri√©t√© est utilis√©e par Babel, Autoprefixer et d'autres outils.  L'analyse de cette liste leur permet d'ajouter au package uniquement les polyfills et les m√©canismes auxiliaires n√©cessaires aux navigateurs r√©pertori√©s. <br><br>  La valeur de la propri√©t√© <code>browserlist</code> pr√©sent√©e ici √† titre d'exemple signifie que vous souhaitez prendre en charge au moins 2 versions principales de tous les navigateurs avec au moins 1% d'utilisation (ces donn√©es proviennent de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CanIUse.com</a> ), √† l'exception d'IE 8 et des versions plus anciennes de ce navigateur (plus cela peut √™tre trouv√© sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page du</a> package de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">listes de navigateurs</a> ) <br><br><h3>  <font color="#3AC1EF">‚ñç Stockage dans les param√®tres package.json pour divers outils logiciels</font> </h3><br>  Dans <code>package.json</code> vous pouvez stocker les param√®tres de divers outils auxiliaires comme Babel ou ESLint. <br><br>  Chacun de ces outils a une propri√©t√© sp√©ciale, comme <code>eslintConfig</code> ou <code>babel</code> .  Des d√©tails sur l'utilisation de ces propri√©t√©s peuvent √™tre trouv√©s dans la documentation des projets respectifs. <br><br><h3>  <font color="#3AC1EF">‚ñç√Ä propos des versions de packages et du versionnage s√©mantique</font> </h3><br>      ,           ,  ,       . ,   <code>~3.0.0</code>  <code>^0.13.0</code> .      ,     ,      . <br><br>  ,            ,    ,      ,      : <br><br><ul><li> <code>~</code> :       <code>~0.13.0</code>  ,     - .  ,  <code>0.13.1</code>  ,  <code>0.14.0</code> ‚Äî . </li><li> <code>^</code> :       <code>^0.13.0</code> ,  ,     -    .  ,     <code>0.13.1</code> , <code>0.14.0</code> ,   . </li><li> <code>*</code> :   ,   ,       ,    ‚Äî    . </li><li> <code>&gt;</code> :    ,   . </li><li> <code>&gt;=</code> :    ,     . </li><li> <code>&lt;=</code> :   ,       . </li><li> <code>&lt;</code> :   ,    . </li><li> <code>=</code> :      . </li><li> <code>-</code> :      ,  ‚Äî <code>2.1.0 - 2.6.2</code> . </li><li> <code>||</code> :    ,  .      <code>&lt; 2.1 || &gt; 2.6</code> . </li></ul><br>     : <br><br><ul><li>   :        ,  ,        -   . </li><li> <code>latest</code> :   ,        . </li></ul><br>     , ,     -. ,   <code>1.0.0 || &gt;=1.1.0 &lt;1.2.0</code>   ,       <code>1.0.0</code> ,  ,      <code>1.1.0</code> ,   <code>1.2.0</code> . <br><br><h2> <font color="#3AC1EF"> package-lock.json</font> </h2><br>  <code>package-lock.json</code>     npm  5.      Node.js-.    ? ,          <code>package.json</code> ,     . <br><br>          ,              ,  ,    ,  . <br><br>      ,     <code>package.json</code> .  <code>package.json</code>  ,       (-   )     . <br><br>  Git    <code>node_modules</code> ,       .        ,    <code>npm install</code>   , , ,    <code>~</code>      ,   -,     ,    ,    -. <br><br>       <code>^</code> .         ,         ,    ,     . <br><br> , -   ,   <code>npm install</code> .      ,      .  ,    ,    -      ,   ,   ,     ( )  . <br><br>  <code>package-lock.json</code>            npm          <code>npm install</code> . <br><br>    ,  ,      (  Composer  PHP)     . <br><br>  <code>package-lock.json</code>    Git-,         ,    ,  ,      ,     Git   . <br><br>      <code>package-lock.json</code>    <code>npm update</code> . <br><br><h3> <font color="#3AC1EF">‚ñç  package-lock.json</font> </h3><br>       <code>package-lock.json</code> ,      cowsay,      npm <code>install cowsay</code> : <br><br><pre> <code class="plaintext hljs">{ "requires": true, "lockfileVersion": 1, "dependencies": {   "ansi-regex": {     "version": "3.0.0",     "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-3. 0.0.tgz",     "integrity": "sha1-7QMXwyIGT3lGbAKWa922Bas32Zg="   },   "cowsay": {     "version": "1.3.1",     "resolved": "https://registry.npmjs.org/cowsay/-/cowsay-1.3.1.tgz" ,     "integrity": "sha512-3PVFe6FePVtPj1HTeLin9v8WyLl+VmM1l1H/5P+BTTDkM Ajufp+0F9eLjzRnOHzVAYeIYFF5po5NjRrgefnRMQ==",     "requires": {       "get-stdin": "^5.0.1",       "optimist": "~0.6.1",       "string-width": "~2.1.1",       "strip-eof": "^1.0.0"     }   },   "get-stdin": {     "version": "5.0.1",     "resolved": "https://registry.npmjs.org/get-stdin/-/get-stdin-5.0. 1.tgz",     "integrity": "sha1-Ei4WFZHiH/TFJTAwVpPyDmOTo5g="   },   "is-fullwidth-code-point": {     "version": "2.0.0",     "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/ is-fullwidth-code-point-2.0.0.tgz",     "integrity": "sha1-o7MKXE8ZkYMWeqq5O+764937ZU8="   },   "minimist": {     "version": "0.0.10",     "resolved": "https://registry.npmjs.org/minimist/-/minimist-0.0.10 .tgz",     "integrity": "sha1-3j+YVD2/lggr5IrRoMfNqDYwHc8="   },   "optimist": {     "version": "0.6.1",     "resolved": "https://registry.npmjs.org/optimist/-/optimist-0.6.1.tgz",     "integrity": "sha1-2j6nRob6IaGaERwybpDrFaAZZoY=",     "requires": {       "minimist": "~0.0.1",       "wordwrap": "~0.0.2"     }   },   "string-width": {     "version": "2.1.1",     "resolved": "https://registry.npmjs.org/string-width/-/string-width-2.1.1.tgz",     "integrity": "sha512-nOqH59deCq9SRHlxq1Aw85Jnt4w6KvLKqWVik6oA9ZklXLNIOlqg4F2yrT1MVaTjAqvVwdfeZ7w7aCvJD7ugkw==",     "requires": {       "is-fullwidth-code-point": "^2.0.0",       "strip-ansi": "^4.0.0"     }   },   "strip-ansi": {     "version": "4.0.0",     "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-4.0.0.tgz",     "integrity": "sha1-qEeQIusaw2iocTibY1JixQXuNo8=",     "requires": {       "ansi-regex": "^3.0.0"     }   },   "strip-eof": {     "version": "1.0.0",     "resolved": "https://registry.npmjs.org/strip-eof/-/strip-eof-1.0.0.tgz",     "integrity": "sha1-u0P/VZim6wXYm1n80SnJgzE2Br8="   },   "wordwrap": {     "version": "0.0.3",     "resolved": "https://registry.npmjs.org/wordwrap/-/wordwrap-0.0.3.tgz",     "integrity": "sha1-o9XabNXAvAAI03I0u68b7WMFkQc="   } } }</code> </pre> <br>   .    cowsay,     : <br><br><ul><li> get-stdin </li><li> optimist </li><li> string-width </li><li> strip-eof </li></ul><br>  ,   ,    ,         <code>requires</code> ,      : <br><br><ul><li> ansi-regex </li><li> is-fullwidth-code-point </li><li> minimist </li><li> wordwrap </li><li> strip-eof </li></ul><br>       ,     <code>version</code> ,   <code>resolved</code> ,    ,    <code>integrity</code> ,       . <br><br><h2> <font color="#3AC1EF"></font> </h2><br>      npm        <code>package.json</code>  <code>package-lock.json</code> .       npm    npx. <br><br>  <b>Chers lecteurs!</b>      ‚Äî npm  yarn? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423703/">https://habr.com/ru/post/fr423703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423693/index.html">Une autre fa√ßon d'utiliser Webpack 4 et la s√©paration de code</a></li>
<li><a href="../fr423695/index.html">Comment prendre sa retraite avant 40 ans avec un million de dollars dans un compte bancaire</a></li>
<li><a href="../fr423697/index.html">Pr√©sentation de Spring Data JDBC</a></li>
<li><a href="../fr423699/index.html">¬´L'√©conomie num√©rique¬ª a augment√© de prix: 2 billions de roubles devront √™tre allou√©s sur le budget</a></li>
<li><a href="../fr423701/index.html">Guide Node.js, Partie 3: H√©bergement, REPL, Op√©rations de console, Modules</a></li>
<li><a href="../fr423705/index.html">Manuel Node.js, partie 5: npm et npx</a></li>
<li><a href="../fr423707/index.html">Ce qui est sous le capot de Jaxx. Entropie pr√™te √† l'emploi 128 bits</a></li>
<li><a href="../fr423709/index.html">CSS Grid - Couteau suisse pour les mises en page de sites Web et d'applications</a></li>
<li><a href="../fr423711/index.html">G√©rer pour un geek: d'o√π obtenir les donn√©es?</a></li>
<li><a href="../fr423713/index.html">"Made in Russia" - Langage de programmation WBASIC pour le d√©veloppement d'applications Web c√¥t√© serveur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>