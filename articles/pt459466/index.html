<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§òüèø üé¨ ü§¶üèø Lua em Moscou 2019: Entrevista com Roberto Ierusalimschy üë©üèø‚Äçü§ù‚Äçüë®üèæ üé∑ üîé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="H√° algum tempo, o criador da linguagem de programa√ß√£o Lua, Roberto Ierusalimschy, visitou nosso escrit√≥rio em Moscou. Fizemos a ele algumas perguntas ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lua em Moscou 2019: Entrevista com Roberto Ierusalimschy</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/459466/"><img src="https://habrastorage.org/webt/ng/7_/qz/ng7_qz-_skqhbze6n-v272bpohu.jpeg"><br><br>  H√° algum tempo, o criador da linguagem de programa√ß√£o Lua, Roberto Ierusalimschy, visitou nosso escrit√≥rio em Moscou.  Fizemos a ele algumas perguntas que tamb√©m preparamos com a participa√ß√£o dos usu√°rios do Habr.com.  E, finalmente, gostar√≠amos de compartilhar a vers√£o em texto completo desta entrevista. <br><a name="habracut"></a><br>  <b>- Vamos come√ßar com alguns assuntos filos√≥ficos.</b>  <b>Imagine, se voc√™ recriasse Lua do zero, quais tr√™s coisas voc√™ mudaria em Lua?</b> <br><br>  Uau!  Essa √© uma pergunta dif√≠cil.  H√° muita hist√≥ria embutida na cria√ß√£o e desenvolvimento da linguagem.  N√£o foi uma grande decis√£o de uma s√≥ vez.  H√° alguns arrependimentos, v√°rios dos quais tive a chance de corrigir ao longo dos anos.  As pessoas reclamam disso o tempo todo por causa da compatibilidade.  Fizemos isso v√°rias vezes.  Eu s√≥ estou pensando em coisas pequenas. <br><br>  <b>- Global por padr√£o?</b>  <b>Voc√™ acha que esse √© o caminho?</b> <br><br>  Talvez.  Mas √© muito dif√≠cil para linguagens din√¢micas.  Talvez a solu√ß√£o seja n√£o ter nenhum padr√£o, mas seria dif√≠cil usar vari√°veis ‚Äã‚Äãent√£o. <br><br>  Por exemplo, voc√™ teria que declarar de alguma forma todas as bibliotecas padr√£o.  Voc√™ deseja uma linha √∫nica, <code>print(sin(x))</code> e, em seguida, ter√° que declarar 'print' e tamb√©m declarar 'sin'.  Portanto, √© meio estranho ter declara√ß√µes para esse tipo de scripts muito curtos. <br><br>  Qualquer coisa maior n√£o deve ter padr√µes, eu acho.  Local por padr√£o n√£o √© a solu√ß√£o, n√£o existe.  √â apenas para tarefas, n√£o para uso.  Algo que atribu√≠mos, depois usamos e depois atribu√≠mos, e h√° algum erro - completamente confuso. <br><br>  Talvez global por padr√£o n√£o seja perfeito, mas com certeza local por padr√£o n√£o √© uma solu√ß√£o.  Eu acho que algum tipo de declara√ß√£o, talvez declara√ß√£o opcional ... Tivemos essa proposta muitas vezes - algum tipo de declara√ß√£o global.  Mas, no final, acho que o problema √© que as pessoas come√ßam a pedir cada vez mais e desistimos. <br><br>  (sarcasticamente) Sim, colocaremos alguma declara√ß√£o global - adicione isso e aquilo e aquilo, divulgue isso e, no final, entendemos que a conclus√£o final n√£o satisfar√° a maioria das pessoas e n√£o colocaremos todas as op√ß√µes que todos desejarem, ent√£o n√£o colocamos nada.  No final, o modo estrito √© um compromisso razo√°vel. <br><br>  Existe este problema: na maioria das vezes estamos usando campos dentro dos m√≥dulos, por exemplo, ent√£o voc√™ tem os mesmos problemas novamente.  √â apenas um caso muito espec√≠fico de erro que a solu√ß√£o geral provavelmente deve incluir.  Ent√£o eu acho que se voc√™ realmente quer isso, deve usar uma linguagem de tipo estaticamente. <br><br>  <b>- Global por padr√£o tamb√©m √© bom para pequenos arquivos de configura√ß√£o.</b> <br><br>  - Sim, exatamente, para pequenos scripts e assim por diante. <br><br>  <b>- N√£o h√° trocas aqui?</b> <br><br>  - N√£o, sempre existem trocas.  H√° uma troca entre pequenos scripts e programas reais ou algo assim. <br><br>  <b>- Ent√£o, estamos voltando √† primeira grande quest√£o: tr√™s coisas que voc√™ mudaria se tivesse a chance.</b>  <b>Na minha opini√£o, voc√™ est√° muito feliz com o que temos agora, est√° certo?</b> <br><br>  - Bem, n√£o √© uma grande mudan√ßa, mas ainda assim ... Nossa inadimpl√™ncia que se transformou em uma grande mudan√ßa √© nula nas tabelas.  √â algo que realmente me arrependo.  Eu fiz esse tipo de implementa√ß√£o, uma esp√©cie de hack ... Voc√™ viu o que eu fiz?  Enviei uma vers√£o de Lua h√° cerca de seis meses ou um ano que n√£o tinha tabelas. <br><br>  <b>- Valores nulos?</b> <br><br>  Exatamente.  Eu acho que foi chamado nil nas tabelas - o que √© chamado nulo.  Fizemos algumas invas√µes na gram√°tica para torn√°-la um pouco compat√≠vel. <br><br>  <b>- Por que √© necess√°rio?</b> <br><br>  - Estou realmente convencido de que esse √© um problema inteiro de buracos ... Acho que a maioria dos problemas de nil em matrizes desapareceria, se pud√©ssemos ter [nil em tabelas] ... Porque o problema exato n√£o √© nil em matrizes.  As pessoas dizem que n√£o podemos ter nada em matrizes, portanto, devemos ter matrizes separadas das tabelas.  Mas o verdadeiro problema √© que n√£o podemos ter nada nas tabelas!  Portanto, o problema est√° nas tabelas, n√£o na maneira como representamos matrizes.  Se pud√©ssemos ter nada em tabelas, ter√≠amos nada em matrizes sem mais nada.  Ent√£o isso √© algo que realmente me arrependo, e muitas pessoas n√£o entendem como as coisas mudariam se Lua permitisse nada em tabelas. <br><br>  <b>- Posso contar uma hist√≥ria sobre Tarantool?</b>  <b>Na verdade, temos nossa pr√≥pria implementa√ß√£o de null, que √© um CDATA para um ponteiro nulo.</b>  <b>Usamo-lo onde s√£o necess√°rias lacunas na mem√≥ria.</b>  <b>Para preencher argumentos posicionais quando fazemos chamadas remotas e assim por diante.</b>  <b>Mas geralmente sofremos com isso porque o CDATA √© sempre convertido em 'verdadeiro'.</b>  <b>Portanto, nada em matrizes resolveria muitos dos nossos problemas.</b> <br><br>  Sim, eu sei.  Esse √© exatamente o meu ponto - isso resolveria muitos problemas para muitas pessoas, mas h√° um grande problema de compatibilidade.  N√£o temos energia para lan√ßar uma vers√£o t√£o incompat√≠vel e depois quebrar a comunidade e ter uma documenta√ß√£o diferente para Lua 5 e Lua 6 etc.  Mas talvez um dia a liberemos.  Mas √© realmente uma grande mudan√ßa.  Eu acho que deveria ter sido assim desde o in√≠cio - se fosse, seria uma mudan√ßa trivial no idioma, exceto pela compatibilidade.  Ele quebra muitos programas, de maneiras muito sutis. <br><br>  <b>- Quais s√£o as desvantagens, exceto a compatibilidade?</b> <br><br>  - Al√©m da compatibilidade, a desvantagem √© que precisar√≠amos de duas novas opera√ß√µes, duas novas fun√ß√µes.  Como 'delete key', porque atribuir nil n√£o excluiria a chave; portanto, ter√≠amos um tipo de opera√ß√£o primitiva para excluir a chave e realmente remov√™-la da tabela.  E 'teste' para verificar onde exatamente distinguir entre zero e ausente.  Ent√£o, precisamos de duas fun√ß√µes primitivas. <br><br>  <b>- Voc√™ analisou o impacto disso em implementa√ß√µes reais?</b> <br><br>  - Sim, lan√ßamos uma vers√£o do Lua com isso.  E como eu disse, ele quebra o c√≥digo de v√°rias maneiras sutis.  Existem pessoas que fazem table.insert (f (x)) - uma chamada para uma fun√ß√£o.  E √© proposital, √© por design que quando uma fun√ß√£o n√£o deseja inserir nada, ela retorna nulo.  Ent√£o, em vez de uma verifica√ß√£o separada "eu quero inserir?", Chamo table.insert e sabendo que se for nulo, ele n√£o ser√° inserido.  Como tudo em todos os idiomas, um bug se torna um recurso e as pessoas o usam - mas se voc√™ o alterar, voc√™ quebra o c√≥digo. <br><br>  <b>- Que tal um novo tipo de vazio?</b>  <b>Como nada, mas vazio?</b> <br><br>  - Oh n√£o, isso √© um pesadelo.  Voc√™ apenas adia o problema, se colocar outro, precisar√° de outro e outro e outro.  Essa n√£o √© a solu√ß√£o.  O principal problema - bem, n√£o principal, mas um dos problemas - √© que nada j√° est√° enraizado em muitos lugares do idioma.  Por exemplo, um exemplo muito t√≠pico.  Dizemos: voc√™ deve evitar nada em matrizes, buracos.  Mas ent√£o temos fun√ß√µes que retornam nulo e algo depois de nulo, ent√£o obtemos um c√≥digo de erro.  Portanto, a pr√≥pria constru√ß√£o assume o que nada representa ... Por exemplo, se eu quiser fazer uma lista de retornos dessa fun√ß√£o, apenas para capturar todos esses retornos. <br><br>  <b>- √â por isso que voc√™ tem um truque para isso.</b>  <b>:)</b> <br><br>  - Exatamente, mas voc√™ n√£o precisa usar hacks para um problema t√£o primitivo e √≥bvio.  Mas a maneira como as bibliotecas s√£o constru√≠das ... Uma vez pensei nisso - talvez as bibliotecas retornem falsas em vez de nulas - mas √© uma solu√ß√£o meio cozida, resolve apenas uma pequena parte do problema.  O verdadeiro problema, como eu disse, √© que dever√≠amos ter nada nas tabelas.  Caso contr√°rio, talvez n√£o devamos usar nils com a mesma frequ√™ncia que usamos agora.  √â tudo meio bagun√ßado.  Portanto, se voc√™ criar um nulo, essas fun√ß√µes ainda retornar√£o um valor nulo, e ainda ter√≠amos esse problema a menos que criassemos um novo tipo e as fun√ß√µes retornariam um nulo em vez de nulo. <br><br>  <b>+ Vazio pode ser usado para dizer explicitamente que a chave deve ser mantida em uma chave de tabela com um valor vazio.</b>  <b>E nada pode agir como antes.</b> <br><br>  - Sim, √© isso que eu quero dizer.  Todas as fun√ß√µes nas bibliotecas devem retornar nulas ou nulas. <br><br>  <b>- Eles ainda podem retornar nulo, por que n√£o?</b> <br><br>  - Porque ainda temos o problema de que voc√™ n√£o pode capturar algumas fun√ß√µes. <br><br>  <b>- Mas n√£o haver√° uma primeira chave, apenas uma segunda chave.</b> <br><br>  - N√£o, n√£o haver√° uma segunda chave, porque a contagem estar√° errada e voc√™ ter√° um buraco na matriz. <br><br>  <b>- Sim, voc√™ est√° dizendo que precisa de um falso metam√©todo?</b> <br><br>  Sim.  Meu sonho √© algo assim: <br><br> <code>{f(x)}</code> <br> <br>  Voc√™ deve capturar todos os retornos da fun√ß√£o <code>f(x)</code> .  E ent√£o eu posso fazer <code>%x</code> ou # <code>%x</code> , e isso me dar√° o n√∫mero de retornos da fun√ß√£o.  √â isso que uma linguagem razo√°vel deve fazer.  Portanto, criar um vazio n√£o resolver√° isso, a menos que tenhamos uma regra muito forte de que as fun√ß√µes nunca devem retornar nulas, mas por que precisamos nulas?  Talvez dev√™ssemos evitar. <br><br>  <b>- Roberto, haver√° um suporte de an√°lise est√°tica muito mais forte para Lua?</b>  <b>Como "Lua Verifique os ester√≥ides".</b>  <b>Eu sei que n√£o vai resolver todos os problemas, √© claro.</b>  <b>Voc√™ est√° dizendo que esse √© um recurso para 6.0, se √© que alguma vez, certo?</b>  <b>Portanto, se no 5.x houver uma forte ferramenta de an√°lise est√°tica - se horas-homem e homens-ano forem investidos - isso realmente ajudaria?</b> <br><br>  - N√£o, acho que uma ferramenta de an√°lise est√°tica realmente forte se chama ... sistema de tipos!  Se voc√™ quer uma ferramenta realmente forte, deve usar uma linguagem de tipo estaticamente, algo como Haskell ou mesmo algo com tipos dependentes.  Ent√£o voc√™ ter√° ferramentas de an√°lise realmente fortes. <br><br>  <b>- Mas ent√£o voc√™ n√£o tem Lua.</b> <br><br>  - Exatamente, Lua √© para ... <br><br>  <b>- Impreciso?</b>  <b>Gostei muito da sua foto de girafa em tipos est√°ticos e din√¢micos.</b> <br><br>  - Sim, meu √∫ltimo slide. <br><br><img src="https://habrastorage.org/webt/ch/po/as/chpoaszqoikzai3b3hcmymonqv0.jpeg"><br>  <i>O slide final da palestra de Roberto Ierusalimschy ‚ÄúPor que (e por que n√£o) Lua?‚Äù</i> <i><br></i>  <i>na lua em Moscow 2019 conference</i> <br><br>  <b>- Para a nossa pr√≥xima pergunta preparada, vamos voltar a essa imagem.</b>  <b>Se eu entendi direito, sua posi√ß√£o √© que Lua √© uma pequena ferramenta √∫til para resolver tarefas n√£o muito grandes.</b> <br><br>  - N√£o, acho que voc√™ pode realizar algumas tarefas grandes, mas n√£o com an√°lise est√°tica.  Eu acredito fortemente em testes.  A prop√≥sito, eu discordo de voc√™ na cobertura, sua opini√£o √© que n√£o devemos perseguir a cobertura ... Quero dizer, concordo plenamente que a cobertura n√£o implica teste completo, mas a n√£o cobertura implica um teste de zero por cento.  Ent√£o eu falei sobre uma sala de testes - voc√™ estava l√° em Estocolmo.  Ent√£o comecei meu teste com [alguns] bugs - isso √© a coisa mais estranha - um deles era famoso, o outro n√£o era famoso.  √â algo completamente quebrado em um arquivo de cabe√ßalho da Microsoft, C e C ++.  Ent√£o, eu pesquiso na web e ningu√©m se importa com isso ou at√© percebe. <br><br>  Por exemplo, h√° uma fun√ß√£o matem√°tica, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modf ()</a> , na qual voc√™ deve passar um ponteiro para um duplo, pois ele retorna dois duplos.  Traduzimos a parte inteira do n√∫mero ou a parte fracion√°ria.  Portanto, isso faz parte de uma biblioteca padr√£o h√° muito tempo.  Ent√£o veio o C 99, e voc√™ precisa dessa fun√ß√£o para carros aleg√≥ricos.  E o arquivo de cabe√ßalho da Microsoft simplesmente manteve essa fun√ß√£o e declarou outra como macro.  Ent√£o ele colocou este tipo de convers√£o.  Ent√£o, lan√ßou o dobro para flutuar, ok, e depois lan√ßou o ponteiro para dobrar para o ponteiro flutuar! <br><br>  <b>- Algo est√° errado nesta foto.</b> <br><br>  - Este √© um arquivo de cabe√ßalho do Visual C ++ e Visual C 2007. Quero dizer, se voc√™ chamasse essa fun√ß√£o uma vez, com quaisquer par√¢metros e verificasse os resultados - estaria errado a menos que seja zero.  Caso contr√°rio, qualquer outro valor estar√° errado.  Voc√™ nunca usaria essa fun√ß√£o.  Zero cobertura.  E h√° muitas discuss√µes sobre testes ... quero dizer, basta chamar uma fun√ß√£o uma vez, verificar os resultados!  Ent√£o est√° l√°, est√° l√° h√° muito tempo, h√° muitos anos que ningu√©m se importa.  Um muito famoso foi na Apple.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Algo como</a> " <code>if‚Ä¶ what‚Ä¶ goto‚Ä¶ ok</code> ", era algo assim.  Algu√©m colocou outra declara√ß√£o aqui.  E ent√£o tudo estava indo bem.  E houve muitas discuss√µes em que voc√™ deve ter as regras, os colchetes devem ser obrigat√≥rios no seu estilo, etc., etc.  Ningu√©m mencionou que existem muitos outros ifs aqui.  Isso nunca foi executado ... <br><br>  <b>- H√° tamb√©m um problema de seguran√ßa, pelo que me lembro.</b> <br><br>  Sim, exatamente.  Porque eles estavam apenas testando casos aprovados.  Eles n√£o estavam testando nada, porque tudo seria aprovado.  Isso significa que n√£o h√° um √∫nico caso de teste no aplicativo de seguran√ßa que verifique se ele recusa alguma conex√£o ou seja o que for que ele deveria recusar.  Ent√£o todos discutem e dizem que devem ter colchetes ... Eles devem ter testes, testes m√≠nimos!  Porque ningu√©m nunca testou isso, √© o que quero dizer com cobertura.  √â inacredit√°vel como as pessoas n√£o fazem testes b√°sicos.  Porque se eles estavam fazendo todos os testes b√°sicos, √© claro, √© um pesadelo fazer toda a cobertura e executar todas as linhas, etc.  As pessoas negligenciam at√© os testes b√°sicos, portanto a cobertura √© pelo menos sobre o m√≠nimo.  √â uma maneira de chamar a aten√ß√£o para algumas partes do programa que voc√™ esqueceu.  √â um tipo de guia sobre como melhorar um pouco seus testes. <br><br>  <b>- Qual √© a cobertura dos testes no Tarantool?</b>  <b>83%!</b>  <b>Roberto, qual √© a cobertura do teste de Lua?</b> <br><br>  - Cerca de 99,6.  Quantas linhas de c√≥digo voc√™ possui?  Um milh√£o, centenas de milhares?  Estes s√£o grandes n√∫meros.  Um por cento dos cem mil s√£o mil linhas de c√≥digo que nunca foram testadas.  Voc√™ n√£o o executou.  Seus usu√°rios n√£o testam nada. <br><br>  <b>- Ent√£o, existem 17% dos recursos do Tarantool que n√£o s√£o usados ‚Äã‚Äãatualmente?</b> <br><br>  - N√£o tenho certeza se voc√™ deseja desempilhar tudo de volta para onde est√°vamos ... Acho que um dos problemas com linguagens din√¢micas (e est√°ticas) √© que as pessoas n√£o testam coisas.  Mesmo se voc√™ tiver uma linguagem est√°tica, a menos que tenha algo - nem mesmo como Haskell, mas Coq -, algum sistema de prova, voc√™ muda isso para isso ou aquilo.  Nenhuma ferramenta de an√°lise est√°tica pode detectar esses erros, ent√£o voc√™ precisa de testes.  E se voc√™ tiver os testes, detecta problemas globais, renomeia erros de ortografia etc.  Todos esses tipos de erros.  Voc√™ deve fazer esses testes de qualquer maneira, talvez √†s vezes seja um pouco mais dif√≠cil de depurar, √†s vezes n√£o - depende da linguagem e do tipo de bug.  Mas o problema √© que nenhuma ferramenta de an√°lise est√°tica pode permitir que voc√™ evite testes.  Os testes, por outro lado ... bem, eles nunca provam a aus√™ncia de erro, mas eu me sinto muito mais seguro depois de todos os testes. <br><br>  <b>- Temos uma pergunta sobre o teste de m√≥dulos Lua.</b>  <b>Como desenvolvedor, quero testar algumas fun√ß√µes locais que podem ser usadas posteriormente.</b>  <b>A quest√£o √©: queremos ter uma cobertura de cerca de 99%, mas para a API que este m√≥dulo produz, o n√∫mero de casos funcionais que ele deve produzir √© muito menor do que a funcionalidade que ele suporta internamente.</b> <br><br>  - Por que isso, desculpe? <br><br>  <b>- H√° algumas funcionalidades que n√£o s√£o acess√≠veis pela interface p√∫blica.</b> <br><br>  - Se houver uma funcionalidade que n√£o seja alcan√ß√°vel pela interface p√∫blica, ela n√£o dever√° estar l√°, apenas apague-a.  Apague esse c√≥digo. <br><br>  <b>- Apenas mate?</b> <br><br>  - Sim, √†s vezes fa√ßo isso em Lua.  Havia alguma cobertura de c√≥digo, eu n√£o conseguia chegar l√° ou ali ou l√°, ent√£o pensei que era imposs√≠vel e apenas removi o c√≥digo.  N√£o √© t√£o comum, mas aconteceu mais de uma vez.  Esses casos eram imposs√≠veis de acontecer, basta colocar uma afirma√ß√£o para comentar por que isso n√£o pode acontecer.  Se voc√™ n√£o conseguir acessar suas fun√ß√µes a partir da API p√∫blica, ela n√£o dever√° estar l√°.  Devemos codificar a API p√∫blica com entrada incorreta, essencial para os testes. <br><br>  <b>- Remova o c√≥digo, a remo√ß√£o √© boa, reduz a complexidade.</b>  <b>A complexidade reduzida aumenta a manuten√ß√£o e a estabilidade.</b>  <b>Mantenha isso simples.</b> <br><br>  - Sim, programa√ß√£o extrema tinha essa regra.  Se n√£o estiver em um teste, n√£o existe. <br><br>  <b>- Quais idiomas o inspiraram quando voc√™ criou Lua?</b>  <b>Quais paradigmas, especialidades funcionais ou partes dessas l√≠nguas voc√™ gostou?</b> <br><br>  - Eu projetei Lua para um prop√≥sito muito espec√≠fico, n√£o era um projeto acad√™mico.  √â por isso que quando voc√™ me pergunta se eu o criaria novamente, digo que h√° muitas coisas hist√≥ricas na linguagem.  Eu n√£o comecei com 'Deixe-me criar o idioma que eu quero ou quero usar ou todo mundo precisa etc.  Meu problema era 'Este programa aqui precisa de uma linguagem de configura√ß√£o para ge√≥logos e engenheiros, e preciso criar uma pequena linguagem que eles possam usar com uma interface f√°cil.  √â por isso que a API sempre foi parte integrante da linguagem, porque √© mais f√°cil ser integrado.  Esse era o objetivo.  O que eu tinha na minha forma√ß√£o, eram muitas l√≠nguas diferentes na √©poca ... umas dez.  Se voc√™ quiser todo o plano de fundo ... <br><br>  <b>- Eu estava interessado nos idiomas que voc√™ queria incluir no Lua.</b> <br><br>  - Eu estava conseguindo coisas de v√°rias l√≠nguas diferentes, qualquer que fosse o problema que eu tinha.  A maior inspira√ß√£o foi a linguagem Modula para sintaxe, mas por outro lado, √© dif√≠cil dizer porque existem muitas l√≠nguas.  Algumas coisas vieram do AWK, foi outra pequena inspira√ß√£o.  Claro, Scheme e Lisp ... Eu sempre fui fascinado com Lisp desde que comecei a programar. <br><br>  <b>- E ainda n√£o h√° macros em Lua!</b> <br><br>  - Sim, h√° muita diferen√ßa na sintaxe.  Fortran, eu acho, foi o primeiro idioma ... n√£o, o primeiro idioma que aprendi foi Assembl√©ia, depois veio o Fortran.  Estudei, mas nunca usei CLU.  Fiz muita programa√ß√£o com Smalltalk, SNOBOL.  Eu tamb√©m estudei, mas nunca usei o Icon, tamb√©m √© muito interessante.  Muita coisa veio de Pascal e C. Na √©poca em que criei Lua, o C ++ j√° era muito complexo para mim - e isso foi antes dos modelos, etc.  Era 1991, e em 1993 Lua foi iniciada. <br><br>  <b>- A Uni√£o Sovi√©tica caiu e voc√™ come√ßou a criar Lua.</b>  <b>:) Voc√™ estava entediado com ponto e v√≠rgula e objetos quando come√ßou a trabalhar em Lua?</b>  <b>Eu esperaria que Lua tivesse uma sintaxe semelhante a C, porque est√° integrada a C. Mas ...</b> <br><br>  - Sim, acho que √© uma boa raz√£o para n√£o ter sintaxe semelhante - para que voc√™ n√£o os misture, esses s√£o dois idiomas diferentes. <br><br>  √â algo realmente engra√ßado e est√° ligado √† resposta que voc√™ n√£o me permitiu [na confer√™ncia] fornecer matrizes a partir de 1. Minha resposta foi muito longa. <br><br>  Quando come√ßamos a Lua, o mundo era diferente, nem tudo era do tipo C.  Java e JavaScript n√£o existiam, o Python estava na inf√¢ncia e tinha uma vers√£o menor que 1.0.  Portanto, n√£o havia essa coisa quando todas as l√≠nguas deveriam ser do tipo C.  C era apenas uma das muitas sintaxes existentes. <br><br>  E as matrizes eram exatamente as mesmas.  √â muito engra√ßado que a maioria das pessoas n√£o perceba isso.  H√° coisas boas sobre matrizes baseadas em zero e matrizes baseadas em uma. <br><br>  O fato √© que a maioria dos idiomas populares hoje √© baseada em zero por causa de C. Eles foram inspirados por C. E o engra√ßado √© que C n√£o tem indexa√ß√£o.  Portanto, voc√™ n√£o pode dizer que C indexa matrizes de zero, porque n√£o h√° opera√ß√£o de indexa√ß√£o.  C tem aritm√©tica de ponteiro, portanto zero em C n√£o √© um √≠ndice, √© um deslocamento.  E como um deslocamento, deve ser zero - n√£o porque tenha melhores propriedades matem√°ticas ou porque seja mais natural, seja qual for. <br><br>  E todos os idiomas que copiaram C, eles t√™m √≠ndices e n√£o t√™m aritm√©tica de ponteiro.  Java, JavaScript, etc., etc.  - nenhum deles tem aritm√©tica de ponteiro.  Ent√£o eles apenas copiaram o zero, mas √© uma opera√ß√£o completamente diferente.  Eles colocam zero sem nenhum motivo - √© como um culto √† carga. <br><br>  <b>- Voc√™ est√° dizendo que √© l√≥gico se voc√™ tiver um idioma incorporado em C para faz√™-lo com sintaxe semelhante a C.</b>  <b>Mas se voc√™ tem uma linguagem incorporada em C, presumo que voc√™ tenha programadores em C que desejam que o c√≥digo esteja em C e n√£o em outra linguagem, que se pare√ßa com C, mas n√£o seja C. Portanto, os usu√°rios de Lua nunca deveriam usar C diariamente?</b>  <b>Porque</b> <br><br>  - Quem usa C todos os dias? <br><br>  <b>- programadores de sistema.</b> <br><br>  Exatamente.  Esse √© o problema, muitas pessoas usam C, mas n√£o devem poder us√°-lo.  Os programadores devem ser certificados para usar o C. Por que o software est√° t√£o danificado?  Todos esses hacks invadindo o mundo, todos esses problemas de seguran√ßa.  Pelo menos metade deles √© por causa de C. √â realmente dif√≠cil programar em C. <br><br>  <b>- Mas Lua est√° em C.</b> <br><br>  - Sim, e foi assim que aprendemos o qu√£o dif√≠cil √© programar em C. Voc√™ tem estouros de buffer, n√∫meros inteiros que causam estouros de buffer ... Basta obter um √∫nico programa C que voc√™ pode ter certeza de que nenhuma aritm√©tica dar√° errado se as pessoas colocarem qualquer n√∫mero em qualquer lugar e tudo est√° marcado.  Por outro lado, problemas reais de portabilidade - talvez algumas vezes em uma CPU funcione, mas depois cheguem √† outra CPU ... √â uma loucura. <br><br>  Por exemplo, muito recentemente, tivemos um problema.  Como voc√™ sabe que o seu programa C n√£o sobrecarrega a pilha?  Quero dizer profundidade da pilha, n√£o estouro de pilha porque voc√™ invadiu ... Quantas chamadas voc√™ tem o direito de fazer em um programa C? <br><br>  <b>- Depende do tamanho da pilha.</b> <br><br>  Exatamente.  O que o padr√£o diz sobre isso?  Se voc√™ codifica em C e executa essa fun√ß√£o que chama essa fun√ß√£o que chama essa fun√ß√£o ... quantas chamadas voc√™ pode fazer? <br><br>  <b>16 mil?</b> <br><br>  - Posso estar errado, mas acho que o padr√£o n√£o diz nada sobre isso. <br><br>  <b>- Acho que n√£o h√° nada no padr√£o porque √© muito dependente do tamanho.</b> <br><br>  - Claro, isso depende do tamanho de cada fun√ß√£o.  Pode ser uma matriz enorme e autom√°tica no quadro de fun√ß√µes ... Portanto, o padr√£o n√£o diz nada e n√£o h√° como verificar se uma chamada ser√° v√°lida.  Portanto, voc√™ pode ter um √∫nico problema se tiver tr√™s chamadas de etapa, ele pode falhar e ainda ser um programa C v√°lido.  Corrija de acordo com o padr√£o - embora n√£o esteja correto porque falha.  Portanto, √© muito dif√≠cil programar em C, porque existem muitos ... Outro bom exemplo: qual √© o resultado quando voc√™ subtrai dois ponteiros?  Ningu√©m aqui trabalha com C? <br><br>  <b>- N√£o, ent√£o n√£o grelhe eles.</b>  <b>Mas o C ++ suporta tipos diferentes.</b> <br><br>  - N√£o, C ++ tem o mesmo problema. <br><br>  <b>- Qual √© o tipo de declara√ß√£o?</b>  <b><code>ptrdiff_t</code> ?</b> <br><br>  - Exatamente, <code>ptrdiff_t</code> √© um tipo assinado.  Portanto, normalmente, se voc√™ tiver uma mem√≥ria padr√£o do tamanho da sua palavra e subtrair dois ponteiros nesse espa√ßo, n√£o poder√° representar todos os tamanhos no tipo assinado.  Ent√£o, o que o padr√£o diz sobre isso? <br><br>  Quando voc√™ subtrai dois ponteiros, se a resposta se encaixa em um diff de ponteiro, essa √© a resposta.  Caso contr√°rio, voc√™ ter√° um comportamento indefinido.  E como voc√™ sabe se encaixa?  Voc√™ n√£o  Portanto, sempre que voc√™ subtrair dois ponteiros, normalmente voc√™ sabe que isso est√° fora do padr√£o, que, se voc√™ estiver apontando para algo maior que pelo menos 2 bytes, o tamanho maior ser√° metade do tamanho da mem√≥ria, ent√£o est√° tudo bem. <br><br>  Ent√£o voc√™ s√≥ est√° tendo um problema se estiver apontando para bytes ou caracteres.  Mas quando voc√™ faz isso, tem um problema real, n√£o pode fazer aritm√©tica de ponteiros sem se preocupar com o fato de ter uma string maior que a metade da mem√≥ria.  E ent√£o n√£o posso simplesmente calcular o tamanho e armazenar em um tipo de ponteiro porque est√° errado. <br><br>  √â o que quero dizer sobre ter um programa C ou C ++ seguro que √© realmente seguro. <br><br>  <b>- Voc√™ j√° pensou em implementar Lua em um idioma diferente?</b>  <b>Mudar de C para outra coisa?</b> <br><br>  - Quando come√ßamos, considerei C ++, mas como disse, desisti de us√°-lo por causa da complexidade - n√£o consigo aprender toda a linguagem.  Deve ser √∫til ter algumas coisas do C ++, mas ... ainda hoje n√£o vejo nenhuma linguagem que funcionaria. <br><br>  <b>- Voc√™ pode explicar o porqu√™?</b> <br><br>  - Porque n√£o tenho alternativas.  S√≥ posso explicar o porqu√™ contra outros idiomas.  N√£o estou dizendo que C √© perfeito ou at√© bom, mas √© o melhor.  Para explicar o porqu√™, preciso compar√°-lo com outros idiomas. <br><br>  <b>- E a JVM?</b> <br><br>  JVM.  Vamos l√°, ele n√£o cabe na metade do hardware ... Portabilidade √© o principal motivo, mas tamb√©m o desempenho.  Na JVM, √© um pouco melhor que o .NET, mas n√£o √© t√£o diferente.  Muitas coisas que Lua faz, n√£o podemos fazer com a JVM.  Voc√™ n√£o pode controlar o coletor de lixo, por exemplo.  √â necess√°rio usar o coletor de lixo da JVM porque n√£o √© poss√≠vel ter um coletor de lixo diferente implementado na parte superior da JVM.  A JVM tamb√©m √© um grande consumidor de mem√≥ria.  Quando qualquer programa Java come√ßa a dizer ol√°, √© mais ou menos 10 MB.  A portabilidade √© um problema n√£o porque n√£o foi portado, mas porque n√£o pode ser portado. <br><br>  <b>- E as modifica√ß√µes da JVM como a Mobile JVM?</b> <br><br>  - Isso n√£o √© JVM, √© uma piada.  √â como uma micro edi√ß√£o de Java, n√£o Java. <br><br>  <b>- E outras linguagens est√°ticas, como Go ou Oberon?</b>  <b>Eles poderiam ser a base para Lua se voc√™ o criou hoje?</b> <br><br>  - Oberon ... pode ser, depende ... Go, novamente, tem um coletor de lixo e um tempo de execu√ß√£o muito grande para Lua.  Oberon seria uma op√ß√£o, mas Oberon tem algumas coisas muito estranhas, como voc√™ quase n√£o tem constantes, se bem me lembro.  Sim, acho que eles removeram o const de Pascal para Oberon.  Eu tinha um livro sobre Oberon e amava Oberon.  Seu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sistema</a> era inacredit√°vel, √© realmente algo. <br><br>  Lembro-me de que em 1994 vi uma demonstra√ß√£o de Oberon e Self.  Voc√™ se conhece?  √â uma linguagem din√¢mica muito interessante com os compiladores jit, etc ... Vi essas demos com uma semana de diferen√ßa, e o Self era muito inteligente, eles usaram algumas t√©cnicas de desenhos animados para disfar√ßar a lentid√£o das opera√ß√µes.  Porque quando voc√™ abriu algo, era como 'woop!'  - primeiro reduz um pouco e depois se expande com alguns efeitos.  Foi muito bem implementada, essas t√©cnicas que eles usavam para simular movimento ... <br><br>  Ent√£o, uma semana depois, vimos uma demonstra√ß√£o do Oberon, que estava funcionando com 1/10 de hardware para o Self - havia uma m√°quina pequena e muito antiga.  No Oberon, voc√™ clica e depois apenas lan√ßa, tudo funciona imediatamente, todo o sistema √© t√£o leve. <br><br>  Mas para mim √© muito minimalista, eles removeram constantes e tipos de variantes. <br><br>  <b>Haskell?</b> <br><br>  - N√£o conhe√ßo Haskell ou como implementar Lua em Haskell. <br><br>  <b>- E qual sua atitude em rela√ß√£o a linguagens como Python ou R ou Julia como base para futuras implementa√ß√µes de Lua?</b> <br><br>  - Eu acho que cada um desses tem seus usos. <br><br>  R parece ser bom para estat√≠sticas.  √â muito espec√≠fico do dom√≠nio, feito por pessoas da √°rea, ent√£o isso √© uma for√ßa. <br><br>  Python √© legal, mas eu tive problemas pessoais com ele.  Pensei ter mencionado isso na minha palestra ou na entrevista.  Essa coisa de n√£o conhecer o idioma inteiro ou n√£o us√°-lo, a fal√°cia do subconjunto. <br><br>  Usamos Python em nossos cursos, ensinando programa√ß√£o b√°sica - apenas uma pequena parte, loops e n√∫meros inteiros.  Todos estavam felizes e disseram que seria bom ter algumas aplica√ß√µes gr√°ficas, por isso precis√°vamos de uma biblioteca gr√°fica.  E quase todas as bibliotecas gr√°ficas, voc√™ obt√©m a API ... Mas eu n√£o conhe√ßo Python o suficiente, isso √© algo muito avan√ßado.  Ele tem a ilus√£o de que √© f√°cil e eu tenho todas essas bibliotecas para tudo, mas √© f√°cil ou voc√™ tem tudo. <br><br>  Ent√£o, quando voc√™ come√ßa a usar a linguagem, come√ßa: oh, eu tenho que aprender OOP, heran√ßa, qualquer outra coisa.  Cada biblioteca.  Parece que os autores se orgulham de usar recursos de linguagem mais avan√ßados em sua API para mostrar que n√£o sei o qu√™.  Chamadas de fun√ß√£o, tipos padr√£o, etc.  Voc√™ tem esse objeto e, se quiser outra coisa, precisar√° criar outro objeto ... <br><br>  At√© a correspond√™ncia de padr√µes, voc√™ pode fazer algumas coisas simples, mas geralmente a correspond√™ncia de padr√µes padr√£o n√£o √© algo que voc√™ faz.  Voc√™ faz uma correspond√™ncia, um objeto retorna um resultado e, em seguida, chama m√©todos no resultado desse objeto para obter o resultado real da correspond√™ncia.  √Äs vezes, existe uma maneira mais simples de usar, mas n√£o √© √≥bvio, n√£o √© o que a maioria das pessoas usa. <br><br>  Outro exemplo: eu estava ministrando um curso sobre correspond√™ncia de padr√µes e queria usar a sintaxe semelhante ao Perl, e n√£o podia usar Lua por causa de uma sintaxe completamente diferente.  Ent√£o, pensei que o Python seria o exemplo perfeito.  Mas no Python existem algumas fun√ß√µes diretas para algumas coisas b√°sicas, mas para algo mais complexo voc√™ precisa conhecer objetos e m√©todos etc.  Eu s√≥ queria fazer alguma coisa e ter o resultado. <br><br>  <b>- O que voc√™ acabou usando?</b> <br><br>  - Eu usei Python e expliquei a eles.  Mas mesmo o Perl √© muito mais simples, voc√™ faz a partida e os resultados s√£o $ 1, $ 2, $ 3, √© muito mais f√°cil, mas eu n√£o tenho coragem de usar o Perl, ent√£o ... <br><br>  <b>- Eu estava usando Python por dois anos antes de perceber que havia decoradores.</b>  <b>(pergunta por Yaroslav Dynnikov da equipe Tarantool)</b> <br><br>  - Sim, e quando voc√™ deseja usar uma biblioteca, precisa aprender essas coisas e n√£o entende a API etc.  Python d√° a ilus√£o de que √© f√°cil, mas √© bastante complexo. <br><br>  ... E Julia, eu n√£o sei muito sobre Julia, mas isso me lembrou LuaJIT no sentido de que √†s vezes parece o orgulho do usu√°rio.  Voc√™ pode ter resultados muito bons, mas precisa realmente entender o que est√° acontecendo.  N√£o √© como se voc√™ escrevesse c√≥digo e obtivesse bons resultados.  N√£o, voc√™ escreve c√≥digo e √†s vezes os resultados s√£o bons, √†s vezes s√£o horr√≠veis.  E quando os resultados s√£o terr√≠veis, voc√™ tem muitas boas ferramentas que mostram a linguagem intermedi√°ria que foi gerada, voc√™ verifica e depois passa por todo esse c√≥digo quase de montagem.  Ent√£o voc√™ percebe: oh, n√£o est√° otimizando isso por causa disso.  Esse √© o problema dos programadores, eles gostam de jogos e √†s vezes gostam de coisas porque √© dif√≠cil, n√£o porque √© f√°cil. <br><br>  N√£o sei muito sobre Julia, mas uma vez vi uma conversa sobre isso.  E o cara falando, foi ele quem teve esse ponto de vista: veja como √© legal, escrevemos este programa e √© perfeito.  N√£o me lembro de muita coisa, acho que sobre multiplica√ß√£o de matrizes.  E ent√£o os carros aleg√≥ricos s√£o perfeitos, ent√£o os duplos s√£o perfeitos, e ent√£o eles colocam [n√∫meros] complexos ... e foi uma trag√©dia.  Como cem vezes mais devagar. <br><br>  (sarcasticamente) 'Veja como √© bom, n√≥s temos essa ferramenta, podemos ver toda a montagem [lista], e ent√£o voc√™ muda isso e aquilo e aquilo.  Veja como isso √© eficiente '.  Sim, eu vejo, eu posso programar em montagem diretamente. <br><br>  Mas isso foi apenas uma conversa.  Estudei um pouco de R e tenho alguma experi√™ncia de usu√°rio com Python para coisas pequenas. <br><br>  <b>- O que voc√™ acha de Erlang?</b> <br><br>  - Erlang √© uma linguagem engra√ßada.  Tem alguns usos realmente bons, a toler√¢ncia a falhas √© realmente interessante.  Mas eles afirmam que √© uma linguagem funcional e toda a id√©ia da linguagem funcional √© que voc√™ n√£o tem um estado. <br><br>  E Erlang tem um enorme estado oculto nas mensagens enviadas e ainda n√£o recebidas.  Portanto, cada pequeno processo √© completamente funcional, mas o pr√≥prio programa n√£o √© funcional. <br><br>  √â uma bagun√ßa de dados ocultos muito pior que as vari√°veis ‚Äã‚Äãglobais, porque se fossem vari√°veis ‚Äã‚Äãglobais, voc√™ as imprimiria.  Mensagens que s√£o o estado real do seu sistema.  A cada momento, qual √© o estado do sistema?  H√° todas essas mensagens enviadas aqui e ali.  √â completamente n√£o funcional, de todo. <br><br>  <b>- Ent√£o Erlang mente sobre ser funcional e Python sobre ser simples.</b>  <b>Sobre o que Lua mente?</b> <br><br>  - Lua mente um pouco sobre ser pequeno.  Ainda √© menor do que a maioria dos outros idiomas, mas se voc√™ quer um idioma realmente pequeno, Lua √© maior do que voc√™ deseja. <br><br>  <b>- O que √© uma linguagem pequena ent√£o?</b> <br><br>  - Adiante, eu adoro Forth. <br><br>  <b>- Existe espa√ßo para uma vers√£o menor do Lua?</b> <br><br>  Talvez, mas √© dif√≠cil.  Adoro mesas, mas as mesas n√£o s√£o muito pequenas.  Se voc√™ quer representar coisas pequenas, toda a id√©ia por tr√°s das mesas n√£o combina com voc√™.  Seria a sintaxe de Lua, chamar√≠amos de Lua, mas n√£o √© Lua. <br><br>  Seria como uma micro edi√ß√£o Java.  Voc√™ o chama de Java, mas possui multi-threading?  N√£o, n√£o faz.  Tem uma reflex√£o?  N√£o, n√£o faz.  Ent√£o, por que us√°-lo?  Ele tem uma sintaxe de Java, o mesmo sistema de tipos, mas n√£o √© Java.  √â uma linguagem diferente e mais f√°cil de aprender se voc√™ conhece Java, mas n√£o √© Java. <br><br>  Se voc√™ deseja criar uma linguagem pequena que se pare√ßa com Lua, mas Lua sem tabelas n√£o √© ... Provavelmente voc√™ deve declarar tabelas, algo como FFI para poder ser pequeno. <br><br>  <b>- Existem pequenas adapta√ß√µes de Lua?</b> <br><br>  Talvez eu n√£o saiba. <br><br>  <b>- Lua est√° pronta para pura programa√ß√£o funcional?</b>  <b>Voc√™ pode fazer isso com Lua?</b> <br><br>  - Claro que voc√™ pode.  N√£o √© particularmente eficiente, mas apenas Haskell √© realmente eficiente para isso.  Se voc√™ come√ßar a usar m√¥nadas e coisas assim, criar novas fun√ß√µes, compor fun√ß√µes etc ... Voc√™ pode fazer isso com Lua, ele √© executado razoavelmente, mas voc√™ precisa de t√©cnicas de implementa√ß√£o diferentes das linguagens imperativas normais para fazer algo realmente eficiente. <br><br> <b>‚Äî Actually, there is a library for functional programming in Lua.</b> <br><br> ‚Äî Yes, it's reasonable and usable, if you do really need performance; you can do a lot of stuff with it. I love functional stuff and I do it all the time. <br><br> <b>‚Äî My question is more about the garbage collector, because we only have only mutable objects and we have to use them efficiently. Will Lua be good for that?</b> <br><br> ‚Äî I think a new incarnation of garbage collector will help a lot, but again‚Ä¶ <br><br> <b>‚Äî Young die young? The one that seems to work with young objects?</b> <br><br> ‚Äî Exactly, yes. But as I said even with the standard garbage collector we don't have optimal performance but it can be reasonable. More often you don't even need that performance for most actions unless you are writing servers and having big operations. <br><br> <b>‚Äî What functional programming tasks do you perform in Lua?</b> <br><br> ‚Äî A simple example. My book, I'm writing my own format and I have a formatter that transforms that in LaTex or DocBook. It's completely functional, it has a big pattern matching‚Ä¶ It's slightly inspired by LaTex but much more uniformed. There's @ symbol instead of backslash, a name of a macro and one single argument in curly brackets. So I have gsub that recognizes this kind of stuff and then it calls a function, the function does something and returns something. It's all functional, just functions on top of functions on top of functions, and the final function gives a big result. <br><br> <b>‚Äî Why don't you program with LaTeX?</b> <br><br> ‚Äî Plain LaTeX? First, it's too tricky for a lot of stuff and so difficult. I have several things that I don't know how to do in LaTex. For example, I want to put a piece of inline code inside a text. Then there is a slash verb, standard stuff. But slash verb gives fixed space. And the space between stuff is never right. All real spaces are variable, it depends on how the line is adjusted, so it expands in some spaces and compacts in others depending on a lot of stuff. And those spaces are fixed, so sometimes they look too large, sometimes too small. It also depends on what you put in code. <br><br> <b>‚Äî But you still render your own format to LaTeX?</b> <br><br> ‚Äî Yes, but with a lot of preprocessing. I write my own verb but then it changes and becomes not a verb but a lot of stuff. For example, when I write 3+1 I write a very small space here. In verb, if I don't put any space here, it shrinks, and if I do, it's too large. So I do the preprocessing, inserting a variable space. It's very small but can be a little larger if it needs to adjust. But if I put 'and' after 1 then I put a larger space. This function here does all that. This is a small example but there are other things‚Ä¶ <br><br> <b>‚Äî Do you have a source?</b> <br><br> ‚Äî I do have the source, it is in the <a href="">git</a> . The program's called <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2html</a> . The current version only generates HTML‚Ä¶ Sorry, that's a kind of a mess. I created it for a book but also another one for the manual. The one in the git is for the manual. But the other one is more complicated and not public, I can't make it public. But the main problem is that TeX is not there. It's almost impossible to process TeX files without TeX itself. <br><br> <b>‚Äî Is it not machine-readable?</b> <br><br> ‚Äî Yes, it's not machine-readable. I mean, it is readable because TeX reads it. It's so hard to test, so many strange rules etc. So this is much more uniformed and as I said I generate DocBook format, sometimes I need it. That started when I had this contract for a book. <br><br> <b>‚Äî So you use 2html to generate DocBook?</b> <br><br> ‚Äî Yes, it generates DocBook directly. <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Ok, muito obrigado pela entrevista!</font></font></b> <br><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ tiver mais alguma d√∫vida, poder√° solicit√°-las na </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lista de discuss√£o Lua</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">At√© breve!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt459466/">https://habr.com/ru/post/pt459466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt459456/index.html">Dagaz: Epis√≥dios (Parte 1)</a></li>
<li><a href="../pt459458/index.html">ok.tech: Os dados explicam # 2</a></li>
<li><a href="../pt459460/index.html">As dificuldades de trabalhar com o Redux e sua solu√ß√£o</a></li>
<li><a href="../pt459462/index.html">SEO para Yandex. Pesquisar tudo?</a></li>
<li><a href="../pt459464/index.html">Lua em Moscou 2019: entrevista com Roberto Jerusalem</a></li>
<li><a href="../pt459470/index.html">Parte 4: Ainda executando o Linux no RISC-V RISC-V</a></li>
<li><a href="../pt459472/index.html">Heroku + Docker + Bota de primavera</a></li>
<li><a href="../pt459474/index.html">Como criar texto perfeitamente digitado em um segundo: uma macro no Word para quem escreve muito</a></li>
<li><a href="../pt459478/index.html">Minha experi√™ncia na cria√ß√£o de um aplicativo multithread para trabalhar com backups</a></li>
<li><a href="../pt459480/index.html">Vivaldi: Como o navegador ganha dinheiro?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>