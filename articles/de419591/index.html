<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüé® üë®üèΩ‚Äç‚öïÔ∏è üßìüèΩ Wie man E-Mails macht und nicht durcheinander bringt: praktische Tipps üôãüèº üà≥ ‚ô•Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Entwickler, der zum ersten Mal auf die Generierung von E-Mails gesto√üen ist, hat praktisch keine Chance, eine Anwendung zu schreiben, die dies kor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie man E-Mails macht und nicht durcheinander bringt: praktische Tipps</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/419591/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/le/ph/rs/lephrsp-4zc6zhbbo-fgmhcceec.jpeg" height="500"></div><br>  Der Entwickler, der zum ersten Mal auf die Generierung von E-Mails gesto√üen ist, hat praktisch keine Chance, eine Anwendung zu schreiben, die dies korrekt ausf√ºhrt.  Ungef√§hr 40% der von Unternehmensanwendungen generierten E-Mails weisen einen Versto√ü gegen Standards und damit Zustellungs- und Anzeigeprobleme auf.  Daf√ºr gibt es Gr√ºnde: E-Mails sind technisch viel komplizierter als das Internet, E-Mails werden durch mehrere hundert Standards und eine unz√§hlige Anzahl allgemein akzeptierter (und nicht so) Praktiken geregelt, und E-Mail-Clients sind vielf√§ltig und unvorhersehbar.  Das Testen kann die Situation erheblich verbessern, aber es gibt praktisch keine Materialien zum Testen von Post. <br><br>  Mail.Ru Mail interagiert regelm√§√üig mit seinen Benutzern √ºber E-Mails.  In unserem Projekt werden alle Komponenten, die f√ºr die Generierung von E-Mails und sogar f√ºr einzelne Mailings verantwortlich sind, obligatorisch getestet.  In diesem Artikel werden wir unsere Erfahrungen (und voller Unebenheiten) teilen. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was sind E-Mails?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wer ist am Test- und Kontrollprozess beteiligt?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Post- und Posttransport</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Schnittstelle der Mail-Infrastruktur und die Grenzen der zu testenden Anwendung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Definition der getesteten Parameter</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Typische Struktur einer generierenden Anwendung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was und wann zu testen</a> <br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lieferinfrastruktur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anwendung generieren</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Struktur- und Layout-Briefvorlagen</a> </li></ol></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Grundvoraussetzungen f√ºr die √úberpr√ºfung der Infrastruktur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Autorisierungsanforderungen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√úberpr√ºfung der generierenden Anwendung</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anforderungen an die Postanschrift</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anforderungen an den E-Mail-Header</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anforderungen an die Struktur des Briefes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">URI-Anforderungen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Layoutanforderungen</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Split-Tests durchf√ºhren</a> </li></ul><br><a name="habracut"></a><br><a name="1"></a><h2>  Was sind E-Mails? </h2><br>  Die Anwendung kann verschiedene Arten von Buchstaben erzeugen.  Sie k√∂nnen in mehrere Kategorien eingeteilt werden.  Durch die Methode der Auswahl der Empf√§nger: Trigger - Selektiv - Gruppe.  Nach Vereinbarung: Transaktions - Marketing - Service.  Unterschiedliche Arten von Buchstaben k√∂nnen unterschiedliche Anforderungen haben und unterschiedliche Testskripte anwenden. <br><br>  Trigger-E-Mails werden als Reaktion auf Ereignisse generiert, z. B. Benutzeraktionen oder √Ñnderungen des Status von Systemobjekten.  Sie werden von der Anwendung generiert und sind daher hinsichtlich des Testens am interessantesten.  Trigger-E-Mails k√∂nnen sowohl Transaktions- als auch Marketing-E-Mails sein. <br><br>  Benutzerdefinierte Briefe werden an eine dynamische Auswahl von Benutzern gesendet, die beliebigen Kriterien entsprechen. <br><br>  Gruppennachrichten werden an eine bekannte Gruppe von Empf√§ngern gesendet, beispielsweise an alle Benutzer oder Partner.  Selektiv- und Gruppenbriefe werden meistens vermarktet. Das Versenden solcher Briefe wird manuell oder nach einem Zeitplan eingeleitet. <br><br>  Transaktionsbuchstaben werden generiert, wenn ein Benutzer eine Aktion ausf√ºhrt.  Solche Briefe umfassen beispielsweise Rechnungen, Tickets oder Benachrichtigungen √ºber den Lieferstatus, Briefe mit einem Zugangswiederherstellungscode usw.  Transaktions-E-Mails werden immer ausgel√∂st.  Maximale Kompatibilit√§t ist f√ºr sie wichtig, was bedeutet, dass sie so einfach wie m√∂glich sein sollten und an einer gro√üen Anzahl von Kunden getestet werden m√ºssen. <br><br>  Marketingbriefe ermutigen den Benutzer, Ma√ünahmen zu ergreifen. Dies kann beispielsweise ein Angebot f√ºr individuelle Rabatte sein, die auf fr√ºheren Eink√§ufen basieren.  In diesen Briefen k√∂nnen Transaktionsdaten verwendet werden, sie k√∂nnen sowohl Trigger als auch Masse sein - periodisch oder einmalig.  F√ºr diese Buchstaben ist die Effizienz wichtiger, normalerweise wird sie durch die Ergebnisse eines Split-Tests bestimmt.  Einige Aspekte der Kompatibilit√§t k√∂nnen f√ºr die Effizienz geopfert werden. <br><br>  Gruppenmarketingbriefe, z. B. Nachrichten zu saisonalen Angeboten, Werbeaktionen und Verk√§ufen, werden h√§ufig ‚Äûmanuell‚Äú gesendet und sind nicht Teil Ihrer Bewerbung. Sie k√∂nnen (und sollten) jedoch allgemeine Testprinzipien auf diese anwenden. <br><br>  Dar√ºber hinaus kann es von Mitarbeitern erstellte Servicebriefe f√ºr automatisierte oder automatisierte CRM-, Journaling-, Auditing- oder DWH-Systeme geben.  Solche Buchstaben sind Trigger, was bedeutet, dass sie auch Teil der Anwendung sind und getestet werden m√ºssen. <br><br><a name="2"></a><h2>  Wer ist am Test- und Kontrollprozess beteiligt? </h2><br><ol><li>  QS-Ingenieur - nimmt an allen Phasen des Prozesses teil. </li><li>  Network Engineer - Verantwortlich f√ºr die Konfiguration der Netzwerk- und Messaging-Infrastruktur.  Ein Netzwerktechniker sollte an der Planung von Infrastrukturtests beteiligt sein. </li><li>  Ein Zustellbarkeitsspezialist ist eine Person, die die Zustellung von Briefen √ºberwacht, die auch an der √úberwachung der technischen und administrativen Parameter aller gesendeten Nachrichten teilnimmt und den Fortschritt des Versandprozesses √ºberwacht.  Er ist daf√ºr verantwortlich, dass die gesendeten Briefe den maximal m√∂glichen Prozentsatz der Benutzer erreichen und nicht in Spam geraten. Daf√ºr muss der Spezialist √ºber bestimmte Kenntnisse und Kontakte verf√ºgen.  Wenn Probleme bei der Zustellung von Briefen auftreten, muss er die wahrscheinliche Ursache verstehen und beseitigen: entweder durch Beseitigung technischer Hindernisse;  oder etwas im Inhalt der Briefe √§ndern;  oder L√∂sen des Problems mit dem Support-Service des Mail-Providers, an den keine Briefe gelangen.  Ein solcher Spezialist (falls vorhanden) sollte auch an der Erstellung einer Checkliste und dem Testen der Infrastruktur beteiligt sein, die Antr√§ge und Briefe generiert.  Der Testprozess selbst muss jedoch unter der Kontrolle des QS-Dienstes stehen. </li><li>  E-Mail-Vermarkter - Bestimmt die Effektivit√§t von Marketingkampagnen.  Unter seiner Kontrolle finden die f√ºr Marketing-Mailings erforderlichen Split-Tests f√ºr das Publikum statt.  Der E-Mail-Vermarkter steuert auch die Segmentierung der Benutzerbasis, die Zusammensetzung und H√§ufigkeit der gesendeten E-Mails sowie die visuelle ‚ÄûPr√§sentation‚Äú der E-Mail f√ºr den Benutzer. </li></ol><br>  Alle diese Rollen werden nicht unbedingt von einem separaten Mitarbeiter ausgef√ºhrt: Die Rolle eines Vermarkters kann von einem der Produktmanager gespielt werden, und die Rolle eines Zustellbarkeitsspezialisten kann beispielsweise von einem Support-Mitarbeiter oder einem Netzwerktechniker √ºbernommen werden.  Und bei Startups mit hoher Wahrscheinlichkeit muss dies alles von einer Person erledigt werden, und sie k√∂nnen sich als Qualit√§tsspezialist herausstellen. <br><br><a name="3"></a><h2>  Post- und Posttransport </h2><br>  Die Poststruktur √§hnelt einem riesigen Eisberg und hat zwei Ebenen.  Es gibt mehr als hundert verschiedene Standards f√ºr Post, aber fast alle geh√∂ren zu einer dieser beiden Ebenen: <br><br>  <b>Der Unterwasserteil des Eisbergs</b> ist ein Netzwerkdienst, dessen Basisprotokoll das durch RFC 5321 definierte SMTP-Anwendungsprotokoll ist. Es ist f√ºr die Zustellung von Briefen verantwortlich.  Zur Zustellung des Briefes wird ein sogenannter SMTP-Umschlag gebildet, der die Adressen des Absenders und Empf√§ngers der SMTP-Ebene enth√§lt.  Andere Netzwerkdienste wie DNS sind ebenfalls f√ºr die Zustellung des Briefes verantwortlich.  Die Hauptkomponente der Netzwerkinfrastruktur ist der Mail Transfer Agent, oder die Abk√ºrzung MTA wird h√§ufiger verwendet.  MTA ist f√ºr die Abwicklung der Nachrichten√ºbermittlungswarteschlange und des √úbermittlungsprozesses an die Empf√§ngerserver verantwortlich.  Beispiele f√ºr MTA sind Postfix, Sendmail, Exim und Microsoft SMTP. <br><br>  Diesen Unterwasserteil des Eisbergs, der die MTA-, DNS-Parameter und andere Netzwerkparameter enth√§lt, werden wir als Mail-Infrastruktur oder Nachrichten√ºbermittlungsinfrastruktur bezeichnen. <br><br>  <b>Die Oberfl√§che des Eisbergs</b> ist der Buchstabe selbst.  Die Grundstruktur des Briefes ist in RFC 5322 definiert. Der Brief besteht aus Service-Headern und einem oder mehreren Teilen mit Daten.  Die Daten k√∂nnen Text in Klartext und / oder HTML, Inline-Bilder oder Anh√§nge fast aller Art enthalten. <br><br><a name="4"></a><h2>  Die Schnittstelle der Mail-Infrastruktur und die Grenzen der zu testenden Anwendung </h2><br>  Die Mail-Infrastruktur verf√ºgt in der Regel √ºber eine oder mehrere Schnittstellen, √ºber die ein Brief gesendet wird (sie wird in die MTA-Zustellwarteschlange gestellt).  Zum Beispiel der SMTP-√úbermittlungsdienst, die Funktion <code>mail()</code> in PHP, die Daten√ºbertragung an eine externe Mail- oder sendmail-Anwendung, die API interner oder externer Dienste (z. B. GetResponse, SendPulse oder Amazon SES).  Wir werden diese Schnittstellen als Teil der Infrastruktur betrachten.  Sehr oft gibt es eine Situation, in der Anwendung A Daten f√ºr einen Brief und eine Liste von Empf√§ngern vorbereitet und diese dann √ºber ihre API an Anwendung B √ºbertr√§gt (f√ºr Massenmailing-Marketing kann dies manuell √ºber die Benutzeroberfl√§che (UI) erfolgen) und Anwendung B bereits eine E-Mail-Nachricht generiert RFC 5322-Format und stellt es irgendwie in die Warteschlange f√ºr die MTA-Zustellung.  Aus Sicht von Anwendung A (und beim Testen) wird Anwendung B Teil der Mail-Infrastruktur sein.  Die API oder Benutzeroberfl√§che der Anwendung B ist die Mail-Infrastruktur-Schnittstelle f√ºr Anwendung A.  Obwohl aus Sicht von Anwendung B die Situation anders sein wird und die Mail-Infrastruktur daf√ºr Netzwerkanwendungen oder -protokolle niedrigerer Ebene sein wird. <br><br><a name="5"></a><h2>  Definition der getesteten Parameter </h2><br>  Beim Testen jeder Anwendung ist es wichtig, alle von ihr verwendeten E-Mail-Infrastrukturen hervorzuheben (es k√∂nnen mehrere vorhanden sein) und f√ºr jede Infrastruktur die verwendeten Schnittstellen auszuw√§hlen (es k√∂nnen auch mehrere f√ºr jede Infrastruktur vorhanden sein).  F√ºr jede Schnittstelle wird die Zusammensetzung und das Format der an sie √ºbertragenen Daten so genau wie m√∂glich bestimmt, zum Beispiel: Nachrichtentext in TEXT / HTML, Nachrichtentext in TEXT / PLAIN, Betreff der Nachricht, Empf√§ngername, Empf√§ngeradresse, Absendername, Absenderadresse des Briefes (RFC5321.From ), die Adresse des Absenders des SMTP-Leiters (RFC5322.mailfrom).  Als n√§chstes wird eine Reihe von Anforderungen f√ºr jeden Parameter entwickelt (Darstellungen, Codierungen, Grenzwerte usw.), Steuerungsmethoden f√ºr jeden der Parameter werden bestimmt (auf welche Weise kann das tats√§chliche Ergebnis mit dem erwarteten verglichen werden). <br><br><a name="6"></a><h2>  Typische Struktur einer generierenden Anwendung </h2><br>  In der Regel ist das Produkt, das wir testen, f√ºr die Erstellung des Briefes und der darin enthaltenen Daten verantwortlich.  Dies ist normalerweise eine Serveranwendung (manchmal aber auch eine Clientanwendung).  Es definiert die Struktur des Buchstabens, einen Teil der Service-Header, Formate f√ºr die Datenkapselung, die Darstellung von Zeichenfolgen und die Textcodierung.  Ein einfaches Beispiel f√ºr eine solche Anwendung ist ein Skript, das einen Buchstaben bildet und die Funktion <code>mail()</code> aufruft. <br><br>  Die Hauptelemente der Anwendung, die gesteuert werden m√ºssen: <br><br><ul><li>  Code, der f√ºr die Erzeugung von Kopfzeilen und / oder Buchstabenstrukturen verantwortlich ist, wenn die Buchstabenstruktur dynamisch erzeugt wird, und / oder eine statische Buchstabenvorlage, die ihre Struktur beschreibt; </li><li>  Layout des HTML-Teils des Briefes (idealerweise ist dies eine separate Entit√§t oder ein Teil der Vorlage / des Layouts des Briefes, kann aber in den Anwendungscode eingen√§ht werden); </li><li>  Ersetzung von Bewerbungsdaten in einem Brief (oder in einer Briefvorlage); </li><li>  Anwendungsintegration in die Briefzustellungsinfrastruktur, die Richtigkeit der an die Infrastrukturschnittstelle √ºbertragenen Parameter. </li></ul><br><a name="7"></a><h2>  Was und wann zu testen </h2><br>  Ob es uns gef√§llt oder nicht, der gesamte Eisberg muss getestet werden.  Es gibt mehrere Hauptkomponenten, die getestet werden m√ºssen: <br><br><a name="8"></a><h4>  1. Lieferinfrastruktur </h4><br>  Der Schwerpunkt beim Testen sollte liegen auf: Zustellbarkeit von Briefen;  die Richtigkeit von DNS-Eintr√§gen, einschlie√ülich PTR / FCrDNS-, MX- und A-Eintr√§gen;  SMTP-Protokolleinstellungen (HELO, unter Verwendung von TLS);  Briefautorisierung (SPF / DKIM / DMARC);  SMTP-Umschlagadressen (wenn sie nicht von der Anwendung verwaltet werden);  korrekte Verarbeitung der Eingabeparameter der Infrastrukturschnittstelle;  Verfolgung, Abrechnung und Verarbeitung von nicht zugestellten Briefen. <br><br>  Es ist erforderlich, die Infrastruktur w√§hrend der Erstimplementierung und jedes Mal zu testen, wenn √Ñnderungen an der Infrastruktur selbst (der Konfiguration des MTA, DNS oder Netzwerk√§nderungen) oder der Schnittstelle zum Senden von Briefen vorgenommen werden.  Verwenden einer neuen Dom√§ne, eines neuen Netzwerks oder einer neuen API  √Ñndern Sie die Eigenschaften der gesendeten E-Mails wie Sprache, Gr√∂√üe oder Menge erheblich.  Erfahrungsgem√§√ü √§ndert sich die Infrastruktur tendenziell, ohne den Krieg zu erkl√§ren. Daher sollten regelm√§√üig grundlegende Tests durchgef√ºhrt werden, auch wenn keine Informationen √ºber √Ñnderungen vorliegen. <br><br>  Ein Netzwerktechniker und Zustellbarkeitsspezialist kann und sollte an der Erstellung des Plans und der Checklisten f√ºr Infrastrukturtests beteiligt sein. <br><br><a name="9"></a><h4>  2. Die generierende Anwendung </h4><br>  Sie sollten die Adressen des SMTP-Umschlags (wenn sie von der Anwendung gesteuert werden, d. H. An die Schnittstelle √ºbertragen werden - Umschlag von, Umschlag an), die Werte der Kopfzeilen der Servicemeldungen (Datum, Nachrichten-ID, Abmelden der Liste, automatische √úbermittlung usw.) steuern. S.), Briefautorisierung (DKIM / DMARC), MIME-Codierungen (base64, zitiert-druckbar), die allgemeine Korrektheit des Briefformats, z. B. das Fehlen von Nicht-ASCII-Zeichen in den Kopfzeilen, die Zusammensetzung der ersetzten Daten, das korrekte Ausl√∂sen der Ausl√∂ser, Abmeldemechanismen, Verfolgungsmechanismen Sammlung von Briefen und Statistiken (Postmaster-Header, z. B. Feedback-ID oder X-Mailru-Msgtype, sowie Tracking-Pixel)  . <br><br>  Sie m√ºssen die Anwendung w√§hrend ihrer Entwicklung testen, wenn Sie alle zugeh√∂rigen Komponenten √§ndern, die f√ºr die Generierung und Speicherung von Daten verantwortlich sind, und wesentliche √Ñnderungen an den Briefvorlagen vornehmen, wenn Sie die verwendete Infrastruktur oder ihre Schnittstelle sowie im Rahmen allgemeiner Regressionen √§ndern. <br><br><a name="10"></a><h4>  3. Struktur- und Layout-Briefvorlagen (k√∂nnen Teil einer generierenden Anwendung sein oder werden separat entwickelt) </h4><br>  Die Struktur der Nachricht wird √ºberpr√ºft (Inhaltstyp, Inhaltsdisposition, Verschachtelung der mehrteiligen Teile des Buchstabens, Textcodierung, Zeichenfolgenparameter), der Wert des Ziels und der angezeigten √úberschriften (Von, Bis, Antwort an, Betreff). Die Nachricht wird in der Liste der Buchstaben und beim Lesen angezeigt in verschiedenen Schnittstellen Mikroformate (z. B. dass ein Kalenderereignis als Kalenderereignis oder ein Flugticket als Flugticket erkannt wird), Branding. <br><br>  E-Mail-Vorlagen sollten jedes Mal getestet werden, wenn Sie mindestens die geringsten √Ñnderungen vornehmen, und auch separat, z. B. in einer Situation, in der Briefe in die Anwendung gelangen, bevor der Serverteil fertig ist. <br><br>  Es wird empfohlen, dass Sie einen E-Mail-Vermarkter und Zustellbarkeitsspezialisten verwenden, um eine Checkliste zum Testen einer Briefvorlage zu erstellen. <br><br><a name="11"></a><h2>  Grundvoraussetzungen f√ºr die √úberpr√ºfung der Infrastruktur </h2><br>  Die f√ºr den Mailserver ausgew√§hlte IP-Adresse sollte der IP-Adresse des Mailservers so √§hnlich wie m√∂glich sein.  Es wird empfohlen, dies mit dem Dienstprogramm whois zu √ºberpr√ºfen.  Insbesondere sollte die Absenderadresse nicht zu einem Netzwerk geh√∂ren, das als dynamisch wahrgenommen werden kann.  Das ausgew√§hlte Netzwerk muss √ºber g√ºltige Kontakte verf√ºgen, an die Sie Beschwerden senden k√∂nnen.  Das Netzwerk muss verwendet werden (Status ASSIGNED in RIPE).  Die IP-Adresse muss einen korrekt konfigurierten PTR-Eintrag haben.  Sie kann unabh√§ngig √ºber das Hosting-Control-Panel oder √ºber den Support-Service des Anbieters konfiguriert werden.  Der PTR-Datensatz muss auf den tats√§chlichen Hostnamen verweisen und gleichzeitig aussagekr√§ftig sein, sich auf dieselbe IP-Adresse zur√ºckl√∂sen (sogenannte FCrDNS-Pr√ºfung), den Namen des dynamischen Hosts nicht erinnern und keine gro√üe Gruppe von Zahlen oder Zeichen enthalten.  Ein gutes Beispiel ist mailserver.example.com. <br><br>  Jede Dom√§ne, die in Umschlagadressen oder Nachrichtenkopfzeilen verwendet wird, muss einen g√ºltigen MX-Datensatz haben, der auf einen A-Datensatz des Hosts verweist, der mindestens Nachrichten √ºber Zustellungsfehler verarbeiten kann.  Bei MX ist es nicht zul√§ssig, direkt auf eine IP-Adresse zu verweisen. <br><br>  Kontrollieren Sie den Durchgang von SPF, DKIM, DMARC.  Mit SPF kann der Dom√§nenbesitzer im TXT-Datensatz eine Liste von Servern angeben, die das Recht haben, E-Mail-Nachrichten mit Absenderadressen in dieser Dom√§ne zu senden.  Es ist f√ºr die Adresse konfiguriert, die in Envelope-from (SMTP-Envelope) im Abschnitt DNS-Zonenverwaltung der Dom√§ne verwendet wird.  DKIM bietet eine √úberpr√ºfung der Urheberschaft einer Nachricht oder der Zugeh√∂rigkeit eines Absenders zu einer bestimmten Dom√§ne mithilfe digitaler Signaturtechnologien, die der Nachricht selbst hinzugef√ºgt werden (in ihrem DKIM-Signatur-Header).  In der Regel wird eine DKIM-Signatur auf MTA-Ebene (Infrastruktur) konfiguriert.  DMARC legt die Richtlinie zum √úberpr√ºfen eingehender E-Mails in einer bestimmten Dom√§ne und von Aktionen f√ºr Briefe fest, die die SPF- oder DKIM-Authentifizierung nicht bestehen.  Wenn Sie versuchen, gegen diese Richtlinie zu versto√üen, wird ein strukturierter Bericht mit Informationen zu einem solchen Versuch angezeigt.  DMARC sowie SPF werden als TXT-Eintrag in der Dom√§nenzone ver√∂ffentlicht. <br><br>  √úberpr√ºfen Sie die Zustellung von Briefen an die wichtigsten Postdienste - f√ºr Russland, Mail.Ru, Yandex, GMail, Microsoft (Hotmail / Outlook.com / Office365), Rambler, nic.ru.  In den Briefen m√ºssen Sie die Richtigkeit von HELO √ºberpr√ºfen;  Verf√ºgbarkeit und Bestehen von Schecks PTR / FCrDNS, SPF, DKIM und DMARC;  die G√ºltigkeit der √úberschriften und der darin enthaltenen Daten, insbesondere die Synchronisation der Stunden in Datumsangaben und die Richtigkeit der Zeitzonen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2dc/8b4/9bc/2dc8b49bc147ae9369cbc232bd4dfdb3.png"><br><br>  Die Bildung bestimmter Parameter, z. B. Autorisierung, Zustellbarkeit und Spam, wird von allen Komponenten ganzheitlich beeinflusst. In der Regel gibt es jedoch separate Betriebstools f√ºr deren Steuerung - DMARC- und FBL-Berichte, Postmaster-Service-APIs, E-Mail-Tracking-Tools und Zustellungsstatistiken.  Beim Testen sollte der Grad der Implementierung von Tools zur Betriebs√ºberwachung im Unternehmen ber√ºcksichtigt werden. Wenn beispielsweise keine Betriebs√ºberwachung von DMARC-Berichten vorliegt, sollten Sie regelm√§√üig die E-Mail-Autorisierung testen, wenn keine operative √úberwachung der Zustellbarkeit vorliegt. √úberpr√ºfen Sie regelm√§√üig, wie und wo Briefe eingehen, auch wenn keine Entwicklung im Zusammenhang mit dem Versenden von Briefen vorliegt nicht durchgef√ºhrt. <br><br>  Um die Infrastruktur zu √ºberpr√ºfen, k√∂nnen Sie spezielle Dienste verwenden, z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mail-tester.com</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mxtoolbox.com</a> .  Detaillierte Anforderungen an die Infrastruktur finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in diesem Artikel</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ee/d3f/4d3/3eed3f4d3e9ad8df1edb1a90d115e318.png"><br><br><a name="12"></a><h2>  Autorisierungsanforderungen </h2><br>  Das √úberpr√ºfen des Durchgangs von SPF, DKIM, DMARC ist normalerweise mithilfe des Headers Authentication-Results auf dem Server des Empf√§ngers m√∂glich. <br><br>  √úberpr√ºfen Sie die G√ºltigkeit des SPF-Eintrags auf Syntax, das Limit f√ºr DNS-Abfragen (z. B. mithilfe von mxtoolbox.com).  Bei der Bildung eines SPF sollten alle Mailing-Quellen ber√ºcksichtigt werden (vergessen Sie nicht die CRM-Systeme, alle verwendeten Bereitstellungsinfrastrukturen, einschlie√ülich derer, √ºber die einmalige Marketingkampagnen durchgef√ºhrt werden).  Es wird empfohlen, zul√§ssige Server f√ºr die Dom√§ne √ºber die Liste der Netzwerke ('ip4' / 'ip6') festzulegen.  SPF wird aus dem SMTP-Umschlag auf die Absenderadresse √ºberpr√ºft.  Stellen Sie sicher, dass die SMTP-Umschlagdom√§ne (Envelope-from) mit der Dom√§ne aus dem From-Header √ºbereinstimmt.  H√§ufige SPF-Fehler sind <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in diesem Artikel aufgef√ºhrt</a> . <br><br>  √úberpr√ºfen Sie den DKIM-DNS-Eintrag, die G√ºltigkeit und Zusammensetzung der DKIM-Signatur.  Stellen Sie sicher, dass Sie einen DKIM-Schl√ºssel mit mindestens 1024 Bit verwenden.  Empfohlener Hash-Modus der DKIM-Signatur: entspannt / entspannt.  Stellen Sie sicher, dass alle wichtigen Header signiert sind (Von, Bis, Betreff, Datum, Nachrichten-ID, MIME-Version, Inhaltstyp), dass Tracking-Header (Empfangen, Geliefert an, R√ºckgabepfad) nicht signiert sind und DKIM f√ºr validiert ist grundlegende Postdienste.  Richten Sie die Weiterleitung an einen der Mail-Dienste an einen anderen ein. DKIM sollte weitergeleitete Briefe nicht "schlagen".  Stellen Sie sicher, dass die DKIM-Signaturdom√§ne mit der Absenderdom√§ne aus dem From-Header √ºbereinstimmt. <br><br>  √úberpr√ºfen Sie DMARC auf grundlegende Mail-Dienste.  Suchen Sie nach DMARC-Berichten, identifizieren Sie SPF und DKIM und beheben Sie Fehler f√ºr alle IP-Adressen Ihrer Infrastruktur. <br><br>  Stellen Sie sicher, dass Nachrichten mithilfe von Verschl√ºsselung (TLS) an externe Server √ºbermittelt werden.  Manchmal k√∂nnen Sie anhand des empfangenen Headers auf dem Server des Empf√§ngers nach TLS suchen: Geben Sie beispielsweise das ESMTPS-Protokoll oder das Vorhandensein von Parametern des Formulars an <i>(Version = TLS1_2-Verschl√ºsselung = ECDHE-RSA-AES128-GCM-SHA256-Bits = 128/128).</i>  zeigt das Vorhandensein von TLS an. <br><br><a name="13"></a><h2>  √úberpr√ºfung der generierenden Anwendung </h2><br><a name="14"></a><h4>  Anforderungen an die Postanschrift </h4><br>  <b>Umschlagadressen</b> <br>  Wir beginnen die √úberpr√ºfung der generierenden Anwendung mit den Adressen im SMTP-Umschlag. <br><br>  Umschlagadressen sind Adressen auf der Ebene der E-Mail-Infrastruktur.  Sie sind f√ºr den Benutzer nicht sichtbar, aber f√ºr die Zustellung wichtig, da der Brief, in den der Brief gelangt, genau durch die Adresse des Umschlags bestimmt wird. <br><br>  Die Adresse des Empf√§ngers in einem Umschlag (Envelope-to, auch bekannt als RCPT TO :) ist die Adresse, an die der Brief tats√§chlich zugestellt wird. <br><br><ul><li>  F√ºr alle Briefe mit Ausnahme der Registrierung muss die Adresse gem√§√ü den administrativen Anforderungen gesetzlich unterschrieben und f√ºr den Versand validiert sein. </li><li>  F√ºr Newsletter muss die Adresse "live" sein, Adressen, an die Briefe nicht regelm√§√üig zugestellt werden k√∂nnen, sollten als inaktiv markiert werden, Mailings an sie sollten nicht erfolgen.  Einige Kategorien von Briefen (z. B. Zugriffswiederherstellung) m√ºssen jedoch m√∂glicherweise auch an Adressen gesendet werden, die zuvor als inaktiv markiert wurden. </li></ul><br>  Absenderadresse in einem SMTP-Umschlag (normalerweise als Envelope-from, smtp.mailfrom oder Return-Path bezeichnet) - An diese Adresse werden Nachrichten √ºber die Unf√§higkeit, einen Brief zu senden, und automatische Antworten gesendet.  Diese Adresse ist f√ºr den Benutzer nicht sichtbar.  Diese Adresse wird auch f√ºr die SPF-Autorisierung verwendet.  Wir √ºberpr√ºfen Folgendes: <br><br><ul><li>  Adresse ist verf√ºgbar; </li><li>  Es ist nicht die Adresse des Mitarbeiters und wird nicht an ihn weitergeleitet, um automatische Antworten, Nachrichten √ºber Unzug√§nglichkeit usw. auszuschlie√üen. </li><li>  Es wird von einem Skript verarbeitet, das Adressen unzug√§nglicher Benutzer als inaktiv markiert. </li><li>  die Adresse kann automatisch erzeugt werden, d.h.  einzigartig f√ºr jeden Buchstaben; </li><li>  Ein Brief an diese Adresse sollte nicht zur Erzeugung eines Antwortschreibens f√ºhren, z. B. einer Nachricht √ºber einen Box√ºberlauf. </li></ul><br>  <b>E-Mail-Header-Adressen</b> <br><br>  Diese Adressen sind entweder f√ºr den Benutzer direkt sichtbar oder werden bei der Beantwortung eines Briefes verwendet. <br><br>  Absenderadresse (Von :) √úberschrift ist die Adresse und der Absendername, die in der Liste der Buchstaben und beim Lesen eines Briefes angezeigt werden.  Wir √ºberpr√ºfen Folgendes: <br><br><ul><li>  Dies ist eine "von Menschen lesbare" freundliche Adresse, die das Unternehmen identifiziert. </li><li>  Es enth√§lt nicht nur E-Mail, sondern auch den Namen des Absenders. </li><li>  noreply @ ist m√∂glich, aber nur, wenn wir betonen m√∂chten, dass wir keine Antwort auf den Brief erwarten und er nicht gelesen wird.  Es ist besser, diese Idee im Text des Briefes zu duplizieren. </li><li>  Bei Vorhandensein von Nicht-ASCII-Zeichen (z. B. kyrillisch) muss der Absendername gem√§√ü MIME codiert werden, die Dom√§ne bei Vorhandensein von Nicht-ASCII-Zeichen muss in Punycode codiert werden. </li><li>  Briefe derselben Kategorie sollten dieselbe Adresse haben, die Verwendung automatisch generierter Adressen ist nicht zul√§ssig.  Dies liegt an der Tatsache, dass From: am h√§ufigsten von Personen verwendet wird, um Buchstaben mithilfe von Filtern in Ordner zu sortieren. </li><li>  Die Adresse sollte f√ºr Transaktions-, Marketing- und Dringlichkeitsbriefe (z. B. Briefe des Support-Service) unterschiedlich sein (vorzugsweise in verschiedenen Subdomains).  Dies liegt auch daran, dass der Benutzer Marketing-E-Mails als Spam markieren oder in einem unlesbaren Ordner filtern kann. </li><li>  Die Absenderadresse und die SMTP-Umschlagadresse m√ºssen sich in derselben Dom√§ne oder in Unterdom√§nen derselben Organisationsdom√§ne befinden, damit der SPF innerhalb des DMARC √ºbergeben werden kann. </li><li>  Die Adresse muss aus der Dom√§ne der Organisation stammen.  Es ist nicht akzeptabel, kostenlose Mail-Dienste und andere √∂ffentliche Mail-Dom√§nen in From zu verwenden, da solche Mailings die SPF- und DKIM-Authentifizierung im Rahmen von DMARC nicht bestehen. </li></ul><br>  Antwortadresse - "Manuelle" Antworten werden an diese Adresse gesendet, wenn der Benutzer auf den Brief antwortet.  Es ist optional: Wenn es nicht vorhanden ist, wird die Adresse von Von f√ºr die Antwort verwendet.  √úberpr√ºfen Sie die Antwort auf: <br><br><ul><li>  Es kann automatisch erzeugt werden, d.h.  einzigartig f√ºr den Brief (erm√∂glicht es Ihnen herauszufinden, auf welchen Brief die Antwort kam). </li><li>  Es sollte nicht in die Box des Mitarbeiters fallen, um das Beantworten von Anrufen zu vermeiden, sondern sollte idealerweise in CRM ‚Äûverpackt‚Äú sein. </li><li>  Es kann eine automatische Standardantwort f√ºr CRM generieren, sollte jedoch nichts √úberfl√ºssiges generieren, z. B. Nachrichten √ºber einen Box√ºberlauf.  Bei der Generierung von automatischen Antworten m√ºssen Ma√ünahmen ergriffen werden, um Schleifen zu vermeiden. Diese sind in RFC 3834 aufgef√ºhrt. </li><li>  Es kann von jeder Domain stammen, die nicht unbedingt mit From √ºbereinstimmt, aber manchmal macht dies den Benutzern bei der Beantwortung Angst. </li><li>  Kann fehlen, dann f√ºhrt die From-Adresse ihre Funktionen aus. </li><li>  Zus√§tzlich zur Adresse wird der Name des Absenders angegeben. </li></ul><br>  Anzusprechen: <br><br><ul><li>  Es sollte die E-Mail des Empf√§ngers enthalten (andernfalls macht es dem Empf√§nger der Nachricht Angst und sch√ºtzt den Anti-Spam). </li><li>  Idealerweise sollte es den Namen des Empf√§ngers enthalten.  Wenn der Name jedoch unbekannt oder zweifelhaft ist (z. B. wurde die Adresse noch nicht best√§tigt), ist es besser, ihn nicht anzugeben (jemand kann die Adresse eines anderen mit einem schlechten Namen eingeben und der Empf√§nger wird m√∂glicherweise von Ihnen beleidigt). </li></ul><br><a name="15"></a><h4>  Anforderungen an den E-Mail-Header </h4><br>  Die tats√§chliche Codierung des Textes sollte mit der in der Kopfzeile angegebenen √ºbereinstimmen.  Es wird empfohlen, in allen √úberschriften und Teilen des Briefes eine Codierung zu verwenden.  Es wird empfohlen, UTF-8 als weit verbreitetes zu verwenden.  Die Codierung wird in den Content-Type-Headern und im &lt;META&gt; -Tag des HTML-Teils angegeben. <br><br>  Die √úberschriften From :, Message-ID: und Date: m√ºssen direkt im Skript zum Senden des Briefes (und standardm√§√üig - zusammen mit dem Text des Briefes) und immer im richtigen Format gebildet werden.  Wenn sie fehlen oder falsch gebildet sind, kann einer der Transitserver diese Header hinzuf√ºgen, was zu einer Verletzung der Integrit√§t der DKIM-Signatur f√ºhrt. <br><br>  8-Bit-Zeichen in den Kopfzeilen, einschlie√ülich der Betreffzeile (Betreff) und der Namen der angeh√§ngten Dateien (Inhaltstyp und Inhaltsdisposition), sollten fehlen.  Alle Nicht-ASCII-Zeichen, einschlie√ülich Kyrillisch, m√ºssen in Anf√ºhrungszeichen oder Base64 codiert werden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/910/ab6/456/910ab6456ccd1ed4ef29f1725dab4bdd.png"><br><br><a name="16"></a><h4>  Anforderungen an die Struktur des Briefes </h4><br>  F√ºr den HTML-Teil des Briefes ist es w√ºnschenswert, einen alternativen Text (einfachen) Teil zu bilden.  Es ist auch erforderlich, die Konformit√§t und Lesbarkeit des Klartextteils des Briefes (falls vorhanden) und die allgemeine Struktur des Briefes zu √ºberpr√ºfen. <br><br>  Gem√§√ü RFC 5322 sollte die Zeilenl√§nge in einem Buchstaben 998 8-Bit-Zeichen nicht √ºberschreiten.  Bitte beachten Sie, dass in UTF-8 ein Zeichen mehrere Oktette belegen kann.  Der Terminator der Zeilen in der E-Mail ist ein Paar CRLF (&lt;cr&gt; ascii 13, lf&gt; ascii 10), das 2 Oktette belegt.  Sie m√ºssen die Richtigkeit des Zeichenfolgenterminators √ºberpr√ºfen, da Briefe h√§ufig mit einem Unix-Skript gesendet werden. Unter Unix besteht der Zeilenabschluss aus einem einzelnen lf-Zeichen. Dies ist ein Fehler f√ºr E-Mails.  Sie sollten auch √ºberpr√ºfen, ob die Zeichenfolgenterminatoren UTF-8-codierte Zeichen unterbrechen: Sie k√∂nnen das Vorhandensein eines Zeichenfolgenterminators zwischen zwei Oktetten desselben Zeichens, z. B. Kyrillisch, nicht zulassen.          ,     base64. <br><br>        ‚Äî      ¬´Content-Disposition: inline¬ª,   ,   ,  ¬´Content-Disposition: attachment¬ª,     . <br>  ,  ,    :  ,      multipart-   (mixed, alternative, related),  multipart/mixed       , multipart/related ‚Äî    , multipart/alternative ‚Äî   plain text-  HTML-.     ,       -,    : <br><br> multipart/alternative <br> ‚Äî text/plain <br> ‚Äî text/html <br><br>   , text/plain    text/html  multipart/related.    ,     HTML-,       -   ‚Äî  plain-. <br><br>     -      : <br><br> multipart/alternative <br> ‚Äî text/plain <br> ‚Äî multipart/related <br> ‚Äî‚Äî text/html <br> ‚Äî‚Äî image/‚Ä¶ (-) <br> ‚Äî‚Äî image/‚Ä¶ (-) <br><br> -   Content-Disposition: inline     multipart/related-. <br><br>    ,     ,   ,    : <br><br> multipart/mixed <br> ‚Äî multipart/alternative <br> ‚Äî‚Äî text/plain <br> ‚Äî‚Äî multipart/related <br> ‚Äî‚Äî‚Äî text/html <br> ‚Äî‚Äî‚Äî image/png <br> ‚Äî‚Äî‚Äî image/png <br> ‚Ä¶ <br> ‚Äî application/octet-string (content-disposition: attachment) <br> ‚Äî application/octet-string (content-disposition: attachment) <br> ‚Ä¶ <br><br> (multipart/related-  multipart/alternative-     ,     multipart/mixed-) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b63/896/ef4/b63896ef4964a08327693deae2192641.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ab/123/d6d/7ab123d6d0398601b7c62bd1ae57d59a.png"><br><br><a name="17"></a><h4>   URI </h4><br>  URI (  src, href,   ..)       ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://example.com/somepath</a> ).       (/somepath)    (//example.com/somepath),    , ..        file://. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c55/852/64f/c5585264ffa6e6f15246000cd26f9d00.png"><br><br><ul><li>    ASCII- ( , )  URI       percent encoding. </li><li> ,    (..    URL,     ),        &lt;&gt;,         .  -    ,      .  href  A        ,  -          .         ¬´¬ª,     . </li><li>     htt://, htts://  milto:. </li><li>           http://   htts://. </li><li>      (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">example.com</a> :8080/somepath), ..     . </li><li>     HTML-     -    (, ,    ..)      , ..   -      ,    ;           ,        ,     ,     ( -         GET-,       POST  PUT). </li><li>      List-Unsubscribe, ,      -  , ..          . </li><li>     ,            ,    ,     (,   ).           .  ,    ,   ,    ,   ,     . </li><li>  Weil  URI   ,       URI  data:.            URI. </li><li>     ,      . ,        ,          . </li><li>       -     . </li></ul><br><a name="18"></a><h4>     </h4><br>     ? <br><br><blockquote>            .         ‚Äî   (XSS, Crossite scripting),   (interface spoofing), DOM clobbering,   /   (, IP-      )  ..,                 .  ,       .     : <br><br><ul><li>   , </li><li>   / , </li><li>    , </li><li>        (    ), </li><li>       (..      )       , </li><li>  HTML-     ( Microsoft Exchange / Outlook  RTF, -       Outlook      ), </li><li>          . </li></ul><br>      ,   -  URI cid://,     . , Mozilla Thunderbird   cid://   . </blockquote><br>      -     -       . <br><br>          . ,          URI, -    , -   ,       .        :          ,     (  ,               ). <br><br>      : <br><br><ul><li>      , ,  , ,    . </li><li>          . </li><li>   , , ,          .      (      ).      .     ,        . </li><li>       ,   . </li><li>  ,    ,  ..   -,    - ,  c,   , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">      </a> ( ,   , ,  ,  -       ). ,             ,    . </li><li>       . </li><li>    , ,  , .        (, -  ),   , ,  ,     . </li><li>               . </li><li>   : <br><ul><li>    :  ¬´ ¬ª Mail.Ru, Yandex, Gmail,   Rambler  Outlook.com; </li><li>      ; </li><li>   ,    IMAP,     ,    iPhone, Pixel (  Android), Samsung (   Android), MIUI (    Android-); </li><li>   : Chrome, Firefox, Edge, Internet Explorer, Opera  .; </li><li>   ( ),  Thunderbird, Outlook  Apple Mail,  The Bat!  Opera Mail; </li><li>     - (Exchange,  Roundcube, Communigate, Zimbra, SquirrelMail) ‚Äî  B2B-; </li><li>       Retina-,        . </li></ul></li><li>          : <br><ul><li>   , SPF/DKIM/DMARC. </li><li>   :    ,  . </li><li>     : ,    ,     ,      (,       ¬´¬ª). </li><li>    :    ,       ..,         . </li><li>        . </li><li>     . </li><li>  . </li><li>   ,  . ,        ,    - ,       ,             . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dfd/d33/a08/dfdd33a0855e3f55c1ac96534b66a716.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e6a/964/e13/e6a964e1366a217ecd60bdb41f584e2f.png"></li></ul></li><li>      (  )  ,      .        ,      . </li><li>  ,     ,   , ..       ,  , , ¬´¬ª   . </li><li>       . ,    DKIM-   -    (  DNS   DKIM-,   ), -    (   ,    ,      From, Date  Message-ID)  -   (  ,   ,   ).   ¬´¬ª    ,        . </li></ul><br><a name="19"></a><h2>  - </h2><br>       ,      ,     . <br><br>   ,     ,    (   ).       .       ,     ,        . <br><br>      CTR   ‚Äî         .  postmaster.mail.ru      .        (),     . CTR &lt; 10% ‚Äî    ,    .    CTR &gt; 30%.        CTR          (¬´¬ª)   .      (   ).          ,   ‚Äî   .  ,       ,  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://help.mail.ru/developers/mailing_rules/technical</a> . <br><br>   -       .           CTR        .          (      ).             ¬´¬ª ‚Äî    10 000 ,       . <br><br>  :      , ,      .       ¬´ ¬ª    . ,         . <br><br> <i>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">z3apa3a</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">s4ever</a> .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">EdT</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">4Alexander</a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de419591/">https://habr.com/ru/post/de419591/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de419581/index.html">Welche gemeinn√ºtzigen Projekte sind f√ºr Y Combinator interessant?</a></li>
<li><a href="../de419583/index.html">Wie Russland die Bl√ºtezeit der DVD verpasste, aber mit dem Aufkommen des Breitband-Internets den Westen einholte</a></li>
<li><a href="../de419585/index.html">PWA ist einfach. Hallo habr</a></li>
<li><a href="../de419587/index.html">Wettbewerbe, die die Welt ver√§ndern. 1567 - 2035</a></li>
<li><a href="../de419589/index.html">Wir verwenden AMP als Allzweckbibliothek, um schnelle dynamische Sites zu erstellen</a></li>
<li><a href="../de419593/index.html">Farbenblinde Brille: Wie es funktioniert und welche Schwierigkeiten bei der Auswahl bestehen</a></li>
<li><a href="../de419599/index.html">Java REST an der HeadHunter School of Programmers</a></li>
<li><a href="../de419601/index.html">Ein Beispiel f√ºr das Entwerfen eines digitalen Ger√§ts "an den Fingern"</a></li>
<li><a href="../de419603/index.html">Hintergrund: Unternehmen, die Robomobile herstellen</a></li>
<li><a href="../de419613/index.html">Optimale Nutzung des Android Studio-Debuggers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>