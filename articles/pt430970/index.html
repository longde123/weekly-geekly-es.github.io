<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéüÔ∏è üêû ü•Ç Nuvem pessoal ü•á üî§ üë∞üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O armazenamento em nuvem permite n√£o apenas armazenar dados, mas tamb√©m fornecer colabora√ß√£o com eles no NAS . 
 Poss√≠veis solu√ß√µes 


 Existem v√°rias...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nuvem pessoal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430970/"><p><img src="https://habrastorage.org/webt/pp/rh/gv/pprhgvtoydiwu1ks2fpnobjszqm.png"></p><br><p>  O armazenamento em nuvem permite n√£o apenas armazenar dados, mas tamb√©m fornecer colabora√ß√£o com eles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no NAS</a> . </p><a name="habracut"></a><br><h2 id="vozmozhnye-resheniya">  Poss√≠veis solu√ß√µes </h2><br><p>  Existem v√°rias op√ß√µes para servi√ßos em nuvem: NextCloud, Seafile, Pydio, etc ... <br>  Alguns deles s√£o considerados abaixo. </p><br><div class="spoiler">  <b class="spoiler_title">Implementa√ß√µes de servi√ßos em nuvem.</b> <div class="spoiler_text"><h3 id="owncloudhttpsowncloudorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Owncloud</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/fj/be/gx/fjbegxfckhsx7ww4y9b8_m10jsm.png"></a> </p><br><p>  Implementado em PHP / Javascript. </p><br><p>  Recursos: </p><br><ul><li>  √â poss√≠vel expandir a funcionalidade instalando aplicativos do reposit√≥rio na nuvem. </li><li>  H√° integra√ß√£o com o escrit√≥rio de Collabora e OnlyOffice. </li><li>  √â poss√≠vel usar reposit√≥rios existentes, como FTP, Swift, S3, Dropbox, etc., <br>  compartilhando dados entre eles e a nuvem local. </li><li>  Criptografia no cliente. </li><li>  A capacidade de fornecer arquivos para usu√°rios externos por email. </li><li>  H√° automa√ß√£o de opera√ß√µes com arquivos (por exemplo, adi√ß√£o autom√°tica de tags). </li><li>  LDAP </li><li>  H√° um reprodutor de √°udio, uma cole√ß√£o de m√∫sicas, uma galeria de plugins de leitores de PDF. </li><li>  Integra√ß√£o com Zimbra. </li><li>  Existem calend√°rios, listas de tarefas, editores de texto etc. </li><li>  Antiv√≠rus e prote√ß√£o contra ransomware. </li><li>  Autentica√ß√£o de dois fatores. </li><li>  A capacidade de se representar para outro usu√°rio (para fins de depura√ß√£o). </li></ul><br><h3 id="nextcloudhttpsnextcloudorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NextCloud</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/62/cb/lo/62cbloe--f5eaxvejke31jqk-r4.png"></a> </p><br><p>  Forquilha OwnCloud.  Implementado em PHP / Javascript. </p><br><p>  Recursos: </p><br><ul><li>  Armazenamento de arquivos usando estruturas de diret√≥rio regulares ou usando WebDAV. </li><li>  Existe o NextCloud Talk, atrav√©s do qual √© poss√≠vel fazer chamadas de v√≠deo e videoconfer√™ncia. </li><li>  Sincroniza√ß√£o entre clientes executando o Windows (Windows XP, Vista, 7 e 8), Mac OS X (10.6 e posterior) ou Linux. </li><li>  Sincronize com dispositivos m√≥veis. </li><li>  Calend√°rio (tamb√©m como CalDAV). </li><li>  Agendador de tarefas. </li><li>  Cat√°logo de endere√ßos (igual ao CardDAV). </li><li>  M√≠dia de streaming (usada pelo Ampache). </li><li>  Ele suporta diferentes provedores de autoriza√ß√£o: LDAP, OpenID, Shibboleth. </li><li>  Autoriza√ß√£o de dois fatores. </li><li>  Compartilhando conte√∫do entre grupos ou usando URLs p√∫blicos.  Ajustando as regras. </li><li>  Um editor de texto online com destaque de sintaxe e dobra.  Foi anunciado o suporte para vers√µes online dos editores do LibreOffice. </li><li>  Favoritos </li><li>  Mecanismo de redu√ß√£o de URL. </li><li>  Galeria de Fotos </li><li>  Visualizador de PDF (usando PDF.js) </li><li>  Integra√ß√£o com Collabora e OnlyOffice. </li><li>  M√≥dulo de registro. </li><li>  Capacidade de criar seus pr√≥prios sites (no PicoCMS). </li><li>  Integra√ß√£o com o Outlook e o Thunderbird. </li><li>  Integra√ß√£o com o cliente no Gnome. </li><li>  Capacidade de usar armazenamento externo. </li><li>  Pesquisa de texto completo. </li><li>  Integra√ß√£o com antiv√≠rus. </li></ul><br><h3 id="sparklesharehttpwwwsparkleshareorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sparkleshare</a> </h3><br><p>  Implementado em C #. </p><br><p>  Recursos: </p><br><ul><li>  Versionamento </li><li>  Criptografia no cliente. </li><li>  Sincroniza√ß√£o transparente entre v√°rios usu√°rios: altera√ß√µes remotas aparecer√£o no diret√≥rio local dedicado ao SparkleShare. </li></ul><br><p>  Caracter√≠sticas: </p><br><ul><li>  Usa o git como back-end. </li></ul><br><h3 id="seafilehttpswwwseafilecom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Seafile</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/gk/rb/op/gkrbopkni_o44lqncmhdeuqe2fa.png"></a> </p><br><p>  Implementado em C / Javascript. </p><br><p>  Recursos: </p><br><ul><li>  Os arquivos podem ser organizados em bibliotecas que podem ser sincronizadas entre dispositivos. </li><li>  Existe um cliente que permite criar um "disco" local, mapeado para a nuvem. </li><li>  Criptografia embutida.  Todos os arquivos s√£o criptografados pelo cliente e armazenados na nuvem criptografada. </li><li>  Suporte para dispositivo m√≥vel. </li><li>  Criptografia HTTS / TLS. </li><li>  Existe LDAP. </li><li>  Direitos de sintonia fina. </li><li>  Arquivos de vers√£o. </li><li>  Capacidade de criar um instant√¢neo de diret√≥rio, que pode ser retornado. </li><li>  Desduplica√ß√£o. </li><li>  Suporte para bloqueio de arquivos. </li><li>  Co-edi√ß√£o de arquivos online. </li><li>  Antiv√≠rus. </li><li>  Direitos de sintonia fina. </li><li>  Backup peri√≥dico atrav√©s do rsync. </li><li>  WebDAV </li><li>  API REST </li><li>  Capacidade de integra√ß√£o com o Collabora. </li></ul><br><p>  Caracter√≠sticas: </p><br><ul><li>  R√°pido e pouco exigente para os recursos. </li><li>  √â considerado confi√°vel. </li><li>  A defini√ß√£o de direitos para subdiret√≥rios √© suportada apenas na vers√£o Pro paga. </li><li>  Integra√ß√£o com antiv√≠rus - apenas na vers√£o Pro. </li><li>  Auditoria - apenas na vers√£o Pro. </li><li>  Pesquisa de texto completo - apenas na vers√£o Pro. </li><li>  Integra√ß√£o com S3 e Ceph - apenas na vers√£o Pro. </li><li>  Visualiza√ß√£o on-line de Doc / PPT / Excel - apenas na vers√£o Pro. </li></ul><br><h3 id="pydiohttpspydiocom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pydio</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/v7/7n/he/v77nhe_y1o7wq8lkg7e1dhtp1ms.jpeg"></a> </p><br><p>  Implementado em PHP / Javascript. </p><br><p>  Recursos: </p><br><ul><li>  Compartilhamento de arquivos n√£o apenas entre usu√°rios, mas tamb√©m entre v√°rias inst√¢ncias do Pydio. </li><li>  Criptografia SSL / TLS. </li><li>  WebDAV </li><li>  Capacidade de criar v√°rios espa√ßos de trabalho. </li><li>  Compartilhamento de arquivos com usu√°rios externos, com compartilhamento de ajuste fino (por exemplo, links diretos, senha etc.). </li><li>  Escrit√≥rio interno de Collabora. </li><li>  Visualizar e editar imagens. </li><li>  H√° um player de √°udio e v√≠deo embutido. </li></ul><br><h3 id="projectsendhttpswwwprojectsendorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Projectend</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/61/1k/uc/611kuc8ohfjs4ym7kajncgufowo.png"></a> </p><br><p>  Implementado em PHP / Javascript. </p><br><p>  Recursos: </p><br><ul><li>  √â poss√≠vel compartilhar arquivos, tanto entre usu√°rios espec√≠ficos quanto entre grupos. </li><li>  Relat√≥rio completo sobre opera√ß√µes de arquivo. </li><li>  A capacidade de usu√°rios externos fazer upload de arquivos (com o objetivo de compartilhar, por exemplo, aplicar relat√≥rios de erros). </li></ul><br><h3 id="spideroakhttpsspideroakcom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SpiderOak</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/w9/ce/k5/w9cek5imrxva3-chj9iejtwdh04.jpeg"></a> </p><br><p>  Recursos: </p><br><ul><li>  Economize espa√ßo de armazenamento e tempo de upload de arquivos, deduplicando e fazendo altera√ß√µes nos arquivos existentes (em vez de substituir o arquivo inteiro). </li><li>  Sincroniza√ß√£o multiplataforma personaliz√°vel. <br>  O DropBox para sincroniza√ß√£o cria uma pasta especial na qual √© necess√°rio colocar todos os arquivos sincronizados.  SpiderOak pode trabalhar com qualquer diret√≥rio. </li><li>  Salve todas as vers√µes hist√≥ricas dos arquivos e arquivos exclu√≠dos </li><li>  Compartilhando pastas usando os chamados ShareRooms, que definem uma senha. <br>  Os arquivos atualizados no computador local s√£o atualizados automaticamente no reposit√≥rio.  Os usu√°rios s√£o notificados de altera√ß√µes via RSS. </li><li>  Receba arquivos de qualquer dispositivo conectado √† Internet. </li><li>  Criptografia completa de dados com base no princ√≠pio de ‚Äúzero conhecimento‚Äù. </li><li>  Suporte para um n√∫mero ilimitado de dispositivos. </li><li>  Criptografia de dados do lado do cliente. </li><li>  Autentica√ß√£o de dois fatores. </li></ul><br><p>  Caracter√≠sticas: </p><br><p>  Sistema propriet√°rio fechado. </p><br><p>  Dado que este software √© pago e parcialmente fechado, seu uso √© exclu√≠do. </p></div></div><br><h2 id="ustanovka-nextcloud">  Instale o NextCloud </h2><br><p>  Inicialmente, havia um desejo de usar o Seafile: a parte do servidor √© implementada em C, √© eficiente e est√°vel.  Mas aconteceu que a vers√£o gratuita n√£o tem tudo. </p><br><p>  Portanto, tentei o Nextcloud e fiquei satisfeito.  Ele fornece mais recursos e √© totalmente gratuito. </p><br><p>  Voc√™ pode ver como ele funciona no modo de demonstra√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  Aqui est√£o as interfaces comuns entre o armazenamento em nuvem e o sistema: </p><br><ul><li> <code>/tank0/apps/cloud/nextcloud</code> - armazenamento de servi√ßo em nuvem. </li><li>  <code>/tank0/apps/onlyoffice</code> - dados do escrit√≥rio. </li><li>  <code>https://cloud.NAS.cloudns.cc</code> - interface de servi√ßo em nuvem WEB. </li></ul><br><p>  Porque  A configura√ß√£o do NextCloud √© bastante volumosa e consiste em v√°rios arquivos, n√£o os listarei aqui. </p><br><p>  Tudo o que voc√™ precisa pode ser encontrado no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reposit√≥rio no Github</a> . </p><br><p>  A configura√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SeaFile</a> tamb√©m est√° dispon√≠vel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">l√°</a> . </p><br><p>  Primeiro instale e inicie o NextCloud. </p><br><p>  Para fazer isso, copie a configura√ß√£o no <code>/tank0/docker/services/nextcloud</code> e execute: </p><br><pre> <code class="plaintext hljs"># docker-compose up -d</code> </pre> <br><p>  Uma nova imagem baseada no Nextcloud 13.0.7 ser√° criada.  Se voc√™ deseja alterar a vers√£o da imagem base, fa√ßa-o em <code>app/Dockerfile</code> .  Eu uso a vers√£o 15, mas vale a pena notar que muitos plug-ins, como o carregador e notas do ocDownloader, n√£o funcionam nele e ainda n√£o restaurei a funcionalidade do OnlyOffice. </p><br><p>  N√£o notei nenhuma diferen√ßa importante ou uma forte melhoria de desempenho. </p><br><p>  Abaixo, acredito que voc√™ esteja usando a vers√£o 13+. </p><br><p>  Em seguida, v√° para NextCloud e selecione "Aplicativos" no menu no canto superior direito, conclua a instala√ß√£o dos plug-ins necess√°rios. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/sd/3y/rv/sd3yrvs5lqfdzig5smsbdasiiw0.png" alt="Aplica√ß√µes"></a> </p><br><p>  Obrigat√≥rio: </p><br><ul><li>  <strong>Usu√°rio LDAP e back</strong> - <strong>end de grupo</strong> - emparelhamento com LDAP. </li><li>  <strong>Suporte de armazenamento externo</strong> - suporte para armazenamento externo.  Ser√° necess√°rio ainda mais, com o objetivo de integrar o NextCloud e os arquivos compartilhados, al√©m de emparelhar com o armazenamento em nuvem externo.  Vou falar sobre a configura√ß√£o de armazenamento externo em outro artigo. </li><li>  <strong>ocDownloader</strong> - download de arquivos.  Estende a funcionalidade da nuvem.  A imagem do Docker √© especialmente reconstru√≠da para funcionar. </li><li>  <strong>ONLYOFFICE</strong> - integra√ß√£o de escrit√≥rio.  Sem esse aplicativo, os arquivos de documentos n√£o ser√£o abertos na nuvem. </li><li>  <strong>Criptografia de ponta a</strong> ponta - Criptografia de ponta a ponta no cliente.  Se v√°rios usu√°rios usam a nuvem, √© necess√°rio um plug-in para garantir convenientemente a seguran√ßa de seus arquivos. </li></ul><br><p>  Aplica√ß√µes desejadas: </p><br><ul><li>  <strong>Configura√ß√µes de for√ßa bruta</strong> - prote√ß√£o contra a sele√ß√£o de credenciais.  O NextCloud est√° navegando na Internet, por isso √© melhor instal√°-lo. </li><li>  <strong>Representar</strong> - permite que o administrador efetue login com outros usu√°rios.  √ötil para depura√ß√£o e solu√ß√£o de problemas. </li><li>  <strong>Conversa</strong> - bate-papo por v√≠deo. </li><li>  <strong>Calend√°rio</strong> - fala por si, permite manter calend√°rios na nuvem. </li><li>  <strong>Controle</strong> de acesso a arquivos - permite que os usu√°rios restrinjam o acesso a arquivos e diret√≥rios com base em tags e regras. </li><li>  <strong>Soma de verifica√ß√£o</strong> - permite calcular e visualizar somas de verifica√ß√£o de arquivos. </li><li>  <strong>Sites externos</strong> - cria links para sites arbitr√°rios no painel na parte superior. </li></ul><br><p>  Recursos do cont√™iner: </p><br><ul><li>  Aria2 bootloader instalado. </li><li>  Carregador de inicializa√ß√£o do YouTube-DL instalado. </li><li>  Inotify-tools instalado. </li><li>  Limites de mem√≥ria aumentados para PHP. </li><li>  O servidor da web est√° configurado para funcionar melhor com LDAP. </li></ul><br><p>  Observo que, se voc√™ instalar a vers√£o 13+, mas decidir atualizar para a vers√£o 15, poder√° fazer isso e muito mais usando o utilit√°rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">occ</a> . </p><br><h3 id="ldap">  LDAP </h3><br><p>  A configura√ß√£o do LDAP n√£o √© trivial, porque vou lhe contar mais. </p><br><p>  V√° para "Configura√ß√µes-&gt; Integra√ß√£o com LDAP / AD". <br>  Adicione o servidor 172.21.0.1 com a porta 389. <br>  Login: <code>cn=admin,dc=nas,dc=nas</code> . <br>  O NextCloud pode gerenciar usu√°rios no banco de dados LDAP e, para isso, precisar√° de um administrador. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/9n/tg/h9/9ntgh9xbg3rtfvjrqid6qbj0a5y.png"></a> </p><br><p>  Pressione o bot√£o "Verificar configura√ß√£o do DN" e, se o indicador de verifica√ß√£o estiver verde, o bot√£o "Avan√ßar". </p><br><p>  Cada usu√°rio possui um atributo <code>inetOrgPerson</code> e √© um membro do grupo <code>users_cloud</code> . </p><br><p>  O filtro ficar√° assim: </p><br><pre> <code class="plaintext hljs">(&amp;(|(objectclass=inetOrgPerson))(|(memberof=cn=users_cloud,ou=groups,dc=nas,dc=nas)))</code> </pre> <br><p>  Clique em "Verificar o banco de dados de configura√ß√µes e recontar usu√°rios" e, se tudo estiver correto, o n√∫mero de usu√°rios dever√° ser exibido.  Clique em Avan√ßar. </p><br><p>  Na pr√≥xima p√°gina, um filtro de usu√°rio ser√° configurado pelo qual o NextCloud ir√° procur√°-los. </p><br><p>  Filtro: </p><br><pre> <code class="plaintext hljs">Ôøº(&amp;(objectclass=inetOrgPerson)(uid=%uid))</code> </pre> <br><p>  Nesta p√°gina, voc√™ precisa digitar o login de um usu√°rio e clicar em "Verificar configura√ß√µes". <br>  √öltima vez "Pr√≥ximo". </p><br><p>  Em seguida, clique em "Avan√ßado" e verifique se o campo "Base da √°rvore do grupo" √© igual ao campo "Base da √°rvore do usu√°rio" e tem o valor <code>dc=nas,dc=nas</code> . </p><br><p>  Retorne aos grupos e marque a caixa "Somente essas classes de <code>groupOfUniqueNames</code> " ao lado de <code>groupOfUniqueNames</code> . </p><br><p>  O filtro final aqui √© este: </p><br><pre> <code class="plaintext hljs">(&amp;(|(objectclass=groupOfUniqueNames)))</code> </pre> <br><p>  O campo "Somente desses grupos" n√£o defini, porque  Quero ver todos os usu√°rios na interface NextCloud e aqueles que n√£o s√£o <code>users_cloud</code> grupo <code>users_cloud</code> s√£o <code>users_cloud</code> pelo filtro no est√°gio anterior. </p><br><h2 id="onlyoffice">  Onlyoffice </h2><br><p> <a href=""><img src="https://habrastorage.org/webt/fr/rs/9e/frrs9euxco6_ycd8p_4a1y8bxiw.png"></a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O OnlyOffice</a> √© um excelente pacote de escrit√≥rio multiplataforma que suporta documentos do MS Office.  √â gratuito e aberto, al√©m do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LibreOffice</a> e tamb√©m √© capaz de funcionar como servidor. </p><br><p>  Mas, ao mesmo tempo, o suporte ao formato original √© implementado muito melhor, quase como no escrit√≥rio original da MS, √© mais est√°vel, tem uma interface mais cuidadosa. </p><br><p>  Ele tamb√©m se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">integra imediatamente ao NextCloud</a> . </p><br><p>  A prop√≥sito, existe uma vers√£o para desktop do OnlyOffice, inclusive para Linux.  Em geral, tendo sido atormentado com o pesado e inst√°vel Collabora (este √© o LibreOffice), escolhi o OnlyOffice e at√© agora estou bastante satisfeito. </p><br><p>  A configura√ß√£o OnlyOffice <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">est√° dispon√≠vel no Github</a> e abaixo, abaixo do spoiler. </p><br><p>  O Github tamb√©m tem uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">configura√ß√£o para o Collabora</a> . </p><br><div class="spoiler">  <b class="spoiler_title">/tank0/docker/services/office/onlyoffice/docker-compose.yml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">version: '2' # https://helpcenter.onlyoffice.com/ru/server/docker/document/docker-installation.aspx networks: onlyoffice: driver: 'bridge' docker0: external: name: docker0 services: onlyoffice-redis: container_name: onlyoffice-redis image: redis restart: always networks: - onlyoffice expose: - '6379' onlyoffice-rabbitmq: container_name: onlyoffice-rabbitmq image: rabbitmq restart: always networks: - onlyoffice expose: - '5672' onlyoffice-postgresql: container_name: onlyoffice-postgresql image: postgres environment: - POSTGRES_DB=onlyoffice - POSTGRES_USER=onlyoffice networks: - onlyoffice restart: always expose: - '5432' volumes: - /tank0/apps/onlyoffice/postgresql_data:/var/lib/postgresql onlyoffice-documentserver-data: container_name: onlyoffice-documentserver-data image: onlyoffice/documentserver:latest environment: - ONLYOFFICE_DATA_CONTAINER=true - POSTGRESQL_SERVER_HOST=onlyoffice-postgresql - POSTGRESQL_SERVER_PORT=5432 - POSTGRESQL_SERVER_DB_NAME=onlyoffice - POSTGRESQL_SERVER_USER=onlyoffice - RABBITMQ_SERVER_URL=amqp://guest:guest@onlyoffice-rabbitmq - REDIS_SERVER_HOST=onlyoffice-redis - REDIS_SERVER_PORT=6379 stdin_open: true restart: always networks: - onlyoffice volumes: - /tank0/apps/onlyoffice/document-server-data/data:/var/www/onlyoffice/Data - /tank0/apps/onlyoffice/document-server-data/logs:/var/log/onlyoffice - /tank0/apps/onlyoffice/document-server-data/cache:/var/lib/onlyoffice/documentserver/App_Data/cache/files - /tank0/apps/onlyoffice/document-server-data/files:/var/www/onlyoffice/documentserver-example/public/files - /usr/share/fonts onlyoffice-documentserver: image: onlyoffice/documentserver:latest depends_on: - onlyoffice-postgresql - onlyoffice-redis - onlyoffice-rabbitmq - onlyoffice-documentserver-data environment: - ONLYOFFICE_DATA_CONTAINER_HOST=onlyoffice-documentserver-data - BALANCE=uri depth 3 - EXCLUDE_PORTS=443 - HTTP_CHECK=GET /healthcheck - EXTRA_SETTINGS=http-check expect string true - JWT_ENABLED=true - JWT_SECRET=&lt;JWT_SECRET_TOKEN&gt; # Uncomment the string below to redirect HTTP request to HTTPS request. #- FORCE_SSL=true - VIRTUAL_HOST=office.* - VIRTUAL_PORT=80 - VIRTUAL_PROTO=http - CERT_NAME=NAS.cloudns.cc stdin_open: true restart: always networks: - onlyoffice - docker0 expose: - '80' volumes: - /tank0/apps/onlyoffice/document-server/logs:/var/log/onlyoffice - /tank0/apps/onlyoffice/document-server/data:/var/www/onlyoffice/Data - /tank0/apps/onlyoffice/document-server/lib:/var/lib/onlyoffice - /tank0/apps/onlyoffice/document-server/db:/var/lib/postgresql volumes_from: - onlyoffice-documentserver-data</code> </pre> </div></div><br><p>  Vou explicar alguns pontos: </p><br><ul><li>  Voc√™ precisa alterar &lt;JWT_SECRET_TOKEN&gt; para o seu, bem como o NAS no nome da sua zona DNS. </li><li>  O HTTPS n√£o precisa ser inclu√≠do aqui, porque, embora o escrit√≥rio seja vis√≠vel do lado de fora, a troca √© feita por meio de um proxy reverso, que trabalha com o usu√°rio exclusivamente via HTTPS.  √â assim que a arquitetura NAS √© constru√≠da. </li></ul><br><p>  Agora voc√™ precisa elevar o escrit√≥rio: </p><br><pre> <code class="plaintext hljs">docker-compose up -d</code> </pre> <br><p>  E, se tudo funcionar, a seguinte p√°gina estar√° no office.NAS.cloudns.cc: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/nt/e6/nq/nte6nqehacnsc__jn_zpqja9hi0.png" alt="Apenas Tela ServidorOffice"></a> </p><br><p>  Em seguida, nas configura√ß√µes do NextCloud, voc√™ precisa selecionar o item "Administration-&gt; ONLYOFFICE" e inserir o endere√ßo do servidor de documentos nos dois primeiros campos: <code>https://office.NAS.cloudns.cc/</code> e seu token JWT. </p><br><p>  No terceiro campo, insira o endere√ßo da nuvem. </p><br><p>  √â poss√≠vel gerar um token JWT, por exemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  Se o servidor estiver configurado corretamente, itens adicionais para documentos do escrit√≥rio aparecer√£o no menu para cria√ß√£o de documentos na nuvem e os arquivos <code>.docx</code> ser√£o abertos no escrit√≥rio. </p><br><h2 id="vyvody">  Conclus√µes </h2><br><p>  O armazenamento em nuvem √© o link central para a intera√ß√£o do usu√°rio entre eles e outros servi√ßos. </p><br><p>  Nesta fun√ß√£o, o NextCloud √© muito conveniente e possui ampla funcionalidade. </p><br><p>  Ele possui seu pr√≥prio processo de atualiza√ß√£o entre vers√µes, mas, em geral, esse reposit√≥rio pode ser recomendado. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430970/">https://habr.com/ru/post/pt430970/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430960/index.html">Sobre o gamedev de uma exposi√ß√£o na √°rea de trabalho</a></li>
<li><a href="../pt430962/index.html">Suporte do Razor no c√≥digo do Visual Studio</a></li>
<li><a href="../pt430964/index.html">Pensamento declarativo</a></li>
<li><a href="../pt430966/index.html">Sprints gerais na Atlassian Jira Software</a></li>
<li><a href="../pt430968/index.html">"A mente est√° online." Drones est√£o por toda parte</a></li>
<li><a href="../pt430972/index.html">server.js node.js - trabalhe com erros. Parte 1</a></li>
<li><a href="../pt430974/index.html">Grande tour fotogr√°fico da nuvem de Moscou 1cloud</a></li>
<li><a href="../pt430976/index.html">O resumo de materiais interessantes para o desenvolvedor m√≥vel n¬∫ 276 (de 19 a 25 de novembro)</a></li>
<li><a href="../pt430978/index.html">Quanto tempo voc√™ gastou em filmes?</a></li>
<li><a href="../pt430980/index.html">‚ÄúTodo mundo √†s vezes quer olhar para o gato‚Äù: estamos falando sobre marketing de conte√∫do no podcast GLPH</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>