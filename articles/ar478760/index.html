<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ต ๐๐ผ โ๏ธ "ุงูุตูุฑ" ุงูุฌุญูู ูููููุฉ ุงูุฎุฑูุฌ ููู ๐ฉ๐ปโ๐ณ ๐บ๐พ ๐ฏ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูููู ุงูุฎุงููุฉ ุ ุนูุฏ ุงุณุชุฎุฏุงููุง ุจุฏูู ุชูููุฑ ุ ูููู ุฃู ุชุฌุนู ุญูุงุชู ูุง ุชุทุงู ููุฏ ูุง ุชููู ุจุงูุถุจุท ูุง ุงูุฐู ูุณุจุจ ููู ูุซู ูุฐุง ุงูุฃูู. ุงุณูุญูุง ูู ุฃู ุฃุดุฑุญ. 


 ุงูููู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"ุงูุตูุฑ" ุงูุฌุญูู ูููููุฉ ุงูุฎุฑูุฌ ููู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/478760/" style=";text-align:right;direction:rtl">  ุงูููู ุงูุฎุงููุฉ ุ ุนูุฏ ุงุณุชุฎุฏุงููุง ุจุฏูู ุชูููุฑ ุ ูููู ุฃู ุชุฌุนู ุญูุงุชู ูุง ุชุทุงู ููุฏ ูุง ุชููู ุจุงูุถุจุท ูุง ุงูุฐู ูุณุจุจ ููู ูุซู ูุฐุง ุงูุฃูู.  ุงุณูุญูุง ูู ุฃู ุฃุดุฑุญ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lz/mj/th/lzmjthqvjmhbaes0-t4bfffusg0.png"></div><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุงูููู ุงูุงูุชุฑุงุถูุฉ </h2><br>  ููุฏ ุฑุฃููุง ุฌููุนูุง ุทุฑููุฉ ุชุชุทูุจ ุงูุนุฏูุฏ ูู ุงููุณุงุฆุท ุ ูููู ุฃูุซุฑ ูู ูุตููุง ุงุฎุชูุงุฑู.  ูุงููุชูุฌุฉ ูู ุดูุก ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">insertDiscount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(   string $name,   int $amountInCents,   bool $isActive = true,   string $description = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span><span class="hljs-function"><span class="hljs-params">,   int $productIdConstraint = null,   DateTimeImmutable $startDateConstraint = null,   DateTimeImmutable $endDateConstraint = null,   int $paymentMethodConstraint = null )</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span></code> </pre> <br>  ูู ุงููุซุงู ุฃุนูุงู ุ ูุฑูุฏ ุฅูุดุงุก ุฎุตู ูุชู ุชุทุจููู ูู ูู ููุงู ุงูุชุฑุงุถููุง ุ ูููู ูููู ุฃู ูููู ุบูุฑ ูุดุท ุนูุฏ ุงูุฅูุดุงุก ุ ุฃู ููุทุจู ููุท ุนูู ููุชุฌุงุช ูุญุฏุฏุฉ ุ ุฃู ูุชุตุฑู ุฅูุง ูู ุฃููุงุช ูุนููุฉ ุฃู ูุทุจู ุนูุฏูุง ูุฎุชุงุฑ ุงููุณุชุฎุฏู ุทุฑููุฉ ุฏูุน ูุญุฏุฏุฉ. <br><br>  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฅูุดุงุก ุฎุตู ูุทุฑููุฉ ุฏูุน ูุนููุฉ ุ ูุณุชุญุชุงุฌ ุฅูู ุงูุงุชุตุงู ุจุงูุทุฑููุฉ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">insertDiscount(<span class="hljs-string"><span class="hljs-string">'Discount name'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>);</code> </pre> <br>  ุณุชุนูู ูุฐู ุงูุดูุฑุฉ ุ ููููุง ุบูุฑ ูููููุฉ ุชูุงููุง ููุดุฎุต ุงูุฐู ููุฑุฃูุง.  ูุตุจุญ ูู ุงูุตุนุจ ููุบุงูุฉ ุชุญูููู ุ ูุฐูู ูุง ูููููุง ุฏุนู ุงูุชุทุจูู ุจุณูููุฉ. <br><br>  ุฏุนูุง ูุฃุฎุฐ ูุฐุง ุงููุซุงู ุญุฌุฉ ุจูุงุณุทุฉ ุญุฌุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุง ูู ุฎุตู ุตุงูุญุ </h3><br>  ููุฏ ุงูุชุดููุง ุจุงููุนู ุฃู ุงูุฎุตู ุบูุฑ ุงููุญุฏูุฏ ููุทุจู ูู ูู ููุงู.  ูุจุงูุชุงูู ุ ูุญุชูู ุฎุตู ุตุงูุญ ุนูู ูู ุดูุก ูุง ุนุฏุง ุงููููุฏ ุงูุชู ูููููุง ุฅุถุงูุชูุง ูุงุญููุง.  ุงููุณูุทุฉ isActive ููุง ูููุฉ ุงูุชุฑุงุถูุฉ ูู true.  ูุฐูู ุ ูููู ุงุณุชุฏุนุงุก ุงูุทุฑููุฉ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">insertDiscount(<span class="hljs-string"><span class="hljs-string">'Discount name'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);</code> </pre> <br>  ููุท ูู ุฎูุงู ูุฑุงุกุฉ ุงูููุฏ ุ ูุง ุฃุนุฑู ุฃู ุงูุฎุตู ุณูููู ูุดุทูุง ุนูู ุงูููุฑ.  ููุนุฑูุฉ ุฐูู ุ ูุฌุจ ุฃู ุฃุชุญูู ููุง ุฅุฐุง ูุงู ุชูููุน ุงูุทุฑููุฉ ูู ููู ุงูุชุฑุงุถูุฉ. <br><br>  ุงูุขู ุชุฎูู ุฃูู ุชุญุชุงุฌ ุฅูู ูุฑุงุกุฉ 200 ุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.  ูู ุฃูุช ูุชุฃูุฏ ูู ุฃูู ุชุฑูุฏ ุงูุชุญูู ูู ูู ุชูููุน ููุทุฑููุฉ ุงูุชู ุชู ุงุณุชุฏุนุงุคูุง ููุญุตูู ุนูู ูุนูููุงุช ูุฎููุฉุ  ุฃูุถู ูุฑุงุกุฉ ุงูููุฏ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุงูุจุญุซ ุนู ุฃู ุดูุก. <br><br>  ุงูุดูุก ููุณู ููุทุจู ุนูู ุงูุญุฌุฉ ุงููุณุคููุฉ ุนู ุงููุตู.  ุจุดูู ุงูุชุฑุงุถู ุ ุฅููุง ุณูุณูุฉ ูุงุฑุบุฉ - ูููู ุฃู ูุณุจุจ ุฐูู ุงูุนุฏูุฏ ูู ุงููุดููุงุช ูู ุงูููุงู ุงูุฐู ุชุชููุน ุฃู ุชุฑู ููู ูุตููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ุชุชู ุทุจุงุนุชู ุนูู ุงูุดูู ุ ูููู ูุธุฑูุง ูุฃูู ูุงุฑุบ ุ ูุฑู ุงููุณุชุฎุฏู ุจุจุณุงุทุฉ ุณุทุฑูุง ูุงุฑุบูุง ุจุฌูุงุฑ ุงูุณุทุฑ ูุน ุงููุจูุบ.  ูุฌุจ ุฃูุง ูุณูุญ ุงููุธุงู ุจุญุฏูุซ ุฐูู. <br><br>  ุฃูุฏ ุฅุนุงุฏุฉ ูุชุงุจุฉ ูุฐู ุงูุทุฑููุฉ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">insertDiscount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(  string $name,  string $description,  int $amountInCents,  bool $isActive )</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span></code> </pre> <br>  ููุฏ ุฃุฒูุช ุงููููุฏ ุชูุงููุง ูุฃููุง ูุฑุฑูุง ุฅุถุงูุชูุง ูุงุญููุง ุจุงุณุชุฎุฏุงู ุทุฑู ูููุตูุฉ.  ูุธุฑูุง ูุฃู ุฌููุน ุงููุนููุงุช ูุทููุจุฉ ุงูุขู ุ ููููู ุชุฑุชูุจูุง ุจุฃู ุชุฑุชูุจ.  ููุฏ ูุถุนุช ุงููุตู ูุจุงุดุฑุฉ ุจุนุฏ ุงูุงุณู ุ ูุฃู ุงูุฑูุฒ ููุฑุฃ ุจุดูู ุฃูุถู ุนูุฏูุง ูููู ูุฑูุจูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">insertDiscount(  <span class="hljs-string"><span class="hljs-string">'Discount name'</span></span>,  <span class="hljs-string"><span class="hljs-string">'Discount description'</span></span>,  <span class="hljs-number"><span class="hljs-number">100</span></span>,  Discount::STATUS_ACTIVE );</code> </pre> <br>  ุฃูุง ุฃูุถุง ุงุณุชุฎุฏุงู ุงูุซูุงุจุช ูุญุงูุฉ ูุดุงุท ุงูุฎุตู.  ุงูุขู ูุง ุชุญุชุงุฌ ุฅูู ุฅููุงุก ูุธุฑุฉ ุนูู ุชูููุน ุงูุทุฑููุฉ ููุนุฑูุฉ ูุง ูู ุงููุนูู ุงูุญูููู ููุฐู ุงูุญุฌุฉ: ูุตุจุญ ูู ุงููุงุถุญ ุฃููุง ูููู ุจุฅูุดุงุก ุงูุฎุตู ุงููุดุท.  ูู ุงููุณุชูุจู ุ ูููููุง ุชุญุณูู ูุฐู ุงูุทุฑููุฉ (ุงูููุณุฏ: ุงุณุชุฎุฏุงู ูุงุฆูุงุช ุงููููุฉ). <br><br><h3 style=";text-align:right;direction:rtl">  ูุถููุง ุงููููุฏ </h3><br>  ุงูุขู ููููู ุฅุถุงูุฉ ุงูุนุฏูุฏ ูู ุงููููุฏ.  ูุชุฌูุจ ุงูุตูุฑ ุ ุตูุฑ ุ ุตูุฑ ุงูุฌุญูู ุ ุณูููู ุจุฅูุดุงุก ุทุฑู ูููุตูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addProductConstraint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(  Discount $discount,  int $productId )</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Discount</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addDateConstraint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(  Discount $discount,  DateTimeImmutable $startDate,  DateTimeImmutable $endDate )</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Discount</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addPaymentMethodConstraint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(  Discount $discount,  int $paymentMethod )</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Discount</span></span></span></span>;</code> </pre> <br>  ูุจุงูุชุงูู ุ ุฅุฐุง ุฃุฑุฏูุง ุฅูุดุงุก ุฎุตู ุฌุฏูุฏ ูุน ูููุฏ ูุนููุฉ ุ ูุณููุนู ุฐูู ุจุงูุดูู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$discountId = insertDiscount(  <span class="hljs-string"><span class="hljs-string">'Discount name'</span></span>,  <span class="hljs-string"><span class="hljs-string">'Discount description'</span></span>,  <span class="hljs-number"><span class="hljs-number">100</span></span>,  Discount::STATUS_ACTIVE ); addPaymentMethodConstraint(  $discountId,  PaymentMethod::CREDIT_CARD );</code> </pre> <br>  ุงูุขู ูุงุฑู ูุฐุง ุจุงูููุงููุฉ ุงูุฃุตููุฉ.  ุณุชุฑู ูุฏู ููุงุกูุฉ ุงููุฑุงุกุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุงุฑุบุฉ ูู ุฎุตุงุฆุต ุงููุงุฆู </h2><br>  ูุคุฏู ุญู ุงูุฃุตูุงุฑ ูู ุฎุตุงุฆุต ุงููุงุฆู ุฃูุถูุง ุฅูู ุญุฏูุซ ูุดููุงุช.  ูุง ูููููู ููู ุนุฏุฏ ูุฑุงุช ุฑุคูุฉ ูุซู ูุฐู ุงูุฃุดูุงุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$currencyCode = strtolower(  $record-&gt;currencyCode );</code> </pre> <br>  Buuum!  "ูุง ูููู ุชูุฑูุฑ ูุงุฑุบุฉ ุฅูู strtolower."  ุญุฏุซ ูุฐุง ูุฃู ุงููุทูุฑ ูุณู ุฃู ููุฏ ุงูุนููุฉ ูุฏ ูููู ูุงุบูุง.  ูุธุฑูุง ูุฃู ุงูุนุฏูุฏ ูู ุงููุทูุฑูู ูุง ุฒุงููุง ูุง ูุณุชุฎุฏููู IDE ุฃู ูููุนูุง ุงูุชุญุฐูุฑุงุช ูู ูููุณูู ุ ูุฅู ูุฐุง ูุฏ ูุง ููุงุญุธู ุฃุญุฏ ูุณููุงุช ุนุฏูุฏุฉ.  ุณูุณุชูุฑ ุธููุฑ ุงูุฎุทุฃ ูู ุจุนุถ ุงูุณุฌูุงุช ุบูุฑ ุงูููุฑูุกุฉ ุ ูุณูููู ุงูุนููุงุก ุจุงูุฅุจูุงุบ ุนู ุงููุดููุงุช ุงูุชู ุชุญุฏุซ ุจุดูู ุฏูุฑู ูุงูุชู ุ ุนูู ูุง ูุจุฏู ุ ููุณุช ุฐุงุช ุตูุฉ ุจูุฐุง ุ ูุฐูู ูู ูุฒุนุฌ ุฃุญุฏ ุฃู ููุธุฑ ุฅูู ุณุทุฑ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุฐุง. <br><br>  ูููููุง ุจุงูุทุจุน ุฅุถุงูุฉ ุดููุงุช ูุงุฑุบุฉ ุฃูููุง ูุตููุง ุฅูู CurrencyCode.  ูููู ุจุนุฏ ุฐูู ุณููุชูู ุจููุน ูุฎุชูู ูู ุงูุฌุญูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($record-&gt;currencyCode === <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) {  <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \RuntimeException(<span class="hljs-string"><span class="hljs-string">'Currency code cannot be null'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($record-&gt;amount === <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) {  <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \RuntimeException(<span class="hljs-string"><span class="hljs-string">'Amount cannot be null'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($record-&gt;amount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {  <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \RuntimeException(<span class="hljs-string"><span class="hljs-string">'Amount must be a positive value'</span></span>); }</code> </pre> <br>  ูููู ุ ููุง ูููุช ุจุงููุนู ุ ููุณ ูุฐุง ูู ุงูุญู ุงูุฃูุถู.  ุฅูู ุฌุงูุจ ููุถู ุทุฑููุชู ุ ูุฌุจ ุนููู ุงูุขู ุชูุฑุงุฑ ูุฐุง ุงูุงุฎุชุจุงุฑ ูู ูู ููุงู.  ููู ูู ูุฑุฉ ุชููู ูููุง ุจุฅุถุงูุฉ ุฎุงุตูุฉ ูุงุฑุบุฉ ุฃุฎุฑู ุ ูุง ุชูุณ ุงูููุงู ุจุดูู ุขุฎุฑ!  ูุญุณู ุงูุญุธ ุ ููุงู ุญู ุจุณูุท: ุงูุฃุดูุงุก ุงููููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุงุฆูุงุช ุงููููุฉ </h2><br>  ุงููุงุฆูุงุช ุงููููุฉ ูู ุฃุดูุงุก ูููุฉ ูููููุง ุจุณูุทุฉ.  ุงููุดููุฉ ุงูุชู ููุง ูุญุงูู ุญููุง ูู ุฃูู ูู ุงูุถุฑูุฑู ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ููุชููุงุชูุง ุจุงุณุชูุฑุงุฑ.  ููููุง ููุนู ุฐูู ูุฃููุง ูุง ูุนุฑู ูุง ุฅุฐุง ูุงู ูู ุงููููู ุงููุซูู ุจุฎุตุงุฆุต ุงููุงุฆู ุ ุณูุงุก ูุงูุช ุตุงูุญุฉ.  ูุงุฐุง ูู ุงุณุชุทุนูุงุ <br><br>  ููุซูุฉ ุจุงูููู ุ ูุฅููุง ุชุญุชุงุฌ ุฅูู ุณูุชูู: ูุฌุจ ุงูุชุญูู ูู ุตุญุชูุง ููุฌุจ ุฃูุง ุชุชุบูุฑ ููุฐ ุงูุชุญูู ูู ุงูุตุญุฉ.  ุฃูู ูุธุฑุฉ ุนูู ูุฐุง ุงููุตู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Amount</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $amountInCents;  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $currencyCode;  <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $amountInCents, string $currencyCode)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">self</span></span></span><span class="hljs-function">  </span></span>{    Assert::that($amountInCents)-&gt;greaterThan(<span class="hljs-number"><span class="hljs-number">0</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;amountInCents = $amountInCents;    <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;currencyCode = $currencyCode;  }  <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAmountInCents</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-function">  </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;amountInCents;  }  <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrencyCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function">  </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;currencyCode;  } }</code> </pre> <br>  ุฃูุง ุฃุณุชุฎุฏู ุญุฒูุฉ beberlei / assert.  ูููู ุงุณุชุซูุงุก ูููุง ูุดู ุงูุชุญูู.  ูุฐุง ูู ููุณ ุงุณุชุซูุงุก ุงูุฎุทุฃ ูู ุงูููุฏ ุงููุตุฏุฑู ุ ุฅูุง ุฅุฐุง ููููุง ุงูุดูู ุฅูู ูุฐุง ุงููููุดุฆ. <br><br>  ุจูุง ุฃููุง ูุณุชุฎุฏู ุชุนุฑููุงุช ุงููุชุงุจุฉ ุ ูุฅููุง ูุถูู ุฃู ุงูููุน ุตุญูุญ ุฃูุถูุง.  ูุจุงูุชุงูู ุ ูุง ูููููุง ุชูุฑูุฑ ูุซุงูุฉ ุงูุนูููุงุช ุฅูู strtolower.  ุฅุฐุง ููุช ุชุณุชุฎุฏู ุฅุตุฏุงุฑูุง ุฃูุฏู ูู PHP ูุง ูุฏุนู ุชุนุฑููุงุช ุงูููุน ุ ูููููู ุงุณุชุฎุฏุงู ูุฐู ุงูุญุฒูุฉ ููุชุญูู ูู ุงูุฃููุงุน ูุน -&gt; integer () ู -&gt; string (). <br><br>  ุจุนุฏ ุฅูุดุงุก ุงููุงุฆู ุ ูุง ูููู ุชุบููุฑ ุงูููู ุ ูุฃู ูุฏููุง ุฃุญุฑููุง ููุท ุ ูููู ููุณ ููุงู ูุญุฏุฏุงุช.  ููุฐุง ูุง ูุณูู ุงูุญุตุงูุฉ.  ูุง ุชุณูุญ ุฅุถุงูุฉ ุงูููุงูุฉ ุจุชูุณูุน ูุฐู ุงููุฆุฉ ูุฅุถุงูุฉ ุฃุฏูุงุช ุชุณููุฉ ุฃู ุทุฑู ุณุญุฑูุฉ.  ุฅุฐุง ุฑุฃูุช ูุจูุบ ุงููุจูุบ ูู ูุนุงููุงุช ุงูุทุฑููุฉ ุ ูููููู ุงูุชุฃูุฏ ุจูุณุจุฉ 100ูช ูู ุฃู ุฌููุน ุฎุตุงุฆุตู ูุฏ ุชู ุงูุชุญูู ูู ุตุญุชูุง ูุฃู ุงููุงุฆู ุขูู ููุงุณุชุฎุฏุงู.  ุฅุฐุง ูุงูุช ุงูููู ุบูุฑ ุตุงูุญุฉ ุ ููู ูุชููู ูู ุฅูุดุงุก ูุงุฆู. <br><br>  ุงูุขู ุจูุณุงุนุฏุฉ ูุงุฆูุงุช ุงููููุฉ ุ ูููููุง ุชุญุณูู ูุซุงููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$discount = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Discount(  <span class="hljs-string"><span class="hljs-string">'Discount name'</span></span>,  <span class="hljs-string"><span class="hljs-string">'Discount description'</span></span>,  <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Amount(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-string"><span class="hljs-string">'CAD'</span></span>),  Discount::STATUS_ACTIVE ) insertDiscount($discount);</code> </pre> <br>  ูุฑุฌู ููุงุญุธุฉ ุฃููุง ูููู ุฃููุงู ุจุฅูุดุงุก ุฎุตู ุ ูุฏุงุฎูู ูุณุชุฎุฏู ุงููุจูุบ ููุณูุทุฉ.  ูุฐุง ูุถูู ุฃู ุงูุฃุณููุจ insertDiscount ูุณุชูุจู ูุงุฆู ุฎุตู ุตุงูุญูุง ุจุงูุฅุถุงูุฉ ุฅูู ุฌุนู ููู ูุชูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุฐู ุฃุณูู ุจูุซูุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุตุฉ ุฑุนุจ ุงูุตูุฑ </h2><br>  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุญุงูุฉ ูุซูุฑุฉ ููุงูุชูุงู ูุงูุชู ูููู ุฃู ุชููู ุฎุงููุฉ ุถุงุฑุฉ ูู ุงูุชุทุจูู.  ูุงูููุฑุฉ ูู ุงุณุชุฎุฑุงุฌ ุงููุฌููุนุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตููุชูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$collection = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;findBy([<span class="hljs-string"><span class="hljs-string">'key'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value'</span></span>]); $result = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;filter($collection, $someFilterMethod); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($result === <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) {   $result = $collection; }</code> </pre> <br>  ุฅุฐุง ูุงูุช ุงููุชูุฌุฉ ุฎุงููุฉ ุ ูุงุณุชุฎุฏู ุงููุฌููุนุฉ ุงูุฃุตููุฉ ููุชูุฌุฉุ  ูุฐุง ููุซู ูุดููุฉ ุ ูุฃู ุทุฑููุฉ ุงูุชุตููุฉ ุชูุฑุฌุน ูุงุฑุบุฉ ุฅุฐุง ูู ุชุฌุฏ ุงูููู ุงูููุงุณุจุฉ.  ูุจุงูุชุงูู ุ ุฅุฐุง ุชู ุชุตููุฉ ูู ุดูุก ุ ูุณูุชุฌุงูู ุงููุฑุดุญ ููุฑุฌุน ูู ุงูููู.  ูุฐุง ููุณุฑ ุชูุงูุง ุงูููุทู. <br><br>  ููุงุฐุง ุชุณุชุฎุฏู ุงููุฌููุนุฉ ุงูุฃุตููุฉ ููุชูุฌุฉุ  ูู ูุนุฑู ุงุจุฏุง.  ุฃุธู ุฃู ุงููุทูุฑ ูุฏูู ุจุนุถ ุงูุงูุชุฑุงุถุงุช ุญูู ูุนูู "ูุงุบูุฉ" ูู ูุฐุง ุงูุณูุงู ุ ููู ุงุชุถุญ ุฃูู ุฎุทุฃ. <br><br>  ูุฐู ูู ุงููุดููุฉ ูุน ุงูููู ุงูุฎุงููุฉ.  ูู ูุนุธู ุงูุญุงูุงุช ุ ููุณ ูู ุงููุงุถุญ ูุง ูุนููู ุ ูุจุงูุชุงูู ูููููุง ููุท ุชุฎููู ููููุฉ ุงูุฑุฏ ุนูููุง.  ูู ุงูุณูู ุฌุฏูุง ุงุฑุชูุงุจ ุฎุทุฃ.  ุงูุงุณุชุซูุงุก ุ ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุงุถุญ ููุบุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {  $result = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;filter($collection, $someFilterMethod); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (CollectionCannotBeEmpty $e) {  <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>  ูุฐุง ุงูุฑูุฒ ูุฑูุฏ ูู ููุนู.  ุงููุทูุฑ ูู ุบูุฑ ุงููุฑุฌุญ ุฃู ูุณุงุก ุชูุณูุฑู. <br><br><h2 style=";text-align:right;direction:rtl">  ูู ูุณุชุญู ูู ูุฐุง ุงูุฌูุฏุ </h2><br>  ูู ูุฐุง ูุจุฏู ููุฃูู ุฌูุฏ ุฅุถุงูู ููุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชูุนู ุงูุดูุก ููุณู.  ูุนู ูู ูุฐูู.  ูููู ูู ุงูููุช ููุณู ุ ุณุชูุถู ููุชูุง ุฃูู ุจูุซูุฑ ูู ูุฑุงุกุฉ ุงูููุฏ ููููู ุ ูุจุงูุชุงูู ุณุชุชู ููุงูุฃุฉ ูุฐู ุงูุฌููุฏ ุฅูู ุญุฏ ูุง.  ูู ุณุงุนุฉ ุฅุถุงููุฉ ุฃูุถููุง ูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุชููุฐูู ุจุดููู ุตุญูุญ ูู ุงูุฃูุงู ุงูุชู ูุง ุฃุญุชุงุฌ ูููุง ุฅูู ุชุบููุฑ ุงูุฑูุฒ ุฃู ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ.  ููุฑ ูู ุงูุฃูุฑ ุนูู ุฃูู ุงุณุชุซูุงุฑ ูุถููู ุนุงูู ุงูุนุงุฆุฏ. <br><br>  ููุฏ ุญุงู ููุงูุฉ ุจูุฏู tirade ูุงุฑุบุฉ.  ุขูู ุฃู ูููู ูุฐุง ูุณุงุนุฏู ุนูู ูุชุงุจุฉ ุฑูุฒ ุฃูุซุฑ ูุงุจููุฉ ููููู ูุตูุงูุชูุง. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar478760/">https://habr.com/ru/post/ar478760/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar478740/index.html">ุงูุฐูุงุจ ุฅูู ุงูุฐูุงุจ! ููู ุงุณุชุบุฑู ูุฑูู PHP ููุชุงุจุฉ ุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ</a></li>
<li><a href="../ar478748/index.html">SSDs ุงุฎุชุจุงุฑ ุงูููุซูููุฉ: 3dnews ููุงุจู JEDEC ููุงุจู ุงูุญุณ ุงูุณููู. ุฃูู ุงูุญูููุฉ ูุง ุฃุฎูุ</a></li>
<li><a href="../ar478750/index.html">ููุชุจุงุช ุชุตููุฑ ุงูุจูุงูุงุช ุงููุนููุฉ ูููุทูุฑูู ุฑุฏ ูุนู</a></li>
<li><a href="../ar478752/index.html">ุชุงุฑูุฎ ูุธู ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ</a></li>
<li><a href="../ar478758/index.html">ุฏููู ุงูุนูุงูุงุช UTM ุงูุนุธูู: ููููุฉ ูุนุฑูุฉ ูู ุฃูู ูุฃุชู ุงููุณุชุฎุฏููู</a></li>
<li><a href="../ar478764/index.html">ุฃุฎุทุงุก ุฌุงูุง ุณูุฑูุจุช: ุฅุตูุงุญ ุ ุนูููุฉ ุ ุฅุตูุงุญ</a></li>
<li><a href="../ar478766/index.html">ุชุฎุตูุต ุชุนููู ุงูุฑุจูุน MVC ุชุญูู</a></li>
<li><a href="../ar478772/index.html">ูุณูุฌ ุชูุงูููู</a></li>
<li><a href="../ar478774/index.html">ูุฒุงุฌ ุงูุนุงู ุงูุฌุฏูุฏ ูู ุงุฑุฏูููู ูุงูุนุตู</a></li>
<li><a href="../ar478778/index.html">ูุจุฑุง ุงููุจุงุญุซ ูุงููุฒุงุฌ ุงูุงุญุชูุงูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>