<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЬКЁЯП╛ ЁЯСиЁЯП╝тАНЁЯМ╛ ЁЯОй рд╣рд╛рдЗрдкрд░- V рдореЗрдВ рдЖрд░реНрдХ рд▓рд┐рдирдХреНрд╕ рдореЗрд╣рдорд╛рди рдХреЗ рд▓рд┐рдП рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╕рддреНрд░ рдореЛрдб рд╕рдХреНрд╖рдо рдХрд░реЗрдВ ЁЯд╡ЁЯП╗ тШЭЁЯП╝ ЁЯХЙя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╣рд╛рдЗрдкрд░-рд╡реА рдореЗрдВ рд▓рд┐рдирдХреНрд╕ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рдЕрддрд┐рдерд┐ рд╡рд┐рдВрдбреЛрдЬ рдорд╢реАрдиреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝рд╛ рдХрдо рдЖрд░рд╛рдорджрд╛рдпрдХ рдЕрдиреБрднрд╡ рд╣реИред рдЗрд╕рдХрд╛ рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ рд╣рд╛рдЗрдкрд░-рд╡реА рдЕрднреА рднреА рдореВрд▓ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╣рд╛рдЗрдкрд░- V рдореЗрдВ рдЖрд░реНрдХ рд▓рд┐рдирдХреНрд╕ рдореЗрд╣рдорд╛рди рдХреЗ рд▓рд┐рдП рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╕рддреНрд░ рдореЛрдб рд╕рдХреНрд╖рдо рдХрд░реЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482372/"><p><img src="https://habrastorage.org/webt/hh/1y/sx/hh1ysx-anppdkwei9z4fe0olfsg.png" alt="KDPV"></p><br><p>  рд╣рд╛рдЗрдкрд░-рд╡реА рдореЗрдВ рд▓рд┐рдирдХреНрд╕ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рдЕрддрд┐рдерд┐ рд╡рд┐рдВрдбреЛрдЬ рдорд╢реАрдиреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝рд╛ рдХрдо рдЖрд░рд╛рдорджрд╛рдпрдХ рдЕрдиреБрднрд╡ рд╣реИред  рдЗрд╕рдХрд╛ рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ рд╣рд╛рдЗрдкрд░-рд╡реА рдЕрднреА рднреА рдореВрд▓ рд░реВрдк рд╕реЗ рдбреЗрд╕реНрдХрдЯреЙрдк рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЕрднрд┐рдкреНрд░реЗрдд рдирд╣реАрдВ рдерд╛;  рд╡рд░реНрдЪреБрдЕрд▓рдмреЙрдХреНрд╕ рдореЗрдВ рдРрд╕рд╛ рд╣реЛрдиреЗ рдкрд░ рдЖрдк рдЕрддрд┐рдерд┐ рдРрдб-рдСрди рдХрд╛ рдПрдХ рдкреИрдХреЗрдЬ рд▓реЗ рдФрд░ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рдФрд░ рдПрдХ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЧреНрд░рд╛рдлрд┐рдХ рддреНрд╡рд░рдг, рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб, рд╕рд╛рдЭрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдФрд░ рдЬреАрд╡рди рдХреЗ рдЕрдиреНрдп рд╕реБрдЦ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p> рд╣рд╛рдЗрдкрд░-рд╡реА рд╕реНрд╡рдпрдВ <a href="https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/reference/integration-services">рдХрдИ рдПрдХреАрдХрд░рдг рд╕реЗрд╡рд╛рдПрдВ</a> рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореЗрд╣рдорд╛рди рд╣реЛрд╕реНрдЯ рдХреА рдЫрд╛рдпрд╛ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рд╕реЗрд╡рд╛ (рд╡реАрдПрд╕рдПрд╕) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдореЗрд╣рдорд╛рдиреЛрдВ рдХреЛ рд╢рдЯрдбрд╛рдЙрди рд╕рд┐рдЧреНрдирд▓ рднреЗрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдореЗрд╣рдорд╛рди рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рд╣реЛрд╕реНрдЯ рдХреЗ рд╕рд╛рде рд╕рд┐рд╕реНрдЯрдо рд╕рдордп рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдореЗрдЬрдмрд╛рди ( <code>Copy-VMFile</code> рд╕реЗ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╕реЗ рдлрд╛рдЗрд▓реЛрдВ рдХрд╛ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред PowerShell)ред  рд╡рд┐рдВрдбреЛрдЬ, рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХрдиреЗрдХреНрд╢рди рдПрдкреНрд▓реАрдХреЗрд╢рди ( <code>vmconnect.exe</code> ) рд╕рд╣рд┐рдд, рдХреБрдЫ рдЕрддрд┐рдерд┐ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП, рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╕рддреНрд░ рдореЛрдб <code>vmconnect.exe</code> , рдЬреЛ RDP рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЖрдкрдХреЛ рдбрд┐рд╕реНрдХ рдорд╢реАрди рдФрд░ рдкреНрд░рд┐рдВрдЯрд░ рдХреЛ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЛ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЖрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдХреНрд▓рд┐рдкрдмреЛрд░реНрдбред </p><br><p>  рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рд╣рд╛рдЗрдкрд░-рд╡реА рдореЗрдВ рд╡рд┐рдВрдбреЛрдЬ рдкрд░ рд╡рд░реНрдзрд┐рдд рд╕реЗрд╢рди рдореЛрдб рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рд▓рд┐рдирдХреНрд╕ рдкрд░ рдореЗрд╣рдорд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ рдПрдХ рдЖрд░рдбреАрдкреА рд╕рд░реНрд╡рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ vsock (рд▓рд┐рдирдХреНрд╕ рдореЗрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдЖрднрд╛рд╕реА рдиреЗрдЯрд╡рд░реНрдХ рдкрддрд╛ рд╕реНрдерд╛рди рдХреЛ рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ) рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдпрджрд┐ рд╡рд┐рдВрдбреЛрдЬ рдХреЗ рдбреЗрд╕реНрдХрдЯреЙрдк рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдкрд░ рд╣рд╛рдЗрдкрд░- V рдХреЗ рд╕рд╛рде рдЖрдиреЗ рд╡рд╛рд▓реЗ VMCreate рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдЙрдмрдВрдЯреВ рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рддреИрдпрд╛рд░ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдЯреЗрдореНрдкрд▓реЗрдЯ рд╣реИ рдЬрд┐рд╕рдореЗрдВ vsck рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ XRDP RDP рд╕рд░реНрд╡рд░ рдкрд╣рд▓реЗ <a href="https://github.com/neutrinolabs/xrdp">рд╕реЗ</a> рд╣реА рдкреНрд░реАрдЗрдВрд╕реНрдЯреЙрд▓реНрдб рд╣реИ, рддреЛ рдЕрдиреНрдп рд╡рд┐рддрд░рдг рдХреЗ рд╕рд╛рде рд╕рдм рдХреБрдЫ рдХрдо рдФрд░ рд╕реНрдкрд╖реНрдЯ рд╣реИ - рдЗрд╕рд▓рд┐рдП, <a href="https://secanablog.wordpress.com/2018/10/24/enhanced-session-mode-under-fedora-28/">рдЗрд╕ рдкреЛрд╕реНрдЯ</a> рдХреЗ рд▓реЗрдЦрдХ рдпрд╣ рдлреЗрдбреЛрд░рд╛ рдореЗрдВ рдИрдПрд╕рдПрдо рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдХрд▓рд╛ред  рдпрд╣рд╛рдВ рд╣рдо рдЖрд░реНрдХ рд▓рд┐рдирдХреНрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рдЖрднрд╛рд╕реА рдорд╢реАрди рдХреЗ рд▓рд┐рдП рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╕рддреНрд░ рдореЛрдб рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рддреЗ рд╣реИрдВред <a name="habracut"></a></p><br><h4 id="ustanovka-servisov-integracii">  рдПрдХреАрдХрд░рдг рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </h4><br><p>  рдпрд╣рд╛рдБ рдкрд░ рд╕рдм рдХреБрдЫ рдХрдореЛрдмреЗрд╢ рд╕рд░рд▓ рд╣реИ, рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╕рд╛рдореБрджрд╛рдпрд┐рдХ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕реЗ <code>hyperv</code> рдкреИрдХреЗрдЬ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ: </p><br><pre> <code class="plaintext hljs">% sudo pacman -S hyperv</code> </pre> <br><p>  VSS, <a href="https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/reference/integration-services">рдореЗрдЯрд╛рдбреЗрдЯрд╛</a> рдФрд░ рдлрд╝рд╛рдЗрд▓ рд╕рд╛рдЭрд╛рдХрд░рдг рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдЪрд╛рд▓реВ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">% for i in {vss,fcopy,kvp}; do sudo systemctl enable hv_${i}_daemon.service; done</code> </pre> <br><h4 id="ustanovka-xrdp">  XRDP рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </h4><br><p>  GitHub рдкрд░ <a href="https://github.com/microsoft/linux-vm-tools">рд▓рд┐рдирдХреНрд╕-рд╡реАрдПрдо-рдЯреВрд▓</a> рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЖрд░реНрдХ рд▓рд┐рдирдХреНрд╕ рдФрд░ рдЙрдмрдВрдЯреВ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕рдЖрд░рдбреАрдкреА рдХреА рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░рддрд╛ рд╣реИред  Git рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ, рдпрджрд┐ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реИ, рд╕рд╛рде рдореЗрдВ рдХрдВрдкрд╛рдЗрд▓рд░ рдФрд░ рдореИрдиреБрдЕрд▓ рдЕрд╕реЗрдВрдмрд▓реА рдХреЗ рд▓рд┐рдП рдЕрдиреНрдп рд╕реЙрдлреНрдЯрд╡реЗрдпрд░, рдФрд░ рдлрд┐рд░ рд░рд┐рдкреЙрдЬрд┐рдЯ рдХреНрд▓реЛрди рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">% sudo pacman -S git base-devel % git clone https://github.com/microsoft/linux-vm-tools.git % cd linux-vm-tools/arch</code> </pre> <br><p>  рдЗрд╕ рд▓реЗрдЦрди рдХреЗ рд╕рдордп, XRDP рдХреА рдирд╡реАрдирддрдо рд░рд┐рд▓реАрдЬрд╝, рдЬрд┐рд╕реЗ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд <code>makepkg.sh</code> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рджреНрд╡рд╛рд░рд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, 0.9.11 рд╣реИ, <a href="https://github.com/microsoft/linux-vm-tools/issues/94">рдЬрд┐рд╕рдореЗрдВ</a> <code>vsock://</code> <a href="https://github.com/microsoft/linux-vm-tools/issues/94">рдХреА рдкрд╛рд░реНрд╕рд┐рдВрдЧ</a> <code>vsock://</code> рдкрддреЗ рдЯреВрдЯреЗ рд╣реБрдП рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ GUR рд╕реЗ XRDP рдФрд░ AUR рд╕реЗ рдЗрд╕реЗ Xorg рдбреНрд░рд╛рдЗрд╡рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рд╣рд╛рде рд╕реЗред  AUR рдореЗрдВ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ XRDP рдкреИрдЪ рднреА рдереЛрдбрд╝рд╛ рдкреБрд░рд╛рдирд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ PKGBUILD рдФрд░ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдкреИрдЪ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </p><br><p>  рд╣рдо AUR рд╕реЗ PKGBUILDs рдХреЗ рд╕рд╛рде рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЛ рдХреНрд▓реЛрди рдХрд░рддреЗ рд╣реИрдВ (рдЖрдорддреМрд░ рдкрд░ рдЕрд╕реЗрдВрдмрд▓реА рдХреЗ рд╕рд╛рде рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ <a href="https://github.com/Jguer/yay">рдпрд╛рдп</a> рдЬреИрд╕реЗ рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╣реЛрддреА рд╣реИ, рд▓реЗрдХрд┐рди рд▓реЗрдЦрдХ рдиреЗ рдпрд╣ рдкреВрд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдПрдХ рд╕реНрд╡рдЪреНрдЫ рдкреНрд░рдгрд╛рд▓реА рдкрд░ рдХреА) </p><br><pre> <code class="plaintext hljs">% git clone https://aur.archlinux.org/xrdp-devel-git.git % git clone https://aur.archlinux.org/xorgxrdp-devel-git.git</code> </pre> <br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдПрдХреНрд╕рдЖрд░рдбреАрдкреА рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВред  рдХрд┐рд╕реА рднреА рдЯреЗрдХреНрд╕реНрдЯ рдПрдбрд┐рдЯрд░ рдХреЗ рд╕рд╛рде <code>PKGBUILD</code> рдлрд╛рдЗрд▓ рдЦреЛрд▓реЗрдВред </p><br><p>  рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВред  Git рд╕реЗ XRDP рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП PKGBUILD рдореЗрдВ рдирд┐рд░реНрдорд╛рдг рдХреЗ рджреМрд░рд╛рди vsock рд╕рдорд░реНрдерди рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ: </p><br><pre> <code class="diff hljs"> build() { cd $pkgname ./configure --prefix=/usr \ --sysconfdir=/etc \ --localstatedir=/var \ --sbindir=/usr/bin \ --with-systemdsystemdunitdir=/usr/lib/systemd/system \ --enable-jpeg \ --enable-tjpeg \ --enable-fuse \ --enable-opus \ --enable-rfxcodec \ --enable-mp3lame \ - --enable-pixman + --enable-pixman \ + --enable-vsock make V=0 }</code> </pre> <br><p>  рдкреИрдЪ рдЖрд░реНрдХ-config.diff, рдЬреЛ рдЖрд░реНрдХ рд▓рд┐рдирдХреНрд╕ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдкрде рдХреЗ рддрд╣рдд XRDP рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдХрд╛рдЗрдпреЛрдВ рдФрд░ рд▓рд┐рдкрд┐рдпреЛрдВ <code>arch-config.diff</code> , рдореЗрдВ <code>instfiles/xrdp.sh</code> рд▓рд┐рдП рдПрдХ рдкреИрдЪ рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд▓реЗрдЦрди рдХреЗ рд╕рдордп XRDP рдкреИрдХреЗрдЬ рд╕реЗ <a href="https://github.com/neutrinolabs/xrdp/commit/5fc804c67d208371ee79004190c8d20578b2bcd8">рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛</a> , рдЗрд╕рд▓рд┐рдП рдкреИрдЪ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛: </p><br><pre> <code class="diff hljs"> [Install] WantedBy=multi-user.target -diff -up src/xrdp-devel-git/instfiles/xrdp.sh.orig src/xrdp-devel-git/instfiles/xrdp.sh ---- src/xrdp-devel-git/instfiles/xrdp.sh.orig 2017-08-30 00:27:28.000000000 -0600 -+++ src/xrdp-devel-git/instfiles/xrdp.sh 2017-08-30 00:28:00.000000000 -0600 -@@ -17,7 +17,7 @@ - # Description: starts xrdp - ### END INIT INFO - --SBINDIR=/usr/local/sbin -+SBINDIR=/usr/bin - LOG=/dev/null - CFGDIR=/etc/xrdp - diff -up src/xrdp-devel-git/sesman/startwm.sh.orig src/xrdp-devel-git/sesman/startwm.sh --- src/xrdp-devel-git/sesman/startwm.sh.orig 2017-08-30 00:27:30.000000000 -0600</code> </pre> <br><p>  рд╣рдо рдХрдорд╛рдВрдб <code>% makepkg --skipchecksums -si</code> ( <code>--skipchecksums</code> рд╕реНрд░реЛрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдЪреЗрдХрд╕рдо рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдЙрдиреНрд╣реЗрдВ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╣реИрдВ) рдХреЗ рд╕рд╛рде рдкреИрдХреЗрдЬ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдФрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВрдЧреЗред </p><br><p>  <code>xorgxrdp-devel-git</code> рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдЬрд╛рдПрдВ, рдФрд░ рдлрд┐рд░ <code>% makepkg -si</code> рд╕рд╛рде рдкреИрдХреЗрдЬ рдХреЛ рдЗрдХрдЯреНрдард╛ рдХрд░реЗрдВред </p><br><p>  <code>linux-vm-tools/arch</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдкрд░ рдЬрд╛рдПрдВ рдФрд░ install-config.sh рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рдПрдБ, рдЬреЛ XRDP, PolicyKit, рдФрд░ PAM рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">% sudo ./install-config.sh</code> </pre> <br><p>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЕрдкреНрд░рдЪрд▓рд┐рдд <code>use_vsock</code> рд╕реЗрдЯрд┐рдВрдЧ рд╕реЗрдЯ рдХрд░рддреА рд╣реИ, рдЬрд┐рд╕реЗ рд╕рдВрд╕реНрдХрд░рдг 0.9.11 рд╕реЗ рдирдЬрд░рдЕрдВрджрд╛рдЬ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ <code>/etc/xrdp/xrdp.ini</code> рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВрдЧреЗ: </p><br><pre> <code class="diff hljs"> ; port=vsock://&lt;cid&gt;:&lt;port&gt; -port=3389 +port=vsock://-1:3389 ; 'port' above should be connected to with vsock instead of tcp ; use this only with number alone in port above ; prefer use vsock://&lt;cid&gt;:&lt;port&gt; above -use_vsock=true +;use_vsock=true ; regulate if the listening socket use socket option tcp_nodelay</code> </pre> <br><p>  <code>~/.xinitrc</code> рдореЗрдВ рд╣рдорд╛рд░реЗ рдкрд╕рдВрджреАрджрд╛ рд╡рд┐рдВрдбреЛ рдореИрдиреЗрдЬрд░ / рдбреЗрд╕реНрдХрдЯреЙрдк рд╡рд╛рддрд╛рд╡рд░рдг <code>~/.xinitrc</code> рдкреНрд░рдХреНрд╖реЗрдкрдг рдХреЛ рджрд░реНрдЬ рдХрд░реЗрдВ, рдЬрд┐рд╕реЗ рдПрдХреНрд╕ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд╛рдЧреВ рд╣реЛрдиреЗ рдкрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛: </p><br><pre> <code class="plaintext hljs">% echo "exec i3" &gt; ~/.xinitrc</code> </pre> <br><p>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдмрдВрдж рдХрд░реЗрдВред  рд╣рдо рдПрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдХреЗ рд░реВрдк рдореЗрдВ PowerShell рдореЗрдВ рдирд┐рдореНрди рдХрдорд╛рдВрдб рдЪрд▓рд╛рдХрд░ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рд▓рд┐рдП vsock рдкрд░рд┐рд╡рд╣рди рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">PS Admin &gt; Set-VM -VMName _ -EnhancedSessionTransportType HvSocket</code> </pre> <br><p>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЛ рдлрд┐рд░ рд╕реЗ рдЪрд╛рд▓реВ рдХрд░реЗрдВред </p><br><h4 id="podklyuchenie">  рд╕рдВрдмрдВрдз </h4><br><p>  рдЬреИрд╕реЗ рд╣реА рд╕рд┐рд╕реНрдЯрдо рд╢реБрд░реВ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж XRDP рд╕реЗрд╡рд╛ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, vmconnect рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдореЗрдиреВ рдЖрдЗрдЯрдо <em>рджреГрд╢реНрдп</em> -&gt; <em>рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╕рддреНрд░</em> рдЙрдкрд▓рдмреНрдз рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рдЖрдЗрдЯрдо рдХреЛ рдЪреБрдирддреЗ рд╕рдордп, рд╣рдореЗрдВ рд╕реНрдХреНрд░реАрди рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдЦреБрд▓рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрд╡рд╛рдж рдХреЗ <em>рд╕реНрдерд╛рдиреАрдп рд╕рдВрд╕рд╛рдзрди</em> рдЯреИрдм рдкрд░, рдЖрд░рдбреАрдкреА рд╕рддреНрд░ рдХреЗ рдЕрдВрджрд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛ред </p><br><p><img src="https://habrastorage.org/webt/wg/z4/_p/wgz4_pvkaixpif7p0oaybxtemdg.png" alt="рд╕реНрдХреНрд░реАрди рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдбрд╛рдпрд▓реЙрдЧ"><br><img src="https://habrastorage.org/webt/mk/ke/ji/mkkejiat9lmfh68z0bynnyti7fg.png" alt="рд╕реНрдерд╛рдиреАрдп рд╕рдВрд╕рд╛рдзрди рдЪрдпрди рд╕рдВрд╡рд╛рдж"></p><br><p>  рдХрдиреЗрдХреНрдЯред  XRDP рд▓реЙрдЧрд┐рди рд╡рд┐рдВрдбреЛ рджреЗрдЦреЗрдВ: </p><br><p><img src="https://habrastorage.org/webt/zy/ek/4o/zyek4ob6kerkxk9cah8k5cvwx18.png" alt="XRDP рд▓реЙрдЧрд┐рди рд╡рд┐рдВрдбреЛ"></p><br><p>  рдЕрдкрдирд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░реЗрдВред </p><br><h4 id="ispolzovanie">  рдХреЗ рдЙрдкрдпреЛрдЧ </h4><br><p>  рдЗрди рдЬреЛрдбрд╝рддреЛрдбрд╝реЛрдВ рд╕реЗ рд▓рд╛рдн рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ: рдЖрд░рдбреАрдкреА рд╕рддреНрд░ рдПрдХ рдЙрдиреНрдирдд рд╕рддреНрд░ рдХреЗ рдмрд┐рдирд╛ рдЖрднрд╛рд╕реА рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЙрддреНрддрд░рджрд╛рдпреА рд╣реИред  RDP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдлреЗрдВрдХреЗ рдЧрдП VM <code>${HOME}/shared-drives</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/om/-h/lx/om-hlxtslyx9nwmso7_yftyqnng.png" alt="VM рдХреЗ рдЕрдВрджрд░ рдлреЗрдВрдХреЗ рдЧрдП C рдбреНрд░рд╛рдЗрд╡ рдХреА рд╕рд╛рдордЧреНрд░реА"></p><br><p>  рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдареАрдХ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИред  рдЖрдк рдЕрдВрджрд░ рдкреНрд░рд┐рдВрдЯрд░ рдХреЛ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ, рдпрд╣ рди рдХреЗрд╡рд▓ рд╕рдорд░реНрдерд┐рдд рд╣реИ, рдмрд▓реНрдХрд┐ рдпрд╣ <a href="https://github.com/microsoft/linux-vm-tools/wiki/FAQ">рдбрд┐рд╕реНрдХ рдЕрдЧреНрд░реЗрд╖рдг рдХреЛ</a> рднреА <a href="https://github.com/microsoft/linux-vm-tools/wiki/FAQ">рддреЛрдбрд╝рддрд╛ рд╣реИ</a> ред  рдзреНрд╡рдирд┐ рднреА рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреА рд╣реИ, рд▓реЗрдХрд┐рди рд▓реЗрдЦрдХ рдХреЛ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рдереАред  Alt + Tab рдЬреИрд╕реЗ рдХреАрдмреЛрд░реНрдб рд╢реЙрд░реНрдЯрдХрдЯ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкреВрд░реНрдг рд╕реНрдХреНрд░реАрди рдореЗрдВ vmconnect рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рдпрджрд┐ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ vmconnect рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдмрдЬрд╛рдп рд╡рд┐рдВрдбреЛрдЬ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд RDP рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЗрдЪреНрдЫрд╛ рд╣реИ, рдпрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рдорд╢реАрди рдХреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рдорд╢реАрди рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ, рддреЛ рдЖрдкрдХреЛ <code>tcp://:3389</code> <code>/etc/xrdp/xrdp.ini</code> <code>tcp://:3389</code> <code>/etc/xrdp/xrdp.ini</code> <code>tcp://:3389</code> <code>/etc/xrdp/xrdp.ini</code> <code>port</code> рдлрд╝рд╛рдЗрд▓ рдХреЛ <code>tcp://:3389</code> рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред <code>tcp://:3389</code> ред  рдпрджрд┐ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрд╡рд┐рдЪ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реИ рдФрд░ рдбреАрдПрдЪрд╕реАрдкреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЖрдк рдЗрд╕реЗ рдорд╢реАрди рд╕реЗ рд╣реЛрд╕реНрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ <code>_.mshome.net</code> ред  рдЖрдк рдХреЗрд╡рд▓ рдЙрдиреНрдирдд рдореЛрдб рдХреЛ рдмрдВрдж рдХрд░рдХреЗ vmconnect рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ TTY рджрд░реНрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  <strong>рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рд╕реНрд░реЛрдд</strong> : </p><br><ol><li>  <a href="https://wiki.archlinux.org/index.php/Hyper-V">рд╣рд╛рдЗрдкрд░-рд╡реА - рдЖрд░реНрдХ рд╡рд┐рдХреА</a> </li><li>  рдЧрд┐рдЯрд╣рдм рдкрд░ рдмреИрдЧрд░реЗрдкреЛрд░реНрдЯ: <a href="https://github.com/microsoft/linux-vm-tools/issues/94">1</a> , <a href="https://github.com/neutrinolabs/xrdp/issues/1403">2</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi482372/">https://habr.com/ru/post/hi482372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi482358/index.html">рд░рд╕реНрдЯ рдореЗрдВ рдШрдмрд░рд╛рд╣рдЯ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ</a></li>
<li><a href="../hi482360/index.html">рд╣рд╛рдмрд░рд╛ рдЬрд╛рд╕реВрд╕: рд╡реЗ рдпреВрдПрдлрдУ рдХреЗ рд╕рд╛рде рджреЛрд╕реНрдд рд╣реИрдВ</a></li>
<li><a href="../hi482362/index.html">рд▓рдЧрднрдЧ рдЕрд░рд╛рдЬрдХрддрд╛: рдлрд╝рд┐рдбреЛрдиреЗрдЯ рдХрд╛ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЗрддрд┐рд╣рд╛рд╕, рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЬреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЬреАрддрдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрд░рд╡рд╛рд╣ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ</a></li>
<li><a href="../hi482364/index.html">рдЪреАрдЬреЗрдВ рдЖрдк [рд╢рд╛рдпрдж] рдЬрд╛рд╡рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдереЗ</a></li>
<li><a href="../hi482370/index.html">рдиреЛрдбрдЬ: рдкреНрд░реЛрд╕реЗрд╕ рдореИрдиреЗрдЬрд░ рдФрд░ рдИрдПрд╕ 6 рдореЙрдбреНрдпреВрд▓</a></li>
<li><a href="../hi482374/index.html">рдЗрдХрд╛рдИ рдШрдЯрдХ рдкреНрд░рдгрд╛рд▓реА рдЯреЗрдореНрдкрд▓реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ LibGDX рдкрд░ рдЧреЗрдо рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдирд╛</a></li>
<li><a href="../hi482378/index.html">Wacom рдХрд╛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЗрддрд┐рд╣рд╛рд╕: рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдкрд╛рдардХреЛрдВ рдХреЗ рд▓рд┐рдП рдЧреНрд░рд╛рдлрд┐рдХ рдЯреИрдмрд▓реЗрдЯ рддрдХрдиреАрдХ рдХреИрд╕реЗ рдЖрдИ</a></li>
<li><a href="../hi482382/index.html">рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЪрд╛рд░ рд╕рд┐рджреНрдзрд╛рдВрдд рдпрд╛ рдорд╢реАрди рдЯреНрд░рд╛рдВрд╕рд▓реЗрдЯрд░ рдореЗрдВ рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐ рдХрд┐рд╕ рддрд░рд╣ рд╕реЗ рдирд╣реАрдВ рджреЗрдЧрд╛?</a></li>
<li><a href="../hi482386/index.html">рдореИрдХ рдХреЗ рд▓рд┐рдП рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ: рдХреАрдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдЕрдкрдиреА рдЖрдИрдбреАрдИ рдкрд░ рдирд┐рдпрдВрддреНрд░рдг рд░рдЦреЗрдВ</a></li>
<li><a href="../hi482390/index.html">Ember.js рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рд╕реЗ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ред рд╕реБрдкрд░ рдХрд┐рд░рд╛рдпрд╛ рдРрдкред рднрд╛рдЧ 1.2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>