<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õé üç• üòΩ Comme Youtube et Instagram: internationaliser et localiser une application Python üõ≥Ô∏è üë≠ üïñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Python est au c≈ìur d'applications de renomm√©e mondiale telles que Youtube, Instagram et Pinterest. Pour avancer sur le march√© mondial, une application...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comme Youtube et Instagram: internationaliser et localiser une application Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/simbirsoft/blog/479738/">  Python est au c≈ìur d'applications de renomm√©e mondiale telles que Youtube, Instagram et Pinterest.  Pour avancer sur le march√© mondial, une application a besoin de localisation, c'est-√†-dire d'adaptation aux caract√©ristiques d'un pays particulier et d'internationalisation - traduction de contenu.  Dans cet article, nous partagerons notre exp√©rience sur la fa√ßon d'acc√©l√©rer l'automatisation de la traduction et de r√©soudre certains probl√®mes typiques dans ce domaine. <br><br><img src="https://habrastorage.org/webt/pj/ju/ug/pjjuugy6izlwm2of_m-qwzrkogm.jpeg"><a name="habracut"></a><br><br><h2>  Pr√©sentation </h2><br>  Ceci est un petit guide pour l'internationalisation (i18n) des applications python.  Ce guide sera int√©ressant pour tous les programmeurs ayant une exp√©rience de d√©veloppement en python.  La lecture d'un article prendra 10 √† 15 minutes. <br><br>  Nous utiliserons l'outil gettext bien test√© inclus dans le langage python. <br><br>  Pour commencer, nous comprendrons ce qu'est l'internationalisation: <br><br>  <u>L'internationalisation (I18N)</u> est le processus d'adaptation d'une application aux langues de diff√©rents pays et r√©gions autres que celle dans laquelle elle a √©t√© d√©velopp√©e. <br><br>  Mais il existe √©galement un concept plus large: <br><br>  <u>La localisation (L10N)</u> est le processus d'adaptation d'une application internationalis√©e √† une r√©gion ou une langue sp√©cifique en ajoutant des composants sp√©cifiques √† un environnement local donn√© et en traduisant du texte. <br><br>  La localisation signifie la traduction: <br><br><ul><li>  format de date et d'heure; </li><li>  format num√©rique; </li><li>  fuseau horaire </li><li>  un calendrier </li><li>  repr√©sentations mon√©taires; </li><li>  taxes / TVA; </li><li>  temp√©rature et autres mesures; </li><li>  codes postaux, t√©l√©phones; </li><li>  formatage d'adresse; </li><li>  code du r√®glement. </li></ul><br><img src="https://habrastorage.org/webt/qn/iu/pp/qniuppyynx8jszhbt21l9xllxuw.png"><br><br>  La localisation va au-del√† de la traduction de contenu dans une autre langue.  Il existe des param√®tres culturels et fonctionnels qui n√©cessitent √©galement une attention particuli√®re.  Par exemple, le format de date en Am√©rique du Nord est MM / JJ / AAAA, mais dans la plupart des pays asiatiques, il est √©crit JJ / MM / AAAA. <br><br><img src="https://habrastorage.org/webt/uf/rg/pd/ufrgpdvzppo4v91mpmwcwkoeoli.png"><br><br>  <i>Un exemple bien connu d'une erreur de traduction d'application</i> <br><br>  Un autre exemple concerne l'affichage des noms dans les applications.  Aux √âtats-Unis, appeler une personne par son nom est acceptable et m√™me pr√©f√©rable, le nom du client s'affiche dans l'en-t√™te d√®s que le client se connecte.  Cependant, au Japon, le contraire est vrai: appeler quelqu'un par son nom est impoli ou m√™me offensant.  La localisation doit en tenir compte et √©viter d'utiliser des noms pour un public japonais. <br><br>  Dans cet article, nous ne consid√©rerons que l'internationalisation, mais les m√©canismes de localisation sont construits de mani√®re similaire.  Les biblioth√®ques mentionn√©es dans cet article prennent en charge la localisation des applications. <br><br><h2>  Types principaux </h2><br>  L'internationalisation est divis√©e en: <br><br><ol><li>  Traduction de donn√©es directement dans des scripts python. </li><li>  Traduction des donn√©es dans les moteurs de mod√®les. </li><li>  Traduction de donn√©es stock√©es dans une base de donn√©es. </li></ol><br><h3>  1. Traduction des donn√©es de script python </h3><br>  Pour que notre internationalisation fonctionne, nous devons traiter avec la biblioth√®que babel et la bo√Æte √† outils distutils pour g√©rer l'assemblage du projet √† vendre et au-del√†. <br><br><h4>  Pr√©paration de la traduction </h4><br>  Pour commencer, nous devons cr√©er une liste de traductions.  Pour commencer, nous installons la biblioth√®que <a href="http://babel.pocoo.org/">Babel</a> - c'est une biblioth√®que python g√©n√©ralement reconnue pour localiser et convertir des dates, des devises, avec des ajouts pratiques pour construire le projet (discut√© ci-dessous). <br><br>  Python fournit une bo√Æte √† outils pour le multilinguisme - gettext.  GNU gettext est en fait une solution de localisation universelle qui prend en charge d'autres langages de programmation dans les messages multilingues.  Gettext est utilis√© non seulement dans de nombreux langages de programmation, mais aussi dans la traduction de syst√®mes d'exploitation; c'est un logiciel bien test√© et distribu√© gratuitement disponible sur <a href="https://github.com/autotools-mirror/gettext">github</a> . <br><br>  Pour que les traductions fonctionnent, vous devez importer le module gettext et passer les scripts avec les traductions √† l'entr√©e.  Tout d'abord, nous marquons toutes les cha√Ænes traduites avec la fonction sp√©ciale _ ('some_text').  L'appel √† cette fonction dans le projet ressemblera √† ceci: <br><br><pre><code class="php hljs">import gettext import os localedir = os.path.join(os.path.abspath(<span class="hljs-string"><span class="hljs-string">'/path/to/locales'</span></span>), <span class="hljs-string"><span class="hljs-string">'locales'</span></span>) translate = gettext.translation(<span class="hljs-string"><span class="hljs-string">'domain_name'</span></span>, localedir, [<span class="hljs-string"><span class="hljs-string">'ru'</span></span>]) _ = translate.gettext <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(_(<span class="hljs-string"><span class="hljs-string">'some_text'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(_(<span class="hljs-string"><span class="hljs-string">'some_text_2'</span></span>))</code> </pre> <br>  Dans un petit morceau de code, cr√©ez un objet d'internationalisation qui utilise le r√©pertoire ¬´locales¬ª comme source de phrases traduites.  Le r√©pertoire 'locales' n'a pas encore √©t√© cr√©√©, mais c'est l√† que l'application recherchera les traductions lors de l'ex√©cution. <br><br>  Par souci de concision, la fonction translate.gettext sera d√©sign√©e ci-dessous par _.  Underscore est le nom commun de cette fonction, qui est reconnu par la communaut√© Python. <br><br>  La fonction _ () marque les lignes √† traduire.  Le module gettext est accompagn√© de l'outil xgettext, qui analyse les marqueurs de cha√Æne _ () par code et forme un mod√®le d'objet portable (fichier-pot).  Pour cr√©er le fichier pot, revenons √† la biblioth√®que Babel install√©e, qui poss√®de de nombreuses fonctionnalit√©s pour prendre en charge l'internationalisation.  Babel √©tend le script de construction setup.py, qui peut √™tre √©crit en utilisant la biblioth√®que standard de distythils python ou le paquet setuptools tiers de votre choix.  L'assemblage des modules Python d√©passe le cadre de notre article; pour plus de d√©tails, consultez la <a href="https://docs.python.org/2/distutils/introduction.html">documentation</a> .  Il suffit de cr√©er un fichier setup.py avec le contenu suivant: <br><br><pre> <code class="php hljs">from babel.messages import frontend <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> babel from distutils.core import setup setup(name=<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, version=<span class="hljs-string"><span class="hljs-string">'1.0'</span></span>, cmdclass = {<span class="hljs-string"><span class="hljs-string">'extract_messages'</span></span>: babel.extract_messages, <span class="hljs-string"><span class="hljs-string">'init_catalog'</span></span>: babel.init_catalog, <span class="hljs-string"><span class="hljs-string">'update_catalog'</span></span>: babel.update_catalog, <span class="hljs-string"><span class="hljs-string">'compile_catalog'</span></span>: babel.compile_catalog,} )</code> </pre> <br>  Ainsi, nous avons cr√©√© des instructions pour la construction du projet et ajout√© quatre √©quipes d'internationalisation de la biblioth√®que babel.  Consid√©rez ces commandes plus en d√©tail par ordre d'utilisation. <br><br>  <b>extract_messages</b> <br><br>  Cette commande est un wrapper sur l'outil GNU xgettext, qui analyse les balises traduisibles _ () dans un fichier pot.  Pour ex√©cuter, vous avez besoin de plusieurs param√®tres pour l'assemblage.  Pour ce faire, dans le r√©pertoire racine, cr√©ez le fichier setup.cfg avec le contenu: <br><br><pre> <code class="php hljs">[extract_messages] input_dirs = foobar output_file = foobar/locales/messages.pot</code> </pre> <br><br><ul><li>  input_dirs - le nom du r√©pertoire √† partir duquel toutes les √©tiquettes du code _ () seront s√©lectionn√©es pour les traductions. </li><li>  fichier_sortie - chemin du fichier .pot r√©sultant </li></ul><br>  Pour ex√©cuter la commande, ex√©cutez dans la console: <br><br><pre> <code class="php hljs">$ python setup.py extract_messages</code> </pre> <br><br><pre> <code class="php hljs">running extract_messages extracting messages from foobar/__init__.py extracting messages from foobar/core.py ... writing PO template file to foobar/locales/messages.pot</code> </pre> <br>  Dans le fichier pot, les lignes marqu√©es sont collect√©es dans une liste √† partir de laquelle les traducteurs peuvent ensuite cr√©er des traductions pour chacune des langues souhait√©es. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment"># SOME DESCRIPTIVE TITLE. # Copyright (C) YEAR ORGANIZATION # FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR. # msgid "" msgstr "" "Project-Id-Version: PACKAGE VERSION\n" "POT-Creation-Date: 2018-01-28 16:47+0000\n" "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" "Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n" "Language-Team: LANGUAGE &lt;LL@li.org&gt;\n" "MIME-Version: 1.0\n" "Content-Type: text/plain; charset=UTF-8\n" "Content-Transfer-Encoding: 8bit\n" "Generated-By: pygettext.py 1.5\n" #: src/main.py:5 msgid "some_text" msgstr "" #: src/main.py:6 msgid "some_text_2" msgstr ""</span></span></code> </pre> <br>  Ensuite, vous devez cr√©er des traductions pour plusieurs langues.  Pour ce faire, utilisez les commandes babel suivantes. <br><br>  <b>init_catalog</b> <br><br>  Cette commande est un wrapper sur l'outil GNU msginit, qui cr√©e un nouveau r√©pertoire de traduction bas√© sur le fichier pot. <br><br><pre> <code class="php hljs">$ python setup.py init_catalog -l en -i foobar/locales/messages.pot \ -o foobar/locales/en/LC_MESSAGES/base.po</code> </pre> <br><pre> <code class="php hljs">running init_catalog creating catalog <span class="hljs-string"><span class="hljs-string">'foobar/locales/en/LC_MESSAGES/messages.po'</span></span> based on <span class="hljs-string"><span class="hljs-string">'foobar/locales/messages.pot'</span></span></code> </pre> <br>  <b>Important!</b>  Les fichiers de localisation sont stock√©s de mani√®re sp√©cifique, conform√©ment √† la convention: <br><br>  locales // LC_MESSAGES / .po <br><br>  - un r√©pertoire avec des traductions dans une langue sp√©cifique, dans notre cas c'est l'anglais (en).  Il peut √©galement y avoir un r√©pertoire avec des traductions non seulement dans une langue sp√©cifique, mais prenant √©galement en compte des fonctionnalit√©s suppl√©mentaires.  Par exemple, une traduction anglaise pour les √âtats-Unis est en_US; <br><br>  - domaine avec traductions.  Si notre application se d√©veloppe, les traductions seront divis√©es en domaines afin de ne pas surcharger un fichier. <br><br>  <b>update_catalog</b> <br><br>  Cette commande est un wrapper sur l'outil msgmerge GNU, qui met √† jour les r√©pertoires de traduction existants pour les fichiers * .po. <br><br>  Lors de l'ajout de nouvelles traductions, nous ex√©cutons simplement la commande: <br><br><pre> <code class="php hljs">$ python setup.py update_catalog -l en -i foobar/locales/messages.pot \ -o foobar/locales/en/LC_MESSAGES/base.po</code> </pre> <br><pre> <code class="php hljs">running update_catalog updating catalog <span class="hljs-string"><span class="hljs-string">'foobar/locales/en/LC_MESSAGES/base.po'</span></span> based on <span class="hljs-string"><span class="hljs-string">'foobar/locales/messages.pot'</span></span></code> </pre> <br>  Nous pouvons √©galement sp√©cifier la localisation en russe en sp√©cifiant ru au lieu de en. <br><br>  <b>compile_catalog</b> <br><br>  La commande finale est un wrapper sur l'outil GNU msgfmt.  Il prend les messages traduisibles des fichiers * .po et les compile en fichiers binaires * .mo pour optimiser les performances. <br><br><pre> <code class="php hljs">$ python setup.py compile_catalog --directory foobar/locales --domain base</code> </pre><br><pre> <code class="php hljs">running compile_catalog compiling catalog to foobar/locales/en/LC_MESSAGES/base.mo</code> </pre><br>  --directory - chemin vers le r√©pertoire avec localisation, <br>  --domain - un indicateur pour sp√©cifier un domaine de traduction, nous le sp√©cifions conform√©ment aux domaines d'application existants. <br><br>  Les scripts Python ne fonctionnent qu'avec des traductions * .mo optimis√©es.  Par cons√©quent, avec toute modification, afin qu'elle apparaisse dans l'application, vous devez recompiler les fichiers avec la localisation.  Pour travailler avec des fichiers de traduction, vous pouvez utiliser l'application poedit - elle est disponible pour tous les syst√®mes d'exploitation et est un logiciel distribu√© gratuitement. <br><br><img src="https://habrastorage.org/webt/4_/x5/iy/4_x5iyrgxqxdw_qxlucmagupbt0.png"><br><br>  <i>poedit - application de traduction</i> <br><br>  Chaque traduction est affich√©e sur une ligne distincte, ce qui est pratique.  Une fois le travail de traduction termin√©, lors de l'enregistrement des modifications, un fichier binaire * .mo avec toutes les modifications est automatiquement compil√©. <br><br>  Par cons√©quent, la structure des catalogues de traduction ressemblera √† ceci: <br><br><pre> <code class="php hljs">locales ‚îú‚îÄ‚îÄ en ‚îÇ ‚îî‚îÄ‚îÄ LC_MESSAGES ‚îÇ ‚îú‚îÄ‚îÄ base.mo ‚îÇ ‚îî‚îÄ‚îÄ base.po ‚îú‚îÄ‚îÄ ru ‚îÇ ‚îî‚îÄ‚îÄ LC_MESSAGES ‚îÇ ‚îú‚îÄ‚îÄ base.mo ‚îÇ ‚îî‚îÄ‚îÄ base.po ‚îî‚îÄ‚îÄ messages.pot</code> </pre> <br><br>  <b>Convention sur les noms de marqueurs de traduction</b> <br><br>  Les fichiers po contiennent des traductions de texte et sont logiquement combin√©s dans un fichier avec un nom commun.  Ces groupes sont appel√©s domaines.  Dans l'exemple ci-dessus, il n'y a qu'un seul domaine nomm√© base.  Dans les grandes applications, il y aura plus de domaines et les listes de traduction doivent √™tre √©crites en tenant compte de la structure de l'application. <br><br>  La coh√©rence des noms des marqueurs de traduction doit √™tre maintenue pour √©viter toute confusion suppl√©mentaire dans les traductions.  Par exemple, nous avons un formulaire avec la sauvegarde des donn√©es utilisateur sur la page de profil utilisateur: <br><br>  <i>profile.user_form.component.title: Donn√©es utilisateur</i> <i><br></i>  <i>profile.user_form.component.save: Enregistrer</i> <i><br></i>  <i>profile.user_form.field.username: Nom d'utilisateur</i> <i><br></i>  <i>profile.user_form.field.password: mot de passe</i> <i><br></i> <br><br>  <b>D√©ploiement d'applications</b> <br><br>  Pour d√©ployer et d√©ployer l'application dans Docker, vous devez compiler les fichiers de traduction dans des fichiers binaires * .mo √† l'aide de la commande suivante: <br><br><pre> <code class="php hljs">$ python setup.py compile_catalog --domain &lt;&gt;</code> </pre> <br>  Nous vous recommandons d'exclure les fichiers * .mo et * .pot dans .gitignore: <br><br>  <i># Traductions</i> <i><br></i>  <i>* .mo</i> <i><br></i>  <i>* .pot</i> <br><br><h3>  2. Traduction des donn√©es dans les moteurs de mod√®les </h3><br>  Avec la localisation dans les mod√®les, tout est un peu plus facile.  Consid√©rez le moteur de mod√®le de python le plus populaire - jinja.  Pour ce moteur de mod√®le, la prise en charge de la localisation de gettext via des modules compl√©mentaires est d√©j√† impl√©ment√©e.  Pour activer le module compl√©mentaire, vous devez sp√©cifier le chemin d'acc√®s au module compl√©mentaire dans le constructeur d'environnement.  Pour les plateformes multilingues, vous devez t√©l√©charger les traductions une fois et ajouter des objets de traduction √† l'objet Environnement lors de l'initialisation de l'application: <br><br><pre> <code class="php hljs">translations = get_gettext_translations() env = Environment(extensions=[<span class="hljs-string"><span class="hljs-string">'jinja2.ext.i18n'</span></span>]) env.install_gettext_translations(translations)</code> </pre><br>  Ensuite, dans les mod√®les, nous utilisons simplement les constructions: <br><br><pre> <code class="php hljs">{{ gettext(<span class="hljs-string"><span class="hljs-string">'some_text'</span></span>) }} {{ gettext(<span class="hljs-string"><span class="hljs-string">'Hello %(name)s!'</span></span>)|format(name=<span class="hljs-string"><span class="hljs-string">'World'</span></span>) }}</code> </pre> <br><h3>  3. Traduction des donn√©es stock√©es dans la base de donn√©es </h3><br>  Examinons les options pour travailler avec des traductions dans les bases de donn√©es relationnelles les plus courantes.  Il convient de noter que la mise en ≈ìuvre des traductions et de la localisation pour les bases de donn√©es noSQL et newSQL est similaire. <br><br>  <i>Remarque:</i> nous ne consid√©rerons pas le cas lorsque la traduction de chaque langue est stock√©e dans une colonne distincte.  Une telle impl√©mentation implique des limitations de mise √† l'√©chelle et d'autres risques avec un support d'application suppl√©mentaire. <br><br><h4>  1) Lignes distinctes pour chaque langue </h4><br>  Avec cette approche, pour chaque langue, la traduction dans une langue sp√©cifique dans les lignes est bas√©e sur la valeur de la colonne, par exemple code_langue.  Si la valeur en est dans cette colonne, toutes les valeurs traduites doivent se r√©f√©rer au pays et √† la r√©gion donn√©s. <br><br><img src="https://habrastorage.org/webt/di/vv/b_/divvb_ulaekslblbgv98taqsncg.png"><br><br>  Pour le sch√©ma d√©crit, les donn√©es du tableau doivent ressembler √† ceci: <br><br><img src="https://habrastorage.org/webt/ds/kx/cx/dskxcx_ffmnvcv97yus9d10q_bq.png"><br><br>  <b>Avantages:</b> <br><br><ul><li>  Impl√©mentation simple et efficace. </li><li>  Requ√™tes simples lors de l'utilisation d'un code de langue sp√©cifique. </li></ul><br><br>  <b>Inconv√©nient:</b> <br><ul><li>  Manque de centralisation </li></ul><br>  Les traductions dans diff√©rentes langues peuvent √™tre stock√©es dans diff√©rentes tables.  Ainsi, vous ne savez pas combien de langues votre application est enti√®rement traduite. <br><br>  Cette solution convient aux applications qui ne n√©cessitent pas initialement une internationalisation compl√®te de toutes les donn√©es.  Mais il est possible d'ajouter des traductions pour de nouvelles r√©gions √† mesure que l'entreprise se d√©veloppe. <br><br>  La demande de donn√©es sera la suivante: <br><br><pre> <code class="php hljs">SELECT p.product_name, p.price, p.description FROM product p WHERE p.language_code = @language_code;</code> </pre> <br><h3>  2) Tableaux s√©par√©s avec traductions </h3><br>  Dans cette approche, pour chaque table n√©cessitant une localisation, nous cr√©ons des tables avec des traductions. <br><br><img src="https://habrastorage.org/webt/yr/_i/ro/yr_iror7tyoqltdgao6fua4ambo.png"><br><br>  <b>Avantages:</b> <br><br><ul><li>  Il n'est pas n√©cessaire de joindre des tables pour les donn√©es non traduites. </li><li>  Les requ√™tes deviennent faciles car il existe des tables s√©par√©es pour la traduction. </li><li>  Il n'y a aucun √©cart dans les donn√©es. </li><li>  En plus des traductions, il est possible de localiser efficacement le reste des donn√©es dans la table des langues. </li></ul><br>  <b>Inconv√©nient:</b> <br><br><ul><li>  Dans les grandes applications, la table de traduction est gonfl√©e et ralentit.  Lors de l'optimisation de l'application, il sera n√©cessaire d'impl√©menter la migration des donn√©es sur des tables distinctes. </li></ul><br>  La demande de donn√©es sera la suivante: <br><br><pre> <code class="php hljs">SELECT tp.text, p.price, tc.text, c.contact_name FROM order_line o, product p, customer c, translation tp, translation tc, language l WHERE o.product_id = p.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> o.customer_id = c.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> p.name_translation_id = tp.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> c.name_translation_id = tc.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tp.language_id = l.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tc.language_id = l.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> l.name = @language_code <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> o.id = ***;</code> </pre> <br><h4>  3) Cr√©ation d'entit√©s pour les champs traduits et non traduits </h4><br>  Dans cette solution, les tables d'entit√© qui contiennent un ou plusieurs champs traduits d√©veloppent les donn√©es avec des champs non traduits. <br><br><img src="https://habrastorage.org/webt/ox/vv/dw/oxvvdwlufgyhcks2akl7vf5-mqk.png"><br><br>  <b>Avantages:</b> <br><br><ul><li>  Il n'est pas n√©cessaire de combiner des tables de traduction avec des tables contenant des donn√©es qui ne n√©cessitent pas de traduction.  Par cons√©quent, l'√©chantillonnage de ces donn√©es aura de meilleures performances, </li><li>  Il est facile d'√©crire des requ√™tes ORM, </li><li>  Une simple requ√™te SQL pour obtenir le texte traduit, </li><li>  Il est facile de prendre en charge la traduction de certaines donn√©es dans toutes les langues disponibles. </li></ul><br>  <b>Inconv√©nient:</b> <br><br><ul><li>  La relative complexit√© de la mise en ≈ìuvre. </li></ul><br>  Voici un exemple de requ√™te qui r√©cup√©rera le texte traduit: <br><br><pre> <code class="php hljs">SELECT pt.product_name, pt.description, p.price FROM order_line o, product p, product_translation pt, language l WHERE o.product_id = p.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> p.id = pt.product_non_trans_id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> pt.language_id = l.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> l.name = @language_code;</code> </pre><br><h2>  Conclusions </h2><br>  Lors de la localisation et de l'internationalisation d'applications pour le march√© international, diff√©rentes m√©thodes peuvent √™tre utilis√©es, chacune ayant certaines caract√©ristiques et limitations. <br><br>  Dans cet article, nous avons examin√© les types d'internationalisation suivants: <br><br><ul><li>  <b>dans le code: nous</b> utilisons des traductions lors de la cr√©ation d'un service ou d'une application avec gui; </li><li>  <b>dans les mod√®les: nous</b> utilisons lors du d√©veloppement d'une application web sans interface dynamique; </li><li>  <b>dans la base de donn√©es: √†</b> utiliser lors du stockage de donn√©es utilisateur ou g√©n√©r√©es dynamiquement. </li></ul><br>  Nous esp√©rons que notre article vous aidera √† choisir la m√©thode la plus adapt√©e √† votre projet. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr479738/">https://habr.com/ru/post/fr479738/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr479724/index.html">Les pirates informatiques sont termin√©s</a></li>
<li><a href="../fr479726/index.html">Vladimir aka wowik: ¬´OpenStreetMap a besoin d'id√©es irr√©alisables dans d'autres syst√®mes¬ª</a></li>
<li><a href="../fr479728/index.html">Comment organiser une startup r√©ussie?</a></li>
<li><a href="../fr479732/index.html">Arr√™tez d'√©mettre autre chose comme une fuite de m√©moire</a></li>
<li><a href="../fr479736/index.html">Appareils photo ou lasers</a></li>
<li><a href="../fr479742/index.html">Backyards - un maillage de services automatis√© au-dessus d'une infrastructure multicloud et hybride</a></li>
<li><a href="../fr479744/index.html">Gestion de la m√©moire Python: un peu sur la fragmentation de la m√©moire</a></li>
<li><a href="../fr479746/index.html">Le logiciel d'entreprise rend vos employ√©s plus cool. En avez-vous besoin?</a></li>
<li><a href="../fr479748/index.html">GoLand 2019.3 avec des performances am√©lior√©es, une prise en charge am√©lior√©e des modules Go et plus</a></li>
<li><a href="../fr479750/index.html">2. Mise en route de Fortinet v 6.0. Architecture de la solution</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>