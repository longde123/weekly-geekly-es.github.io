<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äçüéì ü§πüèø üåñ Kryptographie in einfacher Sprache: Wir analysieren die symmetrische und asymmetrische Verschl√ºsselung am Beispiel des Star Wars-Diagramms (aktualisiert). ‚õπüèª ‚ôÇÔ∏è üîú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo an alle Leser von Habr! Vor nicht allzu langer Zeit habe ich mich mit Verschl√ºsselungsalgorithmen und den Prinzipien der elektronischen Signatur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kryptographie in einfacher Sprache: Wir analysieren die symmetrische und asymmetrische Verschl√ºsselung am Beispiel des Star Wars-Diagramms (aktualisiert).</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452042/"> Hallo an alle Leser von Habr!  Vor nicht allzu langer Zeit habe ich mich mit Verschl√ºsselungsalgorithmen und den Prinzipien der elektronischen Signatur befasst.  Das Thema ist meiner Meinung nach interessant und relevant.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">W√§hrend</a> des Studiums habe ich mehrere Bibliotheken ausprobiert, aber die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PyCrypto-</a> Bibliothek ist aus meiner Sicht die bequemste.  Sie hat eine ausgezeichnete Dokumentation, begleitet von Beispielen. <br><br><img src="https://habrastorage.org/webt/66/he/oz/66heoz7zb5m8gxup9igsegwjlog.png" alt="Bild"><br><br>  <b>Nach dem Lesen des Materials lernen Sie die folgenden Punkte:</b> <br><br><ol><li>  Was ist Verschl√ºsselung? </li><li>  Was ist der Unterschied zwischen symmetrischer und asymmetrischer Verschl√ºsselung? </li><li>  In diesem Fall ist es effizienter, symmetrische und asymmetrische Verschl√ºsselung zu verwenden. </li><li>  Was ist ein Daten-Hash und warum wird er bei der Verschl√ºsselung verwendet? </li></ol><br>  Die Relevanz des Themas w√§chst stetig.  Die Verwendung von Kryptographie war lange Zeit nicht auf die Verschl√ºsselung von Informationen beschr√§nkt.  In der einen oder anderen Form verwenden wir jeden Tag Verschl√ºsselungsalgorithmen, wenn wir Websites √ºber das HTTPS-Protokoll besuchen, Eink√§ufe mit einer Kreditkarte t√§tigen und in Instant Messenger kommunizieren.  In den letzten Jahren haben Blockchain-Technologien, die ebenfalls auf Kryptographie basieren, gro√üe Aufmerksamkeit auf sich gezogen. <br><br>  Der Zweck dieses Artikels ist es, den Leser in grundlegende Verschl√ºsselungsalgorithmen einzuf√ºhren.  Beim Schreiben eines Artikels habe ich versucht, dem Thema praktische Anwendung so viel Aufmerksamkeit wie m√∂glich zu widmen.  F√ºr die Programmierung wurde Python 3.6 verwendet.  Beim Schreiben von Code habe ich versucht, ihn in separate Teile zu unterteilen und alle wichtigen Punkte zu kommentieren. <br><a name="habracut"></a><br>  In diesem Artikel habe ich die digitale Signatur nicht analysiert, aber nachdem ich die asymmetrische Verschl√ºsselung verstanden habe, wird die Bedeutung dieser Technologie klar. <br><br><h3>  Handlung </h3><br>  Lassen Sie uns vor den Ereignissen von Episode 6 mental in das Star Wars-Universum reisen, wenn die Widerstandskr√§fte den Beginn des Baus eines neuen Todessterns bemerken.  Das Kommando plant die Einf√ºhrung einer Geheimdienstgruppe unter dem Deckmantel von Bauherren.  Die Operation ist sehr gef√§hrlich, die Kommunikation mit der Zentrale wird schwierig.  Im Notfall kann jedes Mitglied der Gruppe ungesch√ºtzt Nachrichten vom Hauptquartier senden und empfangen. <br><br>  Der Zweck der Aufkl√§rungsgruppe sind alle Daten, die Aufschluss √ºber die Konfiguration, die Waffen und den Zweck der zuk√ºnftigen Station geben k√∂nnen.  Zur Speicherung von Daten ist die Entwicklung spezieller Ger√§te und Software geplant. <br><br>  <b>Das Hauptquartier genehmigte zwei Optionen f√ºr diese Operation:</b> <br><br>  Plan A - R√ºckkehr von Agenten mit gegebenen Rebellenkr√§ften; <br>  Plan B - Fern√ºbertragung von Pl√§nen vom Todesstern selbst unter Verwendung von Stationsausr√ºstung.  <i>Die √úbertragung von Informationen erfolgt schnell, aber nach der √úbertragung wird der Agent h√∂chstwahrscheinlich berechnet und abgefangen.</i> <br><br><div class="spoiler">  <b class="spoiler_title">Schema</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/cv/xz/or/cvxzormscazwyzscn90hvzrdmqq.png" alt="Bild"><br></div></div><br>  Sie sind Programmierer in einem Team, das f√ºr die Softwareentwicklung verantwortlich ist. <br><br>  <b>Bei der Planung einer Operation werden mehrere m√∂gliche negative Szenarien ber√ºcksichtigt:</b> <br><br><ul><li>  Der Feind wird das Signal abfangen, seinen Inhalt √ºber die Planung des Angriffs verstehen und das Objekt n√§her an die dem Imperium loyalen Kr√§fte f√ºhren.  In diesem Fall sind die Verluste unter dem Widerstand h√∂her; </li><li>  Einer der Spione wird gefasst und enth√ºllt w√§hrend des Verh√∂rs den Operationsplan, der zum Kompromiss bei den Verschl√ºsselungsschl√ºsseln f√ºhren kann (wir werden weiter unten darauf eingehen). </li><li>  Ein Spion mit heruntergeladenen Daten kann von imperialen Kr√§ften abgefangen werden, die √Ñnderungen am Inhalt vornehmen und den Widerstand √ºber die Schw√§chen der Station falsch informieren.  In diesem Fall wird die Rebellenflotte w√§hrend des Angriffs in eine falsche Richtung geschickt und nach und nach zerst√∂rt. </li></ul><br>  <b>Aus diesen Szenarien werden die Aufgaben formuliert:</b> <br><br><ol><li>  Der Inhalt muss sicher verschl√ºsselt und vor √Ñnderungen gesch√ºtzt sein. </li><li>  Im Falle des Verlusts von Verschl√ºsselungsschl√ºsseln oder ihrer Gef√§hrdung sollte es m√∂glich sein, neue Verschl√ºsselungsschl√ºssel mit einer Frequenz aus der Ferne zu erhalten, auf die der Gegner zugreifen kann. </li></ol><br><h4>  Informationsverschl√ºsselung </h4><br>  L√∂sen wir das Problem der Informationsverschl√ºsselung: <br><br>  Ein Verschl√ºsselungsschl√ºssel wird zum Ver- und Entschl√ºsseln von Informationen verwendet.  Es ist der Schl√ºssel, der die Verschl√ºsselung umkehrbar macht.  Jeder Agent erh√§lt einen Verschl√ºsselungsschl√ºssel.  Nach dem Herunterladen der Daten verschl√ºsselt der Agent sie und sendet sie an das Hauptquartier des Widerstands. <br><br><div class="spoiler">  <b class="spoiler_title">Beschreibung des Verschl√ºsselungsprinzips</b> <div class="spoiler_text">  Die Methode, mit der die Nachricht mit einem einzigen Schl√ºssel verschl√ºsselt und entschl√ºsselt wird, wird als <i>symmetrische Verschl√ºsselung bezeichnet</i> . <br><br><img src="https://habrastorage.org/webt/or/pn/ar/orpnarkw6jyoz-vdtqwwf7ap4vi.png" alt="Bild"><br><br>  Der Schwachpunkt der symmetrischen Verschl√ºsselung ist der Verschl√ºsselungsschl√ºssel bzw. dessen √úbermittlung an den Adressaten.  Wenn der Schl√ºssel w√§hrend der Zustellung kompromittiert wird, kann ein Dritter die Nachricht leicht entschl√ºsseln.  Die St√§rke der symmetrischen Verschl√ºsselung liegt in ihrer Geschwindigkeit, die es erm√∂glicht, gro√üe Datenmengen zu codieren. <br><br>  <i>Bei der asymmetrischen Verschl√ºsselung</i> werden zwei miteinander verbundene Schl√ºssel verwendet: √∂ffentlich und privat. <br><br><img src="https://habrastorage.org/webt/vg/bo/i3/vgboi3dy5tbj3tbta36ul-ybdau.png" alt="Bild"><br><br>  <b>Der Wirkungsmechanismus ist wie folgt:</b> <br><br><ol><li>  Der Adressat sendet den OPEN-Schl√ºssel an den Absender. </li><li>  Der Absender codiert die Nachricht mit dem empfangenen √∂ffentlichen Schl√ºssel.  Gleichzeitig kann die Nachricht nur noch mit dem privaten Schl√ºssel dekodiert werden. </li><li>  Nach Erhalt der verschl√ºsselten Nachricht dekodiert der Empf√§nger sie mit dem CLOSED-Schl√ºssel (der zusammen mit der √ñffentlichkeit generiert wurde). </li></ol><br></div></div><br>  Beginnen wir mit der Programmierung!  Um die erforderliche Software zu entwickeln, verwenden wir die Python-Bibliothek namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pycrypto</a> .  Sie verf√ºgt √ºber eine hervorragende Dokumentation und pr√§sentiert alle g√§ngigen Verschl√ºsselungsalgorithmen. <br><br>  Zun√§chst entwickeln wir eine Funktion f√ºr die symmetrische Verschl√ºsselung mit dem Namen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Advanced Encryption Standard (AES)</a> .  Es ist einer der h√§ufigsten symmetrischen Verschl√ºsselungsalgorithmen. <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Crypto.Cipher <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AES <span class="hljs-comment"><span class="hljs-comment">#   from Crypto.Hash import SHA256 #        SHA. from Crypto.Hash import MD5 #            32  from Crypto import Random def transform_password(password_str): """Transform the password string into 32 bit MD5 hash :param password_str: &lt;str&gt; password in plain text; :return: &lt;str&gt; Transformed password fixed length """ h = MD5.new() h.update(key.encode()) return h.hexdigest() def symmetric_encrypt(message, key, verbose = True): """Encripts the message using symmetric AES algorythm. :param message: &lt;str&gt; Message for encryption; :param key: &lt;object&gt; symmetric key; :return: &lt;object&gt; Message encrypted with key """ key_MD5 = transform_password(key) #      32  message_hash = SHA256.new(message.encode()) message_with_hash = message.encode() + message_hash.hexdigest().encode() #     .      iv = Random.new().read(AES.block_size) cipher = AES.new(key_MD5, AES.MODE_CFB, iv) #     . AES.MODE_CFB -   ,      iv. https://www.dlitz.net/software/pycrypto/api/current/Crypto.Cipher.blockalgo-module.html#MODE_CFB encrypted_message = iv + cipher.encrypt(message_with_hash) #       .  ,       ,       . if verbose: print(f'Message was encrypted into: {encrypted_message.hex()}') return encrypted_message def symmetric_decrypt(encr_message, key): """Decripts the message using private_key and check it's hash :param encrypted_message: &lt;object&gt; Encrypted message :param key: &lt;object&gt; symmetric key; :return: &lt;object&gt; Message decripted with key """ key_MD5 = transform_password(key) #   ,      bsize = AES.block_size dsize = SHA256.digest_size*2 iv = Random.new().read(bsize) cipher = AES.new(key_MD5, AES.MODE_CFB, iv) decrypted_message_with_hesh = cipher.decrypt(encr_message)[bsize:] #     ,      decrypted_message = decrypted_message_with_hesh[:-dsize] #   ,      digest = SHA256.new(decrypted_message).hexdigest() #    .     ,     . if digest==decrypted_message_with_hesh[-dsize:].decode(): #      ,      ,   print(f"Success!\nEncrypted hash is {decrypted_message_with_hesh[-dsize:].decode()}\nDecrypted hash is {digest}") return decrypted_message.decode() else: print(f"Encryption was not correct: the hash of decripted message doesn't match with encrypted hash\nEncrypted hash is {decrypted_message_with_hesh[-dsize:]}\nDecrypted hash is {digest}")</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Lassen Sie uns die Leistung des Codes anhand eines Beispiels √ºberpr√ºfen</b> <div class="spoiler_text"><pre> <code class="python hljs">message = <span class="hljs-string"><span class="hljs-string">"""  120   120  / 120   10     30-5 (2)    4.0 """</span></span> key = <span class="hljs-string"><span class="hljs-string">'Traveling through hyperspace ain'</span></span>t like dusting crops, farm boy.<span class="hljs-string"><span class="hljs-string">' encr_message = symmetric_encrypt(message, key, verbose = True) print('</span></span>\n<span class="hljs-string"><span class="hljs-string">') print('</span></span>DECRIPTION<span class="hljs-string"><span class="hljs-string">') decr_message = symmetric_decrypt(encr_message, key) print(decr_message)</span></span></code> </pre><br><pre> <code class="plaintext hljs">Message was encrypted into: ed10e4c65358bb9e351c801c3b3200b21fa86a24021c317bb5c9d8b3f76bdf9f3a7d26781a22402f0e4f41ca831b6d2da9e1e6878c34c79ddc7959af3ae9fc2ba0cfff1c0180a7e0f637f1aa5b24507d552d5dfe7625e7b81d817b5882b2b19bb95f3988a03c78f850098dfc8e6089863deaa39b887eaea4c1d4ba006edaec90205d54b27ed4ac70ed75cdd01732e1176bf04218beb8ae742ff708a201a9d1cb57dd5f2e70dc3239208d23705f7a3aae3e315c4df6d73c871b66c4995cce5f19738f731cd58755d21ed92612c44197f875cddf3f7aa1d60e435ce1492679b9d60c4b8538f52408f321711ac1d2daa6dbbc33dc655abca10e2f5fd3ff27823995b9dcdb62c0bafc1963ab539ccb466f1c140479df34b0005f578f72fcdd76b17391332037b801f74f733a08 DECRIPTION Success! Encrypted hash is b0dbb35b28fbff258350a50c39282b73e31f408c9da937c81d8d48115b491026 Decrypted hash is b0dbb35b28fbff258350a50c39282b73e31f408c9da937c81d8d48115b491026  120   120  / 120   10     30-5 (2)    4.0</code> Die <code class="plaintext hljs">Message was encrypted into: ed10e4c65358bb9e351c801c3b3200b21fa86a24021c317bb5c9d8b3f76bdf9f3a7d26781a22402f0e4f41ca831b6d2da9e1e6878c34c79ddc7959af3ae9fc2ba0cfff1c0180a7e0f637f1aa5b24507d552d5dfe7625e7b81d817b5882b2b19bb95f3988a03c78f850098dfc8e6089863deaa39b887eaea4c1d4ba006edaec90205d54b27ed4ac70ed75cdd01732e1176bf04218beb8ae742ff708a201a9d1cb57dd5f2e70dc3239208d23705f7a3aae3e315c4df6d73c871b66c4995cce5f19738f731cd58755d21ed92612c44197f875cddf3f7aa1d60e435ce1492679b9d60c4b8538f52408f321711ac1d2daa6dbbc33dc655abca10e2f5fd3ff27823995b9dcdb62c0bafc1963ab539ccb466f1c140479df34b0005f578f72fcdd76b17391332037b801f74f733a08 DECRIPTION Success! Encrypted hash is b0dbb35b28fbff258350a50c39282b73e31f408c9da937c81d8d48115b491026 Decrypted hash is b0dbb35b28fbff258350a50c39282b73e31f408c9da937c81d8d48115b491026  120   120  / 120   10     30-5 (2)    4.0</code> </pre><br></div></div><br>  <i>Wie Sie sehen, haben wir die Nachricht erfolgreich mit dem √∂ffentlichen Schl√ºssel verschl√ºsselt.</i> <i><br></i>  <i>F√ºhren Sie den Code mehrmals aus.</i>  <i>Sie werden sehen, dass sich das verschl√ºsselte Teil jedes Mal √§ndert.</i>  <i>Dies liegt daran, dass wir beim Verschl√ºsseln den Cipher FeedBack-Modus (AES.MODECFB) verwendet haben, bei dem die Klartextbl√∂cke mit den Chiffretextbl√∂cken gemischt werden.</i>  <i>iv - Initialisierungsvektor (lesen Sie hier mehr √ºber den Modus).</i>  <i>Beim Entschl√ºsseln der Nachricht sehen wir, dass der Hash der entschl√ºsselten Nachricht mit dem Hash √ºbereinstimmt, den wir w√§hrend der Verschl√ºsselung hinzugef√ºgt haben.</i>  <i>Dies bedeutet, dass die Entschl√ºsselung korrekt war.</i> <i><br></i> <br><div class="spoiler">  <b class="spoiler_title">Was ist ein Hash?</b> <div class="spoiler_text">  Ein Dokument-Hash ist einfach eine Zeichenfolge, die f√ºr jeden Datensatz eindeutig ist.  Bei jeder Daten√§nderung √§ndert sich der Hash sehr stark.  Mit anderen Worten, ein Hash ist eine Art ‚ÄûFingerabdruck‚Äú f√ºr jeden Datensatz. <br><br><img src="https://habrastorage.org/webt/qn/tf/v3/qntfv3yr0oiaexp1o_jzekwsd1o.png"><br></div></div><br>  Aber was ist, wenn Verschl√ºsselungsschl√ºssel aus irgendeinem Grund kompromittiert werden?  Dann kann jeder die Informationen entschl√ºsseln. <br><br>  In diesem Fall m√ºssen wir die Verschl√ºsselungsschl√ºssel irgendwie aus der Ferne mit einer Frequenz √§ndern, die vom Gegner abgerufen werden kann.  Wir gehen davon aus, dass sie ihr bereits zuh√∂ren.  Wie machen wir das?  Hier hilft eine andere Methode, die asymmetrische Verschl√ºsselung (oder ein kryptografisches System mit √∂ffentlichem Schl√ºssel).  Im Gegensatz zur symmetrischen Verschl√ºsselung werden zwei Schl√ºssel verwendet: √∂ffentlich und privat.  Die Nachricht wird mit dem √∂ffentlichen Schl√ºssel verschl√ºsselt. Danach kann sie nur noch mit dem privaten Schl√ºssel entschl√ºsselt werden.  Der √∂ffentliche Entschl√ºsselungsschl√ºssel ist unbrauchbar.  Es gibt jedoch einen wichtigen Punkt: Der private Schl√ºssel muss auf jeden Fall aus dem generierten √∂ffentlichen Paar stammen.  Das Vorhandensein eines √∂ffentlichen Schl√ºssels ist eine von mehreren wichtigen und interessanten Eigenschaften der asymmetrischen Verschl√ºsselung.  Das hei√üt, wir k√∂nnen den √∂ffentlichen Schl√ºssel √ºber jeden Kanal √ºbertragen und haben keine Angst, dass er zum Entschl√ºsseln der Nachricht verwendet wird. <br><br>  Gleichzeitig gibt es in Bezug auf unsere Aufgabe eine Nuance: Die asymmetrische Verschl√ºsselung eignet sich f√ºr kleine Datenmengen, beispielsweise f√ºr Kurznachrichten.  Wir k√∂nnen nur die Menge an Daten erraten, die durch Intelligenz erhalten werden.  Nat√ºrlich k√∂nnen wir alle empfangenen Daten in kleine Fragmente aufteilen und jedes mit einem privaten Schl√ºssel codieren, aber es gibt eine bessere L√∂sung.  (Das Problem wird hier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">behoben</a> ). <br><br>  <b>L√∂sung</b> <br><br><blockquote>  <i>Der Benutzer Akela_wolf bemerkte zu Recht, dass jeder den √∂ffentlichen Schl√ºssel generieren und senden kann.</i>  <i>Ich habe einige Anpassungen am Plan vorgenommen.</i> <br><br>  Es ist richtig, wenn die Zentrale vor dem Senden von Agenten mehrere Schl√ºsselpaare generiert und jedem Agenten einen privaten Schl√ºssel zuweist.  Es ist besser, nur wenige Paare zu generieren, damit jeder Agent einen eigenen Schl√ºssel hat.  Dies ist erforderlich, um den Besitzer des Schl√ºssels genau zu personifizieren. <br>  Wenn die Schl√ºssel kompromittiert werden, erstellt das Center einen neuen SYMMETRIC-Schl√ºssel, codiert ihn mit √∂ffentlichen Schl√ºsseln an jeden Agenten und sendet ihn √ºber den offenen Kanal. <br><div class="spoiler">  <b class="spoiler_title">Allgemeines L√∂sungsschema</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ge/uk/q3/geukq3vj-o8ab3bkta_i5y-8xsa.png"><br><img src="https://habrastorage.org/webt/5l/sn/fy/5lsnfygzrehgkfjlq6qzon-wbdw.png"><br></div></div><br><br></blockquote><br><br><div class="spoiler">  <b class="spoiler_title">Alte Entscheidung</b> <div class="spoiler_text"><ol><li>  Der Agent generiert ein Schl√ºsselpaar (√∂ffentlich und privat) und sendet dann den √∂ffentlichen Schl√ºssel an die Rebellen. </li><li>  Im Hauptquartier des Widerstands werden sie einen neuen Schl√ºssel f√ºr die SYMMETRISCHE Verschl√ºsselung erstellen. </li><li>  Der symmetrische Schl√ºssel wird mit dem √∂ffentlichen Schl√ºssel codiert, den der Agent gesendet hat. </li><li>  Der verschl√ºsselte symmetrische Schl√ºssel wird an den Agenten gesendet, der ihn mit dem privaten Schl√ºssel dekodiert. </li></ol><br>  <i>Achten Sie auf unsere Show auf dem offenen Kanal:</i> <i><br><br></i> <ol><li>  Der Agent sendet den OPEN-Schl√ºssel vom Paar, der CLOSED-Schl√ºssel befindet sich in seinem Besitz. </li><li>  Die Widerstandszentrale sendet einen symmetrischen Verschl√ºsselungsschl√ºssel, der mit dem vom Agenten gesendeten √∂ffentlichen Schl√ºssel verschl√ºsselt ist. </li></ol><br><br>  Weder die erste noch die zweite Nachricht haben beim Abfangen einen Wert. <br></div></div><br><br>  Schreiben wir den Code: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#          RSA. #        SHA256 from Crypto.PublicKey import RSA #      def generate_keys(bits = 2048): """Generates the pair of private and public keys. :param bits: &lt;int&gt; Key length, or size (in bits) of the RSA modulus (default 2048) :return: &lt;object&gt; private_key, &lt;object&gt; public_key """ private_key = RSA.generate(bits) public_key = private_key.publickey() return private_key, public_key private_key, public_key = generate_keys(bits = 2048)</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Mal sehen, wie die Tasten aussehen.</b> <div class="spoiler_text"><pre> <code class="python hljs">print(private_key.exportKey(format=<span class="hljs-string"><span class="hljs-string">'PEM'</span></span>).decode()) print(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'#'</span></span>*<span class="hljs-number"><span class="hljs-number">65</span></span>) print(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(public_key.exportKey(format=<span class="hljs-string"><span class="hljs-string">'PEM'</span></span>).decode())</code> </pre> <br> <code>-----BEGIN RSA PRIVATE KEY----- <br> MIIEpAIBAAKCAQEA4JDLu7Vtvg2yqbH6Y0eJPfoEsOlKzgmOodqhA1CqkEG4OpKi <br> sGW7ciGP4v37GE6edHBCEy4UNkVQtnpPBjzTHvKd1pO70B84vD5OSrS7uNw2EYkj <br> d/ZwhrJMrcQKRwPkkM4OiewaaAaK0vPWJIKwlW61DY9X7LfNz7aOKMTbKnm1vdR0 <br> 919AV98FUmNoQBgka6nXFGmNbi7D43MtLwxBZIXfFupEiANSvOs+57hgaCho7OWM <br> GUOjLkG6HBscPhJ2W1H5DU9GjwL24ynTvKifgo1/2ue61MV1Pzh5CVaicJKNaRtg <br> Pd99gFhBGINsXV2X6Jh/W5nNsCddU4EI0AlO8wIDAQABAoIBAARM4YnjrIlSK9Sy <br> EtBp40frjMFyhjsx1ahlzmWI2utORt/gRPtJx3AlEmNPZ8qMXt5t8+X4IOz1INmN <br> uAuviH90N++O/q66mlSIgOlPUrT0ipiFXseCUZ9StMMzGNtJSMw5FfAwNEU/stLd <br> VoF2ezkxWIg88XsX/fn3Tfub4XKLvu4raJGcJ+Fo2GI9hYEGKnHhSuHvDHekTLlQ <br> z46O+cIwtehbFGcKesyK3zDD1uP5YLPIWpiqt1TgKjJzRF0l4ZJLk+RT7kU2pGIQ <br> mosOnr+06WyMIg724yQyAIwtS9X0czKBGUESrtTTb1HCXLeTwnncOTxh6q2z42LF <br> tn34+DECgYEA6EEp4oTvjfTQfUQPMByuAjF1hpdFHQqRymygiFgoF+Mg3QmL0w8j <br> /84H/q7s8FSx+3th8MK87bFq4lrry+h/mYwmvF5zZbhxcnl2uaX+KUPgpT6TgvAo <br> WOv2wc4BSaoo9DrxrZId86vpO2qbopw6gkBsvw47HSoQ+FSqXtZ0p8kCgYEA94Zj <br> b1ulctUjybiszO93TAjkzx3lU3yL+B1eZiQXtJa3mgG+ka1R/uMfr0NlT+Jzo0My <br> wHV30YRJDxziCrDol9OgSSU0sXwEcUxUIBLBwXLCp1EmMsYG9PB/x4OTWve35a8F <br> O+rMxuvWaZeIOfVCfL8UEcWweYaVdWIonJN+ltsCgYEAjeSZ2UlMLZce9RjqioNL <br> EA31dlfeoqJ9dYUuAn6RaB6cSk51vWlnnfXazo9CNIYaAsFbkcL3t+QHn+jaXEZc <br> BowocjbmG4Q20zBAB6XRBJbynSIA7yMYE1N9+uOHx+CMisGkO12krOUfZex4zzzR <br> RhhkF8ly9htoKL9ZIv20YXkCgYBzH3UF6PkVZJ5lhtgP5Nx2Z7iLwBrV7ppnBrnO <br> BcFkw6iXH3KT7KmzQ82LxWvMcMVZzLpBGyFkOAOG3OchE9DKNKpa+sv8NHMYguip <br> li+5mneAPFTozoOTznuPvtl9OLO2RuXHTVh6uFub9tdsJW8L+A8MiQagLwE6fDHp <br> SQxaewKBgQDIyzL1THpW3+AMNrOZuI/d3Em5wpGJiZbDSBRosvsfGm/sHaz4Ik5E <br> nWnftgktmsAD60eORTTh9/ww/nm7f3q9kzT8Sv1MmqeRXq9VFIOeP/+8SSE/7LzD <br> izlb5xEtVD8LuY54jHyiOxiZC++TQswMnOKKi0Gx26MDoO7Tx9akVw== <br> -----END RSA PRIVATE KEY----- <br> <br> ################################################################# <br> <br> -----BEGIN PUBLIC KEY----- <br> MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4JDLu7Vtvg2yqbH6Y0eJ <br> PfoEsOlKzgmOodqhA1CqkEG4OpKisGW7ciGP4v37GE6edHBCEy4UNkVQtnpPBjzT <br> HvKd1pO70B84vD5OSrS7uNw2EYkjd/ZwhrJMrcQKRwPkkM4OiewaaAaK0vPWJIKw <br> lW61DY9X7LfNz7aOKMTbKnm1vdR0919AV98FUmNoQBgka6nXFGmNbi7D43MtLwxB <br> ZIXfFupEiANSvOs+57hgaCho7OWMGUOjLkG6HBscPhJ2W1H5DU9GjwL24ynTvKif <br> go1/2ue61MV1Pzh5CVaicJKNaRtgPd99gFhBGINsXV2X6Jh/W5nNsCddU4EI0AlO <br> 8wIDAQAB <br> -----END PUBLIC KEY----- <br></code> <br>  Wie Sie sehen k√∂nnen, sind asymmetrische Verschl√ºsselungsschl√ºssel lange mathematisch erzeugte Zeichenfolgen. <br></div></div><br>  Also haben wir die Schl√ºssel generiert.  Schreiben wir nun eine Funktion zum Codieren von Daten: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Crypto.PublicKey <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RSA <span class="hljs-comment"><span class="hljs-comment">#        RSA. from Crypto.Hash import SHA256 #        SHA256.    #       from Crypto.Cipher import PKCS1_OAEP #   def encrypt_message(message, public_key, verbose = True): """Encripts the message using public_key. :param message: &lt;str&gt; Message for encryption :param public_key: &lt;object&gt; public_key :param verbose: &lt;bool&gt; Print description; :return: &lt;object&gt; Message encrypted with public_key """ message_hash = SHA256.new(message.encode()) #   . cipher = PKCS1_OAEP.new(public_key) message_with_hash = message.encode() + message_hash.hexdigest().encode() #      ,          encrypted_message = cipher.encrypt(message_with_hash) if verbose: print(f'Message: {message} was encrypted to\n{encrypted_message.hex()}') return encrypted_message def decrypt_message(encrypted_message, private_key): """Decripts the message using private_key and check it's hash :param encrypted_message: &lt;object&gt; Encrypted message :param private_key: &lt;object&gt; private_key :return: &lt;object&gt; Message decripted with private_key """ dsize = SHA256.digest_size*2 cipher = PKCS1_OAEP.new(private_key) decrypted_message_with_hesh = cipher.decrypt(encrypted_message) #   (  ) decrypted_message = decrypted_message_with_hesh[:-dsize] #      digest = SHA256.new(decrypted_message).hexdigest() #     if digest==decrypted_message_with_hesh[-dsize:].decode(): #      ,      ,   print(f"Success!\nEncrypted hash is {decrypted_message_with_hesh[-dsize:].decode()}\nDecrypted hash is {digest}") return decrypted_message.decode() else: print(f"Encryption was not correct: the hash of decripted message doesn't match with encrypted hash\nEncrypted hash is {decrypted_message_with_hesh[-dsize:]}\nDecrypted hash is {digest}")</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Workflow-Schritte</b> <div class="spoiler_text"><ol><li>  Der Agent generiert ein Schl√ºsselpaar: <br><pre> <code class="python hljs">private_key, public_key = generate_keys()</code> </pre> <br></li><li>  Sendet den OPEN-Schl√ºssel an das Hauptquartier. </li><li>  Codieren Sie in der Zentrale mit dem √∂ffentlichen Schl√ºssel den Schl√ºssel f√ºr die symmetrische Verschl√ºsselung: <br><pre> <code class="python hljs">new_symmetric_key = <span class="hljs-string"><span class="hljs-string">'SOME_KEY_asdfasdfasdfasdfsdfgrtwhetynt'</span></span> encr_msg = encrypt_message(new_symmetric_key, public_key)</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Fazit</b> <div class="spoiler_text"> <code>Message: SOME_KEY_asdfasdfasdfasdfsdfgrtwhetynt was encrypted to <br> 41e940507c96397e3feb4a53390c982633bb1775a52957996a8069bd22063086a0e831bf775a17909276aba0d0478ee6c953837c8ea5d20d40e1c8eb463aaa1bc5c93c71677b1a85e90439c9dbda8a98ce168acb38368155437c66815b84aa2fbdda0eb909e4e6079b4410c720eddd955ed048193bf87f8f9976a17ee32a58a71dfddf3db116343d949d29c25f72c511a440a50a5d4f1e01c37b24a1cb4127e191d3231328b2f120c7dbd0cb5bf19823f0978b8ed17d25952de4b146ef9724fff359eb2af503fdfd72b91525a5503b076ba9aaaeac55af3f8d210c12d579d45dd70362123c0b4b36ef9c2f7705e6f884a25553eb0e11e5077f11fa986d0ff280</code> <br> </div></div><br></li><li>  Diese lange Sequenz wird an den Agenten zur√ºckgesendet. </li><li>  Der Agent entschl√ºsselt die empfangene Nachricht mit dem privaten Schl√ºssel: <br><pre> <code class="python hljs">recieved_symmetric_key = decrypt_message(encr_msg, private_key) print(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">f"New symmetric key is: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{recieved_symmetric_key}</span></span></span><span class="hljs-string">"</span></span>)</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Fazit</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Success! Encrypted hash is 42ad66445a05ac09e684bb21f9b487d95b9cfa11d02e0b459931321ee02f7c1c Decrypted hash is 42ad66445a05ac09e684bb21f9b487d95b9cfa11d02e0b459931321ee02f7c1c New symmetric key is: SOME_KEY_asdfasdfasdfasdfsdfgrtwhetynt</code> </pre> <br></div></div><br></li><li>  Anschlie√üend verschl√ºsselt der Agent mithilfe eines neuen symmetrischen Schl√ºssels die empfangenen Daten: <br><br><pre> <code class="python hljs">message = <span class="hljs-string"><span class="hljs-string">"""  120   120  / 120   10     30-5 (2)    4.0 """</span></span> encr_message = symmetric_encrypt(message, recieved_symmetric_key, verbose = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Fazit</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Message was encrypted into:</code> </pre><br></div></div><br></li><li>  Das Hauptquartier entschl√ºsselt: <br><pre> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">'DECRIPTION'</span></span>) decr_message = symmetric_decrypt(encr_message, new_symmetric_key) print(decr_message)</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Fazit</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">DECRIPTION Success! Encrypted hash is b0dbb35b28fbff258350a50c39282b73e31f408c9da937c81d8d48115b491026 Decrypted hash is b0dbb35b28fbff258350a50c39282b73e31f408c9da937c81d8d48115b491026  120   120  / 120   10     30-5 (2)    4.0</code> </pre><br></div></div><br></li></ol><br></div></div><br>  <b>Voila!</b> <br><br>  In diesem abstrakten Beispiel haben wir die Arbeit g√§ngiger Verschl√ºsselungsalgorithmen gesehen.  Symmetrische und asymmetrische Verschl√ºsselung sowie Hashing werden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in der Arbeit des Webs</a> , der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">elektronischen Signatur</a> , der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blockchain und der Kryptow√§hrungen verwendet</a> .  Ich hoffe, das Material war hilfreich, um die Funktionsweise dieser Technologien zu verstehen. <br><br><h3>  Nachwort </h3><br>  Infolgedessen gelang es dem Geheimdienst der Rebellen, genaue Informationen √ºber die Verwundbarkeit der Station und den Weg dorthin, die Anwesenheit des Kaisers zur Inspektion, die Anwesenheit eines Energieschilds und seiner Quelle auf Endor zu erhalten.  Das Imperium entdeckte die Spione und informierte sie falsch √ºber die Kampfkraft der Station.  Die Station wurde auch dem Satelliten von Endor zugeordnet, von wo aus sie durch einen Schild gesch√ºtzt war. <br><br><div class="spoiler">  <b class="spoiler_title">Aber wir wissen, wie alles endete;)</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de452042/">https://habr.com/ru/post/de452042/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de452030/index.html">Internet-Verlauf: Interaktivit√§t entdecken</a></li>
<li><a href="../de452034/index.html">Selbstkontrolle der Zeit f√ºr Selbstbildung und Zeit f√ºr das Lesen von B√ºchern</a></li>
<li><a href="../de452036/index.html">Software Defined Radio - wie funktioniert es? Teil 2</a></li>
<li><a href="../de452038/index.html">Gef√§hrlicher Deal</a></li>
<li><a href="../de452040/index.html">Tunguska-Meteorit und seine j√ºngeren Br√ºder</a></li>
<li><a href="../de452046/index.html">Fernbedienung mit niedrigem Ruhestrom am ATmega328P</a></li>
<li><a href="../de452052/index.html">Wie wir die Kosten f√ºr eine Einf√ºhrungsstunde halbiert haben, indem wir uns eine L√∂sung von Fluggesellschaften angesehen haben</a></li>
<li><a href="../de452054/index.html">Warum WhatsApp niemals sicher sein wird</a></li>
<li><a href="../de452056/index.html">Golang DevDay: 31. Mai, Nowosibirsk + Sendung</a></li>
<li><a href="../de452060/index.html">Information Hope Pr√§dikate</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>