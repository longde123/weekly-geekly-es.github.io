<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üññüèª üê∑ ü§üüèΩ 10 Schritte zu einem erfolgreichen Python-Projekt üëÉ üî¥ ‚ôÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Material, dessen √úbersetzung wir heute ver√∂ffentlichen, ist Tools gewidmet, mit denen Python-Projekte mit Tools zur Code-Formatierung, zum Testen,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>10 Schritte zu einem erfolgreichen Python-Projekt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/444344/">  Das Material, dessen √úbersetzung wir heute ver√∂ffentlichen, ist Tools gewidmet, mit denen Python-Projekte mit Tools zur Code-Formatierung, zum Testen, zur kontinuierlichen Integration und zur Abh√§ngigkeitsanalyse ausgestattet werden k√∂nnen.  Dies beschleunigt den Entwicklungsprozess und verbessert die Qualit√§t, Einheitlichkeit und Sicherheit des Codes.  Es wird davon ausgegangen, dass der Leser dieses Materials bereits Erfahrung in der Python-Entwicklung und in einem Python-Projekt hat, mit dem er beim Lesen experimentieren wird.  Wenn Sie kein solches Projekt haben, erfahren Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> , wie Sie eine Entwicklungsumgebung vorbereiten und ein Python-Paket erstellen.  Die hier aufgef√ºhrten Beispiele werden mit macOS und Python 3.7 erstellt. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/nn/pf/ir/nnpfirpitm1blak2m4jfuludveo.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Schritt 1. Schwarz installieren</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/00e/346/c01/00e346c01d193e87d70225c59cd191c3.png"></div><br>  Der Projektcode muss den Konventionen des Codestils entsprechen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schwarz</a> ist ein Python-Paket, das den Code automatisch formatiert und sein Erscheinungsbild dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PEP 8-</a> Standard entspricht.  Schwarz ist ein relativ neues Projekt, aber es hat bereits √ºber eine Million Downloads erhalten.  Seine Verwendung wurde schnell zu einem Zeichen f√ºr guten Geschmack in der Python-Entwicklung.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier</a> ist das Black-Handbuch. <br><br>  Ich verwende als Code-Editor Atom und habe Atom das <code>Python-Black</code> Paket hinzugef√ºgt.  Hier erfahren Sie, wie Sie es installieren.  Nach der Installation dieses Pakets formatiert Atom den Code nach dem Speichern der Datei neu. <br><br>  W√§hrend wir √ºber Schwarz sprechen, statten wir dieses Tool mit der Entwicklungsumgebung derer aus, die mit uns an dem Projekt arbeiten.  Infolgedessen verwendet jeder, der an dem Projekt arbeitet, dieselben Code-Formatierungsregeln, andernfalls werden seine Pull-Anforderungen nicht akzeptiert. <br><br>  F√ºgen Sie den <code>black==18.9b0</code> zur ersten gefundenen freien Zeile der Datei " <code>black==18.9b0</code> und f√ºhren Sie den Befehl " <code>install -r requirements_dev.txt</code> <code>black==18.9b0</code> . <br><br>  Schwarz legt die L√§nge der Codezeile standardm√§√üig auf 88 Zeichen fest.  Einige Styleguides wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sphinx</a> erfordern eine Zeichenfolgenl√§nge von 79 Zeichen.  In den Einstellungen des <code>Black-Atom</code> Pakets k√∂nnen Sie die gew√ºnschte Zeilenl√§nge einstellen. <br><br>  Nachdem wir nun ein Tool haben, mit dem Sie Zeit bei der Code-Formatierung sparen k√∂nnen, werden wir uns √ºberlegen, wie Sie das Senden von Code an PyPI beschleunigen und vereinfachen k√∂nnen. <br><br><h2>  <font color="#3AC1EF">Schritt 2. Erstellen der .pypirc-Datei</font> </h2><br>  Wenn mit Twine Anwendungsassemblys an TestPyPI und PyPI gesendet werden, m√ºssen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie</a> die Anmeldeinformationen manuell eingeben.  Wenn Sie mit Garn nicht vertraut sind, schauen Sie sich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> Material an.  Jetzt werden wir diesen Prozess automatisieren. <br><br>  Twine kann mit der <code>.pypirc</code> Datei arbeiten, die sich in unserem Home-Verzeichnis befinden sollte.  Dieses Tool entl√§dt beim Entladen von Daten eine URL, einen Benutzernamen und ein Kennwort aus einer bestimmten Datei. <br><br>  Erstellen Sie also eine <code>.pypirc</code> Datei in Ihrem Home-Verzeichnis: <br><br><pre> <code class="python hljs">touch ~/.pypirc</code> </pre> <br>  F√ºgen Sie den folgenden Text hinzu: <br><br><pre> <code class="python hljs">[distutils] index-servers =   pypi   testpypi [testpypi] repository: https://test.pypi.org/legacy username = your_username password = your_pypitest_password [pypi] username = your_username password = your_pypi_password</code> </pre> <br>  Es ist klar, dass Sie hier Ihren echten Benutzernamen und Ihr Passwort eingeben m√ºssen.  √úberpr√ºfen Sie au√üerdem, ob diese Datei im Ausgangsverzeichnis und nicht im aktuellen Arbeitsverzeichnis gespeichert ist.  Wenn Sie diese Datei vor anderen Benutzern sch√ºtzen m√∂chten, k√∂nnen Sie mithilfe der Befehlszeilentools ihre Berechtigungen konfigurieren: <br><br><pre> <code class="python hljs">chmod <span class="hljs-number"><span class="hljs-number">600</span></span> ~/.pypirc</code> </pre> <br>  Jetzt kann Ihr Paket mit dem folgenden Befehl in TestPyPI geladen werden: <br><br><pre> <code class="python hljs">twine upload -r testpypi dist/*</code> </pre> <br>  In normalem PyPI k√∂nnen Sie Pakete wie folgt laden: <br><br><pre> <code class="python hljs">twine upload dist/*</code> </pre> <br>  Nachdem Sie die <code>.pypirc</code> Datei erhalten haben, m√ºssen Sie Ihren Benutzernamen und Ihr Passwort nicht mehr manuell eingeben. <br><br>  F√ºgen wir nun unserer Entwicklungsumgebung Testtools hinzu, mit denen wir den korrekten Betrieb des von uns erstellten Pakets √ºberpr√ºfen k√∂nnen. <br><br><h2>  <font color="#3AC1EF">Schritt 3. Installieren und konfigurieren Sie pytest</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/561/860/645/561860645caff54bbde0e568e9d319ab.jpg"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pytest</a> ist die beliebteste und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">benutzerfreundlichste</a> Bibliothek zum Testen von in Python geschriebenem Code.  In diesem Beispiel f√ºgen wir dem Projekt einfache Tests hinzu.  Wenn Sie sich f√ºr die Details von pytest interessieren, finden Sie hier eine gute Einf√ºhrung in dieses Tool. <br><br>  F√ºgen Sie pytest details zu require_dev.txt hinzu: <br><br><pre> <code class="python hljs">pytest==<span class="hljs-number"><span class="hljs-number">4.3</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  Lassen Sie uns das Paket installieren: <br><br><pre> <code class="python hljs">pip install requirements_dev.txt</code> </pre> <br>  F√ºhren Sie nun den folgenden Befehl aus, damit pytest unser Paket finden kann: <br><br><pre> <code class="python hljs">pip install -e .</code> </pre> <br>  Wenn Sie Ihre virtuelle Entwicklungsumgebung deaktiviert haben, m√ºssen Sie beide <code>pip</code> Befehle erneut ausf√ºhren, um die Tests auszuf√ºhren. <br><br><h2>  <font color="#3AC1EF">Schritt 4. Tests erstellen</font> </h2><br>  F√ºgen Sie den Testordner zum Stammverzeichnis Ihres Projekts hinzu.  Platzieren Sie die Datei <code>test_your_package_name.py</code> darin.  Meine Datei hei√üt <code>test_notebookc.py</code> .  Wenn der Dateiname mit <code>test_</code> beginnt, kann pytest eine solche Datei automatisch erkennen. <br><br>  Ich habe der Datei <code>test_notebookc.py</code> den folgenden Test <code>test_notebookc.py</code> , um zu √ºberpr√ºfen, ob die Funktion den richtigen Namen anzeigt.  √Ñndern Sie diesen Code so, dass die darin verwendeten Datei- und Funktionsnamen mit Ihren √ºbereinstimmen, und beschreiben Sie darin Ihre eigenen Tests. <br><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"""Tests for `notebookc` package."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> notebookc <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> notebookc <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_convert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(capsys)</span></span></span><span class="hljs-function">:</span></span>   <span class="hljs-string"><span class="hljs-string">"""Correct my_name argument prints"""</span></span>   notebookc.convert(<span class="hljs-string"><span class="hljs-string">"Jill"</span></span>)   captured = capsys.readouterr()   <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"Jall"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> captured.out</code> </pre> <br>  Was ist hier los? <br><br>  Zuerst importieren wir hier unser Modul.  Dann erstellen wir eine Funktion, deren Name gem√§√ü der Vorlage <code>test_my_function_name</code> .  Diese Namenskonvention f√ºr Funktionen erm√∂glicht es anderen Personen, die Ihren Projektcode lesen, schnell zu verstehen, was genau in den Tests getestet wird.  Dar√ºber hinaus ist dies f√ºr ein Paket erforderlich, mit dessen Hilfe die Codeabdeckung mit Tests gesteuert werden kann. Dies wird weiter unten erl√§utert. <br><br>  Danach rufen wir die Funktion ( <code>convert</code> ) auf und √ºbergeben ihr den Namen <code>Jill</code> als Argument.  Weiter - Erfassen Sie, was die Funktion anzeigt.  Hier ist anzumerken, dass die fragliche Funktion √§u√üerst einfach ist.  Sie nimmt den Parameter <code>my_name</code> und f√ºhrt Folgendes aus: <br><br><pre> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">f"I'll convert a notebook for you some day, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{my_name}</span></span></span><span class="hljs-string">."</span></span>)</code> </pre> <br>  Pytest pr√ºft, ob <code>Jall</code> in den Ausgaben der Funktion enthalten ist.  Diese Zeile sollte nicht vorhanden sein, da wir <code>Jill</code> Funktionen √ºbergeben.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier</a> ist die Pytest-Dokumentation, in der Sie Informationen zum Abfangen von Ausgaben finden. <br><br>  F√ºhren Sie den Test aus, indem <code>pytest</code> an der Eingabeaufforderung <code>pytest</code> eingeben.  Dieser Test sollte fehlschlagen.  Fehlerinformationen werden rot angezeigt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61c/cfb/1f6/61ccfb1f6cff485d9cd90f8f68f2d33c.png"></div><br>  <i><font color="#999999">W√§hrend des Tests wurde ein Fehler festgestellt.</font></i> <br><br>  Es wird empfohlen, die Tests auf ihre Richtigkeit zu √ºberpr√ºfen und sie so zu beschreiben, dass sie unter bestimmten Bedingungen mit einem Fehler enden.  Sie sollten keine Tests schreiben, die nur gr√ºne Nachrichten ausgeben, da sich sonst herausstellen kann, dass die Tests √ºberhaupt nicht √ºberpr√ºfen, was sie zur √úberpr√ºfung geschrieben wurden. <br><br>  Nachdem wir sichergestellt haben, dass der Test fehlgeschlagen ist, √§ndern Sie die <code>Jall</code> Anweisung in <code>Jill</code> und f√ºhren Sie den Test erneut aus.  Jetzt sollte es erfolgreich abgeschlossen werden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c64/d72/bf5/c64d72bf51a42f3f209c00dc46e8ee52.png"></div><br>  <i><font color="#999999">Erfolgreicher Abschluss des Tests.</font></i> <br><br>  Jetzt ist alles gut.  Mit dem Test k√∂nnen Sie sicherstellen, dass diese Zeile in den Text f√§llt, den diese Funktion anzeigt, wenn jemand eine Zeile an unsere Funktion √ºbergibt. <br><br>  Sie k√∂nnen auch einen Test schreiben, der die Funktion √ºberpr√ºft, wie sie mit den an sie √ºbergebenen Daten umgeht.  Wenn es Daten empf√§ngt, deren Typ sich von der Zeichenfolge unterscheidet, sollte es n√§mlich einen TypeError-Fehler verursachen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier finden Sie</a> einige gute Informationen zu Ausnahmen und zur Fehlerbehandlung in Python. <br><br>  Als wir den vorherigen Test erstellt haben, haben wir Code geschrieben, der zum erfolgreichen Abschluss des Tests f√ºhrt.  Dies wird als Test-Driven Development (TDD) bezeichnet.  TDD ist ein bew√§hrter Programmieransatz, mit dem Sie Code schreiben k√∂nnen, der weniger Fehler aufweist als ohne TDD.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein</a> n√ºtzliches TDD-Material. <br><br>  Versuchen Sie nun als √úbung, einen Test zu schreiben, der <code>convert()</code> Funktion <code>convert()</code> √ºberpr√ºft <code>convert()</code> damit beim √úbergeben von etwas anderem als der Zeichenfolge ein Fehler ausgegeben wird, und implementieren Sie die entsprechenden Mechanismen f√ºr diese Funktion.  Beachten Sie, dass Ganzzahlen, Listen und W√∂rterb√ºcher in Zeichenfolgen konvertiert werden. <br><br>  Nachdem das Paket die Tests erfolgreich bestanden hat, k√∂nnen wir das kontinuierliche Integrationssystem nutzen. <br><br><h2>  <font color="#3AC1EF">Schritt 5. Registrierung im Travis CI-Dienst und dessen Konfiguration</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36c/e18/b28/36ce18b28c14dd932d4194a7eb0031e6.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Travis CI</a> ist ein "verteilter Webdienst zum Erstellen und Testen von Software".  Es wurde k√ºrzlich von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Idera gekauft</a> .  Es gibt andere kontinuierliche Integrationssysteme, aber Travis CI ist ein beliebtes Open-Source- und gut dokumentiertes Tool, daher werden wir es verwenden. <br><br>  Mit Travis CI k√∂nnen Sie nur den Code in Ihr Projekt integrieren, der die Tests besteht und den Standards entspricht.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier</a> k√∂nnen Sie mehr √ºber Travis CI und hier √ºber die kontinuierliche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Integration</a> lesen. <br><br>  Erstellen Sie ein Konto unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://travis-ci.org/</a> .  Klicken Sie anschlie√üend auf den Link <code>Review and add your authorized organizations</code> auf der Profilseite hinzu.  Sie werden aufgefordert, ein Kennwort f√ºr den Zugriff auf GitHub einzugeben.  Klicken Sie im Bereich <code>Organization access</code> auf <code>Grant</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/65e/6bd/d52/65e6bdd52e958c8335c999e971eec8ec.png"></div><br>  <i><font color="#999999">Richten Sie ein Travis CI-Konto ein</font></i> <br><br>  Ich musste das Konto synchronisieren, damit die Informationen zu <code>notebooktoall</code> und dem <code>notebookc</code> Repository im Konto angezeigt wurden.  Normalerweise dauert es ungef√§hr eine Minute, bis Travis CI mit Code arbeitet.  Danach m√ºssen Sie das Repository mit dem in der folgenden Abbildung gezeigten Schalter aktivieren. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/444/046/54c/44404654c3d1a95209f1418e2b3ea543.png"></div><br>  <i><font color="#999999">Repository-Aktivierung</font></i> <br><br>  Klicken Sie nun auf die Schaltfl√§che <code>Settings</code> .  Hier m√ºssen Sie angeben, ob Travis basierend auf Pull-Anforderungen oder an das Repository gesendeten Zweigen erstellen kann. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/361/1ed/b25/3611edb25ab1af3484db1d38b0eda38c.png"></div><br>  <i><font color="#999999">Project Build Setup</font></i> <br><br>  Jetzt ist es an der Zeit, das Projekt einzurichten, an dem wir arbeiten. Dadurch kann Travis das Projekt f√ºr jede Pull-Anforderung erstellen. <br><br><h2>  <font color="#3AC1EF">Schritt 6. Erstellen der Datei .travis.yml</font> </h2><br>  Erstellen <code>.travis.yml</code> im Projektstammordner eine <code>.travis.yml</code> Datei mit den folgenden Inhalten: <br><br><pre> <code class="python hljs">dist: xenial language: python python: <span class="hljs-number"><span class="hljs-number">3.7</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> install: - pip install -r requirements_dev.txt - pip install -e . script: - pytest</code> </pre> <br>  Die <code>dist: xenial</code> ben√∂tigt, um Travis <code>dist: xenial</code> Ubuntu Xenial 16.04 zum Organisieren der virtuellen Umgebung zu verwenden.  Zum Testen von Python 3.7-Code wird Ubuntu Xenial ben√∂tigt. Details dazu finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  Im <code>install</code> k√∂nnen Sie Pakete installieren, die in der Projektentwicklung verwendet werden.  <code>pip install -e .</code> Befehl  f√ºhrt die Installation unseres Pakets in der virtuellen Umgebung von Travis durch.  Danach kann Travis, der mit dem Pytest beginnt, unser Paket finden. <br><br><h2>  <font color="#3AC1EF">Schritt 7. Testen in Travis CI</font> </h2><br>  √úbernehmen Sie die √Ñnderungen, senden Sie sie an GitHub und f√ºhren Sie die PR durch.  Travis sollte innerhalb von Sekunden anfangen zu arbeiten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/15a/32a/d3f/15a32ad3f0a601e6bf89c06932efc450.png"></div><br>  <i><font color="#999999">Travis bei der Arbeit</font></i> <br><br>  Dies ist, was Travis bei der Abwicklung des Projekts tut. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d4a/b80/9a6/d4ab809a68ef70b62ad28121b055fc12.png"></div><br>  <i><font color="#999999">Aktionen, die Travis w√§hrend der Projektabwicklung ausf√ºhrt</font></i> <br><br>  Wenn die PR nicht erfolgreich war, wird Travis dies melden.  Bitte beachten Sie, dass Sie die √Ñnderungen an denselben Zweig senden k√∂nnen, wenn die Pull-Anforderung nicht erfolgreich ist, und Travis automatisch mit der Arbeit beginnt. <br><br>  Gehen Sie zu Ihrer Repository-Seite auf der Travis-Website und sehen Sie sich dort um.  Hier finden Sie viele interessante Dinge √ºber Baugruppen.  Wahrscheinlich werden Sie in Zukunft ein h√§ufiger Gast dieser Seite, wenn Sie versuchen zu verstehen, was die fehlgeschlagene Assembly verursacht hat. <br><br>  Wenn wir davon ausgehen, dass alles gut gelaufen ist und die Seite gr√ºne Etiketten enth√§lt, war die √úberpr√ºfung und Zusammenstellung des Projekts erfolgreich. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a6/bd0/7c4/6a6bd07c4f0a9c82e87b9fd1a71b9b10.png"></div><br>  <i><font color="#999999">Projektmontage erfolgreich abgeschlossen</font></i> <br><br>  Wenn die Seite keine gr√ºnen oder roten Beschriftungen enth√§lt, √∂ffnen Sie das Men√º <code>More options</code> und w√§hlen Sie <code>Requests</code> .  Wenn hier rote Fehlermeldungen angezeigt werden, analysieren Sie diese.  Wenn <code>Build config file is required</code> Fehlermeldung " <code>Build config file is required</code> <code>.travis.yml</code> , bedeutet dies, dass Travis Ihre <code>.travis.yml</code> Datei nicht im Repository finden kann.  Korrigieren Sie es und der Fehler verschwindet. <br><br>  Travis sendet Benutzer-E-Mails in F√§llen, in denen die Montage des Projekts nicht erfolgreich war und in denen es m√∂glich ist, das Problem zu beheben. <br><br>  Denken Sie daran, dass Sie Commits an Open PR senden k√∂nnen und Travis den Projekterstellungsprozess automatisch neu startet. <br><br>  Lassen Sie uns nun unser Projekt analysieren, um den Code mit Tests abzudecken. <br><br><h2>  <font color="#3AC1EF">Schritt 8. Bewertung der Codeabdeckung mit Tests</font> </h2><br>  Mit dem Bericht √ºber die Codeabdeckung mit Tests k√∂nnen Sie herausfinden, welcher Teil des Projektcodes, wenn auch ein kleiner, getestet wurde.  Um solche Berichte zu erstellen, verwenden wir das Paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pytest-cov</a> . <br><br>  F√ºgen Sie der Datei required_dev.txt die folgende Zeile hinzu: <br><br><pre> <code class="python hljs">pytest-cov==<span class="hljs-number"><span class="hljs-number">2.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre> <br>  F√ºhren Sie den folgenden Befehl aus: <br><br><pre> <code class="python hljs">pytest --cov=my_project_name</code> </pre> <br>  In meinem Fall wurde nach <code>pytest --cov=notebookc</code> der folgende Bericht angezeigt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/83c/566/d29/83c566d2942cbafcedd03de799b0eacd.png"></div><br>  <i><font color="#999999">Code Coverage Report</font></i> <br><br>  Wie sich herausstellte, wird der gesamte Projektcode mit Tests versehen.  Solche Indikatoren sind sehr einfach zu erreichen, wenn das gesamte Projekt aus mehreren Codezeilen besteht. <br><br>  Lassen Sie uns nun √ºber ein Tool sprechen, mit dem Sie den Status des Projekts in der √ñffentlichkeit protokollieren k√∂nnen, indem Sie dessen Code mit Tests abdecken. <br><br><h2>  <font color="#3AC1EF">Schritt 9. Overalls verwenden</font> </h2><br>  Mit dem Coveralls-Projekt k√∂nnen Sie historische Informationen zur Codeabdeckung mit Tests verwalten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c0/616/ecd/8c0616ecddd054d1adabf0532c75f69b.png"></div><br>  <i><font color="#999999">Overalls</font></i> <br><br>  Um die Funktionen dieses Projekts nutzen zu k√∂nnen, m√ºssen Sie sich auf der Website <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://coveralls.io/</a> mit den Daten Ihres GitHub-Kontos registrieren.  Dann m√ºssen Sie das Repository verbinden. <br><br>  <code>coveralls==1.6.0</code> in der Datei <code>coveralls==1.6.0</code> .  Diese Datei sollte √ºbrigens in dieser Phase der Projektarbeit folgenderma√üen aussehen: <br><br><pre> <code class="python hljs">pip==<span class="hljs-number"><span class="hljs-number">19.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> wheel==<span class="hljs-number"><span class="hljs-number">0.33</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> twine==<span class="hljs-number"><span class="hljs-number">1.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> pytest==<span class="hljs-number"><span class="hljs-number">4.3</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> pytest-cov==<span class="hljs-number"><span class="hljs-number">2.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> coveralls==<span class="hljs-number"><span class="hljs-number">1.6</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  <code>.travis.yml</code> Datei <code>.travis.yml</code> und in dieses Formular bringen (in Ihrem Fall finden Sie hier den Namen Ihres Projekts): <br><br><pre> <code class="python hljs">dist: xenial language: python python: <span class="hljs-number"><span class="hljs-number">3.7</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> install: ‚Äî pip install -r requirements_dev.txt ‚Äî pip install -e . script: ‚Äî pytest --cov=my_package_name after_success: ‚Äî coveralls</code> </pre> <br>  Wenn Travis das Projekt erstellt, installiert er die erforderlichen Pakete, f√ºhrt die Tests aus und erstellt einen Bericht √ºber die Abdeckung des Codes mit Tests.  Dieser Bericht wird dann an den Overalls-Dienst gesendet. <br><br>  √úbernehmen Sie, senden Sie den Code an GitHub und beobachten Sie, was passiert.  Es kann einige Minuten dauern, bis der Testbericht zur Codeabdeckung in Overalls eingeht. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7eb/19d/967/7eb19d96768a592ef21b611ab69e3509.png"></div><br>  <i><font color="#999999">Projektabwicklung, Testbericht</font></i> <br><br>  Unter den PR-√úberpr√ºfungen gibt es jetzt auch eine √úberpr√ºfung durch Coveralls. <br><br>  Auf der Seite Overalls k√∂nnen Sie √ºberpr√ºfen, ob das Projekt zu 100% von Tests abgedeckt wird. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24a/f45/762/24af45762ed1b6f80a4b558ab24fcef1.png"></div><br>  <i><font color="#999999">Informationen zur Testabdeckung</font></i> <br><br>  Lassen Sie uns nun unser Projekt mit einem weiteren n√ºtzlichen Werkzeug ausstatten. <br><br><h2>  <font color="#3AC1EF">Schritt 10. Arbeiten mit PyUp</font> </h2><br>  Mit dem PyUp.io-Dienst kann der Entwickler herausfinden, ob die von ihm verwendeten Abh√§ngigkeiten veraltet sind und ob sie Schwachstellen aufweisen.  Dieser Dienst f√ºhrt automatisch Pull-Anforderungen aus, die darauf abzielen, das Paket auf GitHub zu aktualisieren.  Um die Funktionen dieses Projekts nutzen zu k√∂nnen, m√ºssen Sie sich mit einem GitHub-Konto auf der Website <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://pyup.io/</a> registrieren.  Beim Hinzuf√ºgen eines Repositorys wird empfohlen, die <code>Update Schedules</code> auf <code>every week</code> .  Wenn Ihr Projekt bei diesem Ansatz viele Abh√§ngigkeiten aufweist, werden Sie nicht auf zu viele Pull-Anforderungen sto√üen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fe/4d5/14f/8fe4d514fe0efef8c8c0bea40451f4d3.png"></div><br>  <i><font color="#999999">Updates konfigurieren</font></i> <br><br>  So sehen Paketinformationen auf der PyUp.io-Website aus, von denen einige veraltet sind. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/372/26a/e7a/37226ae7a12381601d7335b1ae935d17.png"></div><br>  <i><font color="#999999">Paketdetails</font></i> <br><br>  Wenn Sie diesen Dienst verwenden, wissen Sie immer, wann die neuesten Versionen der von Ihnen verwendeten Pakete herauskommen.  Wissen ist, wie sie sagen, der halbe Sieg.  Und die zweite H√§lfte sind nat√ºrlich automatische Pull-Anfragen zum Aktualisieren von Abh√§ngigkeiten. <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  In diesem Artikel haben Sie gelernt, wie Sie Tools wie Black, Pytest, Travis CI, Overalls und PyUp bei der Entwicklung von Python-Projekten verwenden.  Sie helfen dabei, Projektabh√§ngigkeiten zu steuern, Code zu formatieren und zu testen sowie Projekte zu √ºberpr√ºfen und zu erstellen.  Wir hoffen, dass Sie diese Tools n√ºtzlich finden. <br><br>  <b>Liebe Leser!</b>  Welche Tools verwenden Sie bei der Entwicklung von Python-Projekten? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de444344/">https://habr.com/ru/post/de444344/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de444332/index.html">Informationssicherheit und Catering: Wie Manager √ºber IT-Produkte denken</a></li>
<li><a href="../de444336/index.html">Schnelle Erfassungslisten: Was ist der Unterschied zwischen schwachen, starken und nicht besessenen Links?</a></li>
<li><a href="../de444338/index.html">Kapselung in Python 3</a></li>
<li><a href="../de444340/index.html">Funktionen zur Verwendung des Symboldatentyps in JavaScript</a></li>
<li><a href="../de444342/index.html">Entwicklung einfacher, moderner JavaScript-Anwendungen mit Webpack und fortschrittlichen Webtechnologien</a></li>
<li><a href="../de444346/index.html">GraphQL und Golang</a></li>
<li><a href="../de444348/index.html">Wie unterscheiden sich funktionale React-Komponenten von klassenbasierten Komponenten?</a></li>
<li><a href="../de444350/index.html">Aus irgendeinem Grund startet MVP (Minimum Viable Product) nicht</a></li>
<li><a href="../de444352/index.html">Kontur.Kampus: Wir laden Sie zu einem kostenlosen Studentenlager f√ºr industrielle Entwicklung in der N√§he von St. Petersburg ein</a></li>
<li><a href="../de444356/index.html">React Tutorial Teil 24: Lektion f√ºr zweite Formen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>