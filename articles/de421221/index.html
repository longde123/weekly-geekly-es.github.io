<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📄 🤴 👨‍🔬 Schwere Therapie: Heilung für MacOS 🧑🏿‍🤝‍🧑🏼 🏍️ 🙌🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sie werden sagen, dass alles hier und sofort in Ordnung ist und alles genial zu sein scheint, bis zur automatischen Generierung eines solchen Passwort...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schwere Therapie: Heilung für MacOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421221/">  Sie werden sagen, dass alles hier und sofort in Ordnung ist und alles genial zu sein scheint, bis zur automatischen Generierung eines solchen Passworts für Websites, das ab dem fünften Versuch nicht einmal visuell wahrgenommen wird. Stellen Sie sich jedoch vor, dass es für uns wichtig ist, uns nicht nur vor alltäglichen Hackern zu schützen. sondern auch von den Systementwicklern selbst. <br><a name="habracut"></a><br>  Meine Recherchen zu diesen Themen begannen mit der Veröffentlichung von OS X Lion 10.7. Zunächst verwendete ich Software von Drittanbietern, die kostenpflichtig und für den Schutz sehr effektiv war, bis ich herausfand, was geschah und warum diese Software ein solches Ergebnis abdeckt. <br><br>  Tatsächlich ist hier ein einfaches Skript, das die Firewall-Kontrolle über die internen Dienste des MacOS-Systems basierend auf Ankern unterdrückt und die Kontrolle direkt an den Paketfilter gibt, der im Allgemeinen alle eingehenden Verbindungen blockiert: <br><br><pre><code class="hljs vbscript"># # Ninja PF configuration file( original located <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> /etc/pf.conf.backup ). # # This file contains the main ruleset, which gets automatically loaded # at startup. PF will <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> be automatically enabled, however. Instead, # <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> component which utilizes PF <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> responsible <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> enabling <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> disabling # PF via -E <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> -X as documented <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pfctl(<span class="hljs-number"><span class="hljs-number">8</span></span>). That will ensure that PF # <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> disabled only when the last enable reference <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> released. # # Care must be taken <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> ensure that the main ruleset does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> flushed, # as the nested anchors rely <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the anchor point defined here. <span class="hljs-keyword"><span class="hljs-keyword">In</span></span> addition, # <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the anchors loaded by this file, some system services would dynamically # insert anchors into the main ruleset. These anchors will be added only when # the system service <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> used <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> would removed <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> termination of the service. # # See pf.conf(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> syntax. # # ICMP configure icmp_types = <span class="hljs-string"><span class="hljs-string">"{echoreq, echorep, unreach}"</span></span> icmp6_types = <span class="hljs-string"><span class="hljs-string">"{echoreq, unreach, echorep, 133, 134, 135, 136, 137}"</span></span> netbios_types = <span class="hljs-string"><span class="hljs-string">"{137,138,139}"</span></span> interfaces = <span class="hljs-string"><span class="hljs-string">"{en0, en1, en2, en3, en4}"</span></span> # Base policy <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> fingerprints <span class="hljs-string"><span class="hljs-string">"/etc/pf.os"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> block-policy drop <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> state-policy <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-bound <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> require-order yes <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> optimization aggressive <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> ruleset-optimization none <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> skip <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> lo0 scrub <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> all fragment reassemble no-df min-ttl <span class="hljs-number"><span class="hljs-number">64</span></span> max-mss <span class="hljs-number"><span class="hljs-number">1440</span></span> scrub out all random-id block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> all pass out quick flags S/SA modulate state # Antispoofing antispoof quick <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> $interfaces inet antispoof quick <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> $interfaces inet6 # More secure settings block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> from urpf-failed <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> any block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> quick <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> $interfaces from any <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span> block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> quick <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> $interfaces from any <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> # ICMP policy block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> inet proto icmp all icmp-type $icmp_types keep state block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> inet6 proto icmp6 all icmp6-type $icmp6_types keep state block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> $interfaces proto {tcp,udp} from any <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> any port $netbios_types</code> </pre> <br>  Vergessen Sie nicht, das Kontrollkästchen zu aktivieren, um die Firewall in den Einstellungen zu aktivieren.  Um zu überprüfen, ob PF ausgeführt wird, führen Sie es einfach im Terminal aus <br><br><pre> <code class="bash hljs">sudo pfctl -sa</code> </pre> <br>  Hier werden kurz Muster von Regeln zum Verwalten von Verbindungen und Schnittstellen zusammengestellt, und die Einstellung selbst blockiert den eingehenden Datenverkehr so ​​weit wie möglich.  Wenn Sie völlig paranoid sind, kommentieren Sie einfach den Zeilensatzsprung auf lo0 aus, und Sie speichern das System von einem funktionierenden Webserver und blockieren den Zugriff der meisten Anwendungen auf die Loop-Back-Schnittstelle (Terminal-Loop). <br><br>  Lo0 ist normalerweise nützlich, um zu blockieren, wenn Sie Raubkopien von Torrents spielen möchten, die häufig durch einen Exploit oder einen anderen Müll gepatcht werden. <br><br>  Das zweite, was das Skript tut, ist mit Zustimmung des Benutzers das Einrichten erweiterter Kernel-Sicherheitseinstellungen. <br><br>  Hier ist eine kurze Auflistung: <br><br><pre> <code class="hljs dos"># <span class="hljs-number"><span class="hljs-number">10</span></span>.<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span> system ctl configuration # Kernel IPC overrides kern.ipc.somaxconn=<span class="hljs-number"><span class="hljs-number">100</span></span> # kernel security level(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> - soft security level or <span class="hljs-number"><span class="hljs-number">2</span></span> - can't install any software) kern.securelevel=<span class="hljs-number"><span class="hljs-number">1</span></span> # Speed up TM backups debug.lowpri_throttle_enabled=<span class="hljs-number"><span class="hljs-number">0</span></span> kern.coredump=<span class="hljs-number"><span class="hljs-number">0</span></span> # Networking settings <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.link.ether.inet.max_age=<span class="hljs-number"><span class="hljs-number">600</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.redirect=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.ip6.redirect=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.sourceroute=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.accept_sourceroute=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.linklocal.<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.allowbadttl=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.icmp.bmcastecho=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.icmp.icmplim=<span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.icmp.maskrepl=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.udp.blackhole=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.blackhole=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.delayed_ack=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.always_keepalive=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.rfc3390=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.rfc1644=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.tso=<span class="hljs-number"><span class="hljs-number">0</span></span> # Incoming and outgoing port ranges <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.sack_globalmaxholes=<span class="hljs-number"><span class="hljs-number">2000</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.portrange.first=<span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.portrange.last=<span class="hljs-number"><span class="hljs-number">65535</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.portrange.hifirst=<span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.portrange.hilast=<span class="hljs-number"><span class="hljs-number">2500</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.check_interface=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.keepidle=<span class="hljs-number"><span class="hljs-number">50000</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.rtmaxcache=<span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.path_mtu_discovery=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.icmp6.rediraccept=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.msl=<span class="hljs-number"><span class="hljs-number">4500</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.icmp6.nodeinfo=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.ip6.accept_rtadv=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.ip6.auto_linklocal=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.ip6.only_allow_rfc4193_prefixes=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.icmp6.nd6_onlink_ns_rfc4861=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  Diese Kernel-Parameter verschärfen die Netzwerkverbindungsrichtlinie einschließlich aller möglichen RFCs und blockieren alle möglichen Störungen (Echo, Weiterleitungen usw.). Der Parameter kern.securelevel = 1, der für den Pen-Tester äußerst nützlich sein kann, verdient besondere Aufmerksamkeit. <br><br>  kern.securelevel = 2 blockiert die Möglichkeit, Pakete auf dem System zu installieren, vollständig.  Im Allgemeinen eng.  Das System verliert jedoch nicht an Leistung. <br><br>  Ich habe auch die Ports von Anwendungen umgedreht, die hohe Werte erfordern, und sie niedriger gelandet, damit der Datenverkehr nicht angenehmer zu „hören“ ist. <br><br>  Als Nächstes fügte das Skript Anpassungsoptionen für einige Finder-Anzeigeoptionen und kleine Einstellungen für Safari hinzu.  Es lohnt sich beispielsweise, AV Foundation und andere Medienfunktionen zu deaktivieren, da das System mit einem einzelnen Splitterbild von einer Website über Audio- und Videostreams gehackt werden kann. <br><br>  Im Allgemeinen ist es seltsam, aber sogar iTunes unter MacOS folgt, daher bevorzuge ich einen vollen Tank. <br><br>  Der Patch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ist auf GitHub verfügbar</a> .  Verwendung starten <br><br><pre> <code class="bash hljs">sudo ./fix.sh</code> </pre> <br>  Wenn Sie Vorschläge oder Änderungen haben, empfehle ich Ihnen, Ihre Gedanken in den Kommentaren mitzuteilen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de421221/">https://habr.com/ru/post/de421221/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de421209/index.html">IaaS im E-Commerce und im Finanzsektor: Wer und warum hat auf virtuelle Infrastruktur umgestellt?</a></li>
<li><a href="../de421211/index.html">PowerShell- und Gruppenrichtlinieneinstellungen, wenn Drucker bis zu Hunderten zählen</a></li>
<li><a href="../de421213/index.html">DJI Mavic 2 Pro / Details vergrößern</a></li>
<li><a href="../de421215/index.html">Wie ich Steam gehackt habe. Zweimal</a></li>
<li><a href="../de421217/index.html">Python-Unterstützung in Power BI</a></li>
<li><a href="../de421223/index.html">DevFest SPB 2018</a></li>
<li><a href="../de421225/index.html">SENS-Diagnose. Biomarker für mitochondriale Dysfunktion und oxidativen Stress</a></li>
<li><a href="../de421227/index.html">Überblick über plattformübergreifende mobile Entwicklungsframeworks</a></li>
<li><a href="../de421229/index.html">Geschichte meiner Kopfschmerzen</a></li>
<li><a href="../de421235/index.html">Magic Leap One Brille - Brille für 2295 US-Dollar mit Wartbarkeit 3 ​​von 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>