<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•† üëô ‚úä Ir idioma: sele√ß√£o ORM üêõ üßî üí∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A Go ganhou fama como uma das linguagens de programa√ß√£o mais simples, incluindo suas vantagens - facilidade de escrever e ler c√≥digo, na maioria dos c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ir idioma: sele√ß√£o ORM</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/simbirsoft/blog/458074/">  A Go ganhou fama como uma das linguagens de programa√ß√£o mais simples, incluindo suas vantagens - facilidade de escrever e ler c√≥digo, na maioria dos casos, suporte mais simples √† base de c√≥digo.  Falamos sobre v√°rias vantagens do Go, gra√ßas √†s quais n√≥s da SimbirSoft o usamos em v√°rios projetos altamente carregados com v√°rias arquiteturas, tanto de servi√ßo da web quanto de micro-servi√ßo (SOA). <a name="habracut"></a><br><br><h3>  Aplica√ß√£o </h3><br>  Esse idioma do sistema √© bom para a maioria das tarefas de rede, todos os microsservi√ßos e servi√ßos de macro, servi√ßos da Web e ferramentas de sistema - n√£o √© sem raz√£o que muitos especialistas em DevOps o adoram.  O Go encontra seu uso no Machine Learning, e alguns desenvolvedores at√© escrevem sites com ele.  Em nossa pr√°tica, optamos pelo Go quando desenvolvemos CRMs e produtos de software separados para uso interno, por exemplo, para companhias de seguros.  O reposit√≥rio de idiomas Go padr√£o tamb√©m possui um pacote para desenvolvimento m√≥vel, este pacote ainda √© suportado, embora existam ferramentas mais adequadas para isso. <br><br><h3>  Ir: desenvolvimento e reconhecimento </h3><br>  No Google, o desenvolvimento da linguagem Go come√ßou em 2007.  Antes disso, a empresa usava Java, Python e C ++, no entanto, eles apresentavam algumas desvantagens (em particular, alto consumo de mem√≥ria) ou uso limitado.  Ent√£o o Google come√ßou a desenvolver um novo idioma para suas necessidades. <br><br>  Quais s√£o os requisitos para o idioma: <br><br><ul><li>  Um arquivo execut√°vel (sem depend√™ncias) </li><li>  Compila√ß√£o r√°pida </li><li>  Tempo de execu√ß√£o r√°pido (pelo menos no mesmo n√≠vel que Java e C ++) </li><li>  Coletor de lixo, minimizando o vazamento de recursos </li><li>  Otimiza√ß√£o para sistemas multiprocessadores </li><li>  Digita√ß√£o est√°tica </li><li>  Minimalismo </li><li>  Leveza sint√°tica </li><li>  Multiparadigmidade (imperativa, funcional, orientada a objetos) </li></ul><br>  Para quem n√£o trabalha com a Go, lembre-se brevemente da hist√≥ria de sua cria√ß√£o.  O Google come√ßou a pensar na especifica√ß√£o da linguagem em 2007.  A vers√£o 1.0 ocorreu em 2012 e, em 2015, a vers√£o 1.5, j√° sem uma √∫nica linha de c√≥digo C ++.  A partir desse momento, a linguagem se compila, o que nos permitiu acelerar o desenvolvimento de tarefas individuais no Go. <br><br>  A idade m√©dia de reconhecimento de um novo idioma na comunidade √© de aproximadamente 10 anos, mas o Go j√° √© um dos idiomas mais populares.  Em junho de 2019, o Go subiu em 15¬∫ em termos de popularidade no mundo, de acordo com o √≠ndice <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TIOBE</a> , somando tr√™s posi√ß√µes em um ano.  Entre as raz√µes de seu sucesso est√£o as seguintes: <br><br><ul><li>  Biblioteca padr√£o forte </li><li>  Sintonia padr√£o legal </li><li>  As fun√ß√µes mais necess√°rias s√£o apresentadas na ‚Äúcaixa‚Äù e as bibliotecas s√£o fornecidas ao c√≥digo aberto </li><li>  Comunidade muito amig√°vel </li></ul><br>  Por exemplo, os seguintes pacotes est√£o inclu√≠dos na biblioteca padr√£o (a lista est√° incompleta): <br><br><img src="https://habrastorage.org/webt/8u/qj/qd/8uqjqdlmz-0crdwb5iyjkpyukdc.jpeg"><br><br>  <i>Ilustra√ß√£o - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/ashleymcnamara/gophers</a></i> <br><br>  Se voc√™ n√£o se sentir confort√°vel com a velocidade do seu aplicativo ou de outros par√¢metros, poder√° trabalhar com o criador de perfis pronto para uso.  Para fazer isso, voc√™ precisa: <br><ul><li>  Registrar importa√ß√£o do criador de perfil: import _ "net / http / pprof" </li><li>  Adicione um servidor http para receber resultados do criador de perfil: v√° http.ListenAndServe ("0.0.0.0:8080", zero) </li></ul><br><h3>  Ir ferramentas </h3><br>  Um dos benef√≠cios do Go √© seu extenso conjunto de ferramentas padr√£o.  Selecionamos alguns dos utilit√°rios mais interessantes, em nossa opini√£o (de fato, existem muitos mais): <br><br><ul><li>  benchcmp - compara√ß√£o de benchmark, desempenho antes e depois das altera√ß√µes </li><li>  go tool cover - an√°lise da cobertura de c√≥digo por testes </li><li>  godoc - gera√ß√£o de documenta√ß√£o baseada em coment√°rios </li><li>  goimports - an√°lise de importa√ß√£o (remo√ß√£o n√£o utilizada, adi√ß√£o ausente) </li><li>  gorename - refatora√ß√£o </li><li>  presente - ajuste de apresenta√ß√£o </li><li>  go vet - freq√ºentemente encontrado erro linter </li><li>  teste - execute testes e refer√™ncias </li><li>  ir corrigir - corrigir altera√ß√µes ao alterar a API (antes da vers√£o 1.0) </li><li>  ir ferramenta pprof - cria√ß√£o de perfil </li><li>  Go fmt - formata√ß√£o de c√≥digo por estilo de c√≥digo </li><li>  Detector de corrida - encontrando uma corrida de dados em tempo de execu√ß√£o </li></ul><br><h3>  Competitividade </h3><br>  Outro ponto forte do Go √© que √© f√°cil escrever c√≥digo competitivo nesse idioma.  Para fazer isso, basta usar palavras-chave antes de chamar a fun√ß√£o. <br><br><img src="https://habrastorage.org/webt/ik/a_/6q/ika_6qkidzulqz5in4-jjtk5lay.jpeg"><br><br><h3>  V√° treinar </h3><br>  Se voc√™ deseja programar no Go, o in√≠cio levar√° relativamente pouco tempo.  Os desenvolvedores - Core Team - suportam o curso A Tour of Go em v√°rios idiomas, incluindo o russo.  Este curso pode ser conclu√≠do em apenas 1-3 dias.  Em termos de aprendizado, o Go √© um dos idiomas mais simples. <br><br>  Ent√£o, o que ler: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Um passeio de go</a> </li><li>  <a href="">Ir eficaz</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Perguntas frequentes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ir para programadores em c ++</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ir para programadores java</a> </li></ul><br><h3>  ORM em Go </h3><br>  Acredita-se que uma das fraquezas de Go seja a ORM.  Talvez isso se deva em parte ao fato de a linguagem ser jovem - nela, muitas ferramentas necess√°rias est√£o apenas come√ßando a ser desenvolvidas.  Em particular, voc√™ pode usar o pacote database / sql para trabalhar com bancos de dados.  Quais s√£o os requisitos para o pacote: <br><br><ul><li>  Pacote geral para todos os bancos de dados sql </li><li>  Port√°til: n√£o cont√©m nenhum recurso no campo de trabalho com bancos de dados.  Idealmente, tudo deve funcionar corretamente se voc√™ mudar o driver. </li><li>  Convertendo tipos Go em tipos de banco de dados padr√£o (deve ser poss√≠vel processar tipos espec√≠ficos) </li><li>  Cont√©m conjunto de conex√µes </li><li>  Seguran√ßa de rosca para goroutines </li></ul><br><h3>  Exemplo de consulta SELECT usando database / sql </h3><br><pre><code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> rows.Close() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> rows.Next() { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> message <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> err := rows.Scan(&amp;message) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { log.Panic(err) } fmt.Println(message) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err := rows.Err(); err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { log.Panic(err) }</code> </pre> <br>  Como voc√™ pode ver no exemplo, muitas a√ß√µes de modelo ter√£o que ser executadas sempre.  Por exemplo: <br><br><ul><li>  objeto de linha fechada: adiar linhas.Close () </li><li>  verifique se h√° erros err: = lines.Err ();  err! = nada desde  n√£o est√° claro por que as linhas.Next () nos retornaram falsos </li></ul><br>  Por tudo isso, quero usar algo mais universal e simples, por exemplo, ORM. <br><br><h3>  Tipos de implementa√ß√µes ORM </h3><br>  Quando os desenvolvedores se defrontam com a escolha do ORM para trabalhar com o Go, geralmente s√£o guiados pela classifica√ß√£o no github.  Quando escolhemos o ORM para n√≥s mesmos, o Beego teve a melhor classifica√ß√£o (18 mil ‚Äúestrelas‚Äù).  No entanto, na pr√°tica, o ORM faz parte da estrutura, portanto, a avalia√ß√£o n√£o √© muito objetiva (se voc√™ selecionar apenas ORM).  Tamb√©m entre os l√≠deres, o Gorm, em desenvolvimento desde 2013, ap√≥ia transa√ß√µes e tem muitas outras vantagens. <br><br><img src="https://habrastorage.org/webt/4t/lk/up/4tlkupvoryxwcybeiobknmqkyze.jpeg"><br><br>  No entanto, como demonstrou nossa experi√™ncia com o Gorm, certos problemas s√£o poss√≠veis ao us√°-lo, especialmente ao testar: por exemplo, corrida de dados ou exclus√£o de uma chave estrangeira.  Podemos assumir as seguintes causas desses erros no Gorm: <br><br><ul><li>  Confirma imediatamente no mestre </li><li>  Tags ausentes </li><li>  Construtor sql imprevis√≠vel </li></ul><br>  No momento, em nosso trabalho, preferimos v√°rios ORMs que n√£o usam a interface {} - estes s√£o Kallax, Reform e Sqlboiler.  Normalmente, usamos o pacote <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Golang</a> para migra√ß√µes e o reposit√≥rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">orm-bench</a> com benchmarks ORM no Go.  Ao mesmo tempo, voc√™ n√£o deve perseguir apenas benchmarks.  Mais frequentemente, a velocidade n√£o √© t√£o importante quanto a qualidade do c√≥digo e sua funcionalidade. <br><br><h3>  Resumir </h3><br>  As vantagens da linguagem Go para o desenvolvedor e para os neg√≥cios incluem maior produtividade no desenvolvimento, capacidade de usar menos servidores, facilidade sint√°tica e tempo de treinamento mais r√°pido para novos desenvolvedores, um grande conjunto de ferramentas e uma comunidade amig√°vel.  Apesar de ser uma l√≠ngua jovem, est√° em constante crescimento e desenvolvimento.  Os recursos do Go tornam a linguagem ideal para uma ampla variedade de projetos, desde tarefas de rede a microsservi√ßos e blockchain. <br><br>  <i>O artigo foi preparado com base em nosso relat√≥rio na reuni√£o <b>Hot Backend</b> em Samara.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt458074/">https://habr.com/ru/post/pt458074/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt458062/index.html">Vis√£o geral da plataforma UserGate</a></li>
<li><a href="../pt458064/index.html">PVS-Studio nas nuvens - Executando a an√°lise no Travis CI</a></li>
<li><a href="../pt458068/index.html">PVS-Studio para Visual Studio</a></li>
<li><a href="../pt458070/index.html">PVS-Studio para Visual Studio</a></li>
<li><a href="../pt458072/index.html">PVS-Studio vai para as nuvens - an√°lise de lan√ßamento no Travis CI</a></li>
<li><a href="../pt458076/index.html">Marketing com tomada de decis√£o de ML</a></li>
<li><a href="../pt458080/index.html">25 de julho de Moscou - QIWI iOS Meetup</a></li>
<li><a href="../pt458084/index.html">50 materiais selecionados sobre os ganhos de m√∫sicos, som em jogos e filmes, instrumentos incomuns e os velhos esquecidos</a></li>
<li><a href="../pt458088/index.html">Melhores distribui√ß√µes Linux para computadores mais antigos</a></li>
<li><a href="../pt458090/index.html">O que realmente aconteceu com o desaparecido Boeing da Mal√°sia (parte 2/3)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>