<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ù üêÜ üëû Android Jetpack Membuat Kesan Pertama üë©üèæ‚Äçü§ù‚Äçüë®üèΩ üßóüèº üßúüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setelah saya melihat ceramah tentang Android Jetpack Compose di Google IO 2019, saya ingin mencobanya segera. Selain itu, pendekatan yang diterapkan d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Android Jetpack Membuat Kesan Pertama</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461101/"><p>  Setelah saya melihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ceramah tentang Android Jetpack Compose</a> di Google IO 2019, saya ingin mencobanya segera.  Selain itu, pendekatan yang diterapkan di dalamnya sangat mengingatkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Flutter, yang saya tertarik sebelumnya</a> . </p><br><p><img src="https://habrastorage.org/webt/i1/-6/fz/i1-6fzjfxbzx-ajpwg-5y7ey7cq.png"></p><a name="habracut"></a><br><p> Pustaka Compose sendiri masih dalam tahap pra-alfa, jadi tidak banyak dokumentasi dan artikel tentangnya tersedia.  Selanjutnya, saya akan mengandalkan beberapa sumber daya yang berhasil saya temukan, ditambah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pustaka sumber terbuka</a> . </p><br><p>  Sumber daya ini adalah: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Android Developers Backstage: Episode 115: Jetpack Compose</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tulis dari prinsip pertama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menyelam ke dalam komposisi jetpack</a> </li></ul><br><h1 id="chto-takoe-android-jetpack-compose">  Apa itu Komposisi Android Jetpack? </h1><br><p>  Sebelumnya, seluruh Android UI didasarkan pada kelas View.  Ini telah terjadi sejak awal Android.  Dan dalam hal ini, banyak cacat warisan dan arsitektur telah terakumulasi, yang dapat diperbaiki.  Tetapi untuk melakukan ini cukup sulit tanpa melanggar semua kode yang ditulis berdasarkan mereka. </p><br><p>  Selama beberapa tahun terakhir, banyak konsep baru telah muncul di dunia aplikasi klien (termasuk tren Frontend), sehingga tim Google telah mengambil jalur radikal dan menulis ulang seluruh level UI di Android dari awal.  Jadi pustaka Android Jetpack Compose muncul, yang mencakup trik konseptual dari React, Litho, Vue, Flutter, dan banyak lainnya. </p><br><p>  Mari kita melihat beberapa fitur UI yang ada dan membandingkannya dengan Compose. </p><br><h3 id="1--nezavisimost-ot-relizov-android">  1. Kemerdekaan dari rilis Android </h3><br><p>  UI yang ada terkait erat dengan platform.  Ketika komponen pertama Desain Bahan muncul, mereka hanya bekerja dengan Android 5 (API21) dan lebih tinggi.  Untuk bekerja pada versi sistem yang lebih lama, Anda harus menggunakan Perpustakaan Dukungan. </p><br><p>  Compose adalah bagian dari Jetpack, yang membuatnya independen dari versi sistem dan memungkinkan untuk digunakan bahkan dalam versi Android yang lebih lama (setidaknya dengan API21). </p><br><h3 id="2-ves-api-na-kotlin">  2. Seluruh API Kotlin </h3><br><p>  Sebelumnya, Anda harus berurusan dengan file yang berbeda untuk membuat UI.  Kami menjelaskan markup dalam xml, dan kemudian menggunakan kode Java / Kotlin untuk membuatnya berfungsi.  Kemudian kami kembali ke file-file xml lain untuk mengatur tema, animasi, navigasi, ... Dan bahkan mencoba menulis kode dalam xml (Data Binding). </p><br><p>  Menggunakan Kotlin memungkinkan Anda untuk menulis UI gaya deklaratif langsung dalam kode, bukan xml. </p><br><h3 id="3-composable--kompozitnyy-ispolzovanie-kompozicii-vmesto-nasledovaniya">  3. Komposit = Komposit: menggunakan komposisi alih-alih pewarisan </h3><br><p>  Membuat elemen UI khusus bisa agak rumit.  Kita perlu mewarisi dari View atau turunannya dan mengurus banyak properti penting sebelum dimulai dengan benar.  Misalnya, kelas TextView berisi sekitar 30 ribu baris kode Java.  Ini disebabkan oleh fakta bahwa ia mengandung banyak logika yang tidak perlu di dalam dirinya sendiri yang diwarisi oleh elemen-elemen turunan. </p><br><p>  Tulisan muncul di sisi lain, menggantikan warisan dengan komposisi. </p><br><p> <code>Padding</code> adalah yang paling cocok untuk menggambarkan tentang apa itu: </p><br><p>  Di UI yang ada, untuk membuat <code>TextView</code> indentasi pada <code>30dp</code> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/683/ca2/b25/683ca2b253a68f623931819b8185ab89.png" alt="gambar" width="500"></div><br><p>  kita perlu menulis kode berikut: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/simpleTextView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:background</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/cyan"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:padding</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"30dp"</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">------------------------</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">NOTE</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">THIS</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Drag or tap on the seek bar"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Ini berarti bahwa di suatu tempat di dalam TextView.java atau superclasses ada logika yang tahu bagaimana cara menghitung dan menggambar indentasi. </p><br><p>  Mari kita lihat bagaimana Anda dapat melakukan hal yang sama di Compose: </p><br><pre> <code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">// note: the cyan background color is omitted for now to keep it simple Padding(30.dp) { Text("Drag or tap on the seek bar") }</span></span></code> </pre> <br><p>  <strong>Perubahan</strong> <br>  <code>TextView</code> menjadi <code>Text()</code> saja <code>Text()</code> .  Properti <code>android:padding</code> telah berubah menjadi <code>Padding</code> yang membungkus <code>Text</code> . </p><br><p>  <strong>Manfaatnya</strong> <br>  Dengan demikian, <code>Text</code> hanya bertanggung jawab untuk merender teks itu sendiri.  Dia tidak tahu bagaimana cara menghitung indentasi.  <code>Padding</code> , di sisi lain, hanya bertanggung jawab untuk padding dan tidak lebih.  Dapat digunakan di sekitar elemen lain. </p><br><h3 id="4-odnonapravlennyy-potok-dannyh">  4. Aliran data searah </h3><br><p>  Aliran data searah adalah konsep penting jika kita berbicara, misalnya, tentang mengendalikan keadaan <code>CheckBox</code> dalam sistem UI yang ada.  Ketika pengguna mengetuk <code>CheckBox</code> , statusnya menjadi <code>checked = true</code> : kelas memperbarui kondisi tampilan dan memanggil panggilan balik dari kode yang memantau perubahan negara. </p><br><p>  Kemudian, dalam kode itu sendiri, misalnya, di <code>ViewModel</code> , Anda perlu memperbarui variabel <code>state</code> terkait.  Anda sekarang memiliki dua salinan dari keadaan tertekan, yang dapat menimbulkan masalah.  Misalnya, mengubah nilai variabel <code>state</code> di dalam <code>ViewModel</code> akan menyebabkan <code>CheckBox</code> diperbarui, yang mungkin berakhir dalam loop tanpa akhir.  Untuk menghindari ini, kita harus membuat semacam tongkat penyangga. </p><br><p>  Menggunakan Compose akan membantu menyelesaikan masalah ini, karena didasarkan pada prinsip kemanunggalan.  Perubahan status akan diproses di dalam kerangka kerja: kami hanya memberikan model data ke dalam.  Selain itu, komponen dalam Compose sekarang tidak mengubah statusnya sendiri.  Sebaliknya, itu hanya memanggil panggilan balik, dan sekarang tugas aplikasi untuk mengubah UI. </p><br><h3 id="5-uluchshenie-otladki">  5. Meningkatkan debugging </h3><br><p>  Karena seluruh UI sekarang ditulis dalam Kotlin, Anda sekarang dapat men-debug UI.  Saya tidak mencoba ini sendiri, tetapi di podcast mereka mengatakan bahwa debugger dan breakpoint bekerja di Compose. </p><br><h1 id="hvatit-slov-pokazhite-kod">  Cukup kata-kata, tunjukkan kodenya </h1><br><p>  Saya tahu, saya ingin cepat melihat seperti apa UI dalam kode (spoiler: sangat mirip dengan Flutter jika Anda mencoba menulis di dalamnya). </p><br><p>  Kami akan mulai dengan membuat beberapa <code>View</code> sederhana, lalu membandingkan tampilannya di UI yang ada dan di Tulis. </p><br><h3 id="1-framelayout-vs-wrap--padding--background">  1. <code>FrameLayout</code> vs <code>Wrap + Padding + Background</code> </h3><br><p>  Kami menggunakan kembali contoh kami di atas dan mencoba membuat <code>TextView</code> ini menjorok pada <code>30dp</code> dengan latar belakang pirus: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/683/ca2/b25/683ca2b253a68f623931819b8185ab89.png" alt="`TextView` menjorok dalam` 30dp` dan latar belakang pirus" width="500"></div><br><p>  UI yang ada: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/simpleTextView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:background</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/cyan"</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">--------------</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">NOTE</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">THIS</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:padding</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"30dp"</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">------------------------</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">AND</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">THIS</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Drag or tap on the seek bar"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Sekarang lihat kode yang melakukan hal yang sama di Compose: </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Composable</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { Wrap { Padding(<span class="hljs-number"><span class="hljs-number">30</span></span>.dp) { DrawRectangle(color = Color.Cyan) Text(<span class="hljs-string"><span class="hljs-string">"Drag or tap on the seek bar"</span></span>) } } }</code> </pre> <br><p>  Inilah beberapa hal baru.  Karena <code>Text</code> hanya tahu tentang rendering teks, itu tidak peduli tentang padding dan latar belakang.  Karena itu, untuk menambahkannya, kita perlu menggunakan tiga fungsi terpisah: </p><br><ul><li>  <code>DrawRectangle</code> latar belakang </li><li>  <code>Padding</code> indent </li><li>  <code>Wrap</code> adalah fungsi yang overlay parameter seperti <code>FrameLayout</code> . </li></ul><br><p>  Mudah  Tapi ini sedikit berbeda dari sistem UI yang ada yang kita semua terbiasa. </p><br><h3 id="2-vertikalnyy-linearlayout-vs-column">  2. Vertikal <code>LinearLayout</code> vs <code>Column</code> </h3><br><p>  Sekarang mari kita coba melakukan sesuatu yang setara dengan <code>LinearLayout</code> lama kita yang baik. <br>  Untuk menempatkan dua elemen satu di bawah yang lain, seperti pada gambar di bawah ini, kita dapat menggunakan <code>Column</code> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/32c/9e9/29e/32c9e929e70b2f811aad977075a79e87.png" alt="Dua elemen satu di bawah yang lain" width="500"></div><br><p>  Kode akan terlihat seperti ini: </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Composable</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FormDemo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { Column(crossAxisAlignment = CrossAxisAlignment.Start) { Text(<span class="hljs-string"><span class="hljs-string">"Click the button below: "</span></span>) Button(text = <span class="hljs-string"><span class="hljs-string">"Next"</span></span>) } }</code> </pre> <br><p>  Bersarang di elemen <code>Column</code> akan terletak secara vertikal di bawah yang lain. </p><br><h3 id="2a-otstupy">  2a.  Lekukan </h3><br><p>  Anda mungkin memperhatikan bahwa teks dan tombol terlalu dekat ke tepi.  Karena itu, tambahkan <code>Padding</code> . </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Composable</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FormDemo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { Padding(<span class="hljs-number"><span class="hljs-number">10</span></span>.dp) { <span class="hljs-comment"><span class="hljs-comment">//   Column(crossAxisAlignment = CrossAxisAlignment.Start) { Text("Click the button below: ") Button(text = "Next") } } }</span></span></code> </pre> <br><p>  Itu terlihat lebih baik: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d1/d83/053/4d1d83053a411a9858b0feedab75de4a.png" alt="Dua elemen menjorok satu di bawah yang lain" width="500"></div><br><h3 id="2b-intervaly">  2b.  Interval </h3><br><p>  Kami juga dapat menambahkan beberapa lekukan antara <code>Text</code> dan <code>Button</code> : </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Composable</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FormDemo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { Padding(<span class="hljs-number"><span class="hljs-number">10</span></span>.dp) { Column(crossAxisAlignment = CrossAxisAlignment.Start) { Text(<span class="hljs-string"><span class="hljs-string">"Click the button below: "</span></span>) HeightSpacer(<span class="hljs-number"><span class="hljs-number">10</span></span>.dp) <span class="hljs-comment"><span class="hljs-comment">//    Button(text = "Next") } } }</span></span></code> </pre> <br><p>  Seperti apa tampilan layar kita sekarang: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2be/3d8/709/2be3d8709c5f83c72f15ab9b450e0ba6.png" alt="Dua elemen, satu di bawah yang lain, menjorok dan melewati" width="500"></div><br><h3 id="2c-gorizontalnyy-linearlayout-vs-row">  2c.  Horizontal <code>LinearLayout</code> vs <code>Row</code> </h3><br><p>  Tempatkan tombol kedua di sebelah yang pertama: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/351/842/b31/351842b31ea3fd8ec51a7585ea8efcad.png" alt="Saat tombol kedua" width="500"></div><br><p>  Kode untuk ini: </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Composable</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FormDemo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { Padding(<span class="hljs-number"><span class="hljs-number">10</span></span>.dp) { Column(crossAxisAlignment = CrossAxisAlignment.Start) { Text(<span class="hljs-string"><span class="hljs-string">"Click the button below: "</span></span>) HeightSpacer(<span class="hljs-number"><span class="hljs-number">10</span></span>.dp) Row { <span class="hljs-comment"><span class="hljs-comment">//   Button(text = "Back") //   WidthSpacer(10.dp) //    Button(text = "Next") } } } }</span></span></code> </pre> <br><p>  Di dalam <code>Row</code> dua tombol akan horisontal.  <code>WidthSpacer</code> menambahkan jarak di antara mereka. </p><br><h3 id="2d-gravity-vs-alignment">  2d.  <code>Gravity</code> vs <code>Alignment</code> </h3><br><p>  Sejajarkan elemen kami di tengah, seperti <code>gravity</code> di UI saat ini.  Untuk menunjukkan perbedaan, saya akan mengomentari baris lama dan menggantinya dengan yang baru: </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Composable</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FormDemo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { Padding(<span class="hljs-number"><span class="hljs-number">10</span></span>.dp) { <span class="hljs-comment"><span class="hljs-comment">// Column(crossAxisAlignment = CrossAxisAlignment.Start) { Column(crossAxisAlignment = CrossAxisAlignment.Center) { //  Text("Click the button below: ") HeightSpacer(10.dp) // Row { Row(mainAxisSize = FlexSize.Min) { //    Button(text = "Back") WidthSpacer(10.dp) Button(text = "Next") } } } }</span></span></code> </pre> <br><p>  Kami akan berhasil: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/346/e5c/ad7/346e5cad7f27352c91076001d2bf5cf0.png" alt="Penjajaran pusat" width="500"></div><br><p>  Dengan <code>crossAxisAlignment = CrossAxisAlignment.Center</code> elemen bersarang akan dipusatkan secara horizontal.  Kita juga harus mengatur parameter <code>Row</code> ke <code>mainAxisSize = FlexSize.Min</code> , mirip dalam perilaku untuk <code>layout_width = wrap_content</code> , sehingga tidak meregangkan layar karena default <code>mainAxisSize = FlexSize.Max</code> , yang berperilaku seperti <code>layout_width = match_parent</code> . </p><br><h3 id="2d-zamechanie">  2d.  Komentar </h3><br><p>  Dari apa yang kami lihat dalam contoh di atas, Anda dapat melihat bahwa semua elemen dibangun gabungan dari fungsi yang terpisah: <code>padding</code> adalah fungsi yang terpisah, <code>spacer</code> adalah fungsi yang terpisah, alih-alih menjadi properti di dalam <code>Text</code> , <code>Button</code> atau <code>Column</code> . </p><br><p>  Elemen yang lebih kompleks seperti <code>RecyclerView</code> atau <code>ConstraintLayout</code> sedang dalam pengembangan: oleh karena itu, saya tidak dapat menemukan contoh dengan mereka di sumber demo. </p><br><h3 id="3stili-i-temy">  3. Gaya dan Tema </h3><br><p>  Anda mungkin memperhatikan bahwa tombol-tombol di atas berwarna ungu secara default.  Ini karena mereka menggunakan gaya default.  Mari kita lihat bagaimana gaya bekerja di Compose. </p><br><p>  Dalam contoh di atas, <code>FormDemo</code> ditandai dengan anotasi <code>@Composable</code> .  Sekarang saya akan menunjukkan bagaimana elemen ini digunakan dalam <code>Activity</code> : </p><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) setContent { CraneWrapper{ MaterialTheme { FormDemo() } } } }</code> </pre> <br><p>  Alih-alih fungsi <code>setContentView()</code> , kami menggunakan <code>setContent()</code> , fungsi ekstensi dari pustaka <code>Compose.kt</code> . </p><br><p>  <code>CraneWrapper</code> berisi pohon Tulis dan menyediakan akses ke <code>Context</code> , <code>Density</code> , <code>FocusManager</code> dan <code>TextInputService</code> . </p><br><p>  <code>MaterialTheme</code> memungkinkan Anda untuk menyesuaikan tema untuk elemen. </p><br><p>  Misalnya, saya dapat mengubah warna utama tema menjadi cokelat sebagai berikut: </p><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) setContent { CraneWrapper{ <span class="hljs-comment"><span class="hljs-comment">// MaterialTheme { MaterialTheme(colors = MaterialColors(primary = Color.Maroon)) { FormDemo() } } } }</span></span></code> </pre> <br><p>  Sekarang layar kita akan terlihat seperti ini: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f1/783/c01/8f1783c0159c45c314c05724969d7000.png" alt="Maroon sebagai warna dasar" width="500"></div><br><p>  Warna dan font lain yang dapat diubah: <a href="">MaterialTheme.kt # 57</a> </p><br><p>  Kegiatan Rally memberikan contoh yang baik tentang bagaimana menyesuaikan topik: <a href="">kode sumber ke RallyTheme.kt</a> </p><br><h1 id="chto-posmotretpochitat">  Apa yang dilihat / dibaca </h1><br><p>  Jika Anda menginginkan lebih, Anda dapat mengumpulkan proyek sampel sesuai dengan <a href="">instruksi di sini</a> . </p><br><p>  Saat pengguna Windows menulis, sekarang tidak ada cara resmi untuk meluncurkan Compose, tetapi ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">panduan</a> tidak resmi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari kotlinlang Slack</a> . </p><br><p>  Pertanyaan tentang Tulisan dapat ditanyakan kepada pengembang di saluran <code>#compose</code> kotlinlang Slack. </p><br><p>  Tinggalkan tautan lain di komentar - yang paling berguna akan ditambahkan di sini. </p><br><h1 id="vyvody">  Kesimpulan </h1><br><p>  Pengembangan perpustakaan ini berjalan lancar, sehingga setiap antarmuka yang ditampilkan di sini dapat berubah.  Masih ada banyak hal yang dapat Anda pelajari dalam kode sumber, seperti <code>@Model</code> dan aliran data searah (aliran data searah).  Mungkin ini adalah topik untuk artikel selanjutnya. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id461101/">https://habr.com/ru/post/id461101/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461087/index.html">Menghasilkan ruang bawah tanah dan gua untuk game saya</a></li>
<li><a href="../id461091/index.html">Lampu Camelion LED</a></li>
<li><a href="../id461093/index.html">Berita dari dunia OpenStreetMap No. 469 (07/09/2019 - 07/07/2019)</a></li>
<li><a href="../id461095/index.html">Apollo Guidance Computer - arsitektur dan perangkat lunak sistem. Bagian 1</a></li>
<li><a href="../id461099/index.html">Game AirAttack! - Pengalaman pengembangan VR pertama kami</a></li>
<li><a href="../id461105/index.html">5 plugin webpack bermanfaat</a></li>
<li><a href="../id461107/index.html">Dosimeter untuk Seryozha. Bagian II Tabung centenary vs atom damai</a></li>
<li><a href="../id461113/index.html">Lima tahun menggunakan C ++ untuk proyek-proyek mikrokontroler dalam produksi</a></li>
<li><a href="../id461121/index.html">Eksperimen multitasking kecil dalam mikrokontroler</a></li>
<li><a href="../id461125/index.html">Tugas membuat kode numerik berurutan untuk penomoran pesan dalam kode sumber di Visual Studio (mis. C #)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>