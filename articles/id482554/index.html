<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐰 👽 🔪 Rumah pintar dengan Xiaomi pada contoh mandi 📖 👇🏾 📔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Di Internet ada cukup banyak ulasan dan video tentang membangun rumah pintar. Ada pendapat bahwa semua ini cukup mahal dan menyusahkan dalam organisas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rumah pintar dengan Xiaomi pada contoh mandi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plesk/blog/482554/"> Di Internet ada cukup banyak ulasan dan video tentang membangun rumah pintar.  Ada pendapat bahwa semua ini cukup mahal dan menyusahkan dalam organisasi, yaitu, secara umum, banyak geek.  Namun kemajuan tidak berhenti.  Perangkat menjadi lebih murah, sementara lebih fungsional, dan desain dan pemasangannya cukup sederhana.  Namun, pada dasarnya, ulasan fokus pada 1-2 contoh penggunaan, praktis tidak mencakup nuansa dan tanpa membuat gambar holistik.  Oleh karena itu, dalam artikel ini saya ingin meninjau proyek yang sudah selesai, mendemonstrasikan skenario penggunaan dan perangkap yang ditemukan dalam membangun rumah pintar menggunakan perangkat Xiaomi menggunakan pemandian sebagai contoh.  Ide-ide yang dijelaskan dengan sedikit variasi dapat diterapkan pada otomatisasi apartemen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9h/lb/tj/9hlbtjf6rdghf--lzwsq-5bysk8.jpeg" alt="gambar" width="400" height="400"></div><br><a name="habracut"></a><br><h2>  Latar belakang atau mengapa semua ini diperlukan </h2><br>  Sebagai permulaan, sedikit latar belakang untuk membuat konteksnya jelas.  Pada awal musim gugur 2018, finishing bak telah selesai dan dioperasikan.  Pemandian ini adalah bangunan modal otonom dengan pemanas dan pasokan air sepanjang tahun. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ns/wd/o5/nswdo5svyprgue1sgxhojmb83kk.jpeg" alt="gambar"></div><br>  Untuk alasan yang jelas, tidak ada yang terus-menerus tinggal di pemandian dan tidak mengontrol kondisi tempat.  Seperti yang saya inginkan, kunjungan ke kamar mandi juga bukan acara yang sangat sering.  Oleh karena itu, pemikiran untuk membuat pemandian "pintar" hadir sejak awal proyek.  Pertama-tama, demi keamanan (kebakaran, banjir, kontrol akses).  Misalnya, mematikan pemanasan pada -35 derajat di jalan (saya tinggal di Novosibirsk) adalah situasi yang sangat berbahaya.  Namun, tidak seperti rumah utama, saya tidak memikirkan proyek otomatisasi pemandian sejak awal dan tidak membuat kabel tambahan ke tempat yang tepat.  Di sisi lain, Internet dilakukan di pemandian, dan pengawasan video sedang dilakukan untuk penampilan dari dua bangunan lain (Anda dapat mengevaluasi apa yang terjadi secara visual). <br><br>  Setelah kembali dari perjalanan bisnis pada November 2019, pada malam hari saya pergi ke pemandian, membuka pintu depan dan terkejut dengan apa yang saya lihat.  LED WiFi-point berkedip kepada saya dari kegelapan, dan aliran air menyembur ke kaki saya.  Artinya, banjir terjadi, sementara listrik tidak padam.  Air di pemandian diatur menggunakan sumurnya sendiri, pompa submersible dan otomatisasi yang mengontrol proses.  Ternyata kemudian, salah satu perlengkapan di persimpangan di toilet terganggu dan membanjiri semua kamar.  Saya tidak pernah tahu mengapa otomatisasi kasihan dan masih dimatikan, tetapi dia berhasil memompa air 15 cm menjadi 30 kotak.  Di jalan hari itu adalah -14 derajat.  Lantai yang hangat diatasi, terus menjaga suhu kamar pada tingkat yang tepat, tetapi 100% kelembaban muncul.  Tidak mungkin menunda-nunda lebih jauh tentang pengorganisasian rumah pintar - Anda harus mulai melakukannya. <br><br><h2>  Pemilihan peralatan </h2><br>  Selama pembangunan rumah utama, saya memperoleh pengalaman bekerja dengan perangkat <a href="https://eldesalarms.com/">Eldes</a> (kabel yang sesuai dibuat).  Bagian dari otomatisasi dilakukan pada <a href="https://www.raspberrypi.org/">Raspberry PI</a> .  Bagian lainnya adalah <a href="https://www.aqara.com/en/home.html">perangkat Xiaomi Aqara</a> .  Pilihan dengan Raspberry PI adalah yang paling menarik bagi saya dan awalnya dianggap untuk pemandian.  Tetapi, sayangnya, ini membutuhkan upaya organisasi yang jauh lebih besar.  Ini masih bukan perangkat plug-and-play - dimulai dengan latihan dengan perangkat keras dan diakhiri dengan menulis perangkat lunak untuk kebutuhan Anda sendiri.  Untuk alasan tertentu, <a href="https://mjdm.ru/">MajorDoMo</a> tidak senang.  Melintasi Raspberry PI, ZigBee Adapter (untuk menggunakan sensor nirkabel Xiaomi) dan Apple HomeKit diperlukan studi (dan antarmuka Apple HomeKit tidak begitu bahagia saat ini).  Tidak ada banyak waktu (saya tidak ingin mengulangi situasinya), dan tidak ada kabel untuk setiap titik yang diinginkan, jadi saya memutuskan untuk melakukan segalanya pada perangkat Xiaomi. <br><br>  Perangkat utama dalam situasi ini adalah hub.  Dalam kasus Xiaomi, ada dua opsi untuk hub: Xiaomi Mi Smart Home Gateway 2 dan Xiaomi Aqara Gateway.  Yang terakhir sekitar dua kali lebih mahal, lebih cocok untuk pasar lokal dan mampu mengintegrasikan perangkat ke dalam Apple HomeKit.  Namun, jika Anda menginstal aplikasi Aqara Home dan memilih wilayah "Rusia", maka pada saat penulisan baris ini, hanya 13 perangkat yang berbeda (sakelar, soket, sensor) yang akan tersedia.  Jika Anda menginstal aplikasi Xiaomi Home, pilih wilayah "China Daratan", maka ratusan perangkat akan tersedia untuk koneksi.  Namun, jika Anda memilih wilayah "China Daratan", Anda tidak akan dapat menghubungkan outlet Eropa dan sebaliknya.  Memilih wilayah "China Daratan" sebagai bagian dari aplikasi Aqara Home tidak memberikan kelengkapan perangkat yang ada di Xiaomi Home dengan wilayah yang sama.  Takut tidak kompatibel, saya memutuskan untuk berhenti di hub Xiaomi Mi Smart Home Gateway 2. Harga masalah sekitar 2000 p.  By the way, hub itu sendiri bertindak sebagai lampu - ini dapat diperhitungkan selama instalasi. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vs/ul/kx/vsulkxlnghjjindbwwmxw9aemxq.jpeg" alt="gambar"></div><br>  Pertanyaan menarik yang terpisah adalah berapa lama ini akan berhasil.  Ini bahkan bukan tentang sensor dan baterai di dalamnya, tetapi tentang sinkronisasi dan penyimpanan data di cloud.  Akun saat ini gratis.  Semua informasi disimpan di server Xiaomi.  Jika besok orang-orang memutuskan bahwa pengguna dari Rusia tidak boleh menyimpan data di wilayah "China Daratan" atau jika Roskomnadzor melarang server mereka karena suatu alasan, maka seluruh rumah pintar berisiko berubah menjadi labu.  Saya memutuskan sendiri bahwa dalam hal ini sensor akan tetap ada, dan hub akan diganti oleh Raspberri PI + ZigBee Adapter. <br><br><h2>  Kontrol dan pencegahan kebocoran </h2><br>  Skenario otomatisasi pertama dan paling penting adalah kelanjutan alami dari masalah - dengan kebocoran, Anda harus mematikan pasokan air, yaitu pompa, dan mengirim pemberitahuan tentang masalah ke telepon.  Ada dua tempat yang berpotensi berbahaya untuk terjadinya kebocoran. <br><br>  Selain hub untuk skenario ini, dua sensor kebocoran dan soket yang pintar dipasang di dinding diperlukan.  Harga sensor kebocoran sekitar 1400 r.  Harga stopkontak cerdas sekitar 1700 p.  Sensor kebocoran bersifat otonom, mereka beroperasi pada baterai.  Pabrikan mengklaim bahwa satu baterai sudah cukup untuk 2 tahun. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bt/d3/q2/btd3q2gftpvfsf_drdszmsisfwm.jpeg" alt="gambar"></div><br>  Memasang outlet pintar agak rumit karena diperlukan soket persegi untuk outlet Cina, yang tidak dijual di toko biasa kami (tetapi dapat dipesan sesuai pesanan).  Pengeboran lubang persegi masih menyenangkan.  Plus, dengan cara yang baik Anda membutuhkan adaptor, meskipun ada juga outlet untuk colokan Eropa.  Dalam versi Aqara untuk pasar lokal, saat ini tidak ada stopkontak untuk pemasangan di dinding, yang mengikat kami ke wilayah "China Daratan".  Atau, Anda bisa memasang outlet biasa, colokkan smart outlet dengan plug dari Xiaomi ke dalamnya, tetapi ini membutuhkan dua adapter tambahan.  Alternatif lain adalah relay.  Tapi saya memilih outlet yang terpasang di dinding. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qe/rg/pg/qergpgrjkaqqosy5xr2pqc_hli8.jpeg" alt="gambar"></div><br>  Dalam aplikasi Xiaomi Home, soket dan sensor telah ditambahkan.  Selanjutnya, skenario "jika terjadi kebocoran" ditentukan untuk dua tindakan: matikan outlet dan kirim peringatan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p7/pj/ub/p7pjubzhpjzb6tt_aoxrdd20_fs.jpeg" alt="gambar"></div><br>  Sensor kebocoran pertama dipasang di sebelah pompa (dan, pada kenyataannya, di sebelah hub).  Untuk pengujian, air dituangkan ke piring kecil, dan sensor diturunkan ke dalamnya.  Saya melakukan semua tindakan langsung di lokasi pemasangan sensor untuk membawa situasi sedekat mungkin dengan kenyataan.  Tes berhasil: soket dimatikan, pemberitahuan datang ke telepon, ditambah hub berkedip dalam mode darurat. <br><br>  Detektor kebocoran kedua direncanakan akan dipasang di toilet di sebelah persimpangan pipa.  Tetapi dengan pemasangannya, nuansa muncul - hub tidak melihat sensor, meskipun jaraknya kecil.  Alasannya adalah konfigurasi tempat. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ce/33/gb/ce33gbivdrkzwq2f4t-vghi69ki.jpeg" alt="gambar"></div><br>  Ada ruang uap antara lokasi pemasangan hub (ruang relaksasi) dan lokasi pemasangan sensor kebocoran kedua (toilet).  Ruang uap, dalam tradisi terbaik, dijahit ke dalam lingkaran dengan kertas timah, menciptakan masalah dengan berlalunya sinyal. <br><br>  Pabrikan mengklaim bahwa perangkat dapat membentuk jaringan mesh, yaitu, satu perangkat dapat mengirimkan data ke hub melalui perangkat lain.  Di suatu tempat saya menemukan informasi bahwa hanya perangkat yang terhubung ke jaringan (dan bukan pada baterai) dapat bertindak sebagai pemancar tersebut dalam jaringan mesh.  Namun, sudah cukup bagi saya untuk memasang sensor suhu di sudut kamar mandi sehingga sinyal dari sensor kebocoran tidak lagi hilang.  Mungkin ini kebetulan, karena nanti di kamar kecil di bawah langit-langit sebuah relay untuk mengendalikan lampu jalan dipasang (mungkin bertindak sebagai pemancar dalam jaringan mesh).  Namun, masalah hilangnya sinyal dari sensor kebocoran di toilet telah teratasi.  Selain itu, Anda dapat memeriksa koneksi perangkat dengan hub dengan mengklik sensor di tengah.  Jika semuanya baik-baik saja, maka dalam bahasa Cina murni, informasi yang relevan akan terdengar dari hub (dalam kasus hub Aqara, komunikasi akan menggunakan bahasa Inggris yang menyenangkan). <br><br>  Memeriksa shutdown dan kemudian menyalakan listrik menggunakan mesin menunjukkan bahwa smart socket masuk ke kondisi mati.  Agar dapat beralih ke keadaan aktif saat listrik muncul, ada pengaturan yang sesuai: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7m/mp/rv/7mmprvrfrwirqrveigp5hk5rbna.jpeg" alt="gambar"></div><br>  Tanda tambahan banjir ruangan adalah peningkatan kelembaban hingga 100%.  Pada kontrol gejala ini - di bagian selanjutnya. <br><br><h2>  Kontrol asap dan suhu </h2><br>  Pemandian adalah ruang bahaya kebakaran, jadi skenario berikut adalah untuk mengidentifikasi tanda-tanda kebakaran. <br><br>  Untuk skenario ini, dua sensor suhu (dan kelembaban) dan sensor asap diperlukan.  Harga sensor suhu sekitar 1000 r.  Detektor asap berharga sekitar 2000 p.  Dalam versi Aqara untuk wilayah lokal, saat ini tidak ada pendeteksi asap, yang lagi-lagi mengikat kami ke wilayah "Daratan China". <br><br>  Detektor asap dipasang di langit-langit koridor di ruang cuci (sebenarnya tidak jauh dari kompor dan ruang uap keluar).  Kemudian, dalam aplikasi Xiaomi Home, perangkat ditambahkan dan skenario "jika terdeteksi asap" dibuat, diikuti dengan mengirimkan pemberitahuan ke telepon.  Tes dilakukan oleh sebuah rak perapian.  Sensor berhasil menyelesaikan tes.  Hub berkedip dengan alarm, ditambah peringatan terdengar bekerja.  Sensor itu sendiri juga berbunyi sangat keji dan keras, memperingatkan tentang masalahnya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/ej/jg/zgejjg01wv9ayueq8tzptcumzs8.jpeg" alt="gambar"></div><br>  Tanda api lainnya adalah kenaikan suhu.  Untuk memantau suhu, dua sensor dipasang: satu di kamar kecil, yang lain di kamar mandi.  Kemudian, dalam aplikasi, skenario "dalam hal suhu lebih tinggi dari set" dikonfigurasi dengan notifikasi yang sesuai ke telepon.  Saat ini, saya menetapkan ambang batas untuk ruang relaksasi pada 30 derajat (di musim panas, mungkin, saya perlu mengkonfigurasi ulang). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nq/0w/pj/nq0wpjrfwe3nsl6hfpnjxwsuzhq.jpeg" alt="gambar"></div><br>  Juga, skenario itu diatur "dalam kasus suhu di bawah set" dengan ambang batas 18 derajat dan peringatan ke telepon.  Jika karena suatu alasan pemanasan berhenti bekerja, saya ingin mengetahuinya sesegera mungkin.  Demikian pula, skenario "dalam kasus peningkatan kelembaban" diciptakan untuk kedua sensor dengan ambang batas 70%, peringatan ke telepon dan penutupan pompa pasokan air. <br><br>  Dari bonus menyenangkan untuk sensor suhu dan kelembaban, grafik historis tersedia di aplikasi.  Anda dapat, misalnya, menentukan pada saat-saat mandi apa yang digunakan untuk tujuan yang dimaksudkan (suhu puncak pada grafik di bawah) atau membandingkan apakah suhu saat ini tidak normal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/tb/av/cftbaviejmlpp8nndfwizm6un60.jpeg" alt="gambar"></div><br><br><h2>  Kontrol ventilasi </h2><br>  Ekstrak paksa dari tempat diatur di ruang uap.  Setelah menyelesaikan prosedur, disarankan untuk ventilasi ruangan.  Ventilasi dihidupkan oleh saklar kunci, dan ventilasi itu sendiri membutuhkan setidaknya 30 menit.Namun, sering berkumpul di pemandian berakhir pada jam pertama atau kedua malam itu.  Tidak selalu mungkin melakukan semuanya di muka, tetapi duduk di akhir selama 30 menit tambahan dan menunggu sampai ruang uap berventilasi adalah kesenangan di bawah rata-rata karena fakta bahwa Anda sudah ingin tidur. <br><br>  Untuk skenario ini, kami membutuhkan sakelar kunci dari Xiaomi dengan garis nol dan pemasangan di dinding.  Harga masalah ini sekitar 1900 p.  Switch tersedia dalam versi Aqara untuk pasar lokal. <br><br>  Dalam kasus saya, tidak mungkin untuk hanya mengganti sakelar konvensional dengan sakelar cerdas - kabel daya diperlukan.  Karena itu, saya harus meregangkan garis nol ke lubang pemasangan untuk sakelar, karena ada peluang seperti itu.  Dalam hal saklar tanpa garis nol, pemasangan akan lebih mudah. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q0/k2/p-/q0k2p-qvozvt_zk3e-i407jprhk.jpeg" alt="gambar"></div><br>  Setelah instalasi, saklar pintar ditambahkan ke aplikasi sebagai perangkat dan kinerjanya diuji.  Ada timer dalam pengaturan sakelar, dan Anda dapat mengatur waktu untuk mematikan.  Artinya, sekarang, sebelum meninggalkan kamar mandi, timer mati diatur untuk tambahan 30 menit ventilasi, dan Anda dapat dengan aman pergi tidur. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9e/4c/5g/9e4c5gckmsp0dsiekxkbvhk5imk.jpeg" alt="gambar"></div><br>  Satu lagi opsi otomatisasi proses dimungkinkan.  Setelah mandi, selain ventilasi, pintu ruang uap terbuka sepenuhnya.  Hal ini menyebabkan peningkatan suhu di ruang cuci, di mana sensor suhu dipasang.  Berdasarkan bacaan sensor ini, Anda dapat membuat skenario ventilasi on / off.  Tapi saya belum menjalankan opsi ini.  Selain itu, seseorang dapat bereksperimen dengan sensor pintu ruang uap terbuka.  Tapi, saya khawatir dia akan cepat mati atau jatuh, karena pintunya terbuat dari kaca, dan di ruang uap juga bisa 120 derajat. <br><br><h2>  Kontrol lampu jalan </h2><br>  Tugas lain yang ingin saya otomatisasi adalah mengendalikan lampu jalan di beranda.  Salah satu skenario khas: nyalakan lampu di beranda ketika Anda berada di dekat gedung dan gelap di luar.  Kamar mandinya terkunci, sakelar lampu jalan berada di dalam ruangan.  Saya harus mencari kunci untuk membuka pintu dan menyalakan lampu.  Mematikan lampu membutuhkan prosedur yang sama.  Skenario lain yang muncul secara teratur: nyalakan atau matikan lampu di beranda saat Anda berada di rumah utama.  Cukup sering, ketika meninggalkan rumah pemandian, saya lupa mematikan lampu di beranda dan menemukan ini ketika saya berada di rumah: apakah dengan melihat ke luar jendela atau dengan melihat kamera pengintai.  Pada saat ini, keengganan biasanya tidak ke mana-mana, sehingga cahaya terus menyala sepanjang malam. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cc/tg/ex/cctgexbilx-hsr-tomjp9cs0gl8.jpeg" alt="gambar"></div><br>  Untuk menerapkan gagasan ini, relay dua saluran dibeli.  Harga masalah ini sekitar 2000 p.  Relai dalam versi Aqara untuk pasar lokal saat ini tidak ada.  Tapi itu bisa diganti dengan saklar kunci (jelas bahwa menginstalnya di kotak distribusi adalah proses yang lebih sulit). <br><br>  Awalnya, saya bermaksud memasang relai di belakang saklar kunci, namun ternyata sangat bermasalah untuk menarik kabel daya ke tempat yang tepat (sekali lagi, relai membutuhkan daya).  Tempat yang ideal adalah kotak persimpangan di mana kabel listrik, kabel dari saklar dan kabel dari lampu jalan bertemu.  Itu di bawah langit-langit palsu, yang mengarah pada pembongkaran beberapa rel lapisan.  Dianjurkan untuk memikirkan hal ini sebelumnya.  Namun, instalasi berhasil diselesaikan.  Diagram pengkabelan jauh lebih rumit daripada soket dan sakelar (dalam kasus saya, empat kabel 3-kawat dan 8 terminal pada relai itu sendiri).  Agar tidak diingat dan tidak membingungkan apa pun, saya membuat diagram pada selembar kertas sebelum dipasang.  Kemudian saya melakukan instalasi percobaan untuk memeriksa semuanya: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bz/n5/gd/bzn5gdba_obeh-ja73lxl2fdvjc.jpeg" alt="gambar"></div><br>  Perangkat terhubung dalam aplikasi, dan tahap pengujian telah dimulai.  Lampu jalan seharusnya dinyalakan / dimatikan sebagai sakelar kunci yang sudah ada sebelumnya, dan menggunakan aplikasi.  Ada dua lampu di jalan - satu di sebelah kiri, yang lain di sebelah kanan.  Relai memiliki dua saluran, tetapi tidak masuk akal untuk menyalakannya secara terpisah.  Di sisi lain, saya tidak ingin memasukkan mereka pada gilirannya dengan dua klik dalam aplikasi.  Oleh karena itu, kontrol dilakukan pada satu saluran relai.  Secara kebetulan yang aneh, opsi ini tidak bekerja secara normal - ada yang menempel di satu atau lain posisi.  Tidak ada banyak waktu untuk bereksperimen lagi, karena siang hari berakhir dan saya ingin merakit lapisan belakang langit-langit.  Oleh karena itu, saya hanya menangkap lampu secara paralel di kedua saluran dan semuanya berjalan sesuai keinginan saya.  Agar switch fisik dan perangkat lunak berfungsi sebagai pass-through, opsi Interlock dihidupkan dalam pengaturan relai. <br><br>  Juga dimungkinkan untuk mengatur lampu timer on / off.  Tetapi skenario ini belum tertarik. <br><br><h2>  Kontrol Akses </h2><br>  Momen penasaran lainnya adalah kontrol atas pembukaan pintu jalan.  Pertama-tama, untuk menentukan dan memberi tahu bahwa seseorang lupa untuk menutup pintu ini secara normal atau sepenuhnya membiarkannya terbuka. <br><br>  Untuk skenario ini, diperlukan sensor pembuka jendela / pintu.  Harga masalah adalah sekitar 1000 r.  Ada sensor yang dibuat oleh Aqara untuk pasar lokal (mereka dengan tepi kurang bulat). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pb/fy/id/pbfyidivjmpgggpxrwxowgeq-h8.jpeg" alt="gambar"></div><br>  Instalasi sangat sederhana - sensor dipasang pada pita dua sisi.  Sebelum memasang, lebih baik menghubungkan sensor dalam aplikasi untuk melihat pada jarak berapa operasi terjadi.  Instruksi menulis tentang celah hingga 20 mm, tetapi ini, secara halus, tidak benar - sensor dan magnet respons harus dipasang hampir rata.  Di rumah utama, sensor serupa dipasang di pintu garasi.  Di antara pemandu dan kerah ada permen karet dengan lebar 1 cm. Pada jarak ini, sensor menunjukkan posisi "terbuka" dan harus meningkatkan magnet respon. <br><br>  Setelah perangkat baru ditambahkan ke aplikasi, Anda dapat melanjutkan ke otomatisasi.  Kami mengonfigurasi skenario "jika pintu terbuka selama lebih dari 1 menit" dengan pemberitahuan ke telepon.  Dalam lokalisasi bahasa Inggris, bagian dari frasa sekitar 1 menit tidak terlihat, tetapi ambang responsnya hanya itu.  Pada sensor Aqara dan aplikasi Aqara Home, interval pemicu lainnya dapat dikonfigurasi.  Sayangnya, ini belum dapat dilakukan dalam aplikasi Xiaomi Home.  Tetapi latihan telah menunjukkan bahwa interval 1 menit lebih dari cukup - tidak ada positif palsu, semua positif ada dalam kasing.  Anda juga dapat melihat log dengan sensor.  Sensor ini tidak terkecuali.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mungkin, misalnya, untuk menentukan dengan log ketika Anda datang ke pemandian (pintu pertama dibuka hari itu) dan ketika mereka pergi (pintu terakhir ditutup), sehingga memperkirakan total waktu yang dihabiskan di ruangan. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wk/uv/ry/wkuvryxsyoah4u-7dwoj0yct9a4.jpeg" alt="gambar"></div><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tayangan Operasi </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengalaman operasi keseluruhan adalah murni positif. </font><font style="vertical-align: inherit;">Tentu saja, ada beberapa nuansa minor, tetapi tujuan utama otomatisasi telah tercapai. </font><font style="vertical-align: inherit;">Pertama-tama, ini adalah ketenangan psikologis, dikonfirmasi oleh hasil tes. </font><font style="vertical-align: inherit;">Kenyamanan juga penting - kendali jarak jauh untuk penerangan jalan, knalpot didapat, lampu malam tambahan muncul. </font><font style="vertical-align: inherit;">Setelah berlibur, Anda bisa mengingat dan mematikan air. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Biaya semua perangkat di atas dalam bentuk perkiraan (tanpa referensi ke toko tertentu) diberikan di bawah ini. </font><font style="vertical-align: inherit;">Ketika memesan pada AliExpress, harga akan berbeda dalam arah yang lebih kecil.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i9/ij/pf/i9ijpffhxd2i-jaq00ieo58eupo.png" alt="gambar"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketika memilih satu set peralatan, perlu untuk mempertimbangkan kompatibilitas akun (untuk wilayah tertentu peralatan ini diproduksi dan untuk keluarga yang termasuk di dalamnya). Dalam kerangka aplikasi, tidak akan mungkin untuk membuat skenario yang, misalnya, oleh acara pendeteksi asap (untuk wilayah "China Daratan") akan mengontrol outlet untuk wilayah Eropa. Jika Anda tidak memerlukan jenis detektor asap yang eksotis, maka lebih baik untuk melihat perangkat Aqara untuk pasar lokal. Pada akhirnya, relai dapat diganti, misalnya, dengan sakelar dua tombol. Sejumlah toko yang menjual perangkat Xiaomi tampaknya mengimpornya dalam warna abu-abu (perangkat ini dirancang untuk wilayah China). Tapi, misalnya, Messenger, perangkat beruntung yang dirancang untuk pasar kita. Selain kompatibilitas outlet yang sama, mereka juga akan berisi instruksi dalam bahasa Inggris dan Rusia. Di bawah ini adalah foto dari dua sensor yang identik,tetapi untuk wilayah yang berbeda (Cina internal - di sebelah kiri dan Eropa eksternal - di sebelah kanan):</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uw/ph/x_/uwphx_titz3r1-hhwlduqxmzlwg.jpeg" alt="gambar"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Responsif kontrol melalui aplikasi tidak selalu baik. Sebagai contoh, kadang-kadang Anda mungkin menghadapi situasi yang, berulang-ulang alih-alih menyalakan lampu, kami mendapatkan kesalahan dalam semangat "permintaan gagal". Perawatan yang diidentifikasi secara eksperimental - membongkar aplikasi dari memori dan menghidupkannya kembali - memecahkan masalah ini lebih cepat daripada menunggu jawaban pada upaya berikutnya. Juga, kadang-kadang ada penundaan nyata (hingga 20-30 detik) dengan memperbarui status sensor. Pada saat-saat ini, lebih baik untuk tidak menekan tombol power on / off lagi, tetapi tunggu saja statusnya diperbarui. Saat memulai aplikasi dalam beberapa situasi, Anda dapat melihat daftar kosong dan bukan daftar perangkat. Tidak perlu panik - biasanya muncul dalam beberapa detik berikutnya. Pemberitahuan di telepon tidak dilokalkan dan penamaan acara yang tepat menghemat.Selain itu, penulis aplikasi secara berkala menggunakan saluran pemberitahuan push untuk iklan (sekali lagi dalam bahasa Cina). Ini, tentu saja, saya tidak suka, tetapi tidak ada banyak pilihan.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya harap artikel ini membantu mendapatkan ide bagus tentang kemampuan sejumlah perangkat Xiaomi untuk membangun rumah pintar dan skenario aplikasi praktisnya. </font><font style="vertical-align: inherit;">Jika Anda memiliki pertanyaan, ada koreksi dan tambahan, saya akan senang mendiskusikannya di komentar.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id482554/">https://habr.com/ru/post/id482554/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id482544/index.html">Mengumpulkan tim startup dengan "0" - petunjuk langkah demi langkah untuk yang terkecil</a></li>
<li><a href="../id482546/index.html">VK Tech: Setahun Pengembangan dalam Nomor Git</a></li>
<li><a href="../id482548/index.html">Minggu Keamanan 52 +1: berita top 3 non-standar tahun ini</a></li>
<li><a href="../id482550/index.html">Program LyX yang misterius. Bagian 2</a></li>
<li><a href="../id482552/index.html">Registrasi dan otorisasi menggunakan Spring Security menggunakan aplikasi sederhana sebagai contoh</a></li>
<li><a href="../id482558/index.html">Para ilmuwan pertama kali membunuh virus herpes tidur di sel manusia</a></li>
<li><a href="../id482560/index.html">Cara menulis teks mudah</a></li>
<li><a href="../id482562/index.html">Komputer pribadi seharusnya mati sepuluh tahun yang lalu: apa yang terjadi sebagai gantinya</a></li>
<li><a href="../id482564/index.html">Jika semua cerita ditulis dalam gaya fiksi ilmiah</a></li>
<li><a href="../id482566/index.html">Generasi nirkabel terbaru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>