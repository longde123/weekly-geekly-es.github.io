<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõê üßëüèº‚Äçü§ù‚Äçüßëüèº üë®üèº‚Äçüîß Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 7: El sandbox del cliente nativo, parte 1 üëáüèæ üë©üèø‚Äçü§ù‚Äçüë®üèæ üì∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnolog√≠a de Massachusetts. Conferencia Curso # 6.858. "Seguridad de los sistemas inform√°ticos". Nikolai Zeldovich, James Mickens. A√±o 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 7: El sandbox del cliente nativo, parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418223/"><h3>  Instituto de Tecnolog√≠a de Massachusetts.  Conferencia Curso # 6.858.  "Seguridad de los sistemas inform√°ticos".  Nikolai Zeldovich, James Mickens.  A√±o 2014 </h3><br>  Computer Systems Security es un curso sobre el desarrollo e implementaci√≥n de sistemas inform√°ticos seguros.  Las conferencias cubren modelos de amenazas, ataques que comprometen la seguridad y t√©cnicas de seguridad basadas en trabajos cient√≠ficos recientes.  Los temas incluyen seguridad del sistema operativo (SO), caracter√≠sticas, gesti√≥n del flujo de informaci√≥n, seguridad del idioma, protocolos de red, seguridad de hardware y seguridad de aplicaciones web. <br><br>  Lecci√≥n 1: "Introducci√≥n: modelos de amenaza" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 2: "Control de ataques de hackers" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 3: ‚ÄúDesbordamientos del b√∫fer: exploits y protecci√≥n‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 4: ‚ÄúSeparaci√≥n de privilegios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 5: ‚Äú¬øDe d√≥nde vienen los sistemas de seguridad?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> <br>  Lecci√≥n 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 7: ‚ÄúSandbox de cliente nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Hoy hablaremos de un sistema llamado <b>Native Client</b> , que <b>Google</b> usa en el mundo real.  Es una tecnolog√≠a sandbox para ejecutar c√≥digo en diferentes plataformas.  Se utiliza en el <b>navegador Chrome</b> , lo que permite que las aplicaciones web ejecuten c√≥digo de m√°quina arbitrario.  Este es en realidad un sistema bastante bueno.  Tambi√©n ilustra las capacidades de aislamiento y una peculiar caja de arena o t√©cnica de separaci√≥n de privilegios llamada <b>aislamiento de falla de software, aislamiento de falla de software</b> , sin usar el sistema operativo o la m√°quina virtual para crear la caja de arena. <br><br><img src="https://habrastorage.org/webt/pm/pn/i2/pmpni2s7ydakqxa5tzszbpp2pbu.jpeg"><br><br>  En cambio, <b>Native Client</b> adopta un enfoque completamente diferente para mirar instrucciones espec√≠ficas en un archivo binario para averiguar si es seguro ejecutarlo o no.  Por lo tanto, antes de comenzar a estudiar los detalles t√©cnicos del sistema, descubramos por qu√© estos tipos realmente quieren ejecutar c√≥digo de m√°quina.  Su inter√©s espec√≠fico es aplicar esta soluci√≥n en un navegador web, donde ya puede ejecutar c√≥digo <b>JavaScript</b> , <b>Flash Player</b> y algunos otros procesos.  ¬øPor qu√© estos chicos est√°n tan entusiasmados con la capacidad de ejecutar c√≥digo en la plataforma <b>x86</b> ?  Despu√©s de todo, parece que esto es un paso atr√°s. <br><br>  <b>Audiencia:</b> quieren obtener c√°lculos muy r√°pidos. <br><br>  <b>Profesor:</b> s√≠, esta es una gran ventaja del c√≥digo de m√°quina.  Incluso si puede ser inseguro a largo plazo, proporciona un alto rendimiento.  Todo lo que no har√≠a en <b>JavaScript</b> , por ejemplo, escribir un programa y compilarlo, realmente funcionar√° mucho m√°s r√°pido.  ¬øHay alguna otra raz√≥n? <br><br>  <b>Audiencia: ¬ø</b> Ejecutando c√≥digo existente? <br><br>  <b>Profesor:</b> cierto.  Es importante que no todo se pueda escribir en <b>JavaScript</b> .  Por lo tanto, si tiene una aplicaci√≥n existente o, en la terminolog√≠a de la industria, el c√≥digo "heredado" que tiene la intenci√≥n de ejecutar en Internet, esta parece ser una gran soluci√≥n.  Debido a que puede tomar una biblioteca existente, por ejemplo, alg√∫n tipo de "motor" gr√°fico complejo que sea sensible al rendimiento y a muchas otras cosas complejas que no desea volver a implementar, y esta ser√° una buena soluci√≥n. <br>  Si solo est√° programando una nueva aplicaci√≥n web, ¬ødeber√≠a usar su propio cliente si no est√° particularmente preocupado por la herencia o el rendimiento? <br><br>  <b>P√∫blico:</b> entonces no necesita usar <b>JavaScript</b> . <br><br>  <b>Profesor:</b> s√≠, esa es una buena raz√≥n.  Si no te gusta <b>JavaScript</b> , entonces no necesitas usarlo, ¬øverdad?  Puede usar, por ejemplo, <b>C</b> , puede ejecutar c√≥digo <b>Python</b> , escribirlo en <b>Haskell</b> , en cualquier lenguaje que considere m√°s adecuado. <br><br>  Por lo tanto, esta es una lista de motivaci√≥n bastante convincente para ejecutar su propio c√≥digo en un navegador, y es bastante dif√≠cil obtener derechos para tal acci√≥n.  En solo un segundo, consideraremos los detalles t√©cnicos, y ahora quiero mostrarle una demostraci√≥n de capacitaci√≥n simple que recib√≠ del sitio web de <b>Native Client</b> . <br><br><img src="https://habrastorage.org/webt/eu/nh/qv/eunhqvmixughsk_piecmnsfwcpy.jpeg"><br><br>  Esto es bastante simple, porque puede tomar <b>C ++</b> o un programa en <b>C</b> y ejecutarlo en un navegador.  Puede consultar esta p√°gina web, que es un archivo <b>HTML</b> que contiene un mont√≥n de c√≥digo <b>JavaScript</b> . <br><br><img src="https://habrastorage.org/webt/no/fp/is/nofpisdyic-0xbo1xfg-ptmbsta.jpeg"><br><br>  La raz√≥n de la existencia de este c√≥digo <b>JavaScript</b> es que le permite interactuar con partes del <b>Native Client</b> .  Con respecto al funcionamiento del navegador, el significado de dicha soluci√≥n es que tiene alg√∫n tipo de p√°gina web que contiene c√≥digo <b>JavaScript</b> .  Y esta soluci√≥n funciona con los privilegios de las p√°ginas y le permite hacer varias cosas en la propia p√°gina web, por ejemplo, comunicarse con la red en algunas circunstancias. <br><br>  <b>Native Client le</b> permite ejecutar su m√≥dulo dentro del navegador, por lo que el c√≥digo <b>JavaScript</b> puede interactuar con √©l y recibir una respuesta.  Esto muestra parte del c√≥digo <b>JavaScript</b> que necesita <b>Native Client</b> para interactuar con el m√≥dulo <b>NaCl</b> espec√≠fico que estamos a punto de ejecutar. <br><br><img src="https://habrastorage.org/webt/kl/hz/hr/klhzhr6znxavpre0y7ro-bjrgbw.jpeg"><br><br>  Y puede enviar mensajes a este m√≥dulo.  ¬øC√≥mo se hace esto?  Toma el objeto de este m√≥dulo en <b>JavaScript</b> , lo llama <b>postMessage</b> y <b>, por lo</b> tanto, admite enviar este mensaje al m√≥dulo <b>NaCl</b> .  Cuando el m√≥dulo <b>NaCl</b> responde, iniciar√° la funci√≥n de mensaje en <b>JavaScript</b> .  Y en este caso particular, aparece un cuadro de di√°logo emergente en el navegador. <br><br><img src="https://habrastorage.org/webt/n1/6f/ct/n16fct-epmcvq47bqh35b7wvc8i.jpeg"><br><br>  Entonces, en el lado de <b>JavaScript</b> , esta es una interfaz de p√°gina web bastante simple.  Lo √∫nico que debe hacer adicionalmente es asignar el m√≥dulo <b>NaCl</b> de esta manera.  Es decir, simplemente inserta un m√≥dulo con una <b>ID</b> espec√≠fica <b>aqu√≠</b> .  Lo m√°s interesante aqu√≠ es el c√≥digo de <b>saludo</b> con la extensi√≥n <b>nmf</b> .  Simplemente dice que hay un archivo ejecutable que debe descargar y comenzar a trabajar con √©l en un entorno <b>NaCl</b> . <br><br><img src="https://habrastorage.org/webt/14/r_/xn/14r_xn80sp_m3ubrkfftdryomqw.jpeg"><br><br>  Este c√≥digo nativo es realmente como cualquier otro c√≥digo C ++ que puedas escribir.  La parte interesante es esta funci√≥n de procesamiento de mensajes <b>HandleMessage</b> . <br><br><img src="https://habrastorage.org/webt/hr/rn/kn/hrrnkncebsasx-lajbmnlf089xc.jpeg"><br><br>  Esta es una clase de <b>C ++</b> , y siempre que el c√≥digo <b>JavaScript</b> env√≠e un mensaje al c√≥digo <b>nativo</b> , realizar√° esta funci√≥n.  Realiza una comprobaci√≥n <b>if (mensaje = = 'hola')</b> .  Si es as√≠, crear√° alg√∫n tipo de l√≠nea de respuesta y la enviar√° de vuelta.  Esto es algo bastante simple.  Pero para detalles, intentemos ejecutarlo y ver qu√© sucede. <br><br>  Podemos construir y ejecutar un peque√±o servidor web que servir√° a esta p√°gina y al m√≥dulo <b>Native Client</b> .  Aqu√≠ puedo ir a esta <b>URL</b> , y aqu√≠ vemos la p√°gina web de <b>NaCl</b> .  El m√≥dulo recibi√≥ nuestro mensaje de bienvenida de <b>JavaScript</b> , respondi√≥ con una cadena en <b>JavaScript</b> y el c√≥digo <b>JavaScript</b> activ√≥ un cuadro de di√°logo emergente que conten√≠a esta respuesta. <br><br><img src="https://habrastorage.org/webt/rh/hi/xv/rhhixv0gqz8vgls10i0dkus3vgw.jpeg"><br><br>  Entonces realmente funciona. <br><br>  Intente averiguar si podemos causar que el <b>Native Client se</b> bloquee.  Espero que no, pero podemos tomar este c√≥digo y este b√∫fer y escribir un mont√≥n de tonter√≠as en √©l, por ejemplo, 65536 y ver qu√© pasa. <br><br><img src="https://habrastorage.org/webt/hi/gc/iy/higciynre_pzpduwpdkhsw-6hlq.jpeg"><br><br>  Espero que esto no haga que mi navegador se bloquee porque <b>Native Client est√°</b> tratando de proporcionar aislamiento.  Pero veamos qu√© pasa. <br><br>  Reinicie el servidor web.  Vemos que la entrada al m√≥dulo todav√≠a es exitosa, nuestro navegador no result√≥ da√±ado.  Sin embargo, la mensajer√≠a con el cliente no se realiz√≥, por lo que falta el cuadro de di√°logo.  Miremos la consola de <b>JavaScript</b> en la parte inferior de la p√°gina y veamos que el m√≥dulo <b>Native Client</b> nos informa de la falla del m√≥dulo <b>NaCl</b> . <br><br><img src="https://habrastorage.org/webt/5d/ec/ev/5decevvdddfz81augpqkdi25tni.jpeg"><br><br>  Es posible que el argumento que ingres√© provoc√≥ un desbordamiento del b√∫fer o acceso a alguna direcci√≥n incorrecta, pero en cualquier caso, el m√≥dulo <b>NaCl</b> es realmente capaz de aislar la corrupci√≥n accidental de la memoria de tal manera que no afecte al navegador. <br><br>  Esta es una demostraci√≥n r√°pida de este sistema en la forma en que puede usarlo como usuario final o desarrollador.  Veamos algunos ejemplos m√°s.  Por ejemplo, c√≥mo funcionar√° <b>Native Client</b> , o por qu√© necesitamos esto, y no un dise√±o alternativo. <br><br>  Por lo tanto, si su objetivo es aislar su propio c√≥digo, existen varias alternativas con las que puede hacerlo.  De hecho, las personas sol√≠an tener problemas para usar el c√≥digo heredado y otros idiomas antes de que apareciera <b>Native Client</b> .  Los resolvieron de varias maneras, lo que podr√≠a no haber sido tan seguro y conveniente como el <b>Native Client</b> , pero proporcionaba las mismas capacidades de aislamiento. <br><br>  Entonces, ¬øqu√© debe hacer si realmente desea ejecutar el c√≥digo de la m√°quina en un navegador?  Una opci√≥n es confiar en el desarrollador.  Quiz√°s una variante de este enfoque es que le preguntas al usuario si quiere ejecutar alg√∫n c√≥digo en su navegador o no. <br><br>  Entonces, todos entienden aproximadamente qu√© tipo de plan es este, ¬øverdad?  Por ejemplo, en lugar de toda esta estrategia de compilaci√≥n de <b>Native Client</b> , podr√≠a crear un programa en <b>C</b> , ejecutarlo en un navegador, y √©l me preguntar√≠a si quiero ejecutar este sitio o no.  Y si hago clic en "s√≠", accidentalmente "cortando" en la memoria del navegador, se bloquear√°.  Entonces es posible, ¬øverdad?  Esto, por supuesto, resuelve todos estos problemas, pero ¬øqu√© hay de malo en eso? <br><br>  Creo que lo malo es que esta soluci√≥n no es segura.  Esta es una forma de sortear este sistema y muchos otros sistemas. <br><br>  <b>Microsoft</b> ten√≠a un sistema llamado <b>ActiveX</b> que b√°sicamente implement√≥ este plan.  Puede enviar los archivos binarios a <b>IE</b> , el navegador de su computadora, y hasta que regresen con un certificado de un desarrollador espec√≠fico firmado por, digamos, <b>Microsoft</b> u otra persona, el navegador no ejecutar√° su c√≥digo.  ¬øCrees que este es un plan √∫til? <br><br>  Audiencia: ¬°Esto es una cuesti√≥n de confianza! <br><br>  Profesor: s√≠, lo es.  Realmente necesita confiar un poco en que el desarrollador solo firmar√° esos "binarios" que no har√°n nada malo.  Pero a menudo es imposible determinar si esto es algo malo o no, por lo que simplemente escriben el c√≥digo <b>C</b> y lo firman a ciegas sin hacer una gran cantidad de trabajo.  En este caso, es posible que tenga ciertos problemas en el futuro. <br><br>  Del mismo modo, la decisi√≥n de preguntar al usuario si realmente quiere ejecutar una cosa no garantiza la seguridad en absoluto.  Incluso si el usuario quiere tener cuidado, ¬øen realidad no est√° claro c√≥mo debe decidir?  Supongamos que realmente quiero entender si puedo dejar que este programa funcione.  Me dicen que todo est√° bien, tal vez fue creado por desarrolladores acreditados de <b>Google.com</b> o <b>Microsoft.com</b> .  Sin embargo, este es el archivo ejecutable <b>foo.exe</b> y no s√© absolutamente qu√© hay dentro de √©l.  Incluso si desmonto su c√≥digo, ser√° muy dif√≠cil decir si va a hacer algo malo o no.  Por lo tanto, es realmente dif√≠cil para el usuario decidir si ejecutar el c√≥digo es seguro para el sistema. <br><br><img src="https://habrastorage.org/webt/yj/sh/fa/yjshfa6jbfjytpoxjzdt2qfgdpw.jpeg"><br><br>  Por lo tanto, <b>Native Client</b> puede actuar como un mecanismo por el cual los usuarios pueden tener cierta confianza en si deben decir s√≠ o no a alg√∫n programa. <br><br>  Entonces, en la pr√°ctica, creo, deber√≠a haber una opci√≥n propuesta por nuestro profesor invitado Paul Yang la semana pasada.  Aconsej√≥ ejecutar el complemento " <b>reproducir extensi√≥n</b> " o "reproducir la extensi√≥n" en el <b>navegador Chrome</b> .  Es decir, antes de comenzar cualquier extensi√≥n, incluido el <b>Cliente nativo</b> , debe hacer clic en esta cosa.  En cierto modo, esto es lo mismo que preguntarle al usuario.  Pero en este caso, incluso si el usuario decide responder "s√≠", el sistema seguir√° siendo seguro, porque el <b>Cliente nativo se incluir√°</b> en el trabajo.  En este sentido, tenemos un doble mecanismo de seguridad: primero pregunte al usuario, y luego, con una respuesta positiva, inicie el cliente sandbox, que no permitir√° que el navegador se bloquee. <br><br>  Por lo tanto, otro enfoque que debe aplicarse es utilizar el entorno limitado, implementado mediante el sistema operativo o el hardware, o aislar procesos.  Esto es lo que examinamos en las √∫ltimas 2 conferencias. <br><br>  Quiz√°s usar√≠a mecanismos de aislamiento de <b>Unix</b> .  Si tuviera algo m√°s complejo, usar√≠a <b>FreeBSD</b> o <b>Capsicum</b> .  Es ideal para aislar un fragmento de c√≥digo en el entorno limitado, ya que puede limitar sus capacidades.  <b>Linux</b> tiene un mecanismo similar llamado <b>Seccomp</b> , que cubrimos brevemente en la √∫ltima conferencia, tambi√©n le permite hacer tales cosas. <br><br>  Por lo tanto, ya existe un mecanismo para escribir c√≥digo de forma aislada en su m√°quina.  ¬øPor qu√© est√°n estos tipos en contra de usar esta soluci√≥n existente?  Parece que est√°n "inventando la rueda" por alguna raz√≥n.  Entonces, ¬øqu√© est√° pasando? <br><br>  <b>P√∫blico: ¬ø</b> tal vez quieren minimizar los errores? <br><br>  <b>Profesor:</b> s√≠, en cierto modo, no conf√≠an en el sistema operativo.  Quiz√°s est√©n realmente preocupados por los errores del sistema operativo.  Es probable que el kernel de <b>FreeBSD</b> o el <b>kernel de Linux</b> contengan una gran cantidad de c√≥digo <b>C</b> que no desean o no pueden verificar si son correctos, incluso si quisieran.  Y en <b>Capsicum</b> o <b>Seccomp, el</b> trabajo se realiza sobre la base de un plan de aislamiento, por lo que es suficiente que el kernel tenga solo un peque√±o y fiel fragmento de c√≥digo, para que el sandbox mantenga y aplique el aislamiento. <br><br><img src="https://habrastorage.org/webt/wr/iq/ew/wriqewh7dx-iiwc-q2wymixcw1k.jpeg"><br><br>  <b>P√∫blico:</b> dado que obtienes muchas m√°s formas de usar los navegadores, tienes que lidiar con varios sistemas operativos, como iOS y Android, y acceder ... <br><br>  <b>Profesor:</b> s√≠, de hecho, otra consideraci√≥n interesante es que generalmente muchos sistemas operativos tienen errores.  Adem√°s, de hecho, los diferentes sistemas operativos son de alguna manera incompatibles entre s√≠.  Esto significa que cada sistema operativo tiene su propio mecanismo, como se muestra aqu√≠: <b>Unix</b> tiene <b>Capsicum</b> , <b>Linux</b> tiene <b>Seccomp</b> , pero estas son solo variaciones de <b>Unix</b> .  <b>Mac OS</b> tiene <b>Seatbelt</b> , <b>Windows</b> tiene algo m√°s y la lista contin√∫a. <br><br>  Entonces, al final, cada plataforma con la que trabaja tiene su propio mecanismo de aislamiento.  Y lo que realmente no les molesta demasiado es que tendr√°n que escribir c√≥digos diferentes para <b>Mac</b> , <b>Windows</b> y <b>Linux</b> .  Pero m√°s a√∫n, afecta c√≥mo escribes estas cosas para que funcionen dentro del sandbox.  Porque en <b>Native Client, en</b> realidad escribe un fragmento de c√≥digo que se ejecuta de la misma manera que el c√≥digo del sistema operativo "nativo", de la misma manera que se ejecuta el c√≥digo de <b>Apple</b> , <b>el</b> c√≥digo de <b>Windows</b> o el c√≥digo del sistema <b>Linux</b> . <br><br>  Y si utiliza estos mecanismos de aislamiento, en realidad imponen diferentes restricciones al programa colocado en el sandbox.  Por lo tanto, debe escribir un programa que se ejecute dentro del entorno limitado de <b>Linux</b> , otro programa que se ejecute dentro del <b>entorno</b> limitado de <b>Windows</b> , y as√≠ sucesivamente. <br><br>  Eso es lo que es realmente inaceptable para ellos.  No quieren lidiar con problemas de este tipo.  ¬øQu√© otras consideraciones tienes? <br><br>  <b>Audiencia:</b> presumiblemente el rendimiento del sistema.  Porque si usa <b>Capsicum</b> , debe cuidar los recursos suficientes para garantizar que los procesos funcionen dentro del entorno limitado.  Aqu√≠ pueden enfrentar el mismo problema. <br><br>  <b>Profesor:</b> s√≠, eso es verdad.  El plan de aislamiento de fallas de software es realmente muy intensivo en recursos, lo que a nivel del sistema operativo puede causar una falta de recursos para soportar el entorno limitado.  Resulta que en su propio <b>Native Client,</b> en realidad usan tanto su sandbox como el sandbox del sistema operativo para proporcionar seguridad adicional.  Por lo tanto, de hecho, no ganan en el desempe√±o de su implementaci√≥n, aunque probablemente podr√≠an hacerlo. <br><br>  <b>P√∫blico:</b> quiz√°s quieran controlarlo todo.  Porque pueden controlar lo que sucede en el navegador, pero si lo enviaron a la computadora del cliente en el sistema operativo, no saben qu√© podr√≠a pasar all√≠. <br><br>  <b>Profesor:</b> se puede decir que s√≠, el sistema operativo puede tener errores o no administrar la caja de arena lo suficientemente bien.  O la interfaz es un poco diferente, por lo que no sabe lo que el sistema operativo est√° a punto de revelar. <br><br>  <b>P√∫blico:</b> y esto no impedir√° que el c√≥digo haga algunas cosas malas.  Hay muchas cosas que hace el c√≥digo, por ejemplo, desea realizar un an√°lisis est√°tico, pero los bucles de c√≥digo impiden que el programa act√∫e. <br><br>  <b>Profesor:</b> de hecho, es muy dif√≠cil determinar si hay un proceso en bucle infinito o no, pero en principio, este enfoque le permite detectar algunos problemas de c√≥digo.  Creo que un ejemplo realmente interesante, que no conoc√≠a hasta que le√≠ su art√≠culo, muestra que estos tipos est√°n preocupados por los errores de hardware y no solo por las vulnerabilidades del sistema operativo que el c√≥digo puede ejecutar.  Por ejemplo, el procesador en s√≠ tiene algunas instrucciones que pueden hacer que se congele o reinicie la computadora.  B√°sicamente, su equipo no deber√≠a tener ese error, porque el sistema operativo se basa en el hecho de que el hardware en cualquier caso lo ayudar√° a llegar al n√∫cleo para eliminar las consecuencias de un error del usuario. <br><br>  Pero resulta que los procesadores son tan complejos que tienen errores, y estos muchachos dicen que encontraron evidencia de esto.  Si hay algunas instrucciones complejas que el procesador no esperaba recibir, se detendr√° en lugar de procesar el n√∫cleo del sistema.  Esto es malo  Creo que esto no es catastr√≥fico si solo ejecuto algunas cosas √∫tiles en mi computadora port√°til, pero mucho peor si la computadora se congela cuando visito alg√∫n tipo de p√°gina web. <br><br>  Por lo tanto, quer√≠an crear un mayor nivel de protecci√≥n para los m√≥dulos de <b>Native Client</b> que el que proporciona aislamiento a nivel del sistema operativo, incluso sin errores de hardware.  Entonces, con respecto a la seguridad, se comportan como paranoicos, incluido el problema de seguridad del hardware. <br><br>  Veamos ahora c√≥mo <b>Native Client</b> realmente a√≠sla los procesos en el entorno limitado.  Por lo tanto, <b>Native Client</b> adopta un enfoque diferente, que se puede llamar "aislar fallas de software". <br><br><img src="https://habrastorage.org/webt/rk/a1/gv/rka1gv4vu6qut_1tjda81we9u6w.jpeg"><br><br>  El plan no es confiar en el hecho de que el sistema operativo o el equipo verificar√° las cosas mientras el programa se est√° ejecutando, sino confiar en que revisen las instrucciones con anticipaci√≥n y decidan que pueden ejecutarse de manera completamente segura.  Por lo tanto, de hecho, es suficiente mirar el archivo binario para verificar todas las instrucciones posibles y ver si ser√°n seguras o inseguras.  Una vez que haya decidido que todo estar√° seguro, simplemente puede comenzar el proceso porque sabe que se trata de cosas seguras y no habr√° fallas. <br><br>  Entonces, lo que van a hacer es mirar casi todas las instrucciones en el c√≥digo binario que se env√≠a al navegador y decidir si las instrucciones espec√≠ficas son seguras o no. <br><br>      ?     .      ? ,  ,          . <br><br>     -  <b>ALU</b> ,  ,      .         ,    .       ,   ,        .   ,      ,   ,           . <br><br><img src="https://habrastorage.org/webt/jh/gt/nb/jhgtnbhw2ijz1h3_9t_ypdy-nr4.jpeg"><br><br>     ?  ,   ,     .   ,     ,     ,       .  ,    ¬´¬ª  ,  ?           . <br><br>       , ,     ,    -  ,        .    ¬´¬ª    ,    -   .   ,      ¬´¬ª ,     .        ,   ,        ,      ,       . <br> ,         (      )    .      . ,      <b>if</b>  ,      ,    .   ,  ,   ‚Äì  . <br><br>  ,     ,         ,       .               .  ,       ,        . ,   ,        ,       ,    ¬´¬ª      . <br><br><img src="https://habrastorage.org/webt/na/m3/8e/nam38efcfifztldcv1vxg6zfhpu.jpeg"><br><br>        .       ,          ,     .   ,      ,         . <br><br>          ,    ,    ,   ,       - ,      .       ,  ,   , , .               <b>Trusted Service Runtime</b> ,     .          .         <b>Google</b> .    ,    <b>NaCl</b>    . <br><br>     ,   , ,  ,  ,    ‚Äî  ,      ‚Äî   .        ,        . <br><br> <b>:</b> ,        ,       <b>NaCl</b> ?        ,      ? <br><br> <b>:</b>  ,     ,   ,      <b>NaCl</b> .    ,   <b>malloc</b>  <b>pthread_create</b> ,       <b>Trusted Service Runtime</b> .     -        ,        <b>Unix</b> ,       - . ,     ,        <b>JavaScript</b>   -.        <b>RPC</b>   <b>JavaScript</b> ,         . <br><br><img src="https://habrastorage.org/webt/t9/yv/c3/t9yvc38rfpu-anjcegov4zusgjg.jpeg"><br><br> ,   ,     <b>NaCl</b>  <b>Unix</b> -,    - ,          -. <br><br>        .  ,       <b>Native Client</b> .          ‚Äì       <b>Native Client</b> ? <br><br>    ,  <b>Native Client</b>    .   ,     ,    .        ,      ,    <b>x86</b>            . ,        ,       ¬´¬ª,     . <br><br>            ,           .  ,         ,     0  256   .  ,    ,      ,    ,         . <br><br>        ?   ,      ? <br><br> <b>:</b>  ,     . <br><br> <b>:</b> ,     . ,        ,        .     ,      ,         ?    ,     ? <br><br> <b>:</b>              . <br><br> <b>:</b> ! <br><br> <b>:</b>  -,       ,    .       . <br><br> <b>:</b> ,     .    ,       .  ,  ,       .  ,           ,       ,  <b>Trusted Service Runtime</b> .       ,        ,         <b>Trusted Service Runtime</b>   ,     .  ,          . <br><br>  ,         ,      <b>NaCl</b>    ,     .              ,       0.  ,          <b>NaCl</b>   .         . <br><br> 28:00  <br><br> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Curso MIT "Seguridad de sistemas inform√°ticos".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> 7: ¬´ Native Client¬ª,  2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/I0Psvvky-44" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . <br><br> ,    .  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br> <b>3  </b>    Dell R630     ‚Äî <b>2  Intel Deca-Core Xeon E5-2630 v4 / 128GB DDR4 / 41TB HDD  2240GB SSD / 1Gbps 10 TB ‚Äî  $99,33 </b> ,    ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los Estados Unidos!</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418223/">https://habr.com/ru/post/es418223/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418213/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 5: "De d√≥nde vienen los sistemas de seguridad", parte 1</a></li>
<li><a href="../es418215/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 5: "De d√≥nde vienen los errores del sistema de seguridad", Parte 2</a></li>
<li><a href="../es418217/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 6: "Oportunidades", parte 1</a></li>
<li><a href="../es418219/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 6: Oportunidades, Parte 2</a></li>
<li><a href="../es418221/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 6: "Oportunidades", parte 3</a></li>
<li><a href="../es418225/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 7: Sandbox de Native Client Parte 2</a></li>
<li><a href="../es418227/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 7: El sandbox del cliente nativo, parte 3</a></li>
<li><a href="../es418229/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 8: Modelo de seguridad de red, parte 1</a></li>
<li><a href="../es418233/index.html">BMW mnemotecnia para encontrar valores l√≠mite</a></li>
<li><a href="../es418235/index.html">Saga orquestada o c√≥mo construir transacciones comerciales en servicios con la base de datos por patr√≥n de servicio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>