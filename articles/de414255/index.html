<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶â üßÄ ‚õπüèº Patentierter Traum des Programmierers - Teil II üëÇüèΩ üïç ü•§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kurzer Hintergrund: In meiner letzten Anmerkung wurde ein Ansatz zum Speichern und Abrufen von Daten beschrieben, auf dem Sie einen Anwendungsdesigner...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Patentierter Traum des Programmierers - Teil II</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414255/"><p>  Kurzer Hintergrund: In meiner letzten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anmerkung</a> wurde ein Ansatz zum Speichern und Abrufen von Daten beschrieben, auf dem Sie einen Anwendungsdesigner erstellen k√∂nnen - eine Alternative zu modernen Entwicklungsplattformen, jedoch ohne Programmierbedarf.  Diese Erfindung kann m√∂glicherweise die gesamte Welt der IT, wie wir sie kennen, ver√§ndern. </p><br><p>  Ich f√ºhrte eine Patentrecherche durch und ver√∂ffentlichte das Ergebnis, um sicherzustellen, dass es keine architektonischen Gegenst√ºcke gab.  Dann erhielt er ein Patent und ver√∂ffentlichte einen Artikel mit Erl√§uterungen, der einige k√ºhne Bemerkungen zu Volumen, Skalierbarkeit, Geschwindigkeit und anderen Dingen enthielt. </p><br><p>  Nat√ºrlich warf der Artikel eine Vielzahl von Fragen auf, die separat behandelt werden m√ºssen: den Unterschied zu bestehenden L√∂sungen und eine vergleichende Analyse der Leistung und Pl√§ne zum Erstellen von Datenbankabfragen.  Und beantworten Sie auch die Frage: Worum geht es und warum? </p><br><p><img src="https://habrastorage.org/webt/1q/zy/qe/1qzyqeiiz2yare5mepewyjxz5oc.png"></p><br><a name="habracut"></a><br><p>  Da das Thema f√ºr viele schmerzhaft ist und die behaupteten Vorteile sehr ehrgeizig sind, waren die Kommentare ziemlich hart.  Der Grund ist verst√§ndlich - in dem Artikel sieht jeder sofort ‚ÄûEAV‚Äú, √ºber das ernsthafte Leute noch Forschung schreiben, w√§hrend das Leistungsproblem im Allgemeinen nicht l√∂sbar ist.  Wie ich in den Kommentaren freundlich informiert wurde, hat EAV eine Reihe von M√§ngeln, dies ist bekannt, und jeder, der eine endg√ºltige L√∂sung f√ºr die EAV-Probleme behauptet, muss gro√üz√ºgige Karma-Tritte bekommen, um zur Besinnung zu kommen. </p><br><h4>  Es gibt nur eine Subtilit√§t: Der Artikel pr√§sentiert EAV nicht als solche </h4><br><p>  Die beliebteste Frage war: "Wie unterscheidet sich das von EAV, KV, Magento ...". </p><br><p>  Es scheint, dass die Unterschiede in allem liegen, was nicht in die aufgef√ºhrten Eigenschaften passt: </p><br><ol><li>  Die Struktur - in der Tabelle sind 5 Spalten und 3 Indizes </li><li>  Stichprobenmethode - Eine Tabelle beschreibt Datentypen und ihre Beziehungen (Metadaten) sowie die Daten selbst </li></ol><br><p>  Aber eine solche Antwort passte nicht zu vielen Lesern, deshalb werde ich versuchen, sie genauer zu erkl√§ren. </p><br><p>  Die beschriebene Struktur verwendet das EAV-Verzeichnis, erg√§nzt durch das ID-Attribut, da jedes Attribut auch eine unabh√§ngige Entit√§t ist, die ihre eigenen Attribute haben und als Referenzwert verwendet werden kann.  Das hei√üt, die Struktur ist nicht nur als EAV-Referenz gedacht, weshalb ich sie eigentlich nicht EAV nennen kann. </p><br><h4>  Am wichtigsten ist, dass EAV keine autarke L√∂sung sein kann, sondern nur eine Anleitung, eines der Elemente des Systems.  Ich spreche von einer vollst√§ndigen, autarken L√∂sung, f√ºr die keine zus√§tzlichen Elemente erforderlich sind, um eine Struktur, Daten und deren Verwaltung zu erstellen. </h4><br><p>  Um zu erkl√§ren, wie sich die L√∂sung von Datomic, Magento und Zehntausenden anderer L√∂sungen und Produkte unterscheidet, m√ºssen Sie sie zehntausende Male vergleichen.  Daher werde ich es wagen, eine einfache Technik vorzuschlagen, mit der Sie in wenigen Minuten einen Vergleich mit jedem System anstellen und gegebenenfalls den Unterschied feststellen k√∂nnen. </p><br><a name="quest"></a><br><blockquote><p>  <b>Es ist erforderlich, die Erf√ºllung der folgenden Bedingungen f√ºr das verglichene System zu √ºberpr√ºfen:</b> </p><br>  <b>1.</b> Alle Daten werden in einer Tabelle gespeichert (siehe auch Abschnitt 3.), die mindestens die folgenden Felder enth√§lt: ID, Eltern-ID, Typ-ID, Wert <br><br>  <b>2.</b> F√ºr die Tabelle werden mindestens die folgenden Indizes erstellt: ID;  Typ ID + Wert;  √úbergeordnete ID + Typ-ID. <br><br>  <b>3. Es</b> k√∂nnen mehrere Tabellen vorhanden sein, die jedoch alle die minimale Struktur von Element 1 und Indizes enthalten, die sich durch den Typ des Felds Wert unterscheiden <br><br>  <b>4. Die</b> Tabelle enth√§lt eine Beschreibung der Datentypen. <br><br>  <b>5. Die</b> Tabelle enth√§lt eine Beschreibung der Details der Datentypen (aus den darin beschriebenen Typen). <br><br>  <b>6. Die</b> Tabelle enth√§lt Datenobjekte mit einem Verweis auf ihren Typ (aus den darin beschriebenen Typen). <br><br>  <b>7. Die</b> Tabelle enth√§lt Details zu Objekten mit einem Link zum √ºbergeordneten Objekt und Typ <br><br>  <b>8. Die</b> Auswahl der Objekte erfolgt unter Angabe der Objektart <br><br>  <b>9. Die</b> Auswahl der Details des Objekts erfolgt unter Angabe des Elternteils und des Typs <br><br>  <b>10. Die</b> Auswahl des Objekts anhand seiner Angaben erfolgt unter Angabe der Art der Angaben <br><br>  <b>11.</b> (optional) Die Objekte werden √ºber die Details verbunden, die den ID-Typ des verkn√ºpften Objekts enthalten <br></blockquote><br><p>  Wenn alle Voraussetzungen erf√ºllt sind, verf√ºgen Sie √ºber ein System, das unter die Beschreibung der hier beschriebenen Hinweise f√§llt. </p><br><a name="compare"></a><br><h4>  Wichtigere Probleme werfen Zweifel an der Aussage zur Systemleistung auf, wenn das Volumen zunimmt. </h4><br><p>  F√ºr Vergleichstests wurden zwei identische Datenbanken erstellt, von denen eine in den √ºblichen Tabellen der relationalen Datenbank erstellt wurde und die andere unter Verwendung der deklarierten Methodik.  Nachfolgend finden Sie die Testergebnisse von zwei Datenbanken mit Abfragetexten, Zeitmessungen und Analyse von Ausf√ºhrungspl√§nen. </p><br><p>  In den Kommentaren zum letzten Beitrag wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine</a> einfache Struktur verwandter Daten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorgeschlagen</a> , die zum Testen geeignet ist.  Ich habe es als Grundlage genommen: Dies ist eine Liste von 1.048.552 B√ºchern von 142.654 Autoren, die aus zuf√§lligen Daten generiert wurden. </p><br><div class="spoiler">  <b class="spoiler_title">Die Struktur sieht folgenderma√üen aus (zum Anzeigen klicken)</b> <div class="spoiler_text"><pre><code class="sql">CREATE TABLE `author` (
  `id` int(11) NOT NULL,
  `author` varchar(128) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `books` (
  `id` int(8) NOT NULL,
  `name` varchar(256) NOT NULL,
  `author` int(8) NOT NULL,
  `pages` int(4) NOT NULL,
  `year` int(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `author`
  ADD PRIMARY KEY (`id`),
  ADD KEY `author` (`author`);

ALTER TABLE `books`
  ADD PRIMARY KEY (`id`),
  ADD KEY `name` (`name`(255)),
  ADD KEY `author` (`author`);

ALTER TABLE `books`
  ADD CONSTRAINT `books_ibfk_1` FOREIGN KEY (`author`) REFERENCES `author` (`id`);</code></pre></div></div><br>
<p>      :</p><br>
<p><img src="https://habrastorage.org/webt/ee/qx/ge/eeqxgeoq3tfargktmxcuquk1ksq.png"></p><br>
<p>     : 1  @2.4GHz, 1GB RAM,  SSD.</p><br>
<p>    207       289    .</p><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><br>
<img src="https://habrastorage.org/webt/jr/7j/dq/jr7jdqt0f7qcmxr6aj6h22r48cy.png"><br>
<br>
<br>
<img src="https://habrastorage.org/webt/x1/hb/7j/x1hb7jhhseei-uwwkurac3aghbu.png"><br>
</div></div><br>
<p>      ,      ,   .</p><br>
<p>     : <i>  ,      </i>.           .</p><br>
<p>    :</p><br>
<pre><code class="sql">SELECT author.author, books.name, books.pages, books.year 
FROM books, author 
WHERE author.author LIKE '%aro%' AND books.author=author.id 
LIMIT 1000</code></pre><br>
<p>       (        ):</p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/7k/r7/m1/7kr7m1i-saqmxqqstdezlf5fi6i.png"></a></p><br>
<p>    ¬´aro¬ª,      465    .</p><br>
<p>       193 :</p><br>
<p><img src="https://habrastorage.org/webt/rj/4r/-x/rj4r-xjhkkafxll7bgqe1pkeafe.png"></p><br>
<p>    :</p><br>
<p><img src="https://habrastorage.org/webt/_8/w7/sg/_8w7sgdlp113e7v_yc8lapo_qym.png"></p><br>
<p>      266 :</p><br>
<p><img src="https://habrastorage.org/webt/8x/o-/aw/8xo-awcj1fkadqyxdqlykfpira8.png"></p><br>
<p> ,    266    6     (     ,  - ,  ).     264 .</p><br>
<p>     :</p><br>
<pre><code class="sql">SELECT a225.val v1_225,a217.val v2_217,a223.val v3_217,a219.val v4_217
FROM test a225
 LEFT JOIN (test r217 JOIN test a217 USE INDEX (PRIMARY)) ON r217.up=a217.id AND a225.id=r217.t AND a217.t=217
 LEFT JOIN test a223 ON a223.up=a217.id AND a223.t=223
 LEFT JOIN test a219 ON a219.up=a217.id AND a219.t=219
WHERE a225.up!=0 AND a225.t=225 AND a225.val LIKE '%aro%'
LIMIT 1000</code></pre><br>
<p>    :</p><br>
<p><img src="https://habrastorage.org/webt/dd/jp/t-/ddjpt-wdwoftwl7xbiyt6v74bds.png"></p><br>
<p>,  , ¬´¬ª,   ,  , .</p><br>
<p>      ,   ,      (  ).</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th></th>
<th>  </th>
</tr>
<tr>
<td align="right">0,1927</td>
<td align="right">0,2643</td>
<td align="right">1,37</td>
</tr>
<tr>
<td align="right">0,1175</td>
<td align="right">0,1965</td>
<td align="right">1,67</td>
</tr>
<tr>
<td align="right">0,0777</td>
<td align="right">0,1268</td>
<td align="right">1,63</td>
</tr>
<tr>
<td align="right">0,1178</td>
<td align="right">0,0983</td>
<td align="right">0,83</td>
</tr>
<tr>
<td align="right">0,0626</td>
<td align="right">0,1131</td>
<td align="right">1,81</td>
</tr>
<tr>
<td> </td>
<td> </td>
<th align="right">: 1,46</th>
</tr>
</tbody></table></div><br>
<p>,        ,            .           .</p><br>
<h4>,   :           </h4><br>
<p>    ,     .         .   Magento, ,         .</p><br>
<h4>   ,      </h4><br>
<p>     , ,     .</p><br>
<p>   :</p><br>
<pre><code class="sql">SELECT author.author, books.name, books.pages, books.year 
FROM books, author 
WHERE author.author LIKE 'lac%' AND books.author=author.id 
LIMIT 1000</code></pre><br>
<p>       3.1 :</p><br>
<p><img src="https://habrastorage.org/webt/uy/_b/yh/uy_byhazfegxdxx8zvv3wub_mf4.png"></p><br>
<p>         8.4 ,       6 :</p><br>
<p><img src="https://habrastorage.org/webt/7o/oa/lq/7ooalqmkpzhcf6oetpqocxerc_e.png"></p><br>
<p>   ,    ,    .</p><br>
<div class="spoiler"><b class="spoiler_title">  </b><div class="spoiler_text"><p>   :</p><br>
<p><img src="https://habrastorage.org/webt/an/et/xs/anetxsaokvzds0fdg9ezo3a2srm.png"></p><br>
<p> :</p><br>
<p><img src="https://habrastorage.org/webt/0s/cp/g6/0scpg6xojc4om903fs-yc_jy318.png"></p><br>
</div></div><br>
<p>    ,     (  ):</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>- </th>
<th></th>
<th></th>
<th>  </th>
</tr>
<tr>
<td align="left">LIKE'Le%'</td>
<td align="right">1001</td>
<td align="right">11,1</td>
<td align="right">48,5</td>
<td align="right">4,37</td>
</tr>
<tr>
<td align="left">LIKE 'lac%'</td>
<td align="right">108</td>
<td align="right"> 3,1</td>
<td align="right">6,0</td>
<td align="right">1,94</td>
</tr>
<tr>
<td align="left">LIKE 'Lean%'</td>
<td align="right">66</td>
<td align="right"> 2,7</td>
<td align="right">8,2</td>
<td align="right">3,04</td>
</tr>
<tr>
<td align="left">LIKE 'dac%'</td>
<td align="right"> 49</td>
<td align="right"> 3,9</td>
<td align="right">2,6</td>
<td align="right">0,67</td>
</tr>
<tr>
<td align="left">LIKE 'rac%'</td>
<td align="right"> 30</td>
<td align="right"> 2,5</td>
<td align="right">3,2</td>
<td align="right">1,28</td>
</tr>
<tr>
<td align="left">LIKE 'nac%'</td>
<td align="right"> 18</td>
<td align="right"> 2,4</td>
<td align="right">2,8</td>
<td align="right">1,17</td>
</tr>
<tr>
<td align="left">= '' </td>
<td align="right"> 6</td>
<td align="right"> 3,9</td>
<td align="right">1,5</td>
<td align="right">0,38</td>
</tr>
<tr>
<td align="left">= 'John' </td>
<td align="right"> 6</td>
<td align="right"> 2,7</td>
<td align="right">1,1</td>
<td align="right">0,41</td>
</tr>
<tr>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<th align="right">: 1,66</th>
</tr>
</tbody></table></div><br>
<p>      ,      ,       .       ,     .</p><br>
<h4>         ‚Äî </h4><br>
<p>    :  .   :</p><br>
<pre><code class="sql">SELECT author.author, books.name, books.pages, books.year 
FROM books, author 
WHERE books.name LIKE '% %' AND books.author=author.id 
LIMIT 50</code></pre><br>
<p>    :</p><br>
<p><img src="https://habrastorage.org/webt/z9/wv/d_/z9wvd_j9kuo62hlttuoo46fbw6u.png"></p><br>
<p>          : 148      2490   .    17 !</p><br>
<p> ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>,     ,            ,    .   :</p><br>
<p><img src="https://habrastorage.org/webt/oj/8h/qs/oj8hqshq6jrnud97ouxzjbgpbi4.png"></p><br>
<p>          : 181      25   . , ,    7  .</p><br>
<p>        :</p><br>
<pre><code class="sql">SELECT author.author, books.name, books.pages, books.year 
FROM books INNER JOIN author ON books.author=author.id
WHERE books.name LIKE '% %' 
LIMIT 50</code></pre><br>
<p>        : 62      47   .  . ,           ,      .    ,            .</p><br>
<h4>,      ,     ,           .</h4><br>
<p>   ,       ,       ,    .        ,    .</p><br>
<p>    :        ()    .     :</p><br>
<pre><code class="sql">SELECT author.author, books.name, books.pages, books.year 
FROM books, author 
WHERE books.pages=150 AND books.year=1972 AND books.author=author.id 
LIMIT 50</code></pre><br>
<p>      :</p><br>
<p><img src="https://habrastorage.org/webt/ff/ut/ug/ffutugkgo0-dfywbrnqus_ml_am.png"></p><br>
<p>   ,    30    :</p><br>
<p><img src="https://habrastorage.org/webt/e-/we/_l/e-we_ld53-1ccp9u4x9dktmj4oa.png"></p><br>
<p><img src="https://habrastorage.org/webt/-6/wd/96/-6wd96k2u7w5rjohjimeywr4bb8.png"></p><br>
<p>     ,       ,        .             .</p><br>
<p><b>     ,     :      ,      .</b></p><br>
<p>       :    DDL  DML          .</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414255/">https://habr.com/ru/post/de414255/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414243/index.html">Kostenloses Werk √ºber Einstellungen, Interviews und M√ºll auf dem Markt f√ºr IT-Personal</a></li>
<li><a href="../de414245/index.html">Polynom-Regressionsmodell</a></li>
<li><a href="../de414249/index.html">Public-Key-Infrastruktur: GCrypt-Bibliothek als Alternative zu OpenSSL mit Unterst√ºtzung f√ºr russische Kryptografie</a></li>
<li><a href="../de414251/index.html">Entwicklung ohne Programmierung: Immerhin Life Hack?</a></li>
<li><a href="../de414253/index.html">Muster f√ºr Tester. Proxy (alternativ)</a></li>
<li><a href="../de414261/index.html">Wo speichern Sie die Daten?</a></li>
<li><a href="../de414263/index.html">Gibt es Leben au√üerhalb von Roscosmos? √úberblick √ºber die Erforschung des russischen Privatraums</a></li>
<li><a href="../de414265/index.html">Richard Hamming: Kapitel 7. K√ºnstliche Intelligenz - II</a></li>
<li><a href="../de414267/index.html">Wie ersetze ich einen Buchhalter durch einen Roboter?</a></li>
<li><a href="../de414269/index.html">"20.000 IOPS pro Knoten bieten eine gute Leistung bei einer Latenz von 5 ms." F√ºr OLTP - nein</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>