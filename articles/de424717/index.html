<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§Æ üìÅ üö£üèø Sichern einer gro√üen Anzahl heterogener Webprojekte üë®üèø‚Äçü§ù‚Äçüë®üèª üìÑ ü§ô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es scheint, dass das Thema abgedroschen ist - es wurde viel √ºber Backup gesagt und geschrieben, daher gibt es nichts, was das Rad neu erfinden k√∂nnte....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sichern einer gro√üen Anzahl heterogener Webprojekte</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nixys/blog/424717/"><p>  Es scheint, dass das Thema abgedroschen ist - es wurde viel √ºber Backup gesagt und geschrieben, daher gibt es nichts, was das Rad neu erfinden k√∂nnte. Nehmen Sie es einfach und tun Sie es.  Jedes Mal, wenn der Systemadministrator eines Webprojekts vor der Aufgabe steht, Backups einzurichten, h√§ngt es f√ºr viele mit einem gro√üen Fragezeichen in der Luft.  Wie sammle ich die Datensicherung richtig?  Wo werden Backups gespeichert?  Wie kann das erforderliche Ma√ü an nachtr√§glicher Speicherung von Kopien bereitgestellt werden?  Wie kann der Sicherungsprozess f√ºr den gesamten Zoo verschiedener Software vereinheitlicht werden? </p><br><p><img src="https://habrastorage.org/webt/xk/rn/7r/xkrn7rrnask1pgpv4uvrby6tnrc.jpeg"></p><a name="habracut"></a><br><p>  F√ºr uns selbst haben wir dieses Problem 2011 zum ersten Mal gel√∂st. Dann haben wir uns hingesetzt und unsere Backup-Skripte geschrieben.  Im Laufe der Jahre haben wir nur sie verwendet, und sie haben erfolgreich einen zuverl√§ssigen Prozess zum Sammeln und Synchronisieren von Backups von Webprojekten unserer Kunden bereitgestellt.  Backups wurden in unserem oder einem anderen externen Speicher gespeichert, mit der M√∂glichkeit, sie f√ºr ein bestimmtes Projekt zu optimieren. </p><br><p>  Ich muss sagen, diese Skripte haben in vollem Umfang funktioniert.  Aber je weiter wir wuchsen, desto vielf√§ltiger wurden Projekte mit unterschiedlicher Software und externen Repositorys, die unsere Skripte nicht unterst√ºtzten.  Zum Beispiel hatten wir keine Unterst√ºtzung f√ºr Redis und die hei√üen MySQL- und PostgreSQL-Backups, die sp√§ter erschienen.  Der Sicherungsprozess wurde nicht √ºberwacht, es gab nur E-Mail-Benachrichtigungen. </p><br><p>  Ein weiteres Problem war der Supportprozess.  Im Laufe der Jahre sind unsere einst kompakten Skripte gewachsen und haben sich zu einem riesigen, unangenehmen Monster entwickelt.  Und als wir uns zusammengetan und eine neue Version ver√∂ffentlicht haben, hat sich die M√ºhe gelohnt, das Update f√ºr den Teil der Kunden bereitzustellen, die die vorherige Version mit einer Art Anpassung verwendet haben. </p><br><p>  Infolgedessen haben wir Anfang dieses Jahres eine willensstarke Entscheidung getroffen: Unsere alten Backup-Skripte durch etwas Moderneres zu ersetzen.  Deshalb haben wir uns zuerst hingesetzt und die gesamte Wunschliste f√ºr eine neue L√∂sung aufgeschrieben.  Es stellte sich ungef√§hr Folgendes heraus: </p><br><ul><li>  Sichern Sie die Daten der am h√§ufigsten verwendeten Software: <br><ul><li>  Dateien (diskretes und inkrementelles Kopieren) </li><li>  MySQL (Cold / Hot-Backups) </li><li>  PostgreSQL (Cold / Hot-Backups) </li><li>  Mongodb </li><li>  Redis </li></ul></li><li>  Speichern Sie Backups in beliebten Repositorys: <br><ul><li>  Lokal </li><li>  FTP </li><li>  Ssh </li><li>  SMB </li><li>  Nfs </li><li>  Webdav </li><li>  S3 </li></ul></li><li>  Erhalten Sie Benachrichtigungen bei Problemen w√§hrend des Sicherungsvorgangs </li><li>  Verf√ºgen Sie √ºber eine einzige Konfigurationsdatei, mit der Sie Backups zentral verwalten k√∂nnen </li><li>  F√ºgen Sie Unterst√ºtzung f√ºr neue Software hinzu, indem Sie externe Module anschlie√üen </li><li>  Geben Sie zus√§tzliche Optionen zum Sammeln von Speicherausz√ºgen an </li><li>  Sie k√∂nnen Backups regelm√§√üig wiederherstellen </li><li>  Einfache Erstkonfiguration </li></ul><br><h1 id="analiziruem-imeyuschiesya-resheniya">  Wir analysieren die verf√ºgbaren L√∂sungen </h1><br><p>  Wir haben uns bereits vorhandene Open-Source-L√∂sungen angesehen: </p><br><ul><li>  Bacula und seine Gabeln, zum Beispiel Bareos </li><li>  Amanda </li><li>  Borg </li><li>  Vervielf√§ltigung </li><li>  Duplizit√§t </li><li>  Rsnapshot </li><li>  Rdiff-Backup </li></ul><br><p>  Aber jeder von ihnen hatte seine Nachteile.  Zum Beispiel ist Bacula mit Funktionen √ºberladen, die wir nicht ben√∂tigen. Die Erstkonfiguration ist aufgrund des gro√üen manuellen Aufwands (z. B. zum Schreiben / Suchen nach Datenbanksicherungsskripten) und zum Wiederherstellen von Kopien, die Sie ben√∂tigen, spezielle Dienstprogramme usw., eine ziemlich m√ºhsame Aufgabe. </p><br><p>  Am Ende kamen wir zu zwei wichtigen Schlussfolgerungen: </p><br><ol><li> Keine der vorhandenen L√∂sungen passte vollst√§ndig zu uns. </li><li>  Es scheint, dass wir selbst genug Erfahrung und Wahnsinn hatten, um unsere Entscheidung zu schreiben. </li></ol><br><p>  Also haben wir es getan. </p><br><h1 id="rozhdenie-nxs-backup">  Die Geburt von nxs-backup </h1><br><p>  Python wurde als Implementierungssprache ausgew√§hlt - es ist einfach zu schreiben und zu warten, flexibel und bequem.  Es wurde beschlossen, Konfigurationsdateien im Yaml-Format zu beschreiben. </p><br><p>  Um das Sichern und Hinzuf√ºgen von Backups neuer Software zu vereinfachen, wurde eine modulare Architektur gew√§hlt, bei der der Prozess des Sammelns von Backups jeder spezifischen Software (z. B. MySQL) in einem separaten Modul beschrieben wird. </p><br><h2 id="podderzhka-faylov-bd-i-udalyonnyh-hranilisch">  Unterst√ºtzung f√ºr Dateien, Datenbanken und Remotespeicher </h2><br><p>  Derzeit werden die folgenden Arten von Sicherungen von Dateien, Datenbanken und Remote-Repositorys unterst√ºtzt: </p><br><p>  DB: </p><br><ul><li>  MySQL (Hot / Cold-Backups) </li><li>  PostgreSQL (Hot / Cold-Backups) </li><li>  Redis </li><li>  Mongodb </li></ul><br><p>  Dateien: </p><br><ul><li>  Diskretes Kopieren </li><li>  Inkrementelles Kopieren </li></ul><br><p>  Remote-Repositorys: </p><br><ul><li>  Lokal </li><li>  S3 </li><li>  SMB </li><li>  Nfs </li><li>  FTP </li><li>  Ssh </li><li>  Webdav </li></ul><br><h2 id="diskretnoe-rezervnoe-kopirovanie">  Diskrete Sicherung </h2><br><p>  F√ºr verschiedene Aufgaben sind entweder diskrete oder inkrementelle Sicherungen geeignet, daher wurden beide Typen implementiert.  Sie k√∂nnen angeben, welche Methode auf der Ebene einzelner Dateien und Verzeichnisse verwendet werden soll. </p><br><p>  F√ºr diskrete Kopien (sowohl Dateien als auch Datenbanken) k√∂nnen Sie eine Retrospektive im Format Tage / Wochen / Monate festlegen. </p><br><h2 id="inkrementnoe-rezervnoe-kopirovanie">  Inkrementelle Sicherung </h2><br><p>  Inkrementelle Kopien von Dateien werden wie folgt erstellt: <br><img src="https://habrastorage.org/webt/c7/wk/ss/c7wksse4j_mxjkgdffptngpglkw.jpeg"></p><br><p>  Zu Beginn des Jahres wird eine vollst√§ndige Sicherung durchgef√ºhrt.  Als n√§chstes zu Beginn eines jeden Monats - eine inkrementelle monatliche Kopie im Vergleich zur j√§hrlichen.  Innerhalb der Menstruation - inkrementell dekadisch im Vergleich zum Monat.  Innerhalb jeder inkrementellen Tageszeit von zehn Tagen im Verh√§ltnis zum Zeitraum von zehn Tagen. </p><br><p>  Es ist zu beachten, dass beim Arbeiten mit Verzeichnissen, die eine gro√üe Anzahl von Unterverzeichnissen enthalten (Zehntausende), zwar einige Probleme auftreten.  In solchen F√§llen wird die Sammlung von Kopien erheblich verlangsamt und kann mehr als einen Tag dauern.  Wir gehen aktiv auf dieses Manko ein. </p><br><h2 id="vosstanavlivaemsya-iz-inkrementnyh-bekapov">  Wir erholen uns von inkrementellen Sicherungen </h2><br><p>  Es gibt keine Probleme bei der Wiederherstellung nach diskreten Sicherungen. Nehmen Sie einfach eine Kopie f√ºr das erforderliche Datum und stellen Sie sie mit dem √ºblichen Konsolentar bereit.  Inkrementelle Kopien sind etwas komplizierter.  Um beispielsweise am 24. Juli 2018 wiederherzustellen, m√ºssen Sie Folgendes tun: </p><br><ol><li>  Erweitern Sie eine einj√§hrige Sicherung, auch wenn sie in unserem Fall ab dem 1. Januar 2018 beginnt (in der Praxis kann dies ein beliebiges Datum sein, je nachdem, wann entschieden wurde, inkrementelle Sicherungen zu implementieren). </li><li>  W√ºrfeln Sie ihm ein monatliches Backup f√ºr Juli </li><li>  Rollen Sie das Backup vom 21. Juli auf </li><li>  Rollup t√§gliches Backup f√ºr den 24. Juli </li></ol><br><p>  Um 2-4 Punkte auszuf√ºhren, m√ºssen Sie gleichzeitig den Schalter -G zum Befehl tar hinzuf√ºgen, um anzuzeigen, dass es sich um eine inkrementelle Sicherung handelt.  Nat√ºrlich ist dies nicht der schnellste Prozess, aber da es nicht so oft notwendig ist, sich von Backups zu erholen, und die Kosteneffizienz wichtig ist, erweist sich ein solches Schema als recht effektiv. </p><br><h2 id="isklyucheniya">  Ausnahmen </h2><br><p>  H√§ufig m√ºssen Sie einzelne Dateien oder Verzeichnisse von Sicherungen ausschlie√üen, z. B. Verzeichnisse mit Cache.  Dies kann durch Angabe der entsprechenden Ausnahmeregeln erfolgen: </p><br><div class="spoiler">  <b class="spoiler_title">Beispiel f√ºr eine Konfigurationsdatei</b> <div class="spoiler_text"><pre><code class="hljs ruby">- <span class="hljs-symbol"><span class="hljs-symbol">target:</span></span> - <span class="hljs-regexp"><span class="hljs-regexp">/var/www</span></span><span class="hljs-regexp"><span class="hljs-regexp">/*/data</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ excludes: - exclude1/exclude</span></span>_file - exclude2 - <span class="hljs-regexp"><span class="hljs-regexp">/var/www</span></span><span class="hljs-regexp"><span class="hljs-regexp">/exclude_3</span></span></code> </pre> </div></div><br><h2 id="rotaciya-bekapov">  Backup-Rotation </h2><br><p>  In unseren alten Skripten wurde die Rotation implementiert, sodass die alte Kopie erst gel√∂scht wurde, nachdem die neue erfolgreich zusammengestellt wurde.  Dies f√ºhrte zu Problemen bei Projekten, bei denen dem Sicherungsspeicher grunds√§tzlich genau eine Kopie zugewiesen wurde - eine neue Kopie konnte dort aufgrund von Speicherplatzmangel nicht gesammelt werden. </p><br><p>  In der neuen Implementierung haben wir beschlossen, diesen Ansatz zu √§ndern: L√∂schen Sie zuerst den alten und sammeln Sie dann eine neue Kopie.  Der Prozess des Sammelns von Backups sollte √ºberwacht werden, um Probleme festzustellen. </p><br><p>  Bei diskreten Sicherungen wird ein Archiv als alte Kopie betrachtet, die √ºber das angegebene Speicherschema im Format Tage / Wochen / Monate hinausgeht.  Bei inkrementellen Sicherungen werden Sicherungen standardm√§√üig ein Jahr lang gespeichert, und alte Kopien werden zu Beginn eines jeden Monats gel√∂scht, w√§hrend Archive f√ºr denselben Monat des letzten Jahres als alte Sicherungen betrachtet werden.  Vor dem Sammeln einer monatlichen Sicherung am 1. August 2018 pr√ºft das System beispielsweise, ob Sicherungen f√ºr August 2017 vorhanden sind, und l√∂scht diese in diesem Fall.  Dies erm√∂glicht eine optimale Nutzung des Speicherplatzes. </p><br><h2 id="logirovanie">  Protokollierung </h2><br><p>  In jedem Prozess und insbesondere bei Backups ist es wichtig, auf dem Laufenden zu bleiben und herauszufinden, ob etwas schief gelaufen ist.  Das System f√ºhrt ein Protokoll seiner Arbeit und erfasst das Ergebnis jedes Schritts: Start / Stopp von Geldern, Start / Ende einer bestimmten Aufgabe, das Ergebnis des Sammelns einer Kopie in einem tempor√§ren Verzeichnis, das Ergebnis des Kopierens / Verschiebens einer Kopie von einem tempor√§ren Verzeichnis an einen permanenten Speicherort, das Ergebnis der Sicherungsrotation usw. .. </p><br><p>  Ereignisse sind in 2 Ebenen unterteilt: </p><br><ul><li>  <em>Info</em> : Informationsstand - der Flug ist normal, die n√§chste Stufe wurde erfolgreich abgeschlossen, ein entsprechender Informationseintrag erfolgt im Log </li><li>  <em>Fehler</em> : Fehlerstufe - etwas ist schiefgegangen, die n√§chste Stufe ist fehlgeschlagen, ein entsprechender Fehlerdatensatz wird im Protokoll erstellt </li></ul><br><h2 id="e-mail-notifikacii">  E-Mail-Benachrichtigungen </h2><br><p>  Am Ende der Sicherungssammlung kann das System E-Mail-Benachrichtigungen senden. </p><br><p>  Es werden 2 Empf√§ngerlisten unterst√ºtzt: </p><br><ul><li>  <em>Administratoren</em> sind diejenigen, die den Server bedienen.  Sie erhalten nur Benachrichtigungen √ºber Fehler und sind nicht an Benachrichtigungen √ºber erfolgreiche Operationen interessiert </li><li>  <em>Gesch√§ftsbenutzer</em> - in unserem Fall sind dies Kunden, die manchmal Benachrichtigungen erhalten m√∂chten, um sicherzustellen, dass bei Backups alles in Ordnung ist.  Oder umgekehrt nicht wirklich.  Sie k√∂nnen w√§hlen, ob sie ein vollst√§ndiges Protokoll oder nur ein fehlerhaftes Protokoll erhalten m√∂chten. </li></ul><br><h2 id="struktura-konfiguracionnyh-faylov">  Struktur der Konfigurationsdatei </h2><br><p>  Die Struktur der Konfigurationsdateien ist wie folgt: </p><br><div class="spoiler">  <b class="spoiler_title">Strukturbeispiel</b> <div class="spoiler_text"><pre> <code class="bash hljs">/etc/nxs-backup ‚îú‚îÄ‚îÄ conf.d ‚îÇ ‚îú‚îÄ‚îÄ desc_files_local.conf ‚îÇ ‚îú‚îÄ‚îÄ external_clickhouse_local.conf ‚îÇ ‚îú‚îÄ‚îÄ inc_files_smb.conf ‚îÇ ‚îú‚îÄ‚îÄ mongodb_nfs.conf ‚îÇ ‚îú‚îÄ‚îÄ mysql_s3.conf ‚îÇ ‚îú‚îÄ‚îÄ mysql_xtradb_scp.conf ‚îÇ ‚îú‚îÄ‚îÄ postgresql_ftp.conf ‚îÇ ‚îú‚îÄ‚îÄ postgresql_hot_webdav.conf ‚îÇ ‚îî‚îÄ‚îÄ redis_local_ftp.conf ‚îî‚îÄ‚îÄ nxs-backup.conf</code> </pre> </div></div><br><p>  Hier ist <em>/etc/nxs-backup/nxs-backup.conf</em> die Hauptkonfigurationsdatei, in der die globalen Einstellungen angegeben sind: </p><br><div class="spoiler">  <b class="spoiler_title">Konfigurationsdatei</b> <div class="spoiler_text"><pre> <code class="hljs sql">main: server_name: SERVER_NAME admin_mail: project-tech@nixys.ru client_mail: - '' mail_from: <span class="hljs-keyword"><span class="hljs-keyword">backup</span></span>@domain.ru level_message: <span class="hljs-keyword"><span class="hljs-keyword">error</span></span> block_io_read: <span class="hljs-string"><span class="hljs-string">''</span></span> block_io_write: <span class="hljs-string"><span class="hljs-string">''</span></span> blkio_weight: <span class="hljs-string"><span class="hljs-string">''</span></span> general_path_to_all_tmp_dir: /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/nxs-<span class="hljs-keyword"><span class="hljs-keyword">backup</span></span> cpu_shares: <span class="hljs-string"><span class="hljs-string">''</span></span> log_file_name: /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/nxs-<span class="hljs-keyword"><span class="hljs-keyword">backup</span></span>/nxs-backup.log jobs: !<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> [conf.d<span class="hljs-comment"><span class="hljs-comment">/*.conf]</span></span></code> </pre> </div></div><br><p>  Das Array von Aufgaben (Jobs) enth√§lt eine Liste von Aufgaben (Jobs), die beschreiben, was genau gesichert werden soll, wo und in welcher Menge gespeichert werden soll.  In der Regel werden sie in separate Dateien (eine Datei pro Job) verschoben, die √ºber include in der Hauptkonfigurationsdatei verbunden sind. </p><br><p>  Sie haben auch darauf geachtet, den Prozess der Vorbereitung dieser Dateien so weit wie m√∂glich zu optimieren, und einen einfachen Generator geschrieben.  Daher muss der Administrator keine Zeit damit verbringen, nach der Konfigurationsvorlage f√ºr einen Dienst zu suchen, z. B. MySQL, sondern einfach den folgenden Befehl ausf√ºhren: </p><br><pre> <code class="bash hljs">nxs-backup generate --storage <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> scp --<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> mysql --path /etc/nxs-backup/conf.d/mysql_local_scp.conf</code> </pre> <br><p>  Die Ausgabe generiert die Datei <em>/etc/nxs-backup/conf.d/mysql_local_scp.conf</em> : </p><br><div class="spoiler">  <b class="spoiler_title">Dateiinhalt</b> <div class="spoiler_text"><pre> <code class="hljs sql"> - job: PROJECT-mysql type: mysql tmp_dir: /var/nxs-<span class="hljs-keyword"><span class="hljs-keyword">backup</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">databases</span></span>/mysql/dump_tmp sources: - <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>: db_host: <span class="hljs-string"><span class="hljs-string">''</span></span> db_port: <span class="hljs-string"><span class="hljs-string">''</span></span> socket: <span class="hljs-string"><span class="hljs-string">''</span></span> db_user: <span class="hljs-string"><span class="hljs-string">''</span></span> db_password: <span class="hljs-string"><span class="hljs-string">''</span></span> auth_file: <span class="hljs-string"><span class="hljs-string">''</span></span> target: - all excludes: - information_schema - performance_schema - mysql - <span class="hljs-keyword"><span class="hljs-keyword">sys</span></span> gzip: <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> is_slave: <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> extra_keys: <span class="hljs-string"><span class="hljs-string">'--opt --add-drop-database --routines --comments --create-options --quote-names --order-by-primary --hex-blob'</span></span> storages: - <span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span>: yes backup_dir: /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/nxs-<span class="hljs-keyword"><span class="hljs-keyword">backup</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">databases</span></span>/mysql/dump <span class="hljs-keyword"><span class="hljs-keyword">store</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">days</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> weeks: <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">month</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> - <span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>: scp <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span>: yes backup_dir: /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/nxs-<span class="hljs-keyword"><span class="hljs-keyword">backup</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">databases</span></span>/mysql/dump <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> host: <span class="hljs-string"><span class="hljs-string">''</span></span> port: <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> path_to_key: <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">store</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">days</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> weeks: <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">month</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre> </div></div><br><p>  Dabei bleiben nur einige notwendige Werte zu ersetzen. </p><br><p>  Nehmen wir ein Beispiel.  Angenommen, auf unserem Server im Verzeichnis / var / www befinden sich zwei Sites des 1C-Bitrix-Onlineshops (bitrix-1.ru, bitrix-2.ru), von denen jede mit einer eigenen Datenbank in verschiedenen MySQL-Instanzen arbeitet (Port 3306 f√ºr Bitrix_1_db und 3307 Port f√ºr Bitrix_2_db). </p><br><p>  Die Dateistruktur eines typischen Bitrix-Projekts sieht ungef√§hr wie folgt aus: </p><br><pre> <code class="bash hljs">‚îú‚îÄ‚îÄ ... ‚îú‚îÄ‚îÄ bitrix ‚îÇ ‚îú‚îÄ‚îÄ .. ‚îÇ ‚îú‚îÄ‚îÄ admin ‚îÇ ‚îú‚îÄ‚îÄ backup ‚îÇ ‚îú‚îÄ‚îÄ cache ‚îÇ ‚îú‚îÄ‚îÄ .. ‚îÇ ‚îú‚îÄ‚îÄ managed_cache ‚îÇ ‚îú‚îÄ‚îÄ .. ‚îÇ ‚îú‚îÄ‚îÄ stack_cache ‚îÇ ‚îî‚îÄ‚îÄ .. ‚îú‚îÄ‚îÄ upload ‚îî‚îÄ‚îÄ ...</code> </pre> <br><p>  In der Regel wiegt das <em>Upload-</em> Verzeichnis viel und w√§chst nur mit der Zeit, sodass es schrittweise gesichert wird.  Alle anderen Verzeichnisse sind diskret, mit Ausnahme von Verzeichnissen mit Cache und Sicherungen, die von nativen Bitrix-Tools erfasst wurden.  Das Sicherungsspeicherschema f√ºr diese beiden Sites sollte identisch sein, w√§hrend Kopien der Dateien sowohl lokal als auch auf dem Remote-FTP-Speicher gespeichert werden sollten und die Datenbank nur auf dem Remote-SMB-Speicher gespeichert werden sollte. </p><br><p>  Die resultierenden Konfigurationsdateien f√ºr ein solches Setup sehen folgenderma√üen aus: </p><br><div class="spoiler">  <b class="spoiler_title">bitrix-desc-files.conf (Konfigurationsdatei mit Jobbeschreibung f√ºr diskrete Sicherung)</b> <div class="spoiler_text"><pre> <code class="hljs powershell"> - job: Bitrix<span class="hljs-literal"><span class="hljs-literal">-desc</span></span><span class="hljs-literal"><span class="hljs-literal">-files</span></span> type: desc_files tmp_dir: /var/nxs<span class="hljs-literal"><span class="hljs-literal">-backup</span></span>/files/desc/dump_tmp sources: - target: - /var/www/*/ excludes: - bitrix/backup - bitrix/cache - bitrix/managed_cache - bitrix/stack_cache - upload gzip: yes storages: - storage: local enable: yes backup_dir: /var/nxs<span class="hljs-literal"><span class="hljs-literal">-backup</span></span>/files/desc/dump store: days: <span class="hljs-number"><span class="hljs-number">6</span></span> weeks: <span class="hljs-number"><span class="hljs-number">4</span></span> month: <span class="hljs-number"><span class="hljs-number">6</span></span> - storage: ftp enable: yes backup_dir: /nxs<span class="hljs-literal"><span class="hljs-literal">-backup</span></span>/databases/mysql/dump host: ftp_host user: ftp_usr password: ftp_usr_pass store: days: <span class="hljs-number"><span class="hljs-number">6</span></span> weeks: <span class="hljs-number"><span class="hljs-number">4</span></span> month: <span class="hljs-number"><span class="hljs-number">6</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">bitrix-inc-files.conf (Konfigurationsdatei mit Jobbeschreibung f√ºr inkrementelle Sicherung)</b> <div class="spoiler_text"><pre> <code class="hljs coffeescript"> - job: Bitrix-inc-files type: inc_files sources: - target: - <span class="hljs-regexp"><span class="hljs-regexp">/var/www/</span></span>*<span class="hljs-regexp"><span class="hljs-regexp">/upload/</span></span> gzip: <span class="hljs-literal"><span class="hljs-literal">yes</span></span> storages: - storage: ftp enable: <span class="hljs-literal"><span class="hljs-literal">yes</span></span> backup_dir: /nxs-backup/files/inc host: ftp_host user: ftp_usr password: ftp_usr_pass - storage: local enable: <span class="hljs-literal"><span class="hljs-literal">yes</span></span> backup_dir: /var/nxs-backup/files/inc</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">bitrix-mysql.conf (Konfigurationsdatei mit Jobbeschreibung f√ºr MySQL-Backups)</b> <div class="spoiler_text"><pre> <code class="hljs sql"> - job: Bitrix-mysql type: mysql tmp_dir: /var/nxs-<span class="hljs-keyword"><span class="hljs-keyword">backup</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">databases</span></span>/mysql/dump_tmp sources: - <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>: db_host: localhost db_port: <span class="hljs-number"><span class="hljs-number">3306</span></span> db_user: bitrux_usr_1 db_password: password_1 target: - bitrix_1_db excludes: - information_schema - performance_schema - mysql - <span class="hljs-keyword"><span class="hljs-keyword">sys</span></span> gzip: <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> is_slave: <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> extra_keys: <span class="hljs-string"><span class="hljs-string">'--opt --add-drop-database --routines --comments --create-options --quote-names --order-by-primary --hex-blob'</span></span> - <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>: db_host: localhost db_port: <span class="hljs-number"><span class="hljs-number">3307</span></span> db_user: bitrix_usr_2 db_password: password_2 target: - bitrix_2_db excludes: - information_schema - performance_schema - mysql - <span class="hljs-keyword"><span class="hljs-keyword">sys</span></span> gzip: yes is_slave: <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> extra_keys: <span class="hljs-string"><span class="hljs-string">'--opt --add-drop-database --routines --comments --create-options --quote-names --order-by-primary --hex-blob'</span></span> storages: - <span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>: smb <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span>: yes backup_dir: /nxs-<span class="hljs-keyword"><span class="hljs-keyword">backup</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">databases</span></span>/mysql/dump host: smb_host port: smb_port <span class="hljs-keyword"><span class="hljs-keyword">share</span></span>: smb_share_name <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>: smb_usr <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>: smb_usr_pass <span class="hljs-keyword"><span class="hljs-keyword">store</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">days</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span> weeks: <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">month</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span></code> </pre> </div></div><br><h2 id="parametry-dlya-zapuska-sbora-bekapov">  Optionen zum Sammeln von Backups </h2><br><p>  Im vorherigen Beispiel haben wir Jobkonfigurationsdateien f√ºr das gleichzeitige Sammeln von Sicherungen aller Elemente vorbereitet: Dateien (diskret und inkrementell), zwei Datenbanken und deren Speicherung in lokalen und externen (ftp, smb) Speichern. </p><br><p>  Es bleibt die ganze Sache zu laufen.  Der Start wird mit dem folgenden Befehl ausgef√ºhrt: </p><br><pre> <code class="bash hljs">nxs-backup start <span class="hljs-variable"><span class="hljs-variable">$JOB_NAME</span></span> -c <span class="hljs-variable"><span class="hljs-variable">$PATH_TO_MAIN_CONFIG</span></span></code> </pre> <br><p>  Es gibt mehrere reservierte Jobnamen: </p><br><ul><li>  <strong>files</strong> - willk√ºrliche Ausf√ºhrung aller <em>Jobs</em> mit den Typen <em>desc_files</em> , <em>inc_files</em> ( <em>dh</em> im Wesentlichen werden nur Dateien <em>gesichert</em> ) </li><li>  <strong>Datenbanken</strong> - zuf√§llige Ausf√ºhrung aller Jobs mit den Typen <em>mysql</em> , <em>mysql_xtradb</em> , <em>postgresql</em> , <em>postgresql_hot</em> , <em>mongodb</em> , <em>redis</em> ( <em>dh</em> nur die Datenbank sichern) </li><li>  <strong>external</strong> - zuf√§llige Ausf√ºhrung aller Jobs mit dem <em>externen</em> Typ (nur zus√§tzliche benutzerdefinierte Skripte ausf√ºhren, mehr dazu weiter unten) </li><li>  <strong>all</strong> - Nachahmung der Ausf√ºhrung des Befehls nacheinander mit <em>Jobdateien</em> , <em>Datenbanken</em> , <em>extern</em> (Standardwert) </li></ul><br><p>  Da wir Datensicherungen beider Dateien und der Datenbank gleichzeitig (oder mit einem minimalen Unterschied) bei der Ausgabe erhalten m√ºssen, wird empfohlen, nxs-backup mit Job <strong>all</strong> auszuf√ºhren, um eine konsistente Ausf√ºhrung des beschriebenen Jobs (Bitrix-desc-) sicherzustellen. Dateien, Bitrix-inc_files, Bitrix-mysql). </p><br><p>  Das hei√üt, ein wichtiger Punkt: Backups werden nicht parallel, sondern nacheinander mit einem minimalen Zeitunterschied gesammelt.  Dar√ºber hinaus pr√ºft die Software beim n√§chsten Start selbst, ob der Prozess bereits im System ausgef√ºhrt wird. Wenn er erkannt wird, beendet er seine Arbeit automatisch mit der entsprechenden Markierung im Protokoll.  Dieser Ansatz reduziert die Belastung des Systems erheblich.  Minus - Backups einzelner Elemente werden nicht sofort, sondern mit einem gewissen Zeitunterschied gesammelt.  Unsere Praxis zeigt jedoch, dass dies nicht kritisch ist. </p><br><h2 id="vneshnie-moduli">  Externe Module </h2><br><p>  Wie oben erw√§hnt, k√∂nnen dank der modularen Architektur die Funktionen des Systems mithilfe zus√§tzlicher Benutzermodule erweitert werden, die √ºber eine spezielle Schnittstelle mit dem System interagieren.  Das Ziel ist es, in Zukunft Unterst√ºtzung f√ºr Backups neuer Software hinzuf√ºgen zu k√∂nnen, ohne nxs-backup neu schreiben zu m√ºssen. </p><br><div class="spoiler">  <b class="spoiler_title">Beispiel f√ºr eine Konfigurationsdatei</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"> - job: TEST-<span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> dump_cmd: <span class="hljs-string"><span class="hljs-string">''</span></span> storages: ‚Ä¶.</code> </pre> </div></div><br><p>  Besondere Aufmerksamkeit sollte dem Schl√ºssel <strong>dump_cmd gewidmet werden</strong> , wobei der Wert der vollst√§ndige Befehl zum Ausf√ºhren eines externen Skripts ist.  Dar√ºber hinaus wird nach Abschluss dieses Befehls erwartet, dass: </p><br><ul><li>  Ein fertiges Archiv mit Softwaredaten wird gesammelt </li><li>  Die Daten werden im JSON-Format in der folgenden Form an stdout gesendet: <br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"full_path"</span></span>: <span class="hljs-string"><span class="hljs-string">"ABS_PATH_TO_ARCHIVE"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"basename"</span></span>: <span class="hljs-string"><span class="hljs-string">"BASENAME_ARCHIVE"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"extension"</span></span>: <span class="hljs-string"><span class="hljs-string">"EXTERNSION_OF_ARCHIVE"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"gzip"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>/<span class="hljs-literal"><span class="hljs-literal">false</span></span> }</code> </pre> <br><ul><li>  In diesem Fall sind die Schl√ºssel <em>basename</em> , <em>extension</em> , <em>gzip</em> ausschlie√ülich f√ºr die Bildung des endg√ºltigen Sicherungsnamens erforderlich. </li></ul></li><li>  Bei erfolgreichem Abschluss des Skripts sollte der R√ºckkehrcode 0 und bei Problemen jeder andere sein. </li></ul><br><p>  Angenommen, wir haben ein Skript zum Erstellen eines Snapshots etcd <em>/etc/nxs-backup-ext/etcd.py</em> : </p><br><div class="spoiler">  <b class="spoiler_title">Skriptcode</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#! /usr/bin/env python3 # -*- coding: utf-8 -*- import json import os import subprocess import sys import tarfile def archive(snapshot_path): abs_tmp_path = '%s.tar' %(snapshot_path) with tarfile.open(abs_tmp_path, 'w:') as tar: tar.add(snapshot_path) os.unlink(snapshot_path) return abs_tmp_path def exec_cmd(cmdline): data_dict = {} current_process = subprocess.Popen([cmdline], stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=True, executable='/bin/bash') data = current_process.communicate() data_dict['stdout'] = data[0][0:-1].decode('utf-8') data_dict['stderr'] = data[1][0:-1].decode('utf-8') data_dict['code'] = current_process.returncode return data_dict def main(): snapshot_path = "/var/backups/snapshot.db" dump_cmd = "ETCDCTL_API=3 etcdctl --cacert=/etc/ssl/etcd/ssl/ca.pem --cert=/etc/ssl/etcd/ssl/member-node1.pem"+\ " --key=/etc/ssl/etcd/ssl/member-node1-key.pem --endpoints 'https://127.0.0.1:2379' snapshot save %s" %snapshot_path command = exec_cmd(dump_cmd) result_code = command['code'] if result_code: sys.stderr.write(command['stderr']) else: try: new_path = archive(snapshot_path) except tarfile.TarError as e: sys.exit(1) else: result_dict = { "full_path": new_path, "basename": "etcd", "extension": "tar", "gzip": False } print(json.dumps(result_dict)) sys.exit(result_code) if __name__ == '__main__': main()</span></span></code> </pre> </div></div><br><p>  Die Konfiguration zum Ausf√ºhren dieses Skripts lautet wie folgt: </p><br><div class="spoiler">  <b class="spoiler_title">Konfigurationsdatei</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"> - job: etcd-<span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> dump_cmd: <span class="hljs-string"><span class="hljs-string">'/etc/nxs-backup-ext/etcd.py'</span></span> storages: - <span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span>: yes backup_dir: /var/nxs-backup/<span class="hljs-keyword"><span class="hljs-keyword">external</span></span>/dump store: days: <span class="hljs-number"><span class="hljs-number">6</span></span> weeks: <span class="hljs-number"><span class="hljs-number">4</span></span> month: <span class="hljs-number"><span class="hljs-number">6</span></span></code> </pre> </div></div><br><p>  In diesem Fall ist das Programm beim Ausf√ºhren des Jobs <em>etcd-external</em> : </p><br><ul><li>  F√ºhren Sie das Skript <em>/etc/nxs-backup-ext/etcd.py</em> ohne Parameter aus </li><li>  Nach Abschluss des Skripts werden der Abschlusscode und die Verf√ºgbarkeit der erforderlichen Daten in stdout √ºberpr√ºft </li><li>  Wenn alle √úberpr√ºfungen erfolgreich sind, wird derselbe Mechanismus wie bei den bereits integrierten Modulen verwendet, wobei der Schl√ºsselwert full_path als tmp_path verwendet wird.  Wenn nicht, wird diese Aufgabe mit der entsprechenden Markierung im Protokoll abgeschlossen. </li></ul><br><h1 id="podderzhka-i-obnovlenie">  Support und Update </h1><br><p>  Der Prozess der Entwicklung und Unterst√ºtzung des neuen Backup-Systems wurde mit allen Kanonen von CI / CD implementiert.  Keine Updates und Skript√§nderungen mehr auf Kampfservern.  Alle √Ñnderungen werden √ºber unser zentrales Git-Repository in Gitlab √ºbertragen, wo die Zusammenstellung neuer Versionen von Deb / RPM-Paketen in der Pipeline registriert wird, die dann in unsere Deb / RPM-Repositorys hochgeladen werden.  Danach werden sie √ºber den Paketmanager an die Endclient-Server geliefert. </p><br><h1 id="kak-skachat-nxs-backup">  Wie lade ich nxs-backup herunter? </h1><br><p>  Wir haben ein Open-Source-Projekt f√ºr nxs-backup erstellt.  Jeder kann es herunterladen und verwenden, um den Sicherungsprozess in seinen Projekten zu organisieren sowie an seine Bed√ºrfnisse anzupassen und externe Module zu schreiben. </p><br><p>  Der Quellcode f√ºr nxs-backup kann unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem Link</a> aus dem Github-Repository heruntergeladen werden.  Es gibt auch Installations- und Konfigurationsanweisungen. </p><br><p>  Wir haben auch ein Docker-Image vorbereitet und auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DockerHub ver√∂ffentlicht</a> . </p><br><p>  Wenn Sie w√§hrend des Einrichtungs- oder Verwendungsprozesses Fragen haben, schreiben Sie uns.  Wir werden helfen, die Anweisungen zu verstehen und abzuschlie√üen. </p><br><h1 id="zaklyuchenie">  Fazit </h1><br><p>  In naher Zukunft werden wir folgende Funktionen implementieren: </p><br><ul><li>  Integration √ºberwachen </li><li>  Backup-Verschl√ºsselung </li><li>  Webbasierte Oberfl√§che zum Verwalten von Sicherungseinstellungen </li><li>  Bereitstellen von Sicherungen mit nxs-backup </li><li>  Und vieles mehr </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de424717/">https://habr.com/ru/post/de424717/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de424701/index.html">Fiktive IT-Geschichten √ºber Betr√ºger und warum diese obskuren Praktiken bei Interviews auftauchten</a></li>
<li><a href="../de424703/index.html">Und wieder √ºber Depersonalisierung</a></li>
<li><a href="../de424709/index.html">Meisterwerke des Welts√§ulenbaus: 225 W RMS f√ºr 28 000 Rubel</a></li>
<li><a href="../de424711/index.html">Vom Hydrogel zum Schweinedarm: ungew√∂hnliche Materialien in der Robotik</a></li>
<li><a href="../de424713/index.html">Die ganze Wahrheit √ºber RTOS. Artikel 12. Dienstleistungen f√ºr die Arbeit mit Aufgaben</a></li>
<li><a href="../de424723/index.html">Skillbox Friday Webinars: N√ºtzlich f√ºr Anf√§nger und mehr</a></li>
<li><a href="../de424725/index.html">Informationen zu Oracle JDK 11+ (Lizenzierung und Vertrieb)</a></li>
<li><a href="../de424729/index.html">Warum hat der Compiler meine bedingte Schleife in eine Endlosschleife verwandelt?</a></li>
<li><a href="../de424731/index.html">Hot Tech Support-Verlauf oder Warum l√∂scht AutoCAD Proxy-Objekte?</a></li>
<li><a href="../de424733/index.html">Blaue Pille STM32F103 als SPS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>