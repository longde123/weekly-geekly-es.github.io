<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí± üòû ‚èØÔ∏è √Ä propos des avantages de l'int√©gration de CSS dans JS üë©üèΩ‚Äç‚öñÔ∏è üòù üë©üèΩ‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ce message est une r√©ponse d√©taill√©e aux questions de cette conversation sur Twitter . L'auteur de l'original, Sunil Pye, est l'auteur de la biblioth√®...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√Ä propos des avantages de l'int√©gration de CSS dans JS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433276/"><p> <em>Ce message est une r√©ponse d√©taill√©e aux questions de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette conversation sur Twitter</a> .</em>  <em>L'auteur de l'original, Sunil Pye, est l'auteur de la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">glamour</a> relativement populaire et travaille en tant que d√©veloppeur sur Facebook.</em> </p><br><blockquote>  En quoi Javascript est-il plus pratique que CSS?  Comment l'√©criture CSS dans JS le rend-elle plus support√©e? </blockquote><p>  Je serai heureux de parler de ce sujet.  Je dois dire tout de suite que les solutions CSS-in-JS ont des frais g√©n√©raux, mais g√©n√©ralement ce prix est justifi√© par les avantages qu'elles apportent.  Parfois, ils peuvent √™tre utiles, mais cela ne signifie pas non plus que CSS-in-JS doit √™tre utilis√© partout et toujours. </p><a name="habracut"></a><br><p>  Ainsi, la chose la plus importante dans CSS-in-JS (cij) est les s√©lecteurs CSS.  Le plus grand avantage de cij est que les ordinateurs peuvent g√©n√©rer ces s√©lecteurs automatiquement.  Conventions telles que OOCSS, etc.  en principe, ils sont bons, mais ils sont bas√©s sur des s√©lecteurs √©crits manuellement, qui sont difficiles √† garantir l'unicit√© dans l'espace de noms commun, car il y a toujours une chance d'intersection.  Si cela ne se produit pas maintenant, cela peut arriver apr√®s trois ans, lorsque votre √©quipe s'agrandit et que les circonstances changent.  Cette situation est exacerb√©e √† l'aide de biblioth√®ques tierces.  Il est √©galement possible de limiter la port√©e des s√©lecteurs CSS en utilisant des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules CSS</a> , qui sont populaires pr√©cis√©ment pour cette opportunit√©. </p><br><p>  N√©anmoins, avec toutes ces approches, les s√©lecteurs sont tr√®s difficiles √† analyser statiquement et √† trouver ceux qui sont cass√©s (ou contiennent des fautes de frappe), ce qui signifie qu'ils devront √™tre v√©rifi√©s manuellement dans le processus de r√©vision du code, ce qui r√©duira l'efficacit√© de la commande.  Nous devons utiliser l'aide d'ordinateurs et ne pas compter sur l'int√©grit√© et la perfection des gens (car ce n'est pas le cas).  CSS-in-JS permet d'automatiser la g√©n√©ration de s√©lecteurs et d'identifiants uniques. </p><br><p> De plus, un contr√¥le am√©lior√© des s√©lecteurs CSS ouvre de nouvelles possibilit√©s qui n'√©taient pas facilement accessibles auparavant.  Par exemple, nous pouvons <em>simplement</em> impl√©menter l'extraction CSS critique en faisant correspondre les blocs HTML avec les styles dont ils ont besoin, de sorte que nous ne pouvons charger que 1-2 Ko de CSS sur la page, ce qui est n√©cessaire pour l'affichage initial de la page.  Sans aucun runtime!  Des cadres tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gatsby</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Next l'</a> utilisent activement pour am√©liorer les indicateurs de performance dans les projets bas√©s sur eux.  Ils int√®grent le CSS critique directement dans le HTML t√©l√©chargeable simplement parce qu'il p√®se si peu qu'il serait pr√©f√©rable √† une demande suppl√©mentaire bloquant le chargement de la page.  Cela r√©duit consid√©rablement le temps de rendu de page initial.  De plus, il contribue √©galement √† r√©soudre les probl√®mes de taille Javascript t√©l√©chargeable!  Les avantages proviennent de l'application de CSS critiques, ainsi que de l'utilisation de l' <code>import()</code> dynamique <code>import()</code> , du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fractionnement du code</a> et de la suppression du code inutilis√©.  (Contrairement aux fichiers de style Legacy en constante √©volution, dans lesquels les d√©veloppeurs ajoutent uniquement du nouveau code, ayant peur de toucher √† celui existant. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Il y a un peu d'analyse sur ce sujet</a> .) </p><br><p>  Une situation similaire avec la mise en ≈ìuvre des th√®mes.  Saviez-vous que les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">variables CSS</a> , m√™me √©tant une chose tr√®s int√©ressante, n'ont pas d√©coll√© pour les cas d'utilisation auxquels elles √©taient initialement destin√©es, et tout cela parce que les m√©thodes de secours pour les anciens navigateurs √©taient soit tr√®s compliqu√©es soit inf√©rieures?  Cela signifie qu'elles sont g√©n√©ralement utilis√©es comme constantes globales, mais tr√®s rarement comme variables dont la valeur est d√©termin√©e dynamiquement dans le navigateur.  Avoir un runtime CSS CSS signifie que vous pouvez passer des valeurs de JS aux styles, ce qui rend cela possible. </p><br><p>  En fait, vous l'aimerez: vous pouvez enfin <em>honn√™tement</em> utiliser des variables CSS dans <em>tous les</em> navigateurs, c'est-√†-dire des capacit√©s natives sans ex√©cution dans les navigateurs qui les prennent en charge, et une ex√©cution sp√©ciale pour les anciens navigateurs.  (J'ai √©crit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus</a> √† ce sujet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , et - si je comprends bien - c'est la seule biblioth√®que qui a atteint cet objectif). </p><br><p>  Dans une situation SPA complexe avec un tas de composants et un chargement asynchrone de ressources, tels que des scripts et des styles, vous ne pouvez pas garantir l'ordre exact de chargement des styles, vous devez donc cr√©er une sorte de solutions d'ex√©cution pour garantir l'ordre des styles, ou simplement utiliser <code>!important</code> , <em>m√™me si vous vous en tenez √† une sorte de m√©thodologie CSS</em> .  Par exemple, vous avez un √©l√©ment avec <code>class=‚Äúab‚Äù</code> , mais les classes <code>a</code> et <code>b</code> d√©finies dans des fichiers de style diff√©rents, alors vous ne pouvez pas √™tre s√ªr de la forme finale du bloc si vous n'avez pas un ordre de s√©quence clair des fichiers de style.  La base de code Facebook contient des milliers d'utilisations de <code>!important</code> , m√™me si le code a √©t√© √©crit par des programmeurs qualifi√©s en utilisant des principes SOLIDES et une bonne interaction avec l'√©quipe de conception. </p><br><p>  Cela fait souvent r√©f√©rence √† la manipulation de CSS comme s'il s'agissait de Javascript - √©tant donn√© qu'il y a 10 ans, nous r√©solvions d√©j√† des probl√®mes similaires pour JS - les biblioth√®ques et les modules se sont enregistr√©s dans l'espace de noms global ( <code>$</code> et autres) et nous avons d√ª √™tre tr√®s prudents avec l'ordre de connexion. scripts en HTML.  Mais nous n'√©tions pas coinc√©s l√† pour toujours - nous utilisons maintenant des modules et les syst√®mes d'assemblage les cousent ensemble dans un ordre correct garanti.  C'est simple et transparent pour nous. </p><br><p>  En regardant de vrais projets, j'ai √©galement remarqu√© que vous pouvez toujours utiliser des approches architecturales traditionnelles (telles que OOCSS ou SMACSS, etc.) dans le monde CSS-in-JS - les √©l√©ments de ces architectures sont repr√©sent√©s ici par des objets JS, au lieu des blocs de s√©lection + styles.  Je prends cette approche et cela fonctionne bien pour moi.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ici</a> vous pouvez en savoir plus. </p><br><p>  Je connais √©galement bien les inconv√©nients de CSS-in-JS.  En fait, c'est pr√©cis√©ment pourquoi il n'y a pas une seule biblioth√®que ¬´canonique¬ª qui repr√©sente CSS-in-JS - c'est un spectre de solutions diff√©rentes, du CSS statique vanille d'une part aux biblioth√®ques enti√®rement dynamiques comme les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composants de style</a> de l'autre.  Les pr√©processeurs tels que SASS ou LESS peuvent sembler perpendiculaires √† ce spectre, car ils peuvent th√©oriquement √™tre utilis√©s par n'importe laquelle de ces biblioth√®ques √† la discr√©tion de leurs auteurs.  Chacune de ces biblioth√®ques a ses inconv√©nients - certaines sont engag√©es dans l'extraction de styles au stade de l'assemblage afin qu'il n'y ait pas de co√ªts d'ex√©cution, certaines sont ax√©es sur l'exactitude ou la commodit√© pour les d√©veloppeurs, d'autres se concentrent sur la mise en ≈ìuvre efficace d'animations complexes, etc., etc.  Cette diversit√© est une r√©action naturelle au besoin de solutions diff√©rentes pour diff√©rentes t√¢ches, dans une industrie √† croissance trop rapide.  Et cela se produit non seulement avec les biblioth√®ques - les d√©veloppeurs de normes Web (ShadowDOM et autres) tentent vaillamment de r√©soudre ces probl√®mes aussi, mais leur solution a √©galement des inconv√©nients, le moins √©tant qu'ils ne sont pas encore disponibles partout, ce qui rend leur utilisation inacceptable. dans de nombreuses √©quipes. </p><br><p>  J'avais de forts sentiments √† ce sujet, mais j'ai temp√©r√© mes opinions au cours des derniers mois.  Il s'av√®re que la v√©rit√© se situe en fait quelque part au milieu - cela d√©pend des √©quipes, des exigences, du temps, de la documentation et de nombreux autres facteurs.  De plus, je ne pense pas que ce texte repr√©sente la ¬´forme finale¬ª de cette id√©e.  Nous devons encourager l'exp√©rimentation dans ce domaine afin de d√©couvrir ce que nous pouvons faire de mieux et m√™me d'int√©grer certaines de ces choses dans les navigateurs. </p><br><p>  PS Trop tard, j'ai r√©alis√© que j'avais oubli√© de cocher la case "Traduction", donc √ßa a √©t√© publi√© comme √ßa.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien vers l'original</a> . </p><br><p>  <em>Habr, corrige l'interface, pourquoi ne pouvez-vous pas ajouter l'indicateur de traduction apr√®s la publication?</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433276/">https://habr.com/ru/post/fr433276/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433266/index.html">Introduction √† l'API PHP Reflection</a></li>
<li><a href="../fr433268/index.html">Client PHP Telegram (et r√©ception de messages √† l'aide de MadelineProto)</a></li>
<li><a href="../fr433270/index.html">R√©solution de probl√®mes MapStruct avec ManyToMany</a></li>
<li><a href="../fr433272/index.html">Entretien avec David Gobel</a></li>
<li><a href="../fr433274/index.html">Oleg Dokuka √† propos du d√©veloppement r√©actif sur jug.msk.ru</a></li>
<li><a href="../fr433278/index.html">Programmation WebGL-wind et GPU. Conf√©rence √† FrontTalks 2018</a></li>
<li><a href="../fr433280/index.html">Conf√©rence DEFCON 18. Trollim Reverse Engineering Using Mathematics</a></li>
<li><a href="../fr433282/index.html">Passerelles de protocoles d'√©changes industriels sous Linux. Assemblez-vous</a></li>
<li><a href="../fr433286/index.html">10 r√©unions et hackathons informatiques les plus proches √† Moscou</a></li>
<li><a href="../fr433288/index.html">S√©curit√© Web: Introduction √† HTTP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>