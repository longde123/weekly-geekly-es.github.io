<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯН╗ ЁЯСНЁЯП┐ ЁЯСиЁЯП╛тАНтЪХя╕П рдХреИрд╕реЗ рдореИрдВрдиреЗ рд╕рд╛рдЭрд╛ рддрддреНрд╡ рд╕рдВрдХреНрд░рдордг рд╕реЗ рд╕рдВрдШрд░реНрд╖ рдХрд┐рдпрд╛ рдФрд░ рдЕрдкрдиреА рдкрд╣рд▓реА рдУрдкрдирд╕реЛрд░реНрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓рд┐рдЦреА ЁЯСйЁЯП╜тАНтЪЦя╕П ЁЯФ╕ ЁЯд░ЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рджреБрдирд┐рдпрд╛ рдореЗрдВ рдХреЛрдИ рджреБрдЦ рдХреА рдХрд╣рд╛рдиреА рдирд╣реАрдВ рд╣реИ 
 ViewPager'e рдФрд░ SET'e рдХреА рдХрд╣рд╛рдиреА рдХреА рддреБрд▓рдирд╛ рдореЗрдВ 




 рдореИрдВ рдЪреЗрддрд╛рд╡рдиреА рджреЗрдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ рдХрд┐ рд▓реЗрдЦрдХ рдПрдХ рдиреМрд╕рд┐рдЦрд┐рдпрд╛ рдПрдВрдбреНрд░реЙрдЗрдб рд╣реИ, рдЗрд╕рд▓рд┐рдП...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдХреИрд╕реЗ рдореИрдВрдиреЗ рд╕рд╛рдЭрд╛ рддрддреНрд╡ рд╕рдВрдХреНрд░рдордг рд╕реЗ рд╕рдВрдШрд░реНрд╖ рдХрд┐рдпрд╛ рдФрд░ рдЕрдкрдиреА рдкрд╣рд▓реА рдУрдкрдирд╕реЛрд░реНрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓рд┐рдЦреА</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451116/"><p>  <i>рджреБрдирд┐рдпрд╛ рдореЗрдВ рдХреЛрдИ рджреБрдЦ рдХреА рдХрд╣рд╛рдиреА рдирд╣реАрдВ рд╣реИ</i> <i><br></i>  <i><abbr title="рдПрдХ рдкреБрд╕реНрддрдХ рдЬреЛ рдЖрдкрдХреЛ рд╕реНрд╡рд╛рдЗрдк рдХреЗ рд╕рд╛рде рдмрд╛рдПрдВ рдФрд░ рджрд╛рдПрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдХреНрд░реАрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ">ViewPager'e</abbr> рдФрд░ <abbr title="рд╕рд╛рдЭрд╛ рддрддреНрд╡ рд╕рдВрдХреНрд░рдордг - Android рдкрд░ рд╕реНрдХреНрд░реАрди рдХреЗ рдмреАрдЪ рдмрдврд╝рддреЗ рддрддреНрд╡">SET'e</abbr> рдХреА рдХрд╣рд╛рдиреА рдХреА рддреБрд▓рдирд╛ рдореЗрдВ</i> <br></p><br><div style="text-align:center;"><img title="рдзреНрдпрд╛рди рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рддрд╕реНрд╡реАрд░ред рдкрд╣рд▓реА рдмрд╛рд░ рдЦреБрд▓реЗ рд╕реНрд░реЛрдд рдореЗрдВ рдпрд╛ рдмреИрдХреЗрдВрдб рдЖрдкрдХреЛ рдХрд╣рд╛рдВ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд┐рддрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИред рдлреЛрдЯреЛ рдореЗрдВ рдореИрдВ рдирд╣реАрдВ" src="https://habrastorage.org/webt/xy/9_/-m/xy9_-mwralsvfgpectslixhktbw.jpeg"></div><br><p>  рдореИрдВ рдЪреЗрддрд╛рд╡рдиреА рджреЗрдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ рдХрд┐ рд▓реЗрдЦрдХ рдПрдХ рдиреМрд╕рд┐рдЦрд┐рдпрд╛ рдПрдВрдбреНрд░реЙрдЗрдб рд╣реИ, рдЗрд╕рд▓рд┐рдП рд▓реЗрдЦ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рддрдХрдиреАрдХреА рдЕрд╢реБрджреНрдзрд┐рдпрд╛рдВ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рдмрд▓реНрдХрд┐ рдЪреЗрддрд╛рд╡рдиреА рджреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП рдХрд┐ рд▓реЗрдЦ рдореЗрдВ рддрдХрдиреАрдХреА рд░реВрдк рд╕реЗ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдХрдерди рджрд┐рдЦрд╛рдИ рджреЗ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h2 id="kuda-privodit-bekend">  рдЬрд╣рд╛рдВ рдмреИрдХрдПрдВрдб рд╣реЛрддрд╛ рд╣реИ </h2><br><p>  рдореЗрд░реЗ рд╕рд╛рд░реЗ рдЬреАрд╡рди рдореЗрдВ рдореИрдВрдиреЗ рдмреИрдХрдПрдВрдб рдХреЛ рджреЗрдЦрд╛ред  2019 рдХреА рд╢реБрд░реБрдЖрдд, рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрд╣реБрдд рдорд╣рддреНрд╡рд╛рдХрд╛рдВрдХреНрд╖реА рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдзреВрд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╣реИред  рдПрдХ рдЦреЛрдЬ рдХрдВрдкрдиреА рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдЬреНрдпреВрд░рд┐рдЦ рдореЗрдВ рдПрдХ рдмреЗрдХрд╛рд░ рдпрд╛рддреНрд░рд╛ред  рд╕рд░реНрджреА, рдЧрдВрджрдЧреА, рдореВрдб рдирд╣реАрдВред  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдФрд░ рдЖрдЧреЗ рдЦреАрдВрдЪрдиреЗ рдХреА рдХреЛрдИ рддрд╛рдХрдд рдФрд░ рдЗрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИред </p><br><p>  рдореИрдВ рдЗрд╕ рднрдпрд╛рдирдХ рдмреИрдХрдПрдВрдб рдХреЛ рд╣рдореЗрд╢рд╛ рдХреЗ рд▓рд┐рдП рднреВрд▓ рдЬрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рднрд╛рдЧреНрдп рдиреЗ рдореБрдЭреЗ рдПрдХ рд╡рд┐рдЪрд╛рд░ рджрд┐рдпрд╛ - рдпрд╣ рдПрдХ рдореЛрдмрд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдерд╛ред  рдЗрд╕рдХреА рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреИрдорд░реЗ рдХрд╛ рдЧреИрд░-рдорд╛рдирдХ рдЙрдкрдпреЛрдЧ рд╣реЛрдирд╛ рдерд╛ред  рдХрд╛рдо рдореЗрдВ рдЙрдмрд╛рд▓ рдЖрдиреЗ рд▓рдЧрд╛ред  рдЗрд╕рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рдордп рд▓рдЧрд╛, рдФрд░ рдЕрдм рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рддреИрдпрд╛рд░ рд╣реИред  рдЬрдм рддрдХ рдореИрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ " <em>рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ</em> " рдмрдирд╛рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рдирд╣реАрдВ рд▓реЗрддрд╛, рддрдм рддрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреА рд░рд┐рд▓реАрдЬ рдХрд░реАрдм рдЖ рд░рд╣реА рдереА рдФрд░ рд╕рдм рдХреБрдЫ рдареАрдХ рдФрд░ рд╕реБрд╡реНрдпрд╡рд╕реНрдерд┐рдд рдерд╛ред </p><a name="habracut"></a><br><h2 id="viewpager-i-shared-element-transition-ischem-puti-primireniya">  ViewPager рдФрд░ рд╕рд╛рдЭрд╛ рддрддреНрд╡ рд╕рдВрдХреНрд░рдордгред  рд╣рдо рд╕реБрд▓рд╣ рдХреА рддрд▓рд╛рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ </h2><br><p> рдХреЛрдИ рднреА 2019 рдореЗрдВ рдЫреЛрдЯреЗ рдореЗрдиреВ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рд╕рднреА рджрд╛рдПрдВ рдФрд░ рдмрд╛рдПрдВ рд╡реЗ рд╕реНрдХреНрд░реАрди рдХреЛ рд╕реНрд╡рд╛рдЗрдк рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ - рдХрд┐рдпрд╛, рдХрд┐рдпрд╛ - рдХрд┐рдпрд╛ред  рддреЛ рдкрд╣рд▓рд╛ <abbr title="рдПрдХ рдкреБрд╕реНрддрдХ рдЬреЛ рдЖрдкрдХреЛ рд╕реНрд╡рд╛рдЗрдк рдХреЗ рд╕рд╛рде рдмрд╛рдПрдВ рдФрд░ рджрд╛рдПрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдХреНрд░реАрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ"><code>ViewPager</code></abbr> рдореЗрд░реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдкрд░ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ (рдореИрдВрдиреЗ рдореЗрд░реЗ рдЬреИрд╕реЗ рд╣реА рдмреИрдХрдПрдВрдб рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╢рд░реНрддреЗрдВ рддрдп рдХреА рд╣реИрдВ - рдмрд╕ рдХрд░реНрд╕рд░ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВ)ред  рдФрд░ <abbr title="Android рдкрд░ рд╕реНрдХреНрд░реАрди рдХреЗ рдмреАрдЪ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рддрддреНрд╡реЛрдВ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХреА">рд╕рд╛рдЭрд╛ рддрддреНрд╡ рд╕рдВрдХреНрд░рдордг</abbr> (рдмрд╛рдж рдореЗрдВ рд╕реЗрдЯ рдпрд╛ рд╕рдВрдХреНрд░рдордг) - <abbr title="рдПрдХ рд╡рд╛рдХреНрдпрд╛рдВрд╢ рдЬрд┐рд╕реЗ рдЖрдкрдХреЛ рдЕрдзрд┐рдХ рдмрд╛рд░ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдпрджрд┐ рдЖрдк Android рд╡рд┐рдХрд╛рд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рд▓реЗрдЦ рд▓рд┐рдЦ рд░рд╣реЗ рд╣реИрдВ">рд╕рд╛рдордЧреНрд░реА рдбрд┐рдЬрд╝рд╛рдЗрди</abbr> рдХреЗ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рддрддреНрд╡, рдиреЗ рдореБрдЭреЗ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЫреЛрдбрд╝рдХрд░ рдПрдХ <code>ViewPager</code> рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рд╕реЗ рдЗрдирдХрд╛рд░ рдХрд░ рджрд┐рдпрд╛: рд╕реНрдХреНрд░реАрди рдХреЗ рдмреАрдЪ рдпрд╛ рддреЛ рд╕реНрд╡рд╛рдЗрдк, рдпрд╛ рд╕реБрдВрджрд░ рд╕рдВрдХреНрд░рдордг рдПрдирд┐рдореЗрд╢рдиред  рдореИрдВ рдПрдХ рдпрд╛ рджреВрд╕рд░реЗ рдХреЛ рдордирд╛ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рдЗрд╕рд▓рд┐рдП рдореЗрд░реА рдЦреЛрдЬ рд╢реБрд░реВ рд╣реБрдИред </p><br><p>  рдЕрдзреНрдпрдпрди рдХреЗ рдШрдВрдЯреЗ: рдордВрдЪреЛрдВ рдкрд░ рджрд░реНрдЬрдиреЛрдВ рд╡рд┐рд╖рдп рдФрд░ StackOverflow рдкрд░ рдЕрдиреБрддреНрддрд░рд┐рдд рдкреНрд░рд╢реНрдиред  рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рдореИрдВ рдХреНрдпрд╛ рдЦреЛрд▓рддрд╛ рд╣реВрдВ, рдореБрдЭреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><abbr title="рдПрдирд╛рд▓реЙрдЧ рд▓рд┐рд╕реНрдЯ рд╡реНрдпреВ - рдПрдХ рд╕реВрдЪреА рдЬреЛ рд╕реНрдХреНрд░реАрди рдкрд░ рдХрдИ рдЕрдиреНрдп рдЖрдЗрдЯрдо рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреА рд╣реИ">RecyclerView</abbr> рд╕реЗ ViewPager рдореЗрдВ</a> рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдВрдХреНрд░рдордг</a> рдмрдирд╛рдиреЗ рдпрд╛ "рдПрдХ рдкреНрд▓рд╛рдВрдЯреИрди <code>Fragment.postponeEnterTransition()</code> " рд╕рдВрд▓рдЧреНрди рдХрд░рдиреЗ рдХреА рдкреЗрд╢рдХрд╢ рдХреА рдЧрдИ рдереАред <br><br></p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7l/qu/r_/7lqur_jrf31n12aqmqefruovwbo.png"></div><br><p>  рд▓реЛрдХ рдЙрдкрдЪрд╛рд░ рдиреЗ рдорджрдж рдирд╣реАрдВ рдХреА, рдФрд░ рдореИрдВрдиреЗ <code>ViewPager</code> рдФрд░ <code>Shared Element Transition</code> рд╕реНрд╡рдпрдВ рдореЗрдВ рд╕рдореЗрдЯрдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред </p><br><h2 id="viewpager-pervaya-krov">  ViewPager: рдкрд╣рд▓рд╛ рдЦреВрди </h2><br><p>  рдореИрдВрдиреЗ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд┐рдпрд╛: "рд╕рдорд╕реНрдпрд╛ рдЙрд╕ рд╕рдордп рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдХ рдкреГрд╖реНрда рд╕реЗ рджреВрд╕рд░реЗ рдкреГрд╖реНрда рдкрд░ рдЬрд╛рддрд╛ рд╣реИ ..."ред  рдФрд░ рдлрд┐рд░ рдпрд╣ рдореБрдЭ рдкрд░ рд╣рд╛рд╡реА рд╣реЛ рдЧрдпрд╛: "рдпрджрд┐ рдЖрдк рдкреГрд╖реНрда рдирд╣реАрдВ рдмрджрд▓рддреЗ рд╣реИрдВ, рддреЛ рдкреГрд╖реНрда рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рджреМрд░рд╛рди рдЖрдкрдХреЛ <em>SET рд╕реЗ</em> рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реЛрдЧреА"ред </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tu/qa/ss/tuqasspx-ir0-tuk-fo4qk3m9fa.jpeg"></div><br><p>  рд╣рдо рдПрдХ рд╣реА рдкреГрд╖реНрда рдкрд░ <em>рд╕рдВрдХреНрд░рдордг</em> рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рд╡рд░реНрддрдорд╛рди рдкреГрд╖реНрда рдХреЛ <code>ViewPager</code> рдореЗрдВ рд▓рдХреНрд╖реНрдп рдкреГрд╖реНрда рд╕реЗ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, <abbr title="рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рд░реВрдк рд╕реЗ рдкреВрд░реНрдг рддрддреНрд╡ рдЬреЛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдЖрдЧреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕реНрддреБрддрд┐ рдФрд░ рддрд░реНрдХ рдХреЛ рд╕рдВрд▓рдЧреНрди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рд▓реЗрдЦ рдХреЗрд╡рд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрдХреНрд░реАрди рдХреА рд╕рд╛рдордЧреНрд░реА рд╣реИред">рдЯреБрдХрдбрд╝реЗ</abbr> рдмрдирд╛рдПрдВ, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рд╣рдо рдХрд╛рдо рдХрд░реЗрдВрдЧреЗред </p><br><pre> <code class="java hljs">SmallPictureFragment small_picture_fragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SmallPictureFragment(); BigPictureFragment big_picture_fragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BigPictureFragment();</code> </pre> <br><p>  рдЖрдЗрдП рд╡рд░реНрддрдорд╛рди рдкреГрд╖реНрда рдореЗрдВ рдЯреБрдХрдбрд╝реЗ рдХреЛ рдХреБрдЫ рдФрд░ рдореЗрдВ рдмрджрд▓рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред </p><br><pre> <code class="java hljs">FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); <span class="hljs-comment"><span class="hljs-comment">//  View      int fragmentContId = previousFragment.getView().getParent().getId(); //         fragmentTransaction.replace(fragmentContId, nextFragment); fragmentTransaction.commit();</span></span></code> </pre> <br><p>  рд╣рдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдиреНрдЪ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ ... рдЖрд╕рд╛рдиреА рд╕реЗ рдПрдХ рд░рд┐рдХреНрдд рд╕реНрдХреНрд░реАрди рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╣реИрдВред  рдХреНрдпрд╛ рдХрд╛рд░рдг рд╣реИ? </p><br><p>  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ <code>Page1Container</code> , <code>Page2Container</code> рдЬреИрд╕реЗ рдХрд┐рд╕реА рдордзреНрдпрд╕реНрде рдХреЗ рдмрд┐рдирд╛ рдкреНрд░рддреНрдпреЗрдХ рдкреГрд╖реНрда рдХрд╛ рдХрдВрдЯреЗрдирд░ <code>ViewPager</code> рд╣реА рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдмрд╕ рдПрдХ рдкреГрд╖реНрда рдХреЛ рджреВрд╕рд░реЗ рдореЗрдВ рдмрджрд▓рдиреЗ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдкреВрд░реЗ <code>pager</code> рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  рдЦреИрд░, рдкреНрд░рддреНрдпреЗрдХ рдкреГрд╖реНрда рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рдкреГрд╖реНрда рдХреЗ рд▓рд┐рдП рдХрдИ рдХрдВрдЯреЗрдирд░ рдЯреБрдХрдбрд╝реЗ рдмрдирд╛рддреЗ рд╣реИрдВред </p><br><pre> <code class="java hljs">RootSmallPictureFragment root_small_pic_fragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RootSmallPictureFragment(); RootBigPictureFragment root_big_pic_fragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RootBigPictureFragment();</code> </pre> <br><p>  рдХреБрдЫ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред </p><br><blockquote>  java.lang.IllegalStateException: рдЯреБрдХрдбрд╝реЗ рдЯреБрдХрдбрд╝реЗ рдХреА рдХрдВрдЯреЗрдирд░ ID рдирд╣реАрдВ рдмрджрд▓ рд╕рдХрддреЗ BigPictureFragment {...}: 2131165289 рдерд╛ рдЕрдм 2131165290 </blockquote><p>  рд╣рдо рджреВрд╕рд░реЗ рдкреГрд╖реНрда ( <code>BigPictureFragment</code> ) рдХреЗ рдПрдХ рдЯреБрдХрдбрд╝реЗ рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╕рдВрд▓рдЧреНрди рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рджреВрд╕рд░реЗ рдкреГрд╖реНрда рдХреЗ рдХрдВрдЯреЗрдирд░ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред </p><br><p>  рд╣рдорд╛рд░реЗ рджрд╛рдВрддреЛрдВ рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдЕрдзрд┐рдХ рдбрдмрд▓ рдЯреБрдХрдбрд╝реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред </p><br><pre> <code class="plaintext hljs">SmallPictureFragment small_picture_fragment_fake = new SmallPictureFragment(); BigPictureFragment big_picture_fragment_fake = new BigPictureFragment();</code> </pre> <br><p>  <strong>рдЬреАрдд рдЧрдП рд╣реИрдВ!</strong>  GitHub рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдХреЙрдкреА рдХрд┐рдП рдЧрдП рд╕рдВрдХреНрд░рдордг рдХреЛрдб рдХреЛ рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА <em>рдлреАрдХрд╛ рдХрд░ рджрд┐рдпрд╛</em> рдФрд░ рдПрдирд┐рдореЗрд╢рди рдХреЛ <em>рдлреАрдХрд╛ рдХрд░ рджрд┐рдпрд╛</em> ред  рдЗрд╕рд▓рд┐рдП, <em>рд╕рдВрдХреНрд░рдордг</em> рд╕реЗ рдкрд╣рд▓реЗ, рдкрд╣рд▓реЗ рдЯреБрдХрдбрд╝реЗ рд╕реЗ рд╕рднреА рд╕реНрдерд┐рд░ рддрддреНрд╡ рдЧрд╛рдпрдм рд╣реЛ рдЧрдП, рдлрд┐рд░ рдЪрд┐рддреНрд░ рдЪрд▓реЗ рдЧрдП, рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рд╣реА рджреВрд╕рд░реЗ рдкреГрд╖реНрда рдХреЗ рддрддреНрд╡ рджрд┐рдЦрд╛рдИ рджрд┐рдПред  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдкреГрд╖реНрдареЛрдВ рдХреЗ рдмреАрдЪ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЖрдВрджреЛрд▓рди рдЬреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИред </p><br><p>  рд╕рднреА рдПрдирд┐рдореЗрд╢рди рдкрд╛рд╕ рд╣реЛ рдЧрдП рд╣реИрдВ, рд▓реЗрдХрд┐рди рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╣реИред  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрднреА рднреА рдкрд╣рд▓реЗ рдкреГрд╖реНрда рдкрд░ рд╣реИ, рд▓реЗрдХрд┐рди рджреВрд╕рд░реЗ рдкрд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдЗрд╕реЗ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рджреГрд╢реНрдпрдорд╛рди рдкреЗрдЬ рдкреЗрдЬ <code>ViewPager</code> рдзреНрдпрд╛рди рд╕реЗ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ <code>ViewPager</code> рдмрджрд▓рддреЗ рд╣реИрдВред  рдФрд░ рдлрд┐рд░ рд╣рдо рдкрд╣рд▓реЗ рдкреГрд╖реНрда рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЙрдирдХреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВред </p><br><pre> <code class="java hljs"> handler.postDelayed( () -&gt; { <span class="hljs-comment"><span class="hljs-comment">//       activity.viewPager.setCurrentItem(nextPage, false); FragmentTransaction transaction = fragmentManager.beginTransaction(); //   . //       //    Shared Element Transition transaction.replace(fragmentContainer, previousFragment); transaction.commitAllowingStateLoss(); }, //      ,     FADE_DEFAULT_TIME + MOVE_DEFAULT_TIME + FADE_DEFAULT_TIME ); }</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рдкрд░рд┐рдгрд╛рдо рдХреНрдпрд╛ рд╣реИ?</b>  <b class="spoiler_title">(рдПрдиреАрдореЗрд╢рди - реи. - mb)</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/kc/cz/vy/kcczvylf6a4kekytbyrtbyzk7w4.gif"></div></div></div><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрдкреВрд░реНрдг рд╕реНрд░реЛрдд рдХреЛрдб</b> <div class="spoiler_text"><div class="oembed"><script type="text/javascript" src="https://gist.github.com/9d51e1c92585b75ec19f156c14562a5f.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-13f839f7454b3a5b3bfbfd6d1e34ec9d.css"><div id="gist96065161" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-fragmenttransitionutil-java" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-java ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-fragmenttransitionutil-java-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-fragmenttransitionutil-java-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">FragmentTransitionUtil</span> {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-fragmenttransitionutil-java-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-fragmenttransitionutil-java-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">long</span> <span class="pl-c1">FADE_DEFAULT_TIME</span> <span class="pl-k">=</span> <span class="pl-c1">500</span>;</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-fragmenttransitionutil-java-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">long</span> <span class="pl-c1">MOVE_DEFAULT_TIME</span> <span class="pl-k">=</span> <span class="pl-c1">1000</span>;</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-fragmenttransitionutil-java-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-fragmenttransitionutil-java-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">perform</span>(</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-fragmenttransitionutil-java-LC7" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">MainActivity</span> <span class="pl-v">activity</span>,</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-fragmenttransitionutil-java-LC8" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">Fragment</span> <span class="pl-v">previousFragment</span>,</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-fragmenttransitionutil-java-LC9" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">Fragment</span> <span class="pl-v">nextFragment</span>,</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-fragmenttransitionutil-java-LC10" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">Map&lt;<span class="pl-smi">View</span>, <span class="pl-smi">String</span>&gt;</span> <span class="pl-v">sharedElements</span>,</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-fragmenttransitionutil-java-LC11" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">int</span> <span class="pl-v">nextPage</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-fragmenttransitionutil-java-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-fragmenttransitionutil-java-LC13" class="blob-code blob-code-inner js-file-line">    ) {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-fragmenttransitionutil-java-LC14" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">FragmentManager</span> fragmentManager <span class="pl-k">=</span> activity<span class="pl-k">.</span>getSupportFragmentManager();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-fragmenttransitionutil-java-LC15" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">FragmentTransaction</span> fragmentTransaction <span class="pl-k">=</span> fragmentManager<span class="pl-k">.</span>beginTransaction();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-fragmenttransitionutil-java-LC16" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-fragmenttransitionutil-java-LC17" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (previousFragment <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-fragmenttransitionutil-java-LC18" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-fragmenttransitionutil-java-LC19" class="blob-code blob-code-inner js-file-line">            <span class="pl-c"><span class="pl-c">//</span> 1. Exit for Previous Fragment</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-fragmenttransitionutil-java-LC20" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">Fade</span> exitFade <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Fade</span>();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-fragmenttransitionutil-java-LC21" class="blob-code blob-code-inner js-file-line">            exitFade<span class="pl-k">.</span>setDuration(<span class="pl-c1">FADE_DEFAULT_TIME</span>);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-fragmenttransitionutil-java-LC22" class="blob-code blob-code-inner js-file-line">            previousFragment<span class="pl-k">.</span>setExitTransition(exitFade);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-fragmenttransitionutil-java-LC23" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-fragmenttransitionutil-java-LC24" class="blob-code blob-code-inner js-file-line">            <span class="pl-c"><span class="pl-c">//</span> 2. Shared Elements Transition</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-fragmenttransitionutil-java-LC25" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">TransitionSet</span> enterTransitionSet <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">TransitionSet</span>();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-fragmenttransitionutil-java-LC26" class="blob-code blob-code-inner js-file-line">            enterTransitionSet<span class="pl-k">.</span>addTransition(</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-fragmenttransitionutil-java-LC27" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">new</span> <span class="pl-smi">TransitionSet</span>() {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-fragmenttransitionutil-java-LC28" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-fragmenttransitionutil-java-LC29" class="blob-code blob-code-inner js-file-line">                        {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-fragmenttransitionutil-java-LC30" class="blob-code blob-code-inner js-file-line">                            setOrdering(<span class="pl-c1">ORDERING_TOGETHER</span>);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-fragmenttransitionutil-java-LC31" class="blob-code blob-code-inner js-file-line">                            addTransition(<span class="pl-k">new</span> <span class="pl-smi">ChangeBounds</span>())<span class="pl-c1">.</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-fragmenttransitionutil-java-LC32" class="blob-code blob-code-inner js-file-line">                            addTransition(<span class="pl-k">new</span> <span class="pl-smi">ChangeTransform</span>())<span class="pl-c1">.</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-fragmenttransitionutil-java-LC33" class="blob-code blob-code-inner js-file-line">                            addTransition(<span class="pl-k">new</span> <span class="pl-smi">ChangeImageTransform</span>());</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-fragmenttransitionutil-java-LC34" class="blob-code blob-code-inner js-file-line">                        }</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-fragmenttransitionutil-java-LC35" class="blob-code blob-code-inner js-file-line">                    }</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-fragmenttransitionutil-java-LC36" class="blob-code blob-code-inner js-file-line">            );</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-fragmenttransitionutil-java-LC37" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-fragmenttransitionutil-java-LC38" class="blob-code blob-code-inner js-file-line">            enterTransitionSet<span class="pl-k">.</span>setDuration(<span class="pl-c1">MOVE_DEFAULT_TIME</span>);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-fragmenttransitionutil-java-LC39" class="blob-code blob-code-inner js-file-line">            enterTransitionSet<span class="pl-k">.</span>setStartDelay(<span class="pl-c1">FADE_DEFAULT_TIME</span>);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-fragmenttransitionutil-java-LC40" class="blob-code blob-code-inner js-file-line">            nextFragment<span class="pl-k">.</span>setSharedElementEnterTransition(enterTransitionSet);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-fragmenttransitionutil-java-LC41" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-fragmenttransitionutil-java-LC42" class="blob-code blob-code-inner js-file-line">            <span class="pl-c"><span class="pl-c">//</span> 3. Enter Transition for New Fragment</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-fragmenttransitionutil-java-LC43" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">Fade</span> enterFade <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Fade</span>();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-fragmenttransitionutil-java-LC44" class="blob-code blob-code-inner js-file-line">            enterFade<span class="pl-k">.</span>setStartDelay(<span class="pl-c1">MOVE_DEFAULT_TIME</span> <span class="pl-k">+</span> <span class="pl-c1">FADE_DEFAULT_TIME</span>);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-fragmenttransitionutil-java-LC45" class="blob-code blob-code-inner js-file-line">            enterFade<span class="pl-k">.</span>setDuration(<span class="pl-c1">FADE_DEFAULT_TIME</span>);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-fragmenttransitionutil-java-LC46" class="blob-code blob-code-inner js-file-line">            nextFragment<span class="pl-k">.</span>setEnterTransition(enterFade);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-fragmenttransitionutil-java-LC47" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-fragmenttransitionutil-java-LC48" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">Build</span><span class="pl-c1"><span class="pl-k">.</span>VERSION<span class="pl-k">.</span>SDK_INT</span> <span class="pl-k">&gt;=</span> <span class="pl-smi">Build</span><span class="pl-c1"><span class="pl-k">.</span>VERSION_CODES<span class="pl-k">.</span>LOLLIPOP</span>) {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-fragmenttransitionutil-java-LC49" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">if</span> (sharedElements <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-fragmenttransitionutil-java-LC50" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">for</span> (<span class="pl-smi">Map</span><span class="pl-k">.</span><span class="pl-k">Entry&lt;<span class="pl-smi">View</span>, <span class="pl-smi">String</span>&gt;</span> viewStringEntry <span class="pl-k">:</span> sharedElements<span class="pl-k">.</span>entrySet()) {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-fragmenttransitionutil-java-LC51" class="blob-code blob-code-inner js-file-line">                        <span class="pl-smi">View</span> view <span class="pl-k">=</span> viewStringEntry<span class="pl-k">.</span>getKey();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-fragmenttransitionutil-java-LC52" class="blob-code blob-code-inner js-file-line">                        <span class="pl-smi">String</span> transName <span class="pl-k">=</span> viewStringEntry<span class="pl-k">.</span>getValue();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-fragmenttransitionutil-java-LC53" class="blob-code blob-code-inner js-file-line">                        view<span class="pl-k">.</span>setTransitionName(transName);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-fragmenttransitionutil-java-LC54" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-fragmenttransitionutil-java-LC55" class="blob-code blob-code-inner js-file-line">                        fragmentTransaction<span class="pl-k">.</span>addSharedElement(</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-fragmenttransitionutil-java-LC56" class="blob-code blob-code-inner js-file-line">                                view,</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-fragmenttransitionutil-java-LC57" class="blob-code blob-code-inner js-file-line">                                transName</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-fragmenttransitionutil-java-LC58" class="blob-code blob-code-inner js-file-line">                        );</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-fragmenttransitionutil-java-LC59" class="blob-code blob-code-inner js-file-line">                    }</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-fragmenttransitionutil-java-LC60" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-fragmenttransitionutil-java-LC61" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-fragmenttransitionutil-java-LC62" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-fragmenttransitionutil-java-LC63" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">int</span> fragmentContId <span class="pl-k">=</span> ((<span class="pl-smi">ViewGroup</span>) previousFragment<span class="pl-k">.</span>getView()<span class="pl-k">.</span>getParent())<span class="pl-k">.</span>getId();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-fragmenttransitionutil-java-LC64" class="blob-code blob-code-inner js-file-line">            fragmentTransaction<span class="pl-k">.</span>replace(fragmentContId, nextFragment);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-fragmenttransitionutil-java-LC65" class="blob-code blob-code-inner js-file-line">            fragmentTransaction<span class="pl-k">.</span>commit();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-fragmenttransitionutil-java-LC66" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-fragmenttransitionutil-java-LC67" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-fragmenttransitionutil-java-LC68" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">final</span> <span class="pl-smi">Handler</span> handler <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Handler</span>();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-fragmenttransitionutil-java-LC69" class="blob-code blob-code-inner js-file-line">            handler<span class="pl-k">.</span>postDelayed(</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-fragmenttransitionutil-java-LC70" class="blob-code blob-code-inner js-file-line">                    () <span class="pl-k">-</span><span class="pl-k">&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-fragmenttransitionutil-java-LC71" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c"><span class="pl-c">//</span> Stealthy changing page visible to user. He wonтАЩt notice!</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-fragmenttransitionutil-java-LC72" class="blob-code blob-code-inner js-file-line">                        activity<span class="pl-k">.</span>viewPager<span class="pl-k">.</span>setCurrentItem(nextPage, <span class="pl-c1">false</span>);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-fragmenttransitionutil-java-LC73" class="blob-code blob-code-inner js-file-line">                        <span class="pl-smi">FragmentTransaction</span> transaction <span class="pl-k">=</span> fragmentManager<span class="pl-k">.</span>beginTransaction();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-fragmenttransitionutil-java-LC74" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c"><span class="pl-c">//</span> Restore previous fragment. It contains inappropriate view now</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-fragmenttransitionutil-java-LC75" class="blob-code blob-code-inner js-file-line">                        transaction<span class="pl-k">.</span>replace(fragmentContId, previousFragment);</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-fragmenttransitionutil-java-LC76" class="blob-code blob-code-inner js-file-line">                        transaction<span class="pl-k">.</span>commitAllowingStateLoss();</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-fragmenttransitionutil-java-LC77" class="blob-code blob-code-inner js-file-line">                    },</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-fragmenttransitionutil-java-LC78" class="blob-code blob-code-inner js-file-line">                    <span class="pl-c1">FADE_DEFAULT_TIME</span> <span class="pl-k">+</span> <span class="pl-c1">MOVE_DEFAULT_TIME</span> <span class="pl-k">+</span> <span class="pl-c1">FADE_DEFAULT_TIME</span></td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-fragmenttransitionutil-java-LC79" class="blob-code blob-code-inner js-file-line">            );</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-fragmenttransitionutil-java-LC80" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-fragmenttransitionutil-java-LC81" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-fragmenttransitionutil-java-LC82" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-fragmenttransitionutil-java-LC83" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-fragmenttransitionutil-java-LC84" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fragmenttransitionutil-java-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-fragmenttransitionutil-java-LC85" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">FragmentTransitionUtil.java</a>
        hosted with тЭд by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div></div></div><br><p>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GitHub</a> рдкрд░ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред </p><br><p>  <strong>рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рджреЗрдирд╛ред</strong>  рдХреЛрдб рдмрд╣реБрдд рдЕрдзрд┐рдХ рдареЛрд╕ рд▓рдЧрдиреЗ рд▓рдЧрд╛: 2 рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЕрдВрд╢реЛрдВ рдХреЗ рдмрдЬрд╛рдп, рдореБрдЭреЗ 6 рдХреЗ рд░реВрдк рдореЗрдВ рдорд┐рд▓рд╛, рдЗрд╕рдореЗрдВ рдРрд╕реЗ рдирд┐рд░реНрджреЗрд╢ рджрд┐рдЦрд╛рдИ рджрд┐рдП рдЬреЛ рд╕рд╣реА рд╕рдордп рдкрд░ рдЯреБрдХрдбрд╝реЛрдВ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реБрдП рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдФрд░ рдпрд╣ рдХреЗрд╡рд▓ рдбреЗрдореЛ рдореЗрдВ рд╣реИред </p><br><p>  рдПрдХ рд╣реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ, рдХреЛрдб рдореЗрдВ рдПрдХ рдХреЗ рдмрд╛рдж рдПрдХ, рд╕рдмрд╕реЗ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рдмреИрдХрдЕрдк рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рд▓рдЧреЗред  рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ "рдЧрд▓рдд" рдкреГрд╖реНрдареЛрдВ рд╕реЗ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддрд╛ рд╣реИ рдпрд╛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдирд┐рдпреБрдХреНрддрд┐рдпреЛрдВ рдХреА рдкреГрд╖реНрдарднреВрдорд┐ рдХреЗ рдХрд╛рдо рдХреЛ рдмрд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЙрдиреНрд╣реЛрдВрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЕрд▓рдЧ рдирд╣реАрдВ рд╣реЛрдиреЗ рджрд┐рдпрд╛ред </p><br><p>  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ <em>рд╕рдВрдХреНрд░рдордг</em> рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдВрдбреНрд░реЙрдЗрдб рдореЗрдВ рдХреЙрд▓рдмреИрдХ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдЗрд╕рдХрд╛ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдмрд╣реБрдд рд╣реА рдордирдорд╛рдирд╛ рд╣реИ рдФрд░ рдпрд╣ рдХрдИ рдХрд╛рд░рдХреЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкрд░рд┐рдгрд╛рдореА рдЯреБрдХрдбрд╝реЗ рдореЗрдВ <code>RecyclerView</code> рдЬрд▓реНрджреА рд╕реЗ рдХреИрд╕реЗ рд▓реЛрдб рд╣реЛрддрд╛ рд╣реИ)ред  рдпрд╣ рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдерд╛ рдХрд┐ <code>handler.postDelayed()</code> рдореЗрдВ рдЯреБрдХрдбрд╝рд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЕрдХреНрд╕рд░ рдмрд╣реБрдд рдЬрд▓реНрдж рдпрд╛ рдмрд╣реБрдд рджреЗрд░ рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддрд╛ <code>handler.postDelayed()</code> , рдЬреЛ рдХреЗрд╡рд▓ рдкрд┐рдЫрд▓реА рд╕рдорд╕реНрдпрд╛ рдХреЛ рдмрдврд╝рд╛ рджреЗрддрд╛ рдерд╛ред </p><br><p>  рдЕрдВрддрд┐рдо рдореБрдЦреНрдп рдЖрдХрд░реНрд╖рдг рдпрд╣ рдерд╛ рдХрд┐ рдПрдиреАрдореЗрд╢рди рдХреЗ рджреМрд░рд╛рди, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмрд╕ рджреВрд╕рд░реЗ рдкреГрд╖реНрда рдкрд░ рд╕реНрд╡рд╛рдЗрдк рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рджреЛ рдЯреНрд╡рд┐рди рд╕реНрдХреНрд░реАрди рджреЗрдЦ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдиреЗ рдЗрд╕реЗ рд╡рд╛рдВрдЫрд┐рдд рд╕реНрдХреНрд░реАрди рдкрд░ рднреА рдЦреАрдВрдЪ рд▓рд┐рдпрд╛ред </p><br><div class="spoiler">  <b class="spoiler_title">рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреА рджрд┐рд▓рдЪрд╕реНрдк рдХрд▓рд╛рдХреГрддрд┐рдпрд╛рдБ (рдПрдиреАрдореЗрд╢рди - 2.7 mb)</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/lo/p2/3h/lop23hzo-o-cglifsb1aljyey-g.gif"></div></div></div><br><p>  рдпрд╣ рд░рд╛рдЬреНрдп рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрд░реЗ рдЕрдиреБрдХреВрд▓ рдирд╣реАрдВ рдереА, рдФрд░ рдореИрдВ, рдзрд░реНрдореА рдЧреБрд╕реНрд╕реЗ рд╕реЗ рднрд░рд╛, рдПрдХ рдФрд░ рд╕рдорд╛рдзрд╛рди рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рд▓рдЧрд╛ред </p><br><h2 id="kak-sdelat-shared-element-transition-v-viewpager-pravilno">  Viewpager рдореЗрдВ Shared Element Transition рдХреЛ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХреИрд╕реЗ рдХрд░реЗрдВ </h2><br><h3 id="probuem-pagetransformer">  рдкреЗрдЬрдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдорд░ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИ </h3><br><p>  рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЕрднреА рднреА рдХреЛрдИ рдЬрд╡рд╛рдм рдирд╣реАрдВ рдереЗ, рдФрд░ рдореИрдВрдиреЗ рд╕реЛрдЪрд╛: рдЗрд╕ рд╕рдВрдХреНрд░рдордг рдХреЛ рдФрд░ рдХреИрд╕реЗ рдХреНрд░реИрдВрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЪреЗрддрдирд╛ рдХреЗ рдЙрдкрд╕рдВрд╕реНрдерд╛рди рдореЗрдВ рдХреБрдЫ рдореЗрд░реЗ рд▓рд┐рдП рдлреБрд╕рдлреБрд╕рд╛рдП: " <abbr title="рдПрдХ рд╡рд░реНрдЧ рдЬреЛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЬрд┐рджреНрджреА рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреГрд╖реНрда рдЯрд░реНрдирд┐рдВрдЧ рдПрдирд┐рдореЗрд╢рди рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ"><code>PageTransformer</code></abbr> , рд▓реНрдпреВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред"  рд╡рд┐рдЪрд╛рд░ рдореБрдЭреЗ рдЖрд╢рд╛рдЬрдирдХ рд▓рдЧ рд░рд╣рд╛ рдерд╛ рдФрд░ рдореИрдВрдиреЗ рд╕реБрдирдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред </p><br><p>  <code>PageTransformer</code> рдмрдирд╛рдиреЗ рдХрд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИ, рдЬреЛ <em>Android SET рдХреЗ</em> рд╡рд┐рдкрд░реАрдд, <code>setTransitionName(transitionName)</code> рдФрд░ <code>FragmentTransaction.addSharedElement(sharedElement,name)</code> рдХрдИ рджреЛрд╣рд░рд╛рд╡ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреАред  рдпрд╣ рд╕реНрд╡рд╛рдЗрдк рдХреЗ рдмрд╛рдж рддрддреНрд╡реЛрдВ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдЧрд╛ рдФрд░ рдлреЙрд░реНрдо рдХрд╛ рдПрдХ рд╕рд░рд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╣реЛрдЧрд╛: </p><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addSharedTransition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fromViewId, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> toViewId)</span></span></span></span></code> </pre> <br><p>  рд╣рдо рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред  рдореИрдВ рдбреЗрдЯрд╛ рдХреЛ <code>addSharedTransition(fromId, toId)</code> рд╡рд┐рдзрд┐ рд╕реЗ <code>Set</code> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>Pair</code> рд╕реЗ <code>Set</code> <code>addSharedTransition(fromId, toId)</code> рдФрд░ рдЗрд╕реЗ <code>PageTransfomer</code> рд╡рд┐рдзрд┐ рд╕реЗ рдкреНрд░рд╛рдкреНрдд <code>PageTransfomer</code> </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/**     ,   ,     */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transformPage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@NonNull View page, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span></code> </pre> <br><p>  рдЕрдВрджрд░, рдореИрдВ рд╕рднреА рд╕рд╣реЗрдЬреЗ рдЧрдП <code>View</code> рдЬреЛрдбрд╝реЗ рд╕реЗ рдЧреБрдЬрд░реВрдВрдЧрд╛, рдЬрд┐рдирдХреЗ рдмреАрдЪ рдореБрдЭреЗ рдПрдХ рдПрдиреАрдореЗрд╢рди рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдФрд░ рдореИрдВ рдЙрдиреНрд╣реЗрдВ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реВрдВрдЧрд╛ рддрд╛рдХрд┐ рдХреЗрд╡рд▓ рджреГрд╢реНрдп рддрддреНрд╡ рдПрдирд┐рдореЗрдЯреЗрдб рд╣реЛрдВред </p><br><p>  рдкрд╣рд▓реЗ, рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдПрдирд┐рдореЗрдЯреЗрдб рд╣реЛрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╡рд╛рд▓реЗ рддрддреНрд╡ рдмрдирд╛рдП рдЧрдП рд╣реИрдВ рдпрд╛ рдирд╣реАрдВред  рд╣рдо рдЪреЙрд╕реА рдирд╣реАрдВ рд╣реИрдВ, рдФрд░ рдпрджрд┐ рдПрдиреАрдореЗрд╢рди рдХреА рд╢реБрд░реБрдЖрдд рд╕реЗ рдкрд╣рд▓реЗ <code>View</code> рдирд╣реАрдВ рдмрдирд╛рдпрд╛ <code>View</code> , рддреЛ рд╣рдо рдкреВрд░реЗ рдПрдиреАрдореЗрд╢рди ( <em>рд╕рд╛рдЭрд╛ рддрддреНрд╡ рдЯреНрд░рд╛рдВрдЬрд╝рд┐рд╢рди рдХреА рддрд░рд╣</em> ) рдХреЛ рдирд╣реАрдВ рддреЛрдбрд╝реЗрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдЬрдм рддрддреНрд╡ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдЙрдард╛рддреЗ рд╣реИрдВред </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Pair&lt;Integer,Integer&gt; idPair : sharedElementIds) { Integer fromViewId = idPair.first; Integer toViewId = idPair.second; View fromView = activity.findViewById(fromViewId); View toView = activity.findViewById(toViewId); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fromView != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; toView != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) {</code> </pre> <br><p>  рдореБрдЭреЗ рд╡реЗ рдкреГрд╖реНрда рдорд┐рд▓рддреЗ рд╣реИрдВ рдЬрд┐рдирдХреЗ рдмреАрдЪ рдореЗрдВ рдЖрдВрджреЛрд▓рди рд╣реЛрддрд╛ рд╣реИ (рдореИрдВ рдкреГрд╖реНрда рд╕рдВрдЦреНрдпрд╛ рдХреИрд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реВрдВ рдиреАрдЪреЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛)ред </p><br><pre> <code class="java hljs">View fromPage = pages.get(fromPageNumber); View toPage = pages.get(toPageNumber);</code> </pre> <br><p>  рдпрджрд┐ рджреЛрдиреЛрдВ рдкреГрд╖реНрда рдкрд╣рд▓реЗ рд╕реЗ рдмрдиреЗ рд╣реИрдВ, рддреЛ рдореИрдВ рдЙрди рдкрд░ рдПрдХ рдЬреЛрдбрд╝реА рдХреА рддрд▓рд╛рд╢ рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдореБрдЭреЗ рдЪреЗрддрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><pre> <code class="java hljs">If (fromPage != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; toPage != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { fromView = fromPage.findViewById(fromViewId); toView = toPage.findViewById(toViewId);</code> </pre> <br><p>  рдЗрд╕ рд╕реНрддрд░ рдкрд░, рд╣рдордиреЗ рджреГрд╢реНрдп рдЪреБрдирд╛, рдЬреЛ рдЙрди рдкреГрд╖реНрдареЛрдВ рдкрд░ рд╕реНрдерд┐рдд рд╣реИ рдЬрд┐рдирдХреЗ рдмреАрдЪ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдпрд╣ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЪрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред  рдореИрдВ рд╕рдВрджрд░реНрдн рдмрд┐рдВрджреБрдУрдВ рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реВрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//         //     float fromX = fromView.getX() - fromView.getTranslationX(); float fromY = fromView.getY() - fromView.getTranslationY(); float toX = toView.getX() - toView.getTranslationX(); float toY = toView.getY() - toView.getTranslationY(); float deltaX = toX - fromX; float deltaY = toY - fromY; //      float fromWidth = fromView.getWidth(); float fromHeight = fromView.getHeight(); float toWidth = toView.getWidth(); float toHeight = toView.getHeight(); float deltaWidth = toWidth - fromWidth; float deltaHeight = toHeight - fromHeight; //       boolean slideToTheRight = toPageNumber &gt; fromPageNumber;</span></span></code> </pre> <br><p>  рдЕрдВрддрд┐рдо рд╕реНрдирд┐рдкреЗрдЯ рдореЗрдВ, рдореИрдВрдиреЗ <code>slideToTheRight</code> рд╕реЗрдЯ <code>slideToTheRight</code> , рдФрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдпрд╣ рдореЗрд░реЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧрд╛ред  <code>translation</code> рдореЗрдВ рд╕рдВрдХреЗрдд рдЗрд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ <code>View</code> рдЕрдкрдиреА рдЬрдЧрд╣ рдкрд░ рдЙрдбрд╝ рдЬрд╛рдПрдЧрд╛ рдпрд╛ рд╕реНрдХреНрд░реАрди рд╕реЗ рдХрд╣реАрдВ рджреВрд░ред </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> pageWidth = getScreenWidth(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sign = slideToTheRight ? <span class="hljs-number"><span class="hljs-number">1</span></span> : -<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> translationY = (deltaY + deltaHeight / <span class="hljs-number"><span class="hljs-number">2</span></span>) * sign * (-position); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> translationX = (deltaX + sign * pageWidth + deltaWidth / <span class="hljs-number"><span class="hljs-number">2</span></span>) * sign * (-position);</code> </pre> <br><p>  рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдЖрд░рдВрднрд┐рдХ рдкреГрд╖реНрда рдФрд░ рдкрд░рд┐рдгрд╛рдореА рдкреГрд╖реНрда рдкрд░ рджреЛрдиреЛрдВ <code>View</code> рд▓рд┐рдП <code>X</code> рдФрд░ <code>Y</code> рд▓рд┐рдП рдСрдлрд╝рд╕реЗрдЯ рдлрд╝рд╛рд░реНрдореБрд▓реЛрдВ, рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдСрдлрд╝рд╕реЗрдЯреНрд╕ рдХреЗ рдмрд╛рд╡рдЬреВрдж рд╕рдорд╛рди рд╣реЛ рдЧрдПред </p><br><p>  рд▓реЗрдХрд┐рди рдкреИрдорд╛рдиреЗ рдХреЗ рд╕рд╛рде, рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдпрд╣ рдЪрд╛рд▓ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧреА - рдЖрдкрдХреЛ рдпрд╣ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ <code>View</code> рдПрдиреАрдореЗрд╢рди рдХрд╛ рд╢реБрд░реБрдЖрддреА рдпрд╛ рдЕрдВрдд рдмрд┐рдВрджреБ рд╣реИред </p><br><p>  рдпрд╣ рдХрд┐рд╕реА рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрд╢реНрдЪрд░реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдЖ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди <code>transformPage(@NonNull View page, float position)</code> рдХреЛ рдХрдИ рдмрд╛рд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: рдкреНрд░рддреНрдпреЗрдХ рдХреИрд╢реНрдб рдкреГрд╖реНрда рдХреЗ рд▓рд┐рдП (рдХреИрд╢ рдЖрдХрд╛рд░ рдЕрдиреБрдХреВрд▓рди рдпреЛрдЧреНрдп рд╣реИ)ред  рдФрд░, <code>transformPage()</code> рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдХреЙрд▓ рдХреЗ рд▓рд┐рдП, рдХрдИ рдмрд╛рд░ рдПрдирд┐рдореЗрдЯреЗрдб <code>View</code> рдХреЛ рдлрд┐рд░ рд╕реЗ рдирд╣реАрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдХреЗрд╡рд▓ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЛ рдмрджрд▓рддреЗ рд╣реИрдВ рдЬреЛ рд╡рд░реНрддрдорд╛рди <code>page</code> ред </p><br><div class="spoiler">  <b class="spoiler_title">рд╣рдо рдПрдирд┐рдореЗрдЯреЗрдб рддрддреНрд╡реЛрдВ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рдкреИрдорд╛рдиреЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   View     if (page.findViewById(fromId) != null) { //      fromView.setTranslationX(translationX); fromView.setTranslationY(translationY); / /   float scaleX = (fromWidth == 0) ? 1 : //  View   , //        (fromWidth + deltaWidth * sign * (-position)) / fromWidth; float scaleY = (fromHeight == 0) ? 1 : //  View   , //        (fromHeight + deltaHeight * sign * (-position)) / fromHeight; fromView.setScaleX(scaleX); fromView.setScaleY(scaleY); } //   View     if (page.findViewById(toId) != null) { toView.setTranslationX(translationX); toView.setTranslationY(translationY); float scaleX = (toWidth == 0) ? 1 : (toWidth + deltaWidth * sign * (-position)) / toWidth; float scaleY = (toHeight == 0) ? 1 : (toHeight + deltaHeight * sign * (-position)) / toHeight; toView.setScaleX(scaleX); toView.setScaleY(scaleY); }</span></span></code> </pre> </div></div><br><h3 id="vybiraem-stranicy-dlya-risovaniya-animacii">  рдПрдирд┐рдореЗрд╢рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкреГрд╖реНрдареЛрдВ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ </h3><br><p>  <code>ViewPager</code> рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рдЬрд▓реНрджреА <code>ViewPager</code> рдирд╣реАрдВ рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рдкреГрд╖реНрда рд╕реНрдХреНрд░реЙрд▓ рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рд╡рд╛рджрд╛ рдХрд┐рдпрд╛ рдерд╛, рдЕрдм рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рддрд╛ рд╣реВрдВ рдХрд┐ рд╣рдореЗрдВ рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рдХреИрд╕реЗ рдорд┐рд▓рддреА рд╣реИред  рд╣рдорд╛рд░реЗ <code>PageTransformer</code> рд╣рдо рдЕрднреА рддрдХ рдПрдХ рдФрд░ <code>ViewPager.OnPageChangeListener</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВред  <code>System.out.println()</code> рдорд╛рдзреНрдпрдо рд╕реЗ <code>onPageScrolled()</code> рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж <code>System.out.println()</code> рдореИрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд <code>onPageScrolled()</code> рдЖрдпрд╛: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPageScrolled</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> positionOffset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> positionOffsetPixels )</span></span></span><span class="hljs-function"> </span></span>{ Set&lt;Integer&gt; visiblePages = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashSet&lt;&gt;(); visiblePages.add(position); visiblePages.add(positionOffset &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> ? position + <span class="hljs-number"><span class="hljs-number">1</span></span> : position - <span class="hljs-number"><span class="hljs-number">1</span></span>); visiblePages.remove(fromPageNumber); toPageNumber = visiblePages.iterator().next(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pages == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || toPageNumber &gt;= pages.size()) toPageNumber = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPageSelected</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position = position; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPageScrollStateChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> state)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == SCROLL_STATE_IDLE) { <span class="hljs-comment"><span class="hljs-comment">//      ,    fromPageNumber = position; resetViewPositions(); } }</span></span></code> </pre> <br><p>  рд╡рд╣ рд╕рдм рд╣реИред  <strong>рд╣рдордиреЗ рдХрд░ рджрд┐рдЦрд╛рдпрд╛!</strong>  рдПрдиреАрдореЗрд╢рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдЗрд╢рд╛рд░реЛрдВ рдкрд░ рдирдЬрд╝рд░ рд░рдЦрддрд╛ рд╣реИред  рдЬрдм рдЖрдк рд╕рдм рдХреБрдЫ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рд╕реНрд╡рд╛рдЗрдк рдФрд░ <em>рд╢реЗрдпрд░реНрдб рдПрд▓реАрдореЗрдВрдЯ рдЯреНрд░рд╛рдВрдЬрд╝рд┐рд╢рди рдХреЗ</em> рдмреАрдЪ рдЪрдпрди рдХреНрдпреЛрдВ рдХрд░реЗрдВред </p><br><p>  рдЗрд╕ рд▓реЗрдЦ рдХреЛ рд▓рд┐рдЦрддреЗ рд╕рдордп, рдореИрдВрдиреЗ рд╕реНрдереИрддрд┐рдХ рддрддреНрд╡реЛрдВ рдХреЗ рдЧрд╛рдпрдм рд╣реЛрдиреЗ рдХреЗ рдкреНрд░рднрд╛рд╡ рдХреЛ рдЬреЛрдбрд╝рд╛ - рдпрд╣ рдЕрднреА рднреА рдмрд╣реБрдд рдХрдЪреНрдЪрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рдирд╣реАрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рджреЗрдЦреЗрдВ рдХрд┐ рдЕрдВрдд рдореЗрдВ рдХреНрдпрд╛ рд╣реБрдЖ (рдПрдиреАрдореЗрд╢рди - 2.4 рдПрдордмреА)</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/qe/38/ac/qe38acszfutvrpyu2cru-pbwjwq.gif"></div></div></div><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрдкреВрд░реНрдг рд╕реНрд░реЛрдд рдХреЛрдб</b> <div class="spoiler_text"><div class="oembed"><script type="text/javascript" src="https://gist.github.com/0bca6b1317e2827c668f0791d73cc7c8.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-13f839f7454b3a5b3bfbfd6d1e34ec9d.css"><div id="gist96067891" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-sharedelementpagetransformer-java" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-java ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-sharedelementpagetransformer-java-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-sharedelementpagetransformer-java-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-sharedelementpagetransformer-java-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * PageTransformer that allows you to do shared element transitions between pages in ViewPager.</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-sharedelementpagetransformer-java-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * It requires view pager sides match screen sides to function properly. I.e. ViewPager page width</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-sharedelementpagetransformer-java-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * must be equal to screen width. &lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-sharedelementpagetransformer-java-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *     Usage:&lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-sharedelementpagetransformer-java-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *         &lt;<span class="pl-ent">code</span>&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-sharedelementpagetransformer-java-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *                  sharedElementPageTransformer.addSharedTransition(R.id.FirstPageTextView, R.id.SecondPageTextView)&lt;/code&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-sharedelementpagetransformer-java-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *         &lt;/code&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-sharedelementpagetransformer-java-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-sharedelementpagetransformer-java-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-sharedelementpagetransformer-java-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-sharedelementpagetransformer-java-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">SharedElementPageTransformer</span> <span class="pl-k">implements</span> <span class="pl-e">ViewPager</span>.<span class="pl-e">PageTransformer</span>, <span class="pl-e">ViewPager</span>.<span class="pl-e">OnPageChangeListener</span> {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-sharedelementpagetransformer-java-LC13" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">/*</span>* Android need the correction while view scaling for some reason<span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-sharedelementpagetransformer-java-LC14" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">float</span> <span class="pl-c1">MAGICAL_ANDROID_RENDERING_SCALE</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-sharedelementpagetransformer-java-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>    private static float MAGICAL_ANDROID_RENDERING_SCALE = 0.995f;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-sharedelementpagetransformer-java-LC16" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-sharedelementpagetransformer-java-LC17" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> External variables</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-sharedelementpagetransformer-java-LC18" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-sharedelementpagetransformer-java-LC19" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">Activity</span> activity;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-sharedelementpagetransformer-java-LC20" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">List&lt;<span class="pl-smi">Fragment</span>&gt;</span> fragments;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-sharedelementpagetransformer-java-LC21" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">Set&lt;<span class="pl-k">Pair&lt;<span class="pl-smi">Integer</span>,<span class="pl-smi">Integer</span>&gt;</span>&gt;</span> sharedElementIds <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">HashSet&lt;&gt;</span>();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-sharedelementpagetransformer-java-LC22" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-sharedelementpagetransformer-java-LC23" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-sharedelementpagetransformer-java-LC24" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-sharedelementpagetransformer-java-LC25" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span>Internal variables</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-sharedelementpagetransformer-java-LC26" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-sharedelementpagetransformer-java-LC27" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">List&lt;<span class="pl-smi">View</span>&gt;</span> pages;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-sharedelementpagetransformer-java-LC28" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">Map&lt;<span class="pl-smi">View</span>, <span class="pl-smi">Integer</span>&gt;</span> pageToNumber <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">HashMap&lt;&gt;</span>();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-sharedelementpagetransformer-java-LC29" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-sharedelementpagetransformer-java-LC30" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-smi">Integer</span> fromPageNumber <span class="pl-k">=</span> <span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-sharedelementpagetransformer-java-LC31" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-smi">Integer</span> toPageNumber;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-sharedelementpagetransformer-java-LC32" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-sharedelementpagetransformer-java-LC33" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">/*</span>* current view pager position <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-sharedelementpagetransformer-java-LC34" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">int</span> position;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-sharedelementpagetransformer-java-LC35" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-sharedelementpagetransformer-java-LC36" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-sharedelementpagetransformer-java-LC37" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * <span class="pl-k">@param</span> activity activity that hosts view pager</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-sharedelementpagetransformer-java-LC38" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * <span class="pl-k">@param</span> fragments fragment that are in view pager in the SAME ORDER</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-sharedelementpagetransformer-java-LC39" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-sharedelementpagetransformer-java-LC40" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-en">SharedElementPageTransformer</span>(<span class="pl-smi">Activity</span> <span class="pl-v">activity</span>, <span class="pl-k">List&lt;<span class="pl-smi">Fragment</span>&gt;</span> <span class="pl-v">fragments</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-sharedelementpagetransformer-java-LC41" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">this</span><span class="pl-k">.</span>activity <span class="pl-k">=</span> activity;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-sharedelementpagetransformer-java-LC42" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">this</span><span class="pl-k">.</span>fragments <span class="pl-k">=</span> fragments;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-sharedelementpagetransformer-java-LC43" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-sharedelementpagetransformer-java-LC44" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-sharedelementpagetransformer-java-LC45" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-sharedelementpagetransformer-java-LC46" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">@Override</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-sharedelementpagetransformer-java-LC47" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">transformPage</span>(<span class="pl-k">@NonNull</span> <span class="pl-smi">View</span> <span class="pl-v">page</span>, <span class="pl-k">float</span> <span class="pl-v">position</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-sharedelementpagetransformer-java-LC48" class="blob-code blob-code-inner js-file-line">        updatePageCache();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-sharedelementpagetransformer-java-LC49" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (fromPageNumber <span class="pl-k">==</span> <span class="pl-c1">null</span> <span class="pl-k">||</span> toPageNumber <span class="pl-k">==</span> <span class="pl-c1">null</span>) <span class="pl-k">return</span>;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-sharedelementpagetransformer-java-LC50" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-sharedelementpagetransformer-java-LC51" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">for</span> (<span class="pl-k">Pair&lt;<span class="pl-smi">Integer</span>,<span class="pl-smi">Integer</span>&gt;</span> idPair <span class="pl-k">:</span> sharedElementIds) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-sharedelementpagetransformer-java-LC52" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">Integer</span> fromViewId <span class="pl-k">=</span> idPair<span class="pl-k">.</span>first;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-sharedelementpagetransformer-java-LC53" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">Integer</span> toViewId <span class="pl-k">=</span> idPair<span class="pl-k">.</span>second;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-sharedelementpagetransformer-java-LC54" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-sharedelementpagetransformer-java-LC55" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">View</span> fromView <span class="pl-k">=</span> activity<span class="pl-k">.</span>findViewById(fromViewId);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-sharedelementpagetransformer-java-LC56" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">View</span> toView <span class="pl-k">=</span> activity<span class="pl-k">.</span>findViewById(toViewId);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-sharedelementpagetransformer-java-LC57" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-sharedelementpagetransformer-java-LC58" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (fromView <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">&amp;&amp;</span> toView <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-sharedelementpagetransformer-java-LC59" class="blob-code blob-code-inner js-file-line">                <span class="pl-c"><span class="pl-c">//</span>Looking if current Shared element transition matches visible pages</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-sharedelementpagetransformer-java-LC60" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-sharedelementpagetransformer-java-LC61" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">View</span> fromPage <span class="pl-k">=</span> pages<span class="pl-k">.</span>get(fromPageNumber);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-sharedelementpagetransformer-java-LC62" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">View</span> toPage <span class="pl-k">=</span> pages<span class="pl-k">.</span>get(toPageNumber);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-sharedelementpagetransformer-java-LC63" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-sharedelementpagetransformer-java-LC64" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">if</span> (fromPage <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">&amp;&amp;</span> toPage <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-sharedelementpagetransformer-java-LC65" class="blob-code blob-code-inner js-file-line">                    fromView <span class="pl-k">=</span> fromPage<span class="pl-k">.</span>findViewById(fromViewId);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-sharedelementpagetransformer-java-LC66" class="blob-code blob-code-inner js-file-line">                    toView <span class="pl-k">=</span> toPage<span class="pl-k">.</span>findViewById(toViewId);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-sharedelementpagetransformer-java-LC67" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-sharedelementpagetransformer-java-LC68" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-sharedelementpagetransformer-java-LC69" class="blob-code blob-code-inner js-file-line">                    <span class="pl-c"><span class="pl-c">//</span> if both views are on pages user drag between apply transformation</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-sharedelementpagetransformer-java-LC70" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">if</span> (</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-sharedelementpagetransformer-java-LC71" class="blob-code blob-code-inner js-file-line">                            fromView <span class="pl-k">!=</span> <span class="pl-c1">null</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-sharedelementpagetransformer-java-LC72" class="blob-code blob-code-inner js-file-line">                                    <span class="pl-k">&amp;&amp;</span> toView <span class="pl-k">!=</span> <span class="pl-c1">null</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-sharedelementpagetransformer-java-LC73" class="blob-code blob-code-inner js-file-line">                    ) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-sharedelementpagetransformer-java-LC74" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c"><span class="pl-c">//</span> saving shared element position on the screen</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-sharedelementpagetransformer-java-LC75" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> fromX <span class="pl-k">=</span> fromView<span class="pl-k">.</span>getX() <span class="pl-k">-</span> fromView<span class="pl-k">.</span>getTranslationX();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-sharedelementpagetransformer-java-LC76" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> fromY <span class="pl-k">=</span> fromView<span class="pl-k">.</span>getY() <span class="pl-k">-</span> fromView<span class="pl-k">.</span>getTranslationY();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-sharedelementpagetransformer-java-LC77" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> toX <span class="pl-k">=</span> toView<span class="pl-k">.</span>getX() <span class="pl-k">-</span> toView<span class="pl-k">.</span>getTranslationX();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-sharedelementpagetransformer-java-LC78" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> toY <span class="pl-k">=</span> toView<span class="pl-k">.</span>getY() <span class="pl-k">-</span> toView<span class="pl-k">.</span>getTranslationY();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-sharedelementpagetransformer-java-LC79" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> deltaX <span class="pl-k">=</span> toX <span class="pl-k">-</span> fromX;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-sharedelementpagetransformer-java-LC80" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> deltaY <span class="pl-k">=</span> toY <span class="pl-k">-</span> fromY;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-sharedelementpagetransformer-java-LC81" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-sharedelementpagetransformer-java-LC82" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c"><span class="pl-c">//</span> scaling</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-sharedelementpagetransformer-java-LC83" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> fromWidth <span class="pl-k">=</span> fromView<span class="pl-k">.</span>getWidth();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-sharedelementpagetransformer-java-LC84" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> fromHeight <span class="pl-k">=</span> fromView<span class="pl-k">.</span>getHeight();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-sharedelementpagetransformer-java-LC85" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> toWidth <span class="pl-k">=</span> toView<span class="pl-k">.</span>getWidth();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-sharedelementpagetransformer-java-LC86" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> toHeight <span class="pl-k">=</span> toView<span class="pl-k">.</span>getHeight();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-sharedelementpagetransformer-java-LC87" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> deltaWidth <span class="pl-k">=</span> toWidth <span class="pl-k">-</span> fromWidth;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-sharedelementpagetransformer-java-LC88" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">float</span> deltaHeight <span class="pl-k">=</span> toHeight <span class="pl-k">-</span> fromHeight;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-sharedelementpagetransformer-java-LC89" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-sharedelementpagetransformer-java-LC90" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-sharedelementpagetransformer-java-LC91" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">int</span> fromId <span class="pl-k">=</span> fromView<span class="pl-k">.</span>getId();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-sharedelementpagetransformer-java-LC92" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">int</span> toId <span class="pl-k">=</span> toView<span class="pl-k">.</span>getId();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-sharedelementpagetransformer-java-LC93" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-sharedelementpagetransformer-java-LC94" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">boolean</span> slideToTheRight <span class="pl-k">=</span> toPageNumber <span class="pl-k">&gt;</span> fromPageNumber;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-sharedelementpagetransformer-java-LC95" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-sharedelementpagetransformer-java-LC96" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">if</span> (position <span class="pl-k">&lt;=</span> <span class="pl-k">-</span><span class="pl-c1">1</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-sharedelementpagetransformer-java-LC97" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-sharedelementpagetransformer-java-LC98" class="blob-code blob-code-inner js-file-line">                        } <span class="pl-k">else</span> <span class="pl-k">if</span> (position <span class="pl-k">&lt;</span> <span class="pl-c1">1</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-sharedelementpagetransformer-java-LC99" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-sharedelementpagetransformer-java-LC100" class="blob-code blob-code-inner js-file-line">                            <span class="pl-k">float</span> pageWidth <span class="pl-k">=</span> getSceenWidth();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-sharedelementpagetransformer-java-LC101" class="blob-code blob-code-inner js-file-line">                            <span class="pl-k">float</span> sign <span class="pl-k">=</span> slideToTheRight <span class="pl-k">?</span> <span class="pl-c1">1</span> <span class="pl-k">:</span> <span class="pl-k">-</span><span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-sharedelementpagetransformer-java-LC102" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-sharedelementpagetransformer-java-LC103" class="blob-code blob-code-inner js-file-line">                            <span class="pl-k">float</span> translationY <span class="pl-k">=</span> (deltaY <span class="pl-k">+</span> deltaHeight <span class="pl-k">/</span> <span class="pl-c1">2</span>) <span class="pl-k">*</span> sign <span class="pl-k">*</span> (<span class="pl-k">-</span>position);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-sharedelementpagetransformer-java-LC104" class="blob-code blob-code-inner js-file-line">                            <span class="pl-k">float</span> translationX <span class="pl-k">=</span> (deltaX <span class="pl-k">+</span> sign <span class="pl-k">*</span> pageWidth <span class="pl-k">+</span> deltaWidth <span class="pl-k">/</span> <span class="pl-c1">2</span>) <span class="pl-k">*</span> sign <span class="pl-k">*</span> (<span class="pl-k">-</span>position);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-sharedelementpagetransformer-java-LC105" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-sharedelementpagetransformer-java-LC106" class="blob-code blob-code-inner js-file-line">                            <span class="pl-k">if</span> (page<span class="pl-k">.</span>findViewById(fromId) <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="file-sharedelementpagetransformer-java-LC107" class="blob-code blob-code-inner js-file-line">                                fromView<span class="pl-k">.</span>setTranslationX(translationX);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="file-sharedelementpagetransformer-java-LC108" class="blob-code blob-code-inner js-file-line">                                fromView<span class="pl-k">.</span>setTranslationY(translationY);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="file-sharedelementpagetransformer-java-LC109" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="file-sharedelementpagetransformer-java-LC110" class="blob-code blob-code-inner js-file-line">                                <span class="pl-k">float</span> scaleX <span class="pl-k">=</span> (fromWidth <span class="pl-k">==</span> <span class="pl-c1">0</span>) <span class="pl-k">?</span> <span class="pl-c1">1</span> <span class="pl-k">:</span> (fromWidth <span class="pl-k">+</span> deltaWidth <span class="pl-k">*</span> sign <span class="pl-k">*</span> (<span class="pl-k">-</span>position)) <span class="pl-k">/</span> fromWidth;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="file-sharedelementpagetransformer-java-LC111" class="blob-code blob-code-inner js-file-line">                                <span class="pl-k">float</span> scaleY <span class="pl-k">=</span> (fromHeight <span class="pl-k">==</span> <span class="pl-c1">0</span>) <span class="pl-k">?</span> <span class="pl-c1">1</span> <span class="pl-k">:</span> (fromHeight <span class="pl-k">+</span> deltaHeight <span class="pl-k">*</span> sign <span class="pl-k">*</span> (<span class="pl-k">-</span>position)) <span class="pl-k">/</span> fromHeight;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="file-sharedelementpagetransformer-java-LC112" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="file-sharedelementpagetransformer-java-LC113" class="blob-code blob-code-inner js-file-line">                                fromView<span class="pl-k">.</span>setScaleX(scaleX);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="file-sharedelementpagetransformer-java-LC114" class="blob-code blob-code-inner js-file-line">                                fromView<span class="pl-k">.</span>setScaleY(scaleY <span class="pl-k">*</span> <span class="pl-c1">MAGICAL_ANDROID_RENDERING_SCALE</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="file-sharedelementpagetransformer-java-LC115" class="blob-code blob-code-inner js-file-line">                            }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="file-sharedelementpagetransformer-java-LC116" class="blob-code blob-code-inner js-file-line">                            <span class="pl-k">if</span> (page<span class="pl-k">.</span>findViewById(toId) <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="file-sharedelementpagetransformer-java-LC117" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="file-sharedelementpagetransformer-java-LC118" class="blob-code blob-code-inner js-file-line">                                toView<span class="pl-k">.</span>setTranslationX(translationX);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="file-sharedelementpagetransformer-java-LC119" class="blob-code blob-code-inner js-file-line">                                toView<span class="pl-k">.</span>setTranslationY(translationY);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="file-sharedelementpagetransformer-java-LC120" class="blob-code blob-code-inner js-file-line">                                <span class="pl-k">float</span> scaleX <span class="pl-k">=</span> (toWidth <span class="pl-k">==</span> <span class="pl-c1">0</span>) <span class="pl-k">?</span> <span class="pl-c1">1</span> <span class="pl-k">:</span> (toWidth <span class="pl-k">+</span> deltaWidth <span class="pl-k">*</span> sign <span class="pl-k">*</span> (<span class="pl-k">-</span>position)) <span class="pl-k">/</span> toWidth;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="file-sharedelementpagetransformer-java-LC121" class="blob-code blob-code-inner js-file-line">                                <span class="pl-k">float</span> scaleY <span class="pl-k">=</span> (toHeight <span class="pl-k">==</span> <span class="pl-c1">0</span>) <span class="pl-k">?</span> <span class="pl-c1">1</span> <span class="pl-k">:</span>(toHeight <span class="pl-k">+</span> deltaHeight <span class="pl-k">*</span> sign <span class="pl-k">*</span> (<span class="pl-k">-</span>position)) <span class="pl-k">/</span> toHeight;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="file-sharedelementpagetransformer-java-LC122" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="file-sharedelementpagetransformer-java-LC123" class="blob-code blob-code-inner js-file-line">                                toView<span class="pl-k">.</span>setScaleX(scaleX);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="file-sharedelementpagetransformer-java-LC124" class="blob-code blob-code-inner js-file-line">                                toView<span class="pl-k">.</span>setScaleY(scaleY);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="file-sharedelementpagetransformer-java-LC125" class="blob-code blob-code-inner js-file-line">                            }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="file-sharedelementpagetransformer-java-LC126" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="file-sharedelementpagetransformer-java-LC127" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="file-sharedelementpagetransformer-java-LC128" class="blob-code blob-code-inner js-file-line">                        } <span class="pl-k">else</span> {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="file-sharedelementpagetransformer-java-LC129" class="blob-code blob-code-inner js-file-line">                        }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="file-sharedelementpagetransformer-java-LC130" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="file-sharedelementpagetransformer-java-LC131" class="blob-code blob-code-inner js-file-line">                    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="file-sharedelementpagetransformer-java-LC132" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="file-sharedelementpagetransformer-java-LC133" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="file-sharedelementpagetransformer-java-LC134" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="file-sharedelementpagetransformer-java-LC135" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="file-sharedelementpagetransformer-java-LC136" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="file-sharedelementpagetransformer-java-LC137" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">float</span> <span class="pl-en">getSceenWidth</span>() {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="file-sharedelementpagetransformer-java-LC138" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">Point</span> outSize <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Point</span>();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="file-sharedelementpagetransformer-java-LC139" class="blob-code blob-code-inner js-file-line">        activity<span class="pl-k">.</span>getWindowManager()<span class="pl-k">.</span>getDefaultDisplay()<span class="pl-k">.</span>getSize(outSize);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="file-sharedelementpagetransformer-java-LC140" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">return</span> outSize<span class="pl-k">.</span>x;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="file-sharedelementpagetransformer-java-LC141" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="file-sharedelementpagetransformer-java-LC142" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="file-sharedelementpagetransformer-java-LC143" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="file-sharedelementpagetransformer-java-LC144" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * Creating page cache array to determine if shared element on</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="file-sharedelementpagetransformer-java-LC145" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * currently visible page</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="file-sharedelementpagetransformer-java-LC146" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="file-sharedelementpagetransformer-java-LC147" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">updatePageCache</span>() {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="file-sharedelementpagetransformer-java-LC148" class="blob-code blob-code-inner js-file-line">        pages <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">ArrayList&lt;&gt;</span>();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="file-sharedelementpagetransformer-java-LC149" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="file-sharedelementpagetransformer-java-LC150" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">for</span> (<span class="pl-k">int</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> fragments<span class="pl-k">.</span>size(); i<span class="pl-k">++</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="file-sharedelementpagetransformer-java-LC151" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">View</span> pageView <span class="pl-k">=</span> fragments<span class="pl-k">.</span>get(i)<span class="pl-k">.</span>getView();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="file-sharedelementpagetransformer-java-LC152" class="blob-code blob-code-inner js-file-line">            pages<span class="pl-k">.</span>add(pageView);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="file-sharedelementpagetransformer-java-LC153" class="blob-code blob-code-inner js-file-line">            pageToNumber<span class="pl-k">.</span>put(pageView, i);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="file-sharedelementpagetransformer-java-LC154" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="file-sharedelementpagetransformer-java-LC155" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="file-sharedelementpagetransformer-java-LC156" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="file-sharedelementpagetransformer-java-LC157" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="file-sharedelementpagetransformer-java-LC158" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="file-sharedelementpagetransformer-java-LC159" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">@Override</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="file-sharedelementpagetransformer-java-LC160" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onPageScrolled</span>(<span class="pl-k">int</span> <span class="pl-v">position</span>, <span class="pl-k">float</span> <span class="pl-v">positionOffset</span>, <span class="pl-k">int</span> <span class="pl-v">positionOffsetPixels</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="file-sharedelementpagetransformer-java-LC161" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">Set&lt;<span class="pl-smi">Integer</span>&gt;</span> visiblePages <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">HashSet&lt;&gt;</span>();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="file-sharedelementpagetransformer-java-LC162" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="file-sharedelementpagetransformer-java-LC163" class="blob-code blob-code-inner js-file-line">        visiblePages<span class="pl-k">.</span>add(position);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="file-sharedelementpagetransformer-java-LC164" class="blob-code blob-code-inner js-file-line">        visiblePages<span class="pl-k">.</span>add(positionOffset <span class="pl-k">&gt;=</span> <span class="pl-c1">0</span> <span class="pl-k">?</span> position <span class="pl-k">+</span> <span class="pl-c1">1</span> <span class="pl-k">:</span> position <span class="pl-k">-</span> <span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="file-sharedelementpagetransformer-java-LC165" class="blob-code blob-code-inner js-file-line">        visiblePages<span class="pl-k">.</span>remove(fromPageNumber);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="file-sharedelementpagetransformer-java-LC166" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="file-sharedelementpagetransformer-java-LC167" class="blob-code blob-code-inner js-file-line">        toPageNumber <span class="pl-k">=</span> visiblePages<span class="pl-k">.</span>iterator()<span class="pl-k">.</span>next();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="file-sharedelementpagetransformer-java-LC168" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="file-sharedelementpagetransformer-java-LC169" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (pages <span class="pl-k">==</span> <span class="pl-c1">null</span> <span class="pl-k">||</span> toPageNumber <span class="pl-k">&gt;=</span> pages<span class="pl-k">.</span>size()) toPageNumber <span class="pl-k">=</span> <span class="pl-c1">null</span>;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="file-sharedelementpagetransformer-java-LC170" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="file-sharedelementpagetransformer-java-LC171" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="file-sharedelementpagetransformer-java-LC172" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="file-sharedelementpagetransformer-java-LC173" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">@Override</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="file-sharedelementpagetransformer-java-LC174" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onPageSelected</span>(<span class="pl-k">int</span> <span class="pl-v">position</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="file-sharedelementpagetransformer-java-LC175" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">this</span><span class="pl-k">.</span>position <span class="pl-k">=</span> position;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="file-sharedelementpagetransformer-java-LC176" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="file-sharedelementpagetransformer-java-LC177" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="file-sharedelementpagetransformer-java-LC178" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">@Override</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="file-sharedelementpagetransformer-java-LC179" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onPageScrollStateChanged</span>(<span class="pl-k">int</span> <span class="pl-v">state</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="file-sharedelementpagetransformer-java-LC180" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (state <span class="pl-k">==</span> <span class="pl-c1">SCROLL_STATE_IDLE</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="file-sharedelementpagetransformer-java-LC181" class="blob-code blob-code-inner js-file-line">            fromPageNumber <span class="pl-k">=</span> position;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="file-sharedelementpagetransformer-java-LC182" class="blob-code blob-code-inner js-file-line">            resetViewPositions();</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="file-sharedelementpagetransformer-java-LC183" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="file-sharedelementpagetransformer-java-LC184" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="file-sharedelementpagetransformer-java-LC185" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="file-sharedelementpagetransformer-java-LC186" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L187" class="blob-num js-line-number" data-line-number="187"></td>
        <td id="file-sharedelementpagetransformer-java-LC187" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">resetViewPositions</span>() {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L188" class="blob-num js-line-number" data-line-number="188"></td>
        <td id="file-sharedelementpagetransformer-java-LC188" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">for</span> (<span class="pl-k">Pair&lt;<span class="pl-smi">Integer</span>, <span class="pl-smi">Integer</span>&gt;</span> idPair <span class="pl-k">:</span> sharedElementIds) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L189" class="blob-num js-line-number" data-line-number="189"></td>
        <td id="file-sharedelementpagetransformer-java-LC189" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">View</span> sharedElement <span class="pl-k">=</span> activity<span class="pl-k">.</span>findViewById(idPair<span class="pl-k">.</span>first);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L190" class="blob-num js-line-number" data-line-number="190"></td>
        <td id="file-sharedelementpagetransformer-java-LC190" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">if</span>(sharedElement <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L191" class="blob-num js-line-number" data-line-number="191"></td>
        <td id="file-sharedelementpagetransformer-java-LC191" class="blob-code blob-code-inner js-file-line">                    sharedElement<span class="pl-k">.</span>setTranslationX(<span class="pl-c1">0</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L192" class="blob-num js-line-number" data-line-number="192"></td>
        <td id="file-sharedelementpagetransformer-java-LC192" class="blob-code blob-code-inner js-file-line">                    sharedElement<span class="pl-k">.</span>setTranslationY(<span class="pl-c1">0</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L193" class="blob-num js-line-number" data-line-number="193"></td>
        <td id="file-sharedelementpagetransformer-java-LC193" class="blob-code blob-code-inner js-file-line">                    sharedElement<span class="pl-k">.</span>setScaleX(<span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L194" class="blob-num js-line-number" data-line-number="194"></td>
        <td id="file-sharedelementpagetransformer-java-LC194" class="blob-code blob-code-inner js-file-line">                    sharedElement<span class="pl-k">.</span>setScaleY(<span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L195" class="blob-num js-line-number" data-line-number="195"></td>
        <td id="file-sharedelementpagetransformer-java-LC195" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L196" class="blob-num js-line-number" data-line-number="196"></td>
        <td id="file-sharedelementpagetransformer-java-LC196" class="blob-code blob-code-inner js-file-line">                sharedElement <span class="pl-k">=</span> activity<span class="pl-k">.</span>findViewById(idPair<span class="pl-k">.</span>second);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L197" class="blob-num js-line-number" data-line-number="197"></td>
        <td id="file-sharedelementpagetransformer-java-LC197" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">if</span>(sharedElement <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L198" class="blob-num js-line-number" data-line-number="198"></td>
        <td id="file-sharedelementpagetransformer-java-LC198" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L199" class="blob-num js-line-number" data-line-number="199"></td>
        <td id="file-sharedelementpagetransformer-java-LC199" class="blob-code blob-code-inner js-file-line">                    sharedElement<span class="pl-k">.</span>setTranslationX(<span class="pl-c1">0</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L200" class="blob-num js-line-number" data-line-number="200"></td>
        <td id="file-sharedelementpagetransformer-java-LC200" class="blob-code blob-code-inner js-file-line">                    sharedElement<span class="pl-k">.</span>setTranslationY(<span class="pl-c1">0</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L201" class="blob-num js-line-number" data-line-number="201"></td>
        <td id="file-sharedelementpagetransformer-java-LC201" class="blob-code blob-code-inner js-file-line">                    sharedElement<span class="pl-k">.</span>setScaleX(<span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L202" class="blob-num js-line-number" data-line-number="202"></td>
        <td id="file-sharedelementpagetransformer-java-LC202" class="blob-code blob-code-inner js-file-line">                    sharedElement<span class="pl-k">.</span>setScaleY(<span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L203" class="blob-num js-line-number" data-line-number="203"></td>
        <td id="file-sharedelementpagetransformer-java-LC203" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L204" class="blob-num js-line-number" data-line-number="204"></td>
        <td id="file-sharedelementpagetransformer-java-LC204" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L205" class="blob-num js-line-number" data-line-number="205"></td>
        <td id="file-sharedelementpagetransformer-java-LC205" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L206" class="blob-num js-line-number" data-line-number="206"></td>
        <td id="file-sharedelementpagetransformer-java-LC206" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L207" class="blob-num js-line-number" data-line-number="207"></td>
        <td id="file-sharedelementpagetransformer-java-LC207" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L208" class="blob-num js-line-number" data-line-number="208"></td>
        <td id="file-sharedelementpagetransformer-java-LC208" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L209" class="blob-num js-line-number" data-line-number="209"></td>
        <td id="file-sharedelementpagetransformer-java-LC209" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * Set up shared element transition from element with &lt;<span class="pl-ent">code</span>&gt;fromViewId&lt;/code&gt; to</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L210" class="blob-num js-line-number" data-line-number="210"></td>
        <td id="file-sharedelementpagetransformer-java-LC210" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * element with &lt;<span class="pl-ent">code</span>&gt;toViewId&lt;/code&gt;. Note that you can setup each transition</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L211" class="blob-num js-line-number" data-line-number="211"></td>
        <td id="file-sharedelementpagetransformer-java-LC211" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * direction separately. e.g. &lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L212" class="blob-num js-line-number" data-line-number="212"></td>
        <td id="file-sharedelementpagetransformer-java-LC212" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * &lt;<span class="pl-ent">code</span>&gt;addSharedTransition(R.id.FirstPageTextView, R.id.SecondPageTextView)&lt;/code&gt;&lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L213" class="blob-num js-line-number" data-line-number="213"></td>
        <td id="file-sharedelementpagetransformer-java-LC213" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * and&lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L214" class="blob-num js-line-number" data-line-number="214"></td>
        <td id="file-sharedelementpagetransformer-java-LC214" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * &lt;<span class="pl-ent">code</span>&gt;addSharedTransition(R.id.SecondPageTextView, R.id.FirstPageTextView)&lt;/code&gt;&lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L215" class="blob-num js-line-number" data-line-number="215"></td>
        <td id="file-sharedelementpagetransformer-java-LC215" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * are different.</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L216" class="blob-num js-line-number" data-line-number="216"></td>
        <td id="file-sharedelementpagetransformer-java-LC216" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * <span class="pl-k">@param</span> fromViewId</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L217" class="blob-num js-line-number" data-line-number="217"></td>
        <td id="file-sharedelementpagetransformer-java-LC217" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * <span class="pl-k">@param</span> toViewId</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L218" class="blob-num js-line-number" data-line-number="218"></td>
        <td id="file-sharedelementpagetransformer-java-LC218" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L219" class="blob-num js-line-number" data-line-number="219"></td>
        <td id="file-sharedelementpagetransformer-java-LC219" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">addSharedTransition</span>(<span class="pl-k">int</span> <span class="pl-v">fromViewId</span>, <span class="pl-k">int</span> <span class="pl-v">toViewId</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L220" class="blob-num js-line-number" data-line-number="220"></td>
        <td id="file-sharedelementpagetransformer-java-LC220" class="blob-code blob-code-inner js-file-line">        addSharedTransition(fromViewId, toViewId, <span class="pl-c1">false</span>);</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L221" class="blob-num js-line-number" data-line-number="221"></td>
        <td id="file-sharedelementpagetransformer-java-LC221" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L222" class="blob-num js-line-number" data-line-number="222"></td>
        <td id="file-sharedelementpagetransformer-java-LC222" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L223" class="blob-num js-line-number" data-line-number="223"></td>
        <td id="file-sharedelementpagetransformer-java-LC223" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L224" class="blob-num js-line-number" data-line-number="224"></td>
        <td id="file-sharedelementpagetransformer-java-LC224" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * Set up shared element transition from element with &lt;<span class="pl-ent">code</span>&gt;fromViewId&lt;/code&gt; to</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L225" class="blob-num js-line-number" data-line-number="225"></td>
        <td id="file-sharedelementpagetransformer-java-LC225" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * element with &lt;<span class="pl-ent">code</span>&gt;toViewId&lt;/code&gt;. Note that you can setup each transition</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L226" class="blob-num js-line-number" data-line-number="226"></td>
        <td id="file-sharedelementpagetransformer-java-LC226" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * direction separately. e.g. &lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L227" class="blob-num js-line-number" data-line-number="227"></td>
        <td id="file-sharedelementpagetransformer-java-LC227" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * &lt;<span class="pl-ent">code</span>&gt;addSharedTransition(R.id.FirstPageTextView, R.id.SecondPageTextView)&lt;/code&gt;&lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L228" class="blob-num js-line-number" data-line-number="228"></td>
        <td id="file-sharedelementpagetransformer-java-LC228" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * and&lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L229" class="blob-num js-line-number" data-line-number="229"></td>
        <td id="file-sharedelementpagetransformer-java-LC229" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * &lt;<span class="pl-ent">code</span>&gt;addSharedTransition(R.id.SecondPageTextView, R.id.FirstPageTextView)&lt;/code&gt;&lt;<span class="pl-ent">br</span>/&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L230" class="blob-num js-line-number" data-line-number="230"></td>
        <td id="file-sharedelementpagetransformer-java-LC230" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * are different.</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L231" class="blob-num js-line-number" data-line-number="231"></td>
        <td id="file-sharedelementpagetransformer-java-LC231" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * <span class="pl-k">@param</span> fromViewId</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L232" class="blob-num js-line-number" data-line-number="232"></td>
        <td id="file-sharedelementpagetransformer-java-LC232" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * <span class="pl-k">@param</span> toViewId</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L233" class="blob-num js-line-number" data-line-number="233"></td>
        <td id="file-sharedelementpagetransformer-java-LC233" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * <span class="pl-k">@param</span> bothDirections to include backward transition from toViewId to fromViewId aswell</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L234" class="blob-num js-line-number" data-line-number="234"></td>
        <td id="file-sharedelementpagetransformer-java-LC234" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L235" class="blob-num js-line-number" data-line-number="235"></td>
        <td id="file-sharedelementpagetransformer-java-LC235" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">addSharedTransition</span>(<span class="pl-k">int</span> <span class="pl-v">fromViewId</span>, <span class="pl-k">int</span> <span class="pl-v">toViewId</span>, <span class="pl-k">boolean</span> <span class="pl-v">bothDirections</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L236" class="blob-num js-line-number" data-line-number="236"></td>
        <td id="file-sharedelementpagetransformer-java-LC236" class="blob-code blob-code-inner js-file-line">        sharedElementIds<span class="pl-k">.</span>add(<span class="pl-k">new</span> <span class="pl-k">Pair&lt;&gt;</span>(fromViewId, toViewId));</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L237" class="blob-num js-line-number" data-line-number="237"></td>
        <td id="file-sharedelementpagetransformer-java-LC237" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(bothDirections) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L238" class="blob-num js-line-number" data-line-number="238"></td>
        <td id="file-sharedelementpagetransformer-java-LC238" class="blob-code blob-code-inner js-file-line">            sharedElementIds<span class="pl-k">.</span>add(<span class="pl-k">new</span> <span class="pl-k">Pair&lt;&gt;</span>(toViewId, fromViewId));</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L239" class="blob-num js-line-number" data-line-number="239"></td>
        <td id="file-sharedelementpagetransformer-java-LC239" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L240" class="blob-num js-line-number" data-line-number="240"></td>
        <td id="file-sharedelementpagetransformer-java-LC240" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L241" class="blob-num js-line-number" data-line-number="241"></td>
        <td id="file-sharedelementpagetransformer-java-LC241" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L242" class="blob-num js-line-number" data-line-number="242"></td>
        <td id="file-sharedelementpagetransformer-java-LC242" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * In case there is "ladder" appears between while transition.</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L243" class="blob-num js-line-number" data-line-number="243"></td>
        <td id="file-sharedelementpagetransformer-java-LC243" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * You may try to tune that magical scale to get rid of it.</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L244" class="blob-num js-line-number" data-line-number="244"></td>
        <td id="file-sharedelementpagetransformer-java-LC244" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     * <span class="pl-k">@param</span> magicalAndroidRenderingScale float between 0 and infinity. Typically very close to 1.0</span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L245" class="blob-num js-line-number" data-line-number="245"></td>
        <td id="file-sharedelementpagetransformer-java-LC245" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L246" class="blob-num js-line-number" data-line-number="246"></td>
        <td id="file-sharedelementpagetransformer-java-LC246" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">setMagicalAndroidRenderingScale</span>(<span class="pl-k">float</span> <span class="pl-v">magicalAndroidRenderingScale</span>) {</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L247" class="blob-num js-line-number" data-line-number="247"></td>
        <td id="file-sharedelementpagetransformer-java-LC247" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">MAGICAL_ANDROID_RENDERING_SCALE</span> <span class="pl-k">=</span> magicalAndroidRenderingScale;</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L248" class="blob-num js-line-number" data-line-number="248"></td>
        <td id="file-sharedelementpagetransformer-java-LC248" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sharedelementpagetransformer-java-L249" class="blob-num js-line-number" data-line-number="249"></td>
        <td id="file-sharedelementpagetransformer-java-LC249" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">SharedElementPageTransformer.java</a>
        hosted with тЭд by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div></div></div><br><h3 id="kak-vyglyadit-rabota-s-bibliotekoy">  рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЬреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ </h3><br><p>  рд╡рд┐рдиреНрдпрд╛рд╕ рдмрд╣реБрдд рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдирд┐рдХрд▓рд╛ред </p><br><div class="spoiler">  <b class="spoiler_title">рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдкреВрд░реНрдг рд╕реЗрдЯрдЕрдк рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ</b> <div class="spoiler_text"><pre> <code class="java hljs">ArrayList&lt;Fragment&gt; fragments = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); fragments.add(hello_fragment); fragments.add(small_picture_fragment); fragments.add(big_picture_fragment); SharedElementPageTransformer transformer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SharedElementPageTransformer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, fragments); transformer.addSharedTransition(R.id.smallPic_image_cat2, R.id.bigPic_image_cat, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); transformer.addSharedTransition(R.id.smallPic_text_label3, R.id.bigPic_text_label, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); transformer.addSharedTransition(R.id.hello_text, R.id.smallPic_text_label3, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); viewPager.setPageTransformer(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, transformer); viewPager.addOnPageChangeListener(transformer);</code> </pre></div></div><br><p>  рд╕рднреА рд╕рдВрдХреНрд░рдордг рд╕рд╣рд┐рдд <code>onClick</code> , рдЗрд╕ рддрд░рд╣ рджрд┐рдЦ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs">smallCatImageView.setOnClickListener( v -&gt; activity.viewPager.setCurrentItem(<span class="hljs-number"><span class="hljs-number">2</span></span>) );</code> </pre> <br><p>  рддрд╛рдХрд┐ рдХреЛрдб рдЧрд╛рдпрдм рди рд╣реЛ рдЬрд╛рдП, рдореИрдВрдиреЗ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ <em>рдЬреЗрд╕реАрдЯрд░</em> рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдФрд░ <em>рдЧрд┐рдЯрд╣рдм</em> рдореЗрдВ рдбрд╛рд▓ рджрд┐рдпрд╛ред  рдЗрд╕рд▓рд┐рдП рдореИрдВ рдУрдкрдирд╕реЛрд░реНрд╕ рдХреА рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рдВрдкрд░реНрдХ рдореЗрдВ рдЖ рдЧрдпрд╛ред  рдЖрдк рдЗрд╕реЗ рдХреЗрд╡рд▓ рдЬреЛрдбрд╝рдХрд░ рдЕрдкрдиреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкрд░ рдЖрдЬрдорд╛ рд╕рдХрддреЗ рд╣реИрдВ </p><br><pre> <code class="java hljs">dependencies { <span class="hljs-comment"><span class="hljs-comment">//... implementation 'com.github.kirillgerasimov:shared-element-view-pager:0.0.2-alpha' }</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GitHub</a> рдкрд░ рд╕рднреА рд╕реНрд░реЛрдд рдЙрдкрд▓рдмреНрдз рд╣реИрдВ </p><br><h3 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h3><br><p>  рднрд▓реЗ рд╣реА рдЗрдВрдЯрд░рдиреЗрдЯ рдХреЛ рдЬрд╡рд╛рдм рдирд╣реАрдВ рдкрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрд╣ рдирд╣реАрдВ рд╣реИред  Workarounds рдХреЗ рд▓рд┐рдП рджреЗрдЦреЛ, рдЬрдм рддрдХ рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЛред  рд╢рд╛рдпрдж рдЖрдк рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЗрд╕ рддрд╣ рддрдХ рдкрд╣реБрдВрдЪреЗрдВрдЧреЗ рдФрд░ рдЗрд╕реЗ рд╕рдореБрджрд╛рдп рдХреЗ рд╕рд╛рде рд╕рд╛рдЭрд╛ рдХрд░реЗрдВрдЧреЗред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi451116/">https://habr.com/ru/post/hi451116/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi451104/index.html">рдЗрдВрдЯреЗрд▓рд┐рдЬреЗрдВрдЯ рд╕реНрдкреАрдХрд░ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЬреЛ рд▓реЗрдЦ рдкрдврд╝рддрд╛ рд╣реИ: Microsoft Azure рдХреА рдЖрд╡рд╛рдЬрд╝реЗрдВ</a></li>
<li><a href="../hi451106/index.html">рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЗрдВрдЯреЗрд▓рд┐рдЬреЗрдВрдЯ рд╕реНрдкреАрдХрд░ рдЬреЛ рдЖрдкрдХреЗ рд▓рд┐рдП рдкрд╛рда рдкрдврд╝рддрд╛ рд╣реИ: Microsoft рдЖрд╡рд╛рдЬрд╝реЗрдВ рдЬреЛрдбрд╝реА рдЧрдИрдВ (рдХреЗрд╡рд▓ AWS рдкреЛрд▓реА рд╕реЗ)</a></li>
<li><a href="../hi451110/index.html">рдзреНрд╡рдирд┐ рдЕрд▓рд╛рд░реНрдо</a></li>
<li><a href="../hi451112/index.html">рдЬреЗрдЯрдкреИрдХ рд░рдЪрдирд╛</a></li>
<li><a href="../hi451114/index.html">рджреБрдХрд╛рдиреЛрдВ рдореЗрдВ рд╕реНрд╡рджреЗрд╢реА рд░реЛрдЧрд╛рдгреБрдУрдВ рдФрд░ рдЙрддреНрдкрд╛рдж рдЕрдиреБрд╕рдВрдзрд╛рди</a></li>
<li><a href="../hi451118/index.html">рдкрд░реАрдХреНрд╖рдг рд╢реБрд░реБрдЖрддреА рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рд╣реИ</a></li>
<li><a href="../hi451120/index.html">рдбреЗрдб рд╕реЗрд▓ рдХреЛ рдореЛрдмрд╛рдЗрд▓ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдкрд░ рдкреЛрд░реНрдЯ рдХрд░рдиреЗ рдХреА рдЪреБрдиреМрддрд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi451124/index.html">рдмрд╛рджрд▓ рдореЗрдВ рдкреНрд░реЛрдЯреАрди рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдкрд╛рдпрдерди рдФрд░ рдЯреНрд░рд╛рдВрд╕рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдпрд╛ $ 360 рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рднреА рдкреНрд░реЛрдЯреАрди рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi451126/index.html">рд╢реЛрдзрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЯреВрд▓рдмреЙрдХреНрд╕ - рдПрдХ рдЕрдВрдХ: рд╕реНрд╡-рд╕рдВрдЧрдарди рдФрд░ рдбреЗрдЯрд╛ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди</a></li>
<li><a href="../hi451130/index.html">рд╕реНрд╡рд┐рдлреНрдЯ: рдПрдЖрд░рд╕реА рдФрд░ рдореЗрдореЛрд░реА рдореИрдиреЗрдЬрдореЗрдВрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>