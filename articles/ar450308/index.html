<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จโ๐ญ ใฝ๏ธ ๐ง๐ฝ GPU ุฑุงู ุงูุจุญุซ ุนู ุงูููููุฏูู ูู ุงููุญุฏุฉ - ุงูุฌุฒุก 3 ๐ค๐ป ๐ต ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[ุงูุฌุฒุกุงู ุงูุฃูู ูุงูุซุงูู .] 


 ุงูููู ุณูุญูู ููุฒุฉ ูุจูุฑุฉ. ุณูุจุชุนุฏ ุนู ุงูููุงูู ุงููุฑููุฉ ุงูุญุตุฑูุฉ ูุงูุทุงุฆุฑุฉ ุงููุงููุงุฆูุฉ ุงูุชู ุชุชุจุนูุงูุง ูู ููุช ุณุงุจู ุ ููุถูู ูุซูุซุงุช -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>GPU ุฑุงู ุงูุจุญุซ ุนู ุงูููููุฏูู ูู ุงููุญุฏุฉ - ุงูุฌุฒุก 3</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450308/" style=";text-align:right;direction:rtl">  [ุงูุฌุฒุกุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃูู</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงูุซุงูู</a> .] <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f9f/a8a/4f2/f9fa8a4f2a79b8c394636de6a128d0d5.png"></div><br>  ุงูููู ุณูุญูู ููุฒุฉ ูุจูุฑุฉ.  ุณูุจุชุนุฏ ุนู ุงูููุงูู ุงููุฑููุฉ ุงูุญุตุฑูุฉ ูุงูุทุงุฆุฑุฉ ุงููุงููุงุฆูุฉ ุงูุชู ุชุชุจุนูุงูุง ูู ููุช ุณุงุจู ุ ููุถูู ูุซูุซุงุช - ุงูุฌููุฑ ุงููุงูู ูุฑุณููุงุช ุงูููุจููุชุฑ ุงูุญุฏูุซุฉ ุ ููู ุนูุตุฑ ุชุชุฃูู ููู ุฌููุน ุงูุนูุงูู ุงูุงูุชุฑุงุถูุฉ.  ุฅุฐุง ููุช ุชุฑูุฏ ุงููุชุงุจุนุฉ ูุน ูุง ุงูุชูููุง ูู ุขุฎุฑ ูุฑุฉ ุ ูุงุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฑูุฒ ูู ุงูุฌุฒุก 2</a> .  ุงูููุฏ ุงูููุงุฆู ููุง ุณูููู ุจู ุงูููู ูุชุงุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> .  ููุจุฏุฃ! <br><br><h2 style=";text-align:right;direction:rtl">  ูุซูุซุงุช </h2><br>  <em>ุงููุซูุซ</em> ูู ูุฌุฑุฏ ูุงุฆูุฉ ุจุซูุงุซุฉ <em>ุฑุคูุณ</em> ูุชุตูุฉ ุ ูุฎุฒู ูู ูููุง ูููุนู ุงูุฎุงุต ุ ูุฃุญูุงููุง ุทุจูุนู.  ูุญุฏุฏ ุชุฑุชูุจ ุงุฌุชูุงุฒ ุงูููู ูู ูุฌูุฉ ูุธุฑู ูุง ุงูุฐู ููุธุฑ ุฅููู - ุงูุฌุงูุจ ุงูุฃูุงูู ุฃู ุงูุฎููู ูููุซูุซ.  ุชูููุฏููุง ุ ุชูุนุชุจุฑ "ุงูุฌุจูุฉ" ูู ุชุฑุชูุจ ุงุฌุชูุงุฒ ุนูุงุฑุจ ุงูุณุงุนุฉ. <br><br>  ุฃููุงู ุ ูุฌุจ ุฃู ูููู ูุงุฏุฑูู ุนูู ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ุงูุดุนุงุน ูุชูุงุทุน ูุน ูุซูุซ ุ ูุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูู ุฃู ููุทุฉ.  ูู ุนุงู 1997 ุ ุงูุชุฑุญ ุงูุณุงุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชููุงุณ ุฃููููู ูููุฑ</a> ูุจู ุชุฑูุจูุฑ ุฎูุงุฑุฒููุฉ ุดุงุฆุนุฉ ููุบุงูุฉ (ูููู ุจุงูุชุฃููุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุณุช ุงููุญูุฏุฉ</a> ) ูุชุญุฏูุฏ ุชูุงุทุน ุงูุดุนุงุน ูุน ูุซูุซ.  ููููู ูุฑุงุกุฉ ุงููุฒูุฏ ุญูู ูุฐุง ุงูููุถูุน ูู ููุงููู "ุชูุงุทุน ูุซูุซ ุดุนุงุน ุงูุชุฎุฒูู ุงูุณุฑูุน ุ ุงูุญุฏ ุงูุฃุฏูู" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><a name="habracut"></a><br>  ูููู ููู ุงูุฑูุฒ ูู ุงูููุงู ุจุณูููุฉ ุฅูู ุฑูุฒ ุชุธููู HLSL: <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> EPSILON = <span class="hljs-number"><span class="hljs-number">1e-8</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IntersectTriangle_MT97</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Ray ray, float3 vert0, float3 vert1, float3 vert2, inout </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> t, inout </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> u, inout </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// find vectors for two edges sharing vert0 float3 edge1 = vert1 - vert0; float3 edge2 = vert2 - vert0; // begin calculating determinant - also used to calculate U parameter float3 pvec = cross(ray.direction, edge2); // if determinant is near zero, ray lies in plane of triangle float det = dot(edge1, pvec); // use backface culling if (det &lt; EPSILON) return false; float inv_det = 1.0f / det; // calculate distance from vert0 to ray origin float3 tvec = ray.origin - vert0; // calculate U parameter and test bounds u = dot(tvec, pvec) * inv_det; if (u &lt; 0.0 || u &gt; 1.0f) return false; // prepare to test V parameter float3 qvec = cross(tvec, edge1); // calculate V parameter and test bounds v = dot(ray.direction, qvec) * inv_det; if (v &lt; 0.0 || u + v &gt; 1.0f) return false; // calculate t, ray intersects triangle t = dot(edge2, qvec) * inv_det; return true; }</span></span></code> </pre> <br>  ูุงุณุชุฎุฏุงู ูุฐู ุงููุธููุฉ ุ ูุญุชุงุฌ ุฅูู ุดุนุงุน ูุซูุงุซุฉ ุฑุคูุณ ูููุซูุซ.  ุชุฎุจุฑูุง ูููุฉ ุงูุฅุฑุฌุงุน ูุง ุฅุฐุง ูุงู ุงููุซูุซ ูุชูุงุทุน.  ูู ุญุงูุฉ ุงูุชูุงุทุน ุ ุชูุญุณุจ ุซูุงุซ ููู ุฅุถุงููุฉ: <code>t</code> ุชุตู ุงููุณุงูุฉ ุนูู ุทูู ุงูุญุฒูุฉ ุฅูู ููุทุฉ ุงูุชูุงุทุน ุ ู <code>u</code> / <code>v</code> ููุง ูู ุงูุฅุญุฏุงุซูุงุช ุงูุซูุงุซุฉ ุซูุงุฆูุฉ ุงููุฑูุฒ ุงูุชู ุชุญุฏุฏ ูููุน ููุทุฉ ุงูุชูุงุทุน ุนูู ุงููุซูุซ (ูููู ุญุณุงุจ ุงูุฅุญุฏุงุซู ุงูุฃุฎูุฑ ูู <code>w = 1 - u - v</code> ).  ุฅุฐุง ูู ุชูู ูุนุชุงุฏูุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุญุฏุงุซูุงุช ุซูุงุฆูุฉ ุงููุฑูุฒ</a> ุญุชู ุงูุขู ุ ูุงูุฑุฃ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดุฑุญูู</a> ุงูููุชุงุฒ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Scratchapixel</a> . <br><br>  ุฏูู ุชุฃุฎูุฑ ูุจูุฑ ุ ุฏุนูุง ูุชุชุจุน ูุซูุซูุง ูุงุญุฏูุง ูุน ุงูุฑุคูุณ ุงูููุถุญุฉ ูู ุงูููุฏ!  ุงุจุญุซ ุนู ูุธููุฉ <code>Trace</code> ูู ุงูุชุธููู ูุฃุถู ุฌุฒุก ุงูุดูุฑุฉ ุงูุชุงูู ุฅูููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Trace single triangle float3 v0 = float3(-150, 0, -150); float3 v1 = float3(150, 0, -150); float3 v2 = float3(0, 150 * sqrt(2), -150); float t, u, v; if (IntersectTriangle_MT97(ray, v0, v1, v2, t, u, v)) { if (t &gt; 0 &amp;&amp; t &lt; bestHit.distance) { bestHit.distance = t; bestHit.position = ray.origin + t * ray.direction; bestHit.normal = normalize(cross(v1 - v0, v2 - v0)); bestHit.albedo = 0.00f; bestHit.specular = 0.65f * float3(1, 0.4f, 0.2f); bestHit.smoothness = 0.9f; bestHit.emission = 0.0f; } }</span></span></code> </pre> <br>  ููุง ููุช ุ ูุฎุฒู ุงููุณุงูุฉ ุนูู ุทูู ุงูุญุฒูุฉ ุ ููููููุง ุงุณุชุฎุฏุงู ูุฐู ุงููููุฉ ูุจุงุดุฑุฉ ูุญุณุงุจ ููุทุฉ ุงูุชูุงุทุน.  ูููู ุญุณุงุจ ุงููุนุฏู ุงูุทุจูุนู ุ ููู ุฃูุฑ ููู ูุญุณุงุจ ุงูุงูุนูุงุณ ุงูุตุญูุญ ุ ุจุงุณุชุฎุฏุงู ุงูููุชุฌ ุงูููุฌู ูุฃู ุญุงูุชู ุงููุซูุซ.  ุดุบูู ูุถุน ุงููุนุจุฉ ูุงุณุชูุชุน ุจูุซูุซ ุชุชุจุนู ุงูุฃูู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b29/65a/a84/b2965aa84ae9d882e6c26f7f44da2af7.png"></div><br>  <strong>ุงูุชูุฑูู:</strong> ุญุงูู ุญุณุงุจ ุงูููุถุน ุจุงุณุชุฎุฏุงู ุฅุญุฏุงุซูุงุช ูุชุญุฏุฉ ุงููุฑูุฒ ุจุฏูุงู ูู ุงููุณุงูุฉ.  ุฅุฐุง ููุช ุจูู ุดูุก ุจุดูู ุตุญูุญ ุ ูุณูุจุฏู ุงููุซูุซ ุงููุงูุน ุชูุงููุง ูู ูุจู. <br><br><h2 style=";text-align:right;direction:rtl">  ูุซูุซ ุชูุณุฌู </h2><br>  ููุฏ ุชุบูุจูุง ุนูู ุงูุนูุจุฉ ุงูุฃููู ุ ูููู ุชุชุจุน ุงูุดุจูุงุช ุงููุงููุฉ ูู ุงููุซูุซุงุช ูู ูุตุฉ ูุฎุชููุฉ ุชูุงููุง.  ูุญุชุงุฌ ุฃููุงู ุฅูู ุชุนูู ุจุนุถ ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ ุญูู ุงูุดุจูุงุช.  ุฅุฐุง ููุช ุชุนุฑููู ุ ูููููู ุชุฎุทู ุงูููุฑุฉ ุงูุชุงููุฉ ุจุฃูุงู. <br><br>  ูู ุฑุณููุงุช ุงูููุจููุชุฑ ุ ูุชู ุชุนุฑูู ุงูุดุจูุฉ ูู ุฎูุงู ุงูุนุฏูุฏ ูู ุงููุฎุงุฒู ุงููุคูุชุฉ ุ ูุฃูููุง ุงููุฎุงุฒู ุงููุคูุชุฉ <em>ุงูุฑุฃุณูุฉ</em> <em>ูุงูููุฑุณ</em> .  <em>ุงููุฎุฒู ุงููุคูุช ูู vertex</em> ุนุจุงุฑุฉ ุนู ูุงุฆูุฉ ูู ุงููุชุฌูุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุงูุชู ุชุตู ููุถุน ูู ููุฉ ูู <em>ูุณุงุญุฉ ุงููุงุฆู</em> (ููุฐุง ูุนูู ุฃู ูุฐู ุงูููู ูุง ุชุญุชุงุฌ ุฅูู ุชุบููุฑ ุนูุฏ ููู ูุงุฆู ุฃู ุชุฏููุฑู ุฃู ุชุบููุฑ ุญุฌูู - ูุชู ุชุญููููุง ูู <em>ูุณุงุญุฉ ุงููุงุฆู</em> ุฅูู <em>ูุณุงุญุฉ ุงูุนุงูู</em> ุฃุซูุงุก ุงูุทูุฑุงู ุจุงุณุชุฎุฏุงู ูุถุงุนูุฉ ุงููุตูููุฉ) .  <em>ุงููุฎุฒู ุงููุคูุช ุงูููุฑุณ</em> ูู ูุงุฆูุฉ ููู ุนุฏุฏ ุตุญูุญ ุงูุชู ูู <em>ุงูููุงุฑุณ</em> ุงูุชู ุชุดูุฑ ุฅูู ุงููุฎุฒู ุงููุคูุช ููุฉ ุงูุฑุฃุณ.  ูู ุซูุงุซุฉ ููุงุฑุณ ุชุดูู ูุซูุซ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ุงููุฎุฒู ุงููุคูุช ุงูููุฑุณ ูู ุงููููุฐุฌ [0 ุ 1 ุ 2 ุ 0 ุ 2 ุ 3] ุ ุนูุฏู ูุซูุซุงู: ูุชููู ุงููุซูุซ ุงูุฃูู ูู ุงูููู ุงูุฃููู ูุงูุซุงููุฉ ูุงูุซุงูุซุฉ ูู ุงููุฎุฒู ุงููุคูุช ูู vertex ุ ููุชููู ุงููุซูุซ ุงูุซุงูู ูู ุงูุฃูู ูุงูุซุงูู ูุงูููู ุงูุฑุงุจุนุฉ.  ูุฐูู ุ ูุญุฏุฏ ุงููุฎุฒู ุงููุคูุช ุงูููุฑุณ ุฃูุถูุง ุชุฑุชูุจ traversal ุงููุฐููุฑ ุฃุนูุงู.  ุจุงูุฅุถุงูุฉ ุฅูู ุงููุฎุงุฒู ุงููุคูุชุฉ ูุงูููุงุฑุณ ููุฉ ุงูุฑุฃุณ ุ ูุฏ ูููู ููุงู ูุฎุงุฒู ูุคูุชุฉ ุฅุถุงููุฉ ุชุถูู ูุนูููุงุช ุฃุฎุฑู ุฅูู ูู ููุฉ.  ุชููู ุงููุฎุงุฒู ุงููุคูุชุฉ ุงูุฅุถุงููุฉ ุงูุฃูุซุฑ ุดููุนูุง ุจุชุฎุฒูู <em>ุงูุฃุดูุงุก ุงูุทุจูุนูุฉ ูุชูุณููุงุช</em> <em>ุงููุณูุฌ</em> (ุชุณูู <em>texcoords</em> ุฃู <em>UV</em> ุจุจุณุงุทุฉ) ุ ููุฐูู <em>ุฃููุงู ููุฉ ุงูุฑุฃุณ</em> . <br><br><h2 style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู GameObjects </h2><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูุญู ุจุญุงุฌุฉ ุฅูู ูุนุฑูุฉ ุฃู ูู GameObjects ูุฌุจ ุฃู ูุตุจุญ ุฌุฒุกูุง ูู ุนูููุฉ ุชุชุจุน ุงูุฃุดุนุฉ.  ุงูุญู ุงูุณุงุฐุฌ ูู ุจุจุณุงุทุฉ ุงุณุชุฎุฏุงู <code>FindObjectOfType&lt;MeshRenderer&gt;()</code> ุ ูููู ุงูููุงู ุจุดูุก ุฃูุซุฑ ูุฑููุฉ ูุฃุณุฑุน.  ูููู ุจุฅุถุงูุฉ ูููู <code>RayTracingObject</code> ุฌุฏูุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(MeshRenderer))] [RequireComponent(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(MeshFilter))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RayTracingObject</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { RayTracingMaster.RegisterObject(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDisable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { RayTracingMaster.UnregisterObject(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } }</code> </pre> <br>  ุชุชู ุฅุถุงูุฉ ูุฐุง ุงููููู ุฅูู ูู ูุงุฆู ูุฑูุฏ ุงุณุชุฎุฏุงูู ูุชุชุจุน ุงูุฃุดุนุฉ ููุดุงุฑู ูู ุชุณุฌููู ุจุงุณุชุฎุฏุงู <code>RayTracingMaster</code> .  ุฃุถู ุงููุธุงุฆู ุงูุชุงููุฉ ุฅูู ุงููุนุงูุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _meshObjectsNeedRebuilding = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;RayTracingObject&gt; _rayTracingObjects = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;RayTracingObject&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RegisterObject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RayTracingObject obj</span></span></span><span class="hljs-function">)</span></span> { _rayTracingObjects.Add(obj); _meshObjectsNeedRebuilding = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UnregisterObject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RayTracingObject obj</span></span></span><span class="hljs-function">)</span></span> { _rayTracingObjects.Remove(obj); _meshObjectsNeedRebuilding = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ูู ุดูุก ูุณูุฑ ุนูู ูุง ูุฑุงู - ุงูุขู ูุนุฑู ุงูุฃุดูุงุก ุงูุชู ูุฌุจ ุชุชุจุนูุง.  ูููู ุจุนุฏ ุฐูู ูุฃุชู ุงูุฌุฒุก ุงูุตุนุจ: ุณูููู ุจุฌูุน ุฌููุน ุงูุจูุงูุงุช ูู ุดุจูุงุช ุงููุญุฏุฉ (ุงููุตูููุฉ ุ ููุฎุงุฒู ุงูููุฉ ุงูุฑุฃุณูุฉ ูุงูููุงุฑุณ - ุชุฐูุฑูุงุ) ุ ููุชุงุจุชูุง ุนูู ููุงูู ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูุง ูุชุญููููุง ูู GPU ุจุญูุซ ูููู ููุชุธููู ุงุณุชุฎุฏุงููุง.  ููุจุฏุฃ ุจุชุญุฏูุฏ ุจููุงุช ุงูุจูุงูุงุช ูุงููุฎุงุฒู ุงููุคูุชุฉ ุนูู ุงูุฌุงูุจ C # ุ ูู ุงููุนุงูุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> MeshObject { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Matrix4x4 localToWorldMatrix; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> indices_offset; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> indices_count; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;MeshObject&gt; _meshObjects = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;MeshObject&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;Vector3&gt; _vertices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Vector3&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; _indices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ComputeBuffer _meshObjectBuffer; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ComputeBuffer _vertexBuffer; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ComputeBuffer _indexBuffer;</code> </pre> <br>  ... ูุงูุขู ุฏุนููุง ููุนู ุงูุดูุก ููุณู ูู ุงูุชุธููู.  ูู ุงุนุชุฏุช ุนูู ุฐููุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MeshObject</span></span></span><span class="hljs-class"> {</span></span> float4x4 localToWorldMatrix; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> indices_offset; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> indices_count; }; StructuredBuffer&lt;MeshObject&gt; _MeshObjects; StructuredBuffer&lt;float3&gt; _Vertices; StructuredBuffer&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; _Indices;</code> </pre> <br>  ููุงูู ุงูุจูุงูุงุช ุฌุงูุฒุฉ ุ ููููููุง ุชุนุจุฆุชูุง ุจุจูุงูุงุช ุญููููุฉ.  ูุญู ูุฌูุน ูู ุฑุคูุณ ูู ุงูุดุจูุงุช ูู <code>List&lt;Vector3&gt;</code> ูุจูุฑุฉ ูุงุญุฏุฉ <code>List&lt;Vector3&gt;</code> ุ ูุฌููุน ุงูููุงุฑุณ ูู <code>List&lt;int&gt;</code> ูุจูุฑุฉ <code>List&lt;int&gt;</code> .  ูุง ุชูุฌุฏ ูุดุงูู ูุน ุงูููู ุ ูููู ูุฌุจ ุชุบููุฑ ุงููุคุดุฑุงุช ุจุญูุซ ุชุณุชูุฑ ูู ุงูุฅุดุงุฑุฉ ุฅูู ุงูููุฉ ุงูุตุญูุญุฉ ูู ุงููุฎุฒู ุงููุคูุช ุงููุจูุฑ ุงูุฎุงุต ุจูุง.  ุชุฎูู ุฃููุง ูููุง ุจุงููุนู ุจุฅุถุงูุฉ ูุงุฆูุงุช ูู 1000 ุฑุฃุณ ุ ูุงูุขู ูุถูู ููุนุจูุง ุดุจูููุง ุจุณูุทูุง.  ูุฏ ูุชููู ุงููุซูุซ ุงูุฃูู ูู ูุคุดุฑุงุช [0 ุ 1 ุ 2] ุ ูููู ูุธุฑูุง ูุฃู ูุฏููุง ุจุงููุนู 1000 ุฑุฃุณ ูู ุงููุฎุฒู ุงููุคูุช ุ ูุญุชุงุฌ ุฅูู ุชุจุฏูู ุงููุคุดุฑุงุช ูุจู ุฅุถุงูุฉ ุฑุคูุณ ุฅูู ุงูููุนุจ.  ุฃู ุฃููุง ุณุชุชุญูู ุฅูู [1000 ุ 1001 ุ 1002].  ุฅููู ูุง ูุจุฏู ูู ุงูููุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RebuildMeshObjectBuffers</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_meshObjectsNeedRebuilding) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } _meshObjectsNeedRebuilding = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; _currentSample = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Clear all lists _meshObjects.Clear(); _vertices.Clear(); _indices.Clear(); // Loop over all objects and gather their data foreach (RayTracingObject obj in _rayTracingObjects) { Mesh mesh = obj.GetComponent&lt;MeshFilter&gt;().sharedMesh; // Add vertex data int firstVertex = _vertices.Count; _vertices.AddRange(mesh.vertices); // Add index data - if the vertex buffer wasn't empty before, the // indices need to be offset int firstIndex = _indices.Count; var indices = mesh.GetIndices(0); _indices.AddRange(indices.Select(index =&gt; index + firstVertex)); // Add the object itself _meshObjects.Add(new MeshObject() { localToWorldMatrix = obj.transform.localToWorldMatrix, indices_offset = firstIndex, indices_count = indices.Length }); } CreateComputeBuffer(ref _meshObjectBuffer, _meshObjects, 72); CreateComputeBuffer(ref _vertexBuffer, _vertices, 12); CreateComputeBuffer(ref _indexBuffer, _indices, 4); }</span></span></code> </pre> <br>  ูุญู ูุฏุนู <code>RebuildMeshObjectBuffers</code> ูู ูุธููุฉ <code>OnRenderImage</code> ุ ููุง ุชูุณ ุชุญุฑูุฑ ุงููุฎุงุฒู ุงููุคูุชุฉ ุงูุฌุฏูุฏุฉ ูู <code>OnDisable</code> .  ูููุง ููู ูุธููุชุงู ูุณุงุนุฏุชุงู ุงุณุชุฎุฏูุชููุง ูู ุงูููุฏ ุฃุนูุงู ูุชุจุณูุท ูุนุงูุฌุฉ ุงููุฎุฒู ุงููุคูุช ููููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CreateComputeBuffer&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">ref</span></span> ComputeBuffer buffer, List&lt;T&gt; data, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> stride) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Do we already have a compute buffer? if (buffer != null) { // If no data or buffer doesn't match the given criteria, release it if (data.Count == 0 || buffer.count != data.Count || buffer.stride != stride) { buffer.Release(); buffer = null; } } if (data.Count != 0) { // If the buffer has been released or wasn't there to // begin with, create it if (buffer == null) { buffer = new ComputeBuffer(data.Count, stride); } // Set data on the buffer buffer.SetData(data); } } private void SetComputeBuffer(string name, ComputeBuffer buffer) { if (buffer != null) { RayTracingShader.SetBuffer(0, name, buffer); } }</span></span></code> </pre> <br>  ุนุธูู ุ ุฃูุดุฃูุง ุงููุฎุงุฒู ุงููุคูุชุฉ ูุฃููุง ูููุฆุฉ ุจุงูุจูุงูุงุช ุงููุงุฒูุฉ!  ุงูุขู ูุญู ุจุญุงุฌุฉ ููุท ุฅูู ุงูุฅุจูุงุบ ุนู ูุฐุง ุฅูู ุชุธููู.  ุฃุถู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ุฅูู <code>SetShaderParameters</code> (ูุจูุถู ูุธุงุฆู ุงููุณุงุนุฏ ุงูุฌุฏูุฏุฉ ุ ูููููุง ุชูููู ุฑูุฒ ุงููุฎุฒู ุงููุคูุช ูููุฑุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">SetComputeBuffer(<span class="hljs-string"><span class="hljs-string">"_Spheres"</span></span>, _sphereBuffer); SetComputeBuffer(<span class="hljs-string"><span class="hljs-string">"_MeshObjects"</span></span>, _meshObjectBuffer); SetComputeBuffer(<span class="hljs-string"><span class="hljs-string">"_Vertices"</span></span>, _vertexBuffer); SetComputeBuffer(<span class="hljs-string"><span class="hljs-string">"_Indices"</span></span>, _indexBuffer);</code> </pre> <br>  ูุฐุง ุ ูุฅู ุงูุนูู ููู ุ ูููู ุฏุนููุง ูุฑู ูุง ูุนููุงู ููุชู: ููุฏ ุฌูุนูุง ุฌููุน ุงูุจูุงูุงุช ุงูุฏุงุฎููุฉ ููุดุจูุงุช (ุงููุตูููุฉ ูุงูุฑุคูุณ ูุงูููุงุฑุณ) ุ ููุถุนูุงูุง ูู ุจููุฉ ูุฑูุญุฉ ูุจุณูุทุฉ ุ ุซู ุฃุฑุณููุงูุง ุฅูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช ุ ูุงูุชู ุชุชุทูุน ุงูุขู ุฅูู ูุชู ูููู ุงุณุชุฎุฏุงููุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุชุจุน ุดุจูุฉ </h2><br>  ุฏุนููุง ูุง ูุฌุนูู ููุชุธุฑ.  ูู ุงูุชุธููู ุ ูุฏููุง ุจุงููุนู ุดูุฑุฉ ุงูุชุชุจุน ููุซูุซ ูุฑุฏู ุ ูุงูุดุจูุฉ ูู ูู ุงููุงูุน ูุฌุฑุฏ ุงููุซูุฑ ูู ุงููุซูุซุงุช.  ุงูุฌุงูุจ ุงูุฌุฏูุฏ ุงููุญูุฏ ููุง ูู ุฃููุง ูุณุชุฎุฏู ุงููุตูููุฉ ูุชุญููู ุงูุฑุคูุณ ูู ูุณุงุญุฉ ุงููุงุฆู ุฅูู ูุณุงุญุฉ ุงูุนุงูู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ <code>mul</code> ุงููุฏูุฌุฉ (ุงุฎุชุตุงุฑ ููุถุฑุจ).  ุชุญุชูู ุงููุตูููุฉ ุนูู ุชุฑุฌูุฉ ุงููุงุฆู ูุชูุงูุจู ูุญุฌูู.  ูุจูุบ ุญุฌููุง 4 ร 4 ุ ูุฐูู ุจุงููุณุจุฉ ููุถุฑุจ ุ ูุญุชุงุฌ ุฅูู ูุงูู 4d.  ูุชู ุฃุฎุฐ ุงูููููุงุช ุงูุซูุงุซุฉ ุงูุฃููู (ุณ ุ ุต ุ ุถ) ูู ุงููุฎุฒู ุงููุคูุช ููุฉ ุงูุฑุฃุณ.  ูููุง ุจุชุนููู ุงููููู ุงูุฑุงุจุน (ุซ) ุฅูู 1 ูุฃููุง ูุชุนุงูู ูุน ููุทุฉ.  ุฅุฐุง ูุงู ูุฐุง ูู ุงูุงุชุฌุงู ุ ูุณููุชุจ 0 ููู ูุชุฌุงูู ูู ุงูุชุฑุฌูุงุช ูุงููููุงุณ ูู ุงููุตูููุฉ.  ูู ูุฐุง ูุฑุจู ุจุงููุณุจุฉ ููุ  ุซู ุงูุฑุฃ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู</a> ุซูุงูู ูุฑุงุช ุนูู ุงูุฃูู.  ููุง ูู ุฑูุฒ ุงูุชุธููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IntersectMeshObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Ray ray, inout RayHit bestHit, MeshObject meshObject)</span></span></span><span class="hljs-function"> </span></span>{ uint offset = meshObject.indices_offset; uint count = offset + meshObject.indices_count; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (uint i = offset; i &lt; count; i += <span class="hljs-number"><span class="hljs-number">3</span></span>) { float3 v0 = (mul(meshObject.localToWorldMatrix, float4(_Vertices[_Indices[i]], <span class="hljs-number"><span class="hljs-number">1</span></span>))).xyz; float3 v1 = (mul(meshObject.localToWorldMatrix, float4(_Vertices[_Indices[i + <span class="hljs-number"><span class="hljs-number">1</span></span>]], <span class="hljs-number"><span class="hljs-number">1</span></span>))).xyz; float3 v2 = (mul(meshObject.localToWorldMatrix, float4(_Vertices[_Indices[i + <span class="hljs-number"><span class="hljs-number">2</span></span>]], <span class="hljs-number"><span class="hljs-number">1</span></span>))).xyz; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> t, u, v; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (IntersectTriangle_MT97(ray, v0, v1, v2, t, u, v)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; t &lt; bestHit.distance) { bestHit.distance = t; bestHit.position = ray.origin + t * ray.direction; bestHit.normal = normalize(cross(v1 - v0, v2 - v0)); bestHit.albedo = <span class="hljs-number"><span class="hljs-number">0.0f</span></span>; bestHit.specular = <span class="hljs-number"><span class="hljs-number">0.65f</span></span>; bestHit.smoothness = <span class="hljs-number"><span class="hljs-number">0.99f</span></span>; bestHit.emission = <span class="hljs-number"><span class="hljs-number">0.0f</span></span>; } } } }</code> </pre> <br>  ูุญู ุนูู ุจุนุฏ ุฎุทูุฉ ูุงุญุฏุฉ ููุท ูู ุฑุคูุชู ูู ุงูุนูู.  ุฏุนูุง ูุนูุฏ ููููุฉ ูุธููุฉ <code>Trace</code> ููููุงู ููุถูู ุชุชุจุนูุง ููุงุฆูุงุช ุงูุดุจูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">RayHit </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Trace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Ray ray)</span></span></span><span class="hljs-function"> </span></span>{ RayHit bestHit = CreateRayHit(); uint count, stride, i; <span class="hljs-comment"><span class="hljs-comment">// Trace ground plane IntersectGroundPlane(ray, bestHit); // Trace spheres _Spheres.GetDimensions(count, stride); for (i = 0; i &lt; count; i++) { IntersectSphere(ray, bestHit, _Spheres[i]); } // Trace mesh objects _MeshObjects.GetDimensions(count, stride); for (i = 0; i &lt; count; i++) { IntersectMeshObject(ray, bestHit, _MeshObjects[i]); } return bestHit; }</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h2><br>  ูุฐุง ูู ุดุฆ!  ุฏุนูุง ูุถูู ุจุนุถ ุงูุดุจูุงุช ุงูุจุณูุทุฉ ( <code>RayTracingObject</code> ุงููุญุฏุฉ ุฌูุฏุฉ) ุ ูููุญูู ูููู <code>RayTracingObject</code> ููุฑุงูุจุฉ ุงูุณุญุฑ.  <strong>ูุง ุชุณุชุฎุฏู</strong> ุดุจูุงุช ููุตูุฉ ุญุชู ุงูุขู (ุฃูุซุฑ ูู ุจุถุน ูุฆุงุช ูู ุงููุซูุซุงุช)!  ููุชูุฑ ุชุธููููุง ุฅูู ุงูุชุญุณูู ุ ูุฅุฐุง ุชุฌุงูุฒุชู ุ ููุฏ ูุณุชุบุฑู ุงูุฃูุฑ ุซูุงูู ุฃู ุญุชู ุฏูุงุฆู ูุชุชุจุน ุนููุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ููู ุจูุณู.  ูุชูุฌุฉ ูุฐูู ุ ุณูู ูููู ุงููุธุงู ุจุฅููุงู ุจุฑูุงูุฌ ุงูุชุดุบูู GPU ุ ููุฏ ูุชุนุทู ูุญุฑู Unity ุ ูุณูุญุชุงุฌ ุงูููุจููุชุฑ ุฅูู ุฅุนุงุฏุฉ ุงูุชุดุบูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c80/1d4/40e/c801d440e5a0a21f660b5a7e82e1b368.png"></div><br>  ูุงุญุธ ุฃู ุชูุณุฌู ูุฏููุง ูุง ุชููู ุงูุชุธููู ุงูุณูุณ ุ ูููู ูุณุทุญุฉ.  ูุธุฑูุง ูุฃููุง ูู ูุญูู ุจุนุฏ ุงูููุงุนุฏ ุงูุทุจูุนูุฉ ููุฑุคูุณ ูู ุงููุฎุฒู ุงููุคูุช ุ ููุญุตูู ุนูู ุงูููู ุงูุนุงุฏูุฉ ููู ูุซูุซ ุ ูุญุชุงุฌ ุฅูู ุฅุฌุฑุงุก ููุชุฌ ูุชุฌู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ูููููุง ุงูุชุญุฑูู ููู ููุทูุฉ ุงููุซูุซ.  ุณูุชุนุงูู ูุน ูุฐู ุงููุดููุฉ ูู ุงูุฌุฒุก ุงูุชุงูู ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู. <br><br>  ูู ุฃุฌู ุงูุงูุชูุงู ุ ููุช ุจุชูุฒูู Stanford Bunny ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุฑุดูู Morgan McGwire</a> ูุงุณุชุฎุฏุงู ุงููุนุฏููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนุดุฑู</a> ูุญุฒูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Blender</a> I ุฎูุถุช ุนุฏุฏ ุงูุฑุคูุณ ุฅูู 431. ููููู ุชุฌุฑุจุฉ ูุนููุงุช ุงูุฅุถุงุกุฉ ูุงูููุงุฏ ุฐุงุช ุงูุชุฑููุฒ ุงูุซุงุจุช ูู ูุธููุฉ ุชุธููู <code>IntersectMeshObject</code> .  ุฅููู ุฃุฑูุจ ุนุงุฒู ุจุธูุงู ูุงุนูุฉ ุฌูููุฉ ูุฅุถุงุกุฉ ุนุงูููุฉ ููุชุดุฑุฉ ููููุงู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Grafitti Shelter</a> : <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0da/860/bb4/0da860bb41d9465f2dc21d649a509a66.png"></div><br>  ... ูุฅููู ุฃุฑูุจ ูุนุฏูู ุชุญุช ุถูุก ุงูุงุชุฌุงู ุงูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุจ ููู</a> ุ ูููู ุจุฑูู ุงูุฏูุณูู ุนูู ูุณุชูู ุงูุฃุฑุถ: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a76/bb1/a64/a76bb1a642d620929ecd250f92e1ef1f.jpg"></div><br>  ... ูููุง ุงุซููู ูู ุงูุฃุฑุงูุจ ุงูุตุบูุฑุฉ ูุฎุชุจุฆูู ุชุญุช ุญุฌุฑ ูุจูุฑ ุณูุฒุงู ุชุญุช ุงูุณูุงุก ุงูุฒุฑูุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Kiara 9 Dusk</a> (ูุตูุช ูุงุฏุฉ ุจุฏููุฉ ูููุงุฆู ุงูุซุงูู ุ ูุงูุชุญูู ููุง ุฅุฐุง ูุงู ูุคุดุฑ ุงูููุฑุณ ูู ุงูุตูุฑ): <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/7ef/196/a4f/7ef196a4f818b366b4838f2b1e4148f5.png"></div><br><h2 style=";text-align:right;direction:rtl">  ูุง ุงูุชุงููุ </h2><br>  ูู ุงูุฑุงุฆุน ุฑุคูุฉ ุดุจูุฉ ุญููููุฉ ูู ุงูุชุชุจุน ุงูุฎุงุต ุจู ูููุฑุฉ ุงูุฃููู ุ ุฃููุณ ูุฐููุ  ุงูููู ุ ูููุง ุจูุนุงูุฌุฉ ุจุนุถ ุงูุจูุงูุงุช ุ ูุงูุชุดููุง ุงูุชูุงุทุน ุจุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุฉ Meller-Trambor ุ ูุฌูุนูุง ูู ุดูุก ุญุชู ูุชููู ูู ุงุณุชุฎุฏุงู ูุญุฑู GameObjects ููุญุฑู Unity ุนูู ุงูููุฑ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุฑุฃููุง ุฅุญุฏู ูุฒุงูุง ุชุชุจุน ุงูุฃุดุนุฉ: ุจูุฌุฑุฏ ุฅุถุงูุฉ ุชูุงุทุน ุฌุฏูุฏ ุฅูู ุงูููุฏ ุ ุชุจุฏุฃ ุฌููุน ุงูุชุฃุซูุฑุงุช ุงูุฌูููุฉ (ุงูุธูุงู ุงููุงุนูุฉ ูุงูุฅุถุงุกุฉ ุงูุนุงูููุฉ ุงูููุนูุณุฉ ูุงูููุชุดุฑุฉ ููุง ุฅูู ุฐูู) ุนูู ุงูููุฑ ูู ุงูุนูู. <br><br>  ุงุณุชุบุฑู ุชูุฏูู ุงูุฃุฑูุจ ุงููุงูุน ุงููุซูุฑ ูู ุงูููุช ุ ููุง ุฒูุช ูุถุทุฑูุง ูุงุณุชุฎุฏุงู ุงููููู ูู ุงูุชุฑุดูุญ ููุชุฎูุต ูู ุงูุถูุถุงุก ุงูุฃูุซุฑ ูุถูุญูุง.  ูุญู ูุฐู ุงููุดููุฉ ุ ุนุงุฏุฉู ูุง ูุชู ูุชุงุจุฉ ูุดูุฏ ูู ุจููุฉ ููุงููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุดุจูุฉ ุ ุดุฌุฑุฉ K- ุงูุฃุจุนุงุฏ ุฃู ุชุณูุณู ูุฑูู ูู ูุญุฏุงุช ุงูุชุฎุฒูู ุงููุญูุท ุ ููุง ูุฒูุฏ ุจุดูู ูุจูุฑ ูู ุณุฑุนุฉ ุนุฑุถ ุงููุดุงูุฏ ุงููุจูุฑุฉ. <br><br>  ููููุง ูุญุชุงุฌ ุฅูู ุงูุชุญุฑู ุจุงูุชุฑุชูุจ: ุนูุงูุฉ ุนูู ุฐูู ุ ุณูููู ุจุฅุฒุงูุฉ ุงููุดููุฉ ุงููุชุนููุฉ ุจุงูุฃููุงู ุงูุทุจูุนูุฉ ุญุชู ูุจุฏู ุชูุณุฌู (ุญุชู ุงูููุฎูุถุฉ ุงููุซุงูุฉ) ุฃูุซุฑ ูุนููุฉ ูู ุงูุขู.  ุณูููู ูู ุงูุฌูุฏ ุฃูุถูุง ุชุญุฏูุซ ุงููุตูููุงุช ุชููุงุฆููุง ุนูุฏ ููู ุงููุงุฆูุงุช ูุงูุฅุดุงุฑุฉ ูุจุงุดุฑุฉู ุฅูู ููุงุฏ ุงููุญุฏุฉ ุ ูููุณ ููุท ูุชุงุจุชูุง ูู ุงูููุฏ.  ูุฐุง ูู ูุง ุณููุนูู ูู ุงูุฌุฒุก ุงูุชุงูู ูู ุณูุณูุฉ ุงูุจุฑูุงูุฌ ุงูุชุนูููู.  ุดูุฑุง ูููุฑุงุกุฉ ุ ูุฃุฑุงู ูู ุงูุฌุฒุก 4! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar450308/">https://habr.com/ru/post/ar450308/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar450294/index.html">ุฃุฑูุน ุงูุณููู</a></li>
<li><a href="../ar450298/index.html">ุงููุณุชูุจู ุงูููููู (ุชุงุจุน)</a></li>
<li><a href="../ar450300/index.html">ุงูุชููู ุนู ุงูุฌุฏู ุญูู ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ู OOP</a></li>
<li><a href="../ar450302/index.html">ุชูููุฉ ุฑุงุฏูู ุงูููุงุฉ: ุชุตููุน ููุญุงุช ุงูุฏูุงุฆุฑ ุงูุฅููุชุฑูููุฉ ูู ูุตูุน ุตููู</a></li>
<li><a href="../ar450304/index.html">Carapuzik ุฑููุจ ูููุฉ: 100 ููููู ุณูุฉ ูู myrmecophilia</a></li>
<li><a href="../ar450310/index.html">ููู ูุนูู Philips VideoWRITER. ุงูุตูุฑ ุงูุฃููู ูู ุงูุญุฏูุฏ ุ ุซู ุงููููู ูู ุงูุชุนุจ</a></li>
<li><a href="../ar450312/index.html">ุนุงูู ุงููููุงุก ูุคูู ุฏููู ูุงุชุจ</a></li>
<li><a href="../ar450314/index.html">TensorFlow ูููุจุชุฏุฆูู. ุงูุฌุฒุก 1: ูุนูููุงุช ุนุงูุฉ ุ ุชุซุจูุช ุงูููุชุจุฉ</a></li>
<li><a href="../ar450316/index.html">TDD: ูููุฌูุฉ ุชุทููุฑ ุบูุฑุช ุญูุงุชู</a></li>
<li><a href="../ar450318/index.html">ุฃููุงุท ุงูุชุตููู ูู ุชุทููุฑ ุฌุงูุง ุณูุฑูุจุช ุงูุญุฏูุซุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>