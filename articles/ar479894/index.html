<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ค ๐ ูู Hyper-V ุฅูู VMware ูุงูุนูุณ: ุชุญููู ุงูุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ ๐จ๐ฝโ๐ ๐ถ๐ผ ๐งก</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุจุฑ! 

 ูู ููุช ูุขุฎุฑ ุ ุฃุณูุน ูู ุงููููุฏุณูู ุงูููุงุฑุณูู ุดูุฆูุง ุบุฑูุจูุง: ุชุนุฏ VMDK ู VHD ู VHDX ุชูุณููุงุช ูุฎุชููุฉ ุชูุงููุง ูููุฑุต ุงูุธุงูุฑู ุ ููุชู ุฅุบูุงููุง ุชูุฑู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูู Hyper-V ุฅูู VMware ูุงูุนูุณ: ุชุญููู ุงูุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/479894/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xs/fo/hq/xsfohqeyqsuronjrbjou2t4hpqw.jpeg"><br><br>  ูุฑุญุจุง ูุง ูุจุฑ! <br><br>  ูู ููุช ูุขุฎุฑ ุ ุฃุณูุน ูู ุงููููุฏุณูู ุงูููุงุฑุณูู ุดูุฆูุง ุบุฑูุจูุง: ุชุนุฏ VMDK ู VHD ู VHDX ุชูุณููุงุช ูุฎุชููุฉ ุชูุงููุง ูููุฑุต ุงูุธุงูุฑู ุ ููุชู ุฅุบูุงููุง ุชูุฑูุจูุง ุ ููุง ุฃู ุงูุชุญููู ูู ูุงุญุฏุฉ ุฅูู ุฃุฎุฑู ูุนุฏ ุนูููุฉ ุทูููุฉ ููุคููุฉ.  ุงูููู ุณุฃูุถุญ ุฃู ูุฐุง ููุณ ูุฐูู ุ ุณุฃูุชุดู ูุฏู ุงุฑุชุจุงุท ูุฐู ุงูุชูุณููุงุช ุจุจุนุถูุง ุงูุจุนุถ ูููููุฉ ุฅุฌุฑุงุก ุชุญููู ุณุฑูุน ุนูุฏ ุงูุชุฑุญูู ูู Hyper-V ุฅูู VMware ูุงูุนูุณ. <br><br>  ููููุง ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ.  ูู ูุฌูุฉ ูุธุฑ ุงูุฎุตุงุฆุต ุ ุชููุณู ุงูุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ ุฅูู ููุนูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฑูููุฉ (ุงููุฑุต ุงูุญููู) ู </li><li style=";text-align:right;direction:rtl">  ุณูููุฉ (ุงููุฑุต ุงูุซุงุจุช).  ูู ุดูุก ุขุฎุฑ - ุงููุฑู ุ ุณูููุฉ ูุณูู ุตูุฑ ุฑูุฒุช - ููุท ุงูุงุฎุชูุงูุงุช ุญูู ูุฐุง ุงูููุถูุน. </li></ul><a name="habracut"></a><br>  ูู ุฃุชูุงูู ูุฐุง ุจุงูุชูุตูู.  ูุง ูููููู ุฅูุง ุฃู ุฃููู ุฅููุง ุณูุชุญุฏุซ ุนู ุงูุฃูุฑุงุต ุงูุณูููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุณููุงุช ุงููุฑุต </h3><br>  <b>RAW</b> - ุตูุฑุฉ "ุฎุงู" ูุฃู ูุญุฑู ุฃูุฑุงุต.  ูุฐู ุญุงููุฉ ุนุงุฏูุฉ ูุง ุชุญุชูู ุนูู ุฃู ุฑุคูุณ ูุชุฐูููุงุช ูุญุฏุฏุฉ ูุชูุซู ุตูุฑุฉ ุงููุฑุต "ููุง ูู".  ุฅุฐุง ูุชุญูุง ูุฐู ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู ูุญุฑุฑ HEX ุ ูุณูู ูุฑู ุนูู ุงูููุฑ ุฑุคูุณ GPT / MBR ู / ุฃู ูุธุงู ุงููููุงุช.  ูุชู ุงูุญุตูู ุนูู ููุณ ุงูุตูุฑุฉ ุงูุฏูููุฉ ูู ุฎูุงู ุงูุฃูุฑ dd ุนูู Linux.  ุงูุฎุงู ูู ูุฐุง ุงูุตุฏุฏ ุตุงุฏู ุชูุงูุง ูุนูุง. <br><br><img src="https://habrastorage.org/webt/0o/e8/97/0oe897bapic5h0tljstnmhezofk.png"><br>  <i>ุจุฏุงูุฉ ููู RAW.</i> <br><br><img src="https://habrastorage.org/webt/d4/6a/-6/d46a-6wkfji6gv7t_i4na83c4is.png"><br>  <i>ููุงูุฉ ููู RAW.</i> <br><br>  <b>VMDK.</b>  VMware ESXi ูู RAW ุนุงุฏู ุ ุญูุซ ูุชู ูุตู ููุฏุณุฉ ุงููุฑุต ูู ููู ูุงุตู ูุต ุนุงุฏู (ูุงุตู).  ุฅูู ุงุณูู ุงูุฐู ูุฑุงู ูู vSphere Console ุนูุฏูุง ูููู ุจุชูุตูู ูุฑุต ุงูุชุฑุงุถู ุจุฌูุงุฒ ุธุงูุฑู ุฃู ุชุตูุญ ูุญุชููุงุช ุงูุฏููู ุนูู Datastore.  ุจุฑูุงูุฌ VMware ESXi ูุง ููุนู ุดูุฆูุง ูุน ุงูุตูุฑุฉ.  ุชูุงูุง.  ููุน ุงููุฑุต ุนูู ููุณู ููุชูุณุน ุญุณุจ ุงูุญุงุฌุฉ.  ูู ุฃูุถู ุชูุงููุฏ VMware ุ ูููู ุชูุณูู ุงููุงุตู ุจุณูุทูุง ุฌุฏูุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs"># Disk DescriptorFile version=1 encoding="UTF-8" CID=fffffffe parentCID=ffffffff isNativeSnapshot="no" createType="vmfs"  # Extent description RW 15122560 VMFS "disk-example-flat.vmdk"  # The Disk Data Base #DDB ddb.adapterType = "lsilogic" ddb.geometry.cylinders = "941" ddb.geometry.heads = "255" ddb.geometry.sectors = "63" ddb.longContentID = "4f5dc83d0a5270bee54e2d85fffffffe" ddb.uuid = "60 00 C2 93 b4 38 ed dd-a3 85 88 48 68 40 2f c0" ddb.virtualHWVersion = "13"</code> </pre> <br>  ููู ููุณุช ุจุณูุทุฉ ูุญุณุจ ุ ูููููุง ุฃูุถูุง ุนูููุฉ: ููู ูุงููุฉ ูุชุฏููู ููุงุญุธุงุช ูู ููู ูุงุตู ูุชูุณูุน ุงููุฑุต ุงูุธุงูุฑู ููุดูู ุฃู ููู ูุฏุนููุฉ.  ูุชูุญ ูู ุฐูู ููุก ุงูุฃูุฑุงุต ุจุงูุฃุตูุงุฑ ุฃู ูุถุน ุนูุงูุฉ ุนูููุง ุฑููุนุฉ ุ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุงูุงุญุชูุงุธ ุจูุนูููุงุช ุงูุดูู ุงูููุฏุณู ูู ุฑุคูุณ ุงูุฃูุฑุงุต. <br><br>  ูููุง ููู ุจุนุถ ุงูููู ุงูููุงุณูุฉ ูุฌููุน ุฃูุณุงู ุงููุงุตู: <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ูุณู</b> <br></td><td>  <b>ูุนููุฉ</b> <br></td><td>  <b>ูุตู</b> <br></td><td>  <b>ูููุฉ</b> <br></td></tr><tr><td>  ุฑุฃุณ (# ุงููุฑุต DescriptorFile) <br></td><td>  ูุต <br></td><td>  ูุญุฏุฏ ุฑูู ุฅุตุฏุงุฑ ุงููุงุตู.  ุนุงุฏุฉ ูุง ูุชุบูุฑ. <br></td><td>  1 (ุงูุชุฑุงุถู) <br></td></tr><tr><td>  CID <br></td><td>  ูุนุฑู ุงููุญุชูู  ูุนุฑู ูุฑุต 32 ุจุช ุนุดูุงุฆู ูุดุงุฑู ูู ุจูุงุก ุดุฌุฑุฉ ููุทุฉ.  ูู ParentCID ูุฃูุฑุงุต ุฏูุชุง ุงูุชุงุจุนุฉ. <br></td><td>  ูููุฉ ุนุดูุงุฆูุฉ 32 ุจุช ูุชู ุฅูุดุงุคูุง ูู ููุช ุงูุฅูุดุงุก. <br></td></tr><tr><td>  parentCID <br></td><td>  ุฅุฏุงุฑุฉ ุงูุจุญุซ ุงูุฌูุงุฆู ูู ูุญุฑู ุงูุฃูุฑุงุต ุงูุฃุตู.  ุฅุฐุง ูู ููู ููุงู ูุฑุต ุฃุตู ุ ูุณูุชู ุชุนููู ุนูุงูุฉ CID_NOPARENT (ffffffff). <br></td><td>  Ffffffff (CID_NOPARENT) <br>  ุฅุฏุงุฑุฉ ุงูุจุญุซ ุงูุฌูุงุฆู ูู ูุญุฑู ุงูุฃูุฑุงุต ุงูุฃุตู. <br></td></tr><tr><td>  createType <br></td><td>  ูุคุดุฑ ุฅูู ููุน ุงููุฑุต ุงูููุตูู ูู ุงููุงุตู (ูุฏ ูููู ูุฑุตูุง ูุนูููุง ุ ูุฃูุฑุงุตูุง ุชูุงุถููุฉ ุ ูุญุชู ุตููููุง ูู ุฃูุฑุงุต VMDK).  ุจุงููุณุจุฉ ุฅูู ESXi ุ ุชููู ูุฌููุนุฉ ุงูุฎุตุงุฆุต ูุญุฏูุฏุฉ. <br></td><td>  ุจุงููุณุจุฉ ุฅูู ESXi ุ vmfs (ูู ุญุงูุฉ ูุฑุต ุงูุชุฑุงุถู) ุฃู vmfsRawDeviceMap ู vmfsPassthroughRawDeviceMap (ูู ุญุงูุฉ RDM). <br></td></tr><tr><td>  isNativeSnapshot <br></td><td>  ูุชู ูุถุน ุนูุงูุฉ ุนูู ุงูููุทุฉ ุงูุชู ุณูุชู ุชูููุฐูุง: VMkernel ุฃู ูุณููุฉ ุงูุชุฎุฒูู (VAAI). <br></td><td>  ูุง (VMkernel) ุ <br>  ูุนู (VAAI) <br></td></tr><tr><td>  ุงููุทุงูุงุช (# ูุตู ุงููุทุงู) <br></td><td><br></td><td>  ูุญุชูู ุงููุณู ุนูู ุงููุณุงุฑ ุฅูู ุงููุฑุต ูููุน ุงููุตูู ูุงูุญุฌู.  ูู ุงูุดูู: <br>  &lt;ููุน ุงููุตูู&gt; &lt;ุงูุญุฌู&gt; &lt;ููุน ุงููุฏู&gt; &lt;ุงููุณุงุฑ ุฅูู ููู VMDK ุฃู ุฅูู ุงูุฌูุงุฒ&gt; &lt;offset&gt;. <br></td><td><br></td></tr><tr><td>  ูุตูู <br></td><td>  ููุน ุงููุตูู ุฅูู ุงููุฑุต. <br></td><td>  RW (ูุฑุงุกุฉ / ูุชุงุจุฉ) <br>  ุฑูุงู ุนูุงูู (ูููุฑุงุกุฉ ููุท) <br>  NOACCESS (ุชู ุฑูุถ ุงููุตูู). <br></td></tr><tr><td>  ุญุฌู <br></td><td>  ุญุฌู ุงููุฑุต <br></td><td>  ูุดุงุฑ ุฅูู ุนุฏุฏ ุงููุทุงุนุงุช ุงูููุทููุฉ ูููุฑุต ุงูุธุงูุฑู.  ูุชู ุญุณุงุจูุง ุจูุงุณุทุฉ ุงูุตูุบุฉ: <br>  &lt;ุงูุญุฌู ุจุงูุจุงูุช&gt; / &lt;ุญุฌู ุงููุทุงุน ุงูููุทูู&gt; <br>  ุงูุฑุฃ ุงููุฒูุฏ ุญูู ุญุณุงุจ ููุฏุณุฉ ุงููุฑุต <a href="https://www.vmware.com/app/vmdk/%3Fsrc%3Dvmdk">ููุง</a> . <br></td></tr><tr><td>  ููุน ุงููุฏู <br></td><td>  ุงููุคุดุฑ ุฅูู ูุถุน ุงููุฑุต. <br></td><td>  ูุฏ ุชุฃุฎุฐ ุนูู ุงููููุฉ <br>  FLAT ุ SPARSE ุ ZERO ุ VMFS ุ VMFSSPARSE ุ VMFSRDM ุ VMFSRAW. <br></td></tr><tr><td>  ูุชุตูุญู <br></td><td>  ุงููุณุงุฑ ุฅูู ููู VMDK. <br></td><td><br></td></tr><tr><td>  ุนูุถ <br></td><td>  ูุชู ุงุณุชุฎุฏุงูู ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุญุฏูุฏ ุฅุฒุงุญุฉ ุงูุจุฏุก ูุจูุงูุงุช ูุธุงู ุงูุชุดุบูู ุงูุถูู.  ููุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ ุ ุนุงุฏุฉ ูุง ุชููู 0 (ุฃู ุบูุฑ ูุญุฏุฏุฉ).  ู RDM ูุฏ ูููู ุบูุฑ ุตูุฑู. <br></td><td>  ุงูุฅุฒุงุญุฉ ุจุงูุจุงูุช ูู ุจุฏุงูุฉ ุงููุฑุต ุฅูู ุจุฏุงูุฉ ูุชูุฉ ุงูุจูุงูุงุช. <br></td></tr><tr><td>  ูุงุนุฏุฉ ุจูุงูุงุช ุงููุฑุต (# ูุงุนุฏุฉ ุจูุงูุงุช ุงููุฑุต) <br></td><td><br></td><td>  ูุตู ููุฏุณุฉ ุงููุฑุต ุงูุธุงูุฑู. <br></td><td><br></td></tr><tr><td>  ddb.adapterType <br></td><td>  ููุน ูุญูู SCSI ุงูุธุงูุฑู VM. <br></td><td>  ูุชู ุฏุนู 3 ุฃููุงุน ููุท: <br>  ุจูุฆุฉ ุชุทููุฑ ูุชูุงููุฉุ <br>  buslogicุ <br>  lsilogic. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุชู ุชูููุฒ ุงููุญูู VMware Paravirtual ุฏุงุฆููุง ุนูู ุฃูู lsilogic. <br></td></tr><tr><td>  ddb.geometry.cylinders <br>  ddb.geometry.heads = "255" <br>  ddb.geometry.sectors = "63" <br></td><td>  ุนุฏุฏ ุงูุงุณุทูุงูุงุช ูุงูุฑุคูุณ ูุงููุทุงุนุงุช ููุตู ููุฏุณุฉ ุงููุฑุต ุงูุธุงูุฑู. <br></td><td>  ุชูุงุตูู ุญูู ุญุณุงุจ ููุฏุณุฉ ุงููุฑุต <a href="https://www.vmware.com/app/vmdk/%3Fsrc%3Dvmdk">ููุง</a> . <br></td></tr><tr><td>  ddb.thinProvisioned <br></td><td>  ุนูู ุงููุฑุต ุฑูููุฉ. <br></td><td>  1 - ุงููุฑุต ุฑููู ุ <br>  0 ุฃู ุบุงุฆุจ - ูุฑุต ุณููู <br></td></tr><tr><td>  ddb.uuid <br></td><td>  ูุนุฑู ูุงุตู <br></td><td><br></td></tr><tr><td>  ddb.virtualHWVersion <br></td><td>  ูุณุฎุฉ ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ <br></td><td><br></td></tr></tbody></table></div><br>  ูููู ุงูุนุซูุฑ ุนูู ูุตู ูุฌููุน ุงูููู ูู ููุงุตูุงุช ุงูุชูุณูู: <a href="https://www.vmware.com/app/vmdk/%3Fsrc%3Dvmdk">VMware Virtual Disk Format 1.1</a> <br><br>  <b>VHD.</b>  Thick VHD ูู ููุณ RAW ุ ูููู ูุน ุชุฐููู 512 ุจุงูุช ุ ุงูุฐู ูุตู ููุฏุณุฉ ุงููุฑุต.  ูุง ูุญุชูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ูู Microsoft Hyper-V ุนูู ููู ูุงุตู ูููุตู.  ูุตู ููุฏุณุฉ ุงููุฑุต ูุฃุฎุฐ 4 ุจุงูุช.  ูู ุงููุงูุน ุ ูู ููุง ุงููููุฏ ุงูููุฑูุถุฉ ุนูู ุญุฌู ุงููุฑุต ูู 2 ุชูุฑุงุจุงูุช. <br><br><img src="https://habrastorage.org/webt/r4/_z/04/r4_z04hiog10hoi2l579iyrmd1c.png"><br>  <i>ุชุฐููู ุงูุตูุญุฉ.</i>  <i>512 ุจุงูุช ุงูุฃุฎูุฑุฉ ูู ุงููุฑุต.</i> <br><br>  ุงูุดูุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุฃูู ุฅุฐุง ููุช ุจุฅูุดุงุก ููู ูุงุตู ูุชุณููุช ูุฑุต VHD ูุน ุชุฐููู ุงูุตูุญุฉ ุฅูู ESXi ุ ูุณูุชุฌุงูู ุจุฑูุงูุฌ Hypervisor VMware ูุฐุง ุงูุชุฐููู ูููุจู VHD ุจุงุนุชุจุงุฑู ุฃุตูููุง. <br><br>  ุนูุฏูุง ูุญูู Storage vMotion ูุฑุตูุง ุฅูู ูุญูู ุ ูุฅูู ุจุจุณุงุทุฉ ููุทุน ูุฐู ุงูุชุฐููู ุ ููู ุงูุฎุฑุฌ ูุญุตู ุนูู ููุณ RAW ุจุฏูู ุฃุตูุงุฑ ูู ุงูููุงูุฉ.  ูุนูุฏ ุงูุชุญููู ุฅูู ูุฑุต ุณููู - RAW ุตุงุฏู.  ูุฐุง ูุง ุณุฃุนุฑุถู ูุงุญููุง. <br><br>  <b>VHDX.</b>  ูุชู ุชุฎุฒูู ุฌููุน ูุนูููุงุช ููุฏุณุฉ ุงููุฑุต ูู 4096 ููููุจุงูุช ุงูุฃููู ูู ุงููุฑุต ุงูุธุงูุฑู - ูู ููุทูุฉ ุงูุฑุฃุณ. <br><br><img src="https://habrastorage.org/webt/ox/ym/1r/oxym1rx0yugtthlby1q12svpkhy.png"><br>  <i>ุงููุฎุทุท ุงูุนุงู ูููุฑุต ุงูุณููู VHDX.</i> <br><br>  ูุง ูู ูุซู ูุฐุง ุงููุฌุงูุ  ูุญุชูู ุนูู ูุณุฎุชูู ูู ุงูุฑุคูุณ ูุน ุณุฌูุงุชููุง ุ BAT ูููุทูุฉ ุงูุจูุงูุงุช ุงููุตููุฉ ุดุงุฆุนุฉ. <br><br><img src="https://habrastorage.org/webt/qo/nj/v6/qonjv68pmpjykfcltu2rijdy7mg.png"><br>  <i>ุงูุจููุฉ ุงูููุทููุฉ ูุฑุฃุณ ุงููุฑุต.</i> <br><br>  ูู ูุญุฏุฉ ุฒูููุฉ ุ ุชููู ูุณุฎุฉ ูุงุญุฏุฉ ููุท ูู ุงูุฑุฃุณ ูุดุทุฉ.  ูููุฑ ูุฐุง ูุณุชูู ูุนูู ูู ุงูุชุณุงูุญ ูุน ุงูุฎุทุฃ ูู ุงูุฑุฃุณ ูู ุญุงูุฉ ุญุฏูุซ ุงููุทุงุน ุบูุฑ ูุฎุทุท ูู ูู ุนูููุงุช ุงููุฑุงุกุฉ / ุงููุชุงุจุฉ.  ุจุนุฏ ูู ุนูููุฉ ุฅุฏุฎุงู / ุฅุฎุฑุงุฌ ุ ูุชู ุงููุณุฎ ุงููุชูุงุซู ููุชู ุฅุฌุฑุงุก ุงูุชุจุฏูู ุฅูููุง. <br><br><img src="https://habrastorage.org/webt/co/er/bb/coerbb6uef8wvkb7dsi1kzlcxda.png"><br>  <i>ุชุฎุทูุท ููุทูุฉ ุงูุฑุฃุณ.</i> <br><br>  ูุชุญููู VHDX ุฅูู RAW ุ ูุญุชุงุฌ ููุท ุฅูู ุฎูุถ 4096 ูููู ุจุงูุช ุงูุฃูู. <br><br><img src="https://habrastorage.org/webt/ri/jk/1-/rijk1-iv3jiez0dicdlns3trqpe.png"><br>  <i>ุจุฏุก ุงูุจูุงูุงุช ูู 5 ููุบุงุจุงูุช.</i> <br><br>  ุจุทุจูุนุฉ ุงูุญุงู ุ ุณูููู ุงููุงุฑุฆ ุงูููุธ: ุญุณููุง ุ Zhenya ุ ูููู ูู ุจุชุญููู RAW ุฅูู VHDX ุจุดูู ุถุนููุ  ุงูุฐู ุณุฃุฌูุจ ุนููู: ูุนุชูุฏ ุฐูู ุนูู ูุธุงู ุงููููุงุช ูุนูู ููุฏุงุฑ ูุง ูุณูุญ ูู ุจูุชุงุจุฉ ุงูุจูุงูุงุช ุฅูู ุจุฏุงูุฉ ุงูููู.  ูุฏููุงู ุนูู ูุธุงู ูููุงุช NTFS ุ ูููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ุชุญููู ุจุฏุงูุฉ ุงูููู 4 ููุบุงุจุงูุช ููุฃูุงู ูู MFT ูุฅูุญุงู ุงูุฑุฃุณ ุฅูู ูุฐุง ุงูููุงู. <br><br>  ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <a href="https://www.systola.ru/support/kb100005/">vhdxtool.exe</a> ุชุนูู ุนูู ููุณ ุงููุจุฏุฃ <a href="https://www.systola.ru/support/kb100005/">.</a>  ููุน ุฐูู ุ ูุน ูุฐุง ุงูุชุญููู ุ ูู ูุญุตู ุนูู ุตูุฑุฉ ุฌูููุฉ ูู ุดูู ุฑุฃุณ 4 ููุบุงุจุงูุช ู RAW.  ุณูููู ุงููุฑุต ูุฑุฆููุง ูุณูุนูู ุจุดูู ุตุญูุญ ูู VHDX ุ ูููู ุณูููู ููุงู ุฃูุถูุง ุงููุซูุฑ ูู "ุงูููุงูุฉ" ูู ุงูุฃุตูุงุฑ ุงูุชู ุธูุฑุช ุจุณุจุจ ุงูุชูุงุนุจ ูุน ุงูุฅุฒุงุญุฉ.  ูู ูููู ูุญุฑู ุงูุฃูุฑุงุต ุงูุฃูุซู.  ููุตู ุจุชุฑุญูู VMs ุงููุฒูุฏุฉ ุจูุซู ูุฐุง ุงููุฑุต ุฅูู ูุญุฏุฉ ุชุฎุฒูู ุฃุฎุฑู ุฃู ุชุญุณูููุง ูู ุฎูุงู ุฃุณุทูุงูุงุช cmdlets Convert-VHD ุฃู Optimize-VHD.  ุฅุฐุง ูู ูุชู ุฐูู ุ ูุณูุดุบู ุงููุฑุต ูุณุงุญุฉ ุฃูุจุฑ ููุง ููุจุบู ุ ููุฏ ูุนูู ุจุจุทุก ุฃูุซุฑ. <br><br>  ููุน ุฐูู ุ ูู ุณููุงุฑูููุงุช ุงูุชุฑุญูู ูู VMware ุฅูู Hyper-V ุ ูุง ุบูู ุนู ูุฐู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุ ูุฃููุง ุชุชูุญ ุงูุชุญููู ุงูููุถุนู ุฏูู ุงูุญุงุฌุฉ ุฅูู ุจุงูุช ููุฑุงุกุฉ ุงููุฑุต ุงููุตุฏุฑ ูุฅูุดุงุก ูุณุฎุฉ ูุฑูุจุฉ.  ุณูุชู ุชุฎููู ูู ุงูุฎุดููุฉ ูู ุงูุชุฎุฒูู ุงูุชุฎุฒููู ุงููุจุงุดุฑ ุงูุฃูู. <br><br>  <b>ุงูุฎูุงุตุฉ:</b> ุงูุฃูุฑุงุต ุงูุณูููุฉ ุจุชูุณููุงุช VMDK ู VHD ู VHDX ูุง ุชุฎุชูู ูุซูุฑูุง ุนู ุจุนุถูุง ุงูุจุนุถ.  ูุชุณุชูุฏ ุนูู RAW ูุน ุฅุถุงูุงุช ูุฎุชููุฉ.  ุจุงุณุชุฎุฏุงู ููุณ ูุญุฑุฑ HEX ุฃู ูุธุงุฆู ูุธุงู ุงูุชุดุบูู ููุนูู ูุน ูุธุงู ุงููููุงุช ุ ูููููุง ุชุญููู 10 Tb VMDK ุฃู VHDX ุฅูู ุงููุฑุต hypervisor ุงููุฏู ูู ุจุถุน ุซูุงู. <br><br>  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ููููุฉ ุชุนุงูู VMware Exsi ูุน VHD. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ููุช ุจุฅูุดุงุก ุตูุฑุฉ Windows Server ุจุงุณุชุฎุฏุงู <a href="">Convert-WindowsImage</a> ูุน ุญูู ุจุฑุงูุฌ VMware ูุงููุนููุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุตุฏุงุฑ ูุธุงู ุงูุชุดุบูู: Windows Server 2019 Standardุ </li><li style=";text-align:right;direction:rtl">  ููุน ุงููุฑุต: ุซุงุจุช ุ </li><li style=";text-align:right;direction:rtl">  ุชุฎุทูุท ุงููุฑุต: GPT ุ </li><li style=";text-align:right;direction:rtl">  ุญุฌู ุงููุฑุต: 30GB. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/7dd/463/979/7dd463979b824631f72dc3e07d821d87.png"><br>  <i>ุงูุชุจู ุฅูู ุงููุนููุงุช FileSize (ุงูุญุฌู ุงููุนูู ููููู) ูุงูุญุฌู (ุญุฌู ุงููุฑุต ูู ุญูุซ VM).</i>  <i>ุงููุฑู ุจูู ุงูููู ูู ุจุงูุถุจุท 512 ุจุงูุช - ุญุฌู ุชุฐููู VHD.</i> </li><li style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ ุชุณููุฉ ูุญุฑู ุงูุฃูุฑุงุต ุฅูู Win2019-test2-flat.vmdk ูุชุญูููู ุนูู ESXi Datastore. <br><img src="https://habrastorage.org/getpro/habr/post_images/201/209/3e7/2012093e774ea467727395d88ca66dd6.png"></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุฃููู ุจุฅูุดุงุก VM ูุงุฑุบ ูู VMware ESXi ุจุงุณุชุฎุฏุงู ูุฑุต ุณููู (Eager Zeroed) ุจุญูุซ ูุชู ุฅูุดุงุก ูุงุตู VMDK ุชููุงุฆููุง ููุง ููุฒู ุญุณุงุจ ุงูุฃุณุทูุงูุงุช ูุฏูููุง. <br><br><img src="https://habrastorage.org/webt/_o/7h/3r/_o7h3r7hzjarnxzu2ulhshxmcxw.png"></li><li style=";text-align:right;direction:rtl">  ูุญู ูุชุตู ุจุงููุถูู ุนุจุฑ WinSCP ููุณุชุจุฏู ุงูููู ุงูููุฌูุฏ: <br><img src="https://habrastorage.org/webt/jg/i9/hh/jgi9hh7y3kf2baf6nc6dpty-vci.png"><br>  <i>ูู ุดูุก ุนุงุฏู: ุชุฐููู ุงูุตูุญุฉ ูู ููุงูู.</i> </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุฌูุงุฒ VM ูุดุงูุฏ ุฃู ูุธุงู ุงูุชุดุบูู ูููู ุจุงูุชูููุฏ ุฏูู ุฃู ูุดุงูู.  ูุจูู ููุท ุชุซุจูุช ุฃุฏูุงุช VMware ุ ูุงูุชู ุณุชููู ุจุณูุทุฉ ุ ูุฃู Convert-WindowsImage ูุณูุญ ููุง ุจุชุซุจูุช ุจุฑุงูุฌ ุชุดุบูู ุงูุฃุฌูุฒุฉ. <br><br><img src="https://habrastorage.org/webt/hh/td/0b/hhtd0bx6ca4fzhkr_qjl8z1oizq.png"></li><li style=";text-align:right;direction:rtl">  ุงููู ุงููุฑุต ุฅูู Datastore ุขุฎุฑ ุนุจุฑ Storage vMotion ููู ุจุชุญูููู ุฅูู ูุฑุต ุฑููุน. <br><br><img src="https://habrastorage.org/webt/-x/2w/li/-x2wli_oyqrl9qdy4sabgb2ilpg.png"></li><li style=";text-align:right;direction:rtl">  ุงูุชุญูู ูู ุญุฌู - ุฃุตุจุญ ุงููุฑุต ุฑูููุฉ. <br><br><img src="https://habrastorage.org/webt/_b/m2/vh/_bm2vhobiqdotr59i_t1xbu903c.png"></li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูููุง ุจุงูุชุญููู ุฅูู ูุฑุต ุณููู ุฃู ูููุง ุจุชุฑุญูู VM ุฅูู ุชุฎุฒูู ุงููููุงุช ุ ูุณูุญุตู ุนูู ุฃููู RAW ุจุฏูู ุฑุคูุณ. <br><br><img src="https://habrastorage.org/webt/s6/p4/es/s6p4esa78nxqqwuramt6xyrr7fi.png"><br>  <i>ูุทุนุช ุชุฐููู ุงูุตูุญุฉ.</i> </li></ol><br>  ูุนูู ููุณ ุงูุชุฑููุฒ ุนูู RAWs ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุฎูุงู dd.  ูุญุชู ูู ุงูุงุชุฌุงู ุงููุนุงูุณ.  ุจูุฐู ุงูุทุฑููุฉ ุชุฑู ุฃู VMware ESXi ููุจู ุชุฐููู ุงูุทุฑู ุงูุซุงูุซ ุฃู ุฃูุฑุงุต RAW. <br><br>  ุฅุฐุง ููุช ูุง ุชุฑูุฏ ุงูุญูู ุ ูููููู ุงุณุชุฎุฏุงู ุงูุฃุฏูุงุช ุฃุฏูุงู. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ุชูุณูู ุงููุตุฏุฑ</b> <br></td><td>  <b>ุดูู ุงููุฏู</b> <br></td><td>  <b>ุงูุฃุฏูุงุช</b> <br></td><td>  <b>ูุซุงู ุงูููุงุฏุฉ</b> <br></td></tr><tr><td>  VHD <br></td><td>  VHDX <br></td><td>  vhdxtool.exe <br></td><td>  vhdxtool ุงูุชุฑููุฉ -f &lt;ุงุณู ุงูููู&gt; .vhd <br></td></tr><tr><td>  VMDK (RAW) <br></td><td>  VHD <br></td><td>  vhdtool.exe <br></td><td>  vhdtool / ุชุญููู &lt;ุงุณู ุงูููู ูุณุทุญ&gt; .vmdk <br></td></tr><tr><td>  VMDK (RAW) <br></td><td>  VHDX <br></td><td>  vhdtool.exe <br>  vhdxtool.exe <br></td><td>  vhdtool / ุชุญููู &lt;ุงุณู ุงูููู ูุณุทุญ&gt; .vmdk <br><br></td></tr><tr><td>  VHDX (ุงูุฎุงู) <br></td><td>  VHDX <br></td><td></td><td>  vhdxtool ุงูุชุฑููุฉ -f &lt;ุงุณู ุงูููู&gt; .vhd <br></td></tr></tbody></table></div><br>  <b>ูุชูุฎูุต.</b>  ุงูุชูุณููุงุช ุงููุฎุชููุฉ ููุฃูุฑุงุต ุงูุธุงูุฑูุฉ ุงููุซููุฉ ูุง ุชุฎุชูู ูุซูุฑูุง.  ูู ููุจ ุฌููุน RAW ูุน ูุฎุชูู "ุฅุถุงูุงุช". <br><br>  ุฅู ุชุญููู ุชูุณููุงุช ุงููุฑุต ุงูุธุงูุฑู ููุณ ูุฎูููุง ุ ูููุง ุฃุธูุฑุช ุ ููููู ุฃุญูุงููุง ุงูุงุณุชุบูุงุก ุนูู. <br><br>  ุงูุฑุจุญ ุงูุฑุฆูุณู ูู ูู ูุฐุง ูู ุชูููู ููุช ุงูุชุฑุญูู ูู Hyper-V ุฅูู VMware ูุงูุนูุณ ุจุงูุนูุณ ู VM ุฃุซูุงุก ุงูุชููู.  ูู DataLine ุ ููุงุฑุณ ูุฐุง ูุน ููุช ุชุนุทู VM ููุฏุฉ ุชูู ุนู 30 ุฏูููุฉ.  ุงูุณุฌู ูู 40 ุซุงููุฉ ูู ุชุนุทู VM ุฃุซูุงุก ุงูุชุฑุญูู ุจูู ุจุฑุงูุฌ Hypervisor. <br><br>  ููุท ุชุฐูุฑ ุฃูู ุนูุฏ ุงูุชุฑุญูู ุจูู ุจุฑุงูุฌ Hypervisor ูุฎุชููุฉ ุ ูุฅู ุงูุชุญููู ุงููุงุญุฏ ูุง ูููู.  ูุญุฏ ุฃุฏูู ุ ูุฌุจ ุฃููุงู ุชุซุจูุช ููููุงุช ุชูุงูู ุจุฑูุงูุฌ Hypervisor ุงููุฏู ุ ูุฅุฒุงูุฉ ุฃู ุชุนุทูู ุชุดุบูู ููููุงุช ุจุฑูุงูุฌ hypervisor ุงููุตุฏุฑ ุ ูุฅุฒุงูุฉ ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ูุจุฑูุงูุฌ hypervisor ุงููุตุฏุฑ ุ ุฅูุฎ.  ููู ูุฐู ูุตุฉ ูุฎุชููุฉ ุชูุงููุง ุ ููููููู ุฃูุถูุง ุณุฑุฏูุง. <br><br>  <b>ุฑูุงุจุท ูููุฏุฉ:</b> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/company/acelab/blog/262517/">habr.com/ru/company/acelab/blog/262517</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://www.vmware.com/app/vmdk/%3Fsrc%3Dvmdk">www.vmware.com/app/vmdk/ุsrc=vmdk</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://faq.sanbarrow.com/index.php%3Faction%3Dartikel%26cat%3D43%26id%3D36%26artlang%3Den">faq.sanbarrow.com/index.phpุaction=artikel&amp;cat=43&amp;id=36&amp;artlang=en</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://download.microsoft.com/download/f/f/e/ffef50a5-07dd-4cf8-aaa3-442c0673a029/Virtual%2520Hard%2520Disk%2520Format%2520Spec_10_18_06.doc">download.microsoft.com/download/f/f/e/ffef50a5-07dd-4cf8-aaa3-442c0673a029/Virtualูช20Hardูช20Diskูช20Formatูช20Spec_10_18_06.doc</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-vhdx/83e061f8-f6e2-4de1-91bd-5d518a43d477">docs.microsoft.com/en-us/openspecs/windows_protocols/ms-vhdx/83e061f8-f6e2-4de1-91bd-5d518a43d477</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar479894/">https://habr.com/ru/post/ar479894/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar479884/index.html">ุนุฑู CI / CD ูููุญุฏุฉ</a></li>
<li><a href="../ar479886/index.html">ุงูุงุณุชูุงุน ุจุฏูุงู ูู ุงูุฑุคูุฉ: ุฅุนุงุฏุฉ ุชูููู ุงูุฎูุงูุง ุงูุนุตุจูุฉ ูู ุงูุฏูุงุบ ูุชุชููู ูุน ุงูุธูุงู</a></li>
<li><a href="../ar479888/index.html">ุถุบุท ุนุงูู ุงูุณุฑุนุฉ ูุฑู (ุชุงุจุน)</a></li>
<li><a href="../ar479890/index.html">ูุดุงูู ูููุงู ุชูููุฐ ููููู ุฅูุชุฑูุช ุงูุฃุดูุงุก</a></li>
<li><a href="../ar479892/index.html">ุญูู ุงูุฅุถุงูุงุช Gradle ุ multithreading ูู ุงูุฃูุธูุฉ ุงูููุฒุนุฉ ูุฃุชูุชุฉ ุงููุฑุงูุจุฉ: ููุฏูู ูู Yandex.Money metap</a></li>
<li><a href="../ar479896/index.html">ุงูุณุจุช: ุฃููุงุฑ ูุจุฑูุฌ ุญูู ุงูุงูุชุตุงุฏ ุ ูุงุฑูุณ ุ ููููู ูุฑุฃุณ ุงููุงู</a></li>
<li><a href="../ar479898/index.html">ุงูุญูููุฉ ุงููุฌุฑุฏุฉ</a></li>
<li><a href="../ar479900/index.html">ุจุญูุฑุฉ ุงูุจูุงูุงุช ุงูููุฌูุฉ ูุญู ุงูุนููุงุก ูู ุดุฑูุฉ ุฃูุนุงุจ</a></li>
<li><a href="../ar479902/index.html">IntelliJ IDEA 2019.3: ุชุญุณูู ุงูุฃุฏุงุก ูุชุญุณูู ุงูุฌูุฏุฉ</a></li>
<li><a href="../ar479904/index.html">ูุง ูู NFC ูููู ูุนูู. ุชุญุฏูุซ ุงูุฃุณุงุณูุงุชุ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>