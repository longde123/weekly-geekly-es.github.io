<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèæ üëêüèæ üôèüèæ Utilisation de mixins dans Dart üëéüèø ü§∞üèº üê´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Plusieurs fois, une question a √©t√© pos√©e par des coll√®gues qu'il n'est pas clair pourquoi les mixins (impuret√©s) dans le langage Dart sont n√©cessaires...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Utilisation de mixins dans Dart</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484206/"><p> Plusieurs fois, une question a √©t√© pos√©e par des coll√®gues qu'il n'est pas clair pourquoi les mixins (impuret√©s) dans le langage Dart sont n√©cessaires.  J'ai d√©cid√© de voir ce qui se trouve sur Internet √† ce sujet.  Au grand dam des articles qui ont pu √™tre trouv√©s, ils parlent principalement de la fa√ßon d'utiliser les impuret√©s, mais ils n'expliquent pas pourquoi ils sont n√©cessaires, auquel cas leur utilisation est plus pr√©f√©rable que l'h√©ritage ordinaire ou la mise en ≈ìuvre d'interfaces.  Cet article est une tentative pour combler cette lacune. </p><a name="habracut"></a><br><p>  Malgr√© le fait qu'il y ait suffisamment d'articles sur Internet sur le sujet des impuret√©s dans Dart et Flutter, ils n'apportent pas de clart√© √† mon avis parce que les exemples donn√©s montrent la m√©canique pure de construction de classes avec des impuret√©s, ce qui est loin d'√™tre raisonnable et ne d√©montre donc pas la port√©e r√©elle de leur application .  En particulier, j'ai rencontr√© <a href="https://habr.com/ru/post/467143/">un</a> tel <a href="https://habr.com/ru/post/467143/">exemple</a> .  Nous avons: </p><br><pre><code class="plaintext hljs">class Animal {} class Dog {} class Cat {}</code> </pre> <br><p>  Et pour une raison quelconque, nous voulions obtenir un animal qui a les propri√©t√©s des chats et des chiens en m√™me temps.  Dans ce cas, nous pouvons le faire: </p><br><pre> <code class="plaintext hljs">class CatDog extends Animal with Cat, Dog {}</code> </pre> <br><p>  Cet exemple comporte au moins deux questions: </p><br><ul><li>  pourquoi avons-nous besoin d'un croisement entre un chat et un chien? </li><li>  Pourquoi un chat et un chien n'h√©ritent-ils pas d' <code>Animal</code> ?  N'est-ce pas des animaux? </li></ul><br><p>  Dans le m√™me temps, pourquoi les impuret√©s sont-elles n√©anmoins n√©cessaires? Cela reste un myst√®re. </p><br><p>  √Ä mon humble avis, afin de comprendre la signification des impuret√©s, il faut commencer l'examen de la question avec la relation de l'h√©ritage.  Le principal point d'h√©ritage dans la POO est qu'une entit√© <em>est une variation d'</em> une autre entit√©.  Par exemple, le <code></code> est une variation de la <code></code> ou le <code></code> est une variation de l' <code></code> .  Et c'est pr√©cis√©ment ce qui devrait √™tre le facteur d√©terminant dans la construction d'une hi√©rarchie de classes. </p><br><p>  Si nous regardons l'h√©ritage d'un point de vue diff√©rent, nous verrons que le <code></code> h√©rite des propri√©t√©s de la <code></code> , et le <code></code> h√©rite des propri√©t√©s de l' <code></code> .  Si vous ne faites pas attention √† la logique, alors, purement techniquement, vous voudrez peut-√™tre h√©riter des propri√©t√©s de plusieurs entit√©s diff√©rentes.  Pour ce faire, certains langages de programmation prennent <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BD%25D0%25B0%25D1%2581%25D0%25BB%25D0%25B5%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">en</a> charge l' <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BD%25D0%25B0%25D1%2581%25D0%25BB%25D0%25B5%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">h√©ritage multiple</a> . </p><br><p>  L'h√©ritage multiple est critiqu√© pour un certain nombre de lacunes (voir <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BD%25D0%25B0%25D1%2581%25D0%25BB%25D0%25B5%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">Wikipedia</a> ), de nombreux langages de programmation n'utilisent donc pas du tout l'h√©ritage multiple, mais utilisent un m√©canisme pour impl√©menter des interfaces et / ou des impuret√©s.  Et, du point de vue de la logique, les constructions r√©sultant de l'h√©ritage multiple ne sont pas faciles √† comprendre. </p><br><p>  Pour comprendre le mat√©riel suivant, il est n√©cessaire de rappeler certains concepts de la logique √©l√©mentaire.  En particulier, les concepts de propri√©t√©s <em>essentielles</em> et <em>non essentielles</em> .  Les propri√©t√©s essentielles des objets sont celles dues √† la pr√©sence desquelles il se r√©f√®re √† une classe particuli√®re d'objets.  Les propri√©t√©s non essentielles d'un objet sont celles dont la pr√©sence, l'absence ou des valeurs sp√©cifiques n'affectent pas l'objet appartenant √† une certaine classe d'objets.  Par exemple, la forme d'un rectangle est une propri√©t√© essentielle de cette figure, car si nous modifions cette forme (supprimons ou ajoutons un c√¥t√© ou modifions les angles), alors le rectangle cessera d'√™tre un rectangle.  Mais si vous redimensionnez le rectangle, il restera toujours un rectangle.  Par cons√©quent, les dimensions sont une propri√©t√© insignifiante. </p><br><p>  La construction d'une hi√©rarchie de classes est g√©n√©ralement bas√©e sur l'ajout de propri√©t√©s <em>essentielles</em> √† la classe parente.  Par exemple </p><br><pre> <code class="plaintext hljs">abstract class Shape { void draw(); } class Rectangle extends Shape { @override void draw() { print('Draw rectangle'); } } class Circle extends Shape { @override void draw() { print('Draw circle'); } }</code> </pre> <br><p>  La base de cette hi√©rarchie est la propri√©t√© essentielle de la forme de la figure. </p><br><p>  Un autre exemple: </p><br><pre> <code class="plaintext hljs">abstract class Widget { void render(); } class Container extends Widget { @override void render() { print('Renders container'); } } class Text extends Widget { @override void render('Render text'); }</code> </pre> <br><p>  Une propri√©t√© essentielle ici est le but du widget. </p><br><p>  Supposons maintenant que nous devions ajouter des propri√©t√©s non essentielles √† nos entit√©s.  Une telle propri√©t√©, par exemple, est la couleur.  Souhaitons maintenant coloriser certaines formes et widgets. </p><br><p>  Pour ce faire, vous pouvez bien s√ªr utiliser l'h√©ritage et impl√©menter d'abord les <code>PaintableWidget</code> <code>PaintableShape</code> et <code>PaintableWidget</code> .  Mais cela n'est pas pratique, car, d'une part, nous devrons dupliquer l'impl√©mentation de la fonctionnalit√© de coloration dans les deux hi√©rarchies, et, d'autre part, pour chaque figure et widget que nous voulons coloriser, nous devrons impl√©menter de nouvelles classes, par exemple, <code>PaintableRect</code> et <code>PaintableContainer</code> . </p><br><p>  Vous pouvez utiliser le m√©canisme pour impl√©menter des interfaces.  Ensuite, nous obtenons quelque chose comme ceci: </p><br><pre> <code class="plaintext hljs">enum Color {red, yellow, green} abstract class Paintable { void paint(Color color); Color get color; } class PaintableRect extends Rectangle implements Paintable { Color _color; @override void paint(Color color) {_color = color;} @override Color get color =&gt; _color; } class PaintableContainer extends Container implements Paintable { Color _color; @override void paint(Color color) {_color = color;} @override Color get color =&gt; _color; }</code> </pre> <br><p>  Comme vous pouvez le voir, ce n'est pas non plus la meilleure solution, car nous devons dupliquer le m√™me code pour chaque entit√© r√©solvable. </p><br><p>  Mais tous ces probl√®mes peuvent √™tre r√©solus si la fonctionnalit√© associ√©e √† une propri√©t√© insignifiante est supprim√©e en tant que m√©lange distinct (mixin): </p><br><pre> <code class="plaintext hljs">enum Color {red, yellow, green} mixin PaintableMixin { Color _color; void paint(Color color) {_color = color;} Color get color =&gt; _color; } class PaintableRect extends Rectangle with PaintableMixin { @override void draw() { print('Draw rectangle with color $color'); } } class PaintableContainer extends Container with PaintableMixin { @override void render() { print('Render container with color $color'); } }</code> </pre> <br><p>  Vous pouvez maintenant l'utiliser: </p><br><pre> <code class="plaintext hljs">main() { PaintableRect() ..paint(Color.red) ..draw(); PaintableContainer() ..paint(Color.yellow) ..render(); }</code> </pre> <br><p>  Pour r√©sumer ce qui pr√©c√®de, on peut d√©terminer de la mani√®re suivante quand il est commode d'utiliser des impuret√©s: s'il existe plusieurs hi√©rarchies diff√©rentes qui doivent ajouter la m√™me fonction qui d√©finit une propri√©t√© non essentielle pour les entit√©s de ces hi√©rarchies.  Ou il peut s'agir d'une seule hi√©rarchie, mais nous avons affaire √† ses diff√©rentes branches.  √Ä titre d'exemple, consid√©rons les widgets du framework Flutter. </p><br><p>  Supposons que nous devions ajouter des fonctionnalit√©s li√©es √† la m√™me propri√©t√© √† certains widgets.  Les widgets dans Flutter sont construits comme suit: </p><br><pre> <code class="plaintext hljs">class MyStatelessWidget extends StatelessWidget {}</code> </pre> <br><p>  ou </p><br><pre> <code class="plaintext hljs">class MyStatefulWidget extends StatefulWidget {}</code> </pre> <br><p>  Pour ajouter une propri√©t√© par h√©ritage, vous devrez impl√©menter au moins deux classes: </p><br><pre> <code class="plaintext hljs">class StatelessWidgetWithProperty extends StatelessWidget {} class StatefulWidgetWithPropery extends StatefulWidget {}</code> </pre> <br><p>  en m√™me temps, comme vous pouvez le voir √† nouveau, vous devez dupliquer la fonctionnalit√© associ√©e √† la propri√©t√© ajout√©e. </p><br><p>  Lors de l'utilisation d'impuret√©s, le probl√®me est r√©solu: </p><br><pre> <code class="plaintext hljs">mixin Property {} class MyStatelessWidget extends StatelessWidget with Propery {} class MyStatefulWidget extends StatefulWidget with Property {}</code> </pre> <br><p>  Pour ceux qui connaissent les mod√®les de conception, l'utilisation d'impuret√©s dans certains cas peut remplacer l'utilisation du mod√®le <a href="https://refactoring.guru/ru/design-patterns/bridge">Bridge</a> . </p><br><p>  En conclusion, il convient de noter que de cette mani√®re, on peut m√©langer la fonctionnalit√© de plusieurs propri√©t√©s diff√©rentes √† la fois dans des combinaisons arbitraires. </p><br><p>  Cet article ne pr√©tend pas d√©finir de mani√®re exhaustive l'utilisation des impuret√©s.  L'esprit curieux du d√©veloppeur sera probablement en mesure de leur trouver de bien plus belles utilisations.  Je serais heureux si ces options d'utilisation des impuret√©s apparaissent dans les commentaires sur cet article. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr484206/">https://habr.com/ru/post/fr484206/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr484196/index.html">Enregistrement du son JS √† partir d'un microphone ou des commentaires vocaux</a></li>
<li><a href="../fr484198/index.html">Revers de la m√©daille: qui a gagn√© et perdu sur la croissance des actions Tesla</a></li>
<li><a href="../fr484200/index.html">Comment fixer des objectifs pour les atteindre</a></li>
<li><a href="../fr484202/index.html">Apprentissage automatique dans l'analyse statique du code source du programme</a></li>
<li><a href="../fr484204/index.html">Le ransomware sans fichier FTCODE vole d√©sormais les comptes</a></li>
<li><a href="../fr484208/index.html">Utilisation de l'apprentissage automatique dans l'analyse statique du code source du programme</a></li>
<li><a href="../fr484212/index.html">Des trucs gratuits pour le karma - l'histoire d'une startup bi√©lorusse qui change le principe de la consommation</a></li>
<li><a href="../fr484214/index.html">Tenseurs dans TensorFlow</a></li>
<li><a href="../fr484216/index.html">Deuxi√®me conf√©rence Zabbix en Russie: inscription et dates importantes</a></li>
<li><a href="../fr484218/index.html">Nous optimisons l'automatisation: comment nous avons acc√©l√©r√© les autotests de 3 √† 4 fois, en pr√©servant les anciens d√©veloppements</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>