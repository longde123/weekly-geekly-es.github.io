<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйЁЯП┐тАНЁЯПл ЁЯЪН ЁЯд╕ЁЯП╛ рдПрд╕рдПрдирдП рд╣реИрдХрдереЙрди 2019 ЁЯРн ЁЯЩМЁЯП╜ тЧ╛я╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдлрд░рд╡рд░реА-рдорд╛рд░реНрдЪ 2019 рдореЗрдВ, SNA рд╣реИрдХрдереЙрди 2019 рд╕реЛрд╢рд▓ рдиреЗрдЯрд╡рд░реНрдХ рдлреАрдб рдХреА рд░реИрдВрдХрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдЖрдпреЛрдЬрд┐рдд рдХреА рдЧрдИ, рдЬрд┐рд╕рдореЗрдВ рд╣рдорд╛рд░реА рдЯреАрдо рдиреЗ рдкрд╣рд▓рд╛ рд╕реНрдерд╛рди рд╣рд╛рд╕рд┐рд▓ рдХрд┐рдпрд╛ред рдЗрд╕ рд▓реЗ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрд╕рдПрдирдП рд╣реИрдХрдереЙрди 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447376/"><p>  рдлрд░рд╡рд░реА-рдорд╛рд░реНрдЪ 2019 рдореЗрдВ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">SNA рд╣реИрдХрдереЙрди 2019</a> рд╕реЛрд╢рд▓ рдиреЗрдЯрд╡рд░реНрдХ рдлреАрдб рдХреА рд░реИрдВрдХрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдЖрдпреЛрдЬрд┐рдд рдХреА рдЧрдИ, рдЬрд┐рд╕рдореЗрдВ рд╣рдорд╛рд░реА рдЯреАрдо рдиреЗ рдкрд╣рд▓рд╛ рд╕реНрдерд╛рди рд╣рд╛рд╕рд┐рд▓ рдХрд┐рдпрд╛ред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХреЗ рд╕рдВрдЧрдарди, рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдЖрдЬрдорд╛рдП рдЧрдП рддрд░реАрдХреЛрдВ рдФрд░ рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рдкрд░ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдХреИрдЯрдмреЙрд╕реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ред </p><br><p><img src="https://habrastorage.org/webt/8b/bd/vv/8bbdvvg9ih5_0h5tdqmx4fho3io.jpeg"></p><a name="habracut"></a><br><p>  <strong>SNA рд╣реИрдХрд╛рдереЙрди</strong> </p><br><p>  рдЗрд╕ рдирд╛рдо рдХреЗ рддрд╣рдд рд╣реИрдХрд╛рдереЙрди рддреАрд╕рд░реА рдмрд╛рд░ рдЖрдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрд╣ рдХреНрд░рдорд╢рдГ рдУрдХреЗрд╡реА рд╕реЛрд╢рд▓ рдиреЗрдЯрд╡рд░реНрдХ рджреНрд╡рд╛рд░рд╛ рдЖрдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХрд╛рд░реНрдп рдФрд░ рдбреЗрдЯрд╛ рд╕реАрдзреЗ рдЗрд╕ рд╕рд╛рдорд╛рдЬрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред <br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ SNA (рд╕реЛрд╢рд▓ рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг) рдХреЛ рд╕рд╛рдорд╛рдЬрд┐рдХ рдЧреНрд░рд╛рдл рдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд░реВрдк рдореЗрдВ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдПрдХ рд╕рд╛рдорд╛рдЬрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдордЭрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><ul><li>  2014 рдореЗрдВ, рдпрд╣ рдХрд╛рд░реНрдп рдЗрд╕ рдкрд╕рдВрдж рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдХрд┐ рдкреЛрд╕реНрдЯ рдХреЛ рд▓рд╛рдн рд╣реЛрдЧрд╛ред </li><li>  2016 рдореЗрдВ, VVZ рдХрд╛ рд▓рдХреНрд╖реНрдп (рд╢рд╛рдпрдж рдЖрдк рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВ), рд╕рд╛рдорд╛рдЬрд┐рдХ рдЧреНрд░рд╛рдл рдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рдХрд░реАрдмред </li><li>  2019 рдореЗрдВ - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдкреЛрд╕реНрдЯ рдкрд╕рдВрдж рдХрд┐рдП рдЬрд╛рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдлрд╝реАрдб рдХреА рд░реИрдВрдХрд┐рдВрдЧред </li></ul><br><p>  рдореИрдВ 2014 рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рдХрд╣ рд╕рдХрддрд╛, рд▓реЗрдХрд┐рди 2016 рдФрд░ 2019 рдореЗрдВ рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рдХреМрд╢рд▓ рдХреА рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереАред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдФрд░ рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рд╕рдВрдпреЛрдЬрди рдерд╛ рдЬрд┐рд╕рдиреЗ рдореБрдЭреЗ рдЗрди рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЖрдХрд░реНрд╖рд┐рдд рдХрд┐рдпрд╛, рдФрд░ рдЗрди рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдЕрдиреБрднрд╡ рдиреЗ рдЬреАрддрдиреЗ рдореЗрдВ рдорджрдж рдХреАред </p><br><p>  <strong>mlbootcamp</strong> </p><br><p>  2019 рдореЗрдВ, рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://mlbootcamp.ru</a> рдХреЗ рдордВрдЪ рдкрд░ рдЖрдпреЛрдЬрд┐рдд рдХреА рдЧрдИ рдереАред </p><br><p>  рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ 7 рдлрд░рд╡рд░реА рд╕реЗ рд╢реБрд░реВ рд╣реБрдИ рдФрд░ рдЗрд╕рдореЗрдВ 3 рдХрд╛рд░реНрдп рд╢рд╛рдорд┐рд▓ рдереЗред  рд╣рд░ рдХреЛрдИ рд╕рд╛рдЗрдЯ рдкрд░ рдкрдВрдЬреАрдХрд░рдг рдХрд░ рд╕рдХрддрд╛ рд╣реИ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрдзрд╛рд░ рд░реЗрдЦрд╛</a> рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдХрдИ рдШрдВрдЯреЛрдВ рддрдХ рдЕрдкрдиреА рдХрд╛рд░ рдЕрдкрд▓реЛрдб рдХрд░ рд╕рдХрддрд╛ рд╣реИред  15 рдорд╛рд░реНрдЪ рдХреЛ рдСрдирд▓рд╛рдЗрди рдЪрд░рдг рдХреЗ рдЕрдВрдд рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рд╢реЛ рдХреЗ рд╢реАрд░реНрд╖ 15 рдХреЛ рдСрдлрд╝рд▓рд╛рдЗрди рдЪрд░рдг рдХреЗ рд▓рд┐рдП Mail.ru рдХрд╛рд░реНрдпрд╛рд▓рдп рдореЗрдВ рдЖрдордВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ 30 рдорд╛рд░реНрдЪ рд╕реЗ 1 рдЕрдкреНрд░реИрд▓ рддрдХ рд╣реБрдЖ рдерд╛ред </p><br><h1 id="zadacha">  рдХрд╛рд░реНрдп </h1><br><p>  рд╕реНрд░реЛрдд рдбреЗрдЯрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ (userId) рдФрд░ рдкреЛрд╕реНрдЯ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ (objectId) рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдХ рдкреЛрд╕реНрдЯ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рдбреЗрдЯрд╛ рдореЗрдВ рдпреВрдЬрд░рдЖрдИрдбреА, рдСрдмреНрдЬреЗрдХреНрдЯрдЖрдИрдб, рдЗрд╕ рдкреЛрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ (рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛) рдФрд░ рдЪрд┐рддреНрд░реЛрдВ рдФрд░ рдЧреНрд░рдВрдереЛрдВ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрдХреЗрддреЛрдВ рдпрд╛ рд▓рд┐рдВрдХ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╢рд╛рдорд┐рд▓ рд╣реИред </p><br><table><thead><tr><th>  userId </th><th>  objectId </th><th>  ownerId </th><th>  рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ </th><th>  рдЫрд╡рд┐рдпреЛрдВ </th></tr></thead><tbody><tr><td>  3555 </td><td>  22 </td><td>  5677 </td><td>  [рдкрд╕рдВрдж рдХрд┐рдпрд╛, рдХреНрд▓рд┐рдХ рдХрд┐рдпрд╛ рдЧрдпрд╛] </td><td>  [Hash1] </td></tr><tr><td>  12842 </td><td>  55 </td><td>  32,144 </td><td>  [рдирд╛рдкрд╕рдВрдж] </td><td>  [рд╣реИрд╢ 2, рд╣реИрд╢ 3] </td></tr><tr><td>  13145 </td><td>  35 </td><td>  5677 </td><td>  [рдХреНрд▓рд┐рдХ рдХрд┐рдпрд╛ рдЧрдпрд╛, рдкреБрдирдГ рд╕рд╛рдЭрд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛] </td><td>  [Hash2] </td></tr></tbody></table><br><p>  рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛ рд╕реЗрдЯ рдореЗрдВ рдПрдХ рд╕рдорд╛рди рд╕рдВрд░рдЪрдирд╛ рд╣реЛрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдлрд╝реАрд▓реНрдб рдЧрд╛рдпрдм рд╣реИред  рдЙрджреНрджреЗрд╢реНрдп рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдПрдХ 'рдкрд╕рдВрдж' рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рдирд╛ рд╣реИред <br>  рд╕рдмрдорд┐рдЯ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдирд┐рдореНрди рд╕рдВрд░рдЪрдирд╛ рд╣реИ: </p><br><table><thead><tr><th>  userId </th><th>  SortedList [objectId] </th></tr></thead><tbody><tr><td>  123 </td><td>  78,13,54,22 </td></tr><tr><td>  128 </td><td>  35,61,55 </td></tr><tr><td>  131 </td><td>  35,68,129,11 </td></tr></tbody></table><br><p>  рдореАрдЯреНрд░рд┐рдХ - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рдФрд╕рдд рдЖрд░рдУрд╕реА рдПрдпреВрд╕реАред </p><br><p>  рдбреЗрдЯрд╛ рдХрд╛ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреВрд░реНрдгрддрд╛ рд╕рд╛рдЗрдЯ</a> рдкрд░ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдк рдкрд░реАрдХреНрд╖рдг рдФрд░ рдЪрд┐рддреНрд░реЛрдВ рд╕рд╣рд┐рдд рдбреЗрдЯрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  <strong>рдСрдирд▓рд╛рдЗрди рдЪрд░рдг</strong> </p><br><p>  рдСрдирд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ, рдХрд╛рд░реНрдп рдХреЛ 3 рднрд╛рдЧреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╣рдпреЛрдЧрд╛рддреНрдордХ рдкреНрд░рдгрд╛рд▓реА</a> - рдЫрд╡рд┐рдпреЛрдВ рдФрд░ рдЧреНрд░рдВрдереЛрдВ рдХреЛ рдЫреЛрдбрд╝рдХрд░ рд╕рднреА рд╕рдВрдХреЗрдд рд╢рд╛рдорд┐рд▓ рд╣реИрдВ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЫрд╡рд┐рдпрд╛рдБ</a> - рдХреЗрд╡рд▓ рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рд╣реИ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреНрд░рдВрдереЛрдВ</a> - рдХреЗрд╡рд▓ рдЧреНрд░рдВрдереЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рд╣реИред </li></ul><br><p>  <strong>рдСрдлрд╝рд▓рд╛рдЗрди рдордВрдЪ</strong> </p><br><p>  рдСрдлрд╝рд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ, рдбреЗрдЯрд╛ рдореЗрдВ рд╕рднреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╢рд╛рдорд┐рд▓ рдереАрдВ, рдЬрдмрдХрд┐ рдкрд╛рда рдФрд░ рдЪрд┐рддреНрд░ рд╡рд┐рд░рд▓ рдереЗред  рдбреЗрдЯрд╛рд╕реЗрдЯ рдореЗрдВ 1.5 рдЧреБрдирд╛ рдЕрдзрд┐рдХ рдкрдВрдХреНрддрд┐рдпрд╛рдБ рдереАрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдХрдИ рдкрд╣рд▓реЗ рд╕реЗ рдереАрдВред </p><br><h1 id="reshenie-zadachi">  рд╕рдорд╕реНрдпрд╛ рд╣рд▓ рдХрд░рдирд╛ </h1><br><p>  рдЬрдм рд╕реЗ рдореИрдВ рдХрд╛рдо рдкрд░ cv рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рдореИрдВрдиреЗ рдЗрд╕ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдореЗрдВ "рдЫрд╡рд┐рдпрд╛рдБ" рдХрд╛рд░реНрдп рдХреЗ рд╕рд╛рде рдЕрдкрдиреА рдпрд╛рддреНрд░рд╛ рд╢реБрд░реВ рдХреАред  рдЬреЛ рдбреЗрдЯрд╛ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рд╡рд╣ userId, objectId, ownerId (рдкреЛрд╕реНрдЯ рдкреЛрд╕реНрдЯ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ), рдкреЛрд╕реНрдЯ рдмрдирд╛рдиреЗ рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдФрд░, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдЗрд╕ рдкреЛрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдЫрд╡рд┐ред <br>  рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдХрдИ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЕрдЧрд▓рд╛ рд╡рд┐рдЪрд╛рд░ рдПрдХ рдХрд▓реНрдкрдирд╛-рдкреВрд░реНрд╡-рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдиреНрдпреВрд░реЙрди рдХреА рджрдВрдбрд╛рддреНрдордХ рдкрд░рдд рдХреЛ рд▓реЗрдирд╛ рдерд╛ рдФрд░ рдЗрди рдПрдореНрдмреЗрдбреЛрдВ рдХреЛ рдмрдврд╝рд╛рд╡рд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рднреЗрдЬрдирд╛ рдерд╛ред </p><br><p><img src="https://habrastorage.org/webt/g6/pq/id/g6pqidmcs0hqgilcqvmii7qdzz0.png"></p><br><p>  рдкрд░рд┐рдгрд╛рдо рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рдирд╣реАрдВ рдереЗред  рдХрд▓реНрдкрдирд╛рд╢реАрд▓ рдиреНрдпреВрд░реЙрди рд╕реЗ рдПрдВрдмреЗрдбрд┐рдВрдЧ рдЕрдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реИрдВ, рдореИрдВрдиреЗ рд╕реЛрдЪрд╛, рдореБрдЭреЗ рдЕрдкрдиреЗ рдСрдЯреЛ рдПрдирдХреЛрдбрд░ рдХреЛ рджрд░реНрдЬ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/8b/n_/pu/8bn_pui29109tsvwsf_s5sktlgq.png"></p><br><p>  рдЗрд╕рдореЗрдВ рдХрд╛рдлреА рд╕рдордп рд▓рдЧрд╛ рдФрд░ рдкрд░рд┐рдгрд╛рдо рдореЗрдВ рд╕реБрдзрд╛рд░ рдирд╣реАрдВ рд╣реБрдЖред </p><br><p>  <strong>рдлрд╝реАрдЪрд░ рдЬреЗрдирд░реЗрд╢рди</strong> </p><br><p>  рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рдмрд╣реБрдд рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ, рдФрд░ рдореИрдВрдиреЗ рдХреБрдЫ рд╕рд░рд▓ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред <br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рддреБрд░рдВрдд рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдбреЗрдЯрд╛рд╕реЗрдЯ рдореЗрдВ рдХрдИ рд╕реНрдкрд╖реНрдЯ рд╕рдВрдХреЗрдд рд╣реИрдВ, рдФрд░ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдкрд░реЗрд╢рд╛рди рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЕрднреА-рдЕрднреА рдХреИрдЯрдмреЙрд╕реНрдЯ рд▓рд┐рдпрд╛ред  рд╕рдорд╛рдзрд╛рди рдЙрддреНрдХреГрд╖реНрдЯ рдерд╛, рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕реЗрдЯрд┐рдВрдЧ рдХреЗ, рдореИрдВ рддреБрд░рдВрдд рд▓реАрдбрд░рдмреЛрд░реНрдб рдХреА рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ рдореЗрдВ рдкрд╣реБрдВрдЪ рдЧрдпрд╛ред </p><br><p>  рдмрд╣реБрдд рд╕рд╛рд░реЗ рдбреЗрдЯрд╛ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд▓рдХрдбрд╝реА рдХреА рдЫрдд рдХреЗ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рджреЛ рдмрд╛рд░ рд╕реЛрдЪрдиреЗ рдХреЗ рдмрд┐рдирд╛, рдореИрдВрдиреЗ рд╕реНрдХреИрд▓рд╛ рд▓рд┐рдпрд╛ рдФрд░ рдЪрд┐рдВрдЧрд╛рд░реА рдореЗрдВ рд╕рдм рдХреБрдЫ рд▓рд┐рдЦрдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ред </p><br><p>  рд╕рдмрд╕реЗ рд╕рд░рд▓ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ, рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдЫрд╡рд┐ рдПрдореНрдмреЗрдбрд┐рдВрдЧ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд╡реГрджреНрдзрд┐ рджреА: </p><br><ul><li>  рдХрд┐рддрдиреА рдмрд╛рд░ objectId, userId рдФрд░ ownerId рдбреЗрдЯрд╛ рдореЗрдВ рдорд┐рд▓реЗ (рд▓реЛрдХрдкреНрд░рд┐рдпрддрд╛ рдХреЗ рд╕рд╛рде рд╕рд╣рд╕рдВрдмрдВрдз рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП); </li><li>  рдХрд┐рддрдиреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреЛрд╕реНрдЯ рдХреЛ рд╕реНрд╡рд╛рдореА рдиреЗ рджреЗрдЦрд╛ (рд╕рдореВрд╣ рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд░реБрдЪрд┐ рдХреЗ рд╕рд╛рде рд╕рд╣рд╕рдВрдмрдВрдз рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП); </li><li>  рдХрд┐рддрдиреЗ рдЕрдиреВрдареЗ userId рдиреЗ рд╕реНрд╡рд╛рдореА рдХреЗ рдкрджреЛрдВ рдХреЛ рджреЗрдЦрд╛ (рд╕рдореВрд╣ рдХреЗ рджрд░реНрд╢рдХреЛрдВ рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ)ред </li></ul><br><p>  рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рд╕реЗ рдЙрд╕ рджрд┐рди рдХрд╛ рд╕рдордп рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдерд╛ рдЬрд┐рд╕ рдкрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдЯреЗрдк рджреЗрдЦрд╛ (рд╕реБрдмрд╣ / рджрд┐рди / рд╢рд╛рдо / рд░рд╛рдд)ред  рдЗрди рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХреЛ рдорд┐рд▓рд╛рдХрд░, рдЖрдк рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ul><li>  рдХрд┐рддрдиреА рдмрд╛рд░ userId рдиреЗ рд╢рд╛рдо рдХреЛ рд▓реЙрдЧ рдЗрди рдХрд┐рдпрд╛; </li><li>  рдХрд┐рд╕ рд╕рдордп рдпрд╣ рдкреЛрд╕реНрдЯ рдЕрдХреНрд╕рд░ рджрд┐рдЦрд╛рдИ рдЬрд╛рддреА рд╣реИ (рдСрдмреНрдЬреЗрдХреНрдЯрдЖрдИрдб) рдФрд░ рдЗрд╕реА рддрд░рд╣ред </li></ul><br><p>  рдпрд╣ рд╕рдм рдзреАрд░реЗ-рдзреАрд░реЗ рдореАрдЯреНрд░рд┐рдХ рдореЗрдВ рд╕реБрдзрд╛рд░ рд╣реБрдЖред  рд▓реЗрдХрд┐рди рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдбреЗрдЯрд╛рд╕реЗрдЯ рдХрд╛ рдЖрдХрд╛рд░ рд▓рдЧрднрдЧ 20M рд░рд┐рдХреЙрд░реНрдб рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╕реАрдЦрдиреЗ рдХреЛ рдмрд╣реБрдд рдзреАрдорд╛ рдХрд░ рджреЗрддрд╛ рд╣реИред </p><br><p>  рдореИрдВрдиреЗ рдбреЗрдЯрд╛ рдЙрдкрдпреЛрдЧ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ред  рдпрджреНрдпрдкрд┐ рдбреЗрдЯрд╛ рд╕рдордп-рдирд┐рд░реНрднрд░ рд╣реИ, рдореИрдВрдиреЗ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдХреЛрдИ рд╕реНрдкрд╖реНрдЯ рдЬрд╛рдирдХрд╛рд░реА рд▓реАрдХ рдирд╣реАрдВ рджреЗрдЦреА рд╣реИ, рдлрд┐рд░ рднреА, рдмрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдореИрдВрдиреЗ рдЗрд╕ рддрд░рд╣ рд╕реЗ рддреЛрдбрд╝ рджрд┐рдпрд╛: </p><br><p><img src="https://habrastorage.org/webt/jf/zr/gq/jfzrgq7s0l3q465pa-cc0x-rkxq.png"></p><br><p>  рд╣рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рд╕реЗрдЯ (рдлрд░рд╡рд░реА рдФрд░ рдорд╛рд░реНрдЪ рдХреЗ 2 рд╕рдкреНрддрд╛рд╣) 2 рднрд╛рдЧреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br>  рдЖрдЦрд┐рд░реА рдПрди рджрд┐рдиреЛрдВ рдХреЗ рдЖрдВрдХрдбрд╝реЛрдВ рдкрд░ рдЙрдиреНрд╣реЛрдВрдиреЗ рдореЙрдбрд▓ рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ред  рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рдПрдХрддреНрд░реАрдХрд░рдг рдкрд░реАрдХреНрд╖рдг рд╕рд╣рд┐рдд рд╕рднреА рдбреЗрдЯрд╛ рдкрд░ рдмрдирд╛рдП рдЧрдП рдереЗред  рдЙрд╕реА рд╕рдордп, рдбреЗрдЯрд╛ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ рдЬрд┐рд╕ рдкрд░ рд▓рдХреНрд╖реНрдп рдЪрд░ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдПрдиреНрдХреЛрдбрд░ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕рдмрд╕реЗ рд╕рд░рд▓ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдЙрд╕ рдХреЛрдб рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдирдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд░рд╣рд╛ рд╣реИ, рдФрд░ рдмрд╕ рдЗрд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдФрд░ рд▓рдХреНрд╖реНрдп 1 = рд╣реЛрдЧрд╛ред </p><br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдореЗрдВ рд╕рдорд╛рди рд╕реБрд╡рд┐рдзрд╛рдПрдБ рдорд┐рд▓реАрдВ: </p><br><ul><li>  рдХрд┐рддрдиреА рдмрд╛рд░ userId рдиреЗ ownerId рдЧреНрд░реБрдк рдореЗрдВ рдкреЛрд╕реНрдЯ рджреЗрдЦреА рд╣реИ; </li><li>  рдХрд┐рддрдиреА рдмрд╛рд░ userId рдиреЗ рд╕реНрд╡рд╛рдореА рдХреЛ рдкреЛрд╕реНрдЯ рдкрд╕рдВрдж рдХрд┐рдпрд╛; </li><li>  рдЙрди рдкреЛрд╕реНрдЯ рдХрд╛ рдкреНрд░рддрд┐рд╢рдд рдЬреЛ userId рдХреЛ рдкрд╕рдВрдж рд╣реИ </li></ul><br><p>  рдпрд╣реА рд╣реИ, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрдпреЛрдЬрдиреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреА рдУрд░ рд╕реЗ <em>рдФрд╕рдд рд▓рдХреНрд╖реНрдп рдПрдиреНрдХреЛрдбрд┐рдВрдЧ</em> рдирд┐рдХрд▓рд╛ред  рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдХреИрдЯрдмреЙрд╕реНрдЯ рднреА рд▓рдХреНрд╖реНрдп рдПрдиреНрдХреЛрдбрд┐рдВрдЧ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдХреЛрдИ рд▓рд╛рдн рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рд╕рдореВрд╣ рдореЗрдВ рдкреЛрд╕реНрдЯ рдкрд╕рдВрдж рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЕрджреНрд╡рд┐рддреАрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреА рдЧрдгрдирд╛ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЧрдпрд╛ред  рдЙрд╕реА рд╕рдордп, рдореБрдЦреНрдп рд▓рдХреНрд╖реНрдп рд╣рд╛рд╕рд┐рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ - рдореЗрд░реЗ рдбреЗрдЯрд╛рд╕реЗрдЯ рдореЗрдВ рдХрдИ рдмрд╛рд░ рдХрдореА рдЖрдИ, рдФрд░ рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдЬреЗрдирд░реЗрдЯрд┐рдВрдЧ рдлреАрдЪрд░реНрд╕ рдХреЛ рдЬрд╛рд░реА рд░рдЦрд╛ рдЬрд╛рдПред </p><br><p>  рдЬрдмрдХрд┐ рдХреИрдЯрдмреЙрд╕реНрдЯ рдХреЗрд╡рд▓ рдкрд╕рдВрдж рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдПрдиреНрдХреЛрдбрд░реНрд╕ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдлреАрдбрдмреИрдХ рдореЗрдВ рдЕрдиреНрдп рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдВ рд╣реИрдВ: рдкреБрдирдГ рд╕рд╛рдЭрд╛, рдирд╛рдкрд╕рдВрдж, рдЕрд╡рд╛рдВрдЫрд┐рдд, рдХреНрд▓рд┐рдХ рдХрд┐рдП рдЧрдП, рдЙрдкреЗрдХреНрд╖рд┐рдд, рдЬреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдореИрдВрдиреЗ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рдореБрдЪреНрдЪрдп рдХреА рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХреА рдФрд░ рдХрдо рдорд╣рддреНрд╡ рдХреЗ рд╕рд╛рде рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓рд╛, рддрд╛рдХрд┐ рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЛ рди рдмрдврд╝рд╛рдпрд╛ рдЬрд╛рдПред </p><br><p>  рдЙрд╕ рд╕рдордп рддрдХ рдореИрдВ рд╡реНрдпрд╛рдкрдХ рдЕрдВрддрд░ рд╕реЗ рдкрд╣рд▓реЗ рд╕реНрдерд╛рди рдкрд░ рдерд╛ред  рдПрдХрдорд╛рддреНрд░ рд╢рд░реНрдорд┐рдВрджрдЧреА рдпрд╣ рдереА рдХрд┐ рдЫрд╡рд┐рдпреЛрдВ рдХрд╛ рдПрдореНрдмреЗрдбрд┐рдВрдЧ рд▓рдЧрднрдЧ рд▓рд╛рдн рдирд╣реАрдВ рджреЗрддрд╛ рдерд╛ред  рд╕рдм рдХреБрдЫ рдХреИрдЯреЛрдмреЛрд╕реНрдЯ рдХреЛ рджреЗрдиреЗ рдХрд╛ рд╡рд┐рдЪрд╛рд░ рдЖрдпрд╛ред  рдХреНрд▓рд╕реНрдЯрд░ рдХреЛрдг рдЪрд┐рддреНрд░ рдФрд░ рдПрдХ рдирдпрд╛ рд╢реНрд░реЗрдгреАрдмрджреНрдз рдЪрд┐рддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред </p><br><p>  рдХреЗрдорд┐рдпрдВрд╕ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдФрд░ рдорд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдпрд╣рд╛рдВ рдХреБрдЫ рдХрдХреНрд╖рд╛рдПрдВ рд╣реИрдВред </p><br><p><img src="https://habrastorage.org/webt/i3/s5/m2/i3s5m2ftpdmvr0m_0dvpau4eggs.png"></p><br><p>  ImageCat рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣рдо рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВ: </p><br><ul><li>  рдирдИ рд╢реНрд░реЗрдгреАрдЧрдд рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ: <br><ul><li>  рдХреНрдпрд╛ ImageCat рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рджреЗрдЦрд╛ userId; </li><li>  рдХреМрди рд╕рд╛ рдЗрдореЗрдЬрдХреИрдЯ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рд╕реНрд╡рд╛рдореА рджреНрд╡рд╛рд░рд╛ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ; </li><li>  рдХреМрди рд╕рд╛ рдЗрдореЗрдЬрдХреИрдЯ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рдкрд╕рдВрдж рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ userId; </li></ul></li><li>  рд╡рд┐рднрд┐рдиреНрди рдХрд╛рдЙрдВрдЯрд░: <br><ul><li>  рдХрд┐рддрдиреЗ рдЕрдиреЛрдЦреЗ рдЗрдореЗрдЬрдХрдЯ рдиреЗ рджреЗрдЦрд╛ userId; </li><li>  рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓рдЧрднрдЧ 15 рд╕рдорд╛рди рд╕реБрд╡рд┐рдзрд╛рдПрдВ рдкреНрд▓рд╕ рд▓рдХреНрд╖реНрдп рдПрдиреНрдХреЛрдбрд┐рдВрдЧ рд╣реИрдВред </li></ul></li></ul><br><p>  <strong>рдЧреНрд░рдВрдереЛрдВ</strong> </p><br><p>  рдЫрд╡рд┐ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдореЗрд░реЗ рдЕрдиреБрдХреВрд▓ рдереЗ рдФрд░ рдореИрдВрдиреЗ рдЦреБрдж рдХреЛ рдЧреНрд░рдВрдереЛрдВ рдореЗрдВ рдЖрдЬрд╝рдорд╛рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред  рдкрд╣рд▓реЗ, рдореИрдВрдиреЗ рдЧреНрд░рдВрдереЛрдВ рдХреЗ рд╕рд╛рде рдЬреНрдпрд╛рджрд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд┐рдпрд╛ рдФрд░, рдореВрд░реНрдЦрддрд╛ рд╕реЗ, рдореИрдВрдиреЗ tf-idf рдФрд░ svd рдкрд░ рдПрдХ рджрд┐рди рдорд╛рд░ рдбрд╛рд▓рд╛ред  рддрдм рдореИрдВрдиреЗ doc2vec рдХреЗ рд╕рд╛рде рдПрдХ рдЖрдзрд╛рд░ рд░реЗрдЦрд╛ рджреЗрдЦреА, рдЬреЛ рдХрд┐ рдореБрдЭреЗ рдмрд╕ рдЬрд░реВрд░рдд рд╣реИред  Doc2vec рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдереЛрдбрд╝рд╛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдореБрдЭреЗ рдЯреЗрдХреНрд╕реНрдЯ рдПрдореНрдмреЗрдбрд┐рдВрдЧ рдкреНрд░рд╛рдкреНрдд рд╣реБрдИред </p><br><p>  рдФрд░ рдлрд┐рд░ рдЙрд╕рдиреЗ рдмрд╕ рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛, рдЬрд┐рд╕рдореЗрдВ рдЙрд╕рдиреЗ рдЫрд╡рд┐ рдХреЛ рдЯреЗрдХреНрд╕реНрдЯ рдПрдореНрдмреЗрдбрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдмрджрд▓ рджрд┐рдпрд╛ред  рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдореБрдЭреЗ рдкрд╛рда рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдореЗрдВ рджреВрд╕рд░рд╛ рд╕реНрдерд╛рди рдорд┐рд▓рд╛ред </p><br><p>  <strong>рд╕рд╣рдпреЛрдЧрд╛рддреНрдордХ рдкреНрд░рдгрд╛рд▓реА</strong> </p><br><p>  рдХреЗрд╡рд▓ рдПрдХ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдереА рдЬрд┐рд╕рдореЗрдВ рдореИрдВрдиреЗ рдЕрднреА рддрдХ "рдЫрдбрд╝реА рдирд╣реАрдВ рд▓реА рдереА", рд▓реЗрдХрд┐рди рд▓реАрдбрд░рдмреЛрд░реНрдб рдкрд░ рдПрдпреВрд╕реА рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдгрдп рд▓реЗрддреЗ рд╣реБрдП, рдЗрд╕ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХрд╛ рдСрдлрд╝рд▓рд╛рдЗрди рдордВрдЪ рдкрд░ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдкреНрд░рднрд╛рд╡ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдерд╛ред <br>  рдореИрдВрдиреЗ рдЙрди рд╕рднреА рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рд▓рд┐рдпрд╛, рдЬреЛ рд╕реНрд░реЛрдд рдбреЗрдЯрд╛ рдореЗрдВ рдереЗ, рд╢реНрд░реЗрдгреАрдмрджреНрдз рд▓реЛрдЧреЛрдВ рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ рдФрд░ рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рдПрдЧреНрд░реАрдЧреЗрдЯреНрд╕ рдХреА рдЧрдгрдирд╛ рдХреА, рдЫрд╡рд┐рдпреЛрдВ рд╕реЗ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдЫреЛрдбрд╝рдХрд░ред  рдмрд╕ рдЗрд╕реЗ рдХреИрдЯрдмреЙрд╕реНрдЯ рдореЗрдВ рдбрд╛рд▓рдХрд░, рдореИрдВ 2 рд╡реЗрдВ рд╕реНрдерд╛рди рдкрд░ рдкрд╣реБрдВрдЪ рдЧрдпрд╛ред </p><br><h1 id="pervye-shagi-optimizacii-catboost">  рдХреИрдЯреЛрдмреЛрд╕реНрдЯ рдХреЗ рдЕрдиреБрдХреВрд▓рди рдХреЗ рд▓рд┐рдП рдкрд╣рд▓рд╛ рдХрджрдо </h1><br><p>  рдПрдХ рдкрд╣рд▓реЗ рдФрд░ рджреЛ рджреВрд╕рд░реЗ рд╕реНрдерд╛рдиреЛрдВ рдиреЗ рдореБрдЭреЗ рдкреНрд░рд╕рдиреНрди рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдПрдХ рд╕рдордЭ рдпрд╣ рдереА рдХрд┐ рдореИрдВрдиреЗ рдХреБрдЫ рд╡рд┐рд╢реЗрд╖ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╣рдо рд╕реНрдерд┐рддрд┐ рдХреА рд╣рд╛рдирд┐ рдХреА рдЙрдореНрдореАрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдХрд╛рд░реНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдврд╛рдВрдЪреЗ рдХреЗ рднреАрддрд░ рдкрджреЛрдВ рдХреЛ рд░реИрдВрдХ рдХрд░рдирд╛ рд╣реИ, рдФрд░ рдЗрд╕ рдмрд╛рд░ рдореИрдВ рд╡рд░реНрдЧреАрдХрд░рдг рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рдЕрд░реНрдерд╛рдд, рдореИрдВрдиреЗ рдЧрд▓рдд рдореАрдЯреНрд░рд┐рдХ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рд╣реИред </p><br><p>  рдореИрдВ рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рджреВрдВрдЧрд╛: </p><br><table><thead><tr><th>  userId </th><th>  objectId </th><th>  рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА </th><th>  рдЬрдореАрдиреА рд╕рдЪреНрдЪрд╛рдИ </th></tr></thead><tbody><tr><td>  1 </td><td>  10 </td><td>  0.9 </td><td>  1 </td></tr><tr><td>  1 </td><td>  11 </td><td>  0.8 </td><td>  1 </td></tr><tr><td>  1 </td><td>  12 </td><td>  0.7 </td><td>  1 </td></tr><tr><td>  1 </td><td>  13 </td><td>  0.6 </td><td>  1 </td></tr><tr><td>  1 </td><td>  14 </td><td>  0.5 </td><td>  0 </td></tr><tr><td>  2 </td><td>  15 </td><td>  0.4 </td><td>  0 </td></tr><tr><td>  2 </td><td>  16 </td><td>  0.3 </td><td>  1 </td></tr></tbody></table><br><p>  рд╣рдо рдПрдХ рдЫреЛрдЯреЗ рдХреНрд░рдордкрд░рд┐рд╡рд░реНрддрди рдХрд░рддреЗ рд╣реИрдВ </p><br><table><thead><tr><th>  userId </th><th>  objectId </th><th>  рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА </th><th>  рдЬрдореАрдиреА рд╕рдЪреНрдЪрд╛рдИ </th></tr></thead><tbody><tr><td>  1 </td><td>  10 </td><td>  0.9 </td><td>  1 </td></tr><tr><td>  1 </td><td>  11 </td><td>  0.8 </td><td>  1 </td></tr><tr><td>  1 </td><td>  12 </td><td>  0.7 </td><td>  1 </td></tr><tr><td>  1 </td><td>  13 </td><td>  0.6 </td><td>  0 </td></tr><tr><td>  2 </td><td>  16 </td><td>  0.5 </td><td>  1 </td></tr><tr><td>  2 </td><td>  15 </td><td>  0.4 </td><td>  0 </td></tr><tr><td>  1 </td><td>  14 </td><td>  0.3 </td><td>  1 </td></tr></tbody></table><br><p>  рд╣рдореЗрдВ рдирд┐рдореНрди рдкрд░рд┐рдгрд╛рдо рдорд┐рд▓рддреЗ рд╣реИрдВ: </p><br><table><thead><tr><th>  рдЖрджрд░реНрд╢ </th><th>  рдПрдпреВрд╕реА </th><th>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ 1 рдП.рдпреВ.рд╕реА. </th><th>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ 2 рдПрдпреВрд╕реА </th><th>  рдорддрд▓рдм рдПрдпреВрд╕реА </th></tr></thead><tbody><tr><td>  рд╡рд┐рдХрд▓реНрдк 1 </td><td>  0.8 </td><td>  1.0 </td><td>  0.0 </td><td>  0.5 </td></tr><tr><td>  рд╡рд┐рдХрд▓реНрдк 2 </td><td>  0.7 </td><td>  0.75 </td><td>  1.0 </td><td>  0875 </td></tr></tbody></table><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╕рдордЧреНрд░ рдПрдпреВрд╕реА рдореАрдЯреНрд░рд┐рдХ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд╛ рдорддрд▓рдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рднреАрддрд░ рдФрд╕рдд рдПрдпреВрд╕реА рдореАрдЯреНрд░рд┐рдХ рдореЗрдВ рд╕реБрдзрд╛рд░ рдирд╣реАрдВ рд╣реИред </p><br><p>  рдХреИрдЯрдмреЙрд╕реНрдЯ рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░реИрдВрдХрд┐рдВрдЧ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░ рд╕рдХрддрд╛ рд╣реИ</a> ред  рдореИрдВ рдХреИрдЯрдмреЙрд╕реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рд░реИрдВрдХрд┐рдВрдЧ рдореЗрдЯреНрд░рд┐рдХреНрд╕, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдлрд▓рддрд╛ рдХреА рдХрд╣рд╛рдирд┐рдпреЛрдВ рдХреЗ</a> рдмрд╛рд░реЗ рдореЗрдВ рдкрдврд╝рддрд╛ рд╣реВрдВ рдФрд░ рд░рд╛рдд рдХреЗ рд▓рд┐рдП рдЕрдзреНрдпрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрддрд┐рд░реИрдВрдХрдкреЗрдпрд░рд╡рд╛рдЗрдЬ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реВрдВред  рдкрд░рд┐рдгрд╛рдо рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рдирд╣реАрдВ рдерд╛ред  рдпрд╣ рддрдп рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдХрд┐ рдореИрдВрдиреЗ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдирд╣реАрдВ рд╕реАрдЦрд╛ рд╣реИ, рдореИрдВрдиреЗ рддреНрд░реБрдЯрд┐ рдлрд╝рдВрдХреНрд╢рди рдХреЛ QueryRMSE рдореЗрдВ рдмрджрд▓ рджрд┐рдпрд╛, рдЬреЛ рдХрд┐ рдХреИрдЯрдмреЙрд╕реНрдЯ рдХреЗ рдкреНрд░рд▓реЗрдЦрди рджреНрд╡рд╛рд░рд╛ рджреЗрдЦрддреЗ рд╣реБрдП, рддреЗрдЬреА рд╕реЗ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рд╣реЛрддрд╛ рд╣реИред  рдирддреАрдЬрддрди, рдореБрдЭреЗ рд╡рд░реНрдЧреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рджреМрд░рд╛рди рд╕рдорд╛рди рдкрд░рд┐рдгрд╛рдо рдорд┐рд▓реЗ, рд▓реЗрдХрд┐рди рдЗрди рджреЛ рдореЙрдбрд▓реЛрдВ рдХреЗ рдкрд╣рдирд╛рд╡рд╛рдУрдВ рдиреЗ рдЕрдЪреНрдЫреА рд╡реГрджреНрдзрд┐ рджреА, рдЬрд┐рд╕рд╕реЗ рдореБрдЭреЗ рд╕рднреА рддреАрди рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛рдУрдВ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реНрдерд╛рди рдкрд░ рд▓рд╛рдпрд╛ рдЧрдпрд╛ред </p><br><p>  рд╕рд╣рдпреЛрдЧрд╛рддреНрдордХ рдкреНрд░рдгрд╛рд▓реА рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдореЗрдВ рдСрдирд▓рд╛рдЗрди рдЪрд░рдг рдХреЗ рд╕рдорд╛рдкрди рд╕реЗ 5 рдорд┐рдирдЯ рдкрд╣рд▓реЗ, рд╕реЗрд░реНрдЧреЗрдИ рд╢рд▓реНрдиреЛрд╡ рдореБрдЭреЗ рджреВрд╕рд░реЗ рд╕реНрдерд╛рди рдкрд░ рд▓реЗ рдЧрдпрд╛ред  рдЖрдЧреЗ рдХрд╛ рд░рд╛рд╕реНрддрд╛ рд╣рдо рд╕рд╛рде рд╕рд╛рде рдЧрдПред </p><br><h1 id="podgotovka-k-oflayn-etapu">  рдСрдлрд╝рд▓рд╛рдЗрди рдЪрд░рдг рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░реА рдХрд░ рд░рд╣рд╛ рд╣реИ </h1><br><p>  рдСрдирд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ рдЬреАрдд рд╣рдореЗрдВ RTX 2080 TI рд╡реАрдбрд┐рдпреЛ рдХрд╛рд░реНрдб рдХреА рдЧрд╛рд░рдВрдЯреА рдереА, рд▓реЗрдХрд┐рди 300,000 рд░реВрдмрд▓ рдХреЗ рдореБрдЦреНрдп рдкреБрд░рд╕реНрдХрд╛рд░ рдФрд░, рдмрд▓реНрдХрд┐, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдВрддрд┐рдо рдкреНрд░рдердо рд╕реНрдерд╛рди рдиреЗ рд╣рдореЗрдВ рдЗрди 2 рд╣рдлреНрддреЛрдВ рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд┐рдпрд╛ред </p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдирд┐рдХрд▓рд╛, рд╕рд░реНрдЧреЗрдИ рдиреЗ рдХреИрдЯрдмреЙрд╕реНрдЯ рдХрд╛ рднреА рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ред  рд╣рдордиреЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рдФрд░ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛, рдФрд░ рдореБрдЭреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдиреНрдирд╛ рд╡реЗрд░реЛрдирд┐рдХрд╛ рдбреЛрд░реЛрдЧреБрд╢</a> рдХреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░рд┐рдкреЛрд░реНрдЯ рдХреЗ</a> рдмрд╛рд░реЗ рдореЗрдВ рдкрддрд╛ рдЪрд▓рд╛, рдЬрд┐рд╕рдореЗрдВ рдореЗрд░реЗ рдХрдИ рд╕рд╡рд╛рд▓реЛрдВ рдХреЗ рдЬрд╡рд╛рдм рдереЗ, рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ рдореБрдЭреЗ рдЕрднреА рддрдХ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджрд┐рдП рдереЗред </p><br><p>  рд░рд┐рдкреЛрд░реНрдЯ рджреЗрдЦрдиреЗ рд╕реЗ рдореБрдЭреЗ рдЗрд╕ рд╡рд┐рдЪрд╛рд░ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝рд╛ рдХрд┐ рд╣рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдХреЗ рд▓рд┐рдП рд╕рднреА рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ, рдФрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдмрд╣реБрдд рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рдФрд░ рдХреЗрд╡рд▓ рд╕рдВрдХреЗрддреЛрдВ рдХреЗ рдПрдХ рд╕реЗрдЯ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рдмрд╛рджред  рдЕрдм, рдПрдХ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдореЗрдВ рд▓рдЧрднрдЧ 15 рдШрдВрдЯреЗ рд▓рдЧ рдЧрдП, рд▓реЗрдХрд┐рди рдПрдХ рдореЙрдбрд▓ рдиреЗ рд░реИрдВрдХрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдкрд╣рдирд╛рд╡рд╛ рдореЗрдВ рдЧрддрд┐ рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдмреА рд╣рд╛рд╕рд┐рд▓ рдХреАред </p><br><p>  <strong>рдлрд╝реАрдЪрд░ рдЬреЗрдирд░реЗрд╢рди</strong> </p><br><p>  "рд╕рд╣рдпреЛрдЧрд╛рддреНрдордХ рдкреНрд░рдгрд╛рд▓реА" рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдореЗрдВ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдореЙрдбрд▓ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <em>audweights_spark_svd</em> рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреЛрдИ рдЬрд╛рдирдХрд╛рд░реА рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдЕрд░реНрде рд╣реИред  рдореБрдЭреЗ рд▓рдЧрд╛ рдХрд┐ рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдВрдХреЗрддреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдЗрдХрд╛рдЗрдпреЛрдВ рдХреА рдЧрд┐рдирддреА рдХреЗ рд▓рд╛рдпрдХ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдФрд╕рдд рдСрдбрд┐рдЯрд╡реЗрдЯреНрд╕_рд╕реНрдкрд╛рд░реНрдХ_рдПрд╕рд╡реАрдбреА рдкреНрд░рддрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛, рдкреНрд░рддрд┐ рд╕рдореВрд╣, рдкреНрд░рддрд┐ рд╡рд╕реНрддреБред  рдЙрд╕реА рдбреЗрдЯрд╛ рд╕реЗ рдЧрдгрдирд╛ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рдЬрд┐рд╕ рдкрд░ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рд▓рдХреНрд╖реНрдп 1 =, рдпрд╛рдиреА рдФрд╕рдд <em>рдСрдбрд┐рдЯрд╡реЗрдЯреНрд╕_рд╕реНрдкрд╛рд░реНрдХ_рдПрд╕рд╡реАрдбреА</em> рдкреНрд░рддрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬрд┐рд╕реЗ рд╡рд╣ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реИред  <em>рдСрдбрд┐рдЯрд╡рд╛рдЗрдЯреНрд╕_рд╕реНрдкрд╛рд░реНрдХ_рд╕рд░реНрд╡ рдХреЗ</em> рдЕрд▓рд╛рд╡рд╛ рдХрдИ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдВрдХреЗрдд рдереЗред  рдпрд╣рд╛рдБ рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рд╣реИрдВ: </p><br><ul><li>  <em>auditweightsCtrGender</em> </li><li>  <em>auditweightsCtrHigh</em> </li><li>  <em>userOwnerCounterCreateLikes</em> </li></ul><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, userId рджреНрд╡рд╛рд░рд╛ <em>рдСрдбрд┐рдЯрд╡реЗрдЯреНрд╕рдЪрдЯреНрд░рдЧреЗрдВрдбрд░</em> рдХрд╛ рдФрд╕рдд рдореВрд▓реНрдп рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА <em>userIwnerCounterCreateLikes</em> рдХрд╛ рдФрд╕рдд рдорд╛рди userId + ownerId рджреНрд╡рд╛рд░рд╛ <em>рджрд┐рдпрд╛</em> рдЧрдпрд╛ рд╣реИред  рдЗрд╕рд╕реЗ рд╣рдореЗрдВ рдпрд╣ рд╕реЛрдЪрдирд╛ рдЪрд╛рд╣рд┐рдП рдерд╛ рдХрд┐ рдЦреЗрддреЛрдВ рдХрд╛ рдЕрд░реНрде рдХреИрд╕реЗ рд╕рдордЭрд╛ рдЬрд╛рдПред </p><br><p>  рдЕрдиреНрдп рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ <em>рдСрдбрд┐рдЯрд╡реЗрдЯреНрд╕ рд▓рд╛рдЗрдХрд╕</em> рдФрд░ <em>рдСрдбрд╡реЗрдЗрдЯреНрд╕рд╢реЛрд╕реНрдХрд╛рдЙрдВрдЯ</em> рдереЗред  рдПрдХ рдХреЛ рджреВрд╕рд░реЗ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдирд╛, рдПрдХ рдФрд░ рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд┐рд╢реЗрд╖рддрд╛ рдкреНрд░рд╛рдкреНрдд рдХреА рдЧрдИ рдереАред </p><br><p>  <strong>рдбреЗрдЯрд╛ рд▓реАрдХ</strong> </p><br><p>  рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдФрд░ рдЙрддреНрдкрд╛рджрди рдореЙрдбрд▓ рдмрд╣реБрдд рдЕрд▓рдЧ рдХрд╛рд░реНрдп рд╣реИрдВред  рдбреЗрдЯрд╛ рддреИрдпрд╛рд░ рдХрд░рддреЗ рд╕рдордп, рд╕рднреА рд╡рд┐рд╡рд░рдгреЛрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ рдФрд░ рдкрд░реАрдХреНрд╖рдг рдкрд░ рд▓рдХреНрд╖реНрдп рдЪрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдЧреИрд░-рддреБрдЪреНрдЫ рдЬрд╛рдирдХрд╛рд░реА рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдирд╣реАрдВ рдХрд░рдирд╛ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рд╣реИред  рдпрджрд┐ рд╣рдо рдЙрддреНрдкрд╛рджрди рд╕рдорд╛рдзрд╛рди рдмрдирд╛рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдореЙрдбрд▓ рдХрд╛ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рджреЗрддреЗ рд╕рдордп рдбреЗрдЯрд╛ рд▓реАрдХ рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдмрдЪрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВрдЧреЗред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдо рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдЬреАрддрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдбреЗрдЯрд╛ рд▓реАрдХ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рд╣реИрдВред </p><br><p>  рдбреЗрдЯрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ objectId рдХреЗ рдЕрдиреБрд╕рд╛рд░, <em>audweightsLikesCount</em> рдФрд░ <em>audweightsShowsCount</em> рдХреЗ рдорд╛рди рдмрджрд▓рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЗрди рд╕рдВрдХреЗрддреЛрдВ рдХреЗ рдЕрдзрд┐рдХрддрдо рдореВрд▓реНрдпреЛрдВ рдХрд╛ рдЕрдиреБрдкрд╛рдд рдкреНрд░рд╕рд╡ рдХреЗ рд╕рдордп рдЕрдиреБрдкрд╛рдд рд╕реЗ рдмреЗрд╣рддрд░ рдкреЛрд╕реНрдЯ рд░реВрдкрд╛рдВрддрд░рдг рдХреЛ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рдХрд░реЗрдЧрд╛ред </p><br><p>  рд╣рдореЗрдВ рдЬреЛ рдкрд╣рд▓реА рд▓реАрдХ рдорд┐рд▓реА, рд╡рд╣ <em>рдСрдбрд┐рдЯрд╡рд╛рдЗрдЯрд╕рд▓рд╛рдЗрдХрд╕рд╛рдЙрдВрдЯрдореИрдХреНрд╕ / рдСрдбрд┐рдЯрд╡рд╛рдЗрдЯрд╢реЛрд╕реНрдХрд╛рдЙрдВрдЯрдореИрдХреНрд╕ рдереА</em> ред <br>  рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдЕрдЧрд░ рдЖрдк рдбреЗрдЯрд╛ рдХреЛ рдЕрдзрд┐рдХ рдмрд╛рд░реАрдХреА рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ?  рд╡рд┐рддрд░рдг рддрд┐рдерд┐ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХреНрд░рдордмрджреНрдз рдХрд░реЗрдВ рдФрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ: </p><br><table><thead><tr><th>  objectId </th><th>  userId </th><th>  auditweightsShowsCount </th><th>  auditweightsLikesCount </th><th>  рд▓рдХреНрд╖реНрдп (рдкрд╕рдВрдж рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) </th></tr></thead><tbody><tr><td>  1 </td><td>  1 </td><td>  12 </td><td>  3 </td><td>  рд╢рд╛рдпрдж рдирд╣реАрдВ </td></tr><tr><td>  1 </td><td>  2 </td><td>  15 </td><td>  3 </td><td>  рд╢рд╛рдпрдж рд╣рд╛рдБ </td></tr><tr><td>  1 </td><td>  3 </td><td>  16 </td><td>  4 </td><td></td></tr></tbody></table><br><p>  рдЬрдм рдореИрдВрдиреЗ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдкрд╣рд▓рд╛ рдЙрджрд╛рд╣рд░рдг рдкрд╛рдпрд╛ рддреЛ рдпрд╣ рдЖрд╢реНрдЪрд░реНрдп рдХреА рдмрд╛рдд рдереА рдФрд░ рдореЗрд░реА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рд╕рдЪ рдирд╣реАрдВ рд╣реБрдИред  рд▓реЗрдХрд┐рди, рдЗрд╕ рддрдереНрдп рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП рдХрд┐ рд╡рд╕реНрддреБ рдХреЗ рдврд╛рдВрдЪреЗ рдХреЗ рднреАрддрд░ рдЗрди рд╕рдВрдХреЗрддреЛрдВ рдХреЗ рдЕрдзрд┐рдХрддрдо рдореВрд▓реНрдпреЛрдВ рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╣реБрдИ рд╣реИ, рд╣рдо рдмрд╣реБрдд рдЖрд▓рд╕реА рдирд╣реАрдВ рдереЗ рдФрд░ <em>рдСрдбрд┐рдЯрд╡реЙрдЗрдЯреНрд╕рд╢реЙрдЙрдирдХреН</em> <em>рдиреЗрдХреНрд╕реНрдЯ</em> рдФрд░ <em>рдЖрдбрд┐рдЯрд╡реЗрдЗрдЯреНрд╕</em> <em>рд▓рд╛рдЗрдХрд╕рдХрд╛рдЙрдВрдЯрд░рдиреЗрдХреНрд╕реНрдЯ</em> рдХреЛ рдЦреЛрдЬрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЬреЛ рдХрд┐, рдЕрдЧрд▓реЗ рд╕рдордп рдореЗрдВ рдореВрд▓реНрдп рд╣реИрдВред  рдЬреЛрдбрд╝рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ <br>  <em>(audweightsShowsCountNext-audweightsShowsCount) / (audweightsLikesCount-AudweightsLikesCountNext)</em> рд╣рдордиреЗ рдШрдбрд╝реА рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдПрдХ рддреЗрдЬ рдЫрд▓рд╛рдВрдЧ рд▓рдЧрд╛рдИред <br>  рдпрджрд┐ <em>рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛</em> рдХреЗ рд▓рд┐рдП userId + ownerId рдХреЗ рднреАрддрд░ <em>userOwnerCounterCreateLikes</em> рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдорд╛рди рдкрд╛рдП рдЧрдП рдереЗ рдФрд░ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕реА рддрд░рд╣ рдХреЗ рд▓реАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, objectIdCtrGender рдореЗрдВ objectId + userGenderред  рд╣рдордиреЗ рд▓реАрдХ рдХреЗ рд╕рд╛рде 6 рд╕рдорд╛рди рдХреНрд╖реЗрддреНрд░ рдкрд╛рдП рдФрд░ рдЬрд┐рддрдирд╛ рд╕рдВрднрд╡ рд╣реЛ рд╕рдХреЗ рдЙрдирд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдЦреАрдВрдЪреАред </p><br><p>  рдЙрд╕ рд╕рдордп рддрдХ, рд╣рдордиреЗ рд╕рд╣рдпреЛрдЧреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рд╕реЗ рдЕрдзрд┐рдХрддрдо рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдЪреЛрдбрд╝ рд▓реА рдереА, рд▓реЗрдХрд┐рди рдЫрд╡рд┐рдпреЛрдВ рдФрд░ рдЧреНрд░рдВрдереЛрдВ рдХреЗ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдореЗрдВ рд╡рд╛рдкрд╕ рдирд╣реАрдВ рдЖрдПред  рдЬрд╛рдБрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдорд╣рд╛рди рд╡рд┐рдЪрд╛рд░ рдерд╛: рд╕рдВрдмрдВрдзрд┐рдд рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛рдУрдВ рдореЗрдВ рдЫрд╡рд┐рдпреЛрдВ рдпрд╛ рдЧреНрд░рдВрдереЛрдВ рдкрд░ рд╕реАрдзреЗ рдХрд┐рддрдиреА рд╕реБрд╡рд┐рдзрд╛рдПрдБ рджреА рдЬрд╛рддреА рд╣реИрдВ? </p><br><p>  рдЫрд╡рд┐рдпреЛрдВ рдФрд░ рдЧреНрд░рдВрдереЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛рдУрдВ рдореЗрдВ рдХреЛрдИ рд▓реАрдХ рдирд╣реАрдВ рдереЗ, рд▓реЗрдХрд┐рди рдЙрд╕ рд╕рдордп рддрдХ рдореИрдВрдиреЗ рдХреИрдЯрдмреЙрд╕реНрдЯ рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░ рджрд┐рдпрд╛ рдерд╛, рдХреЛрдб рдХреЛ рдХрдВрдШреА рдХрд┐рдпрд╛ рдФрд░ рдХреБрдЫ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рдЬреЛрдбрд╝реАрдВред  рдХреБрд▓ рдкрд░рд┐рдгрд╛рдо: </p><br><table><thead><tr><th>  рдирд┐рд░реНрдгрдп </th><th>  рдЧрддрд┐ </th></tr></thead><tbody><tr><td>  рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЕрдзрд┐рдХрддрдо </td><td>  0.6411 </td></tr><tr><td>  рдЕрдзрд┐рдХрддрдо рдХреЛрдИ рдЪрд┐рддреНрд░ рдирд╣реАрдВ </td><td>  0.6297 </td></tr><tr><td>  рджреВрд╕рд░рд╛ рд╕реНрдерд╛рди рдкрд░рд┐рдгрд╛рдо </td><td>  0.6295 </td></tr></tbody></table><br><table><thead><tr><th>  рдирд┐рд░реНрдгрдп </th><th>  рдЧрддрд┐ </th></tr></thead><tbody><tr><td>  рдЧреНрд░рдВрдереЛрдВ рдХреЗ рд╕рд╛рде рдЕрдзрд┐рдХрддрдо </td><td>  0.666 </td></tr><tr><td>  рдЧреНрд░рдВрдереЛрдВ рдХреЗ рдмрд┐рдирд╛ рдЕрдзрд┐рдХрддрдо </td><td>  0.660 </td></tr><tr><td>  рджреВрд╕рд░рд╛ рд╕реНрдерд╛рди рдкрд░рд┐рдгрд╛рдо </td><td>  0656 </td></tr></tbody></table><br><table><thead><tr><th>  рдирд┐рд░реНрдгрдп </th><th>  рдЧрддрд┐ </th></tr></thead><tbody><tr><td>  рд╕рд╣рдпреЛрдЧреА рдореЗрдВ рдЕрдзрд┐рдХрддрдо </td><td>  0.745 </td></tr><tr><td>  рджреВрд╕рд░рд╛ рд╕реНрдерд╛рди рдкрд░рд┐рдгрд╛рдо </td><td>  0.723 </td></tr></tbody></table><br><p>  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рдХрд┐ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЧреНрд░рдВрдереЛрдВ рдФрд░ рдЫрд╡рд┐рдпреЛрдВ рдХреЛ рдирд┐рдЪреЛрдбрд╝рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдирд╣реАрдВ рдереА, рдФрд░ рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреЗ рдПрдХ рдЬреЛрдбрд╝реЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рдЙрдирдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ред </p><br><p>  рд╕рд╣рдпреЛрдЧреА рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдореЗрдВ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреА рдЖрдЧреЗ рдХреА рдкреАрдврд╝реА рдиреЗ рд╡рд┐рдХрд╛рд╕ рдирд╣реАрдВ рджрд┐рдпрд╛, рдФрд░ рд╣рдордиреЗ рд░реИрдВрдХрд┐рдВрдЧ рд╢реБрд░реВ рдХреАред  рдСрдирд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ, рд╡рд░реНрдЧреАрдХрд░рдг рдФрд░ рд░реИрдВрдХрд┐рдВрдЧ рдХреЗ рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рдиреЗ рдореБрдЭреЗ рдПрдХ рдЫреЛрдЯреА рд╕реА рд╡реГрджреНрдзрд┐ рджреА, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдирд┐рдХрд▓рд╛ рдХреНрдпреЛрдВрдХрд┐ рдореЗрд░реЗ рдкрд╛рд╕ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдерд╛ред  рдпрддрд┐рд░рд╛рд▓рдкреНрд░реЗрдпрд░ рд╡рд╛рдЗрдЬ рд╕рд╣рд┐рдд рдХреЛрдИ рднреА рддреНрд░реБрдЯрд┐ рдХрд╛рд░реНрдп, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдХрд░реАрдмреА рдкрд░рд┐рдгрд╛рдо рднреА рджрд┐рдП рдЬреЛ рд▓реЙрдЧрд▓реЙрд╕ рдиреЗ рджрд┐рдП (0.725 рдХреЗ рдЦрд┐рд▓рд╛рдл 0.745)ред  QueryCrossEntropy рдХреЗ рд▓рд┐рдП рдЖрд╢рд╛ рдХреА рдЧрдИ рдереА рдЬрд┐рд╕реЗ рд▓реЙрдиреНрдЪ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрд╛ред </p><br><h1 id="oflayn-etap">  рдСрдлрд╝рд▓рд╛рдЗрди рдордВрдЪ </h1><br><p>  рдСрдлрд╝рд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ, рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рд╕рдорд╛рди рдмрдиреА рд╣реБрдИ рд╣реИ, рд▓реЗрдХрд┐рди рдЫреЛрдЯреЗ рдкрд░рд┐рд╡рд░реНрддрди рд╣реБрдП рд╣реИрдВ: </p><br><ul><li>  рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ userId, objectId, ownerId рдХреЛ рдкреБрди: рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ; </li><li>  рдХрдИ рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рдХрдИ рдХрд╛ рдирд╛рдо рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛; </li><li>  рдбреЗрдЯрд╛ рд▓рдЧрднрдЧ 1.5 рдЧреБрдирд╛ рдЕрдзрд┐рдХ рд╣реЛ рдЧрдпрд╛ рд╣реИред </li></ul><br><p>  рд╕реВрдЪреАрдмрджреНрдз рдХрдард┐рдирд╛рдЗрдпреЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рдмрдбрд╝рд╛ рдкреНрд▓рд╕ рдерд╛: рдЯреАрдо рдХреЗ рд▓рд┐рдП RTX 2080TI рдХреЗ рд╕рд╛рде рдПрдХ рдмрдбрд╝рд╛ рд╕рд░реНрд╡рд░ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдореИрдВрдиреЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЖрдирдВрдж рд▓рд┐рдпрд╛ред <br><img src="https://habrastorage.org/webt/0c/6n/zp/0c6nzpburmw8nxsxz9y8iwkxmwa.jpeg"></p><br><p>  рд╡рд┐рдЪрд╛рд░ рдПрдХ рдерд╛ - рд╕рд┐рд░реНрдл рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬреЛ рд╣реИ рдЙрд╕реЗ рдкреБрди: рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рд╕рд░реНрд╡рд░ рдкрд░ рдкрд░реНрдпрд╛рд╡рд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдХреБрдЫ рдШрдВрдЯреЗ рдмрд┐рддрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рдзреАрд░реЗ-рдзреАрд░реЗ рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд┐рдпрд╛ рдХрд┐ рдкрд░рд┐рдгрд╛рдо рдкреБрди: рдкреЗрд╢ рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рд╣реИрдВред  рдореБрдЦреНрдп рд╕рдорд╕реНрдпрд╛ рдЬрд┐рд╕рдХрд╛ рд╣рдо рд╕рд╛рдордирд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рд╡рд╣ рд╣реИ рдбреЗрдЯрд╛ рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ рд╡реГрджреНрдзрд┐ред  рд╣рдордиреЗ рд▓реЛрдб рдХреЛ рдереЛрдбрд╝рд╛ рдХрдо рдХрд░рдиреЗ рдФрд░ рдкреИрд░рд╛рдореАрдЯрд░ catboost ctr_complexity = 1 рд╕реЗрдЯ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред  рдпрд╣ рдЧрддрд┐ рдереЛрдбрд╝реА рдХрдо рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдореЙрдбрд▓ рдиреЗ рдХрд╛рдо рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛, рдкрд░рд┐рдгрд╛рдо рдЕрдЪреНрдЫрд╛ рдерд╛ - 0.733ред  рд╕рд░реНрдЬреА, рдореЗрд░реЗ рд╡рд┐рдкрд░реАрдд, рдбреЗрдЯрд╛ рдХреЛ 2 рднрд╛рдЧреЛрдВ рдореЗрдВ рдирд╣реАрдВ рддреЛрдбрд╝рддреЗ рдереЗ рдФрд░ рд╕рднреА рдбреЗрдЯрд╛ рдкрд░ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рд╣реЛрддреЗ рдереЗ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЗрд╕рдиреЗ рдСрдирд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдкрд░рд┐рдгрд╛рдо рджрд┐рдпрд╛, рдСрдлрд╝рд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓реЗрдВ рдереАрдВред  рдпрджрд┐ рд╣рдо рдЙрди рд╕рднреА рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рд▓реЗрддреЗ рд╣реИрдВ рдЬреЛ рд╣рдордиреЗ рдЙрддреНрдкрдиреНрди рдХреА рд╣реИрдВ рдФрд░ рдЗрд╕реЗ "рдорд╛рдереЗ рдкрд░" рдХреИрдЯрдмреЙрд╕реНрдЯ рдореЗрдВ рдбрд╛рд▓рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдСрдирд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реБрдЖ рд╣реЛрдЧрд╛ред  рд╕рд░реНрдЧреЗрдИ рдиреЗ рдЯрд╛рдЗрдк рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдХрд┐рдпрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдлреНрд▓реЛрдЯ64 рдкреНрд░рдХрд╛рд░ рдХреЛ рдлреНрд▓реЛрдЯ 32 рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдирд╛ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ</a> рдЖрдк рдкрдВрдбреЛрдВ рдореЗрдВ рд╕реНрдореГрддрд┐ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдирддреАрдЬрддрди, рд╕рд░реНрдЧреЗрдИ рдиреЗ рд╕рднреА рдбреЗрдЯрд╛ рдкрд░ рд╕реАрдкреАрдпреВ рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдФрд░ рдпрд╣ рд▓рдЧрднрдЧ 0.735 рдирд┐рдХрд▓рд╛ред </p><br><p>  рдпреЗ рдкрд░рд┐рдгрд╛рдо рдЬреАрддрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдереЗ, рд▓реЗрдХрд┐рди рд╣рдордиреЗ рдЕрдкрдиреА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЧрддрд┐ рдХреЛ рдЫрд┐рдкрд╛ рджрд┐рдпрд╛ рдФрд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рдерд╛ рдХрд┐ рдЕрдиреНрдп рдЯреАрдореЗрдВ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд░ рд░рд╣реА рдереАрдВред </p><br><h1 id="bitva-do-poslednego">  рдЖрдЦрд┐рд░реА рддрдХ рд▓рдбрд╝рд╛рдИ </h1><br><p>  <strong>рдЯреНрдпреВрдирд┐рдВрдЧ рдХреИрдЯрдмреЙрд╕реНрдЯ</strong> </p><br><p>  рд╣рдорд╛рд░рд╛ рд╕рдорд╛рдзрд╛рди рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреБрди: рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╣рдордиреЗ рдкрд╛рда рдбреЗрдЯрд╛ рдФрд░ рдЫрд╡рд┐рдпреЛрдВ рдХреА рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рд╛, рдЗрд╕рд▓рд┐рдП рдЬреЛ рдХреБрдЫ рднреА рд░рд╣рд╛ рд╡рд╣ рдХреИрдЯрдмреЙрд╕реНрдЯ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдЯреНрдпреВрди рдХрд░рдирд╛ рдерд╛ред  рд╕реЗрд░реНрдЧреЗрдИ рдиреЗ рд╕реАрдкреАрдпреВ рдкрд░ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐рдпреЛрдВ рдХреА рдПрдХ рдЫреЛрдЯреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рд╛рде рдЕрдзреНрдпрдпрди рдХрд┐рдпрд╛, рдФрд░ рдореИрдВрдиреЗ ctr_complexity = 1 рдХреЗ рд╕рд╛рде рдЕрдзреНрдпрдпрди рдХрд┐рдпрд╛ред  рдХреЗрд╡рд▓ рдПрдХ рджрд┐рди рд╢реЗрд╖ рдерд╛, рдФрд░ рдпрджрд┐ рдЖрдк рдХреЗрд╡рд▓ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐рдпреЛрдВ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рдпрд╛ ctr_complexity рдмрдврд╝рд╛рддреЗ рд╣реИрдВ, рддреЛ рд╕реБрдмрд╣ рдЖрдк рдФрд░ рднреА рдмреЗрд╣рддрд░ рдЧрддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдкреВрд░реЗ рджрд┐рди рдЪрд▓ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдСрдлрд╝рд▓рд╛рдЗрди рдЪрд░рдг рдореЗрдВ, рд╕реНрдХреЛрд░ рдХреЛ рдЫрд┐рдкрд╛рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдмрд╕ рд╕рд╛рдЗрдЯ рдкрд░ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рдЪреБрдирдХрд░ред  рд╣рдордиреЗ рд╕рдмрдорд┐рд╢рди рдХреЗ рдмрдВрдж рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЖрдЦрд┐рд░реА рдорд┐рдирдЯреЛрдВ рдореЗрдВ рд▓реАрдбрд░рдмреЛрд░реНрдб рдореЗрдВ рддреЗрдЬ рдмрджрд▓рд╛рд╡ рдХреА рдЙрдореНрдореАрдж рдХреА рдФрд░ рд░реБрдХрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ред </p><br><p>  рдЕрдиреНрдирд╛ рдХреЗ рд╡реАрдбрд┐рдпреЛ рд╕реЗ, рдореИрдВрдиреЗ рд╕реАрдЦрд╛ рдХрд┐ рдореЙрдбрд▓ рдХреА рдЧреБрдгрд╡рддреНрддрд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ: </p><br><ul><li>  <em>Learning_rate</em> - рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдХреА рдЧрдгрдирд╛ рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХреА рдЬрд╛рддреА рд╣реИред  Learning_rate рдореЗрдВ рдХрдореА рдХреЗ рд╕рд╛рде, рдЧреБрдгрд╡рддреНрддрд╛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝рд╛рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред </li><li>  <em>l2_leaf_reg</em> - <em>рдирд┐рдпрдорд┐рддреАрдХрд░рдг</em> рдЧреБрдгрд╛рдВрдХ, 3 рдХрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди, рдЕрдзрд┐рдорд╛рдирддрдГ 2 рд╕реЗ 30 рддрдХред рдореВрд▓реНрдп рдореЗрдВ рдХрдореА рд╕реЗ рдУрд╡рд░рдлрд┐рдЯ рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╣реЛрддреА рд╣реИред </li><li>  <em>bagging_tENS</em> - рдЪрдпрди рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рднрд╛рд░ рдХреЗ рд▓рд┐рдП рдпрд╛рджреГрдЪреНрдЫрд┐рдХрдХрд░рдг рдЬреЛрдбрд╝рддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди 1 рд╣реИ, рдЬрд┐рд╕ рдкрд░ рдШрд╛рддрд╛рдВрдХ рдХрд╛ рд╡рд┐рддрд░рдг рдШрд╛рддрд╛рдВрдХ рд╡рд┐рддрд░рдг рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдореВрд▓реНрдп рдореЗрдВ рдХрдореА рд╕реЗ рдУрд╡рд░рдлрд┐рдЯ рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╣реЛрддреА рд╣реИред </li><li>  <em>random_strength</em> - рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд╛рдЬрди рдХреА рдкрд╕рдВрдж рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЙрдЪреНрдЪ random_strength, рдЙрдЪреНрдЪ рдХрдо рдорд╣рддреНрд╡ рдХреЗ рд╡рд┐рднрд╛рдЬрди рдХрд╛ рдореМрдХрд╛ рдЪреБрдирд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдж рдХреЗ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдкрд░, рдпрд╛рджреГрдЪреНрдЫрд┐рдХрддрд╛ рдХрдо рд╣реЛ рдЬрд╛рддреА рд╣реИред  рдореВрд▓реНрдп рдореЗрдВ рдХрдореА рд╕реЗ рдУрд╡рд░рдлрд┐рдЯ рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╣реЛрддреА рд╣реИред </li></ul><br><p>  рдЕрдиреНрдп рдкреИрд░рд╛рдореАрдЯрд░ рдЕрдВрддрд┐рдо рдкрд░рд┐рдгрд╛рдо рдХреЛ рдХрд╛рдлреА рдХрдо рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЙрдиреНрд╣реЗрдВ рдЪреБрдирдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдирд╣реАрдВ рдХреАред  Ctr_complexity = 1 рдХреЗ рд╕рд╛рде рдореЗрд░реЗ GPU рдбреЗрдЯрд╛рд╕реЗрдЯ рдкрд░ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХрд╛ рдПрдХ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ 20 рдорд┐рдирдЯ рд▓реЗ рд▓рд┐рдпрд╛, рдФрд░ рдХрдо рдбрд╛рдЯрд╛рд╕реЗрдЯ рдкрд░ рдЪрдпрдирд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдкреВрд░реНрдг рдбреЗрдЯрд╛рд╕реЗрдЯ рдкрд░ рдЗрд╖реНрдЯрддрдо рд▓реЛрдЧреЛрдВ рд╕реЗ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рдереЗред  рдирддреАрдЬрддрди, рдореИрдВрдиреЗ рдбреЗрдЯрд╛ рдХреЗ 10% рдкрд░ рд▓рдЧрднрдЧ 30 рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐рдпреЛрдВ рдХреЛ рдХрд┐рдпрд╛, рдФрд░ рдлрд┐рд░ рд╕рднреА рдбреЗрдЯрд╛ рдкрд░ рд▓рдЧрднрдЧ 10 рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐рдпреЛрдВ рдХреЛред  рдпрд╣ рд▓рдЧрднрдЧ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирд┐рдХрд▓рд╛: </p><br><ul><li>  рдореИрдВрдиреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реЗ 40% рддрдХ <em>Learning_rate</em> рдмрдврд╝рд╛рдпрд╛; </li><li>  <em>l2_leaf_reg</em> рдиреЗ рд╡рд╣реА рдЫреЛрдбрд╝рд╛; </li><li>  <em>рдмреИрдЧрд┐рдВрдЧ_рдЯреИрдВрд╕</em> рдФрд░ <em>рд░реИрдВрдбрдо_рд╕реНрдЯреНрд░рдХреНрдЪрд░</em> 0.8 рддрдХ рдХрдо рд╣реЛ рдЧрдпрд╛ред </li></ul><br><p>  рд╣рдо рдпрд╣ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде, рдореЙрдбрд▓ рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдЬрдм рдореИрдВрдиреЗ рд▓реАрдбрд░рдмреЛрд░реНрдб рдкрд░ рдкрд░рд┐рдгрд╛рдо рджреЗрдЦрд╛ рддреЛ рдореИрдВ рдмрд╣реБрдд рд╣реИрд░рд╛рди рдерд╛: </p><br><table><thead><tr><th>  рдЖрджрд░реНрд╢ </th><th>  рдореЙрдбрд▓ 1 </th><th>  рдореЙрдбрд▓ 2 </th><th>  рдореЙрдбрд▓ 3 </th><th>  рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА </th></tr></thead><tbody><tr><td>  рдХреЛрдИ рдЯреНрдпреВрдирд┐рдВрдЧ рдирд╣реАрдВ </td><td>  0.7403 </td><td>  0.7404 </td><td>  0.7404 </td><td>  0.7407 </td></tr><tr><td>  рдЯреНрдпреВрдирд┐рдВрдЧ рдХреЗ рд╕рд╛рде </td><td>  0.7406 </td><td>  0.7405 </td><td>  0.7406 </td><td>  0.7408 </td></tr></tbody></table><br><p>  рдореИрдВрдиреЗ рдЕрдкрдиреЗ рд▓рд┐рдП рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓рд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдЖрдкрдХреЛ рдореЙрдбрд▓ рдХреЗ рддреНрд╡рд░рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдЪрдпрди рдХреЛ рдЧреИрд░-рдЕрдиреБрдХреВрд▓рд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рдкрд░ рдХрдИ рдореЙрдбрд▓ рдХреЗ рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рдХреЗ рд╕рд╛рде рдмрджрд▓рдирд╛ рдмреЗрд╣рддрд░ рд╣реИред </p><br><p>  рд╕рд░реНрдЧреЗрдИ рдЬреАрдкреАрдпреВ рдкрд░ рдЗрд╕реЗ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд▓рдЧрд╛ рд╣реБрдЖ рдерд╛ред    тАФ    ,      : </p><br><ul><li>      ( ),       ; </li><li>      ; </li><li>  userId,      ; </li><li>   userId,    . </li></ul><br><p>     тАФ     . </p><br><p> <strong> </strong> </p><br><p>          ,   0,742.        ctr_complexity=2   30    5 .   4   ,     ,      0,7433. </p><br><p>       ,     ,      .          predict(prediction_type='RawFormulaVal')   scale_pos_weight=neg_count/pos_count. </p><br><p><img src="https://habrastorage.org/webt/ki/yv/yj/kiyvyjpnsouo46k-ny9e9hmyjxa.png"></p><br><p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">    </a> . </p><br><p> <strong> </strong> </p><br><p>       . ,      ,    ,   2  . </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">  </a> . ,   Mail.ru,    ,         ,     . </li><li>  ,   ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">   facebook</a> ,        . </li></ul><br><h1 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br><p>      : </p><br><ul><li>      ,       target encoding,     catboost. </li><li>     ,       ,  learning_rate  iterations.    тАФ    . </li><li>     GPU. Catboost      GPU,    . </li><li>          rsm~=0.2 (CPU only)  ctr_complexity=1. </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдиреНрдп рдЯреАрдореЛрдВ рдХреЗ рд╡рд┐рдкрд░реАрдд, рд╣рдорд╛рд░реЗ рдореЙрдбрд▓ рдХреЗ рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рдиреЗ рдПрдХ рдмрдбрд╝реА рд╡реГрджреНрдзрд┐ рджреАред </font><font style="vertical-align: inherit;">рд╣рдордиреЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рдХрд╛ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдФрд░ рд╡рд┐рднрд┐рдиреНрди рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ рд▓рд┐рдЦрд╛ред </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдбреЗрдЯрд╛ рдХреЛ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдерд╛, рдФрд░ рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╕рднреА рдХреЗ рдкрд╛рд╕ рдЕрдкрдиреЗ рдмрдЧ рдереЗред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд░реИрдВрдХрд┐рдВрдЧ рдЕрдиреБрдХреВрд▓рди рдХреЗ рд╡рд░реНрдЧреАрдХрд░рдг рдЕрдиреБрдХреВрд▓рди рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЦрд░рд╛рдм рдкрд░рд┐рдгрд╛рдо рдХреНрдпреЛрдВ рдЖрдПред </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореБрдЭреЗ рдЧреНрд░рдВрдереЛрдВ рдХреЗ рд╕рд╛рде рдереЛрдбрд╝рд╛ рдЕрдиреБрднрд╡ рдорд┐рд▓рд╛ рдФрд░ рдпрд╣ рд╕рдордЭрдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреА рдЧрдИ рдХрд┐ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдкреНрд░рдгрд╛рд▓реА рдХреИрд╕реЗ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИред </font></font></li></ul><br><p><img src="https://habrastorage.org/webt/en/m_/to/enm_topolhyttqfezaldsddvjs0.jpeg"></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрдпреЛрдЬрдХреЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рднрд╛рд╡рдирд╛рдУрдВ, рдЬреНрдЮрд╛рди рдФрд░ рдкреБрд░рд╕реНрдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рджред </font></font></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi447376/">https://habr.com/ru/post/hi447376/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi447366/index.html">рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рдХреНрдпрд╛ рд╣реИ рдпрд╛ рдЗрд╕реЗ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП рддрд╛рдХрд┐ рдпрд╣ рдХрд╖реНрдЯрджрд╛рдпреА рд░реВрдк рд╕реЗ рджрд░реНрджрдирд╛рдХ рди рд╣реЛ</a></li>
<li><a href="../hi447368/index.html">рд╕рд┐рд░реНрдл рдкрд┐рд╕реНрд╕реВ рдирд╣реАрдВ рдкрдХрдбрд╝реЗред рдХрд┐рд╕реА рднреА рджреБрдХрд╛рди рдХреЗ рд▓рд┐рдП рдЧрддрд┐ рдЗрддрдиреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХреНрдпреЛрдВ рд╣реИ</a></li>
<li><a href="../hi447370/index.html">рдХреНрдпреЛрдВ, рдПрдХ рдЯреВрдЯреА рд╣реБрдИ рдкреЗрдЯреЗрдВрдЯ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдХрд╛рд░рдг, рдереЗрд░рд╛рдиреЛрд╕ рдХреА рдЫрд╛рдпрд╛ рдЕрднреА рднреА рд╣рдо рдкрд░ рд╣рд╛рд╡реА рд╣реИ</a></li>
<li><a href="../hi447372/index.html">рдЖрдИрдЯреА рдкрд░рд┐рд╡рд░реНрддрди рдЕрдкрд░рд┐рд╣рд╛рд░реНрдп рд╣реИ: рдХрд╣рд╛рдВ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ</a></li>
<li><a href="../hi447374/index.html">PureLayout (рднрд╛рдЧ 2) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕рдВрдмрдВрдзреА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрдирд╛рдирд╛</a></li>
<li><a href="../hi447380/index.html">рдХреЛрдЯрд▓рд┐рди рдЕрдкрд╡рд╛рдж рдФрд░ рдЙрдирдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ</a></li>
<li><a href="../hi447382/index.html">рдкреБрд╕реНрддрдХ "рдПрдХрддрд╛ рдФрд░ рд╕реА #ред Gamedev рд╡рд┐рдЪрд╛рд░ рд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рддрдХред рджреВрд╕рд░рд╛ рд╕рдВрд╕реНрдХрд░рдг</a></li>
<li><a href="../hi447384/index.html">рдкрд╛рд░рд┐рд╕реНрдерд┐рддрд┐рдХреА рдХреЗ рд░рдХреНрд╖рдХ рдкрд░ рдкрд╛рд╡рд░ рдЕрд░реНрдзрдЪрд╛рд▓рдХ</a></li>
<li><a href="../hi447388/index.html">рдЯреАрдПрд▓; рдбреАрдЖрд░-рдбрд╛рдЗрдЬреЗрд╕реНрдЯ рдСрдл рдЖрдИрдЯреАрдПрдордУ рдпреВрдирд┐рд╡рд░реНрд╕рд┐рдЯреА: рдпреВрдирд┐рд╡рд░реНрд╕рд┐рдЯреА рдореЗрдВ рдЧреИрд░-рд╢рд╛рд╕реНрддреНрд░реАрдп рдкреНрд░рд╡реЗрд╢, рдЖрдЧрд╛рдореА рдХрд╛рд░реНрдпрдХреНрд░рдо рдФрд░ рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╕рд╛рдордЧреНрд░реА</a></li>
<li><a href="../hi447390/index.html">VMware vSphere рдХреЗ рд▓рд┐рдП AccelStor AFA рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>