<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>   Etherblade.net Encapsulador y sustituci贸n de importaciones para componentes de red (segunda parte) 达  ご</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En el primer art铆culo, quer铆a mostrar que el desarrollo de FPGA es una tarea interesante, y la implementaci贸n de un encapsulador de flujo es un proyec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Etherblade.net Encapsulador y sustituci贸n de importaciones para componentes de red (segunda parte)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484108/"><img src="https://habrastorage.org/webt/sb/gp/m_/sbgpm_3myxkg6cknsoshl2_ll-m.jpeg" alt="imagen"><br><br>  En el <a href="https://habr.com/en/post/439540/">primer art铆culo,</a> quer铆a mostrar que el desarrollo de FPGA es una tarea interesante, y la implementaci贸n de un encapsulador de flujo es un proyecto bastante simple que bien podr铆a actuar como un proyecto acad茅mico para estudiantes senior o estudiantes de posgrado. <br><br>  Aunque vale la pena hacer el dise帽o del hardware solo por diversi贸n, en este art铆culo quiero prestar atenci贸n al valor pr谩ctico de esta lecci贸n.  En particular, nuestra conversaci贸n continuar谩 sobre c贸mo crear una infraestructura de red para operadores de telecomunicaciones utilizando el encapsulador Etherblade.net implementado en FPGA. <br><br>  Este texto es una idea de las tecnolog铆as de red y para encajar en un tema tan extenso dentro del marco de un art铆culo, decid铆 escribirlo en el contexto de alg煤n plan de acci贸n o, si lo desea, la respuesta a la siguiente pregunta: "C贸mo reemplazar el equipo usando FPGA y c贸digo abierto de la manera m谩s eficiente posible". de Cisco y Juniper ". <br>  Entonces comencemos. <br><a name="habracut"></a><br><h3>  El concepto de SDN (red definida por software) contra grandes proveedores </h3><br>  Tradicionalmente, durante d茅cadas, los equipos de red han sido fabricados por gigantes como Cisco y Juniper.  Hoy, los grandes operadores de redes que desarrollan sus propios equipos de red se est谩n convirtiendo en la nueva norma.  El objetivo que quieren lograr es la independencia de los proveedores de componentes y un mejor control sobre la infraestructura. <br><br>  En Rusia, por razones pol铆ticas, este enfoque asociado con el reemplazo de productos de terceros con sistemas con un mayor porcentaje de componentes intelectuales desarrollados localmente (bloques de propiedad intelectual o n煤cleos de propiedad intelectual) generalmente se denomina sustituci贸n de importaciones. <br><br>  Debe entenderse que las grandes corporaciones tienen una gran cantidad de recursos de ingenier铆a y dependen de un modelo de desarrollo integrado verticalmente.  驴Y qu茅 hay de los fabricantes relativamente peque帽os? <br><br>  La falta de recursos puede compensarse con c贸digo abierto.  Y la falta de integraci贸n vertical con la distribuci贸n correcta de subtareas entre jugadores m谩s peque帽os. <br><br>  La arquitectura de los dispositivos de red producidos tradicionalmente por grandes proveedores se segmenta f谩cilmente.  Para paralelizar el proceso y resaltar subtareas individuales, el concepto de SDN (red definida por software) sugiere segmentar la arquitectura de los dispositivos de red en niveles, en particular, separando el nivel de gesti贸n de red (plano de control) del nivel de dispositivos de transferencia de datos (plano de datos). <br><br>  Observo que hoy el SDN se ha convertido en una poderosa herramienta de marketing para grandes proveedores que lo presentan como un conjunto de "nuevas caracter铆sticas" 煤tiles para el usuario final.  Lo curioso es que hist贸ricamente, como ya se帽al茅, el concepto de SDN se cre贸 justo en contraste con los gigantes de la industria. <br><br>  Entonces, SDN ofrece un modelo de arquitectura de un enrutador de red en forma desmontada.  Nuestra tarea es identificar el componente que nos interesa en este modelo y comenzar a desarrollarlo. <br><br><h3>  "Comencemos por lo peque帽o": encapsulaci贸n en enrutadores y superposici贸n SDN </h3><br>  Es natural resolver todas las necesidades del mundo de una vez.  Por lo tanto, cuando se construyen sistemas grandes, tiene sentido comenzar con poco y hacer que el sistema sea extensible, de modo que se pueda introducir una funcionalidad adicional integrando bloques adicionales o modificando los existentes.  Con las palabras "comenzar con poco" me refiero a la selecci贸n de alguna funci贸n de red completa suficiente para construir un sistema que funcione. <br><br>  En el proyecto Etherblade.net, como tales funciones, se decidi贸 implementar un mecanismo para encapsular el tr谩fico de red. <br><br>  La encapsulaci贸n en redes es una cosa com煤n.  "Desegreguemos" el enrutador y consideremos c贸mo sus componentes se corresponden con los componentes del modelo SDN y determinemos qu茅 lugar ocupa la encapsulaci贸n en ambos modelos. <br><br>  Por ejemplo, tome uno de los enrutadores que se muestran en la figura al comienzo del art铆culo y descr铆balo en la figura a continuaci贸n, pero ya en forma "preparada". <br>  En la misma figura, contrastamos el enrutador con un "modelo SDN superpuesto" alternativo que proporciona una funcionalidad similar. <br><br><img src="https://habrastorage.org/webt/st/1-/qn/st1-qn0wsbuo99dme1p6ind1zts.jpeg" alt="imagen"><br><br>  <i>El nivel superior (verde) es el plano de control / orquestaci贸n SDN.</i>  Este es el cerebro del sistema, de hecho, el microprocesador en el que se ejecuta el software de red de control.  En los enrutadores tradicionales, este componente est谩 integrado.  En SDN, esta funcionalidad generalmente se lleva a un "controlador de orquestaci贸n" externo, una computadora que sirve a muchos dispositivos de red. <br><br>  <i>Nivel medio (azul): ruta de reenv铆o.</i>  El papel principal de este nivel es la provisi贸n de transporte de red (conmutaci贸n / enrutamiento de tr谩fico).  En los enrutadores tradicionales: esta funcionalidad se implementa como una unidad de conmutaci贸n interna.  En nuestro modelo de "superposici贸n SDN", la funci贸n de este componente de "conmutaci贸n" se puede reducir completamente conectando directamente los dispositivos de borde (caja blanca) a la red de transporte. <br><br>  <i>Inferior (naranja): borde / nivel de acceso.</i>  En estos componentes, se producen todas las manipulaciones con el tr谩fico de red, como la encapsulaci贸n y otras conversiones de protocolos.  Este nivel se caracteriza por una alta velocidad de procesamiento y funcionalidad determinista, un gran lugar para ASIC / FPGA.  En los enrutadores tradicionales, esta funcionalidad se implementa en m贸dulos lineales (tarjetas de l铆nea), en SDN estos son los llamados "dispositivos de caja blanca". <br><br>  Por lo tanto, resumiendo lo anterior, podemos decir que Etherblade.net es esencialmente un proyecto para desarrollar dispositivos "whitebox" para "SDN-overlay". <br><br><h3>  "Reenviar a centros de datos !!!" - encapsulador en funci贸n de NFV (virtualizaci贸n de funciones de red) </h3><br>  Habiendo descubierto c贸mo se ve estructuralmente el sistema que estamos desarrollando, tiene sentido hablar sobre las opciones para su realizaci贸n f铆sica. <br><br><img src="https://habrastorage.org/webt/dy/2f/bo/dy2fbobgp1h95wrlb5ix7oufqsc.jpeg" alt="imagen"><br><br>  <i>A la izquierda hay un encapsulador Etherblade como un dispositivo CPE separado (versi贸n del campus).</i>  <i>A la derecha est谩 el encapsulador Etherblade implementado dentro del servidor (opci贸n para centros de datos).</i> <br><br>  Es interesante que al implementar un encapsulador en una placa con una interfaz PCIe y "ocultar" esta placa dentro del servidor, podemos crear la ilusi贸n de virtualizar esta funci贸n de red.  Este enfoque se llama NFV: virtualizaci贸n de funciones de red. <br><br>  El concepto de NFV implica deshacerse de dispositivos de red externos como firewalls, equilibradores de carga, etc. debido a la virtualizaci贸n de sus funciones dentro de los servidores.  La implementaci贸n del encapsulador como una funci贸n NFV nos permite deshacernos de los enrutadores "edge" f铆sicos. <br><br>  Entonces, NFV est谩 de moda y conveniente.  La dificultad es que, en t茅rminos de dise帽o de hardware, frenar PCIe no es tan f谩cil como ethernet.  Si ethernet es un protocolo serie serial, entonces PCIe es un protocolo transaccional complejo con muchos estados finales (esencialmente una pila de red implementada en hardware).  No olvide que el sistema operativo requiere los controladores adecuados para funcionar con el dispositivo PCIe. <br><br>  Una de las soluciones m谩s elegantes para el problema es el uso de placas FPGA, similar a la que se muestra al principio del art铆culo.  La siguiente figura muestra la arquitectura de la placa y ambas opciones para implementar el encapsulador en ella. <br><br><img src="https://habrastorage.org/webt/0e/t0/qh/0et0qhecnnikyxlobefzsm4fqju.jpeg" alt="imagen"><br><br>  Como puede ver, esta placa FPGA tiene adaptadores de red "externos" integrados, que son esencialmente convertidores entre Ethernet y PCIe.  Por lo tanto, la implementaci贸n del encapsulador en tales dispositivos hace posible obtener NFV "de inmediato", sin problemas innecesarios con PCIe y controladores de escritura. <br><br><h3>  De "privado a general": creaci贸n de un repositorio abierto de n煤cleos IP de red </h3><br>  Uno no puede estar en desacuerdo con el hecho de que hoy en d铆a hay muchos ASIC de red especializados (por ejemplo, de Broadcom) que pueden traducir cualquier proyecto de este tipo en otra historia de la serie "Disfrutando trabajando con FPGA".  El escepticismo es apropiado en este caso, sin embargo, quiero recordarle que el proyecto Etherblade.net no se limita a crear un dispositivo de red separado.  El objetivo principal de Etherblade.net es crear un repositorio abierto de n煤cleos IP parametrizados y documentados. <br><br>  Este repositorio puede convertirse en una base efectiva para crear una amplia gama de dispositivos de red (incluidos los m谩s ex贸ticos), que a su vez se pueden implementar tanto en FPGA como en forma de ASIC. <br><br>  Sobre esto, termino.  En el pr贸ximo art铆culo, iremos directamente al dise帽o de hardware, pero por ahora lo invito a que se familiarice con el proyecto m谩s cerca de <a href="https://etherblade.net/">etherblade.net</a> . </div></div><p>Source: <a href="https://habr.com/ru/post/484108/">https://habr.com/ru/post/484108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../484094/index.html">Crea un juego de disparos de zombis en tercera persona con DOTS</a></li>
<li><a href="../484096/index.html">La batalla de los dos Yakozun, o Cassandra vs HBase. Experiencia del equipo de Sberbank</a></li>
<li><a href="../484100/index.html">Trabajar con la interfaz en el SDK de Google Maps para Android</a></li>
<li><a href="../484102/index.html">PHP vs Python vs Ruby on Rails: Comparaci贸n detallada</a></li>
<li><a href="../484106/index.html">MVCC en PostgreSQL-6. Vac铆o</a></li>
<li><a href="../484112/index.html">驴Es posible hackear un avi贸n?</a></li>
<li><a href="../484114/index.html">Una selecci贸n de 143 traducciones del ensayo de Paul Graham (de 184)</a></li>
<li><a href="../484118/index.html">32 de enero</a></li>
<li><a href="../484120/index.html">Las habilidades m谩s buscadas en la profesi贸n de ingeniero de datos</a></li>
<li><a href="../484124/index.html">Nikolai Prokhorov: "En Finlandia hab铆a un gran departamento de Vneshtorg, que suministraba nuestros autom贸viles a pa铆ses extranjeros"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>