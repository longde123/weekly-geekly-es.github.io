<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ป ๐จ ๐คด๐ผ ุฅูุดุงุก ุจููุฉ ุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุชุชุญูู ุงูุฃุฎุทุงุก. ุงูุฌุฒุก 2. ุชุซุจูุช ูุชูููู ูุชูุฉ 4.3 virt ๐๐ฝ ๐๐ผ ๐จ๐ปโ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุนุชุจุฑ ูุฐู ุงูููุงูุฉ ุงุณุชูุฑุงุฑูุง ููููุงู ุงูุณุงุจู - " ุฅูุดุงุก ุจููุฉ ุฃุณุงุณูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุชุชุญูู ุงูุฃุฎุทุงุก. ุงูุฌุฒุก 1 - ุงูุชุญุถูุฑ ููุดุฑ ูุฌููุนุฉ ุงูุฅุตุฏุงุฑ 4.3 ". 


 ุณ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅูุดุงุก ุจููุฉ ุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุชุชุญูู ุงูุฃุฎุทุงุก. ุงูุฌุฒุก 2. ุชุซุจูุช ูุชูููู ูุชูุฉ 4.3 virt</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lenvendo/blog/485208/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุนุชุจุฑ ูุฐู ุงูููุงูุฉ ุงุณุชูุฑุงุฑูุง ููููุงู ุงูุณุงุจู - " <a href="https://habr.com/ru/company/lenvendo/blog/483980/">ุฅูุดุงุก ุจููุฉ ุฃุณุงุณูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุชุชุญูู ุงูุฃุฎุทุงุก.</a>  <a href="https://habr.com/ru/company/lenvendo/blog/483980/">ุงูุฌุฒุก 1 - ุงูุชุญุถูุฑ ููุดุฑ ูุฌููุนุฉ ุงูุฅุตุฏุงุฑ 4.3</a> ". </p><br><p style=";text-align:right;direction:rtl">  ุณููุธุฑ ูู ุนูููุฉ ุงูุชุซุจูุช ูุงูุชูููู ุงูุฃุณุงุณู ููุฌููุนุฉ oVirt 4.3 ูุงุณุชุถุงูุฉ ุฃุฌูุฒุฉ ุงูุชุฑุงุถูุฉ ูููู ุงููุตูู ุฅูููุง ุจุดูู ูุจูุฑ ุ ูุน ูุฑุงุนุงุฉ ุญูููุฉ ุฃู ุฌููุน ุงูุฎุทูุงุช ุงูุฃูููุฉ ูุฅุนุฏุงุฏ ุงูุจููุฉ ุงูุชุญุชูุฉ ูุฏ ุงูุชููุช ุจุงููุนู. </p><a name="habracut"></a><br><h2 id="vvodnaya-chast" style=";text-align:right;direction:rtl">  ุจุงุฏุฑุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุงููุฏู ุงูุฑุฆูุณู ูู ูุฐู ุงูููุงูุฉ ููุณ ุฅุนุทุงุก ุชุนูููุงุช ุฎุทูุฉ ุจุฎุทูุฉ ูู ุงููููุฐุฌ " <strong>ุงูุชุงูู</strong> -&gt; <strong>ูุนู</strong> -&gt; <strong>ุฅููุงุก</strong> " ุ ูููู ุฅุธูุงุฑ ุจุนุถ ุงูููุฒุงุช ุนูุฏ ุชุซุจูุชู ูุชููููู.  ูุฏ ูุง ุชุชูุงูู ุนูููุฉ ูุดุฑ ุงููุฌููุนุฉ ุงูุฎุงุตุฉ ุจู ุฏุงุฆููุง ูุน ุชูู ุงูููุตููุฉ ูููุง ุ ูุธุฑูุง ูุฎุตุงุฆุต ุงูุจููุฉ ุงูุชุญุชูุฉ ูุงูุจูุฆุฉ ุ ูููู ุงููุจุงุฏุฆ ุงูุนุงูุฉ ุณุชููู ูู ููุณูุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฌูุฉ ูุธุฑ <a href="https://www.ovirt.org/">ุฐุงุชูุฉ</a> ุ <a href="https://www.ovirt.org/">ูุดุจู vVirt 4.3</a> ูู ูุธุงุฆูู ุฅูู ุงูุฅุตุฏุงุฑ 5.x ูู VMware vSphere ุ ูููู ุจุงูุทุจุน ูุน ููุฒุงุช ุงูุชูููู ูุงูุชุดุบูู ุงูุฎุงุตุฉ ุจู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูุฃููุฆู ุงูููุชููู ุ ูููู ุงูุนุซูุฑ ุนูู ุฌููุน ุงูุงุฎุชูุงูุงุช ุจูู RHEV (ููุนุฑู ุฃูุถูุง ุจุงุณู vVirt) ู VMware vSphere ุนูู ุงูุฅูุชุฑูุช ุ ุนูู ุณุจูู ุงููุซุงู <a href="https://www.redhat.com/cms/managed-files/vi-virtualization-vmware-competitive-review-f10106jm-201803_0_0.pdf">ููุง</a> ุ ููู ูุง ุฒูุช ุณุฃูุงุญุธ ุฃุญูุงููุง ุจุนุถ ุงูุงุฎุชูุงูุงุช ุฃู ุฃูุฌู ุงูุชุดุงุจู ุจููููุง ุ ููููุง ููุง ุชูููู ุงูููุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ูููุตู ุ ุฃูุฏ ููุงุฑูุฉ ุงููููู ูู ุงูุนูู ูุน ุดุจูุงุช ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ.  ูููู OVirt ุจุชุทุจูู ูุจุฏุฃ ููุงุซู ูุฅุฏุงุฑุฉ ุงูุดุจูุงุช ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ (ูุดุงุฑ ุฅูููุง ูููุง ููู ุจุงุณู VM) ุ ููุง ูู ุงูุญุงู ูู VMware vSphere: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู ุฌุณุฑ Linux ุงูููุงุณู (ูู VMware - <em>Standard vSwitch</em> ) ุงูุฐู ูุนูู ุนูู ูุถููุงุช ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู Open vSwitch (OVS) (ูู VMware ุ <em>Distributed vSwitch</em> ) ูู ููุชุงุญ ุชุจุฏูู ุงูุชุฑุงุถู ููุฒุน ูุชููู ูู ูููููู ุฑุฆูุณููู: ุฎุงุฏู OVN ูุฑูุฒู ููุญุฏุงุช ุชุญูู OVN ุนูู ุงููุถูููู ุงููุฏุงุฑูู. </li></ul><br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูุธุฑูุง ูุจุณุงุทุฉ ุงูุชูููุฐ ุ ุณุชุตู ุงูููุงูุฉ ุชูููู ุงูุดุจูุฉ ูู vVs ูุฃุฌูุฒุฉ VM ุจุงุณุชุฎุฏุงู ุฌุณุฑ Linux ุงูููุงุณู ุ ููู ุงูุฎูุงุฑ ุงูููุงุณู ุนูุฏ ุงุณุชุฎุฏุงู ุจุฑูุงูุฌ Hypervisor KVM. </p><br><p style=";text-align:right;direction:rtl"> ูู ูุฐุง ุงูุตุฏุฏ ุ ููุงู ุงูุนุฏูุฏ ูู ุงูููุงุนุฏ ุงูุฃุณุงุณูุฉ ููุนูู ูุน ุดุจูุฉ ูู ูุชูุฉ ูู ุงูุฃูุถู ุนุฏู ุงูุชูุงููุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ุฌููุน ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ ุนูู ุงููุถูููู ูุชุทุงุจูุฉ ูุจู ุฅุถุงูุชูุง ุฅูู vVirt ุ ุจุงุณุชุซูุงุก ุนูุงููู IP. </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฃุฎุฐ ุงููุถูู ุชุญุช ุณูุทุฑุฉ oVirt ุ ูุง ูุดุฌุนู ูุซูุฑูุง ุชุบููุฑ ุดูุก ูุง ูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ ุจุฃูุฏูู ุ ุฏูู ุงูุซูุฉ ุงููุงููุฉ ูู ุชุตุฑูุงุชู ุ ูุฃู ูููู oVirt ุณูุนูุฏูุง ุจุจุณุงุทุฉ ุฅูู ุงูุฅุนุฏุงุฏุงุช ุงูุณุงุจูุฉ ุ ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงููุถูู ุฃู ุงููููู. </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุชู ุฅุถุงูุฉ ุดุจูุฉ ุฌุฏูุฏุฉ ูุฌูุงุฒ VM ุ ููุฐูู ุงูุนูู ูุนูุง ุ ููุท ูู ูุญุฏุฉ ุชุญูู ุฅุฏุงุฑุฉ oVirt. </li></ul><br><p style=";text-align:right;direction:rtl">  <u>ููุทุฉ</u> ุฃุฎุฑู <u>ูููุฉ</u> - ุจุงููุณุจุฉ ูุจูุฆุฉ ุญุฑุฌุฉ ููุบุงูุฉ (ุญุณุงุณุฉ ููุบุงูุฉ ูููุฏุงู ุงููุงู) ุ ูุง ูุฒุงู ูู ุงููุณุชุญุณู ุงุณุชุฎุฏุงู ุงูุฏุนู ุงููุฏููุน ูุงุณุชุฎุฏุงู <a href="https://access.redhat.com/products/red-hat-virtualization">Red Hat Virtualization 4.3</a> .  ุฃุซูุงุก ุชุดุบูู ูุธุงู oVirt ุ ูุฏ ูููู ููุงู ุจุนุถ ุงูููุงุท ุงูุชู ูููุตุญ ุจุงูุญุตูู ุนูู ูุณุงุนุฏุฉ ูุคููุฉ ูู ุฃูุฑุจ ููุช ูููู ุ ุจุฏูุงู ูู ุงูุชุนุงูู ูุนูู ุจููุณู. </p><br><p style=";text-align:right;direction:rtl">  ูุฃุฎูุฑูุง ุ <u>ููุตู</u> ูุจู ุชุนุฑูู ูุฌููุนุฉ oVirt ุจุงูุชุนุฑู ุนูู <a href="https://www.ovirt.org/documentation/">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> ุญุชู ุชููู ุนูู ุฏุฑุงูุฉ ุจุงูููุงููู ูุงูุชุนุงุฑูู ุงูุฃุณุงุณูุฉ ุนูู ุงูุฃูู ุ ูุฅูุง ุณูููู ูู ุงูุตุนุจ ููููุงู ูุฑุงุกุฉ ุงูููุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุซุงุฆู ุงูุชุงููุฉ ุฃุณุงุณูุฉ ูููู ุงูููุงูุฉ ููุจุงุฏุฆ ุชุดุบูู ูุฌููุนุฉ oVirt: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://www.ovirt.org/documentation/install-guide/Installation_Guide/">ุฏููู ุงูุชุซุจูุช oVirt</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://www.ovirt.org/documentation/self-hosted/Self-Hosted_Engine_Guide/">ุฏููู ุงููุญุฑู ุงููุณุชุถุงู ุฐุงุชููุง</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://www.ovirt.org/documentation/admin-guide/administration-guide/">oVirt ุฏููู ุงูุฅุฏุงุฑุฉ</a> <a href="https://www.ovirt.org/documentation/admin-guide/administration-guide/"><br></a> </li></ul><br><p style=";text-align:right;direction:rtl">  ูุญุฏุฉ ุงูุชุฎุฒูู ููุณุช ูุจูุฑุฉ ุฌุฏูุง ุ ููู ุงููููู ูู ุณุงุนุฉ ุฃู ุณุงุนุชูู ุฅุชูุงู ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ ุ ูุจุงููุณุจุฉ ููุญุจู ุงูุชูุงุตูู ุ ููุตู ุจูุฑุงุกุฉ <a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.3/">ูุซุงุฆู ุงูููุชุฌ ุงูุฎุงุตุฉ ุจู Red Hat Virtualization 4.3</a> - RHEV ู oVirt ูู ููุณูุง ุจุดูู ุฃุณุงุณู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุฅุฐุง ุชู ุงูุงูุชูุงุก ูู ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ ุนูู ุงููุถูููู ุ ูุงูููุงุชูุญ ูุงูุชุฎุฒูู ุ ูุฅููุง ููุชูู ูุจุงุดุฑุฉ ุฅูู ูุดุฑ oVirt. </p><br><h2 id="chast-2-ustanovka-i-nastroyka-klastera-ovirt-43" style=";text-align:right;direction:rtl">  ุงูุฌุฒุก 2. ุชุซุจูุช ูุชูููู ูุชูุฉ 4.3 virt </h2><br><p style=";text-align:right;direction:rtl">  ูุณูููุฉ ุงูุชูุฌูู ุ ุณุฃููู ุจุฅุฏุฑุงุฌ ุงูุฃูุณุงู ุงูุฑุฆูุณูุฉ ูู ูุฐู ุงูููุงูุฉ ุ ูุงูุชู ูุฌุจ ุงูููุงู ุจูุง ุจุฏูุฑูุง: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุซุจูุช ุฎุงุฏู ุฅุฏุงุฑุฉ oVirt </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ุฌุฏูุฏ </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุชูุฉ ุฌุฏูุฏุฉ </li><li style=";text-align:right;direction:rtl">  ุชุซุจูุช ูุถูููู ุฅุถุงูููู ูู ุจูุฆุฉ ุฐุงุชูุฉ ุงูุงุณุชุถุงูุฉ </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุณุงุญุฉ ุงูุชุฎุฒูู ุฃู ูุฌุงูุงุช ุงูุชุฎุฒูู </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุชูููู ุดุจูุงุช ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุตูุฑุฉ ุชุซุจูุช ููุดุฑ ุฌูุงุฒ ุงูุชุฑุงุถู </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุขูุฉ ุงูุชุฑุงุถูุฉ </li></ol><br><h3 id="ustanovka-upravlyayuschego-servera-ovirt" style=";text-align:right;direction:rtl">  ุชุซุจูุช ุฎุงุฏู ุฅุฏุงุฑุฉ oVirt </h3><br><p style=";text-align:right;direction:rtl">  <strong>ุฎุงุฏู ุฅุฏุงุฑุฉ oVirt</strong> ูู ุงูุนูุตุฑ ุงูุฃูุซุฑ ุฃูููุฉ ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ูู oVirt ุ ูู ุดูู ุฌูุงุฒ ุธุงูุฑู ุ ูุถูู ุ ุฃู ุฌูุงุฒ ุงูุชุฑุงุถู ูุฏูุฑ ุงูุจููุฉ ุงูุชุญุชูุฉ ุจุงููุงูู ูู oVirt. </p><br><p style=";text-align:right;direction:rtl">  ูุธุงุฆุฑูุง ูุซููุฉ ูู ุนุงูู ุงูุงูุชุฑุงุถูุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุฑูุงูุฌ VMware vSphere - ุฎุงุฏู vCenter </li><li style=";text-align:right;direction:rtl">  Microsoft Hyper-V - ูุฏูุฑ ุงูุฌูุงุฒ ุงูุธุงูุฑู ููุฑูุฒ ุงููุธุงู (VMM). </li></ul><br><p style=";text-align:right;direction:rtl">  ูุชุซุจูุช ุฎุงุฏู ุฅุฏุงุฑุฉ oVirt ุ ูุฏููุง ุฎูุงุฑุงู: </p><br><p style=";text-align:right;direction:rtl">  <u>ุงูุฎูุงุฑ 1</u> <br>  ูุดุฑ ุฎุงุฏู ุจุงุนุชุจุงุฑู VM ุงููุชุฎุตุตุฉ ุฃู ุงููุถูู. </p><br><p style=";text-align:right;direction:rtl">  ูุนูู ูุฐุง ุงูุฎูุงุฑ ุจุดูู ุฌูุฏ ุ ูููู ุจุดุฑุท ุฃู ูุนูู ูุซู VM ุจุดูู ูุณุชูู ุนู ุงููุชูุฉ ุ ุฃู  ูุง ูุนูู ุนูู ุฃู ูุถูู ูู ุงููุชูุฉ ูุฌูุงุฒ ุธุงูุฑู ููุชุธู ูููู ุจุชุดุบูู KVM. </p><br><p style=";text-align:right;direction:rtl">  ููุงุฐุง ูุง ููููู ูุดุฑ ูุซู ูุฐุง VM ุนูู ุงููุถูููู ุงููุชูุฉุ </p><br><p style=";text-align:right;direction:rtl">  ูู ุจุฏุงูุฉ ุนูููุฉ ูุดุฑ ุฎุงุฏู ุฅุฏุงุฑุฉ oVirt ุ ูุฏููุง ูุนุถูุฉ - ุชุญุชุงุฌ ุฅูู ุชุซุจูุช ุฅุฏุงุฑุฉ VM ุ ููู ุงููุชูุฉ ููุณูุง ูู ุชูุชู ุจุนุฏ ุ ูุจุงูุชุงูู ุ ูุง ุงูุฐู ููููู ุงูุฎุฑูุฌ ุจู ุนูู ุงูููุฑุ  ูู ุงูุตุญูุญ ุชุซุจูุช KVM ุนูู ุนูุฏุฉ ูุธุงู ุงููุฌููุนุฉ ุงููุณุชูุจููุฉ ุ ุซู ุฅูุดุงุก ุฌูุงุฒ ุธุงูุฑู ุนููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุน ูุธุงู CentOS OS ููุดุฑ ูุญุฑู oVirt ููู.  ูููู ุงูููุงู ุจุฐูู ุนุงุฏุฉู ูุฃุณุจุงุจ ุงูุณูุทุฑุฉ ุงููุงููุฉ ุนูู ูุซู ูุฐุง ุงูุฌูุงุฒ ุงูุธุงูุฑู ุ ูููู ูุฐุง ูู ููุฉ ุฎุงุทุฆุฉ ุ ูุฃูู ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุงููุณุชูุจู ุ ุณูููู ููุงู ูุดุงูู 100 ูช ูุน ูุซู ูุฐุง ุงูุฌูุงุฒ ุงููุณูุทุฑ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ูููู ุชุฑุญูููุง ูู ูุญุฏุฉ ุงูุชุญูู ูู vVirt ุจูู ุงููุถูููู (ุงูุนูุฏ) ุงููุชูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุชุฑุญูู ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช KVM ุนุจุฑ <em>ุชุฑุญูู virsh</em> ุ ุณูููู ุงููุตูู ุฅูู ูุฐุง ุงูุฌูุงุฒ ุบูุฑ ูุชุงุญ ููุฅุฏุงุฑุฉ ูู ูุญุฏุฉ ุงูุชุญูู ูู vVirt. </li><li style=";text-align:right;direction:rtl">  ูุง ูููู ุฅุญุถุงุฑ ูุถููู ุงููุชูุฉ ุฅูู <strong>ูุถุน ุงูุตูุงูุฉ</strong> ุฅุฐุง ููุช ุจุชุฑุญูู VM ูู ูุถูู ุฅูู ูุถูู ุจุงุณุชุฎุฏุงู <em>ุชุฑุญูู virsh</em> . </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุนู ูู ุดูุก ููููุง ููููุงุนุฏ - ุงุณุชุฎุฏู ุฅูุง ูุถูููุง ูููุตูุงู ุฃู VM ูุณุชูููุง ูุนูู ุนููู ูุฎุงุฏู ุชุญูู oVirt ุ ุฃู ุงุณุชุฎุฏูู ููุง ูู ููุชูุจ ูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู. </p><br><p style=";text-align:right;direction:rtl">  <u>ุงูุฎูุงุฑ 2</u> <br>  ุชุซุจูุช vV Engine Appliance ุนูู ูุถูู ุงููุชูุฉ ุงูุฐู ุชุฏูุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุงูุฎูุงุฑ ุงูุฐู ุณูุชู ุงููุธุฑ ููู ุฃุฏูุงู ุ ุนูู ุฃูู ุฃูุซุฑ ุตุญุฉ ูููุงุกูุฉ ูู ุญุงูุชูุง. <br>  ูุชู ูุตู ูุชุทูุจุงุช ูุซู VM ุฃุฏูุงู ุ ูุณูุถูู ููุท ุฃูู ูู ุงููุณุชุญุณู ุฃู ูููู ููุงู ูุถููุงู ุนูู ุงูุฃูู ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุชู ูููู ุชุดุบูู ุฅุฏุงุฑุฉ VM ุนูููุง ูุฌุนูููุง ูุชุณุงูุญูู ูุน ุงูุฃุฎุทุงุก.  ุฃูุฏ ููุง ุฃู ุฃุถูู ุฃูู ุ ููุง ูุชุจุช ุจุงููุนู ูู ุงูุชุนูููุงุช ุงููุงุฑุฏุฉ ูู ุงูููุงู ุงูุณุงุจู ุ ูู ุฃุชููู ูู ุงูุญุตูู ุนูู <em>ุงููุณุงู</em> ุนูู ูุฌููุนุฉ oVirt ูู ูุถูููู ุ ูุน ุงููุฏุฑุฉ ุนูู ุชุดุบูู ูุญุฑู VM ุงููุณุชุถุงู ุนูููุง. </p><br><h4 id="ustanovka-ovirt-engine-appliance-na-pervyy-host-klastera" style=";text-align:right;direction:rtl">  ุชุซุจูุช oVirt Engine Appliance ุนูู ูุถูู ุงููุชูุฉ ุงูุฃูู </h4><br><p style=";text-align:right;direction:rtl">  ุฑุงุจุท ุฅูู ุงููุซุงุฆู ุงูุฑุณููุฉ - <a href="https://www.ovirt.org/documentation/self-hosted/Self-Hosted_Engine_Guide/">ุฏููู ูุญุฑู ุงูุงุณุชุถุงูุฉ ุงูุฐุงุชูุฉ ูู virt</a> ุ ุงููุตู " <a href="https://www.ovirt.org/documentation/self-hosted/chap-Deploying_Self-Hosted_Engine.html">ูุดุฑ ูุญุฑู ุงูุงุณุชุถุงูุฉ ุงูุฐุงุชูุฉ ุจุงุณุชุฎุฏุงู ุณุทุฑ ุงูุฃูุงูุฑ</a> " </p><br><p style=";text-align:right;direction:rtl">  ูุดูุฑ ุงููุณุชูุฏ ุฅูู ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ ุงูุชู ูุฌุจ ุงูููุงุก ุจูุง ูุจู ูุดุฑ ูุญุฑู VM ุงููุณุชุถุงู ุ ููุฐูู ุนูููุฉ ุงูุชุซุจูุช ููุตููุฉ ุจุงูุชูุตูู ุ ูุฐุง ูุฅู ุชูุฑุงุฑูุง ุญุฑูููุง ูุง ูุนูู ูู ุ ูุฐูู ูุญู ูุฑูุฒ ุนูู ุจุนุถ ุงูุชูุงุตูู ุงููููุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุจู ุงูุจุฏุก ูู ุฌููุน ุงูุฎุทูุงุช ุ ุชุฃูุฏ ูู ุชูููู ุฏุนู ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุฅุนุฏุงุฏุงุช BIOS ุนูู ุงููุถูู. </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุซุจูุช ุญุฒูุฉ ูุซุจูุช ุงููุญุฑู ุงููุณุชุถุงู ุนูู ุงููุถูู: </li></ul><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm yum -y install epel-release yum install screen ovirt-hosted-engine-setup</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุจุฏุฃ ุฅุฌุฑุงุก ูุดุฑ oVirt Hosted Engine ูู ุงูุดุงุดุฉ ุนูู ุงููุถูู (ููููู ุงูุฎุฑูุฌ ููู ุนุจุฑ Ctrl-A + D ุ ูุฅุบูุงูู ุนุจุฑ Ctrl-D): </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">screen hosted-engine --deploy</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฑุบุจุช ูู ุฐูู ุ ููููู ุจุฏุก ุงูุชุซุจูุช ุจููู ุฅุฌุงุจุงุช ุฌุงูุฒ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">hosted-engine --deploy --config-append=/var/lib/ovirt-hosted-engine-setup/answers/answers-ohe.conf</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุซูุงุก ูุดุฑ ุงููุญุฑู ุงููุณุชุถุงู ุ ุญุฏุฏ ุฌููุน ุงููุนููุงุช ุงููุงุฒูุฉ: </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">-   -  vCPU  vRAM ( 4 vCPU  16 ) -  -    hosted engine  โ    FC -  LUN   hosted engine -       hosted engine โ     Local (  PostgreSQL    )  . .</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชุซุจูุช ุฌูุงุฒ VM ูููู ุงููุตูู ุฅููู ุจุดูู ูุจูุฑ ุจุงุณุชุฎุฏุงู ูุญุฑู ูุณุชุถุงู ุ ุฃูุดุฃูุง ุฑูู LUN ุฎุงุต 4 ู 150 GB ูู ูุธุงู ุงูุชุฎุฒูู ุ ูุงูุฐู ุชู ุชูุฏููู ุจุนุฏ ุฐูู ุฅูู ูุถููู ุงููุชูุฉ - ุฑุงุฌุน <a href="https://habr.com/ru/company/lenvendo/blog/483980/">ุงูููุงู ุงูุณุงุจู</a> . </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ููุช ุณุงุจู ูุญุตูุง ุฃูุถูุง ูุฏู ุธููุฑู ุนูู ุงููุถูููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">multipath -ll โฆ 3600a098000e4b4b3000003c95d171065 dm-3 DELL , MD38xxf size=150G features='3 queue_if_no_path pg_init_retries 50' hwhandler='1 rdac' wp=rw |-+- policy='service-time 0' prio=14 status=active | `- 15:0:0:4 sdc 8:32 active ready running `-+- policy='service-time 0' prio=9 status=enabled `- 18:0:0:4 sdj 8:144 active ready running</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุชุชุถูู ุนูููุฉ ูุดุฑ ุงููุญุฑู ุงููุณุชุถุงูุฉ ููุณูุง ุฃู ุดูุก ูุนูุฏ ุ ูู ุงูููุงูุฉ ูุฌุจ ุฃู ูุญุตู ุนูู ุดูุก ูุซู ูุฐุง: </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[ INFO ] Generating answer file '/var/lib/ovirt-hosted-engine-setup/answers/answers-20191129131846.conf' [ INFO ] Generating answer file '/etc/ovirt-hosted-engine/answers.conf' [ INFO ] Stage: Pre-termination [ INFO ] Stage: Termination [ INFO ] Hosted Engine successfully deployed</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุชุญูู ูู ุชูุงูุฑ ุฎุฏูุงุช oVirt ุนูู ุงููุถูู:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qv/kd/c8/qvkdc8tkfhqkxar1v13jxt4ozxs.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ูู ุดูุก ุจุดูู ุตุญูุญ ุ ุซู ุจุนุฏ ุงูุชูุงู ุงูุชุซุจูุช ุ ุงูุชูู ุฅูู <em><a href="https://ovirt_hostname/ovirt-engine">https: // ovirt_hostname / ovirt-engine</a></em> ูู ููุจููุชุฑ ุงููุณุคูู ุจุงุณุชุฎุฏุงู ูุชุตูุญ ููุจ ูุงููุฑ ููู [ <strong>Portal Portal</strong> ]. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุทุฉ ุดุงุดุฉ "ุจูุงุจุฉ ุงูุฅุฏุงุฑุฉ"</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/m7/sq/xp/m7sqxpd7qkl3dugl4oj7_5bga5g.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุฅุฏุฎุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ (ุงููุนูููู ุฃุซูุงุก ุงูุชุซุจูุช) ูู ุงููุงูุฐุฉ ููุง ูู ููุทุฉ ุงูุดุงุดุฉ ุ ูุตู ุฅูู ููุญุฉ ุชุญูู Open Virtualization Manager ุ ุญูุซ ููููู ุชูููุฐ ุฌููุน ุงูุฅุฌุฑุงุกุงุช ุจุงุณุชุฎุฏุงู ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ุงูุงูุชุฑุงุถูุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ูุฑูุฒ ุงูุจูุงูุงุช </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ูุชูููู ูุชูุฉ </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุงููุถูููู ูุฅุฏุงุฑุชูุง </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ููุงุทู ุงูุชุฎุฒูู ุฃู ูุฌุงูุงุช ุงูุชุฎุฒูู ูุฃูุฑุงุต ุงูุฌูุงุฒ ุงูุธุงูุฑู </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ูุชูููู ุดุจูุงุช ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุ ุตูุฑ ุงูุชุซุจูุช ุ ููุงูุจ VM ูุฅุฏุงุฑุชูุง </li></ol><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/4r/t_/qg/4rt_qg6irvl-mf6bsorclnmr36e.png"></p><br><p style=";text-align:right;direction:rtl">  ุณูุชู ุงููุธุฑ ูู ุฌููุน ูุฐู ุงูุฅุฌุฑุงุกุงุช ูู ููุช ูุงุญู ุ ุดูุก ูู ุฒูุฒุงูุฉ ูุจูุฑุฉ ุ ุดูุก ุฃูุซุฑ ุชูุตููุงู ูุจูุฑูู ุฏูููุฉ. <br>  ููู ุฃููุงู ุ ุฃูุตู ุจูุฑุงุกุฉ ูุฐู ุงููุธููุฉ ุงูุฅุถุงููุฉ ุ ูุงูุชู ุฑุจูุง ูููู ุงููุซูุฑ ูููุง ูููุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  <strong>ุฅุถุงูุฉ</strong> </p><br><p style=";text-align:right;direction:rtl">  <strong>1) ูู</strong> ุญูุซ ุงููุจุฏุฃ ุ ุฅุฐุง ูุงูุช ููุงู ุญุงุฌุฉ ุ ููุง ุดูุก ูููุนู ูู ุชุซุจูุช ุจุฑูุงูุฌ Hypervisor ูุณุจููุง ุนูู ุงูุนูุฏ ุงูุนูููุฏูุฉ ุจุงุณุชุฎุฏุงู <strong><em>ุญุฒู libvirt</em></strong> ู <strong><em>qemu-</em></strong> <strong><em>kvm</em></strong> (ุฃู <strong><em>qemu-kvm-ev</em></strong> ) ูู ุงูุฅุตุฏุงุฑ ุงููุฑุบูุจ ุ ุนูู ุงูุฑุบู ูู ุฃูู ุนูุฏ ูุดุฑ ุนูุฏุฉ ูุธุงู oVirt ุ ุงูุนููุง ุจููุณู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฅุฐุง ูู ูุชู ุชุซุจูุช <strong><em>libvirt</em></strong> ู <strong><em>qemu-</em></strong> <strong><em>kvm</em></strong> ุจุฃุญุฏุซ ุฅุตุฏุงุฑ ุ ูููููู ุงูุญุตูู ุนูู ูุฐุง ุงูุฎุทุฃ ุฃุซูุงุก ูุดุฑ ุงููุญุฑู ุงููุณุชุถุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">error: unsupported configuration: unknown CPU feature: md-clear</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃู  ูุฌุจ ุฃู ูููู ูุฏูู <a href="https://centos.pkgs.org/7/centos-updates-x86_64/libvirt-4.5.0-10.el7_6.12.x86_64.rpm.html">ุฅุตุฏุงุฑ ูุญุฏุซ ูู</a> <strong><em>libvirt</em></strong> ูุน ุญูุงูุฉ <a href="https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/MDS">MDS</a> ุงูุชู ุชุฏุนู ูุฐู ุงูุณูุงุณุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&lt;feature policy='require' name='md-clear'/&gt;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุซุจูุช libvirt v.4.5.0-10.el7_6.12 ุ ูุน ุฏุนู md-clear: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum-config-manager --disable mirror.centos.org_centos-7_7_virt_x86_64_libvirt-latest_ yum install centos-release-qemu-ev yum update yum install qemu-kvm qemu-img virt-manager libvirt libvirt-python libvirt-client virt-install virt-viewer libguestfs libguestfs-tools dejavu-lgc-sans-fonts virt-top libvirt libvirt-python libvirt-client systemctl enable libvirtd systemctl restart libvirtd &amp;&amp; systemctl status libvirtd</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญูู ูู ูุฌูุฏ ุฏุนู md-clear:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">virsh domcapabilities kvm | grep require &lt;feature policy='require' name='ss'/&gt; &lt;feature policy='require' name='hypervisor'/&gt; &lt;feature policy='require' name='tsc_adjust'/&gt; &lt;feature policy='require' name='clflushopt'/&gt; &lt;feature policy='require' name='pku'/&gt; &lt;feature policy='require' name='md-clear'/&gt; &lt;feature policy='require' name='stibp'/&gt; &lt;feature policy='require' name='ssbd'/&gt; &lt;feature policy='require' name='invtsc'/&gt;</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ููููู ูุชุงุจุนุฉ ุชุซุจูุช ุงููุญุฑู ุงููุณุชุถุงู. </p><br><p style=";text-align:right;direction:rtl">  <strong>2)</strong> ูู ุงูุฅุตุฏุงุฑ 4.3 ูู vVirt ุ ูุนุฏ ูุฌูุฏ ุฌุฏุงุฑ <strong>ุงูุญูุงูุฉ</strong> ุงููุงุฑู ูุงุณุชุฎุฏุงูู ุดุฑุทูุง ุฃุณุงุณููุง. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุฐุง ุญุฏุซ ุฃุซูุงุก ูุดุฑ VM ูููุญุฑู ุงููุณุชุถุงู ุงูุฎุทุฃ ุงูุชุงูู:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[ ERROR ] fatal: [localhost]: FAILED! =&gt; {"changed": false, "msg": "firewalld is required to be enabled and active in order to correctly deploy hosted-engine. Please check, fix accordingly and re-deploy.\n"} [ ERROR ] Failed to execute stage 'Closing up': Failed executing ansible-playbook [https://bugzilla.redhat.com/show_bug.cgi?id=1608467</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุฅููุงู ุชุดุบูู ุฌุฏุงุฑ ุญูุงูุฉ ุขุฎุฑ (ูู ุญุงูุฉ ุงุณุชุฎุฏุงูู) ุ ูุชุซุจูุช <strong>ุฌุฏุงุฑ ุงูุญูุงูุฉ</strong> ูุชุดุบููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum install firewalld systemctl enable firewalld systemctl start firewalld firewall-cmd --state firewall-cmd --get-default-zone firewall-cmd --get-active-zones firewall-cmd --get-zones</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ููุช ูุงุญู ุ ุนูุฏ ุชุซุจูุช ูููู ovirt ุนูู ูุถูู ุฌุฏูุฏ ูููุชูุฉ ุ ุณูููู ุจุชูููู ุงูููุงูุฐ ุงููุทููุจุฉ ูู <strong>firewalld</strong> ุชููุงุฆููุง. </p><br><p style=";text-align:right;direction:rtl">  <strong>3)</strong> ุฅุนุงุฏุฉ ุชุดุบูู ูุถูู ุจุงุณุชุฎุฏุงู VM ูุนูู ุนููู ูุน ูุญุฑู ูุณุชุถุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุงูุนุงุฏุฉ ุ <a href="https://www.ovirt.org/documentation/self-hosted/chap-Maintenance_and_Upgrading_Resources.html">ุงููุฑุฌุน 1</a> <a href="https://www.ovirt.org/documentation/self-hosted/chap-Troubleshooting.html">ูุงููุฑุฌุน 2</a> ุฅูู ูุซุงุฆู ุงูุชูุฌูู. </p><br><p style=";text-align:right;direction:rtl">  ุชุชู ุฌููุน ุฅุฏุงุฑุฉ ุงููุญุฑู ุงููุณุชุถุงู VM ููุท ุจุงุณุชุฎุฏุงู ุฃูุฑ <strong>ุงููุดุบู</strong> <strong>ุงููุณุชุถุงู</strong> ุนูู ุงููุถูู ุญูุซ ูุนูู ุ ูุชุญุชุงุฌ ุฅูู ูุณูุงู <strong>virsh</strong> ุ ุจุงูุฅุถุงูุฉ ุฅูู ุญูููุฉ ุฃูู ููููู ุงูุงุชุตุงู ุจูุฐุง VM ุนุจุฑ SSH ูุชูููุฐ ุงูุฃูุฑ " <strong>shutdown</strong> " ุนููู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฅุฌุฑุงุก ุงูุฎุงุต ุจูุถุน VM ูู ูุถุน ุงูุฎุฏูุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">hosted-engine --set-maintenance --mode=global hosted-engine --vm-status !! Cluster is in GLOBAL MAINTENANCE mode !! --== Host host1.test.local (id: 1) status ==-- conf_on_shared_storage : True Status up-to-date : True Hostname : host1.test.local Host ID : 1 Engine status : {"health": "good", "vm": "up", "detail": "Up"} Score : 3400 stopped : False Local maintenance : False crc32 : dee1a774 local_conf_timestamp : 1821 Host timestamp : 1821 Extra metadata (valid at timestamp): metadata_parse_version=1 metadata_feature_version=1 timestamp=1821 (Sat Nov 29 14:25:19 2019) host-id=1 score=3400 vm_conf_refresh_time=1821 (Sat Nov 29 14:25:19 2019) conf_on_shared_storage=True maintenance=False state=GlobalMaintenance stopped=False hosted-engine --vm-shutdown</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูููู ุจุฅุนุงุฏุฉ ุชุดุบูู ุงููุถูู ุจุงุณุชุฎุฏุงู ูููู ุงููุญุฑู ุงููุณุชุถุงู ูููุนู ูุง ูุญุชุงุฌ ุฅููู. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ุชุญูู ูู ุญุงูุฉ ุฌูุงุฒ VM ุจุงุณุชุฎุฏุงู ุงููุญุฑู ุงููุณุชุถุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">hosted-engine --vm-status</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ูุจุฏุฃ ุชุดุบูู VM ูุน ุงููุญุฑู ุงููุณุชุถุงู ุ ูุฅุฐุง ุฑุฃููุง ุฃุฎุทุงุก ููุงุซูุฉ ูู ุณุฌู ุงูุฎุฏูุฉ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฎุทุฃ ูู ุณุฌู ุงูุฎุฏูุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">journalctl -u ovirt-ha-agent ... Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.hosted_engine.HostedEngine ERROR Failed to start necessary monitors Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.agent.Agent ERROR Traceback (most recent call last):#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/agent.py", line 131, in _run_agent#012 return action(he)#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/agent.py", line 55, in action_proper#012 return he.start_monitoring()#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/hosted_engine.py", line 413, in start_monitoring#012 self._initialize_broker()#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/hosted_engine.py", line 537, in _initialize_broker#012 m.get('options', {}))#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/lib/brokerlink.py", line 86, in start_monitor#012 ).format(t=type, o=options, e=e)#012RequestError: brokerlink - failed to start monitor via ovirt-ha-broker: [Errno 2] No such file or directory, [monitor: 'ping', options: {'addr': '172.20.32.32'}] Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.agent.Agent ERROR Trying to restart agent</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุซู ูููู ุจุชูุตูู ุงูุชุฎุฒูู ูุฅุนุงุฏุฉ ุชุดุบูู ุงููููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">hosted-engine --connect-storage systemctl restart ovirt-ha-agent systemctl status ovirt-ha-agent hosted-engine --vm-start hosted-engine --vm-status</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุฏุก ุชุดุบูู VM ุจูุญุฑู ูุณุชุถุงู ุ ูููู ุจุฅุฒุงูุชู ูู ูุถุน ุงูุตูุงูุฉ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุฌุฑุงุกุงุช ุฅุฒุงูุฉ VM ูู ูุถุน ุงูุตูุงูุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">hosted-engine --check-liveliness hosted-engine --set-maintenance --mode=none hosted-engine --vm-status --== Host host1.test.local (id: 1) status ==-- conf_on_shared_storage : True Status up-to-date : True Hostname : host1.test.local Host ID : 1 Engine status : {"health": "good", "vm": "up", "detail": "Up"} Score : 3400 stopped : False Local maintenance : False crc32 : 6d1eb25f local_conf_timestamp : 6222296 Host timestamp : 6222296 Extra metadata (valid at timestamp): metadata_parse_version=1 metadata_feature_version=1 timestamp=6222296 (Fri Jan 17 11:40:43 2020) host-id=1 score=3400 vm_conf_refresh_time=6222296 (Fri Jan 17 11:40:43 2020) conf_on_shared_storage=True maintenance=False state=EngineUp stopped=False</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  <strong>4)</strong> ุฅุฒุงูุฉ ุงููุญุฑู ุงููุณุชุถุงู ููู ูุง ูุชุนูู ุจู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุฃุญูุงู ูุฏ ูููู ูู ุงูุถุฑูุฑู ุฅุฒุงูุฉ ูุญุฑู ูุณุชุถุงู ูุซุจุช ูุณุจููุง ุจุดูู ุตุญูุญ - <a href="https://www.ovirt.org/documentation/self-hosted/chap-Troubleshooting.html">ุฑุงุจุท</a> ุฅูู ูุณุชูุฏ ุฅุฑุดุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ููุท ูู ุจุชูููุฐ ุงูุฃูุฑ ุนูู ุงููุถูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">/usr/sbin/ovirt-hosted-engine-cleanup</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุงุญุฐู ุงูุญุฒู ุบูุฑ ุงูุถุฑูุฑูุฉ ุ ูุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุจุนุถ ุงูุชููููุงุช ูุจู ุฐูู ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum autoremove ovirt* qemu* virt* libvirt* libguestfs</code> </pre> <br><h4 id="sozdanie-novogo-datacentra" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ุฌุฏูุฏ </h4><br><p style=";text-align:right;direction:rtl">  ุงููุซุงุฆู ุงููุฑุฌุนูุฉ - ุฏููู ุฅุฏุงุฑุฉ oVirt.  <a href="https://www.ovirt.org/documentation/admin-guide/chap-Data_Centers.html">ุงููุตู 4: ูุฑุงูุฒ ุงูุจูุงูุงุช</a> </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูุญุฏุฏ ูุงููุฉ <strong>ูุฑูุฒ ุงูุจูุงูุงุช</strong> (ุฃูุชุจุณ ูู ุงูุชุนูููุงุช) - ูุฐุง ููุงู ููุทูู ูุญุฏุฏ ูุฌููุนุฉ ูู ุงูููุงุฑุฏ ุงููุณุชุฎุฏูุฉ ูู ุจูุฆุฉ ูุนููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฑูุฒ ุงูุจูุงูุงุช ุนุจุงุฑุฉ ุนู ุญุงููุฉ ูู ุฃููุงุน ุชุชููู ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูููุงุฑุฏ ุงูููุทููุฉ ูู ุดูู ูุฌููุนุงุช ูุงููุถูููู </li><li style=";text-align:right;direction:rtl">  ููุงุฑุฏ ุดุจูุฉ ุงููุชูุฉ ูู ุดูู ุดุจูุงุช ููุทููุฉ ููุญููุงุช ูุนููุฉ ุนูู ุงููุถูููู ุ </li><li style=";text-align:right;direction:rtl">  ููุงุฑุฏ ุงูุชุฎุฒูู (ููุฃูุฑุงุต VM ูุงูููุงูุจ ูุงูุตูุฑ) ูู ุดูู ููุงุทู ุชุฎุฒูู (ูุฌุงูุงุช ุงูุชุฎุฒูู). </li></ul><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูุดุชูู ูุฑูุฒ ุงูุจูุงูุงุช ุนูู ูุฌููุนุงุช ูุชุนุฏุฏุฉ ุชุชููู ูู ุนุฏุฉ ูุถูููู ูุน ุฃุฌูุฒุฉ ุงูุชุฑุงุถูุฉ ุชุนูู ุนูููุง ุ ููุง ูููู ุฃู ูุญุชูู ุนูู ุนุฏุฉ ููุงุทู ุชุฎุฒูู ูุฑุชุจุทุฉ ุจู. <br>  ูููู ุฃู ูููู ููุงู ุงูุนุฏูุฏ ูู ูุฑุงูุฒ ุงูุจูุงูุงุช ุ ููู ุชุนูู ุจุดูู ูุณุชูู ุนู ุจุนุถูุง ุงูุจุนุถ.  ูุชูุชุน Ovirt ุจูุตู ุจูู ุงูุตูุงุญูุงุช ุญุณุจ ุงูุฏูุฑ ุ ูููููู ุชูููู ุงูุฃุฐููุงุช ุดุฎุตููุง ุ ุนูู ูุณุชูู ูุฑูุฒ ุงูุจูุงูุงุช ูุนูู ุนูุงุตุฑู ุงูููุทููุฉ ุงููุฑุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุชู ุฅุฏุงุฑุฉ ูุฑูุฒ ุงูุจูุงูุงุช ุฃู ูุฑุงูุฒ ุงูุจูุงูุงุช ุ ุฅุฐุง ูุงู ููุงู ุงูุนุฏูุฏ ูููุง ุ ูู ูุญุฏุฉ ุชุญูู ุฅุฏุงุฑูุฉ ูุงุญุฏุฉ ุฃู ุจูุงุจุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ุ ุงูุชูู ุฅูู ุงููุฏุฎู ุงูุฅุฏุงุฑู ูุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ุฌุฏูุฏ: <br>  <strong>ุญุณุงุจ</strong> &gt;&gt; <strong>ูุฑุงูุฒ ุงูุจูุงูุงุช</strong> &gt;&gt; <strong>ุฌุฏูุฏ</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃููุง ูุณุชุฎุฏู ุงูุชุฎุฒูู ุงููุดุชุฑู ุนูู ูุธุงู ุงูุชุฎุฒูู ุ ูุฌุจ ุฃู ูููู ููุน ุงูุชุฎุฒูู ูุดุชุฑููุง: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุทุฉ ุดุงุดุฉ ูุน ูุนุงูุฌ ูุฑูุฒ ุงูุจูุงูุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/bf/eg/id/bfegid-tcvqsfjjxa1oqzop_9iw.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุซุจูุช ุฌูุงุฒ ุธุงูุฑู ุจุงุณุชุฎุฏุงู ูุญุฑู ูุณุชุถุงู ุ ูุชู ุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ุงูุชุฑุงุถููุง - <strong>Datacenter1</strong> ุ ุซู ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููููู ุชุบููุฑ ููุน ุงูุชุฎุฒูู ุฅูู ุฌูุงุฒ ุขุฎุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุนุฏ ุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ูููุฉ ุจุณูุทุฉ ุ ุฏูู ุฃู ูุฑูู ุฏูููุฉ ุตุนุจุฉ ุ ููุชู ุชูุถูุญ ุฌููุน ุงูุฅุฌุฑุงุกุงุช ุงูุฅุถุงููุฉ ูู ุงููุซุงุฆู.  ูู ุฃูุงุญุธ ููุท ุฃู ุงููุถูููู ุงููุฑุฏููู ุงูุฐูู ูุฏููู ููุท ุชุฎุฒูู ูุญูู (ูุฑุต) ูุฃุฌูุฒุฉ VM ูุง ูููููู ุงููุตูู ุฅูู ูุฑูุฒ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ููุน ุงูุชุฎุฒูู - ูุดุชุฑู (ูุง ููููู ุฅุถุงูุชูู ููุงู) ุ ูููู ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ูููุตู - ุฃู  ูุญุชุงุฌ ูู ูุถูู ูุฑุฏู ุฐู ุณุนุฉ ุชุฎุฒูู ูุญููุฉ ุฅูู ูุฑูุฒ ุจูุงูุงุช ูููุตู ุฎุงุต ุจู. </p><br><h4 id="sozdanie-novogo-klastera" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุชูุฉ ุฌุฏูุฏุฉ </h4><br><p style=";text-align:right;direction:rtl">  ุฑุงุจุท ุงูุชูุซูู - ุฏููู ุฅุฏุงุฑุฉ oVirt.  <a href="https://www.ovirt.org/documentation/admin-guide/chap-Clusters.html">ุงููุตู ุงูุฎุงูุณ: ุงููุชู</a> </p><br><p style=";text-align:right;direction:rtl">  ุจุฏูู ุชูุงุตูู ุบูุฑ ุถุฑูุฑูุฉ ุ ุชุนุชุจุฑ <strong>ุงููุฌููุนุฉ</strong> ุชุฌููุนูุง ููุทูููุง ูููุถูููู ุงูุฐูู ูุฏููู ูุณุงุญุฉ ุชุฎุฒูู ูุดุชุฑูุฉ (ูู ุดูู ูุญุฑูุงุช ุฃูุฑุงุต ูุดุชุฑูุฉ ุนูู ูุธุงู ุชุฎุฒูู ุ ููุง ูู ุญุงูุชูุง).  ูู ุงููุณุชุญุณู ุฃูุถูุง ุฃู ุชููู ุงูุฃุฌูุฒุฉ ุงููุถููุฉ ูู ุงููุฌููุนุฉ ูุชุทุงุจูุฉ ูู ุงูุฃุฌูุฒุฉ ูููุง ููุณ ููุน ุงููุนุงูุฌ (Intel ุฃู AMD).  ูู ุงูุฃูุถู ุจุงูุทุจุน ุฃู ุชููู ุงูุฎูุงุฏู ูู ุงููุฌููุนุฉ ูุชูุงุซูุฉ ุชูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ุงููุชูุฉ ูู ุฌุฒุก ูู ูุฑูุฒ ุงูุจูุงูุงุช (ูุน ููุน ูุนูู ูู ุงูุชุฎุฒูู - <em>ูุญูู</em> ุฃู <em>ูุดุชุฑู</em> ) ุ ููุฌุจ ุฃู ุชูุชูู ุฌููุน ุงููุถูููู ุจุงูุถุฑูุฑุฉ ุฅูู ูุชูุฉ ุ ุงุนุชูุงุฏูุง ุนูู ูุง ุฅุฐุง ูุงู ูุฏููู ุชุฎุฒูู ูุดุชุฑู ุฃู ูุง. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุซุจูุช ุฌูุงุฒ ุธุงูุฑู ุจุงุณุชุฎุฏุงู ูุญุฑู ูุณุชุถุงู ุนูู ุงููุถูู ุ ูุชู ุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ุงูุชุฑุงุถููุง - <strong>Datacenter1</strong> ุ ุฌูุจูุง ุฅูู ุฌูุจ ูุน ูุชูุฉ - <strong>Cluster1</strong> ุ <strong>ูููููู</strong> ูู ุงููุณุชูุจู ุชูููู ูุนููุงุชูุง ุ ูุชูููู ุฎูุงุฑุงุช ุฅุถุงููุฉ ุ ูุฅุถุงูุฉ ูุถูููู ุฅูููุง ุ ุฅูุฎ. </p><br><p style=";text-align:right;direction:rtl">  ูุงูุนุงุฏุฉ ุ ููุญุตูู ุนูู ุชูุงุตูู ุญูู ูุงูุฉ ุฅุนุฏุงุฏุงุช ูุธุงู ุงููุฌููุนุฉ ุ ูููุตุญ ุจุงูุฑุฌูุน ุฅูู ุงููุซุงุฆู ุงูุฑุณููุฉ.  ุจุงููุณุจุฉ ูุจุนุถ ููุฒุงุช ุชูููู ุงููุชูุฉ ุ ุณุฃุถูู ููุท ุฃูู ุนูุฏ ุฅูุดุงุฆู ุ ูููู ุชูููู ุงููุนููุงุช ุงูุฃุณุงุณูุฉ ููุท ูู ุนูุงูุฉ ุงูุชุจููุจ ุนุงู. </p><br><p style=";text-align:right;direction:rtl">  ุณุฃูุงุญุธ ุฃูู ุงููุนุงููุฑ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>ููุน ุงููุนุงูุฌ</em> - ูุชู ุชุญุฏูุฏู ุงุณุชูุงุฏูุง ุฅูู ุงููุนุงูุฌุงุช ุงูุชู ุชู ุชุซุจูุชูุง ุนูู ูุถููู ุงููุชูุฉ ุ ููู ุงูุดุฑูุฉ ุงููุตููุนุฉ ููุง ุ ูุฃู ุงููุนุงูุฌ ูู ุงูุฃูุฏู ุนูู ุงููุถูููู ุ ุจุญูุซ ูุชู ุ ุญุณุจ ูุฐุง ุ ุงุณุชุฎุฏุงู ุฌููุน ุฅุฑุดุงุฏุงุช ุงููุนุงูุฌ ุงููุชููุฑุฉ ูู ุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  <em>ููุน ุงูุชุจุฏูู</em> - ูู ูุฌููุนุชูุง ูุณุชุฎุฏู ุฌุณุฑ Linux ููุท ุ ูุฐูู ูุฎุชุงุฑู. </li><li style=";text-align:right;direction:rtl">  <em>ููุน ุฌุฏุงุฑ ุงูุญูุงูุฉ</em> - ูู ุดูุก ูุงุถุญ ููุง ุ ูุฐุง ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ ุ ุงูุฐู ูุฌุจ ุชููููู ูุชููุฆุชู ุนูู ุงููุถูููู. </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุทุฉ ูุน ูุนููุงุช ุงููุชูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/os/vn/qy/osvnqyj3srg8vjpflkdy9l4e84e.png"></p></div></div><br><h4 id="ustanovka-dopolnitelnyh-hostov-v-self-hosted-okruzhenii" style=";text-align:right;direction:rtl">  ุชุซุจูุช ูุถูููู ุฅุถุงูููู ูู ุจูุฆุฉ ุฐุงุชูุฉ ุงูุงุณุชุถุงูุฉ </h4><br><p style=";text-align:right;direction:rtl">  <a href="https://www.ovirt.org/documentation/self-hosted/chap-Installing_Additional_Hosts_to_a_Self-Hosted_Environment.html">ุฑุงุจุท</a> ุฅูู ุงููุซุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ุชุชู ุฅุถุงูุฉ ูุถูููู ุฅุถุงูููู ูุจูุฆุฉ ุงูุงุณุชุถุงูุฉ ุงูุฐุงุชูุฉ ุจููุณ ุทุฑููุฉ ุฅุถุงูุฉ ูุถูู ุนุงุฏู ุ ูุน ููุทุฉ ุฅุถุงููุฉ ููุดุฑ VM ุจุงุณุชุฎุฏุงู ูุญุฑู ูุณุชุถุงู - <strong><em>ุงุฎุชุฑ ุฅุฌุฑุงุก ูุดุฑ ุงููุญุฑู ุงููุณุชุถุงู</em></strong> &gt;&gt; <strong><em>ูุดุฑ</em></strong> .  ูุธุฑูุง ูุฃูู ูุฌุจ ุฃูุถูุง ุชูุฏูู LUN ูู VM ูุน ุงููุญุฑู ุงููุณุชุถุงู ุฅูู ุงููุถูู ุงูุฅุถุงูู ุ ููุฐุง ูุนูู ุฃูู ูููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุถูู ุฅุฐุง ูุฒู ุงูุฃูุฑ ูุงุณุชุถุงูุฉ VM ูุน ุงููุดุบู ุงููุณุชุถุงู ุนููู. <br>  ูู ุฃุฌู ุงูุชุณุงูุญ ูุน ุงูุฃุนุทุงู ุ ููุตู ุจุดุฏุฉ ุจูุฌูุฏ ูุถูููู ุนูู ุงูุฃูู ูููู ุงุณุชุถุงูุฉ ูุญุฑู VM ุจู. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงููุถูู ุงูุฅุถุงูู ุ ูู ุจุชุนุทูู iptables (ูู ุญุงูุฉ ุงูุชูููู) ุ ูู ุจุชูููู firewalld </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">systemctl stop iptables systemctl disable iptables systemctl enable firewalld systemctl start firewalld</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุซุจูุช ุงูุฅุตุฏุงุฑ ุงููุทููุจ ูู KVM (ุฅุฐุง ูุฒู ุงูุฃูุฑ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum-config-manager --disable mirror.centos.org_centos-7_7_virt_x86_64_libvirt-latest_ yum install centos-release-qemu-ev yum update yum install qemu-kvm qemu-img virt-manager libvirt libvirt-python libvirt-client virt-install virt-viewer libguestfs libguestfs-tools dejavu-lgc-sans-fonts virt-top libvirt libvirt-python libvirt-client systemctl enable libvirtd systemctl restart libvirtd &amp;&amp; systemctl status libvirtd virsh domcapabilities kvm | grep md-clear</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุจุชุซุจูุช ุงููุณุชูุฏุนุงุช ุงูุถุฑูุฑูุฉ ููุซุจุช ุงููุญุฑู ุงููุณุชุถุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm yum -y install epel-release yum update yum install screen ovirt-hosted-engine-setup</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุงูุชูู ุฅูู <strong><em>ูุญุฏุฉ ุงูุชุญูู ูู ุฅุฏุงุฑุฉ Virtual Virtual Manager</em></strong> ุ ูุฃุถู ูุถูููุง ุฌุฏูุฏูุง ุ ููู ุจูู ุดูุก ุฎุทูุฉ ุจุฎุทูุฉ ุ ููุง ูู ููุชูุจ ูู <a href="https://www.ovirt.org/documentation/self-hosted/chap-Installing_Additional_Hosts_to_a_Self-Hosted_Environment.html">ุงููุซุงุฆู</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ูุฐูู ุ ุจุนุฏ ุฅุถุงูุฉ ูุถูู ุฅุถุงูู ุ ูุฌุจ ุฃู ูุญุตู ุนูู ุตูุฑุฉ ุชูุฑูุจูุง ูู ูุญุฏุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ ุ ููุง ูู ููุทุฉ ุงูุดุงุดุฉ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุทุฉ ุดุงุดุฉ ููุจูุงุจุฉ ุงูุฅุฏุงุฑูุฉ - ุงููุถูููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wh/hr/nc/whhrnchajorr5ogqxinvecjdxi0.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  ูุญุชูู ุงููุถูู ุงูุฐู ูููู ูุญุฑู VM ุงูุฐู ูุณุชุถููู ูุดุทูุง ุญุงูููุง ุนูู ุชุงุฌ ุฐูุจู ูููุด " <em>ุชุดุบูู ุงููุญุฑู ุงููุณุชุถุงู VM</em> " ุ ูุงููุถูู ุงูุฐู ูููู ุชุดุบูู VM ุนููู ุฅุฐุง ูุฒู ุงูุฃูุฑ ูู ููุด " <em>ูููู ุชุดุบูู ูุถูู ุงููุญุฑู VM</em> ". </p><br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุฉ ุญุฏูุซ ุนุทู ูู ุงููุถูู ูููู " <em>Running the Hosted Engine VM</em> " ุนููู ุ ูุณูุชู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุชููุงุฆููุง ุนูู ุงููุถูู ุงูุซุงูู.  ุฃูุถูุง ุ ูููู ุชุฑุญูู VM ูู ุงููุถูู ุงููุดุท ุฅูู ุฌูุงุฒ ุงููุณุฎ ุงูุงุญุชูุงุทู ูุตูุงูุชู. </p><br><p style=";text-align:right;direction:rtl">  <u>ุชูููู ุฅุฏุงุฑุฉ ุงูุทุงูุฉ / ุงููุจุงุฑุฒุฉ ุนูู ุงููุถูููู oVirt</u> </p><br><p style=";text-align:right;direction:rtl">  ุฑูุงุจุท ุงููุซุงุฆู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Red Hat Virtualization 4.3 -&gt; Technical Reference -&gt; <a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.3/html/technical_reference/chap-power_management">Chapter 4. Power Management</a> </li><li style=";text-align:right;direction:rtl">  oVirt ุฏููู ุงูุฅุฏุงุฑุฉ -&gt; <a href="https://www.ovirt.org/documentation/admin-guide/chap-Hosts.html">ุงููุตู 7: ุงููุถูููู</a> </li></ul><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃูู ูุฏ ูุจุฏู ุฃูู ุชูุช ุฅุถุงูุฉ ุงููุถูู ูุชููููู ุ ุฅูุง ุฃู ูุฐุง ููุณ ุตุญูุญูุง ุชูุงููุง. <br>  ููุชุดุบูู ุงูุนุงุฏู ูููุถูููู ุ ูุชุญุฏูุฏ / ุฅุฒุงูุฉ ุงูุฃุนุทุงู ูุน ุฃู ูููู ุ ูุทููุจ ุฅุนุฏุงุฏ ุฅุฏุงุฑุฉ / ุณูุงุฌ ุงูุทุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  <strong>ุงููุจุงุฑุฒุฉ</strong> ุ ุฃู ุงูุนูุจุฉ ุ ูู ุนูููุฉ ุงุณุชุจุนุงุฏ ูุคูุช ููุถูู ูุงุดู ุฃู ูุงุดู ูู ูุชูุฉ ุ ูุชู ุฎูุงููุง ุฅุนุงุฏุฉ ุชุดุบูู ุฎุฏูุงุช oVirt ุนููู ุฃู ุงููุถูู ููุณู. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูุฏูู ุฌููุน ุงูุชูุงุตูู ุงููุชุนููุฉ ุจุงูุชุนุฑููุงุช ูุงููุนููุงุช ุงูุฎุงุตุฉ ุจุฅุฏุงุฑุฉ / ุณูุงุฌ ุงูุทุงูุฉ ุ ูุงููุนุชุงุฏ ูู ุงููุซุงุฆู ุ ูุณุฃูุฏู ููุท ูุซุงููุง ุนูู ููููุฉ ุชูููู ูุฐู ุงููุนููุฉ ุงููุงูุฉ ุนูุฏ ุชุทุจูููุง ุนูู ุฎูุงุฏู Dell R640 ูุน iDRAC 9. </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฐูุจ ุฅูู ุงูุจูุงุจุฉ ุงูุฅุฏุงุฑูุฉ ุ ุงููุฑ ููู <strong>ุญุณุงุจ</strong> &gt;&gt; <strong>ุงููุถูููู ุ</strong> ุญุฏุฏ ุงููุถูู. </li><li style=";text-align:right;direction:rtl">  ุงููุฑ ููู <strong>ุชุญุฑูุฑ</strong> . </li><li style=";text-align:right;direction:rtl">  ุงููุฑ ููู ุนูุงูุฉ ุงูุชุจููุจ <strong>ุฅุฏุงุฑุฉ ุงูุทุงูุฉ</strong> . </li><li style=";text-align:right;direction:rtl">  ุญุฏุฏ ุงููุฑุจุน ุจุฌูุงุฑ ุฎูุงุฑ <strong>ุชูููู ุฅุฏุงุฑุฉ ุงูุทุงูุฉ</strong> . </li><li style=";text-align:right;direction:rtl">  ูุญู ูุถุน ุนูุงูุฉ ูู ุงููุฑุจุน ุจุฌุงูุจ ุฎูุงุฑ <em>ุชูุงูู Kdump</em> ุจุญูุซ ูุง ูุฐูุจ ุงููุถูู ุฅูู ูุถุน ุงููุจุงุฑุฒุฉ ุฃุซูุงุก ูุชุงุจุฉ ุชูุฑูุบ ุชุนุทู kernel. </li></ol><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุฐูุฑุฉ.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชูููู ุชูุงูู Kdump ุนูู ูุถูู ููุฏ ุงูุชุดุบูู ุจุงููุนู ุ ูุฌุจ ุฅุนุงุฏุฉ ุชุซุจูุชู ููููุง ููุฅุฌุฑุงุก ุงููุงุฑุฏ ูู ุฏููู ุฅุฏุงุฑุฉ vVirt -&gt; <a href="https://www.ovirt.org/documentation/admin-guide/chap-Hosts.html">ุงููุตู 7: ุงููุถูููู</a> -&gt; ุฅุนุงุฏุฉ ุชุซุจูุช ุงููุถูููู. </p></div></div><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุฎุชูุงุฑููุง ุ ููููู ุชุญุฏูุฏ ุฎุงูุฉ ุงูุงุฎุชูุงุฑ <em>ุชุนุทูู ุงูุชุญูู ูู ุงูุณูุงุณุฉ ูู ุฅุฏุงุฑุฉ ุงูุทุงูุฉ</em> ุฅุฐุง ููุง ูุง ูุฑูุฏ ุงูุชุญูู ูู ุฅุฏุงุฑุฉ ุทุงูุฉ ุงููุถูู ุจูุงุณุทุฉ ุณูุงุณุฉ ุงูุฌุฏููุฉ ุงูุฎุงุตุฉ ุจุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  ุงููุฑ ููู ุงูุฒุฑ ( <em>+</em> ) ูุฅุถุงูุฉ ุฌูุงุฒ ุฌุฏูุฏ ูุฅุฏุงุฑุฉ ุงูุทุงูุฉ ุ ุณูุชู ูุชุญ ูุงูุฐุฉ ุชุญุฑูุฑ ุฎุตุงุฆุต ุงููููู. <br>  ุจุงููุณุจุฉ ุฅูู iDRAC9 ุ ุงููุฃ ุงูุญููู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>ุงูุนููุงู</em> - ุนููุงู iDRAC9 </li><li style=";text-align:right;direction:rtl">  <em>ุงุณู ุงููุณุชุฎุฏู / ูููุฉ ุงููุฑูุฑ</em> - ุชุณุฌูู ุงูุฏุฎูู ููููุฉ ุงููุฑูุฑ ุนูู ุงูุชูุงูู ูุฅุฏุฎุงู iDRAC9 </li><li style=";text-align:right;direction:rtl">  <em>ุงูุชุจ</em> - drac5 </li><li style=";text-align:right;direction:rtl">  ุนูุงูุฉ <em>ุขููุฉ</em> </li><li style=";text-align:right;direction:rtl">  ุฃุถู ุงูุฎูุงุฑุงุช ุงูุชุงููุฉ: <em>cmd_prompt =&gt; ุ login_timeout = 30</em> </li></ul></li></ol><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุทุฉ ุดุงุดุฉ ูุน ูุนููุงุช "ุฅุฏุงุฑุฉ ุงูุทุงูุฉ" ูู ุฎุตุงุฆุต ุงููุถูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/kz/be/ky/kzbekyoxr6cromqq0epltd2cjbo.png"></p></div></div><br><h4 id="sozdanie-oblasti-hraneniya-ili-storage-domains" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุณุงุญุฉ ุงูุชุฎุฒูู ุฃู ูุฌุงูุงุช ุงูุชุฎุฒูู </h4><br><p style=";text-align:right;direction:rtl">  ุฑุงุจุท ุงูุชูุซูู - ุฏููู ุฅุฏุงุฑุฉ oVirt ุ <a href="https://www.ovirt.org/documentation/admin-guide/chap-Storage.html">ุงููุตู ุงูุซุงูู: ุงูุชุฎุฒูู</a> . </p><br><p style=";text-align:right;direction:rtl">  <strong>ูุนุฏ ูุทุงู ุงูุชุฎุฒูู</strong> ุฃู ูุณุงุญุฉ ุงูุชุฎุฒูู ูููุนูุง ูุฑูุฒููุง ูุชุฎุฒูู ุฃูุฑุงุต ุงูุฌูุงุฒ ุงูุธุงูุฑู ูุตูุฑ ุงูุชุซุจูุช ูุงูููุงูุจ ูุงูููุทุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุชูุตูู ููุงุทู ุงูุชุฎุฒูู ุจูุฑูุฒ ุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุจุฑูุชููููุงุช ูุฃูุธูุฉ ูููุงุช ุงูุดุจูุฉ ูุงูุดุจูุงุช ุงููุฎุชููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุถู OVirt ุซูุงุซุฉ ุฃููุงุน ูู ูุณุงุญุฉ ุงูุชุฎุฒูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ูุฌุงู ุงูุจูุงูุงุช</strong> - ูุชุฎุฒูู ุฌููุน ุงูุจูุงูุงุช ุงููุฑุชุจุทุฉ ุจุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ (ุงูุฃูุฑุงุต ุ ุงูููุงูุจ).  ูุง ูููู ูุดุงุฑูุฉ ูุฌุงู ุงูุจูุงูุงุช ุจูู ูุฑุงูุฒ ุงูุจูุงูุงุช ุงููุฎุชููุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ูุฌุงู ISO</strong> (ููุน ูุณุงุญุฉ ุงูุชุฎุฒูู ุงูููููุฉ) - ูุชุฎุฒูู ุตูุฑ ุชุซุจูุช ูุธุงู ุงูุชุดุบูู.  ูููู ูุดุงุฑูุฉ ูุฌุงู ISO ุจูู ูุฑุงูุฒ ุงูุจูุงูุงุช ุงููุฎุชููุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ูุฌุงู ุงูุชุตุฏูุฑ</strong> (ููุน ูุฏูู ูู ูุณุงุญุฉ ุงูุชุฎุฒูู) - ููุชุฎุฒูู ุงููุคูุช ููุตูุฑ ุงููููููุฉ ุจูู ูุฑุงูุฒ ุงูุจูุงูุงุช. </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุชูุง ุงูุฎุงุตุฉ ุ ูุณุชุฎุฏู ูุฌุงู ุงูุชุฎุฒูู ูู ููุน ูุฌุงู ุงูุจูุงูุงุช ุจุฑูุชูููู ุงูููุงุฉ ุงูููููุฉ (FCP) ููุงุชุตุงู ุจู LUNs ุนูู ูุธุงู ุงูุชุฎุฒูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฌูุฉ ูุธุฑ oVirt ุ ุนูุฏ ุงุณุชุฎุฏุงู ุฃูุธูุฉ ุงูุชุฎุฒูู (FC ุฃู iSCSI) ุ ูู ูุฑุต ุงูุชุฑุงุถู ุฃู ููุทุฉ ุฃู ูุงูุจ ูู ูุฑุต ููุทูู. <br>  ูุชู ุชุฌููุน ุฃุฌูุฒุฉ ุงููุชูุฉ ูู ูุญุฏุฉ ูุงุญุฏุฉ (ุนูู ูุถููู ุงููุชูุฉ) ุจุงุณุชุฎุฏุงู Volume Group ุซู ูุชู ุชูุณูููุง ุจุงุณุชุฎุฏุงู LVM ุฅูู ูุญุฏุงุช ุชุฎุฒูู ููุทููุฉ ุชุณุชุฎุฏู ูุฃูุฑุงุต ุงูุชุฑุงุถูุฉ ูุฃุฌูุฒุฉ VM. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฑุคูุฉ ูู ูุฐู ุงููุฌููุนุงุช ูุงูุนุฏูุฏ ูู ูุญุฏุงุช ุชุฎุฒูู LVM ุนูู ูุถูู ุงููุชูุฉ ุจุงุณุชุฎุฏุงู ุฃูุงูุฑ <strong>vgs</strong> ู <strong>lvs</strong> .  ุจุทุจูุนุฉ ุงูุญุงู ุ ูุฌุจ ุฃู ุชุชู ุฌููุน ุงูุฅุฌุฑุงุกุงุช ูุน ูุฐู ุงูุฃูุฑุงุต ููุท ูู ูุญุฏุฉ ุชุญูู virt ุ ุจุงุณุชุซูุงุก ูู ุญุงูุงุช ุฎุงุตุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ุชููู ุงูุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ ูุฃุฌูุฒุฉ VMs ูู ููุนูู - QCOW2 ุฃู RAW.  ูููู ุฃู ุชููู ุงูุฃูุฑุงุต <em>ุฑูููุฉ</em> ุฃู <em>ุณูููุฉ</em> .  ูุชู ุฅูุดุงุก ุงูููุทุงุช ุฏุงุฆููุง ุจุดูู <em>ูุญูู</em> . </p><br><p style=";text-align:right;direction:rtl">  ุชุนุชุจุฑ ุทุฑููุฉ ุฅุฏุงุฑุฉ ูุฌุงูุงุช ุงูุชุฎุฒูู ุฃู ููุงุทู ุงูุชุฎุฒูู ุงูุชู ูุชู ุงููุตูู ุฅูููุง ุนุจุฑ FC ููุทููุฉ ุชูุงููุง - ููู ูุฑุต ุธุงูุฑู ูุฌูุงุฒ VM ููุฌุฏ ูุญุฏุฉ ุชุฎุฒูู ููุทููุฉ ูููุตูุฉ ูููู ูุชุงุจุชูุง ุนูู ูุถูู ูุงุญุฏ ููุท.  ูู ุญุงูุฉ ุงูุงุชุตุงูุงุช ุนุจุฑ FC ุ ูุณุชุฎุฏู oVirt ุดูุก ูุซู LVM ุงูุนูููุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุชุฑุญูู ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุงูููุฌูุฏุฉ ุนูู ููุณ ููุทูุฉ ุงูุชุฎุฒูู ุจูู ุงููุถูููู ุงูุฐูู ููุชููู ุฅูู ููุณ ุงููุฌููุนุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ูู ุงููุตู ุ ูุฅู ุงููุชูุฉ ูู oVirt ุ ูุซู ุงููุชูุฉ ูู VMware vSphere ุฃู Hyper-V ุ ุชุนูู ูู ุงูุฃุณุงุณ ููุณ ุงูุดูุก - ูุฐุง ุชุฌููุน ููุทูู ูููุถููุงุช ุ ูููุถู ุฃู ูููู ูุชุทุงุจููุง ูู ุงูุฃุฌูุฒุฉ ุ ููุฏูู ูุณุงุญุฉ ุชุฎุฒูู ูุดุชุฑูุฉ ูุฃูุฑุงุต ุงูุฌูุงุฒ ุงูุธุงูุฑู. </p><br><p style=";text-align:right;direction:rtl">  ููุชูู ูุจุงุดุฑุฉู ุฅูู ุฅูุดุงุก ููุทูุฉ ุชุฎุฒูู ููุจูุงูุงุช (ุฃูุฑุงุต VM) ุ ูุฃูู ุจุฏูููุง ูู ุชุชู ุชููุฆุฉ ูุฑูุฒ ุงูุจูุงูุงุช. <br>  ุฏุนูู ุฃุฐูุฑู ุจุฃู ุฌููุน LUNs ุงูููุฏูุฉ ุฅูู ูุถููู ุงููุชูุฉ ุนูู ูุธุงู ุงูุชุฎุฒูู ูุฌุจ ุฃู ุชููู ูุฑุฆูุฉ ููู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ " <strong>multath-l</strong> ". </p><br><p style=";text-align:right;direction:rtl">  ููููุง <a href="https://www.ovirt.org/documentation/admin-guide/chap-Storage.html">ูููุซุงุฆู</a> ุ ุงูุชูู ุฅูู ุงููุฏุฎู ุ ูุงูุชูู ุฅูู <strong><em>Storage</em></strong> &gt;&gt; <strong><em>Domains</em></strong> -&gt; <strong><em>New Domain</em></strong> ูุงุชุจุน ุงูุชุนูููุงุช ุงููุงุฑุฏุฉ ูู ูุณู "Adding FCP Storage". </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุฏุก ุงููุนุงูุฌ ุ ุงููุฃ ุงูุญููู ุงููุทููุจุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>ุงูุงุณู</em> - ุชุนููู ุงุณู ุงููุชูุฉ </li><li style=";text-align:right;direction:rtl">  <em>ูุธููุฉ ุงููุฌุงู</em> - ุงูุจูุงูุงุช </li><li style=";text-align:right;direction:rtl">  <em>ููุน ุงูุชุฎุฒูู</em> - ููุงุฉ ุงูุฃููุงู </li><li style=";text-align:right;direction:rtl">  <em>ูุถูู ููุงุณุชุฎุฏุงู</em> - ุญุฏุฏ ุงููุถูู ุญูุซ ูุชููุฑ LUN ุงููุทููุจ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ูุงุฆูุฉ LUNs ุ ูุฎุชุงุฑ ุงููุงุฆูุฉ ุงูุชู ูุญุชุงุฌูุง ุ ุงููุฑ ููู <em>ุฅุถุงูุฉ</em> ุ ุซู ููู <em>ููุงูู</em> .  ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููููู ุถุจุท ูุนููุงุช ุฅุถุงููุฉ ูููุทูุฉ ุงูุชุฎุฒูู ูู ุฎูุงู ุงูููุฑ ููู <em>Advanced Parameters</em> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุทุฉ ุดุงุดุฉ ูู "ูุฌุงู ุงูุชุฎุฒูู" ุชุถูู ุงููุนุงูุฌ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tk/tz/gq/tktzgqwyqioqf45ere-qi2ll6bc.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  ููููุง ููุชุงุฆุฌ ุงููุนุงูุฌ ุ ูุฌุจ ุฃู ูุญุตู ุนูู ูุณุงุญุฉ ุชุฎุฒูู ุฌุฏูุฏุฉ ุ ูููุจุบู ุฃู ููุชูู ูุฑูุฒ ุงูุจูุงูุงุช ุงูุฎุงุต ุจูุง ุฅูู ุญุงูุฉ <strong>UP</strong> ุ ุฃู ูุชู ุชููุฆุฉ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุทุงุช ูู ูุฑูุฒ ุงูุจูุงูุงุช ูููุงุทู ุงูุชุฎุฒูู ููู:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dj/4j/zm/dj4jzmtuzoyu4ustvkcaqxgywoo.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5l/tn/gd/5ltngdb3ipqfrfkkvktqriegwzq.png"></p></div></div><br><h4 id="sozdanie-i-nastroyka-setey-dlya-virtualnyh-mashin" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุชูููู ุดุจูุงุช ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ </h4><br><p style=";text-align:right;direction:rtl">  ุฑุงุจุท ุงูุชูุซูู - ุฏููู ุฅุฏุงุฑุฉ oVirt ุ <a href="https://www.ovirt.org/documentation/admin-guide/chap-Logical_Networks.html">ุงููุตู ุงูุณุงุฏุณ: ุงูุดุจูุงุช ุงูููุทููุฉ</a> </p><br><p style=";text-align:right;direction:rtl">  ุชุณุชุฎุฏู ุงูุดุจูุงุช ุ ุฃู ุงูุดุจูุงุช ุ ูุชุฌููุน ุงูุดุจูุงุช ุงูููุทููุฉ ุงููุณุชุฎุฏูุฉ ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุงูุชุฑุงุถูุฉ ูู vVirt. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู ูุงุฌูุงุช ุงูููุทู ูุซู ุฌุณุฑ Linux ููุชูุงุนู ูุน ูุญูู ุดุจูุฉ ูู ุฌูุงุฒ ุธุงูุฑู ุ ูุน ูุญูู ูุนูู ุนูู ุงููุถูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชุฌููุน ูุชูุณูู ุญุฑูุฉ ุงููุฑูุฑ ุจูู ุงูุดุจูุงุช ุ ูุชู ุชูููู ุดุจูุงุช ูุญููุฉ ุธุงูุฑูุฉ ุนูู ุงููุญููุงุช. </p><br><p style=";text-align:right;direction:rtl">         oVirt,     ,   VLAN  ,        ,        . </p><br><p style=";text-align:right;direction:rtl">                <a href="https://habr.com/ru/company/lenvendo/blog/483980/"> </a> โ    <strong>bond1</strong> ,           oVirt. </p><br><p style=";text-align:right;direction:rtl">     hosted-engine,      ,           โ <strong>ovritmgmt</strong> ,      . </p><br><p style=";text-align:right;direction:rtl">        <strong>ovritmgmt</strong>   ,    ,      oVirt. </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">   ovritmgmt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/li/ym/4o/liym4ottpmognydqgsc7mi3lvfi.png"></p></div></div><br><p style=";text-align:right;direction:rtl">        ,      <strong><em>Network</em></strong> &gt;&gt; <strong><em>Networks</em></strong> &gt;&gt; <strong><em>New</em></strong> ,    <strong><em>General</em></strong>      VLAN,      ยซ <em>VM Network</em> ยป,          . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">    VLAN32</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gx/3x/nd/gx3xndfoeo-cniaf-cjlnjcefq4.png"></p></div></div><br><p style=";text-align:right;direction:rtl">   <strong><em>Cluster</em></strong> ,       <strong>Cluster1</strong> . </p><br><p style=";text-align:right;direction:rtl">     <strong><em>Compute</em></strong> &gt;&gt; <strong><em>Hosts</em></strong> ,      ,   <strong><em>Network interfaces</em></strong> ,    <em>Setup host networks</em> ,       . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">  ยซSetup host networksยป</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/l8/87/me/l887meiynekpssdplkxid4_11yo.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  oVirt         โ  VLAN  BRIDGE. </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">       :</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat ifcfg-bond1 # Generated by VDSM version 4.30.17.1 DEVICE=bond1 BONDING_OPTS='mode=1 miimon=100' MACADDR=00:50:56:82:57:52 ONBOOT=yes MTU=1500 DEFROUTE=no NM_CONTROLLED=no IPV6INIT=no cat ifcfg-bond1.432 # Generated by VDSM version 4.30.17.1 DEVICE=bond1.432 VLAN=yes BRIDGE=ovirtvm-vlan432 ONBOOT=yes MTU=1500 DEFROUTE=no NM_CONTROLLED=no IPV6INIT=no cat ifcfg-ovirtvm-vlan432 # Generated by VDSM version 4.30.17.1 DEVICE=ovirtvm-vlan432 TYPE=Bridge DELAY=0 STP=off ONBOOT=yes MTU=1500 DEFROUTE=no NM_CONTROLLED=no IPV6INIT=no</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">   ,     <u> </u>      <strong>ifcfg-bond1.432</strong>  <strong>ifcfg-ovirtvm-vlan432</strong> . </p><br><p style=";text-align:right;direction:rtl">            c hosted engine,      . </p><br><h4 id="sozdanie-ustanovochnogo-obraza-dlya-razvyortyvaniya-virtualnoy-mashiny" style=";text-align:right;direction:rtl">        </h4><br><p style=";text-align:right;direction:rtl">    โ oVirt Administration Guide, <a href="https://www.ovirt.org/documentation/admin-guide/chap-Storage.html">Chapter 8: Storage</a> ,  Uploading Images to a Data Storage Domain. </p><br><p style=";text-align:right;direction:rtl">    ,     ,       ,    , , <a href="https://cobbler.github.io/">Cobbler</a>    . </p><br><p style=";text-align:right;direction:rtl">      ,        oVirt. ,     ISO Domain,     oVirt    ,         Storage domain   . </p><br><p style=";text-align:right;direction:rtl">      <strong>Storage</strong> &gt;&gt; <strong>Disks</strong> &gt;&gt; <strong>Upload</strong> &gt;&gt; <strong>Start</strong> <br>       ISO ,     ,    " <em>Test connection</em> ". </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">    </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mf/f6/mq/mff6mqownqd8xt9zhyesnobmt2y.png"></p></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">    :</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> <code>Unable to upload image to disk d6d8fd10-c1e0-4f2d-af15-90f8e636dadc due to a network error. Ensure that ovirt-imageio-proxy service is installed and configured and that ovirt-engine's CA certificate is registered as a trusted CA in the browser. The certificate can be fetched from https://ovirt.test.local/ovirt-engine/services/pki-resource?resource=ca-certificate&amp;format=X509-PEM-CA`</code> </p> </div></div><br><p style=";text-align:right;direction:rtl">     oVirt  ยซ <strong>  </strong> ยป (Trusted Root CA)    ,    . </p><br><p style=";text-align:right;direction:rtl">     Trusted Root CA,   " <em>Test connection</em> ",  : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Connection to ovirt-imageio-proxy was successful.</code> </pre> <br><p style=";text-align:right;direction:rtl">     ,      ISO  Storage Domain. </p><br><p style=";text-align:right;direction:rtl">  ,    Storage Domain   Data,         ,      Storage Domain  hosted engine,      . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">   ISO  Storage Domain  hosted engine</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/1c/eg/vl/1cegvlrj_jio2lyrw8bzwwxqik0.png"></p></div></div><br><h4 id="sozdanie-virtualnoy-mashiny" style=";text-align:right;direction:rtl">    </h4><br><p style=";text-align:right;direction:rtl">   : <br> oVirt Virtual Machine Management Guide โ&gt; <a href="https://www.ovirt.org/documentation/vmm-guide/chap-Installing_Linux_Virtual_Machines.html">Chapter 2: Installing Linux Virtual Machines <br> Console Clients Resources</a> </p><br><p style=";text-align:right;direction:rtl">    oVirt    ,       .    ,       ,       โ        .       โ      -   ,   . </p><br><p style=";text-align:right;direction:rtl">      CentOS 7,       . </p><br><p style=";text-align:right;direction:rtl">    ,   <strong>Compute</strong> &gt;&gt; <strong>Virtual Machines</strong> ,     .     ,   <em></em> .   ,   . </p><br><p style=";text-align:right;direction:rtl">   ,       ,   ,   ,      : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">    </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/b-/ax/5r/b-ax5rq6w4tfzjp26f0x_oassb8.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zf/og/yc/zfogycv0ghsys-pjj6xl4f6uj64.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/da/k9/9s/dak99sg1l7ktd-_kujmswznaveq.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ej/ra/rr/ejrarrisp1wubzm2-cdsawkq0kq.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ka/gi/mv/kagimvvhxi2bei9i-n6gp-ozbse.png"></p></div></div><br><p style=";text-align:right;direction:rtl">     ,  ,        . <br>          : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">        </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ph/lz/vv/phlzvvb-isibuzvomxhg-ligxtm.png"></p></div></div><br><p style=";text-align:right;direction:rtl">     ,        . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">  ,  ยซConsoleยป</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ay/w8/7h/ayw87h-2eubjlamhixkkap2j2ag.png"></p></div></div><br><p style=";text-align:right;direction:rtl">       , , <a href="https://virt-manager.org/">Virtual Machine Viewer</a> . </p><br><p style=";text-align:right;direction:rtl">         ,       : </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wu/yj/nm/wuyjnmj_wk_qm_hmzffxkrji0dw.png"></p><br><p style=";text-align:right;direction:rtl">     ,   oVirt guest agent: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum -y install epel-release yum install -y ovirt-guest-agent-common systemctl enable ovirt-guest-agent.service &amp;&amp; systemctl restart ovirt-guest-agent.service systemctl status ovirt-guest-agent.service</code> </pre> <br><p style=";text-align:right;direction:rtl">  ,    ,    , ..     ,    , oVirt      .           ,   . </p><br><h4 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h4><br><p style=";text-align:right;direction:rtl"> ,     ,  oVirt โ       ,       โ      ,    ,    . </p><br><p style=";text-align:right;direction:rtl"> -          ,           ,   - ,  ..          ,     , -         .   โ   ,     ,             . </p><br><p style=";text-align:right;direction:rtl">     ,           : ,  ,  ,     . </p><br><p style=";text-align:right;direction:rtl">           ,       โ     VyOS      (  ,           oVirt). </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar485208/">https://habr.com/ru/post/ar485208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar485198/index.html">ููุงู ุทุฑููุฉ ุฃุฎุฑู ูููุงุณ ุฃุฏุงุก ุฃุณุงููุจ ุชุทุจูู .NET</a></li>
<li><a href="../ar485200/index.html">ููุถู ูู ุงูุจุฏุงูุฉ: ุจุนุฏ ุงูููุงุฉ ุนูู ุณุฑุนุฉ ุฅุทูุงู ุชุทุจูู iOS</a></li>
<li><a href="../ar485202/index.html">ูุธุงู ุงูููุน</a></li>
<li><a href="../ar485204/index.html">ุนูุฏุฉ ุฅูู ุงูุฃุนูู: ููุงุฐุง ุณุชุชุฌุงูุฒ ุงููููุฉ ุงูุณูููุฉ ููุฃูุงุฒูู ูุฑุฉ ุฃุฎุฑู ูุฑูุจูุง ุชุฑููููู ุฏููุงุฑ</a></li>
<li><a href="../ar485206/index.html">ููู ูุฎูุจ ูู Typescript ููู ูุณุชุญู ูู ูุฐุง ุงูุนูุงุกุ</a></li>
<li><a href="../ar485210/index.html">ูุทูู ุงููุงุฑ ุบูุจูุจุฉ ุจุณูุทุฉ ุนูู ุงููุญุฏุฉ</a></li>
<li><a href="../ar485214/index.html">CLRium # 7: ุนููู. ุงูุญููุฉ ุงูุฏุฑุงุณูุฉ ุ ูุงููุงุฌุจุงุช ุงูููุฒููุฉ ูุน ุงูุชุญูู ุ ูุงูุชูุฌูู</a></li>
<li><a href="../ar485218/index.html">ุญุฌุฒ ุงูุซูุงุจุช ูุงูุณูุงููุฑ ุฌูุช ูู C #</a></li>
<li><a href="../ar485220/index.html">ุชุทูุฑ ุฌุฏุงุฑ ุญูุงูุฉ ุชุทุจูู ุงูููุจ: ูู ุฌุฏุฑุงู ุงูุญูุงูุฉ ุฅูู ุฃูุธูุฉ ุงูุฃูุงู ุงููุณุชูุฏุฉ ุฅูู ูุฌููุนุฉ ุงููุธุฑุงุก</a></li>
<li><a href="../ar485222/index.html">ููู ุชุนูู ูุน ูุงุฏุฉ ุงูุฑุฃู ูู ุงูุตููุ ุฎูุณ ูุตุงุฆุญ ุนูููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>