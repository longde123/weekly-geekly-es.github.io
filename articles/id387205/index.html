<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¬ ğŸ˜· ğŸŒ­ Modul Laurent dan Smart Home (Bagian 2). Arduino dan AMS ğŸš¯ ğŸ¤™ğŸ¿ ğŸ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ini adalah artikel kedua dalam seri tentang mengintegrasikan modul Laurent KernelChip dalam sistem otomasi rumah, dan pada bagian ini kita akan fokus ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Modul Laurent dan Smart Home (Bagian 2). Arduino dan AMS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/387205/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini adalah artikel kedua dalam seri tentang mengintegrasikan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Laurent </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">KernelChip</font></a><font style="vertical-align: inherit;"> dalam sistem otomasi rumah, dan pada bagian ini kita akan fokus pada mengintegrasikan modul-modul ini dengan ekosistem Arduino. </font><font style="vertical-align: inherit;">Pada bagian </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pertama dari</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seri ini, kami berbicara tentang integrasi dengan sistem otomatisasi rumah MajorDoMo yang populer, dan di bagian ketiga Anda akan belajar bagaimana mengelola modul-modul ini dari sketsa dalam bahasa pemrograman Pemrosesan, langsung dari desktop komputer Anda.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/279/7d1/bf2/2797d1bf243f51c2e44c4bbf9b4282d3.jpg" alt="gambar"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino adalah segalanya bagi kita</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di mana tanpa Arduino? </font><font style="vertical-align: inherit;">Saya tidak akan menggambarkan keunggulan platform ini untuk waktu yang lama, popularitasnya berbicara untuk dirinya sendiri, jadi mari kita segera turun ke detail teknis interaksi antara modul Arduino dan Laurent. </font><font style="vertical-align: inherit;">Dan sepanjang jalan, kita tidak akan melupakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sistem Server Arduino Mega</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sebagai turunan yang sangat menarik dari ekosistem Arduino.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengendalikan modul melalui jaringan, misalnya, papan Arduino Uno yang umum atau papan Arduino Mega yang sama populernya lengkap dengan kartu antarmuka jaringan Ethernet Shield yang dipasang berdasarkan chip W5100 cocok. </font><font style="vertical-align: inherit;">Semua contoh dalam artikel ini diberikan untuk kombinasi seperti itu dan telah diuji dalam praktik. </font><font style="vertical-align: inherit;">Semuanya bekerja dengan andal dan tanpa masalah. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/086/9f1/1a8/0869f11a82455209389c7e6c37437f0b.jpg" alt="gambar"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ethernet Shield berdasarkan pada chip W5100</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Yaitu, Anda hanya perlu mengambil sketsa dan mengunggahnya ke papan Uno atau Mega Anda, setelah mengubahnya sedikit untuk tugas Anda.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kelola Modul Sketsa</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada bagian pertama dari seri ini, saya sudah berbicara tentang prinsip-prinsip mengelola modul Laurent melalui jaringan, bagi mereka yang belum membaca bagian pertama, saya akan mengulangi teorinya secara singkat di sini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Informasi dipertukarkan dengan modul-modul melalui jaringan dan untuk mulai bekerja dengannya, Anda perlu membuat koneksi TCP / IP pada port 2424. </font><font style="vertical-align: inherit;">Setelah koneksi dibuat, Anda dapat mengirim perintah teks (disebut perintah KE) yang mengontrol modul. </font><font style="vertical-align: inherit;">Situs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">web KernelChip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memiliki dokumentasi terperinci, termasuk deskripsi yang dapat diakses dari perintah KE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita coba menerjemahkan "kerangka acuan" teoretis ini ke dalam bahasa sederhana sketsa Arduino.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sketsa</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan menjelaskan di sini cara menginstal dan mengkonfigurasi lingkungan pemrograman Arduino, diasumsikan bahwa Anda telah melakukan ini dan dapat menulis sketsa sederhana. </font><font style="vertical-align: inherit;">Jadi, sebagai permulaan, kita perlu menghubungkan SPI.h perpustakaan yang diperlukan dan Ethernet.h untuk mengontrol bus dan modul Ethernet itu sendiri.</font></font><br>
<br>
<pre><code class="java hljs">#include &lt;SPI.h&gt;<font></font>
#include &lt;Ethernet.h&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maka Anda perlu mengatur pengaturan jaringan untuk modul Ethernet dan modul Laurent, yang akan kami kelola. </font><font style="vertical-align: inherit;">Perhatikan bahwa alamat MAC dan alamat IP harus unik, dan LAURENT_PORT harus disetel ke 2424 dan tidak ada yang lain.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> SELF_MAC[] = {<span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x2A</span></span>, <span class="hljs-number"><span class="hljs-number">0xF5</span></span>, <span class="hljs-number"><span class="hljs-number">0x12</span></span>, <span class="hljs-number"><span class="hljs-number">0x67</span></span>, <span class="hljs-number"><span class="hljs-number">0xEE</span></span>};
<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> SELF_IP[] = {<span class="hljs-number"><span class="hljs-number">192</span></span>, <span class="hljs-number"><span class="hljs-number">168</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>};<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> LAURENT_IP[] = {<span class="hljs-number"><span class="hljs-number">192</span></span>, <span class="hljs-number"><span class="hljs-number">168</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">19</span></span>};
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LAURENT_PORT = <span class="hljs-number"><span class="hljs-number">2424</span></span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami masih membutuhkan penyangga untuk menyimpan perintah jaringan, dipilih dengan ukuran 200 byte dengan margin tertentu, jika Anda memiliki masalah dengan kekurangan RAM, maka Anda dapat menguranginya, misalnya menjadi 100 byte atau bahkan kurang.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> buf[<span class="hljs-number"><span class="hljs-number">200</span></span>];
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sentuhan terakhir adalah klien Ethernet untuk modul Laurent. </font><font style="vertical-align: inherit;">Sekarang kita akan melakukan semua operasi dengan modul menggunakan objek lclient.</font></font><br>
<br>
<pre><code class="java hljs">EthernetClient lclient;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu saja, sekarang mari kita lihat fungsi yang mengirimkan perintah ke modul Laurent.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendLaurentRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lclient.connect(LAURENT_IP, LAURENT_PORT)) { <font></font>
    Serial.print(<span class="hljs-string"><span class="hljs-string">"Command: "</span></span>);<font></font>
    Serial.println(buf);<font></font>
    lclient.println(buf);<font></font>
    delay(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  <font></font>
    Serial.print(<span class="hljs-string"><span class="hljs-string">"Answer:  "</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(lclient.available() != <span class="hljs-number"><span class="hljs-number">0</span></span>) {
      <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> c = lclient.read();<font></font>
      Serial.print(c);<font></font>
    }<font></font>
    delay(<span class="hljs-number"><span class="hljs-number">500</span></span>);<font></font>
    lclient.stop();<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      Serial.println(<span class="hljs-string"><span class="hljs-string">"Error sending command"</span></span>);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika koneksi dibuat dengan modul Laurent pada port 2424, maka isi buffer dikirim ke modul dan diduplikasi dalam Serial untuk inspeksi visual. </font><font style="vertical-align: inherit;">Kemudian diharapkan 100 milidetik dan respons modul diterima. </font><font style="vertical-align: inherit;">Setelah itu, jeda lagi dan komunikasi dengan modul rusak. </font><font style="vertical-align: inherit;">Jika karena alasan tertentu koneksi ke modul tidak dapat dibangun, pesan kesalahan ditampilkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita menganalisis inisialisasi. </font><font style="vertical-align: inherit;">Inisialisasi Ethernet adalah fungsi sederhana</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ethernetInit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<font></font>
  Ethernet.begin(SELF_MAC, SELF_IP);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan modul Laurent diinisialisasi oleh fungsi laurentInit (), operasi yang sekarang akan kita analisis secara terperinci. Ini cukup besar dan Anda harus memahaminya dengan baik karena berdasarkan kode untuk fungsi ini Anda dapat membangun permintaan Anda sendiri ke modul Laurent.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">laurentInit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<font></font>
  Serial.println(<span class="hljs-string"><span class="hljs-string">"Start modul Laurent Init..."</span></span>);<font></font>
  Serial.print(<span class="hljs-string"><span class="hljs-string">"Connect to Laurent... "</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lclient.connect(LAURENT_IP, LAURENT_PORT)) {<font></font>
    Serial.println(<span class="hljs-string"><span class="hljs-string">"OK"</span></span>);<font></font>
    lclient.stop();<font></font>
    <font></font>
    <span class="hljs-comment"><span class="hljs-comment">// Send test command</span></span>
    Serial.println(<span class="hljs-string"><span class="hljs-string">"Selftest..."</span></span>);<font></font>
    sprintf(buf, <span class="hljs-string"><span class="hljs-string">"$KE"</span></span>);<font></font>
    sendLaurentRequest();<font></font>
<font></font>
    <span class="hljs-comment"><span class="hljs-comment">// Send password (default: "Laurent")</span></span>
    Serial.println(<span class="hljs-string"><span class="hljs-string">"Set password..."</span></span>);<font></font>
    sprintf(buf, <span class="hljs-string"><span class="hljs-string">"$KE,PSW,SET,Laurent"</span></span>);   <font></font>
    sendLaurentRequest();<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      Serial.println(<span class="hljs-string"><span class="hljs-string">"failed"</span></span>);<font></font>
    }<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">500</span></span>);<font></font>
    <font></font>
  <span class="hljs-comment"><span class="hljs-comment">//   DATA</span></span>
  sprintf(buf, <span class="hljs-string"><span class="hljs-string">"$KE,DAT,OFF"</span></span>);<font></font>
  sendLaurentRequest();<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  <font></font>
  <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
  sprintf(buf, <span class="hljs-string"><span class="hljs-string">"$KE,REL,2,0"</span></span>);<font></font>
  sendLaurentRequest();<font></font>
  <font></font>
  Serial.println(<span class="hljs-string"><span class="hljs-string">"Modul Laurent Init done"</span></span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Awalnya, pesan inisialisasi ditampilkan dan upaya dilakukan untuk menyambung ke modul Laurent. Jika ini gagal, pesan kesalahan ditampilkan, dan jika koneksi ke modul berhasil, perintah diagnosa diri dikirim, di mana modul sehat harus merespons dengan "#OK". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, perintah dikirim untuk memasukkan kata sandi (dalam hal ini, ini adalah kata sandi standar). Dan 500 milidetik diharapkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, dua perintah tambahan diperkenalkan - salah satunya menghentikan output data oleh modul (jika berjalan), dan yang kedua mematikan relai No. 2, yang kami gunakan dalam percobaan kami. Dengan kata lain, perintah ini membawa modul ke kondisi awal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah cetakan dari proses inisialisasi tempat semua perintah dan semua respons modul terlihat:</font></font><br>
<br>
<pre><code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">Start</span></span> modul Laurent Init...<font></font>
Connect to Laurent... OK<font></font>
Selftest...<font></font>
<span class="hljs-function"><span class="hljs-function">Command: $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">KE</span></span></span><span class="hljs-function">
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Answer</span></span></span><span class="hljs-function">:  #</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OK</span></span></span><span class="hljs-function">
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Set</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">password</span></span></span><span class="hljs-function">...
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Command</span></span></span><span class="hljs-function">: $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">KE</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PSW</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SET</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Laurent</span></span></span><span class="hljs-function">
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Answer</span></span></span><span class="hljs-function">:  #</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PSW</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SET</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OK</span></span></span><span class="hljs-function">
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Command</span></span></span><span class="hljs-function">: $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">KE</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DAT</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OFF</span></span></span><span class="hljs-function">
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Answer</span></span></span><span class="hljs-function">:  #</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DAT</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OK</span></span></span><span class="hljs-function">
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Command</span></span></span><span class="hljs-function">: $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">KE</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">REL</span></span></span><span class="hljs-function">,2,0
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Answer</span></span></span><span class="hljs-function">:  #</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">REL</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OK</span></span></span><span class="hljs-function">
</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Modul</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Laurent</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">done</span></span></span><span class="hljs-function">
</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kode untuk fungsi pengaturan standar (). </font><font style="vertical-align: inherit;">Semua subsistem diinisialisasi, termasuk port serial pada tingkat baud 9600 standar.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{  <font></font>
  Serial.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>);  <font></font>
  ethernetInit();<font></font>
  laurentInit();<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kita menginisialisasi modul dan kita bisa mengelolanya seperti yang kita butuhkan: mengirim perintah, membaca jawaban, membangun logika kontrol dengan mempertimbangkan data yang dikeluarkan oleh modul Laurent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan, misalnya, tugas yang paling sederhana - untuk menghidupkan dan mematikan secara teratur lampu yang terhubung ke relai kedua modul Laurent.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
  <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
  sprintf(buf, <span class="hljs-string"><span class="hljs-string">"$KE,REL,2,1"</span></span>);<font></font>
  sendLaurentRequest();<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">3000</span></span>);
  <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
  sprintf(buf, <span class="hljs-string"><span class="hljs-string">"$KE,REL,2,0"</span></span>);<font></font>
  sendLaurentRequest();<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">3000</span></span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi loop () adalah loop tak terbatas dan lampu, mematuhi perintah kami, akan terus menyala dan padam setiap 3 detik. </font><font style="vertical-align: inherit;">Ini, tentu saja, hanya sebuah contoh, pada kenyataannya, logika kerja dapat berupa apa saja dan semuanya tergantung pada kebutuhan Anda. </font><font style="vertical-align: inherit;">Dan tentu saja, Anda dapat mengirim tidak hanya perintah untuk mengaktifkan atau menonaktifkan beban, tetapi juga perintah lain yang didukung oleh modul. </font><font style="vertical-align: inherit;">Anda dapat menemukan daftar perintah lengkap dan uraiannya dalam dokumentasi untuk modul Laurent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mengambil sketsa ini dan mengintegrasikannya ke dalam proyek Anda sendiri, sehingga menambahkan dukungan untuk mengelola modul Laurent kepada mereka. </font><font style="vertical-align: inherit;">Atau sebaliknya, anggap sketsa ini sebagai dasar dan secara bertahap tingkatkan fungsinya. </font><font style="vertical-align: inherit;">Tidak ada batasan untuk kesempurnaan. </font><font style="vertical-align: inherit;">Ini sketsa lengkapnya.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode sketsa lengkap</font></font></b><div class="spoiler_text">#include &lt;SPI.h&gt;<br>
#include &lt;Ethernet.h&gt;<br>
<br>
byte SELF_MAC[] = {0x00, 0x2A, 0xF5, 0x12, 0x67, 0xEE};<br>
byte SELF_IP[] = {192, 168, 2, 20};<br>
<br>
byte LAURENT_IP[] = {192, 168, 2, 19};<br>
int LAURENT_PORT = 2424;<br>
<br>
char buf[200];<br>
<br>
EthernetClient lclient;<br>
<br>
void ethernetInit() {<br>
 Ethernet.begin(SELF_MAC, SELF_IP);<br>
}<br>
<br>
void laurentInit() {<br>
 Serial.println(Â«Start modul Laurent Init...Â»);<br>
 Serial.print(Â«Connect to Laurentâ€¦ â€);<br>
 if (lclient.connect(LAURENT_IP, LAURENT_PORT)) {<br>
 Serial.println(â€œOKÂ»);<br>
 lclient.stop();<br>
 <br>
 // Send test command<br>
 Serial.println(Â«Selftest...Â»);<br>
 sprintf(buf, "$KE");<br>
 sendLaurentRequest();<br>
<br>
// Send password (default: Â«LaurentÂ»)<br>
 Serial.println(Â«Set password...Â»);<br>
 sprintf(buf, "$KE,PSW,SET,Laurent"); <br>
 sendLaurentRequest();<br>
 } else {<br>
 Serial.println(Â«failedÂ»);<br>
 }<br>
 delay(500);<br>
 <br>
 //   DATA<br>
 sprintf(buf, "$KE,DAT,OFF");<br>
 sendLaurentRequest();<br>
 delay(100);<br>
 <br>
 //  <br>
 sprintf(buf, "$KE,REL,2,0");<br>
 sendLaurentRequest();<br>
 <br>
 Serial.println(Â«Modul Laurent Init doneÂ»);<br>
} // laurentInit<br>
<br>
void sendLaurentRequest() {<br>
 if (lclient.connect(LAURENT_IP, LAURENT_PORT)) { <br>
 Serial.print(Â«Command: â€);<br>
 Serial.println(buf);<br>
 lclient.println(buf);<br>
 delay(100);<br>
 <br>
 Serial.print(â€œAnswer: â€);<br>
 while(lclient.available() != 0) {<br>
 char c = lclient.read();<br>
 Serial.printÂ©;<br>
 }<br>
 delay(500);<br>
 lclient.stop();<br>
 } else {<br>
 Serial.println(â€œError sending commandÂ»);<br>
 }<br>
} // sendLaurentRequest<br>
<br>
void setup() { <br>
 Serial.begin(9600); <br>
 ethernetInit();<br>
 laurentInit();<br>
}<br>
<br>
void loop() {<br>
 //  <br>
 sprintf(buf, "$KE,REL,2,1");<br>
 sendLaurentRequest();<br>
 delay(3000);<br>
<br>
//  <br>
 sprintf(buf, "$KE,REL,2,0");<br>
 sendLaurentRequest();<br>
 delay(3000);<br>
}<br>
</div></div><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino Mega Server</font></font></h2><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/6cb/44c/34f/6cb44c34fc97289e192f28cc8e59fb8c.png" alt="gambar"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino Mega Server</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (AMS) adalah sistem yang kuat untuk Arduino Mega (sekarang juga untuk Arduino DUE dan, segera, untuk platform 32-bit lainnya M0 (Zero) dan Genuino 101), yang berisi kode "untuk semua kesempatan" dan ditambah lagi server internal dan antarmuka web yang user-friendly. </font><font style="vertical-align: inherit;">AMS mendukung modul Laurent langsung dari kotak dan Anda tidak perlu menambahkan apa pun selain logika pengguna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AMS memiliki struktur modular dan modul switching on dan off dilakukan dengan hanya mengomentari garis dalam sketsa, misalnya,</font></font><br>
<br>
<pre><code class="java hljs">#define LAURENT_FEATURE
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
atau </font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//#define LAURENT_FEATURE</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika baris dikomentari, maka modul tidak dikompilasi dan tidak berpartisipasi dalam pekerjaan, seperti yang dapat dilihat pada indikator modul di header situs. </font><font style="vertical-align: inherit;">Atau sebaliknya, modul yang dikompilasi dan berfungsi ditunjukkan dengan warna biru. </font><font style="vertical-align: inherit;">Dalam hal ini, modul kontrol LRT LRT tidak berfungsi. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/7bb/e3b/f7e/7bbe3bf7ea1146478f40eff0c230d38f.png" alt="gambar"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indikator Operasi Modul</font></font></em><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dengan respons modul Laurent</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita tambahkan kemampuan untuk tidak hanya menampilkan respons modul, tetapi juga bekerja dengannya, misalnya, menganalisis atau menampilkannya di halaman web Server Arduino Mega. </font><font style="vertical-align: inherit;">Untuk melakukan ini, kita memerlukan variabel string baru dan konstanta yang menentukan panjang string yang kita tetapkan untuk jawaban modul Laurent. </font><font style="vertical-align: inherit;">Dalam contoh pengujian, ini sama dengan 25 karakter, tetapi Anda dapat meningkatkannya jika jawaban tidak sesuai dengan nilai ini. </font><font style="vertical-align: inherit;">Anda hanya perlu mengingat bahwa RAM mikrokontroler adalah sumber daya yang berharga dan Anda harus menyimpannya. </font><font style="vertical-align: inherit;">Tambahkan baris berikut ke modul laurent.ino standar dari paket AMS:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> MAX_LEN_LREQUEST = <span class="hljs-number"><span class="hljs-number">25</span></span>;<font></font>
String lrequest = String(MAX_LEN_LREQUEST);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita juga perlu mengubah kode fungsi yang membuat permintaan (perubahan yang ditambahkan disorot oleh panah).</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendLaurentRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lclient.connect(LAURENT_IP, LAURENT_PORT)) { <font></font>
    Serialprint(<span class="hljs-string"><span class="hljs-string">"Command: "</span></span>);<font></font>
    Serial.println(buf);<font></font>
    lclient.println(buf);<font></font>
    delay(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  <font></font>
    Serialprint(<span class="hljs-string"><span class="hljs-string">"Answer:  "</span></span>);
    <span class="hljs-comment"><span class="hljs-comment">// --------------------&gt;</span></span>
    lrequest = <span class="hljs-string"><span class="hljs-string">""</span></span>;
    <span class="hljs-comment"><span class="hljs-comment">// --------------------&gt;</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(lclient.available() != <span class="hljs-number"><span class="hljs-number">0</span></span>) {
      <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> c = lclient.read();<font></font>
      Serial.print(c);<font></font>
      <span class="hljs-comment"><span class="hljs-comment">// --------------------&gt;</span></span>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lrequest.length() &lt; MAX_LEN_LREQUEST) {<font></font>
        lrequest += (c);<font></font>
      }<font></font>
      <span class="hljs-comment"><span class="hljs-comment">// --------------------&gt;</span></span><font></font>
    }<font></font>
    delay(<span class="hljs-number"><span class="hljs-number">500</span></span>);<font></font>
    lclient.stop();<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      Serialprint(<span class="hljs-string"><span class="hljs-string">"Error sending command\n"</span></span>);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami belajar bagaimana mendapatkan jawaban Laurent dalam variabel lrequest dan sekarang kami dapat melakukan apa pun yang kami inginkan. </font><font style="vertical-align: inherit;">Selanjutnya, saya akan menunjukkan cara menampilkan hasil kueri langsung di panel dasbor di header situs AMS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Catatan kecil. </font><font style="vertical-align: inherit;">Contoh ini menggunakan fungsi Serialprint alih-alih Serial.print standar karena menghemat lebih banyak RAM. </font><font style="vertical-align: inherit;">Dan itu dapat dengan mudah dikonversi menjadi standar dengan hanya mengakhiri dua kata.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengeluarkan respons modul ke header situs</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan contoh terakhir. </font><font style="vertical-align: inherit;">Mari kita tampilkan jawaban dari modul Laurent di tajuk situs Arduino Mega Server. </font><font style="vertical-align: inherit;">Untuk melakukan ini, kita perlu menambahkan permintaan ke loop utama () dari sketsa AMS. </font><font style="vertical-align: inherit;">Buka file arduino_mega_server.ino dan masukkan kode berikut sebelum fungsi cyclosInSecWork ():</font></font><br>
<br>
<pre><code class="java hljs">    #<span class="hljs-function"><span class="hljs-function">ifdef LAURENT_FEATURE
      </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cycle30s)</span></span></span><span class="hljs-function"> </span></span>{<font></font>
        sprintf(buf, <span class="hljs-string"><span class="hljs-string">"$KE"</span></span>);   <font></font>
        sendLaurentRequest();<font></font>
      }<font></font>
    #endif<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode ini akan menanyakan kesehatan modul Laurent setiap tiga puluh detik. Secara alami, ini hanyalah sebuah contoh, di tempat ini dapat ada permintaan dan kode apa pun. Jadi, dalam lrequest variabel kita memiliki jawaban tentang status modul dan sekarang dapat menampilkannya di header situs. Untuk melakukan ini, buka modul server_ajax.ino dan di bagian paling akhir, dalam kode fungsi responseDash (EthernetClient cl), sebelum baris cl.println (""); tambahkan kode berikut:</font></font><br>
<br>
<pre><code class="java hljs">    #<span class="hljs-function"><span class="hljs-function">ifdef LAURENT_FEATURE
      </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendTagString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"laurent"</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span><span class="hljs-function"><span class="hljs-params">, lrequest, cl)</span></span></span></span>;<font></font>
    #endif<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode ini, pada kenyataannya, mengirimkan respons modul ke halaman web. </font><font style="vertical-align: inherit;">Tetap melakukan dua hal: yang pertama adalah menambahkan kode JavaScript yang akan "menangkap" data kami dan yang kedua adalah kode HTML pada halaman AMS itu sendiri, di mana jawaban modul akan ditampilkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, buka file scripts.js dan dalam fungsi getDashData () sebelum braket penutup} // jika (this.responseXML! = Null) masukkan kode yang akan menerima tempat kami.</font></font><br>
<br>
<pre><code class="javascript hljs">          <span class="hljs-comment"><span class="hljs-comment">// Laurent</span></span>
          <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {
            <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> laurent = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.responseXML.getElementsByTagName(<span class="hljs-string"><span class="hljs-string">'laurent'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].childNodes[<span class="hljs-number"><span class="hljs-number">0</span></span>].nodeValue;<font></font>
          } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (err) {<font></font>
              laurent = <span class="hljs-string"><span class="hljs-string">"-"</span></span>;<font></font>
            }<font></font>
          <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"laurent"</span></span>).innerHTML = laurent; 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetap hanya sedikit memperbaiki file dash.htm dari pengiriman AMS standar dan menambahkan kode padanya yang akan menampilkan informasi di layar. </font><font style="vertical-align: inherit;">Segera setelah baris yang berisi class = "perangkat online" kami memasukkan baris baru kami dengan kode:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Laurent: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"value"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"laurent"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu saja. </font><font style="vertical-align: inherit;">Kami telah menampilkan respons modul Laurent di tajuk situs Arduino Mega Server. </font><font style="vertical-align: inherit;">Dan ini adalah hasil dari upaya kami. </font><font style="vertical-align: inherit;">Status modul terlihat jelas di panel AMS dan diperbarui setiap 30 detik, jadi jika terjadi sesuatu pada modul, Anda akan mengetahuinya setelah maksimal 30 detik.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/126/5f2/c08/1265f2c08e49db3483fb7df355ac27e1.png" alt="gambar"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, tidak ada yang rumit dalam mengelola modul Laurent menggunakan Arduino dan Arduino Mega Server, dan jika Anda sudah memiliki modul atau rencana untuk menambahkannya ke sistem Smart Home Anda, artikel ini akan membantu Anda melakukan ini dengan mudah dan sederhana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan di artikel berikutnya dari siklus, Anda akan belajar cara mengelola Loranes langsung dari layar komputer Anda dan bagaimana membuat proses mengajar anak-anak pemrograman interaktif dan lebih menarik. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selain itu</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Saluran Youtube terbuka dan berikut ini adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video promo dari</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Arduino Mega Server, yang menunjukkan cara bekerja dengan sistem nyata.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id387205/">https://habr.com/ru/post/id387205/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id387195/index.html">Patung kinetik "Sisyphus" dari LEGO Technics</a></li>
<li><a href="../id387197/index.html">Planet bisa menumbuhkan rambut gelap</a></li>
<li><a href="../id387199/index.html">DIY PowerBank selama 17.000 jam milliamp jujur</a></li>
<li><a href="../id387201/index.html">Berapa hacker dari Kerajaan Tengah?</a></li>
<li><a href="../id387203/index.html">Wanita buta berusia 37 tahun dengan kepribadian ganda mulai melihat ketika dia menjadi remaja</a></li>
<li><a href="../id387207/index.html">Bagaimana mantan insinyur Google mengembangkan teknologi pencarian restoran baru</a></li>
<li><a href="../id387209/index.html">The Birth of the Matrix: jaringan saraf tiruan belajar untuk membuat wajah orang dan interior kamar yang realistis</a></li>
<li><a href="../id387215/index.html">Cara mudah untuk menambahkan modul Wi-Fi ke Raspberry Pi Zero Anda</a></li>
<li><a href="../id387217/index.html">Pakaian pintar dan teknologi yang bisa dipakai</a></li>
<li><a href="../id387219/index.html">Apa yang memberi booming untuk Tahun Baru di kisaran $ 10-20? Bagian 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>