<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💃 🕑 ⏱️ 制作手机游戏的原型，从哪里开始以及如何做。 第一部分 🎷 🎪 ➗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="碰巧我经常制作原型（用于工作和个人项目） 
 我想分享我的经验。 我想写一篇有趣的文章来阅读我自己，首先我想知道一个人在项目实施中做出这个或那个决定，他如何开始这个项目时所受到的指导通常是最困难的。 

 我想和您一起考虑的一个新例子是基于物理学的休闲拼图的概念。 有时我会提到一些显而易见的事情，以...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>制作手机游戏的原型，从哪里开始以及如何做。 第一部分</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453056/"> 碰巧我经常制作原型（用于工作和个人项目） <br> 我想分享我的经验。 我想写一篇有趣的文章来阅读我自己，首先我想知道一个人在项目实施中做出这个或那个决定，他如何开始这个项目时所受到的指导通常是最困难的。 <br><br> 我想和您一起考虑的一个新例子是基于物理学的休闲拼图的概念。  <i>有时我会提到一些显而易见的事情，以便为初学者扩展话题。</i> <br><br><h3> 想法看起来像这样 </h3><br><img src="https://habrastorage.org/webt/ll/_-/mh/ll_-mhzvvzuhmrptbuhnsjt9up8.jpeg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第二部分</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第三部分</a> <br><a name="habracut"></a><br> 我们在运动场上布置各种修改器，这些修改器会改变火箭的方向，吸引，加速，击退等等。 任务是为恒星之间通往我们需要的下一个行星铺平道路。 着陆/触及星球痕迹时会考虑获胜。 运动场是垂直的，有几个屏幕，假设轨道可能会左右占据屏幕地板。 迷失-如果您错过了与另一行星相撞的目标行星，则飞越了该区域。 <br><br> 我希望我们所有人都知道，在进入开发和实施我们的计划之前，我们必须首先制造一个原型-一种非常粗糙且快速的产品，使您能够快速尝试基本的技巧并了解游戏玩法。 原型是做什么用的？ 在我们头脑中和实践中的游戏过程是完全不同的事情，对我们来说似乎很酷，对于其他人而言，这将是完全的恐怖，此外，项目中经常会出现一些有争议的时刻-管理，游戏规则，游戏动态等。 等等。 跳过原型阶段，遍历整个体系结构，交付图形，调整级别并最终发现游戏很糟糕，这将是非常愚蠢的。 从生活开始-在一场比赛中有大约10件迷你游戏，在原型制作后，结果证明它们非常无聊，一半被扔掉，一半被重做。 <br><br> 提示-除了基本机制外，还要将有争议的地方隔离开，写下对原型的特定期望。 这样做是为了在困难时刻重新加载。 例如，该原型所面临的任务之一是，运动场由多个屏幕组成并且需要缠绕，这是多么方便和容易理解。 有必要实施计划A-svayp。 计划B-缩放比赛场地的能力（如有必要）。 修饰符也有几个选项。 第一个想法在屏幕截图中可见-我们公开了修饰符及其影响的方向。 结果，修改器被简单地替换为球体，当它们接触球体时会改变火箭的方向。 我们认为这会更加随意，没有轨迹等。 <br><br>  <b>我们实现的常规功能：</b> <br><br><ol><li> 您可以设置火箭的初始轨迹，并限制与垂直线的偏离度（火箭向侧面的旋转角度不能超过一个度） </li><li> 应该有一个开始按钮，通过它我们可以将火箭发送到路上 </li><li> 放置修饰符时滚动屏幕（开始） </li><li> 摄像机在播放器后方移动（启动后） </li><li> 界面面板，将在现场使用拖放修饰符 </li><li> 原型必须具有两个修改器-排斥力和加速度 </li><li> 当你触摸到死亡时一定有行星 </li><li> 当您触摸时，必定有行星 </li></ol><br><h3> 建筑学 </h3><br> 非常重要的一点是，在大型开发中，人们普遍认为原型的编写速度会更快，这太可怕了，然后仅从头开始编写项目。 在许多项目的严酷现实中，支腿从原型中脱颖而出，这不利于大型开发-曲线架构，遗留代码，技术债务，额外的重构时间。 好了，整个独立开发都从原型顺利发展到Beta。 我为什么呢？即使是原始的，也必须将架构放到原型中，这样您才不会在以后哭，哭泣或在同事面前脸红。 <br><br> 在开始任何工作之前，我们总是重复–固体，亲吻，干，雅尼。 即使是经验丰富的程序员也忘记了Kiss和Yagni。 <br><br>  <b>我坚持什么基本架构</b> <br><br> 场景中有一个带有相应标签的空GameObject GameController，组件/单车挂在其上，最好将其制成预制件，然后根据需要将组件添加到预制件中： <br><br><ol><li>  GameController-（负责游戏的状态，直接负责逻辑（赢，输，多少生命等） </li><li>  InputController-与玩家管理，跟踪tachi，点击次数，点击者，控制状态等相关的所有信息 </li><li>  TransformManager-在游戏中，您经常需要知道谁在哪里，与玩家/敌人的位置有关的各种数据。 例如，如果我们飞过一颗行星，那么玩家将被击败，游戏控制器对此负责，但他必须从哪里知道玩家的位置。 转换管理器正是了解事物的本质 </li><li>  AudioController-这里很清楚，与声音有关 </li><li>  InterfacesController-显而易见，这是关于UI的 </li></ol><br> 整体情况显现-为每个可理解的任务创建一个控制器/实体来解决这些问题，这将避免使用google之类的对象，它可以了解挖掘的位置，我们将数据提供给控制器，我们可以随时更改接收数据的实现。 不允许使用公共字段，我们仅通过公共属性/方法提供数据。 我们在本地计算/更改数据。 <br><br> 有时，由于各种特定的逻辑和计算，会导致GameController膨胀。 如果我们需要处理数据-为此，最好创建一个单独的类GameControllerModel并在那里进行处理。 <br><br><h3> 这样代码就开始了 </h3><br><div class="spoiler">  <b class="spoiler_title">火箭基础课</b> <div class="spoiler_text"><pre><code class="java hljs">using GlobalEventAggregator; using UnityEngine; using UnityEngine.Assertions; namespace PlayerRocket { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> RocketState { WAITFORSTART = <span class="hljs-number"><span class="hljs-number">0</span></span>, MOVE = <span class="hljs-number"><span class="hljs-number">1</span></span>, STOP = <span class="hljs-number"><span class="hljs-number">2</span></span>, COMPLETESTOP = <span class="hljs-number"><span class="hljs-number">3</span></span>, } [RequireComponent(typeof(Rigidbody))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlayerRocketBase</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IUseForces</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IPlayerHelper</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> RocketConfig config; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> Rigidbody rigidbody; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> InputController inputController; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> RocketHolder rocketHolder; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> RocketState rocketState; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Transform Transform =&gt; transform; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Rigidbody RigidbodyForForce =&gt; rigidbody; RocketState IPlayerHelper.RocketState =&gt; rocketState; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ForceModel&lt;IUseForces&gt; forceModel; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> virtual </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Injections(); EventAggregator.AddListener&lt;ButtonStartPressed&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, StartEventReact); EventAggregator.AddListener&lt;EndGameEvent&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, EndGameReact); EventAggregator.AddListener&lt;CollideWithPlanetEvent&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, DestroyRocket); rigidbody = GetComponent&lt;Rigidbody&gt;(); Assert.IsNotNull(rigidbody, <span class="hljs-string"><span class="hljs-string">"    "</span></span> + gameObject.name); forceModel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ForceModel&lt;IUseForces&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> virtual </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Injections(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DestroyRocket</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CollideWithPlanetEvent obj)</span></span></span><span class="hljs-function"> </span></span>{ Destroy(gameObject); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EndGameReact</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(EndGameEvent obj)</span></span></span><span class="hljs-function"> </span></span>{ Debug.Log(<span class="hljs-string"><span class="hljs-string">"     "</span></span>); rocketState = RocketState.STOP; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Injections</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InjectEvent&lt;InputController&gt; { inject = (InputController obj) =&gt; inputController = obj}); EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InjectEvent&lt;RocketHolder&gt; { inject = (RocketHolder holder) =&gt; rocketHolder = holder }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartEventReact</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ButtonStartPressed buttonStartPressed)</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IPlayerHelper</span></span></span><span class="hljs-class"> </span></span>{ Transform Transform { get; } RocketState RocketState { get; } } }</code> </pre> <br></div></div><br>  <b>让我们</b>来上课： <br><br><pre> <code class="java hljs"> [RequireComponent(typeof(Rigidbody))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlayerRocketBase</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IUseForces</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IPlayerHelper</span></span></span></span></code> </pre> <br> 首先，为什么类是抽象的？ 我们不知道我们将拥有哪种火箭，它们将如何移动，将如何被动画化，将提供哪些游戏功能（例如，火箭弹向侧面的可能性）。 因此，我们将基类抽象化，在其中放置标准数据，然后放置抽象方法，具体导弹的实现方法可能有所不同。 <br><br> 还可以看到，该类已经具有接口的实现和属性，该属性将在游戏上悬挂必需的组件，没有它，火箭就不是火箭。 <br><br><pre> <code class="java hljs">[SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> RocketConfig config;</code> </pre> <br> 这个属性告诉我们，检查器有一个可序列化的字段，在大多数课程中（包括Unity），对象被塞入该字段中。这些字段是公开的，如果您是独立开发人员，则不要这样做。 使用私有字段和此属性。 在这里，我想稍微介绍一下该类的内容及其作用。 <br><br><div class="spoiler">  <b class="spoiler_title">Rocketconfig</b> <div class="spoiler_text"><pre> <code class="java hljs">using UnityEngine; namespace PlayerRocket { [CreateAssetMenu(fileName = <span class="hljs-string"><span class="hljs-string">"RocketConfig"</span></span>, menuName = <span class="hljs-string"><span class="hljs-string">"Configs/RocketConfigs"</span></span>, order = <span class="hljs-number"><span class="hljs-number">1</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RocketConfig</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScriptableObject</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> fuel; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Speed =&gt; speed; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Fuel =&gt; fuel; } }</code> </pre> <br></div></div><br> 这是一个可存储火箭设置的ScriptableObject。 这使游戏设计师需要的数据池超出了课堂。 因此，游戏设计人员无需搞乱并使用特定的火箭来设置特定的游戏项目，他们只需要修复此配置即可，该配置存储在单独的资产/文件中。 他们可以配置运行时配置并将其保存，也有可能为火箭购买不同的外观，并且参数是相同的-该配置只是在需要的地方徘徊。 这种方法正在很好地扩展-您可以添加任何数据，编写自定义编辑器等。 <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ForceModel&lt;IUseForces&gt; forceModel;</code> </pre> <br> 我也想对此进行详细介绍，这是一个将修饰符应用于对象的通用类。 <br><br><div class="spoiler">  <b class="spoiler_title">力模型</b> <div class="spoiler_text"><pre> <code class="java hljs">using System.Collections.Generic; using System.Linq; using UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> TypeOfForce { Push = <span class="hljs-number"><span class="hljs-number">0</span></span>, AddSpeed = <span class="hljs-number"><span class="hljs-number">1</span></span>, } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ForceModel</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">where</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IUseForces</span></span></span><span class="hljs-class"> </span></span>{ readonly <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> T forceUser; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;SpaceForces&gt; forces = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;SpaceForces&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> bool IsHaveAdditionalForces; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForceModel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T user)</span></span></span><span class="hljs-function"> </span></span>{ GlobalEventAggregator.EventAggregator.AddListener&lt;SpaceForces&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, ChangeModificatorsList); forceUser = user; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChangeModificatorsList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SpaceForces obj)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj.IsAdded) forces.Add(obj); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> forces.Remove(forces.FirstOrDefault(x =&gt; x.CenterOfObject == obj.CenterOfObject)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (forces.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) IsHaveAdditionalForces = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> IsHaveAdditionalForces = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddModificator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!IsHaveAdditionalForces) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; foreach (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> f in forces) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (f.TypeOfForce) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> TypeOfForce.Push: AddDirectionForce(f); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> TypeOfForce.AddSpeed: forceUser.RigidbodyForForce.AddRelativeForce(Vector3.up*f.Force); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddDirectionForce</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SpaceForces spaceForces)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//Debug.Log(""); //var t = AngleDir(forceUser.TransformForForce.position, spaceForces.CenterOfObject); forceUser.RigidbodyForForce.AddForce(Push(spaceForces)); } private Vector3 Push(SpaceForces spaceForces) { var dist = Vector2.Distance(forceUser.Transform.position, spaceForces.CenterOfObject); var coeff = 1 - (spaceForces.ColliderBound / dist); if (forceUser.Transform.position.x &gt; spaceForces.CenterOfObject.x) return (Vector3.right * spaceForces.Force) * coeff; else return (-Vector3.right * spaceForces.Force) * coeff; } public static float AngleDir(Vector2 A, Vector2 B) { return -Ax * By + Ay * Bx; } } public interface IUseForces { Transform Transform { get; } Rigidbody RigidbodyForForce { get; } } public struct SpaceForces { public TypeOfForce TypeOfForce; public Vector3 CenterOfObject; public Vector3 Direction; public float Force; public float ColliderBound; public bool IsAdded; }</span></span></code> </pre> <br></div></div><br> 这就是我上面写的-如果您需要进行某种计算/复杂的逻辑，请将其放在单独的类中。 有一个非常简单的逻辑-有一系列作用于火箭的力。 我们对列表进行迭代，查看它的功能并应用特定的方法。 该列表由事件更新，事件在修改器字段中输入/退出时发生。 该系统非常灵活，首先它与一个接口（hi封装）一起工作，修改器的用户不仅可以是火箭/玩家。 其次，一个通用类-您可以使用各种后代来扩展IUseForces以进行需求/实验，并且仍然使用此类/模型。 <br><br> 足够的第一部分。 在第二部分中，我们将考虑事件，依赖注入，输入控制器，火箭类本身的系统，并尝试启动它。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN453056/">https://habr.com/ru/post/zh-CN453056/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN453034/index.html">父亲使用3D打印机和X-Box为儿子创造了仿生假体</a></li>
<li><a href="../zh-CN453038/index.html">软件无线电-它如何工作？ 第4部分</a></li>
<li><a href="../zh-CN453042/index.html">Windows Terminal Build 2019常见问题</a></li>
<li><a href="../zh-CN453044/index.html">期待已久的迈向结构复杂的文档的一步（+视频）</a></li>
<li><a href="../zh-CN453046/index.html">使用PostgreSQL中索引的所有功能</a></li>
<li><a href="../zh-CN453058/index.html">人工智能学会了从一帧创建视频。 现在可以使旧画生动起来</a></li>
<li><a href="../zh-CN453064/index.html">为善而害：Lamprey的免疫系统与人类脑癌作斗争</a></li>
<li><a href="../zh-CN453066/index.html">印刷用户界面-开发用户界面的新方法</a></li>
<li><a href="../zh-CN453068/index.html">主观性</a></li>
<li><a href="../zh-CN453070/index.html">L-逻辑</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>