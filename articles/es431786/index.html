<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游눷 游돆 游 La historia de lo que no necesitas hacer durante el desarrollo 游걊 游볰 游빀游낕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr칩logo: Para empezar, hablar칠 sobre el proyecto para que haya ideas sobre c칩mo trabajamos en el proyecto y para recrear el dolor que sentimos. 

 Com...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La historia de lo que no necesitas hacer durante el desarrollo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431786/"> <b>Pr칩logo:</b> Para empezar, hablar칠 sobre el proyecto para que haya ideas sobre c칩mo trabajamos en el proyecto y para recrear el dolor que sentimos. <br><br>  Como desarrollador, ingres칠 al proyecto en 2015-2016, no lo recuerdo exactamente, pero funcion칩 2-3 a침os antes.  El proyecto fue muy popular en su campo, a saber, los servidores de juegos.  Qu칠 extra침o no sonaba, pero los proyectos en los servidores de juegos est치n en curso hasta el d칤a de hoy, recientemente vi vacantes y trabaj칠 un poco en el mismo equipo.  Dado que los servidores de juegos se basan en un juego ya creado, por lo tanto, se utiliza un lenguaje de secuencias de comandos para el desarrollo integrado en el motor del juego. <br><br>  Estamos desarrollando casi desde cero un proyecto sobre Garry's Mod (Gmod), es importante tener en cuenta que, al momento de escribir este art칤culo, Harry ya est치 creando un nuevo proyecto de S &amp; Box en Unreal Engine.  Todav칤a estamos sentados en la Fuente. <br><blockquote>  Que generalmente no es adecuado para nuestro tema de servidor. </blockquote><img src="https://habrastorage.org/getpro/habr/post_images/a7c/086/fef/a7c086fef0487def7d3bd7b5b50f9b8d.jpg" alt="imagen"><br><a name="habracut"></a><br>  "쯇or qu칠 da miedo tu historia?"  - usted pregunta <br><br>  Tenemos un tema fuerte para el servidor de juegos, a saber, "Stalker" e incluso con elementos de juegos de rol (RP), la pregunta surge de inmediato: "쮺칩mo pueden todos implementar esto en un servidor?". <br><br>  Teniendo en cuenta que el motor de Source es antiguo (la versi칩n 2013 tambi칠n se usa en Gmod de 32 bits), no har치s tarjetas grandes, hay peque침as restricciones en el n칰mero de Entity, Mesh y mucho m치s. <br><blockquote>  Quien trabaj칩 en el motor lo entender치. </blockquote>  Resulta que la tarea es generalmente imposible, hacer un acosador limpio multijugador con misiones, elementos RPG del propio original y preferiblemente una peque침a trama. <br><br>  En primer lugar, la ortograf칤a inicial fue dif칤cil (muchas acciones de la categor칤a: tirar un objeto, levantar un objeto se escribieron desde cero), con la esperanza de que ser칤a m치s f치cil continuar, pero los requisitos aumentaron.  La mec치nica del juego estaba lista, todo lo que quedaba era hacer inteligencia, actualizar y todo tipo de cosas.  En general, todos se transfirieron como pudieron. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c41/7d4/fbf/c417d4fbf4cc7ac27df898fafa43e228.png" alt="imagen"><br><br>  Los problemas comenzaron ya durante el trabajo de la primera versi칩n de lanzamiento, a saber (retrasos, retrasos en el servidor). <br><br>  Parece que un servidor poderoso podr칤a procesar con calma las solicitudes y mantener todo el Modo de juego. <br><br><div class="spoiler">  <b class="spoiler_title">Descripci칩n simple del modo de juego</b> <div class="spoiler_text">  Este es el nombre de un conjunto de scripts escritos para describir la mec치nica del servidor. <br>  Por ejemplo: queremos el tema de las ahora populares "Royal Battles", lo que significa que el nombre debe corresponder tambi칠n a la mec치nica del juego.  "La generaci칩n de jugadores en el avi칩n, puedes recoger cosas, los jugadores pueden comunicarse, no puedes usar m치s de 1 casco, etc."  - Todo esto es descrito por la mec치nica del juego en el servidor. <br></div></div><br>  Los retrasos estaban en el lado del servidor debido a la gran cantidad de jugadores, ya que un jugador consume mucha RAM de aproximadamente 80-120 mb (sin contar elementos en el inventario, habilidades, etc.), y en el lado del cliente hubo una fuerte disminuci칩n FPS <br><br>  La potencia de la CPU no era suficiente para procesar la f칤sica, era necesario usar menos objetos con propiedades f칤sicas. <br><br>  Tambi칠n, adem치s, estaban nuestros guiones escritos por uno mismo que no estaban optimizados en absoluto. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca9/5c2/4f2/ca95c24f21b7f1011fb654065eb2b8ef.png" alt="imagen"><br><br>  Primero, por supuesto, leemos art칤culos sobre optimizaci칩n en Lua.  Incluso se <s>suicid칩</s> que quer칤an escribir archivos DLL en C ++, pero el problema surgi칩 al descargar el archivo DLL del servidor a los clientes.  Usando C ++ para una DLL, puede escribir un programa que intercepte silenciosamente los datos; los desarrolladores de Gmod agregaron una extensi칩n a las excepciones para la descarga por parte de los clientes (seguridad, aunque en realidad nunca sucedi칩).  Aunque ser칤a conveniente y Gmod se volver칤a m치s flexible, pero m치s peligroso. <br><br>  Luego, miramos el generador de perfiles (afortunadamente, personas inteligentes lo escribieron) y hubo un horror en las funciones, se not칩 que inicialmente hab칤a funciones muy lentas en la biblioteca del motor Gmod. <br><br>  Si trataste de escribir en Gmod, entonces sabes que hay una biblioteca incorporada llamada matem치tica. <br><br>  Y las funciones m치s lentas en 칠l son, por supuesto, matem치ticas, abrazadera y matem치ticas. <br><br>  Hurgando en el c칩digo de personas, se not칩 que las funciones se lanzaban en diferentes direcciones, se usaba en casi todas partes, 춰pero de manera incorrecta! <br><br>  <u>Vamos a practicar.</u>  Por ejemplo, queremos redondear las coordenadas del vector de posici칩n para mover la entidad (por ejemplo, un jugador). <br><br><pre><code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> x = <span class="hljs-number"><span class="hljs-number">12.5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> y = <span class="hljs-number"><span class="hljs-number">14.9122133</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> z = <span class="hljs-number"><span class="hljs-number">12.111</span></span> LocalPlayer():SetPos( Vector( Math.Round(x), Math.Round(y), Math.Round(z) )</code> </pre> <br>  3 funciones de redondeo complejas, pero nada serio, a menos, por supuesto, en un bucle y no se use con frecuencia, pero la abrazadera es a칰n m치s dif칤cil. <br><br>  El siguiente c칩digo se usa a menudo en proyectos y nadie quiere cambiar nada. <br><br><pre> <code class="lua hljs">self:setLocalVar(<span class="hljs-string"><span class="hljs-string">"hunger"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">math</span></span>.Clamp(current + <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>))</code> </pre><br>  Por ejemplo, self apunta al objeto de un jugador y tiene una variable local que inventamos, que cuando se restablece el servidor, matem치tica. Clamp esencialmente como un bucle hace una asignaci칩n suave, les gusta hacer una interfaz suave en Clamp. <br><br>  Los problemas surgen cuando funciona en cada jugador que visita el servidor.  Es un caso raro, pero si 5-15 (depende inmediatamente de la configuraci칩n del servidor) ingresa al servidor en un punto en el tiempo y esta funci칩n peque침a y simple comienza a funcionar para todos, entonces el servidor tendr치 buenos retrasos en la CPU.  Peor a칰n si las matem치ticas. La abrazadera est치 en un bucle. <br><br>  La optimizaci칩n es realmente muy simple, localizas funciones con mucha carga.  Parece primitivo, pero en 3 modos de juego y muchos complementos vi este c칩digo lento. <br><br>  Si necesita obtener el valor y usarlo en el futuro, no necesita volver a obtenerlo si no cambia.  Despu칠s de todo, un jugador que ingrese al servidor en cualquier caso recibir치 un hambre igual a 100, por lo que este c칩digo es muchas veces m치s r치pido. <br><br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> value = <span class="hljs-built_in"><span class="hljs-built_in">math</span></span>.Clamp(current + <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>) self:setLocalVar(<span class="hljs-string"><span class="hljs-string">"hunger"</span></span>, value)</code> </pre><br>  Todo est치 bien, comenzaron a mirar m치s a fondo c칩mo funciona.  Como resultado, comenzamos una man칤a para optimizar todo. <br><br>  Notamos que el est치ndar para el loop es lento y decidimos crear nuestra propia bicicleta, que ser치 m치s r치pida (no nos olvidamos del blackjack) y luego comenz칩 el juego. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/989/1a7/d62/9891a7d62cc782069db99995886f381e.jpg" alt="imagen"><br><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text">  Incluso logramos hacer el ciclo m치s r치pido en Lua Gmod, pero con la condici칩n de que deber칤a haber m치s de 100 elementos. <br></div></div><br>  A juzgar por el tiempo dedicado a nuestro ciclo y su uso en el c칩digo, intentamos en vano hacerlo porque encontr칩 aplicaci칩n solo en el engendro en el mapa de anomal칤as despu칠s de arrojarlas y eliminarlas. <br>  <u>Y as칤 al c칩digo.</u>  Por ejemplo, necesita encontrar todas las entidades con un nombre al comienzo de anom, tenemos anomal칤as en este nombre de clase. <br><br>  Aqu칤 est치 el script normal para Lua Gmod: <br><br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> anomtable = ents.FindByClass(<span class="hljs-string"><span class="hljs-string">"anom_*"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">pairs</span></span>(anomtable) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> v:Remove() <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  Aqu칤 est치 para el fumador: <br><br>  Es obvio de inmediato que dicho c칩digo <s>g * obviamente</s> ser치 m치s lento que el est치ndar "en pares", pero result칩 que no. <br><br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> b, key = ents.FindByClass(<span class="hljs-string"><span class="hljs-string">"anom_*"</span></span>), <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">repeat</span></span> key = <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>(b, key) b[key]:Remove() <span class="hljs-keyword"><span class="hljs-keyword">until</span></span> key != <span class="hljs-literal"><span class="hljs-literal">nil</span></span></code> </pre><br><br>  Para analizar completamente estas opciones de bucle, debe traducirlas a un script Lua normal. <br>  Por ejemplo, anomtable tendr치 5 elementos. <br>  La eliminaci칩n se reemplaza por la adici칩n habitual.  Lo principal es ver la diferencia en la cantidad de instrucciones entre las dos opciones para implementar el bucle for. <br><br>  Ciclo de vainilla: <br><br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> anomtable = { <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">pairs</span></span>(anomtable) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> v = v + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  El nuestro es genial: <br><br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> b, key = { <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> }, <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">repeat</span></span> key = <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>(b, key) b[key] = b[key] + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">until</span></span> key ~= <span class="hljs-literal"><span class="hljs-literal">nil</span></span></code> </pre><br>  Veamos el c칩digo del int칠rprete ( <b>como un ensamblador, no se recomienda mirar bajo un spoiler como un programador de alto nivel</b> ). <br><br>  <u>Por si acaso, quite los jones de las pantallas.</u>  <u>Le advert칤</u> <br><br><div class="spoiler">  <b class="spoiler_title">Desmontador de ciclo de vainilla</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">; Name: for1.lua ; Defined at line: 0 ; #Upvalues: 0 ; #Parameters: 0 ; Is_vararg: 2 ; Max Stack Size: 7 1 [-]: NEWTABLE R0 5 0 ; R0 := {} 2 [-]: LOADK R1 K0 ; R1 := 1 3 [-]: LOADK R2 K1 ; R2 := 2 4 [-]: LOADK R3 K2 ; R3 := 3 5 [-]: LOADK R4 K3 ; R4 := 4 6 [-]: LOADK R5 K4 ; R5 := 5 7 [-]: SETLIST R0 5 1 ; R0[(1-1)*FPF+i] := R(0+i), 1 &lt;= i &lt;= 5 8 [-]: GETGLOBAL R1 K5 ; R1 := pairs 9 [-]: MOVE R2 R0 ; R2 := R0 10 [-]: CALL R1 2 4 ; R1,R2,R3 := R1(R2) 11 [-]: JMP 13 ; PC := 13 12 [-]: ADD R5 R5 K0 ; R5 := R5 + 1 13 [-]: TFORLOOP R1 2 ; R4,R5 := R1(R2,R3); if R4 ~= nil then begin PC = 12; R3 := R4 end 14 [-]: JMP 12 ; PC := 12 15 [-]: RETURN R0 1 ; return</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Desmontador de bicicletas</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">; Name: for2.lua ; Defined at line: 0 ; #Upvalues: 0 ; #Parameters: 0 ; Is_vararg: 2 ; Max Stack Size: 6 1 [-]: NEWTABLE R0 5 0 ; R0 := {} 2 [-]: LOADK R1 K0 ; R1 := 1 3 [-]: LOADK R2 K1 ; R2 := 2 4 [-]: LOADK R3 K2 ; R3 := 3 5 [-]: LOADK R4 K3 ; R4 := 4 6 [-]: LOADK R5 K4 ; R5 := 5 7 [-]: SETLIST R0 5 1 ; R0[(1-1)*FPF+i] := R(0+i), 1 &lt;= i &lt;= 5 8 [-]: LOADNIL R1 R1 ; R1 := nil 9 [-]: GETGLOBAL R2 K5 ; R2 := next 10 [-]: MOVE R3 R0 ; R3 := R0 11 [-]: MOVE R4 R1 ; R4 := R1 12 [-]: CALL R2 3 2 ; R2 := R2(R3,R4) 13 [-]: MOVE R1 R2 ; R1 := R2 14 [-]: GETTABLE R2 R0 R1 ; R2 := R0[R1] 15 [-]: ADD R2 R2 K0 ; R2 := R2 + 1 16 [-]: SETTABLE R0 R1 R2 ; R0[R1] := R2 17 [-]: EQ 1 R1 K6 ; if R1 == nil then PC := 9 18 [-]: JMP 9 ; PC := 9 19 [-]: RETURN R0 1 ; return</code> </pre> <br></div></div><br>  Una persona sin experiencia simplemente dir치 que un ciclo regular es m치s r치pido porque hay menos instrucciones (15 vs. 19). <br><br>  Pero no debemos olvidar que cada instrucci칩n en el int칠rprete tiene ciclos de procesador. <br>  A juzgar por el c칩digo del desensamblador en el primer bucle, hay una instrucci칩n forloop escrita de antemano para trabajar con la matriz, la matriz se carga en la memoria, se vuelve global, saltamos los elementos y agregamos una constante. <br><br>  En la segunda variante, el m칠todo es diferente, que se basa m치s en la memoria, recibe una tabla, cambia un elemento, establece una tabla, comprueba cero y vuelve a llamar. <br>  Nuestro segundo ciclo es r치pido porque hay demasiadas condiciones y acciones en una instrucci칩n (R4, R5: = R1 (R2, R3); si R4 ~ = nulo, entonces comience PC = 12; R3: = R4 final) debido a esto come mucho <s>,</s> consume ciclos de reloj de la CPU para la ejecuci칩n, el pasado est치 nuevamente m치s ligado a la memoria. <br><br>  La instrucci칩n para bucle con una gran cantidad de elementos se rinde a nuestro ciclo sobre la velocidad de paso de todos los elementos.  Esto se debe al hecho de que el direccionamiento directo a la direcci칩n es m치s r치pido, menos que cualquier beneficio de los pares.  (Y no tenemos negaci칩n) <br><blockquote>  En general, en secreto, cualquier uso de negaci칩n en el c칩digo lo ralentiza; esto ya ha sido probado por pruebas y tiempo.  La l칩gica negativa funcionar치 m치s lentamente ya que la ALU del procesador tiene un "inversor" de unidad de c칩mputo separado, para el operando unario (춰no!) Para trabajar, necesita acceder al inversor y esto tomar치 m치s tiempo. </blockquote>  <b>Conclusi칩n:</b> todo lo est치ndar no siempre es mejor, sus bicicletas pueden ser 칰tiles, pero nuevamente en un proyecto real, no debe idearlas si la velocidad de lanzamiento es importante para usted.  Como resultado, hemos completado el desarrollo completo desde 2014 hasta la actualidad, una especie de otra "espera".  Aunque parece un servidor de juegos normal que se instala en 1 d칤a y est치 completamente configurado para el juego en 2 d칤as, debe poder introducir algo nuevo. <br><br>  Este proyecto a largo plazo todav칤a vio la segunda versi칩n de s칤 mismo donde hay muchas optimizaciones en el c칩digo, pero hablar칠 sobre otras optimizaciones en los siguientes art칤culos.  Apoyo con cr칤tica o comentario, correcto si me equivoco. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es431786/">https://habr.com/ru/post/es431786/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es431766/index.html">Clima de Marte: Regreso al futuro</a></li>
<li><a href="../es431768/index.html">Quer칤a ingresar al comit칠 de programa de la conferencia, y aqu칤 estoy, 쯫 qu칠 haremos?</a></li>
<li><a href="../es431772/index.html">쮺칩mo en dos clics para averiguar el nombre real del propietario del correo electr칩nico o n칰mero de tel칠fono utilizando PayPal o un agujero de privacidad?</a></li>
<li><a href="../es431774/index.html">Jap칩n comenz칩 a transmitir en formato 8K</a></li>
<li><a href="../es431780/index.html">"La mente est치 en l칤nea". Los l칤mites para crear inteligencia artificial</a></li>
<li><a href="../es431790/index.html">C칩mo crear un sitio web o aplicaci칩n, considerando a los usuarios con necesidades especiales</a></li>
<li><a href="../es431792/index.html">El resumen de materiales interesantes para el desarrollador m칩vil # 277 (26 de noviembre - 2 de diciembre)</a></li>
<li><a href="../es431796/index.html">La NASA celebra contratos para el desarrollo del m칩dulo lunar con empresas privadas</a></li>
<li><a href="../es431802/index.html">Personas problem치ticas entre gerentes de proyecto</a></li>
<li><a href="../es431804/index.html">C칩mo trabajar con excepciones en DDD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>