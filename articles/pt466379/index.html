<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõµ ‚òîÔ∏è üèÜ Execute o software "desktop" no microcontrolador ü§úüèº üîü üë∂üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A Embox participou do festival de TI TechTrain . Como na primeira vez, trouxemos os peda√ßos de ferro e mostramos nossas realiza√ß√µes ao vivo. J√° escrev...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Execute o software "desktop" no microcontrolador</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/embox/blog/466379/"><img src="https://habrastorage.org/webt/hd/do/8b/hddo8b7znwo2uxyl3nocsgfxlye.png" align="right" width="320"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A Embox</a> participou do festival de TI <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TechTrain</a> .  Como na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira vez,</a> trouxemos os peda√ßos de ferro e mostramos nossas realiza√ß√µes ao vivo.  J√° escrevemos sobre alguns no Habr√©, mas voc√™ nunca sabe quem :).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Telefone VoIP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Qt</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OpenCV</a> foram mostrados, todos baseados no STM32F7-Discovery.  Al√©m do estande, fizemos tr√™s relat√≥rios.  Eu j√° descrevi as id√©ias do primeiro sobre o projeto aberto em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">habr</a>  Neste artigo, quero contar as id√©ias de outro de nosso relat√≥rio, chamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Lan√ßamento de software" desktop "em microcontroladores"</a> .  Bem, aproveitando esta oportunidade, vou falar um pouco sobre meus sentimentos sobre o festival. <a name="habracut"></a><br><br><h2>  TechTrain </h2><br>  Primeiro, deixe-me contar um pouco sobre o festival em si.  Quem n√£o estiver interessado pode voltar imediatamente √† se√ß√£o "Iniciando o software" Desktop "no microcontrolador" <br><br>  A primeira coisa que chamou minha aten√ß√£o no festival foi muita gente.  Estamos cansados ‚Äã‚Äãde ficar de p√©, falando, conduzindo uma miss√£o e nos comunicando.  Por outro lado, foi muito divertido e interessante e, o mais importante, tivemos muitas emo√ß√µes positivas, por exemplo, v√°rias pessoas nos disseram que temos um bom blog no hub :).  Os participantes do festival eram de v√°rios campos de atividade, e nem de TI, porque o slogan do festival √© "um √≥timo festival para desenvolvedores, engenheiros e simpatizantes".  Havia muitas crian√ßas, um garoto no final do festival arrastou uma m√°quina rob√¥ da banca e brincou com ela.  Nem o garoto nem o rob√¥ foram feridos. <br><br>  Para tornar a amplitude do p√∫blico mais compreens√≠vel, ilustrarei de maneira diferente.  Muitas atividades foram realizadas no festival, uma delas foi uma busca.  Os participantes da miss√£o tiveram que subir √†s arquibancadas, concluir as tarefas inventadas e obter uma impress√£o.  Para isso, algu√©m chegou a ter um quadroc√≥ptero inteiro.  Mas agora n√£o √© sobre isso.  Tamb√©m √©ramos um dos lugares onde voc√™ poderia conseguir um selo.  T√≠nhamos preparado tarefas, incluindo perguntas.  As perguntas eram simples, sobre software de c√≥digo aberto e sistemas embarcados.  Mas o contingente era t√£o diferente que alguns se ressentiram da simplicidade da pergunta, enquanto outros entraram em estupor.  O √∫ltimo que naturalmente ajudamos, contamos (ou sugerimos google) sobre coisas como: "quem s√£o os criadores da linguagem C", "o que √© famoso por Linus Torvalds", "qual √© a diferen√ßa entre um microprocessador e um microcontrolador" ou "o que √© um compilador cruzado".  Como resultado, ningu√©m saiu sem imprimir.  A prop√≥sito, foi um pouco estranho, mas suspeitosamente muitos facilmente decifraram "GNU - GNU n√£o √© Unix".  Provavelmente preparado para Stallman.  :) <br><br>  O segundo segue do primeiro.  Havia entretenimento para um p√∫blico muito amplo.  Por exemplo, Habr trouxe uma caixa de areia.  √â verdade que n√£o era uma caixa de areia local onde voc√™ podia receber um convite para um artigo, mas era poss√≠vel mergulhar na fama.  Sobre convites na caixa de areia, eu n√£o pensei em perguntar, talvez eles tenham dado como em uma caixa de areia real.  Havia um clube de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">computadores antigos</a> , voc√™ podia jogar com eles, o que muitos fizeram.  Havia m√°quinas ca√ßa-n√≠queis do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Museu das m√°quinas ca√ßa-n√≠queis sovi√©ticas</a> .  Sberbank, ofereceu uma √°rea de relaxamento, tamb√©m foi poss√≠vel jogar nele j√° na esta√ß√£o de jogo.  Havia kickers tradicionais de TI e muitos outros entretenimentos.  Infelizmente, tivemos que trabalhar, por isso estou apenas falando sobre o que era vis√≠vel em nosso estande. <br><br>  A terceira e provavelmente a principal foi que os organizadores conseguiram reunir representantes de praticamente todas as √°reas de TI, desde desenvolvimento web e sistemas distribu√≠dos at√© embarcados.  De desenvolvedores e outros t√©cnicos, a recursos humanos e apenas interessados, por exemplo, jogadores (afinal, foi poss√≠vel invadir o pr√≥prio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Romero</a> ) ou entusiastas de bricolage.  Houve controle de qualidade do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">COMAQA</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">l√≠deres de</a> equipe do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Burning Lead</a> .  Havia comunidades de diferentes cidades (Rostov, Tver, Krasnodar).  Como resultado, os relat√≥rios e stands foram muito diferentes no t√≥pico.  Por exemplo, nosso estande estava localizado entre a comunidade de l√≠deres de equipe Burning Lead e o estande do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Clube de Diretores de TI de S√£o Petersburgo</a> . <br><br>  Como resultado, pessoas com diferentes origens se aproximaram de nosso estande, havia desenvolvedores da Web e bochechas dotnet, havia JS e vantagens.  Algu√©m lembrou que ele estava fazendo algo no AVR enquanto ainda estava na universidade, algu√©m estava dizendo que ele estava se divertindo com o RaPi ou o Arduino.  Havia muitos pintinhos DotNet, muitos estavam se perguntando se t√≠nhamos um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">.NET Micro Framework</a> .  N√≥s at√© pensamos muito em n√£o arrast√°-lo para n√≥s.  Esperava-se que houvesse muitas perguntas sobre o Rust.  Em suma, na minha opini√£o, os organizadores conseguiram implementar muito bem a id√©ia do festival ‚ÄúDescubra o que os outros vivem!‚Äù.  Afinal, como em qualquer festival, o principal aqui √© ver os outros e mostrar-se :). <br><br>  Sim, as fotos n√£o s√£o fornecidas aqui.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Algumas fotos</a> , inclusive com um garoto vivo Volodya, podem ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vistas</a> em nosso grupo.  Bem, √© claro, no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">grupo de techtrain, um</a> monte de fotos de alta qualidade, eles prometeram publicar mais. <br><br><h2>  Iniciar o software de desktop em um microcontrolador </h2><br>  Meu relat√≥rio foi uma esp√©cie de resumo dos resultados de v√°rios de nossos trabalhos sobre o lan√ßamento de software para desktop ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Qt</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OpenCV</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pjsip</a> ).  O relat√≥rio √© destinado ao p√∫blico em geral.  Para um habr, tentarei reduzir muitos detalhes e, para as coisas necess√°rias, darei o link ou as palavras-chave para pesquisa. <br><br>  Para come√ßar, darei uma esp√©cie de agenda.  De fato, haver√° 3 partes.  Primeiramente, explicarei as dificuldades de transferir software de mesa para microcontroladores e, ao longo do caminho, explicarei a diferen√ßa entre o microcontrolador e o microprocessador.  Tamb√©m responderei a uma pergunta-chave, por <s>exemplo, goat bayan</s> , por que executar software de desktop em um microcontrolador e, finalmente, mostrarei como conseguimos reduzir bastante o custo de transfer√™ncia desse software de "desktop" para microcontroladores. <br><br><h3>  Qual √© a diferen√ßa entre microcontroladores e microprocessadores </h3><br>  Assim, uma de nossas perguntas sobre a miss√£o soou e, talvez sob a influ√™ncia disso, um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> apareceu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em um programador t√≠pico</a> dizendo como elas diferem.  Concordo com tudo no artigo, mas tentaremos explic√°-lo com nossas pr√≥prias palavras e fazer v√°rios outros sotaques. <br><br>  O que √© uma unidade de microcontrolador (MCU)?  Se voc√™ procurar na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia</a> , pode entender que um microcontrolador √© um sistema em um chip, ou seja, um processador e perif√©ricos est√£o localizados em um chip. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O termo sistema em um chip (System-on-a-Chip, SoC)</a> √© um conceito mais amplo que um microcontrolador.  Este √© um circuito eletr√¥nico integrado em um √∫nico chip, que cont√©m um microprocessador (CPU) e perif√©ricos.  Em qualquer telefone celular, existe um chip no qual, al√©m de v√°rios n√∫cleos de processador, h√° v√°rios perif√©ricos.  At√© os processadores x86 agora incluem pontes e at√© gpu.  Mas eu quero focar n√£o em uma classifica√ß√£o clara, mas nos recursos.  Todo mundo sabe que os sistemas em um chip: <br><ul><li>  Consuma menos </li><li>  S√£o mais baratos </li><li>  Menos produtivo </li></ul><br>  Nem todo mundo sabe que eles s√£o ainda mais confi√°veis, reduzindo o n√∫mero de contatos e podem ter uma faixa de temperatura maior. <br><br>  O microcontrolador possui uma integra√ß√£o ainda maior e tamb√©m inclui mem√≥ria (RAM e ROM), que tamb√©m √© referida na periferia.  Assim, as propriedades s√£o preservadas, consomem ainda menos, custam ainda menos, ainda menos produtivo, e ainda mais confi√°vel. <br><br>  Eu quero falar sobre "ainda menos produtivo" em mais detalhes.  O fato √© que, por um lado, √© verdade, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">use</a> qualquer CPU ou SoC moderno de uso geral e observe um desempenho significativamente maior nos chamados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DMIPS</a> .  Mas se voc√™ pensar por que essa performance?  Como exemplo, darei os jogos Quake and Doom (cujo criador foi John Romero no festival), eles funcionaram muito bem no Pentium MMX.  Mas o desempenho dos sistemas baseados nesta CPU j√° est√° bloqueado pelos microcontroladores de √∫ltima gera√ß√£o.  Quero dizer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">STM32F7</a> ou mesmo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">STM32H7</a> .  Ou seja, com base nesses MCUs, √© bem poss√≠vel executar aplicativos nos n√≠veis Doom e Quake, o que voc√™ concorda que n√£o √© ruim. <br><br>  Vamos falar sobre outro recurso do MCU - mem√≥ria interna.  Ela, como eu disse, est√° localizada diretamente no chip e, consequentemente, √© muito r√°pida.  Mas ela, √© claro, n√£o √© suficiente.  Mas qu√£o pequeno?  O microcontrolador STM32F769 cont√©m 2 mb de flash (ROM) e 512 + 16 + 4 kB SRAM (RAM).  Al√©m disso, por exemplo, a placa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">STM32F769i-disco</a> tamb√©m possui mem√≥ria externa (SDRAM de 128 Mbit e mem√≥ria Flash Quad-SPI de 512 Mbit), endere√ßada diretamente.  Eu nem estou falando sobre a capacidade de conectar um cart√£o SD ou USB.  Bem, se voc√™ se lembra da famosa frase "640 kb deve ser suficiente para todos", surge a pergunta razo√°vel - por que o software de desktop moderno √© t√£o glut√£o?  Por exemplo, uma calculadora no Windows 10 no modo ocioso consome at√© 16 MB de mem√≥ria. <br><br>  Vamos para o pr√≥ximo recurso do MCU, a presen√ßa de ROM.  De fato, os sistemas com uma CPU tamb√©m cont√™m uma ROM; a execu√ß√£o √© iniciada a partir dela e o BIOS √© iniciado, mas o restante do software √© carregado na RAM e executado a partir dele.  Nos sistemas embarcados, √© habitual executar o c√≥digo diretamente, que √© chamado eXecute-In-Place (XIP), Linux, por sinal, tamb√©m suporta esse modo, mas o principal √© carregar tudo na mem√≥ria principal e, em seguida, execut√°-lo.  A capacidade de executar diretamente da ROM √© importante por dois motivos: o primeiro √© a arquitetura de Harvard, a separa√ß√£o do barramento de comando e do barramento de dados permite aumentar a velocidade de execu√ß√£o do programa;  o segundo - bem, naturalmente, menos mem√≥ria √© desperdi√ßada, porque pelo menos um segmento de c√≥digo n√£o precisa ser copiado em nenhum outro lugar. <br><br>  Outro recurso importante do MCU √© a falta de um m√≥dulo como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MMU</a> , ou seja, os microcontroladores n√£o t√™m suporte de hardware para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gerenciamento de mem√≥ria virtual</a> .  No MCU, nem todos possuem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MPUs</a> , e o c√≥digo √© executado no mesmo espa√ßo de endere√ßo, por isso √© dif√≠cil organizar uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bifurca√ß√£o completa ()</a> .  Mas o fork () em si, como escrevemos no artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚Äúfork () vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vfork () ‚Äù√© uma</a> chamada de sistema bastante pesada e, de acordo com sua funcionalidade, em muitos casos, pode ser substitu√≠da por vfork () ou posix_spawn (). <br><br>  Resumindo, como os microcontroladores diferem dos microprocessadores, podemos dizer o seguinte: <br>  Em termos de hardware: <br><ul><li>  Os microcontroladores t√™m todos os perif√©ricos necess√°rios, incluindo mem√≥ria </li><li>  Microcontroladores t√™m significativamente menos mem√≥ria </li><li>  Microcontroladores n√£o possuem uma MMU de hardware </li><li>  Microcontroladores t√™m uma velocidade de clock mais baixa e podem ter uma arquitetura de processador diferente (arquitetura de presentes) </li></ul><br><br>  Em termos de propriedades do consumidor: <br><ul><li>  Microcontroladores consomem menos energia, podem trabalhar com bateria </li><li>  Microcontroladores s√£o mais baratos </li><li>  Microcontroladores s√£o mais confi√°veis </li><li>  Microcontroladores s√£o menos produtivos </li></ul><br><br><h3>  Por que executar o software de desktop em um microcontrolador </h3><br>  Portanto, as MCUs s√£o menos produtivas e foram originalmente planejadas (e planejadas) para tarefas de controle.  Ent√£o, por que executar um software projetado para outra classe de sistemas?  Bem, mesmo que seu poder j√° seja suficiente para essas tarefas, mas essas tarefas podem ser resolvidas da maneira tradicional para microcontroladores.  Ou seja, para usar v√°rios RTOS pequenos ou escrever c√≥digo do zero, o que √© chamado bare-metal.  H√° uma resposta √≥bvia: inicialmente as tarefas de gerenciamento eram muito simples, agora os requisitos de funcionalidade est√£o crescendo rapidamente.  Mesmo com uma l√¢mpada suja que eles esperam controle pela Internet, n√£o estou falando da chaleira, eles provavelmente selecionar√£o em breve a composi√ß√£o do ch√° de acordo com o humor do propriet√°rio e aquecer√£o a quantidade ideal de √°gua √† temperatura ideal para melhorar a situa√ß√£o ambiental.  :) <br><br>  Portanto, n√£o surpreende que constantemente sejam feitas tentativas para usar o software j√° desenvolvido em microcontroladores.  Por exemplo, uma das primeiras e amplamente conhecidas tentativas de executar o Linux em plataformas pequenas √© o ucLinux, agora √© o modo NOMMU, principalmente o Linux.  A id√©ia era rodar o Linux em plataformas de hardware sem um MMU, mas descobrimos que essa √© uma das principais diferen√ßas entre a CPU e o MCU. <br><br>  Resumidamente, as vantagens de usar software pronto: <br><ul><li>  Reduzir custos de desenvolvimento </li><li>  Menor tempo de coloca√ß√£o no mercado </li><li>  Redu√ß√£o de erros no c√≥digo.  O software pronto √© mais confi√°vel. </li></ul><br><br><h3>  Como fazemos na Embox </h3><br>  Aqui voc√™ entende, pode conversar por muito tempo, mas, novamente, tentarei descrever os principais pontos de uma tese e de maneira acess√≠vel. <br><br>  O primeiro.  A Embox usa o sistema de constru√ß√£o Mybuild com sua pr√≥pria linguagem para descrever m√≥dulos e sistemas, escrevemos sobre isso no artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúMybuild - um sistema de constru√ß√£o para aplicativos modulares‚Äù</a> .  Esse sistema de compila√ß√£o permite que voc√™ n√£o inclua nada sup√©rfluo na imagem ou inclua apenas o necess√°rio.  Voc√™ pode realmente ajustar as caracter√≠sticas do sistema, por exemplo, para executar o PJSIP no STM32F7, limitamos o n√∫mero de pacotes Ethernet a 16 simplesmente escrevendo uma linha no arquivo de configura√ß√£o do sistema <br><pre><code class="cpp hljs">include embox.net.skbuff(amount_skb=<span class="hljs-number"><span class="hljs-number">16</span></span>)</code> </pre> <br>  Mybuild analisa depend√™ncias e gera v√°rios artefatos, incluindo arquivos de cabe√ßalho, scripts de vincula√ß√£o e Makefiles.  Tudo isso permite reduzir significativamente a quantidade de mem√≥ria necess√°ria e n√£o incluir as partes que n√£o s√£o usadas. <br><br>  O segundo  Obviamente, a Embox deve suportar POSIX e √© suportado.  Al√©m disso, implementamos nossa pr√≥pria biblioteca padr√£o, porque ela tamb√©m deve ser reconstru√≠da, dependendo da configura√ß√£o do sistema. <br><br>  O terceiro.  Liga√ß√£o est√°tica.  Para evitar problemas com um √∫nico espa√ßo de endere√ßo, reduzir o tamanho da imagem e incluir apenas as partes necess√°rias, usamos um link est√°tico.  Em est√°gios diferentes, diferentes partes do sistema s√£o montadas, mas finalmente tudo (o kernel, todos os subsistemas, bibliotecas e aplicativos) √© vinculado a uma √∫nica imagem.  Possui todas as informa√ß√µes sobre todos os caracteres da imagem.  E, embora √† primeira vista, tenhamos muitos aplicativos com pontos de entrada padr√£o int principal (..), mas na imagem resultante, esses ser√£o caracteres diferentes que estar√£o dispon√≠veis no sistema na linha de comando. <br><br>  Quarta.  Tivemos que implementar um tempo de execu√ß√£o para C ++, pois muitos aplicativos e bibliotecas populares usam vantagens. <br><br>  Quinto.  Adicionamos a capacidade de usar o sistema de compila√ß√£o <br><pre> <code class="bash hljs"> ./configure; make; make install</code> </pre> <br>  Depois de baixar a fonte de algum lugar e aplicar os patches necess√°rios. <br><br><h3>  Conclus√£o </h3><br>  Hoje, os requisitos funcionais para sistemas que foram feitos anteriormente em microcontroladores cresceram significativamente.  Espera-se que os sistemas de controle sejam compat√≠veis com os sistemas universais.  As caracter√≠sticas dos microcontroladores tamb√©m aumentaram significativamente, o que permite executar software neles com a funcionalidade correspondente.  Historicamente, o software para microcontroladores para fins de otimiza√ß√£o foi escrito para uma tarefa espec√≠fica, mas com um aumento nos requisitos funcionais, √© necess√°rio aplicar abordagens do mundo dos sistemas universais que podem aumentar muito a confiabilidade do software, a saber, reutiliza√ß√£o de m√≥dulos, desenvolvimento distribu√≠do.  Software universal, embora n√£o leve em considera√ß√£o os recursos dos sistemas embarcados, mas tenha uma funcionalidade significativamente maior e que funcione bem.  Portanto, o uso de software de mesa em microcontroladores d√° um ganho.  De fato, por um lado, voc√™ pode usar uma plataforma de hardware mais barata, mais confi√°vel e menos consumidora e, por outro lado, o custo de desenvolvimento de tais sistemas √© reduzido significativamente. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466379/">https://habr.com/ru/post/pt466379/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466365/index.html">Desenvolvendo um sistema operacional monol√≠tico semelhante a Unix - Introdu√ß√£o (1)</a></li>
<li><a href="../pt466367/index.html">N√≠vel da API do Android, compatibilidade com vers√µes anteriores e posteriores</a></li>
<li><a href="../pt466371/index.html">As tr√™s principais obje√ß√µes de vendas que voc√™ pode enfrentar ao trabalhar com tecnologias de tend√™ncias</a></li>
<li><a href="../pt466373/index.html">Desenvolvimento de bot Python TamTam</a></li>
<li><a href="../pt466375/index.html">Museum DataArt. KUVT2 - estudar e brincar</a></li>
<li><a href="../pt466381/index.html">Como as l√¢mpadas LED da Era mudaram em 2019</a></li>
<li><a href="../pt466383/index.html">Oceano de criptomoedas: an√°lise dos 50 principais projetos com o CoinMarketCap</a></li>
<li><a href="../pt466385/index.html">Entendendo os Corretores de Mensagens. Aprendendo a mec√¢nica das mensagens atrav√©s do ActiveMQ e Kafka. Cap√≠tulo 1</a></li>
<li><a href="../pt466397/index.html">N√≥s reprogramamos o caixa e imprimimos nele Keanu Reeves. Parte 2. Software para PC</a></li>
<li><a href="../pt466401/index.html">Um pouco de matem√°tica financeira: calculando infla√ß√£o e juros</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>