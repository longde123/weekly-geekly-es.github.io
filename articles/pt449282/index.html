<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¶ üèµÔ∏è üë®üèø‚Äçüéì Backup, Parte 1: Objetivo, Vis√£o geral de t√©cnicas e tecnologias üèÇüèæ üë©‚Äçüë¶‚Äçüë¶ üçà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Por que voc√™ precisa fazer backups? Afinal, o equipamento √© muito, muito confi√°vel, al√©m disso, existem ‚Äúnuvens‚Äù melhores do que os servidores f√≠sicos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Backup, Parte 1: Objetivo, Vis√£o geral de t√©cnicas e tecnologias</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/449282/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/658/945/c47/658945c47c79b468058bdfa05712bab1.jpg" alt="Backup? Eu n√£o preciso de backup !!"></div><br>  Por que voc√™ precisa fazer backups?  Afinal, o equipamento √© muito, muito confi√°vel, al√©m disso, existem ‚Äúnuvens‚Äù melhores do que os servidores f√≠sicos em termos de confiabilidade: se configurado corretamente, o servidor ‚Äúnuvem‚Äù sobreviver√° facilmente √† falha do servidor f√≠sico da infraestrutura e, do ponto de vista dos usu√°rios do servi√ßo, haver√° um pequeno salto quase impercept√≠vel no tempo servi√ßo.  Al√©m disso, a duplica√ß√£o de informa√ß√µes geralmente exige pagamento por tempo "extra" do processador, carga de disco e tr√°fego de rede. <br><a name="habracut"></a><br><blockquote>  Um programa ideal roda r√°pido, n√£o flui atrav√©s da RAM, n√£o possui furos e n√£o existe. <br><br>  Desconhecido </blockquote>  Como os programas ainda s√£o escritos por desenvolvedores de prote√≠nas e o processo de teste geralmente est√° ausente, a entrega de programas √© extremamente rara com o uso de "melhores pr√°ticas" (que tamb√©m s√£o programas em si mesmas e, portanto, imperfeitas), os administradores de sistema geralmente precisam resolver problemas que soam breve, mas sucintamente: "retorne como estava", "traga a base de volta √† opera√ß√£o normal", "funciona lentamente - n√≥s retrocedemos" e tamb√©m o meu favorito "n√£o sei o que, mas conserte-o". <br><br>  Al√©m dos erros l√≥gicos que surgem como resultado do trabalho descuidado dos desenvolvedores, ou de uma combina√ß√£o de circunst√¢ncias, bem como do conhecimento incompleto ou do mal-entendido dos pequenos recursos dos programas de constru√ß√£o - incluindo ligantes e sistemas, incluindo sistemas operacionais, drivers e firmware -, tamb√©m existem outros erros.  Por exemplo, a maioria dos desenvolvedores depende do tempo de execu√ß√£o, esquecendo completamente as leis f√≠sicas que ainda s√£o imposs√≠veis de contornar com a ajuda de programas.  Isso inclui a confiabilidade infinita do subsistema de disco e de qualquer subsistema de armazenamento de dados em geral (incluindo RAM e cache do processador!), E zero tempo de processamento no processador, e a aus√™ncia de erros durante a transmiss√£o pela rede e durante o processamento no processador e a lat√™ncia da rede, que s√£o 0. N√£o negligencie o prazo not√≥rio, pois se voc√™ n√£o tiver tempo, haver√° problemas mais limpos do que as nuances da rede e do disco. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/171/855/c4d/171855c4dfec286b3624dd27efeb71e6.jpg" alt="Chef, tudo se foi! com base na m√£o de diamante k \ f"><br><br>  Mas e os problemas que surgem em pleno crescimento e ficam com dados valiosos?  N√£o h√° nada para substituir os desenvolvedores ao vivo, e n√£o o fato de que isso ser√° poss√≠vel no futuro pr√≥ximo.  Por outro lado, para provar totalmente que o programa funcionar√° conforme o planejado, at√© agora apenas alguns projetos foram bem-sucedidos e n√£o √© de todo poss√≠vel obter e aplicar as evid√™ncias a outros projetos semelhantes.  Al√©m disso, essas evid√™ncias levam muito tempo e requerem habilidades e conhecimentos especiais, e isso praticamente minimiza a possibilidade de sua aplica√ß√£o levar em considera√ß√£o os prazos.  Al√©m disso, ainda n√£o sabemos como tecnologia ultra r√°pida, barata e infinitamente confi√°vel para armazenar, processar e transmitir informa√ß√µes.  Tais tecnologias, se existirem, ent√£o na forma de conceitos, ou - na maioria das vezes - apenas em livros e filmes de fic√ß√£o cient√≠fica. <br><blockquote>  Bons artistas copiam, grandes artistas roubam. <br><br>  Pablo Picasso. </blockquote>  As solu√ß√µes mais bem-sucedidas e as coisas surpreendentemente simples geralmente acontecem onde h√° absolutamente incompat√≠veis, √† primeira vista, conceitos, tecnologias, conhecimento, campos da ci√™ncia. <br><br>  Por exemplo, p√°ssaros e avi√µes t√™m asas, mas apesar da semelhan√ßa funcional - o princ√≠pio de opera√ß√£o em alguns modos √© o mesmo, e os problemas t√©cnicos s√£o resolvidos de maneira semelhante: ossos ocos, uso de materiais fortes e leves etc. - os resultados s√£o completamente diferentes, embora muito parecido  As melhores amostras que observamos em nossa tecnologia tamb√©m s√£o principalmente emprestadas da natureza: compartimentos herm√©ticos em navios e submarinos - uma analogia direta com os an√©l√≠deos;  constru√ß√£o de matrizes de ataque e verifica√ß√£o da integridade dos dados - duplica√ß√£o da cadeia de DNA;  al√©m de √≥rg√£os emparelhados, a independ√™ncia do trabalho de v√°rios √≥rg√£os em rela√ß√£o ao sistema nervoso central (fun√ß√£o card√≠aca autom√°tica) e reflexos s√£o sistemas aut√¥nomos na Internet.  Obviamente, tomar e aplicar solu√ß√µes prontas "de frente" est√° cheio de problemas, mas quem sabe, talvez n√£o haja outras solu√ß√µes. <br><blockquote>  Se eu soubesse onde voc√™ cairia, eu colocaria canudos! <br><br>  - prov√©rbio bielorrusso </blockquote>  Portanto, os backups s√£o vitais para quem deseja: <br><br><ul><li>  Ser capaz de restaurar a opera√ß√£o de seus sistemas com tempo de inatividade m√≠nimo ou mesmo sem eles </li><li>  Sinta-se livre para agir, porque em caso de erro, h√° sempre a possibilidade de uma revers√£o </li><li>  Minimize os efeitos da corrup√ß√£o intencional de dados </li></ul><br><div class="spoiler">  <b class="spoiler_title">Aqui est√° um pouco de teoria</b> <div class="spoiler_text"><blockquote>  Qualquer classifica√ß√£o √© arbitr√°ria.  A natureza n√£o classifica.  N√≥s classificamos, porque √© mais conveniente para n√≥s.  E n√≥s classificamos de acordo com os dados, que tamb√©m usamos arbitrariamente. <br><br>  - Jan Bruler </blockquote>  Independentemente do m√©todo de armazenamento f√≠sico, o armazenamento l√≥gico de dados pode ser dividido em 2 maneiras de acessar esses dados: bloco e arquivo.  Essa divis√£o foi recentemente muito emba√ßada, porque n√£o existem armazenamentos l√≥gicos puramente bloqueados, bem como puramente arquivados.  No entanto, para simplificar, assumimos que s√£o. <br><br>  O armazenamento em bloco de dados implica que existe um dispositivo f√≠sico em que os dados s√£o registrados em algumas partes fixas, blocos.  O acesso aos blocos vai para um determinado endere√ßo, cada bloco tem seu pr√≥prio endere√ßo dentro do dispositivo. <br><br>  Um backup geralmente √© feito copiando blocos de dados.  Para garantir a integridade dos dados no momento da c√≥pia, a grava√ß√£o de novos blocos, bem como a modifica√ß√£o dos existentes, √© suspensa.  Se fizermos uma analogia do mundo comum, o arm√°rio mais pr√≥ximo √© com as mesmas c√©lulas numeradas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac1/aa2/32f/ac1aa232faecb701dd3c82894239f34e.png" alt="Bloquear armazenamento de dados"><br><br>  O armazenamento de arquivos de dados pelo princ√≠pio de um dispositivo l√≥gico est√° pr√≥ximo do armazenamento em bloco e geralmente √© organizado no topo.  Diferen√ßas importantes s√£o a exist√™ncia de uma hierarquia de armazenamento e nomes leg√≠veis por humanos.  A abstra√ß√£o √© destacada na forma de um arquivo - uma √°rea de dados nomeada, bem como um diret√≥rio - um arquivo especial no qual s√£o armazenadas descri√ß√µes e acessos a outros arquivos.  Os arquivos podem ser fornecidos com metadados adicionais: hora da cria√ß√£o, sinalizadores de acesso etc.  Eles geralmente fazem o backup dessa maneira: procuram os arquivos alterados e os copiam para outro armazenamento de arquivo com a mesma estrutura.  A integridade dos dados geralmente √© implementada pela aus√™ncia dos arquivos que est√£o sendo gravados.  O backup dos metadados do arquivo √© feito da mesma forma.  A analogia mais pr√≥xima √© a biblioteca, que possui se√ß√µes com livros diferentes, al√©m de um cat√°logo com nomes de livros leg√≠veis por humanos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/752/454/8cc/7524548cc8ff235cf9284d49d1fab007.jpg" alt="Armazenamento de dados de arquivo"><br><br>  Recentemente, √†s vezes √© descrita outra op√ß√£o, com a qual, em princ√≠pio, o armazenamento de dados de arquivos come√ßou e que possui os mesmos recursos arcaicos: armazenamento de dados de objetos. <br><br>  Difere do armazenamento de arquivos, pois n√£o possui mais de um aninhamento (layout plano), e os nomes dos arquivos, embora leg√≠veis por humanos, s√£o, no entanto, mais adequados para processamento por m√°quinas.  Ao fazer backup, os armazenamentos de objetos costumam ser tratados como armazenamento de arquivos, mas ocasionalmente existem outras op√ß√µes. <br><blockquote>  - Existem dois tipos de administradores de sistema, aqueles que n√£o fazem backups e aqueles que j√° fazem. <br>  - Na verdade, existem tr√™s tipos: h√° tamb√©m quem verifica se os backups podem ser restaurados. <br><br>  Desconhecido </blockquote>  Tamb√©m vale a pena entender que o processo de backup de dados √© realizado por programas, portanto, apresenta as mesmas desvantagens de outro programa.  Para remover (n√£o excluir!) A depend√™ncia do fator humano, bem como dos recursos - que individualmente n√£o influenciam fortemente, mas juntos podem dar um efeito tang√≠vel - aplique o chamado  regra 3-2-1.  Existem muitas op√ß√µes para descriptograf√°-lo, mas eu prefiro a seguinte interpreta√ß√£o: voc√™ precisa armazenar 3 conjuntos dos mesmos dados, 2 conjuntos devem ser armazenados em diferentes formatos e 1 conjunto deve ser armazenado em um armazenamento geograficamente remoto. <br><br>  O formato de armazenamento deve ser entendido da seguinte maneira: <br><br><ul><li>  Se houver uma depend√™ncia do m√©todo de armazenamento f√≠sico, alteramos o m√©todo f√≠sico. </li><li>  Se houver uma depend√™ncia do m√©todo de armazenamento l√≥gico, alteramos o m√©todo l√≥gico. </li></ul><br>  Para alcan√ßar o efeito m√°ximo da regra 3-2-1, √© recomend√°vel alterar o formato de armazenamento de ambos os modos. <br><br>  Do ponto de vista da prontid√£o do backup para a finalidade a que se destina - restaura√ß√£o da operabilidade, existem backups "quentes" e "frios".  Quente do frio diferem apenas em uma coisa: eles est√£o imediatamente prontos para o trabalho, enquanto o frio da recupera√ß√£o exige algumas a√ß√µes adicionais: descriptografia, extra√ß√£o do arquivo morto etc. <br><br>  N√£o confunda c√≥pias quentes e frias com c√≥pias online e offline, o que implica isolamento f√≠sico dos dados e, de fato, s√£o outro sinal da classifica√ß√£o dos m√©todos de backup.  Portanto, uma c√≥pia offline - n√£o conectada diretamente ao sistema em que precisa ser restaurada - pode ser quente ou fria (em termos de prontid√£o para recupera√ß√£o).  Uma c√≥pia on-line pode estar dispon√≠vel diretamente onde precisa ser restaurada e, na maioria das vezes, √© quente, mas tamb√©m h√° c√≥pias frias. <br><br>  Al√©m disso, n√£o esque√ßa que o processo de cria√ß√£o de backups geralmente n√£o termina com a cria√ß√£o de um √∫nico backup, e pode haver muitas c√≥pias.  Portanto, √© necess√°rio distinguir entre backups completos, ou seja,  aqueles que s√£o recuper√°veis ‚Äã‚Äãindependentemente de outros backups, bem como c√≥pias diferenciais (incremental, diferencial, decremental etc.) - aqueles que n√£o podem ser restaurados por si mesmos e exigem a restaura√ß√£o preliminar de um ou mais outros backups. <br><br>  Backups incrementais diferenciais - uma tentativa de economizar a quantidade de espa√ßo para armazenar backups.  Portanto, apenas os dados modificados do backup anterior s√£o gravados no backup. <br><br>  Os decrementos de diferen√ßa s√£o criados para o mesmo objetivo, mas de uma maneira um pouco diferente: √© feito um backup completo, mas apenas a diferen√ßa entre a c√≥pia nova e a c√≥pia anterior √© realmente armazenada. <br><br>  Separadamente, vale a pena considerar o processo de backup sobre o armazenamento, que suporta a aus√™ncia de armazenamento duplicado.  Portanto, se voc√™ escrever backups completos sobre ele, na realidade apenas a diferen√ßa entre os backups ser√° registrada; no entanto, o processo de restaura√ß√£o de backups ser√° semelhante ao de uma c√≥pia completa e completamente transparente. <br><br><blockquote>  Quis custodiet ipsos custodes? <br><br>  (Quem guardar√° os pr√≥prios vigias? - lat.) </blockquote><br><br>  √â muito desagrad√°vel quando n√£o h√° backups, mas √© muito pior se o backup parece ter sido feito, mas durante a restaura√ß√£o acontece que n√£o pode ser restaurado, porque: <br><br><ul><li>  A integridade dos dados de origem foi violada. </li><li>  O armazenamento de backup est√° corrompido. </li><li>  A recupera√ß√£o funciona muito lentamente, voc√™ n√£o pode usar dados parcialmente restaurados. </li></ul><br><br>  Um processo de backup criado corretamente deve levar em conta esses coment√°rios, especialmente os dois primeiros. <br><br>  A integridade dos dados de origem pode ser garantida de v√°rias maneiras.  Os mais usados ‚Äã‚Äãs√£o: a) cria√ß√£o de instant√¢neos do sistema de arquivos no n√≠vel do bloco, b) congelamento do estado do sistema de arquivos, c) um dispositivo de bloco especial com armazenamento de vers√£o, d) grava√ß√£o seq√ºencial de arquivos ou blocos.  As somas de verifica√ß√£o tamb√©m s√£o usadas para garantir a verifica√ß√£o dos dados durante a recupera√ß√£o. <br><br>  Os danos ao armazenamento tamb√©m podem ser detectados usando somas de verifica√ß√£o.  Um m√©todo adicional √© o uso de dispositivos ou sistemas de arquivos especializados nos quais √© imposs√≠vel modificar dados j√° gravados, mas voc√™ pode adicionar novos. <br><br>  Para acelerar a recupera√ß√£o, a recupera√ß√£o de dados √© usada em v√°rios processos de recupera√ß√£o - desde que n√£o haja "gargalo" na forma de uma rede lenta ou de um sistema de disco lento.  Para contornar a situa√ß√£o com dados parcialmente restaurados, √© poss√≠vel dividir o processo de backup em subtarefas relativamente pequenas, cada uma das quais realizada separadamente.  Assim, torna-se poss√≠vel restaurar consistentemente o desempenho com previs√£o do tempo de recupera√ß√£o.  Esse problema geralmente est√° no plano organizacional (SLA); portanto, n√£o vamos nos deter sobre isso em detalhes. <br><br><blockquote>  Sabe muito sobre especiarias, n√£o quem as adiciona a cada prato, mas quem nunca acrescenta algo sup√©rfluo. <br><br>  -B.  Sinyavsky </blockquote><br><br>  A pr√°tica em rela√ß√£o ao software usado pelos administradores de sistema pode variar, mas os princ√≠pios gerais ainda s√£o os mesmos, de uma maneira ou de outra, em particular: <br><br><ul><li>  Solu√ß√µes prontas s√£o altamente recomendadas. </li><li>  Os programas devem funcionar previsivelmente, ou seja,  N√£o deve haver recursos ou gargalos n√£o documentados. </li><li>  A configura√ß√£o de cada programa deve ser simples o suficiente para que voc√™ n√£o precise ler o manual ou as dicas sempre. </li><li>  A solu√ß√£o deve ser universal, se poss√≠vel.  servidores em suas especifica√ß√µes de hardware podem variar muito, muito. </li></ul><br><br>  Os seguintes programas comuns est√£o dispon√≠veis para remover backups de dispositivos de bloco: <br><br><ul><li>  dd, familiar aos veteranos em administra√ß√£o de sistemas, programas similares tamb√©m se aplicam aqui (o mesmo dd_rescue, por exemplo). </li><li>  Utilit√°rios (utilit√°rios) integrados em alguns sistemas de arquivos que criam um dump do sistema de arquivos. </li><li>  Utilidades on√≠voras;  por exemplo, partclone. </li><li>  Decis√µes pr√≥prias, geralmente propriet√°rias;  por exemplo, NortonGhost e posterior. </li></ul><br><br>  Para sistemas de arquivos, a tarefa de backup √© parcialmente resolvida usando os m√©todos aplic√°veis ‚Äã‚Äãaos dispositivos de bloco; no entanto, o problema pode ser resolvido com mais efici√™ncia, usando, por exemplo: <br><br><ul><li>  Rsync, um programa e protocolo universal para sincronizar o estado dos sistemas de arquivos. </li><li>  Ferramentas de arquivamento incorporadas (ZFS). </li><li>  Ferramentas de arquivamento de terceiros;  o representante mais popular √© o alcatr√£o.  H√° outros, por exemplo, que substituem o alcatr√£o pelo foco nos sistemas modernos. </li></ul><br>  Separadamente, vale a pena mencionar o software de consist√™ncia dos dados ao criar backups.  As op√ß√µes mais usadas s√£o: <br><br><ul><li>  Montando o sistema de arquivos no modo somente leitura (somente leitura) ou congelando o sistema de arquivos (congelar) - o m√©todo √© limitado. </li><li>  Criando capturas instant√¢neas do estado de um sistema de arquivos ou dispositivo de bloco (LVM, ZFS). </li><li>  O uso de ferramentas de terceiros para organizar convers√µes, mesmo nos casos em que os par√°grafos anteriores n√£o podem ser fornecidos por qualquer motivo (programas como hotcopy). </li><li>  A t√©cnica copy-on-change (CopyOnWrite), no entanto, √© mais frequentemente associada ao FS usado (BTRFS, ZFS). </li></ul><br></div></div><br>  Portanto, para um servidor pequeno, voc√™ precisa fornecer um esquema de backup que atenda aos seguintes requisitos: <br><br><ul><li>  F√°cil de usar - nenhuma etapa adicional especial √© necess√°ria ao trabalhar, etapas m√≠nimas para criar e restaurar c√≥pias. </li><li>  Universal - funciona em servidores grandes e pequenos;  isso √© importante ao aumentar o n√∫mero de servidores ou dimensionar. </li><li>  Ele √© instalado pelo gerenciador de pacotes ou em um ou dois comandos do tipo "baixar e descompactar". </li><li>  Est√°vel - usa um formato de armazenamento padr√£o ou estabelecido h√° muito tempo. </li><li>  R√°pido no trabalho. </li></ul><br>  Os candidatos daqueles que mais ou menos atendem aos requisitos: <br><br><ul><li>  rdiff-backup </li><li>  rsnapshot </li><li>  arrotar </li><li>  duplicati </li><li>  duplicidade </li><li>  deja dup </li><li>  dar </li><li>  zbackup </li><li>  restic </li><li>  borgbackup </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/a62/7e9/237/a627e923770a18cff68471cb826ec2bd.jpg" alt="Cama procrusteana"><br><br>  Uma m√°quina virtual (baseada no XenServer) com as seguintes caracter√≠sticas ser√° usada como uma bancada de teste: <br><br><ul><li>  4 n√∫cleos 2,5 GHz, </li><li>  16 GB de RAM </li><li>  Armazenamento h√≠brido de 50 GB (armazenamento com armazenamento em cache em SSDs a 20% do tamanho do disco virtual) como um disco virtual separado sem particionamento, </li><li>  Canal de Internet de 200 Mbps. </li></ul><br>  Quase a mesma m√°quina ser√° usada como servidor de destino de backup, apenas com um disco r√≠gido de 500 GB. <br><br>  Sistema operacional - Centos 7 x64: o detalhamento √© padr√£o; uma parti√ß√£o adicional ser√° usada como fonte de dados. <br><br>  Vamos usar um site wordpress como fonte de dados, com arquivos de m√≠dia de 40 GB, um banco de dados mysql.  Como os servidores virtuais variam muito em caracter√≠sticas, bem como para melhor reprodutibilidade, h√° <br><br><div class="spoiler">  <b class="spoiler_title">resultados de teste do servidor usando o sysbench.</b> <div class="spoiler_text">  sysbench --threads = 4 --time = 30 --cpu-max-prime = execu√ß√£o de 20.000 cpu <br>  sysbench 1.1.0-18a9f86 (usando LuaJIT 2.1.0-beta3 inclu√≠do) <br>  Executando o teste com as seguintes op√ß√µes: <br>  N√∫mero de threads: 4 <br>  Inicializando o gerador de n√∫meros aleat√≥rios a partir da hora atual <br><br>  Limite de n√∫meros primos: 20.000 <br><br>  Inicializando threads de trabalho ... <br><br>  T√≥picos iniciados! <br><br>  Velocidade da CPU: <br>  eventos por segundo: 836.69 <br><br>  Rendimento: <br>  eventos / s (eps): 836.6908 <br>  tempo decorrido: 30.0039s <br>  n√∫mero total de eventos: 25104 <br><br>  Lat√™ncia (ms): <br>  min: 2,38 <br>  avg: 4.78 <br>  m√°x: 22,39 <br>  Percentil 95: 10,46 <br>  soma: 119923.64 <br><br>  Segura a justi√ßa: <br>  eventos (avg / stddev): 6276.0000 / 13.91 <br>  tempo de execu√ß√£o (avg / stddev): 29.9809 / 0.01 <br><br>  sysbench --threads = 4 --time = 30 --memory-block-size = 1K --memory-scope = global --memory-total-size = 100G --memory-oper = leitura da mem√≥ria executada <br>  sysbench 1.1.0-18a9f86 (usando LuaJIT 2.1.0-beta3 inclu√≠do) <br>  Executando o teste com as seguintes op√ß√µes: <br>  N√∫mero de threads: 4 <br>  Inicializando o gerador de n√∫meros aleat√≥rios a partir da hora atual <br><br>  Executando o teste de velocidade da mem√≥ria com as seguintes op√ß√µes: <br>  tamanho do bloco: 1KiB <br>  tamanho total: 102400MiB <br>  opera√ß√£o: leitura <br>  escopo: global <br><br>  Inicializando threads de trabalho ... <br><br>  T√≥picos iniciados! <br><br>  Total de opera√ß√µes: 50900446 (1696677,10 por segundo) <br><br>  49707,47 MiB transferido (1656,91 MiB / s) <br><br>  Rendimento: <br>  eventos / s (eps): 1696677.1017 <br>  tempo decorrido: 30.0001s <br>  n√∫mero total de eventos: 50900446 <br><br>  Lat√™ncia (ms): <br>  min: 0.00 <br>  avg: 0.00 <br>  m√°x: 24,01 <br>  Percentil 95: 0,00 <br>  soma: 39106.74 <br><br>  Segura a justi√ßa: <br>  eventos (avg / stddev): 12725111.5000 / 137775.15 <br>  tempo de execu√ß√£o (avg / stddev): 9.7767 / 0.10 <br><br>  sysbench --threads = 4 --time = 30 --memory-block-size = 1K --memory-scope = global --memory-total-size = 100G --memory-oper = grava√ß√£o de execu√ß√£o de mem√≥ria <br>  sysbench 1.1.0-18a9f86 (usando LuaJIT 2.1.0-beta3 inclu√≠do) <br>  Executando o teste com as seguintes op√ß√µes: <br>  N√∫mero de threads: 4 <br>  Inicializando o gerador de n√∫meros aleat√≥rios a partir da hora atual <br><br>  Executando o teste de velocidade da mem√≥ria com as seguintes op√ß√µes: <br>  tamanho do bloco: 1KiB <br>  tamanho total: 102400MiB <br>  opera√ß√£o: grava√ß√£o <br>  escopo: global <br><br>  Inicializando threads de trabalho ... <br><br>  T√≥picos iniciados! <br><br>  Total de opera√ß√µes: 35910413 (1197008,62 por segundo) <br><br>  35068,76 MiB transferido (1168,95 MiB / s) <br><br>  Rendimento: <br>  eventos / s (eps): 1197008.6179 <br>  tempo decorrido: 30.0001s <br>  n√∫mero total de eventos: 35910413 <br><br>  Lat√™ncia (ms): <br>  min: 0.00 <br>  avg: 0.00 <br>  m√°x: 16,90 <br>  Percentil 95: 0,00 <br>  soma: 43604.83 <br><br>  Segura a justi√ßa: <br>  eventos (avg / stddev): 8977603.2500 / 233905.84 <br>  tempo de execu√ß√£o (avg / stddev): 10.9012 / 0.41 <br><br>  sysbench --threads = 4 --file-test-mode = rndrw --time = 60 --file-size-block = 4K --file-total-size = 1G fileio run <br>  sysbench 1.1.0-18a9f86 (usando LuaJIT 2.1.0-beta3 inclu√≠do) <br>  Executando o teste com as seguintes op√ß√µes: <br>  N√∫mero de threads: 4 <br>  Inicializando o gerador de n√∫meros aleat√≥rios a partir da hora atual <br><br>  Sinalizadores abertos de arquivo extra: (nenhum) <br>  128 arquivos, 8MiB cada <br>  Tamanho total do arquivo de 1GiB <br>  Tamanho do bloco 4KiB <br>  N√∫mero de pedidos de E / S: 0 <br>  Rela√ß√£o de leitura / grava√ß√£o para teste IO aleat√≥rio combinado: 1,50 <br>  FSYNC peri√≥dico ativado, chamando fsync () a cada 100 solicita√ß√µes. <br>  Chamando fsync () no final do teste, Ativado. <br>  Usando o modo de E / S s√≠ncrona <br>  Fazendo teste r / w aleat√≥rio <br>  Inicializando threads de trabalho ... <br><br>  T√≥picos iniciados! <br><br>  Rendimento: <br>  leitura: IOPS = 3868,21 15,11 MiB / s (15,84 MB / s) <br>  grava√ß√£o: IOPS = 2578,83 10,07 MiB / s (10,56 MB / s) <br>  fsync: IOPS = 8226,98 <br><br>  Lat√™ncia (ms): <br>  min: 0.00 <br>  avg: 0,27 <br>  max: 18.01 <br>  Percentil 95: 1,08 <br>  soma: 238469.45 <br></div></div><br>  Esta nota come√ßa grande <br><br><div class="spoiler">  <b class="spoiler_title">s√©rie de artigos de backup</b> <div class="spoiler_text"><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Backup, parte 1: Por que voc√™ precisa de um backup, uma vis√£o geral de m√©todos, tecnologias</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> ,  2:    rsync-based   </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> ,  3:    duplicity, duplicati</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> ,  4:    zbackup, restic, borgbackup</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> ,  5:  Bacula  Veeam Backup for Linux</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> :    :  AMANDA, UrBackup, BackupPC</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> ,  6:    </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> ,  7: </a> </li></ol><br></div></div><br><br> <u> </u> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Finnix</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt449282/">https://habr.com/ru/post/pt449282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt449270/index.html">A Yandex publicou uma vis√£o geral do mercado de vagas de TI</a></li>
<li><a href="../pt449274/index.html">Visor grande de 7 segmentos com brilho de n√©on no ESP8266</a></li>
<li><a href="../pt449276/index.html">Mudan√ßa de carreira aos 35 anos. Minha experi√™ncia e primeiros sucessos</a></li>
<li><a href="../pt449278/index.html">Ataques de dom√≠nio</a></li>
<li><a href="../pt449280/index.html">Como funciona a plataforma de jogos em nuvem para clientes b2b e b2c. Solu√ß√µes para uma √≥tima foto e lute com a √∫ltima milha</a></li>
<li><a href="../pt449284/index.html">Eu vendo cebolas online</a></li>
<li><a href="../pt449286/index.html">API do GraphQL em movimento</a></li>
<li><a href="../pt449288/index.html">Qual equipe √© necess√°ria para criar uma loja online realmente boa?</a></li>
<li><a href="../pt449290/index.html">Como a digitaliza√ß√£o 3D resolve problemas de controle de qualidade da produ√ß√£o</a></li>
<li><a href="../pt449292/index.html">Revis√£o da caneta digital MT6081 - Fa√ßa suas anota√ß√µes diretamente no seu computador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>