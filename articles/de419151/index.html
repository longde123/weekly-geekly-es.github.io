<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💸 🏳️ 🕔 Smart Home: Eine neue Dimension des Komforts und das Streben nach Spitzenleistungen. Teil zwei 🛳️ 👶🏼 🌎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im ersten Teil habe ich über den Übergang von reinen Überwachungssystemen zu einem Smart Home selbst gesprochen. Zu diesem Zeitpunkt wurde das enorme ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Smart Home: Eine neue Dimension des Komforts und das Streben nach Spitzenleistungen. Teil zwei</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/419151/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Im ersten Teil habe</a> ich über den Übergang von reinen Überwachungssystemen zu einem Smart Home selbst gesprochen.  Zu diesem Zeitpunkt wurde das enorme Potenzial zur Verbesserung des Komforts verstanden, und die Fähigkeiten des ausgewählten Technologie-Stacks erregten die Aufregung bei der Entwicklung und Integration neuer Komponenten. <br><br><img src="https://habrastorage.org/webt/hy/yv/pf/hyyvpfrqg1tx-jp1b5zpbtyzag8.jpeg"><br><a name="habracut"></a><br>  Betrachten Sie den Aspekt der "Aufregung" genauer.  Nach den unternommenen Schritten ist es schwierig geworden, das Smart Home in der Entwicklung zu stoppen.  Nach den USR IOT WiFi-Geräten war der von DIY-Chic geliebte ESP8266-Mikrocontroller an der Reihe.  Ich habe die ESP8266-12-Builds mit den LoLin v3 NodeMCU- und Wemos D1-Mini-USB-Anschlüssen verwendet.  Beginnen Sie mit dem Hervorheben des oben bereits erwähnten Bildes.  Skizzen für ESP8266 werden bequem in der Arduino IDE entwickelt, nachdem das entsprechende Plug-In angeschlossen wurde.  Dort finden Sie viele Beispiele, die die Entwicklung auch ohne Vorbereitung sehr einfach machen.  Daher ist die Auflistung von Spreads übrigens wenig sinnvoll. <br><br>  <i>Abgebildet ist LoLin v3 NodeMCU mit ESP8266-12.</i>  <i>Anschluss - Micro-USB.</i> <br><img src="https://habrastorage.org/webt/6d/gy/9y/6dgy9y-oaxk8jdbqef4jch2z6iq.jpeg" align="left">  Es ist nur wichtig, ein Protokoll für die Interaktion mit openHAB zu vereinbaren.  Ich habe MQTT nicht verwendet, sondern die Integration direkt durchgeführt, da dies mit dem ausgewählten zentralisierten Verwaltungsmodell konsistenter ist. <img src="https://habrastorage.org/webt/sd/xl/bu/sdxlbuwmwlsnbmvfmwg8ycvjy8e.jpeg" align="right">  Auf dem Controller mit ESP8266 steigt der einfachste Server an, der die Anforderung empfängt, analysiert und den extrahierten Befehl ausführt.  Die Anforderung wird mit dem Curl-Dienstprogramm an openHAB gesendet (entweder "manuell" oder als Ergebnis der Regel).  Der Controller sendet die Bestätigung über den Empfang des Befehls, den Wert der gemessenen Parameter und den Status der verbundenen ausführenden Geräte über das lokale Netzwerk über seine REST-API an openHAB zurück.  Insgesamt sind zum Zeitpunkt des Schreibens nach ähnlichen Schemata in einem Smart Home 4 Controller auf Basis von ESP8266 und einer auf Arduino mit angeschlossenem Ethernet-Modul integriert.  Ich möchte Sie daran erinnern, dass dies alles nicht nur geschieht, um etwas von Ihrem Smartphone aus ein- oder auszuschalten, sondern vor allem, damit sich die Geräte automatisch einschalten, wenn die Bedingungen dafür eintreten. <br><br>  <i>Abgebildet ist ein herkömmlicher Legrand-Schalter, der mit dem Wemos D1 Mini automatisiert wurde.</i>  <i>Alle Komponenten passen in eine Standardbox für die Installation im Freien.</i>  <i>Gleichzeitig misst es Temperatur / Luftfeuchtigkeit (Sensor unten) und Beleuchtung (für die Zukunft).</i> <br><br>  Beispielsweise wird die Beleuchtung eines Bildes nur einmal am Tag eingeschaltet, wenn das Haus entwaffnet ist und wenn die Lichtstärke unter einer bestimmten Stufe liegt und wenn die Zeit kurz vor Sonnenuntergang liegt.  Darüber hinaus haben einige Geräte, beispielsweise Straßenlaternen, überhaupt keine physischen Schalter und werden hauptsächlich im automatischen Modus verwendet. <br><br>  Jeder, der im Ob oder Leroy Merlin war, muss ferngesteuerte Steckdosen oder sogar Starter-Sets mit dem großen Namen „Smart Home“ gesehen haben.  Die meisten von ihnen kombinieren 433-MHz-Kommunikation und diese Kommunikation ist einseitig.  Das heißt,  Beim Senden eines Befehls kann nicht festgestellt werden, ob er vom Stellantrieb empfangen wird oder nicht.  Kompensiert diesen Nachteil bei geringen Kosten.  Zum Beispiel können Sie kontrollierte Steckdosen und einen leeren Batterieschalter für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1300</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1400</a> Rubel kaufen. <img src="https://habrastorage.org/webt/mi/dk/oh/midkohmwgow3r67kg5ixjkrvk6a.jpeg" align="left">  Solche Schemata sind praktisch für die Beleuchtung mit einem separaten Draht, zum Bewegen oder Erscheinen während der Entwicklung der Designidee.  Meine Wandlampen wurden zu solchen Elementen, die aus einem antiken Kerzenhalter und einer kleinen Stehlampe hergestellt wurden.  Beides im Schlafzimmer.  Und der Schalter befindet sich bequem am Nachttisch.  Warum so eine lange Einführung?  Es macht keinen Sinn, Geräte aufzugeben, die das Leben komfortabler und voller machen, nur weil sie vom installierten Smart-Home-System nicht unterstützt werden.  Es ist einfach, in diese Situation zu geraten, indem Sie auf einen einzelnen Lieferanten oder eine einzelne Technologie setzen. <br><br>  <i>Auf dem Foto ein Satz gesteuerter Steckdosen und ein Brenin-Schalter.</i>  <i>433 MHz.</i> <br><br>  Aber wir haben ein technologieunabhängiges Smart Home!  Aus diesem Grund suchen wir mutig nach einem Hub-Gerät für alle 433-MHz-Komponenten.  Solche Hubs sind beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Broadlink</a> .  Ihr wesentlicher Nachteil ist jedoch die indirekte Steuerung. Der Hub muss mit der Cloud verbunden sein.  Wie Sie sich aus dem vorherigen Artikel erinnern, halte ich diesen Ansatz für falsch, obwohl er einfach und bequem ist.  Infolgedessen endet die Suche mit der Entscheidung, einen vereinfachten Hub auf dem Arduino zu erstellen.  Als Peripheriegerät verbinden wir einen 433-MHz-Empfänger und -Sender mit dem Arduino.  Als nächstes hören wir anhand einer speziellen Skizze den vom Sender im Brenin-Schalter gesendeten Code und lernen, ihn selbst zu senden.  Alle Skizzen basieren vollständig auf Beispielen von Bibliotheken und verursachen keine Schwierigkeiten.  Darüber hinaus kann der Steuersignalcode in openHAB als Konstante dargestellt werden und bei Bedarf die Anzahl der Aktuatoren erweitern. <br><br><img src="https://habrastorage.org/webt/ca/sn/vz/casnvzcfsiibttvtqa1mbji55py.jpeg" align="right">  <i>Selbst gemachter Hub für 433-MHz-Geräte.</i>  <i>Im Laufe der Zeit wurden Bewegungserkennung und Lichtsteuerung im Heizraum hinzugefügt.</i>  <i>Und Klimaanlagensteuerung (IR-LED auf der Abdeckung).</i>  <i>Zusätzlich wurde zur Erhöhung der Stabilität der Datenaustausch mit openHAB von nRF24L01 + auf eine Ethernet-Karte ENC82J60 übertragen, ein LAN-Kabel ist sichtbar.</i> <br><br>  Was ist passiert?  Es stellte sich heraus, dass die Beleuchtung durch das drahtlose Kit im Raum gesteuert wurde.  Darüber hinaus wurde es möglich, diese Beleuchtung von einem Smart Home aus zu steuern.  Wie Sie sich erinnern, ist das Problem bei solchen Systemen das Fehlen von Rückmeldungen.  Dies wird in diesem Fall teilweise dadurch gelöst, dass die an den 433-MHz-Leistungsschalter übertragenen Befehle vom entwickelten Hub abgefangen und an den openHAB gesendet werden können, in dem die Regel funktioniert, und den Status des Leistungsschalters in der Schnittstelle ändern.  Das heißt,  Das Ergebnis war ein Pseudo-Feedback-System.  Das ist besser als nichts.  Und natürlich ist klar, dass dieser Ansatz nicht für die Verwaltung kritischer Geräte geeignet ist.  Es ist nicht zuverlässig und unsicher in Bezug auf das Abfangen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f8/mu/av/f8muavvft8ct9flkw4ttr8ytzao.png"></div><br>  <i>Ein Gestaltungselement, das im Laufe der Zeit auftauchte, eine Wandleuchte.</i>  <i>Wird von einer Brenin-Steckdose und einem Schalter gesteuert</i> <br><br>  Weiter mehr.  Ich wollte schöne Schalter im zweiten Stock machen.  Und natürlich ferngesteuert.  Die Wahl fiel auf die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Livolo</a> Touch-Schalter.  Sie liegen ebenfalls bei 433 MHz und können vor allem „ohne Null“ angeschlossen werden.  Dies gilt, wenn die volle Null und Phase nicht an die Steckdose angeschlossen sind und sich der Schalter im offenen Stromkreis der Kronleuchterstromversorgung befindet.  Obwohl dies nicht mein Fall ist, sind solche Eingabebedingungen eine Überlegung wert.  Infolgedessen erschienen im Haus schöne Schalter, die über einen zuvor entwickelten Hub mit dem Smart Home verbunden waren. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/nx/jr/swnxjroitfoeq5a5bhdatpje-nw.jpeg"></div><br>  <i>Set mit zwei Touch-Schaltern und einer Livolo-Fernbedienung.</i> <br><br>  Es gibt jedoch zwei "Aber".  Der erste.  Livolo Leistungsschalter sind wirklich rückkopplungsfrei, sie übertragen nichts.  Das heißt,  Wenn Sie sie mit Ihrem Finger auf die altmodische Weise einschalten, ändert sich der Status im Smart Home nicht.  Dies ist natürlich kein Hindernis für den Heimwerker, aber ich habe beschlossen, den Garten nicht mit zusätzlichen Einschlusssensoren zu versehen und keine ähnlichen Livolo-Geräte zu integrieren.  Der zweite.  Es war nicht möglich, die Steuersignale von der Livolo-Fernbedienung, die komplett mit Schaltern gekauft wurde, mit einer Standardbibliothek zu entschlüsseln. Ich musste nach Bibliotheken suchen, die von Enthusiasten speziell für Livolo-Schalter entwickelt wurden. <br><br>  Ich möchte das Gespräch über die Integration neuer Komponenten genau dort beenden, wo wir im vorherigen Artikel begonnen haben: mit Z-Wave. <img src="https://habrastorage.org/webt/3d/qb/z0/3dqbz0fpnvaekdsen_fp30t_wgo.jpeg" align="left">  Egal wie teuer die Z-Wave-Geräte sind, ihre Reichweite erweitert sich allmählich und es gibt Aktuatoren, die für sich genommen keinen Sinn ergeben oder aus irgendeinem Grund keine konkurrierenden Technologien haben.  Das auffälligste Beispiel sind die geregelten Thermostatköpfe zum Heizen von Heizkörpern.  Drahtlos  Ein weiteres Beispiel sind kompakte Relais und Dimmer in Steckdosen, mit denen vorhandene Schalter in intelligente umgewandelt werden können, ohne das Design zu ändern.  Darüber hinaus mit Rückkopplung, d.h.  Mit erhaltener mechanischer Steuerung kann das Smart Home den Status der Schalter anzeigen. <br>  <i>Auf dem Foto Z-Wave Thermostatkopf Grundfos am Heizkörper im Flur.</i> <br><br>  Wie funktioniert die Integration?  OpenHAB verfügt über eine entsprechende Bindung zum Anschließen eines USB Z-Wave-Sticks.  Darüber hinaus enthält openHAB eine spezielle HABmin-Anwendung zum Konfigurieren des Netzwerks von Z-Wave-Geräten.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schließen Sie also</a> den USB-Stick <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Z-Wave.Me an</a> , stellen Sie die Bindung Z-Wave ein, führen Sie HABmin aus und fügen Sie dem Netzwerk Geräte hinzu.  Als nächstes konfigurieren wir die entsprechenden Elemente gemäß der Dokumentation zum Binden, schreiben die Regeln für Schalter, Thermoköpfe, Multisensoren und Voila.  Es scheint, dass alles einfach ist.  Dies geschah jedoch nur teilweise.  Das Problem ist, dass HABmin nur mit Geräten funktioniert, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in einer offenen Datenbank</a> registriert sind.  Wenn Sie ein neues Gerät oder eine Änderung eines alten Geräts gekauft haben, das sich nicht in der Datenbank befindet, können Sie ein solches Gerät nicht konfigurieren. <img src="https://habrastorage.org/webt/zm/vf/qq/zmvfqqmdnohuze6w20enx-ajbws.jpeg" align="right">  Sie können eine Pull-Anfrage an diese Datenbank stellen. Ich habe diesen Ansatz jedoch als grundlegend falsch angesehen, da Z-Wave-Geräte über eine Selbsterkennungsfunktion verfügen.  Dies ist einer der Gründe für die hohe Kompatibilität von Geräten und Controllern verschiedener Hersteller von Z-Wave.  Infolgedessen musste ich eine Lizenz für den Z-Wave-Software-Controller <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Z-Way-Server</a> kaufen, den ich auf demselben Server / Nettop wie openHAB installiert hatte.  Es wird nur verwendet, wenn Sie ein Gerät zum Z-Wave-Netzwerk hinzufügen / entfernen und / oder konfigurieren müssen.  In der restlichen Zeit ist der Software-Controller ausgeschaltet. <br><br>  <i>Auf dem Foto - gewöhnliche Legrand-Schalter.</i>  <i>Automatisiert mit Z-Wave-Mikromodulen in den Rosetten.</i>  <i>Der untere wurde ein Dimmer.</i> <br><br>  Als Ergebnis bekam ich Wärmeköpfe an Heizkörpern, einen Dimmer und Schalter in der Steckdose, gesteuerte Steckdosen, die Spannung und Leistung messen, und sogar einen Multisensor (Bewegung, Temperatur, Beleuchtung).  Es ist zu beachten, dass ich keine Assoziationen auf Z-Wave-Ebene eingerichtet habe, da ich immer noch ein zentrales Steuerungsmodell habe.  Das heißt, trotz der Möglichkeit der direkten Steuerung von Gerät-Gerät werden alle zentral von openHAB mithilfe von Regeln gesteuert.  Gut oder zusätzlich mechanisch, wie es bei Schaltern in der Steckdose der Fall ist. <br><br>  <b>Was ist in Bezug auf Smart Home passiert:</b> <br><br><ol><li>  Automatische Lichtsteuerung. </li><li>  Kontrolliert von der Treppe im zweiten Stock.  Je nach Schutzzustand wird entweder eine Reihe alarmierender Regeln ausgelöst oder das Licht im Erdgeschoss wird beleuchtet, damit Sie nachts leicht die Treppe hinuntergehen können.  Da ein Multisensor verwendet wird, wird auch die Lufttemperatur gemessen. </li><li>  Automatisierte Steuerung mehrerer Heizkörper.  Beim Scharfschalten schalten sie auf die in den Einstellungen eingestellte niedrige Temperatur um, um aufgrund einer rationaleren Wärmeverteilung Energie zu sparen.  Darüber hinaus wurde die Nachttemperatur im Schlafzimmer geregelt - sie verringert sich automatisch um 1 Grad für einen angenehmen Schlaf.  Und natürlich kann die Temperatur von einem Smart Home aus eingestellt werden. </li><li>  Automatische beheizte Handtuchhaltersteuerung.  Jetzt muss es nicht mehr manuell ein- und ausgeschaltet werden.  Darüber hinaus kann es vor der Ankunft aus der Ferne eingeschaltet werden. </li></ol><br>  Es gibt noch eine Sache.  Bisher haben wir über die Integration physischer Komponenten in ein Smart Home gesprochen.  OpenHAB ermöglicht jedoch die Integration in Softwaresysteme.  Zum Beispiel mit Software-DVRs oder IP-Kameras.  Es geht nicht nur um die Anzeige von Bildern in der openHAB-Oberfläche, was natürlich geschehen ist, sondern auch um die Reaktion auf Ereignisse.  Wenn der Rekorder oder die Kamera beispielsweise so konfiguriert ist, dass sie Bewegungen erkennen, kann dieses Ereignis an openHAB gesendet und in der Verwaltung verwendet werden.  In der obigen Regel, das Licht nachts beim Treppenabstieg einzuschalten, verwendet die Kamera die Bewegungserkennung im ersten Stock (um beim Treppensteigen nicht zu leuchten).  Ein weiteres Beispiel: Im Sicherheitsmodus können Sie Bilder des Eindringlings aufnehmen und das Foto per Post senden. Die Verletzung kann mit einem herkömmlichen PIR-Bewegungssensor erkannt werden, der wesentlich effektiver ist als die Bewegungserkennung mit einer Kamera oder einem DVR.  Darüber hinaus kann der PIR-Sensor mit beliebiger Technologie an ein Smart Home angeschlossen werden. <br><br><div class="spoiler">  <b class="spoiler_title">Ein Beispiel für eine störende E-Mail mit einem Foto eines Eindringlings in einem Gästehaus.</b> <div class="spoiler_text">  Zum Glück ist der Eindringling vierzig.  Wird von einem PIR-Sensor erkannt. <br><br><img src="https://habrastorage.org/webt/yk/nn/je/yknnjecws_dpjgvmfds_unmd5mi.jpeg"><br></div></div><br>  Die Integration in das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kodi</a> Media Center wurde ebenfalls <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">durchgeführt</a> , hierfür gibt es eine spezielle Bindung.  Wenn Sie das Video starten, wird das Licht im Wohnzimmer ausgeschaltet. Wenn es stoppt, wird es eingeschaltet.  Auch für alle Fälle von Kodi aus von einem Smart Home aus gesteuert.  Die Verwendung ist weniger bequem als die normale Kore-Fernbedienung, aber es ist möglich, Kodi über die Smart-Home-Oberfläche zu starten, die Kore nicht kann. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2e/xe/zz/2exezzpreyb2y_wxtnjzzmlisoi.jpeg"></div><br>  <i>Schnittstellenseite mit Kodi-Steuerung und Starttaste.</i>  <i>Oben sehen Sie den Status des Players, den Namen des Songs, die verbleibende Zeit und Dauer.</i> <br><br><img src="https://habrastorage.org/webt/8a/1m/jg/8a1mjgdhurjmitlmcpda60jg7q4.jpeg" align="left">  Ich antizipiere Fragen zur Verwendung des MQTT-Protokolls und erinnere mich, dass mit einem zentralisierten Verwaltungsmodell Zwischenverbindungen zwischen Server und Geräten möglich sind, aber natürlich die Zuverlässigkeit verringern.  Daher waren bisher alle Integrationsbeziehungen direkt und ohne Vermittler.  Wenn wir jedoch über einen möglichen zukünftigen Übergang oder einen teilweisen Übergang zum dezentralen Management als potenziell erweiterbarer und fehlertoleranter sprechen, ist die Wahl von MQTT Standard.  Dies ist ein üblicher Transport für Peers in einem lokalen Netzwerk. <br><br>  <i>Multifunktionscontroller basierend auf dem Raspberry Pi 3B.</i>  <i>Ein Temperatur- und Feuchtigkeitssensor, ein Bewegungssensor, eine Kamera, eine gesteuerte Steckdose und ein Schalter, der zu einem Sensor geworden ist, sind sichtbar.</i> <br><br>  OpenHAB ist natürlich für MQTT bindend.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mosquitto</a> selbst wird als MQTT-Server selbst ausgewählt.  Aber worauf es installiert werden soll, ist eine Frage.  Wenn Sie das Ziel der Dezentralisierung des Managements explizit oder explizit verfolgen, ist es falsch, Mosquitto auf einen Nettop zu setzen, der bereits zu einem einzigen Fehlerpunkt geworden ist.  Und hier hat die folgende Logik funktioniert.  Der einzige nicht automatisierte Raum ist eine Garage.  Dort muss etwas getan werden: Bewegung erkennen, das Licht im Haus innen und außen einschalten, den Status der Garagentore öffnen und überwachen, Videoüberwachung durchführen, die Steckdose für Gartengeräte steuern.  Und noch etwas, das nur mit einem vollwertigen Betriebssystem möglich ist und sich auf die Informationssicherheit bezieht.  Infolgedessen fällt die Wahl auf den Raspberry Pi.  Es verfügt über Pins zum Verbinden von Standard-DIY-Peripheriegeräten und vollwertigem Linux mit einer Vielzahl portierter Anwendungen.  Der Camcorder kann daran angeschlossen werden und den Stream an das Netzwerk senden.  Und vor allem können Sie mit den Ressourcen des Systems im Gegensatz zu Arduino Geschäftslogiken mit nahezu jeder angemessenen Komplexität erstellen und openHAB loswerden.  Und das alles kann in vertrauten Programmiersprachen programmiert werden. <br><br>  Infolgedessen wurden alle oben genannten Aufgaben gelöst, und im Netzwerk wurde ein MQTT-Server angezeigt, über den die Interaktion mit openHAB organisiert wird und der in Zukunft verwendet wird, wenn neue Geräte mit dezentraler Steuerung angezeigt werden. <br><br><div class="spoiler">  <b class="spoiler_title">Interessantes Detail</b> <div class="spoiler_text">  Während des Entwicklungsprozesses wurde es notwendig, analoge Signale (Lichtsensor, Stromsensor, Luftqualitätssensor) zu messen.  Außerdem weigerte sich ein Teil der Peripheriegeräte, mit dem Standard-Raspberry Pi 3.3V zu arbeiten. Sie benötigen 5V.  Diese Probleme wurden einfach und kostengünstig gelöst.  Beide Aufgaben wurden vom optionalen Arduino Nano erledigt, der über das I2C-Protokoll mit den Raspberry Pi-Drähten verbunden war.  Das heißt,  Arduino hat immer noch keine Logik außer dem Messen physikalischer Parameter und dem Ausführen von Befehlen.  Alle Geschäftslogik auf Raspberry Pi und openHAB. <br></div></div><br>  Was ist am Ende passiert, wenn Sie die Eigenschaften des gesamten Systems zum Zeitpunkt des Schreibens in Vorlagenbegriffen beschreiben? <br><br>  <b>Zusammenfassung:</b> <br><br><ul><li>  Anzahl der Temperatursensoren: 25. </li><li>  Anzahl der Lichtsteuerpunkte: 37, einschließlich Tandemschalter, Dimmer und Punkte ohne mechanische Schalter. </li><li>  Neben Licht werden eine Brunnenpumpe, eine Warmwasser-Umwälzpumpe, Zapfstellen an Heizzweigen, ein Kessel, ein Kessel, automatische Tore, Heizkörper usw. gesteuert.  Gemessene Luftfeuchtigkeit, Spannung, Strom, Beleuchtung, Luftqualität usw. </li></ul><br>  <b>Verwendete Technologien:</b> <br><br><ul><li>  Zentrale Software: openHAB mit Bindungen, Xeoma, Z-Way-Server, TTS, Mosquitto-Server, Kodi, separate C / C ++ - Anwendungen.  OS - Ubuntu. </li><li>  Lokale Controller: Arduino + nRF24L01 +, Arduino + ENC82J60, ESP8266-12, Raspberry Pi 3 B, in C ++ geschriebene Software. </li><li>  Vorgefertigte Geräte: WiFi-Geräte USR IOT, Z-Wave (Relais, Sockel, Dimmer, Sensor, Thermoköpfe) verschiedener Hersteller, 433 MHz (Schalter mit Livolo-Fernbedienung, Sockel und Brenin-Schalter), TCP-Modbus Schneider Electric Gateway, Bewegungssensoren, Öffnung usw. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Was weiter?</b> <div class="spoiler_text">  Der nächste Schritt besteht darin, die Heizkörper auszuschalten, wenn Sie die Fenster darüber öffnen, die Luftqualität im Wohnzimmer mit einem Kamin zu kontrollieren, die Bewegungserkennung im Wohnzimmer sicherer zu gestalten usw.  Es gibt allgemeinere Aufgaben: Wenn das Gewächshaus erscheint, automatisieren Sie die Bewässerung entsprechend der Temperatur und der Bodenfeuchtigkeit. <br></div></div><br>  Anstelle einer Schlussfolgerung.  Wir haben noch nicht viele Aspekte berücksichtigt, z. B. Sprachsteuerung, Text-to-Speech, IR-Steuerung der Klimaanlage usw.  All dies ist erledigt und funktioniert.  Der Zweck dieses Artikels war es, den Gedankengang aufzuzeigen, Erfahrungen bei der Auswahl von Lösungen auszutauschen und die Vorteile offener Standards und Technologien durch die Beschreibung der einfachen Integration aufzuzeigen.  Alles, was getan wurde, konnte anders gemacht werden, besser oder schlechter, teurer oder billiger, funktionaler oder zuverlässiger.  Sie gewöhnen sich schnell an gute Dinge und stellen Familienmitgliedern nach einiger Zeit Fragen wie: "Können Sie das nicht von Ihrem Smartphone aus tun?"  oder "warum sollte dieses Blumenbeet manuell bewässert werden?"  gezwungen, weiterzumachen, zu unerreichbarer Perfektion. <br><br>  Und ich glaube auch an die grenzenlosen Möglichkeiten des Internet der Dinge.  Alles, was getan wurde, fällt in diese Kategorie, aber dies ist nur ein kleiner Teil.  Wenn nach dem Lesen dieses Artikels die Anzahl der IoT-Enthusiasten etwas zunimmt, werde ich meine Aufgabe als vollständig erledigt betrachten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de419151/">https://habr.com/ru/post/de419151/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de419141/index.html">Sex Phishing gewinnt in den USA zunehmend an Bedeutung</a></li>
<li><a href="../de419143/index.html">Erstellen eines Emulator-Arcade-Automaten. Teil 4</a></li>
<li><a href="../de419145/index.html">Fintech Digest: Apples Kapitalisierung überstieg 1 Billion US-Dollar. AI half eBay dabei, den Umsatz um Milliarden zu steigern</a></li>
<li><a href="../de419147/index.html">1000-dimensionaler Würfel: Ist es heute möglich, ein Rechenmodell des menschlichen Gedächtnisses zu erstellen?</a></li>
<li><a href="../de419149/index.html">Leitfaden für Mikrotik RoMON</a></li>
<li><a href="../de419153/index.html">Cyborg Rights Memorandum</a></li>
<li><a href="../de419155/index.html">JS nach Elbrus portieren</a></li>
<li><a href="../de419159/index.html">JS-Code, römische Ziffern, geometrische Rätsel: Wie wir unser Alter verschlüsseln</a></li>
<li><a href="../de419161/index.html">Modellierung der Wasseroberfläche mit FFT und NeuroMatrix DSP-Prozessor</a></li>
<li><a href="../de419165/index.html">Wir senden "anonyme" SMS von der Konsole an die gewünschte Nummer mit dem Bytehand- und C ++ - Dienst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>