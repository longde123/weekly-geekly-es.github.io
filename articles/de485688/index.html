<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚎 ❇️ 🧕🏾 Myapp verlängert Urlaub 👧🏻 🧚🏻 🕑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich bin sicher, dass es unter den respektierten Zuschauern diejenigen geben wird, die mich verstehen werden. Tatsache ist, dass mir bei der Fülle an p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Myapp verlängert Urlaub</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485688/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/a1/gq/coa1gqqaalmvaklsbnzj_d69vc0.png"></div><br>  Ich bin sicher, dass es unter den respektierten Zuschauern diejenigen geben wird, die mich verstehen werden.  Tatsache ist, dass mir bei der Fülle an populären Bibliotheken und Frameworks für das Web-Frontend persönlich fast <b>alle</b> Alternativen <b>nicht gefallen</b> .  In jeder der Optionen sehe ich erhebliche Nachteile, die mich daran hindern, sie ruhig zu nutzen.  Alles fängt immer rosig an: ein interessantes Konzept, Sound auf den ersten Blick, Argumentation in Punkten "für" ... Aber dann stößt alles immer wieder auf redundante Abhängigkeiten, überflüssige Entitäten und Versuche, von den Entwicklern selbst geschaffene Probleme zu lösen.  Es wird uns angeboten, eine neue Syntax zu erlernen, neue Ideen zu akzeptieren, eine Reihe von Modewörtern zu lernen und viele "notwendige" Pakete zu installieren.  Ok, ich liebe alles Neue und ich liebe kluge Worte.  Aber ich bin sehr entmutigt, wenn das, was einfach getan werden kann, anfängt, die Leute fraktal zu komplizieren.  Sie haben wahrscheinlich schon die Geständnisse derer gelesen, die wie ich verzweifelt nach gesundem Menschenverstand suchten und beschlossen, ins andere Extrem zu gehen - alles „in Vanille“ zu schreiben.  Dies geschah mir, als ich vom <a href="https://www.polymer-project.org/">Polymer-</a> Projekt enttäuscht war, das unter aktiver Beteiligung von Entwicklern von Google erstellt wurde.  Anfangs hat mir alles sehr gut gefallen, das Motto dieser Bewegung lautete „Nutze die Plattform!“, Was für mich bedeutete: „Du solltest im Code nicht tun, was der Browser selbst effizienter macht“.  Das Polymer-Team hat viel unternommen, um neue Standards und Funktionen auf Plattformebene einzuführen, und vielen <b>Dank</b> dafür.  Als diese Ziele <a href="https://caniuse.com/">erreicht wurden</a> , begannen sie selbst, ihre eigenen Prinzipien zu verletzen.  Und jetzt weigert sich ihre neue Bibliothek ( <a href="https://lit-element.polymer-project.org/">LitElement</a> ) bereits, direkt im Browser zu arbeiten, ohne eine spezielle Umgebung zu installieren, weil die Jungs sich nicht an die Standards halten ... Ich verfolge weiterhin die Entwicklung von LitElement und sehe sogar offensichtliche Anzeichen dafür, dass diese Streuner auf den wahren Weg zurückkehren, aber ich selbst schon Ich werde es nicht verwenden, weil ich jetzt etwas Besseres habe. <br><a name="habracut"></a><br><h3>  Was denn </h3><br>  <a href="https://github.com/foxeyes/holiday">Holiday.js</a> ist eine Bibliothek für diejenigen, die alles brauchen, was sie brauchen und nichts extra brauchen.  Urlaub - denn für mich ist die Arbeit mit ihr ein Urlaub.  Und auch, weil ich es geschrieben habe, hauptsächlich in den Ferien oder im Urlaub.  Dennoch ist dies ein sehr ernstes Projekt, mit dessen Hilfe eine ganze Reihe komplexer Anwendungen für das sehr „blutige Unternehmen“ entwickelt werden, das Anfängern des Fahrradbaus Angst einjagt.  Ich schreibe auch alle meine persönlichen Projekte auf Holiday.js. <br><br>  Alles basiert auf der Standardgruppe " <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements">Benutzerdefinierte Elemente"</a> und " <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">Schatten-DOM</a> ", wie Sie vielleicht erraten haben, und wenn Sie mit diesen bereits vertraut sind, können Sie es ganz einfach herausfinden. <br><br><div class="spoiler">  <b class="spoiler_title">Ein bisschen über dich</b> <div class="spoiler_text">  Ich bin 40 Jahre alt.  Derzeit bin ich ein führender Webentwickler und F &amp; E-Ingenieur in einem niederländischen Unternehmen, das sich auf Integrationslösungen von IBM spezialisiert hat.  Unsere Kunden sind große Unternehmen: Öl, Gas, Tanker, Eisenbahnen - das ist alles.  Das Wesentliche meiner Arbeit besteht darin, die Standardfunktionen für große und langsame Unternehmenssysteme zu erweitern und die Benutzererfahrung bei der Arbeit mit ihnen zu verbessern.  Einerseits habe ich Onkel in Krawatten, andererseits - ein frischer Wind der Freiheit der modernen Webentwicklung.  Dies ist eine interessante Kombination, mit der Sie viele Dinge aus einem neuen Blickwinkel betrachten können.  Und ich mag es.  Früher habe ich die Rolle eines Startups, eines UX-Ingenieurs, eines Art Direktors eines kleinen Designstudios und vieler anderer ausprobiert. Meine gesamte „Erfahrung“ ist also wie ein Patchwork-Quilt.  Das heißt aber nicht, dass ich mich oberflächlich auf alles beziehe, ich finde nur bei vielen Arten von Tätigkeiten ähnliche ingenieurtechnische Prinzipien, die mich vor allem interessieren. <br></div></div><br><h3>  Worum geht es? </h3><br>  Wenn ich selbst einen ähnlichen Artikel lese, um das Interesse nicht zu verlieren, würde ich gerne ein Beispiel für Komponentencode sehen.  Da ist er: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">imageURL</span></span>: <span class="hljs-string"><span class="hljs-string">'images/photo.jpg'</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-attr"><span class="hljs-attr">secondName</span></span>: <span class="hljs-string"><span class="hljs-string">'Snow'</span></span>, }; } } MyComponent.template = <span class="hljs-comment"><span class="hljs-comment">/*html*/</span></span> <span class="hljs-string"><span class="hljs-string">` &lt;style&gt; :host { display: block; padding: 10px; background - color: #fff; color: #000; } &lt;/style&gt; &lt;img bind="src: imageURL" /&gt; &lt;div bind="textContent: firstName"&gt;&lt;/div&gt; &lt;div bind="textContent: secondName"&gt;&lt;/div&gt; `</span></span>; MyComponent.is = <span class="hljs-string"><span class="hljs-string">'my-component'</span></span>;</code> </pre> <br>  Hier sehen wir, dass die Komponente einen bestimmten Status und eine Vorlage mit seltsamen Attributen der " <b>Bind</b> " -Elemente hat.  Diese Attribute sind die Hauptmagie: Sie ermöglichen es Ihnen, die Vorlage zu analysieren und eine Kopie des Ergebnisses zur weiteren Verwendung (Klonen) im Speicher zu speichern, OHNE zusätzliche Verarbeitung der Vorlagenzeichenfolge in der JS-Laufzeit, was eine hohe Leistung beim anfänglichen Rendern ergibt, wenn jede Komponente instanziiert wird.  Im Gegensatz zu vielen modernen Bibliotheken, in denen der DOM-Teil, für den die Komponente verantwortlich ist, durch die Funktion des Zustands bestimmt wird, ist in Holiday.js eine Vorlage ein Halbzeug, das die anfängliche Struktur definiert und das spätere Binden von Daten mithilfe der üblichen DOM-API und ermöglicht es funktioniert sehr schnell.  Wir werden auf das Thema Geschwindigkeit zurückkommen. <br><br>  Ich werde andere Vorteile auflisten: <br><br><ul><li>  Maximale Nähe zu nativen APIs, minimale zusätzliche Abstraktionen </li><li>  Syntax für native Vorlagen: Sie müssen kein neues HTML und CSS lernen </li><li>  Um zu beginnen, müssen Sie nichts Zusätzliches installieren, Ihr Projekt verfügt möglicherweise überhaupt nicht über einen node_modules-Ordner </li><li>  Leichtigkeit: Sie werden die Benutzer nicht zwingen, lange auf Downloads zu warten </li><li>  Das Kit enthält globale Statusverwaltung, Routing und eine UI-Bibliothek: Sie werden sich nicht in der Wüste fühlen </li></ul><br>  Die Hauptprojektdokumentation: <a href="https://holiday-js.web.app/">https://holiday-js.web.app/</a> <br><br><h3>  Lebenszyklus </h3><br>  Sehen wir uns die Phasen des Komponentenlebenszyklus an: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleExample</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//   : this.state = { name: '', bigName: '', }; /*   ,      DOM  "   ",       .    ,      "defineAccessor": */ this.defineAccessor('name', (name) =&gt; { // Some accessor code: this.setStateProperty('name', name); }); /*    ,      DOM               . */ } connectedCallback() { super.connectedCallback(); /*  .    DOM.               . */ } stateUpdated(path) { /*        : */ if (path === 'name') { this.setStateProperty('bigName', this.state.name.toUpperCase()); } } attributeChangedCallback(attributeName, oldValue, newValue) { /*  .      . */ super.attributeChangedCallback(attributeName, oldValue, newValue); } disconnectedCallback() { /*  .    DOM.              */ } } LifecycleExample.template = /*html*/ ` &lt;div bind="textContent: name"&gt;&lt;/div&gt; &lt;div bind="textContent: bigName"&gt;&lt;/div&gt; `; /*  HTML-,     : */ LifecycleExample.logicAttributes = [ //   ,         'name', ]; /*     CustomElements: */ LifecycleExample.is = 'lifecycle-example';</span></span></code> </pre><br><h3>  Muster </h3><br>  Da Vorlagen in Holiday.js nur Standardvorlagenliterale sind, haben Sie die vollständige Freiheit, sie im Projekt zu platzieren und deren Inhalt zu gestalten.  Sie können sie in separaten Modulen ablegen, zusammen mit dem Komponentencode definieren oder sie im Handumdrehen aus Daten generieren.  Sie können Ausdrücke und Funktionsergebnisse in Vorlagen verwenden.  All dies bietet große Möglichkeiten und Meinungsfreiheit.  Sie können beispielsweise gängige Stile in eine Vorlage importieren, Variablen verwenden und Werte in CSS berechnen, ohne Präprozessoren zu verwenden, und Vorlagen aus vorgefertigten Teilen zusammenstellen. <br><br>  Ein wichtiger Teil der Vorlagen für Webkomponenten sind <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots">Slots</a> .  Mithilfe von Slots können Sie spezielle Stellen im "Schatten" -DOM Ihrer Komponente festlegen, an denen deren direkte Nachkommen im allgemeinen DOM-Baum angezeigt werden.  Ein Beispiel: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Platzierung in Slots: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span>Header content<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Content of the default slot...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span>Footer content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Wie Sie vielleicht erraten haben, können Sie so Komponentenlayouts erstellen, in denen die gewünschten Module einfach in Zellen sortiert werden können. <br><br>  Wie oben erwähnt, wird zum dynamischen Binden von Daten und Handlern das Attribut "bind" verwendet: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textContent: content; onclick: on.clicked"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Verwenden Sie zum Binden von Attributwerten das Symbol "@" am Anfang des Eigenschaftsnamens: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style: style"</span></span></span><span class="hljs-tag">&gt;</span></span>Content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Weitere Informationen finden Sie im entsprechenden Abschnitt der Dokumentation: <a href="https://holiday-js.web.app/%3Ftemplates">https://holiday-js.web.app/?templates</a> <br><br><h3>  Staatsverwaltung </h3><br>  Innerhalb der Komponente: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//        : this.state = { content: 'Initial Content', style: 'color: #f00', on: { clicked: () =&gt; { console.log('Clicked!'); }, }, }; //       "setStateProperty": window.setTimeout(() =&gt; { //   : this.setStateProperty('content', 'Updated Content'); //   : this.setStateProperty({ 'content': 'Updated Content', 'style': 'color: #00f', }); }, 1000); } }</span></span></code> </pre><br>  Um den Status auf der Ebene der gesamten Anwendung zu steuern, wird das HdState-Modul verwendet. <br>  Anwendungsbeispiel: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdState} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-state.js'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   : HdState.subscribe('ui.loading', (val) =&gt; { console.log(val); }); //   : HdState.publish('ui.loading', true); // : HdState.publish({ 'ui.loading': true, 'ui.sidePanelActive': true, });</span></span></code> </pre><br>  Um mit dem globalen Staat arbeiten zu können, müssen Sie zunächst sein allgemeines Schema festlegen: <br><br><pre> <code class="javascript hljs">HdState.applyScheme({ <span class="hljs-attr"><span class="hljs-attr">ui</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: { <span class="hljs-comment"><span class="hljs-comment">/*      ,       : */</span></span> type: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    : value: false, }, sidePanelActive: { type: Boolean, value: false, }, }, user: { authorized: { type: Boolean, value: false, }, name: { type: String, value: null, //          : cache: true, }, }, });</span></span></code> </pre><br>  Die Schaltung kann auch bequem in separate logische Blöcke unterteilt werden. <br><br>  Um Speicherverluste zu vermeiden, sollten irrelevante Abonnements wie folgt entsorgt werden: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subscription = HdState.subscribe(<span class="hljs-string"><span class="hljs-string">'ui.loading'</span></span>, (val) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(val); }); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Unsubscribe: subscription.remove(); }, 10000);</span></span></code> </pre><br>  Statusdokumentation: <a href="https://holiday-js.web.app/%3Fstate">https://holiday-js.web.app/?state</a> <br><br><h3>  Entwicklungswerkzeuge </h3><br>  Der kleinste Einstiegssatz ist ein Texteditor und ein Browser.  Ja, das reicht aus, um es zu versuchen.  Es sollte beachtet werden, dass in dieser Konfiguration der Browser genau Firefox sein sollte.  Es kann ES-Module laden, <b>ohne</b> einen lokalen Server zu verwenden. <br><br>  Für eine vollständigere Arbeit benötigen Sie git und einen beliebigen Webserver (für die Arbeit mit ES-Modulen in anderen Browsern). <br><br>  Um die HTML-Syntax und die automatische Vervollständigung in Vorlagenliteralen hervorzuheben, verwende ich die Erweiterung für VS Code, die ursprünglich für die Verwendung mit lit-html entwickelt wurde: <a href="https://github.com/pushqrdx/vscode-inline-html">https://github.com/pushqrdx/vscode-inline-html</a> <br><br>  Um den Code vor dem Veröffentlichen zu erstellen, können Sie jeden gängigen <a href="https://webpack.js.org/">Compiler verwenden</a> , z. B. <a href="https://webpack.js.org/">Webpack</a> oder <a href="https://rollupjs.org/guide/en/">Rollup</a> . <br><br><h3>  Leistung </h3><br>  Benchmarks für Frameworks sind nicht einfach zu schreiben.  Für einen repräsentativen Vergleich müssen Sie sicherstellen, dass Sie vergleichbare Dinge vergleichen und die Auswirkungen von Nebenwirkungen so gering wie möglich halten.  Sie sollten also eine klare Vorstellung davon haben, was jeweils „unter der Haube“ passiert.  Zunächst müssen Sie entscheiden, welche Parameter gemessen werden sollen.  Für uns ist es wichtig: <br><br><ol><li>  Startzeit für die Ausführung des Hauptprogramms (Download) </li><li>  Anfangsrenderingzeit der Komponente </li><li>  Zeit zum Aktualisieren und Neuzeichnen dieser Komponenten </li></ol><br>  Leider können wir nicht zuverlässig feststellen, wann der Browser das Programm ausgeführt und das Rendern vollständig abgeschlossen hat.  Auf Browserebene gibt es viele eigene Optimierungen, die für uns so etwas wie eine „Black Box“ sind und sich in verschiedenen Engines unterscheiden können.  Was wir verwenden können: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance">Leistungs-API</a> , <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a> und nicht standardmäßige <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback">requestIdleCallback-</a> Methode, die nur in Chrome und Firefox funktioniert.  Zum ersten Mal genug. <br><br>  Womit werden wir Holiday.js vergleichen?  Ich habe mit zwei Bibliotheken begonnen: React (wo ohne) und LitElement (ähnliche Technologien im Kern).  Sie finden Benchmark-Code in diesen Repositories: <br><br>  <a href="https://github.com/foxeyes/holiday-benchmark">https://github.com/foxeyes/holiday-benchmark</a> <br>  <a href="https://github.com/foxeyes/lit-benchmark">https://github.com/foxeyes/lit-benchmark</a> <br>  <a href="https://github.com/foxeyes/react-benchmark">https://github.com/foxeyes/react-benchmark</a> <br><br>  Leider habe ich das Testen der Automatisierung noch nicht abgeschlossen, und das ist auch nicht einfach, da die Automatisierung selbst keine Nebenwirkungen hervorrufen sollte.  Im Moment arbeite ich weiter an diesem Problem und bereite mit <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> ein geeignetes Tool vor (eine sehr nützliche Sache, die ich empfehle).  In der Zwischenzeit können Sie die Tests im manuellen Modus (Chrome / Firefox) ausprobieren und die Ergebnisse in der Browserkonsole überprüfen.  Sie werden sehen, dass Holiday.js <b>in allen Fällen</b> ein <b>selbstbewusster Marktführer ist</b> . <br><br>  Möglicherweise stellen Sie fest, dass im Fall von React beim Anzeigen von Komponenten ein zusätzlicher div-Container erstellt wird, mit dem die Anzahl der erstellten DOM-Elemente angepasst werden kann.  Ich entschied, dass dies zutrifft, da eine Webkomponente immer ein DOM-Element und ein Container ist und die Übereinstimmung der DOM-Baumstrukturen in verschiedenen Tests sehr wichtig ist.  Außerdem ist es möglich, unnötige Verschachtelungen in Holiday.js zu vermeiden und die Daten auf die gleiche Weise wie in React anzuzeigen.  Wenn Ihnen dieses Problem jedoch umstritten erscheint, achten Sie zunächst auf die Aktualisierungsgeschwindigkeit. <br><br><h3>  Browser-Unterstützung </h3><br>  Nein, Internet Explorer wird nicht unterstützt.  Dies hätte mit gewissen Anstrengungen erreicht werden können (für die 11. Version), aber die Ablehnung der Unterstützung ist eine prinzipielle Position.  Erstens glaube ich, dass IE für eine lange Zeit sterben sollte und in unserer Macht steht, dazu beizutragen.  Zweitens machen die Befürworter der IE-Unterstützung häufig einen schwerwiegenden logischen Fehler: Der Anteil des IE am gesamten Datenverkehr beträgt nach den aktuellen Caniuse-Daten ~ 1,6% für <b>alle</b> gefundenen Versionen.  Und der beliebteste Browser, der den Rest bei weitem übertrifft, ist <b>Mobile</b> Chrome (~ 35%).  Wenn Sie IE unterstützen, lehnen Sie es daher bewusst ab, eine große Anzahl von Technologien zu verwenden, die einfach erforderlich sind, um vollständige Anpassungsfähigkeit und Mobilität in Ihren Anwendungen zu implementieren, was einer kleinen Minderheit zuliebe das Leben einer großen Mehrheit der Benutzer erschwert.  Oder erhöhen Sie die Kosten für die Entwicklung und Wartung Ihrer Produkte <b>erheblich</b> .  Drittens hat Microsoft in letzter Zeit Benutzer aktiv dazu gezwungen, Windows 7 zu verlassen, damit der Anteil des IE-Datenverkehrs in naher Zukunft schneller abnimmt.  Ich gebe zu, dass es Fälle gibt, in denen die IE-Unterstützung nicht umgangen werden kann, aber solche Fälle sind viel seltener als bisher angenommen. <br><br>  Am 15. Januar dieses Jahres hat Microsoft eine Release-Version des neuen <a href="https://www.microsoft.com/en-us/edge">Edge</a> auf der Chromium-Engine veröffentlicht.  Ab diesem Moment können wir davon ausgehen, dass Holiday.js von Haus aus in <b>allen</b> aktuellen Versionen beliebter Browser unterstützt wird.  Für ältere Edge ist eine <a href="https://github.com/webcomponents/polyfills/tree/master/packages/webcomponentsjs">Polyfüllung</a> erforderlich.  Die Möglichkeit, mit Polyfills zu arbeiten, ist in Holiday.js implementiert, das Skript selbst muss jedoch separat verbunden werden. <br><br><h3>  Minimalismus </h3><br>  Das Konzept von Holiday.js basiert auf Einfachheit und Minimalismus.  Eine der wichtigen Phasen bei der Arbeit an diesem Projekt war für mich die <b>Entfernung der Funktionalität</b> , die ich schnell implementieren musste, aber später erkannte, dass ich ohne sie auskommen konnte.  Wenn es Ihnen also so vorkommt, als ob etwas wirklich fehlt, fragen Sie sich, ob dies wirklich so ist.  Ich habe es für mich selbst folgendermaßen beantwortet: Wenn etwas anderes dringend benötigt wird, ist es besser, eine erweiterte Klasse separat mit der Vererbung von der Hauptklasse zu erstellen.  Bisher ist mir dieser Ansatz nicht entgangen.  Holiday.js wurde in seinem aktuellen Zustand im Kampf getestet und hat sich bei der Arbeit als sehr positiv erwiesen. <br><br><h3>  Pläne </h3><br>  Wenn Sie zu diesem Ort lesen, dann wurden meine Bemühungen bereits nicht umsonst ausgegeben.  Auch wenn Sie Holiday.js nicht verwenden möchten, können Sie sich zumindest etwas Interessantes an der Arbeit mit Webkomponenten als solchen holen.  Ich würde mich sehr freuen, wenn dieses Material den Beginn des Gemeinschaftsaufbaus markiert.  Ich freue mich sehr über eine konstruktive Diskussion, Kritik, Fehlerberichte, Pullrequests und natürlich Stars auf GitHub.  Natürlich konnte ich nicht alle Aspekte ansprechen und werde gerne Ihre Fragen beantworten.  Bitte beachten Sie, dass ich bis jetzt nur an dieser Bibliothek gearbeitet habe und es schwierig ist, alles alleine zu machen, einschließlich Dokumentation, Tests und zugehöriger Tools, parallel zu den Haupt- und Haustierprojekten. <br><br>  In naher Zukunft jedoch: <br><br><ul><li>  Mehr Vergleiche mit anderen populären Bibliotheken und Frameworks. </li><li>  Minimalistisches und flexibles PingPong-Testwerkzeug basierend auf Puppeteer </li><li>  Basisprojektgenerator mit Beispielen (Starter Kit) </li><li>  Weiterentwicklung der Dokumentation </li></ul><br>  Ich drücke die Daumen, drücke "Veröffentlichen" ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de485688/">https://habr.com/ru/post/de485688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de485654/index.html">Eine Idee aus der Physik hilft der KI, in höheren Dimensionen zu arbeiten.</a></li>
<li><a href="../de485660/index.html">Das DDoS-Schutzunternehmen selbst habe DDoS-Angriffe gestartet, gab sein Gründer zu</a></li>
<li><a href="../de485664/index.html">Erstellen dynamischer Parameter in einem Jenkins-Job oder wie Sie Ihre Aufgabe benutzerfreundlich gestalten können</a></li>
<li><a href="../de485672/index.html">Redis Best Practices, Teil 1</a></li>
<li><a href="../de485682/index.html">Zeitmanagement wird nicht helfen: Aufschub ist das Problem der Regulierung von Emotionen, nicht Zeit</a></li>
<li><a href="../de485692/index.html">Beratung des IT-Spezialisten für den Kunden oder wie das Chaos automatisiert werden kann</a></li>
<li><a href="../de485694/index.html">Embox auf Elbrus-Prozessor. Oder vergiss nie, was du an Intelligenz hast</a></li>
<li><a href="../de485702/index.html">FunCorp iOS Meetup # 2</a></li>
<li><a href="../de485704/index.html">Pixelkunst für Anfänger: Beheben häufiger Fehler</a></li>
<li><a href="../de485706/index.html">Wir laden Sie zum Treffen „Digitale Transformation und neue Rollen in der Datenwissenschaft“ ein</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>