<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游꺔 游볾 游끡游 C칩digo de error de Python: 10 errores m치s comunes que cometen los desarrolladores 拘勇 游뗺 游녿游낖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sobre Python 
 Python es un lenguaje de programaci칩n interpretado, orientado a objetos y de alto nivel con sem치ntica din치mica. Las estructuras de dato...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C칩digo de error de Python: 10 errores m치s comunes que cometen los desarrolladores</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466441/"><h3>  Sobre Python </h3><br>  Python es un lenguaje de programaci칩n interpretado, orientado a objetos y de alto nivel con sem치ntica din치mica.  Las estructuras de datos integradas de alto nivel combinadas con la tipificaci칩n din치mica y el enlace din치mico lo hacen muy atractivo para BRPS (desarrollo r치pido de herramientas de aplicaci칩n), as칤 como para usarlo como un lenguaje de scripting y conexi칩n para conectar componentes o servicios existentes.  Python admite m칩dulos y paquetes, fomentando as칤 la modularidad del programa y la reutilizaci칩n de c칩digo. <br><br><h3>  Sobre este articulo </h3><br>  La simplicidad y la facilidad de aprender este lenguaje pueden ser confusas para los desarrolladores (especialmente aquellos que reci칠n comienzan a aprender Python), por lo que puede perder de vista algunas sutilezas importantes y subestimar el poder de la variedad de soluciones posibles que usan Python. <br><br>  Con esto en mente, este art칤culo presenta los "10 principales" errores sutiles y dif칤ciles de encontrar que incluso los desarrolladores avanzados de Python pueden cometer. <br><a name="habracut"></a><br>
<h3>  Error # 1: mal uso de expresiones como valores predeterminados para argumentos de funci칩n </h3><br>  Python le permite indicar que una funci칩n puede tener argumentos opcionales estableciendo un valor predeterminado para ellos.  Esto, por supuesto, es una caracter칤stica muy conveniente del lenguaje, pero puede tener consecuencias desagradables si el tipo de este valor es mutable.  Por ejemplo, considere la siguiente definici칩n de funci칩n: <br><br><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bar=[])</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># bar -    #      . ... bar.append("baz") #     ... ... return bar</span></span></code> </pre> <br>  Un error com칰n en este caso es pensar que el valor de un argumento opcional se establecer치 en el valor predeterminado cada vez que se llame a una funci칩n sin un valor para este argumento.  En el c칩digo anterior, por ejemplo, podemos suponer que al llamar repetidamente a la funci칩n foo () (es decir, sin especificar un valor para el argumento de la barra), siempre devolver치 "baz", ya que se supone que cada vez que se llama a foo () especificando la barra de argumentos), la barra se establece en [] (es decir, una nueva lista vac칤a). <br><br>  Pero veamos qu칠 suceder치 realmente: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>foo() [<span class="hljs-string"><span class="hljs-string">"baz"</span></span>] &gt;&gt;&gt; foo() [<span class="hljs-string"><span class="hljs-string">"baz"</span></span>, <span class="hljs-string"><span class="hljs-string">"baz"</span></span>] &gt;&gt;&gt; foo() [<span class="hljs-string"><span class="hljs-string">"baz"</span></span>, <span class="hljs-string"><span class="hljs-string">"baz"</span></span>, <span class="hljs-string"><span class="hljs-string">"baz"</span></span>]</code> </pre> <br>  쮼h?  쯇or qu칠 la funci칩n contin칰a agregando el valor predeterminado "baz" a la lista existente cada vez que se llama a foo (), en lugar de crear una nueva lista cada vez? <br><br>  La respuesta a esta pregunta ser치 una comprensi칩n m치s profunda de lo que est치 sucediendo con Python "bajo el cap칩".  A saber: el valor predeterminado para la funci칩n se inicializa solo una vez, durante la definici칩n de la funci칩n.  Por lo tanto, el argumento de la barra se inicializa de manera predeterminada (es decir, una lista vac칤a) solo cuando se define foo () por primera vez, pero las llamadas posteriores a foo () (es decir, sin especificar el argumento de la barra) continuar치n utilizando la misma lista que estaba creado para la barra de argumentos en el momento de la primera definici칩n de funci칩n. <br><br>  Como referencia, una "soluci칩n" com칰n para este error es la siguiente definici칩n: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bar=None)</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> bar <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: <span class="hljs-comment"><span class="hljs-comment"># or if not bar: ... bar = [] ... bar.append("baz") ... return bar ... &gt;&gt;&gt; foo() ["baz"] &gt;&gt;&gt; foo() ["baz"] &gt;&gt;&gt; foo() ["baz"]</span></span></code> </pre> <br><h3>  Error # 2: mal uso de las variables de clase </h3><br>  Considere el siguiente ejemplo: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... x = <span class="hljs-number"><span class="hljs-number">1</span></span> ... &gt;&gt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(A)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> ... &gt;&gt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(A)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> ... &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> Ax, Bx, Cx <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Todo parece estar en orden. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>Bx = <span class="hljs-number"><span class="hljs-number">2</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> Ax, Bx, Cx <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  S칤, todo fue como se esperaba. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>Ax = <span class="hljs-number"><span class="hljs-number">3</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> Ax, Bx, Cx <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br>  쯈u칠 demonios?  Acabamos de cambiar Ax. 쯇or qu칠 tambi칠n cambi칩 Cx? <br><br>  En Python, las variables de clase se tratan como diccionarios y siguen lo que a menudo se llama Orden de resoluci칩n de m칠todo (MRO).  Por lo tanto, en el c칩digo anterior, dado que el atributo x no se encuentra en la clase C, se encontrar치 en sus clases base (solo A en el ejemplo anterior, aunque Python admite herencia m칰ltiple).  En otras palabras, C no tiene su propia propiedad x independiente de A. Por lo tanto, las referencias a Cx son en realidad referencias a Ax. Esto causar치 problemas si estos casos no se manejan adecuadamente.  Entonces, cuando aprenda Python, preste especial atenci칩n a los atributos de la clase y trabaje con ellos. <br><br><h3>  Error No. 3: par치metros incorrectos para el bloque de excepci칩n </h3><br>  Supongamos que tiene el siguiente c칩digo: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: ... l = [<span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"b"</span></span>] ... int(l[<span class="hljs-number"><span class="hljs-number">2</span></span>]) ... <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> ValueError, IndexError: <span class="hljs-comment"><span class="hljs-comment"># To catch both exceptions, right? ... pass ... Traceback (most recent call last): File "&lt;stdin&gt;", line 3, in &lt;module&gt; IndexError: list index out of range</span></span></code> </pre> <br>  El problema aqu칤 es que la expresi칩n de excepci칩n no acepta la lista de excepciones especificada de esta manera.  M치s bien, en Python 2.x, la expresi칩n "excepto Excepci칩n, e" se usa para vincular la excepci칩n a un segundo par치metro opcional dado en segundo lugar (en este caso, e) para que est칠 disponible para una inspecci칩n adicional.  Como resultado, en el c칩digo anterior, la instrucci칩n except no captura una excepci칩n IndexError;  m치s bien, la excepci칩n termina con el enlace a un par치metro llamado IndexError en su lugar. <br><br>  La forma correcta de capturar varias excepciones con la expresi칩n de excepci칩n es especificar el primer par치metro como una tupla que contiene todas las excepciones que desea capturar.  Adem치s, para obtener la m치xima compatibilidad, use la palabra clave as, ya que esta sintaxis es compatible con Python 2 y Python 3: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: ... l = [<span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"b"</span></span>] ... int(l[<span class="hljs-number"><span class="hljs-number">2</span></span>]) ... <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> (ValueError, IndexError) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: ... <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> ... &gt;&gt;&gt;</code> </pre> <br><h3>  Error # 4: entender mal las reglas de alcance de Python </h3><br>  El alcance en Python se basa en la llamada regla LEGB, que es una abreviatura de Local (nombres asignados de cualquier manera dentro de una funci칩n (def o lambda), y no declarada global en esta funci칩n), Encerrando (nombre en el alcance local de cualquier funci칩n que incluya est치ticamente ( def o lambda), de interno a externo), Global (nombres asignados en el nivel superior del archivo del m칩dulo, o ejecutando las instrucciones globales en def dentro del archivo), Integrado (nombres previamente asignados en el m칩dulo de nombre incorporado: abierto, rango, SyntaxError, ...).  Parece bastante simple, 쯨erdad?  Bueno, en realidad, hay algunas sutilezas sobre c칩mo funciona esto en Python, lo que nos lleva al problema general de programaci칩n de Python m치s complejo a continuaci칩n.  Considere el siguiente ejemplo: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x = <span class="hljs-number"><span class="hljs-number">10</span></span> &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... x += <span class="hljs-number"><span class="hljs-number">1</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> x ... &gt;&gt;&gt; foo() Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> foo UnboundLocalError: local variable <span class="hljs-string"><span class="hljs-string">'x'</span></span> referenced before assignment</code> </pre> <br>  Cual es el problema <br><br>  El error anterior se produce porque cuando asigna una variable en el alcance, Python autom치ticamente lo considera local a ese alcance y oculta cualquier variable con el mismo nombre en cualquier alcance principal. <br><br>  Por lo tanto, muchos se sorprenden cuando reciben UnboundLocalError en el c칩digo que se estaba ejecutando anteriormente, cuando se modifica agregando un operador de asignaci칩n en alg칰n lugar del cuerpo de la funci칩n. <br><br>  Esta caracter칤stica es especialmente confusa para los desarrolladores cuando usan listas.  Considere el siguiente ejemplo: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>lst = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... lst.append(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   ... ... &gt;&gt;&gt; foo1() &gt;&gt;&gt; lst [1, 2, 3, 5] &gt;&gt;&gt; lst = [1, 2, 3] &gt;&gt;&gt; def foo2(): ... lst += [5] # ...    ! ... &gt;&gt;&gt; foo2() Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt; File "&lt;stdin&gt;", line 2, in foo UnboundLocalError: local variable 'lst' referenced before assignment</span></span></code> </pre> <br>  쮼h?  쯇or qu칠 se bloquea foo2 mientras foo1 funciona bien? <br><br>  La respuesta es la misma que en el ejemplo anterior, pero, seg칰n la creencia popular, la situaci칩n aqu칤 es m치s sutil.  foo1 no aplica el operador de asignaci칩n a lst, mientras que foo2 no.  Teniendo en cuenta que lst + = [5] en realidad es solo una abreviatura de lst = lst + [5], vemos que estamos tratando de asignar el valor lst (por lo que Python supone que est치 en el 치mbito local).  Sin embargo, el valor que queremos asignar a lst se basa en lst en s칤 mismo (de nuevo, ahora se supone que est치 en el 치mbito local), que a칰n no se ha determinado.  Y tenemos un error. <br><br><h3>  Error # 5: cambiar una lista durante la iteraci칩n sobre ella </h3><br>  El problema en el siguiente fragmento de c칩digo deber칤a ser bastante obvio: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>odd = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x : bool(x % <span class="hljs-number"><span class="hljs-number">2</span></span>) &gt;&gt;&gt; numbers = [n <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> n <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>)] &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(numbers)): ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> odd(numbers[i]): ... <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> numbers[i] <span class="hljs-comment"><span class="hljs-comment"># BAD: Deleting item from a list while iterating over it ... Traceback (most recent call last): File "&lt;stdin&gt;", line 2, in &lt;module&gt; IndexError: list index out of range</span></span></code> </pre> <br>  Eliminar un elemento de una lista o matriz durante la iteraci칩n es un problema de Python que es bien conocido por cualquier desarrollador de software experimentado.  Pero, aunque el ejemplo anterior puede ser bastante obvio, incluso los desarrolladores experimentados pueden embarcarse en este rastrillo en un c칩digo mucho m치s complejo. <br><br>  Afortunadamente, Python incluye una serie de paradigmas de programaci칩n elegantes que, cuando se usan correctamente, pueden conducir a una simplificaci칩n y optimizaci칩n de c칩digo significativas.  Una consecuencia agradable adicional de esto es que en un c칩digo m치s simple, la probabilidad de caer en el error de eliminar accidentalmente un elemento de la lista durante la iteraci칩n es mucho menor.  Uno de esos paradigmas son los generadores de listas.  Adem치s, comprender el funcionamiento de los generadores de listas es especialmente 칰til para evitar este problema en particular, como se muestra en esta implementaci칩n alternativa del c칩digo anterior, que funciona bien: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>odd = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x : bool(x % <span class="hljs-number"><span class="hljs-number">2</span></span>) &gt;&gt;&gt; numbers = [n <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> n <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>)] &gt;&gt;&gt; numbers[:] = [n <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> n <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> numbers <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> odd(n)] <span class="hljs-comment"><span class="hljs-comment"># ahh, the beauty of it all &gt;&gt;&gt; numbers [0, 2, 4, 6, 8]</span></span></code> </pre> <br><h3>  Error # 6: malentendido c칩mo Python une las variables en los cierres </h3><br>  Considere el siguiente ejemplo: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_multipliers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x : i * x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">5</span></span>)] &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> multiplier <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> create_multipliers(): ... <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> multiplier(<span class="hljs-number"><span class="hljs-number">2</span></span>) ...</code> </pre> <br>  Puede esperar el siguiente resultado: <br><br><pre> <code class="python hljs"><span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre> <br>  Pero en realidad entiendes esto: <br><br><pre> <code class="python hljs"><span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre><br>  Sorpresa! <br><br>  Esto se debe al enlace tard칤o en Python, lo que significa que los valores de las variables utilizadas en los cierres se buscan durante la llamada a la funci칩n interna.  Por lo tanto, en el c칩digo anterior, cada vez que se llama a cualquiera de las funciones devueltas, se busca el valor i en el alcance circundante durante su llamada (y para ese momento el ciclo ya se hab칤a completado, por lo que ya se me hab칤a asignado el resultado final - valor 4) . <br><br>  La soluci칩n a este problema com칰n de Python ser칤a: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_multipliers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x, i=i : i * x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">5</span></span>)] ... &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> multiplier <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> create_multipliers(): ... <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> multiplier(<span class="hljs-number"><span class="hljs-number">2</span></span>) ... <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre> <br>  Voila!  Usamos los argumentos predeterminados aqu칤 para generar funciones an칩nimas para lograr el comportamiento deseado.  Algunos llamar칤an a esta soluci칩n elegante.  Algunos son <br>  delgado  Algunas personas odian estas cosas.  Pero si eres un desarrollador de Python, de todos modos, es importante entenderlo. <br><br><h3>  Error # 7: crear dependencias de m칩dulos c칤clicos </h3><br>  Supongamos que tiene dos archivos, a.py y b.py, cada uno de los cuales importa el otro, de la siguiente manera: <br><br>  En a.py: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> b <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bx <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> f()</code> </pre> <br>  En b.py: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> a x = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">g</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> af()</code> </pre> <br>  Primero, intente importar a.py: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> a <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Funcion칩 bien.  Esto puede sorprenderte.  Despu칠s de todo, los m칩dulos se importan entre s칤 c칤clicamente y esto probablemente deber칤a ser un problema, 쯨erdad? <br><br>  La respuesta es que simplemente tener una importaci칩n c칤clica de m칩dulos no es en s칤 un problema en Python.  Si el m칩dulo ya se ha importado, Python es lo suficientemente inteligente como para no intentar volver a importarlo.  Sin embargo, dependiendo del punto en el que cada m칩dulo intente acceder a las funciones o variables definidas en otro, es posible que tenga problemas. <br><br>  Entonces, volviendo a nuestro ejemplo, cuando importamos a.py, no tuvo problemas para importar b.py, ya que b.py no requiere que se defina nada de a.py durante su importaci칩n.  La 칰nica referencia en b.py a a es una llamada a af ().  Pero esta llamada en g () y nada en a.py o b.py no llama a g ().  Entonces todo funciona bien. <br><br>  Pero, 쯤u칠 sucede si intentamos importar b.py (sin importar primero a.py, es decir): <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> b Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; File <span class="hljs-string"><span class="hljs-string">"b.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> a File <span class="hljs-string"><span class="hljs-string">"a.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> f() File <span class="hljs-string"><span class="hljs-string">"a.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> f <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bx AttributeError: <span class="hljs-string"><span class="hljs-string">'module'</span></span> object has no attribute <span class="hljs-string"><span class="hljs-string">'x'</span></span></code> </pre> <br>  Oh oh  춰Esto no es bueno!  El problema aqu칤 es que durante el proceso de importaci칩n de b.py intenta importar a.py, que a su vez llama a f (), que intenta acceder a bx, pero bx a칰n no se ha definido.  De ah칤 la excepci칩n AttributeError. <br><br>  Al menos una soluci칩n a este problema es bastante trivial.  Simplemente modifique b.py para importar a.py en g (): <br><br><pre> <code class="python hljs">x = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">g</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> a <span class="hljs-comment"><span class="hljs-comment"># This will be evaluated only when g() is called print af()</span></span></code> </pre> <br>  Ahora cuando lo importamos, todo est치 bien: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> b &gt;&gt;&gt; bg() <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment"># Printed a first time since module 'a' calls 'print f()' at the end 1 # Printed a second time, this one is our call to 'g'</span></span></code> </pre><br><h3>  Error # 8: intersecci칩n de nombres con nombres de m칩dulos en la biblioteca est치ndar de Python </h3><br>  Uno de los encantos de Python son sus muchos m칩dulos que salen de la caja.  Pero como resultado, si no sigue esto conscientemente, puede encontrar que el nombre de su m칩dulo puede tener el mismo nombre que el m칩dulo en la biblioteca est치ndar que viene con Python (por ejemplo, en su c칩digo puede haber un m칩dulo con el nombre email.py, que entrar치 en conflicto con el m칩dulo de biblioteca est치ndar con el mismo nombre). <br><br>  Esto puede conducir a problemas serios.  Por ejemplo, si alguno de los m칩dulos intenta importar la versi칩n del m칩dulo de la biblioteca est치ndar de Python, y tiene un m칩dulo en el proyecto con el mismo nombre, que se importar치 por error en lugar del m칩dulo de la biblioteca est치ndar. <br><br>  Por lo tanto, se debe tener cuidado de no usar los mismos nombres que en los m칩dulos de la biblioteca est치ndar de Python.  Es mucho m치s f치cil cambiar el nombre del m칩dulo en su proyecto que enviar una solicitud para cambiar el nombre del m칩dulo en la biblioteca est치ndar y obtener su aprobaci칩n. <br><br><h3>  Error # 9: no tener en cuenta las diferencias entre Python 2 y Python 3 </h3><br>  Considere el siguiente archivo foo.py: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i == <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> KeyError(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i == <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> ValueError(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> e = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: bar(int(sys.argv[<span class="hljs-number"><span class="hljs-number">1</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> KeyError <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: print(<span class="hljs-string"><span class="hljs-string">'key error'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> ValueError <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: print(<span class="hljs-string"><span class="hljs-string">'value error'</span></span>) print(e) bad()</code> </pre> <br>  En Python 2, funcionar치 bien: <br><br><pre> <code class="python hljs">$ python foo.py <span class="hljs-number"><span class="hljs-number">1</span></span> key error <span class="hljs-number"><span class="hljs-number">1</span></span> $ python foo.py <span class="hljs-number"><span class="hljs-number">2</span></span> value error <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br>  Pero ahora veamos c칩mo funcionar치 en Python 3: <br><br><pre> <code class="python hljs">$ python3 foo.py <span class="hljs-number"><span class="hljs-number">1</span></span> key error Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"foo.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">19</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; bad() File <span class="hljs-string"><span class="hljs-string">"foo.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> bad print(e) UnboundLocalError: local variable <span class="hljs-string"><span class="hljs-string">'e'</span></span> referenced before assignment</code> </pre> <br>  쯈u칠 acaba de pasar aqu칤?  El "problema" es que en Python 3, un objeto en un bloque de excepci칩n no est치 disponible fuera de 칠l.  (La raz칩n de esto es que, de lo contrario, los objetos en este bloque se almacenar치n en la memoria hasta que el recolector de basura se inicie y elimine las referencias a ellos desde all칤). <br><br>  Una forma de evitar este problema es mantener la referencia al objeto del bloque de excepci칩n fuera de este bloque para que permanezca disponible.  Aqu칤 est치 la versi칩n del ejemplo anterior que utiliza esta t칠cnica, obteniendo as칤 el c칩digo adecuado tanto para Python 2 como para Python 3: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i == <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> KeyError(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i == <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> ValueError(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">good</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> exception = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: bar(int(sys.argv[<span class="hljs-number"><span class="hljs-number">1</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> KeyError <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: exception = e print(<span class="hljs-string"><span class="hljs-string">'key error'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> ValueError <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: exception = e print(<span class="hljs-string"><span class="hljs-string">'value error'</span></span>) print(exception) good()</code> </pre> <br>  Ejec칰talo en Python 3: <br><br><pre> <code class="python hljs">$ python3 foo.py <span class="hljs-number"><span class="hljs-number">1</span></span> key error <span class="hljs-number"><span class="hljs-number">1</span></span> $ python3 foo.py <span class="hljs-number"><span class="hljs-number">2</span></span> value error <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br>  춰Hurra! <br><br><h3>  Error # 10: uso incorrecto del m칠todo __del__ </h3><br>  Digamos que tiene un archivo mod.py como este: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> foo <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bar</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__del__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> foo.cleanup(self.myhandle)</code> </pre> <br>  Y est치 intentando hacer esto desde otro another_mod.py: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mod mybar = mod.Bar()</code> </pre> <br>  Y obt칠n un terrible AttributeError. <br><br>  Por qu칠  Porque, como se informa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu칤</a> , cuando el int칠rprete se apaga, todas las variables globales del m칩dulo tienen el valor Ninguno.  Como resultado, en el ejemplo anterior, cuando se llam칩 a __del__, el nombre foo ya estaba establecido en Ninguno. <br><br>  La soluci칩n a esta "tarea con un asterisco" es usar atexit.register ().  Por lo tanto, cuando su programa completa la ejecuci칩n (es decir, cuando sale normalmente), sus identificadores se eliminan antes de que el int칠rprete complete su trabajo. <br><br>  Con esto en mente, la soluci칩n para el c칩digo mod.py anterior podr칤a verse as칤: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> atexit <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cleanup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(handle)</span></span></span><span class="hljs-function">:</span></span> foo.cleanup(handle) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bar</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> ... atexit.register(cleanup, self.myhandle)</code> </pre> <br>  Dicha implementaci칩n proporciona una manera simple y confiable de llamar a cualquier limpieza necesaria despu칠s de la finalizaci칩n normal del programa.  Obviamente, la decisi칩n sobre c칩mo tratar con el objeto que est치 asociado con el nombre self.myhandle se deja a foo.cleanup, pero creo que entiendes la idea. <br><br><h3>  Conclusi칩n </h3><br>  Python es un lenguaje potente y flexible con muchos mecanismos y paradigmas que pueden mejorar significativamente el rendimiento.  Sin embargo, como con cualquier herramienta de software o lenguaje, con una comprensi칩n o evaluaci칩n limitada de sus capacidades, pueden surgir problemas imprevistos durante el desarrollo. <br><br>  Una introducci칩n a los matices de Python cubiertos en este art칤culo ayudar치 a optimizar su uso del lenguaje, evitando algunos errores comunes. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466441/">https://habr.com/ru/post/466441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466431/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D칤a 40. Est치ndar 802.1X y familia de protocolos AAA</a></li>
<li><a href="../466433/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D칤a 41. DHCP Snooping y VLAN nativa no predeterminada</a></li>
<li><a href="../466435/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D칤a 42. Enrutamiento entre VLAN y SVI</a></li>
<li><a href="../466437/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D칤a 43. Protocolos de enrutamiento Vector de distancia y estado de enlace</a></li>
<li><a href="../466439/index.html">Compru칠belo usted mismo: 쯖u치ntas preguntas puede responder ChGK?</a></li>
<li><a href="../466443/index.html">ShIoTiny y el mundo: sensores anal칩gicos o ADC para los m치s peque침os</a></li>
<li><a href="../466445/index.html">Ataques entre fideicomisos entre dominios</a></li>
<li><a href="../466447/index.html">쯇ara qu칠 deber칤amos construir un CDN?</a></li>
<li><a href="../466449/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D칤a 44. Introducci칩n a OSPF</a></li>
<li><a href="../466451/index.html">Leer_No puedes_lanzar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>