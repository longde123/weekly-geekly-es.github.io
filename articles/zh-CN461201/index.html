<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“‘ ğŸ‘‡ğŸ¾ ğŸ’¢ Androidåº”ç”¨ä¸­çš„ä¸»é¢˜å’Œæ ·å¼ ğŸ‘¨ğŸ¼â€ğŸ¨ ğŸš¶ğŸ¾ ğŸ‘¨ğŸ¿â€ğŸŒ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ— è®ºå¦‚ä½•ï¼Œæ¯ä¸ªAndroidå¼€å‘äººå‘˜éƒ½å¿…é¡»ä½¿ç”¨æ ·å¼ã€‚ æœ‰äººå¯¹ä»–ä»¬æ„Ÿåˆ°è‡ªä¿¡ï¼ŒæŸäººåªæœ‰è‚¤æµ…çš„çŸ¥è¯†ï¼Œè€Œè¿™äº›çŸ¥è¯†å¾€å¾€ä½¿ä»–ä»¬æ— æ³•è‡ªè¡Œè§£å†³é—®é¢˜ã€‚ 


 è€ƒè™‘åˆ°æ·±è‰²ä¸»é¢˜çš„å‘å¸ƒï¼Œå†³å®šåœ¨å†…å­˜ä¸­åˆ·æ–°ä¸Androidåº”ç”¨ç¨‹åºä¸­çš„ä¸»é¢˜å’Œæ ·å¼æœ‰å…³çš„æ‰€æœ‰ä¿¡æ¯ã€‚ 
 å°†è®¨è®ºä»€ä¹ˆï¼š 


- è€ƒè™‘ä¸€ä¸‹Androidåº”ç”¨ç¨‹åºä¸­ä¸»é¢˜...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Androidåº”ç”¨ä¸­çš„ä¸»é¢˜å’Œæ ·å¼</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redmadrobot/blog/461201/"><p><img src="https://habrastorage.org/webt/s8/y5/ky/s8y5kywibxonrjj72vgjz24pxau.png"></p><br><p> æ— è®ºå¦‚ä½•ï¼Œæ¯ä¸ªAndroidå¼€å‘äººå‘˜éƒ½å¿…é¡»ä½¿ç”¨æ ·å¼ã€‚ æœ‰äººå¯¹ä»–ä»¬æ„Ÿåˆ°è‡ªä¿¡ï¼ŒæŸäººåªæœ‰è‚¤æµ…çš„çŸ¥è¯†ï¼Œè€Œè¿™äº›çŸ¥è¯†å¾€å¾€ä½¿ä»–ä»¬æ— æ³•è‡ªè¡Œè§£å†³é—®é¢˜ã€‚ </p><br><p> è€ƒè™‘åˆ°æ·±è‰²ä¸»é¢˜çš„å‘å¸ƒï¼Œå†³å®šåœ¨å†…å­˜ä¸­åˆ·æ–°ä¸Androidåº”ç”¨ç¨‹åºä¸­çš„ä¸»é¢˜å’Œæ ·å¼æœ‰å…³çš„æ‰€æœ‰ä¿¡æ¯ã€‚ </p><a name="habracut"></a><br><h4 id="o-chem-poydet-rech"> å°†è®¨è®ºä»€ä¹ˆï¼š </h4><br><ul><li> è€ƒè™‘ä¸€ä¸‹Androidåº”ç”¨ç¨‹åºä¸­ä¸»é¢˜å’Œæ ·å¼çš„åŸºæœ¬æ¦‚å¿µï¼Œçœ‹çœ‹å®ƒä»¬ä¸ºæˆ‘ä»¬æä¾›äº†å“ªäº›æœºä¼šï¼› </li><li> è®©æˆ‘ä»¬ä½¿ç”¨Material Componentsåˆ›å»ºä¸€ä¸ªç®€å•çš„ä¸»é¢˜ï¼Œå¹¶é‡æ–°å®šä¹‰æ ·å¼ã€‚ </li><li> è®©æˆ‘ä»¬çœ‹çœ‹é»‘æš—ä¸»é¢˜æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼› </li><li> æå‡ºä½¿ç”¨æ ·å¼çš„å»ºè®®ã€‚ </li></ul><br><h3 id="nachnem-s-osnov"> è®©æˆ‘ä»¬ä»åŸºç¡€å¼€å§‹ </h3><br><p> åœ¨ä¸»é¢˜ç»“æ„ä¸­ï¼Œä¸»é¢˜å’Œæ ·å¼å…·æœ‰å…±åŒçš„ç»“æ„ï¼š </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MyStyleOrTheme"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">value</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> è¦åˆ›å»ºï¼Œè¯·ä½¿ç”¨<code>style</code>æ ‡ç­¾ã€‚ æ¯ä¸ªæ ·å¼éƒ½æœ‰ä¸€ä¸ªåç§°ï¼Œå¹¶å­˜å‚¨<code>key-value</code>å‚æ•°ã€‚ </p><br><p> ä¸€åˆ‡éƒ½å¾ˆç®€å•ã€‚ ä½†æ˜¯ä¸»é¢˜å’Œæ ·å¼ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ </p><br><p>  <strong>å”¯ä¸€çš„</strong>åŒºåˆ«æ˜¯æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚ </p><br><h4 id="tema"> ä¸»é¢˜ </h4><br><p> ä¸»é¢˜æ˜¯ä¸€ç»„é€‚ç”¨äºæ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œæ´»åŠ¨æˆ–è§†å›¾ç»„ä»¶çš„å‚æ•°ã€‚ å®ƒåŒ…å«åº”ç”¨ç¨‹åºçš„åŸºæœ¬é¢œè‰²ï¼Œç”¨äºå‘ˆç°åº”ç”¨ç¨‹åº<strong>æ‰€æœ‰</strong>ç»„ä»¶çš„æ ·å¼ä»¥åŠå„ç§è®¾ç½®ã€‚ </p><br><p> ç¤ºä¾‹ä¸»é¢˜ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Base colors--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorOnPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_on_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorOnError"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_on_error</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Style attributes--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"textAppearanceHeadline1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/TextAppearance.MyTheme.Headline1</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"bottomSheetDialogTheme"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/ThemeOverlay.MyTheme.BottomSheetDialog</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"chipStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MaterialComponents.Chip.Action</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"textInputStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MaterialComponents.TextInputLayout.FilledBox</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Params--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:windowTranslucentStatus"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">true</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> ä¸»é¢˜é‡æ–°å®šä¹‰äº†åº”ç”¨ç¨‹åºçš„ä¸»è¦é¢œè‰²ï¼ˆ <code>colorPrimary</code> ï¼Œ <code>colorSecondary</code> ï¼‰ï¼Œæ–‡æœ¬çš„æ ·å¼ï¼ˆ <code>textAppearanceHeadline1</code> ï¼‰å’Œä¸€äº›æ ‡å‡†åº”ç”¨ç¨‹åºç»„ä»¶ï¼Œä»¥åŠé€æ˜çŠ¶æ€æ çš„é€‰é¡¹ã€‚ </p><br><p> ä¸ºäº†ä½¿æ ·å¼æˆä¸ºä¸€ä¸ªçœŸå®çš„ä¸»é¢˜ï¼Œæœ‰å¿…è¦ä»è¯¥ä¸»é¢˜çš„é»˜è®¤å®ç°ä¸­ç»§æ‰¿ï¼ˆæˆ‘ä»¬å°†åœ¨åé¢è®¨è®ºç»§æ‰¿ï¼‰ã€‚ </p><br><h4 id="stil"> æ¬¾å¼ </h4><br><p> æ ·å¼æ˜¯ç”¨äºè®¾ç½®å•ä¸ªViewç»„ä»¶æ ·å¼çš„ä¸€ç»„å‚æ•°ã€‚ </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TextInputLayoutçš„</a>ç¤ºä¾‹æ ·å¼ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.CustomTextInputLayout"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.TextInputLayout.FilledBox"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"boxBackgroundMode"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">outline</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"boxStrokeColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"shapeAppearanceOverlay"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/MyShapeAppearanceOverlay</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4 id="atribut"> å±æ€§ </h4><br><p> å±æ€§æ˜¯æ ·å¼æˆ–ä¸»é¢˜é”®ã€‚ è¿™äº›éƒ½æ˜¯å°ç –å—ï¼Œå¯ä»¥ç”¨æ¥å»ºé€ æ‰€æœ‰ä¸œè¥¿ï¼š </p><br><pre> <code class="plaintext hljs">colorPrimary colorSecondary colorOnError boxBackgroundMod boxStrokeColor shapeAppearanceOverlay ...</code> </pre> <br><p> æ‰€æœ‰è¿™äº›é”®éƒ½æ˜¯æ ‡å‡†å±æ€§ã€‚ </p><br><p> æˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„å±æ€§ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">attr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myFavoriteColor"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">format</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"color|reference"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  <code>myFavoriteColor</code>å±æ€§å°†æŒ‡å‘ä¸€ç§é¢œè‰²æˆ–æŒ‡å‘ä¸€ç§é¢œè‰²èµ„æºçš„é“¾æ¥ã€‚ </p><br><p> åœ¨æ ¼å¼ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šç›¸å½“æ ‡å‡†çš„å€¼ï¼š </p><br><ul><li> é¢œè‰² </li><li> å‚è€ƒ </li><li> å¼¦ </li><li> æšä¸¾ </li><li> åˆ†æ•° </li><li> å°ºå¯¸ </li><li> å¸ƒå°”å€¼ </li><li> æ ‡å¿— </li><li> é£˜æµ® </li><li> æ•´æ•° </li></ul><br><p> æœ¬è´¨ä¸Šï¼Œå±æ€§<strong>æ˜¯æ¥å£</strong> ã€‚ å®ƒå¿…é¡»åœ¨ä¸»é¢˜ä¸­å®ç°ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"myFavoriteColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_favorite</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> ç°åœ¨æˆ‘ä»¬å¯ä»¥å‚è€ƒå®ƒã€‚ ä¸Šè¯‰çš„ä¸€èˆ¬ç»“æ„å¦‚ä¸‹ï¼š </p><br><p><img src="https://habrastorage.org/webt/1s/py/bq/1spybqvzmhtmtgdnauefjwrffvy.png"></p><br><pre> <code class="plaintext hljs">1 â€”   ,     ; 2 â€” namespace   (   Material Components Library); 3 â€”   ,     (); 4 â€”  .</code> </pre><br><p> å¥½å§ï¼Œæœ€åï¼Œè®©æˆ‘ä»¬æ›´æ”¹ä¾‹å¦‚å­—æ®µçš„æ–‡æœ¬é¢œè‰²ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">androidx.appcompat.widget.AppCompatTextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?attr/myFavoriteColor"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br><p> ç”±äºè¿™äº›å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ å°†åœ¨ä¸»é¢˜å†…æ›´æ”¹çš„ä»»ä½•ç§ç±»çš„æŠ½è±¡ã€‚ </p><br><h4 id="nasledovanie-tem-i-stiley"> ç»§æ‰¿ä¸»é¢˜å’Œé£æ ¼ </h4><br><p> ä¸åœ¨OOPä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç°æœ‰å®ç°çš„åŠŸèƒ½ã€‚ æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼š </p><br><ul><li> æ˜¾å¼ï¼ˆæ˜¾å¼ï¼‰ </li><li> éšå¼ï¼ˆéšå¼ï¼‰ </li></ul><br><p> å¯¹äºæ˜¾å¼ç»§æ‰¿ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>parent</code>å…³é”®å­—æŒ‡å®š<code>parent</code> ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> å¯¹äºéšå¼ç»§æ‰¿ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>dot-notation</code>è¡¨ç¤ºçˆ¶ä»£ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SnackbarStyle.Green"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> è¿™äº›æ–¹æ³•çš„å·¥ä½œ<strong>æ²¡æœ‰åŒºåˆ«</strong> ã€‚ </p><br><p> æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ç±»ä¼¼çš„é£æ ¼ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.Snackbar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> æ ·å¼ä¼¼ä¹æ˜¯é€šè¿‡åŒé‡ç»§æ‰¿åˆ›å»ºçš„ã€‚ å®é™…ä¸Šå¹¶éå¦‚æ­¤ã€‚ ç¦æ­¢å¤šé‡ç»§æ‰¿ã€‚ åœ¨è¿™ä¸ªå®šä¹‰ä¸­ï¼Œ <strong>æ˜¾å¼ç»§æ‰¿æ€»æ˜¯èµ¢</strong> ã€‚ </p><br><p> ä¹Ÿå°±æ˜¯è¯´ï¼Œå°†åˆ›å»ºä¸€ä¸ªåä¸º<code>Widget.MyApp.Snackbar</code>çš„æ ·å¼ï¼Œè¯¥æ ·å¼æ˜¯<code>Widget.MyApp.Snackbar</code>çš„åä»£ã€‚ </p><br><h4 id="themeoverlay"> ä¸»é¢˜å åŠ  </h4><br><p>  ThemeOverlay-è¿™äº›æ˜¯ç‰¹æ®Šçš„â€œè½»é‡çº§â€ä¸»é¢˜ï¼Œå¯è®©æ‚¨<strong>è¦†ç›–</strong> Viewç»„ä»¶çš„ä¸»è¦ä¸»é¢˜<strong>çš„</strong>å±æ€§ã€‚ </p><br><p> æˆ‘ä»¬ä¸ä¼šä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä½†æ˜¯ä»¥æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸ºä¾‹ã€‚ è®¾è®¡å¸ˆè®¤ä¸ºæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„ç™»å½•å­—æ®µï¼Œè¯¥å­—æ®µçš„é¢œè‰²å°†ä¸ä¸»è¦æ ·å¼ä¸åŒã€‚ </p><br><p> å¯¹äºä¸»ä¸»é¢˜ï¼Œè¾“å…¥å­—æ®µå¦‚ä¸‹æ‰€ç¤ºï¼š </p><br><p><img src="https://habrastorage.org/webt/s5/yu/oi/s5yuoi48tfh_sppymhz6pmparlw.png"></p><br><p> çœ‹èµ·æ¥ä¸é”™ï¼Œä½†è®¾è®¡å¸ˆåšæŒè®¤ä¸ºè¯¥åœºåœ°ä¸ºæ£•è‰²ã€‚ </p><br><p> å¥½çš„ï¼Œæˆ‘ä»¬å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ </p><br><ul><li><p> è¦†ç›–æ ·å¼ï¼Ÿ </p><br><blockquote> æ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°å®šä¹‰æ ·å¼å¹¶æ‰‹åŠ¨æ›´æ”¹è§†å›¾çš„ä¸»è¦é¢œè‰²ï¼Œä½†æ˜¯ä¸ºæ­¤ï¼Œæ‚¨å°†éœ€è¦ç¼–å†™å¤§é‡ä»£ç ï¼Œå¹¶ä¸”æœ‰å¯èƒ½æˆ‘ä»¬ä¼šå¿˜è®°ä¸€äº›ä¸œè¥¿ã€‚ </blockquote><br></li><li><p> å†™æ‚¨å¯¹å‡†åˆ™å’Œè‡ªå®šä¹‰å‚æ•°çš„çœ‹æ³•ï¼Ÿ </p><br><blockquote> ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ»¡è¶³æ‰€æœ‰è®¾è®¡å¸ˆçš„æ„¿æœ›ï¼ŒåŒæ—¶æ»¡è¶³æ³µæŠ€æœ¯çš„è¦æ±‚ï¼Œä½†è¿™éƒ½æ˜¯è´¹åŠ›çš„ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„é”™è¯¯ã€‚ </blockquote><br></li><li><p> è¦†ç›–ä¸»é¢˜çš„ä¸»è¦é¢œè‰²ï¼Ÿ </p><br><blockquote> æˆ‘ä»¬å‘ç°ï¼Œå¯¹äºæ‰€éœ€çš„ç±»å‹ï¼Œåªéœ€æ›´æ”¹ä¸»é¢˜ä¸­çš„<code>colorPrimary</code> ã€‚ ä¸€ä¸ªå¯è¡Œçš„é€‰æ‹©ï¼Œä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°†å½±å“å…¶ä½™ç»„ä»¶çš„å¤–è§‚ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦å®ƒã€‚ </blockquote><br></li></ul><br><p> æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨<strong>ThemeOverlay</strong> ã€‚ </p><br><p> åˆ›å»º<code>ThemeOverlay</code>å¹¶é‡æ–°å®šä¹‰<strong>ä¸»é¢˜</strong>çš„ä¸»è¦<strong>é¢œè‰²</strong> ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MyApp.Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MaterialComponents.TextInputEditText"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorBrown</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨<code>TextInputLayout</code>ä½¿ç”¨ç‰¹æ®Šçš„<code>android:theme</code>æ ‡ç­¾æŒ‡å®šå®ƒï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:theme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/ThemeOverlay.MyApp.Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:hint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputEditText</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><p> ä¸€åˆ‡éƒ½æŒ‰æˆ‘ä»¬éœ€è¦å·¥ä½œã€‚ </p><br><p><img src="https://habrastorage.org/webt/6m/la/n8/6mlan8wjvg-7ikio4qtpupd5el0.png"></p><br><p> å½“ç„¶ï¼Œé—®é¢˜æ¥äº†-å®ƒå¦‚ä½•åœ¨å¼•æ“ç›–ä¸‹å·¥ä½œï¼Ÿ </p><br><p> è¿™ä¸ªé­”æœ¯ä½¿æ‚¨å¯ä»¥<code>ContextThemeWrapper</code> ã€‚ åœ¨<code>LayoutInflater</code>åˆ›å»ºè§†å›¾æ—¶ï¼Œå°†åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œå…¶ä¸­å°†ä»¥å½“å‰ä¸»é¢˜ä¸ºåŸºç¡€ï¼Œå¹¶åœ¨å…¶ä¸­å®šä¹‰æˆ‘ä»¬åœ¨Overlayä¸»é¢˜ä¸­æŒ‡å®šçš„å‚æ•°ã€‚ </p><br><pre> <code class="java hljs">../LayoutInflater.java <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TypedArray ta = context.obtainStyledAttributes(attrs, ATTRS_THEME); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> themeResId = ta.getResourceId(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (themeResId != <span class="hljs-number"><span class="hljs-number">0</span></span>) { context = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ContextThemeWrapper(context, themeResId); } ta.recycle();</code> </pre> <br><p> åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç‹¬ç«‹è¦†ç›–åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•ä¸»é¢˜å‚æ•°ã€‚ </p><br><h4 id="posledovatelnost-primeneniya-tem-i-stiley-ko-view-komponentu"> å°†ä¸»é¢˜å’Œæ ·å¼åº”ç”¨äºViewç»„ä»¶çš„é¡ºåº </h4><br><p><img src="https://habrastorage.org/webt/6h/nu/3q/6hnu3qggsk4bcsl9stdcagwo6fm.png"></p><br><ol><li><p> ä¸»è¦ä¼˜å…ˆçº§æ˜¯æ ‡è®°æ–‡ä»¶ã€‚ å¦‚æœåœ¨å…¶ä¸­å®šä¹‰äº†å‚æ•°ï¼Œåˆ™æ‰€æœ‰ç›¸ä¼¼çš„å‚æ•°éƒ½å°†è¢«å¿½ç•¥ã€‚ </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/colorRed"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br></li><li><p> ä¸‹ä¸€ä¸ªä¼˜å…ˆçº§æ˜¯è§†å›¾æ ·å¼ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€œ@Widget.MyApp.ButtonStyle</span></span></span><span class="hljs-tag">" </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br></li><li><p> ä»¥ä¸‹å¯¹ç»„ä»¶ä½¿ç”¨é¢„å®šä¹‰çš„æ ·å¼ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme..."</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">â€œmaterialButtonStyleâ€</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@Widget.MyApp.ButtonStyle</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li><li><p> å¦‚æœæœªæ‰¾åˆ°ä»»ä½•å‚æ•°ï¼Œåˆ™ä½¿ç”¨ä¸»é¢˜å±æ€§ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme..."</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">â€œcolorPrimaryâ€</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@colorPrimary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li></ol><br><p> é€šå¸¸ï¼Œè¿™æ˜¯æ‚¨å¼€å§‹å¤„ç†ä¸»é¢˜æ‰€éœ€çš„å…¨éƒ¨çŸ¥è¯†ã€‚ ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿæµè§ˆä¸€ä¸‹æ›´æ–°çš„ææ–™ç»„ä»¶è®¾è®¡åº“ã€‚ </p><br><h3 id="da-pribudet-s-nami-material-components"> å¯èƒ½ææ–™ç»„ä»¶éšæˆ‘ä»¬ä¸€èµ· </h3><br><p> ææ–™ç»„ä»¶æ˜¯åœ¨Google I / O 2018ä¸Šå¼•å…¥çš„ï¼Œå¹¶æ›¿ä»£äº†è®¾è®¡æ”¯æŒåº“ã€‚ </p><br><p> è¯¥åº“ä½¿æˆ‘ä»¬æœ‰æœºä¼šä½¿ç”¨Material Design 2.0ä¸­çš„æ›´æ–°ç»„ä»¶ã€‚ å¦å¤–ï¼Œå…¶ä¸­å‡ºç°äº†è®¸å¤šæœ‰è¶£çš„è‡ªå®šä¹‰é€‰é¡¹ã€‚ æ‰€æœ‰è¿™äº›ä½¿æ‚¨å¯ä»¥ç¼–å†™æ˜äº®è€Œç‹¬ç‰¹çš„åº”ç”¨ç¨‹åºã€‚ </p><br><p><img src="https://habrastorage.org/webt/ab/fe/-w/abfe-wipeljjatkbhpbmsmxe3ru.png"></p><br><p><img src="https://habrastorage.org/webt/e8/h5/rq/e8h5rqfdtmluqfj1isrpwb6rz78.png"></p><br><p> ä»¥ä¸‹æ˜¯ä¸€äº›æ–°æ ·å¼çš„åº”ç”¨ç¤ºä¾‹ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Owl</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reply</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Crane</a> ã€‚ </p><br><h3 id="pereydem-k-praktike"> è®©æˆ‘ä»¬ç»§ç»­ç»ƒä¹  </h3><br><p> è¦åˆ›å»ºä¸»é¢˜ï¼Œæ‚¨éœ€è¦ç»§æ‰¿åŸºç¡€ä¸»é¢˜ï¼š </p><br><pre> <code class="xml hljs">Theme.MaterialComponents Theme.MaterialComponents.NoActionBar Theme.MaterialComponents.Light Theme.MaterialComponents.Light.NoActionBar Theme.MaterialComponents.Light.DarkActionBar Theme.MaterialComponents.DayNight Theme.MaterialComponents.DayNight.NoActionBar Theme.MaterialComponents.DayNight.DarkActionBar</code> </pre> <br><p> å®ƒä»¬éƒ½ä¸<code>AppCompat</code>ä¸»é¢˜éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯å…·æœ‰å…¶ä»–å±æ€§å’Œè®¾ç½®ã€‚ </p><br><p> æ‚¨å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">material.ioä¸Š</a>äº†è§£æœ‰å…³æ–°å±æ€§çš„æ›´å¤šä¿¡æ¯ã€‚ </p><br><p> å¦‚æœç”±äºæŸç§åŸå› æ‚¨ç°åœ¨ä¸èƒ½åˆ‡æ¢åˆ°æ–°ä¸»é¢˜ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>Bridge</code>ä¸»é¢˜ã€‚ å®ƒä»¬ä»<code>AppCompat</code>ä¸»é¢˜ç»§æ‰¿ï¼Œå¹¶å…·æœ‰æ‰€æœ‰æ–°çš„Material Componentså±æ€§ã€‚ æ‚¨åªéœ€è¦æ·»åŠ <code>Bridge</code>åç¼€å¹¶ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½ï¼Œä¸å¿…æ‹…å¿ƒï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> Theme.MaterialComponents.Light.Bridge <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></code> </pre> <br><p> è¿™æ˜¯æˆ‘ä»¬çš„ä¸»é¢˜ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span></span><span class="xml"><span class="undefined"></span></span></code> </pre> <br><p> åŸè‰²ï¼ˆå•†æ ‡è‰²ï¼‰çš„åç§°å·²æ›´æ”¹ï¼š </p><br><pre> <code class="xml hljs">colorPrimary â€”       (   AppCompat); colorPrimaryVariant â€”    ( colorPrimaryDark  AppCompat); colorSecondary â€”        ( colorAccent  AppCompat); colorSecondaryVariant â€”   .</code> </pre> <br><p> æœ‰å…³é¢œè‰²çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">material.io</a> ã€‚ </p><br><p> æˆ‘å·²ç»æåˆ°ä¸»é¢˜åŒ…å«æ¯ä¸ªViewç»„ä»¶çš„æ ‡å‡†æ ·å¼ã€‚ ä¾‹å¦‚ï¼Œå¯¹äº<code>Snackbar</code>æ ·å¼å°†è¢«ç§°ä¸º<code>snackbarStyle</code> <code>checkbox</code>æ ·å¼ï¼Œå¯¹äº<code>checkbox</code> - <code>checkboxStyle</code> ï¼Œåˆ™æ‰€æœ‰å†…å®¹å°†ç›¸ä¼¼ã€‚ ä¸€ä¸ªç¤ºä¾‹å°†ä¸€åˆ‡æ”¾ç½®åœ¨é€‚å½“çš„ä½ç½®ï¼š </p><br><p><img src="https://habrastorage.org/webt/wq/wn/yq/wqwnyqvncrfen6oykpgm9uvi87i.png"></p><br><p> åˆ›å»ºæ‚¨è‡ªå·±çš„æ ·å¼å¹¶å°†å…¶åº”ç”¨äºä¸»é¢˜ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"snackbarStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MyApp.SnackbarStyle</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> é‡è¦çš„æ˜¯è¦äº†è§£ï¼Œå½“æ‚¨åœ¨ä¸»é¢˜ä¸­é‡æ–°å®šä¹‰æ ·å¼æ—¶ï¼Œè¯¥æ ·å¼å°†åº”ç”¨äºåº”ç”¨ç¨‹åºï¼ˆæ´»åŠ¨ï¼‰ä¸­æ­¤ç±»å‹çš„<strong>æ‰€æœ‰</strong>è§†å›¾ã€‚ </p><br><p> å¦‚æœè¦å°†æ ·å¼ä»…åº”ç”¨äºä¸€ä¸ªç‰¹å®šçš„è§†å›¾ï¼Œåˆ™éœ€è¦åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨å¸¦æœ‰æ ‡è®°çš„<code>style</code>æ ‡ç­¾ï¼š </p><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.button.MaterialButton</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/Widget.MyApp.SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p> ä½¿æˆ‘å°è±¡æ·±åˆ»çš„åˆ›æ–°ä¹‹ä¸€æ˜¯<strong>ShapeAppearance</strong> ã€‚ å®ƒä½¿æ‚¨å¯ä»¥æ›´æ”¹ä¸»é¢˜ä¸­ç»„ä»¶çš„å½¢çŠ¶ï¼ </p><br><p> æ¯ä¸ªViewç»„ä»¶éƒ½å±äºæŸä¸ªç»„ï¼š </p><br><ul><li><p>  shapeAppearance <strong>å°ç»„</strong>ä»¶ </p><br></li><li><p>  shapeAppearance <strong>ä¸­å‹</strong>ç»„ä»¶ </p><br></li><li><p>  shapeAppearance <strong>å¤§å‹</strong>ç»„ä»¶ </p><br></li></ul><br><p> æ­£å¦‚æˆ‘ä»¬ä»åç§°ä¸­å¯ä»¥ç†è§£çš„é‚£æ ·ï¼Œä»¥ä¸åŒå¤§å°çš„è§†å›¾åˆ†ç»„ã€‚ </p><br><p><img src="https://habrastorage.org/webt/40/wy/67/40wy670nyjpe9rm-uweiks4lc54.png"></p><br><p> å®è·µæ£€æŸ¥ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"shapeAppearanceSmallComponent"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MyApp.SmallShapeAppearance</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.SmallShapeAppearance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€œShapeAppearance.MaterialComponents.SmallComponentâ€</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerFamilyTopLeft"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">rounded</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerFamilyBottomRight"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">cut</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerSizeTopLeft"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">20dp</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerSizeBottomRight"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">15dp</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--&lt;item name="cornerFamily"&gt;cut&lt;/item&gt;--&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--&lt;item name="cornerSize"&gt;8dp&lt;/item&gt;--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> æˆ‘ä»¬ä¸ºâ€œå°å‹â€ç»„ä»¶åˆ›å»ºäº†<code>Widget.MyApp.SmallShapeAppearance</code> ã€‚ æˆ‘ä»¬å°†å·¦ä¸Šè§’å››èˆäº”å…¥ä¸º<code>20dp</code> ï¼Œå°†å³ä¸‹è§’å››èˆäº”å…¥ä¸º<code>15dp</code> ã€‚ </p><br><p> å¾—åˆ°äº†è¿™ä¸ªç»“æœï¼š </p><br><p><img src="https://habrastorage.org/webt/bo/ix/-a/boix-ai4fphlgpnzaad5wqb7osu.png"></p><br><p> çœ‹èµ·æ¥å¾ˆæœ‰è¶£ã€‚ å®ƒä¼šåœ¨ç°å®ç”Ÿæ´»ä¸­èµ·ä½œç”¨å—ï¼Ÿ æ—¶é—´ä¼šè¯æ˜ä¸€åˆ‡ã€‚ </p><br><p> ä¸æ ·å¼ä¸€æ ·ï¼Œæˆ‘ä»¬åªèƒ½å°†<code>ShapeAppearance</code>åº”ç”¨äºä¸€ä¸ªViewç»„ä»¶ã€‚ </p><br><h3 id="chto-tam-po-temnoy-teme"> é»‘æš—ä¸»é¢˜æœ‰ä»€ä¹ˆï¼Ÿ </h3><br><p>  Android Qå³å°†å‘å¸ƒï¼Œéšä¹‹è€Œæ¥çš„æ˜¯å®˜æ–¹çš„é»‘æš—ä¸»é¢˜ã€‚ </p><br><p> æ–°ç‰ˆAndroidæœ€æœ‰è¶£å’Œæœ€å£®è§‚çš„åŠŸèƒ½ä¹‹ä¸€å°±æ˜¯ä½¿ç”¨ä¸€è¡Œä»£ç è‡ªåŠ¨ä¸ºæ•´ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨æ·±è‰²ä¸»é¢˜ã€‚ </p><br><p> å¬èµ·æ¥ä¸é”™ï¼Œè¯·å°è¯•ã€‚ æˆ‘å»ºè®®ä»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">terrakoké€‰æ‹©</a>æœ€å–œæ¬¢çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">gitlabå®¢æˆ·</a> ã€‚ </p><br><p> å…è®¸é‡æ–°ç»˜åˆ¶åº”ç”¨ç¨‹åºï¼ˆé»˜è®¤æƒ…å†µä¸‹ç¦ç”¨ï¼‰ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AppTheme"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.AppCompat.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:forceDarkAllowed"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">true</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  <code>android:forceDarkAllowed</code>å¯ç”¨äºAPI 29ï¼ˆAndroid Qï¼‰ã€‚ </p><br><p> æˆ‘ä»¬å¼€å§‹ï¼Œçœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆï¼š </p><br><p><img src="https://habrastorage.org/webt/mu/d4/8v/mud48vrjwkwwmesevno-zo5jyaq.png"></p><br><p> åŒæ„å¯¹äºä¸€è¡Œä»£ç æ¥è¯´ï¼Œå®ƒçœ‹èµ·æ¥å¾ˆé…·ã€‚ </p><br><p> å½“ç„¶ï¼Œè¿™é‡Œå­˜åœ¨é—®é¢˜<code>BottomNavigationBar</code>ä¸èƒŒæ™¯åˆå¹¶ï¼ŒåŠ è½½ç¨‹åºä¿æŒç™½è‰²ï¼Œä»£ç é€‰æ‹©å—åˆ°å½±å“ï¼Œè€Œä¸”çœ‹æ¥ï¼Œæ‰€æœ‰äº‹æƒ…ï¼Œè‡³å°‘æ²¡æœ‰ä»€ä¹ˆè®©æˆ‘éœ‡æƒŠã€‚ </p><br><p> æˆ‘æ•¢è‚¯å®šï¼Œä¸èŠ±å¤ªå¤šæ—¶é—´å°±èƒ½è§£å†³ä¸»è¦é—®é¢˜ã€‚ ä¾‹å¦‚ï¼Œå…³é—­å„ä¸ªè§†å›¾çš„è‡ªåŠ¨æš—æ¨¡å¼ï¼ˆæ˜¯çš„ï¼Œä¹Ÿå¯ä»¥<code>android:forceDarkAllowed</code>å¯ç”¨äºæ ‡è®°æ–‡ä»¶ä¸­çš„Viewï¼‰ã€‚ </p><br><p> è¯·è®°ä½ï¼Œæ­¤æ¨¡å¼ä»…é€‚ç”¨äºæµ…è‰²ä¸»é¢˜ï¼Œå¦‚æœæ‚¨ä½¿ç”¨æ·±è‰²ä¸»é¢˜ï¼Œåˆ™å¼ºåˆ¶æ·±è‰²ä¸»é¢˜å°†ä¸èµ·ä½œç”¨ã€‚ </p><br><p> å·¥ä½œå»ºè®®å¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ–‡æ¡£</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">material.ioä¸­æ‰¾åˆ°</a> ã€‚ </p><br><h3 id="a-esli-my-hotim-vse-delat-samostoyatelno"> å¦‚æœæˆ‘ä»¬æƒ³è‡ªå·±åšæ‰€æœ‰äº‹æƒ…ï¼Ÿ </h3><br><p> æ— è®ºä½¿ç”¨å¼ºåˆ¶æ·±è‰²ä¸»é¢˜å¤šä¹ˆå®¹æ˜“ï¼Œæ­¤æ¨¡å¼éƒ½ç¼ºä¹çµæ´»æ€§ã€‚ å®é™…ä¸Šï¼Œæ‰€æœ‰äº‹æƒ…éƒ½æŒ‰ç…§é¢„å®šä¹‰çš„è§„åˆ™è¿è¡Œï¼Œè¿™äº›è§„åˆ™å¯èƒ½ä¸é€‚åˆæˆ‘ä»¬ï¼Œæ›´ä¸é€‚åˆå®¢æˆ·ã€‚ æˆ‘è®¤ä¸ºï¼Œè¿™æ ·çš„å†³å®šå¯ä»¥è¢«è®¤ä¸ºæ˜¯æš‚æ—¶çš„ï¼Œç›´åˆ°æˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªé»‘æš—çš„è¯é¢˜ã€‚ </p><br><p> åœ¨API 8ï¼ˆFroyoï¼‰ä¸­ï¼Œæ·»åŠ äº†<code>-night</code>é™å®šè¯ï¼Œè¯¥é™å®šè¯åœ¨ä»Šå¤©ç”¨äºåº”ç”¨æ·±è‰²ä¸»é¢˜ã€‚ å®ƒå…è®¸æ‚¨æ ¹æ®ä¸€å¤©ä¸­çš„æ—¶é—´è‡ªåŠ¨åº”ç”¨æ‰€éœ€çš„ä¸»é¢˜ã€‚ </p><br><p> åœ¨<code>DayNight</code>ä¸»é¢˜ä¸­ï¼Œå·²ç»ä½¿ç”¨äº†è¿™æ ·çš„å®ç°ï¼Œå¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œä»å®ƒä»¬ç»§æ‰¿å°±è¶³å¤Ÿäº†ã€‚ </p><br><p> è®©æˆ‘ä»¬å°è¯•ç¼–å†™æˆ‘ä»¬è‡ªå·±çš„ï¼š </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base&gt; &lt;!-- ... --&gt; </span></span></span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> ../values-night/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="undefined"></span><span class="undefined"></span></code> </pre> <br><p> åœ¨ä¸»é¢˜çš„å¸¸è§„èµ„æºï¼ˆ <code>values/themes.xml</code> ï¼‰ä¸­ï¼Œæˆ‘ä»¬ä»æµ…è‰²ä¸»é¢˜ç»§æ‰¿è€Œæ¥ï¼›åœ¨â€œ nightâ€ï¼ˆ <code>values-night/themes.xml</code> ï¼‰ä¸­ï¼Œæˆ‘ä»¬ä»æ·±è‰²ä¸»é¢˜ä¸­ç»§æ‰¿ã€‚ </p><br><p> ä»…æ­¤è€Œå·²ã€‚ æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªé»‘æš—ä¸»é¢˜çš„åº“å®ç°ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬åº”è¯¥ä¸ºä¸¤ä¸ªä¸»é¢˜æä¾›èµ„æºã€‚ </p><br><p> è¦åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶åœ¨ä¸»é¢˜ä¹‹é—´åˆ‡æ¢ï¼Œå¯ä»¥ä½¿ç”¨<code>AppCompatDelegate.setDefaultNightMode</code> ï¼Œå®ƒ<code>AppCompatDelegate.setDefaultNightMode</code>ä»¥ä¸‹å‚æ•°ï¼š </p><br><ul><li>  <code>MODE_NIGHT_NO</code>æµ…è‰²ä¸»é¢˜ï¼› </li><li>  <code>MODE_NIGHT_YES</code>æ·±è‰²ä¸»é¢˜ï¼› </li><li>  <code>MODE_NIGHT_AUTO_BATTERY</code>è‡ªåŠ¨æ¨¡å¼ã€‚ å¦‚æœå¯ç”¨äº†çœç”µæ¨¡å¼ï¼Œåˆ™æš—è‰²ä¸»é¢˜å°†æ‰“å¼€ï¼› </li><li>  <code>MODE_NIGHT_FOLLOW_SYSTEM</code>åŸºäºç³»ç»Ÿè®¾ç½®çš„æ¨¡å¼ã€‚ </li></ul><br><h3 id="chto-nam-sleduet-uchityvat-pri-rabote-s-temami-i-stilyami"> å¤„ç†ä¸»é¢˜å’Œæ ·å¼æ—¶åº”è¯¥è€ƒè™‘ä»€ä¹ˆï¼Ÿ </h3><br><p> æ­£å¦‚æˆ‘æŒ‡å‡ºçš„é‚£æ ·ï¼Œè°·æ­Œå·²ç»æ­£å¼å¼€å§‹å¼ºè¿«ä¸€ä¸ªé»‘æš—çš„è¯é¢˜ã€‚ æˆ‘ç¡®ä¿¡è®¸å¤šå®¢æˆ·å¼€å§‹æ”¶åˆ°é—®é¢˜-â€œæˆ‘ä»¬å¯ä»¥æ·»åŠ æ·±è‰²ä¸»é¢˜å—ï¼Ÿâ€ã€‚ å¦‚æœæ‚¨ä»ä¸€å¼€å§‹å°±æ­£ç¡®åœ°åšæ‰€æœ‰äº‹æƒ…ï¼Œé‚£ä¹ˆè¿™å¾ˆå¥½ï¼Œè€Œä¸”æ‚¨å¯ä»¥è½»æ¾åœ°å°†æµ…è‰²æ›´æ”¹ä¸ºæ·±è‰²ï¼ŒåŒæ—¶æ¥æ”¶å®Œå…¨é‡æ–°ç»˜åˆ¶çš„åº”ç”¨ç¨‹åºã€‚ </p><br><p> ä¸å¹¸çš„æ˜¯ï¼Œå¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚ æœ‰ä¸€äº›æ—§çš„åº”ç”¨ç¨‹åºéœ€è¦å¤§é‡çš„ç²¾åŠ›æ‰èƒ½è¿›è¡Œå¿…è¦çš„æ›´æ”¹ã€‚ </p><br><p> è®©æˆ‘ä»¬å°è¯•æå‡ºæœ‰å…³ä¸€èµ·ä½¿ç”¨æ ·å¼çš„å»ºè®®ï¼š </p><br><h4 id="1-palitra-cvetov">  1.æ‹¾è‰²å™¨ </h4><br><p> æˆ‘è®¤ä¸ºæ¯ä¸ªå¼€å‘äººå‘˜éƒ½é¢ä¸´ä¸€ç§æƒ…å†µï¼Œå³æ–°çš„å¸ƒå±€ä¸­å‡ºç°äº†ä¸€äº›å¥‡æ€ªçš„é¢œè‰²ï¼Œè€Œè¯¥é¢œè‰²å°šæœªåœ¨åº”ç”¨ç¨‹åºé¢æ¿ä¸­å®šä¹‰ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹è¯¥æ€ä¹ˆåŠï¼Ÿ </p><br><p> æ­£ç¡®çš„ç­”æ¡ˆæ˜¯ä¸è®¾è®¡å¸ˆäº¤è°ˆï¼Œå¹¶å°è¯•å¼€å‘è°ƒè‰²æ¿ã€‚ ç°åœ¨ï¼Œæœ‰è®¸å¤šç¨‹åºï¼ˆZeplinï¼ŒSketchç­‰ï¼‰å¯è®©æ‚¨æ¸²æŸ“åŸè‰²ï¼Œç„¶åé‡æ–°ä½¿ç”¨å®ƒä»¬ã€‚ </p><br><p> æ‚¨è¶Šæ—©æ‰§è¡Œæ­¤æ“ä½œï¼Œå°†æ¥æ‰€é‡åˆ°çš„éº»çƒ¦å°±è¶Šå°‘ã€‚ </p><br><h4 id="2-nazyvat-cveta-svoimi-imenami">  2.ç”¨æ­£ç¡®çš„åç§°æ‹¼å†™é¢œè‰² </h4><br><p> åœ¨æ¯ç§åº”ç”¨ä¸­ï¼Œéƒ½æœ‰ä¸€ç§å…·æœ‰è®¸å¤šäº®åº¦é€‰é¡¹çš„é¢œè‰²ã€‚ æ‚¨å¯ä»¥å¼€å§‹ä¸ºå®ƒä»¬å‘æ˜åç§°ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_tiny"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_light"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_dark"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> åŒæ„ï¼Œçœ‹èµ·æ¥ä¸æ˜¯å¾ˆå¥½ã€‚ é—®é¢˜ç«‹åˆ»å‡ºç°äº†-å“ªç§é¢œè‰²æ¯”<code>tiny</code>æˆ–<code>light</code>é¢œè‰²<code>light</code> ï¼Ÿ å¦‚æœæˆ‘ä»¬æœ‰åäºŒç§é€‰æ‹©ï¼Ÿ </p><br><p> æœ€å¥½åšæŒ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨Googleæ¦‚å¿µï¼Œ</a>å¹¶åœ¨é¢œè‰²åç§°ä¸­æ·»åŠ é€‚å½“çš„äº®åº¦ï¼ˆGoogleå°†æ­¤é¢œè‰²é€‰é¡¹<code>colorVariant</code> ï¼‰ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_300"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_700"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_900"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§é¢œè‰²çš„ä»»æ„æ•°é‡çš„äº®åº¦é€‰é¡¹ï¼Œè€Œä¸å¿…æä¾›å…·ä½“çš„åç§°ï¼Œè¿™ç¡®å®å¾ˆå›°éš¾ã€‚ </p><br><h4 id="3-abstragirovatsya-ot-konkretnogo-cveta-esli-on-menyaetsya-v-raznyh-temah">  3.å¦‚æœç‰¹å®šé¢œè‰²åœ¨ä¸åŒä¸»é¢˜ä¸­å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ä»ç‰¹å®šé¢œè‰²ä¸­æå– </h4><br><p> ç”±äºæˆ‘ä»¬æ­£åœ¨ç¼–å†™ä¸€ä¸ªè‡³å°‘åŒ…å«ä¸¤ä¸ªä¸»é¢˜çš„åº”ç”¨ç¨‹åºï¼Œå› æ­¤ï¼Œå¦‚æœä»¥ä¸åŒçš„æ–¹å¼åœ¨ä¸»é¢˜ä¸­å®ç°ç‰¹å®šçš„é¢œè‰²ï¼Œæˆ‘ä»¬å°†æ— æ³•å¼•ç”¨è¯¥ç‰¹å®šçš„é¢œè‰²ã€‚ </p><br><p> è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š </p><br><p><img src="https://habrastorage.org/webt/9r/ww/97/9rww97ptqjv0yrqkizqu5qigmuu.png"></p><br><p> æˆ‘ä»¬çœ‹åˆ°ï¼Œä¾‹å¦‚ï¼Œåœ¨æµ…è‰²ä¸»é¢˜ä¸­ï¼Œå·¥å…·æ ä¸ºç´«è‰²ï¼Œåœ¨é»‘æš—ä¸­ä¸ºæ·±ç°è‰²ã€‚ æˆ‘ä»¬å¦‚ä½•ä»…ä½¿ç”¨ä¸»é¢˜åŠŸèƒ½æ¥å®ç°æ­¤è¡Œä¸ºï¼Ÿ </p><br><p> ä¸€åˆ‡éƒ½éå¸¸ç®€å•-å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œå¹¶ä»¥é€‚å½“çš„é¢œè‰²åœ¨æµ…è‰²å’Œæ·±è‰²ä¸»é¢˜ä¸­å®ç°è¯¥å±æ€§ã€‚ </p><br><p>  Googleå»ºè®®å°†å±æ€§åç§°ä¸ç”¨æ³•è¯­ä¹‰ç›¸å…³è”ã€‚ </p><br><h4 id="4-ne-boyatsya-sozdavat-resursnye-fayly">  4.ä¸è¦å®³æ€•åˆ›å»ºèµ„æºæ–‡ä»¶ </h4><br><p> å½“åœ¨<code>styles.xml</code>ä¸­é”®å…¥è®¸å¤šä¸åŒçš„æ ·å¼ï¼Œä¸»é¢˜å’Œå±æ€§æ—¶ï¼Œå°†å¾ˆéš¾ç»´æŠ¤ã€‚ </p><br><p> æœ€å¥½å°†æ‰€æœ‰å†…å®¹åˆ†ç»„åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼š </p><br><pre> <code class="plaintext hljs">themes.xml â€” Theme &amp; ThemeOverlay styles.xml â€” Widget styles type.xml â€” TextAppearance, text size etc shape.xml â€” ShapeAppearance motion.xml â€” Animations styles system_ui.xml â€” Booleans, colors for UI control //may be other files</code> </pre> <br><p> è¿™æ ·ç®€å•çš„è§„åˆ™å°†é¿å…ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸Šå¸çš„æ–‡ä»¶</a> ï¼Œå› æ­¤ï¼Œå°†æ›´æ˜“äºç»´æŠ¤æ ·å¼ã€‚ </p><br><h4 id="5-pereispolzovat-po-maksimumu">  5.é‡ç”¨åˆ°æœ€å¤§ </h4><br><p> å¦‚æœæˆ‘ä»¬è¦é‡æ–°å®šä¹‰ä»…ç‰¹å®šç‰ˆæœ¬çš„APIå¯ç”¨çš„å±æ€§ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠï¼Ÿ </p><br><p> æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸¤ä¸ªå•ç‹¬çš„ä¸»é¢˜ï¼š </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€Theme.MaterialComponents.NoActionBarâ€</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> ../values-v27/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€Theme.MaterialComponents.NoActionBarâ€</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">name="android:windowLightNavigationBar"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">...</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> ç°åœ¨æˆ‘ä»¬æ˜¯å¦æœ‰ä¸€ä¸ªä¸»é¢˜ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªAPIç‰ˆæœ¬çš„æ‰€æœ‰å‚æ•°ï¼Ÿ å½“ç„¶ä¸æ˜¯ï¼ æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåŸºæœ¬ä¸»é¢˜ï¼Œå…¶ä¸­å°†ç¡®å®šå¯ç”¨äºæ‰€æœ‰ç‰ˆæœ¬çš„APIçš„åŸºæœ¬å±æ€§ï¼Œå¹¶åœ¨æ‰€éœ€çš„APIç‰ˆæœ¬ä¸­ä»ä¸­ç»§æ‰¿è¿™äº›å±æ€§ï¼š </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€Theme.MaterialComponents.DayNight.NoActionBarâ€</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€Theme.MyApp.Baseâ€/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> ../values-v27/themes.xml </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base.V27"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"><span class="xml"><span class="xml"> </span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">name="android:windowLightNavigationBar"</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="xml">...</span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="xml"> </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€Theme.MyApp.Base.V27â€/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="undefined"></span></code> </pre> <br><p> æŒ‰ç…§æ­¤åŸåˆ™ï¼Œå°†æ„å»ºæ ‡å‡†åº“ä¸­çš„æ‰€æœ‰ä¸»é¢˜ã€‚ </p><br><h4 id="6-ispolzovat-vektornye-resursy-i-tint">  6.ä½¿ç”¨å‘é‡èµ„æºå’Œè‰²å½© </h4><br><p> æˆ‘è®¤ä¸ºä¸å€¼å¾—ä¸€æï¼Œä¸ºä»€ä¹ˆçŸ¢é‡èµ„æºå¾ˆå¥½ã€‚ æ¯ä¸ªäººéƒ½å·²ç»çŸ¥é“ï¼ˆä»¥é˜²ä¸‡ä¸€ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æŒ‡å‘æ–‡æ¡£</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é“¾æ¥</a> ï¼‰ã€‚ å¥½å§ï¼Œ <strong>ç€è‰²</strong>å°†å¸®åŠ©æˆ‘ä»¬ä¸ºä¸»é¢˜<strong>ç€è‰²</strong> ã€‚ </p><br><p> åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœ¬ç¤ºä¾‹ä¸­ï¼Œ</a>æ‚¨å¯ä»¥çœ‹åˆ°ä»€ä¹ˆæ˜¯ç€è‰²ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒã€‚ </p><br><h4 id="7-androidattr-vs-attr">  7.ï¼ŸAndroidï¼šattr / ... vsï¼ŸAttr / ... </h4><br><p> è®¿é—®èµ„æºæ—¶ï¼Œæˆ‘ä»¬æœ‰æœºä¼šåŒæ—¶ä½¿ç”¨ç³»ç»Ÿå±æ€§å’Œææ–™ç»„ä»¶åº“ä¸­çš„å±æ€§ã€‚ é‡è¦çš„æ˜¯è¦äº†è§£æŸäº›å±æ€§ä»…åœ¨ç‰¹å®šç‰ˆæœ¬çš„APIä¸­å­˜åœ¨ã€‚ ä¼—æ‰€å‘¨çŸ¥ï¼Œè®¿é—®ä¸å­˜åœ¨çš„èµ„æºä¼šå¯¼è‡´å´©æºƒï¼ˆå½“ç„¶ï¼Œçš®æ£‰ä¼šå‘Šè¯‰æˆ‘ä»¬æ˜¯å¦å‡ºäº†é—®é¢˜ï¼Œä½†æ‚¨ä¸åº”è¯¥æ€»æ˜¯ä¾é å®ƒï¼‰ </p><br><pre> <code class="xml hljs">android:background="?android:attr/selectableItemBackgroundBorderless" android:background="?attr/selectableItemBackgroundBorderless"</code> </pre> <br><p> åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è®¿é—®ç³»ç»Ÿèµ„æºï¼Œå¦‚<code>android</code> ã€‚ åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œæ˜¯ä»åº“ä¸­å®ç°å‘åå…¼å®¹çš„å±æ€§ã€‚ </p><br><p> æœ€å¥½å§‹ç»ˆä½¿ç”¨ç¬¬äºŒä¸ªé€‰é¡¹ã€‚ </p><br><h4 id="8-vsegda-ukazyvat-roditelya-dlya-stilya">  8.å§‹ç»ˆä¸ºæ ·å¼æŒ‡å®šçˆ¶é¡¹ </h4><br><p> çˆ¶æ ·å¼ä¸­å¯ä»¥åŒ…å«å‚æ•°ï¼Œå¦åˆ™ä¼šé”™è¯¯åœ°å‘ˆç°ç»„ä»¶ï¼Œå› æ­¤æ‚¨åº”å§‹ç»ˆæŒ‡å®šçˆ¶æ ·å¼ã€‚ </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.TextInputLayout.FilledBox"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"errorTextColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorError</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4 id="9-tema-stil-ili--">  9.ä¸»é¢˜ï¼Œé£æ ¼è¿˜æ˜¯...ï¼Ÿ </h4><br><p> åœ¨åˆ›å»ºè‡ªå·±çš„ä¸»é¢˜å’Œæ ·å¼æ—¶ï¼Œå¦‚æœæ‚¨æŒ‡å®šä¸€ä¸ªå‰ç¼€æ¥è¯´æ˜å®ƒæ˜¯ä»€ä¹ˆæ ·å¼ä»¥åŠå®šä¹‰äº†ä»€ä¹ˆæ ·å¼ï¼Œé‚£å°†å¾ˆæ£’ã€‚ è¿™æ ·çš„å‘½åå°†ä½¿æ„é€ å’Œæ‰©å±•æ ·å¼å˜å¾—éå¸¸å®¹æ˜“ã€‚ </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€...â€/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml"><span class="xml"><span class="xml"> </span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout.Brown"</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="xml"> </span></span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MyApp.Login"</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">â€...â€/</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span><span class="undefined"></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="undefined"></span></span></span></span></code> </pre> <br><h4 id="10-ispolzovat-textappearance">  10.ä½¿ç”¨TextAppearance </h4><br><p> æ‰©å±•æ–‡æœ¬çš„åŸºæœ¬æ ·å¼å¹¶åœ¨å„å¤„ä½¿ç”¨å®ƒä»¬å°†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åŸºè°ƒã€‚ </p><br><p>        Material Design: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Typography</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Typography Theming</a> . </p><br><h3 id="zaklyuchenie"> ç»“è®º </h3><br><p>    ,    â€”     ,   .        -    .         Material Components.            .      Sketch â€” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Material Theme Editor</a> .               .        ,    . </p><br><p>   Material Components     GitHub â€” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Modular and customizable Material Design UI components for Android</a> .            .  ,    â€” sample,      . </p><br><h4 id="poleznye-ssylki"> æœ‰ç”¨çš„é“¾æ¥ï¼š </h4><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Getting started with Material Components for Android</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Theming Guide</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Android themes &amp; styles demystified â€” Google I/O 2016</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Best Practices for Themes and Styles (Android Dev Summit '18)</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">The Components of Material Design (Android Dev Summit '18)</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Masking Bitmaps  Android</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN461201/">https://habr.com/ru/post/zh-CN461201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN461191/index.html">6æœˆ16æ—¥å¤å­£DIYorDIEèšä¼šçš„å½•éŸ³</a></li>
<li><a href="../zh-CN461193/index.html">ä¸æ‚¨ä¸€èµ·PhysTech.Scienceï¼šæ¶ˆé™¤è®¤çŸ¥æ‰­æ›²å¹¶ç†è§£å¿ƒçµçš„ç§˜å¯†</a></li>
<li><a href="../zh-CN461195/index.html">çº¢å¤–æ¥å£ï¼ŒRaspberryå’ŒLIRC</a></li>
<li><a href="../zh-CN461197/index.html">æœ‰å…³ä¸¥é…·çš„ä¿„ç½—æ–¯ITå’Œæ•°å­—åŒ–å—å®³è€…çš„æ•…äº‹</a></li>
<li><a href="../zh-CN461199/index.html">å¦‚ä½•åœ¨Rutokenä¸Šä½¿ç”¨GOST-2012å¯†é’¥åœ¨Linuxä¸­ä½¿ç”¨PAMæ¨¡å—è¿›è¡Œæœ¬åœ°èº«ä»½éªŒè¯</a></li>
<li><a href="../zh-CN461205/index.html">æœ€ä½³æµ‹è¯•ç®¡ç†ç³»ç»Ÿ2019</a></li>
<li><a href="../zh-CN461207/index.html">ç³»ç»Ÿç®¡ç†å‘˜ï¼Œä»Šå¤©æ˜¯æˆ‘ä»¬çš„ä¸€å¤©</a></li>
<li><a href="../zh-CN461209/index.html">çŸ­è·‘è¿˜æ˜¯é©¬æ‹‰æ¾ï¼Ÿ</a></li>
<li><a href="../zh-CN461211/index.html">ä»–ä»¬æ•™ä¹¦çš„åœ°æ–¹ï¼ˆä¸ä»…åœ¨pedã€‚ç ”ç©¶æ‰€ï¼‰</a></li>
<li><a href="../zh-CN461213/index.html">è‡ªåŠ¨æµ‹è¯•ï¼šæ¥è‡ªSkyengå›¢é˜Ÿçš„åä¸ªLifehacks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>