<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค ๐ โ๏ธ ููุนุช ุฃุณุงุณูุงุช ูุฌุงู ุงููุณุงูุฉ ูู 2D ๐๐พ โ๏ธ ๐ค๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุนูู ุงูุฑุบู ูู ุฃู ุงูุดุจูุงุช ูู ุฃุจุณุท ุงูุทุฑู ูุฃูุซุฑูุง ุชููุนูุง ูุชูุฏูููุง ุ ุฅูุง ุฃู ููุงู ุฎูุงุฑุงุช ุฃุฎุฑู ูุชูุซูู ุงูุฃุดูุงู ูู ุงูุฃุจุนุงุฏ ุซูุงุฆูุฉ ูุซูุงุซูุฉ ุงูุฃุจุนุงุฏ. ุฅุญุฏู ุงูุทุฑู ุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููุนุช ุฃุณุงุณูุงุช ูุฌุงู ุงููุณุงูุฉ ูู 2D</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438316/" style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃู ุงูุดุจูุงุช ูู ุฃุจุณุท ุงูุทุฑู ูุฃูุซุฑูุง ุชููุนูุง ูุชูุฏูููุง ุ ุฅูุง ุฃู ููุงู ุฎูุงุฑุงุช ุฃุฎุฑู ูุชูุซูู ุงูุฃุดูุงู ูู ุงูุฃุจุนุงุฏ ุซูุงุฆูุฉ ูุซูุงุซูุฉ ุงูุฃุจุนุงุฏ.  ุฅุญุฏู ุงูุทุฑู ุงูุดุงุฆุนุฉ ุงูุงุณุชุฎุฏุงู ูู ุญููู ุงููุณุงูุฉ ุงููููุนุฉ (SDF).  ุชููุฑ ุญููู ุงููุณุงูุงุช ุงููููููุนุฉ ุชุชุจุนูุง ุฃูู ุชูููุฉ ููุฃุดุนุฉ ุ ูุชุณูุญ ููุฃุดูุงู ุงููุฎุชููุฉ ุจุงูุชุฏูู ุจุณูุงุณุฉ ุฅูู ุจุนุถูุง ุงูุจุนุถ ูุน ุชูููุฑ ููุงุฏ ููุฎูุถุฉ ุงูุฏูุฉ ูุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ. <br><br>  ุณูุจุฏุฃ ุจุชูููุฏ ุนูุงูุฉ ุนูู ุญููู ุงูุญููู ุจุงุณุชุฎุฏุงู ุงูุฏุงูุงุช ูู ุจุนุฏูู ุ ูููููุง ุณูุณุชูุฑ ูุงุญููุง ูู ุฅูุดุงุฆูุง ูู ุซูุงุซู ุงูุฃุจุนุงุฏ.  ุณุฃุณุชุฎุฏู ุฅุญุฏุงุซูุงุช ุงููุถุงุก ุงูุนุงููู ุจุญูุซ ูููู ูุฏููุง ุฃูู ูุฏุฑ ูููู ูู ุงูุงุนุชูุงุฏ ุนูู ุงูููุงุณ ูุงูุฅุญุฏุงุซูุงุช ููู ุงูุจููุณุฌูุฉ ุ ูุฐูู ุฅุฐุง ููุช ูุง ุชููู ููู ูุนูู ุ ูุฏุฑุณ ูุฐุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุนูู ุชุฑุงูุจ ูุณุทุญ</a> ุ ููู ูุง ููุณุฑ ูุง ูุญุฏุซ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eb/w-/sj/ebw-sjziw5loorrc2yj1wsl1vyu.gif"></div><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ุงูุฃุณุงุณ </h2><br>  ุณูููู ุจุฅูุบุงุก ุงูุฎุตุงุฆุต ูุคูุชูุง ูู ุชุธููู ุงูุบุทุงุก ุงููุณุทุญ ุงูุฃุณุงุณู ุ ูุฃููุง ูู ุงูููุช ุงูุญุงูู ุณููุชู ุจุงูุฃุณุงุณ ุงูุชููู.  ุซู ููุชุจ ูููุน ููุฉ ุงูุฑุฃุณ ูู ุงูุนุงูู ูุจุงุดุฑุฉู ุฅูู ูููู ุงูุดุธูุฉ ุ ููู ูููู ุฃููุงู ุจุชุญูููู ุฅูู UV.  ูู ุงููุฑุญูุฉ ุงูุฃุฎูุฑุฉ ูู ุงูุฅุนุฏุงุฏ ุ ุณููุชุจ ูุธููุฉ ุฌุฏูุฏุฉ ุชุญุณุจ ุงููุดูุฏ ูุชุนูุฏ ุงููุณุงูุฉ ุฅูู ุฃูุฑุจ ุณุทุญ.  ุซู ูุณููู ุงููุธุงุฆู ููุณุชุฎุฏู ุงููุชูุฌุฉ ูููู. <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/034_2D_SDF_Basics"</span></span>{ SubShader{ <span class="hljs-comment"><span class="hljs-comment">//           Tags{ "RenderType"="Opaque" "Queue"="Geometry"} Pass{ CGPROGRAM #include "UnityCG.cginc" #pragma vertex vert #pragma fragment frag struct appdata{ float4 vertex : POSITION; }; struct v2f{ float4 position : SV_POSITION; float4 worldPos : TEXCOORD0; }; v2f vert(appdata v){ v2f o; //         o.position = UnityObjectToClipPos(v.vertex); //     o.worldPos = mul(unity_ObjectToWorld, v.vertex); return o; } float scene(float2 position) { //      return 0; } fixed4 frag(v2f i) : SV_TARGET{ float dist = scene(i.worldPos.xz); fixed4 col = fixed4(dist, dist, dist, 1); return col; } ENDCG } } FallBack "Standard" //fallback   ,       }</span></span></code> </pre> <br>  ุณุฃูุชุจ ุฌููุน ูุธุงุฆู ุญููู ุงููุณุงูุฉ ุงููููุนุฉ ูู ููู ูููุตู ุญุชู ูุชููู ูู ุงุณุชุฎุฏุงููุง ุจุดูู ูุชูุฑุฑ.  ููููุงู ุจุฐูู ุ ุณูู ุฃููู ุจุฅูุดุงุก ููู ุฌุฏูุฏ.  ูู ูุถูู ุฃู ุดุฑ ุฅูู ุฐูู ุ ุซู ูุถุนู ููููู ุงูุดุฑุทูุฉ ูุชุดูู ุงูุญูุงูุฉ ุ ููุชุญูู ุฃููุงู ููุง ุฅุฐุง ูุงู ูุฏ ุชู ุชุนููู ูุชุบูุฑ ุงููุนุงูุฌ ุงููุณุจู.  ุฅุฐุง ูู ูุชู ุชุนุฑูููุง ุจุนุฏ ุ ููุญู ูุญุฏุฏูุง ููููู ุงูุดุฑุทูุฉ ุฅุฐุง ุชู ุฅูุดุงุคูุง ุจุนุฏ ุงููุธุงุฆู ุงูุชู ูุฑูุฏ ุชุถููููุง.  ููุฒุฉ ุฐูู ูู ุฃูู ุฅุฐุง ุฃุถููุง ุงูููู ูุฑุชูู (ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุฃุถููุง ููููู ูุฎุชูููู ุ ููู ููููุง ุงููุธุงุฆู ุงูุชู ูุญุชุงุฌูุง ุ ูููุงููุง ูุถููุงู ููุณ ุงูููู) ุ ูุณูุคุฏู ุฐูู ุฅูู ูุณุฑ ุงูุชุธููู.  ุฅุฐุง ููุช ูุชุฃูุฏูุง ูู ุฃู ูุฐุง ูู ูุญุฏุซ ุฃุจุฏูุง ุ ููุง ููููู ุฅุฌุฑุงุก ูุฐุง ุงููุญุต. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// in include file // include guards that keep the functions from being included more than once #ifndef SDF_2D #define SDF_2D // functions #endif</span></span></code> </pre> <br>  ุฅุฐุง ูุงู ููู ุงูุชุถููู ููุฌูุฏูุง ูู ููุณ ุงููุฌูุฏ ูุซู ุงูุชุธููู ุงูุฑุฆูุณู ุ ููููููุง ุจุจุณุงุทุฉ ุชุถูููู ุจุงุณุชุฎุฏุงู ุจููุฉ pragma. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// in main shader #include "2D_SDF.cginc"</span></span></code> </pre> <br>  ูุฐูู ุณูุฑู ุณุทุญูุง ุฃุณูุฏูุง ููุท ุนูู ุงูุณุทุญ ุงูููุฏู ุ ุฌุงูุฒูุง ูุนุฑุถ ุงููุณุงูุฉ ูุน ูุฌูุฏ ุนูุงูุฉ ุนููู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/25b/a3a/188/25ba3a188962c645fc6a12cfb5aed751.png"></div><br><h2 style=";text-align:right;direction:rtl">  ุฏุงุฆุฑุฉ </h2><br>  ุฅู ุฃุจุณุท ูุธููุฉ ูุญูู ุงููุณุงูุฉ ุงููููุนุฉ ูู ูุธููุฉ ุงูุฏุงุฆุฑุฉ.  ุณุชุชููู ุงููุธููุฉ ููุท ููุถุน ุงูุนููุฉ ููุตู ูุทุฑ ุงูุฏุงุฆุฑุฉ.  ูุจุฏุฃ ุจุงูุญุตูู ุนูู ุทูู ูุชุฌู ูููู ุงูุนููุฉ.  ุฅุฐู ุ ูุญุตู ุนูู ููุทุฉ ูู ุงูููุถุน (0 ุ 0) ุ ูุงูุชู ุชุดุจู ุงูุฏุงุฆุฑุฉ ุงูุชู ูุจูุบ ูุทุฑูุง 0. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">circle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 samplePosition, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> radius)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> length(samplePosition); }</code> </pre> <br>  ุซู ููููู ุงุณุชุฏุนุงุก ูุธููุฉ ุงูุฏุงุฆุฑุฉ ูู ูุธููุฉ ุงููุดูุฏ ูุฅุฑุฌุงุน ุงููุณุงูุฉ ุงูุชู ุชุนูุฏ ุฅูููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 position)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sceneDistance = circle(position, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sceneDistance; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/839/6a8/f87/8396a8f8780b6b30deb88d1009f6f5c7.png"></div><br>  ุซู ูุถูู ูุตู ุงููุทุฑ ุฅูู ุงูุญุณุงุจุงุช.  ูุชูุซู ุฃุญุฏ ุงูุฌูุงูุจ ุงููููุฉ ููุธุงุฆู ุงููุณุงูุฉ ุงููููุนุฉ ูู ุฃูู ุนูุฏูุง ูููู ุฏุงุฎู ุงููุงุฆู ุ ูุฅููุง ูุญุตู ุนูู ูุณุงูุฉ ุณุงูุจุฉ ุฅูู ุงูุณุทุญ (ูุฐุง ูุง ุชุนููู ุงููููุฉ ุงููููุนุฉ ูู ุญูู ูุณุงูุฉ ุงูุชุนุจูุฑ ุงููููุนุฉ).  ูุฒูุงุฏุฉ ุงูุฏุงุฆุฑุฉ ุฅูู ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง ุ ูููู ุจุจุณุงุทุฉ ุจุทุฑุญ ูุตู ุงููุทุฑ ูู ุงูุทูู.  ูุจุงูุชุงูู ุ ูุฅู ุงูุณุทุญ ุ ุงูุฐู ูู ูู ูู ููุงู ุญูุซ ุชุฑุฌุน ุงูุฏุงูุฉ 0 ุ ูุชุญุฑู ููุฎุงุฑุฌ.  ูุง ูู ูู ูุญุฏุชูู ูู ุงููุณุงูุฉ ูู ุงูุณุทุญ ูุฏุงุฆุฑุฉ ุจุญุฌู 0 ุ ูู ูุญุฏุฉ ูุงุญุฏุฉ ููุท ูู ุฏุงุฆุฑุฉ ุฐุงุช ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง 1 ุ ููุญุฏุฉ ูุงุญุฏุฉ ุฏุงุฎู ุงูุฏุงุฆุฑุฉ (ุงููููุฉ ูู -1) ูุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง 3 ุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">circle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 samplePosition, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> radius)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> length(samplePosition) - radius; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e7a/b83/57f/e7ab8357f4c844bc7bc58dfda6406d9d.png"></div><br>  ุงูุขู ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูุง ูููููุง ูุนูู ูู ููู ุงูุฏุงุฆุฑุฉ ูู ุงููุฑูุฒ.  ูุฅุตูุงุญ ุฐูู ุ ููููู ุฅุถุงูุฉ ูุณูุทุฉ ุฌุฏูุฏุฉ ุฅูู ูุธููุฉ ุงูุฏุงุฆุฑุฉ ูุญุณุงุจ ุงููุณุงูุฉ ุจูู ููุถุน ุงูุนููุฉ ููุณุท ุงูุฏุงุฆุฑุฉ ุ ูุทุฑุญ ูุตู ุงููุทุฑ ูู ูุฐู ุงููููุฉ ูุชุนุฑูู ุฏุงุฆุฑุฉ.  ุฃู ููููู ุฅุนุงุฏุฉ ุชุนุฑูู ุงูุฃุตู ุนู ุทุฑูู ุชุญุฑูู ูุณุงุญุฉ ููุทุฉ ุงูุนููุฉ ุ ุซู ุงูุญุตูู ุนูู ุฏุงุฆุฑุฉ ูู ุชูู ุงููุณุงุญุฉ.  ูุจุฏู ุงูุฎูุงุฑ ุงูุซุงูู ุฃูุซุฑ ุชุนููุฏูุง ุ ูููู ูุธุฑูุง ูุฃู ุงูุฃุฌุณุงู ุงููุชุญุฑูุฉ ูู ุนูููุฉ ูุฑุบุจ ูู ุงุณุชุฎุฏุงููุง ูุฌููุน ุงูุฃุดูุงู ุ ููู ุฃูุซุฑ ุนุงูููุฉ ุ ูุจุงูุชุงูู ุณุฃุดุฑุญูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุชุญุฑู </h2><br>  "ุชุญูู ูุณุงุญุฉ ููุทุฉ" - ูุจุฏู ุฃุณูุฃ ุจูุซูุฑ ููุง ูู ุนููู ูู ุงููุงูุน.  ูุฐุง ูุนูู ุฃููุง ูููู ุจุชูุฑูุฑ ุงูููุทุฉ ุฅูู ุงููุธููุฉ ุ ูุชุบููุฑูุง ุจุญูุซ ูุง ูุฒุงู ุจุฅููุงููุง ุงุณุชุฎุฏุงููุง ูู ุงููุณุชูุจู.  ูู ุญุงูุฉ ุงูููู ุ ูููู ุจุจุณุงุทุฉ ุจุทุฑุญ ุงูุฅุฒุงุญุฉ ูู ุงูููุทุฉ.  ูุชู ุทุฑุญ ุงูููุถุน ุนูุฏูุง ูุฑูุฏ ููู ุงูุฃุดูุงู ูู ุงูุงุชุฌุงู ุงูุฅูุฌุงุจู ุ ูุฃู ุงูุฃุดูุงู ุงูุชู ูุนุฑุถูุง ูู ุงููุถุงุก ุชุชุญุฑู ูู ุงูุงุชุฌุงู ุงููุนุงูุณ ูุชุญุฑูู ุงููุถุงุก. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุฃุฑุฏูุง ุฑุณู ูุฌุงู ูู ุงูููุถุน <code>(3, 4)</code> ุ ูุฅููุง ูุญุชุงุฌ ุฅูู ุชุบููุฑ ุงููุณุงูุฉ ุจุญูุซ ูุชุญูู <code>(3, 4)</code> ุฅูู <code>(0, 0)</code> ุ ูููุฐุง ูุญุชุงุฌ ุฅูู ุทุฑุญ <code>(3, 4)</code> .  ุงูุขู ุฅุฐุง ุฑุณููุง ูุฑุฉ ุญูู ููุทุฉ ุฃุตู <i>ุฌุฏูุฏุฉ</i> ุ ูุณุชููู ููุทุฉ <i>ูุฏููุฉ</i> <code>(3, 4)</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// in sdf functions include file float2 translate(float2 samplePosition, float2 offset){ return samplePosition - offset; }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 position)</span></span></span><span class="hljs-function"> </span></span>{ float2 circlePosition = translate(position, float2(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sceneDistance = circle(circlePosition, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sceneDistance; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/7e5/7ca/6cc/7e57ca6cc1b5953b03811fd2d48ac3f1.png"></div><br><h2 style=";text-align:right;direction:rtl">  ุงููุณุชุทูู </h2><br>  ุดูู ุจุณูุท ุขุฎุฑ ูู ูุณุชุทูู.  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูุฅููุง ูุนุชุจุฑ ุงูููููุงุช ุจุดูู ูููุตู.  ุฃููุงู ูุญุตู ุนูู ุงููุณุงูุฉ ูู ุงููุฑูุฒ ุ ูุน ุฃุฎุฐ ุงููููุฉ ุงููุทููุฉ.  ุจุนุฏ ุฐูู ุ ุนูู ุบุฑุงุฑ ุงูุฏุงุฆุฑุฉ ุ ูุทุฑุญ ูุตู ุงูุญุฌู (ุงูุฐู ูุดุจู ูุตู ูุทุฑ ุงููุณุชุทูู ุจุดูู ุฃุณุงุณู).  ูุฅุธูุงุฑ ููู ุณุชุจุฏู ุงููุชุงุฆุฌ ุ ุณูุนูุฏ ุฅูู ุนูุตุฑ ูุงุญุฏ ููุท ูู ุงูููุช ุงูุญุงูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rectangle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 samplePosition, float2 halfSize)</span></span></span></span>{ float2 componentWiseEdgeDistance = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(samplePosition) - halfSize; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> componentWiseEdgeDistance.x; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/14d/d5f/62a/14dd5f62af057366f38cdfaa2bc19315.png"></div><br>  ุงูุขู ูููููุง ุงูุญุตูู ุนูู ูุณุฎุฉ ุฑุฎูุตุฉ ูู ุงููุณุชุทูู ุจุจุณุงุทุฉ ุนู ุทุฑูู ุฅุฑุฌุงุน ุฃูุจุฑ ูููู 2. ูุฐุง ูุนูู ูู ูุซูุฑ ูู ุงูุญุงูุงุช ุ ูููู ููุณ ุจุดูู ุตุญูุญ ุ ูุฃูู ูุง ูุนุฑุถ ุงููุณุงูุฉ ุงูุตุญูุญุฉ ุญูู ุงูุฒูุงูุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a9c/b19/e06/a9cb19e061cb980c3fe8a2d533b2fbfb.png"></div><br>  ูููู ุงูุญุตูู ุนูู ุงูููู ุงูุตุญูุญุฉ ูููุณุชุทูู ุฎุงุฑุฌ ุงูุดูู ุนู ุทุฑูู ุฃุฎุฐ ุงูุญุฏ ุงูุฃูุตู ุฃููุงู ุจูู ุงููุณุงูุงุช ุฅูู ุงูุญูุงู ู 0 ุ ุซู ุฃุฎุฐ ุทููู. <br><br>  ุฅุฐุง ูู ูุญุฏุฏ ุงููุณุงูุฉ ูู ุงูุฃุณูู ุฅูู 0 ุ ููุญู ุจุจุณุงุทุฉ ูุญุณุจ ุงููุณุงูุฉ ุฅูู ุงูุฒูุงูุง (ุญูุซ ุชููู ุงููุณุงูุงุช edge <code>(0, 0)</code> ) ุ ููู ุงูุฅุญุฏุงุซูุงุช ุจูู ุงูุฒูุงูุง ูู ุชูู ุนู 0 ุ ูุฐูู ุณูุชู ุงุณุชุฎุฏุงู ุงูุญุงูุฉ ุจุฃููููุง.  ุนูุจ ูุฐุง ูู ุฃู 0 ูุณุชุฎุฏู ููุณุงูุฉ ูู ุงูุญุงูุฉ ููุงูู ุฏุงุฎู ุงูุดูู. <br><br>  ูุชุตุญูุญ ุงููุณุงูุฉ 0 ููุฌุฒุก ุงูุฏุงุฎูู ุจุฃูููู ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุงููุณุงูุฉ ุงูุฏุงุฎููุฉ ุ ุจุจุณุงุทุฉ ุจุงุณุชุฎุฏุงู ุตูุบุฉ ุงููุณุชุทูู ุงูุฑุฎูุต (ุฃุฎุฐ ุงูุญุฏ ุงูุฃูุตู ูููููุฉ ูู ุงููููู x ู y) ุ ููู ุซู ุถูุงู ุนุฏู ุชุฌุงูุฒูุง ุฃุจุฏูุง ุ ูุน ุฃุฎุฐ ุงูุญุฏ ุงูุฃุฏูู ูููููุฉ ูููุง ุฅูู 0. ุซู ูุถูู ุงููุณุงูุฉ ุงูุฎุงุฑุฌูุฉ ุงูุชู ูุง ุชูู ุฃุจุฏูุง ุนู 0 ูุงููุณุงูุฉ ุงูุฏุงุฎููุฉ ุงูุชู ูุง ุชุชุฌุงูุฒ ุฃุจุฏูุง 0 ุ ููุญุตู ุนูู ูุธููุฉ ุงููุณุงูุฉ ุงูููุงุฆูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rectangle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 samplePosition, float2 halfSize)</span></span></span></span>{ float2 componentWiseEdgeDistance = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(samplePosition) - halfSize; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> outsideDistance = length(max(componentWiseEdgeDistance, <span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> insideDistance = min(max(componentWiseEdgeDistance.x, componentWiseEdgeDistance.y), <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> outsideDistance + insideDistance; }</code> </pre> <br>  ูุธุฑูุง ูุฃููุง ุณุจู ุฃู ุณุฌููุง ูุธููุฉ ุงูููู ูู ุดูู ุนุงููู ุ ูููููุง ุงูุขู ุงุณุชุฎุฏุงููุง ูููู ูุฑูุฒูุง ุฅูู ุฃู ููุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 position)</span></span></span><span class="hljs-function"> </span></span>{ float2 circlePosition = translate(position, float2(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sceneDistance = rectangle(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sceneDistance; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/cc0/8eb/671/cc08eb671ae5314ae32d3a20cd685b4b.png"></div><br><h2 style=";text-align:right;direction:rtl">  ุจุฏูุฑู </h2><br>  ุชุฏููุฑ ุงูุฃุดูุงู ูุดุจู ุงูุญุฑูุฉ.  ูุจู ุญุณุงุจ ุงููุณุงูุฉ ุฅูู ุงูุดูู ุ ูููู ุจุชุฏููุฑ ุงูุฅุญุฏุงุซูุงุช ูู ุงูุงุชุฌุงู ุงููุนุงูุณ.  ูุชุจุณูุท ููู ุงูุฏูุฑุงุช ูุฏุฑ ุงูุฅููุงู ุ ูููู ุจูุถุงุนูุฉ ุงูุฏูุฑุงู ุจููุฏุงุฑ 2 * pi ููุญุตูู ุนูู ุงูุฒุงููุฉ ุจุงูุฑุงุฏูุงู.  ูุจุงูุชุงูู ุ ูุฅููุง ููุฑุฑ ูุธููุฉ ุงูุชูุงูุจ ุ ุญูุซ 0.25 ูู ุฑุจุน ุฏูุฑุฉ ุ 0.5 ูู ูุตู ุฏูุฑุฉ ุ ู 1 ูู ุฏูุฑ ูุงูู (ููููู ุฅุฌุฑุงุก ุชุญูููุงุช ุจุดูู ูุฎุชูู ุฅุฐุง ูุงู ูุจุฏู ุฃูุซุฑ ุทุจูุนูุฉ ุจุงููุณุจุฉ ูู).  ูุญู ุฃูุถูุง ูุนูุณ ุงูุฏูุฑุงู ุ ูุฃููุง ูุญุชุงุฌ ุฅูู ุชุฏููุฑ ุงูููุถุน ูู ุงูุงุชุฌุงู ุงููุนุงูุณ ูู ุฏูุฑุงู ุงูุดูู ูููุณ ุงูุณุจุจ ููุง ูู ุงูุญุงู ุนูุฏ ุงูุญุฑูุฉ. <br><br>  ูุญุณุงุจ ุงูุฅุญุฏุงุซูุงุช ุงูุฏูุงุฑุฉ ุ ูููู ุฃููุงู ุจุญุณุงุจ ุงูุฌูุจ ูุฌูุจ ุงูุชูุงู ุจูุงุกู ุนูู ุงูุฒุงููุฉ.  Hlsl ูุฏูู ูุธููุฉ sincos ุงูุชู ุชุญุณุจ ูู ูู ูุฐู ุงูููู ุจุดูู ุฃุณุฑุน ูู ุนูุฏ ุญุณุงุจูุง ุจุดูู ูููุตู. <br><br>  ุนูุฏ ุฅูุดุงุก ูุชุฌู ุฌุฏูุฏ ูููููู x ุ ูุฃุฎุฐ ุงููููู ุงูุฃุตูู x ูุถุฑูุจูุง ุจุงูุฌูุจ ุงูุชูุงูู ูุงููููู y ูุถุฑูุจูุง ุจุงูุฌูุจ.  ูููู ุชุฐูุฑ ุฐูู ุจุณูููุฉ ุฅุฐุง ููุช ุชุชุฐูุฑ ุฃู ุฌูุจ ุชูุงู 0 ูุณุงูู 1 ุ ูุนูุฏูุง ูุชู ุชุฏููุฑู ุจูุงุณุทุฉ 0 ุ ูุฑูุฏ ุฃู ูููู ุงููููู x ูู ุงููุชุฌู ุงูุฌุฏูุฏ ูู ููุณู ุชูุงููุง ููุง ูุงู ูู ูุจู (ุฃู ุ ุถุฑุจ 1).  ุงููููู y ุ ุงูุฐู ุฃุดุงุฑ ุณุงุจููุง ุฅูู ุงูุฃุนูู ุ ูู ููุฏู ุฃู ูุณุงููุฉ ูู ุงููููู x ุ ูุฏูุฑ ุฅูู ุงููููู ุ ูุชุจุฏุฃ ูููู ูู 0 ุ ูู ุงูุจุฏุงูุฉ ูุตุจุญ ุฃูุจุฑ ุ ุฃู ุฃู ุญุฑูุชู ููุตููุฉ ุชูุงููุง ุจูุงุณุทุฉ ุฌูุจ. <br><br>  ุจุงููุณุจุฉ ูููููู y ูููุชุฌู ุงูุฌุฏูุฏ ุ ูููู ุจุถุฑุจ ุฌูุจ ุงูุชูุงู ุจูููู y ูููุชุฌู ุงููุฏูู ููุทุฑุญ ุงูุฌูุจ ูุถุฑูุจุงู ุจุงููููู ุงููุฏูู x.  ูููู ููุงุฐุง ูุทุฑุญ ุ ุจุฏูุงู ูู ุฅุถุงูุฉ ุงูุฌูุจ ุ ูุถุฑูุจูุง ุจุงููููู x ุ ูู ุงูุฃูุถู ุฃู ูุชุฎูู ููู ูุชุบูุฑ ุงููุชุฌู <code>(1, 0)</code> ุนูุฏ ุชุดุบููู ูู ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ.  ูุจุฏุฃ ุงููููู y ูููุชูุฌุฉ ุนูุฏ 0 ููุตุจุญ ุฃูู ูู 0. ููุฐุง ูู ุนูุณ ุงูุทุฑููุฉ ุงูุชู ูุชุตุฑู ุจูุง ุงูุฌูุจ ุ ูุฐูู ูุบูุฑ ุงูุนูุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">float2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 samplePosition, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rotation)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> PI = <span class="hljs-number"><span class="hljs-number">3.14159</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> angle = rotation * PI * <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sine, cosine; sincos(angle, sine, cosine); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> float2(cosine * samplePosition.x + sine * samplePosition.y, cosine * samplePosition.y - sine * samplePosition.x); }</code> </pre> <br>  ุงูุขู ููุฏ ูุชุจูุง ุทุฑููุฉ ุงูุชุฏููุฑ ุ ูููููุง ุงุณุชุฎุฏุงููุง ูุน ุงูููู ูููู ูุชูุงูุจ ุงูุดูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 position)</span></span></span><span class="hljs-function"> </span></span>{ float2 circlePosition = position; circlePosition = rotate(circlePosition, _Time.y); circlePosition = translate(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sceneDistance = rectangle(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sceneDistance; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d46/99b/da0/d4699bda0f35c10163998bd22fac5eab.gif"></div><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุฃููุงู ุจุชุฏููุฑ ุงููุงุฆู ุญูู ูุฑูุฒ ุงููุดูุฏ ุจุฃูููู ุ ุจุญูุซ ูุคุซุฑ ุงูุฏูุฑุงู ุฃูุถูุง ุนูู ุงูููู.  ูุชุฏููุฑ ุฑูู ุจุงููุณุจุฉ ุฅูู ูุฑูุฒู ุ ุชุญุชุงุฌ ุฃููุงู ุฅูู ุชุญุฑููู ุ ุซู ุชุฏููุฑู.  ุจุณุจุจ ูุฐุง ุงูุชุฑุชูุจ ุงูุฐู ุชู ุชุบููุฑู ุจุญููู ููุช ุงูุฏูุฑุงู ุ ุณูุตุจุญ ูุฑูุฒ ุงูุดูู ูุฑูุฒ ูุธุงู ุงูุฅุญุฏุงุซูุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 position)</span></span></span><span class="hljs-function"> </span></span>{ float2 circlePosition = position; circlePosition = translate(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); circlePosition = rotate(circlePosition, _Time.y); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sceneDistance = rectangle(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sceneDistance; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8e5/3f3/12d/8e53f312d343fcbe95d000703001da3c.gif"></div><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุญุฌูู </h2><br>  ุงูุชุญุฌูู ูุนูู ุจุดูู ูุดุงุจู ูุทุฑู ุฃุฎุฑู ูุชุญููู ุงูุฃุดูุงู.  ููุณู ุงูุฅุญุฏุงุซูุงุช ุญุณุจ ุงููููุงุณ ุ ููุง ูุฌุนู ุงูุดูู ูู ุงููุถุงุก ุจูุทุงู ูุฎูุถ ุ ููู ูุธุงู ุงูุฅุญุฏุงุซูุงุช ุงูุฃุณุงุณู ูุตุจุญ ุญุฌูู ุฃูุจุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">float2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 samplePosition, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> scale)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> samplePosition / scale; }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 position)</span></span></span><span class="hljs-function"> </span></span>{ float2 circlePosition = position; circlePosition = translate(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); circlePosition = rotate(circlePosition, <span class="hljs-number"><span class="hljs-number">.125</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> pulseScale = <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">0.5</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(_Time.y * <span class="hljs-number"><span class="hljs-number">3.14</span></span>); circlePosition = scale(circlePosition, pulseScale); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sceneDistance = rectangle(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sceneDistance; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e66/043/a58/e66043a5877fbdcbcc38629d70334481.gif"></div><br>  ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ูุคุฏู ุฅูู ุงูููุงุณ ุจุดูู ุตุญูุญ ุ ุฅูุง ุฃู ุงููุณุงูุฉ ุชููุณ ุฃูุถูุง.  ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ ูุญูู ุงููุณุงูุฉ ุงููููุนุฉ ูู ุฃููุง ูุนุฑู ุฏุงุฆููุง ุงููุณุงูุฉ ุฅูู ุฃูุฑุจ ุณุทุญ ุ ููู ุงูุชุตุบูุฑ ูุฏูุฑ ูุฐู ุงูุฎุงุตูุฉ ุชูุงููุง.  ูููู ุฅุตูุงุญ ุฐูู ุจุณูููุฉ ุนู ุทุฑูู ุถุฑุจ ูุฌุงู ุงููุณุงูุฉ ุงูุฐู ุชู ุงูุญุตูู ุนููู ูู ูุธููุฉ ูุณุงูุฉ ุงูุฅุดุงุฑุฉ (ูู ุญุงูุชูุง ุ <code>rectangle</code> ) ุจุงููููุงุณ.  ููุณุจุจ ููุณู ุ ูุง ูููููุง ุงูููุงุณ ุจุณูููุฉ ุจุดูู ุบูุฑ ูุชุณุงู (ูุน ููุงููุณ ูุฎุชููุฉ ููุญูุฑู x ู y). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 position)</span></span></span><span class="hljs-function"> </span></span>{ float2 circlePosition = position; circlePosition = translate(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); circlePosition = rotate(circlePosition, <span class="hljs-number"><span class="hljs-number">.125</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> pulseScale = <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">0.5</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(_Time.y * <span class="hljs-number"><span class="hljs-number">3.14</span></span>); circlePosition = scale(circlePosition, pulseScale); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sceneDistance = rectangle(circlePosition, float2(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) * pulseScale; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sceneDistance; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/802/1bd/da1/8021bdda196f8300516f04cdf965c8af.gif"></div><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุตูุฑ </h2><br>  ูููู ุงุณุชุฎุฏุงู ุญููู ุงููุณุงูุงุช ุงููููุนุฉ ููุฌููุนุฉ ูุชููุนุฉ ูู ุงูุฃุดูุงุก ุ ูุซู ุฅูุดุงุก ุงูุธูุงู ุ ูุนุฑุถ ุงููุดุงูุฏ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุ ูุงูููุฒูุงุก ุ ููุต ุงูุนุฑุถ.  ููููุง ูุง ูุฑูุฏ ุฃู ูุชุนูู ูู ุงูุชุนููุฏ ุ ูุฐูู ุณุฃุดุฑุญ ููุท ุชูููุชูู ูุชุตูุฑููุง.  ุงูุฃูู ูู ุดูู ูุงุถุญ ูุน ุงูุญูุงู ุ ูุงูุซุงูู ูู ุชูุฏูู ุฎุทูุท ุงุนุชูุงุฏุง ุนูู ุงููุณุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุดูู ูุงุถุญ </h3><br>  ุชุดุจู ูุฐู ุงูุทุฑููุฉ ุชูู ุงููุณุชุฎุฏูุฉ ุบุงูุจูุง ุนูุฏ ุชูุฏูู ุงููุต ุ ููู ุชูุดุฆ ูููุฐุฌูุง ูุงุถุญูุง.  ุฅุฐุง ููุง ูุฑูุฏ ุฅูุดุงุก ุญูู ูุณุงูุฉ ููุณ ูู ูุธููุฉ ุ ูููู ููุฑุงุกุชู ูู ูุณูุฌ ุ ููุฐุง ูุชูุญ ููุง ุงุณุชุฎุฏุงู ููุงุฏ ุฐุงุช ุฏูุฉ ุฃูู ุจูุซูุฑ ูู ุงููุนุชุงุฏ ูุงูุญุตูู ุนูู ูุชุงุฆุฌ ุฌูุฏุฉ.  ูุณุชุฎุฏู TextMesh Pro ูุฐู ุงูุชูููุฉ ูุชูุฏูู ุงููุต. <br><br>  ูุชุทุจูู ูุฐู ุงูุชูููุฉ ุ ูุณุชููุฏ ูู ุญูููุฉ ุฃู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ุญููู ุงููุณุงูุงุช ูููุนุฉ ุ ููุนุฑู ููุทุฉ ุงููุตู.  ูุจุฏุฃ ุจุญุณุงุจ ูุฏู ุชุบูุฑ ุญูู ุงููุณุงูุฉ ุฅูู ุงูุจูุณู ุงูุชุงูู.  ูุฌุจ ุฃู ุชููู ูุฐู ูู ููุณ ูููุฉ ุทูู ุงูุฅุญุฏุงุซูุงุช ุ ูููู ูู ุงูุฃุณูู ูุงูุฃูุซุฑ ููุซูููุฉ ุญุณุงุจ ุงููุณุงูุฉ ุจุฅุดุงุฑุฉ. <br><br>  ุจุนุฏ ุชููู ุชุบููุฑ ุงููุณุงูุฉ ุ ูููููุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎุทูุฉ</a> ูู ูุตู ุชุบููุฑ ุงููุณุงูุฉ ุฅูู ูุงูุต / ุฒุงุฆุฏ ูุตู ุชุบููุฑ ุงููุณุงูุฉ.  ุณูุคุฏู ูุฐุง ุฅูู ุฅุฌุฑุงุก ุนูููุฉ ูุต ุจุณูุทุฉ ุญูู 0 ุชูุฑูุจูุง ุ ูููู ูุน ุชุฌุงูุณ.  ุซู ููููู ุงุณุชุฎุฏุงู ูุฐู ุงููููุฉ ุงูููุณุงุก ูุฃู ูููุฉ ุซูุงุฆูุฉ ูุญุชุงุฌูุง.  ูู ูุฐุง ุงููุซุงู ุ ุณูู ุฃููู ุจุชุบููุฑ ุงูุชุธููู ุฅูู ุชุธููู ุงูุดูุงููุฉ ูุงุณุชุฎุฏุงูู ูููุงุฉ ุฃููุง.  ุฃููู ุจุณูุงุณุฉ ูู ุงููููุฉ ุงูููุฌุจุฉ ุฅูู ุงููููุฉ ุงูุณุงูุจุฉ ูุฃููุง ูุฑูุฏ ุฃู ุชููู ุงููููุฉ ุงูุณูุจูุฉ ูุญูู ุงููุณุงูุฉ ูุฑุฆูุฉ.  ุฅุฐุง ููุช ูุง ุชููู ุชูุงููุง ููู ูุนูู ุชูุฏูู ุงูุดูุงููุฉ ููุง ุ ูููุตูู ูุฑุงุกุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุนูููู ุงูุฎุงุต</a> ุจุนุฑุถ ุงูุดูุงููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//properties Properties{ _Color("Color", Color) = (1,1,1,1) }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//in subshader outside of pass Tags{ "RenderType"="Transparent" "Queue"="Transparent"} Blend SrcAlpha OneMinusSrcAlpha ZWrite Off</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">fixed4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v2f i)</span></span></span><span class="hljs-function"> : SV_TARGET</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dist = scene(i.worldPos.xz); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distanceChange = fwidth(dist) * <span class="hljs-number"><span class="hljs-number">0.5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> antialiasedCutoff = smoothstep(distanceChange, -distanceChange, dist); fixed4 col = fixed4(_Color, antialiasedCutoff); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> col; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/86d/a08/e1c/86da08e1cfcb25212c6bf3c22dfa1dc8.gif"></div><br><h3 style=";text-align:right;direction:rtl">  ุฎุทูุท ุงูุงุฑุชูุงุน </h3><br>  ุฃุณููุจ ุดุงุฆุน ุขุฎุฑ ูุชุตูุฑ ุญููู ุงููุณุงูุฉ ูู ุนุฑุถ ุงููุณุงูุงุช ูุฎุทูุท.  ูู ุชุทุจูููุง ุ ุณุฃุถูู ุจุถุนุฉ ุฎุทูุท ุณูููุฉ ูุจุนุถ ุงูุฎุทูุท ุงูุฑููุนุฉ ุจููููุง.  ุณุฃููู ุฃูุถูุง ุจุฑุณู ุงูุดูู ุงูุฎุงุฑุฌู ูุงูุฎุงุฑุฌู ุจุฃููุงู ูุฎุชููุฉ ุญุชู ุชุชููู ูู ุฑุคูุฉ ููุงู ุงููุงุฆู. <br><br>  ุณูุจุฏุฃ ุจุนุฑุถ ุงููุฑู ุจูู ุงูุดูู ุงูุฏุงุฎูู ูุงูุฎุงุฑุฌู.  ูููู ุชุฎุตูุต ุงูุฃููุงู ูู ุงููุงุฏุฉ ุ ูุฐูู ุณูุถูู ุฎุตุงุฆุต ุฌุฏูุฏุฉ ุ ููุฐูู ูุชุบูุฑุงุช ุงูุชุธููู ููุฃููุงู ุงูุฏุงุฎููุฉ ูุงูุฎุงุฑุฌูุฉ ููุดูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Properties{ _InsideColor(<span class="hljs-string"><span class="hljs-string">"Inside Color"</span></span>, Color) = (<span class="hljs-number"><span class="hljs-number">.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) _OutsideColor(<span class="hljs-string"><span class="hljs-string">"Outside Color"</span></span>, Color) = (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//global shader variables float4 _InsideColor; float4 _OutsideColor;</span></span></code> </pre> <br>  ุซู ูู ุงูุชุธููู ุงูุฌุฒุฆู ุ ูุชุญูู ูู ูููุน ุงูุจููุณู ุ ูุงูุฐู ูุนุฑุถู ุจููุงุฑูุฉ ุงููุณุงูุฉ ูุน ุงูุนูุงูุฉ ุจ 0 ุจุงุณุชุฎุฏุงู ุฏุงูุฉ <code>step</code> .  ูุญู ูุณุชุฎุฏู ูุฐุง ุงููุชุบูุฑ ููุชุญุฑูู ูู ุงูููู ุงูุฏุงุฎูู ุฅูู ุงูููู ุงูุฎุงุฑุฌู ูุฌุนูู ุนูู ุงูุดุงุดุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">fixed4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v2f i)</span></span></span><span class="hljs-function"> : SV_TARGET</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dist = scene(i.worldPos.xz); fixed4 col = lerp(_InsideColor, _OutsideColor, step(<span class="hljs-number"><span class="hljs-number">0</span></span>, dist)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> col; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/989/13c/15b/98913c15b68cb3fcca4b6d1e4a3f70c0.gif"></div><br>  ูุชูุฏูู ุงูุฎุทูุท ุ ูุญุชุงุฌ ุฃููุงู ุฅูู ุชุญุฏูุฏ ุนุฏุฏ ูุฑุงุช ุนุฑุถ ุงูุฎุทูุท ุ ููุฏู ุซูููุง ุ ูุชุญุฏูุฏ ุงูุฎุตุงุฆุต ููุชุบูุฑุงุช ุงูุชุธููู ุงูููุงุจูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//Properties _LineDistance("Mayor Line Distance", Range(0, 2)) = 1 _LineThickness("Mayor Line Thickness", Range(0, 0.1)) = 0.05</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//shader variables float _LineDistance; float _LineThickness;</span></span></code> </pre> <br>  ุซู ุ ูุชูุฏูู ุงูุฎุทูุท ุ ุณูุจุฏุฃ ุจุญุณุงุจ ุงูุชุบููุฑ ูู ุงููุณุงูุฉ ุญุชู ูุชููู ูู ุงุณุชุฎุฏุงูู ูุงุญููุง ููุชุฌุงูุณ.  ููุฏ ูููุง ุจุงููุนู ุจุชูุณููู ุนูู 2 ุ ูุฃููุง ูู ููุช ูุงุญู ูุถูู ูุตูู ููุทุฑุญ ูุตูู ูุชุบุทูุฉ ูุณุงูุฉ ุงูุชุบููุฑ ุงูุชู ุชุจูุบ 1 ุจูุณู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distanceChange = fwidth(dist) * <span class="hljs-number"><span class="hljs-number">0.5</span></span>;</code> </pre> <br>  ุซู ูุฃุฎุฐ ุงููุณุงูุฉ ููุญูููุง ุจุญูุซ ูููู ููุง ููุณ ุงูุณููู ูู ููุงุท ุงูุชูุฑุงุฑ.  ููููุงู ุจุฐูู ุ ููุณููุง ุฃููุงู ุนูู ุงููุณุงูุฉ ุจูู ุงูุณุทูุฑ ุ ูู ุญูู ูู ูุญุตู ุนูู ุฃุฑูุงู ูุงููุฉ ูู ูู ุฎุทูุฉ ุฃููู ุ ูููููุง ุณูุญุตู ุนูู ุฃุฑูุงู ูุงููุฉ ููุท ุนูู ุฃุณุงุณ ุงููุณุงูุฉ ุงูุชู ุญุฏุฏูุงูุง. <br><br>  ุซู ูุถูู 0.5 ููุฑูู ููุฃุฎุฐ ุงูุฌุฒุก ุงููุณุฑู ููุทุฑุญ 0.5 ูุฑุฉ ุฃุฎุฑู.  ููุงู ุญุงุฌุฉ ุฅูู ุงูุฌุฒุก ุงููุณุฑู ูุงูุทุฑุญ ููุง ุจุญูุซ ููุฑ ุงูุฎุท ูู ุฎูุงู ุงูุตูุฑ ูู ููุท ุงูุชูุฑุงุฑ.  ูุถูู 0.5 ููุญุตูู ุนูู ุงูุฌุฒุก ุงููุณุฑู ูู ุฃุฌู ุชุญููุฏ ุงูุทุฑุญ ุงูุฅุถุงูู ุงูุจุงูุบ 0.5 - ุงูุฅุฒุงุญุฉ ุณุชุคุฏู ุฅูู ุญูููุฉ ุฃู ุงูููู ุงูุชู ูููู ูููุง ุงูุฑุณู ุงูุจูุงูู 0 ูู 0 ุ 1 ุ 2 ุ ุฅูุฎ ุ ูููุณ 0.5 ุ 1.5 ุ ุงูุฎ <br><br>  ุงูุฎุทูุงุช ุงูุฃุฎูุฑุฉ ูุชุญููู ุงููููุฉ - ูุฃุฎุฐ ุงููููุฉ ุงููุทููุฉ ููุถุฑุจูุง ูุฑุฉ ุฃุฎุฑู ูู ุฎูุงู ุงููุณุงูุฉ ุจูู ุงูุณุทูุฑ.  ุงููููุฉ ุงููุทููุฉ ุชุฌุนู ุงููุณุงุญุงุช ูุจู ูุจุนุฏ ููุงุท ุงูุฎุท ุชุจูู ููุง ูู ุ ููุง ูุณูู ุฅูุดุงุก ููุทุฉ ููุฎุทูุท.  ููุงู ุญุงุฌุฉ ุฅูู ุงูุนูููุฉ ุงูุฃุฎูุฑุฉ ุ ุญูุซ ูุถุฑุจ ุงููููุฉ ูุฑุฉ ุฃุฎุฑู ูู ุฎูุงู ุงููุณุงูุฉ ุจูู ุงูุณุทูุฑ ุ ูุชุญููุฏ ุงููุณูุฉ ูู ุจุฏุงูุฉ ุงููุนุงุฏูุฉ ุ ูุจูุถููุง ุ ูููู ุงูุชุบููุฑ ูู ุงููููุฉ ูู ููุณู ููุง ูู ุงูุจุฏุงูุฉ ุ ููุง ูุฒุงู ุงูุชุบููุฑ ุงููุญุณูุจ ูุณุจููุง ูู ุงููุณุงูุฉ ุตุญูุญูุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a89/db3/de9/a89db3de916eaf871c4525348272a635.png"></div><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> majorLineDistance = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(frac(dist / _LineDistance + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) - <span class="hljs-number"><span class="hljs-number">0.5</span></span>) * _LineDistance;</code> </pre> <br>  ุงูุขู ููุฏ ูููุง ุจุญุณุงุจ ุงููุณุงูุฉ ุฅูู ุงูุฎุทูุท ุจูุงุกู ุนูู ุงููุณุงูุฉ ุฅูู ุงูุดูู ุ ูููููุง ุฑุณู ุงูุฎุทูุท.  ูุญู ูููุฐ ุฎุทูุฉ ุจุฎุทูุฉ ูู ุงูุฎุทุงุจ ูุงูุต ูุตู ุงูุชุบูุฑ ูู ุงููุณุงูุฉ ุฅูู ุงูุฎุท ุงูุฎูุทู ุจุงูุฅุถุงูุฉ ุฅูู ูุตู ุงูุชุบูุฑ ูู ุงููุณุงูุฉ ููุณุชุฎุฏู ูุณุงูุฉ ุงูุฎุท ุงููุญุณูุจุฉ ููููุฉ ููููุงุฑูุฉ.  ุจุนุฏ ุญุณุงุจ ูุฐู ุงููููุฉ ุ ูููู ุจุถุฑุจูุง ุญุณุจ ุงูููู ูุฅูุดุงุก ุฎุทูุท ุณูุฏุงุก (ููููู ุฃูุถูุง ุงูุชุนุดูู ุนูู ููู ูุฎุชูู ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุฎุทูุท ูุชุนุฏุฏุฉ ุงูุฃููุงู). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">fixed4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v2f i)</span></span></span><span class="hljs-function"> : SV_TARGET</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dist = scene(i.worldPos.xz); fixed4 col = lerp(_InsideColor, _OutsideColor, step(<span class="hljs-number"><span class="hljs-number">0</span></span>, dist)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distanceChange = fwidth(dist) * <span class="hljs-number"><span class="hljs-number">0.5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> majorLineDistance = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(frac(dist / _LineDistance + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) - <span class="hljs-number"><span class="hljs-number">0.5</span></span>) * _LineDistance; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> majorLines = smoothstep(_LineThickness - distanceChange, _LineThickness + distanceChange, majorLineDistance); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> col * majorLines; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/890/6b1/452/8906b1452c9d7a05f39b5c3070f2c547.gif"></div><br>  ูููู ุจุชูููุฐ ุฎุทูุท ุฑููุนุฉ ุจูู ุงูุฎุทูุท ุงูุณูููุฉ ุจุงูุทุฑููุฉ ููุณูุง - ูุถูู ุฎุงุตูุฉ ุชุญุฏุฏ ุนุฏุฏ ุงูุฎุทูุท ุงูุฑููุนุฉ ุงูุชู ููุจุบู ุฃู ุชููู ุจูู ุงูุฎุทูุท ุงูุณูููุฉ ุ ุซู ูููู ุจูุง ูุนููุงู ุจุงูุฎุทูุท ุงูุณูููุฉ ุ ููู ุจุณุจุจ ุงููุณุงูุฉ ุจูู ุงูุฎุทูุท ุงูุฑููุนุฉ ุ ููุณู ุงููุณุงูุฉ ุจูู ุงูุฎุทูุท ุงูุณูููุฉ ุนูู ุนุฏุฏ ุงูุฎุทูุท ุงูุฑููุนุฉ ุจูู ููู.  ุณูุฌุนู ุฃูุถูุง ุนุฏุฏ ุงูุฎุทูุท ุงูุฑููุนุฉ <code>IntRange</code> ุ ูุจูุถู ูุฐุง ูููููุง ููุท ุชุนููู ููู ุนุฏุฏ ุตุญูุญ ูุนุฏู ุงูุญุตูู ุนูู ุฎุทูุท ุฑูููุฉ ูุง <code>IntRange</code> ุงูุฎุทูุท ุงูุณูููุฉ.  ุจุนุฏ ุญุณุงุจ ุงูุฎุทูุท ุงูุฑููุนุฉ ุ ูููู ุจุถุฑุจูุง ุจุงูุฃููุงู ุจููุณ ุทุฑููุฉ ุงูุฎุทูุท ุงูุณูููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//properties [IntRange]_SubLines("Lines between major lines", Range(1, 10)) = 4 _SubLineThickness("Thickness of inbetween lines", Range(0, 0.05)) = 0.01</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//shader variables float _SubLines; float _SubLineThickness;</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">fixed4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v2f i)</span></span></span><span class="hljs-function"> : SV_TARGET</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dist = scene(i.worldPos.xz); fixed4 col = lerp(_InsideColor, _OutsideColor, step(<span class="hljs-number"><span class="hljs-number">0</span></span>, dist)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distanceChange = fwidth(dist) * <span class="hljs-number"><span class="hljs-number">0.5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> majorLineDistance = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(frac(dist / _LineDistance + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) - <span class="hljs-number"><span class="hljs-number">0.5</span></span>) * _LineDistance; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> majorLines = smoothstep(_LineThickness - distanceChange, _LineThickness + distanceChange, majorLineDistance); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distanceBetweenSubLines = _LineDistance / _SubLines; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> subLineDistance = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(frac(dist / distanceBetweenSubLines + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) - <span class="hljs-number"><span class="hljs-number">0.5</span></span>) * distanceBetweenSubLines; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> subLines = smoothstep(_SubLineThickness - distanceChange, _SubLineThickness + distanceChange, subLineDistance); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> col * majorLines * subLines; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e8c/664/bf0/e8c664bf0fb16337f77f242c4f3f5c01.gif"></div><br><h2 style=";text-align:right;direction:rtl">  ุดูุฑุฉ ุงููุตุฏุฑ </h2><br><h3 style=";text-align:right;direction:rtl">  2D SDF ุงูููุฒุงุช </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/ronja-tutorials/ShaderTutorials/blob/master/Assets/034_2D_SDF/2D_SDF.cginc</a> </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> SDF_2D #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> SDF_2D float2 rotate(float2 samplePosition, float rotation){ const float PI = 3.14159; float angle = rotation * PI * 2 * -1; float sine, cosine; sincos(angle, sine, cosine); return float2(cosine * samplePosition.x + sine * samplePosition.y, cosine * samplePosition.y - sine * samplePosition.x); } float2 translate(float2 samplePosition, float2 offset){ </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//move samplepoint in the opposite direction that we want to move shapes in return samplePosition - offset; } float2 scale(float2 samplePosition, float scale){ return samplePosition / scale; } float circle(float2 samplePosition, float radius){ //get distance from center and grow it according to radius return length(samplePosition) - radius; } float rectangle(float2 samplePosition, float2 halfSize){ float2 componentWiseEdgeDistance = abs(samplePosition) - halfSize; float outsideDistance = length(max(componentWiseEdgeDistance, 0)); float insideDistance = min(max(componentWiseEdgeDistance.x, componentWiseEdgeDistance.y), 0); return outsideDistance + insideDistance; } #endif</span></span></span></span></code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ูุซุงู ุงูุฏุงุฆุฑุฉ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/ronja-tutorials/ShaderTutorials/blob/master/Assets/034_2D_SDF/Circle.shader</a> </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/034_2D_SDF_Basics/Rectangle"</span></span>{ SubShader{ <span class="hljs-comment"><span class="hljs-comment">//the material is completely non-transparent and is rendered at the same time as the other opaque geometry Tags{ "RenderType"="Opaque" "Queue"="Geometry"} Pass{ CGPROGRAM #include "UnityCG.cginc" #include "2D_SDF.cginc" #pragma vertex vert #pragma fragment frag struct appdata{ float4 vertex : POSITION; }; struct v2f{ float4 position : SV_POSITION; float4 worldPos : TEXCOORD0; }; v2f vert(appdata v){ v2f o; //calculate the position in clip space to render the object o.position = UnityObjectToClipPos(v.vertex); //calculate world position of vertex o.worldPos = mul(unity_ObjectToWorld, v.vertex); return o; } float scene(float2 position) { float2 circlePosition = position; circlePosition = rotate(circlePosition, _Time.y * 0.5); circlePosition = translate(circlePosition, float2(2, 0)); float sceneDistance = rectangle(circlePosition, float2(1, 2)); return sceneDistance; } fixed4 frag(v2f i) : SV_TARGET{ float dist = scene(i.worldPos.xz); fixed4 col = fixed4(dist, dist, dist, 1); return col; } ENDCG } } FallBack "Standard" //fallback adds a shadow pass so we get shadows on other objects }</span></span></code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ูุซุงู ูุณุชุทูู </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/ronja-tutorials/ShaderTutorials/blob/master/Assets/034_2D_SDF/Rectangle.shader</a> </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/034_2D_SDF_Basics/Rectangle"</span></span>{ SubShader{ <span class="hljs-comment"><span class="hljs-comment">//the material is completely non-transparent and is rendered at the same time as the other opaque geometry Tags{ "RenderType"="Opaque" "Queue"="Geometry"} Pass{ CGPROGRAM #include "UnityCG.cginc" #include "2D_SDF.cginc" #pragma vertex vert #pragma fragment frag struct appdata{ float4 vertex : POSITION; }; struct v2f{ float4 position : SV_POSITION; float4 worldPos : TEXCOORD0; }; v2f vert(appdata v){ v2f o; //calculate the position in clip space to render the object o.position = UnityObjectToClipPos(v.vertex); //calculate world position of vertex o.worldPos = mul(unity_ObjectToWorld, v.vertex); return o; } float scene(float2 position) { float2 circlePosition = position; circlePosition = rotate(circlePosition, _Time.y * 0.5); circlePosition = translate(circlePosition, float2(2, 0)); float sceneDistance = rectangle(circlePosition, float2(1, 2)); return sceneDistance; } fixed4 frag(v2f i) : SV_TARGET{ float dist = scene(i.worldPos.xz); fixed4 col = fixed4(dist, dist, dist, 1); return col; } ENDCG } } FallBack "Standard" //fallback adds a shadow pass so we get shadows on other objects }</span></span></code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ูุทุน </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/ronja-tutorials/ShaderTutorials/blob/master/Assets/034_2D_SDF/Cutoff.shader</a> </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/034_2D_SDF_Basics/Cutoff"</span></span>{ Properties{ _Color(<span class="hljs-string"><span class="hljs-string">"Color"</span></span>, Color) = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) } SubShader{ Tags{ <span class="hljs-string"><span class="hljs-string">"RenderType"</span></span>=<span class="hljs-string"><span class="hljs-string">"Transparent"</span></span> <span class="hljs-string"><span class="hljs-string">"Queue"</span></span>=<span class="hljs-string"><span class="hljs-string">"Transparent"</span></span>} Blend SrcAlpha OneMinusSrcAlpha ZWrite Off Pass{ CGPROGRAM #include <span class="hljs-string"><span class="hljs-string">"UnityCG.cginc"</span></span> #include <span class="hljs-string"><span class="hljs-string">"2D_SDF.cginc"</span></span> #pragma vertex vert #pragma fragment frag struct appdata{ float4 vertex : POSITION; }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">v2f</span></span></span><span class="hljs-class">{</span></span> float4 position : SV_POSITION; float4 worldPos : TEXCOORD0; }; fixed3 _Color; <span class="hljs-function"><span class="hljs-function">v2f </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(appdata v)</span></span></span></span>{ v2f o; <span class="hljs-comment"><span class="hljs-comment">//calculate the position in clip space to render the object o.position = UnityObjectToClipPos(v.vertex); //calculate world position of vertex o.worldPos = mul(unity_ObjectToWorld, v.vertex); return o; } float scene(float2 position) { float2 circlePosition = position; circlePosition = rotate(circlePosition, _Time.y * 0.5); circlePosition = translate(circlePosition, float2(2, 0)); float sceneDistance = rectangle(circlePosition, float2(1, 2)); return sceneDistance; } fixed4 frag(v2f i) : SV_TARGET{ float dist = scene(i.worldPos.xz); float distanceChange = fwidth(dist) * 0.5; float antialiasedCutoff = smoothstep(distanceChange, -distanceChange, dist); fixed4 col = fixed4(_Color, antialiasedCutoff); return col; } ENDCG } } FallBack "Standard" //fallback adds a shadow pass so we get shadows on other objects }</span></span></code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุฎุทูุท ุงููุณุงูุฉ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/ronja-tutorials/ShaderTutorials/blob/master/Assets/034_2D_SDF/DistanceLines.shader</a> </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/034_2D_SDF_Basics/DistanceLines"</span></span>{ Properties{ _InsideColor(<span class="hljs-string"><span class="hljs-string">"Inside Color"</span></span>, Color) = (<span class="hljs-number"><span class="hljs-number">.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) _OutsideColor(<span class="hljs-string"><span class="hljs-string">"Outside Color"</span></span>, Color) = (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) _LineDistance(<span class="hljs-string"><span class="hljs-string">"Mayor Line Distance"</span></span>, Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) = <span class="hljs-number"><span class="hljs-number">1</span></span> _LineThickness(<span class="hljs-string"><span class="hljs-string">"Mayor Line Thickness"</span></span>, Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0.1</span></span>)) = <span class="hljs-number"><span class="hljs-number">0.05</span></span> [IntRange]_SubLines(<span class="hljs-string"><span class="hljs-string">"Lines between major lines"</span></span>, Range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>)) = <span class="hljs-number"><span class="hljs-number">4</span></span> _SubLineThickness(<span class="hljs-string"><span class="hljs-string">"Thickness of inbetween lines"</span></span>, Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0.05</span></span>)) = <span class="hljs-number"><span class="hljs-number">0.01</span></span> } SubShader{ <span class="hljs-comment"><span class="hljs-comment">//the material is completely non-transparent and is rendered at the same time as the other opaque geometry Tags{ "RenderType"="Opaque" "Queue"="Geometry"} Pass{ CGPROGRAM #include "UnityCG.cginc" #include "2D_SDF.cginc" #pragma vertex vert #pragma fragment frag struct appdata{ float4 vertex : POSITION; }; struct v2f{ float4 position : SV_POSITION; float4 worldPos : TEXCOORD0; }; v2f vert(appdata v){ v2f o; //calculate the position in clip space to render the object o.position = UnityObjectToClipPos(v.vertex); //calculate world position of vertex o.worldPos = mul(unity_ObjectToWorld, v.vertex); return o; } float scene(float2 position) { float2 circlePosition = position; circlePosition = rotate(circlePosition, _Time.y * 0.2); circlePosition = translate(circlePosition, float2(2, 0)); float sceneDistance = rectangle(circlePosition, float2(1, 2)); return sceneDistance; } float4 _InsideColor; float4 _OutsideColor; float _LineDistance; float _LineThickness; float _SubLines; float _SubLineThickness; fixed4 frag(v2f i) : SV_TARGET{ float dist = scene(i.worldPos.xz); fixed4 col = lerp(_InsideColor, _OutsideColor, step(0, dist)); float distanceChange = fwidth(dist) * 0.5; float majorLineDistance = abs(frac(dist / _LineDistance + 0.5) - 0.5) * _LineDistance; float majorLines = smoothstep(_LineThickness - distanceChange, _LineThickness + distanceChange, majorLineDistance); float distanceBetweenSubLines = _LineDistance / _SubLines; float subLineDistance = abs(frac(dist / distanceBetweenSubLines + 0.5) - 0.5) * distanceBetweenSubLines; float subLines = smoothstep(_SubLineThickness - distanceChange, _SubLineThickness + distanceChange, subLineDistance); return col * majorLines * subLines; } ENDCG } } FallBack "Standard" //fallback adds a shadow pass so we get shadows on other objects }</span></span></code> </pre> <br>  ุขูู ุฃู ุฃุชููู ูู ุดุฑุญ ุฃุณุงุณูุงุช ุญููู ุงููุณุงูุงุช ุจุฅุดุงุฑุฉ ุ ูุฃูุช ุจุงููุนู ุชูุชุธุฑ ุจุนุถ ุงูุจุฑุงูุฌ ุงูุชุนููููุฉ ุงูุฌุฏูุฏุฉ ุงูุชู ุณุฃุชุญุฏุซ ูููุง ุนู ุทุฑู ุฃุฎุฑู ูุงุณุชุฎุฏุงููุง. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar438316/">https://habr.com/ru/post/ar438316/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar438304/index.html">ุงูุชุนุงูุฏ ูู ุงูุจุงุทูุ ุจุงุฑุฏ ุฃูุช ุถุฑุจ</a></li>
<li><a href="../ar438306/index.html">ุงูุฅุดุนุงุน: ูุฎุชุจุฑ ุฃูุงู ุงูููููุงุก ุงูุฅุดุนุงุนูุฉ</a></li>
<li><a href="../ar438310/index.html">ูุณุชุฎุฏู Instagram ุงูุชุนูู ุงูุขูู ูุฅุฒุงูุฉ ุงููุชุงุจุนูู ุงููุฒูููู</a></li>
<li><a href="../ar438312/index.html">ุฃุชูุชุฉ ุงูุดุจูุฉ ูุน Ansible: ูุญุฏุฉ ุงูููุงุฏุฉ</a></li>
<li><a href="../ar438314/index.html">1. ุชุญูู ูู Point Maestro Hyperscale Network Security - ูุธุงู ุฃูุงู ุฌุฏูุฏ ูุงุจู ููุชุทููุฑ</a></li>
<li><a href="../ar438318/index.html">ููู ุชุชูู / ุชูุชุธุฑ ุจูุงุก ุงูุฌููุฉ: ูุซุงู ุญูููู</a></li>
<li><a href="../ar438320/index.html">ุชุนููู ุงูุงุทูุงู ููุจุฑูุงูุฌ</a></li>
<li><a href="../ar438322/index.html">VSaaS 2025: ุชูููููุฌูุง ุงูุฏูุงุฆุฑ ุงูุชููุฒููููุฉ ุงููุบููุฉ ูู ุงููุณุชูุจู</a></li>
<li><a href="../ar438326/index.html">5G ูู ุฑูุณูุง: ููุงุฐุง ูู ูุทููุจ ุ ููู ูููู ููุชู ุณูู ุชุธูุฑุ ุจุงุฎุชุตุงุฑ ุนู ุงูุดูุก ุงูุฑุฆูุณู</a></li>
<li><a href="../ar438328/index.html">ููู ุชุถุฎู ููุงุนุฉ ุงูุฑูุงุชุจ ูููุจุฑูุฌููุ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>