<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯС╢ЁЯП╗ ЁЯТкЁЯП╜ ЁЯзЭЁЯП╜ рд╣рдо Web Bluetooth API рдФрд░ Arduino рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрд▓ рдИ рдбреА рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ ЁЯПЫя╕П ЁЯжФ ЁЯР╗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- рдХреЗрдЯрд▓реНрд╕, рддрд░рд╛рдЬреВ, рдЦрд┐рд▓реМрдиреЗ, рдкреНрд░рдХрд╛рд╢ рдмрд▓реНрдм, рдХреЙрдлреА рдорд╢реАрди ... рдмреНрд▓реВрдЯреВрде рдореЙрдбреНрдпреВрд▓ рдЗрди рдФрд░ рдЕрдиреНрдп рдЙрдкрдХрд░рдгреЛрдВ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рд╣реЛрддреЗ рд╣реИрдВред 
 - рдХреНрдпреЛрдВ? 
 - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╣рдо Web Bluetooth API рдФрд░ Arduino рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрд▓ рдИ рдбреА рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/space307/blog/416579/"><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/yn/_u/jb/yn_ujbyh92tyfs0kwjztiq96dl0.jpeg"></div><br><p><br>  - рдХреЗрдЯрд▓реНрд╕, рддрд░рд╛рдЬреВ, рдЦрд┐рд▓реМрдиреЗ, рдкреНрд░рдХрд╛рд╢ рдмрд▓реНрдм, рдХреЙрдлреА рдорд╢реАрди ... рдмреНрд▓реВрдЯреВрде рдореЙрдбреНрдпреВрд▓ рдЗрди рдФрд░ рдЕрдиреНрдп рдЙрдкрдХрд░рдгреЛрдВ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рд╣реЛрддреЗ рд╣реИрдВред <br>  - рдХреНрдпреЛрдВ? <br>  - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдкрдиреЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрдорд░реЗ рдореЗрдВ рдкреНрд░рдХрд╛рд╢ рд╡реНрдпрд╡рд╕реНрдерд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░реЗрдВред <br>  - рдУрд╣, рдХреНрдпрд╛ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХреБрдЫ рд╕рд░рд▓ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЗрдХрдЯреНрдард╛ рдХрд░рдирд╛ рдФрд░ рдЗрд╕реЗ рд╕реАрдзреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ? <br>  - рд╣рд╛рдБ!  рдФрд░ рдпрд╣ рд▓реЗрдЦ рдмрд╕ рдЙрд╕реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИред </p><a name="habracut"></a><br><h2 id="nemnogo-teorii">  рд╕рд┐рджреНрдзрд╛рдВрдд рдХреА рдмрд┐рдЯ </h2><br><p>  рдпрд╣рд╛рдБ рдореИрдВ рдХреБрдЫ рдмреБрдирд┐рдпрд╛рджреА рд╢рдмреНрдж рджреВрдВрдЧрд╛ рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдореЗрдВ рдЬреАрд╡рди рдореЗрдВ рдХрд╛рд░реНрдп рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ (рд╣рдо рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ)ред </p><br><h3 id="bluetooth">  рдмреНрд▓реВрдЯреВрде </h3><br><p>  рдПрдХ рд╡рд╛рдпрд░рд▓реЗрд╕ рд░реЗрдбрд┐рдпреЛ рдорд╛рдирдХ рдЬреЛ рдХрдо рджреВрд░реА рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЬреЛрдбрд╝рддрд╛ рд╣реИред  рд╡реЗрдм рдмреНрд▓реВрдЯреВрде рдПрдкреАрдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЧреНрд░рдВрдерд┐рдпреЛрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдмреНрд▓реВрдЯреВрде v4.0 рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><h3 id="gatt">  рдЧреИрдЯ </h3><br><p>  рдЬреЗрдиреЗрд░рд┐рдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рдПрдХ рдмреНрд▓реВрдЯреВрде рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рд▓рдЧрд╛рддрд╛рд░ рдкреНрд░рд╕рд╛рд░рд┐рдд рдкреЗрдбрд╝ рд╣реИред </p><br><h3 id="servisy">  рд╕реЗрд╡рд╛рдПрдВ </h3><br><p>  рдмреНрд▓реВрдЯреВрде рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдЕрдВрджрд░ рд╕реЗрд╡рд╛рдПрдВ рд╣реИрдВред  рдПрдХ рд╕реЗрд╡рд╛ рдЕрдкрдиреЗ рдЖрдк рдореЗрдВ рдЕрдиреНрдп рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдФрд░ рд╕рдВрдмрдВрдзреЛрдВ рдХрд╛ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрд╡рд╛ рдХрд╛ рдЕрдкрдирд╛ рдпреВрдЖрдИрдбреА рдФрд░ рдирд╛рдо рд╣реЛрддрд╛ рд╣реИред  рдЕрдХреНрд╕рд░, "рдЕрдЬреНрдЮрд╛рдд рд╕реЗрд╡рд╛рдПрдБ" рд╕рд╛рдордиреЗ рдЖрдПрдВрдЧреАред  рдпрд╣ рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдЙрдирдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдорд▓реЗ рдмрдбрд╝реЗ рд╣реИрдВред </p><br><h3 id="harakteristiki">  рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ </h3><br><p>  рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрд╡рд╛ рдХреЗ рдЕрдВрджрд░ рдРрд╕реА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВ рдЬрд┐рдирдореЗрдВ рдЖрдк рдЙрдиреНрд╣реЗрдВ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдирдХреА рд╕рджрд╕реНрдпрддрд╛ рднреА рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред  рдлреАрдЪрд░ рдХрд╛ рдЕрдкрдирд╛ рдпреВрдЖрдИрдбреА рднреА рд╣реИред </p><br><h2 id="zadacha">  рдХрд╛рд░реНрдп </h2><br><p>  рдПрдХ рдХрд╛рд░реНрдп рдХреЗ рд░реВрдк рдореЗрдВ, рдореИрдВрдиреЗ рдПрдХ рд╕рд╛рдЗрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдЪреБрдирд╛ рдЬреЛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ul><li>  рд╡рд┐рднрд┐рдиреНрди рд░рдВрдЧреЛрдВ рдореЗрдВ рдПрд▓ рдИ рдбреА рдХреЛ рд╣рд▓реНрдХрд╛ рдХрд░реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдмрдВрдж рдХрд░реЗрдВред </li><li>  рдПрд▓рдИрдбреА рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд░рдВрдЧреЛрдВ рдореЗрдВ рдЪрдордХрд╛рдПрдВред </li></ul><br><p>  рдФрд░, рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рд╕рдорд╕реНрдпрд╛ рдХреЗ рдмрдпрд╛рди рд╕реЗ рд╕рдордЭ рд╕рдХрддреЗ рд╣реИрдВ, рдЖрдкрдХреЛ рдПрдХ рдмреНрд▓реВрдЯреВрде рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдФрд░ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реАрдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><h2 id="komponenty">  рдШрдЯрдХреЛрдВ </h2><br><p>  рдХрд╛рд░реНрдп рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЖрд╡рд╢реНрдпрдХ рд╕реВрдЪреА рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛: </p><br><ul><li>  Arduinoред </li><li>  рдмреНрд▓реВрдЯреВрде рдореЙрдбреНрдпреВрд▓ v4.0 (рдПрдЪрдПрдо -10 рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ)ред </li><li>  рджреЛ рддреАрди рд░рдВрдЧ рдХреА рдПрд▓.рдИ.рдбреА. </li><li>  рдмреЛрд░реНрдб рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдкред </li><li>  рддрд╛рд░реЛрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛ред </li><li>  рдкреНрд░рддрд┐рд░реЛрдзреЛрдВред </li></ul><br><p>  рдпрд╣ рд╕реВрдЪреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рд╕рдЦреНрдд рдирд╣реАрдВ рд╣реИред  рдореБрдЭреЗ рдпрдХреАрди рд╣реИ рдХрд┐ рдЖрдк Arduino рдХреЛ рдХрд┐рд╕реА рдФрд░ рдЪреАрдЬрд╝ рд╕реЗ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рдЕрд▓рдЧ рдмреНрд▓реВрдЯреВрде рдореЙрдбреНрдпреВрд▓ рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рд▓реЗрдЦ рдЗрди рдШрдЯрдХреЛрдВ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдЧрд╛ред </p><br><h2 id="kak-eto-dolzhno-rabotat">  рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП </h2><br><p>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рд╕рд╛рд░ рдпрд╣ рд╣реИ: рд╣рдо рдмреНрд▓реВрдЯреВрде рдореЙрдбреНрдпреВрд▓ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдХреЛрдб (1 рд╕реЗ 4 рд╕рдорд╛рд╡реЗрд╢реА) рдХреЛ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдпрджрд┐ рдХреЛрдб рдорд╛рдиреНрдп рд╣реИ, рддреЛ рддреАрди рд░рдВрдЧреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдореЗрдВ рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рд░рдВрдЧреЛрдВ (рд▓рд╛рд▓, рд╣рд░реЗ, рдиреАрд▓реЗ) рдХреЗ рд╕рд╛рде рдкрд▓рдХреЗрдВ рдЭрдкрдХрддреА рд╣реИрдВред </p><br><h2 id="prigotovleniya">  рдЦрд╛рдирд╛ рдкрдХрд╛рдиреЗ </h2><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдПрдХ рдХрд╛рдо рдЖрд░реЗрдЦ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдФрд░ рдПрдХ Arduino рд╕реНрдХреЗрдЪ рд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдиреАрдЪреЗ рдореИрдВ рд╕рд░реНрдХрд┐рдЯ (рдЫрд╡рд┐ 1) рджреЗрддрд╛ рд╣реВрдВ рдФрд░ рдореБрдЭреЗ рдорд┐рд▓рд╛ рд╕реНрдХреЗрдЪ рдХреЛрдбред </p><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/yj/xx/hb/yjxxhb2khesa-j8qfodl7tu5f4s.png"></div><br><p>  <em>рдЕрдВрдЬреАрд░ред</em>  <em>1 (рдЕрд╕реЗрдВрдмрд▓реА рдЖрд░реЗрдЦ)</em> <br><br></p><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SoftwareSerial.h&gt; int green_pin = 2; int red_pin = 3; int blue_pin = 4; int BLINK_STEPS = 3; int BLINK_DELAY = 100; SoftwareSerial mySerial(7, 8); // RX, TX void setup() { Serial.begin(9600); mySerial.begin(9600); pinMode(green_pin, OUTPUT); pinMode(red_pin, OUTPUT); pinMode(blue_pin, OUTPUT); } int code; void loop() { if (mySerial.available()) { code = mySerial.read(); shutDownAll(); if (code &gt; 0 &amp;&amp; code &lt; 5) { analogWrite(code, 200); } if (code == 1) { blinked(); } } } void shutDownAll() { analogWrite(green_pin, 0); analogWrite(red_pin, 0); analogWrite(blue_pin, 0); } void blinked() { int steps = 0; while(steps &lt;= BLINK_STEPS) { analogWrite(green_pin, 200); delay(BLINK_DELAY); analogWrite(green_pin, 0); delay(BLINK_DELAY); analogWrite(red_pin, 200); delay(BLINK_DELAY); analogWrite(red_pin, 0); delay(BLINK_DELAY); analogWrite(blue_pin, 200); delay(BLINK_DELAY); analogWrite(blue_pin, 0); delay(BLINK_DELAY); steps += 1; } }</span></span></span></span></code> </pre> <br><h2 id="poslednee-prigotovlenie">  рдЕрдВрддрд┐рдо рдЦрд╛рдирд╛ рдкрдХрд╛рдиреЗ </h2><br><p>  рддреЛ, рд╣рдордиреЗ рд╕реНрдХреЗрдЪ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛, рд╕рд░реНрдХрд┐рдЯ рдХреЛ рдмрд┐рдЬрд▓реА рд╕реЗ рдЬреЛрдбрд╝рд╛ред  рдЖрдЧреЗ рдХреНрдпрд╛ рд╣реИ?  рд╡реЗрдм рдмреНрд▓реВрдЯреВрде рдПрдкреАрдЖрдИ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдирд╛рдо рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рд╣рдо рдХрд┐рд╕ рд╕реЗрд╡рд╛ рддрдХ рдкрд╣реБрдВрдЪрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдЖрдк рдЗрд╕рдХреЗ рд▓рд┐рдП "nRF рдХрдиреЗрдХреНрдЯ" рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╣рдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЪрд╛рд▓реВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдмреНрд▓реВрдЯреВрде рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдПрдХ рд╕реВрдЪреА рджреЗрдЦрддреЗ рд╣реИрдВ (рдЫрд╡рд┐ 2)ред </p><br><div style="text-align:center;"><img height="600" src="https://habrastorage.org/webt/rs/of/xg/rsofxgsudyj7lp3zjd7jridz5qc.jpeg"></div><br><p>  <em>рдЕрдВрдЬреАрд░ред</em>  <em>2 (рдЙрдкрдХрд░рдгреЛрдВ рдХреА рд╕реВрдЪреА рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдорд┐рд▓реА)</em> <br><br>  "CC41-A" рдирд╛рдо рд╡рд╛рд▓рд╛ рдЙрдкрдХрд░рдг рдореЗрд░реА рджрд┐рд▓рдЪрд╕реНрдкреА рд░рдЦрддрд╛ рд╣реИ рдФрд░ рд╡реНрдпрд░реНрде рдирд╣реАрдВред </p><br><p>  рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдЗрд╕рдХреА рд╕реЗрд╡рд╛рдУрдВ рдХреА рдПрдХ рд╕реВрдЪреА рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реЛ рдЬрд╛рддреА рд╣реИ (рдЪрд┐рддреНрд░ 3)ред  рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╣рдореЗрдВ "рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдЬрд╛рдирдХрд╛рд░реА" рдореЗрдВ рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдорд┐рд▓реЗрдЧрд╛, рдЗрд╕рд▓рд┐рдП рд╣рдо рд╕рд╛рд╣рд╕рдкреВрд░реНрд╡рдХ "рдЕрдЬреНрдЮрд╛рдд рд╕реЗрд╡рд╛" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВред </p><br><div style="text-align:center;"><img height="600" src="https://habrastorage.org/webt/xt/qy/5c/xtqy5cgl8wvkvpsmzdklwa32a1g.jpeg"></div><br><p>  <em>рдЕрдВрдЬреАрд░ред</em>  <em>3 (рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗрд╡рд╛рдУрдВ рдХреА рд╕реВрдЪреА)</em> <br><br>  рдиреАрдЪреЗ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ (рдЫрд╡рд┐ 4) рдореЗрдВ, рдЖрдк рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд рдиреЛрдЯрд┐рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рд▓рд┐рдЦрдирд╛ рдФрд░ рдЗрд╕реЗ рдкрдврд╝рдирд╛ред </p><br><p>  рдЬрдм рдореИрдВрдиреЗ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛, рддреЛ рдореИрдВрдиреЗ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ "2" рдорд╛рди рднреЗрдЬрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреАред  рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдореЗрд░реА рдЬреЛрдбрд╝реА рдХреА рдПрд▓рдИрдбреА рд╣рд░реА рд╣реЛрдиреЗ рд▓рдЧреАред  рд▓рдЧрднрдЧ рдПрдХ рд╕рдлрд▓рддрд╛ред  рдЕрдм рд╣рдореЗрдВ рдПрдХ рд╣реА рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдореЛрдмрд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдПрдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред </p><br><div style="text-align:center;"><img height="600" src="https://habrastorage.org/webt/mo/mr/ho/momrhoy4vm-vehhvpg6h9pomrse.jpeg"></div><br><p>  <em>рдЕрдВрдЬреАрд░ред</em>  <em>4 (рдЕрдЬреНрдЮрд╛рдд рд╡рд┐рд╢реЗрд╖рддрд╛)</em> <br><br>  рдЗрд╕ рдХрд╛рд░реНрдп рдХреЛ рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡реЗрджрди рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХреА рд╕реВрдЪреА рдпрд╣рд╛рдВ рджреА рдЧрдИ рд╣реИ: </p><br><ol><li>  рдЙрдкрдХрд░рдг рдХрд╛ рдирд╛рдоред </li><li>  рд╕реЗрд╡рд╛ рдХрд╛ рдпреВ.рдЖрдИ.рдбреА. </li><li>  рдпреВрдЖрдИрдбреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВред </li></ol><br><h2 id="realizaciya-v-web">  рд╡реЗрдм рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди </h2><br><p>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛрдб рд▓рд┐рдЦрдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ, рдиреЛрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдмрд┐рдВрджреБ рд╣реИрдВ: </p><br><ol><li>  рдПрдкреАрдЖрдИ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рд╣реИред </li><li>  рдХреНрд░реЛрдо рдФрд░ рд╕реИрдорд╕рдВрдЧ рдЗрдВрдЯрд░рдиреЗрдЯ рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред </li><li>  HTTPS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </li><li>  рдореИрдВ HTML рдФрд░ CSS рдХреЛрдб рдХрд╛ рдЙрджрд╛рд╣рд░рдг рдирд╣реАрдВ рджреВрдВрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ рд▓реЗрдЦ рдХреЗ рдврд╛рдВрдЪреЗ рдХреЗ рднреАрддрд░ рдХреБрдЫ рднреА рджрд┐рд▓рдЪрд╕реНрдк рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдореИрдВ рд▓реЗрдЦ рдХреЗ рдЕрдВрдд рдореЗрдВ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдФрд░ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд╛ рд▓рд┐рдВрдХ рдЫреЛрдбрд╝ рджреВрдВрдЧрд╛ред </li></ol><br><h2 id="javascript">  рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ </h2><br><p>  рд╡реЗрдм рдмреНрд▓реВрдЯреВрде рдПрдкреАрдЖрдИ рдХреЗ рд╕рд╛рде рдХрд╛рд░реНрдп рдХрд░рдирд╛ рдкреНрд░реЙрдорд┐рд╕ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдиреАрдЪреЗ рдореИрдВ рдЪрд░рдгрдмрджреНрдз рдХреЛрдб рдЙрджрд╛рд╣рд░рдг рджреВрдВрдЧрд╛ред  рдкреВрд░реНрдг рд╕реНрд░реЛрдд рдХреЛрдб рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рд▓рд┐рдВрдХ рдЫреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  рдкрд╣рд▓реЗ рд╣рдореЗрдВ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╣рдо рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдлрд╝рд┐рд▓реНрдЯрд░ рдореЗрдВ рд╣рдо рдбрд┐рд╡рд╛рдЗрд╕ рдирд╛рдо рдФрд░ рд╕реЗрд╡рд╛ рдпреВрдЖрдИрдбреА рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рд╣рдо рдХрд╛рдо рдХрд░реЗрдВрдЧреЗред  рдпрджрд┐ рдЖрдк рд╕реЗрд╡рд╛ рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЗрд╕рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред </p><br><pre> <code class="javascript hljs">navigator.bluetooth.requestDevice({ <span class="hljs-attr"><span class="hljs-attr">filters</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: MY_BLUETOOTH_NAME }, { <span class="hljs-attr"><span class="hljs-attr">services</span></span>: [SEND_SERVICE] }, ] })</code> </pre> <br><p>  "рдХрдиреЗрдХреНрдЯ" рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдПрдХ рд╡рд┐рдВрдбреЛ рдЦреБрд▓реЗрдЧреА (рдЪрд┐рддреНрд░ 5), рдЬрд┐рд╕рдореЗрдВ рдЖрдкрдХреЛ рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдХрдиреЗрдХреНрдЯ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </p><br><div style="text-align:center;"><img height="400" src="https://habrastorage.org/webt/qu/ws/zc/quwszczbtzekphhkccgqzebbyx0.png"></div><br><p>  <em>рдЕрдВрдЬреАрд░ред</em>  <em>5 (рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рд╕реБрд▓рдн рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд╕рд╛рде рд╡рд┐рдВрдбреЛ)</em> <br><br>  рдХрдиреЗрдХреНрдЯ рд╣реЛрдиреЗ рдкрд░, "рдбрд┐рд╡рд╛рдЗрд╕" рд╡рд╛рд▓рд╛ рдПрдХ рд╡рд╛рджрд╛ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдЖрдк рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдареАрдХ рд╣реИ, рдЪрд▓реЛ рдЗрд╕реЗ рдПрдХ рдЪрд░ рдореЗрдВ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рддреЗ рд╣реИрдВред </p><br><pre> <code class="javascript hljs">.then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">device</span></span></span><span class="hljs-function"> =&gt;</span></span> { myDevice = device; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> device.gatt.connect(); })</code> </pre> <br><p>  рдЙрд╕рдХреЗ рдмрд╛рдж, "рд╕рд░реНрд╡рд░" рд╡рд╛рд▓рд╛ рдПрдХ рдкреНрд░реЙрдорд┐рд╕ рд╣рдореЗрдВ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдлрд┐рд░ рд╣рдо "рд╕рд░реНрд╡рд░" рд╕реЗ "рд╕реЗрд╡рд╛" рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рддреЗ рд╣реИрдВ, рд╡рд╣рд╛рдВ рд╕реЗрд╡рд╛ рдпреВрдЖрдИрдбреА (рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдЖрд╡реЗрджрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛рд╕реВрд╕реА рдХреА рд╣реИ) рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред  рддрдм рд╣рдореЗрдВ рдПрдХ рд╡рд╛рджрд╛ рдорд┐рд▓рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ "рд╕реЗрд╡рд╛" рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рд╣рдо "рд╡рд┐рд╢реЗрд╖рддрд╛" рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдпреВрдЖрдИрдбреА рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ (рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдЖрд╡реЗрджрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджреЗрдЦрд╛ рднреА рд╣реИ)ред </p><br><pre> <code class="javascript hljs">.then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">server</span></span></span><span class="hljs-function"> =&gt;</span></span> server.getPrimaryService(SEND_SERVICE)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">service</span></span></span><span class="hljs-function"> =&gt;</span></span> service.getCharacteristic(SEND_SERVICE_CHARACTERISTIC))</code> </pre> <br><p>  рдФрд░ рдХреЗрд╡рд▓ рдЕрдм рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреБрдЫ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореИрдВ рдПрдХ рдЪрд░ рдореЗрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рдмрдЯрди рдХреНрд▓рд┐рдХ рд╣реИрдВрдбрд▓рд░ рд▓рдЯрдХрд╛рддрд╛ рд╣реВрдВред  рдЙрдирдХреА рдбреЗрдЯрд╛ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдореЗрдВ рдЙрдирдХреЗ рдкрд╛рд╕ рдПрдХ рдХреЛрдб рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рд▓рд┐рдЦрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  рдмрдЯрди рдХреНрд▓рд┐рдХ рд╣реИрдВрдбрд▓рд░ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рд╣реЛрддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> code = <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>(event.target.dataset.code); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (code === <span class="hljs-number"><span class="hljs-number">1</span></span>) { toggleLigthCharacteristic.writeValue(<span class="hljs-built_in"><span class="hljs-built_in">Uint8Array</span></span>.of(code)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } toggleLigthCharacteristic.readValue() .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">currentCode</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> convertedCode = currentCode.getUint8(<span class="hljs-number"><span class="hljs-number">0</span></span>); toggleLigthCharacteristic.writeValue( <span class="hljs-built_in"><span class="hljs-built_in">Uint8Array</span></span>.of(convertedCode === code ? <span class="hljs-number"><span class="hljs-number">0</span></span> : code) ); });</code> </pre> <br><p>  рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ uint8 рд╕рд░рдгреА рдХреЛ рдкрд╛рд╕ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП, рдЬреЛ рдХреЛрдб рдЗрд╕реЗ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЙрд╕реЗ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ Uint8Array рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдпреЛрдЬрдирд╛ рдмрдирд╛рдИ рдЧрдИ рд╣реИ, рдХреЛрдб 1 рдПрд▓рдИрдбреА рдХреЛ рддреАрди рд░рдВрдЧреЛрдВ рдореЗрдВ рдлреНрд▓реИрд╢ рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдПрд▓рдИрдбреА рдХреЛ рдХреИрд╕реЗ рдмрдВрдж рдХрд░реЗрдВ рдпрджрд┐ рдХреЛрдб 3 рдХреЛ рдкреНрд░реЗрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдПрд▓рдИрдбреА рдЕрднреА рднреА рдЪрд╛рд▓реВ рд╣реИ?  рдпрд╛ рдПрдХ рдЕрд▓рдЧ рд░рдВрдЧ рдЪрд╛рд▓реВ рдХрд░реЗрдВ? </p><br><p>  рдореИрдВ рдЙрд╕ рдореВрд▓реНрдп рдХреЛ рдкрдврд╝рддрд╛ рд╣реВрдВ рдЬреЛ рд╡рд┐рд╢реЗрд╖рддрд╛ рдореЗрдВ рдирд┐рд╣рд┐рдд рд╣реИ, рдЗрд╕реЗ getUint8 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВ рдФрд░, рдпрджрд┐ рдХреЛрдб рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ, рддреЛ рдХреЛрдИ рднреА рдЕрдорд╛рдиреНрдп рдорд╛рди рднреЗрдЬреЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 0)ред  рдпрджрд┐ рдорд╛рди рдорд╛рдиреНрдп рд╣реИ, рддреЛ рдореИрдВ рдЗрд╕реЗ рд╕рд░рдгреА рдпреВрдирд┐рдЯ 8 рдореЗрдВ рдмрджрд▓ рджреВрдВрдЧрд╛ рдФрд░ рдЗрд╕реЗ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рд▓рд┐рдЦреВрдВрдЧрд╛ред </p><br><p>  рдХрд╛рд░реНрдп рдХреЗ рдЕрдВрддрд┐рдо рд╕рдорд╛рдзрд╛рди рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдмрд╕ рдпрд╣ рд╕реАрдЦрдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдХреИрд╕реЗ рдХрд░реЗрдВред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА "рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ" рдмрдЯрди рдкрд░ рдПрдХ рдЗрд╡реЗрдВрдЯрд▓рд┐рд╕реНрдЯ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдбрд┐рд╡рд╛рдЗрд╕ рдмреНрд▓реВрдЯреВрде рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╡реЗрдВрдЯрд▓рд┐рд╕реНрдЯ рд╣рдЯрд╛ рджрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдирд┐рдпрдВрддреНрд░рдг рдмрдЯрди рдЫрд┐рдкрд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдЕрдкрд░рд┐рднрд╛рд╖рд┐рдд рдХреЛ рдЪрд░ рдореЗрдВ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><pre> <code class="javascript hljs">myDevice.gatt.disconnect(); toggleItemsEventListeners(<span class="hljs-string"><span class="hljs-string">'removeEventListener'</span></span>); toggleButtonsVisible(); toggleLigthCharacteristic = <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>; myDevice = <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>;</code> </pre> <br><h2 id="itog">  рдкрд░рд┐рдгрд╛рдо </h2><br><p>  рд╣рдордиреЗ рдПрдХ рд╕рд░рд▓ рд╡реЗрдм рдкреЗрдЬ рдмрдирд╛рдпрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЖрдк рдмреНрд▓реВрдЯреВрде рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдФрд░ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╣ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред  рдФрд░ рдРрд╕реЗ рдЙрдкрдХрд░рдг рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдЗрдХрдЯреНрдард╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рд╡реЗ рдХреЗрд╡рд▓ рдЖрдкрдХреА рдХрд▓реНрдкрдирд╛ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реИрдВ! </p><br><h2 id="poleznye-ssylki">  рдЙрдкрдпреЛрдЧреА рд▓рд┐рдВрдХ </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рдЖрд╡реЗрджрди рдХреЗ рд╕рд╛рде рднрдВрдбрд╛рд░</a> </li><li>  <a href="">рдПрдХ рдХрд╛рдо рдХрд░ рдЖрд╡реЗрджрди рдХреЗ рд╕рд╛рде рд╡реАрдбрд┐рдпреЛ</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Google рдбреЗрд╡рд▓рдкрд░реНрд╕ рдЖрд▓реЗрдЦ</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реЗрдм рдмреНрд▓реВрдЯреВрде рдХрдореНрдпреБрдирд┐рдЯреА рдЧреНрд░реБрдк рд╕реНрдкреЗрд╕рд┐рдлрд┐рдХреЗрд╢рди</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреИрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд╛рджрд┐рдо рдореЗрдХрд╡ рдХреА рд░рд┐рдкреЛрд░реНрдЯ "I рдФрд░ IoT"</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реЗрдм рдмреНрд▓реВрдЯреВрде рдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдкрд░ рдореИрдВ</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi416579/">https://habr.com/ru/post/hi416579/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi416565/index.html">рдЕрдореЗрдЬрд╝реЕрди рд▓рдВрдмрд░рдпрд╛рд░реНрдб: рдЖрддреНрдорд╛ рдХрд╛ рд░реЛрдирд╛</a></li>
<li><a href="../hi416569/index.html">рдкреНрд░рд┐рдпрд╕ рдХреА рддрд░рд╣, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рд▓рд┐рдирдХреНрд╕ рдкрд░: рд╣рд╛рдЗрдмреНрд░рд┐рдб рдСрдлрд┐рд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрдирд╛</a></li>
<li><a href="../hi416573/index.html">рдХрд┐рд╕реА рднреА рдкрддреЗ рд╕реЗ рдИ-рдореЗрд▓ рднреЗрдЬрдирд╛</a></li>
<li><a href="../hi416575/index.html">рд╕рд░реНрди рдореЗрдВ рд▓рд╛рд░реНрдЬ рд╣реИрдбреНрд░реЛрди рдХреЛрд▓рд╛рдЗрдбрд░ рдореИрдЧреНрдиреЗрдЯ рдХреЗ рд╕реБрдкрд░рдХрдВрдбрдХреНрдЯрд┐рд╡рд┐рдЯреА рдбрд┐рд╕рдмреИрд▓реЗрдВрд╕ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi416577/index.html">рдбрд╛рдЗрдЬреЗрд╕реНрдЯ рдПрдордмреАрдПрд▓рдЯреА рдбреАрдИрд╡реА - рдЖрдИрдУрдПрд╕ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рддрд╛рдЬрд╛</a></li>
<li><a href="../hi416581/index.html">рддреАрд╕рд░реЗ рдХреНрд░рдо рдХреЗ рдЯреЗрдореНрдкреНрд▓реЗрдЯ, рдпрд╛ рдореИрдВрдиреЗ рдЬрд┐рдиреНрдЬрд╛ 2 рдХреЛ C ++ рдореЗрдВ рдХреИрд╕реЗ рдкреЛрд░реНрдЯ рдХрд┐рдпрд╛</a></li>
<li><a href="../hi416583/index.html">рдХреМрди рд╕рд╛ 3D рд╕реНрдХреИрдирд░ рдЦрд░реАрджреЗрдВ? 3Dtool рд╕реЗ 2018 рдХреЗ рд╢реАрд░реНрд╖ 5 рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда 3 рдбреА рд╕реНрдХреИрдирд░</a></li>
<li><a href="../hi416585/index.html">рдХрд╕реНрдЯрдо рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд▓рд┐рдП рдХреНрд░реЙрд╕-рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╡реЗрдм рдПрдХреНрд╕рдЯреЗрдВрд╢рди рднрд╛рдЧ 3</a></li>
<li><a href="../hi416587/index.html">рд╕рдмрд╡реВрдлрд╝рд░реНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рд╢рдмреНрдж рдФрд░ рд╡реЗ рд▓рдЧрднрдЧ рд╕рднреА рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдХреНрдпреЛрдВ рд╣реИрдВ</a></li>
<li><a href="../hi416589/index.html">рдбреЗрдб рд╕реЗрд▓реНрд╕: 2 рдбреА рдПрдирд┐рдореЗрд╢рди рдХреЗ рд▓рд┐рдП 3 рдбреА рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>