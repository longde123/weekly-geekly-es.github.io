<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍻 🤣 🥓 Ich bin Fotograf und werde mich selbst zum Arbeitsgerät machen 👨🏿‍🤝‍👨🏾 🤸🏿 🏹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die "Chinesen" machen sehr coole Sachen, auch auf dem Gebiet der Geräte für Fotografen. In den letzten 10 Jahren wurde die Qualität stark verschärft, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ich bin Fotograf und werde mich selbst zum Arbeitsgerät machen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484506/"> Die "Chinesen" machen sehr coole Sachen, auch auf dem Gebiet der Geräte für Fotografen.  In den letzten 10 Jahren wurde die Qualität stark verschärft, sie begannen, ihre eigenen einzigartigen Produkte zu entwickeln, die um ein Haar höher sind als die von "namhaften Herstellern".  Aber aus irgendeinem Grund hat fast jedes Produkt mindestens ein, aber ein riesiges Fettminus.  Es scheint, dass die Entwickler der Elektronik zu Recht in die Mode gekommen sind: "Fliege in der Salbe - mindestens 200 Gramm." <br><br>  Vor nicht allzu langer Zeit habe ich mich entschlossen, mich mit konstantem Licht zu beschäftigen, und mir ein paar „Leuchtstäbe“ gekauft, yongnuo yn-360.  Die Sticks erwiesen sich als einfach magisch, aber natürlich gab es ein fettes Minus - die Android-Anwendung für die Fernbedienung erwies sich als praktisch nicht funktionsfähig.  Neben den kleinen Nachteilen der Anwendung ist die Unfähigkeit, mehrere Geräte gleichzeitig zu steuern, die Hauptursache.  Dieses Minus machte die Steuerfunktion unbrauchbar, da ich immer noch von Stab zu Stab rennen und das Licht manuell einstellen musste. <br><br>  Ich hatte Erfahrung in der Programmierung, so dass die Situation für mehrere Abende korrigiert wurde. <br><br><img src="https://habrastorage.org/webt/hv/gu/hs/hvguhssym-nj5mamtnukvyf8vty.jpeg" alt="Bild"><br><a name="habracut"></a><br><h3>  Ein Entwicklungswerkzeug auswählen </h3><br>  Ich bin kein professioneller Entwickler - Programmieren ist mein Hobby und daher bin ich nicht bereit, viel Zeit mit dem Studieren von Technologie zu verbringen.  Es ist passiert, dass meine Lieblings-Python-Sprache, aber für die mobile Entwicklung, es nicht sehr gut passt.  Natürlich gibt es so wundervolle Projekte wie Kivy, aber es gibt wirklich nicht genug "Batterien", an die ich in Python (und dann in JavaScript) so gewöhnt bin.  Infolgedessen fiel die Wahl auf JS mit Apache Cordova, für das ich bereits ein Projekt durchgeführt habe (übrigens, es hängt ein bisschen mit meiner Arbeit zusammen - mit dieser Anwendung habe ich meinen Quadcopter-DJI-Funken „gepumpt“, der von Marketingfachleuten zum <a href="https://pikabu.ru/story/dron_dji_spark__zhertva_marketologov_pobezhdaem_5917118">Lesen hier</a> abgeschnitten wurde).  Von den Vorteilen der Entwicklung auf Cordova ist die Geschwindigkeit und Leichtigkeit der Entwicklung sowie das Vorhandensein von "Batterien". <br><br><h3>  Wie funktioniert das? </h3><br>  Es ist nicht schwer zu erraten, wie diese Sticks mit einem Smartphone funktionieren - es ist Bluetooth LE.  Ich hatte das Glück, dass diese Frage schon jemanden verwirrte und ich fand in wenigen Minuten <a href="https://github.com/kenkeiter/lantern">ein Python-Projekt,</a> in dem ich das Stick-Operations-Protokoll ausspionieren konnte.  Es stellte sich heraus, dass es überhaupt nicht kompliziert war.  Um mit ble zu arbeiten, fand cordova das Plug-in <a href="https://github.com/evothings/cordova-ble">ble</a> und es dauerte genau einen Abend, um einen funktionierenden Prototyp zu schreiben. <br><br>  Alles beginnt mit dem Scannen von Bluetooth LE-Geräten.  Um jedoch das Unnötige von der Suche auszuschließen (und es gab eine Menge davon), können Sie scannen, indem Sie die UUID des gewünschten Dienstes festlegen.  Als nächstes verbinden Sie sich mit ihm und erhalten den Service und die Eigenschaften.  Die UUID des gewünschten Dienstes und der gewünschten Merkmale kann beispielsweise mit der Anwendung BLE Scanner ermittelt werden. <br><br>  All dies führt zu einem einfachen Stück Code: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> devices_dev={}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> devices=[]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dev_main={}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start_scan</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ evothings.ble.startScan( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">device</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       if (! (device.address in devices_dev)){ //      devices_dev[device.address]=1; //  evothings.ble.connectToDevice( device, function(dev) { //  "" var service = evothings.ble.getService(dev, 'f000aa60-0451-4000-b000-000000000000'); //    var characteristic = evothings.ble.getCharacteristic(service, 'f000aa61-0451-4000-b000-000000000000'); //     .      . dev_main[dev.name]=[dev,characteristic]; devices.push(dev.name); } }, function(error) { console.log(error); }, //   UUID ,   . { serviceUUIDs: ['f000aa60-0451-4000-b000-000000000000'] } ) }</span></span></code> </pre> <br>  Nach dem gleichen Prinzip können Sie sich übrigens mit anderen BLE-Geräten verbinden.  Ich habe mir eine intelligente Xiaomi-Waage gegönnt, mit der ich zunehmen kann.  Ich war auch in der Lage, einen intelligenten Kessel von Redmond einzuschalten (sowie die aktuelle Temperatur herauszufinden). <br><br>  Danach müssen nur noch Informationen über die Farbe oder Helligkeit des Lichts gesendet werden.  Es gibt verschiedene Arten von LEDs in diesen Sticks: kalte 5500k-, warme 3200k- und RGB-Dioden.  Es ist so eingestellt, dass Sie entweder die Helligkeit kalt und warm (0-99%) einstellen oder die RGB-Dioden einschalten können. <br>  Wenn Sie die Helligkeit von kalten oder warmen Dioden einstellen müssen, senden wir die folgende Sequenz: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> white=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  5500  0-99 var yellow= 50; // 3200  0-99 var data= new Uint8Array([0xAE,0xAA,0x01,white,yellow,0x56]);</span></span></code> </pre><br>  Wenn gefärbt: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> RR=<span class="hljs-number"><span class="hljs-number">255</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   0-255 var GG=0; //   0-255 var BB=; //   0-255 var data=new Uint8Array([0xAE,0xA1,RR,GG,BB,0x56]);</span></span></code> </pre><br>  Die Sendefunktion selbst sieht folgendermaßen aus: <br><br><pre> <code class="javascript hljs">evothings.ble.writeCharacteristic( dev, characteristic, data, <span class="hljs-comment"><span class="hljs-comment">// Buffer view with data to write function() { console.log('done!'); }, function(errorCode) { console.log('writeCharacteristic error: ' + errorCode); });</span></span></code> </pre><br>  Bei der weiteren Bearbeitung der Anwendung hat der Stick einen lästigen Fehler gefunden, dessen Erkennung viel Zeit in Anspruch nahm: Wenn Sie beispielsweise „Weiß 50%“ senden, dann „Rot einschalten“ und dann erneut „Weiß 50%“, dann den letzten Befehl Der Stick reagiert nicht mehr.  Ich musste für solche Fälle eine Krücke einsetzen und für das letzte Team einer solchen Sequenz zufällig plus / minus 1% senden. <br><br><h3>  Benutzeroberfläche und "Chips" </h3><br>  Da Sie mit dem Standard-HTML + JS + CSS-Stack arbeiten müssen, stehen Ihnen viele fertige Entwicklungen zur Verfügung.  <a href="https://materializecss.com/">Materialise CSS</a> wurde für die Benutzeroberfläche ausgewählt, und <a href="https://iro.js.org/">iro.js</a> wurde als Hauptkomponente der Benutzeroberfläche ausgewählt. <br><br>  Beim Testen der Anwendung ist ein Merkmal separater RGB-Dioden herausgekommen - eine schreckliche Farbmischung.  Wenn Sie Rot mindestens 1% einer anderen Farbe hinzufügen, kommt es zu einem merkwürdigen Farbfehler.  Die Wahl der Farbe wird in der Regel (einschließlich der offiziellen App) durch den „Farbkreis“ -Standard für solche Dinge umgesetzt, bei denen es sehr schwierig ist, an „reines Rot“ usw. zu gelangen.  Ich musste die kanalweise Steuerung von Gruppen von Farbdioden implementieren. <br><br>  Nun, es wurden auch einige Chips hergestellt, die bei der Arbeit helfen.  Zum Beispiel Sticks umbenennen.  Sie müssen die Seriennummern nicht im Kopf behalten und herausfinden, welche im Hintergrund steht. Sie können einfach die Namen "Zurück", "Links" usw. eingeben.  Nun, es gab einige Voreinstellungen, bei denen Sie das Licht schnell auf eine vorgegebene umstellen mussten. <br><br><img src="https://habrastorage.org/webt/5j/co/zt/5jcoztsqdotrggryfpusnisodhk.png" alt="Bild"><br><br>  Bei der Kommunikation mit einem Kollegen stellte sich heraus, dass diese Sticks nicht bei Fotografen, sondern bei Menschen, die Videos drehen, beliebter sind.  Und als er von mir hörte, dass ich eine Anwendung für deren Verwaltung erstellt habe, schrieb er, dass diese Anwendung, wenn Sie eine Funktion implementieren, Budgetsticks in ein Analogon eines Modells eines anderen Herstellers verwandelt, das das Fünffache kostet. <br><br><h3>  "Animation" </h3><br>  Für Videoaufnahmen benötigen Sie manchmal alle möglichen Lichteffekte, z. B. das „Licht“ eines Polizeiautos im Hintergrund usw.  Wenn die Anwendung das Licht "manuell" steuern kann, warum dann nicht die "Animation" implementieren?  Am Anfang hatte ich die Idee, 10 bis 20 verschiedene Animationen zu nähen, aber ich war zu faul, um mich darauf zu setzen. Nachdem ich zwei weitere Abende verbracht hatte, erstellte ich einen einfachen webbasierten Animationseditor.  Darüber hinaus können Sie bis zu 10 Kanäle bearbeiten und diese dann in der Anwendung auf die Sticks verteilen. <br><br><img src="https://habrastorage.org/webt/9a/3l/pz/9a3lpzeciek33les2l_7paf6bqs.png" alt="Bild"><br><br>  Der einzige Nachteil dieser Stöcke im Vergleich zu teureren Gegenstücken war die recht langsame Arbeit.  Vom Senden eines Befehls bis zum Umschalten der Farben werden 300 bis 400 Millisekunden erreicht, sodass Sie bei höheren Geschwindigkeiten keinen stabileren Betrieb erzielen können. <br><br><h3>  Total </h3><br>  Infolgedessen wurde über den Abend eine <a href="https://play.google.com/store/apps/details%3Fid%3Dru.zalomskij.yn_light">fertige Bewerbung</a> geschrieben und <a href="https://play.google.com/store/apps/details%3Fid%3Dru.zalomskij.yn_light">veröffentlicht</a> , die meiner Meinung nach die „offizielle“ <a href="https://play.google.com/store/apps/details%3Fid%3Dru.zalomskij.yn_light">Bewerbung</a> eines bekannten Herstellers übertrifft.  Wie es funktioniert, zeigte dieses Video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XK4WXWhlmak" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  PS Dies ist nicht mein erster Artikel darüber, wie das Programmieren bei Arbeiten hilft, die nichts mit dem Programmieren zu tun haben.  Lesen Sie zu diesem Thema: <br><br>  <a href="https://habr.com/ru/post/216039/">Überwinde WiFi.</a>  <a href="https://habr.com/ru/post/216039/">Wir schreiben den Shoot &amp; View-Client für Windows, Mac und Linux</a> . <br>  <a href="https://habr.com/ru/post/275595/">Linux in der Tasche - im Dienste des Fotografen</a> <br>  <a href="https://habr.com/ru/post/279785/">Herstellung eines Standalone-Fotoautomaten auf Himbeer-Pi</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484506/">https://habr.com/ru/post/de484506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484496/index.html">Verwendung von Cura auf einem Photon 3D SLA-Drucker</a></li>
<li><a href="../de484498/index.html">KI-System warnt Fußgänger im Kopfhörer vor einem herannahenden Auto</a></li>
<li><a href="../de484500/index.html">Skript zum Hinzufügen von Servern aus Google Cloud zur Konfiguration von ssh</a></li>
<li><a href="../de484502/index.html">Facebook zwingt die Moderatoren, sekundengenau ihre Arbeitszeiten zu dokumentieren - sogar auf die Toilette zu gehen</a></li>
<li><a href="../de484504/index.html">Herstellung eines Luftionisators für weniger als 10 US-Dollar</a></li>
<li><a href="../de484512/index.html">TOP 25 der größten ICOs: Was ist jetzt mit ihnen los?</a></li>
<li><a href="../de484514/index.html">Universelles Routing für reaktive Anwendungen</a></li>
<li><a href="../de484518/index.html">Wir bekommen das Video von der Kamera via DVRIP mit PHP</a></li>
<li><a href="../de484520/index.html">Wie das Zip-Archiv aussieht und was wir damit machen können. Teil 3 - Praktische Anwendung</a></li>
<li><a href="../de484522/index.html">DEFCON-Konferenz 27. Hacken Sie die Polizei. Teil 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>