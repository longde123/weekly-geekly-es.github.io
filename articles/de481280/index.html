<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👩🏾 ☪️ 🔋 Wie wir die Qualifizierungsphase von CTFZone-2020 vorbereitet haben 👨🏽‍🌾 🧖🏾 🎏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vom 30. November bis 1. Dezember wurde die Qualifikationsphase des CTFZone- Turniers abgeschlossen, an dem 1043 Teams aus der ganzen Welt teilnahmen. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir die Qualifizierungsphase von CTFZone-2020 vorbereitet haben</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bizone/blog/481280/"><p>  <a href="https://ctf.bi.zone/">Vom</a> 30. November bis 1. Dezember wurde die Qualifikationsphase des <a href="https://ctf.bi.zone/">CTFZone-</a> Turniers abgeschlossen, an dem 1043 Teams aus der ganzen Welt teilnahmen.  Nach unseren Angaben wurden Probleme sogar in Simbabwe (26 eindeutige IPs) gelöst.  Tiefer graben, war es ein Universitäts-Team aus der Stadt Bulawayo. </p><br><p>  In diesem Jahr wurde CTFZone zur Qualifikationsrunde der <a href="https://www.oooverflow.io/dc-ctf-2020-quals/">DEF CON CTF</a> . Das Team, das das Finale gewinnt (es findet vom <a href="https://offzone.moscow/ru/">16.</a> bis 17. April 2020 auf der <a href="https://offzone.moscow/ru/">OFFZONE</a> statt), wird zum Turnier nach Las Vegas <a href="https://offzone.moscow/ru/">reisen</a> .  Damit die Glücklichen Zeit haben, ein Visum zu bekommen, wurden die Konferenzdaten sogar auf einen früheren Zeitpunkt verschoben. </p><br><p>  DEF CON CTF ist für viele Teams der älteste und angesehenste Sicherheitswettbewerb.  Den Gewinnern wird kein Palmenzweig geschenkt, aber auch ohne geht alles gut.  Derzeit gibt es weltweit nur 6 Turniere, bei denen Sie sich für die DEF CON CTF qualifizieren können. </p><br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/iy/2x/xtiy2x-ewxvtrylyhnclq6rfiku.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i_/de/cm/i_decmpgdkn4esd5c8dfjoe12zs.png"></div><br>  <i>Geographie der Teilnehmer CTFZone</i> <br><br><h2>  Über das Konzept </h2><br><p> In der internationalen CTF-Bewegung haben sich Teams aus verschiedenen Regionen auf bestimmte Bereiche spezialisiert.  In der Vergangenheit können Russen beispielsweise das Internet besser lösen, während asiatische und amerikanische Teams bei PWN stärker sind.  Auf derselben DEF CON sind fast alle Tasks Binärdateien.  Vielleicht ist das der Grund, warum amerikanische und asiatische Teams in letzter Zeit dort bessere Leistungen erbracht haben.  Wir bei CTFZone versuchen zu zeigen, dass CTF nicht nur PWN ist, sondern auch viele andere interessante Kategorien: Web, Kryptographie, Reverse, OSINT, Forensik, PPC. </p><br><h3>  <u>Web</u> </h3><br><p>  In webbasierten Aufgaben versuchten Autoren - Experten für Penetrationstests während der Arbeitszeit - Schwachstellen aus realen Projekten zu übertragen.  In der <b>Web-Shop-</b> Aufgabe haben wir beispielsweise die beliebte Bibliothek python-markdown2 verwendet, in der unser Experte einige Wochen vor dem Wettbewerb eine Zero-Day-Sicherheitslücke gefunden hat, um den XSS-Filter zu umgehen.  Während der CTF hat jedoch jedes der vier Entscheidungsteams eine eigene Version dieser Sicherheitsanfälligkeit gefunden, die uns über die Qualität der Filterung in der Bibliothek nachdenken lässt. </p><br><p>  Für den <b>Web-Card-</b> Auftrag haben wir die Zero-Day-Sicherheitsanfälligkeit in der Standard-Java-XML-Validierungsklasse verwendet.  Dies wurde beim Testen einer echten Webanwendungsfirewall festgestellt. Daher haben wir die Teilnehmer aufgefordert, WAF zu umgehen, das wir speziell für diese Aufgabe entwickelt haben.  Die detaillierte Version des Wrightups wird später veröffentlicht. </p><br><p>  Nun, die <b>EmeraldRush-</b> Aufgabe hat gezeigt, wie GitLab und Github im letzten Jahr geworden sind - die mit Ruby verbundenen Schwachstellen, auf die beide geschrieben sind.  Eine davon basiert auf CVE-2018-18649 (es gibt jedoch keinen Open-Access-Exploit dafür), die zweite wurde kürzlich entdeckt und auf der HackerOne-Plattform veröffentlicht (eine Beschreibung finden Sie im <a href="https://blog.teddykatz.com/2019/11/05/github-oauth-bypass.html">Artikel</a> ).  Natürlich wurden die Entwickler vor dem Wettbewerb über diese und alle anderen Sicherheitslücken im Internet in Übereinstimmung mit den Grundsätzen von Responsible Disclosure informiert. </p><br><h3>  <u>Krypto</u> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bm/88/yk/bm88ykz-uzxelmwibh5blfghnue.jpeg"></div><br><p>  Das Cryptotask-Entwicklungsteam hat sich nicht nur auf die in CTF ständig auftretenden Fehler im Zusammenhang mit der RSA-Implementierung gestützt, sondern auch auf die sensationellen Angriffe der letzten Jahre.  Beispielsweise musste sich die Aufgabe <b>OCB2</b> mit einem Angriff auf das gleichnamige symmetrische Verschlüsselungssystem befassen, für dessen Entdeckung sie auf der Crypto-Konferenz den Best Paper Award verliehen haben. </p><br><p>  Und in der <b>NTRU-</b> Aufgabe war es notwendig, den Angriff auf ein asymmetrisches Gittersystem zu untersuchen.  Sie wurde im September beschrieben, aber den entsprechenden Artikel zu finden und zu lesen, reichte nicht aus.  Der Autor des Problems selbst stieß auf Probleme, als sich herausstellte, dass die Veröffentlichung den günstigsten Fall für die Beschreibung darstellte, der mit den in der endgültigen Aufgabe ausgewählten Parametern nicht funktionierte.  Ich musste den Algorithmus wiederholen!  Es ist interessant, dass einer der Teilnehmer (Alexey Udovenko vom LC / BC-Team) das Problem ohne einen Artikel gelöst hat, nachdem er eine etwas andere Lösungsmethode gefunden hatte, die auf demselben Prinzip basierte. <br><br></p><h3>  <u>Forensik</u> </h3><br><p>  Nun, die schwierigste Kategorie in unserer CTF war die Forensik.  Jeder ist es gewohnt zu glauben, dass solche Aufgaben mit drei Hilfsprogrammen gelöst werden: vor allem Volatilität und Strings.  Aber wir hatten andere Aufgaben - zum Beispiel eine ungewöhnliche <b>In-The-Shadows-</b> Aufgabe, für deren Lösung es notwendig war, sich mit der <a href="https://github.com/libyal/libvshadow/blob/master/documentation/Volume%2520Shadow%2520Snapshot%2520(VSS)%2520format.asciidoc">hier</a> beschriebenen Technik zu befassen.  Einzelheiten werden später auch im Distriktkomitee bekannt gegeben. </p><br><h2>  Über das Training </h2><br><p>  Die direkte Vorbereitung auf die CTFZone-Qualifikationen bestand aus mehreren Hauptphasen (Zusammenstellen eines Projektteams, Entwickeln von Aufgaben, Testen und Bereitstellen der Infrastruktur, Starten einer Rakete in den Weltraum) und vielen Hilfsphasen (Suchen nach Inspiration, Herstellen von Kommunikation, Qualen und Zweifeln, Überwinden der Existenzkrise). </p><br><p>  Drei Monate vor Beginn der Hauptversammlung wurden die Termine - 7. und 8. Dezember - festgelegt.  Das Team kam zu dem Schluss, dass nichts Zeit haben würde, aber dennoch zur Sache ging.  Und sieben Tage später wurden diese unrealistischen Fristen eine Woche früher verschoben, da die ausgewählten Daten und alle folgenden bereits andere CTFs in Anspruch genommen haben.  Es blieb nur noch zu lächeln, die Zähne zusammenzubeißen und mit dreifacher Energie zu arbeiten.  Es gab kein Zurück, Entwicklung des Startanuls. </p><br><br><img src="https://habrastorage.org/webt/bj/pr/j7/bjprj7dhi5vsmc2-4nkohbuzxxm.png"><br><br><p>  Infolgedessen war die Aufgabe mehr als üblich - 30 Stück.  Jede Aufgabe ist einzigartig, lebt aber nicht sehr lange: 3 Monate Vorbereitung und nur 36 Flugstunden.  Aber was!  Die Tasten, die Sie sorgfältig auf der Vorderseite bemalt haben, werden von den weltweit führenden CTF-Mitarbeitern berührt - sie tauchen in Ihre Idee ein und geben Ihnen ein persönliches Feedback.  Dies ist eine großartige Erfahrung und eine Gelegenheit, mit einer großen Community über Ihre Arbeit zu sprechen.  Schließlich hängt oft mit den Schwachstellen, die in den Aufgaben liegen, eine Art Geschichte zusammen.  Einige Aufgaben waren so schwierig, dass niemand sie herausfinden konnte.  Am Ende der Qualifizierung ungelöster Probleme blieben zwei: <b>Popular Forensic</b> und <b>Web-Card</b> . </p><br><h2>  Über die Infrastruktur </h2><br><p>  Die Organisation der Turnierinfrastruktur könnte auf unterschiedliche Weise angegangen werden.  Schneiden Sie beispielsweise auf herkömmliche Weise virtuelle Maschinen für Aufgabenentwickler und gewähren Sie ihnen dort Zugriff.  In dieser Situation wird jeder Entwickler zu einem zufriedenen Administrator des lokalen Hosts, alles funktioniert nach seinen Wünschen und es bleibt nur die Bereitstellung der Netzwerkkonnektivität.  Es ist jedoch klar, dass in diesem Fall von Replikation und Fehlertoleranz keine Rede ist.  Der für unsere Infrastruktur Verantwortliche hat gerade eine der CTFs bei ZeroNights im Jahr 2016 nicht bestanden, und dieses Mal, unterrichtet aus bitterer Erfahrung, hat er beschlossen, die Dinge anders zu machen. </p><br><p>  Wir haben uns lange entschieden, wo wir leben werden, und am Ende haben wir uns entschlossen, uns in der Cloud umzudrehen.  Die Gründe sind klar: Wettbewerbe für Hacker, also ist es besser, Google zu brechen, und es gab bereits vorgefertigte Entwicklungen im Zashnik.  Das Hauptwerkzeug für die Erstellung der Plattform war Terraform, mit dem Sie die Infrastruktur in Form von Code in einem deklarativen Format beschreiben können und alle anderen Gesten erledigen können.  Das heißt, Sie müssen beispielsweise nicht darüber nachdenken, wie Sie die Google-API aufrufen und ihm mitteilen, wie viele und welche virtuellen Maschinen Sie bereitstellen möchten. <br>  Außerdem musste entschieden werden, wie Aufgaben gestartet werden sollen.  Wir hatten großes Glück, dass alle Entwickler bereits Aufgaben in Docker schreiben konnten.  Dies ist ein solcher Hype-Containerizer, mit dem Sie einen Service mit allen Abhängigkeiten in eine isolierte Umgebung packen können, die sich zwischen Neustarts nicht ändert.  Es gibt nicht viele Möglichkeiten, mit Docker zu arbeiten: Dies sind hauptsächlich Orchestratoren wie Compose und k8s.  Um alles schön zu machen, also Wishlist mit Balancing, Repliken, Fehlertoleranz und anderen Unternehmen zu implementieren, lag die Wahl des Orchesters auf der Hand - Kubernetes. </p><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mw/ra/ed/mwraedirnl7haxeqf7fg7yedopk.jpeg"></div><br><p>  Hier gab es jedoch einige Missverständnisse zwischen dem Ersteller der Infrastruktur und den Entwicklern.  Pentester sind eine besondere Kaste in der IT-Welt: Sie ähneln teilweise Administratoren, Netzwerkern und kennen sich mit Datenbanken aus und sind in der Programmierung orientiert.  Im Allgemeinen nicht Menschen, sondern Schweizer Messer.  Sie sind extrem außergewöhnlich und ehrgeizig, aber leider habe ich vergessen, dass Pentester immer noch keine professionellen Admins sind, als beschlossen wurde, Helm für jede Aufgabe zu schreiben.  Dies führte zu einem kleinen Krieg, in dem erklärt werden musste, warum bestimmte Entscheidungen erzwungen und Beschränkungen auferlegt werden. </p><br><p>  Die Jungs hatten keine Erfahrung damit, Helm zu schreiben, aber sie alle wussten, wie man Compose schreibt.  Sie selbst verstehen, dass zwischen dem lokalen Compose und dem Helm-Chart innerhalb weniger Wochen oder sogar Monate nach dem Studium des Materials eine Lücke besteht.  Dies war die erste Glocke, die darauf hinwies, dass es einige Probleme gab (wo wäre CTF ohne sie, besonders wenn das Team und der Administrator fast jedes Mal neu sind). </p><br><p>  Aus Zeitgründen war es nicht möglich, alles zu automatisieren - einige Dinge mussten an die Schultern der Entwickler selbst weitergegeben werden.  Die Pentester mussten in Versammlungen sitzen, wo ihnen gesagt wurde, wie man Helme schreibt, während sie selbst anscheinend diese Entwicklung auf das Licht verfluchten.  Trotz allem ist es uns gelungen - alle Aufgaben wurden in Helmkarten beschrieben und verpackt, die Überwachung wurde in Form von Grafana und Prometheus konfiguriert.  Der Moment der Wahrheit ist gekommen. </p><br><p>  Und hier stellte sich zur Erleichterung aller heraus, dass die resultierende Infrastruktur sehr einfach zu verwalten ist.  Als alles bei Google beschrieben und bereitgestellt wurde, führten wir ein Briefing für die Diensthabenden durch.  Es waren zehn, und alle haben großartige Arbeit geleistet: Sie hoben die Gefallenen auf, sammelten und rollten die korrigierte Version in einen Würfel. </p><br><h2>  Über die Finalisten </h2><br><p>  Infolgedessen wurden 10 Star-Teams für das Finale ausgewählt.  Warum stellar?  Fakt ist, dass 6 von 10 Teams bei CTFtime in den Top Ten der Weltmeisterschaften sind und die restlichen vier etwas hinter den Top Ten liegen, aber auch in den Top Ten. </p><br><p>  Das Hauptmerkmal des Turniers war, dass der heftigste Kampf nicht um einen Platz in den Top Drei, sondern um die zehnte Reihe ging.  Für die Teilnehmer war es wichtig, ins Finale zu kommen, und dort wird die Situation zurückgesetzt, und die Sitzverteilung, die wir aufgrund der Ergebnisse der Qualifikationswettbewerbe vorgenommen haben, kann sich erheblich ändern. </p><br><br><img src="https://habrastorage.org/webt/er/bh/re/erbhrehftsca65fee8fimrrdvrw.png"><br>  <i>CTFZone 2019 Qualifikation Finalisten Endstand</i> <br><br><h2>  Was weiter? </h2><br><p>  Weiter wird es möglich sein, ein wenig auszuatmen, dann wieder tief durchzuatmen und mit den Vorbereitungen für das Finale zu beginnen.  Es wird im Attack / Defense-Format abgehalten, und das ist eine ganz andere Geschichte.  Jemand könnte fragen: Warum ist das alles?  Die Frage ist gut, aber es gibt wahrscheinlich keine logische Antwort darauf.  Es ist nur so, dass es nicht umsonst ist, wenn Sie mindestens 5 Sekunden lang wirklich einen Überblick über das Geschehen haben, sich lebendig fühlen und sehen können, zu welchem ​​Team Sie gehören. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481280/">https://habr.com/ru/post/de481280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481258/index.html">Wir kleben den Rahmen für den Schoner ohne Anmeldung und SMS</a></li>
<li><a href="../de481260/index.html">Untersuchen von Binärformaten am Beispiel des Bytecodes der .class-Datei.</a></li>
<li><a href="../de481264/index.html">Wie viele Personen sehen Ihr Symbol im App Store während der App „App des Tages“?</a></li>
<li><a href="../de481272/index.html">Einfrieren oder Modernisieren - was machen wir im Urlaub?</a></li>
<li><a href="../de481276/index.html">Wie ich mein YP und meinen Compiler für 12 Jahre erstellt habe</a></li>
<li><a href="../de481282/index.html">Was die Idee wert ist und wie man daraus ein Konzept macht: Spiele-Designer-Tools</a></li>
<li><a href="../de481286/index.html">Steig auf den Tisch! Bürokleinigkeiten, die überhaupt keine Kleinigkeiten sind</a></li>
<li><a href="../de481288/index.html">Redux Toolkit als Werkzeug für eine effektive Redux-Entwicklung</a></li>
<li><a href="../de481290/index.html">HOW-to / Network- und VLAN-Einstellungen auf einem dedizierten Hetzner- und Mikrotik-Server</a></li>
<li><a href="../de481294/index.html">Die 10 besten Tools zur Softwaretestautomatisierung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>