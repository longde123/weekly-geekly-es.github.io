<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè• üì• ‚óºÔ∏è Manual de Node.js, Parte 5: npm y npx üßõ üë©üèø‚Äçüíº üì´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy, en la quinta parte de la traducci√≥n del manual de Node.js, completaremos el an√°lisis de las caracter√≠sticas de npm, en particular, abordaremos te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Manual de Node.js, Parte 5: npm y npx</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423705/">  Hoy, en la quinta parte de la traducci√≥n del manual de Node.js, completaremos el an√°lisis de las caracter√≠sticas de npm, en particular, abordaremos temas como encontrar versiones instaladas de paquetes npm, instalar versiones antiguas de paquetes, actualizar dependencias, desinstalaci√≥n local y global de paquetes.  Aqu√≠ hablamos de npx. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[Le aconsejamos que lea] Otras partes del ciclo</b> <div class="spoiler_text">  Parte 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Informaci√≥n general y primeros pasos</a> <br>  Parte 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JavaScript, V8, algunos trucos de desarrollo</a> <br>  Parte 3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Hosting, REPL, trabajar con la consola, m√≥dulos</a> <br>  Parte 4: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">archivos npm, package.json y package-lock.json</a> <br>  Parte 5: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">npm y npx</a> <br>  Parte 6: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bucle de eventos, pila de llamadas, temporizadores</a> <br>  Parte 7: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Programaci√≥n asincr√≥nica</a> <br>  Parte 8: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gu√≠a de Node.js, Parte 8: Protocolos HTTP y WebSocket</a> <br>  Parte 9: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gu√≠a de Node.js, parte 9: trabajar con el sistema de archivos</a> <br>  Parte 10: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gu√≠a de Node.js, Parte 10: M√≥dulos est√°ndar, flujos, bases de datos, NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PDF completo de la gu√≠a Node.js</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Encontrar versiones de paquetes npm instalados</font> </h2><br>  Para conocer las versiones de todos los paquetes npm instalados en la carpeta del proyecto, incluidas sus dependencias, ejecute el siguiente comando: <br><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list</code> </pre> <br>  Como resultado, por ejemplo, puede resultar lo siguiente: <br><br><pre> <code class="hljs mel">&gt; npm list /Users/flavio/dev/node/cowsay ‚îî‚îÄ‚î¨ cowsay@1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ‚îú‚îÄ‚îÄ get-stdin@5<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ‚îú‚îÄ‚î¨ optimist@0<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ‚îÇ ‚îú‚îÄ‚îÄ minimist@0<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span> ‚îÇ ‚îî‚îÄ‚îÄ wordwrap@0<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> ‚îú‚îÄ‚î¨ <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>-width@2<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ‚îÇ ‚îú‚îÄ‚îÄ is-fullwidth-code-point@2<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> ‚îÇ ‚îî‚îÄ‚î¨ <span class="hljs-keyword"><span class="hljs-keyword">strip</span></span>-ansi@4<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> ‚îÇ  ‚îî‚îÄ‚îÄ ansi-regex@3<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> ‚îî‚îÄ‚îÄ <span class="hljs-keyword"><span class="hljs-keyword">strip</span></span>-eof@1<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  Puede averiguar lo mismo mirando el <code>package-lock.json</code> proyecto, pero la estructura de √°rbol que muestra el comando anterior es m√°s conveniente para ver. <br><br>  Para obtener una lista similar de paquetes instalados globalmente, puede usar el siguiente comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list -g</code> </pre> <br>  Solo puede mostrar informaci√≥n sobre paquetes locales de nivel superior (es decir, aquellos que instal√≥ usted mismo y que se enumeran en <code>package.json</code> ) de la siguiente manera: <br><br><pre> <code class="hljs pgsql">npm list <span class="hljs-comment"><span class="hljs-comment">--depth=0</span></span></code> </pre> <br>  Como resultado, si, por ejemplo, instal√≥ solo el paquete cowsay, se mostrar√° lo siguiente: <br><br><pre> <code class="hljs pgsql">&gt; npm list <span class="hljs-comment"><span class="hljs-comment">--depth=0 /Users/flavio/dev/node/cowsay ‚îî‚îÄ‚îÄ cowsay@1.3.1</span></span></code> </pre> <br>  Para averiguar la versi√≥n de un paquete espec√≠fico, use el siguiente comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list cowsay</code> </pre> <br>  Como resultado de su implementaci√≥n, obtenemos aproximadamente lo siguiente: <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; npm list cowsay /Users/flavio/dev/node/cowsay ‚îî‚îÄ‚îÄ cowsay@1.3.1</span></span></code> </pre> <br>  Este comando tambi√©n es adecuado para descubrir las versiones de dependencia de los paquetes que instal√≥.  En este caso, el nombre del paquete de dependencia act√∫a como el nombre del paquete que se le pas√≥ y el resultado del comando se ver√° as√≠: <br><br><pre> <code class="hljs perl">&gt; npm list minimist /Users/flavio/dev/node/cowsay ‚îî‚îÄ‚î¨ cowsay@1.<span class="hljs-number"><span class="hljs-number">3.1</span></span> ‚îî‚îÄ‚î¨ optimist@0.<span class="hljs-number"><span class="hljs-number">6.1</span></span>   ‚îî‚îÄ‚îÄ minimist@0.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">10</span></span></code> </pre> <br>  Se resaltar√° una entrada sobre el paquete de dependencia en esta estructura. <br><br>  Si desea saber cu√°l es el n√∫mero de la √∫ltima versi√≥n de un paquete disponible en el repositorio npm, necesitar√° un comando de la siguiente forma: <br><br><pre> <code class="hljs pgsql">npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> [package_name] <span class="hljs-keyword"><span class="hljs-keyword">version</span></span></code> </pre> <br>  En respuesta, ella emite el n√∫mero de versi√≥n del paquete: <br><br><pre> <code class="hljs pgsql">&gt; npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> cowsay <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">1.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Instalar versiones antiguas de paquetes npm</font> </h2><br>  Puede ser necesario instalar una versi√≥n anterior del paquete npm para resolver problemas de compatibilidad.  Puede instalar la versi√≥n requerida del paquete desde npm usando la siguiente construcci√≥n: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>&gt;@&lt;<span class="hljs-keyword"><span class="hljs-keyword">version</span></span>&gt;</code> </pre> <br>  En el caso del paquete cowsay que estamos utilizando como ejemplo, el comando npm <code>install cowsay</code> instalar√° su √∫ltima versi√≥n (1.3.1 en el momento de escribir este art√≠culo).  Si necesita instalar su versi√≥n 1.2.0, use este comando: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">npm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cowsay</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">1</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">2</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">0</span></span></code> </pre> <br>  Puede especificar versiones instalando paquetes globales: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">npm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-g</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">webpack</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">4</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">16</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">4</span></span></code> </pre> <br>  Si necesita averiguar qu√© versiones de un paquete est√°n disponibles en npm, puede hacerlo con la ayuda de esta construcci√≥n: <br><br><pre> <code class="hljs vhdl">npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>&gt; versions</code> </pre> <br>  Aqu√≠ hay un ejemplo del resultado de su trabajo: <br><br><pre> <code class="hljs pgsql">&gt; npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> cowsay versions [ <span class="hljs-string"><span class="hljs-string">'1.0.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.2.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.2.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.3.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.3.1'</span></span> ]</code> </pre> <br><h2>  <font color="#3AC1EF">Actualizar dependencias del proyecto a sus √∫ltimas versiones</font> </h2><br>  Cuando instala un paquete con un comando del tipo <code>npm install &lt;packagename&gt;</code> , la √∫ltima versi√≥n se descarga del repositorio y se coloca en la carpeta <code>node_modules</code> .  En este caso, las entradas correspondientes se agregan a los <code>package-lock.json</code> <code>package.json</code> y <code>package-lock.json</code> ubicados en la carpeta del proyecto. <br><br>  Adem√°s, al instalar un paquete, npm encuentra e instala sus dependencias. <br><br>  Supongamos que instalamos el conocido paquete cowsay ejecutando el <code>npm install cowsay</code> .  El paquete se instalar√° en la carpeta <code>node_modules</code> del proyecto y la siguiente entrada estar√° en el archivo <code>package.json</code> : <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"cowsay"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.3.1"</span></span> } }</code> </pre> <br>  <code>package-lock.json</code> tambi√©n incluir√° informaci√≥n sobre este paquete.  Aqu√≠ hay un fragmento de ella: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lockfileVersion"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"cowsay"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.1"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"resolved"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://registry.npmjs.org/cowsay/-/cowsay-1.3.1.tgz"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"integrity"</span></span>: <span class="hljs-string"><span class="hljs-string">"sha512-3PVFe6FePVtPj1HTeLin9v8WyLl+VmM1l1H/5P+BTTDkMAjufp+0F9eLjzRnOHzVAYeIYFF5po5NjRrgefnRMQ=="</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: {       <span class="hljs-attr"><span class="hljs-attr">"get-stdin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.0.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"optimist"</span></span>: <span class="hljs-string"><span class="hljs-string">"~0.6.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"string-width"</span></span>: <span class="hljs-string"><span class="hljs-string">"~2.1.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"strip-eof"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.0"</span></span>     }   } } }</code> </pre> <br>  De estos dos archivos puede descubrir que instalamos cowsay versi√≥n 1.3.1 y que la regla de actualizaci√≥n del paquete se especifica como <code>^1.3.1</code> .  En la cuarta parte de esta serie de materiales, ya hemos hablado sobre las reglas de las versiones sem√°nticas.  Recuerde que esta entrada significa que npm puede actualizar el paquete cuando se lanzan sus versiones menores y parches. <br><br>  Si, por ejemplo, sale una nueva versi√≥n menor de un paquete y ejecutamos el comando <code>npm update</code> , la versi√≥n instalada del paquete se actualiza y la informaci√≥n sobre el paquete instalado se actualiza en el archivo <code>package-lock.json</code> , y el archivo <code>package.json</code> permanece sin cambios. <br><br>  Para saber si se han lanzado nuevas versiones de los paquetes utilizados en el proyecto, puede usar el siguiente comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> outdated</code> </pre> <br>  Estos son los resultados de este comando para un proyecto cuyas dependencias no se han actualizado durante mucho tiempo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a65/820/68f/a6582068f2d230e7f7699324aeefff84.png"></div><br>  <i><font color="#999999">An√°lisis de dependencias de proyectos obsoletos.</font></i> <br><br>  Algunas de las actualizaciones de paquetes disponibles son sus versiones principales, actualizaciones que no ocurrir√°n cuando se <code>npm update</code> comando <code>npm update</code> .  No se realiza la actualizaci√≥n a versiones principales de este equipo, ya que (por definici√≥n) pueden contener cambios importantes que no se distinguen por la compatibilidad con versiones anteriores anteriores, y npm busca salvar al desarrollador de los problemas que pueden causar el uso de dichos paquetes. <br><br>  Para actualizar a nuevas versiones principales de todos los paquetes usados, instale globalmente el <code>npm-check-updates</code> : <br><br><pre> <code class="hljs powershell">npm install <span class="hljs-literal"><span class="hljs-literal">-g</span></span> npm<span class="hljs-literal"><span class="hljs-literal">-check</span></span><span class="hljs-literal"><span class="hljs-literal">-updates</span></span></code> </pre> <br>  Luego ejecute la utilidad proporcionada por √©l: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ncu</span></span> -u</code> </pre> <br>  Este comando actualizar√° el archivo <code>package.json</code> , realizando cambios en las instrucciones para las versiones adecuadas del paquete en las <code>devDependencies</code> <code>dependencies</code> y <code>devDependencies</code> .  Esto permitir√° que npm actualice los paquetes utilizados en el proyecto a nuevas versiones principales despu√©s de ejecutar el comando <code>npm update</code> . <br><br>  Si desea instalar las √∫ltimas versiones de paquete para un proyecto que acaba de descargar, que a√∫n no tiene una carpeta <code>node_modules</code> , en lugar de <code>npm update</code> , ejecute el comando <code>npm install</code> . <br><br><h2>  <font color="#3AC1EF">Desinstalaci√≥n local o global de paquetes</font> </h2><br>  Para desinstalar un paquete que se instal√≥ previamente localmente (usando el comando <code>install &lt;package-name&gt;</code> ), ejecute un comando similar a este: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">uninstall</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>&gt;</code> </pre> <br>  Si el paquete se instala globalmente, deber√° usar el <code>(--global</code> <code>-g</code> <code>(--global</code> ) para eliminarlo.  Por ejemplo, un comando similar podr√≠a verse as√≠: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">uninstall</span></span> -g webpack</code> </pre> <br>  Al ejecutar dicho comando, la carpeta actual no importa. <br><br><h2>  <font color="#3AC1EF">Acerca de elegir entre la instalaci√≥n global y local de paquetes</font> </h2><br>  ¬øCu√°ndo y por qu√© los paquetes se instalan mejor a nivel mundial?  Para responder a esta pregunta, recordemos c√≥mo difieren la instalaci√≥n local y global de paquetes: <br><br><ul><li>  Los paquetes locales se instalan en el directorio en el que ejecutan un comando de la forma <code>npm install &lt;package-name&gt;</code> .  Dichos paquetes se encuentran en la carpeta <code>node_modules</code> ubicada en este directorio. </li><li>  Los paquetes globales se instalan en una carpeta especial (que depende de la configuraci√≥n espec√≠fica de su sistema), independientemente de d√≥nde ejecuten un comando de la forma <code>npm install -g &lt;package-name&gt;</code> . </li></ul><br>  Conectar paquetes locales y globales en el c√≥digo es lo mismo: <br><br><pre> <code class="hljs lisp">require('package-name')</code> </pre> <br>  Entonces, ¬øcu√°l es la mejor manera de instalar paquetes? <br><br>  En general, todos los paquetes deben instalarse localmente.  Debido a esto, incluso si tiene docenas de proyectos Node.js, puede garantizar, si es necesario, el uso de diferentes versiones de los mismos paquetes. <br><br>  La actualizaci√≥n del paquete global lleva al hecho de que todos los proyectos en los que se aplica utilizar√°n su nueva versi√≥n.  Es f√°cil entender que esto, en t√©rminos de soporte de proyectos, puede conducir a una verdadera pesadilla, ya que las nuevas versiones de algunos paquetes pueden ser incompatibles con sus versiones anteriores. <br><br>  Si cada proyecto tiene su propia versi√≥n local de un paquete, aunque esto pueda parecer un desperdicio de recursos, esta es una tarifa muy peque√±a por la oportunidad de evitar las consecuencias negativas que pueden ser causadas por la incompatibilidad de las nuevas versiones de paquetes actualizados centralmente con el c√≥digo del proyecto. <br><br>  Los paquetes deben instalarse globalmente cuando son algunas utilidades llamadas desde la l√≠nea de comandos que se utilizan en muchos proyectos. <br><br>  Dichos paquetes tambi√©n se pueden instalar localmente ejecutando las utilidades de l√≠nea de comandos que proporcionan usando npx, pero algunos paquetes a√∫n est√°n mejor instalados globalmente.  Dichos paquetes con los que puede estar familiarizado incluyen, por ejemplo, los siguientes: <br><br><ul><li>  npm </li><li>  crear-reaccionar-aplicaci√≥n </li><li>  vue-cli </li><li>  gru√±ido-cli </li><li>  moca </li><li>  reaccionar-nativo-cli </li><li>  gatsby-cli </li><li>  por siempre </li><li>  nodemon </li></ul><br>  Es posible que su sistema ya tenga paquetes instalados globalmente.  Para averiguar sobre esto, use el siguiente comando: <br><br><pre> <code class="hljs powershell">npm list <span class="hljs-literal"><span class="hljs-literal">-g</span></span> -<span class="hljs-literal"><span class="hljs-literal">-depth</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Sobre dependencias del proyecto</font> </h2><br>  ¬øCu√°ndo debe considerarse un paquete como una dependencia de proyecto regular necesaria para garantizar su funcionamiento y cu√°ndo, como dependencia de desarrollo? <br><br>  Al instalar un paquete usando un comando como <code>npm install &lt;package-name&gt;</code> se instala como una dependencia regular.  Se realiza un registro de dicho paquete en la secci√≥n de <code>dependencies</code> del archivo <code>package.json</code> (antes de npm 5, dicho registro solo se realizaba utilizando el indicador <code>--save</code> , ahora no es necesario usarlo). <br><br>  El uso del <code>--save-dev</code> permite instalar el paquete como una dependencia de desarrollo.  Al mismo tiempo, se realiza un registro en la secci√≥n <code>devDependencies</code> del archivo <code>devDependencies</code> . <br><br>  Las dependencias de desarrollo son paquetes que se necesitan en el proceso de desarrollo de un proyecto; durante su funcionamiento normal, no son necesarios.  Dichos paquetes incluyen, por ejemplo, herramientas de prueba, Webpack, Babel. <br><br>  Cuando se implementa un proyecto utilizando el <code>npm install</code> en su carpeta, en la que hay una carpeta que contiene el archivo <code>package.json</code> , esto instalar√° todas las dependencias, ya que npm supone que dicha instalaci√≥n se realiza con el fin de trabajar en el proyecto. <br><br>  Por lo tanto, si el paquete necesita implementarse en producci√≥n, entonces, al implementarlo, debe usar el comando npm <code>install --production</code> --production.  Gracias al indicador <code>--production</code> , <code>--production</code> dependencias de <code>--production</code> no se instalar√°n. <br><br><h2>  <font color="#3AC1EF">Utilidad npx</font> </h2><br>  Ahora hablaremos de un equipo muy poderoso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">npx</a> , que apareci√≥ en npm 5.2.  Una de sus capacidades es ejecutar archivos ejecutables incluidos en paquetes npm.  Ya hemos considerado usar npx para ejecutar un archivo similar desde el paquete cowsay.  Ahora hablemos de esto con m√°s detalle. <br><br><h3>  <font color="#3AC1EF">‚ñçUtilice npx para simplificar la ejecuci√≥n de comandos locales</font> </h3><br>  Los desarrolladores de Node.js publicaron muchos archivos ejecutables (utilidades) en forma de paquetes que se supon√≠a que deb√≠an instalarse globalmente, lo que proporcion√≥ un acceso conveniente a sus capacidades, ya que podr√≠a ejecutarlos desde la l√≠nea de comandos simplemente ingresando el nombre del comando correspondiente.  Sin embargo, trabajar en dicho entorno era muy inc√≥modo si se requer√≠a instalar diferentes versiones de los mismos paquetes. <br><br>  El uso de un comando del formulario <code>npx commandname</code> busca autom√°ticamente el archivo deseado en la carpeta del proyecto <code>node_modules</code> .  Esto elimina la necesidad de conocer la ruta exacta a dicho archivo.  Esto tambi√©n hace innecesaria la instalaci√≥n global del paquete, proporcionando acceso a √©l desde cualquier parte del sistema de archivos mediante el uso de la <code>PATH</code> sistema <code>PATH</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Realizaci√≥n de utilidades sin la necesidad de instalarlas</font> </h3><br>  Npx tiene otra caracter√≠stica interesante, gracias a la cual se pueden iniciar las utilidades sin instalarlas primero.  Esto es √∫til principalmente por las siguientes razones: <br><br><ul><li>  No se requiere instalaci√≥n de utilidades. </li><li>  Puede ejecutar diferentes versiones de las mismas utilidades especificando la versi√≥n deseada utilizando la construcci√≥n <code>@version</code> . </li></ul><br>  Veamos c√≥mo usar este mecanismo, usando la utilidad <code>cowsay</code> que ya conoce.  Entonces, si el paquete cowsay est√° instalado globalmente, al ejecutar el <code>cowsay "Hello"</code> en la l√≠nea de comando se generar√° en la consola una vaca "parlante": <br><br><pre> <code class="hljs tex">_______ &lt; Hello &gt; -------       <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>^__^        <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>(oo)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_</span></span></span></span>______           (__)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">/</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>              ||----w |               || ||</code> </pre> <br>  Si el paquete cowsay no est√° instalado globalmente, un comando similar arrojar√° un error. <br><br>  La utilidad npx le permite ejecutar dichos comandos sin instalarlos.  Se ve, en el marco de nuestro ejemplo, as√≠: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npx</span></span> cowsay <span class="hljs-string"><span class="hljs-string">"Hello"</span></span></code> </pre> <br>  Tal comando funcionar√°, pero aunque una vaca "parlante", en general, no trae muchos beneficios, se puede usar el mismo enfoque para ejecutar comandos mucho m√°s √∫tiles.  Aqu√≠ hay algunos ejemplos: <br><br><ul><li>  Existe una herramienta de l√≠nea de comandos dise√±ada para crear y ejecutar aplicaciones Vue.  Usando npx puede llamarse as√≠: <code>npx vue create my-vue-app</code> . </li><li>  Puede usar la utilidad <code>create-react-app</code> para <code>create-react-app</code> aplicaciones React.  Su llamada a trav√©s de npx se ve as√≠: <code>npx create-react-app my-react-app</code> . </li></ul><br>  Despu√©s de descargar y usar el c√≥digo npx apropiado, se eliminar√°. <br><br><h3>  <font color="#3AC1EF">‚ñç Lanzar c√≥digo JavaScript usando varias versiones de Node.js</font> </h3><br>  Para ejecutar alg√∫n c√≥digo usando diferentes versiones de Node.js, puede, usando npx, acceder al <code>node</code> paquete npm, indicando su versi√≥n.  Se ve as√≠: <br><br><pre> <code class="hljs perl">npx node@6 -v <span class="hljs-comment"><span class="hljs-comment">#v6.14.3 npx node@8 -v #v8.11.3</span></span></code> </pre> <br>  Esto elimina la necesidad de herramientas como nvm u otros administradores de versiones de Node.js. <br><br><h3>  <font color="#3AC1EF">‚ñçIniciar fragmentos de c√≥digo arbitrario disponibles en una determinada direcci√≥n</font> </h3><br>  Npx le permite ejecutar no solo el c√≥digo publicado en npm.  En particular, si tiene un enlace a un determinado fragmento de c√≥digo (por ejemplo, una esencia publicada en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> ), puede ejecutarlo as√≠: <br><br><pre> <code class="hljs objectivec">npx https:<span class="hljs-comment"><span class="hljs-comment">//gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32</span></span></code> </pre> <br>  Por supuesto, al ejecutar dicho c√≥digo, no debe olvidarse de la seguridad.  Npx le brinda al desarrollador grandes oportunidades, pero tambi√©n significa una gran responsabilidad. <br><br><h3>  <font color="#3AC1EF">‚ñç Resultados</font> </h3><br>  Hoy hablamos sobre algunos mecanismos npm √∫tiles y el uso de npx.  En este punto, debe tener una comprensi√≥n b√°sica del dispositivo npm y c√≥mo trabajar con este administrador de paquetes.  Si desea profundizar en npm, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°gina de</a> documentaci√≥n del proyecto y experimente m√°s. <br><br>  La pr√≥xima vez discutiremos algunos mecanismos b√°sicos de Node.js, cuya comprensi√≥n es necesaria para el desarrollo exitoso de aplicaciones para esta plataforma. <br><br>  <b>Estimados lectores!</b>  ¬øUsas npx? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423705/">https://habr.com/ru/post/es423705/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423695/index.html">C√≥mo jubilarse antes de los 40 a√±os con un mill√≥n de d√≥lares en una cuenta bancaria</a></li>
<li><a href="../es423697/index.html">Presentaci√≥n de Spring Data JDBC</a></li>
<li><a href="../es423699/index.html">La "econom√≠a digital" ha subido de precio: se deber√°n asignar 2 billones de rublos del presupuesto</a></li>
<li><a href="../es423701/index.html">Gu√≠a de Node.js, Parte 3: Hosting, REPL, Operaciones de consola, M√≥dulos</a></li>
<li><a href="../es423703/index.html">Manual Node.js, Parte 4: archivos npm, package.json y package-lock.json</a></li>
<li><a href="../es423707/index.html">¬øQu√© hay debajo del cap√≥ de Jaxx? Entrop√≠a fuera de la caja de 128 bits</a></li>
<li><a href="../es423709/index.html">CSS Grid: navaja suiza para dise√±os de sitios web y aplicaciones</a></li>
<li><a href="../es423711/index.html">Gestionar para un geek: ¬øde d√≥nde obtener datos?</a></li>
<li><a href="../es423713/index.html">"Hecho en Rusia": lenguaje de programaci√≥n WBASIC para desarrollar aplicaciones web del lado del servidor</a></li>
<li><a href="../es423719/index.html">De Erlang / Elixir a Java y viceversa. Aventura por 20 minutos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>