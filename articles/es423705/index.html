<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏥 📥 ◼️ Manual de Node.js, Parte 5: npm y npx 🧛 👩🏿‍💼 📫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy, en la quinta parte de la traducción del manual de Node.js, completaremos el análisis de las características de npm, en particular, abordaremos te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Manual de Node.js, Parte 5: npm y npx</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423705/">  Hoy, en la quinta parte de la traducción del manual de Node.js, completaremos el análisis de las características de npm, en particular, abordaremos temas como encontrar versiones instaladas de paquetes npm, instalar versiones antiguas de paquetes, actualizar dependencias, desinstalación local y global de paquetes.  Aquí hablamos de npx. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[Le aconsejamos que lea] Otras partes del ciclo</b> <div class="spoiler_text">  Parte 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Información general y primeros pasos</a> <br>  Parte 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JavaScript, V8, algunos trucos de desarrollo</a> <br>  Parte 3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Hosting, REPL, trabajar con la consola, módulos</a> <br>  Parte 4: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">archivos npm, package.json y package-lock.json</a> <br>  Parte 5: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">npm y npx</a> <br>  Parte 6: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bucle de eventos, pila de llamadas, temporizadores</a> <br>  Parte 7: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Programación asincrónica</a> <br>  Parte 8: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Guía de Node.js, Parte 8: Protocolos HTTP y WebSocket</a> <br>  Parte 9: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Guía de Node.js, parte 9: trabajar con el sistema de archivos</a> <br>  Parte 10: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Guía de Node.js, Parte 10: Módulos estándar, flujos, bases de datos, NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PDF completo de la guía Node.js</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Encontrar versiones de paquetes npm instalados</font> </h2><br>  Para conocer las versiones de todos los paquetes npm instalados en la carpeta del proyecto, incluidas sus dependencias, ejecute el siguiente comando: <br><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list</code> </pre> <br>  Como resultado, por ejemplo, puede resultar lo siguiente: <br><br><pre> <code class="hljs mel">&gt; npm list /Users/flavio/dev/node/cowsay └─┬ cowsay@1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ├── get-stdin@5<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ├─┬ optimist@0<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> │ ├── minimist@0<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span> │ └── wordwrap@0<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> ├─┬ <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>-width@2<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> │ ├── is-fullwidth-code-point@2<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> │ └─┬ <span class="hljs-keyword"><span class="hljs-keyword">strip</span></span>-ansi@4<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> │  └── ansi-regex@3<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> └── <span class="hljs-keyword"><span class="hljs-keyword">strip</span></span>-eof@1<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  Puede averiguar lo mismo mirando el <code>package-lock.json</code> proyecto, pero la estructura de árbol que muestra el comando anterior es más conveniente para ver. <br><br>  Para obtener una lista similar de paquetes instalados globalmente, puede usar el siguiente comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list -g</code> </pre> <br>  Solo puede mostrar información sobre paquetes locales de nivel superior (es decir, aquellos que instaló usted mismo y que se enumeran en <code>package.json</code> ) de la siguiente manera: <br><br><pre> <code class="hljs pgsql">npm list <span class="hljs-comment"><span class="hljs-comment">--depth=0</span></span></code> </pre> <br>  Como resultado, si, por ejemplo, instaló solo el paquete cowsay, se mostrará lo siguiente: <br><br><pre> <code class="hljs pgsql">&gt; npm list <span class="hljs-comment"><span class="hljs-comment">--depth=0 /Users/flavio/dev/node/cowsay └── cowsay@1.3.1</span></span></code> </pre> <br>  Para averiguar la versión de un paquete específico, use el siguiente comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list cowsay</code> </pre> <br>  Como resultado de su implementación, obtenemos aproximadamente lo siguiente: <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; npm list cowsay /Users/flavio/dev/node/cowsay └── cowsay@1.3.1</span></span></code> </pre> <br>  Este comando también es adecuado para descubrir las versiones de dependencia de los paquetes que instaló.  En este caso, el nombre del paquete de dependencia actúa como el nombre del paquete que se le pasó y el resultado del comando se verá así: <br><br><pre> <code class="hljs perl">&gt; npm list minimist /Users/flavio/dev/node/cowsay └─┬ cowsay@1.<span class="hljs-number"><span class="hljs-number">3.1</span></span> └─┬ optimist@0.<span class="hljs-number"><span class="hljs-number">6.1</span></span>   └── minimist@0.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">10</span></span></code> </pre> <br>  Se resaltará una entrada sobre el paquete de dependencia en esta estructura. <br><br>  Si desea saber cuál es el número de la última versión de un paquete disponible en el repositorio npm, necesitará un comando de la siguiente forma: <br><br><pre> <code class="hljs pgsql">npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> [package_name] <span class="hljs-keyword"><span class="hljs-keyword">version</span></span></code> </pre> <br>  En respuesta, ella emite el número de versión del paquete: <br><br><pre> <code class="hljs pgsql">&gt; npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> cowsay <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">1.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Instalar versiones antiguas de paquetes npm</font> </h2><br>  Puede ser necesario instalar una versión anterior del paquete npm para resolver problemas de compatibilidad.  Puede instalar la versión requerida del paquete desde npm usando la siguiente construcción: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>&gt;@&lt;<span class="hljs-keyword"><span class="hljs-keyword">version</span></span>&gt;</code> </pre> <br>  En el caso del paquete cowsay que estamos utilizando como ejemplo, el comando npm <code>install cowsay</code> instalará su última versión (1.3.1 en el momento de escribir este artículo).  Si necesita instalar su versión 1.2.0, use este comando: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">npm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cowsay</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">1</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">2</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">0</span></span></code> </pre> <br>  Puede especificar versiones instalando paquetes globales: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">npm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-g</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">webpack</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">4</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">16</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">4</span></span></code> </pre> <br>  Si necesita averiguar qué versiones de un paquete están disponibles en npm, puede hacerlo con la ayuda de esta construcción: <br><br><pre> <code class="hljs vhdl">npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>&gt; versions</code> </pre> <br>  Aquí hay un ejemplo del resultado de su trabajo: <br><br><pre> <code class="hljs pgsql">&gt; npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> cowsay versions [ <span class="hljs-string"><span class="hljs-string">'1.0.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.2.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.2.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.3.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.3.1'</span></span> ]</code> </pre> <br><h2>  <font color="#3AC1EF">Actualizar dependencias del proyecto a sus últimas versiones</font> </h2><br>  Cuando instala un paquete con un comando del tipo <code>npm install &lt;packagename&gt;</code> , la última versión se descarga del repositorio y se coloca en la carpeta <code>node_modules</code> .  En este caso, las entradas correspondientes se agregan a los <code>package-lock.json</code> <code>package.json</code> y <code>package-lock.json</code> ubicados en la carpeta del proyecto. <br><br>  Además, al instalar un paquete, npm encuentra e instala sus dependencias. <br><br>  Supongamos que instalamos el conocido paquete cowsay ejecutando el <code>npm install cowsay</code> .  El paquete se instalará en la carpeta <code>node_modules</code> del proyecto y la siguiente entrada estará en el archivo <code>package.json</code> : <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"cowsay"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.3.1"</span></span> } }</code> </pre> <br>  <code>package-lock.json</code> también incluirá información sobre este paquete.  Aquí hay un fragmento de ella: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lockfileVersion"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"cowsay"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.1"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"resolved"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://registry.npmjs.org/cowsay/-/cowsay-1.3.1.tgz"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"integrity"</span></span>: <span class="hljs-string"><span class="hljs-string">"sha512-3PVFe6FePVtPj1HTeLin9v8WyLl+VmM1l1H/5P+BTTDkMAjufp+0F9eLjzRnOHzVAYeIYFF5po5NjRrgefnRMQ=="</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: {       <span class="hljs-attr"><span class="hljs-attr">"get-stdin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.0.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"optimist"</span></span>: <span class="hljs-string"><span class="hljs-string">"~0.6.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"string-width"</span></span>: <span class="hljs-string"><span class="hljs-string">"~2.1.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"strip-eof"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.0"</span></span>     }   } } }</code> </pre> <br>  De estos dos archivos puede descubrir que instalamos cowsay versión 1.3.1 y que la regla de actualización del paquete se especifica como <code>^1.3.1</code> .  En la cuarta parte de esta serie de materiales, ya hemos hablado sobre las reglas de las versiones semánticas.  Recuerde que esta entrada significa que npm puede actualizar el paquete cuando se lanzan sus versiones menores y parches. <br><br>  Si, por ejemplo, sale una nueva versión menor de un paquete y ejecutamos el comando <code>npm update</code> , la versión instalada del paquete se actualiza y la información sobre el paquete instalado se actualiza en el archivo <code>package-lock.json</code> , y el archivo <code>package.json</code> permanece sin cambios. <br><br>  Para saber si se han lanzado nuevas versiones de los paquetes utilizados en el proyecto, puede usar el siguiente comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> outdated</code> </pre> <br>  Estos son los resultados de este comando para un proyecto cuyas dependencias no se han actualizado durante mucho tiempo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a65/820/68f/a6582068f2d230e7f7699324aeefff84.png"></div><br>  <i><font color="#999999">Análisis de dependencias de proyectos obsoletos.</font></i> <br><br>  Algunas de las actualizaciones de paquetes disponibles son sus versiones principales, actualizaciones que no ocurrirán cuando se <code>npm update</code> comando <code>npm update</code> .  No se realiza la actualización a versiones principales de este equipo, ya que (por definición) pueden contener cambios importantes que no se distinguen por la compatibilidad con versiones anteriores anteriores, y npm busca salvar al desarrollador de los problemas que pueden causar el uso de dichos paquetes. <br><br>  Para actualizar a nuevas versiones principales de todos los paquetes usados, instale globalmente el <code>npm-check-updates</code> : <br><br><pre> <code class="hljs powershell">npm install <span class="hljs-literal"><span class="hljs-literal">-g</span></span> npm<span class="hljs-literal"><span class="hljs-literal">-check</span></span><span class="hljs-literal"><span class="hljs-literal">-updates</span></span></code> </pre> <br>  Luego ejecute la utilidad proporcionada por él: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ncu</span></span> -u</code> </pre> <br>  Este comando actualizará el archivo <code>package.json</code> , realizando cambios en las instrucciones para las versiones adecuadas del paquete en las <code>devDependencies</code> <code>dependencies</code> y <code>devDependencies</code> .  Esto permitirá que npm actualice los paquetes utilizados en el proyecto a nuevas versiones principales después de ejecutar el comando <code>npm update</code> . <br><br>  Si desea instalar las últimas versiones de paquete para un proyecto que acaba de descargar, que aún no tiene una carpeta <code>node_modules</code> , en lugar de <code>npm update</code> , ejecute el comando <code>npm install</code> . <br><br><h2>  <font color="#3AC1EF">Desinstalación local o global de paquetes</font> </h2><br>  Para desinstalar un paquete que se instaló previamente localmente (usando el comando <code>install &lt;package-name&gt;</code> ), ejecute un comando similar a este: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">uninstall</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>&gt;</code> </pre> <br>  Si el paquete se instala globalmente, deberá usar el <code>(--global</code> <code>-g</code> <code>(--global</code> ) para eliminarlo.  Por ejemplo, un comando similar podría verse así: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">uninstall</span></span> -g webpack</code> </pre> <br>  Al ejecutar dicho comando, la carpeta actual no importa. <br><br><h2>  <font color="#3AC1EF">Acerca de elegir entre la instalación global y local de paquetes</font> </h2><br>  ¿Cuándo y por qué los paquetes se instalan mejor a nivel mundial?  Para responder a esta pregunta, recordemos cómo difieren la instalación local y global de paquetes: <br><br><ul><li>  Los paquetes locales se instalan en el directorio en el que ejecutan un comando de la forma <code>npm install &lt;package-name&gt;</code> .  Dichos paquetes se encuentran en la carpeta <code>node_modules</code> ubicada en este directorio. </li><li>  Los paquetes globales se instalan en una carpeta especial (que depende de la configuración específica de su sistema), independientemente de dónde ejecuten un comando de la forma <code>npm install -g &lt;package-name&gt;</code> . </li></ul><br>  Conectar paquetes locales y globales en el código es lo mismo: <br><br><pre> <code class="hljs lisp">require('package-name')</code> </pre> <br>  Entonces, ¿cuál es la mejor manera de instalar paquetes? <br><br>  En general, todos los paquetes deben instalarse localmente.  Debido a esto, incluso si tiene docenas de proyectos Node.js, puede garantizar, si es necesario, el uso de diferentes versiones de los mismos paquetes. <br><br>  La actualización del paquete global lleva al hecho de que todos los proyectos en los que se aplica utilizarán su nueva versión.  Es fácil entender que esto, en términos de soporte de proyectos, puede conducir a una verdadera pesadilla, ya que las nuevas versiones de algunos paquetes pueden ser incompatibles con sus versiones anteriores. <br><br>  Si cada proyecto tiene su propia versión local de un paquete, aunque esto pueda parecer un desperdicio de recursos, esta es una tarifa muy pequeña por la oportunidad de evitar las consecuencias negativas que pueden ser causadas por la incompatibilidad de las nuevas versiones de paquetes actualizados centralmente con el código del proyecto. <br><br>  Los paquetes deben instalarse globalmente cuando son algunas utilidades llamadas desde la línea de comandos que se utilizan en muchos proyectos. <br><br>  Dichos paquetes también se pueden instalar localmente ejecutando las utilidades de línea de comandos que proporcionan usando npx, pero algunos paquetes aún están mejor instalados globalmente.  Dichos paquetes con los que puede estar familiarizado incluyen, por ejemplo, los siguientes: <br><br><ul><li>  npm </li><li>  crear-reaccionar-aplicación </li><li>  vue-cli </li><li>  gruñido-cli </li><li>  moca </li><li>  reaccionar-nativo-cli </li><li>  gatsby-cli </li><li>  por siempre </li><li>  nodemon </li></ul><br>  Es posible que su sistema ya tenga paquetes instalados globalmente.  Para averiguar sobre esto, use el siguiente comando: <br><br><pre> <code class="hljs powershell">npm list <span class="hljs-literal"><span class="hljs-literal">-g</span></span> -<span class="hljs-literal"><span class="hljs-literal">-depth</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Sobre dependencias del proyecto</font> </h2><br>  ¿Cuándo debe considerarse un paquete como una dependencia de proyecto regular necesaria para garantizar su funcionamiento y cuándo, como dependencia de desarrollo? <br><br>  Al instalar un paquete usando un comando como <code>npm install &lt;package-name&gt;</code> se instala como una dependencia regular.  Se realiza un registro de dicho paquete en la sección de <code>dependencies</code> del archivo <code>package.json</code> (antes de npm 5, dicho registro solo se realizaba utilizando el indicador <code>--save</code> , ahora no es necesario usarlo). <br><br>  El uso del <code>--save-dev</code> permite instalar el paquete como una dependencia de desarrollo.  Al mismo tiempo, se realiza un registro en la sección <code>devDependencies</code> del archivo <code>devDependencies</code> . <br><br>  Las dependencias de desarrollo son paquetes que se necesitan en el proceso de desarrollo de un proyecto; durante su funcionamiento normal, no son necesarios.  Dichos paquetes incluyen, por ejemplo, herramientas de prueba, Webpack, Babel. <br><br>  Cuando se implementa un proyecto utilizando el <code>npm install</code> en su carpeta, en la que hay una carpeta que contiene el archivo <code>package.json</code> , esto instalará todas las dependencias, ya que npm supone que dicha instalación se realiza con el fin de trabajar en el proyecto. <br><br>  Por lo tanto, si el paquete necesita implementarse en producción, entonces, al implementarlo, debe usar el comando npm <code>install --production</code> --production.  Gracias al indicador <code>--production</code> , <code>--production</code> dependencias de <code>--production</code> no se instalarán. <br><br><h2>  <font color="#3AC1EF">Utilidad npx</font> </h2><br>  Ahora hablaremos de un equipo muy poderoso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">npx</a> , que apareció en npm 5.2.  Una de sus capacidades es ejecutar archivos ejecutables incluidos en paquetes npm.  Ya hemos considerado usar npx para ejecutar un archivo similar desde el paquete cowsay.  Ahora hablemos de esto con más detalle. <br><br><h3>  <font color="#3AC1EF">▍Utilice npx para simplificar la ejecución de comandos locales</font> </h3><br>  Los desarrolladores de Node.js publicaron muchos archivos ejecutables (utilidades) en forma de paquetes que se suponía que debían instalarse globalmente, lo que proporcionó un acceso conveniente a sus capacidades, ya que podría ejecutarlos desde la línea de comandos simplemente ingresando el nombre del comando correspondiente.  Sin embargo, trabajar en dicho entorno era muy incómodo si se requería instalar diferentes versiones de los mismos paquetes. <br><br>  El uso de un comando del formulario <code>npx commandname</code> busca automáticamente el archivo deseado en la carpeta del proyecto <code>node_modules</code> .  Esto elimina la necesidad de conocer la ruta exacta a dicho archivo.  Esto también hace innecesaria la instalación global del paquete, proporcionando acceso a él desde cualquier parte del sistema de archivos mediante el uso de la <code>PATH</code> sistema <code>PATH</code> . <br><br><h3>  <font color="#3AC1EF">▍ Realización de utilidades sin la necesidad de instalarlas</font> </h3><br>  Npx tiene otra característica interesante, gracias a la cual se pueden iniciar las utilidades sin instalarlas primero.  Esto es útil principalmente por las siguientes razones: <br><br><ul><li>  No se requiere instalación de utilidades. </li><li>  Puede ejecutar diferentes versiones de las mismas utilidades especificando la versión deseada utilizando la construcción <code>@version</code> . </li></ul><br>  Veamos cómo usar este mecanismo, usando la utilidad <code>cowsay</code> que ya conoce.  Entonces, si el paquete cowsay está instalado globalmente, al ejecutar el <code>cowsay "Hello"</code> en la línea de comando se generará en la consola una vaca "parlante": <br><br><pre> <code class="hljs tex">_______ &lt; Hello &gt; -------       <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>^__^        <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>(oo)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_</span></span></span></span>______           (__)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">/</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>              ||----w |               || ||</code> </pre> <br>  Si el paquete cowsay no está instalado globalmente, un comando similar arrojará un error. <br><br>  La utilidad npx le permite ejecutar dichos comandos sin instalarlos.  Se ve, en el marco de nuestro ejemplo, así: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npx</span></span> cowsay <span class="hljs-string"><span class="hljs-string">"Hello"</span></span></code> </pre> <br>  Tal comando funcionará, pero aunque una vaca "parlante", en general, no trae muchos beneficios, se puede usar el mismo enfoque para ejecutar comandos mucho más útiles.  Aquí hay algunos ejemplos: <br><br><ul><li>  Existe una herramienta de línea de comandos diseñada para crear y ejecutar aplicaciones Vue.  Usando npx puede llamarse así: <code>npx vue create my-vue-app</code> . </li><li>  Puede usar la utilidad <code>create-react-app</code> para <code>create-react-app</code> aplicaciones React.  Su llamada a través de npx se ve así: <code>npx create-react-app my-react-app</code> . </li></ul><br>  Después de descargar y usar el código npx apropiado, se eliminará. <br><br><h3>  <font color="#3AC1EF">▍ Lanzar código JavaScript usando varias versiones de Node.js</font> </h3><br>  Para ejecutar algún código usando diferentes versiones de Node.js, puede, usando npx, acceder al <code>node</code> paquete npm, indicando su versión.  Se ve así: <br><br><pre> <code class="hljs perl">npx node@6 -v <span class="hljs-comment"><span class="hljs-comment">#v6.14.3 npx node@8 -v #v8.11.3</span></span></code> </pre> <br>  Esto elimina la necesidad de herramientas como nvm u otros administradores de versiones de Node.js. <br><br><h3>  <font color="#3AC1EF">▍Iniciar fragmentos de código arbitrario disponibles en una determinada dirección</font> </h3><br>  Npx le permite ejecutar no solo el código publicado en npm.  En particular, si tiene un enlace a un determinado fragmento de código (por ejemplo, una esencia publicada en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> ), puede ejecutarlo así: <br><br><pre> <code class="hljs objectivec">npx https:<span class="hljs-comment"><span class="hljs-comment">//gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32</span></span></code> </pre> <br>  Por supuesto, al ejecutar dicho código, no debe olvidarse de la seguridad.  Npx le brinda al desarrollador grandes oportunidades, pero también significa una gran responsabilidad. <br><br><h3>  <font color="#3AC1EF">▍ Resultados</font> </h3><br>  Hoy hablamos sobre algunos mecanismos npm útiles y el uso de npx.  En este punto, debe tener una comprensión básica del dispositivo npm y cómo trabajar con este administrador de paquetes.  Si desea profundizar en npm, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">página de</a> documentación del proyecto y experimente más. <br><br>  La próxima vez discutiremos algunos mecanismos básicos de Node.js, cuya comprensión es necesaria para el desarrollo exitoso de aplicaciones para esta plataforma. <br><br>  <b>Estimados lectores!</b>  ¿Usas npx? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423705/">https://habr.com/ru/post/es423705/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423695/index.html">Cómo jubilarse antes de los 40 años con un millón de dólares en una cuenta bancaria</a></li>
<li><a href="../es423697/index.html">Presentación de Spring Data JDBC</a></li>
<li><a href="../es423699/index.html">La "economía digital" ha subido de precio: se deberán asignar 2 billones de rublos del presupuesto</a></li>
<li><a href="../es423701/index.html">Guía de Node.js, Parte 3: Hosting, REPL, Operaciones de consola, Módulos</a></li>
<li><a href="../es423703/index.html">Manual Node.js, Parte 4: archivos npm, package.json y package-lock.json</a></li>
<li><a href="../es423707/index.html">¿Qué hay debajo del capó de Jaxx? Entropía fuera de la caja de 128 bits</a></li>
<li><a href="../es423709/index.html">CSS Grid: navaja suiza para diseños de sitios web y aplicaciones</a></li>
<li><a href="../es423711/index.html">Gestionar para un geek: ¿de dónde obtener datos?</a></li>
<li><a href="../es423713/index.html">"Hecho en Rusia": lenguaje de programación WBASIC para desarrollar aplicaciones web del lado del servidor</a></li>
<li><a href="../es423719/index.html">De Erlang / Elixir a Java y viceversa. Aventura por 20 minutos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>