<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñêüèº üïç üòÜ NB-IoT, Internet des objets √† bande √©troite. Modes d'√©conomie d'√©nergie et commandes de contr√¥le üöó üôéüèΩ üïú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonne journ√©e √† tous! 


 Dans la partie pr√©c√©dente , les informations g√©n√©rales et les caract√©ristiques de la technologie NB-IoT ont √©t√© discut√©es, m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>NB-IoT, Internet des objets √† bande √©troite. Modes d'√©conomie d'√©nergie et commandes de contr√¥le</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435722/"><p>  Bonne journ√©e √† tous! </p><br><p>  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie pr√©c√©dente</a> , les informations g√©n√©rales et les caract√©ristiques de la technologie NB-IoT ont √©t√© discut√©es, mais ici je propose d'examiner en d√©tail les modes d'√©conomie d'√©nergie PSM et eDRX, ainsi que les commandes par lesquelles ces modes peuvent √™tre contr√¥l√©s. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zq/25/d1/zq25d19x97qntznb9esig9avf40.png"></div><a name="habracut"></a><br><h2>  Modes d'√©conomie d'√©nergie dans NB-IoT </h2><br><p>  Pour les appareils aliment√©s par batterie, il est important de consommer le moins d'√©nergie possible.  Pour cela, le NB-IoT propose deux modes d'√©conomie d'√©nergie: mode d'√©conomie d'√©nergie, PSM et mode ralenti √©tendu DRX, eDRX.  Examinons-les plus en d√©tail. </p><br><h3>  Mode d'√©conomie d'√©nergie PSM </h3><br><p>  Selon la sp√©cification 3GPP TS 23.682, le <b>mode d'√©conomie d'√©nergie (PSM)</b> est un mode similaire √† la mise hors tension, dans lequel l'appareil, cependant, reste enregistr√© sur le r√©seau.  Curieusement, le mode PSM est apparu dans les sp√©cifications 3GPP plus t√¥t que NB-IoT - dans la version 12 du 3GPP. </p><br><p>  L'appareil NB-IoT lance le mode PSM, y compris les valeurs de deux temporisateurs dans les demandes ATTACH REQUEST / TAU REQUEST envoy√©es dans les proc√©dures Attach et TAU ‚Äã‚Äã(TAU, Tracking Area Update est une proc√©dure p√©riodique utilis√©e dans LTE pour informer le r√©seau de la disponibilit√© et de l'emplacement d'un appareil mobile ) </p><br><p>  La premi√®re minuterie - <b>T3324 Active Timer</b> - d√©termine la dur√©e pendant laquelle l'appareil reste accessible depuis le r√©seau apr√®s la proc√©dure Attach, TAU ou le transfert de donn√©es. </p><br><p>  Le deuxi√®me temporisateur - <b>T3412 Temporisateur TAU p√©riodique √©tendu</b> - d√©termine la p√©riode de la proc√©dure TAU. </p><br><p>  Le mode PSM et les temporisateurs T3324, T3412 sont illustr√©s √† la fig.  1: </p><br><img src="https://habrastorage.org/webt/fi/3v/xj/fi3vxjd1z69gf1rjr4diouuotfs.jpeg"><br><p>  Si le r√©seau autorise l'utilisation du mode PSM, les valeurs de ces temporisateurs sont incluses dans les messages de r√©ponse ATTACH ACCEPT / TAU ACCEPT.  Lors de la d√©termination des valeurs des temporisateurs, le r√©seau peut prendre en compte non seulement les valeurs demand√©es par l'appareil, mais √©galement la configuration locale.  En d'autres termes, le r√©seau n'est pas tenu de confirmer exactement les valeurs de temporisation demand√©es par l'appareil.  Mais l'appareil doit appliquer les valeurs re√ßues du r√©seau. </p><br><p>  <b>La dur√©e pendant laquelle l'appareil est en mode PSM est d√©finie comme la diff√©rence entre le temporisateur TAU p√©riodique √©tendu et le temporisateur actif (T3412-T3324).</b>  √âtant donn√© que la valeur de T3324 Active Timer peut √™tre √©gale √† z√©ro, le <b>temps th√©orique maximum pass√© en mode PSM</b> est √©gal au temps maximum T3412 T P√©riode TAU p√©riodique √©tendu et est de <b>413 jours et 8 heures (!!!)</b> .  La valeur maximale de la minuterie active T3324 est de 3 heures et 6 minutes (186 minutes). </p><br><p>  Lorsque l'appareil est en mode PSM, il n'est pas accessible du c√¥t√© r√©seau (pour les services dits de terminaison mobile). </p><br><p>  La GSMA recommande que les op√©rateurs mobiles enregistrent et transmettent √† l'appareil (apr√®s la derni√®re sortie PSM) au moins le dernier paquet de donn√©es de 100 bits. </p><br><p>  L'appareil peut quitter le mode PSM √† tout moment (par exemple, si l'appareil a un besoin urgent de transf√©rer certaines donn√©es, comme dans l'image ci-dessus). </p><br><h3>  Mode √©conomie d'√©nergie eDRX (mode ralenti √©tendu DRX) </h3><br><p>  <b>eDRX (Extended idle mode DRX)</b> peut √™tre consid√©r√© comme un mode d'√©conomie d'√©nergie suppl√©mentaire de l'appareil, il est apparu dans les sp√©cifications de 3GPP version 13. DRX signifie r√©ception discontinue (r√©ception discontinue).  La m√©thode de r√©ception intermittente est connue depuis longtemps dans les communications cellulaires, et consiste en ce que pour √©conomiser de l'√©nergie le chemin de r√©ception de l'appareil est p√©riodiquement allum√© √† certains intervalles, et la plupart du temps √©teint.  Le r√©seau ¬´sait¬ª cela et envoie des signaux de radiomessagerie uniquement aux ¬´bons¬ª moments.  Le mode de r√©ception intermittente avanc√©e (eDRX) vous permet d'augmenter consid√©rablement la p√©riode de temps lorsque le chemin de r√©ception de l'appareil est d√©sactiv√©.  Selon la sp√©cification 3GPP TS 23.682, la <b>p√©riode de r√©ception eDRX intermittente en mode NB-IoT est de 20,48 √† 10485,76 secondes</b> (10485 secondes soit presque 3 heures). </p><br><p>  Une comparaison de l '¬´ancien¬ª DRX et du ¬´nouveau¬ª eDRX est pr√©sent√©e sur la Fig.  2: </p><br><img src="https://habrastorage.org/webt/m-/hw/vz/m-hwvz9fasw-ubefb9q0vaprfso.jpeg"><br><p>  Le NB-IoT active le mode eDRX en transmettant la valeur de la p√©riode eDRX dans les demandes ATTACH REQUEST / TAU REQUEST envoy√©es dans les proc√©dures Attach et TAU.  Si le r√©seau autorise l'utilisation du mode eDRX, la valeur de p√©riode eDRX est incluse dans les messages de r√©ponse ATTACH ACCEPT / TAU ACCEPT.  Le r√©seau n'est pas tenu de confirmer la valeur de la p√©riode eDRX demand√©e par l'appareil, mais l'appareil est tenu d'appliquer la valeur transmise par le r√©seau. </p><br><p>  Comme avec PSM, lors de l'utilisation du mode eDRX, la GSMA recommande aux op√©rateurs d'enregistrer et de transmettre √† l'appareil au moins le dernier paquet de donn√©es de 100 bits.  Cependant, comme il ressort d'une enqu√™te r√©alis√©e par l'association GSM, les op√©rateurs ont l'intention de sauvegarder beaucoup plus de donn√©es en aval (de l'application √† l'appareil). </p><br><p>  Le mode EDRX peut √™tre utilis√© simultan√©ment avec le mode PSM. </p><br><p>  Les modes PSM et eDRX font partie des exigences NBMA minimales recommand√©es par la GSMA. </p><br><h2>  Commandes de gestion des p√©riph√©riques NB-IoT (commandes AT) </h2><br><p>  Les commandes AT standard sont d√©crites dans la sp√©cification 3GPP TS 27.007.  Il existe de nombreuses commandes, nous ne consid√©rerons ici que celles avec lesquelles vous pouvez contr√¥ler les modes d'√©conomie d'√©nergie de l'appareil NB-IoT.  De plus, diff√©rents fabricants peuvent interpr√©ter les standards ou inventer de nouvelles √©quipes √† leur mani√®re.  Par cons√©quent, pour plus de pr√©cision, regardons les commandes du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">module NB-IoT N21</a> . </p><br><h3>  Commande de contr√¥le du mode PSM </h3><br><p>  Pour d√©finir les param√®tres du mode PSM, utilisez la commande AT + CPSMS: </p><br><pre><code class="bash hljs">AT+CPSMS=[mode],[Requested_Periodic-RAU],[Requested_GPRS-READY-timer],[Requested_Periodic-TAU],[Requested_Active-Time]</code> </pre> <br><p>  Param√®tres de commande AT + CPSMS: </p><br><ul><li>  mode (0 - PSM d√©sactiv√©, 1 - PSM activ√©) </li><li>  Requested_Periodic-RAU, T3312 (applicable √† 2G / 3G, non utilis√© dans NB-IoT) </li><li>  Minuteur Requested_GPRS-READY, T3314 (applicable √† 2G / 3G, non utilis√© dans NB-IoT) </li><li>  Requested_Periodic-TAU, T3412 (applicable au LTE, <b>utilis√© dans NB-IoT</b> ) </li><li>  Requested_Active-Time, T3324 (applicable √† 2G / 3G / LTE, <b>utilis√© dans NB-IoT</b> ) </li></ul><br><p>  Ainsi, trois param√®tres sont utilis√©s pour configurer les param√®tres PSM en <b>mode</b> NB-IoT: <b>mode</b> , <b>Requested_Periodic-TAU</b> et <b>Requested_Active-Time</b> . </p><br><p>  La dur√©e demand√©e de l'appareil en mode PSM est la diff√©rence entre Requested_Periodic-TAU et Requested_Active-Time. </p><br><h4>  Encodage de la valeur de Requested_Active-Time (T3324) </h4><br><p>  Requested_Active-Time est cod√© comme une s√©quence de 8 bits, o√π les bits hauts 8, 7, 6 sont le multiplicateur, les bits 5, 4, 3, 2, 1 sont la valeur. </p><br><div class="scrollable-table"><table><caption>  Tableau 1. Multiplicateurs de temps actif requis (T3324) </caption><tbody><tr><td>  Bit 8 </td><td>  Bit 7 </td><td>  Bit 6 </td><td>  Multiplicateur </td></tr><tr><td>  0 </td><td>  0 </td><td>  0 </td><td>  2 secondes </td></tr><tr><td>  0 </td><td>  0 </td><td>  1 </td><td>  1 minute </td></tr><tr><td>  0 </td><td>  1 </td><td>  0 </td><td>  6 minutes (1/10 heures) </td></tr><tr><td>  1 </td><td>  1 </td><td>  1 </td><td>  Minuterie d√©sactiv√©e </td></tr><tr><td></td><td></td><td></td><td>  Les autres valeurs doivent √™tre interpr√©t√©es comme 1 minute (dans la version actuelle du protocole) </td></tr></tbody></table></div><br><p>  Exemple d'encodage de la valeur Requested_Active-Time (T3324): <br>  00000101 - Requested_Active-Time <br>  000 - multiplicateur, 2 secondes, <br>  00101 - valeur, 5, <br>  5 x 2 secondes = 10 secondes - la valeur demand√©e Requested_Active-Time. </p><br><p>  La valeur maximale Requested_Active-Time (T3324) est de 3 heures et 6 minutes (186 minutes). </p><br><h4>  Encodage de la valeur de Requested_Periodic-TAU (T3412) </h4><br><p>  Requested_Periodic-TAU est cod√© comme une s√©quence de 8 bits, o√π les bits hauts 8, 7, 6 sont le multiplicateur, les bits bas 5, 4, 3, 2, 1 sont la valeur. </p><br><div class="scrollable-table"><table><caption>  Tableau 2. Multiplicateurs Requested_Periodic-TAU (T3412) </caption><tbody><tr><td>  Bit 8 </td><td>  Bit 7 </td><td>  Bit 6 </td><td>  Multiplicateur </td></tr><tr><td>  0 </td><td>  0 </td><td>  0 </td><td>  10 minutes </td></tr><tr><td>  0 </td><td>  0 </td><td>  1 </td><td>  1 heure </td></tr><tr><td>  0 </td><td>  1 </td><td>  0 </td><td>  10 heures </td></tr><tr><td>  0 </td><td>  1 </td><td>  1 </td><td>  2 secondes </td></tr><tr><td>  1 </td><td>  0 </td><td>  0 </td><td>  30 secondes </td></tr><tr><td>  1 </td><td>  0 </td><td>  1 </td><td>  1 minute </td></tr><tr><td>  1 </td><td>  1 </td><td>  0 </td><td>  320 heures.  Remarque: cette valeur s'applique uniquement aux temporisateurs T3312 √©tendu et T3412 √©tendu (voir TS 24.301).  S'il est re√ßu dans un message avec v√©rification d'int√©grit√© activ√©e, la valeur doit √™tre interpr√©t√©e comme 320 heures.  Sinon, cela devrait √™tre interpr√©t√© comme 1 heure. </td></tr><tr><td>  1 </td><td>  1 </td><td>  1 </td><td>  Minuterie d√©sactiv√©e </td></tr></tbody></table></div><br><p>  Un exemple d'encodage de la valeur de Requested_Periodic-TAU (T3412): <br>  00100001 - Requested_Periodic-TAU <br>  001 - multiplicateur, 1 heure, <br>  00010 - la valeur, 2, <br>  2 x 1 heure = 2 heures - la valeur demand√©e Requested_Periodic-TAU </p><br><p>  La valeur maximale du temporisateur Requested_Periodic-TAU T3412 est de 9920 heures, soit 413 jours et 8 heures. </p><br><h4>  Exemples de commandes AT + CPSMS </h4><br><pre> <code class="bash hljs">AT+CPSMS=0 //  PSM </code> </pre> <br><pre> <code class="bash hljs">AT+CPSMS=1,,,<span class="hljs-string"><span class="hljs-string">"00100001"</span></span>,<span class="hljs-string"><span class="hljs-string">"00100011"</span></span> //  PSM , Requested_Periodic-TAU: 2 , Requested_Active-Time: 3 ,  PSM: 1   57 </code> </pre> <br><h3>  Commande de contr√¥le du mode EDRX </h3><br><p>  Pour d√©finir les param√®tres du mode eDRX, utilisez la commande AT + CEDRXS: </p><br><pre> <code class="bash hljs">AT+CEDRXS=[mode],[AcT-type],[Requested_eDRX_value]</code> </pre> <br><p>  Param√®tres de commande AT + CEDRXS: </p><br><p>  1. mode - mode: </p><br><ul><li>  0 - mode eDRX d√©sactiv√© </li><li>  1 - Mode eDRX activ√© </li><li>  2 - Le mode eDRX est activ√©, les messages non sollicit√©s (URC) sont autoris√©s </li></ul><br><p>  2. Type AcT - technologie d'acc√®s radio: </p><br><ul><li>  1 - EC-GSM-IoT </li><li>  2 - GSM </li><li>  3 - 3G </li><li>  4 - LTE, LTE-M </li><li>  5 - NB-IoT </li></ul><br><p>  3. Requested_eDRX_value - la dur√©e de la p√©riode eDRX.  La valeur est cod√©e comme une s√©quence binaire de 4 bits.  Selon la sp√©cification 3GPP TS 23.682, l'eDRX en mode NB-IoT se situe entre 20,48 et 10485,76 secondes.  Les valeurs Requested_eDRX_value en mode NB-IoT sont pr√©sent√©es dans le tableau 3. </p><br><div class="scrollable-table"><table><caption>  Tableau 3. La dur√©e de la p√©riode eDRX </caption><tbody><tr><td>  Requested_eDRX_value en mode NB-IoT </td><td>  Dur√©e de la p√©riode EDRX, s </td></tr><tr><td>  0010 </td><td>  20,48 </td></tr><tr><td>  0011 </td><td>  40,96 </td></tr><tr><td>  0100 </td><td>  20,48 </td></tr><tr><td>  0101 </td><td>  81,92 </td></tr><tr><td>  0110 </td><td>  20,48 </td></tr><tr><td>  0111 </td><td>  20,48 </td></tr><tr><td>  1000 </td><td>  20,48 </td></tr><tr><td>  1001 </td><td>  163,84 </td></tr><tr><td>  1010 </td><td>  327,68 </td></tr><tr><td>  1011 </td><td>  655,36 </td></tr><tr><td>  1100 </td><td>  1310,72 </td></tr><tr><td>  1101 </td><td>  2621,44 </td></tr><tr><td>  1110 </td><td>  5 242,88 </td></tr><tr><td>  1111 </td><td>  10485.76 </td></tr></tbody></table></div><br><br><h4>  Exemples de commandes AT + CEDRXS </h4><br><pre> <code class="bash hljs">AT+CEDRXS=0 //  eDRX </code> </pre> <br><pre> <code class="bash hljs">AT+CEDRXS=1,5,<span class="hljs-string"><span class="hljs-string">"0010"</span></span> //  eDRX ,   - NB-IoT,   eDRX - 20,48 </code> </pre> <br><p>  PS L'article ne pr√©tend pas √™tre une v√©rit√© absolue et peut contenir des inexactitudes.  Si vous constatez des inexactitudes, souhaitez partager des informations d'initi√©s ou simplement exprimer votre opinion, n'h√©sitez pas √† commenter! </p><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie pr√©c√©dente: NB-IoT, Internet des objets √† bande √©troite.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Informations g√©n√©rales et fonctionnalit√©s technologiques.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr435722/">https://habr.com/ru/post/fr435722/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr435708/index.html">Fayal: un lieu de rencontre dans l'Atlantique</a></li>
<li><a href="../fr435712/index.html">Procter & Gamble lance une imprimante pour la peau anti-√¢ge</a></li>
<li><a href="../fr435714/index.html">Les d√©veloppeurs ukrainiens ont eu acc√®s aux fichiers de toutes les cam√©ras Ring du monde</a></li>
<li><a href="../fr435718/index.html">Nous pompons Angular NGSW en utilisant une logique personnalis√©e dans Service Worker</a></li>
<li><a href="../fr435720/index.html">D√©veloppement Adblock Radio</a></li>
<li><a href="../fr435724/index.html">Retenir les vices de l'imp√©ratif</a></li>
<li><a href="../fr435728/index.html">[Vendredi] Conte sur la fa√ßon dont l'informatique a essay√© de vendre du bois de chauffage ou les coulisses d'un appel</a></li>
<li><a href="../fr435730/index.html">La coquille s'est fissur√©e</a></li>
<li><a href="../fr435732/index.html">Vendredi JS: une quine qui joue au tic-tac-toe</a></li>
<li><a href="../fr435734/index.html">Comment ne pas se laisser berner en faisant de la physique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>