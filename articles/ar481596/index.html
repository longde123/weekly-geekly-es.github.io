<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐พ ๐ ๐ค๐ฟ ุชุญููู ุฅุนุฏุงุฏุงุช ELK 7.5 ูุชุญููู ุณุฌู Mikrotik ๐๏ธ ๐ค๐ฟ ๐ฉ๐พโโ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุทุงููุง ูุงูุช ููุฑุฉ ูุนุฑูุฉ ูุง ููููู ูุนูู ุจุงุณุชุฎุฏุงู ELK ูุงููุตุงุฏุฑ ุงููุฑุชุฌูุฉ ููุณุฌูุงุช ูุงูุฅุญุตุงุฆูุงุช. ุนูู ุตูุญุงุช ูููุน Habr ุ ุฃุฎุทุท ูุฅุธูุงุฑ ูุซุงู ุนููู ูููููุฉ ุงุณุชุฎุฏุงู ุฎุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุญููู ุฅุนุฏุงุฏุงุช ELK 7.5 ูุชุญููู ุณุฌู Mikrotik</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481596/" style=";text-align:right;direction:rtl">  ูุทุงููุง ูุงูุช ููุฑุฉ ูุนุฑูุฉ ูุง ููููู ูุนูู ุจุงุณุชุฎุฏุงู ELK ูุงููุตุงุฏุฑ ุงููุฑุชุฌูุฉ ููุณุฌูุงุช ูุงูุฅุญุตุงุฆูุงุช.  ุนูู ุตูุญุงุช ูููุน Habr ุ ุฃุฎุทุท ูุฅุธูุงุฑ ูุซุงู ุนููู ูููููุฉ ุงุณุชุฎุฏุงู ุฎุงุฏู ูุตุบุฑ ููุฒูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุชุญุฏูุฏ ูุตูุฏุฉ honeypot ุจุงุณุชุฎุฏุงู ูุธุงู ุชุญููู ุงูุณุฌู ุงุณุชูุงุฏูุง ุฅูู ููุฏุณ ELK.  ุณุฃุฎุจุฑู ูู ูุฐู ุงูููุงูุฉ ุนู ุฃุจุณุท ูุซุงู ูุชุญููู ุณุฌูุงุช ุฌุฏุงุฑ ุงูุญูุงูุฉ ุจุงุณุชุฎุฏุงู ููุฏุณ ELK.  ูู ุงููุณุชูุจู ุ ุฃูุฏ ุฃู ุฃุตู ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ ูุชุญููู ุญุฑูุฉ ูุฑูุฑ Netflow ูููุงูุจ pcap ุจูุงุณุทุฉ Zeek. <br><br><img src="https://habrastorage.org/webt/ze/cb/qx/zecbqxrubn4v0mutaoewxzsp1zm.png"><br><br>  ุฅุฐุง ูุงู ูุฏูู ุนููุงู IP ุนุงู ูุฌูุงุฒ ุฐูู ุฃูุซุฑ ุฃู ุฃูู ูุจูุงุจุฉ / ุฌุฏุงุฑ ุญูุงูุฉ ุ ูููููู ุชูุธูู ูุตูุฏุฉ ุฎุงููุฉ ุณูุจูุฉ ุนู ุทุฑูู ุฅุนุฏุงุฏ ุงูุทูุจุงุช ุงููุงุฑุฏุฉ ูููุงูุฐ TCP ู UDP "ุงููุฐูุฐุฉ".  ููุฌุฏ ูุซุงู ูุชูููู ุฌูุงุฒ ุชูุฌูู Mikrotik ุชุญุช ูุทุฉ ุ ูููู ุฅุฐุง ูุงู ูุฏูู ุฌูุงุฒ ุชูุฌูู ุจุงุฆุน ูุฎุชูู (ุฃู ูุธุงู ุฃูุงู ุขุฎุฑ) ูู ูุชูุงูู ุงููุฏ ุ ูุณุชุญุชุงุฌ ููุท ุฅูู ูุนุฑูุฉ ุจุนุถ ุชูุณููุงุช ุงูุจูุงูุงุช ูุงูุฅุนุฏุงุฏุงุช ุงูุฎุงุตุฉ ุจุงูููุฑุฏ ุ ูุณุชุญุตู ุนูู ููุณ ุงููุชูุฌุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุตู </h3><br>  ูุง ูุชุธุงูุฑ ุงูููุงู ุจุฃูู ุฃุตูู ุ ููุง ูุนุงูุฌ ูุดุงูู ุงูุชุณุงูุญ ูุน ุงูุฎุทุฃ ูู ุงูุฎุฏูุงุช ุ ูุงูุฃูู ุ ูุฃูุถู ุงูููุงุฑุณุงุช ุ ููุง ุฅูู ุฐูู.  ูู ุงูุถุฑูุฑู ุงุนุชุจุงุฑ ูุฐู ุงููุงุฏุฉ ุฃูุงุฏูููุฉ ุ ููู ููุงุณุจุฉ ููุชุนุฑู ุนูู ุงููุธููุฉ ุงูุฃุณุงุณูุฉ ูููุฏุณ ELK ูุขููุฉ ุชุญููู ุงูุณุฌู ูุฌูุงุฒ ุงูุดุจูุฉ.  ููุน ุฐูู ุ ูุฏ ูููู ูู ุงููุซูุฑ ููุงูุชูุงู ุจุงููุณุจุฉ ูููุจุชุฏุฆ ุฃูุถูุง. <br><br>  ุชู ุฅุทูุงู ุงููุดุฑูุน ูู ููู docker-compose ุ ููู ุงูุณูู ุฌุฏูุง ูุดุฑ ุจูุฆุชู ุงูููุงุซูุฉ ุ ุญุชู ูู ูุงู ูุฏูู ุฌูุงุฒ ุชูุฌูู ุจุงุฆุน ุขุฎุฑ ูู ูุชูุงูู ุงููุฏ ุ ูุง ุนููู ุณูู ููู ุจุนุถ ุงูุดูุก ุนู ุชูุณููุงุช ุงูุจูุงูุงุช ูุงูุฅุนุฏุงุฏุงุช ุงูุฎุงุตุฉ ุจุงูููุฑุฏ.  ุจุงููุณุจุฉ ููุจุงูู ุ ุญุงููุช ุฃู ุฃุตู ุจุงูุชูุตูู ูุฏุฑ ุงูุฅููุงู ุฌููุน ุงููุฑูู ุงูุฏูููุฉ ุงููุฑุชุจุทุฉ ุจุชูููู ุฎุทูุท ุฃูุงุจูุจ Logstash ูุชุนูููุงุช Elasticsearch ูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู ELK.  ูุชู ุงุณุชุถุงูุฉ ุฌููุน ููููุงุช ูุฐุง ุงููุธุงู ุนูู <a href="https://github.com/mekhanme/elk-mikrot" rel="nofollow">ุฌูุซุจ</a> ุ ุจูุง ูู ุฐูู ุชููููุงุช ุงูุฎุฏูุฉ.  ูู ููุงูุฉ ุงูููุงูุฉ ุ ุณุฃูุนู ูุณู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง ุ ุงูุฐู ุณูุตู ุฎุทูุงุช ุชุดุฎูุต ุงููุดููุงุช ุงูุดุงุฆุนุฉ ูููุงุฏููู ุงูุฌุฏุฏ ุฅูู ูุฐุง ุงูุนูู. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h3><br>  ุนูู ุงูุฎุงุฏู ููุณู ุ ููุช ุจุชุฑููุจ ูุธุงู ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ Proxmox ุ ุญูุซ ุชู ุฅุทูุงู ุญุงููุงุช Docker machine KVM ุนููู.  ูู ุงูููุชุฑุถ ุฃู ุชุนุฑู ููููุฉ ุนูู ุนุงูู ุงูููู ูุฑุณู ุงูุณูู ุ ูุธุฑูุง ููุฌูุฏ ุฃูุซูุฉ ุชูููู ูุงููุฉ ุญูู ุงุณุชุฎุฏุงู ุงูุฅูุชุฑูุช.  ูู ุฃุชุทุฑู ุฅูู ูุดููุงุช ุชุซุจูุช Docker ุ ุณุฃูุชุจ ููููุงู ุนู ุฅูุดุงุก ุนุงูู ุงูุฅุฑุณุงุก. <br><br>  ูุดุฃุช ููุฑุฉ ุฅุทูุงู honeypot ูู ุนูููุฉ ุฏุฑุงุณุฉ Elasticsearch ู Logstash ู Kibana.  ูู ุญูุงุชู ุงูููููุฉ ุ ูู ุฃุดุงุฑู ูุทูููุง ูู ุฅุฏุงุฑุฉ ูุฐู ุงููุฌููุนุฉ ูุงุณุชุฎุฏุงููุง ุนููููุง ุ ููู ูุฏูู ูุดุงุฑูุน ููุงูุฉ ุ ุจูุถููุง ุงูุชููุช ูุซูุฑูุง ุจุงุณุชูุดุงู ุงูุฅููุงููุงุช ุงูุชู ูููุฑูุง ูุญุฑู ุจุญุซ Elasticsearch ู Kibana ุ ูุงูุฐู ููููู ูู ุฎูุงูู ุชุญููู ุงูุจูุงูุงุช ูุชุตูุฑูุง. <br><br>  ุจูุฏู ููุณ ุฃุญุฏุซ ุฎุงุฏู NUC ูุตุบุฑุฉ ูุน 8GB RAM ูููู ููุท ูุจุฏุก ููุฏุณ ELK ูุน ุนูุฏุฉ ูุฑูุฉ ูุงุญุฏุฉ.  ูู ุจูุฆุงุช ุงูุฅูุชุงุฌ ุ ูุฐุง ุ ุจุงูุทุจุน ุ ุบูุฑ ูุณุชุญุณู ุ ูููู ููุท ููุงุณุจ ููุชุฏุฑูุจ.  ูููุง ูุชุนูู ุจูุณุฃูุฉ ุงูุฃูู ุ ููุงู ููุงุญุธุฉ ูู ููุงูุฉ ุงูููุงู. <br><br>  ุงูุฅูุชุฑูุช ูููุก ุจุงูุชุนูููุงุช ุงูุฎุงุตุฉ ุจุชุฑููุจ ููุฏุณ ELK ูุชููููู ููููุงู ุจููุงู ููุงุซูุฉ (ุนูู ุณุจูู ุงููุซุงู ุ <a href="https://habr.com/ru/post/324760/">ุชุญููู ูุฌูุงุช ุงูููุฉ ุงูุบุงุดูุฉ ุนูู ssh ุจุงุณุชุฎุฏุงู Logstash ุงูุฅุตุฏุงุฑ 2</a> ุ <a href="https://habr.com/ru/post/431600/">ูุชุญููู ุณุฌูุงุช Suricata ุจุงุณุชุฎุฏุงู Filebeat ุงูุฅุตุฏุงุฑ 6</a> ) ุ ูููู ูู ูุนุธู ุงูุญุงูุงุช ุ ูุง ูุชู ุฅููุงุก ุงูุงูุชูุงู ุงููุงุฌุจ ููุชูุงุตูู ุ ูุฐูู 90 ูู ุงููุงุฆุฉ ูู ุงูููุงุฏ ุณุชููู ููุฅุตุฏุงุฑุงุช 1 ุฅูู 6 (ูู ููุช ูุชุงุจุฉ ูุฐุง ุงูุชูุฑูุฑ ุ ูุงู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู ELK ูู 7.5.0).  ูุฐุง ุฃูุฑ ููู ูุฃูู ูู ุงูุฅุตุฏุงุฑ 6 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/removal-of-types.html" rel="nofollow">ูุฑุฑ</a> Elasticsearch <a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/removal-of-types.html" rel="nofollow">ุฅุฒุงูุฉ</a> ููุงู ููุน ุงูุชุนููู ุ ูุจุงูุชุงูู ุชุบููุฑ ุจูุงุก ุฌููุฉ ุงูุงุณุชุนูุงู ููููู ุงูุชุนููู.  ูุนุฏ ูุงูุจ ุงูุชุนููู ูู ูุฑู ูุงุฆููุง ููููุง ุจุดูู ุนุงู ุ ูุจุงูุชุงูู ูู ุชููู ููุงู ูุดููุงุช ูููุง ุจุนุฏ ูู ุฃุฎุฐ ุงูุนููุงุช ูุงูุชุตูุฑ ุ ุฃูุตุญู ุจุนุฏู ุงููุดุงุฑูุฉ ูู ูุตู ุงููุณุฎ ููุญุงููุฉ ููู ูุง ุชูุนูู.  ุนูุงูุฉ ุนูู ุฐูู ุ ุณุฃุญุงูู ุดุฑุญ ูุนูู ุงูุนูููุงุช ูุงูุชููููุงุช ุงูููุถุญุฉ ุจูุถูุญ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ุฌูุงุฒ ุงูุชูุฌูู </h2><br>  ุจุงููุณุจุฉ ุฅูู ุงูุดุจูุฉ ุงูููุฒููุฉ ุ ุฃุณุชุฎุฏู Mikrotik ูููุฌู ุ ูุฐูู ุณูููู ูุซุงูุงู ุนูู ุฐูู.  ูููู ูููู ุชูููู ุฃู ูุธุงู ุชูุฑูุจูุง ูุฅุฑุณุงู syslog ุฅูู ุฎุงุฏู ุจุนูุฏ ุ ุณูุงุก ูุงู ุฌูุงุฒ ุชูุฌูู ุฃู ุฎุงุฏููุง ุฃู ุฃู ูุธุงู ุฃูุงู ุขุฎุฑ ููููู ุชุณุฌูู ุงูุฏุฎูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุฑุณุงู ุฑุณุงุฆู syslog ุฅูู ุฎุงุฏู ุจุนูุฏ </h3><br>  ูู Mikrotik ุ ูุชูููู ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุฎุงุฏู ุจุนูุฏ ูู ุฎูุงู CLI ุ ูุง ุนููู ุณูู ุฅุฏุฎุงู ุฃูุฑูู: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">/system logging action add remote=192.168.88.130 remote-port=5145 src-address=192.168.88.1 name=logstash target=remote /system logging add action=logstash topics=info</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุชูููู ููุงุนุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ ูุน ุชุณุฌูู </h3><br>  ูุญู ููุชููู ููุท ุจุจุนุถ ุงูุจูุงูุงุช (ุงุณู ุงููุถูู ุ ุนููุงู IP ุ ุงุณู ุงููุณุชุฎุฏู ุ ุนููุงู url ุ ููุง ุฅูู ุฐูู) ุ ูุงูุชู ููููู ูู ุฎูุงููุง ุงูุญุตูู ุนูู ุตูุฑุฉ ุฃู ุงุฎุชูุงุฑ ุฌููู.  ูู ุฃุจุณุท ุงูุญุงูุงุช ุ ูู ุฃุฌู ุงูุญุตูู ุนูู ูุนูููุงุช ุญูู ุนูููุงุช ูุญุต ุงูููุงูุฐ ููุญุงููุงุช ุงููุตูู ุ ุชุญุชุงุฌ ุฅูู ุชูููู ูููู ุฌุฏุงุฑ ุงูุญูุงูุฉ ูุชุณุฌูู ูุดุบูุงุช ุงููุงุนุฏุฉ.  ูู Mikrotik ุ ููุช ุจุฅุนุฏุงุฏ ุงูููุงุนุฏ ูู ุฌุฏูู NAT ุ ูููุณ Filter ุ ูุฃููู ูู ุงููุณุชูุจู ุณูู ุฃุถุน ูุฌููุนุงุช ูู ุดุฃููุง ุฃู ุชุญุงูู ุนูู ุงูุฎุฏูุงุช ุ ููุฐุง ุณูุณูุญ ูู ุจุงูุชุญููู ูู ูุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุณููู ุงูุฑูุจูุชุงุช ุ ููู ูุฐุง ุณููุงุฑูู ุฃูุซุฑ ุชูุฏูุงู ูููุณ ูุฐุง ุงูููุช. <br><br>  ุชุญุฐูุฑ!  ูู ุงูุชูููู ุฃุฏูุงู ุ ูุชู ุชูููุฐ ูููุฐ TCP ุงูููุงุณู ูุฎุฏูุฉ SSH (22) ูู ุงูุดุจูุฉ ุงููุญููุฉ.  ุฅุฐุง ููุช ุชุณุชุฎุฏู SSH ูููุตูู ุฅูู ุงูููุฌู ูู ุงูุฎุงุฑุฌ ููุงู ููุฅุนุฏุงุฏุงุช ูููุฐ 22 ( <i>ุทุจุงุนุฉ ุฎุฏูุฉ IP</i> ูู CLI ู <i>IP&gt; ุฎุฏูุงุช</i> ูู Winbox) ุ ูุฌุจ ุฅุนุงุฏุฉ ุชุนููู ุงููููุฐ ูุฅุฏุงุฑุฉ SSH ุ ุฃู ุนุฏู ุฅุฏุฎุงู ุงููุงุนุฏุฉ ุงูุฃุฎูุฑุฉ ูู ุงูุฌุฏูู. <br>  ุฃูุถูุง ุ ุจูุงุกู ุนูู ุงุณู ูุงุฌูุฉ WAN (ุฅุฐุง ูู ูุชู ุงุณุชุฎุฏุงู ุฌุณุฑ WAN) ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุชุบููุฑ ุงููุนููุฉ <i>ูู ุงููุงุฌูุฉ</i> ุฅูู ุงููุนููุฉ ุงูููุงุณุจุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">/ip firewall nat add action=netmap chain=dstnat comment="HONEYPOT RDP" dst-port=3389 in-interface=bridge-wan log=yes log-prefix=honeypot_rdp protocol=tcp to-addresses=192.168.88.201 to-ports=3389 add action=netmap chain=dstnat comment="HONEYPOT ELASTIC" dst-port=9200 in-interface=bridge-wan log=yes log-prefix=honeypot_elastic protocol=tcp to-addresses=192.168.88.201 to-ports=9211 add action=netmap chain=dstnat comment=" HONEYPOT TELNET" dst-port=23 in-interface=bridge-wan log=yes log-prefix=honeypot_telnet protocol=tcp to-addresses=192.168.88.201 to-ports=2325 add action=netmap chain=dstnat comment="HONEYPOT DNS" dst-port=53 in-interface=bridge-wan log=yes log-prefix=honeypot_dns protocol=udp to-addresses=192.168.88.201 to-ports=9953 add action=netmap chain=dstnat comment="HONEYPOT FTP" dst-port=21 in-interface=bridge-wan log=yes log-prefix=honeypot_ftp protocol=tcp to-addresses=192.168.88.201 to-ports=9921 add action=netmap chain=dstnat comment="HONEYPOT SMTP" dst-port=25 in-interface=bridge-wan log=yes log-prefix=honeypot_smtp protocol=tcp to-addresses=192.168.88.201 to-ports=9925 add action=netmap chain=dstnat comment="HONEYPOT SMB" dst-port=445 in-interface=bridge-wan log=yes log-prefix=honeypot_smb protocol=tcp to-addresses=192.168.88.201 to-ports=9445 add action=netmap chain=dstnat comment="HONEYPOT MQTT" dst-port=1883 in-interface=bridge-wan log=yes log-prefix=honeypot_mqtt protocol=tcp to-addresses=192.168.88.201 to-ports=9883 add action=netmap chain=dstnat comment="HONEYPOT SIP" dst-port=5060 in-interface=bridge-wan log=yes log-prefix=honeypot_sip protocol=tcp to-addresses=192.168.88.201 to-ports=9060 add action=dst-nat chain=dstnat comment="HONEYPOT SSH" dst-port=22 in-interface=bridge-wan log=yes log-prefix=honeypot_ssh protocol=tcp to-addresses=192.168.88.201 to-ports=9922</code> </pre> <br><img src="https://habrastorage.org/webt/of/dm/jo/ofdmjo5n3f8fi54udyvbixhaifm.png"><br><br>  ูู Winbox ุ ูุชู ุชูููู ููุณู ูู <i>ุนูุงูุฉ ุชุจููุจ IP&gt; ุฌุฏุงุฑ ุงูุญูุงูุฉ&gt; NAT</i> . <br><br>  ุณูููู ุงูููุฌู ุงูุขู ุจุฅุนุงุฏุฉ ุชูุฌูู ุงูุญุฒู ุงููุณุชููุฉ ุฅูู ุงูุนููุงู ุงููุญูู 192.168.88.201 ูุงููููุฐ ุงููุฎุตุต.  ุงูุขู ูุง ุฃุญุฏ ูุณุชูุน ุฅูู ูุฐู ุงูููุงูุฐ ุ ูุจุงูุชุงูู ูุฅู ุงูุงุชุตุงูุงุช ุณูู ุชููุทุน.  ูู ุงููุณุชูุจู ุ ูู ุนุงูู ุงููููุงุก ุ ููููู ุชุดุบูู ูุตูุฏุฉ honeypot ุ ูุงูุชู ููุฌุฏ ุงููุซูุฑ ูููุง ููู ุฎุฏูุฉ.  ุฅุฐุง ูู ููู ูุฐุง ูุฎุทุทูุง ุ ูุจุฏูุงู ูู ููุงุนุฏ NAT ุ ูุฌุจ ุนููู ูุชุงุจุฉ ูุงุนุฏุฉ ุจูุง ุฅุฌุฑุงุก ุงูุฅููุงุช ูู ุณูุณูุฉ Filter. <br><br><h3 style=";text-align:right;direction:rtl">  ุจุฏุก ุชุดุบูู ELK ุจุงุณุชุฎุฏุงู ุนุงูู ุงูุชููุฆุฉ </h3><br>  ุจุนุฏ ุฐูู ุ ููููู ุงูุจุฏุก ูู ุชูููู ุงููููู ุงูุฐู ุณูููู ุจูุนุงูุฌุฉ ุงูุณุฌูุงุช.  ุฃูุตุญู ุจุงูุชุฏุฑุจ ุนูู ุงููุณุชูุฏุน ูุงุณุชูุณุงุฎู ุนูู ุงูููุฑ ูุฑุคูุฉ ูููุงุช ุงูุชูููู ุจุงููุงูู.  ูููู ุฑุคูุฉ ุฌููุน ุงูุชููููุงุช ุงูููุถุญุฉ ููุงู ุ ูู ูุต ุงูููุงู ุ ุณุฃูุณุฎ ุฌุฒุกูุง ููุท ูู ุงูุชููููุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ git clone https://github.com/mekhanme/elk-mikrot.git</code> </pre> <br><img src="https://habrastorage.org/webt/95/_b/9g/95_b9gu4scfg99nwtyfph-0pf7o.png"><br><br>  ูู ุจูุฆุฉ ุงุฎุชุจุงุฑ ุฃู ุชุทููุฑ ุ ูู ุงูุฃูุณุจ ุชุดุบูู ุญุงููุงุช ุงูุฅุฑุณุงุก ุจุงุณุชุฎุฏุงู ุนุงูู ุงูุฅุฑุณุงุก.  ูู ูุฐุง ุงููุดุฑูุน ุ ุงุณุชุฎุฏู ููู docker-compose ุงูุฎุงุต <a href="https://docs.docker.com/compose/compose-file/" rel="nofollow">ุจุงูุฅุตุฏุงุฑ</a> ุงูุฃุญุฏุซ <a href="https://docs.docker.com/compose/compose-file/" rel="nofollow">3.7</a> ูู ุงูููุช ุงูุญุงูู ุ ููู ูุชุทูุจ ุฅุตุฏุงุฑ ูุดุบู docker 18.06.0+ ุ ูุฐูู ูุฌุฏุฑ ุชุญุฏูุซ <a href="https://docs.docker.com/install/linux/docker-ce/centos/" rel="nofollow">ุนุงูู</a> ุงูุฅุฑุณุงุก ุ ููุฐูู docker-compose. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ curl -L "https://github.com/docker/compose/releases/download/1.25.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose โฏโฏ chmod +x /usr/local/bin/docker-compose</code> </pre> <br>  ูุธุฑูุง ูุฃู ุงูุฅุตุฏุงุฑุงุช ุงูุญุฏูุซุฉ ูู docker-compose ุ ููุฏ ุชู <i>ูุทุน</i> ุงููุนููุฉ mem_limit ูุชูุช ุฅุถุงูุฉ ุงููุดุฑ ุ ูุงูุฐู ูุนูู ููุท ูู ูุถุน ุณุฑุจ ( <i>ูุดุฑ ููุฏุณ docker</i> ) ุ ููุง ูุคุฏู ุฅูู ุจุฏุก <i>ุชูููู</i> ุชูููู docker ุจุญุฏูุฏ ูุคุฏู ุฅูู ุญุฏูุซ ุฎุทุฃ.  ูุธุฑูุง ูุฃููู ูุง ุฃุณุชุฎุฏู ุณุฑุจ ุ ูุฃุฑูุฏ ุฃู ูููู ูุฏู ุญุฏูุฏ ููููุงุฑุฏ ุ ูุฌุจ ุฃู ุฃุจุฏุฃ ุฐูู ุจุฎูุงุฑ - <i>ุงูุชูุงูู</i> ุ ูุงูุฐู ูุญูู ุงูุญุฏูุฏ ูู ุงูุฅุตุฏุงุฑุงุช ุงูุฌุฏูุฏุฉ ูู ุนุงูู <i>ุงูุฅุฑุณุงุก</i> ุฅูู ูุง ูุนุงุฏููุง ูู ุบูุฑ ุงููุญุงู. <br><br>  ุงุฎุชุจุงุฑ ุงูุชุดุบูู ูุฌููุน ุงูุญุงููุงุช (ูู ุงูุฎูููุฉ -d): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ docker-compose --compatibility up -d</code> </pre> <br>  ุณูุชุนูู ุนููู ุงูุงูุชุธุงุฑ ุญุชู ูุชู ุชูุฒูู ุฌููุน ุงูุตูุฑ ุ ูุจุนุฏ ุงูุชูุงู ุงูุฅุทูุงู ุ ููููู ุงูุชุญูู ูู ุญุงูุฉ ุงูุญุงููุงุช ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ docker-compose --compatibility ps</code> </pre> <br>  ูุธุฑูุง ูุญูููุฉ ุฃู ุฌููุน ุงูุญุงููุงุช ุณุชููู ุนูู ููุณ ุงูุดุจูุฉ (ุฅุฐุง ูู ุชุญุฏุฏ ุงูุดุจูุฉ ุจุดูู ุตุฑูุญ ุ ูุณูุชู ุฅูุดุงุก ุฌุณุฑ ุฌุฏูุฏ ุ ููู ููุงุณุจ ูู ูุฐุง ุงูุณููุงุฑูู) ุ ููุญุชูู docker-compose.yml ุนูู ูุนููุฉ ุงุณู <i>ุงูุญุงููุฉ</i> ูุฌููุน <i>ุงูุญุงููุงุช</i> ุ ูุณูููู ููุญุงููุงุช ุจุงููุนู ุงุชุตุงู ุนุจุฑ DNS ุงููุฏูุฌ ุนุงูู ูููุงุก.  ูุชูุฌุฉ ูุฐูู ุ ููุณ ูุทููุจูุง ุชุณุฌูู ุนูุงููู IP ูู ุชููููุงุช ุงูุญุงููุฉ.  ูู ุงูุชูููู Logstash ุ ูุชู ุชุณุฌูู ุงูุดุจูุฉ ุงููุฑุนูุฉ 192.168.88.0/24 ุนูู ุฃููุง ูุญููุฉ ุ ุนูุงูุฉ ุนูู ุฐูู ุ ุณูููู ููุงู ุชูุณูุฑุงุช ุฃูุซุฑ ุชูุตููุงู ูู ุงูุชููุฆุฉ ุ ููููุง ูุฐูู ููููู ุชูุถูุญ ูุซุงู ุงูุชูููู ูุจู ุงูุจุฏุก. <br><br><h2 style=";text-align:right;direction:rtl">  ุชูููู ุฎุฏูุงุช ELK </h2><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ุณุชููู ููุงู ุชูุถูุญุงุช ุญูู ููููุฉ ุชูููู ูุธุงุฆู ููููุงุช ELK ุ ููุฐูู ุจุนุถ ุงูุฅุฌุฑุงุกุงุช ุงูุฃุฎุฑู ุงูุชู ุณุชุญุชุงุฌ ุฅูู ุชูููุฐูุง ุนูู Elasticsearch. <br><br>  ูุชุญุฏูุฏ ุงูุฅุญุฏุงุซูุงุช ุงูุฌุบุฑุงููุฉ ุญุณุจ ุนููุงู IP ุ ุณุชุญุชุงุฌ ุฅูู ุชูุฒูู ูุงุนุฏุฉ ุจูุงูุงุช <a href="https://dev.maxmind.com/geoip/geoip2/geolite2/" rel="nofollow">GeoLite2</a> ุงููุฌุงููุฉ ูู MaxMind: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ cd elk-mikrot &amp;&amp; mkdir logstash/geoip_db โฏโฏ curl -O https://geolite.maxmind.com/download/geoip/database/GeoLite2-City-CSV.zip &amp;&amp; unzip GeoLite2-City-CSV.zip -d logstash/geoip_db &amp;&amp; rm -f GeoLite2-City-CSV.zip โฏโฏ curl -O https://geolite.maxmind.com/download/geoip/database/GeoLite2-ASN-CSV.zip &amp;&amp; unzip GeoLite2-ASN-CSV.zip -d logstash/geoip_db &amp;&amp; rm -f GeoLite2-ASN-CSV.zip</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ Logstash </h3><br>  ููู ุงูุชูููู ุงูุฑุฆูุณู ูู <i>logstash.yml</i> ุ ุญูุซ ููุช ุจุชุณุฌูู ุฎูุงุฑ ุฅุนุงุฏุฉ ุชุญููู ุงูุชูููู ุชููุงุฆููุง ุ ูุฅู ุจููุฉ ุฅุนุฏุงุฏุงุช ุจูุฆุฉ ุงูุงุฎุชุจุงุฑ ููุณุช ูููุฉ.  ููุตู ุชูููู ูุนุงูุฌุฉ ุงูุจูุงูุงุช (ุงูุณุฌูุงุช) ูู Logstash ูู ูููุงุช <i>conf</i> ูููุตูุฉ ุ ูุนุงุฏุฉ ูุง ูุชู ุชุฎุฒูููุง ูู ุฏููู <i>ุฎุท ุฃูุงุจูุจ</i> .  ูู ุงููุฎุทุท ุ ุนูุฏ ุงุณุชุฎุฏุงู <a href="https://www.elastic.co/guide/en/logstash/current/multiple-pipelines.html" rel="nofollow">ุฎุทูุท ุฃูุงุจูุจ ูุชุนุฏุฏุฉ</a> ุ ูุตู ููู <i>pipelines.yml ุฎุทูุท ุงูุฃูุงุจูุจ</i> ุงูููุดุทุฉ.  ุฎุท ุงูุฃูุงุจูุจ ุนุจุงุฑุฉ ุนู ุณูุณูุฉ ูู ุงูุฅุฌุฑุงุกุงุช ุนูู ุงูุจูุงูุงุช ุบูุฑ ุงููููููุฉ ูู ุฃุฌู ุชููู ุงูุจูุงูุงุช ูุน ุจููุฉ ูุญุฏุฏุฉ ูู ุงูุฅุฎุฑุงุฌ.  ูุนุชุจุฑ ุงููุฎุทุท ูุน <i>pipelines.yml</i> ูููุฃ ุจุดูู ูููุตู ุงุฎุชูุงุฑููุง ุ ูููููู ุงูุงุณุชุบูุงุก ุนูู ูู ุฎูุงู ุชูุฒูู ุฌููุน ุงูุชููููุงุช ูู ุฏููู <i>ุฎุท ุงูุฃูุงุจูุจ</i> ุงููุซุจุช ุ ููุน ุฐูู ุ ุจุงุณุชุฎุฏุงู ููู <i>pipelines.yml</i> ูุญุฏุฏ ุ ูููู ุงูุชูููู ุฃูุซุฑ ูุฑููุฉ ุ ุญูุซ ููููู ุชุดุบูู ูุฅููุงู ูููุงุช <i>conf</i> ูู ุฏููู <i>ุฎุทูุท ุงูุฃูุงุจูุจ</i> ุงูุชููููุงุช ุงูุถุฑูุฑูุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุนูู ุฅุนุงุฏุฉ ุชุญููู ุงูุชููููุงุช ููุท ูู ูุธุงู ุฎุทูุท ุงูุฃูุงุจูุจ ุงููุชุนุฏุฏุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ cat logstash/config/pipelines.yml - pipeline.id: logstash-mikrot path.config: "pipeline/logstash-mikrot.conf"</code> </pre> <br>  ุงูุชุงูู ูุฃุชู ุงูุฌุฒุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ุงูุชูููู Logstash.  ูุชููู ูุตู ุฎุท ุงูุฃูุงุจูุจ ูู ุนุฏุฉ ุฃูุณุงู - ูู ุงูุจุฏุงูุฉ ุ ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ุงูููููุงุช ุงูุฅุถุงููุฉ ูู ูุณู " <i>ุงูุฅุฏุฎุงู</i> " ุจูุณุงุนุฏุฉ Logstash ุงูุชู ุชุณุชูุจู ุงูุจูุงูุงุช.  ุชุชูุซู ุฃุณูู ุทุฑููุฉ ูุฌูุน syslog ูู ุฌูุงุฒ ุงูุดุจูุฉ ูู ุงุณุชุฎุฏุงู ููููุงุช ุฅุฏุฎุงู <a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-tcp.html" rel="nofollow">tcp</a> / <a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-udp.html" rel="nofollow">udp</a> .  ุงููุนููุฉ ุงููุทููุจุฉ ุงููุญูุฏุฉ ููุฐู ุงูุฅุถุงูุงุช ูู <i>ุงููููุฐ</i> ุ ููุฌุจ ุชุญุฏูุฏูุง ููุง ูู ูู ุฅุนุฏุงุฏุงุช ุฌูุงุฒ ุงูุชูุฌูู. <br><br>  ุงููุณู ุงูุซุงูู ูู <i>ุงููุฑุดุญ</i> ุ ุงูุฐู ูุตู ุงูุฅุฌุฑุงุกุงุช ุงูุฃุฎุฑู ุจุงูุจูุงูุงุช ุงูุชู ูู ูุชู ุชูุธูููุง ุจุนุฏ.  ูู ุงููุซุงู ุงูุฎุงุต ุจู ุ ูุชู ุญุฐู ุฑุณุงุฆู syslog ุบูุฑ ุงูุถุฑูุฑูุฉ ูู ุฌูุงุฒ ุชูุฌูู ูุน ูุต ูุนูู.  ูุชู ุฐูู ุจุงุณุชุฎุฏุงู ุงูุดุฑุท ูุฅุฌุฑุงุก <a href="https://www.elastic.co/guide/en/logstash/7.5/plugins-filters-drop.html" rel="nofollow"><i>ุงูุฅุณูุงุท</i></a> ุงูููุงุณู ุ ูุงูุฐู ูุชุฌุงูู ุงูุฑุณุงูุฉ ุจุฃููููุง ุฅุฐุง ุชู ุงุณุชููุงุก ุงูุดุฑุท.  ูู <a href="https://www.elastic.co/guide/en/logstash/7.5/event-dependent-configuration.html" rel="nofollow">ุงูุญุงูุฉ</a> ุ ูุชู ุงูุชุญูู ูู ุญูู <i>ุงูุฑุณุงูุฉ</i> ููุฌูุฏ ูุต ูุนูู. <br><br><img src="https://habrastorage.org/webt/iq/j0/ut/iqj0utufb6itcsrwspxi9qw4e2c.png"><br><br>  ุฅุฐุง ูู ุชุณูุท ุงูุฑุณุงูุฉ ุ <a href="https://www.elastic.co/guide/en/logstash/7.5/plugins-filters-grok.html" rel="nofollow"><i>ูุณุชุฐูุจ</i></a> ุฅูู ุฃุณูู ุงูุณูุณูุฉ ูุชุฏุฎู ุนุงูู ุชุตููุฉ <a href="https://www.elastic.co/guide/en/logstash/7.5/plugins-filters-grok.html" rel="nofollow"><i>grok</i></a> .  ููุง ุชููู ุงููุซุงุฆู ุ <i>ูุนุฏ grok ุทุฑููุฉ ุฑุงุฆุนุฉ ูุชุญููู ุจูุงูุงุช ุงูุณุฌู ุบูุฑ ุงููููููุฉ ุฅูู ุดูุก ููุธู ููููู ุงูุงุณุชุนูุงู ุนูู</i> .  ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงูููุชุฑ ููุนุงูุฌุฉ ุณุฌูุงุช ุงูุฃูุธูุฉ ุงููุฎุชููุฉ (ูุธุงู ููููุณ syslog ุ ุฎุงุฏู ุงูููุจ ุ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ุฃุฌูุฒุฉ ุงูุดุจูุฉ ุ ุฅูุฎ).  ุจูุงุกู ุนูู <a href="https://github.com/logstash-plugins/logstash-patterns-core/tree/master/patterns" rel="nofollow">ุงูุฃููุงุท ุงูุฌุงูุฒุฉ ุ</a> ููููู ุ ุฏูู ุฅููุงู ุงููุซูุฑ ูู ุงูููุช ุ ุฅูุดุงุก ูุญูู ูุฃู ุชุณูุณู ูุชูุฑุฑ ุฃูุซุฑ ุฃู ุฃูู.  ูู ุงููุฑูุญ ุงุณุชุฎุฏุงู <a href="http://grokdebug.herokuapp.com/" rel="nofollow">ูุญูู ุนุจุฑ ุงูุฅูุชุฑูุช</a> ููุชุญูู ูู ุตุญุชู (ูู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู Kibana ุ ุชูุฌุฏ ูุธุงุฆู ููุงุซูุฉ ูู ูุณู <i>ุฃุฏูุงุช Dev</i> ). <br><br><img src="https://habrastorage.org/webt/_g/9q/ky/_g9qkyst3-na7a2i8mhxwf8avw0.gif"><br><br>  ุงููุฌูุฏ <i>"./logstash/patterns:/usr/share/logstash/patterns"</i> ูุณุฌู ูู <i>docker</i> <i>-compose.yml</i> <i>ุ</i> ูู ุฏููู <i>ุงูุฃููุงุท</i> ููุฌุฏ ููู ุจู ุฃููุงุท ูุฌุชูุน ููุงุณูุฉ (ููุฑุงุญุฉ ููุท ุ ูุนุฑูุฉ ูุง ุฅุฐุง ููุช ูุฏ ูุณูุช) ุ ููุฐูู ููู ุจู ุฃููุงุท ูู ุนุฏุฉ ุฃููุงุน ูู ุฑุณุงุฆู Mikrotik (ูุญุฏุงุช <i>Firewall</i> ู <i>Auth)</i> ุ ุนู ุทุฑูู ุงูููุงุณ ุ ููููู ุฅุถุงูุฉ ุงูููุงูุจ ุงูุฎุงุตุฉ ุจู ูุฑุณุงุฆู ุฐุงุช ุจููุฉ ูุฎุชููุฉ. <br><br>  ุชุชูุญ ูู ุงูุฎูุงุฑุงุช ุงูููุงุณูุฉ <i>add_field</i> ู <i>remove_field</i> ุฅุถุงูุฉ ุฃู ุฅุฒุงูุฉ ุงูุญููู ูู ุงูุฑุณุงูุฉ ุงูุชู ุชุชู ูุนุงูุฌุชูุง ุฏุงุฎู ุฃู ูุฑุดุญ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุญุฐู ุญูู <i>ุงููุถูู</i> ุ ูุงูุฐู ูุญุชูู ุนูู ุงุณู ุงููุถูู ุงูุฐู ุชู ุงุณุชูุงู ุงูุฑุณุงูุฉ ููู.  ูู ุงููุซุงู ุงูุฎุงุต ุจู ุ ููุฌุฏ ูุถูู ูุงุญุฏ ููุท ุ ูุฐูู ูุง ุชูุฌุฏ ููุทุฉ ูู ูุฐุง ุงููุฌุงู. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูู ููุณ ูุณู <i>ุงูุชุตููุฉ</i> ุ ููุช ุจุชุณุฌูู ูุฑุดุญ <a href="https://www.elastic.co/guide/en/logstash/7.5/plugins-filters-cidr.html" rel="nofollow"><i>cidr</i></a> ุ ูุงูุฐู ูุชุญูู ูู ุงูุญูู ุจุนููุงู IP ููุชุฃูุฏ ูู ุชูุงููู ูุน ุดุฑุท ุงูุฏุฎูู ูู ุงูุดุจูุฉ ุงููุฑุนูุฉ ุงููุญุฏุฏุฉ ููุถุน ุงูุนูุงูุฉ.  ุงุณุชูุงุฏูุง ุฅูู ุงูุนูุงูุฉ ุงูููุฌูุฏุฉ ูู ุงูุณูุณูุฉ ุงูุฅุถุงููุฉ ุ ุณูุชู ุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุฃู ุนุฏู ุชูููุฐูุง (ุฅุฐุง ูุงู ุฐูู ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ูุฅู ูุฐุง ูุง ูุคุฏู ุฅูู ุฅุฌุฑุงุก ุจุญุซ ุฌุบุฑุงูู ุนู ุงูุนูุงููู ุงููุญููุฉ ูู ุงููุณุชูุจู). <br><br>  ูููู ุฃู ูููู ููุงู ุฃู ุนุฏุฏ ูู ุฃูุณุงู <i>ุงูุชุตููุฉ</i> ุ ุจุญูุซ ูููู ููุงู ุนุฏุฏ ุฃูู ูู ุงูุดุฑูุท ุฏุงุฎู ูุณู ูุงุญุฏ ุ ูู ุงููุณู ุงูุฌุฏูุฏ ุงูุฐู ุญุฏุฏุชู ูุฅุฌุฑุงุกุงุช ุงูุฑุณุงุฆู ุจุฏูู ุงูุนูุงูุฉ <i>src_local</i> ุ ุฃู ุ ุชุชู ูุนุงูุฌุฉ ุฃุญุฏุงุซ ุฌุฏุงุฑ ุงูุญูุงูุฉ ููุง ุงูุชู ููุชู ุจูุง ุจุนููุงู ุงููุตุฏุฑ. <br><br>  ูุญู ุงูุขู ุจุญุงุฌุฉ ุฅูู ุงูุชุญุฏุซ ุฃูุซุฑ ููููุงู ุนู ุงูููุงู ุงูุฐู ุชุญุตู ููู Logstash ุนูู ูุนูููุงุช GeoIP.  ูุฏุนู Logstash ููุงุนุฏ ุจูุงูุงุช GeoLite2.  ููุงู ุงูุนุฏูุฏ ูู ุฎูุงุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุฃูุง ุงุณุชุฎุฏู ูุงุนุฏุชู ุจูุงูุงุช: GeoLite2 City (ุงูุชู ุชุญุชูู ุนูู ูุนูููุงุช ุญูู ุงูุจูุฏ ูุงููุฏููุฉ ูุงูููุทูุฉ ุงูุฒูููุฉ) ู GeoLite2 ASN (ูุนูููุงุช ุญูู ุงููุธุงู ุงููุณุชูู ุงูุฐู ููุชูู ุฅููู ุนููุงู IP). <br><br><img src="https://habrastorage.org/webt/gf/ps/a1/gfpsa18cwgwa-7bcadoca7qyhtk.png"><br><br>  ูุดุชุฑู ุงููููู ุงูุฅุถุงูู ูู <a href="https://www.elastic.co/guide/en/logstash/7.3/plugins-filters-geoip.html" rel="nofollow"><i>geoip</i></a> ุฃูุถูุง ูู ุฅุถุงูุฉ ูุนูููุงุช GeoIP ุฅูู ุงูุฑุณุงูุฉ.  ูู ุงููุนููุงุช ุ ูุฌุจ ุนููู ุชุญุฏูุฏ ุงูุญูู ุงูุฐู ูุญุชูู ุนูู ุนููุงู IP ูุงููุงุนุฏุฉ ุงููุณุชุฎุฏูุฉ ูุงุณู ุงูุญูู ุงูุฌุฏูุฏ ุงูุฐู ุณูุชู ูุชุงุจุฉ ุงููุนูููุงุช ุจู.  ูู ุงููุซุงู ุงูุฎุงุต ุจู ุ ูุชู ุชูููุฐ ููุณ ุงูุดูุก ูุนูุงููู IP ุงููุฌูุฉ ุ ูููู ุญุชู ุงูุขู ูู ูุฐุง ุงูุณููุงุฑูู ุงูุจุณูุท ุ ูู ุชููู ูุฐู ุงููุนูููุงุช ูููุฉ ุ ูุฃู ุนููุงู ุงููุฌูุฉ ุณูููู ุฏุงุฆููุง ุนููุงู ุฌูุงุฒ ุงูุชูุฌูู.  ููุน ุฐูู ุ ูู ุงููุณุชูุจู ุณูููู ูู ุงููููู ุฅุถุงูุฉ ุณุฌูุงุช ุฅูู ุฎุท ุงูุฃูุงุจูุจ ูุฐุง ููุณ ููุท ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ ุ ูููู ุฃูุถูุง ูู ุงูุฃูุธูุฉ ุงูุฃุฎุฑู ุญูุซ ุณูููู ูู ุงูููุงุณุจ ุงููุธุฑ ุฅูู ููุง ุงูุนููุงููู. <br><br>  ูุชูุญ ูู ูุฑุดุญ ุงูุชุบููุฑ ุชุบููุฑ ุญููู ุงูุฑุณุงุฆู ูุชุนุฏูู ุงููุต ูู ุงูุญููู ููุณูุง ุ ูุชุตู ุงููุซุงุฆู ุจุงูุชูุตูู ุงูุนุฏูุฏ ูู ุงูุฃูุซูุฉ ุนูู ูุง ููููู ุงูููุงู ุจู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุงุณุชุฎุฏุงูู ูุฅุถุงูุฉ ุนูุงูุฉ ุ ูุฅุนุงุฏุฉ ุชุณููุฉ ุงูุญููู (ููุฒูุฏ ูู ุงูุชุตูุฑ ููุณุฌูุงุช ูู Kibana ุ ูุทููุจ ุชูุณูู ูุนูู ูููุงุฆู <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/geo-point.html" rel="nofollow"><i>ุงูููุทุฉ ุงูุฌุบุฑุงููุฉ</i></a> ุ ูุณูู ุฃุชุทุฑู ุฅูู ูุฐุง ุงูููุถูุน ุฃูุซุฑ ูู ุฐูู) ูุญุฐู ุงูุญููู ุบูุฑ ุงูุถุฑูุฑูุฉ. <br><br><img src="https://habrastorage.org/webt/kn/9l/qf/kn9lqfj3uwaqh0fhh-tir-f7zr4.png"><br><br>  ูุคุฏู ูุฐุง ุฅูู ุฅููุงุก ูุณู ูุนุงูุฌุฉ ุงูุจูุงูุงุช ููููู ุฃู ูุดูุฑ ููุท ุฅูู ููุงู ุฅุฑุณุงู ุฑุณุงูุฉ ููุธูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูููู Elasticsearch ุจุฌูุน ุงูุจูุงูุงุช ุ ูุณุชุญุชุงุฌ ููุท ุฅูู ุฅุฏุฎุงู ุนููุงู IP ูุงููููุฐ ูุงุณู ุงูููุฑุณ.  ููุตู ุจุฅุฏุฎุงู ุงูููุฑุณ ุจุญูู ุชุงุฑูุฎ ูุชุบูุฑ ุจุญูุซ ูุชู ุฅูุดุงุก ููุฑุณ ุฌุฏูุฏ ูู ููู. <br><br><img src="https://habrastorage.org/webt/ve/sk/ec/veskecc3kqsidcymnbkafoa3spo.png"><br><br><h3 style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ Elasticsearch </h3><br>  ุงูุนูุฏุฉ ุฅูู Elasticsearch.  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุงูุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู.  ูุชู ุงูุชูุงุนู ุจุดูู ูุฑู ุจููุงุกุฉ ุฃูุจุฑ ูู ุฎูุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Rest ูู CLI.  ุจุงุณุชุฎุฏุงู curl ุ ููููู ุฑุคูุฉ ุญุงูุฉ ุงูุนูุฏุฉ (ุงุณุชุจุฏู localhost ุจุนููุงู ip docker host): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ curl localhost:9200</code> </pre> <br>  ุซู ููููู ูุญุงููุฉ ูุชุญ Kibana ูู <a href="http://localhost:5601/" rel="nofollow"></a>  <a href="http://localhost/" rel="nofollow"><i>ูุถูู ูุญูู</i></a> : 5601.  ููุณุช ููุงู ุญุงุฌุฉ ูุชูููู ุฃู ุดูุก ูู ูุงุฌูุฉ ุงูููุจ Kibana (ูุง ูู ูุชู ุชุบููุฑ ุงููุธูุฑ ุฅูู ุงูุธูุงู).  ูุญู ููุชููู ุจูุนุฑูุฉ ูุง ุฅุฐุง ูุงู ูุฏ ุชู ุฅูุดุงุก ููุฑุณ ุ ููููุงู ุจุฐูู ุ ุงูุชุญ ูุณู <i>ุงูุฅุฏุงุฑุฉ</i> ูุญุฏุฏ <i>ุฅุฏุงุฑุฉ ููุฑุณ Elasticsearch</i> ูู ุงูุฌุฒุก ุงูุนููู ุงูุฃูุณุฑ.  ููููู ููุง ูุนุฑูุฉ ุนุฏุฏ ุงููุณุชูุฏุงุช ุงูุชู ูุชู ููุฑุณุชูุง ุ ููู ูุณุชุบุฑู ูุณุงุญุฉ ุงููุฑุต ุ ูููููู ุฃูุถูุง ุงูุงุทูุงุน ุนูู ูุนูููุงุช ุญูู ุชุนููู ุงูููุฑุณ ูู ูุนูููุงุช ูููุฏุฉ. <br><br><img src="https://habrastorage.org/webt/kl/yp/vv/klypvvi1aa2zlueq98960wdut90.png"><br><br>  ุจุนุฏ ุฐูู ููุท ุชุญุชุงุฌ ุฅูู ุชุณุฌูู ูุงูุจ ุงูุชุนููู ุงูุตุญูุญ.  ูุฐู ุงููุนูููุงุช ุถุฑูุฑูุฉ ูู Elastic ุญุชู ูููู ุฃููุงุน ุงูุจูุงูุงุช ุงูุชู ุชูุชูู ุฅูููุง ุงูุญููู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฅุฌุฑุงุก ุชุญุฏูุฏุงุช ุฎุงุตุฉ ุชุณุชูุฏ ุฅูู ุนูุงููู IP ุ ุจุงููุณุจุฉ ูุญูู <i>src_ip</i> ุ ูุฌุจ <i>ุนููู</i> ุชุญุฏูุฏ ููุน ุจูุงูุงุช <i>ip</i> ุจุดูู ุตุฑูุญ ุ ูุชุญุฏูุฏ ุงููููุน ุงูุฌุบุฑุงูู ุ ูุฌุจ ุนููู ุชุญุฏูุฏ ุญูู <i>geoip.location</i> ุจุชูุณูู ูุนูู ูุชุณุฌูู ููุน <i>ููุทุฉ</i> ุชุญุฏูุฏ ุงููููุน ุงูุฌุบุฑุงูู.  ูุง ููุฒู ูุตู ุฌููุน ุงูุญููู ุงูููููุฉ ุ ูุธุฑูุง ูุฃู ุงูุญููู ุงูุฌุฏูุฏุฉ ูุชู ุชุญุฏูุฏ ููุน ุงูุจูุงูุงุช ุชููุงุฆููุง ุจูุงุกู ุนูู ุฃููุงุท ุฏููุงููููุฉ ( <i>ุทูููุฉ</i> ููุฃุฑูุงู <i>ูุงููููุงุช ุงูุฃุณุงุณูุฉ</i> ููุณูุงุณู). <br><br>  ููููู ูุชุงุจุฉ ูุงูุจ ุฌุฏูุฏ ุฅูุง ุจุงุณุชุฎุฏุงู curl ุฃู ูุจุงุดุฑุฉ ูู ูุญุฏุฉ Kibana (ูุณู <i>ุฃุฏูุงุช Dev</i> ). <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ curl -X POST -H "Content-Type: application/json" -d @elasticsearch/logstash_mikrot-template.json http://192.168.88.130:9200/_template/logstash-mikrot</code> </pre> <br>  ุจุนุฏ ุชุบููุฑ ุงูุชุนููู ุ ุชุญุชุงุฌ ุฅูู ุญุฐู ุงูููุฑุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ curl -X DELETE http://192.168.88.130:9200/logstash-mikrot-2019.12.16</code> </pre> <br>  ุนูุฏ ูุตูู ุฑุณุงูุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ุฅูู ุงูููุฑุณ ุ ุชุญูู ูู ุงูุชุนููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ curl http://192.168.88.130:9200/logstash-mikrot-2019.12.16/_mapping</code> </pre> <br>  ููุฒูุฏ ูู ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูู Kibana ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก <i>ููุท</i> ูู <i>ุงูุฅุฏุงุฑุฉ&gt; Kibana Index Pattern</i> .  ุฃุฏุฎู <i>ุงุณู ุงูููุฑุณ</i> ุจุงูุฑูุฒ * ( <i>logstash-mikrot *)</i> ุญุชู ุชุชุทุงุจู ุฌููุน ุงููุคุดุฑุงุช ุ ุญุฏุฏ ุญูู <i>ุงูุทุงุจุน ุงูุฒููู</i> ูุญูู ูุน ุงูุชุงุฑูุฎ ูุงูููุช.  ูู ุญูู <i>ูุนุฑู ููุท ููุฑุณ ูุฎุตุต</i> ุ ููููู ุฅุฏุฎุงู ูุนุฑู ุงูููุท (ุนูู ุณุจูู ุงููุซุงู ุ <i>logstash-mikrot</i> ) ุ ูู ุงููุณุชูุจู ูููู ุฃู ูุณูู ูุฐุง ุงููุตูู ุฅูู ุงููุงุฆู. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุญููู ุงูุจูุงูุงุช ูุงูุชุตูุฑ ูู ููุจุงูุง </h2><br>  ุจูุฌุฑุฏ ุฅูุดุงุก <i>ููุท ุงูููุฑุณ</i> ุ ููููู ุงููุชุงุจุนุฉ ุฅูู ุงูุฌุฒุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู - ุชุญููู ุงูุจูุงูุงุช ูุงูุชุตูุฑ.  ูุชูุชุน Kibana ุจุงููุซูุฑ ูู ุงููุธุงุฆู ูุงูุฃูุณุงู ุ ูููู ุญุชู ุงูุขู ุณููุชู ุจูุฑุนูู ููุท. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุชุดุงู </h3><br>  ููุง ููููู ุนุฑุถ ุงููุณุชูุฏุงุช ูู ุงูููุงุฑุณ ูุชุตููุฉ ูุงูุจุญุซ ูุนุฑุถ ุงููุนูููุงุช ุงููุณุชููุฉ.  ูู ุงูููู ุนุฏู ูุณูุงู ุงูุฎุท ุงูุฒููู ุงูุฐู ูุญุฏุฏ ุงูุฅุทุงุฑ ุงูุฒููู ูู ุดุฑูุท ุงูุจุญุซ. <br><br><img src="https://habrastorage.org/webt/vk/wn/ta/vkwntasygmykelzligkpf3flsxu.gif"><br><br><h3 style=";text-align:right;direction:rtl">  ุชุตูุฑ </h3><br>  ูู ูุฐุง ุงููุณู ุ ููููู ุจูุงุก ุงูุชุตูุฑ ุจูุงุกู ุนูู ุงูุจูุงูุงุช ุงูุชู ุชู ุฌูุนูุง.  ุฃุจุณุท ุดูุก ูู ุนุฑุถ ูุตุงุฏุฑ ูุณุญ ุงูุฑูุจูุชุงุช ุนูู ุฎุฑูุทุฉ ุฌุบุฑุงููุฉ ุ ุฅูุง ูููุท ุฃู ูู ุดูู ุฎุฑูุทุฉ ุญุฑุงุฑุฉ.  ููุงู ุฃูุถูุง ุงูุนุฏูุฏ ูู ุงูุทุฑู ูุฅูุดุงุก ุงูุฑุณูู ุงูุจูุงููุฉ ุ ูุชุญุฏูุฏ ุงูุงุฎุชูุงุฑุงุช ุ ุฅูุฎ. <br><br><img src="https://habrastorage.org/webt/f_/rx/p2/f_rxp2xbq4necn0dcsyw2mxkfuy.gif"><br><br>  ูู ุงููุณุชูุจู ุ ุฃุฎุทุท ููุฅุฏูุงุก ุจูุฒูุฏ ูู ุงูุชูุงุตูู ุญูู ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุ ูุฑุจูุง ุงูุชุตูุฑ ุ ูุฑุจูุง ุดูุก ุขุฎุฑ ูุซูุฑ ููุงูุชูุงู.  ูู ุนูููุฉ ุงูุฏุฑุงุณุฉ ุณุฃุญุงูู ุงุณุชููุงู ุงูุจุฑูุงูุฌ ุงูุชุนูููู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง </h2><br>  ุฅุฐุง ูู ูุธูุฑ ุงูููุฑุณ ูู Elasticsearch ุ ููุฌุจ ุฃููุงู ุฅููุงุก ูุธุฑุฉ ุนูู ุณุฌูุงุช Logstash: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ docker logs logstash --tail 100 -f</code> </pre> <br>  ูู ูุนูู Logstash ุฅุฐุง ูู ููู ููุงู ุงุชุตุงู ูุน Elasticsearch ุ ุฃู ูุงู ููุงู ุฎุทุฃ ูู ุชูููู ุฎุท ุงูุฃูุงุจูุจ ูู ุงูุณุจุจ ุงูุฑุฆูุณู ููุตุจุญ ุงูุฃูุฑ ูุงุถุญูุง ุจุนุฏ ุฅุฌุฑุงุก ุฏุฑุงุณุฉ ูุชุฃููุฉ ููุณุฌูุงุช ุงูุชู ุชุชู ูุชุงุจุชูุง ุฅูู ุนุงูู ุงูููู json ุจุดูู ุงูุชุฑุงุถู. <br><br>  ุฅุฐุง ูู ุชูู ููุงู ุฃุฎุทุงุก ูู ุงูุณุฌู ุ ูุณุชุญุชุงุฌ ุฅูู ุงูุชุฃูุฏ ูู ุฃู Logstash ููุณู ุงูุฑุณุงุฆู ุนูู ูุฃุฎุฐ ุงูุชูุตูู ุงูุฐู ุชู ุชููููู.  ูุฃุบุฑุงุถ ุงูุชุตุญูุญ ุ ููููู ุงุณุชุฎุฏุงู <i>stdout</i> <i>ูุฅุฎุฑุงุฌ</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">stdout { codec =&gt; rubydebug }</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ุณููุชุจ Logstash ูุนูููุงุช debag ุนูุฏ ุงุณุชูุงู ุงูุฑุณุงูุฉ ูุจุงุดุฑุฉ ุฅูู ุงูุณุฌู. <br><br>  ูุนุฏ ูุญุต Elasticsearch ุจุณูุทูุง ุฌุฏูุง - ูุง ุนููู ุณูู ุฅุฌุฑุงุก ุญูููุฉ ูุทูุจ GET ุนูู ุนููุงู IP ููููุฐ ุงูุฎุงุฏู ุฃู ููุทุฉ ููุงูุฉ API ูุญุฏุฏุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุงูุธุฑ ุฅูู ุญุงูุฉ ุงูููุงุฑุณ ูู ุฌุฏูู ูุงุจู ูููุฑุงุกุฉ ูู ูุจู ุงูุฅูุณุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ curl -s 'http://192.168.88.130:9200/_cat/indices?v'</code> </pre> <br><img src="https://habrastorage.org/webt/of/ke/v_/ofkev_rfp6uo9x5rf4tcey0egbm.gif"><br><br>  ูู ูุจุฏุฃ Kibana ุฃูุถูุง ุฅุฐุง ูู ููู ููุงู ุงุชุตุงู ุจู Elasticsearch ุ ููู ุงูุณูู ุฑุคูุฉ ุฐูู ูู ุฎูุงู ุงูุณุฌูุงุช. <br><br>  ุฅุฐุง ูู ุชูุชุญ ูุงุฌูุฉ ุงูููุจ ุ ูุนููู ุงูุชุฃูุฏ ูู ุฃู ุฌุฏุงุฑ ุงูุญูุงูุฉ ูุฏ ุชู ุชููููู ุฃู ุชุนุทููู ุจุดูู ุตุญูุญ ูู ูุธุงู Linux (ูู Centos ูุงูุช ููุงู ูุดุงูู ูู <i>iptables ูุฑุณู</i> <i>ุงูุณูู</i> ุ ูุชู ุญููุง ุจูุงุกู ุนูู ูุตูุญุฉ <a href="https://stackoverflow.com/questions/31667160/running-docker-container-iptables-no-chain-target-match-by-that-name" rel="nofollow">ุงูููุถูุน</a> ).  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฃูุถูุง ุฅูู ุฃูู ูู ุงูุฃุฌูุฒุฉ ุบูุฑ ุงูููุชุฌุฉ ููุบุงูุฉ ุ ูููู ุชุญููู ุฌููุน ุงูููููุงุช ูุนุฏุฉ ุฏูุงุฆู.  ูุน ููุต ุงูุฐุงูุฑุฉ ุ ูุฏ ูุง ูุชู ุชุญููู ุงูุฎุฏูุงุช ุนูู ุงูุฅุทูุงู.  ุนุฑุถ ุงุณุชุฎุฏุงู ููุงุฑุฏ ุงูุญุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ docker stats</code> </pre> <br>  ุฅุฐุง ูุงู ุดุฎุต ูุง ูุฌุฃุฉ ูุง ูุนุฑู ููููุฉ ุชุบููุฑ ุชูููู ุงูุญุงููุงุช ุจุดูู ุตุญูุญ ูู <i>ููู docker-compose.yml</i> ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุญุงููุงุช ุ ูุชู ุฐูู ุนู ุทุฑูู ุชุญุฑูุฑ <i>docker-compose.yml</i> ูุงุณุชุฎุฏุงู ููุณ ุงูุฃูุฑ ูุน ุฅุนุงุฏุฉ ุชุดุบูู ููุณ ุงููุนููุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ docker-compose --compatibility up -d</code> </pre> <br>  ูู ุงูููุช ููุณู ุ ูู ุงูุฃูุณุงู ุงูุชู ุชู ุชุบููุฑูุง ุ ูุชู ูุณุญ ุงููุงุฆูุงุช ุงููุฏููุฉ (ุงูุญุงููุงุช ุ ูุงูุดุจูุงุช ุ ูุงููุฌูุฏุงุช) ูุฅุนุงุฏุฉ ุฅูุดุงุก ูุงุฆูุงุช ุฌุฏูุฏุฉ ููููุง ููุชููุฆุฉ.  ูุง ุชุถูุน ุจูุงูุงุช ุงูุฎุฏูุงุช ูู ุงูููุช ููุณู ุ ุญูุซ <i>ูุชู ุงุณุชุฎุฏุงู ูุญุฏุงุช ุงูุชุฎุฒูู ุงููุณูุงุฉ</i> ุ ูุงูุชู ูุง ูุชู ุญุฐููุง ูุน ุงูุญุงููุฉ ุ ููุชู ุชุซุจูุช ุงูุชููููุงุช ูู ุงููุธุงู ุงููุถูู ุ ุญุชู ุชุชููู Logstash ูู ูุฑุงูุจุฉ ูููุงุช ุงูุชูููู ูุฅุนุงุฏุฉ ุชุดุบูู ุชูููู ุฎุท ุฃูุงุจูุจ ุนูุฏ ุชุบููุฑ ุงูููู. <br><br>  ููููู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุฉ ุจุดูู ูููุตู ุจุงุณุชุฎุฏุงู <i>ุฃูุฑ ุฅุนุงุฏุฉ ุงูุชุดุบูู docker</i> (ููุณ ูู ุงูุถุฑูุฑู ุฃู ุชููู ูู ุงูุฏููู ุจุงุณุชุฎุฏุงู <i>docker-compose.yml)</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">โฏโฏ docker restart logstash</code> </pre> <br>  ููููู ุฃู ุชุฑู ุชูููู ูุงุฆู <i>ุนุงูู ูููุงุก</i> ูุน <i>ุฃูุฑ ุชูุชูุด ุนุงูู ูููุงุก</i> ุ ูู ุฃูุซุฑ ููุงุกูุฉ ูุงุณุชุฎุฏุงูู ูุน <i><a href="https://stedolan.github.io/jq/tutorial/" rel="nofollow">jq</a></i> . <br><br><img src="https://habrastorage.org/webt/vw/l0/-v/vwl0-vgzu8snbp16vgzet9lsa64.gif"><br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  ุฃุฑูุฏ ุฃู ุฃุดูุฑ ุฅูู ุฃูู ูู ูุชู ุงูุฅุจูุงุบ ุนู ุงูุฃูุงู ูู ูุฐุง ุงููุดุฑูุน ูุฃูู ุจูุฆุฉ ุงุฎุชุจุงุฑ (dev) ูููุณ ูู ุงููุฎุทุท ุฅุทูุงูู ุฎุงุฑุฌ ุฌูุงุฒ ุงูุชูุฌูู.  ุฅุฐุง ููุช ุจูุดุฑูุง ููุงุณุชุฎุฏุงู ุงูุฃูุซุฑ ุฎุทูุฑุฉ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงุชุจุงุน ุฃูุถู ุงูููุงุฑุณุงุช ุ ูุชุซุจูุช ุดูุงุฏุงุช HTTPS ุ ูุฅูุดุงุก ูุณุฎ ุงุญุชูุงุทูุฉ ุ ููุฑุงูุจุฉ ุทุจูุนูุฉ (ูุงูุชู ูุง ุชุจุฏุฃ ุจุฌูุงุฑ ุงููุธุงู ุงูุฑุฆูุณู).  ุจุงูููุงุณุจุฉ ุ ูุนูู Traefik ูู ูุญุฏุฉ ุงูุฅุฑุณุงุก ุงูุฎุงุตุฉ ุจู ุนูู ุงูุฎุงุฏู ุงูุฎุงุต ุจู ุ ููู ูููู ุนูุณู ูุจุนุถ ุงูุฎุฏูุงุช ุ ููููู ุฃูุถูุง TLS ุนูู ููุณู ููููู ุจุงููุตุงุฏูุฉ.  ุฃู ุฃูู ุจูุถู DNS ุงูููููู ูุงููููู ุงูุนูุณู ุ ุฃุตุจุญ ูู ุงููููู ุงููุตูู ุฅูู ูุงุฌูุฉ ุงูููุจ Kibana ูู ุงูุฅูุชุฑูุช ุจุงุณุชุฎุฏุงู HTTPS ุบูุฑ ูุถุจูุท ููููุฉ ูุฑูุฑ (ููุง ุฃููููุง ุ ูู ุฅุตุฏุงุฑ ุงููุฌุชูุน ูุง ุชุฏุนู Kibana ุญูุงูุฉ ูููุฉ ุงููุฑูุฑ ููุงุฌูุฉ ุงูููุจ).  ุฃุฎุทุท ููุตู ุชุฌุฑุจุชู ูู ุฅุนุฏุงุฏ Traefik ููุงุณุชุฎุฏุงู ุนูู ุดุจูุฉ ููุฒููุฉ ูุน Docker. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar481596/">https://habr.com/ru/post/ar481596/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar481584/index.html">ุนูุฏ ุฅุฏุงุฑุฉ ูุฑูู ุ ุฎุฑู ุฌููุน ุงูููุงุนุฏ</a></li>
<li><a href="../ar481586/index.html">ุงุชุฌุงูุงุช ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ 2020: ุนุตุฑ ุงูุชูููุงุช ุงูุบุงูุฑุฉ</a></li>
<li><a href="../ar481588/index.html">ุจุฏุฃุช ุชูุงุฑูู ูุนุฒู Runet. ูู ุณูุฑุงูุจุ</a></li>
<li><a href="../ar481592/index.html">ุณุชุฉ ุฎูุงุฑุงุช ูุฏูุฉ ุงูุณูุฉ ุงูุฌุฏูุฏุฉ ูุณุงุฆู ุณูุงุฑุฉ ูุน ุฎุตู ุฌูุฏ</a></li>
<li><a href="../ar481594/index.html">ุชุทููุฑ "ูููุฏ ุฌูุฏ ุจุณูุท" ููููุง ููุนูุงุฑ GOST R IEC 61508 (IEC 61508)</a></li>
<li><a href="../ar481598/index.html">ูุณุงููุฉ ุตุบูุฑุฉ ูู ุงููุนุฑูุฉ ุถุฏ ููุตุงุช ุญุฏููุฉ ุงูุญููุงู Avalonia UI</a></li>
<li><a href="../ar481600/index.html">ุจููุณุงู ุนุงุฆูุฉ ูููู ุงููุญุฑู: 2019 ุงููุชุงุฆุฌ</a></li>
<li><a href="../ar481604/index.html">ููู ูุตูุน ูุทูุฑู Chelyabinsk ุงููุงุณููู ุฃูุนุงุจ Google Play ูุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ</a></li>
<li><a href="../ar481606/index.html">ุงุดุชุฑุงู ุซุงุจุช ุจุงุณุชุฎุฏุงู ูุงูุจ Observer ุจุงุณุชุฎุฏุงู C ++ ู ูุชุญูู Cortex M4</a></li>
<li><a href="../ar481610/index.html">PostgreSQL Antipatterns: ุชุญุฏูุซ ุฌุฏูู ูุจูุฑ ุชุญุช ุงูุชุญููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>