<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ—¿ ğŸ‘¨ğŸ¿â€ğŸš€ ğŸœï¸ Neutralinojs - qu'Ãªtes-vous? Ou faÃ§on UNIX oÃ¹ vous n'avez pas attendu ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ”„ ğŸ‚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RÃ©cemment, je suis tombÃ© par hasard sur une simple note publicitaire, "Neutralinojs est une alternative Ã  Electron qui consomme moins de mÃ©moire", qui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Neutralinojs - qu'Ãªtes-vous? Ou faÃ§on UNIX oÃ¹ vous n'avez pas attendu</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438402/"><p>  RÃ©cemment, je suis tombÃ© par hasard sur une simple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">note publicitaire, "Neutralinojs est une alternative Ã  Electron qui consomme moins de mÃ©moire",</a> qui dit qu'il y a une chose aussi cool que Neutralinojs.  La note, comme il se doit, est trÃ¨s courte et ne contient aucune information utile, Ã  l'exception du slogan publicitaire "Mieux que &lt;quelque chose de populaire&gt;!" </p><br><p>  Comprenant Ã  peu prÃ¨s comment Electron et NW.js fonctionnent et ne trouvant absolument aucune mention du principe de fonctionnement de cette nouvelle et super cool "bÃªte miracle" dans l'article, j'ai commencÃ© la recherche. </p><br><p>  En fait je vous prÃ©sente les rÃ©sultats de ma micro-recherche! </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/6g/7z/se/6g7zserouh1jwnx-tk30di9mbou.png"></a> </p><br><p>  Comme je considÃ¨re toute nouvelle technologie comme un outil possible, j'ai immÃ©diatement posÃ© plusieurs questions: </p><br><ul><li>  Pourquoi mange-t-il beaucoup de mÃ©moire en moins? </li><li>  Quels autres petits pains donne-t-il? </li><li>  Pourquoi devrais-je utiliser ce miracle? </li></ul><br><h1 id="pochemu-ne-zhryom-pamyat">  Pourquoi ne mangeons-nous pas la mÃ©moire? </h1><br><p> En fouillant dans le code source et deux images assez informatives sur l'architecture, j'ai rÃ©alisÃ© que ce projet fonctionne prÃ©cisÃ©ment sur la voie UNIX trÃ¨s apprÃ©ciÃ©e de tous les Linuxoids.  La philosophie du projet est simple: pourquoi trouver un nouveau vÃ©lo si vous pouvez en utiliser un tout prÃªt? </p><a name="habracut"></a><br><p>  Quels sont les inconvÃ©nients d'Electron: </p><br><ul><li>  Faire glisser Chrome </li><li>  Carrying Node.js </li><li>  Porter un calque avec vous pour que les deux prÃ©cÃ©dents fonctionnent ensemble </li></ul><br><p>  Au lieu de cela, tout se fait comme ceci: </p><br><ul><li>  Nous <strong>ne</strong> traÃ®nons <strong>pas</strong> Chrome </li><li>  Nous <strong>ne</strong> faisons <strong>pas</strong> glisser Node.js </li><li>  Nous ne faisons glisser qu'une couche entre <em>un</em> navigateur et <em>un</em> systÃ¨me d'exploitation </li></ul><br><p>  Voyons comment exactement cela est mis en Å“uvre. </p><br><h2 id="arhitektura">  L'architecture </h2><br><p><img src="https://habrastorage.org/webt/m7/eu/b1/m7eub1eezyf_o_3jio79jibwgfo.png"></p><br><p>  L'ensemble du projet se compose de 2 parties: serveur et client. </p><br><p>  <strong>Le serveur</strong> dÃ©marre immÃ©diatement et est un vÃ©ritable partisan Ã  l'arriÃ¨re du systÃ¨me d'exploitation.  Il sait comment stocker des donnÃ©es, ouvrir des fichiers, Ã©crire dans des fichiers, exÃ©cuter <del>  crypteurs </del>  commandes shell.  En fait, il fait tout ce qui peut Ãªtre nÃ©cessaire, fournit une API pour le systÃ¨me d'exploitation et communique via HTTP avec le <em>client</em> .  Il donne Ã©galement au client tout ce qu'il doit afficher Ã  l'Ã©cran.  FonctionnalitÃ© assez standard pour le serveur. </p><br><p>  Pour chaque systÃ¨me d'exploitation, son serveur C ++ a Ã©tÃ© bifurquÃ© et modifiÃ© avec un fichier.  Sous Mac, ils n'ont pas encore trouvÃ© quelque chose Ã  bifurquer, il n'y a donc pas de support. </p><br><p>  <strong>Il</strong> peut <strong>y</strong> avoir 3 types de <strong>clients</strong> : </p><br><ul><li> <code>cloud</code> - Tout programme qui connaÃ®t le port sur lequel le serveur s'exÃ©cute peut exÃ©cuter des commandes </li><li>  <code>browser</code> - Le serveur lui-mÃªme dÃ©marre le processus d'un navigateur systÃ¨me standard avec l'URL souhaitÃ©e.  Ici, le serveur nÃ©cessite dÃ©jÃ  un TOKEN spÃ©cial, qui s'insÃ¨re lui-mÃªme dans les pages HTML fournies. </li><li>  <code>window</code> - Le serveur dÃ©marre un processus de rendu spÃ©cial qui affiche simplement le systÃ¨me WebView.  Ici, vous avez Ã©galement besoin d'un jeton </li></ul><br><p>  Il convient de noter que le serveur peut fonctionner simultanÃ©ment avec un seul type de client et vous devez spÃ©cifier le type de client dans la configuration Ã  l'aide du champ <code>mode</code> . </p><br><p>  Comme vous pouvez le voir, rien de plus.  L'application sur ce "framework" lui-mÃªme se compose de codes sources, qui sont reÃ§us par le client comme statiques, et le serveur lui-mÃªme, qui peut dÃ©finir le navigateur ou WebView sur l'URL nÃ©cessaire.  VoilÃ  ce que signifie vrai DRY! </p><br><h1 id="kakie-plyushki">  Quel genre de petits pains? </h1><br><p>  Des petits pains, bien sÃ»r, moins de consommation de mÃ©moire.  Ã‰tant donnÃ© que ni Node.js ni Chrome n'emportent avec lui-mÃªme, les donnÃ©es fournies au client sont trÃ¨s petites en volume.  De plus, les dÃ©veloppeurs insistent sur le fait que vous n'avez pas besoin de tÃ©lÃ©charger de constructeurs Ã©tranges, vous n'avez pas besoin de perdre du temps Ã  compiler et tout Ã§a. </p><br><p>  En fait des pros, c'est tout, passons maintenant aux inconvÃ©nients. </p><br><blockquote>  Je veux faire une rÃ©servation tout de suite que le projet est trÃ¨s jeune, vit un peu plus de 5 mois, mais il porte dÃ©jÃ  fiÃ¨rement la version 1.1.0, donc je pense que j'ai le droit d'Ã©valuer le produit comme prÃªt Ã  l'emploi et de le prÃ©senter avec les mÃªmes exigences que ses concurrents. </blockquote><br><h2 id="bolyachki-nwjs">  Sores NW.js </h2><br><p>  Ici, nous avons immÃ©diatement un Ã©ventail de problÃ¨mes qui ont migrÃ© en douceur de NW.js. </p><br><p>  La premiÃ¨re et la plus notable chose pour l'utilisateur est la livraison de l'application.  Pour que le client lance notre programme sur son ordinateur, il doit avoir 2 choses principales: <code>neutralino.exe</code> et l' <code>app/</code> dossier.  Dans le dossier, tous les paramÃ¨tres sont stockÃ©s (tels que le mode de fonctionnement du serveur et le titre de la fenÃªtre) et en fait <code>index.html</code> , qui est donnÃ© au client.  Le moyen le plus simple est de donner Ã  l'utilisateur une archive zip et de dire sur quel programme pousser, mais les utilisateurs trouveront toujours quoi faire diffÃ©remment des instructions et quoi casser. </p><br><p>  Pour rÃ©soudre ce problÃ¨me, NW a crÃ©Ã© un constructeur qui a pu tout emballer dans exe, ainsi que ICO et les archives.  Les archives SFX Ã©taient une solution moins Ã©vidente, mais les antivirus les regardent de travers, donc ce n'est pas non plus une bonne option.  Les dÃ©veloppeurs eux-mÃªmes envisagent de crÃ©er leur propre packer, mais jusqu'Ã  prÃ©sent, il n'y a que des rumeurs Ã  ce sujet. </p><br><p>  Le deuxiÃ¨me problÃ¨me est le point d'entrÃ©e.  C'est toujours <code>index.html</code> .  Vous ne pouvez rien y faire et mÃªme spÃ©cifier un fichier diffÃ©rent.  Tous les scripts dont l'application a besoin doivent Ãªtre chargÃ©s dans ce <code>index.html</code> .  Le problÃ¨me n'est pas trÃ¨s important, mais il rÃ©duit parfois la flexibilitÃ© du systÃ¨me. </p><br><h2 id="kakoy-to-brauzer">  <em>Une sorte de</em> navigateur </h2><br><p>  C'est encore pire que NW.js ou Electron.  Si dans ce dernier, nous savons avec certitude la version du navigateur que notre application affichera, alors ici, en principe, nous ne pouvons pas Ãªtre sÃ»rs que le systÃ¨me d'exploitation nous fournira une WebView qui peut fonctionner avec JS.  Autrement dit, nous revenons Ã  des zÃ©ros fringants et sommes intelligents de toutes les maniÃ¨res possibles pour entrer dans le trÃ¨s IE 8, qui sera la WebView standard sur Windows. </p><br><p>  Cela limite notre application en termes d'affichage et de lecture de certains types de fichiers multimÃ©dias, et c'est la fonction principale des applications dÃ©veloppÃ©es sur le principe du "Web for Desktop". </p><br><h2 id="api">  API </h2><br><p>  Comme les auteurs s'efforcent de minimiser, l'API fournie par le serveur ne diffÃ¨re pas dans une variÃ©tÃ© de mÃ©thodes.  Je dirais mÃªme que ce n'est pas pensÃ©.  Toute cette indiscrÃ©tion est dÃ©crite dans la mÃªme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">maigre documentation</a> . </p><br><p>  Le seul qui peut communiquer avec le systÃ¨me est le serveur Neutralino, alors nous devons en quelque sorte communiquer avec lui.  Canal de communication Ã  sens unique - HTTP.  En fait, tout ce que nous sommes autorisÃ©s Ã  utiliser dans JS est simplement enroulÃ© autour du serveur API REST. </p><br><p>  L'API entiÃ¨re peut Ãªtre divisÃ©e en 3 parties: travailler avec le <em>stockage</em> , travailler trÃ¨s basique avec FS (lire, supprimer et crÃ©er seulement - sans fioritures) et appeler les fenÃªtres et commandes du systÃ¨me. </p><br><p>  Passons maintenant en revue la conception mÃªme de l'API, accessible depuis JS. </p><br><p>  CommenÃ§ons par les rappels.  Ã‰tant donnÃ© que nous avons <em>une sorte de</em> navigateur, nous ne pourrons pas utiliser Ã  la fois ES5 et, par consÃ©quent, Promise.  Et comme les dÃ©veloppeurs de Node.js ne peuvent pas le supporter, ils ne veulent pas non plus utiliser de rappels de type Node.  Par consÃ©quent, chaque mÃ©thode a 2 rappels: un pour le <em>rÃ©sultat</em> et un autre pour la gestion des erreurs, dont le format, soit dit en passant, n'est pas connu. </p><br><p>  Au dÃ©triment des rÃ©sultats: pour la plupart des commandes, par exemple, en travaillant avec OS, un objet avec un champ <code>stdout</code> , Ã  l'intÃ©rieur duquel se trouve une chaÃ®ne, est transfÃ©rÃ© vers le rappel.  Comme vous l'avez dÃ©jÃ  compris, la lecture de fichiers volumineux et plus encore leur traitement dans certains objets de type tampon Ã©chouera.  Les fenÃªtres systÃ¨me ont le rÃ©sultat dans un format diffÃ©rent, un objet avec le champ de <code>file</code> est utilisÃ©.  La question "pourquoi, en principe, des objets avec un seul champ sont nÃ©cessaires" reste sans rÃ©ponse. </p><br><p>  Passons maintenant au stockage.  Il contient des entitÃ©s telles que les compartiments qui sont enregistrÃ©es en tant que fichiers JSON Ã  cÃ´tÃ© de la source d'application.  Dans le mÃªme temps, pour Ã©crire des donnÃ©es dans un bucket, nous devons passer un objet avec le nom bucket et son nouveau contenu.  Pour obtenir les donnÃ©es, nous transmettons uniquement la chaÃ®ne - le nom du compartiment.  Il n'y a aucune trace de similitude avec l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">interface de stockage standard</a> , pourquoi, faites votre vÃ©lo ... </p><br><p>  Eh bien, parlons un peu de l'intÃ©gration avec le systÃ¨me d'exploitation.  Rappelons qu'Electron et mÃªme NW ont offert la possibilitÃ© de crÃ©er leur menu contextuel, ont permis de masquer la fenÃªtre et mÃªme de crÃ©er une icÃ´ne dans le bac.  Ce n'est tout simplement pas lÃ .  Et, compte tenu de l'architecture de la solution, elle ne le sera jamais.  Seul navigateur et seule API REST, uniquement hardcore. </p><br><h1 id="dlya-chego-mozhno-ispolzovat">  Que puis-je utiliser? </h1><br><p>  Pendant longtemps, j'ai pensÃ© que si vous avez juste besoin de transfÃ©rer le formulaire d'inscription du site vers l'application de bureau, vous pouvez utiliser NW.js et ne pas prendre de bain de vapeur.  Si vous avez besoin de quelque chose de plus compliquÃ©, quelque chose qui nÃ©cessite une intÃ©gration graphique avec le systÃ¨me, alors c'est Electron.  Oui, chacun a ses propres inconvÃ©nients, mais ce sont au moins quelques produits sur lesquels vous pouvez faire votre propre application. </p><br><p>  Mais Netralinojs peut Ã©galement Ãªtre utilisÃ©.  Par exemple, certains chats fonctionneront plutÃ´t bien, seul CORS devra Ãªtre configurÃ© sur le serveur.  Un petit gÃ©nÃ©rateur de configuration de texte graphique serait plutÃ´t bon.  Pour moi, je vois ce cadre uniquement comme une plate-forme pour les petits utilitaires avec une interface graphique qui devra Ãªtre lancÃ©e pas souvent et pas longtemps.  Je pense que vous aussi, vous pouvez vous souvenir de votre activitÃ© professionnelle d'au moins un petit produit qui pourrait fonctionner sur une plateforme aussi minimaliste. </p><br><h1 id="vyvod">  Conclusion </h1><br><p>  Le cadre est en fait trÃ¨s, trÃ¨s grossier.  Son minimalisme peut Ãªtre son point fort, mais dÃ¨s que des fonctionnalitÃ©s qui dÃ©passent le cadre de l'API sont nÃ©cessaires, vous devrez passer Ã  Electron ou NW.js. </p><br><p>  J'espÃ¨re vraiment que la v1.1.0 n'est pas la derniÃ¨re et que les dÃ©veloppeurs vont refaire de nombreux dÃ©fauts dans la conception de leur API et offrir des options plus flexibles pour personnaliser et se comporter avec l'application.  J'espÃ¨re Ã©galement qu'ils trouveront toujours un serveur statique sur les pros qui pourrait Ãªtre bifurquÃ© et utilisÃ© sur un Mac. </p><br><p>  Eh bien, les rÃ©fÃ©rences, pour Ãªtre plus clair: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://neutralino.js.org/</a> - Site du projet </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://neutralino.js.org/docs/</a> - Documentation de l'API JS </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/neutralinojs/neutralinojs</a> - DÃ©pÃ´t sur GitHub </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/neutralinojs/evaluation</a> - Comparaison de Hello World avec les concurrents des dÃ©veloppeurs </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Neutralinojs 2019 - Feuille de route</a> - Plan d'amÃ©lioration officiel </li></ul><br><p>  UPD: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://habr.com/ru/post/443572/</a> - Lien vers l'article du dÃ©veloppeur sur Habr </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438402/">https://habr.com/ru/post/fr438402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438392/index.html">Une brÃ¨ve histoire d'une Â«bande intelligenteÂ»</a></li>
<li><a href="../fr438394/index.html">Yii 2.0.16</a></li>
<li><a href="../fr438396/index.html">Pourquoi vous devriez penser Ã  la programmation fonctionnelle</a></li>
<li><a href="../fr438398/index.html">Lancement de Keras en C ++</a></li>
<li><a href="../fr438400/index.html">Des scientifiques israÃ©liens ont dÃ©veloppÃ© un traitement universel contre le cancer</a></li>
<li><a href="../fr438404/index.html">Prix â€‹â€‹de composition dans le monde javascript</a></li>
<li><a href="../fr438406/index.html">ReactJS + MobX - ExpÃ©rience DI</a></li>
<li><a href="../fr438408/index.html">Clouds et pays: caractÃ©ristiques nationales du marchÃ© du cloud</a></li>
<li><a href="../fr438412/index.html">Analyse des tÃ¢ches de test 112654 et des tendances sur le marchÃ© du travail des programmeurs en 2019</a></li>
<li><a href="../fr438414/index.html">Civilisation printaniÃ¨re, 3/5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>