<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐ ๐ ูุธุงู ุงููุณุงุฆุท ูุชูููุชุง ุจุฑููุณ (ุฑูุณุชุงูู) ๐ถ๐ฝ ๐ข ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฐุง ูู ุงูููุงู ุงูุฃูู (ุงูุชูููุฏู) ูู ุงูุณูุณูุฉ ุญูู ููููุฉ ุชุญุณูู ูุธุงู ูุณุงุฆุท ุงูุณูุงุฑุฉ. ุงููุดุฑูุน ููุณู ููุฏ ุงูุชูููุฐ ุ ููุณ ููุงู ููุช ุ ูุซู ุฃู ุดุฎุต ุขุฎุฑ ุ ูุฐูู ุ ุฃุนุฒุงุฆู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุธุงู ุงููุณุงุฆุท ูุชูููุชุง ุจุฑููุณ (ุฑูุณุชุงูู)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/411617/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pw/a0/k_/pwa0k_aaxeguedncth7a5fdkm70.jpeg"><br><br>  ูุฐุง ูู ุงูููุงู ุงูุฃูู (ุงูุชูููุฏู) ูู ุงูุณูุณูุฉ ุญูู ููููุฉ ุชุญุณูู ูุธุงู ูุณุงุฆุท ุงูุณูุงุฑุฉ.  ุงููุดุฑูุน ููุณู ููุฏ ุงูุชูููุฐ ุ ููุณ ููุงู ููุช ุ ูุซู ุฃู ุดุฎุต ุขุฎุฑ ุ ูุฐูู ุ ุฃุนุฒุงุฆู ุงููุฑุงุก ุ ูุฑุฌู ุงูุชุญูู ุจุงูุตุจุฑ ุ ูุฃููู ุบุงูุจูุง ูุง ุฃุชุนูุฏ ุจุฑุดูุฉ ุงูููุงูุงุช. <br><br>  ุจุฏุฃ ูู ุดูุก ูุน ุญูููุฉ ุฃู ูุฏูู ุจุฑููุณ. <br><br>  ูุฃูู ูุง ููุช ูุธุฑู ูู ูุดุงูู ุชุญุฏูุซ ุงูููุงุญุฉ.  ูููุง ููู ุนุฏุฏ ูููู ููุบุงูุฉ ุ ูููู ูู ุจุนุถ ุงูุฃูุงูู ุงูููุฒุงุช ุงูุถุฑูุฑูุฉ ูุฌูุงุฒ ูุณูู "ุนุฑุถ ูุชุนุฏุฏ ุงููุธุงุฆู" (ูู ุนุงูุฉ ุงููุงุณ - ุงูุฑุฃุณ).  ููุฐุง ุนูู ุฎูููุฉ ุนุฏุฏ ูุจูุฑ ูู ุฃุฌูุฒุฉ ุงูุฑุงุฏูู ุงูุตูููุฉ ุงูุชู ุชุนูู ุจูุธุงู Android ูุงูุนุฏูุฏ ูู ูุณุงุฆู ุงูุฑุงุญุฉ.  ููู ุชุฑููุจูุง ูู ููุงู ููุชุธู ูุนูู ุงูุญุฑูุงู ูู ูุฐู "ุงููุนู" ููุฎุทุท ูุชูุฒูุน ุงูุทุงูุฉ ูุงูุชุญูู ูู ุงูููุงุฎ. <br><br>  ููุฏุช ุงูููุฑุฉ ูุฑุจุท ุฑุงุฏูู Android ุจุงูุณูุงุฑุฉ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุฃูุซุฑ ููุง ููุชุฑุญ ุงูุฅุฎูุฉ ุงูุตููููู.  ุนู ูุฐุง ูุงูููุงู. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ุงููุถุน ุงูุฃููู </h3><br>  ูุฐุง  ููุฌุฏ ุนูู ูุชู ุงูุทุงุฆุฑุฉ ุญูุงูู 7 ุจูุตุฉ ูุน ุดุงุดุฉ ุชุนูู ุจุงูููุณ ููุงูู ุ ูุชุตูุฉ ุจุฃุฌูุฒุฉ ุฅููุชุฑูููุฉ ุฃุฎุฑู ูุน ุฎุทูุท TX + ู TX-.  ูููุฌุฏ ุจุงููุนู 3 ุฃุฒูุงุฌ ูู ุงูุฑุฃุณ ูู ุงูุฏุงุฆุฑุฉ ุ ุชุณูู ูุฐู ุงููุนุฌุฒุฉ AVC-LAN ุ ูุชุจุฏู ุนูู ุงููุญู ุงูุชุงูู: <br><br><img src="https://habrastorage.org/webt/ml/uo/le/mluolei1uqdz85xpjdh43hxjyvk.png"><br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฌุฒุก ุงูุฃูู: ุงููุธุฑ ูู ุงูุฏุงุฎู </h2><br>  ููุง ุชุฑูู ุ ุงูุฑุฃุณ ูู ูุฌูุฉ ุงูุดุจูุฉ ุ ุจูู ุฌูุงุฒ ุงูุชูุฌูู ูุงูุณูุณูุฉ ุงูุฅุถุงููุฉ ููุฑุงุฏูู ุ ููุจุฑ ููุตูุช (ูุฏู ุจุดูู ูููุตู) ุ ูุงุชุตุงู ุจูุญุฏุฉ ุงูููุงุญุฉ ูุชุจุน ููุงุฉ ูููุตูุฉ.  ูู ููุงู ุขุฎุฑ ุ ุชูุฌุฏ ูุญุฏุฉ ุงูุชุธุงุฑ ุณูุงุฑุงุช ูุนููุฉ ุ ููู ูุชู ุฐูุฑูุง ุจุฃู ุดูู ูู ุงูุฃุดูุงู ูู ูุฎุทุทุงุชู.  ุญุณููุง ุ ุญุณููุง ... ููุฏ ูุฑุฑุช ุชุฃุฌูู ุงููุฑุจ ุญุชู ุฃููุงุช ุฃูุถู.  ุนูุงูุฉ ุนูู ุฐูู ุ ูููู ุงูุณูุงุฑุงุช ูู ุฃูุซุฑ ูู ูุธููุฉ ูุนุจุฉ ูู ุญุงุฌุฉ ุญููููุฉ. <br><br>  ุจุนุฏ ุฅุฒุงูุฉ ุฌููุน ุงูุนูุงุตุฑ ุบูุฑ ุงูุถุฑูุฑูุฉ ุ ูุญุตู ุชูุฑูุจูุง ุนูู ูุฎุทุท ุงููุชูุฉ ุงูุชุงูู ููุฃุฌูุฒุฉ: <br><br><img src="https://habrastorage.org/webt/qb/az/gl/qbazglszcggkjhudk80w91l9tdg.png"><br><br><h3 style=";text-align:right;direction:rtl">  ุชุฃููุงุช </h3><br>  ูุงูุช ููุงู ููุฑุฉ ูุงุณุชุจุฏุงู ูุญุฏุฉ ุงูููุงุญุฉ ุจุจุณุงุทุฉ ุจุดูุก android ุ ููููุง ุงูุชูุช ุนูุฏูุง ูููุช ุจุดูู ุฃุนูู ููู ูุชูุงุตููู ูุน ุงูุฑุฃุณ.  ุจุงูุฅุถุงูุฉ ุฅูู AVC-LAN ุ ุชุฑุชุจุท ูุฐู ุงููุญุฏุงุช ุฃูุถูุง ุจุฎุท GVIF (Gigabit Video InterFace) ุ ููุฏ ูุชุตุฏุน ูุฐุง ุงููุฌู ูู ุงูุดุฑูุงุช ุงููุตูุนุฉ ูููุญูู ุนู ุทุฑูู ุงูุฎุทุฃ ุฅุฐุง ุงุดุชุฑูุช ุฃูุถูุง ูุญูู ุฅุดุงุฑุฉ ููุฏูู ูู GVIF ุจุฃูุซุฑ ูู 100 ุฏููุงุฑ. "ุงูุนูุด ุจุฏูู ูุฌู ูู ุฃู ุชููู ูุฏ ูููู ุงูุฃูุฑ ุตุนุจูุง ุ ูููู .. "- ุจุฏุง ูู ุฑุฃุณู ุจุฏุงูุน ุฃุบููุฉ ูุดููุฑุฉ ุ ููู ูุนุฌุจูู ุงููุฑุงุฑ. <br><br>  ูุงูุช ููุงู ุญููู ุนูู ุงูุดุจูุฉ ุจุชุซุจูุช ุฑุงุฏูู ุตููู ุจุฏูุงู ูู ุฌูุงุฒ ุงุณุชูุจุงู ุฑุงุฏูู.  ูู ููุงุณุจูู ุฐูู ูุฃู ุงูุดุงุดุชูู ููุง ุชูุฑุงุฑ ุบูุฑ ูุนููู.  IMHO. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุญู </h2><br>  ููุฏ ุงูุญู ุงูุชุงูู: ุงุณุชุจุฏุงู ุงูุฑุฃุณ ุจุงููุงูู ุ ูุฅููุงุก ุฑุงุฏูู android ุ ูุชูููู ุตุฏุงูุงุช ูุน Prius ุ ูุงูุชู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุตููู USB &lt;-&gt; ูุญูู ุฃุฌูุฒุฉ AVC-LAN </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุทููุฑ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงูุฎุงุตุฉ ุจูุง ุจุญูุซ ุชุชุตู ูุซู USB-HID. </li><li style=";text-align:right;direction:rtl">  ุงุฌุนููุง ูุฑูุจุฉ ุจุญูุซ ูุชู ุงููุดู ุนู ุฅุญุฏู ุงููุธุงุฆู ูุซู ููุญุฉ ููุงุชูุญ ุงูุฃุฌูุฒุฉ ุงูุนุงุฏูุฉ (ูู ุฃุฌู ุงุณุชุฎุฏุงููุง ูุนูุตุฑ ุชุญูู ุฃุตูู ูู ุงูุฃุฒุฑุงุฑ ุงูููุฌูุฏุฉ ุนูู ุงูููุญุฉ) </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุทููุฑ ุชุทุจูู Android ุจูุธุงุฆู ูุดุงุจูุฉ (ุฃู ูุชูููุฉ ุนูู) Priusovsky ุงูุฃุตูู </li><li style=";text-align:right;direction:rtl">  ูู ุจูุญุงุฐุงุฉ ุงููุงููุฑุง ุงูุฎูููุฉ </li><li style=";text-align:right;direction:rtl">  ุญู ุงููุดุงูู ูู ุงูุฌุฒุก ุงููููุงูููู (ุงูุชุซุจูุช ูู ููุงู ุนุงุฏู) </li></ol><br>  ูู ูุฐู ุงูุนูููุฉ ุ ุณูููู ูู ุงูุถุฑูุฑู ุชุทููุฑ ุชุทุจูู ุขุฎุฑ ููุธุงู android - ุงูุดู ุงูุนุงุฏู ุ ุจุญูุซ ูููู ุฃูุซุฑ ููุงุกูุฉ ูุนูุณ ุงูุญุฒู ุนูู AVC-LAN.  ูู ููุณ ุงูููุช ูุงูููุงุฑุณุฉ. <br><br>  ูุฌุจ ุฃู ูุจุฏู ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/_x/7j/f2/_x7jf2mr_9mp0ow3yxwds8yuhuc.png"><br><br>  ูุฃุณุงุณ ููุฃุฌูุฒุฉ ุ ุชูุฑุฑ ุงุณุชุฎุฏุงู ููุญุฉ ุชุฏุฑูุจ ุนูู SM32F103: <br><br><img src="https://habrastorage.org/webt/oo/u8/1y/oou81yrznrr2hcnayb2emjfb_lw.jpeg"><br><br>  ุฃูุฑ ูุน AliExpress ููุงุจู 2.05 ุฏููุงุฑ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃู ุงูุจุญุซ - ุงูููุณุฏ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุฑุจูุง ุชู ุญุฐู ุงููุทุนุฉ ุจุงููุนู ูู ูุจู ุงูุจุงุฆุน ุ ูุฐูู ุฃุนุทู ุงูุณูุณูุฉ ุงูุณุญุฑูุฉ ููุจุญุซ ูู ุนูู: <br>  STM32F103C8T6 ARM STM32 ุงูุญุฏ ุงูุฃุฏูู ููุญุฏุฉ ุชุทููุฑ ุงููุธุงู <br></div></div><br>  ูุง ูุนุฌุจูู ูููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุฏุฉ ุฃุฌูุฒุฉ USB (ุงูุฌูุงุฒ) ุนูู ูุชู ุงููุนุงูุฌ </li><li style=";text-align:right;direction:rtl">  ูุฌููุนุฉ USB ูุงููุฉ ูู ุงูุดุฑูุฉ ุงููุตูุนุฉ (ุนูู ุนูุณ Freescale-ovsky ุ ูุง ุชุชุฐูุฑ ูู ุงูููู). </li><li style=";text-align:right;direction:rtl">  ููุงูุฐ GPIO ูุฌุงููุฉ ูููู ุงุณุชุฎุฏุงููุง ูุชูุตูู ุงูุฃุฒุฑุงุฑ ุงูุนุงุฏูุฉ ุนูู ุฌุงูุจู ุงูุดุงุดุฉ.  ุฑุจูุง ุณูุคุฏู ุฐูู ุฅูู ุฅุฎูุงุก ุฃุฒุฑุงุฑ ุงูุฃุฌูุฒุฉ ูู ุงูุฑุงุฏูู ุฃุณูู ุงูููุญุฉ.  ูุง ุงุนุฑู ูุงุฐุง ุณุชููู </li><li style=";text-align:right;direction:rtl">  ูุนููู ููููู ุชุนููู ูุญูู AVC-LAN ุฅูู ูุณุชููุงุช ููุทููุฉ </li></ul><br>  ุณูู ุฃุตู ุจุงูุชูุตูู ุชุฑุชูุจ ุงูุชูููุฐ ุ ุงูุฐู ูุฑุฌุน ุฃููุงู ุฅูู ูุนุฑูุชู ุงูุดุฎุตูุฉ.  ุนูู ุณุจูู ุงููุซุงู  ุญุงููุช ุฃู ุฃุฏุฑู ุงูุฃูุงูู ุงูุชู ูู ูููููุง ูููุง ูู ุงูุจุฏุงูุฉ ุ ููู ุงูููุงูุฉ ุชุฑูุช ูุง ูุฌุจ ุฃู ูุญุฏุซ ุจุงูุชุฃููุฏ. <br><br>  ุนูู ุฃู ุญุงู ุ ูุชู ุงูุชุฎุทูุท ููุนุฏูุฏ ูู ุงูููุงูุงุช ูู ูุญุงูุฑ ูุฎุชููุฉ.  ูุชุญูู ุงููุดุฑูุน ุฅูู ุงููุซูุฑ ูู FullStack - ูู ุงุชุตุงู ุงูุฃุฌูุฒุฉ ุฅูู ุชุทุจูู Android. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฌุฒุก 2: USB ุ HID ุ ุงููุงุตูุงุช ุ ููู ุฐูู ููุญุตูู ุนูู ูููุฐุฌ ุชุฌุฑูุจู </h2><br>  ุงูุฎุทูุฉ ุงูุฃููู ููุช ุฃุฑุบุจ ูู ุงูุญุตูู ุนูู ูุฌููุนุฉ ูู ุงูุฌูุงุฒ ูุงููุงุชู ุ ุจุญูุซ ูููู ููุฌูุงุฒ ููู ุงูุญุฒูุฉ ุฅูู ุงููุงุชู ุ ูุฐูู ูุนุฑุถูุง ูู ุงูุชุทุจูู. <br>  ููุง ูุงู ุบุงุบุงุฑูู: ุฏุนูุง ูุฐูุจ! <br><br><h3 style=";text-align:right;direction:rtl">  ุฌูุงุฒ USB HID ุงููุฑูุจ ุนูู STM32 </h3><br>  ูุง ูุฑุฑุช ูุนูู ูู ุชูููู ูุซุงู ST ูู ููุงูู ูุงูุญุตูู ุนูู ุฌูุงุฒ USB ูุนุชุฑู ุจู ูู ูุจู ุงููุถูู ูุฌุฒุก ูู ููุญุฉ ุงูููุงุชูุญ ู "ุดูุก ุขุฎุฑ" - ุฌูุงุฒ RAW HID.  ุงูุฃูู ุ ููุง ููุช ุจุงููุนู ุ ูุฎุตุต ููุชุญูู ุงูุฃุตูู ูู Android ุ ูุงูุซุงูู - ููุชุจุงุฏู ุงููุจุงุดุฑ ูุญุฒู AVC-LAN ูุน ุงูุจุฑูุงูุฌ ุนูู ุงูุฌูุงุฒ. <br><br>  ุงุณุชูุงุฏูุง ุฅูู CubeMX ูู STM ุ ูุจุนุฏ ูุฑุงุกุฉ ุงููุซูุฑ ูู ุงูููุงูุงุช ุญูู ููููุฉ ุชูููุฐ HID ุงููุฎุตุต ุ ูุฌุฏุช ุดูุฆูุง ูุฒุนุฌูุง ุนูู ุงูุดุจูุฉ: ูุณุฃูุฉ ุฅูุดุงุก ุฃุฌูุฒุฉ ูุฑูุจุฉ ุบูุฑ ููุฌูุฏุฉ ุนููููุง ุฃู ูุงุฏุฑุฉ ุฌุฏูุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุณุชููู ุฑููุฒ ุงููุตุฏุฑ ูู ููุช ูุงุญู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูุง ุฃุญููู ุฑููุฒ ุงููุตุฏุฑ ุญุชู ุงูุขู ุ ูุธุฑูุง ูุฃู ุงููุดุฑูุน ูุชู ุชูููุฐู ุงูุขู ูู ูุถุน ุงูุชุฏุฑูุจ ุงูุชุฌุฑูุจู.  ุฅุฐุง ุชู ุฅููุงู ุงููุดุฑูุน ุจูุฌุงุญ ุ ูุชุฃูุฏ ูู ุณุญุจูู ุฅูู Github ูุชุนุฏูู ุงูููุงูุฉ ุจุฑุงุจุท ููู. <br>  ูู ุงูุดูู ุงูุฐู ูู ููู ุ ูุง ูุนูู ููุชุญููู - ููุงู ููุถู ูุงููุฉ ุนูู ุงูุฅูุชุฑูุช ุจุฏููู. <br></div></div><br><h4 style=";text-align:right;direction:rtl">  USB ุ ูุฑูุจ ุ HID </h4><br>  ููุท ุจุถุน ูููุงุช ุญูู ูุฐุง ุงูููุถูุน.  ูู ุงูููุชุฑุถ ุฃูู ุนูู ุฏุฑุงูุฉ ุฃู ุฃูู ุจูุนูุงุฑ USB.  ุฅุฐุง ูู ููู ุงูุฃูุฑ ูุฐูู ุ ููู ุงูุฃูุถู ุฃู ุชุชุนุฑู ุฃููุงู ุนูู ุฃูุซูุฉ ูู CubeMX ูุชุฌุฑุจุชูุง. <br><br>  ูุฐูู ูุฏููุง: <br><br>  ูุซุงู ุนูู ุชุทุจูู STM USB stack ูุงููุงูุณ.  ููุงู ูููุง ุจุชูููู ุจุนุถ ุงููุงุตูุงุช ูููุทุฉ ููุงูุฉ ูุธูููุฉ.  ูุฐุง ุจุงูุฅุถุงูุฉ ุฅูู ุฒูุฌ ูู 0x00 ู 0x80 ููุชุญูู ูู ุงูุฌูุงุฒ ุจุฃูููู. <br><br>  ูุชูููุฐ ูุดุฑูุนู ุ ุฃุญุชุงุฌ ุฅูู ุฃู ุชููู ููุทุฉ ููุงูุฉ ููุญุฉ ุงูููุงุชูุญ ุซูุงุฆูุฉ ุงูุงุชุฌุงู (ูุง ุฃุนุฑู ุงูุณุจุจ - ุฅููุง ูููุฏุฉ) ูููุทุชูู ุฃุฎุฑููู ุณุชุณุชุฎุฏูุงู ูุชุจุงุฏู ุงูุจูุงูุงุช ูุน ุงููุธููุฉ ุงูุซุงููุฉ - RAW -.  ุฃุถููุง. <br><br>  ูุฌุนู ุงูููุทุฉ ุซูุงุฆูุฉ ุงูุงุชุฌุงู ุนู ุทุฑูู ุฅุถุงูุฉ ููุทุฉ OUT ุฅูู ุงููุงุตู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุงุตู ุงูุชูููู.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุนูุฏ ุชุญุฑูุฑ ุงููุงุตู ุ ุฑุงูุจ ุงูููุงุฑุณ ูุงูุฃุญุฌุงู. <br>  (2c5cf968121f0d8fa43a6755c09e15ef3a317791): <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-number"><span class="hljs-number">0x07</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*bLength: Endpoint Descriptor size*/</span></span> USB_DESC_TYPE_ENDPOINT, <span class="hljs-comment"><span class="hljs-comment">/*bDescriptorType:*/</span></span> HID_EPOUT_ADDR, <span class="hljs-comment"><span class="hljs-comment">/*bEndpointAddress: Endpoint Address (IN)*/</span></span> <span class="hljs-number"><span class="hljs-number">0x03</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*bmAttributes: Interrupt endpoint*/</span></span> HID_EPOUT_SIZE, <span class="hljs-comment"><span class="hljs-comment">/*wMaxPacketSize: 4 Byte max */</span></span> <span class="hljs-number"><span class="hljs-number">0x00</span></span>, HID_FS_BINTERVAL,</code> </pre> <br></div></div><br>  ูุฅุถุงูุฉ ููุทุชูู ุฅุถุงููุชูู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุงุตู ุงูุชูููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  (bc2bd583c98715e106fcb3ab07b266bc9221be36): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">/* 59 */</span></span> <span class="hljs-number"><span class="hljs-number">0x07</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*bLength: Endpoint Descriptor size*/</span></span> USB_DESC_TYPE_ENDPOINT, <span class="hljs-comment"><span class="hljs-comment">/*bDescriptorType:*/</span></span> HID_EPIN_ADDR2, <span class="hljs-comment"><span class="hljs-comment">/*bEndpointAddress: Endpoint Address (IN)*/</span></span> <span class="hljs-number"><span class="hljs-number">0x03</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*bmAttributes: Interrupt endpoint*/</span></span> HID_EPIN_SIZE, <span class="hljs-comment"><span class="hljs-comment">/*wMaxPacketSize: 4 Byte max */</span></span> <span class="hljs-number"><span class="hljs-number">0x00</span></span>, HID_FS_BINTERVAL, <span class="hljs-comment"><span class="hljs-comment">/*bInterval: Polling Interval (10 ms)*/</span></span> <span class="hljs-comment"><span class="hljs-comment">/* 66 */</span></span> <span class="hljs-number"><span class="hljs-number">0x07</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*bLength: Endpoint Descriptor size*/</span></span> USB_DESC_TYPE_ENDPOINT, <span class="hljs-comment"><span class="hljs-comment">/*bDescriptorType:*/</span></span> HID_EPOUT_ADDR2, <span class="hljs-comment"><span class="hljs-comment">/*bEndpointAddress: Endpoint Address (IN)*/</span></span> <span class="hljs-number"><span class="hljs-number">0x03</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*bmAttributes: Interrupt endpoint*/</span></span> HID_EPOUT_SIZE, <span class="hljs-comment"><span class="hljs-comment">/*wMaxPacketSize: 4 Byte max */</span></span> <span class="hljs-number"><span class="hljs-number">0x00</span></span>, HID_FS_BINTERVAL, <span class="hljs-comment"><span class="hljs-comment">/*bInterval: Polling Interval (10 ms)*/</span></span></code> </pre><br></div></div><br>  ูุงู ูุงุตู ุงูุชูููู.  ุงูุขู ุณูุชุฃูุฏ ุงููุถูู ูู ุฃู ูุฏููุง ููุนูุง ูู ุฌูุงุฒ HID ุงููุฑูุจ ุ ูููููู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู ุฌููุน ูุฐู ุงูููุงุท.  ููู ุงูุฃูุฑ ููุณ ูุฐูู. <br>  ูุชุญููู ุฐูู: <br><br>  1. ุฅู ุฌูุงุฒ ุงูุชุญูู ุงูุฎุงุต ุจูุง ูุฏูู ูุทุนุฉ ุฐุงูุฑุฉ ูุฎุตุตุฉ ุจุดูู ุฎุงุต ูุงูุชู ูุชู ูุทุนูุง ูุน ูุญุฏุงุช CAN ู USB.  ุจุงููุธุฑ ุฅูู ุฃู ูุญุฏุฉ USB ุชุนูู ุจุดูู ูุณุชูู ูู ุนูููุฉ ุงุณุชูุจุงู / ุฅุฑุณุงู ุญุฒูุฉ ุจูุงูุงุช ุ ุชุญุชุงุฌ ุฅูู ุชุนููู ูุฎุงุฒู ูุคูุชุฉ ูู ูุฐู ุงููุทุนุฉ ูู ุงูุฐุงูุฑุฉ ููู ููุทุฉ ููุงูุฉ ูุฑุฏูุฉ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">USBD_LL_Init ูู ููู usbd_conf.c</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> HAL_PCDEx_PMAConfig((PCD_HandleTypeDef*)pdev-&gt;pData , <span class="hljs-number"><span class="hljs-number">0x00</span></span> , PCD_SNG_BUF, <span class="hljs-number"><span class="hljs-number">0x18</span></span>); HAL_PCDEx_PMAConfig((PCD_HandleTypeDef*)pdev-&gt;pData , <span class="hljs-number"><span class="hljs-number">0x80</span></span> , PCD_SNG_BUF, <span class="hljs-number"><span class="hljs-number">0x58</span></span>); HAL_PCDEx_PMAConfig((PCD_HandleTypeDef*)pdev-&gt;pData , HID_EPOUT_ADDR , PCD_SNG_BUF, <span class="hljs-number"><span class="hljs-number">0x100</span></span>); HAL_PCDEx_PMAConfig((PCD_HandleTypeDef*)pdev-&gt;pData , HID_EPIN_ADDR , PCD_SNG_BUF, <span class="hljs-number"><span class="hljs-number">0x140</span></span>); HAL_PCDEx_PMAConfig((PCD_HandleTypeDef*)pdev-&gt;pData , HID_EPOUT_ADDR2 , PCD_SNG_BUF, <span class="hljs-number"><span class="hljs-number">0x180</span></span>); HAL_PCDEx_PMAConfig((PCD_HandleTypeDef*)pdev-&gt;pData , HID_EPIN_ADDR2 , PCD_SNG_BUF, <span class="hljs-number"><span class="hljs-number">0x1B0</span></span>);</code> </pre><br></div></div><br>  ุชููู ุงูุนูุงููู ุงูุนุงุฒูุฉ ุนุดูุงุฆูุฉ ุ ุฅุฐุง ูู ุชุชุฏุงุฎู ููุท. <br><br>  ูุณุจุจ ูุง ุ ูุชู ูุชุงุจุฉ ููุฏุณ ST ูุน ุชููุน ุฃูุง ูููู ููุฌูุงุฒ ุฃูุซุฑ ูู ููุทุฉ ููุงูุฉ ุซูุงุฆูุฉ ุงูุงุชุฌุงู ุ ูุฐูู ุณูููู ุจุชุนุฏูู ุงูููุฏุณ ููููุงู: <br><br><h4 style=";text-align:right;direction:rtl">  ููู </h4><br>  ุฅุนุงุฏุฉ ุชุณููุฉ ุฅุฌุฑุงุก USBD_HID_SendReport ุฅูู USBD_HID_SendReportEP ุ ุจุฅุถุงูุฉ ูุนููุฉ ุฃุฎุฑู - ุฑูู ููุทุฉ ุงูููุงูุฉ.  ูุชุฑู ุงูุฅุฌุฑุงุก ูุน ุงูุงุณู ุงููุฏูู ููุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ุ ูููู ูู ุงูุฌุณู ูุณูู USBD_HID_SendReportEP ูุน ุซุงุจุช ูู ุดูู ููุทุฉ ููุงูุฉ.  ูุง ูุฒุงู ุงูุญู ููุณ ุงูุฃูุซุฑ ุฌูุงููุฉ ุ ููููู ุณููุฌุญ ูู ุงูุชุฌุฑุจุฉ ุ ูุญุชู ุฅุฐุง ุงุณุชูุฑ ุ ููู ูุชุฏุงุฎู ูุน ูุดุฑูุน ูุนูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">usbd_hid.c</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> USBD_HID_SendReportEP (USBD_HandleTypeDef *pdev, <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> ep, <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *report, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> len) { ... ,   USBD_HID_SendReport } <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> USBD_HID_SendReport (USBD_HandleTypeDef *pdev, <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *report, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> len) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> USBD_HID_SendReportEP(pdev,HID_EPIN_ADDR,report,len); }</code> </pre><br></div></div><br>  ุงูุขู ูู ุดูุก ุฌุงูุฒ ูุฅุฑุณุงู ุงูุจูุงูุงุช ุ ูุจูู ููุท ูู ุงูููุช ุงูููุงุณุจ ูุงุณุชุฏุนุงุก ูุฐู ุงููุธููุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุฅููุงุก </h4><br>  ูู ุฃุฌู ุงูุทูุจ ุ ูุจุญุซ ุนู ุงููุดุฑูุน ููุณุชุฏุนู USBD_LL_CloseEP ูุฑุฉ ุฃุฎุฑู ุ ูููู ูููุงุท ุงูููุงูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุญุฏูุซูุง. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุงุณุชูุจุงู </h4><br>  ููู ูุชู ุถุจุท ููุงุท ุงูููุงูุฉ ููุนูู ุฃุฎูุงููุง ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฏุนุงุก USBD_LL_PrepareReceive ููุง.  ุฃูุตู ุงููุงุฑุฆ ุจุงูุจุญุซ ุนู ูุดุฑูุน ูุฐุง ุงูุฎุท ูุชูููู ูุฐู ุงูููุงููุงุช ูุน ุงุญุชูุงุฌุงุชู. <br><br>  ุญุตูุช ุนูู ูุฐุง ุงูุญุจุงุฑ ุงููุจูุญ ูู ุงูููุฏ ุงูุฎุงุต ุจู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">usbd_core.c</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">USBD_LL_PrepareReceive(pdev, HID_EPOUT_ADDR+(epnum&amp;<span class="hljs-number"><span class="hljs-number">0x7F</span></span>)<span class="hljs-number"><span class="hljs-number">-1</span></span> , hhid-&gt;Report_buf, USBD_HID_OUTREPORT_BUF_SIZE);</code> </pre><br></div></div><br>  ุนูู ุณุจูู ุงููุซุงู  ุงูุชููุช ูู ุญูููุฉ ุฃู ุฃุนุฏุงุฏ ููุงุท ุงูููุงูุฉ ุชุณูุฑ ุนูู ุงูุชูุงูู.  ูุฐุง ุฃูุฑ ุณูุก ุ IMHO.  ูุง ุชูุนู ุฐูู.  ููุน ุฐูู ุ ูุง ุชูุนู ูุซู ST ุณูุงุก. <br><br>  ูู ูุง ุชุจูู ูู ุงูุฐูุงุจ ุฅูู ููู usbd_hid.c ุ ูุชุญุฏูุฏุง ุฅูู ูุธููุฉ USBD_HID_DataOut ุ ูุงูุชุฃูุฏ ูู ุฃู ุงุณุชุฏุนุงุก ูุนุงูุฌ ุงูุจูุงูุงุช ุงููุณุชููุฉ ูุทุงุจู ุฃููุงุฑู ุงูุดุฎุตูุฉ ุญูู ุงูุฌูููุฉ.  ูู ุฃูุฌุญ ุฃูุถูุง ุ ูุฐุง ุณูููู ุงูุฑูุฒ ูุงููุตู ุทููููุง ูุบูุฑ ููููู.  ุฃุณูู ููููุงู ุจุฐูู ุจููุณู. <br><br><h4 style=";text-align:right;direction:rtl">  ุชูุฑูุฑ </h4><br>  ูู ุดูุก ุ ูู ูุฐุง ุงูููุงู ุญุตููุง ุนูู ุฌูุงุฒ ูุฑูุจ ูุงุฏุฑ ุนูู ุชุจุงุฏู ุงูุจูุงูุงุช ูู ุฎูุงู ููุทุชูู ุซูุงุฆู ุงูุงุชุฌุงู.  ุนูุฏ ุงูุถุฑุจุฉ ุงูุฃุฎูุฑุฉ ุ "ูููุง ุจุฅุบูุงู" ูุถูู ูุญุฑู HID ุ ูุงุตููุง ูุงุตู ุงูุชูุฑูุฑ ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">__ALIGN_BEGIN <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> HID_ReportDesc2[<span class="hljs-number"><span class="hljs-number">33</span></span>] __ALIGN_END = { <span class="hljs-number"><span class="hljs-number">0x06</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0xff</span></span>, <span class="hljs-comment"><span class="hljs-comment">// USAGE_PAGE (Vendor Defined Page 1) 0x09, 0x01, // USAGE (Vendor Usage 1) 0xa1, 0x01, // COLLECTION (Application) 0x85, 0x01, // REPORT_ID (1) 0x15, 0x00, // LOGICAL_MINIMUM (0) 0x26, 0xff, 0x00, // LOGICAL_MAXIMUM (255) 0x75, 0x08, // REPORT_SIZE (8) 0x95, 0x1f, // REPORT_COUNT (31) 0x09, 0x00, // USAGE (Undefined) 0x81, 0x00, // INPUT (Data,Ary,Abs) 0x85, 0x02, // REPORT_ID (2) 0x09, 0x01, // USAGE (Vendor Usage 1) 0x75, 0x08, // REPORT_SIZE (8) 0x95, 0x1f, // REPORT_COUNT (31) 0x91, 0x00, // OUTPUT (Data,Ary,Abs) 0xc0 // END_COLLECTION };</span></span></code> </pre><br>  ูุฎุจุฑ ูุฐุง ุงูุชูุฑูุฑ ุจุฑูุงูุฌ ุชุดุบูู HID: ุณูููู ููุงู ุญูุงูู 31 ุจุงูุช ูู ุงูุจูุงูุงุช.  ูุง ุญุงุฌุฉ ููุนุฑูุฉ ูุง ูู - ููุท ุฃุนุทูู ููุจุฑูุงูุฌ ุงูุฐู ูุชุญ ูุฐุง ุงูุฌูุงุฒ.  ูู ุชูุฑูุฑ ูุงุฏู ุ ุณุชููู ุงูุจุงูุช ุงูุตูุฑูุฉ ูุณุงููุฉ ูููุฑุณ ุงูุชูุฑูุฑ (REPORT_ID (2)).  ูุจูุงุกู ุนูู ุฐูู ุ ุณูุฃุชู ุฅุฌูุงูู 32 ุจุงูุช. <br><br>  ูุฃุฏุฎู ุงูุจูุงูุงุช ุงููุชุนููุฉ ุจู ูู usbd-hid.c ุ ูุธููุฉ USBD_HID_Setup.: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">usbd-hid.c</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (req-&gt;bRequest) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> USB_REQ_GET_DESCRIPTOR: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( req-&gt;wValue &gt;&gt; <span class="hljs-number"><span class="hljs-number">8</span></span> == HID_REPORT_DESC) { <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> !!!   ,     req-&gt;wIndex !!! THIDDescPtrLen * rep = (req-&gt;wIndex==1)?&amp;HID_ReportDesc:&amp;HID_ReportDesc2; len = MIN(rep-&gt;len , req-&gt;wLength); pbuf = rep-&gt;ptr; }</span></span></code> </pre></div></div><br><h3 style=";text-align:right;direction:rtl">  ูุฐูู ูู ุงูุจุฑูุงูุฌ: </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฌููุน ูุญูู ูุณุชูู ุงูููุทู AVC-LAN ุ ูุงูุงุชุตุงู ุจุงูููุญุฉ.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุญููู ุงูุทุจูุฉ ุงููุงุฏูุฉ ูุดุจูุฉ AVC-LAN ุ ุฃุดูุงู ุงูููุฌุฉ ุงูุญููููุฉ.</a> </li><li style=";text-align:right;direction:rtl">  ูุนุงูุฌุฉ ุงููุงุฌูุฉ ุนูู ูุณุชูู ุฌูุงุฒ ุงูุชุญูู ูุฅุฑุณุงู ุญุฒู ุงูุชูุงุฑูุฑ </li><li style=";text-align:right;direction:rtl">  ูุงุฌูุฉ ููุงูุฉ ุฅูู ููุงูุฉ ูุงูููุฏุณุฉ ุงูุนูุณูุฉ ุจุฑููุณ.  ุญุฒูุฉ Sniffer (ุฃู ุฃูู ุชุทุจูู Android) </li></ol><br><h4 style=";text-align:right;direction:rtl">  ููุงุญุธุฉ </h4><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฑุฑุช ูุชุงุจุฉ ููุงู ูุฃููู ุงุถุทุฑุฑุช (ุชูุฑูุจูุง) ุ ููุชูุนุฉ ุฃูู ูุฌุจ ูุดุงุฑูุฉ ูุฐุง.  ุญุชู ุฅุฐุง ูู ุฃููู ุงููุดุฑูุน ุ ูููู ูุจุนุถ ุงููุนูููุงุช ุงูุฃุฎูุฑุฉ ุฃู ุชุณุงุนุฏ ุดุฎุตูุง ูุง ุญุชู ุจุทุฑููุฉ "ุฃูููุฉ". </li><li style=";text-align:right;direction:rtl">  ููุฏ ุงููุดุฑูุน ูุฑุญุจ ุจู ุ ููุง  ุฃูุง ููุณู ูุง ุฃุชุฎูู ุชูุงููุง ุฃูู ุณููุฌุญ. </li><li style=";text-align:right;direction:rtl">  ููุฏ ุงูููุงู ูุงูุชุตููู ูุงูุนุฑุถ - ุฎุงุตุฉ ูุฃูู  ูุฐู ูู ุงูููุงูุฉ ุงูุฃููู ููููุฑุฏ.  ูุน ุงุณุชูุฑุงุฑ ุงูุนูู ุ ุฃูุฏ ุฃู ุฃุนุจุฑ ุนู ุฃููุงุฑู ุจุงูุดูู ุงููุนุชุงุฏ ูุงููุงุจู ูููุถู ูููุฑุงุก </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar411617/">https://habr.com/ru/post/ar411617/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar411603/index.html">ููู ุชุทุจุน ูุงูู 3D ุฃุญุฐูุฉ ุงูุฌุฑู ุงููุฑูุฏุฉ ูููุฑุจู ุงููุฎุจุฉ</a></li>
<li><a href="../ar411605/index.html">"THIS_". ููู ูุชู ุชุฑุชูุจ ููุชุจ ุดุฑูุงุช ุชูููููุฌูุง ุงููุนูููุงุช Kuzbass</a></li>
<li><a href="../ar411609/index.html">5 ุตูุฑ ูุงุณุง ุบูุฑุช ุงูุนุงูู</a></li>
<li><a href="../ar411611/index.html">ูุงููู ุฑุจูุน ุฃูุฒูุฑูู - ูู ุงูุฃููุงู ุฅูู ุงูุฃูุนุงู</a></li>
<li><a href="../ar411613/index.html">Clash of the Titans: ููุงุฑูุฉ ุจูู ุงููุฑุงุก ุงูุฑุฆูุณููู ูุฌูุงุฒ PocketBook 740 ู Amazon Kindle Oasis 2017</a></li>
<li><a href="../ar411621/index.html">ุณุชููู SpaceX ุจุจูุงุก ุตุงุฑูุฎ Big Fucking Rocket ูู ููุณ ุฃูุฌููุณ</a></li>
<li><a href="../ar411623/index.html">ุงุจุชูุฑ ุงูุนููุงุก ุฅูุฒูููุง ููุณุฑ ุงูุจูุงุณุชูู</a></li>
<li><a href="../ar411625/index.html">ุฑุงุฏูู 86RK ุนูู ESP-01S</a></li>
<li><a href="../ar411629/index.html">ููู ุงุณุชุนุฏูุง ุฌุฏูู ููุงุนูุฏ ุงูุญุงููุงุช ุจูู ุงููุฏู</a></li>
<li><a href="../ar411631/index.html">ูุฏ ูุชู ุญุธุฑ Telegram ูู ุฑูุณูุง ุจุณุจุจ ุฎุทุท Durov ูุฅุทูุงู ุนููุชูุง ุงููุดูุฑุฉ ุงูุฎุงุตุฉ ุจูุง</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>