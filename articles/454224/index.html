<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüé® ‚öúÔ∏è üóûÔ∏è Recomendaciones en Okko: c√≥mo ganar cientos de millones multiplicando un par de matrices üë©üèΩ‚Äç‚öïÔ∏è ü§¥üèæ ü§ôüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øEst√° familiarizado con una situaci√≥n en la que pasa una gran cantidad de tiempo eligiendo una pel√≠cula comparable al tiempo que la vio? Para los usua...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Recomendaciones en Okko: c√≥mo ganar cientos de millones multiplicando un par de matrices</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/454224/"><p><img src="https://habrastorage.org/webt/lz/br/1e/lzbr1ep8ur0j8t_guasvydsyob8.jpeg" alt="Rekko - recomendaciones personalizadas en el cine en l√≠nea Okko"></p><br><p>  ¬øEst√° familiarizado con una situaci√≥n en la que pasa una gran cantidad de tiempo eligiendo una pel√≠cula comparable al tiempo que la vio?  Para los usuarios de cines en l√≠nea, este es un problema com√∫n, y para los cines mismos: ganancias perdidas. </p><br><p>  Afortunadamente, tenemos Rekko, un sistema de recomendaciones personales que ha ayudado con √©xito a los usuarios de Okko durante un a√±o a elegir pel√≠culas y series de m√°s de diez mil unidades de contenido.  En el art√≠culo le dir√© c√≥mo est√° organizado desde el punto de vista algor√≠tmico y t√©cnico, c√≥mo abordamos su desarrollo y c√≥mo evaluamos los resultados.  Bueno, tambi√©n te contar√© sobre los resultados de la prueba anual A / B. </p><a name="habracut"></a><br><p>  Primero, un poco de historia.  Okko comenz√≥ su existencia en 2011 como parte de Iota, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">comenzando</a> con el nombre de Yota Play. </p><br><p><img src="https://habrastorage.org/webt/mv/a1/56/mva156eoduu0n4mxwzndqw8okia.jpeg" alt="Antigua interfaz de Yota Play"></p><br><div class="spoiler">  <b class="spoiler_title">Ya en 2011, los usuarios aceptaron con entusiasmo la idea de ver una pel√≠cula legalmente en Internet.</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/x9/qt/lw/x9qtlwkwdtshpzms52bk2_fcsem.png" alt="Comentarios de los usuarios sobre el costo del contenido en una sala de cine en l√≠nea"></p></div></div><br><p>  Yota Play fue un servicio √∫nico para su √©poca: se integr√≥ estrechamente con las redes sociales y utiliz√≥ informaci√≥n sobre pel√≠culas vistas y calificadas por amigos en muchas partes del servicio, incluidas las recomendaciones. </p><br><p><img src="https://habrastorage.org/webt/tg/es/vx/tgesvx1rincasogqygiajdlbkbc.jpeg" alt="Recomendaciones sociales sobre Yota Play"></p><br><p>  En 2012, se decidi√≥ complementar las recomendaciones sociales con las algor√≠tmicas.  As√≠ es como apareci√≥ "Oracle": el primer sistema de recomendaci√≥n del cine en l√≠nea Okko.  Aqu√≠ hay algunos extractos de su documento de dise√±o: </p><br><blockquote>  Se utiliz√≥ un enfoque similar en el sistema implementado de recomendaciones personales.  La escala de niveles se utiliza desde "nada" (vac√≠o, ausencia) hasta "todo" (completamente, al m√°ximo).  En el rango [127 .. + 127] 0 - es el medio o "norma".  En esta escala, tambi√©n se eval√∫a el grado de simpat√≠a por el personaje principal y el precio subjetivo del producto y el grado de color "rojo".  Por ejemplo, el tama√±o del universo se estima en +127 (en la escala de dimensiones), y la oscuridad se estima en 127 (en la escala de intensidad de la luz). <br><br>  Al hacer recomendaciones, es importante no solo el fondo, sino tambi√©n la naturaleza del usuario en particular.  El perfil personal tambi√©n contiene 4 escalas de tipos de personajes (seg√∫n K. Leonhard: demostrativo, pedante, atascado, excitable). <br><br>  Los l√≠mites fisiol√≥gicos del cerebro no dependen de las propiedades del car√°cter de una persona y de cu√°n amigable y sociable es.  Seg√∫n el profesor, existen restricciones en la neocorteza, el departamento responsable de los pensamientos conscientes y el habla.  Esta restricci√≥n tambi√©n se tiene en cuenta en el sistema implementado, especialmente al desarrollar recomendaciones para un tipo de personaje pedante y al formar una muestra de dichos usuarios entre las conexiones sociales. </blockquote><p><img src="https://habrastorage.org/webt/2m/uu/lx/2muulx2mhqmdcnpife9rzqvosr8.jpeg" alt="Tomada de la pel√≠cula &quot;Miedo y asco en Las Vegas&quot;"></p><br><p>  Como ya entendi√≥, los tiempos eran salvajes, los l√≠mites fisiol√≥gicos del cerebro no se limitaban a nada, y el propio neoc√≥rtex overclockeado pod√≠a generar recomendaciones personales a la velocidad de la luz.  Por lo tanto, se decidi√≥ que el modelo entrara en producci√≥n de inmediato. </p><br><p>  Hasta donde se puede juzgar por los artefactos supervivientes de la civilizaci√≥n antigua, "Oracle" fue una mezcla salvaje de algoritmos de filtrado colaborativos, generosamente sazonados con reglas comerciales. </p><br><p><img src="https://habrastorage.org/webt/0o/no/pg/0onopgsv10ay9p1gghbbkuy-bsq.jpeg" alt="Arquitectura &quot;Or√°culo&quot;"></p><br><p>  A mediados de 2013, todos comenzaron a soltar un poco y finalmente se decidi√≥ verificar la calidad de la m√°quina de recomendaci√≥n.  Para hacer esto, un editor especialmente entrenado llen√≥ las secciones principales de la aplicaci√≥n y se lanz√≥ la prueba A / B: la mitad de los usuarios vieron la salida del algoritmo, la mitad, la elecci√≥n del editor. </p><br><p>  Es ahora cuando estamos leyendo art√≠culos sobre las pr√≥ximas victorias de la inteligencia artificial y con horror imaginamos el d√≠a en que perder√° nuestro trabajo.  Luego, en 2013, la situaci√≥n fue diferente: una persona derrot√≥ heroicamente el autom√≥vil, creando a√∫n m√°s empleos en el departamento de contenido.  El or√°culo se apag√≥ y nunca se volvi√≥ a encender.  Pronto, todas las fichas sociales desaparecieron, y Yota Play se convirti√≥ en Okko. </p><br><p><img src="https://habrastorage.org/webt/zg/iy/si/zgiysix9gjqhvyvlzxxhbtkpjeo.jpeg" alt="La interfaz del cine en l√≠nea Okko inmediatamente despu√©s de renombrar"></p><br><p>  El per√≠odo comprendido entre 2013 y 2016 estuvo marcado por el "invierno" de la inteligencia artificial y la regla totalitaria del departamento de contenido: no hubo recomendaciones personales en el servicio. </p><br><p>  A mediados de 2017, qued√≥ claro que ya no puedes vivir as√≠.  Los √©xitos de Netflix eran bien conocidos por todos y toda la industria se estaba moviendo a un ritmo r√°pido hacia la personalizaci√≥n.  Los usuarios ya no estaban interesados ‚Äã‚Äãen los servicios est√°ticos "tontos", ya estaban comenzando a acostumbrarse a las interfaces "inteligentes", comprendi√©ndolos perfectamente y prediciendo todos sus deseos. </p><br><p>  Como primera iteraci√≥n, decidimos integrarnos con dos grandes proveedores rusos de recomendaciones.  Una vez al d√≠a, ambos servicios tomaron los datos necesarios de Okko, susurraron con sus cajas negras en servidores distantes y subieron los resultados. </p><br><p>  Seg√∫n los resultados de la prueba A / B de seis meses, no se encontraron diferencias estad√≠sticamente significativas en los grupos de control y prueba. </p><br><p>  Justo al final de esta prueba A / B, vine a Okko para comenzar a hacer que el servicio sea realmente personal con el jefe de an√°lisis, Mikhail Alekseev ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">malekseev</a> ).  Menos de un a√±o despu√©s, Danil Kazakov ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">xaph</a> ) se uni√≥ a nosotros y finalmente form√≥ el equipo actual. </p><br><h2 id="obschie-soobrazheniya">  Consideraciones generales </h2><br><p>  Cuando surge un problema comercial que ha sido estudiado por la comunidad internacional por mucho tiempo y que, adem√°s, debe resolverse r√°pidamente, es tentador tomar la primera soluci√≥n popular de red neuronal profunda que tiene, introducir los datos con una pala, embestirla y arrojarla al producto. </p><br><p><img src="https://habrastorage.org/webt/wc/yk/q1/wcykq1ofa4dbrgtlxzgwvnwnrj8.png" alt="C√≥mic de xkcd.com sobre aprendizaje autom√°tico"></p><br><p>  Lo principal es no sucumbir a esta tentaci√≥n.  La tarea de la comunidad cient√≠fica, lograr la m√°xima velocidad en conjuntos de datos podridos y sint√©ticos, a menudo no coincide con la tarea empresarial, de ganar m√°s dinero y gastar menos recursos. </p><br><p><img src="https://habrastorage.org/webt/kz/7j/lv/kz7jlvh1g1-kyj_aivbafyjcei4.png"></p><br><p>  No, esto no significa que no necesite redes recurrentes y que pueda acumular miles de millones utilizando el m√©todo de k vecinos m√°s cercanos.  Es posible que en sus datos la descomposici√≥n cl√°sica de la matriz le permita ganar 100 millones condicionales adicionales por a√±o y redes recurrentes: 105 millones por a√±o.  Al mismo tiempo, mantener un rack de servidores con tarjetas de video para estas mismas redes costar√° 10 millones al a√±o y requerir√° varios meses adicionales para desarrollarse e implementarse, y la simple integraci√≥n de una descomposici√≥n matricial lista para usar en otra secci√≥n del servicio y la lista de correo requerir√° un mes de mejoras y dar√° otros 100 millones condicionales. por a√±o </p><br><p>  Por lo tanto, es importante comenzar con lo b√°sico (m√©todos b√°sicos probados) y avanzar hacia enfoques cada vez m√°s modernos, aseg√∫rese de medir y predecir qu√© efecto tendr√° cada nuevo m√©todo en el negocio, cu√°nto costar√° y cu√°nto le permitir√° ganar. </p><br><p>  Okko puede medir bien.  Literalmente, cada nueva caracter√≠stica, cada innovaci√≥n que tenemos pasa por una prueba A / B, se examina en el contexto de una variedad de grupos de usuarios, se verifica la importancia estad√≠stica de los efectos y solo despu√©s de eso se toma la decisi√≥n de aceptar o rechazar la nueva funcionalidad. </p><br><p><img src="https://habrastorage.org/webt/a3/qs/52/a3qs52_u3h315fc3uilbjcfue6y.jpeg"></p><br><p>  El panel actual de Rekko, por ejemplo, compara los grupos de control y prueba para m√°s de 50 m√©tricas, incluidos los ingresos, el tiempo dedicado al servicio, el tiempo para elegir una pel√≠cula, el n√∫mero de vistas por suscripci√≥n, la conversi√≥n a la compra y la renovaci√≥n autom√°tica, y muchos otros.  Y s√≠, todav√≠a tenemos un peque√±o grupo de usuarios que nunca han recibido recomendaciones personalizadas (lo siento). </p><br><p><img src="https://habrastorage.org/webt/ji/wk/wa/jiwkwartjggsztf_2tnsv1yfezc.png"></p><br><h2 id="o-rekomendatelnyh-sistemah">  Sobre los sistemas de recomendaci√≥n </h2><br><p>  Para comenzar, una peque√±a introducci√≥n a los sistemas de recomendaci√≥n. </p><br><p>  El objetivo del sistema de recomendaci√≥n es que para cada usuario <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>U</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.171ex" height="2.057ex" viewBox="0 -780.1 2657 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="1289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-55" x="1889" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> u \ en U </script>  en su historia de interactuar con elementos <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.033ex" height="2.057ex" viewBox="0 -780.1 2167 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="1062" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="1662" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> i \ en I </script>  para construir una relaci√≥n de orden en el conjunto de todos los elementos.  Esto significa esto: no importa qu√© dos elementos arbitrarios tomemos, siempre podemos decir cu√°l es m√°s preferible para el usuario y cu√°l es menos. </p><br><p><img src="https://habrastorage.org/webt/l5/er/eb/l5erebrzv_nfgsliqcvwsgnms4u.jpeg" alt="Ilustraci√≥n de la relaci√≥n de orden en muchas pel√≠culas."></p><br><p>  Esta tarea bastante general se puede reducir a una m√°s simple: asignar elementos a un conjunto en el que ya se ha definido una relaci√≥n de orden.  Por ejemplo, en un conjunto de n√∫meros reales.  En este caso, es necesario que cada usuario y cada elemento puedan predecir un cierto valor: cu√°nto prefiere este elemento este usuario. </p><br><p><img src="https://habrastorage.org/webt/jf/jq/ur/jfjqur-h18fc3rzmphqaqwcnpoi.jpeg" alt="Ilustraci√≥n del mapeo de muchas pel√≠culas a muchos n√∫meros reales"></p><br><p>  Al tener una relaci√≥n de orden en nuestros elementos, podemos resolver muchos problemas comerciales, por ejemplo, elegir entre todos los elementos N los m√°s relevantes para el usuario u ordenar los resultados de b√∫squeda de acuerdo con sus preferencias. </p><br><p>  Idealmente, necesitamos una familia completa de relaciones de orden sensibles al contexto.  Si el usuario ha ingresado en la colecci√≥n "Fighters", lo m√°s probable es que prefiera la pel√≠cula "Destroyer" a la pel√≠cula "Oscar", pero en la colecci√≥n "Films with Sylvester Stallone" la preferencia puede ser todo lo contrario.  Se pueden dar ejemplos similares para el d√≠a de la semana, la hora del d√≠a o el dispositivo desde el cual el usuario ingres√≥ al servicio. </p><br><p><img src="https://habrastorage.org/webt/-_/o4/qj/-_o4qjhy9azdbrp4plydn7yjkya.jpeg" alt="Ilustraci√≥n del mapeo de m√∫ltiples pel√≠culas a m√∫ltiples n√∫meros reales, teniendo en cuenta el contexto"></p><br><p>  Tradicionalmente, todos los m√©todos para construir recomendaciones personales se dividen en tres grandes grupos: filtrado colaborativo (CF), modelos de contenido (modelos de contenido, CM) y modelos h√≠bridos que combinan los dos primeros enfoques. </p><br><p>  Los m√©todos de filtrado colaborativo utilizan informaci√≥n sobre las interacciones de todos los usuarios y todos los elementos.  Dicha informaci√≥n, como regla, se presenta en forma de una matriz dispersa, donde las filas corresponden a los usuarios, las columnas a los elementos, y el usuario y el elemento contienen el valor que caracteriza la interacci√≥n entre ellos, o una brecha si esta interacci√≥n no lo era.  La tarea de construir una relaci√≥n de orden aqu√≠ se reduce a la tarea de completar los elementos de la matriz que faltan. </p><br><p><img src="https://habrastorage.org/webt/_h/m3/7j/_hm37jb5xe7ddcdyg1nanl3fsbk.jpeg" alt="Ilustraci√≥n de la matriz de interacci√≥n para los m√©todos de filtrado colaborativo."></p><br><p>  Estos m√©todos, por regla general, son f√°ciles de entender e implementar, r√°pidos, pero no muestran el mejor resultado. </p><br><p>  Modelos de contenido: m√©todos de aprendizaje autom√°tico arbitrarios para resolver problemas de clasificaci√≥n o regresi√≥n, parametrizados por un determinado conjunto de par√°metros <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.912ex" height="2.057ex" viewBox="0 -780.1 2545.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="1188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="1654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="2016" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ theta </script>  .  En la entrada, aceptan los atributos del usuario y los atributos del elemento, y la salida es el grado de relevancia del elemento dado para este usuario.  Dichos modelos no se ense√±an sobre las interacciones de todos los usuarios y todos los elementos, como los m√©todos de filtrado colaborativo, sino solo en los precedentes individuales. </p><br><p><img src="https://habrastorage.org/webt/lx/lp/pd/lxlppd-mzqmhiy7yidyly3jeclu.jpeg" alt="Ilustraci√≥n del modelo de contenido"></p><br><p>  Tales modelos, como regla, son mucho m√°s precisos que los m√©todos de filtrado colaborativo, pero son mucho m√°s lentos en velocidad.  Imagine que tenemos una funci√≥n de alguna forma general que acepta signos de usuarios y elementos como entrada, entonces debe llamarse para cada par <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>U</mi><mo>,</mo><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.247ex" height="2.66ex" viewBox="0 -832 7856.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="1752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="2142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="2587" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="3409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="3876" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-55" x="4476" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="5244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="5689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="6285" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="6751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="7352" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>,</mo><mi>u</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>U</mi><mo>,</mo><mi>i</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> (u, i), u \ en U, i \ en I </script>  .  En el caso de mil usuarios y diez mil elementos, esto es un mill√≥n de llamadas. </p><br><p>  Los modelos h√≠bridos combinan las fortalezas de ambos enfoques, ofreciendo recomendaciones de calidad en un tiempo razonable. </p><br><p>  El enfoque h√≠brido m√°s popular hoy en d√≠a es una arquitectura de dos niveles, donde el modelo de filtrado colaborativo selecciona un peque√±o n√∫mero (100 - 1000) de candidatos de todos los elementos posibles, que luego se clasifican por un modelo de contenido mucho m√°s potente.  A veces puede haber varias etapas de selecci√≥n de candidatos y se utiliza un modelo cada vez m√°s complejo en cada nuevo nivel. </p><br><p><img src="https://habrastorage.org/webt/gg/mm/aj/ggmmaj0ypd3aioq8uqwg985w_uu.jpeg" alt="Ilustraci√≥n de arquitectura de dos niveles"></p><br><p>  Tal arquitectura tiene muchas ventajas: </p><br><ol><li>  Las partes colaborativas y de contenido no est√°n interconectadas y se pueden entrenar por separado con diferentes frecuencias; </li><li>  La calidad siempre es mejor que la de un modelo colaborativo por separado; </li><li>  La velocidad es mucho m√°s alta que la del modelo de contenido por separado; </li><li>  "Gratis" obtenemos vectores de un modelo colaborativo, que luego puede usarse para resolver problemas relacionados. </li></ol><br><p>  Si hablamos de tecnolog√≠as espec√≠ficas, entonces hay muchas combinaciones posibles. </p><br><p>  Como parte de colaboraci√≥n, puede tomar suscripciones de usuarios, contenido popular, contenido popular entre los amigos del usuario, puede aplicar factorizaci√≥n de matriz o tensor, entrenar DSSM o cualquier otro m√©todo con predicci√≥n bastante r√°pida. </p><br><p>  Como modelo de contenido, cualquier enfoque puede usarse en general, desde la regresi√≥n lineal hasta las cuadr√≠culas profundas. </p><br><p>  En Okko, actualmente nos estamos centrando en una combinaci√≥n de factorizaci√≥n matricial con p√©rdida de WARP y aumento de gradiente sobre los √°rboles, que ahora analizar√© en detalle. </p><br><h2 id="pervyy-etap-otbor-kandidatov">  Etapa uno: selecci√≥n de candidatos </h2><br><p>  Creo que no miento si digo que los algoritmos de factorizaci√≥n matricial son, con mucho, los m√©todos m√°s populares de filtrado colaborativo.  La esencia del m√©todo est√° clara en el nombre: estamos tratando de presentar la matriz de interacciones del usuario ya mencionada con el contenido del producto de dos matrices de rango inferior, una de las cuales ser√° una "matriz de usuario" y la otra una "matriz de elementos".  Con esta descomposici√≥n, podemos restaurar la matriz original junto con todos los valores faltantes. </p><br><p><img src="https://habrastorage.org/webt/rn/_t/fv/rn_tfvt7uh_z56ojjyiqt-zpmky.jpeg" alt="Ilustraci√≥n de descomposici√≥n matricial"></p><br><p>  En este caso, por supuesto, somos libres de elegir un criterio para la similitud de las matrices disponibles y restauradas.  El criterio m√°s simple es la desviaci√≥n est√°ndar. </p><br><p>  Dejar <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-5"> p_u </script>  - fila de matriz de usuario correspondiente al usuario <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>U</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.171ex" height="2.057ex" viewBox="0 -780.1 2657 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="1289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-55" x="1889" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> u \ en U </script>  y <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-7"> q_i </script>  - columna de la matriz de elementos correspondiente al elemento <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.033ex" height="2.057ex" viewBox="0 -780.1 2167 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="1062" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="1662" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-8"> i \ en I </script>  .  Luego, al multiplicar matrices, su producto <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.15ex" height="2.419ex" viewBox="0 -780.1 8245.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="2159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="2457" y="0"></use><g transform="translate(2924,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="3932" y="0"></use><g transform="translate(4377,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="5418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="5869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="6399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="6999" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="7480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="7778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> \ langle p_u, q_i \ rangle </script>  significar√° la magnitud de la interacci√≥n prevista entre el usuario dado y el elemento.  Ahora calculando la desviaci√≥n est√°ndar entre esta cantidad y el valor conocido a priori de la interacci√≥n <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.789ex" height="1.817ex" viewBox="0 -520.7 1200.6 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="572" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-10"> r_ {ui} </script>  para todos los pares de usuarios y elementos que interact√∫an <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>T</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.67ex" height="2.66ex" viewBox="0 -832 4163.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="1752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="2392" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="2858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-54" x="3459" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-11"> (u, i) \ en T </script>  , obtenemos una funci√≥n de p√©rdida que se puede minimizar. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="63.315ex" height="3.383ex" viewBox="0 -987.6 27260.7 1456.5" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-66" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="2875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="3326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-63" x="3856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="4289" y="0"></use><g transform="translate(4790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-54" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="3268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-76" x="3719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="4205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="5123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-73" x="10524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="10994" y="0"></use><g transform="translate(11566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="1586" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="2329" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="2674" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-54" x="3275" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="15358" y="0"></use><g transform="translate(15748,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="17171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="18422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="18720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="19250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="19850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="20331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="20629" y="0"></use><g transform="translate(21096,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="22104" y="0"></use><g transform="translate(22549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="23590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="24041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="24571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="25171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="25652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="25950" y="0"></use><g transform="translate(26417,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ min \ frac {1} {\ lvert T \ rvert} \ sum _ {(u, i) \ in T} (r_ {ui} - \ langle p_u, q_i \ rangle) ^ 2 </script></p><br><p>  Como regla general, todav√≠a se le agrega regularizaci√≥n. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>u</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>p</mi><mi>u</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="121.977ex" height="3.383ex" viewBox="0 -987.6 52517.7 1456.5" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-66" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="2875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="3326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-63" x="3856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="4289" y="0"></use><g transform="translate(4790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-54" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="3268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-76" x="3719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="4205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="5123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-73" x="10524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="10994" y="0"></use><g transform="translate(11566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="1586" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="2329" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="2674" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-54" x="3275" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="15358" y="0"></use><g transform="translate(15748,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="17171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="18422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="18720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="19250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="19850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="20331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="20629" y="0"></use><g transform="translate(21096,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="22104" y="0"></use><g transform="translate(22549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="23590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="24041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="24571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="25171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="25652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="25950" y="0"></use><g transform="translate(26417,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2B" x="27482" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="28733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="29032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="29561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-62" x="30440" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-64" x="30869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="31393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="31922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-73" x="32562" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="33031" y="0"></use><g transform="translate(33604,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="35237" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-56" x="35535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="36305" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="36771" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="37223" y="0"></use><g transform="translate(37584,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="38843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-56" x="39294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="40064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="40530" y="0"></use><g transform="translate(40982,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-32" x="511" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2B" x="42019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-73" x="43270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="43740" y="0"></use><g transform="translate(44312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="45785" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-56" x="46083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="46853" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="47319" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="47771" y="0"></use><g transform="translate(48132,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="49173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-56" x="49625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="50394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="50861" y="0"></use><g transform="translate(51312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-32" x="511" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="52128" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>u</mi></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>p</mi><mi>u</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> \ min \ frac {1} {\ lvert T \ rvert} \ sum _ {(u, i) \ in T} (r_ {ui} - \ langle p_u, q_i \ rangle) ^ 2 + \ lambda (\ sum_u \ lVert p_u \ rVert ^ 2 + \ sum_i \ lVert q_i \ rVert ^ 2) </script></p><br><p>  Tal problema no es convexo y complejo NP.  Sin embargo, es f√°cil notar que al arreglar una de las matrices, el problema se convierte en una regresi√≥n lineal con respecto a la segunda matriz, lo que significa que podemos buscar una soluci√≥n de forma iterativa, congelando alternativamente la matriz del usuario o la matriz de elementos.  Este enfoque se llama Alternating Least Squares (ALS). </p><br><p><img src="https://habrastorage.org/webt/pj/fd/-o/pjfd-owy8_ujaucnfd1pc4cilbc.jpeg"></p><br><p>  La principal ventaja de ALS es la velocidad y la capacidad de paralelizar f√°cilmente.  Por esto, es muy querido en Yandex.Zen y Vkontakte, donde los usuarios y los elementos suman decenas de millones. </p><br><p>  Sin embargo, si estamos hablando de la cantidad de datos que cabe en una m√°quina, ALS no resiste las cr√≠ticas.  Su principal problema es que optimiza la funci√≥n de p√©rdida incorrecta.  Recuerde la formulaci√≥n de la tarea de construir un sistema de recomendaci√≥n.  Queremos obtener la relaci√≥n de orden en el conjunto y, en su lugar, optimizar la desviaci√≥n est√°ndar. </p><br><p>  Es f√°cil dar un ejemplo de una matriz para la cual la desviaci√≥n est√°ndar ser√° m√≠nima, pero el orden de los elementos se destruye irremediablemente. </p><br><p>  Veamos qu√© podemos hacer al respecto.  En la cabeza del usuario, todos los elementos con los que interactu√≥ est√°n ordenados en alg√∫n orden.  Por ejemplo, √©l sabe con certeza que Interstellar es mejor que Gravity, Gravity y Alien son pel√≠culas igualmente buenas, y todas son un poco peores que Terminator.  Al mismo tiempo, tambi√©n experimenta una cierta actitud hacia las pel√≠culas que el usuario a√∫n no ha visto, y lo mismo para todos.  Puede creer que tales pel√≠culas son a priori peores que las pel√≠culas que vio.  O puede considerar que, por ejemplo, Prometeo es una mala pel√≠cula, y cualquier pel√≠cula que a√∫n no haya visto ser√° mejor que √©l. </p><br><p><img src="https://habrastorage.org/webt/gk/pn/0b/gkpn0byianfyacfeq1byt0cfsd8.jpeg" alt="Ilustraci√≥n de la relaci√≥n de orden en muchas pel√≠culas en la cabeza del usuario."></p><br><p>  Imagine que, de acuerdo con algunos signos de comportamiento del usuario en el servicio, podemos restaurar este orden al mostrar el elemento con el que interactu√≥, en un entero utilizando la funci√≥n <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo>:</mo><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>I</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>o</mi><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Z</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.213ex" height="2.057ex" viewBox="0 -780.1 11716.6 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3A" x="2041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-55" x="2597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-76" x="3615" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="4100" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-63" x="4567" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="5000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-73" x="5467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="5936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="6691" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="7052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="7788" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="8666" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="9196" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="9557" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-62" x="10134" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-62" x="10563" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-5A" x="10993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo>:</mo><mi>U</mi><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>I</mi><mtext>&nbsp;</mtext><mi>t</mi><mi>o</mi><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>Z</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-14"> \ rho: U \ veces I \ to \ mathbb {Z} </script>  .  Muchas de las pel√≠culas con las que el usuario <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> u </script>  interactuado, denotar como <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="622" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-16"> I_u </script>  .  Estamos de acuerdo que <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.488ex" height="2.66ex" viewBox="0 -832 5807.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="3583" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="4250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-30" x="5306" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-17"> \ rho (u, j) = 0 </script>  si el usuario no ha interactuado con la pel√≠cula <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-18"> j </script>  eso es <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi><mtext>&amp;#xA0;</mtext><mi>n</mi><mi>o</mi><mi>t</mi><mi>i</mi><mi>n</mi><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.32ex" height="2.419ex" viewBox="-11.5 -780.1 4012.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="1263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="1748" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="2110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="2455" y="0"></use><g transform="translate(3056,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="622" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi><mtext>&nbsp;</mtext><mi>n</mi><mi>o</mi><mi>t</mi><mi>i</mi><mi>n</mi><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-19"> j \ notin I_u </script>  .  Por lo tanto, si el usuario considera que la pel√≠cula es mala, entonces <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.332ex" height="2.66ex" viewBox="0 -832 5740.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3C" x="4183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-30" x="5239" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-20"> \ rho (u, i) <0 </script>  y si es bueno, entonces <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;gt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.332ex" height="2.66ex" viewBox="0 -832 5740.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3E" x="4183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-30" x="5239" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-21"> \ rho (u, i)> 0 </script>  . </p><br><p><img src="https://habrastorage.org/webt/cm/c1/xb/cmc1xb-_9fpvcdjszrwuu5yg45q.jpeg" alt="Ilustraci√≥n de una funci√≥n que describe un valor entero de la interacci√≥n usuario-pel√≠cula"></p><br><p>  Ahora podemos ingresar al rango <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>o</mi><mo>:</mo><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>I</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>o</mi><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.417ex" height="2.419ex" viewBox="0 -780.1 12665.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="2062" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3A" x="2825" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-55" x="3381" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-76" x="4399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="4884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-63" x="5351" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="5784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-73" x="6251" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="6720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="7475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="7836" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="8572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="9450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="9980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="10341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-62" x="10918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-62" x="11347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-4E" x="11777" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>o</mi><mo>:</mo><mi>U</mi><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>I</mi><mtext>&nbsp;</mtext><mi>t</mi><mi>o</mi><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>N</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22"> rango: U \ veces I \ to \ mathbb {N} </script>  . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>I</mi><mo>:</mo><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></msub><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="92.793ex" height="3.021ex" viewBox="0 -832 39952.6 1300.8" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="4522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-73" x="5829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="6298" y="0"></use><g transform="translate(6871,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="766" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="1232" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="1833" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3A" x="2337" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="2969" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="3421" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="3997" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="4483" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="4872" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="5445" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="5723" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="6136" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3C" x="6525" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="7657" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-68" x="8109" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="8685" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="9171" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="9560" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="10133" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="10411" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="10757" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="15981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="16343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="16809" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="17382" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="17743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="18195" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="19073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="19578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="20217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="20516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="21045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="21646" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="22126" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="22425" y="0"></use><g transform="translate(22891,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="23899" y="0"></use><g transform="translate(24345,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="25385" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="25837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="26366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="26967" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="27447" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="27746" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3C" x="28490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="29546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2B" x="30269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="31520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="31818" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="32348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="32948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="33429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="33727" y="0"></use><g transform="translate(34194,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="35202" y="0"></use><g transform="translate(35647,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="36736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="37187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="37717" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="38317" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="38798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="39096" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="39563" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>I</mi><mo>:</mo><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msub><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi></mrow><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo>&lt;</mo><mn>1</mn><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-23"> rank (u, i) = \ sum_ {j \ en I: \ rho (u, j) <\ rho (u, i)} \ textrm {I} (\ langle p_u, q_i \ rangle <1 + \ langle p_u, q_j \ rangle) </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.073ex" height="2.66ex" viewBox="0 -832 5198 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="1650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="2012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6D" x="2463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="3342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="3846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="4236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="4808" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi></mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-24"> \ textrm {I} (x) </script>  aqu√≠ denota la funci√≥n del indicador y es igual a la unidad si <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-25"> x </script>  verdadero y cero de lo contrario. </p><br><p>  Paremos por un minuto y pensemos qu√© significa tal rango. </p><br><p>  Arreglamos al usuario <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-26"> u </script>  , este es un usuario espec√≠fico, en cu√°l, no estamos interesados.  En consecuencia, su vector <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-27"> p_u </script>  ser√° arreglado </p><br><p>  Tome ahora cualquier pel√≠cula que haya visto, por ejemplo, interestelar.  En la f√≥rmula, esto <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-28"> i </script>  .  A continuaci√≥n, encontramos una pel√≠cula que el usuario considera peor que Interstellar.  Podemos elegir entre "Atracci√≥n", "Extraterrestre", "Prometeo" o cualquier pel√≠cula que a√∫n no haya visto. </p><br><p><img src="https://habrastorage.org/webt/qv/mn/gm/qvmngmkgovxbalbbtbpdqjdnmrc.jpeg" alt="Ilustraci√≥n del desorden"></p><br><p>  Tome la "atracci√≥n".  En la f√≥rmula, esto <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-29"> j </script>  .  ,    ¬´¬ª <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-30">q_i</script>     ,    ,     ¬´¬ª <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>j</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.947ex" height="2.057ex" viewBox="0 -520.7 838.2 885.9" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>j</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-31">q_j</script>      .      .     ¬´¬ª,  ¬´¬ª    ,       . </p><br><p>   ,        ,  ¬´¬ª.    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.024ex" height="2.66ex" viewBox="0 -832 2593.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="1413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="2204" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32">r(u, i)</script>         ,    . </p><br><p>       . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mo>&amp;#x2208;</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>&amp;#x2208;</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.093ex" height="5.672ex" viewBox="0 -1039.5 10804.1 2442.1" role="img" focusable="false" style="vertical-align: -3.258ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="959" y="0"></use><g transform="translate(2015,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJSZ2-2211" x="778" y="0"></use><g transform="translate(0,-1102)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2208" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-55" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="2007" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="2286" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2208" x="2631" y="0"></use><g transform="translate(2332,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="622" y="-213"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-3D5" x="5183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="5779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="6169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="6620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="7150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6B" x="7750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="8272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="8661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="9234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="9679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="10025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="10414" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><munder><mo>‚àë</mo><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mo>‚àà</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>‚àà</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>œï</mi><mo stretchy="false">(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-33">L = \sum_{u \in U, i \in I_u} \phi (rank(u, i))</script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo>:</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>N</mi></mrow><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>R</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.293ex" height="2.419ex" viewBox="0 -780.1 4431.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3A" x="874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJAMS-4E" x="1430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2192" x="2430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJAMS-52" x="3709" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œï</mi><mo>:</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">N</mi></mrow><mo stretchy="false">‚Üí</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-34">\phi: \mathbb{N} \to \mathbb{R}</script> ‚Äî  ,      .     ,        .     ,  ,          . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.364ex" height="6.877ex" viewBox="0 -1662 5753.7 2960.8" role="img" focusable="false" style="vertical-align: -3.017ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="2225" y="0"></use><g transform="translate(3282,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJSZ2-2211" x="0" y="0"></use><g transform="translate(147,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="1124" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="735" y="1627"></use></g><g transform="translate(4726,0)"><g transform="translate(286,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="137" y="-686"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>œï</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>‚àë</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-35">\phi(x) = \sum_{i=1}^x \frac{1}{i}</script></p><br><p>    .       ? , ,        ,              ,           . </p><br><p>     :       .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">j</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.633ex" height="2.66ex" viewBox="-38.5 -832 6730.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="1465" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="1910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="2323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3C" x="2990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="4046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="4939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="5512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="5957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="6302" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-37">p(u, j) < p(u, i)</script>     ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.255ex" height="2.78ex" viewBox="0 -832 9151.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-27E8" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="1397" y="0"></use><g transform="translate(1842,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-27E9" x="2633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3C" x="3301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="4357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2B" x="5080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-27E8" x="6080" y="0"></use><g transform="translate(6470,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="7478" y="0"></use><g transform="translate(7923,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-27E9" x="8761" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">‚ü®</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">‚ü©</mo><mo>&lt;</mo><mn>1</mn><mo>+</mo><mo fence="false" stretchy="false">‚ü®</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence="false" stretchy="false">‚ü©</mo></math></span></span><script type="math/tex" id="MathJax-Element-38">\langle p_u , q_i \rangle < 1 + \langle p_u , q_j \rangle</script>  .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.066ex" height="2.178ex" viewBox="0 -780.1 2611.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="2111" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>‚àí</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-39">N - 1</script>      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-40"> N </script> ,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">i</script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2248;</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230A;</mo><mfrac><mrow><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mo>&amp;#x2212;</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230B;</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.327ex" height="5.431ex" viewBox="0 -1558.2 9613.2 2338.3" role="img" focusable="false" style="vertical-align: -1.812ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2248" x="4522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-230A" x="5579" y="0"></use><g transform="translate(6023,0)"><g transform="translate(120,0)"><rect stroke="none" width="2904" height="60" x="0" y="220"></rect><g transform="translate(60,719)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-7C" x="783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="2284" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-4E" x="1008" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-230B" x="9168" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>‚âà</mo><mo fence="false" stretchy="false">‚åä</mo><mfrac><mrow><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo><mo>‚àí</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence="false" stretchy="false">‚åã</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-42">rank(u, i) \approx \lfloor \frac{\lvert I \rvert - 1}{N} \rfloor</script></p><br><p>  donde <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.465ex" height="2.66ex" viewBox="0 -832 1061.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-7C" x="783" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo></math></span></span><script type="math/tex" id="MathJax-Element-43">\lvert I \rvert</script> ‚Äî   . </p><br><p>   ,   ,         ,   . </p><br><p>     WARP        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WSABIE: Scaling Up To Large Vocabulary Image Annotation</a> .   ,          ,     .          10%. </p><br><p>     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.66ex" viewBox="0 -832 2659.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œÅ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-44">\rho(u, i)</script>  .  Okko       : </p><br><ol><li>  ; </li><li>   ; </li><li>    ( ); </li><li>   ; </li><li>    0  10. </li></ol><br><p>      ,          ,   .       399 ,  ,   .       ,     .      -,        . </p><br><p>  ‚Äî  .      ,  explicit :               ,   .  ,   ,   implicit . </p><br><p>  ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.66ex" viewBox="0 -832 2659.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œÅ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-45">\rho(u, i)</script>    ,     .    .        ,     . </p><br><p><img src="https://habrastorage.org/webt/vm/qy/rx/vmqyrx0t4ts9hnrh6ixb2bc7e3w.png" alt="Ejemplos de gr√°ficos de clasificaci√≥n para varios tipos de consumo"></p><br><p>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.091ex" height="2.66ex" viewBox="0 -832 5205.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="3993" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-63" x="4772" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œÅ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mo>‚àí</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-46">\rho(u, i) = -c</script> ,          <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.283ex" height="2.66ex" viewBox="0 -832 4427.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-63" x="3993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œÅ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-47">\rho(u, i) = c</script> ,  . </p><br><p>     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cython</a> ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LightFM</a> . </p><br><h2 id="vtoroy-etap-ranzhirovanie">  :  </h2><br><p><img src="https://habrastorage.org/webt/sf/p3/lm/sfp3lmbozxs5riogkbuwp9yuka8.jpeg"></p><br><p>     ,   top-N   :            .    ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Approximate nearest neighbor algorithm based on navigable small world graphs</a>        . </p><br><p>  , ,    ,    ,        .   ,       -  ,   .      :     ,   . </p><br><p> Estos problemas son evitados por los modelos de contenido.  Son potentes, expresivos y puedes colocar cualquier se√±al en ellos, pero son extremadamente lentos.  La soluci√≥n es ejecutar el modelo de contenido no en todos los elementos, sino en los candidatos obtenidos de la descomposici√≥n de la matriz.  Puede haber tantos candidatos como logre procesar, pero preferiblemente al menos el doble de lo que muestra a los usuarios.  En nuestro caso, para las 100 pel√≠culas recomendadas, la mejor soluci√≥n era usar 400 candidatos. </p><br><p><img src="https://habrastorage.org/webt/x8/yk/jg/x8ykjgbsvsfisy1-usfx9lsd7b4.jpeg"></p><br><p>  Los atributos que enviamos al modelo de contenido se pueden dividir en tres grupos: atributos de usuario, atributos de elementos y signos de interacci√≥n.  En total, se obtienen unos 50 signos. </p><br><p>  Como signos de usuarios, utilizamos estad√≠sticas agregadas de su comportamiento en el servicio, por ejemplo: </p><br><ul><li>  Porcentaje de vistas de suscripci√≥n </li><li>  distribuci√≥n de dispositivos desde los cuales el usuario inicia sesi√≥n en la aplicaci√≥n, </li><li>  tiempo de vida en el servicio, </li><li>  etc. </li></ul><br><p>  Para las pel√≠culas, utilizamos casi toda la metainformaci√≥n disponible: g√©nero, a√±o de lanzamiento, pa√≠s, actor, director, l√≠mite de edad, etc. Las m√©tricas comerciales agregadas tambi√©n ayudan: porcentaje de visitas a la tarjeta, n√∫mero de visitas, adiciones a favoritos, distribuci√≥n mediante m√©todos de visualizaci√≥n, dispositivos, etc. </p><br><p>  Los signos de interacci√≥n incluyen la velocidad desde la etapa de selecci√≥n de candidatos y estad√≠sticas agregadas para todas las interacciones anteriores de usuarios y pel√≠culas con la participaci√≥n de los mismos actores, directores y guionistas de la pel√≠cula en cuesti√≥n. </p><br><p>  La pregunta m√°s com√∫n que surge cuando se trata de clasificar candidatos con un modelo de segundo nivel es c√≥mo entrenar este modelo.  Solo en el caso de la factorizaci√≥n matricial, necesit√°bamos dos conjuntos, separados por tiempo: entrenamiento y prueba.  En el caso de un sistema de dos etapas, necesitaremos tres de ellas: dos de capacitaci√≥n y una de prueba. </p><br><p><img src="https://habrastorage.org/webt/8s/21/uq/8s21uqwknfro5hoexboth6n6f2y.png" alt="Ilustraci√≥n de la divisi√≥n de datos en conjuntos de entrenamiento y prueba para un modelo de dos niveles"></p><br><p>  En el primer conjunto de entrenamiento, entrenaremos el modelo de primer nivel y crearemos candidatos.  De los candidatos es importante excluir aquellos elementos con los que el usuario interactu√≥ en este conjunto.  Luego veremos con qu√© candidatos interactu√≥ el usuario en el segundo conjunto de capacitaci√≥n.  Los llamamos positivos y los candidatos restantes negativos.  Este ser√° nuestro conjunto de capacitaci√≥n para el modelo de contenido. </p><br><p><img src="https://habrastorage.org/webt/zd/dn/zw/zddnzwixuanlugakzjdv8hxe4j8.png" alt="Ilustraci√≥n de la formaci√≥n de un conjunto de entrenamiento para un modelo de dos niveles."></p><br><p>  Por que funciona  En primer lugar, entrenamos el modelo exactamente en los datos en los que se utilizar√°: la salida del modelo de primer nivel.  En segundo lugar, entre todos los posibles ejemplos negativos, tomamos los m√°s complejos, aquellos que el modelo de primer nivel llama relevantes para el usuario, pero no lo son. </p><br><p>  Que sigue  La soluci√≥n m√°s simple y obvia es resolver el problema de clasificaci√≥n binaria y luego ordenar los elementos en orden descendente de probabilidad para que sea un ejemplo positivo.  Pero podemos recordar nuevamente el enunciado del problema de la construcci√≥n de un sistema de recomendaci√≥n, entender que la clasificaci√≥n binaria no es el problema que estamos resolviendo y volver al problema de clasificaci√≥n. </p><br><p>  En XGBoost y LightGBM, la funci√≥n de p√©rdida primaria para clasificar tareas es LambdaMART.  Si no entra en detalles, la intuici√≥n detr√°s de esto es bastante simple.  Si <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.217ex" height="2.66ex" viewBox="0 -832 2246.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="550" y="0"></use><g transform="translate(940,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="1856" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-48"> f (x_i) </script>  - salida del modelo, por ejemplo <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.129ex" height="1.817ex" viewBox="0 -520.7 916.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="809" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-49"> x_i </script>  , entonces la probabilidad de que el elemento <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-50"> i </script>  tendr√° un rango m√°s alto que el elemento <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-51"> j </script>  ser√° igual </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-52-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>t</mi><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></mrow><mo>.</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.332ex" height="2.78ex" viewBox="0 -832 20379 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="345" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="1556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-50" x="2612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="3364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="3753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="4349" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="4829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="5191" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="5603" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="6270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-66" x="7577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-72" x="8127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-61" x="8579" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-63" x="9108" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="9542" y="0"></use><g transform="translate(10042,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2B" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-65" x="1973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="2439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-70" x="3012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="3515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-66" x="3905" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="4455" y="0"></use><g transform="translate(4845,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="5809" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="6421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-66" x="7422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="7972" y="0"></use><g transform="translate(8362,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="9278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="9668" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2E" x="20100" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>i</mi><mtext>&nbsp;</mtext><mi>g</mi><mi>t</mi><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>+</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>‚àí</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><mo>.</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-52"> P_ {ij} = P (i \ gt j) = \ frac {1} {1 + \ exp (f (x_j) - f (x_i))}. </script></p><br><p>  La funci√≥n de p√©rdida se puede escribir de la siguiente manera. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-53-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="39.584ex" height="2.78ex" viewBox="0 -832 17042.8 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="2015" y="0"></use><g transform="translate(2794,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="4261" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="4560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="5045" y="0"></use><g transform="translate(5526,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="7026" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="8027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="8416" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="9139" y="0"></use><g transform="translate(10140,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="11357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="11997" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6F" x="12295" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="12781" y="0"></use><g transform="translate(13261,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-2212" x="1112" y="0"></use><g transform="translate(2112,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-29" x="3391" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><mo>‚àí</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>‚àí</mo><mo stretchy="false">(</mo><mn>1</mn><mo>‚àí</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mn>1</mn><mo>‚àí</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-53"> L = - Y_ {ij} \ log {P_ {ij}} - (1 - Y_ {ij}) \ log {(1-P_ {ij})} </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.828ex" height="2.66ex" viewBox="0 -780.1 1217.5 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="345" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-54"> Y_ {ij} </script>  Aqu√≠ est√° la verdadera probabilidad de clasificaci√≥n.  Lo definiremos como 1 si <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>t</mi><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.297ex" height="2.298ex" viewBox="0 -728.2 1850 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="1076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="1437" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>g</mi><mi>t</mi><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-55"> i \ gt j </script>  , 0 si <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>t</mi><mi>g</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.032ex" height="2.419ex" viewBox="0 -780.1 1736 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6C" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-74" x="894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-67" x="1255" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>l</mi><mi>t</mi><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-56"> i \ lt g </script>  y 0.5 en el caso <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>=</mo><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.859ex" height="2.298ex" viewBox="0 -728.2 2092.1 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMAIN-3D" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhhpQWoSQIaG3ZCVgK2spPoXh6_lNA#MJMATHI-6A" x="1679" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>=</mo><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-57"> i = j </script>  . </p><br><p>  Un modelo de dos niveles proporciona un aumento del 50% en las m√©tricas en comparaci√≥n con un modelo de un solo nivel.  La funci√≥n de p√©rdida de clasificaci√≥n agrega otro 10%. </p><br><h2 id="bonus-pohozhie-filmy">  Bonus: pel√≠culas relacionadas </h2><br><p>  Recuerde, en las ventajas de nuestro enfoque, ¬ømencion√© los vectores "libres" de la factorizaci√≥n matricial que se pueden usar para resolver problemas relacionados?  Entonces, una de estas tareas, la b√∫squeda de pel√≠culas similares, decidimos. </p><br><p><img src="https://habrastorage.org/webt/pa/zp/bt/pazpbtfnwf1idcvg-qijo5wksac.jpeg" alt="Ilustraci√≥n de una b√∫squeda de pel√≠culas similares"></p><br><p>  La soluci√≥n a la desgracia es simple: para cada pel√≠cula, tomamos su vector y buscamos los m√°s cercanos en la distancia del coseno.  Se ve bastante adecuado a la vista.  El siguiente nivel es agregar metainformaci√≥n y usar algoritmos gr√°ficos. </p><br><p><img src="https://habrastorage.org/webt/ng/op/lf/ngoplf1c7oow_rrqxw6_lmujgwo.jpeg" alt="Pel√≠culas similares a Rekko y con √©l"></p><br><h2 id="tehnicheskaya-realizaciya">  Implementaci√≥n t√©cnica </h2><br><p>  Adem√°s de la parte algor√≠tmica, quiero hablar un poco sobre la implementaci√≥n.  Rekko consta de tres componentes: lynch, rekko-task y rekko-service. </p><br><p>  Lynch se ejecuta en una m√°quina potente, se despierta peri√≥dicamente, prepara datos para el microservicio y los coloca en S3. </p><br><p>  Las tareas de Rekko y los microservicios de servicio de rekko se encuentran en el entorno del producto Okko, junto con todos los dem√°s microservicios y bases de datos.  El primero de ellos monitorea constantemente los cambios en S3, si los hay, los descarga y los coloca en las bases de los supermercados.  El segundo microservicio utiliza estos resultados calculados para responder en tiempo real a las solicitudes de los usuarios y calcular sus recomendaciones. </p><br><p><img src="https://habrastorage.org/webt/i3/u3/ar/i3u3arrkx8ducuzbryj-efwzxmg.jpeg" alt="Arquitectura de servicio"></p><br><p>  Los microservicios se escriben en Python usando falcon, gunicorn y gevent y no representan nada interesante excepto la l√≥gica de negocios.  Al igual que todos los dem√°s microservicios del entorno del producto Okko, el equilibrador los cierra. </p><br><p>  Lynch es mucho m√°s interesante. </p><br><p>  ¬øQu√© se debe hacer para calcular la siguiente porci√≥n de recomendaciones para los usuarios?  Al menos: </p><br><ol><li>  Descargue nuevos datos que han aparecido desde el √∫ltimo recuento; </li><li>  Procesarlos; </li><li>  Factorizar la matriz del tren; </li><li>  Construir candidatos </li><li>  Reorganizar candidatos; </li><li>  Aplicar reglas comerciales </li><li>  Descargar. </li></ol><br><p>  Parece que no suena aterrador, puedes poner cada parte en una funci√≥n separada y simplemente llamarlas por turno: </p><br><pre><code class="python hljs">data = extract_data() data = transform_data(data) mf_model = train_mf_model(data) candidates = build_candidates(mf_model) predictions = build_predictions(content_model, candidates) upload_predictions(predictions)</code> </pre> <br><p>  Bueno, todo hizo un gran trabajo, ¬øestamos en desacuerdo?  En realidad no  Pero, ¬øqu√© pasa si toda la hoja cae en alg√∫n lugar?  Bueno, por ejemplo, debido a la falta de memoria.  Tendremos que reiniciar todo nuevamente, incluso si ya hemos pasado un par de horas entrenando al modelo y formando candidatos. </p><br><p>  Bueno, entonces guardemos todos los resultados intermedios en archivos, y despu√©s de la ca√≠da, verifiquemos cu√°les ya existen, restaure el estado y comience los c√°lculos desde el momento correcto.  De hecho, esta idea es incluso peor que la anterior.  Un programa puede ser interrumpido en medio de la escritura en un archivo, y aunque existe, estar√° en un estado incorrecto.  En el mejor de los casos, todo el c√°lculo caer√°; en el peor, terminar√° con el resultado incorrecto. </p><br><p>  Ok, vamos a escribir en el archivo at√≥mico.  Y sacamos cada funci√≥n en una entidad separada e indicamos las dependencias entre ellas.  El resultado es una cadena de c√°lculos, cada uno de los cuales se puede realizar o no. </p><br><p><img src="https://habrastorage.org/webt/le/ou/1r/leou1rkpcgl-g9mkkwygytfgwvu.jpeg" alt="Ilustraci√≥n de tareas dependientes"></p><br><p>  Ya no est√° mal.  Pero en realidad, todos los c√°lculos necesarios dif√≠cilmente ser√°n descritos por una lista.  El aprendizaje de la factorizaci√≥n matricial requerir√° no solo datos de transacciones, sino tambi√©n calificaciones de los usuarios, la creaci√≥n de candidatos requerir√° una lista de pel√≠culas recordadas para excluirlas, el c√°lculo de pel√≠culas similares requerir√° una factorizaci√≥n matricial capacitada y metainformaci√≥n del cat√°logo, y as√≠ sucesivamente.  Nuestras tareas ya no se crean en una lista simplemente conectada, sino en un gr√°fico dirigido sin ciclos (Gr√°fico Ac√≠clico Dirigido, DAG). </p><br><p><img src="https://habrastorage.org/webt/-e/cc/nw/-eccnwex1lkhzeha9qwnk0er6au.jpeg" alt="Ilustraci√≥n DAG"></p><br><p>  DAG es una organizaci√≥n inform√°tica extremadamente popular.  Hay dos marcos principales para construir un DAG: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Airflow</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Luigi</a> .  En Okko nos decidimos por lo √∫ltimo.  Luigi se desarrolla en Spotify, se est√° desarrollando activamente, est√° completamente escrito en python, es f√°cilmente extensible y le permite organizar los c√°lculos de manera muy flexible. </p><br><p>  Una tarea en Luigi est√° definida por una clase que hereda de <code>luigi.Task</code> e implementa tres m√©todos requeridos: <code>requires</code> , <code>output</code> y <code>run</code> .  As√≠ es como se ve una tarea t√≠pica: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># RekkoTask  luigi.Task   class DoSomething(RekkoTask): #   date: datetime.datetime = luigi.DateSecondParameter() #   resources = { 'cores': 4, 'aws': 1, 'memory': 8 } # Namespace     task_namespace = 'Transform' def requires(self): # ,          return { 'data': DownloadData(date=self.date), 'element_mapping': MakeElementMapping(date=self.date) } def output(self): #      #       ,        s3 return luigi.LocalTarget( os.path.join(self.data_root, f'some_output_{self.date}.msg'), format=luigi.format.Nop ) def run(self): #  ,     #      with self.input()['data'].open('r') as f: data = pd.read_csv(f) with self.input()['element_mapping'].open('r') as f: element_mapping = json.load(f) #       result = ... #         Splunk self.log( n_results=len(result) ) #    with self.output().open('w') as f: result.to_msgpack(f)</span></span></code> </pre> <br><p>  Luigi se asegurar√° de que las tareas se completen en el orden correcto sin exceder el consumo de recursos disponibles.  Si las tareas se pueden realizar en paralelo, las ejecutar√° en paralelo, maximizando la utilizaci√≥n de la CPU y minimizando el tiempo de ejecuci√≥n general.  Si alguna tarea falla, la reiniciar√° varias veces y, en caso de falla, nos informar√°.  En este caso, se realizar√°n todas las tareas que se pueden realizar.  Esto significa, por ejemplo, que un error en la tarea de clasificar a los candidatos no impide contar y subir una lista de pel√≠culas similares. </p><br><p>  Actualmente Lynch consta de 47 tareas √∫nicas, produciendo alrededor de 100 de sus copias.  Algunos de ellos est√°n ocupados con el trabajo directo, algunos cuentan las m√©tricas y las env√≠an a nuestra herramienta Splunk BI.  Lynch tambi√©n nos env√≠a peri√≥dicamente estad√≠sticas e informes b√°sicos sobre su trabajo por telegrama.  Tambi√©n escribe sobre errores, pero en PM. </p><br><h2 id="monitoring-splity-i-rezultaty">  Monitoreo, divisi√≥n y resultados. </h2><br><p><img src="https://habrastorage.org/webt/lc/3p/5j/lc3p5jberk7xqscaocnrr01bxja.jpeg"></p><br><p>  La primera regla de Data Science: no le cuentes a nadie sobre los salarios en Data Science.  La segunda regla de la ciencia de datos: lo que no se puede medir no se puede mejorar. </p><br><p>  Intentamos hacer un seguimiento de todo.  En primer lugar, esto, por supuesto, clasifica las m√©tricas en datos hist√≥ricos.  Ayudan incluso en la etapa de investigaci√≥n a elegir el mejor modelo entre varios y elegir hiperpar√°metros para √©l. </p><br><p>  Para los modelos que trabajan en producci√≥n, tambi√©n consideramos las m√©tricas, pero ya d√≠a a d√≠a.  Dichas m√©tricas son bastante vol√°tiles, pero pueden decirlo si el modelo se degrada repentinamente por alguna raz√≥n.  Cuando se lanza un nuevo modelo en el producto, puede dejarlo inactivo durante una semana y asegurarse de que las m√©tricas no cedan.  Despu√©s de eso, puede habilitarlo para algunos usuarios, ejecutar la prueba A / B y monitorear las m√©tricas comerciales. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/655/c71/0c9/655c710c96fa12b795f4a0457d592b47.png"></p><br><p>  Adem√°s, consideramos la distribuci√≥n de recomendaciones por g√©nero, pa√≠s, a√±o, tipo, etc. Esto nos permite comprender la naturaleza actual de las preferencias del usuario, compararla con datos de visualizaci√≥n reales y detectar errores en las reglas comerciales. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b0c/494/02a/b0c49402add8febc6b6d667e766f32df.png"></p><br><p>  Tambi√©n es importante realizar un seguimiento de las distribuciones de todos los rasgos utilizados.  Un cambio brusco en ellos puede ser causado por un error en la fuente de datos y conducir a resultados impredecibles. </p><br><p>  Pero, por supuesto, lo m√°s importante que requiere mucha atenci√≥n son las m√©tricas comerciales.  Como parte del sistema de recomendaciones, las principales m√©tricas comerciales para nosotros son: </p><br><ol><li>  Ingresos de modelos de consumo transaccional y de suscripci√≥n (ingresos de TVOD / SVOD); </li><li>  Ingresos promedio por visitante (ingresos promedio por visitante, ARPV); </li><li>  El cheque promedio (precio promedio por compra, APPP); </li><li>  Promedio de compras por usuario (APPU); </li><li>  Conversi√≥n a compra (CR a compra); </li><li>  Conversi√≥n para ver por suscripci√≥n (CR para mirar); </li><li>  Conversi√≥n durante el per√≠odo de prueba (CR a prueba). </li></ol><br><p>  Al mismo tiempo, observamos por separado las m√©tricas de las secciones "Recomendaciones" y "Similares" y las m√©tricas de todo el servicio en su conjunto para tener en cuenta el efecto de redistribuci√≥n y considerar la situaci√≥n desde diferentes √°ngulos. </p><br><p>  Esto puede parecer un tablero de instrumentos que compara varios modelos: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fd7/fcd/79f/fd7fcd79f0d63925319dc394844b6dc4.jpg"></p><br><p>  Como dije al principio, comparamos no solo los modelos entre s√≠, sino tambi√©n un grupo de usuarios con recomendaciones contra un grupo de usuarios sin recomendaciones.  Esto nos permite evaluar el efecto neto de la implementaci√≥n de Rekko y comprender d√≥nde estamos en este momento y qu√© margen de mejora a√∫n queda.  Seg√∫n esta prueba A / B, actualmente tenemos: </p><br><ul><li>  ARPV + 3.5% </li><li>  ARPV con margen + 5% </li><li>  APPU + 4.3% </li><li>  CR a prueba + 2.6% </li><li>  CR para ver + 2.5% </li><li>  APPP -1% </li></ul><br><p>  Las pel√≠culas en un cine en l√≠nea se pueden dividir en dos grupos: elementos nuevos y contenido antiguo.  Ya sabemos c√≥mo vender buenas noticias.  El objetivo principal de las recomendaciones personales es obtener contenido antiguo relevante para los usuarios del cat√°logo.  Esto lleva a un aumento en el n√∫mero de compras y subsidencia del cheque promedio, ya que dicho contenido es naturalmente m√°s barato.  Pero dicho contenido tambi√©n tiene un alto margen, lo que compensa el hundimiento del cheque y da un aumento en los ingresos. </p><br><p>  El contenido de suscripci√≥n m√°s relevante ha llevado a una mayor conversi√≥n durante el per√≠odo de prueba y a la visualizaci√≥n por suscripci√≥n. </p><br><h2 id="rekko-challenge">  Rekko Challenge </h2><br><p>  Del 18 de febrero al 18 de abril de 2019, junto con la plataforma Boosters, realizamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el</a> Rekko Challenge, donde invitamos a los participantes a crear un sistema de recomendaci√≥n basado en datos de productos an√≥nimos. </p><br><p><img src="https://habrastorage.org/webt/lc/93/ef/lc93efrsjm1w45ud7ftqev9leus.png" alt="Tabla de ganadores del Rekko Challenge"></p><br><p>  Se espera que los participantes que construyeron un sistema de dos niveles similar al nuestro est√©n en la cima.  Los ganadores que tomaron el primer y tercer lugar lograron agregar al conjunto RNN.  Y el participante del octavo lugar logr√≥ escalar usando solo modelos de filtrado colaborativos. </p><br><p>  Evgeni Smirnov, quien obtuvo el segundo lugar en la competencia, escribi√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un art√≠culo</a> en el que habl√≥ sobre su decisi√≥n. </p><br><p>  Por el momento, la competencia est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">disponible</a> en forma de sandbox, por lo que todos los que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">est√©n</a> interesados ‚Äã‚Äãen los sistemas de recomendaci√≥n pueden probarlo y adquirir experiencia √∫til. </p><br><h2 id="zaklyuchenie">  Conclusi√≥n </h2><br><p>  Con este art√≠culo, quer√≠a mostrarle que los sistemas de recomendaci√≥n en producci√≥n no son nada dif√≠ciles, sino divertidos y rentables.  Lo principal es pensar en los objetivos, no en los medios para alcanzarlos y medir constantemente todo. </p><br><p>  En futuros art√≠culos, le diremos a√∫n m√°s sobre la cocina interior de Okko, as√≠ que no olvide suscribirse y darle me gusta. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454224/">https://habr.com/ru/post/454224/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454210/index.html">Enchantjs olvidado + nuevo 1C-Bitrix = Juego para motivar al cliente</a></li>
<li><a href="../454214/index.html">Odio casi todo el software</a></li>
<li><a href="../454216/index.html">Evidencia encontrada de que todos los cambios son una mezcla de orden y oportunidad</a></li>
<li><a href="../454220/index.html">Term√≥metro de dos d√≠gitos</a></li>
<li><a href="../454222/index.html">Actualice el subsistema de disco del servidor anterior con el bus PCIe 1.0 - 2.0</a></li>
<li><a href="../454226/index.html">Memoria en dominios magn√©ticos cil√≠ndricos. Parte 1. Principio de trabajo</a></li>
<li><a href="../454232/index.html">OOP en lenguajes de programaci√≥n gr√°fica. Parte 2 MOS y OOP</a></li>
<li><a href="../454236/index.html">Dos historias sobre c√≥mo ANKI puede ayudarlo a aprender un idioma extranjero y prepararse para una entrevista</a></li>
<li><a href="../454238/index.html">"La m√°quina de la emoci√≥n" de Marvin Minsky (traducci√≥n de Habra, segunda ronda)</a></li>
<li><a href="../454240/index.html">An√°lisis de wavelet. Parte 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>