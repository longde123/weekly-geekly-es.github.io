<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÜ üìµ ‚ú¥Ô∏è Die Implementierung der babylonischen Bibliothek üöû üë©üèæ‚Äçü§ù‚Äçüë®üèΩ üôéüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel erfahren Sie alles √ºber die babylonische Bibliothek und vor allem dar√ºber, wie Sie sie neu erstellen k√∂nnen, und zwar √ºber jede Bibl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Implementierung der babylonischen Bibliothek</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433336/">  In diesem Artikel erfahren Sie alles √ºber die babylonische Bibliothek und vor allem dar√ºber, wie Sie sie neu erstellen k√∂nnen, und zwar √ºber jede Bibliothek. <a name="habracut"></a><br><br>  Beginnen wir mit den Zitaten aus der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">babylonischen Bibliothek</a> von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Luis Borges</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Zitat</b> <div class="spoiler_text"><blockquote>  <i>‚ÄûDas Universum - manche nennen es die Bibliothek - besteht aus einer riesigen, m√∂glicherweise unendlichen Anzahl sechseckiger Galerien mit breiten L√ºftungskammern, die von niedrigen Schienen umgeben sind.</i>  <i>Von jedem Sechseck sind zwei obere und zwei untere Stockwerke sichtbar - bis ins Unendliche. ‚Äú</i> </blockquote><br><blockquote>  <i>‚ÄûEine Bibliothek ist eine Kugel, deren genaues Zentrum sich in einem der Sechsecke befindet und deren Oberfl√§che nicht zug√§nglich ist.</i>  <i>An jeder Wand jedes Sechsecks befinden sich f√ºnf Regale, an jedem Regal befinden sich zweiunddrei√üig B√ºcher des gleichen Formats, jedes Buch hat vierhundertzehn Seiten, jede Seite hat vierzig Zeilen, jede Zeile enth√§lt ungef√§hr achtzig schwarze Buchstaben.</i>  <i>Auf dem Buchr√ºcken befinden sich Buchstaben, die jedoch nicht definieren oder vorhersagen, was auf den Seiten steht.</i>  <i>Ich wei√ü, diese Diskrepanz schien einst mysteri√∂s. ‚Äú</i> </blockquote><br></div></div><br>  Wenn Sie ein zuf√§lliges Sechseck betreten, an eine Wand gehen, in ein Regal schauen und das Buch nehmen, das Ihnen am besten gef√§llt, sind Sie h√∂chstwahrscheinlich ver√§rgert.  Immerhin haben Sie erwartet, den Sinn des Lebens dort herauszufinden, aber Sie haben einige seltsame Charaktere gesehen.  Aber reg dich nicht so schnell auf!  Die meisten B√ºcher sind bedeutungslos, da sie eine kombinatorische Suche aller m√∂glichen Varianten von f√ºnfundzwanzig Zeichen darstellen ( <b>es ist dieses Alphabet, das Borges in seiner Bibliothek verwendet hat, aber dann wird der Leser herausfinden, dass es eine beliebige Anzahl von Zeichen in der Bibliothek geben kann</b> ).  Das Hauptgesetz der Bibliothek ist, dass es keine zwei absolut identischen B√ºcher gibt, dementsprechend ist ihre Anzahl begrenzt, und die Bibliothek wird auch eines Tages enden.  Borges glaubte, dass die Bibliothek regelm√§√üig ist: <br><br><div class="spoiler">  <b class="spoiler_title">Zitat</b> <div class="spoiler_text"><blockquote>  <i>‚ÄûVielleicht t√§uschen mich Angst und Alter, aber ich denke, dass die Menschheit - die einzige - vom Aussterben bedroht ist und die Bibliothek √ºberleben wird: beleuchtet, unbewohnt, unendlich, absolut bewegungslos, voller kostbarer B√§nde, nutzlos, unbestechlich, mysteri√∂s.</i>  <i>Ich habe gerade endlos geschrieben.</i>  <i>Ich habe dieses Wort nicht aus Liebe zur Rhetorik gesetzt;</i>  <i>Ich denke, es ist logisch anzunehmen, dass die Welt endlos ist.</i>  <i>Diejenigen, die es f√ºr begrenzt halten, geben zu, dass irgendwo in der Ferne Korridore, Treppen und Sechsecke aus einem unbekannten Grund enden k√∂nnen - eine solche Annahme ist absurd.</i>  <i>Wer es sich grenzenlos vorstellt, vergisst, dass die Anzahl der m√∂glichen B√ºcher begrenzt ist.</i>  <i>Ich wage es, eine solche L√∂sung f√ºr dieses uralte Problem vorzuschlagen: Die Bibliothek ist grenzenlos und regelm√§√üig.</i>  <i>Wenn der ewige Wanderer eine Reise in eine beliebige Richtung antreten w√ºrde, k√∂nnte er nach Jahrhunderten √ºberpr√ºfen, ob dieselben B√ºcher in demselben Durcheinander wiederholt werden (was, wenn es wiederholt wird, zu Ordnung - Ordnung wird).</i>  <i>Diese anmutige Hoffnung erhellt meine Einsamkeit. ‚Äú</i> </blockquote><br></div></div><br>  Im Vergleich zu Unsinn gibt es nur sehr wenige B√ºcher, deren Inhalt eine Person zumindest irgendwie verstehen kann, aber dies √§ndert nichts an der Tatsache, dass die Bibliothek alle Texte enth√§lt, die von einer Person erfunden wurden und jemals erfunden werden.  Au√üerdem sind Sie von Kindheit an daran gew√∂hnt, einige Symbolsequenzen als sinnvoll zu betrachten, w√§hrend andere dies nicht tun.  Tats√§chlich gibt es im Kontext der Bibliothek keinen Unterschied zwischen ihnen.  Aber was Sinn macht, hat einen viel geringeren Prozentsatz, und wir nennen es Sprache.  Dies ist ein Kommunikationsmittel zwischen Menschen.  Jede Sprache enth√§lt nur wenige Zehntausende von W√∂rtern, von denen wir 70% der St√§rke kennen. Daher stellt sich heraus, dass wir den gr√∂√üten Teil der kombinatorischen Suche nach B√ºchern nicht interpretieren k√∂nnen.  Und jemand leidet an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Apophenie</a> und sieht selbst in zuf√§lligen Zeichens√§tzen versteckte Bedeutungen.  Aber das ist eine gute Idee f√ºr die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steganographie</a> !  Nun, ich werde dieses Thema weiterhin in den Kommentaren diskutieren. <br><br>  Bevor Sie mit der Implementierung dieser Bibliothek fortfahren, werde ich Sie mit einer interessanten Tatsache √ºberraschen: Wenn Sie die babylonische Bibliothek von Louis Borges neu erstellen m√∂chten, werden Sie keinen Erfolg haben, da ihre Volumina das Volumen des sichtbaren Universums 10 ^ 611338 (!) Mal √ºberschreiten.  Und dar√ºber, was in noch gr√∂√üeren Bibliotheken passieren wird, habe ich sogar Angst zu denken. <br><br><h2>  Bibliotheksimplementierung </h2><br><h3>  Modulbeschreibung </h3><br>  Unsere kleine Einf√ºhrung ist vorbei.  Aber es ist nicht ohne Bedeutung: Jetzt verstehen Sie, wie die babylonische Bibliothek aussieht, und das Lesen wird nur interessanter sein.  Aber ich werde von der urspr√ºnglichen Idee wegkommen, ich wollte eine "universelle" Bibliothek erstellen, die sp√§ter besprochen wird.  Ich werde in JavaScript unter Node.js schreiben. Was sollte die Bibliothek tun k√∂nnen? <br><ul><li>  Finden Sie schnell den gew√ºnschten Text und zeigen Sie seine Position in der Bibliothek an </li><li>  Definieren Sie einen Buchtitel </li><li>  Finden Sie schnell ein Buch mit dem richtigen Titel </li></ul><br>  Zus√§tzlich sollte es universell sein, d.h.  Jeder der Bibliotheksparameter kann ge√§ndert werden, wenn ich m√∂chte.  Nun, ich denke, ich werde zuerst den gesamten Code des Moduls zeigen, wir werden ihn detailliert analysieren, sehen, wie er funktioniert, und ich werde ein paar Worte sagen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github-Repository</a> <br><br>  Die Hauptdatei ist index.js, die gesamte Logik der Bibliothek wird dort beschrieben, ich werde den Inhalt dieser Datei erkl√§ren. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sha512 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">`js-sha512`</span></span>);</code> </pre> <br>  Wir verbinden das Modul, das den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sha512-</a> Hashing- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Algorithmus</a> implementiert.  Es mag Ihnen seltsam erscheinen, aber es wird uns trotzdem n√ºtzlich sein. <br>  Was ist die Ausgabe unseres Moduls?  Es gibt eine Funktion zur√ºck, ein Aufruf, der ein Bibliotheksobjekt mit allen erforderlichen Methoden zur√ºckgibt.  Wir k√∂nnten es sofort zur√ºckgeben, aber dann w√§re die Verwaltung der Bibliothek nicht so bequem, wenn wir Parameter an die Funktion √ºbergeben und die ‚Äûben√∂tigte‚Äú Bibliothek erhalten.  Auf diese Weise k√∂nnen wir eine ‚Äûuniverselle‚Äú Bibliothek erstellen.  Da ich versuche, im ES6-Stil zu schreiben, akzeptiert meine Pfeilfunktion ein Objekt als Parameter, das anschlie√üend in die erforderlichen Variablen zerlegt wird: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ lengthOfPage = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4819</span></span></span></span><span class="hljs-function"><span class="hljs-params">, lengthOfTitle = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">31</span></span></span></span><span class="hljs-function"><span class="hljs-params">, digs = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'0123456789abcdefghijklmnopqrstuvwxyz'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, alphabet = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">', .'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, wall = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, shelf = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">, volume = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">31</span></span></span></span><span class="hljs-function"><span class="hljs-params">, page = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">421</span></span></span></span><span class="hljs-function"><span class="hljs-params">, } = {}</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre><br>  Lassen Sie uns nun die Parameter durchgehen.  Als numerische Standardparameter habe ich mich f√ºr Primzahlen entschieden, weil es mir interessanter erschien. <br><br><ul><li>  <b>lengthOfPage</b> - Anzahl, Anzahl der Zeichen auf einer Seite.  Der Standardwert ist 4819. Wenn wir diese Zahl ber√ºcksichtigen, erhalten wir 61 und 79. 61 Zeilen mit 79 Zeichen oder umgekehrt, aber ich bevorzuge die erste Option. </li><li>  <b>lengthOfTitle</b> - Anzahl, Anzahl der Zeichen im Titel des <b>Buchtitels</b> . </li><li>  <b>digs</b> - eine Zeichenfolge, m√∂gliche Ziffern einer Zahl mit einer Basis, die der L√§nge dieser Zeichenfolge entspricht.  Wof√ºr ist diese Nummer?  Es enth√§lt die Nummer (Kennung) des Sechsecks, zu dem wir gehen m√∂chten.  Standardm√§√üig ist es Kleinbuchstaben Latein und die Zahlen 0-9.  Der gr√∂√üte Teil des Textes wird hier codiert, es handelt sich also um eine gro√üe Zahl - mehrere tausend Bit (abh√§ngig von der Anzahl der Zeichen auf der Seite), die jedoch zeichenweise verarbeitet wird. </li><li>  <b>Alphabet</b> - die Zeichenfolge, die Zeichen, die wir in der Bibliothek sehen m√∂chten.  Es wird mit ihnen gef√ºllt sein.  Damit alles richtig funktioniert, muss die Anzahl der Zeichen im Alphabet gleich der Anzahl der Zeichen in der Zeichenfolge sein, wobei m√∂gliche Ziffern der Nummer das Sechseck identifizieren. </li><li>  <b>Wandnummer</b> , maximale Wandnummer, Standard 5 </li><li>  <b>Regalnummer</b> , maximale <b>Regalnummer</b> , Standard 7 </li><li>  <b>Volumen</b> - Nummer, maximale Buchnummer, standardm√§√üig 31 </li><li>  <b>Seitenzahl</b> , maximale Seitenzahl, Standard 421 </li></ul><br>  Wie Sie sehen k√∂nnen, √§hnelt dies ein wenig der echten babylonischen Bibliothek von Luis Borges.  Aber ich habe mehr als einmal gesagt, dass wir "universelle" Bibliotheken erstellen werden, die so aussehen k√∂nnen, wie wir sie sehen m√∂chten (daher kann die Hex-Zahl irgendwie anders interpretiert werden, zum Beispiel nur die Kennung eines Ortes, an dem die gew√ºnschte gespeichert ist Informationen).  Die babylonische Bibliothek ist nur eine davon.  Alle haben jedoch viel gemeinsam - ein Algorithmus ist f√ºr ihre Leistung verantwortlich, auf den nun eingegangen wird. <br><br><h3>  Algorithmen f√ºr die Seitensuche und -anzeige </h3><br>  Wenn wir zu einer Adresse gehen, sehen wir den Inhalt der Seite.  Wenn wir wieder zur gleichen Adresse gehen, sollte der Inhalt genau der gleiche sein.  Diese Eigenschaft von Bibliotheken bietet einen Algorithmus zum Generieren von Pseudozufallszahlen - die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lineare kongruente Methode</a> .  Wenn wir ein Zeichen ausw√§hlen m√ºssen, um die Adresse oder umgekehrt den Inhalt der Seite zu generieren, hilft es uns, und die Anzahl der Seiten, Regale usw. wird als K√∂rnung verwendet.  Die Konfiguration meines PRNG: m = 2 ^ 32 (4294967296), a = 22695477, c = 1. Ich m√∂chte auch hinzuf√ºgen, dass in unserer Implementierung nur das Prinzip der Zahlengenerierung von der linearen kongruenten Methode √ºbrig bleibt, der Rest wird ge√§ndert.  Wir gehen weiter auf die Programmliste: <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ lengthOfPage = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4819</span></span></span></span><span class="hljs-function"><span class="hljs-params">, lengthOfTitle = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">31</span></span></span></span><span class="hljs-function"><span class="hljs-params">, digs = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'0123456789abcdefghijklmnopqrstuvwxyz'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, alphabet = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">', .'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, wall = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, shelf = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">, volume = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">31</span></span></span></span><span class="hljs-function"><span class="hljs-params">, page = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">421</span></span></span></span><span class="hljs-function"><span class="hljs-params">, } = {}</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> seed = <span class="hljs-number"><span class="hljs-number">13</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   const rnd = (min = 1, max = 0) =&gt; { //   //    min  max seed = (seed * 22695477 + 1) % 4294967296; //   //      return min + seed / 4294967296 * (max - min); //   //   }; const pad = (s, size) =&gt; s.padStart(size, `0`); //   //       let getHash = str =&gt; parseInt(sha512(str).slice(0, 7), 16); //  const mod = (a, b) =&gt; ((a % b) + b) % b; //    const digsIndexes = {}; //     //    digs const alphabetIndexes = {}; //     //    alphabet Array.from(digs).forEach((char, position) =&gt; { //    digs digsIndexes[char] = position; //     //   }); Array.from(alphabet).forEach((char, position) =&gt; { //    alphabet alphabetIndexes[char] = position; //     //   }); return { //    };</span></span></code> </pre><br></div></div><br>  Wie Sie sehen k√∂nnen, √§ndert sich das PRNG-Korn nach jedem Empfang der Nummer, und die Ergebnisse h√§ngen direkt vom sogenannten Referenzpunkt ab - dem Korn, nach dem uns die Zahlen interessieren.  (Wir generieren die Adresse oder erhalten den Inhalt der Seite) <br><br>  Die <b>getHash-</b> Funktion hilft uns, einen Referenzpunkt zu generieren.  Wir bekommen nur einen Hash von einigen Daten, nehmen 7 Zeichen, √ºbersetzen in ein Dezimalzahlensystem und fertig! <br><br>  Die <b>Mod-</b> Funktion verh√§lt sich genauso wie der% -Operator.  Wenn die Dividende jedoch &lt;0 ist (solche Situationen sind m√∂glich), gibt die <b>Mod-</b> Funktion aufgrund der speziellen Struktur eine positive Zahl zur√ºck. Wir ben√∂tigen diese, um die Zeichen aus der <b>Alphabet-</b> Zeichenfolge korrekt auszuw√§hlen, wenn der Inhalt der Seite an der Adresse empfangen wird. <br><br>  Und das letzte St√ºck Dessertcode ist das zur√ºckgegebene Bibliotheksobjekt: <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { wall, shelf, volume, page, lengthOfPage, lengthOfTitle, search(searchStr) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> wall = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.wall + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, shelf = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.shelf + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, volume = pad(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random()* </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.volume + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), page = pad(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random()* </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.page + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), locHash = getHash(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${wall}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${shelf}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${volume}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${page}</span></span></span><span class="hljs-string">`</span></span>), hex = <span class="hljs-string"><span class="hljs-string">``</span></span>, depth = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfPage - searchStr.length) ^ <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; depth; i++){ searchStr = alphabet[<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * alphabet.length ^ <span class="hljs-number"><span class="hljs-number">0</span></span>] + searchStr; } seed = locHash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; searchStr.length; i++){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = alphabetIndexes[searchStr[i]] || <span class="hljs-number"><span class="hljs-number">-1</span></span>, rand = rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, alphabet.length), newIndex = mod(index + <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rand), digs.length), newChar = digs[newIndex]; hex += newChar; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${hex}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${wall}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${shelf}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${+volume}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${+page}</span></span></span><span class="hljs-string">`</span></span>; }, searchExactly(text) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pos = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfPage - text.length) ^ <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.search(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` `</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.repeat(pos)}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${text}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` `</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.repeat(</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.lengthOfPage - (pos + text.length))}</span></span></span><span class="hljs-string">`</span></span>); }, searchTitle(searchStr) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> wall = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.wall + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, shelf = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.shelf + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, volume = pad(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random()* </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.volume + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), locHash = getHash(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${wall}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${shelf}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${volume}</span></span></span><span class="hljs-string">`</span></span>), hex = <span class="hljs-string"><span class="hljs-string">``</span></span>; searchStr = searchStr.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfTitle); searchStr = searchStr.length == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfTitle ? searchStr : <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${searchStr}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` `</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.repeat(</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.lengthOfTitle - searchStr.length)}</span></span></span><span class="hljs-string">`</span></span>; seed = locHash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; searchStr.length; i++){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = alphabetIndexes[searchStr[i]], rand = rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, alphabet.length), newIndex = mod(index + <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rand), digs.length), newChar = digs[newIndex]; hex += newChar; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${hex}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${wall}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${shelf}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${+volume}</span></span></span><span class="hljs-string">`</span></span>; }, getPage(address) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> addressArray = address.split(<span class="hljs-string"><span class="hljs-string">`-`</span></span>), hex = addressArray[<span class="hljs-number"><span class="hljs-number">0</span></span>], locHash = getHash(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${pad(addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">], </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${pad(addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">4</span></span></span></span><span class="hljs-string"><span class="hljs-subst">], </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>), result = <span class="hljs-string"><span class="hljs-string">``</span></span>; seed = locHash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; hex.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = digsIndexes[hex[i]], rand = rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, digs.length), newIndex = mod(index - <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rand), alphabet.length), newChar = alphabet[newIndex]; result += newChar; } seed = getHash(result); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (result.length &lt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfPage) { result += alphabet[<span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, alphabet.length))]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.substr(result.length - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfPage); }, getTitle(address) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> addressArray = address.split(<span class="hljs-string"><span class="hljs-string">`-`</span></span>), hex = addressArray[<span class="hljs-number"><span class="hljs-number">0</span></span>], locHash = getHash(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${pad(addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">], </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>), result = <span class="hljs-string"><span class="hljs-string">``</span></span>; seed = locHash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; hex.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = digsIndexes[hex[i]], rand = rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, digs.length), newIndex = mod(index - <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rand), alphabet.length), newChar = alphabet[newIndex]; result += newChar; } seed = getHash(result); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (result.length &lt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfTitle) { result += alphabet[<span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, alphabet.length))]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.substr(result.length - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfTitle); } };</code> </pre><br></div></div><br>  Zu Beginn schreiben wir ihm die Eigenschaften der Bibliothek, die ich zuvor beschrieben habe.  Sie k√∂nnen sie auch nach dem Aufruf der Hauptfunktion √§ndern (die im Prinzip als Konstruktor bezeichnet werden kann, aber mein Code ist der Klassenimplementierung der Bibliothek schwach √§hnlich, daher beschr√§nke ich mich auf das Wort ‚Äûmain‚Äú).  Vielleicht ist dieses Verhalten nicht ganz ausreichend, aber flexibel.  Gehen Sie nun jede Methode durch. <br><br><h3>  Suchmethode </h3><br><pre> <code class="javascript hljs">search(searchStr) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> wall = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.wall + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, shelf = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.shelf + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, volume = pad(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.volume + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), page = pad(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.page + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), locHash = getHash(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${wall}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${shelf}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${volume}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${page}</span></span></span><span class="hljs-string">`</span></span>), hex = <span class="hljs-string"><span class="hljs-string">``</span></span>, depth = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfPage - searchStr.length) ^ <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; depth; i++){ searchStr = alphabet[<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * alphabet.length ^ <span class="hljs-number"><span class="hljs-number">0</span></span>] + searchStr; } seed = locHash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; searchStr.length; i++){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = alphabetIndexes[searchStr[i]] || <span class="hljs-number"><span class="hljs-number">-1</span></span>, rand = rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, alphabet.length), newIndex = mod(index + <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rand), digs.length), newChar = digs[newIndex]; hex += newChar; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${hex}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${wall}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${shelf}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${+volume}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${+page}</span></span></span><span class="hljs-string">`</span></span>; }</code> </pre><br>  Gibt die Adresse der <b>searchStr-</b> Zeichenfolge in der Bibliothek zur√ºck.  W√§hlen Sie dazu zuf√§llig <b>Wand, Regal, Volumen und Seite aus</b> .  <b>Volumen</b> und <b>Seite werden</b> ebenfalls mit Nullen auf die gew√ºnschte L√§nge aufgef√ºllt.  Verketten Sie sie anschlie√üend zu einer Zeichenfolge, um sie an die Funktion <b>getHash zu √ºbergeben</b> .  Der resultierende <b>locHash</b> ist der Startpunkt, d.h.  das Getreide. <br><br>  F√ºr eine gr√∂√üere Unvorhersehbarkeit erg√§nzen wir die <b>searchStr-</b> <b>Tiefe durch</b> pseudozuf√§llige Zeichen des Alphabets und setzen den <b>Startwert</b> auf <b>locHash</b> .  In diesem Stadium spielt es keine Rolle, wie wir die Zeile erg√§nzen. Sie k√∂nnen also das integrierte JavaScript-PRNG verwenden. Dies ist nicht kritisch.  Sie k√∂nnen es ganz aufgeben, damit die f√ºr uns interessanten Ergebnisse immer ganz oben auf der Seite stehen. <br><br>  Sie m√ºssen nur noch die Sechseckkennung generieren.  F√ºr jedes Zeichen der <b>searchStr-</b> Zeichenfolge f√ºhren <b>wir</b> den Algorithmus aus: <br><br><ol><li>  Rufen Sie die Nummer des <b>Indexzeichens</b> im Alphabet aus dem Objekt alphabetIndexes ab.  Wenn dies nicht der Fall ist, geben Sie -1 zur√ºck. In diesem Fall machen Sie definitiv etwas falsch. </li><li>  Generieren Sie mit unserem PRNG einen Pseudozufallszahlen- <b>Rand</b> im Bereich von 0 bis zur L√§nge des Alphabets. </li><li>  Berechnen Sie den neuen Index, der als Summe aus der Nummer des Symbolindex und der Pseudozufallszahl <b>Rand</b> berechnet wird, modulo geteilt durch die L√§nge der <b>Digs</b> . </li><li>  So haben wir die Ziffer des Sechseck-Bezeichners - <b>newChar</b> (aus <b>digs</b> ) erhalten. </li><li>  F√ºgen Sie <b>newChar</b> zum Hex-Bezeichner <b>hex hinzu</b> </li></ol><br>  Nach Abschluss der <b>Hex-</b> Generierung geben wir die vollst√§ndige Adresse des Ortes zur√ºck, an dem die gew√ºnschte Zeile enthalten ist.  Adresskomponenten werden durch einen Bindestrich getrennt. <br><br><h3>  SearchExactly-Methode </h3><br><pre> <code class="javascript hljs">searchExactly(text) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pos = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfPage - text.length) ^ <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.search(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` `</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.repeat(pos)}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${text}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` `</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.repeat(</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.lengthOfPage - (pos + text.length))}</span></span></span><span class="hljs-string">`</span></span>); }</code> </pre><br>  Diese Methode macht dasselbe wie die <b>Suchmethode</b> , f√ºllt jedoch den gesamten freien Speicherplatz (macht die <b>Suchzeichenfolge searchStr</b> mit einer L√§nge von <b>lengthOfPage-</b> Zeichen).  Wenn Sie eine solche Seite anzeigen, scheint nichts au√üer Ihrem Text darauf zu sein. <br><br><h3>  SearchTitle-Methode </h3><br><pre> <code class="javascript hljs">searchTitle(searchStr) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> wall = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.wall + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, shelf = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random() * </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.shelf + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, volume = pad(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${(</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Math</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.random()* </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.volume + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> ^ </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), locHash = getHash(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${wall}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${shelf}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${volume}</span></span></span><span class="hljs-string">`</span></span>), hex = <span class="hljs-string"><span class="hljs-string">``</span></span>; searchStr = searchStr.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfTitle); searchStr = searchStr.length == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfTitle ? searchStr : <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${searchStr}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` `</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.repeat(</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.lengthOfTitle - searchStr.length)}</span></span></span><span class="hljs-string">`</span></span>; seed = locHash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; searchStr.length; i++){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = alphabetIndexes[searchStr[i]], rand = rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, alphabet.length), newIndex = mod(index + <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rand), digs.length), newChar = digs[newIndex]; hex += newChar; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${hex}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${wall}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${shelf}</span></span></span><span class="hljs-string">-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${+volume}</span></span></span><span class="hljs-string">`</span></span>; }</code> </pre><br>  Die <b>searchTitle-</b> Methode gibt die Adresse eines Buches mit dem Namen <b>searchStr zur√ºck</b> .  Im Inneren ist es der <b>Suche</b> sehr √§hnlich.  Der Unterschied besteht darin, dass wir bei der Berechnung von <b>locHash</b> die Seite nicht verwenden, um ihren Namen an das Buch zu binden.  Es sollte nicht von der Seite abh√§ngen.  <b>searchStr</b> wird auf <b>lengthOfTitle</b> abgeschnitten und bei Bedarf mit Leerzeichen aufgef√ºllt.  In √§hnlicher Weise wird die Sechseckkennung generiert und die empfangene Adresse zur√ºckgegeben.  Bitte beachten Sie, dass sich keine Seite darin befindet, wie bei der Suche nach der genauen Adresse eines beliebigen Textes.  Wenn Sie also herausfinden m√∂chten, was in dem Buch mit dem von Ihnen gepr√§gten Namen steht, entscheiden Sie sich f√ºr die Seite, zu der Sie gehen m√∂chten. <br><br><h3>  GetPage-Methode </h3><br><pre> <code class="javascript hljs">getPage(address) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> addressArray = address.split(<span class="hljs-string"><span class="hljs-string">`-`</span></span>), hex = addressArray[<span class="hljs-number"><span class="hljs-number">0</span></span>], locHash = getHash(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${pad(addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">], </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${pad(addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">4</span></span></span></span><span class="hljs-string"><span class="hljs-subst">], </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>), result = <span class="hljs-string"><span class="hljs-string">``</span></span>; seed = locHash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; hex.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = digsIndexes[hex[i]], rand = rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, digs.length), newIndex = mod(index - <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rand), alphabet.length), newChar = alphabet[newIndex]; result += newChar; } seed = getHash(result); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (result.length &lt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfPage) { result += alphabet[<span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, alphabet.length))]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.substr(result.length - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfPage); }</code> </pre><br>  Das Gegenteil der <b>Suchmethode</b> .  Seine Aufgabe ist es, den Inhalt der Seite an die angegebene Adresse zur√ºckzugeben.  Dazu konvertieren wir die Adresse mit dem Trennzeichen "-" in ein Array.  Jetzt haben wir eine Reihe von Adresskomponenten: Sechseckkennung, Wand, Regal, Buch, Seite.  Wir berechnen <b>locHash</b> auf die gleiche Weise wie bei der <b>Suchmethode</b> .  Wir erhalten die gleiche Nummer wie beim Generieren der Adresse.  Dies bedeutet, dass der PRNG die gleichen Zahlen erzeugt. Dieses Verhalten stellt die Reversibilit√§t unserer Transformationen √ºber den Quelltext sicher.  Um dies zu berechnen, f√ºhren wir den Algorithmus f√ºr jedes Zeichen (de facto ist dies eine Ziffer) der Sechseckkennung durch: <br><br><ol><li>  Wir berechnen den <b>Index</b> in den String <b>Digs</b> .  Nehmen Sie es von <b>digsIndexes</b> . </li><li>  Mit dem PRNG erzeugen wir einen Pseudozufallszahlen- <b>Rand</b> im Bereich 0 bis zur Basis des Zahlensystems einer gro√üen Zahl, der der L√§nge der Zeichenfolge entspricht, die die Ziffern dieser sch√∂nen Zahl enth√§lt.  Alles ist offensichtlich. </li><li>  Wir berechnen die Position des Symbols des Quelltextes <b>newIndex</b> als Differenz zwischen <b>Index</b> und <b>Rand</b> , modulo geteilt durch die L√§nge des Alphabets.  Wenn die Differenz negativ ist, ergibt das √ºbliche Divisionsmodulo einen negativen Index, der nicht zu uns passt. Daher verwenden wir eine modifizierte Version der Modulo-Division.  (Sie k√∂nnen die Option ausprobieren, den Absolutwert aus der obigen Formel zu √ºbernehmen. Dies l√∂st auch das Problem der negativen Zahlen, aber in der Praxis wurde dies noch nicht getestet.) </li><li>  Das Zeichen des Textes der Seite ist <b>newChar</b> , wir erhalten den Index aus dem Alphabet. </li><li>  F√ºgen Sie dem Ergebnis ein Textzeichen hinzu. </li></ol><br>  Das zu diesem Zeitpunkt erzielte Ergebnis f√ºllt nicht immer die gesamte Seite aus. Daher berechnen wir die neue K√∂rnung aus dem aktuellen Ergebnis und f√ºllen den freien Speicherplatz mit Zeichen aus dem Alphabet.  Das PRNG hilft uns bei der Auswahl eines Symbols. <br><br>  Damit ist die Berechnung des Seiteninhalts abgeschlossen. Wir geben ihn zur√ºck und vergessen nicht, ihn auf die maximale L√§nge zuzuschneiden.  M√∂glicherweise war die Sechseckkennung in der Eingabeadresse unangemessen gro√ü. <br><br><h3>  GetTitle-Methode </h3><br><pre> <code class="javascript hljs">getTitle(address) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> addressArray = address.split(<span class="hljs-string"><span class="hljs-string">`-`</span></span>), hex = addressArray[<span class="hljs-number"><span class="hljs-number">0</span></span>], locHash = getHash(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${pad(addressArray[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">], </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>), result = <span class="hljs-string"><span class="hljs-string">``</span></span>; seed = locHash; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; hex.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = digsIndexes[hex[i]], rand = rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, digs.length), newIndex = mod(index - <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rand), alphabet.length), newChar = alphabet[newIndex]; result += newChar; } seed = getHash(result); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (result.length &lt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfTitle) { result += alphabet[<span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(rnd(<span class="hljs-number"><span class="hljs-number">0</span></span>, alphabet.length))]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.substr(result.length - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lengthOfTitle); }</code> </pre><br>  Nun, die Geschichte ist dieselbe.  Stellen Sie sich vor, Sie lesen die Beschreibung der vorherigen Methode nur, wenn Sie die PRNG-K√∂rner berechnen, ber√ºcksichtigen Sie nicht die Seitenzahl und f√ºgen Sie das Ergebnis zur maximalen L√§nge des <b>Buchtitels hinzu</b> - <b>lengthOfTitle</b> . <br><br><h2>  Testen des Moduls zum Erstellen von Bibliotheken </h2><br>  Nachdem wir das Funktionsprinzip einer babylonischen Bibliothek untersucht haben, ist es Zeit, alles in der Praxis auszuprobieren.  Ich werde die Konfiguration so nah wie m√∂glich an der von Louis Borges erstellten verwenden.  Wir werden nach einem einfachen Ausdruck "habr.com" suchen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> libraryofbabel = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">`libraryofbabel`</span></span>)({ <span class="hljs-attr"><span class="hljs-attr">lengthOfPage</span></span>: <span class="hljs-number"><span class="hljs-number">3200</span></span>, <span class="hljs-attr"><span class="hljs-attr">alphabet</span></span>: <span class="hljs-string"><span class="hljs-string">`abcdefghijklmnopqrstuvwxyz, .`</span></span>, <span class="hljs-comment"><span class="hljs-comment">//, , ,  digs: `0123456789abcdefghijklmnopqrs`, // - 29-  wall: 4, shelf: 5, volume: 32, page: 410 //   }); //  console.log(libraryofbabel.search(`habr.com`));</span></span></code> </pre><br>  F√ºhren Sie das Ergebnis aus: <br><br><img src="https://habrastorage.org/webt/in/75/3w/in753wlgenqcq0riibootatdxn4.png" alt="Bild"><br><br>  Im Moment gibt es uns nichts.  Aber lassen Sie uns herausfinden, was sich hinter dieser Adresse verbirgt!  Der Code sieht folgenderma√üen aus: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> libraryofbabel = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">`libraryofbabel`</span></span>)({ <span class="hljs-attr"><span class="hljs-attr">lengthOfPage</span></span>: <span class="hljs-number"><span class="hljs-number">3200</span></span>, <span class="hljs-attr"><span class="hljs-attr">alphabet</span></span>: <span class="hljs-string"><span class="hljs-string">`abcdefghijklmnopqrstuvwxyz, .`</span></span>, <span class="hljs-comment"><span class="hljs-comment">//, , ,  digs: `0123456789abcdefghijklmnopqrs`, // - 29-  wall: 4, shelf: 5, volume: 32, page: 410 //   }); const text = `habr.com`; //  const adress = libraryofbabel.search(text); //    const clc = require(`cli-color`); //      console.log(libraryofbabel.getPage(adress).replace(text, clc.green(text)));</span></span></code> </pre><br>  Ergebnis: <br><br><img src="https://habrastorage.org/webt/qb/6n/8q/qb6n8qcbd3gyd9xbou3tvgh4czg.png" alt="Bild"><br><br>  Wir haben auf einer unendlichen Anzahl bedeutungsloser (ich wette) Seiten gefunden, wonach wir gesucht haben! <br><br>  Dies ist jedoch bei weitem nicht der einzige Ort, an dem sich dieser Satz befindet.  Beim n√§chsten Programmstart wird eine weitere Adresse generiert.  Wenn Sie m√∂chten, k√∂nnen Sie eine speichern und damit arbeiten.  Hauptsache, der Inhalt der Seiten √§ndert sich nie.  Schauen wir uns den Titel des Buches an, in dem sich unser Satz befindet.  Der Code lautet wie folgt: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> libraryofbabel = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">`libraryofbabel`</span></span>)({ <span class="hljs-attr"><span class="hljs-attr">lengthOfPage</span></span>: <span class="hljs-number"><span class="hljs-number">3200</span></span>, <span class="hljs-attr"><span class="hljs-attr">alphabet</span></span>: <span class="hljs-string"><span class="hljs-string">`abcdefghijklmnopqrstuvwxyz, .`</span></span>, <span class="hljs-comment"><span class="hljs-comment">//, , ,  digs: `0123456789abcdefghijklmnopqrs`, // - 29-  wall: 4, shelf: 5, volume: 32, page: 410 //   }); const text = `habr.com`; //  const adress = libraryofbabel.search(text); //    const clc = require(`cli-color`); //      console.log(libraryofbabel.getPage(adress).replace(text, clc.green(text))); console.log(`\n : ${clc.green(libraryofbabel.getTitle(adress))}`);</span></span></code> </pre><br>  Der Titel des Buches lautet ungef√§hr so: <br><br><img src="https://habrastorage.org/webt/3_/ei/e3/3_eie30ck52m1pfmpaix-al2_pu.png" alt="Bild"><br><br>  Ehrlich gesagt sieht es nicht sehr attraktiv aus.  Dann suchen wir ein Buch mit unserem Satz im Titel: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> libraryofbabel = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">`libraryofbabel`</span></span>)({ <span class="hljs-attr"><span class="hljs-attr">lengthOfPage</span></span>: <span class="hljs-number"><span class="hljs-number">3200</span></span>, <span class="hljs-attr"><span class="hljs-attr">alphabet</span></span>: <span class="hljs-string"><span class="hljs-string">`abcdefghijklmnopqrstuvwxyz, .`</span></span>, <span class="hljs-comment"><span class="hljs-comment">//, , ,  digs: `0123456789abcdefghijklmnopqrs`, // - 29-  wall: 4, shelf: 5, volume: 32, page: 410 //   }); const text = `habr.com`; //  const adress = libraryofbabel.searchTitle(text); //    const newAdress = `${adress}-${1}`; //    console.log(libraryofbabel.getPage(newAdress)); //     console.log(libraryofbabel.getTitle(newAdress)); //  ,        :)</span></span></code> </pre><br><img src="https://habrastorage.org/webt/vh/4t/gf/vh4tgfcjmuyvkm6paed3z0z9rco.png" alt="Bild"><br><br>  Jetzt verstehen Sie, wie Sie diese Bibliothek verwenden.  Lassen Sie mich die M√∂glichkeit demonstrieren, eine v√∂llig andere Bibliothek zu erstellen.  Jetzt wird es mit Einsen und Nullen gef√ºllt, jede Seite hat 100 Zeichen, die Adresse ist eine Hexadezimalzahl.  Vergessen Sie nicht, die Bedingung f√ºr die Gleichheit der L√§ngen des Alphabets und der Ziffernfolge unserer gro√üen Zahl zu beachten.  Wir werden zum Beispiel nach "10101100101010111001000000" suchen.  Wir schauen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> libraryofbabel = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">`libraryofbabel`</span></span>)({ <span class="hljs-attr"><span class="hljs-attr">lengthOfPage</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">alphabet</span></span>: <span class="hljs-string"><span class="hljs-string">`1010101010101010`</span></span>, <span class="hljs-comment"><span class="hljs-comment">// 1  0,     digs: `0123456789abcdef`, // - 16-  wall: 4, shelf: 5, volume: 32, page: 410 //   }); const text = `10101100101010111001000000`; //  const adress = libraryofbabel.search(text); //    console.log(`\n${adress}\n`); //    const clc = require(`cli-color`); //      console.log(libraryofbabel.getPage(adress).replace(text, clc.green(text))); console.log(`\n : ${clc.green(libraryofbabel.getTitle(adress))}`);</span></span></code> </pre><br><img src="https://habrastorage.org/webt/ns/lz/wu/nslzwulb-mfzpxn1gywod1pd4d8.png" alt="Bild"><br><br>  Lassen Sie uns einen Blick darauf werfen, wie Sie eine vollst√§ndige √úbereinstimmung finden.  <b>Kehren</b> <b>wir</b> dazu zum alten Beispiel zur√ºck und ersetzen <b>Sie</b> im Code <b>libraryofbabel.search</b> durch <b>libraryofbabel.searchExactly</b> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> libraryofbabel = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">`libraryofbabel`</span></span>)({ <span class="hljs-attr"><span class="hljs-attr">lengthOfPage</span></span>: <span class="hljs-number"><span class="hljs-number">3200</span></span>, <span class="hljs-attr"><span class="hljs-attr">alphabet</span></span>: <span class="hljs-string"><span class="hljs-string">`abcdefghijklmnopqrstuvwxyz, .`</span></span>, <span class="hljs-comment"><span class="hljs-comment">//, , ,  digs: `0123456789abcdefghijklmnopqrs`, // - 29-  wall: 4, shelf: 5, volume: 32, page: 410 //   }); const text = `habr.com`; //  const adress = libraryofbabel.searchExactly(text); //    const clc = require(`cli-color`); //      console.log(libraryofbabel.getPage(adress).replace(text, clc.green(text))); console.log(`\n : ${clc.green(libraryofbabel.getTitle(adress))}`);</span></span></code> </pre><br><img src="https://habrastorage.org/webt/nb/vz/tw/nbvztwt7rggv9cxpp5ekozlhfeq.png" alt="Bild"><br><br><h2>  Fazit </h2><br>  Nachdem Sie die Beschreibung des Bibliotheksoperationsalgorithmus gelesen haben, haben Sie wahrscheinlich bereits vermutet, dass dies eine Art T√§uschung war.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie in der Bibliothek nach etwas Sinnvollem suchen, wird es einfach in einer anderen Form codiert und in einer anderen Form angezeigt. Aber es ist so sch√∂n serviert, dass Sie anfangen, an diese endlosen Reihen von Sechsecken zu glauben. In der Tat ist dies nichts weiter als eine mathematische Abstraktion. Aber die Tatsache, dass Sie in dieser Bibliothek absolut alles finden k√∂nnen, ist wahr. Die Wahrheit ist, dass Sie fr√ºher oder sp√§ter absolut jeden Text erhalten k√∂nnen, wenn Sie zuf√§llige Zeichenfolgen generieren. Zum besseren Verst√§ndnis dieses Themas k√∂nnen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">den endlosen Affensatz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> studieren </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie k√∂nnen sich auch andere Optionen f√ºr die Implementierung von Bibliotheken einfallen lassen: Verwenden Sie einen beliebigen Verschl√ºsselungsalgorithmus, wobei der Chiffretext die Adresse in Ihrer umfassenden Bibliothek ist. Entschl√ºsselung - Seiteninhalt abrufen. Oder vielleicht versuchen</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , m? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine m√∂gliche Verwendung der Bibliothek besteht darin, Kennw√∂rter an einigen Stellen zu speichern. Erstellen Sie die Konfiguration, die Sie ben√∂tigen, und finden Sie heraus, wo sich Ihre Passw√∂rter in der Bibliothek befinden (ja, sie sind bereits vorhanden. Und Sie dachten, Sie h√§tten sie erfunden?). Speichern Sie die Adresse. Und jetzt, wenn Sie ein Passwort suchen m√ºssen, finden Sie es einfach in der Bibliothek. Dieser Ansatz ist jedoch gef√§hrlich, da ein Angreifer die Bibliothekskonfiguration herausfinden und einfach Ihre Adresse verwenden kann. Wenn er jedoch nicht wei√ü, was er gefunden hat, ist es unwahrscheinlich, dass Ihre Daten ihn erreichen. Und ist es wirklich so eine g√§ngige Methode zur Speicherung von Passw√∂rtern? Nein, also hat es einen Platz zu sein.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Idee kann verwendet werden, um eine Vielzahl von "Bibliotheken" zu erstellen. </font><font style="vertical-align: inherit;">Sie k√∂nnen nicht nur Zeichen, sondern auch ganze W√∂rter oder sogar T√∂ne durchlaufen! </font><font style="vertical-align: inherit;">Stellen Sie sich einen Ort vor, an dem Sie absolut jeden Ton h√∂ren k√∂nnen, der f√ºr die menschliche Wahrnehmung verf√ºgbar ist, oder um eine Art Lied zu finden. </font><font style="vertical-align: inherit;">In Zukunft werde ich auf jeden Fall versuchen, dies umzusetzen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Webversion in russischer Sprache ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verf√ºgbar </font><font style="vertical-align: inherit;">und wird auf meinem virtuellen Server bereitgestellt. </font><font style="vertical-align: inherit;">Ich kenne nicht alle angenehmen Suchen nach dem Sinn des Lebens in der babylonischen Bibliothek oder was Sie schaffen wollen.</font></font> Auf Wiedersehen!  :) :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433336/">https://habr.com/ru/post/de433336/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433326/index.html">Codequalit√§t</a></li>
<li><a href="../de433328/index.html">Besser einen Tag verlieren</a></li>
<li><a href="../de433330/index.html">L√∂sen Sie japanische Kreuzwortr√§tsel mit SAT Solver</a></li>
<li><a href="../de433332/index.html">Python-Unterst√ºtzung in Azure-Funktionen</a></li>
<li><a href="../de433334/index.html">XAML Behaviors for WPF ist jetzt Open Source</a></li>
<li><a href="../de433338/index.html">Creality 3D-Drucker Hersteller√ºbersicht</a></li>
<li><a href="../de433340/index.html">Xiaomi Wireless-Ger√§te im ioBroker Smart Home</a></li>
<li><a href="../de433342/index.html">Ein weiterer einfacher Verilog-Prozessor</a></li>
<li><a href="../de433344/index.html">Zwei Erfolge des privaten Raums</a></li>
<li><a href="../de433346/index.html">Wechsel von Redshift zu ClickHouse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>