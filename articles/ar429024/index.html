<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ซ ๐ฉ๐พโ๐คโ๐จ๐ป ๐ ุฅูุดุงุก ูููุงุช GIF ุจุงุณุชุฎุฏุงู OpenCV ๐ง๐พ ๐ผ ๐ฉ๐พโ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุณููุถุญ ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ููููุฉ ุฅูุดุงุก ุตูุฑ GIF ูุชุญุฑูุฉ ุจุงุณุชุฎุฏุงู OpenCV ู Python ู ImageMagick. ุซู ูู ุจุฏูุฌ ูุฐู ุงูุทุฑู ูุฅูุดุงุก ูููุฏ ูููู ุจุงุณุชุฎุฏุงู OpenC...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅูุดุงุก ูููุงุช GIF ุจุงุณุชุฎุฏุงู OpenCV</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429024/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/g1/sx/hd/g1sxhdlqfra2bohbg5d7yjliv6g.gif"></div><br><br>  ุณููุถุญ ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ููููุฉ ุฅูุดุงุก ุตูุฑ GIF ูุชุญุฑูุฉ ุจุงุณุชุฎุฏุงู OpenCV ู Python ู ImageMagick.  ุซู ูู ุจุฏูุฌ ูุฐู ุงูุทุฑู ูุฅูุดุงุก ูููุฏ ูููู ุจุงุณุชุฎุฏุงู OpenCV! <br><br>  ูููุง ุจุญุงุฌุฉ ุฅูู ุงูุถุญู ูู ููุช ูุขุฎุฑ.  ูุฑุจูุง ุชููู ุฃูุถู ุทุฑููุฉ ููุนุซูุฑ ุนูู lulza ูู ุงููููุงุช.  ุจุนุถ ุงูููุถูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุถูุฏุน ููุฑููุช: "ููู ูุฐุง ููุณ ูู ุดุฃูู" </li><li style=";text-align:right;direction:rtl">  ูุทุฉ ุบุงุถุจุฉ </li><li style=";text-align:right;direction:rtl">  ูุดู ููุญูู </li><li style=";text-align:right;direction:rtl">  ุฑุฌู ุฌูุฏ ุฌุฑูุฌ </li></ul><br>  <b>ูููู ุจุงููุณุจุฉ ูู ุดุฎุตูุงู ุ ูุง ูููู ููุงุฑูุฉ ุฃู ูู ูุฐู ุงููููุงุช ุจุงููููู "ุงูุชุนุงูู ูุนูุง" ("ุชุนุงูู ูุนูุง" ุฃู "ุงููููุง ุจููุณู") ุ ููุซุงู ุนูู ุฐูู ูู ุจุฏุงูุฉ ุงูููุงูุฉ.</b> <br><a name="habracut"></a><br>  ูุชู ุงุณุชุฎุฏุงูู ุนุงุฏุฉ ูู ุงูุญุงูุงุช ุงูุชุงููุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฑุฏ ุฃู ุงุนุชุฑุงุถ ุนูู ุดุฎุต ูุง ููุงูู ุนูู ุดูุก ูุนูุชู / ููุชู ("ุชุนุงูู ูุนู") </li><li style=";text-align:right;direction:rtl">  ูุถุน ูุธุงุฑุชู ููุง ูู ููุช ุชุบุงุฏุฑ ูุชุชุฑู ุงูุดุฎุต ุจููุฑุฏู ูุน ุงููุดููุฉ ("ุงููููุง ุจููุณู") </li></ol><br>  ูุจู ุจุถุน ุณููุงุช ุ ูุฑุฃุช ููุงูุฉ ููุชุนุฉ ุนูู ูุฏููุฉ ุงููุคูู ุ ูุงูุชู ูุง ุฃุชุฐูุฑ ููููุฉ ุฅูุดุงุก ูุซู ูุฐู ุงููููุงุช ุจุงุณุชุฎุฏุงู ุฑุคูุฉ ุงูููุจููุชุฑ.  ูู ุงูุฃุณุจูุน ุงููุงุถู ูู ุฃุชููู ูู ุงูุนุซูุฑ ุนูู ูุฐุง ุงูุฏููู ูู ุฃู ููุงู ุ ูุฐูู ุจุตูุชู ูุฏูููุง ูุฎุจูุฑูุง ูู ุฑุคูุฉ ุงูููุจููุชุฑ ูุฎุจูุฑูุง ูู ุงููููุงุช ุ ูุฑุฑุช ูุชุงุจุฉ ุจุฑูุงูุฌ ุชุนูููู ุจููุณู!  (ุจุงูููุงุณุจุฉ ุ ุฅุฐุง ููุช ุชุนุฑู ุนู ุทุฑูู ุงูุฎุทุฃ ุงููุตุฏุฑ ุงูุฃุตูู ุ ููุฑุฌู ุฅุจูุงุบู ุจุฐูู ุญุชู ุฃุชููู ูู ุดูุฑ ุงููุคูู. <b>UPD: ููุฏ</b> ุนุซุฑุช ุนูู ุงูููุงูุฉ ุงูุฃุตููุฉ ูู ูุฏููุฉ ููุฑู ูุงูุฒุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">MakeArtWithPython</a> ). <br><br>  ุฅู ุชุทููุฑ ูููุฏ ูููู ุนูู OpenCV ุณูุนูููุง ุนุฏุฏูุง ูู ุงูููุงุฑุงุช ุงูุนูููุฉ ุงููููุฉ ุ ุจูุง ูู ุฐูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุดู ุงููุฌู ุจุงุณุชุฎุฏุงู ุชูููุงุช ุงูุชุนูู ุงูุนููู </li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏุงู ููุชุจุฉ dlib ูุงูุชุดุงู ูุนุงูู ุงููุฌู ูุงุณุชุฎุฑุงุฌ ููุงุทู ุงูุนูู </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุญุณุงุจ ุฒุงููุฉ ุงูุฏูุฑุงู ุจูู ุงูุนูููู ุจูุงุกู ุนูู ุงููุนูููุงุช ุงููุณุชููุฉ </li><li style=";text-align:right;direction:rtl">  ูุฃุฎูุฑูุง ุ ููููุฉ ุฅูุดุงุก ุตูุฑ GIF ูุชุญุฑูุฉ ุจุงุณุชุฎุฏุงู OpenCV (ูุน ุงููููู ูู ุงููุณุงุนุฏุฉ ูู ImageMagick) </li></ol><br>  ูุฌุจ ุฃู ูููู ูุฐุง ุงูุฏููู ููุชุนูุง ูููุชุนูุง - ููู ููุณ ุงูููุช ูุนููู ููุงุฑุงุช ุจุฑูุฌุฉ ุฑุคูุฉ ุงูููุจููุชุฑ ุงููููุฉ ุงูุชู ุชููู ูููุฏุฉ ูู ุงูุนุงูู ุงูุญูููู. <br><br><h1 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูููุงุช GIF ุจุงุณุชุฎุฏุงู OpenCV </h1><br>  ูู ุงูุฌุฒุก ุงูุฃูู ูู ุงูุฏููู ุ ุณููุงูุด ุงูุดุฑูุท ูุงูุชุจุนูุงุช ุงููุงุฒูุฉ ููุฐุง ุงููุดุฑูุน ุ ุจูุง ูู ุฐูู ุงูุชูููู ุงูููุงุณุจ ูุจูุฆุฉ ุงูุชุทููุฑ. <br><br>  ุซู ุถุน ูู ุงุนุชุจุงุฑู ุจููุฉ ุงููุดุฑูุน / ุงููุชุงููุฌ ููููุฏ GIF OpenCV. <br><br>  ุจูุฌุฑุฏ ุฃู ูููู ุจููุฉ ุงููุดุฑูุน ุ ุณููุธุฑ ูู: 1) ููู ุงูุชูููู ุงูุฎุงุต ุจูุง ุ  2) ูุต Python ุงููุตู ุงููุณุคูู ุนู ุฅูุดุงุก ูููุงุช GIF ุจุงุณุชุฎุฏุงู OpenCV. <br><br>  ุฃุฎูุฑูุง ุ ุณูููู ูุชุงุฆุฌ ุงูุจุฑูุงูุฌ ุนูู ุงูููู ุงูุดุนุจู "ุงูุชุนุงูู ูุนูุง". <br><br><h4 style=";text-align:right;direction:rtl">  ุงููุชุทูุจุงุช ูุงูุชุจุนูุงุช </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/ad6/c3e/193/ad6c3e193373bc04c877e60070d73071.png"><br>  <b>ุงูุชูู.</b>  <b>1. ุณูู ูุณุชุฎุฏู OpenCV ู dlib ู ImageMagick ูุฅูุดุงุก ูููุงุช GIF</b> <br><br><h3 style=";text-align:right;direction:rtl">  Opencv ู dlib </h3><br>  ููุฒู ูุฌูุฏ OpenCV ูุชุญุฏูุฏ ุงููุฌูู ูู ุงูุฅุทุงุฑ ููุนุงูุฌุฉ ุงูุตูุฑ ุงูุฃุณุงุณูุฉ.  ุงุชุจุน ุฃุญุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุฏูุฉ ุชุซุจูุช OpenCV ุฅุฐุง</a> ูู ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">OpenCV</a> ูุซุจุชูุง ุนูู ุงููุธุงู. <br><br>  ูุณุชุฎุฏู Dlib ูููุดู ุนู ูุนุงูู ุงููุฌู ุ ููุง ูุณูุญ ููุง ุจุฅูุฌุงุฏ ุนูููู ุนูู ุงููุฌู ููุถุน ูุธุงุฑุฉ ุดูุณูุฉ ููู.  ููููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุซุจูุช dlib ุจุงุณุชุฎุฏุงู ูุฐู ุงูุชุนูููุงุช</a> . <br><br><h4 style=";text-align:right;direction:rtl">  Imagemagick </h4><br>  ุฅุฐุง ูู ุชูู ุนูู ุฏุฑุงูุฉ ุจู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ImageMagick</a> ุ ููู ุฏูู ุฌุฏูู.  ุฅููุง ุฃุฏุงุฉ ุณุทุฑ ุฃูุงูุฑ ุนุจุฑ ุงููุธุงู ุงูุฃุณุงุณู ูุน ุงูุนุฏูุฏ ูู ููุฒุงุช ูุนุงูุฌุฉ ุงูุตูุฑ. <br><br>  ูู ุชุฑูุฏ ุชุญููู PNG / JPG ุฅูู PDF ุจุงุณุชุฎุฏุงู ุฃูุฑ ูุงุญุฏุ  ูุง ูุดููุฉ. <br><br>  ููุงู ุงูุนุฏูุฏ ูู ุงูุตูุฑ ุงูุชู ุชุญุชุงุฌ ูููุง ูุฅูุดุงุก ููู PDF ูุชุนุฏุฏ ุงูุตูุญุงุชุ  ุจุณูููุฉ. <br><br>  ูู ุชุญุชุงุฌ ุฅูู ุฑุณู ุงููุถูุนุงุช ูุงูุฎุทูุท ูุงูุฃุดูุงู ุงูุฃุฎุฑูุ  ููุฐุง ูููู. <br><br>  ูุงุฐุง ุนู ุชุตููู ุงูุฏูุนุฉ ุฃู ุชุบููุฑ ุญุฌู ุฌููุน ุงูุตูุฑ ุจุฃูุฑ ูุงุญุฏุ  ููููุงู ุจุฐูู ุ ูุง ุชุญุชุงุฌ ุฅูู ูุชุงุจุฉ ุจุถุนุฉ ุฃุณุทุฑ ูู Python ูู OpenCV. <br><br>  ูููุฏ ImageMagick ุฃูุถูุง ูููุงุช GIF ูู ุฃู ุตูุฑุฉ. <br><br>  ูุชุซุจูุช ImageMagick ุนูู Ubuntu (ุฃู Raspbian) ุ ุงุณุชุฎุฏู apt: <br><br>  ุฅูุดุงุก ูููุงุช GIF ุจุงุณุชุฎุฏุงู OpenCVShell <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">$ sudo apt-get install imagemagick</code> </pre> <br>  ุนูู ูุธุงู macOS ุ ููููู ุงุณุชุฎุฏุงู HomeBrew: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ brew install imagemagick</code> </pre> <br><h4 style=";text-align:right;direction:rtl">  ุฅูููุชููุฒ </h4><br>  ูู ูุนุธู ุงูููุงูุงุช ูุงูุฏูุฑุงุช ูุงููุชุจ ุ ุฃุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุฒูุฉ</a> ูุนุงูุฌุฉ ุงูุตูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">imutils ุงูููุงุณุจุฉ</a> .  ูุชู ุชุซุจูุชู ุนูู ูุธุงู ุฃู ุจูุฆุฉ ุงูุชุฑุงุถูุฉ ุจุงุณุชุฎุฏุงู ุงูููุทุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ pip install imutils</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ูููู ุงููุดุฑูุน </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e42/281/af0/e42281af07fb94c9ae60a526098f662d.png"><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">2. ูุชุถูู ูููู ุงููุดุฑูุน ุฏููููู ุ ููู ุชูููู ู ุณูุฑุจุช Python</font></i> <br><br>  ููุฌุฏ ูุชุงููุฌุงู ูู ูุดุฑูุนูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>images/</code> : ุฃูุซูุฉ ุนูู ุงูุตูุฑ ุงููุฏุฎูุฉ ุงูุชู ูุฑุบุจ ูู ุฅูุดุงุก ุตูุฑุฉ GIF ูุชุญุฑูุฉ ููุง.  ููุฏ ูุฌุฏุช ุจุนุถ ุงูุตูุฑ ูุนู ุ ูููู ูุง ุชุชุฑุฏุฏ ูู ุฅุถุงูุฉ ุตูุฑู ุงูุฎุงุตุฉ. </li><li style=";text-align:right;direction:rtl">  <code>assets/</code> : ูุญุชูู ูุฐุง ุงููุฌูุฏ ุนูู ูุงุดู ุงููุฌู ุ ููุดู ูุนุงูู ุงููุฌู ูุฌููุน ุงูุตูุฑ + ุงูุฃููุนุฉ ุฐุงุช ุงูุตูุฉ.  ุจุงุณุชุฎุฏุงู ูุฐู ุงูุฃุตูู ุ ุณูุถุน ููุงุทูุง ููุตูุง ุนูู ุงูุตูุฑ ุงูุฃุตููุฉ ูู ุงููุฌูุฏ ุงูุฃูู. </li></ul><br>  ูุธุฑูุง ููุนุฏุฏ ุงููุจูุฑ ูู ุงููุนููุงุช ุงููุงุจูุฉ ููุชููุฆุฉ ุ ูุฑุฑุช ุฅูุดุงุก ููู ุชููุฆุฉ JSON ุ ูุงูุฐู: 1) ุณูุณูู ุชุญุฑูุฑ ุงููุนููุงุช ุ  2) ุณุชุญุชุงุฌ ุฅูู ุนุฏุฏ ุฃูู ูู ูุณูุทุงุช ุณุทุฑ ุงูุฃูุงูุฑ.  ุชุฑุฏ ุฌููุน ูุนููุงุช ุงูุชูููู ุงููุทููุจุฉ ููุฐุง ุงููุดุฑูุน ูู <code>config.json</code> . <br><br>  ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ูุญุชููุงุช <code>config.json</code> ู <code>create_gif.py</code> . <br><br><a name="1"></a>  <font color="gray">ููุงุญุธุฉ</font>  <font color="gray">Per: ูุชู ุฅุตุฏุงุฑ ุฑูุฒ ุงููุดุฑูุน ูุฏููู ูู 17 ุตูุญุฉ ุญูู ุฑุคูุฉ ุงูููุจููุชุฑ ูุงูุชุนูู ุงูุขูู ู OpenCV <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุนุฏ ุงูุชุณุฌูู</a> (ูุฑุขุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดูุฑุฉ ุงููุตุฏุฑ</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏููู</a> ).</font> <br><br><h2 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูููุงุช GIF ุจุงุณุชุฎุฏุงู OpenCV </h2><br>  ูุฐุง ุ ุฏุนูุง ููุงุตู ููุจุฏุฃ ูู ุฅูุดุงุก ูููุฏ OpenCV GIF! <br><br><h4 style=";text-align:right;direction:rtl">  ูุญุชูู ููู ุชูููู JSON </h4><br>  ููุจุฏุฃ ุจููู ุชููุฆุฉ JSON ุ ุซู ููุชูู ุฅูู ูุต Python ุงููุตู. <br><br>  ุงูุชุญ ููู <code>config.json</code> ุฌุฏูุฏ ูุฃุฏุฎู ุฃุฒูุงุฌ ุงูููุชุงุญ / ุงููููุฉ ุงูุชุงููุฉ: <br><br>  ุฅูุดุงุก ูููุงุช GIF ุจุงุณุชุฎุฏุงู OpenCVPython <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">"face_detector_prototxt"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/deploy.prototxt"</span></span>, <span class="hljs-string"><span class="hljs-string">"face_detector_weights"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/res10_300x300_ssd_iter_140000.caffemodel"</span></span>, <span class="hljs-string"><span class="hljs-string">"landmark_predictor"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/shape_predictor_68_face_landmarks.dat"</span></span>,</code> </pre> <br>  ูุฐู ูููุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">OpenCV</a> ููููุฐุฌ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุดู ุงููุฌู ูู ุงูุชุนูู ุงูุนููู</a> . <br><br>  ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู ุงููุณุงุฑ ุฅูู ูุชูุจุฆ ูุฌู dlib. <br><br>  ูุงูุขู ูุฏููุง ุจุนุถ ุงููุณุงุฑุงุช ุฅูู ูููุงุช ุงูุตูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"sunglasses"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/sunglasses.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"sunglasses_mask"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/sunglasses_mask.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"deal_with_it"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/deal_with_it.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"deal_with_it_mask"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/deal_with_it_mask.png"</span></span>,</code> </pre> <br>  ูุฐู ูู ุงููุณุงุฑุงุช ููุธุงุฑุงุชูุง ุงูุดูุณูุฉ ุ ูุงููุต ุ ูุงูุฃููุนุฉ ุงููุทุงุจูุฉ ููุง ุ ููู ููุถุญุฉ ุฃุฏูุงู. <br><br>  ุฃููุงู ุ ุงููุธุงุฑุงุช ุงูุดูุณูุฉ ุงููุงุฎุฑุฉ ูุงูููุงุน: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c18/c4c/647/c18c4c6471e203aedea66a80c9080192.png"></div><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">3. ุฃูุช ูุง ุชุญุจ ุงููุธุงุฑุงุช ุฐุงุช ุงูุจูุณูุ</font></i>  <i><font color="gray">ููุท ุชุญูู ูุนูุง</font></i> <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/58b/91a/d9c/58b91ad9c2e66238b3f3ac22fe1ee439.png"></div><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">4. ุฃูุช ูุง ุชููู ููุงุฐุง ุชุญุชุงุฌ ุฅูู ููุงุน ูููุธุงุฑุงุช ุงูุดูุณูุฉุ</font></i>  <i><font color="gray">ููุท ุทุฑุญูุง - ุฃู ุงูุฑุฃ ุจููุฉ ุงูููุงู ููุฅุฌุงุจุฉ.</font></i> <br><br>  ูุงูุขู ูุตูุง ูู "ุงูุชุนุงูู ูุนูุง" ูุงูููุงุน: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ec3/4e4/923/ec34e4923e2d05a5b33c065de8f5af66.png"></div><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">5. ูู ุชูุฑู Helvetica Neue ุงูููุซูุ</font></i>  <i><font color="gray">ุชุนุงูู ูุนูุง</font></i> <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c6c/f70/819/c6cf708198bda68d849029b3ded02265.png"></div><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">6: ูุณูุญ ูู ูุฐุง ุงูููุงุน ุจุฑุณู ุญุฏ ุญูู ุงููุต.</font></i>  <i><font color="gray">ุฃูู ุ ุฑุจูุง ูุง ุชุฑูุฏ ุฃูุง ุชุฑูุฏ ุงูุญุฏูุฏุ</font></i>  <i><font color="gray">ุญุณูุง ุ ุชุญูู ุฐูู</font></i> <br><br>  ููุงู ุญุงุฌุฉ ุฅูู ุฃููุนุฉ ูู ุฃุฌู ุชุฑุงูุจ ุงูุตูุฑุฉ ุงูููุงุจูุฉ ุนูู ุงูุตูุฑุฉ: ุณูุชุนุงูู ูุน ูุฐุง ูุงุญููุง. <br><br>  ุงูุขู ูู ุจุชุนููู ุจุนุถ ุงููุนููุงุช ููููุฏ ูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-string"><span class="hljs-string">"min_confidence"</span></span>: <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-string"><span class="hljs-string">"steps"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"delay"</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"final_delay"</span></span>: <span class="hljs-number"><span class="hljs-number">250</span></span>, <span class="hljs-string"><span class="hljs-string">"loop"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"temp_dir"</span></span>: <span class="hljs-string"><span class="hljs-string">"temp"</span></span> }</code> </pre> <br>  ูููุง ููู ุชุนุฑููุงุช ููู ูู ุงููุนููุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>min_confidence</code> : ุงูุญุฏ ุงูุฃุฏูู ูู ุงุญุชูุงู ุงููุดู ุนู ุงููุฌู ุงููุทููุจ. </li><li style=";text-align:right;direction:rtl">  <code>steps</code> : ุนุฏุฏ ุงูุฅุทุงุฑุงุช ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูููุงุฆูุฉ.  ูู "ุฎุทูุฉ" ุชุญุฑู ุงููุธุงุฑุงุช ุงูุดูุณูุฉ ูู ุงูุญุฏ ุงูุนููู ุฅูู ุงููุฏู (ุฃู ุฅูู ุงูุนูููู). </li><li style=";text-align:right;direction:rtl">  <code>delay</code> : ุชุฃุฎูุฑ ุจูู ุงูุฅุทุงุฑุงุช ูู ุฃุฌุฒุงุก ูู ุงูุซุงููุฉ. </li><li style=";text-align:right;direction:rtl">  <code>final_delay</code> : ุชุฃุฎูุฑ ุงูุฅุทุงุฑ ุงูุฃุฎูุฑ <code>final_delay</code> ุฃุฌุฒุงุก ุงูุซุงููุฉ (ูููุฏ ูู ูุฐุง ุงูุณูุงู ุ ูุฃููุง ูุฑูุฏ ุฃู ูุนุฑุถ ุงููุต ููุชุฑุฉ ุฃุทูู ูู ุจููุฉ ุงูุฅุทุงุฑุงุช). </li><li style=";text-align:right;direction:rtl">  <code>loop</code> : ุชุดูุฑ ุงููููุฉ ุงูุตูุฑูุฉ ุฅูู ุฃู ุตูุฑุฉ GIF ุชุชูุฑุฑ ุฅูู ุงูุฃุจุฏ ุ ูุฅูุง ุญุฏุฏ ุนุฏุฏูุง ุตุญูุญูุง ููุฌุจูุง ูุนุฏุฏ ูุฑุงุช ุชูุฑุงุฑ ุงูุฑุณู ุงููุชุญุฑู. </li><li style=";text-align:right;direction:rtl">  <code>temp_dir</code> : ุงูุฏููู ุงููุคูุช ุงูุฐู ุณูุชู ุชุฎุฒูู ูู ุฅุทุงุฑ ููู ูุจู ุฅูุดุงุก ููู GIF ุงูููุงุฆู. </li></ul><br><h4 style=";text-align:right;direction:rtl">  ุงููููุงุช ููููุงุช GIF ู OpenCV </h4><br>  ููุฏ ุฃูุดุฃูุง ููู ุชููุฆุฉ JSON ุ ููููุชูู ุงูุขู ุฅูู ุงูููุฏ ุงูุญูููู. <br><br>  ุงูุชุญ ููููุง ุฌุฏูุฏูุง ุ ูุงุณูู <code>create_gif.py</code> ูุงูุตู ุงูุฑูุฒ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    from imutils import face_utils from imutils import paths import numpy as np import argparse import imutils import shutil import json import dlib import cv2 import sys import os</span></span></code> </pre> <br>  ููุง ูุณุชูุฑุฏ ุงูุญุฒู ุงููุงุฒูุฉ.  ุนูู ูุฌู ุงูุฎุตูุต ุ ุณูู ูุณุชุฎุฏู imutils ู dlib ู OpenCV.  ูุชุซุจูุช ูุฐู ุงูุชุจุนูุงุช ุ ุฑุงุฌุน ูุณู ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ ูุงูุชุจุนูุงุช ุฃุนูุงู. <br><br>  ูุญุชูู ุงููุต ุงูุจุฑูุฌู ุงูุขู ุนูู ุงูุญุฒู ุงููุงุฒูุฉ ุ ูุฐูู <code>overlay_image</code> ูุญุฏุฏ ูุธููุฉ <code>overlay_image</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">overlay_image</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bg, fg, fgMask, coords)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#     (, )  #    (sH, sW) = fg.shape[:2] (x, y) = coords #          #  ,   , **  # ,    overlay = np.zeros(bg.shape, dtype="uint8") overlay[y:y + sH, x:x + sW] = fg # - , **  ** # ,    ,    # ,       alpha = np.zeros(bg.shape[:2], dtype="uint8") alpha[y:y + sH, x:x + sW] = fgMask alpha = np.dstack([alpha] * 3) #  -   , #   - output = alpha_blend(overlay, bg, alpha) #   return output</span></span></code> </pre> <br>  ุชูุฑุถ ุฏุงูุฉ <code>overlay_image</code> ููุฏูุฉ ( <code>fg</code> ) ูู ุงูุฌุฒุก ุงูุนููู ูู ุตูุฑุฉ ุงูุฎูููุฉ ( <code>bg</code> ) ุนูุฏ ุฅุญุฏุงุซูุงุช <code>coords</code> <i>(</i> ุฅุญุฏุงุซูุงุช <i>(xุ y)</i> ) ุ ููุง ูุญูู ุดูุงููุฉ ุฃููุง ููู ููุงุน ุงูููุงุน ุงูุฃูุงูู <code>fgMask</code> . <br><br>  ูุชุชุนุฑู ุนูู ุฃุณุงุณูุงุช OpenCV ุ ูุซู ุงูุนูู ูุน ุงูุฃููุนุฉ ุ ุชุฃูุฏ ูู ูุฑุงุกุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูุฏููู</a> . <br><br>  ูุฅููุงู ุนูููุฉ ุงููุฒุฌ ุ ูู ุจูุฒุฌ ุฃููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">alpha_blend</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fg, bg, alpha)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#  ,    - #        [0, 1] fg = fg.astype("float") bg = bg.astype("float") alpha = alpha.astype("float") / 255 #  - fg = cv2.multiply(alpha, fg) bg = cv2.multiply(1 - alpha, bg) #     ,    output = cv2.add(fg, bg) #   return output.astype("uint8")</span></span></code> </pre> <br>  ุชุทุจูู ูุฒุฌ ุฃููุง ูุฐุง ูุชุงุญ ุฃูุถูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู ูุฏููุฉ LearnOpenCV</a> . <br><br>  ูู ุงูุฌููุฑ ุ ุณูุญูู ููุงุฉ ุงูููุฏูุฉ ูุงูุฎูููุฉ ูุฃููุง ุฅูู ุฃุฑูุงู ุงูููุทุฉ ุงูุนุงุฆูุฉ ูู ุงููุทุงู <i>[0 ุ 1]</i> .  ุซู ูููู ุจุฅุฌุฑุงุก ูุฒุฌ ุฃููุง ุ ูุฅุถุงูุฉ ุงูููุฏูุฉ ูุงูุฎูููุฉ ููุญุตูู ุนูู ุงููุชูุฌุฉ ุงูุชู ูุนูุฏ ุฅูููุง ููุธููุฉ ุงูุงุณุชุฏุนุงุก. <br><br>  ุณููุดุฆ ุฃูุถูุง ูุธููุฉ ูุณุงุนุฏ ุชุณูุญ ุจุฅูุดุงุก ูููุงุช GIF ูู ูุฌููุนุฉ ูู ูุณุงุฑุงุช ุงูุตูุฑ ุจุงุณุชุฎุฏุงู ImageMagick ูุงูุฃูุฑ <code>convert</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_gif</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inputPath, outputPath, delay, finalDelay, loop)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#        imagePaths = sorted(list(paths.list_images(inputPath))) #      lastPath = imagePaths[-1] imagePaths = imagePaths[:-1] #   imagemagick 'convert'  #  GIF      #   ( ) cmd = "convert -delay {} {} -delay {} {} -loop {} {}".format( delay, " ".join(imagePaths), finalDelay, lastPath, loop, outputPath) os.system(cmd)</span></span></code> </pre> <br>  ุชุฃุฎุฐ ูุธููุฉ <code>create_gif</code> ูุฌููุนุฉ ูู ุงูุตูุฑ ูุชุฌูุนูุง ูู ุตูุฑ ูุชุญุฑูุฉ GIF ุจุชุฃุฎูุฑ ูุญุฏุฏ ุจูู ุงูุฅุทุงุฑุงุช ูุงูุญููุงุช.  ImageMagick ูุนุงูุฌ ูู ูุฐุง - ูุญู ุจุจุณุงุทุฉ ููู ุงูุฃูุฑ <code>convert</code> ูู ุฏุงูุฉ ุชุนุงูุฌ ุฏููุงูููููุง ูุนููุงุช ูุฎุชููุฉ. <br><br>  ููุดุงูุฏุฉ ูุณูุทุงุช <code>convert</code> ุงููุชุงุญุฉ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุงุฌุน ุงููุซุงุฆู</a> .  ููุงู ุณุชุฑู ุนุฏุฏ ุงููุธุงุฆู ุงูุชู ููุชูููุง ูุฐุง ุงููุฑูู! <br><br>  ุนูู ูุฌู ุงูุชุญุฏูุฏ ูู ูุฐู ุงููุธููุฉ ุ ูููู ุจูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชูุงุท <code>imagePaths</code> . </li><li style=";text-align:right;direction:rtl">  ุงุฎุชุฑ ูุณุงุฑ ุงูุตูุฑุฉ ุงูุฃุฎูุฑุฉ ุ ุงูุชู ุณูููู ููุง ุชุฃุฎูุฑ ูููุตู. </li><li style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ <code>imagePaths</code> ูุงุณุชุจุนุงุฏ ุงููุณุงุฑ ุงูุฃุฎูุฑ. </li><li style=";text-align:right;direction:rtl">  ูููู ุจุชุฌููุน ุฃูุฑ ุจุงุณุชุฎุฏุงู ูุณูุทุงุช ุณุทุฑ ุงูุฃูุงูุฑ ุ ุซู ููุฌู ูุธุงู ุงูุชุดุบูู <code>convert</code> ูุฅูุดุงุก ุฑุณูู ูุชุญุฑูุฉ GIF. </li></ul><br>  ุชุนููู ุงูุจุฑูุงูุฌ ุงููุตู ุงูุญุฌุฌ ุงูุฎุงุตุฉ ุจู ุณุทุฑ ุงูุฃูุงูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#      ap = argparse.ArgumentParser() ap.add_argument("-c", "--config", required=True, help="path to configuration file") ap.add_argument("-i", "--image", required=True, help="path to input image") ap.add_argument("-o", "--output", required=True, help="path to output GIF") args = vars(ap.parse_args())</span></span></code> </pre> <br>  ูุฏููุง ุซูุงุซ ูุณูุทุงุช ุณุทุฑ ุฃูุงูุฑ ุชุชู ูุนุงูุฌุชูุง ูู ููุช ุงูุชุดุบูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>--config</code> : ุงููุณุงุฑ ุฅูู ููู ุชููุฆุฉ JSON.  ุฑุงุฌุนูุง ููู ุงูุชูููู ูู ุงููุณู ุงูุณุงุจู. </li><li style=";text-align:right;direction:rtl">  <code>--image</code> : ูุณุงุฑ ููุตูุฑุฉ ุงููุฏุฎูุฉ ุงูุชู ูุชู ุฅูุดุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ุนูููุง (ุฃู ุงูุชุดุงู ูุฌู ุ ูุฅุถุงูุฉ ูุธุงุฑุงุช ุดูุณูุฉ ุ ุซู ุงููุต). </li><li style=";text-align:right;direction:rtl">  <code>--output</code> : ุงููุณุงุฑ ุฅูู GIF ุงููุงุชุฌ. </li></ul><br>  ูู ูู ูุฐู ุงููุณูุทุงุช ูุทููุจุฉ ุนูุฏ ุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู ุนูู ุณุทุฑ ุงูุฃูุงูุฑ / ุงููุญุทุฉ ุงูุทุฑููุฉ. <br><br>  ูู ุจุชูุฒูู ููู ุงูุชูููู ุ ููุฐูู ุงููุธุงุฑุงุช ูุงูููุงุน ุงูููุงุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    JSON, #     config = json.loads(open(args["config"]).read()) sg = cv2.imread(config["sunglasses"]) sgMask = cv2.imread(config["sunglasses_mask"]) #    (  ),   #  ,  ,     #   GIF- shutil.rmtree(config["temp_dir"], ignore_errors=True) os.makedirs(config["temp_dir"])</span></span></code> </pre> <br>  ูููู ููุง ุจุชุญููู ููู ุงูุชูููู (ุงูุฐู ูุฏ ูููู ูุชุงุญูุง ูู ุงููุณุชูุจู ููุงููุณ Python).  ุซู ูู ุจุชุญููู ุงููุธุงุฑุงุช ุงูุดูุณูุฉ ูุงูููุงุน. <br><br>  ุฅุฐุง ุจูู ุดูุก ูู ุงูุจุฑูุงูุฌ ุงููุตู ุงูุณุงุจู ุ ูุงุญุฐู ุงูุฏููู ุงููุคูุช ุ ุซู ุฃุนุฏ ุฅูุดุงุก ุงูุฏููู ุงููุคูุช ุงููุงุฑุบ.  ุณูุญุชูู ุงููุฌูุฏ ุงููุคูุช ุนูู ูู ุฅุทุงุฑ ูุฑุฏู ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุชูุณูู GIF. <br><br>  ุงูุขู ูู ุจุชุญููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุดู ุงููุฌู ุฐู ุงูุชุนูู ุงูุนููู OpenCV</a> ูู ุงูุฐุงูุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># load our OpenCV face detector and dlib facial landmark predictor print("[INFO] loading models...") detector = cv2.dnn.readNetFromCaffe(config["face_detector_prototxt"], config["face_detector_weights"]) predictor = dlib.shape_predictor(config["landmark_predictor"])</span></span></code> </pre> <br>  ููููุงู ุจุฐูู ุ ุงุชุตู ุจู <code>cv2.dnn.readNetFromCaffe</code> .  ูุญุฏุฉ <code>dnn</code> ูุชุงุญุฉ ููุท ูู OpenCV 3.3 ุฃู ุฃุญุฏุซ.  ููุชุดู ูุงุดู ุงููุฌู ูุฌูุฏ ุงููุฌูู ูู ุงูุตูุฑุฉ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a91/d3a/0cd/a91d3a0cde3dcb3cac9799c823e47c8c.jpg"><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">7. ุชุดุบูู ูุงุดู ุงููุฌู ุจุงุณุชุฎุฏุงู OpenCV DNN</font></i> <br><br>  ุซู ูู ุจุชุญููู ูุคุดุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชููุน ูุฌู dlib</a> .  ุณูุณูุญ ูู ุจุชูุทูู ุงูููุงูู ุงููุฑุฏูุฉ: ุงูุนููู ูุงูุญุงุฌุจูู ูุงูุฃูู ูุงููู ูุฎุท ุงูุฐูู: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/056/816/890/0568168909b7f01d2f70f6e58faa9ed9.jpg"><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">8. ุฅู ุงููุนุงูู ุงูููุชุดูุฉ ุจูุงุณุทุฉ dlib ูุชุฑุงูุจุฉ ุนูู ูุฌูู</font></i> <br><br>  ูุงุญููุง ูู ูุฐุง ุงููุต ุ ูุณุชุฎุฑุฌ ููุท ููุทูุฉ ุงูุนูู. <br><br>  ุจุงูุงูุชูุงู ุ ุฏุนูุง ูุฌุฏ ุงููุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#       image = cv2.imread(args["image"]) (H, W) = image.shape[:2] blob = cv2.dnn.blobFromImage(cv2.resize(image, (300, 300)), 1.0, (300, 300), (104.0, 177.0, 123.0)) #        print("[INFO] computing object detections...") detector.setInput(blob) detections = detector.forward() #       ,  #  ,      i = np.argmax(detections[0, 0, :, 2]) confidence = detections[0, 0, i, 2] #    if confidence &lt; config["min_confidence"]: print("[INFO] no reliable faces found") sys.exit(0)</span></span></code> </pre> <br>  ูู ูุฐู ุงููุชูุฉ ูููู ุจูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชูุฒูู <code>image</code> ุงูุฃุตููุฉ. </li><li style=";text-align:right;direction:rtl">  ูููู ุจุจูุงุก <code>blob</code> ูุฅุฑุณุงููุง ุฅูู ูุงุดู ุงููุฌู ููุดุจูุฉ ุงูุนุตุจูุฉ.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุถุญ ูุฐู ุงูููุงูุฉ</a> ููููุฉ ุนูู <code>blobFromImage</code> ูู OpenCV. </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅุฌุฑุงุก ูุดู ุงููุฌู. </li><li style=";text-align:right;direction:rtl">  ูุฌุฏ ุงูุดุฎุต ุฐู ุงููููุฉ ุงูุงุญุชูุงููุฉ ุงูุฃุนูู ูููุงุฑูู ุจุงูุญุฏ ุงูุฃุฏูู ุงูุงุญุชูุงูู ุงูููุจูู.  ุฅุฐุง ูู ูุชู ุงุณุชููุงุก ุงููุนุงููุฑ ุ ููุท ูู ุจุฅููุงุก ุงูุจุฑูุงูุฌ ุงููุตู.  ุฎูุงู ุฐูู ุ ุชุงุจุน. </li></ul><br>  ุงูุขู ุณูููู ุจุงุณุชุฎุฑุงุฌ ุงููุฌู ูุญุณุงุจ ุงููุนุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#   (x, y)  #    box = detections[0, 0, i, 3:7] * np.array([W, H, W, H]) (startX, startY, endX, endY) = box.astype("int") #    dlib    #       rect = dlib.rectangle(int(startX), int(startY), int(endX), int(endY)) shape = predictor(image, rect) shape = face_utils.shape_to_np(shape) #        ,  #     (lStart, lEnd) = face_utils.FACIAL_LANDMARKS_IDXS["left_eye"] (rStart, rEnd) = face_utils.FACIAL_LANDMARKS_IDXS["right_eye"] leftEyePts = shape[lStart:lEnd] rightEyePts = shape[rStart:rEnd]</span></span></code> </pre> <br>  ูุงุณุชุฎุฑุงุฌ ุงููุฌู ูุงูุนุซูุฑ ุนูู ูุนุงูู ุงููุฌู ุ ูููู ุจูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณุชุฎุฑุฌ ุฅุญุฏุงุซูุงุช ุงูุตูุฏูู ุงููุญูุท ุญูู ุงููุฌู. </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุงุฆู <code>rectangle</code> ูู dlib ูุชุทุจูู ุชุนุฑูุจ ุงููุฌู. </li><li style=";text-align:right;direction:rtl">  ูููู ุจุงุณุชุฑุฌุงุน ุฅุญุฏุงุซูุงุช <i>(xุ y)</i> ูู <code>leftEyePts</code> ู <code>rightEyePts</code> ุ ุนูู ุงูุชูุงูู. </li></ul><br>  ุจุงููุธุฑ ุฅูู ุฅุญุฏุงุซูุงุช ุงูุนูู ุ ููููู ุญุณุงุจ ููุงู ูููููุฉ ูุถุน ุงููุธุงุฑุงุช ุงูุดูุณูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#       leftEyeCenter = leftEyePts.mean(axis=0).astype("int") rightEyeCenter = rightEyePts.mean(axis=0).astype("int") #      dY = rightEyeCenter[1] - leftEyeCenter[1] dX = rightEyeCenter[0] - leftEyeCenter[0] angle = np.degrees(np.arctan2(dY, dX)) - 180 #      ,  #      sg = imutils.rotate_bound(sg, angle) #     **  ,    #   โ       # 90%       sgW = int((endX - startX) * 0.9) sg = imutils.resize(sg, width=sgW) #      ( ,   #  ),      #     - โ   #       , #     sgMask = cv2.cvtColor(sgMask, cv2.COLOR_BGR2GRAY) sgMask = cv2.threshold(sgMask, 0, 255, cv2.THRESH_BINARY)[1] sgMask = imutils.rotate_bound(sgMask, angle) sgMask = imutils.resize(sgMask, width=sgW, inter=cv2.INTER_NEAREST)</span></span></code> </pre> <br>  ุฃููุงู ุ ูุญุณุจ ูุฑูุฒ ูู ุนูู ุ ุซู ุงูุฒุงููุฉ ุจูู ุงูููุทุชูู ุงููุณุทู.  ูุชู ุชูููุฐ ููุณ ุงูุนูููุฉ ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุญุงุฐุงุฉ</a> ุงูุฃูููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฌู ูู ุงูุฅุทุงุฑ</a> . <br><br>  ุงูุขู ููููู ุชุฏููุฑ ูุชุบููุฑ ุญุฌู ุงููุธุงุฑุงุช.  ูุงุญุธ ุฃููุง ูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุธููุฉ rotate_bound</a> ุ ูููุณ ููุท <code>rotate</code> ุ ุจุญูุซ ูุง ูููู OpenCV <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจูุต</a> ุงูุฃุฌุฒุงุก ุบูุฑ ุงููุฑุฆูุฉ ุจุนุฏ ุงูุชุญููู ุงูุชุงุจุน. <br><br>  ููุณ ุงูุนูููุงุช ุงูุชู ุชู ุชุทุจูููุง ุนูู ุงููุธุงุฑุงุช ุ ุชูุทุจู ุนูู ุงูููุงุน.  ููู ุนููู ุฃููุงู ุชุญูููู ุฅูู ุธูุงู ุฑูุงุฏูุฉ ูุซูุงุฆูุฉ ุ ูุฃู ุงูุฃููุนุฉ ุซูุงุฆูุฉ ุฏุงุฆููุง.  ุซู ูููู ุจุชุฏููุฑ ุงูููุงุน ูุชุบููุฑ ุญุฌูู ุจููุณ ุงูุทุฑููุฉ ุงูุชู ูููุง ุจูุง ูุน ุงููุธุงุฑุงุช. <br><br>  <i><b>ููุงุญุธุฉ:</b> ูุงุญุธ ุฃูู ุนูุฏ ุชุบููุฑ ุญุฌู ุงูููุงุน ุ ูุณุชุฎุฏู ุงูุงุณุชููุงุก ูุฃูุฑุจ ุงูููุงุท ุงููุฌุงูุฑุฉ ุ ูุฃู ุงูููุงุน ูุฌุจ ุฃู ูุญุชูู ุนูู ูููุชูู ููุท (0 ู 255).</i>  <i>ุทุฑู ุงูุงุณุชููุงุก ุงูุฃุฎุฑู ุฃูุซุฑ ุฌูุงููุฉ ุ ููููุง ููุณุช ููุงุณุจุฉ ููุฃููุนุฉ.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ููููู ุงูุญุตูู ุนูู ูุนูููุงุช ุฅุถุงููุฉ ุญูู ุงูุงุณุชููุงุก ูู ุฃูุฑุจ ุงูููุงุท ุงููุฌุงูุฑุฉ.</i> <br><br>  ุงููุชู ุงูุซูุงุซุฉ ุงููุชุจููุฉ ูู ุงูููุฏ ุชูุดุฆ ุฅุทุงุฑุงุช ููุตูุฑ ุงููุชุญุฑูุฉ GIF: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    ,   #  N       #    steps = np.linspace(0, rightEyeCenter[1], config["steps"], dtype="int") # start looping over the steps for (i, y) in enumerate(steps): #      #  ,    **    #  ,       #   shiftX = int(sg.shape[1] * 0.25) shiftY = int(sg.shape[0] * 0.35) y = max(0, y - shiftY) # add the sunglasses to the image output = overlay_image(image, sg, sgMask, (rightEyeCenter[0] - shiftX, y))</span></span></code> </pre> <br>  ุชูุน ุงููุธุงุฑุงุช ูู ุฃุนูู ุงูุตูุฑุฉ.  ุนูู ูู ุฅุทุงุฑ ุ ูุชู ุนุฑุถูุง ุจุงููุฑุจ ูู ุงููุฌู ุญุชู ุชุบุทู ุฃุนูููู.  ุจุงุณุชุฎุฏุงู ูุชุบูุฑ <code>"steps"</code> ูู ููู ุชูููู JSON ุ ูููู ุจุฅูุดุงุก ุฅุญุฏุงุซูุงุช ุต ููู ุฅุทุงุฑ.  ููููุงู ุจุฐูู ุ ุฏูู ุจุฐู ุงููุซูุฑ ูู ุงูุฌูุฏ ุ ูุณุชุฎุฏู ูุธููุฉ <code>linspace</code> ูู <code>linspace</code> . <br><br>  ูุฏ ุชุจุฏู ุงูุฎุทูุท ุฐุงุช ุงูุชุญูู ุงูุทููู ุฅูู ุงููุณุงุฑ ูุฃุนูู ุบุฑูุจุฉ ุจุนุถ ุงูุดูุก ุ ูููููุง ุถุฑูุฑูุฉ ููุชุฃูุฏ ูู ุฃู ุงููุธุงุฑุงุช ุชุบุทู ุงูุนูููู ููู ุ ููุง ุชูุชูู ููุท ุฅูู ุงูููุทุฉ ุงูุชู ููุฌุฏ ุจูุง ูุฑูุฒ ุงูุนูู.  ููุฏ ุญุฏุฏุช ุชุฌุฑูุจููุง ุงููุณุจ ุงููุฆููุฉ ูุญุณุงุจ ุงูุฅุฒุงุญุฉ ุนูู ุทูู ูู ูุญูุฑ.  ูุถูู ุงูุณุทุฑ ุงูุชุงูู ุนุฏู ูุฌูุฏ ููู ุณุงูุจุฉ. <br><br>  ุจุงุณุชุฎุฏุงู ุฏุงูุฉ <code>overlay_image</code> ุ <code>overlay_image</code> ุจุฅูุดุงุก ุฅุทุงุฑ <code>output</code> ุงูููุงุฆู. <br><br>  ุงูุขู ูู ุจุชุทุจูู ุงููุต "ุชุนุงูู ูุน ุฐูู" ุจุงุณุชุฎุฏุงู ููุงุน ุขุฎุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment">#    ,    #  "DEAL WITH IT"   if i == len(steps) - 1: #   "DEAL WITH IT"  , #   dwi = cv2.imread(config["deal_with_it"]) dwiMask = cv2.imread(config["deal_with_it_mask"]) dwiMask = cv2.cvtColor(dwiMask, cv2.COLOR_BGR2GRAY) dwiMask = cv2.threshold(dwiMask, 0, 255, cv2.THRESH_BINARY)[1] #       80%   #  oW = int(W * 0.8) dwi = imutils.resize(dwi, width=oW) dwiMask = imutils.resize(dwiMask, width=oW, inter=cv2.INTER_NEAREST) #  ,   ,  #   oX = int(W * 0.1) oY = int(H * 0.8) output = overlay_image(output, dwi, dwiMask, (oX, oY))</span></span></code> </pre> <br>  ูู ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ุ ููุฑุถ ุงููุต ุ ููู ูู ุงููุงูุน ุตูุฑุฉ ุฃุฎุฑู. <br><br>  ูุฑุฑุช ุงุณุชุฎุฏุงู ุตูุฑุฉ ูุฃู ุฅููุงูุงุช ุนุฑุถ ุฎุทูุท OpenCV ูุญุฏูุฏุฉ ููุบุงูุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุฃุฑุฏุช ุฅุถุงูุฉ ุธู ูุญุฏูุฏ ุญูู ุงููุต ุ ูุงูุฐู ูุง ูุนุฑู OpenCV ูุฑุฉ ุฃุฎุฑู ููู. <br><br>  ูู ุจุงูู ูุฐุง ุงูููุฏ ุ ูููู ุจุชุญููู ูู ูู ุงูุตูุฑุฉ ูุงูููุงุน ุ ุซู ูููู ุจุฅุฌุฑุงุก ูุฒุฌ ุฃููุง ูุชูููุฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ. <br><br>  ูุจูู ููุท ูุญูุธ ูู ุฅุทุงุฑ ุนูู ุงููุฑุต ูุน ุงูุฅูุดุงุก ุงููุงุญู ูุตูุฑ GIF ุงููุชุญุฑูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment">#      p = os.path.sep.join([config["temp_dir"], "{}.jpg".format( str(i).zfill(8))]) cv2.imwrite(p, output) #      ,     #   GIF- print("[INFO] creating GIF...") create_gif(config["temp_dir"], args["output"], config["delay"], config["final_delay"], config["loop"]) #  --    print("[INFO] cleaning up...") shutil.rmtree(config["temp_dir"], ignore_errors=True)</span></span></code> </pre> <br>  ููุชุจ ุงููุชูุฌุฉ ุนูู ุงููุฑุต.  ุจุนุฏ ุฅูุดุงุก ุฌููุน ุงูุฅุทุงุฑุงุช ุ <code>create_gif</code> ูุธููุฉ <code>create_gif</code> ูุฅูุดุงุก ููู ุงูุฑุณูู ุงููุชุญุฑูุฉ GIF.  ุชุฐูุฑ ุฃู ูุฐู ูู ุงูุตุฏูุฉ ุงูุชู ุชูุฑุฑ ุงููุนููุงุช ุฅูู ุฃุฏุงุฉ <code>convert</code> ุณุทุฑ ุงูุฃูุงูุฑ ImageMagick. <br><br>  ุฃุฎูุฑูุง ุ ุงุญุฐู ุฏููู ุงูุฅุฎุฑุงุฌ ุงููุคูุช ููููุงุช ุงูุตูุฑ ุงููุฑุฏูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h2><br>  ุงูุขู ุงูุฌุฒุก ุงูููุชุน: ุฏุนูุง ูุฑู ูุง ุฃูุดุฃู ูููุฏ ุงููููุงุช ุงูุฎุงุต ุจูุง! <br><br>  ุชุฃูุฏ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุฒูู</a> ุดูุฑุฉ ุงููุตุฏุฑ ูููุงุฐุฌ ุงูุตูุฑ ูููุงุฐุฌ ุงูุชุนูู ุงูุนููู.  ุซู ุงูุชุญ ูุงูุฐุฉ ุทุฑููุฉ ููู ุจุชุดุบูู ุงูุฃูุฑ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ python create_gif.py --config config.json --image images/adrian.jpg \ --output adrian_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/dca/b24/46e/dcab2446ec5dc96065e37a473375eea6.gif"><br>  <i><font color="gray">ุดูู 9. ุฑุณูู ูุชุญุฑูุฉ ุจุชูุณูู GIF ุชู ุฅูุดุงุคูุง ุจุงุณุชุฎุฏุงู OpenCV ู ImageMagick ุจุงุณุชุฎุฏุงู ูุต Python ุงููุตู ูุฐุง</font></i> <br><br>  ููุง ููููู ูุดุงูุฏุฉ ููู GIF ุงูุฐู ุชู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู OpenCV ู ImageMagick.  ูุชู ุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุงูุชุงููุฉ ุนููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุดู ุงูุตุญูุญ ุนู ูุฌูู. </li><li style=";text-align:right;direction:rtl">  ุชูุทูู ุงูุนููู ูุญุณุงุจ ูุฑุงูุฒูุง. </li><li style=";text-align:right;direction:rtl">  ุชูุน ุงููุธุงุฑุงุช ุจุดูู ุตุญูุญ ุนูู ุงููุฌู. </li></ol><br>  ูุนุฑู ูุฑุงุก ูุฏููุชู ุฃููู ูู ุงูููููุณูู ูู Jurassic Park ูุบุงูุจุงู ูุง ุฃุฐูุฑ ุฐูู ูู ูุชุจู ูุฏูุฑุงุชู ูุฃุฏูุฉ ุงูุฏุฑุงุณุฉ. <br><br>  ูุง ุชุญุจ <i>ุงูุญุฏููุฉ ุงูุฌูุฑุงุณูุฉ</i> ุ <br><br>  ุญุณููุง ุ ุฅููู ุฅุฌุงุจุชู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ python create_gif.py --config config.json --image images/adrian_jp.jpg \ --output adrian_jp_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/da9/0d7/740/da90d7740e8ac813b9f99a727b9e04bc.gif"><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">10. OpenCV GIF ููุฑุณูู ุงููุชุญุฑูุฉ ูุจูู ุนูู ุตูุฑุฉ ูู ุงูุนุฑุถ ุงูุฃุฎูุฑ ููุนุจุฉ Jurassic World 2</font></i> <br><br>  ุฃูุง ููุง ูู ุนุฑุถ "Jurassic World: 2" ูู ูููุต ููุถูุนู ุ ูุน ููุจ ูู ุงูุถูุก ููุชุงุจ ูุฌููุนุฉ. <br><br>  ูุตุฉ ููุชุนุฉ: <br><br>  ูุจู ุฎูุณ ุฃู ุณุช ุณููุงุช ุ ุฒุฑุช ุฃูุง ูุฒูุฌุชู ููุชุฒู Epcot Center ุงูุชุฑูููู ูู ุนุงูู ุฏูุฒูู ุจููุงูุฉ ูููุฑูุฏุง. <br><br>  ูุฑุฑูุง ุงูููุงู ุจุฑุญูุฉ ููุงุจุชุนุงุฏ ุนู ุงูุดุชุงุก ุงููุงุฑุณ ูู ููููุชููุช ุ ูุถูุก ุงูุดูุณ ุงูุฐู ุชูุณ ุงูุญุงุฌุฉ ุฅููู. <br><br>  ูุณูุก ุงูุญุธ ุ ูุงูุช ุงูุณูุงุก ุชูุทุฑ ุทูุงู ุงูููุช ูู ูููุฑูุฏุง ุ ููู ุชุชุฌุงูุฒ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุจุงููุงุฏ 10 ุฏุฑุฌุงุช ูุฆููุฉ. <br><br>  ุจุงููุฑุจ ูู ุงูุญุฏุงุฆู ุงูููุฏูุฉ ุ ุงูุชูุทุช ุชุฑูุดุง ุตูุฑุฉ ูู: ุชููู ุฅููู ุฃุจุฏู ูุซู ูุตุงุต ุฏูุงุก ุจุจุดุฑุฉ ุดุงุญุจุฉ ุ ููุงุจุณ ุฏุงููุฉ ูุบุทุงุก ุ ุนูู ุฎูููุฉ ุงูุญุฏุงุฆู ุงูููุฑูุฉ ูุฑุงุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ python create_gif.py --config config.json --image images/vampire.jpg \ --output vampire_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/ad1/1ce/ca2/ad11ceca2ed48792a5aa28c0c8dc7f40.gif"><br>  <i><font color="gray">ุงูุชูู.</font></i>  <i><font color="gray">11. ุจุงุณุชุฎุฏุงู OpenCV ู Python ุ ููููู ุนูู ูุฐุง ุงูููู ุฃู ููู GIF ูุชุญุฑู ุขุฎุฑ</font></i> <br><br>  ูู ุฐูู ุงููุณุงุก ููุณู ุ ูุดุฑุช ุชุฑูุดุง ุตูุฑุฉ ุนูู ุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ - ุงุถุทุฑุฑุช ูุชุญูููุง. <br><br>  ุฃููุฆู ุงูุฐูู ุญุถุฑูุง PyImageConf 2018 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฑุฃ ุงููุฑุงุฌุนุฉ</a> ) ูุนุฑููู ุฃููู ูุณุชุนุฏ ุฏุงุฆููุง ููููุงุช.  ููุง ูุซุงู: <br><br>  <i>ุงูุณุคุงู: ููุงุฐุง ูุนุจุฑ ุงูุฏูู ุงูุทุฑููุ</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ python create_gif.py --config config.json --image images/rooster.jpg \ --output rooster_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/5dd/e92/ef0/5dde92ef04cb35436e87b0b70cc5926d.gif"><br>  <i><font color="gray">ุงูุชูู.</font></i> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12. ูุชู ุงูุชุนุฑู ุนูู ุงููุฌู ุญุชู ูุน ุงูุชุจุงูู ุงูููุฎูุถ ุ ูุชููู OpenCV ุจูุนุงูุฌุฉ ุงูุตูุฑุฉ ุจุดูู ุตุญูุญ ูุชุฎูุถ ุงููุธุงุฑุงุช ุงูุดูุณูุฉ</font></font></font></i> <br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฅุฌุงุจุฉ: ูู ุฃููู ุงูุฅุฌุงุจุฉ - ุทุฑุญ ูุฐุง. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฎูุฑูุง ุ ูุฎุชุชู ุฏููู ุงูููู ุจูุฐูุฑุฉ ุฌูุฏุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฐ ุญูุงูู ุณุช ุณููุงุช ุ ุชุจูููุง ุฃูุง ููุงูุฏู ุจูุฌู ุงูุตุบูุฑ ุ ุฌููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ููููู ุฑุคูุฉ ุฌููุง ุนูู ูุชูู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ python create_gif.py --config config.json --image images/pupper.jpg \ --output pupper_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/08a/b5a/728/08ab5a728e8bd48ac2550a2962e76165.gif"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชูู. </font><font style="vertical-align: inherit;">13. ุฌููุง ูุฐูุฐ. </font><font style="vertical-align: inherit;">ุฃูุง ุชุนุชูุฏ ุฐููุ </font><font style="vertical-align: inherit;">ุซู "ุชุนุงูู ูุนูุง!" </font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุชูุงูู ุนูู ุฃููุง ูุทููุฉุ </font><font style="vertical-align: inherit;">ุชุนุงูู ูุนูุง.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุฏูู ุฎุทุฃ AttributeErrorุ </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุชููู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ุฑุฃูุช ูุฐุง ุงูุฎุทุฃ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ python create_gif.py --config config.json --image images/adrian.jpg \ --output adrian_out.gif ... Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"create_gif.py"</span></span>, line 142, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; (lStart, lEnd) = face_utils.FACIAL_LANDMARKS_IDXS[<span class="hljs-string"><span class="hljs-string">"left_eye"</span></span>] AttributeError: module <span class="hljs-string"><span class="hljs-string">'imutils.face_utils'</span></span> has no attribute <span class="hljs-string"><span class="hljs-string">'FACIAL_LANDMARKS_IDXS'</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... ูุฃูุช ุจุญุงุฌุฉ ููุท ุฅูู ุชุญุฏูุซ ุญุฒูุฉ imutils: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ pip install --upgrade imutils Collecting imutils ... Successfully installed imutils-0.5.1</code> </pre> <br> ? <br><br>   <code>imutils.face_utils</code>  68-  ,   dlib (    ).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  5- </a> ,      imutils.    imutils     (    ). <br><br><h1 style=";text-align:right;direction:rtl">  ุงูููุฎุต </h1><br>     ,   GIF   OpenCV. <br><br>    ,   OpenCV   GIF- โDeal With Itโ,   (  ),             . <br><br>              : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">   </li><li style=";text-align:right;direction:rtl">     </li><li style=";text-align:right;direction:rtl">    (  , ) </li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญุณุงุจ ุงูุฒุงููุฉ ุจูู ุงูุนูููู ููุญุงุฐุงุฉ ุงููุฌู </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุจุฅูุดุงุก ุฎูุทุงุช ุดูุงูุฉ ูุน ูุฒุฌ ุฃููุง </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฎูุฑูุง ุ ุงูุชูุทูุง ูุฌููุนุฉ ูู ุงูุตูุฑ ุงูุชู ุชู ุฅูุดุงุคูุง ูุฃูุดุฃูุง ุตูุฑุฉ GIF ูุชุญุฑูุฉ ุจุงุณุชุฎุฏุงู OpenCV ู ImageMagick. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุขูู ุฃู ุชููู ูุฏ ุงุณุชูุชุนุช ุจุงูุจุฑูุงูุฌ ุงูุชุนูููู ุงูููู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ุฃุนุฌุจู ุ ูุฑุฌู ุชุฑู ุชุนููู ูุฅุฎุจุงุฑู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณููุง ุ ุฅุฐุง ูู ุชุนุฌุจู ุ ููุง ููู ุ ููุท ุชุญูููุง.</font></font> ุ) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar429024/">https://habr.com/ru/post/ar429024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar429014/index.html">ุงูุดุฌุฑุฉ ุงููุฑุนูุฉ ุฌูุช ุจุงูุชูุตูู</a></li>
<li><a href="../ar429016/index.html">ุณุชุทูุฑ ููููู ูุจุงูุฏู ูุฑูุจุงุช ุจุฏูู ุทูุงุฑ ูุนูุง</a></li>
<li><a href="../ar429018/index.html">ููุงุฐุง ูููู ุชุตููู Gmail ุงูุฌุฏูุฏ ุจุทูุฆูุง ุฌุฏูุงุ</a></li>
<li><a href="../ar429020/index.html">ูุง ูู ุงูุถุงุจุท ุจุทูุงูุฉ</a></li>
<li><a href="../ar429022/index.html">GridGain ุนูู Highload: ุฃูู ูุชุญุฏุซ ุนู DBMSs ุงูููุฒุนุฉ ุ In-Memory ูุงููุตุฏุฑ ุงูููุชูุญ</a></li>
<li><a href="../ar429028/index.html">ููุฑูููู. ุงูุทุจ ูุดุจูุฉ ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar429030/index.html">ูุฌุนู Logomachine ุดุนุงุฑุงุช ูุฌุงููุฉ ููู ุชุนููู</a></li>
<li><a href="../ar429032/index.html">ุฃุณุงุณูุงุช Splunk ูุชุทุจูู ุตูุงุนุฉ ุงูุฎุฏูุงุช ุงููุงููุฉ ุ ุฃู ููููุฉ ุฏุฎูู Splunk ุฅูู ุณูู ุชุญูููุงุช ุงูุชูููู</a></li>
<li><a href="../ar429034/index.html">ุจุนุถ ุงููุตุต ุนู ุงููุจุฑูุฌูู ุชุญุช ุงูุฃุฑุถ</a></li>
<li><a href="../ar429036/index.html">ุซู ุจู ุ ุฃูุง ุฃุนุฑู ูุง ุฃูุนูู: ุงูุชููู ุงูุฐุงุชู ููุฑูุจูุช ุงููุนูุงุฑู ูุน ุจูุฆุฉ ุชูููุฐ ุงูููุงู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>