<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👠 👛 🚕 Kesalahan dan kesalahpahaman paling umum saat mengkonfigurasi DFSR 🧑🏻‍🤝‍🧑🏻 🤘🏻 🔄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[Catatan penerjemah. Artikel ini untuk Windows Server 2003 / 2003R2 / 2008 / 2008R2, tetapi sebagian besar di atas berlaku untuk versi OS selanjutnya]...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kesalahan dan kesalahpahaman paling umum saat mengkonfigurasi DFSR</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424139/"> <i>[Catatan</i>  <i>penerjemah.</i>  <i>Artikel ini untuk Windows Server 2003 / 2003R2 / 2008 / 2008R2, tetapi sebagian besar di atas berlaku untuk versi OS selanjutnya]</i> <br><br>  Halo semuanya!  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Warren</a> ada di sini lagi, dan posting blog ini adalah kompilasi dari masalah DFSR paling umum yang saya temui selama beberapa tahun terakhir.  Tujuan dari posting ini adalah untuk membuat daftar kesalahan umum dalam konfigurasi DFSR yang menyebabkan masalah ini dan untuk mencegah Anda membuat kesalahan serupa.  Mengetahui apa yang seharusnya <i>tidak</i> dilakukan sama pentingnya dengan mengetahui <i>apa yang</i> harus dilakukan.  Banyak item yang dijelaskan terkait dengan topik lain, sehingga tautan yang sesuai disediakan untuk studi mendalam tentang masalah ini. <br><a name="habracut"></a><br><h2>  Ukuran kuota terlalu kecil untuk pementasan folder </h2><br>  Apakah Anda melihat banyak acara di majalah dengan kode 4202 dan 4204?  Dalam hal ini, ukuran folder pementasan diatur secara tidak benar.  Konsekuensi yang tidak menyenangkan dari ukuran folder pementasan yang tidak tepat adalah pengurangan kinerja replikasi, karena alih-alih mereplikasi file, layanan akan menghabiskan waktu membersihkan folder pementasan. <br>  Server DFSR yang dikonfigurasi dengan ukuran folder pementasan yang memadai lebih efisien untuk setidaknya dua alasan: <br><br><ol><li>  Jauh lebih efisien jika hanya meletakkan file di folder perantara satu kali, lalu mengirimnya ke semua mitra replikasi host, daripada membuat file, mereplikasi, dan kemudian menghapus salinan untuk setiap mitra host. </li><li>  Jika edisi Enterprise dari sistem operasi diinstal pada setidaknya satu anggota, server dapat menggunakan teknologi RDC lintas-file <i>[sekitar.</i>  <i>penerjemah: dimulai dengan Windows Server 2012, teknologi <a href="">ini</a> juga <a href="">tersedia</a> dalam edisi Standar]</i> </li></ol><br>  Ukuran yang tidak dikonfigurasi dengan benar untuk folder staging juga dapat menyebabkan loop replikasi.  Ini terjadi jika file yang direplikasi telah disalin ke folder pementasan pada server penerima, tetapi mekanisme pembersihan folder pementasan menghapus file ini sebelum dapat pindah ke folder tujuan.  File yang dihapus akan direplikasi ke server lagi dan akan dihapus oleh server ini dari folder pementasan lagi, akibatnya server tidak akan pernah bisa menerima file.  Proses ini akan diulang sampai server menerima file. <br><br>  Jangan abaikan acara log untuk folder pementasan. <br><br>  Lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">posting ini</a> yang menjelaskan cara menggunakan metode untuk menentukan ukuran minimum folder perantara. <br><br>  Lihat bagian “Meningkatkan kuota sementara” di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Untuk informasi tentang RDC lintas-file, Anda dapat membaca artikel "Informasi tentang kompresi diferensial jarak jauh", diposting di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br><h2>  Prosedur preseeding yang salah atau belum diuji </h2><br>  Prosedur preseeding adalah menyalin data yang akan direplikasi ke server anggota replikasi baru sebelum ditambahkan ke folder tujuan server ini, untuk mengurangi waktu yang diperlukan untuk menyelesaikan replikasi primer.  Sebagian besar kegagalan prosedur preseeding yang saya temui disebabkan oleh tiga alasan. <br><br><ol><li>  Ketidakcocokan ACL pada sumber dan tujuan. </li><li>  Setelah menyalin ke anggota replikasi baru, perubahan dilakukan ke file. </li><li>  Tidak ada pra-pengujian yang dilakukan untuk memverifikasi bahwa prosedur pra-digunakan yang digunakan berfungsi seperti yang diharapkan. </li></ol><br>  Singkatnya, file harus disalin dengan cara tertentu, dan mereka tidak dapat diubah setelah disalin ke folder perantara, dan seluruh proses harus diuji terlebih dahulu oleh Anda. <br><br>  Klik di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> untuk membaca blog Mr. Pile tentang cara mengatur prosedur preseeding untuk server DFSR Anda. <br><br><h2>  Ukuran antrian salinan besar dari waktu ke waktu </h2><br>  Selain fakta bahwa antrian salinan besar yang ada untuk waktu yang lama berarti bahwa data Anda tidak disinkronkan, ini dapat menyebabkan resolusi konflik yang tidak diinginkan ketika file dengan konten lama menang dalam skrip resolusi konflik.  Skenario yang paling umum di mana saya menemukan perilaku ini adalah penambahan besar folder replikasi baru.  Alih-alih melakukan penyebaran bertahap, beberapa administrator sekaligus menambahkan 20 folder baru untuk replikasi dari 20 cabang yang berbeda, sehingga membebani server host secara berlebihan.  Menyebarkan secara bertahap sehingga replikasi primer selesai dalam jumlah waktu yang wajar. <br><br><h2>  DFSR digunakan sebagai solusi cadangan </h2><br>  Percaya atau tidak, beberapa administrator menggunakan DFSR tanpa cadangan offline dari data yang direplikasi.  DFSR tidak dirancang sebagai solusi cadangan.  Salah satu tujuan pengembangan DFSR adalah menjadi bagian dari strategi cadangan perusahaan, karena DFSR memungkinkan Anda mengumpulkan data yang didistribusikan secara geografis di situs terpusat untuk pencadangan, pemulihan, dan pengarsipan nanti.  Beberapa anggota replikasi memberikan perlindungan terhadap kegagalan server, tetapi ini tidak melindungi Anda dari penghapusan tidak disengaja.  Agar sepenuhnya terlindungi, Anda perlu membuat cadangan data Anda. <br><br><h2>  Replikasi satu arah: penggunaannya dan metode perbaikan yang salah </h2><br>  Dalam upaya untuk mencegah pembaruan yang tidak diinginkan muncul di server di mana data tidak akan pernah berubah (atau jika mereka ingin mencegah perubahan pada mereka), banyak pelanggan membuat replikasi satu arah dengan menghapus koneksi keluar untuk anggota replikasi.  Replikasi satu arah tidak didukung dalam versi DFSR apa pun sebelum Windows Server 2008 R2.  Windows 2008 R2 mendukung replikasi satu arah, yang memungkinkan Anda untuk mengonfigurasi folder read-only untuk folder yang direplikasi. <br><br>  Penggunaan anggota replikasi hanya baca dapat mencapai tujuan replikasi satu arah, yang mencegah perubahan yang tidak diinginkan dalam data yang direplikasi.  Jika Anda ingin menggunakan replikasi satu arah menggunakan DFSR, gunakan Windows 2008 R2 dan untuk anggota yang tidak boleh diubah, pilih mode hanya baca. <br><br>  Klik di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> dan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> untuk mempelajari tentang replikasi baca-saja DFSR. <br><br>  Masalah umum lainnya terjadi ketika administrator menemukan bahwa replikasi satu arah tidak didukung, dan mencoba untuk memperbaiki situasi, tetapi apakah itu dengan cara yang salah.  Cukup mengaktifkan kembali dua arah kembali dapat memiliki hasil yang tidak diinginkan. <br><br>  Klik di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> untuk mempelajari cara memperbaiki replikasi satu arah. <br><br><h2>  Node server sebagai titik kegagalan tunggal dan server node kelebihan beban </h2><br>  Saya telah melihat banyak penyebaran dengan server node tunggal.  Jika server simpul ini gagal, maka seluruh penyebaran berisiko.  Jika Anda menggunakan Windows Server 2003 atau 2008, Anda harus memiliki setidaknya dua server host, dan jika salah satu dari mereka crash, yang lain harus menangani beban pada waktu pemulihan yang pertama dengan dampak minimal pada pengguna akhir.  Dimulai dengan Windows Server 2008 R2, DFSR dapat digunakan pada kluster failover Windows, memberikan ketersediaan tinggi sementara mengurangi separuh persyaratan penyimpanan. <br><br>  Cepat atau lambat, administrator memiliki situasi di mana ada terlalu banyak server di cabang yang dikonfigurasi untuk mereplikasi dengan server node tunggal.  Hal ini dapat menyebabkan keterlambatan dalam replikasi.  Untuk memahami berapa banyak server server kantor yang dapat dilayani oleh satu server node, Anda dapat menggunakan pelacakan antrian salin.  Tidak ada formula ajaib, karena setiap lingkungan unik dan ada banyak ketergantungan. <br><br>  Baca bagian "Konfigurasi Topologi" di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> untuk mempelajari cara menggunakan server host. <br>  Klik di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> untuk mempelajari cara mengkonfigurasi DFSR pada kluster failover Windows Server 2008. <br><br><h2>  Terlalu banyak folder untuk direplikasi ke satu basis data Jet </h2><br>  DFSR menggunakan satu database Jet pada volume.  Akibatnya, menempatkan semua folder yang direplikasi pada volume yang sama menghasilkan semua folder itu berada dalam basis data Jet yang sama.  Jika muncul masalah dalam database ini yang perlu diperbaiki atau dikembalikan, database akan mempengaruhi semua folder yang direplikasi pada disk ini.  <i>[Catatan</i>  <i>penerjemah.</i>  <i>jelas, ini bukan disk, tetapi volume.]</i> Akan lebih tepat untuk menggunakan disk sebanyak mungkin dan mendistribusikan folder yang direplikasi di antara mereka, sehingga memastikan waktu ketersediaan data maksimum. <br><br><h2>  Penyebaran Berdasarkan Solusi Anggaran iSCSI </h2><br>  Saya sering melihat penyebaran DFSR menggunakan perangkat keras iSCSI termurah.  Biasanya, jika Anda menggunakan DFSR, maka Anda melakukan ini untuk mencapai tujuan penting, seperti redundansi data, konsolidasi cadangan, pengiriman aplikasi yang dijadwalkan dan pembaruan OS.  Membuat diri Anda bergantung pada peralatan berkualitas rendah yang tidak memiliki dukungan vendor normal bukanlah ide yang baik.  Jika data penting untuk bisnis Anda, maka peralatan tempat OS dan mekanisme replikasi bekerja penting untuknya. <br><br><h2>  Layanan DFSR tidak menginstal tambalan saat ini </h2><br>  DFSR secara aktif didukung oleh Microsoft dan diperbarui sesuai kebutuhan.  Perbarui DFSR jika ada rilis baru untuk itu pada saat siklus instalasi pembaruan Anda berikutnya.  Pastikan server Anda diperbarui sesuai dengan artikel basis pengetahuan yang tercantum di bawah ini. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Perbaikan terbaru DFSR untuk Windows 2003 R2</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Perbaikan terbaru DFSR untuk Windows 2008 dan Windows 2008 R2</a> <br><br>  Harap dicatat bahwa selain DFSR.EXE / DFSRS.EXE, pembaruan yang tercantum juga untuk NTFS.SYS dan file lainnya.  Agar replikasi berfungsi dengan benar, selalu pastikan patch terbaru diinstal setidaknya untuk DFSR dan NTFS.  Koreksi lain dari daftar terutama menyangkut masalah antarmuka pengguna, dan Anda harus menginstalnya setidaknya pada sistem-sistem di mana tugas konfigurasi DFSR dilakukan. <br><br>  Disarankan bahwa tambalan diinstal pada server DFSR terlebih dahulu, bahkan jika semuanya berfungsi dengan baik, karena nanti ini akan membantu Anda menghindari munculnya masalah yang diketahui. <br><br><h2>  Driver adaptor jaringan tidak didukung terbaru </h2><br>  DFSR hanya akan dapat berfungsi secara normal jika jaringan yang Anda berikan juga berfungsi tanpa masalah.  Menggunakan driver 5 tahun lalu bukanlah solusi yang paling cerdas.  Saya memiliki pengalaman berkomunikasi dengan beberapa pelanggan yang masalah replikasi DFSR diselesaikan dengan memperbarui driver NIC yang sudah ketinggalan zaman. <br><br><h2>  Pemantauan DFSR Hilang </h2><br>  Terlepas dari kenyataan bahwa DFSR digunakan untuk memindahkan, sebagai aturan, data penting, banyak admin tidak tahu apa yang dilakukan DFSR sampai mereka menemukan masalah.  Mereka yang lebih banyak akal membuat skrip sendiri untuk memantau antrian salin di server mereka, tetapi kebanyakan hanya mengandalkan itu.  Paket manajemen untuk DFSR dirilis hampir setahun yang lalu (dan versi lain muncul sebelumnya).  Instal dan gunakan - dan kemudian Anda dapat mendeteksi masalah dan menanggapinya sebelum mereka berubah menjadi mimpi buruk.  Jika Anda tidak dapat menggunakan Paket Manajemen Manajemen Operasi untuk DFSR, maka setidaknya tuliskan skrip untuk memantau antrian salin setiap hari untuk memahami apakah file DFSR bereplikasi atau tidak. <br><br>  Klik di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> untuk informasi tentang Paket Manajemen Manajemen Operasi untuk DFSR. <br><br>  <b>Diperbarui 19 Januari 2011:</b> <br><h2>  Membuat perubahan pada penyimpanan disk tanpa terlebih dahulu mengarsipkan data </h2><br>  Jika server DFSR perlu mengganti hard drive atau menambahkan yang baru untuk menambah ruang penyimpanan, sangat penting untuk memiliki cadangan data terbaru jika terjadi kesalahan.  Semuanya bisa salah, paling sering peristiwa konflik terjadi karena perubahan tak terduga di folder induk atau penghapusan folder induk yang tidak disengaja, yang direplikasi ke semua mitra.  Anda harus mencadangkan data Anda sebelum membuat perubahan dan menyimpannya hingga proyek selesai. <br><br><h2>  Menghentikan layanan DFSR untuk menghentikan replikasi sementara </h2><br>  Terkadang Anda perlu menghentikan replikasi sementara.  Cara yang tepat untuk melakukan ini adalah menonaktifkan replikasi untuk grup yang diinginkan menggunakan jadwal.  Layanan DFSR harus berjalan agar dapat membaca pembaruan di log USN.  Jangan menghentikan layanan DFSR untuk waktu yang lama (berhari-hari, berminggu-minggu), karena ini dapat menyebabkan log overflow (jika banyak file telah diubah, ditambahkan atau dihapus selama waktu ini).  DFSR akan pulih dari log overflows, tetapi dalam penyebaran besar akan membutuhkan waktu yang lama dan replikasi tidak akan berfungsi atau akan sangat lambat selama pemulihan log.  Selain itu, Anda cenderung mengamati antrian salinan yang sangat besar sampai pemulihan log selesai. <br><br>  Semoga daftar ini membantu Anda.  Replikasi yang bagus! <br><br>  Warren "jaring lebar" Williams <br><br>  <i>[Catatan</i>  <i>penerjemah.</i>  <i>Jika ada minat pembaca, saya akan mencoba nanti untuk menerjemahkan artikel yang diposting pada tautan yang ditunjukkan dalam teks, serta artikel lain dari penulis asli]</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424139/">https://habr.com/ru/post/id424139/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424129/index.html">Pengembangan Android. Sedikit tentang kerja cepat dengan daftar</a></li>
<li><a href="../id424131/index.html">Manifesto Pengembang Sistem Cerdas: 15 Prinsip</a></li>
<li><a href="../id424133/index.html">Virtualisasi pekerjaan untuk biro arsitektur melalui mata humaniora</a></li>
<li><a href="../id424135/index.html">Uni Eropa menyetujui arahan hak cipta baru - bagaimana hal itu akan mempengaruhi Internet</a></li>
<li><a href="../id424137/index.html">Dan bagaimana Anda merayakan hari programmer?</a></li>
<li><a href="../id424141/index.html">Desain game menjadi hidup. Ekonomi Gim (Bagian I)</a></li>
<li><a href="../id424143/index.html">Intisari materi menarik untuk pengembang ponsel # 271 (pada 17-23 September)</a></li>
<li><a href="../id424147/index.html">Telltale adalah segalanya. Sayang sekali</a></li>
<li><a href="../id424149/index.html">Frekuensi cat air 96 fps: revolusi atau format kerusuhan dalam sinematografi</a></li>
<li><a href="../id424151/index.html">Mesin pelabelan untuk label bibir - perluas distorsi silinder secara terprogram</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>