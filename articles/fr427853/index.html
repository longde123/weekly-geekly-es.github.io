<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîà üë©üèº‚Äçü§ù‚Äçüë©üèª üë©üèº‚Äç‚úàÔ∏è R√©flexions sur TDD. Pourquoi cette m√©thodologie n'est pas largement reconnue ü¶ñ üéΩ üëåüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! 

 Depuis longtemps et presque sans succ√®s, nous recherchons une t√™te brillante qui veut √©vincer M. Kent Beck sur le march√© - c'est-√†-d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>R√©flexions sur TDD. Pourquoi cette m√©thodologie n'est pas largement reconnue</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/427853/">  Bonjour, Habr! <br><br>  Depuis longtemps et presque sans succ√®s, nous recherchons une t√™te brillante qui veut √©vincer M. Kent Beck sur le march√© - c'est-√†-dire que nous recherchons quelqu'un qui est pr√™t √† √©crire un livre sur TDD pour nous.  Avec de vrais exemples, une histoire sur vos propres c√¥nes et r√©alisations.  Il y a tr√®s peu de livres sur ce sujet, et vous ne contesterez pas les classiques ... c'est peut-√™tre pour cela que nous n'avons pas encore rencontr√© ce chef. <br><br>  Par cons√©quent, nous avons d√©cid√© non seulement de nous rappeler √† nouveau que nous recherchions une telle personne, mais √©galement de proposer une traduction d'un article plut√¥t controvers√©, dont l'auteur, Doug Arcuri, partage ses propres r√©flexions sur les raisons pour lesquelles le TDD n'est pas devenu courant.  Voyons s'il a raison et sinon, pourquoi. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/gy/lr/2o/gylr2oryutx_6nqvbabp1mayby4.png"><br><br>  <i>Ce n'est pas une introduction au d√©veloppement par le biais de tests.</i>  <i>Ici, je vais pr√©senter mes propres id√©es sur le red√©marrage de cette discipline et parler des difficult√©s pratiques des tests unitaires.</i> <br><br>  Le l√©gendaire programmeur Kent Beck est l'auteur de la m√©thodologie TDD (d√©veloppement par test) dans son sens moderne.  Kent, avec Erich Gamma, a √©galement contribu√© √† la cr√©ation de JUnit, un framework de test largement utilis√©. <br><br>  Dans son livre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">XP Explained</a> (deuxi√®me √©dition), Kent d√©crit comment les <b>principes</b> sont form√©s √† l'intersection des <b>valeurs</b> et des <b>pratiques</b> .  Si vous construisez une liste de concepts et les remplacez par une sorte de formule, vous obtenez une transformation. <br><br><pre><code class="hljs powershell">[<span class="hljs-type"><span class="hljs-type">KISS</span></span>, <span class="hljs-type"><span class="hljs-type">Quality</span></span>, <span class="hljs-type"><span class="hljs-type">YAGNI</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>] + [<span class="hljs-type"><span class="hljs-type">Testing</span></span>, <span class="hljs-type"><span class="hljs-type">Specs</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>] == [<span class="hljs-type"><span class="hljs-type">TDD</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>]</code> </pre> <br>  Je respecte profond√©ment ce travail, qui est pour Kent un travail de toute une vie - non seulement pour les chefs-d'≈ìuvre qu'il a cr√©√©s dans la programmation, mais aussi pour le fait qu'il explore sans rel√¢che l'essence de la <b>confiance</b> , du <b>courage</b> , du <b>don</b> , de la <b>simplicit√©</b> et de la <b>vuln√©rabilit√©</b> .  Tous ces attributs √©taient indispensables pour l'invention de l'Extreme Programming (XP). <br><br>  TDD est un principe et une <b>discipline</b> qui sont respect√©s dans la communaut√© XP.  Cette discipline a d√©j√† 19 ans. <br><br>  Dans cet article, je partagerai mon opinion sur la fa√ßon dont TDD a r√©ussi √† s'assimiler.  Ensuite, je partagerai des observations personnelles int√©ressantes qui sont apparues lors de ma session TDD.  Enfin, je vais essayer d'expliquer pourquoi le TDD n'a pas tir√© aussi fort qu'il n'y paraissait.  Allons-y. <br><br>  <b>TDD, recherche et professionnalisme</b> <br><br>  Depuis 19 ans, la discipline du TDD fait l'objet de controverses au sein de la communaut√© de programmation. <br>  La premi√®re question qu'un analyste professionnel vous poserait est "quel est le pourcentage de d√©veloppeurs qui utilisent TDD aujourd'hui?"  Si vous interrogiez un ami de Robert Martin (oncle Bob) et un ami de Kent Beck √† ce sujet, la r√©ponse serait ¬´100%¬ª. <br><br>  Just Oncle Bob est s√ªr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">qu'il est impossible de se consid√©rer comme un professionnel si vous ne pratiquez pas le d√©veloppement par le biais de tests</a> . <br><br>  Oncle Bob est √©troitement impliqu√© dans cette discipline depuis plusieurs ann√©es, il est donc naturel de lui pr√™ter attention dans cette revue.  L'oncle Bob a d√©fendu TDD et a consid√©rablement √©largi les limites de cette discipline.  Soyez assur√© que j'ai le plus grand respect pour l'oncle Bob et son dogmatisme pragmatique. <br><br>  Cependant, personne ne pose la question suivante: "apr√®s tout, pratiquer signifie" utiliser consciemment "- mais cela ne permet pas de juger du pourcentage, n'est-ce pas?"  √Ä mon avis, la plupart des programmeurs <b>ne traitaient pas du</b> TDD, m√™me pour une p√©riode symbolique. <br><br>  La r√©alit√© est que nous ne connaissons vraiment pas ces chiffres, car personne n'a enqu√™t√© activement sur ce pourcentage.  Toutes les donn√©es sp√©cifiques sont limit√©es √† une petite s√©lection d'entreprises collect√©es sur le site Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WeDoTDD</a> .  Vous trouverez ici des statistiques sur ces entreprises, des entretiens avec ceux qui pratiquent le TDD tout le temps, mais cette liste n'est pas longue.  De plus, il est incomplet, car m√™me une simple recherche r√©v√®le d'autres grandes organisations impliqu√©es dans le TDD - mais, peut-√™tre, pas √† pleine capacit√©. <br><br>  Si nous ne savons pas combien d'entreprises pratiquent le TDD, la question suivante se pose: "Quelle est l'efficacit√© du TDD, √† en juger par ses m√©rites mesurables"? <br>  Vous serez probablement ravi qu'au fil des ann√©es, un certain nombre d'√©tudes aient √©t√© men√©es pour confirmer l'efficacit√© du TDD.  Parmi eux, il y a certainement des rapports faisant autorit√© de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Microsoft</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IBM</a> , l'Universit√© de Caroline du Nord et l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Universit√© d'Helsinki</a> . <br><br><img src="https://habrastorage.org/webt/2p/qx/vt/2pqxvtwfp0c4pq8y-tynkuezulc.png"><br><br>  <i>Un diagramme expressif tir√© d'un rapport de l'Universit√© d'Helsinki.</i> <br><br>  Dans une certaine mesure, ces rapports prouvent que la densit√© d'erreur peut √™tre r√©duite de 40 √† 60%, ce qui n√©cessite plus de travail;  l'ex√©cution augmente de 15 √† 35%.  Ces chiffres commencent d√©j√† √† √™tre retrac√©s dans les livres et les nouvelles m√©thodologies industrielles, en particulier dans la communaut√© DevOps. <br><br>  R√©pondant en partie √† ces questions, nous passons √† la derni√®re: ¬´Sur quoi puis-je compter lorsque je commence √† pratiquer le TDD?¬ª  C'est pour y r√©pondre que j'ai formul√© mes observations personnelles sur TDD.  Passons √† eux. <br><br>  <b>1. TDD n√©cessite une approche verbale</b> <br><br>  Lorsque nous pratiquons le TDD, nous commen√ßons √† rencontrer le ph√©nom√®ne de ¬´d√©signation de cible¬ª.  Autrement dit, de courts projets comme la pr√©paration de tests √©chou√©s et r√©ussis constituent un s√©rieux d√©fi intellectuel pour le d√©veloppeur.  Le d√©veloppeur doit articuler clairement: "Je crois que ce test r√©ussira" et "Je crois que ce test √©chouera" ou "Je ne suis pas s√ªr, laissez-moi r√©fl√©chir apr√®s avoir essay√© cette approche." <br><br>  L'IDE est devenu pour le d√©veloppeur ce canard en caoutchouc qui supplie de parler activement avec elle.  Au minimum, dans les entreprises TDD, les conversations de ce type devraient fusionner en un buzz continu. <br><br>  Pensez d'abord - puis passez √† l'√©tape suivante (ou aux √©tapes). <br><br>  Un tel renforcement joue un r√¥le cl√© dans la communication: il vous permet non seulement de pr√©dire votre prochaine √©tape, mais aussi de vous inciter √† √©crire le code le <b>plus simple</b> pour vous assurer que le test unitaire passe.  Bien s√ªr, si le d√©veloppeur est silencieux, il perdra presque certainement son cours, apr√®s quoi il devra retourner sur la piste. <br><br>  <b>2. TDD pompe la m√©moire du moteur</b> <br><br>  Le d√©veloppeur, se frayant un chemin √† travers ses premiers cycles TDD, se fatigue rapidement - apr√®s tout, ce processus est g√™nant et s'arr√™te constamment.  Il s'agit d'une situation courante avec toute activit√© qu'une personne commence √† peine, mais qu'elle n'a pas encore ma√Ætris√©e.  Le d√©veloppeur aura recours √† des raccourcis, essayant d'optimiser ce cycle afin de se remplir la main et d'am√©liorer la m√©moire du moteur. <br>  La m√©moire motrice est indispensable pour que le travail soit amusant et se d√©roule comme sur des roulettes.  En TDD, cela est n√©cessaire en raison de la r√©p√©tition des actions. <br><br>  Obtenez la feuille de triche avec de tels raccourcis.  Tirez le meilleur parti de vos raccourcis clavier dans votre IDE pour rendre les boucles efficaces.  Alors continuez √† chercher. <br><br>  En quelques s√©ances, le d√©veloppeur ma√Ætrise parfaitement la s√©lection des raccourcis, en particulier, quelques s√©ances suffisent pour assembler et ex√©cuter un banc d'essai.  Lorsque vous vous entra√Ænerez √† cr√©er de nouveaux artefacts, √† mettre en surbrillance du texte et √† naviguer dans l'EDI, tout cela vous semblera tout √† fait naturel.  Enfin, vous deviendrez un v√©ritable professionnel et ma√Ætriserez toutes les techniques de refactoring: en particulier, extraire, renommer, g√©n√©rer, √©lever, reformater et descendre. <br><br>  <b>3. TDD n√©cessite au moins un peu de r√©flexion sur leurs actions √† l'avance</b> <br><br>  Chaque fois qu'un d√©veloppeur songe √† d√©marrer un TDD, il doit garder √† l'esprit une br√®ve carte mentale des t√¢ches √† r√©soudre.  Dans l'approche traditionnelle de la programmation, une telle carte n'est pas toujours l√†, et la t√¢che elle-m√™me peut √™tre pr√©sent√©e "au niveau macro" ou avoir un caract√®re de recherche.  Peut-√™tre que le d√©veloppeur ne sait pas comment r√©soudre le probl√®me, mais n'imagine qu'en gros l'objectif.  Les tests unitaires sont n√©glig√©s vers cet objectif. <br><br>  Tout en √©tant assis au travail et en terminant par un autre ¬´asseyez-vous¬ª - essayez √©galement d'en faire un rituel.  Pensez et listez d'abord.  Jouez avec.  √ânum√©rez plus.  Ensuite, continuez, r√©fl√©chissez.  C√©l√©brez.  R√©p√©tez plusieurs fois.  Alors r√©fl√©chissez √† nouveau et arr√™tez. <br><br>  Soyez cat√©gorique sur le travail.  Suivez ce qui a d√©j√† √©t√© fait - cochez les cases.  Ne pliez jamais jusqu'√† ce qu'il y en ait au moins un.  Pensez! <br><br>  Peut-√™tre que le libell√© de la liste prendra un certain temps qui ne rentre pas dans le cycle de travail.  Cependant, avant de commencer, vous devez avoir une liste.  Sans cela, vous ne savez pas o√π vous allez.  Nulle part sans carte. <br><br><pre> <code class="hljs erlang-repl">//   // <span class="hljs-string"><span class="hljs-string">""</span></span> -&gt;   // <span class="hljs-string"><span class="hljs-string">"a"</span></span> -&gt;   // <span class="hljs-string"><span class="hljs-string">"aa"</span></span> -&gt;  // <span class="hljs-string"><span class="hljs-string">"racecar"</span></span> -&gt;  // <span class="hljs-string"><span class="hljs-string">"Racecar"</span></span> -&gt;  //   //   </code> </pre> <br>  Le d√©veloppeur doit <b>r√©pertorier les tests</b> d√©crits par Kent Beck.  La liste de tests vous permet de r√©soudre le probl√®me sous la forme de cycles qui se passent en douceur les uns dans les autres.  Au-dessus de la liste des tests, vous devez constamment traiter et mettre √† jour, m√™me si ce n'est que quelques secondes avant les tests.  Si la liste de tests est r√©ussie presque compl√®tement moins la derni√®re √©tape, alors le r√©sultat est ¬´rouge¬ª et tout le test √©choue. <br><br>  <b>4. TDD d√©pend de la communication avec les coll√®gues</b> <br><br>  Une fois la liste ci-dessus termin√©e, certaines √©tapes peuvent √™tre bloqu√©es, car elles ne d√©crivent pas tr√®s clairement quoi faire.  Le d√©veloppeur n'a pas compris la liste des tests.  L'inverse se produit √©galement - la liste est trop sommaire, dans laquelle il y a beaucoup d'hypoth√®ses sur les exigences qui n'ont pas encore √©t√© formul√©es.  Si vous obtenez quelque chose comme √ßa, arr√™tez-vous tout de suite. <br><br>  Agir sans TDD peut entra√Æner des impl√©mentations trop complexes.  Travailler dans le style de TDD, mais sans r√©fl√©chir, sans liste, n'est pas moins dangereux. <br><br>  Si vous voyez qu'il y a des lacunes dans la liste des tests, levez-vous et dites-le √† voix haute. <br><br>  Dans TDD, le d√©veloppeur doit comprendre quel produit faire, √©tant guid√© par l'id√©e des exigences n√©cessaires dans l'interpr√©tation du propri√©taire - et rien de plus.  Si l'exigence dans ce contexte n'est pas claire, alors la liste des tests commence √† s'effondrer.  Cet √©chec doit √™tre discut√©.  Une discussion calme aide rapidement √† renforcer la confiance et le respect.  De plus, c'est ainsi que les boucles de r√©troaction se forment rapidement. <br><br>  <b>5. TDD n√©cessite une architecture it√©rative</b> <br><br>  Dans la premi√®re √©dition de son livre XP, Kent a sugg√©r√© que les tests devraient √™tre le moteur de l'architecture.  Cependant, au cours de plusieurs ann√©es, des histoires sont apparues sur la fa√ßon dont les √©quipes de sprint tombent sur un mur d√©j√† en quelques sprints. <br><br>  Bien s√ªr, construire une architecture bas√©e sur des tests est irrationnel.  L'oncle Bob lui-m√™me a convenu avec d'autres experts que ce n'√©tait pas bon.  Une carte plus compl√®te est n√©cessaire, mais pas trop loin des listes de tests que vous avez d√©velopp√©es ¬´sur le terrain¬ª. <br><br>  Plusieurs ann√©es plus tard, Kent a √©galement exprim√© cette th√®se dans son livre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TDD By Example</a> .  <b>La comp√©titivit√©</b> et la <b>s√©curit√©</b> sont deux domaines principaux o√π TDD ne peut pas √™tre le moteur, et le d√©veloppeur doit les traiter s√©par√©ment.  Nous pouvons dire que la comp√©titivit√© est un niveau diff√©rent de conception de syst√®me, la comp√©titivit√© doit √™tre d√©velopp√©e par it√©rations, en coordonnant ce processus avec TDD.  Cela est particuli√®rement vrai aujourd'hui, car certaines architectures √©voluent vers un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">paradigme</a> r√©actif et des extensions r√©actives (la <b>r√©activit√©</b> est la comp√©titivit√© √† son z√©nith). <br><br>  Construisez une carte plus grande de toute l'organisation.  Aider √† voir les choses un peu en perspective.  Assurez-vous que vous et l'√©quipe √©voluez dans le m√™me cours. <br><br>  Cependant, l'id√©e la plus importante est l' <b>organisation de l'</b> ensemble du syst√®me et aucune organisation TDD n'est fournie.  Le fait est que les tests unitaires sont une chose de bas niveau.  L'architecture it√©rative et l'orchestration TDD sont complexes dans la pratique et n√©cessitent la confiance entre tous les membres de l'√©quipe, une programmation en bin√¥me et des revues de code solides.  On ne sait pas exactement comment y parvenir, mais bient√¥t vous pourrez voir que de br√®ves s√©ances de conception devraient √™tre men√©es √† l'unisson avec la mise en ≈ìuvre de listes de tests dans le domaine. <br><br>  <b>6. TDD r√©v√®le la fragilit√© des tests unitaires et une mise en ≈ìuvre d√©g√©n√©r√©e</b> <br><br>  Les tests unitaires ont une fonction amusante et TDD la donne compl√®tement.  Ils ne permettent pas de prouver l'exactitude.  E.V.Dijkstra a travaill√© sur ce probl√®me et a discut√© de la fa√ßon dont la preuve math√©matique est possible dans notre cas pour combler cette lacune. <br><br>  Par exemple, dans l'exemple suivant, tous les tests li√©s √† un palindrome imparfait hypoth√©tique dict√© par la logique m√©tier sont r√©solus.  Un exemple est d√©velopp√© en utilisant la m√©thodologie TDD. <br><br><pre> <code class="hljs pgsql">//    @Test fun `Given "", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>`() { "".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeFalse() } @Test fun `Given "a", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>`() { "a".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeFalse() } @Test fun `Given "aa", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "aa".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "abba", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "abba".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "racecar", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "racecar".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "Racecar", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "Racecar".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() }</code> </pre> <br>  En effet, il y a des d√©fauts dans ces tests.  Les tests unitaires sont fragiles m√™me dans les cas les plus triviaux.  Il n'a jamais √©t√© possible de prouver leur exactitude, car si nous essayions, cela n√©cessiterait un travail mental incroyable, et l'apport requis pour cela serait impossible √† imaginer. <br><br><pre> <code class="hljs pgsql">//   ,      fun String.<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>() = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isEmpty() || length == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> toLowerCase() == toLowerCase().reversed() //   ,    fun String.<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>() = length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  <code>length &gt; 1</code> peut √™tre appel√©e une <b>impl√©mentation d√©g√©n√©r√©e</b> .  C'est tout √† fait suffisant pour r√©soudre la t√¢che, mais elle-m√™me ne rapporte rien sur le probl√®me que nous essayons de r√©soudre. <br><br>  La question est - quand un d√©veloppeur doit-il arr√™ter d'√©crire des tests?  La r√©ponse semble simple: quand c'est <b>suffisant du point de vue de la logique m√©tier</b> , et non selon l'auteur du code.  Cela peut nuire √† notre <b>passion pour le design</b> et la simplicit√© peut <b>√©nerver les gens</b> .  Ces sentiments sont compens√©s par la satisfaction √† la vue de notre propre code propre et la compr√©hension que par la suite le code peut √™tre refactoris√© en toute confiance.  Tout le code sera tr√®s soign√©. <br><br>  Notez que pour tout le manque de fiabilit√©, des tests unitaires sont n√©cessaires.  Comprenez leurs forces et leurs faiblesses.  Si l'image compl√®te ne correspond pas, peut-√™tre que cet √©cart aidera √† remplir les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tests de mutation</a> . <br><br>  TDD a ses avantages, mais cette m√©thodologie peut nous distraire de la construction de ch√¢teaux de sable inutiles.  Oui, c'est une <b>limitation</b> , mais gr√¢ce √† elle, vous pouvez vous d√©placer plus rapidement, plus loin et de mani√®re plus fiable.  C'est peut-√™tre ce que l'oncle Bob avait √† l'esprit en d√©crivant ce que, de son point de vue, cela signifie <b>√™tre un professionnel</b> . <br><br>  Mais!  Peu importe la fragilit√© des tests unitaires, ils sont absolument indispensables.  Ce sont eux qui transforment la <b>peur</b> en <b>courage</b> .  Les tests fournissent une refactorisation douce du code;  en outre, ils peuvent servir de <b>guide</b> et de <b>documentation pour</b> tout nouveau d√©veloppeur qui peut imm√©diatement se mettre sur la bonne voie et travailler au profit du projet - si ce projet est bien couvert par des tests unitaires. <br><br>  <b>7. TDD montre la boucle inverse des instructions de test</b> <br><br>  Faites un pas de plus.  Pour comprendre les deux ph√©nom√®nes suivants, nous √©tudions d'√©tranges √©v√©nements r√©currents.  Pour commencer, jetons un coup d'≈ìil √† FizzBuzz.  Voici notre liste de tests. <br><br><pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/    9  15. [OK] /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  ,  3,  Fizz  . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ ...</span></span></code> </pre><br>  Nous avons fait quelques pas en avant.  Maintenant, notre test √©choue. <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> `Given numbers, replace those divisible </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">by</span></span></span><span class="hljs-function"> 3 with "Fizz"`</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> machine = FizzBuzz() assertEquals(machine.print(), <span class="hljs-string"><span class="hljs-string">"?"</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FizzBuzz</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> output = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>..<span class="hljs-number"><span class="hljs-number">15</span></span>) { output += <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-string"><span class="hljs-string">"Fizz "</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${i}</span></span></span><span class="hljs-string"> "</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> output.trim() } } Expected &lt;Fizz <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> Fizz <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> Fizz&gt;, <span class="hljs-keyword"><span class="hljs-keyword">actual</span></span> &lt;?&gt;.</code> </pre> <br>  Naturellement, si nous <code>assertEquals</code> donn√©es d'assertion attendues dans <code>assertEquals</code> , le r√©sultat souhait√© est obtenu et le test est effectu√©. <br><br>  Parfois, les tests √©chou√©s donnent le r√©sultat correct n√©cessaire pour r√©ussir le test.  Je ne sais pas comment nommer de tels √©v√©nements ... peut-√™tre <b>des tests de vaudou</b> .  Le nombre de fois o√π vous voyez cela - cela d√©pend en partie de votre paresse et de votre √©tiquette lors des tests, mais j'ai souvent remarqu√© de telles choses lorsqu'une personne essaie d'obtenir une impl√©mentation qui fonctionne normalement avec des ensembles de donn√©es pr√™ts √† l'emploi et pr√©visibles. <br><br>  <b>8. TDD montre la s√©quence des transformations</b> <br><br>  TDD peut vous pi√©ger.  Il arrive que le d√©veloppeur soit confus dans les transformations faites par lui-m√™me, qu'il utilise pour r√©aliser l'impl√©mentation souhait√©e.  √Ä un moment donn√©, le code de test se transforme en goulot d'√©tranglement o√π nous d√©crochons. <br><br>  Une <b>impasse se</b> forme.  Le d√©veloppeur doit prendre du recul et d√©sarmer, supprimant certains des tests afin de sortir de ce pi√®ge.  Le d√©veloppeur reste non prot√©g√©. <br><br>  L'oncle Bob lui-m√™me √©tait susceptible de tomber dans de telles impasses au cours des ann√©es de sa carri√®re, apr√®s quoi il a apparemment r√©alis√© que, pour r√©ussir le test, vous devez d√©finir la s√©quence d'actions correcte afin de minimiser la probabilit√© de tomber dans une impasse.  De plus, il devait r√©aliser une autre condition.  <b>Plus les tests deviennent sp√©cifiques, plus le code est g√©n√©ralis√©</b> . <br><br><img src="https://habrastorage.org/webt/iw/a6/dp/iwa6dpb_ice2v31dtae2ux9a2rs.png"><br><br>  <i>La s√©quence des transformations.</i>  <i>Vous devez toujours vous efforcer pour l'option la plus simple (en haut de la liste).</i> <br><br>  Il s'agit de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">condition de priorit√© de transition</a> .  Apparemment, il existe un certain ordre de risque de refactoring, que nous sommes pr√™ts √† atteindre en passant le test.  Habituellement, il est pr√©f√©rable de choisir l'option de conversion indiqu√©e tout en haut de la liste (la plus simple) - dans ce cas, la probabilit√© d'entrer dans une impasse reste minime. <br><br>  Le TPP ou <b>l'analyse des tests de l'oncle Bob</b> , pour ainsi dire, est l'un des ph√©nom√®nes les plus intrigants, technologiques et passionnants actuellement observ√©s. <br><br>  Utilisez-le pour garder votre code aussi simple que possible. <br>  Imprimez la liste TPP et placez-la sur votre bureau.  V√©rifiez avec lui pour √©viter de vous retrouver dans une impasse.  Faites-en une r√®gle: l'ordre doit √™tre simple. <br><br>  Ceci conclut l'histoire de mes principales observations.  Cependant, dans la derni√®re partie de l'article, je voudrais revenir √† la question √† laquelle nous avons oubli√© de r√©pondre au d√©but: "Quel est le pourcentage de programmeurs professionnels utilisant TDD aujourd'hui?"  Je r√©pondrais: "Je pense qu'il y en a peu."  Je voudrais enqu√™ter sur cette question ci-dessous et essayer d'expliquer pourquoi. <br><br>  <b>Le TDD est-il bien ancr√© dans la pratique?</b> <br><br>  Malheureusement non.  Subjectivement, il semble que le pourcentage de ses supporters soit faible, et je continue de chercher des donn√©es.  Mon exp√©rience en recrutement, en leadership d'√©quipe et en d√©veloppement personnel (ce qui me fascine) me permet de faire les constats suivants. <br><br>  <i><b>Raison 1: Manque de contact avec la vraie culture des tests</b></i> <br><br>  Je peux raisonnablement supposer que la plupart des d√©veloppeurs n'ont pas eu l'occasion d'apprendre et de travailler dans une v√©ritable <b>culture de test</b> . <br><br>  La culture de test est un environnement dans lequel les d√©veloppeurs pratiquent et am√©liorent consciemment l'art du test.  Ils forment constamment des coll√®gues qui n'ont pas encore suffisamment d'exp√©rience dans ce domaine.  Une r√©troaction a √©t√© √©tablie dans chaque paire et chaque demande de pool qui aide tous les participants √† d√©velopper des comp√©tences de test.  En outre, il existe un soutien s√©rieux et un sens du coude dans toute la hi√©rarchie des ing√©nieurs.  Tous les managers comprennent l'essence du test et y croient.  Lorsque les d√©lais commencent √† expirer, la discipline de test n'est pas abandonn√©e, mais elle continue d'√™tre suivie. <br><br>  Ceux qui ont eu la chance de se tester dans une telle culture de test, comme par exemple, j'ai eu la chance de faire de telles observations.        . <br><br> <i><b> 2:   </b></i> <br><br>        TDD, , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">xUnit Patterns</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Effective Unit Testing</a> . , -,   ,     ,    .               . <br><br>            .        ,     .     .  ,     ,     ,  ‚Ä¶ . <br><br> <i><b> 3:    </b></i> <br><br> :  ,   ,         .   ,   ,     ; - ,  ‚Äì       . <br><br> <i><b> 4:        </b></i> <br><br>    ,   ,   TDD      .        ,     . <br><br>   ,   ,        : ¬´  ,    ¬ª. : , ¬´  ¬ª ‚Äî     . <br><br>        ‚Äì      . <br><br>  <b>Conclusion</b> <br><br>  XP   ‚Äì    <b></b> , <b></b>  <b></b> .    ‚Äì       ,    .        TDD. <br><br>      ,     ,        .     ¬´¬ª   ,  ,   ‚Äì     ,      . <br><br><img src="https://habrastorage.org/webt/dn/wb/o-/dnwbo-sr4yomfsdqjvbpda-csgc.png"><br><br> <i>  XP Explained.      ,  ,     .</i> <br><br>       ,   -      . <br><br>   ,   ‚Äì  ,       .           , ,        ,       . <br><br> ,        ,         ,     . <br><br>  TDD   ¬´ ¬ª  ,       .          TDD      .   TDD . <br><br> .  TDD      ,   . TDD ‚Äî  , , .   ,  TDD      ,   .     ,        . <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> `Given software, </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">when</span></span></span><span class="hljs-function"> we build, then we </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">expect</span></span></span><span class="hljs-function"> tests`</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { build(software) shoudHave tests }</code> </pre> <br> , TDD ‚Äì  ,   <b></b> ,   <b> </b> .     .     ,     ,        ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427853/">https://habr.com/ru/post/fr427853/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427841/index.html">Escroquerie Magic Leap</a></li>
<li><a href="../fr427843/index.html">Comment bien dormir et bien dormir</a></li>
<li><a href="../fr427845/index.html">Comment installer un million d'√©toiles dans un iPhone</a></li>
<li><a href="../fr427847/index.html">Curiosit√© et procrastination dans l'apprentissage automatique</a></li>
<li><a href="../fr427849/index.html">Ligne droite avec TM. v3.0</a></li>
<li><a href="../fr427855/index.html">Mitaps MOSDROID dans FunCorp</a></li>
<li><a href="../fr427857/index.html">Questions fiscales et juridiques pour les pigistes d√©butants</a></li>
<li><a href="../fr427859/index.html">Pourquoi des comp√©tences techniques au chef de projet: expliquer les cas</a></li>
<li><a href="../fr427861/index.html">CPaaS sans serveur - comment Voximplant a anticip√© ce battage m√©diatique</a></li>
<li><a href="../fr427863/index.html">Cr√©er un ordre arbitraire d'√©l√©ments dans la liste des dimensions et mesures du tableau crois√© dynamique Excel pour le mod√®le de table du cube SSAS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>