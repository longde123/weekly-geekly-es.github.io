<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔈 👩🏼‍🤝‍👩🏻 👩🏼‍✈️ Réflexions sur TDD. Pourquoi cette méthodologie n'est pas largement reconnue 🦖 🎽 👌🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! 

 Depuis longtemps et presque sans succès, nous recherchons une tête brillante qui veut évincer M. Kent Beck sur le marché - c'est-à-d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Réflexions sur TDD. Pourquoi cette méthodologie n'est pas largement reconnue</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/427853/">  Bonjour, Habr! <br><br>  Depuis longtemps et presque sans succès, nous recherchons une tête brillante qui veut évincer M. Kent Beck sur le marché - c'est-à-dire que nous recherchons quelqu'un qui est prêt à écrire un livre sur TDD pour nous.  Avec de vrais exemples, une histoire sur vos propres cônes et réalisations.  Il y a très peu de livres sur ce sujet, et vous ne contesterez pas les classiques ... c'est peut-être pour cela que nous n'avons pas encore rencontré ce chef. <br><br>  Par conséquent, nous avons décidé non seulement de nous rappeler à nouveau que nous recherchions une telle personne, mais également de proposer une traduction d'un article plutôt controversé, dont l'auteur, Doug Arcuri, partage ses propres réflexions sur les raisons pour lesquelles le TDD n'est pas devenu courant.  Voyons s'il a raison et sinon, pourquoi. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/gy/lr/2o/gylr2oryutx_6nqvbabp1mayby4.png"><br><br>  <i>Ce n'est pas une introduction au développement par le biais de tests.</i>  <i>Ici, je vais présenter mes propres idées sur le redémarrage de cette discipline et parler des difficultés pratiques des tests unitaires.</i> <br><br>  Le légendaire programmeur Kent Beck est l'auteur de la méthodologie TDD (développement par test) dans son sens moderne.  Kent, avec Erich Gamma, a également contribué à la création de JUnit, un framework de test largement utilisé. <br><br>  Dans son livre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">XP Explained</a> (deuxième édition), Kent décrit comment les <b>principes</b> sont formés à l'intersection des <b>valeurs</b> et des <b>pratiques</b> .  Si vous construisez une liste de concepts et les remplacez par une sorte de formule, vous obtenez une transformation. <br><br><pre><code class="hljs powershell">[<span class="hljs-type"><span class="hljs-type">KISS</span></span>, <span class="hljs-type"><span class="hljs-type">Quality</span></span>, <span class="hljs-type"><span class="hljs-type">YAGNI</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>] + [<span class="hljs-type"><span class="hljs-type">Testing</span></span>, <span class="hljs-type"><span class="hljs-type">Specs</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>] == [<span class="hljs-type"><span class="hljs-type">TDD</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>]</code> </pre> <br>  Je respecte profondément ce travail, qui est pour Kent un travail de toute une vie - non seulement pour les chefs-d'œuvre qu'il a créés dans la programmation, mais aussi pour le fait qu'il explore sans relâche l'essence de la <b>confiance</b> , du <b>courage</b> , du <b>don</b> , de la <b>simplicité</b> et de la <b>vulnérabilité</b> .  Tous ces attributs étaient indispensables pour l'invention de l'Extreme Programming (XP). <br><br>  TDD est un principe et une <b>discipline</b> qui sont respectés dans la communauté XP.  Cette discipline a déjà 19 ans. <br><br>  Dans cet article, je partagerai mon opinion sur la façon dont TDD a réussi à s'assimiler.  Ensuite, je partagerai des observations personnelles intéressantes qui sont apparues lors de ma session TDD.  Enfin, je vais essayer d'expliquer pourquoi le TDD n'a pas tiré aussi fort qu'il n'y paraissait.  Allons-y. <br><br>  <b>TDD, recherche et professionnalisme</b> <br><br>  Depuis 19 ans, la discipline du TDD fait l'objet de controverses au sein de la communauté de programmation. <br>  La première question qu'un analyste professionnel vous poserait est "quel est le pourcentage de développeurs qui utilisent TDD aujourd'hui?"  Si vous interrogiez un ami de Robert Martin (oncle Bob) et un ami de Kent Beck à ce sujet, la réponse serait «100%». <br><br>  Just Oncle Bob est sûr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">qu'il est impossible de se considérer comme un professionnel si vous ne pratiquez pas le développement par le biais de tests</a> . <br><br>  Oncle Bob est étroitement impliqué dans cette discipline depuis plusieurs années, il est donc naturel de lui prêter attention dans cette revue.  L'oncle Bob a défendu TDD et a considérablement élargi les limites de cette discipline.  Soyez assuré que j'ai le plus grand respect pour l'oncle Bob et son dogmatisme pragmatique. <br><br>  Cependant, personne ne pose la question suivante: "après tout, pratiquer signifie" utiliser consciemment "- mais cela ne permet pas de juger du pourcentage, n'est-ce pas?"  À mon avis, la plupart des programmeurs <b>ne traitaient pas du</b> TDD, même pour une période symbolique. <br><br>  La réalité est que nous ne connaissons vraiment pas ces chiffres, car personne n'a enquêté activement sur ce pourcentage.  Toutes les données spécifiques sont limitées à une petite sélection d'entreprises collectées sur le site Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WeDoTDD</a> .  Vous trouverez ici des statistiques sur ces entreprises, des entretiens avec ceux qui pratiquent le TDD tout le temps, mais cette liste n'est pas longue.  De plus, il est incomplet, car même une simple recherche révèle d'autres grandes organisations impliquées dans le TDD - mais, peut-être, pas à pleine capacité. <br><br>  Si nous ne savons pas combien d'entreprises pratiquent le TDD, la question suivante se pose: "Quelle est l'efficacité du TDD, à en juger par ses mérites mesurables"? <br>  Vous serez probablement ravi qu'au fil des années, un certain nombre d'études aient été menées pour confirmer l'efficacité du TDD.  Parmi eux, il y a certainement des rapports faisant autorité de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Microsoft</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IBM</a> , l'Université de Caroline du Nord et l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Université d'Helsinki</a> . <br><br><img src="https://habrastorage.org/webt/2p/qx/vt/2pqxvtwfp0c4pq8y-tynkuezulc.png"><br><br>  <i>Un diagramme expressif tiré d'un rapport de l'Université d'Helsinki.</i> <br><br>  Dans une certaine mesure, ces rapports prouvent que la densité d'erreur peut être réduite de 40 à 60%, ce qui nécessite plus de travail;  l'exécution augmente de 15 à 35%.  Ces chiffres commencent déjà à être retracés dans les livres et les nouvelles méthodologies industrielles, en particulier dans la communauté DevOps. <br><br>  Répondant en partie à ces questions, nous passons à la dernière: «Sur quoi puis-je compter lorsque je commence à pratiquer le TDD?»  C'est pour y répondre que j'ai formulé mes observations personnelles sur TDD.  Passons à eux. <br><br>  <b>1. TDD nécessite une approche verbale</b> <br><br>  Lorsque nous pratiquons le TDD, nous commençons à rencontrer le phénomène de «désignation de cible».  Autrement dit, de courts projets comme la préparation de tests échoués et réussis constituent un sérieux défi intellectuel pour le développeur.  Le développeur doit articuler clairement: "Je crois que ce test réussira" et "Je crois que ce test échouera" ou "Je ne suis pas sûr, laissez-moi réfléchir après avoir essayé cette approche." <br><br>  L'IDE est devenu pour le développeur ce canard en caoutchouc qui supplie de parler activement avec elle.  Au minimum, dans les entreprises TDD, les conversations de ce type devraient fusionner en un buzz continu. <br><br>  Pensez d'abord - puis passez à l'étape suivante (ou aux étapes). <br><br>  Un tel renforcement joue un rôle clé dans la communication: il vous permet non seulement de prédire votre prochaine étape, mais aussi de vous inciter à écrire le code le <b>plus simple</b> pour vous assurer que le test unitaire passe.  Bien sûr, si le développeur est silencieux, il perdra presque certainement son cours, après quoi il devra retourner sur la piste. <br><br>  <b>2. TDD pompe la mémoire du moteur</b> <br><br>  Le développeur, se frayant un chemin à travers ses premiers cycles TDD, se fatigue rapidement - après tout, ce processus est gênant et s'arrête constamment.  Il s'agit d'une situation courante avec toute activité qu'une personne commence à peine, mais qu'elle n'a pas encore maîtrisée.  Le développeur aura recours à des raccourcis, essayant d'optimiser ce cycle afin de se remplir la main et d'améliorer la mémoire du moteur. <br>  La mémoire motrice est indispensable pour que le travail soit amusant et se déroule comme sur des roulettes.  En TDD, cela est nécessaire en raison de la répétition des actions. <br><br>  Obtenez la feuille de triche avec de tels raccourcis.  Tirez le meilleur parti de vos raccourcis clavier dans votre IDE pour rendre les boucles efficaces.  Alors continuez à chercher. <br><br>  En quelques séances, le développeur maîtrise parfaitement la sélection des raccourcis, en particulier, quelques séances suffisent pour assembler et exécuter un banc d'essai.  Lorsque vous vous entraînerez à créer de nouveaux artefacts, à mettre en surbrillance du texte et à naviguer dans l'EDI, tout cela vous semblera tout à fait naturel.  Enfin, vous deviendrez un véritable professionnel et maîtriserez toutes les techniques de refactoring: en particulier, extraire, renommer, générer, élever, reformater et descendre. <br><br>  <b>3. TDD nécessite au moins un peu de réflexion sur leurs actions à l'avance</b> <br><br>  Chaque fois qu'un développeur songe à démarrer un TDD, il doit garder à l'esprit une brève carte mentale des tâches à résoudre.  Dans l'approche traditionnelle de la programmation, une telle carte n'est pas toujours là, et la tâche elle-même peut être présentée "au niveau macro" ou avoir un caractère de recherche.  Peut-être que le développeur ne sait pas comment résoudre le problème, mais n'imagine qu'en gros l'objectif.  Les tests unitaires sont négligés vers cet objectif. <br><br>  Tout en étant assis au travail et en terminant par un autre «asseyez-vous» - essayez également d'en faire un rituel.  Pensez et listez d'abord.  Jouez avec.  Énumérez plus.  Ensuite, continuez, réfléchissez.  Célébrez.  Répétez plusieurs fois.  Alors réfléchissez à nouveau et arrêtez. <br><br>  Soyez catégorique sur le travail.  Suivez ce qui a déjà été fait - cochez les cases.  Ne pliez jamais jusqu'à ce qu'il y en ait au moins un.  Pensez! <br><br>  Peut-être que le libellé de la liste prendra un certain temps qui ne rentre pas dans le cycle de travail.  Cependant, avant de commencer, vous devez avoir une liste.  Sans cela, vous ne savez pas où vous allez.  Nulle part sans carte. <br><br><pre> <code class="hljs erlang-repl">//   // <span class="hljs-string"><span class="hljs-string">""</span></span> -&gt;   // <span class="hljs-string"><span class="hljs-string">"a"</span></span> -&gt;   // <span class="hljs-string"><span class="hljs-string">"aa"</span></span> -&gt;  // <span class="hljs-string"><span class="hljs-string">"racecar"</span></span> -&gt;  // <span class="hljs-string"><span class="hljs-string">"Racecar"</span></span> -&gt;  //   //   </code> </pre> <br>  Le développeur doit <b>répertorier les tests</b> décrits par Kent Beck.  La liste de tests vous permet de résoudre le problème sous la forme de cycles qui se passent en douceur les uns dans les autres.  Au-dessus de la liste des tests, vous devez constamment traiter et mettre à jour, même si ce n'est que quelques secondes avant les tests.  Si la liste de tests est réussie presque complètement moins la dernière étape, alors le résultat est «rouge» et tout le test échoue. <br><br>  <b>4. TDD dépend de la communication avec les collègues</b> <br><br>  Une fois la liste ci-dessus terminée, certaines étapes peuvent être bloquées, car elles ne décrivent pas très clairement quoi faire.  Le développeur n'a pas compris la liste des tests.  L'inverse se produit également - la liste est trop sommaire, dans laquelle il y a beaucoup d'hypothèses sur les exigences qui n'ont pas encore été formulées.  Si vous obtenez quelque chose comme ça, arrêtez-vous tout de suite. <br><br>  Agir sans TDD peut entraîner des implémentations trop complexes.  Travailler dans le style de TDD, mais sans réfléchir, sans liste, n'est pas moins dangereux. <br><br>  Si vous voyez qu'il y a des lacunes dans la liste des tests, levez-vous et dites-le à voix haute. <br><br>  Dans TDD, le développeur doit comprendre quel produit faire, étant guidé par l'idée des exigences nécessaires dans l'interprétation du propriétaire - et rien de plus.  Si l'exigence dans ce contexte n'est pas claire, alors la liste des tests commence à s'effondrer.  Cet échec doit être discuté.  Une discussion calme aide rapidement à renforcer la confiance et le respect.  De plus, c'est ainsi que les boucles de rétroaction se forment rapidement. <br><br>  <b>5. TDD nécessite une architecture itérative</b> <br><br>  Dans la première édition de son livre XP, Kent a suggéré que les tests devraient être le moteur de l'architecture.  Cependant, au cours de plusieurs années, des histoires sont apparues sur la façon dont les équipes de sprint tombent sur un mur déjà en quelques sprints. <br><br>  Bien sûr, construire une architecture basée sur des tests est irrationnel.  L'oncle Bob lui-même a convenu avec d'autres experts que ce n'était pas bon.  Une carte plus complète est nécessaire, mais pas trop loin des listes de tests que vous avez développées «sur le terrain». <br><br>  Plusieurs années plus tard, Kent a également exprimé cette thèse dans son livre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TDD By Example</a> .  <b>La compétitivité</b> et la <b>sécurité</b> sont deux domaines principaux où TDD ne peut pas être le moteur, et le développeur doit les traiter séparément.  Nous pouvons dire que la compétitivité est un niveau différent de conception de système, la compétitivité doit être développée par itérations, en coordonnant ce processus avec TDD.  Cela est particulièrement vrai aujourd'hui, car certaines architectures évoluent vers un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">paradigme</a> réactif et des extensions réactives (la <b>réactivité</b> est la compétitivité à son zénith). <br><br>  Construisez une carte plus grande de toute l'organisation.  Aider à voir les choses un peu en perspective.  Assurez-vous que vous et l'équipe évoluez dans le même cours. <br><br>  Cependant, l'idée la plus importante est l' <b>organisation de l'</b> ensemble du système et aucune organisation TDD n'est fournie.  Le fait est que les tests unitaires sont une chose de bas niveau.  L'architecture itérative et l'orchestration TDD sont complexes dans la pratique et nécessitent la confiance entre tous les membres de l'équipe, une programmation en binôme et des revues de code solides.  On ne sait pas exactement comment y parvenir, mais bientôt vous pourrez voir que de brèves séances de conception devraient être menées à l'unisson avec la mise en œuvre de listes de tests dans le domaine. <br><br>  <b>6. TDD révèle la fragilité des tests unitaires et une mise en œuvre dégénérée</b> <br><br>  Les tests unitaires ont une fonction amusante et TDD la donne complètement.  Ils ne permettent pas de prouver l'exactitude.  E.V.Dijkstra a travaillé sur ce problème et a discuté de la façon dont la preuve mathématique est possible dans notre cas pour combler cette lacune. <br><br>  Par exemple, dans l'exemple suivant, tous les tests liés à un palindrome imparfait hypothétique dicté par la logique métier sont résolus.  Un exemple est développé en utilisant la méthodologie TDD. <br><br><pre> <code class="hljs pgsql">//    @Test fun `Given "", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>`() { "".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeFalse() } @Test fun `Given "a", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>`() { "a".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeFalse() } @Test fun `Given "aa", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "aa".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "abba", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "abba".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "racecar", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "racecar".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "Racecar", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "Racecar".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() }</code> </pre> <br>  En effet, il y a des défauts dans ces tests.  Les tests unitaires sont fragiles même dans les cas les plus triviaux.  Il n'a jamais été possible de prouver leur exactitude, car si nous essayions, cela nécessiterait un travail mental incroyable, et l'apport requis pour cela serait impossible à imaginer. <br><br><pre> <code class="hljs pgsql">//   ,      fun String.<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>() = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isEmpty() || length == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> toLowerCase() == toLowerCase().reversed() //   ,    fun String.<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>() = length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  <code>length &gt; 1</code> peut être appelée une <b>implémentation dégénérée</b> .  C'est tout à fait suffisant pour résoudre la tâche, mais elle-même ne rapporte rien sur le problème que nous essayons de résoudre. <br><br>  La question est - quand un développeur doit-il arrêter d'écrire des tests?  La réponse semble simple: quand c'est <b>suffisant du point de vue de la logique métier</b> , et non selon l'auteur du code.  Cela peut nuire à notre <b>passion pour le design</b> et la simplicité peut <b>énerver les gens</b> .  Ces sentiments sont compensés par la satisfaction à la vue de notre propre code propre et la compréhension que par la suite le code peut être refactorisé en toute confiance.  Tout le code sera très soigné. <br><br>  Notez que pour tout le manque de fiabilité, des tests unitaires sont nécessaires.  Comprenez leurs forces et leurs faiblesses.  Si l'image complète ne correspond pas, peut-être que cet écart aidera à remplir les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tests de mutation</a> . <br><br>  TDD a ses avantages, mais cette méthodologie peut nous distraire de la construction de châteaux de sable inutiles.  Oui, c'est une <b>limitation</b> , mais grâce à elle, vous pouvez vous déplacer plus rapidement, plus loin et de manière plus fiable.  C'est peut-être ce que l'oncle Bob avait à l'esprit en décrivant ce que, de son point de vue, cela signifie <b>être un professionnel</b> . <br><br>  Mais!  Peu importe la fragilité des tests unitaires, ils sont absolument indispensables.  Ce sont eux qui transforment la <b>peur</b> en <b>courage</b> .  Les tests fournissent une refactorisation douce du code;  en outre, ils peuvent servir de <b>guide</b> et de <b>documentation pour</b> tout nouveau développeur qui peut immédiatement se mettre sur la bonne voie et travailler au profit du projet - si ce projet est bien couvert par des tests unitaires. <br><br>  <b>7. TDD montre la boucle inverse des instructions de test</b> <br><br>  Faites un pas de plus.  Pour comprendre les deux phénomènes suivants, nous étudions d'étranges événements récurrents.  Pour commencer, jetons un coup d'œil à FizzBuzz.  Voici notre liste de tests. <br><br><pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/    9  15. [OK] /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  ,  3,  Fizz  . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ ...</span></span></code> </pre><br>  Nous avons fait quelques pas en avant.  Maintenant, notre test échoue. <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> `Given numbers, replace those divisible </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">by</span></span></span><span class="hljs-function"> 3 with "Fizz"`</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> machine = FizzBuzz() assertEquals(machine.print(), <span class="hljs-string"><span class="hljs-string">"?"</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FizzBuzz</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> output = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>..<span class="hljs-number"><span class="hljs-number">15</span></span>) { output += <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-string"><span class="hljs-string">"Fizz "</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${i}</span></span></span><span class="hljs-string"> "</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> output.trim() } } Expected &lt;Fizz <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> Fizz <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> Fizz&gt;, <span class="hljs-keyword"><span class="hljs-keyword">actual</span></span> &lt;?&gt;.</code> </pre> <br>  Naturellement, si nous <code>assertEquals</code> données d'assertion attendues dans <code>assertEquals</code> , le résultat souhaité est obtenu et le test est effectué. <br><br>  Parfois, les tests échoués donnent le résultat correct nécessaire pour réussir le test.  Je ne sais pas comment nommer de tels événements ... peut-être <b>des tests de vaudou</b> .  Le nombre de fois où vous voyez cela - cela dépend en partie de votre paresse et de votre étiquette lors des tests, mais j'ai souvent remarqué de telles choses lorsqu'une personne essaie d'obtenir une implémentation qui fonctionne normalement avec des ensembles de données prêts à l'emploi et prévisibles. <br><br>  <b>8. TDD montre la séquence des transformations</b> <br><br>  TDD peut vous piéger.  Il arrive que le développeur soit confus dans les transformations faites par lui-même, qu'il utilise pour réaliser l'implémentation souhaitée.  À un moment donné, le code de test se transforme en goulot d'étranglement où nous décrochons. <br><br>  Une <b>impasse se</b> forme.  Le développeur doit prendre du recul et désarmer, supprimant certains des tests afin de sortir de ce piège.  Le développeur reste non protégé. <br><br>  L'oncle Bob lui-même était susceptible de tomber dans de telles impasses au cours des années de sa carrière, après quoi il a apparemment réalisé que, pour réussir le test, vous devez définir la séquence d'actions correcte afin de minimiser la probabilité de tomber dans une impasse.  De plus, il devait réaliser une autre condition.  <b>Plus les tests deviennent spécifiques, plus le code est généralisé</b> . <br><br><img src="https://habrastorage.org/webt/iw/a6/dp/iwa6dpb_ice2v31dtae2ux9a2rs.png"><br><br>  <i>La séquence des transformations.</i>  <i>Vous devez toujours vous efforcer pour l'option la plus simple (en haut de la liste).</i> <br><br>  Il s'agit de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">condition de priorité de transition</a> .  Apparemment, il existe un certain ordre de risque de refactoring, que nous sommes prêts à atteindre en passant le test.  Habituellement, il est préférable de choisir l'option de conversion indiquée tout en haut de la liste (la plus simple) - dans ce cas, la probabilité d'entrer dans une impasse reste minime. <br><br>  Le TPP ou <b>l'analyse des tests de l'oncle Bob</b> , pour ainsi dire, est l'un des phénomènes les plus intrigants, technologiques et passionnants actuellement observés. <br><br>  Utilisez-le pour garder votre code aussi simple que possible. <br>  Imprimez la liste TPP et placez-la sur votre bureau.  Vérifiez avec lui pour éviter de vous retrouver dans une impasse.  Faites-en une règle: l'ordre doit être simple. <br><br>  Ceci conclut l'histoire de mes principales observations.  Cependant, dans la dernière partie de l'article, je voudrais revenir à la question à laquelle nous avons oublié de répondre au début: "Quel est le pourcentage de programmeurs professionnels utilisant TDD aujourd'hui?"  Je répondrais: "Je pense qu'il y en a peu."  Je voudrais enquêter sur cette question ci-dessous et essayer d'expliquer pourquoi. <br><br>  <b>Le TDD est-il bien ancré dans la pratique?</b> <br><br>  Malheureusement non.  Subjectivement, il semble que le pourcentage de ses supporters soit faible, et je continue de chercher des données.  Mon expérience en recrutement, en leadership d'équipe et en développement personnel (ce qui me fascine) me permet de faire les constats suivants. <br><br>  <i><b>Raison 1: Manque de contact avec la vraie culture des tests</b></i> <br><br>  Je peux raisonnablement supposer que la plupart des développeurs n'ont pas eu l'occasion d'apprendre et de travailler dans une véritable <b>culture de test</b> . <br><br>  La culture de test est un environnement dans lequel les développeurs pratiquent et améliorent consciemment l'art du test.  Ils forment constamment des collègues qui n'ont pas encore suffisamment d'expérience dans ce domaine.  Une rétroaction a été établie dans chaque paire et chaque demande de pool qui aide tous les participants à développer des compétences de test.  En outre, il existe un soutien sérieux et un sens du coude dans toute la hiérarchie des ingénieurs.  Tous les managers comprennent l'essence du test et y croient.  Lorsque les délais commencent à expirer, la discipline de test n'est pas abandonnée, mais elle continue d'être suivie. <br><br>  Ceux qui ont eu la chance de se tester dans une telle culture de test, comme par exemple, j'ai eu la chance de faire de telles observations.        . <br><br> <i><b> 2:   </b></i> <br><br>        TDD, , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">xUnit Patterns</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Effective Unit Testing</a> . , -,   ,     ,    .               . <br><br>            .        ,     .     .  ,     ,     ,  … . <br><br> <i><b> 3:    </b></i> <br><br> :  ,   ,         .   ,   ,     ; - ,  –       . <br><br> <i><b> 4:        </b></i> <br><br>    ,   ,   TDD      .        ,     . <br><br>   ,   ,        : «  ,    ». : , «  » —     . <br><br>        –      . <br><br>  <b>Conclusion</b> <br><br>  XP   –    <b></b> , <b></b>  <b></b> .    –       ,    .        TDD. <br><br>      ,     ,        .     «»   ,  ,   –     ,      . <br><br><img src="https://habrastorage.org/webt/dn/wb/o-/dnwbo-sr4yomfsdqjvbpda-csgc.png"><br><br> <i>  XP Explained.      ,  ,     .</i> <br><br>       ,   -      . <br><br>   ,   –  ,       .           , ,        ,       . <br><br> ,        ,         ,     . <br><br>  TDD   « »  ,       .          TDD      .   TDD . <br><br> .  TDD      ,   . TDD —  , , .   ,  TDD      ,   .     ,        . <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> `Given software, </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">when</span></span></span><span class="hljs-function"> we build, then we </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">expect</span></span></span><span class="hljs-function"> tests`</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { build(software) shoudHave tests }</code> </pre> <br> , TDD –  ,   <b></b> ,   <b> </b> .     .     ,     ,        ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427853/">https://habr.com/ru/post/fr427853/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427841/index.html">Escroquerie Magic Leap</a></li>
<li><a href="../fr427843/index.html">Comment bien dormir et bien dormir</a></li>
<li><a href="../fr427845/index.html">Comment installer un million d'étoiles dans un iPhone</a></li>
<li><a href="../fr427847/index.html">Curiosité et procrastination dans l'apprentissage automatique</a></li>
<li><a href="../fr427849/index.html">Ligne droite avec TM. v3.0</a></li>
<li><a href="../fr427855/index.html">Mitaps MOSDROID dans FunCorp</a></li>
<li><a href="../fr427857/index.html">Questions fiscales et juridiques pour les pigistes débutants</a></li>
<li><a href="../fr427859/index.html">Pourquoi des compétences techniques au chef de projet: expliquer les cas</a></li>
<li><a href="../fr427861/index.html">CPaaS sans serveur - comment Voximplant a anticipé ce battage médiatique</a></li>
<li><a href="../fr427863/index.html">Créer un ordre arbitraire d'éléments dans la liste des dimensions et mesures du tableau croisé dynamique Excel pour le modèle de table du cube SSAS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>