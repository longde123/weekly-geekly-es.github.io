<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüè≠ üßùüèΩ üì° Elektronisches Spiel XO üì´ üñäÔ∏è üçú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gr√º√üe, Habr! 



 Wie Sie vielleicht auf dem Foto erraten haben, sprechen wir heute nicht √ºber die Klassifizierung von Cognac. Ich werde das Spiel tic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Elektronisches Spiel XO</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429618/"> Gr√º√üe, Habr! <br><br><img src="https://habrastorage.org/webt/je/io/pw/jeiopwm4fks7fxsapgubgf-ztjk.jpeg"><br><br>  Wie Sie vielleicht auf dem Foto erraten haben, sprechen wir heute nicht √ºber die Klassifizierung von Cognac.  Ich werde das Spiel tic-tac-toe machen ... Wen interessiert das - ich bitte um einen Schnitt -&gt; <br><a name="habracut"></a><br>  Die Idee wurde wie immer spontan geboren.  An einem ruhigen Herbstabend zeichnete ich neun Zellen auf ein Blatt und lud meine Tochter ein, ein neues Spiel f√ºr sie zu spielen.  Nachdem ich mehrmals gespielt hatte, sah ich, dass es echtes Interesse gab ... und dann litt Ostap. <br><br>  Es scheint einfacher zu sein, weiterhin Zellen auf ein Blatt Papier zu zeichnen oder das Programm auf Ihr Telefon herunterzuladen. Aber ist es interessant?  Nein! <br><br>  Was ich bekommen wollte: <br><br><ol><li>  Kompaktes Ger√§t im Akku (alle Arten von kapazitiven Tachi und MIPI-Displays verschwinden sofort). </li><li>  Dementsprechend wird √ºber USB aufgeladen (vorzugsweise mit einer Anzeige). </li><li>  Minimale Zeitkosten f√ºr das Board und die Software (wie √ºblich im Allgemeinen). </li><li>  Ber√ºhren Sie die Tasten. </li><li>  Intelligentes Ger√§t mit der F√§higkeit, mit dem Controller zu spielen (ohne einen zweiten Spieler).  Wechsel zu einem und zwei Spielern. </li><li>  Mit einer Taste ein- und ausschalten und vorzugsweise nicht ber√ºhren, damit es nicht zu einem versehentlichen Einschalten kommt. </li><li>  Drucken Sie das Geh√§use auf einem 3D-Drucker + Milchglas, um die LEDs zu schlie√üen. </li></ol><br>  Das Wichtigste zuerst. <br><br>  1. Daher wurde beschlossen, den STM32F100-Controller zu verwenden.  Darauf kann ich zun√§chst die einfache Logik des Spiels vollst√§ndig implementieren.  Bei dem Fall mit 48 Beinen waren alle GPIOs besetzt (ohne den Einsatz von Multiplexern und Expandern).  F√ºr jedes Kreuz und jede Null werden 8 LEDs verwendet (parallel geschaltet), die von Au√üendienstmitarbeitern geschaltet werden (IRLML6401). <br><br>  Das Ger√§t besteht aus zwei Karten, eine mit LEDs und Touch-Tasten, die zweite mit einem Controller, Ladeger√§t, Akku usw.  Sie werden √ºber Anschl√ºsse in Schritten von 2 mm angeschlossen. Zwischen den Platinen befindet sich eine 1250-mA-Batterie. <br><br><img src="https://habrastorage.org/webt/ae/xt/vf/aextvfq0avfhs5vm4hbqsaowk0c.png"><br>  <i>Abb.</i>  <i>1. Controller-Karte</i> <br><br><img src="https://habrastorage.org/webt/ok/h8/j3/okh8j3lxhyrjpw3wgbv0fpqesmu.png"><br>  <i>Abb.</i>  <i>2. LED-Karte</i> <br><br>  Einige Tage sp√§ter kamen die Boards endg√ºltig aus der Produktion.  Ich hatte das Gef√ºhl, dass das Spiel aufgrund der Gr√∂√üe oder der Touch-Tasten unangenehm werden w√ºrde.  Mit Blick auf die Zukunft werde ich sagen, dass das Spielen sehr cool ist!  Die Tasten funktionieren gut durch Plexiglas 1,5-2 mm. <br><br><img src="https://habrastorage.org/webt/re/4j/j9/re4jj9ioicxxzbivdcb8b64ttnu.jpeg"><br>  <i>Abb.</i>  <i>3. Oberseite der Steuerplatine und der LEDs</i> <br><br><img src="https://habrastorage.org/webt/u5/sh/yc/u5shyc4vlzkiuyocttu9dertm-8.jpeg"><br>  <i>Abb.</i>  <i>4. UNTEN Seite der Steuerplatine und der LEDs</i> <br><br>  2. Das Ladesystem ist das einfachste, das ich in √§hnliche Ger√§te stecke. <br><br><img src="https://habrastorage.org/webt/kr/wn/-6/krwn-6lafgn-9uowoy0_baufraq.png"><br>  <i>Abb.</i>  <i>5. Die Schaltung des Ladereglers.</i> <br><br>  3. Alles w√§re in Ordnung, aber es gab mehr Komponenten als ich erwartet hatte und ich wurde zum L√∂ten gequ√§lt.  Das ist nach dem L√∂ten passiert. <br><br><img src="https://habrastorage.org/webt/uo/v8/fh/uov8fhx4pq0vewcfa-1j-hh5oz8.jpeg"><br>  <i>Abb.</i>  <i>6. Steuerplatine mit Komponenten</i> <br><br><img src="https://habrastorage.org/webt/k0/xa/tc/k0xatckm5621w5u-ciarlwbsrow.jpeg"><br>  <i>Abb.</i>  <i>7. LED-Platine mit Komponenten</i> <br><br><img src="https://habrastorage.org/webt/gz/1f/f9/gz1ff9r5d1hoojav0rpc5sza9qa.jpeg"><br>  <i>Abb.</i>  <i>8. LED-Platine mit Komponenten an der Seite der Touch-Tasten.</i> <br><br>  Die erste und bislang einzige Version der Software, die ich auf ifs und in einer Endlosschleife erstellt habe.  Einfach und funktioniert ohne Fehler.  Beim Gewinnen geht das gesamte Feld aus und die Gewinnkombination blinkt zweimal. <br><br>  4. Ich habe beschlossen, die Touch-Tasten in TTP223-Mikroschaltungen zu implementieren. Ich habe sie bereits in einem meiner Projekte verwendet.  Sie erfordern keine Verkabelung und das Vorhandensein / Fehlen eines Polygons unter dem Sensor. <br><br><img src="https://habrastorage.org/webt/df/h9/vi/dfh9vipxo2taymxk4qcrn17f4so.png"><br>  <i>Abb.</i>  <i>9. Das Einschlussschema der Touch-Tasten.</i> <br><br>  Ich hatte mehr als 9 Teile davon und entschied mich daher, den Multiplexer nicht zu verwenden und jede Taste an meinem GPIO-Controller aufzuh√§ngen. <br><br>  5. Als n√§chstes plane ich, den Spielalgorithmus in den Controller zu integrieren (ich habe bereits einige anst√§ndige Optionen gefunden).  Das Umschalten bis jetzt ist geplant, indem Sie die zentrale Touch-Taste gedr√ºckt halten, bevor Sie sie einschalten (dies ist jedoch noch nicht endg√ºltig). <br><br>  6. Ich habe lange dar√ºber nachgedacht, wie man einfach mit einer Taste auf einfache Weise ein- und ausschaltet.  Die schnellste und korrekteste Option sind meiner Meinung nach Transistoren und die Verwendung von zwei GPIO-Controllern, die ich nicht habe.  Deshalb habe ich den CD4013BM Chip eingesetzt.  Das Einschalten erfolgt durch etwa 1s langes Dr√ºcken, das Ausschalten durch schnelles Dr√ºcken.  Es funktioniert gro√üartig. <br><br><img src="https://habrastorage.org/webt/vo/zi/kt/voziktpmuanjzz8w55jiqnbp9qi.png"><br>  <i>Abb.</i>  <i>10. Schaltplan CD4013BM.</i> <br><br>  Der Pin ‚ÄûOUT_KEY‚Äú befindet sich am Fu√ü des Einschaltens (EN) des DC / DC AP3418 (3V3).  Somit ist der Verbrauch minimal. <br><br><img src="https://habrastorage.org/webt/6i/mh/mx/6imhmxwcoertybd_670cvwxovgm.jpeg"><br>  <i>Abb.</i>  <i>11. Platine mit Mikrocontroller und Batterie.</i> <br><br>  7. Der Fall befindet sich noch in der Entwurfsphase.  Geplant ist nur eine h√ºbsche kleine Schachtel mit einem 1,5 mm matten Plexiglas. <br><br>  Als ich ein paar Bl√§tter Papier darauf legte, um zu sehen, wie die Transluzenz abl√§uft, wurde mir klar, dass es sich um ein Fiasko handelte.  Nein, es scheint gut durch, aber das Lineal des Feldes ist nicht sichtbar.  In ‚ÄûAbb.  2. "  In den Ecken des zentralen Quadrats sind 4 zus√§tzliche LEDs installiert (sie befinden sich nicht auf meiner gel√∂teten Leiterplatte).  Wenn alles so funktioniert, wie es in meinem Kopf aussieht, und wenn Sie auf der R√ºckseite mit Plexiglas fr√§sen, geben diese 4 blauen LEDs 4 d√ºnne Strahlen ab, die die Markierung des Feldes bilden und sich beim Einschalten des Ger√§ts einschalten.  Wenn die Strahlen nicht funktionieren, ist in jedem Fall das Fr√§sen sichtbar. <br><br>  Es gibt einen Lautsprecher auf der Platine, aber mit dem eingebauten Generator passt er nicht in die H√∂he, und ohne den Generator nicht.  Ich denke, dass der Vibromotor vom Telefon an diese Stelle fallen wird und es eine Vibrationsreaktion geben wird, wenn gedr√ºckt und gewonnen. <br><br>  Infolgedessen kann ich sagen, dass sich das Spielzeug als sehr interessant herausgestellt hat.  Das Foto vermittelt nicht den gesamten Effekt, aber die Kreuze und Nullen sehen ohne Glanzlichter gro√üartig aus.  Spielen ist ein Vergn√ºgen!  Die Tasten funktionieren perfekt und die Feldgr√∂√üe ist sehr praktisch.  Wenn der Fall fertig ist, werde ich definitiv ein Foto posten. <br><br><img src="https://habrastorage.org/webt/uz/bv/xt/uzbvxthrps4myk2ghrfi5xwnkpu.jpeg"><br><br>  Bis bald! <br><br>  UPD: <br>  Beim Kauf von Komponenten f√ºr 1 Ger√§t wurden zus√§tzliche Preise hinzugef√ºgt. Vielleicht habe ich etwas vergessen.  Bretter und Versammlung z√§hlten nicht.  Etwas kann gegen ein billigeres ausgetauscht werden. <br><br>  1. STM32F100C4T6B - 1 Stk. - 130 Reiben. <br>  2. CD4013BM - 1 St√ºck - 16r. <br>  3. LTC4054 - 1 St√ºck - 5 St√ºck. <br>  4. AP3418KTR - 1 Stk. - 30 reiben. <br>  5. IRLML6401TRPBF (Si2307DS) - 18 St√ºck - 11r. <br>  6. LP503759 - 1 Stk. - 300 Reiben. <br>  7. C191KRCT / C191KGCT - 148 St√ºck - 436 Rubel. <br>  8. TTP223 - 8 St√ºck - 40r. <br>  9. Knopf, Stecker, passiv - ein Haufen - 100 Rubel. <br>  10. Geb√ºhren <br>  11. Montage <br><br>  Gesamt: 1068 reiben. <br><br>  UPD: <br>  Videolink <br><iframe width="560" height="315" src="https://www.youtube.com/embed/yTMTCbUEIdI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de429618/">https://habr.com/ru/post/de429618/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429604/index.html">Lenovo S730-13 (2018) Notebook-Test: Leistungsstarke Hardware in einem eleganten Aluminiumgeh√§use</a></li>
<li><a href="../de429606/index.html">Das verdammte Dutzend f√ºr PM: eine Liste von B√ºchern f√ºr Projektmanager</a></li>
<li><a href="../de429610/index.html">Die Geschichte, wie man den Android-Emulator ausf√ºhrt oder auf dem Intel-Prozessor speichert</a></li>
<li><a href="../de429612/index.html">Fulsteks sind ewige MIDLs. Folgen Sie diesem Weg nicht, wenn Sie nicht leiden wollen</a></li>
<li><a href="../de429616/index.html">Digitaler Arbeitsbereich Teil 1: Citrix</a></li>
<li><a href="../de429620/index.html">Wie ich Karten der Kontinente f√ºr mein Spiel erstellt habe</a></li>
<li><a href="../de429622/index.html">Roboter ersetzten Amazon durch 20.000 Arbeiter</a></li>
<li><a href="../de429624/index.html">Wie die NASA Roboter einsetzen wird, um Raketentreibstoff aus Marsboden herzustellen</a></li>
<li><a href="../de429626/index.html">Genomcracker haben gezeigt, dass keine DNA mehr anonym ist</a></li>
<li><a href="../de429628/index.html">So erstellen Sie einen Chat-Bot f√ºr VKontakte mit Python, Django und Webhook</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>