<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç≥ üë∑üèª üï∫üèæ Une introduction rapide √† Svelte du point de vue d'un d√©veloppeur angulaire ü§µüèø ü§∂üèΩ ü§≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Svelte est un cadre d'interface utilisateur relativement nouveau d√©velopp√© par Rich Harris , qui est √©galement l'auteur du constructeur Rollup. Tr√®s p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Une introduction rapide √† Svelte du point de vue d'un d√©veloppeur angulaire</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467091/"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Svelte</a> est un cadre d'interface utilisateur relativement nouveau d√©velopp√© par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rich Harris</a> , qui est √©galement l'auteur du constructeur Rollup.  Tr√®s probablement, Svelte semblera compl√®tement diff√©rent de ce que vous avez trait√© auparavant, mais c'est peut-√™tre m√™me bon.  Les deux caract√©ristiques les plus impressionnantes de ce cadre sont la rapidit√© et la simplicit√©.  Dans cet article, nous nous concentrerons sur le second. </p><br><p><img src="https://habrastorage.org/webt/cm/ew/bi/cmewbijh_gf8rjlvipourrlcw4w.jpeg"></p><br><p> √âtant donn√© que mon exp√©rience de d√©veloppement principale est li√©e √† Angular, il est naturel que j'essaie d'apprendre Svelte en copiant les approches qui me sont d√©j√† famili√®res.  Et c'est exactement de cela que parlera cet article: comment faire les m√™mes choses dans Svelte que dans Angular. </p><a name="habracut"></a><br><p>  <em><strong>Remarque:</strong> Malgr√© le fait que dans certains cas, j'exprimerai ma pr√©f√©rence, l'article n'est pas une comparaison de cadres.</em>  <em>Il s'agit d'une introduction rapide et facile √† Svelte pour les personnes qui utilisent d√©j√† Angular comme cadre principal.</em> </p><br><p>  <em><strong>Spoiler d'avertissement:</strong> Svelte est amusant.</em> </p><br><h2 id="komponenty">  Composants </h2><br><p> Dans Svelte, chaque composant est associ√© au fichier o√π il est √©crit.  Par exemple, le composant <code>Button</code> sera cr√©√© en nommant le fichier <code>Button.svelte</code> .  Bien s√ªr, nous faisons g√©n√©ralement la m√™me chose dans Angular, mais avec nous, c'est juste une convention.  <em>(Dans Svelte, le nom du composant √† importer peut √©galement ne pas co√Øncider avec le nom du fichier - note du traducteur)</em> </p><br><p>  Les composants Svelte sont √† fichier unique et se composent de 3 sections: <code>script</code> , <code>style</code> et mod√®le qui n'ont pas besoin d'√™tre envelopp√©s dans une balise sp√©ciale. </p><br><p>  Cr√©ons un composant tr√®s simple qui montre "Hello World". </p><br><p><img src="https://habrastorage.org/webt/uw/ti/6j/uwti6j1vjktqkpb-vdjsi4-kcpg.png" alt="hello_world" title="Bonjour tout le monde"></p><br><h3 id="importirovanie-komponentov">  Importer des composants </h3><br><p>  En g√©n√©ral, cela revient √† importer un fichier JS, mais avec quelques mises en garde: </p><br><ul><li>  vous devez sp√©cifier explicitement l' <code>.svelte</code> fichier du composant <code>.svelte</code> </li><li>  les composants sont import√©s √† l'int√©rieur de la <code>&lt;script&gt;</code> </li></ul><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Todo </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Todo.svelte'</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  √Ä partir des extraits ci-dessus, il est √©vident que le nombre de lignes pour cr√©er un composant dans Svelte est incroyablement petit.  Bien s√ªr, il y a des implicitit√©s et des limites, mais en m√™me temps, tout est assez simple pour s'y habituer rapidement. </p><br><h2 id="bazovyy-sintaksis">  Syntaxe de base </h2><br><h3 id="interpolyacii">  Interpolation </h3><br><p>  Les interpolations dans Svelte sont plus similaires √† celles de React que de Vue ou Angular: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> someFunction = </span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> {...} </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>{ 3 + 5 }<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>{ someFunction() }<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>{ someFunction() ? 0 : 1 }<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  J'ai l'habitude d'utiliser des accolades doubles, donc je suis parfois scell√©, mais je n'ai peut-√™tre que ce probl√®me. </p><br><h3 id="atributy">  Attributs </h3><br><p>  La transmission d'attributs aux composants est √©galement assez simple.  Les guillemets sont facultatifs et toutes les expressions Javascript peuvent √™tre utilis√©es: </p><br><pre> <code class="html hljs xml">//Svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> isFormValid = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{!isFormValid}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="sobytiya">  Les √©v√©nements </h3><br><p>  La syntaxe des gestionnaires d'√©v√©nements est: <code>on:={}</code> . </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> onChange = </span><span class="hljs-function"><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">e</span></span></span></span><span class="javascript"><span class="hljs-function">) =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(e); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:input</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{onChange}</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Contrairement √† Angular, nous n'avons pas besoin d'utiliser de parenth√®ses apr√®s le nom de la fonction pour l'appeler.  Si vous devez passer des arguments au gestionnaire, utilisez simplement la fonction anonyme: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:input</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{(e)</span></span></span><span class="hljs-tag"> =&gt;</span></span> onChange(e, 'a')} /&gt;</code> </pre> <br><p>  Mon avis sur la lisibilit√© d'un tel code: </p><br><ul><li>  Nous devons imprimer moins, car nous n'avons pas besoin de guillemets et de crochets - c'est bien quand m√™me. </li><li>  Lisez plus fort.  J'ai toujours aim√© l'approche angulaire plut√¥t que React, donc pour moi et Svelte c'est plus difficile √† prendre.  Mais c'est juste mon habitude et mon opinion est quelque peu biais√©e. </li></ul><br><h3 id="strukturnye-direktivy">  Directives structurelles </h3><br><p>  Contrairement aux directives structur√©es dans Vue et Angular, Svelte propose une syntaxe sp√©ciale pour les boucles et les branches √† l'int√©rieur des mod√®les: </p><br><pre> <code class="html hljs xml">{#if todos.length === 0}    {:else} {#each todos as todo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">} /&gt;</span></span> {/each} {/if}</code> </pre> <br><p>  J'aime vraiment √ßa.  Aucun √©l√©ment HTML suppl√©mentaire n'est n√©cessaire, et en termes de lisibilit√©, cela semble incroyable.  Malheureusement, le symbole <code>#</code> dans la disposition du clavier britannique de mon Macbook est dans un endroit inaccessible, ce qui affecte n√©gativement mon exp√©rience avec ces structures. </p><br><h3 id="vhodnye-svoystva">  Propri√©t√©s d'entr√©e </h3><br><p>  La d√©finition des propri√©t√©s pouvant √™tre transmises √† un composant (analogue √† <code>@Input</code> dans Angular) est aussi simple que d'exporter une variable √† partir d'un module JS √† l'aide du mot-cl√© <code>export</code> .  Au d√©but, cela peut √™tre d√©routant - mais √©crivons un exemple et voyons √† quel point c'est simple: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> todo = { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> { todo.name } { todo.done ? '‚úì' : '‚úï' } <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><ul><li>  Comme vous pouvez le voir, nous avons initialis√© la propri√©t√© <code>todo</code> avec la valeur: ce sera la valeur de la propri√©t√© par d√©faut, au cas o√π elle ne serait pas pass√©e du composant parent </li></ul><br><p>  Cr√©ez maintenant un conteneur pour ce composant, qui lui transmettra des donn√©es: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Todo </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Todo.svelte'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> todos = [{ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">" Svelte"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }, { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">" Vue"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }]; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> {#each todos as todo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{todo}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span> {/each}</code> </pre> <br><p>  Semblable aux champs d'un objet JS normal, <code>todo={todo}</code> peut √™tre raccourci et r√©√©crit comme suit: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">}&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Au d√©but, cela me semblait √©trange, mais maintenant je pense que c'est g√©nial. </p><br><h3 id="vyhodnye-svoystva">  Propri√©t√©s de sortie </h3><br><p>  Pour impl√©menter le comportement de la directive <code>@Output</code> , par exemple, lorsque le composant parent <code>@Output</code> des notifications de l'enfant, nous utiliserons la fonction <code>createEventDispatcher</code> disponible dans Svelte. </p><br><ul><li>  Importez la fonction <code>createEventDispatcher</code> et affectez sa valeur de retour √† la variable de <code>dispatch</code> </li><li>  La fonction de <code>dispatch</code> a deux param√®tres: le <em>nom de l'√©v√©nement</em> et les <em>donn√©es</em> (qui tomberont dans le champ de <code>detail</code> de l'objet √©v√©nement) </li><li>  Nous <code>markDone</code> <code>dispatch</code> √† l'int√©rieur de la fonction <code>markDone</code> , qui est appel√©e par l'√©v√©nement click ( <code>on:click</code> ) </li></ul><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { createEventDispatcher } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'svelte'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> todo; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> dispatch = createEventDispatcher(); </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">markDone</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ dispatch(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'done'</span></span></span><span class="javascript">, todo.name); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> { todo.name } { todo.done ? '‚úì' : '‚úï' } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{markDone}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Dans le composant parent, vous devez cr√©er un gestionnaire pour l'√©v√©nement <code>done</code> afin de pouvoir marquer les objets n√©cessaires dans le tableau des <code>todo</code> . </p><br><ul><li>  Cr√©er la fonction <code>onDone</code> </li><li>  Nous affectons cette fonction au gestionnaire d'√©v√©nements appel√© dans le composant enfant, comme suit: <code>on:done={onDone}</code> </li></ul><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Todo </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Todo.svelte'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> todos = [{ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">" Svelte"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }, { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">" Vue"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }]; </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">onDone</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">event</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> name = event.detail; todos = todos.map(</span><span class="hljs-function"><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">todo</span></span></span></span><span class="javascript"><span class="hljs-function">) =&gt;</span></span></span><span class="javascript"> { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> todo.name === name ? {...todo, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">} : todo; }); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> {#each todos as todo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:done</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{onDone}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span> {/each}</code> </pre> <br><p>  <strong>Remarque:</strong> pour d√©clencher la d√©tection d'un changement dans un objet, nous ne modifions pas l'objet lui-m√™me.  Au lieu de cela, nous attribuons √† la variable <code>todos</code> un nouveau tableau, o√π l'objet de la t√¢che souhait√©e sera d√©j√† chang√© en termin√©. </p><br><p>  <strong>Par cons√©quent, Svelte est consid√©r√© comme vraiment <em>r√©actif</em> :</strong> avec l'affectation habituelle d'une valeur √† une variable, la partie correspondante de la repr√©sentation changera √©galement. </p><br><h3 id="ngmodel">  ngModel </h3><br><p>  Svelte a une syntaxe de <code>bind:&lt;&gt;={}</code> sp√©ciale <code>bind:&lt;&gt;={}</code> pour lier des variables sp√©cifiques aux attributs d'un composant et les synchroniser entre elles. </p><br><p>  En d'autres termes, il vous permet d'organiser une liaison de donn√©es bidirectionnelle: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> name = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">""</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> description = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">""</span></span></span><span class="javascript">; </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">submit</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">e</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">//    } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:submit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{submit}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{name}</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{description}</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2 id="reaktivnye-vyrazheniya">  Expressions r√©actives </h2><br><p>  Comme nous l'avons vu pr√©c√©demment, Svelte r√©pond √† l'attribution de valeurs aux variables et redessine la vue.  Vous pouvez √©galement utiliser des expressions r√©actives pour r√©pondre aux modifications de la valeur d'une variable et mettre √† jour la valeur d'une autre. </p><br><p>  Par exemple, cr√©ons une variable qui devrait nous montrer que dans le tableau <code>todos</code> toutes les t√¢ches sont marqu√©es comme termin√©es: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> allDone = todos.every(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ done }</span></span></span><span class="hljs-function">) =&gt;</span></span> done);</code> </pre> <br><p>  Toutefois, la vue ne sera pas redessin√©e lorsque le tableau est mis √† jour, car la valeur de la variable <code>allDone</code> affect√©e qu'une seule fois.  Nous utiliserons une expression r√©active, qui en m√™me temps nous rappellera l'existence de "labels" en Javascript: </p><br><pre> <code class="javascript hljs">$: allDone = todos.every(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ done }</span></span></span><span class="hljs-function">) =&gt;</span></span> done);</code> </pre> <br><p>  √áa a l'air tr√®s exotique.  S'il vous semble qu'il y a ¬´trop de magie¬ª, je vous rappelle que les tags sont du <strong>Javascript valide</strong> . </p><br><p>  Une petite d√©mo expliquant ce qui pr√©c√®de: <br><img src="https://habrastorage.org/webt/ar/n6/lp/arn6lpzksabtu0qd6jr5y_axvfa.gif" alt="d√©mo" title="D√©mo"></p><br><h2 id="vnedrenie-soderzhimogo">  Injection de contenu </h2><br><p>  Pour incorporer du contenu, des emplacements sont √©galement utilis√©s qui sont plac√©s au bon endroit √† l'int√©rieur du composant. </p><br><p>  Pour afficher simplement le contenu qui a √©t√© transf√©r√© √† l'int√©rieur de l'√©l√©ment composant, un √©l√©ment <code>slot</code> sp√©cial est utilis√©: </p><br><pre> <code class="html hljs xml">// Button.svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> type; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class.type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{type}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> // App.svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Button </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Button.svelte'</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Dans ce cas, la ligne <code>""</code> prendra la place de l'√©l√©ment <code>&lt;slot&gt;&lt;/slot&gt;</code> . <br>  Les emplacements nomm√©s devront √™tre nomm√©s: </p><br><pre> <code class="html hljs xml">// Modal.svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'modal'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-header"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"body"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> // App.svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Modal </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Modal.svelte'</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Modal</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"body"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Modal</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2 id="huki-zhiznennogo-cikla">  Crochets de cycle de vie </h2><br><p>  Svelte propose 4 crochets de cycle de vie qui sont import√©s du package <code>svelte</code> . </p><br><ul><li>  onMount - appel√© lorsqu'un composant est mont√© dans le DOM </li><li>  beforeUpdate - appel√© avant la mise √† jour du composant </li><li>  afterUpdate - appel√© apr√®s la mise √† jour du composant </li><li>  onDestroy - appel√© lorsqu'un composant est supprim√© du DOM </li></ul><br><p>  La fonction <code>onMount</code> prend en param√®tre une fonction de rappel qui sera appel√©e lorsque le composant sera plac√© dans le DOM.  Autrement dit, il est similaire √† l' <code>ngOnInit</code> crochet <code>ngOnInit</code> . </p><br><p>  Si la fonction de rappel renvoie une autre fonction, elle sera appel√©e lorsque le composant sera supprim√© du DOM. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { onMount, beforeUpdate, afterUpdate, onDestroy } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'svelte'</span></span></span><span class="javascript">; onMount(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, todo)); afterUpdate(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, todo)); beforeUpdate(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'  '</span></span></span><span class="javascript">, todo)); onDestroy(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, todo)); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Il est important de se rappeler que lors de l'appel √† <code>onMount</code> toutes les propri√©t√©s qui y sont incluses doivent d√©j√† √™tre initialis√©es.  Autrement dit, dans le fragment ci-dessus, les <code>todo</code> doivent d√©j√† exister. </p><br><h2 id="upravlenie-sostoyaniem">  Gestion de l'√âtat </h2><br><p>  La gestion de votre √©tat √† Svelte est incroyablement simple, et peut-√™tre que cette partie du cadre me sympathise plus que quiconque.  Vous pouvez oublier la verbosit√© du code lorsque vous utilisez Redux.  Par exemple, nous allons cr√©er du stockage dans notre application pour le stockage et la gestion des t√¢ches. </p><br><h3 id="zapisyvaemye-hranilischa">  Vo√ªtes enregistrables </h3><br><p>  Vous devez d'abord importer l' <code>writable</code> de stockage <code>writable</code> partir du package <code>svelte/store</code> et lui indiquer la valeur initiale <code>initialState</code> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { writable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'svelte/store'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">" Svelte"</span></span>, <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">" Vue"</span></span>, <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> todos = writable(initialState);</code> </pre> <br><p>  Habituellement, je mets du code similaire dans un fichier s√©par√© comme <code>todos.store.js</code> et <code>todos.store.js</code> exporte la variable de stockage afin que le composant o√π je l'importe puisse fonctionner avec. </p><br><p>  De toute √©vidence, l'objet <code>todos</code> est devenu un r√©f√©rentiel et n'est plus un tableau.  Pour obtenir la valeur de stockage, nous allons utiliser un peu de magie dans Svelte: </p><br><ul><li>  En ajoutant le caract√®re <code>$</code> au nom de la variable de stockage, nous obtenons un acc√®s direct √† sa valeur! </li></ul><br><p>  Ainsi, nous rempla√ßons simplement dans le code toutes les r√©f√©rences √† la variable <code>todos</code> par <code>$todos</code> : </p><br><pre> <code class="html hljs xml">{#each $todos as todo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{todo}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:done</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{onDone}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span> {/each}</code> </pre> <br><h3 id="ustanovka-sostoyaniya">  R√©glage de l'√©tat </h3><br><p>  La nouvelle valeur du stockage enregistrable peut √™tre sp√©cifi√©e en appelant la m√©thode <code>set</code> , qui change imp√©rativement l'√©tat en fonction de la valeur transmise: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> todos = writable(initialState); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeAll</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ todos.set([]); }</code> </pre> <br><h3 id="obnovlenie-sostoyaniya">  Mise √† jour du statut </h3><br><p>  Pour mettre √† jour le stockage (dans notre cas, <code>todos</code> ), en fonction de son √©tat actuel, vous devez appeler la m√©thode de <code>update</code> et lui passer une fonction de rappel qui renverra le nouvel √©tat du stockage. </p><br><p>  Nous <code>onDone</code> fonction <code>onDone</code> que nous avons cr√©√©e pr√©c√©demment: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = event.detail; todos.update(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state.map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">todo</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> todo.name === name ? {...todo, <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>} : todo; }); }); }</code> </pre> <br><p>  Ici, j'ai utilis√© un r√©ducteur directement dans le composant, ce qui est une mauvaise pratique.  Nous le d√©pla√ßons dans un fichier avec notre r√©f√©rentiel et en exportons une fonction qui mettra simplement √† jour l'√©tat. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// todos.store.js export function markTodoAsDone(name) { const updateFn = (state) =&gt; { return state.map((todo) =&gt; { return todo.name === name ? {...todo, done: true} : todo; }); }); todos.update(updateFn); } // App.svelte import { markTodoAsDone } from './todos.store'; function onDone(event) { const name = event.detail; markTodoAsDone(name); }</span></span></code> </pre> <br><h3 id="podpiska-na-izmenenie-sostoyaniya">  Abonnement au changement de statut </h3><br><p>  Afin de d√©couvrir que la valeur dans le r√©f√©rentiel a chang√©, vous pouvez utiliser la m√©thode d' <code>subscribe</code> .  Gardez √† l'esprit que le r√©f√©rentiel n'est pas un objet <code>observable</code> , mais fournit une interface similaire. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscription = todos.subscribe(<span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log); subscription(); <span class="hljs-comment"><span class="hljs-comment">//    </span></span></code> </pre> <br><h2 id="observables">  Observables </h2><br><p>  Si cette partie vous a caus√© le plus d'enthousiasme, alors je m'empresse de plaire qu'il n'y a pas si longtemps, le support RxJS a √©t√© ajout√© √† Svelte et l'Observable pour ECMAScript a √©t√© introduit. </p><br><p>  En tant que d√©veloppeur Angular, je suis d√©j√† habitu√© √† travailler avec une programmation r√©active, et l'absence d'un √©quivalent de <em>canal asynchrone</em> serait extr√™mement g√™nant.  Mais Svelte m'a aussi surpris ici. </p><br><p>  Voyons un exemple de la fa√ßon dont ces outils fonctionnent ensemble: afficher une liste de r√©f√©rentiels sur Github, trouv√©e par le mot-cl√© <code>"Svelte"</code> . </p><br><p>  Vous pouvez copier le code ci-dessous et l'ex√©cuter directement dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">REPL</a> : </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> rx </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"https://unpkg.com/rxjs/bundles/rxjs.umd.min.js"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> { pluck, startWith } = rx.operators; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> ajax = rx.ajax.ajax; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> URL = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">`https://api.github.com/search/repositories?q=Svelte`</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> repos$ = ajax(URL).pipe( pluck(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"response"</span></span></span><span class="javascript">), pluck(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"items"</span></span></span><span class="javascript">), startWith([]) ); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> {#each $repos$ as repo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{repo.url}"</span></span></span><span class="hljs-tag">&gt;</span></span>{repo.name}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {/each} <span class="hljs-comment"><span class="hljs-comment">&lt;!--   Angular: &lt;div *ngFor="let repo of (repos$ | async)&gt; &lt;a [attr.href]="{{ repo.url }}"&gt;{{ repo.name }}&lt;/a&gt; &lt;/div&gt; --&gt;</span></span></code> </pre><br><p>  Ajoutez simplement le symbole <code>$</code> au nom de la variable observable <code>repos$</code> et Svelte affichera automatiquement son contenu. </p><br><h2 id="moy-spisok-pozhelaniy-dlya-svelte">  Ma liste de souhaits pour Svelte </h2><br><h3 id="podderzhka-typescript">  Support typographique </h3><br><p>  En tant que passionn√© de Typescript, je ne peux m'emp√™cher de souhaiter la possibilit√© d'utiliser des types dans Svelte.  J'y suis tellement habitu√© que parfois je m'emballe et arrange des types dans mon code, que je dois ensuite supprimer.  J'esp√®re vraiment que Svelte ajoutera bient√¥t le support pour Typescript.  Je pense que cet article sera sur la liste de souhaits de tous ceux qui souhaitent utiliser Svelte avec une exp√©rience avec Angular. </p><br><h3 id="soglasheniya-i-gaydlayny">  Accords et directives </h3><br><p>  Le rendu de la repr√©sentation de n'importe quelle variable du bloc <code>&lt;script&gt;</code> est une fonctionnalit√© tr√®s puissante du framework, mais √† mon avis, cela peut conduire √† un encombrement de code.  J'esp√®re que la communaut√© Svelte travaillera √† travers un certain nombre de conventions et de directives pour aider les d√©veloppeurs √† √©crire du code de composant propre et compr√©hensible. </p><br><h3 id="podderzhka-soobschestvom">  Soutien communautaire </h3><br><p>  Svelte est un projet grandiose qui, avec un effort accru de la communaut√© dans la r√©daction de packages tiers, de manuels, d'articles de blog et plus encore, peut d√©coller et devenir un outil reconnu dans le monde √©tonnant du d√©veloppement Frontend que nous avons aujourd'hui. </p><br><h2 id="v-zaklyuchenie">  En conclusion </h2><br><p>  Malgr√© le fait que je n'√©tais pas fan de la version pr√©c√©dente du framework, Svelte 3 m'a fait bonne impression.  C'est simple, petit, mais peut faire beaucoup.  Il est si diff√©rent de tout ce qui l'entoure qu'il m'a rappel√© l'excitation que j'ai ressentie lorsque je suis pass√© de jQuery √† Angular. </p><br><p>  Quel que soit le framework que vous utilisez actuellement, l'apprentissage de Svelte ne prendra probablement que quelques heures.  Une fois que vous aurez appris les bases et compris les diff√©rences avec ce que vous avez l'habitude d'√©crire, travailler avec Svelte sera tr√®s facile. </p><br><p>  Dans la cha√Æne Telegram en langue russe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@sveltejs,</a> vous trouverez s√ªrement des d√©veloppeurs qui ont de l'exp√©rience avec divers cadres et sont pr√™ts √† partager leurs histoires, leurs pens√©es et leurs conseils concernant Svelte. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467091/">https://habr.com/ru/post/fr467091/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467081/index.html">Analyse de la coloration √©motionnelle des critiques de Kinopoisk</a></li>
<li><a href="../fr467083/index.html">Comment l'√©trange instruction popcount est utilis√©e dans les processeurs modernes</a></li>
<li><a href="../fr467085/index.html">La d√©compilation C, C ++ et DotNet sont les bases de l'inverse. R√©solution des probl√®mes de marche arri√®re avec r0ot-mi. partie 1</a></li>
<li><a href="../fr467087/index.html">Comment j'ai pr√©par√© et r√©ussi la certification Oracle Database SQL (1Z0-071)</a></li>
<li><a href="../fr467089/index.html">Exim patch√© - patchez √† nouveau. Nouvelle ex√©cution de commande √† distance dans Exim 4.92 en une seule demande</a></li>
<li><a href="../fr467093/index.html">Espionner vos programmes avec Strace</a></li>
<li><a href="../fr467095/index.html">Plus simple qu'il n'y para√Æt. 20</a></li>
<li><a href="../fr467097/index.html">Utilisation de la biblioth√®que de pagination avec Realm</a></li>
<li><a href="../fr467099/index.html">Hapi pour les petits</a></li>
<li><a href="../fr467101/index.html">L'√©pop√©e de la cr√©ation d'un robot avec l'odeur d'un chien</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>