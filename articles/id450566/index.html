<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏝️ 🍧 🛀🏿 OutOfMemory dan penggunaan gambar vektor di Android Studio 🙆🏿 👎🏾 👃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Dalam artikel ini, yang ditujukan untuk pemula, saya ingin memberikan beberapa kiat untuk mengoptimalkan penggunaan memori perangkat oleh ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OutOfMemory dan penggunaan gambar vektor di Android Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450566/">  Halo, Habr!  Dalam artikel ini, yang ditujukan untuk pemula, saya ingin memberikan beberapa kiat untuk mengoptimalkan penggunaan memori perangkat oleh aplikasi, agar tidak terus-menerus mendapatkan OutOfMemory, dan juga mempertimbangkan penggunaan gambar vektor dalam versi Android Studio (3.4) saat ini, karena sebagian besar sumber daya berbahasa Rusia tentang ini Topik ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> terakhir tentang Habré tentang gambar-gambar vektor berasal dari tahun 2015) sudah usang, yang sering menyesatkan pengembang pemula.  Jadi mari kita mulai. <br><a name="habracut"></a><br><h3>  1. Gunakan gambar vektor alih-alih bitmap </h3><br>  Tentu saja, gambar besar dengan banyak detail kecil tidak boleh diubah menjadi vektor - ini akan memakan ruang sebanyak raster, jika tidak lebih.  Namun, gambar kecil, seperti ikon dan detail lain dari antarmuka pengguna harus dikonversi ke vektor untuk menghemat memori.  Dan bekerja dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gambar vektor</a> seringkali jauh lebih nyaman.  Dan sekarang, hal terpenting - bagaimana melakukannya? <br><br><ol><li>  Buka Android Studio. </li><li>  Klik kanan pada folder yang dapat digambar atau kontennya&gt; Baru&gt; Aset Vektor <br><br><img src="https://habrastorage.org/webt/yd/yx/nz/ydyxnzofoc2w58vidp0v7kj2pm0.jpeg"></li><li>  Tentukan path ke file svg Anda.  Jika gambar Anda memiliki bentuk tidak beraturan, maka saya sarankan Anda untuk mencentang kotak di sebelah parameter Override - jika tidak gambar akan disesuaikan dengan ukuran standar, yang dapat mengubah proporsinya. <br><br><img src="https://habrastorage.org/webt/zw/nx/8j/zwnx8jptjsjvvipavpn5an0v4de.jpeg"></li><li>  Berikutnya&gt; Selesai </li><li>  Selesai! </li></ol><br>  Untuk mengkonversi dari raster ke vektor, saya dapat merekomendasikan aplikasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Inkscape</a> gratis yang sangat baik.  Sedikit tentang bekerja dengannya: <br><br><ol><li>  Buka Inkscape. </li><li>  Seret setiap raster ke dalamnya.  Di jendela yang terbuka, pilih opsi impor dan klik OK. </li><li>  Di bilah alat atas, setelah memilih gambar kami, pilih Path&gt; Vectorize raster (Shift + Alt + B). </li><li>  Sekarang yang paling penting.  Di jendela baru, centang kotak di samping "Hapus latar belakang" dan pilih yang berikut: apakah gambar kita akan berwarna, dan berapa banyak pemindaian yang akan dibuat.  Kita tidak boleh lupa bahwa ukuran file vektor kita secara langsung tergantung pada dua parameter ini. <br><br>  Lebih banyak pindaian - lebih banyak warna, corak, dan detail.  Leprechaun saya, untuk memperoleh penampilan yang ilahi, karena lebih banyak warna dalam gambar, diperlukan 30 pemindaian.  Ini cukup banyak, lebih baik melakukan tidak lebih dari sepuluh dan memilih gambar lebih mudah. <br><br><img src="https://habrastorage.org/webt/k-/qk/a3/k-qka3pfsclaxmfx5z0lkql_uiq.jpeg"></li><li>  Tutup jendela, klik raster dan hapus dengan tombol Delete, buka File&gt; Document Properties (Shift + Ctrl + D), sesuaikan ukuran halaman untuk konten. </li></ol><br>  Sekarang kita akan melakukan tes kecil yang membuktikan keunggulan vektor dalam menghemat memori. <br>  Saya membuat proyek baru dengan ImageView tunggal, di mana saya menerapkan animasi yang memindahkannya dari titik A ke titik B, secara bergantian mengubah gambar menjadi raster dan vektor.  Kami melihat data. <br><br>  Raster <br><br><img src="https://habrastorage.org/webt/1m/dc/zl/1mdczltjsqgifnfhtxjignty6o0.jpeg"><br><br>  Vektor <br><br><img src="https://habrastorage.org/webt/ez/hm/oq/ezhmoqzzrltr5pinghsv8r-0e4a.jpeg"><br><br>  Perbedaannya hampir dua kali.  Saya pikir ini cukup meyakinkan. <br><br><h3>  2. Tambah ukuran tumpukan </h3><br>  Untuk melakukan ini, buka manifes proyek Anda (aplikasi&gt; manifes&gt; AndroidManifest.xml) dan tambahkan baris di kolom aplikasi: <br><br><pre><code class="xml hljs">android:largeHeap="true"</code> </pre> <br>  Sebenarnya, meningkatkan tumpukan bukanlah solusi untuk masalah OutOfMemory, tetapi lebih mendorongnya ke rak jauh.  Alih-alih mengoptimalkan penggunaan memori perangkat oleh aplikasi, kami memberikan lebih banyak ruang.  Jangan lupa bahwa setiap perangkat memiliki kapasitas memori masing-masing, baik primer maupun sekunder, yang dialokasikan untuk aplikasi tersebut. <br><br><h3>  3. Hindari kebocoran memori </h3><br>  Setiap aplikasi dalam pekerjaannya menggunakan banyak objek, yang, tentu saja, menempati tempat tertentu dalam memori.  Idealnya, pengumpul sampah harus menghapus objek yang tidak terpakai darinya, tetapi kadang-kadang ada yang disebut "kebocoran memori" yang menyebabkan masalah serius dalam aplikasi.  Ada berbagai penyebab kebocoran memori, yang dijelaskan secara rinci di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Saya sendiri, saya ingin menyarankan perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WeakHandler</a> , yang dikembangkan oleh Badoo, dan dirancang untuk menghilangkan kebocoran memori yang terkait dengan penyalahgunaan android.os.Handler.  Untuk menggunakan perpustakaan ini, tambahkan baris berikut ke kolom dependensi Anda di file gradle Anda (Skrip Gradle&gt; build.gradle (Module: app)): <br><br><pre> <code class="xml hljs">compile 'com.badoo.mobile:android-weak-handler:1.1'</code> </pre> <br>  dan di file java: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WeakHandler mHandler; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ mHandler = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WeakHandler(); ... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ mHandler.postDelayed(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { view.setVisibility(View.INVISIBLE); }, <span class="hljs-number"><span class="hljs-number">5000</span></span>); }</code> </pre> <br>  Dan jangan lupa untuk mengimpor WeakHandler sendiri jika studio tidak melakukan ini secara otomatis. <br><br><h3>  4. Hindari animasi selang waktu yang besar </h3><br>  Animasi frame-by-frame di Android Studio adalah hal yang nyaman, tetapi bukan yang paling ekonomis.  Jika Anda menggunakan sejumlah besar gambar di dalamnya, Anda pasti akan mendapatkan OutOfMemory. <br><br>  Tapi, jika Anda benar-benar membutuhkannya, lebih baik menggunakan gambar gif bersama dengan pustaka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Gif Drawable Android</a> .  Pustaka ini menyederhanakan pekerjaan dengan gif dan juga menggunakan memori jauh lebih sedikit daripada animasi frame-by-frame Android Studio.  Untuk menggunakan perpustakaan ini, tambahkan baris berikut ke kolom dependensi Anda di file gradle Anda (Skrip Gradle&gt; build.gradle (Module: app)): <br><br><pre> <code class="xml hljs">implementation 'pl.droidsonroids.gif:android-gif-drawable:1.2.16'</code> </pre> <br>  dan di file gradle kedua Anda (Skrip Gradle&gt; build.gradle (Modul: "nama aplikasi Anda")) di skrip builds dan semua kolom proyek baris: <br><br><pre> <code class="xml hljs">mavenCentral()</code> </pre> <br>  dan di file java: <br><br><pre> <code class="java hljs">GifDrawable gifFromResource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GifDrawable( getResources(), R.drawable._ ); gifFromResource.start();</code> </pre><br>  Untuk menonaktifkan gif, alih-alih mulai (), tulis stop ().  Juga jangan lupa kompres gif, ini akan menghemat lebih banyak ruang. <br><br>  Saya harap artikel saya bermanfaat bagi Anda.  Terima kasih </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450566/">https://habr.com/ru/post/id450566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450550/index.html">Bagian 4. Programmer karier. Junior Entri lepas</a></li>
<li><a href="../id450552/index.html">Kami menunjukkan laboratorium "Advanced Nanomaterials and Optoelektronik Devices" ITMO University</a></li>
<li><a href="../id450554/index.html">Breaking the Design Pattern - Singleton dalam PHP</a></li>
<li><a href="../id450556/index.html">Indeks Valve - review dari set VR baru</a></li>
<li><a href="../id450564/index.html">Berkilauan dan kemiskinan: bagaimana revolusi digital membuat musisi semakin miskin</a></li>
<li><a href="../id450568/index.html">Setiap racun memiliki penawarnya sendiri. Bagaimana cara menyimpan atau setidaknya mencoba (upd: tentang penangkal racun rumah tangga)</a></li>
<li><a href="../id450572/index.html">Samba DC sebagai pengontrol kedua di domain AD Windows 2012R2 dan folder roaming untuk klien di Windows dan Linux</a></li>
<li><a href="../id450574/index.html">Buat multiplayer .io web game</a></li>
<li><a href="../id450576/index.html">Aturan baru untuk anonimitas messenger</a></li>
<li><a href="../id450578/index.html">Apa yang terdengar di udara? Kami menerima dan mendekode sinyal yang paling menarik. Bagian 2, VHF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>