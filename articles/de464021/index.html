<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§úüèª ü¶ì üë¥üèΩ Was ist Feature Toggle oder wie kann man qu√§lende Walrosse und langlebige Zweige loswerden? üë©üèΩ‚Äçüé® üë©üèº‚Äçüîß üßëüèø‚Äçü§ù‚Äçüßëüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Angenommen, Sie m√∂chten eine neue Funktion entwickeln, sind sich jedoch nicht sicher, ob sie den Benutzern gefallen wird, und Sie m√ºssen eine M√∂glichk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Was ist Feature Toggle oder wie kann man qu√§lende Walrosse und langlebige Zweige loswerden?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464021/">  Angenommen, Sie m√∂chten eine neue Funktion entwickeln, sind sich jedoch nicht sicher, ob sie den Benutzern gefallen wird, und Sie m√ºssen eine M√∂glichkeit haben, sie schmerzlos auszublenden.  Oder nehmen Sie an, Sie arbeiten an einer neuen gro√üen Funktion und m√∂chten Monster-Commits vermeiden.  Oder Sie m√∂chten das Verhalten der Site einfach konfigurierbar machen.  Wie kann ich all diese Probleme l√∂sen, lesen Sie unter der Katze. <br><a name="habracut"></a><br><h3>  Das Problem </h3><br>  Stellen Sie sich vor, die Entwicklungszyklen Ihres Teams dauern zwei Wochen, und die Implementierung einer neuen Funktion erfordert 3 Monate Entwicklungszeit vom Team.  Auf den ersten Blick gibt es zwei m√∂gliche Aktionsschemata: <br><br><ul><li>  Erstellen Sie einen separaten Zweig und erledigen Sie die gesamte Arbeit darin drei Monate lang. Ziehen Sie dabei regelm√§√üig den √ºbergeordneten Zweig ab <br></li><li>  Verwenden Sie das Konzept der kontinuierlichen Integration (kurz <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Continuious Integration oder kurz CI</a> ): Zerlegen Sie die Aufgabe und frieren Sie den Code in kleinen Teilen ein <br></li></ul><br>  Beide Ans√§tze haben ihre offensichtlichen Vor- und Nachteile: <br><br><div class="scrollable-table"><table><tbody><tr><th></th><th>  Vorteile </th><th>  Nachteile <img src="https://habrastorage.org/webt/rm/hk/at/rmhkatlixr1hxispxenca2gtihc.png" width="30" height="30"></th></tr><tr><th>  Langlebiger Zweig </th><td>  Der Code Ihrer unvorbereiteten Funktion befindet sich nicht im √ºbergeordneten Zweig und ist f√ºr andere Entwickler kein Dorn im Auge </td><td><ul><li>  Permanente Zusammenf√ºhrungskonflikte, die Sie l√∂sen m√ºssen </li><li>  Monstr√∂se Pull-Anfrage ungeeignet f√ºr Code-√úberpr√ºfung </li></ul><br></td></tr><tr><th>  Viele kurzfristige Commits von Filialen </th><td>  Die Aufgabe ist gut zerlegt und in kleinen Portionen eingefroren, sodass Zusammenf√ºhrungskonflikte nicht gel√∂st werden m√ºssen </td><td>  Ihre unvorbereitete Funktion wird andere Entwickler nerven und m√∂glicherweise Auswirkungen von Drittanbietern auf die Benutzeroberfl√§che verursachen </td></tr></tbody></table></div><br><h3>  Verwenden von Funktionsumschaltern zur L√∂sung von Problemen </h3><br>  Ein solches Problem tritt in der Entwicklung h√§ufig auf, und es gibt eine elegante L√∂sung, mit der Sie die oben beschriebenen Ans√§tze optimal nutzen k√∂nnen - <b>Feature Toggle</b> oder <b>Feature Switcher</b> . <br><br>  Im Wesentlichen ist ein Feature-Switcher ein boolesches Flag, das in der Datenbank gespeichert ist und Informationen dar√ºber enth√§lt, ob ein Feature aktiviert werden soll oder nicht.  Der Wert dieses Flags kann per Schl√ºssel aus der Datenbank abgerufen werden.  Die Verwendung von Feature-Switchern bietet den Vorteil, dass sie von einem Gesch√§ftsbenutzer zur Laufzeit √ºber das Admin-Panel problemlos ge√§ndert werden k√∂nnen, ohne dass die Anwendung erneut bereitgestellt werden muss. <br><br>  Das folgende Beispiel zeigt die Verwendung des Feature-Toggle in Java: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (configurationManager.getParameter(<span class="hljs-string"><span class="hljs-string">"is.some.functionality.enabled"</span></span>)) { <span class="hljs-comment"><span class="hljs-comment">// do some stuff } else { // do default logic }</span></span></code> </pre> <br>  Im obigen Beispiel ist <i>configurationManager</i> eine Klasse, mit der Sie den Wert eines bestimmten Feature-Switcher anhand seines Schl√ºssels aus der Datenbank abrufen k√∂nnen. <br><br>  Mithilfe von Funktionsumschaltern k√∂nnen Sie auch bestimmte Elemente im Frontend ein- / ausblenden.  Dazu m√ºssen Sie den Flag-Wert in Model einf√ºgen und wie unten gezeigt an View √ºbergeben: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@ModelAttribute</span></span>(<span class="hljs-string"><span class="hljs-string">"isSomeFunctionalityEnabled"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isSomeFunctionalityEnabled</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> configurationManager.getParameter(<span class="hljs-string"><span class="hljs-string">"is.some.functionality.enabled"</span></span>); }</code> </pre><br>  Verwenden Sie dann den √ºbergebenen Wert, um diesen oder jenen HTML-Code zu rendern: <br><br><pre> <code class="plaintext hljs">&lt;c:choose&gt; &lt;c:when test="${isSomeFunctionalityEnabled}"&gt; &lt;!-- Render some stuff --&gt; &lt;/c:when&gt; &lt;c:otherwise&gt; &lt;!-- Render some other stuff --&gt; &lt;/c:otherwise&gt; &lt;/c:choose&gt;</code> </pre><br><h3>  Arten von Funktionsumschaltern </h3><br>  Das beschriebene Konzept der Verwendung von Funktionsumschaltern ist nur ein m√∂glicher Anwendungsfall, und solche Funktionsumschalter werden als Freigabeschalter bezeichnet.  Insgesamt werden 3 verschiedene Arten von Funktionsumschaltern unterschieden: <br><br><ul><li>  <b>Release-Schalter</b> - Mit dieser <b>Option</b> k√∂nnen Sie <b>unvollst√§ndig</b> implementierte Funktionen w√§hrend ihrer Entwicklung ausblenden </li><li>  <b>Experiment kippt</b> - Schalter f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">A / B-Tests</a> </li><li>  <b>Berechtigungsumschalter</b> - <b>Ein-</b> / Ausschalter f√ºr verschiedene Benutzergruppen </li></ul><br>  Mit Feature-Switchern k√∂nnen Sie also zwei verschiedene Versionen der Site auf derselben Codebasis erstellen, wobei Sie unterschiedliche Datenbanken und verschiedene S√§tze von Feature-Switchern verwenden.  Auf einer europ√§ischen Website ist es beispielsweise sinnvoll, alle Funktionen im Zusammenhang mit der DSGVO einzuschlie√üen. Auf einer russischen Website ist dies jedoch nicht m√∂glich. <br><br><img src="https://habrastorage.org/webt/jv/bb/y7/jvbby79ujnc1jaovvj-890zmmgo.png"><br><br><h2>  Probleme beim Umschalten von Funktionen </h2><br>  Da ich an einem Projekt arbeite, in dem Feature-Toggles zus√§tzlich zu den offensichtlichen Vorteilen ihrer Verwendung aktiv verwendet werden, bemerkte ich Probleme, die damit verbunden waren: <br><br><ul><li>  <b>Testen der Komplexit√§t</b> : Wenn eine neue Version ver√∂ffentlicht wird, testen die QS-Ingenieure alle darin enthaltenen Funktionen und versuchen, sie mithilfe von Funktionsumschaltern ein- und auszuschalten.  Dies erfordert viel zus√§tzliche Zeit, da es ratsam ist, alle Arten von Kombinationen von Flags zu testen </li><li>  <b>Das Auftreten von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">totem Code</a></b> : Die Werte vieler Feature-Toggles √§ndern sich √ºber einen l√§ngeren Zeitraum nicht oder √ºberhaupt nicht, und daher wird der f√ºr einen anderen Flag-Wert geschriebene Code tats√§chlich "tot". </li><li>  <b>Unerwartete Site-Ausf√§lle</b> : Viele der veralteten Feature-Switches haben die ungl√ºckliche Eigenschaft, beim √Ñndern ihres Werts etwas zu besch√§digen (da niemand lange √ºberpr√ºft hat, ob sie funktionieren).  Da Feature-Switches in der Datenbank gespeichert sind und von Gesch√§ftsbenutzern √ºber das Admin-Panel leicht ge√§ndert werden k√∂nnen, kommt es h√§ufig zu Ausf√§llen aufgrund einer Wert√§nderung.  Die Leistung von lange nicht verwendeten Feature-Switchern sollte zuerst in einer Testumgebung √ºberpr√ºft werden </li></ul><br><h3>  L√∂sungen f√ºr einige der beschriebenen Probleme </h3><br>  Die folgenden Aktionen k√∂nnen zur L√∂sung der oben genannten Probleme beitragen: <br><br><ul><li>  <b>Dokumentation der verf√ºgbaren Funktionsumschalter:</b> Um zu verstehen, welche Auswirkungen ein bestimmter Funktionsumschalter hat und nach welchem ‚Äã‚ÄãSchl√ºssel in der Datenbank gesucht werden muss, m√ºssen Sie eine detaillierte Dokumentation mit einer Beschreibung aller Funktionsumschalter erstellen. </li><li>  <b>Regelm√§√üige √úberarbeitung von Feature-Switchern:</b> Um das Auftreten von totem Code zu vermeiden, entfernen Sie regelm√§√üig veraltete Feature-Switches und den zugeh√∂rigen Code </li></ul><br><h3>  Zusammenfassung </h3><br>  <b>Feature Switcher</b> ist ein sehr einfacher und gleichzeitig leistungsstarker Mechanismus, mit dem Sie monstr√∂se Commits vermeiden, das Anwendungsverhalten leicht √§ndern oder mehrere verschiedene Anwendungen auf derselben Codebasis mithilfe verschiedener Feature-Toggle-Konfigurationen zusammenstellen k√∂nnen. <br><br>  Es ist jedoch auch zu beachten, dass dieses Entwicklungsmuster einige Nachteile aufweist, die zu schwer lesbarem und schwer zu wartendem Code f√ºhren. Daher sollte eine √ºberm√§√üige Verwendung dieses Musters vermieden werden und Feature-Switches und ihre √úberarbeitungen regelm√§√üig dokumentieren, um nicht verwendete zu entfernen, und infolgedessen L√∂schen Sie das Projekt aus dem "toten" Code. <br><br><h3>  N√ºtzliche Links </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Martin Fowlers Blog</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pete Hodgsons Artikel</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wo ohne Wikipedia</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de464021/">https://habr.com/ru/post/de464021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de464011/index.html">Wie ich die IT in der Psychologie verlassen habe</a></li>
<li><a href="../de464013/index.html">FAQ zur HeadHunter-API (Stellenausschreibung)</a></li>
<li><a href="../de464015/index.html">Installieren Sie OpenCV + CUDA unter Windows</a></li>
<li><a href="../de464017/index.html">Kryptografische Workstation basierend auf PKCS # 11-Token. Zertifikate f√ºr EGAIS erhalten. Teil 4</a></li>
<li><a href="../de464019/index.html">Open Source: Der Grafikkartenentwickler hat die Treiberdokumentation f√ºr Linux ver√∂ffentlicht</a></li>
<li><a href="../de464023/index.html">"Grundlagen der Programmierung" f√ºr einen kostenlosen Kurs mit Beispielen in JavaScript</a></li>
<li><a href="../de464027/index.html">Wie man Inhalte im Zeitalter der Informationsexplosion √ºberlebt</a></li>
<li><a href="../de464031/index.html">‚ÄûFunde eines Audiomanen‚Äú: Soundkarten, um in die Atmosph√§re einer unbekannten Stadt einzutauchen</a></li>
<li><a href="../de464037/index.html">Nachrichten aus der Welt von OpenStreetMap Nr. 472 (30.07.2019 - 05.08.2019)</a></li>
<li><a href="../de464039/index.html">Neuronale Netze und tiefes Lernen: Ein Online-Tutorial, Kapitel 6, Teil 2: Aktuelle Fortschritte bei der Bilderkennung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>