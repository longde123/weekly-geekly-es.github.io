<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💪🏼 💋 👜 Desarrollo rápido de aplicaciones web en Vaadin y Spring Boot 🤾🏾 💻 🆖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El propósito de este artículo es sistematizar el proceso de desarrollo de una aplicación web en Vaadin 14 usando Spring Boot. 


 Antes de leer este a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desarrollo rápido de aplicaciones web en Vaadin y Spring Boot</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480852/"><p><img src="https://habrastorage.org/webt/gx/-o/lw/gx-olwos1pluf9izwqqd5j2r1uk.png" alt="CPAP"></p><br><p>  El propósito de este artículo es sistematizar el proceso de desarrollo de una aplicación web en Vaadin 14 usando Spring Boot. </p><br><p>  Antes de leer este artículo, recomiendo leer el siguiente material: </p><br><ul><li>  <a href="https://habr.com/ru/post/435144/">Introducción a Spring Boot</a> </li><li>  <a href="https://habr.com/ru/post/435114/">Spring data jpa</a> </li><li>  <a href="https://habr.com/ru/post/438870/">Lombok devuelve la grandeza de Java</a> </li><li>  <a href="https://habr.com/ru/company/haulmont/blog/416893/">Vaadin Flow - un extraño ciervo</a> <a name="habracut"></a></li></ul><br><h4 id="vpechatleniya">  Impresiones </h4><br><p>  Vaadin 14 es una herramienta bastante conveniente para diseñar aplicaciones web, antes de conocerla, desarrolló interfaces gráficas solo en JavaFX, Android e incluso J2ME, y al mismo tiempo evitó el desarrollo frontend (el conocimiento básico de HTML, CSS, JS está disponible) porque no pensaba mio </p><br><p>  <strong>Descargo de responsabilidad</strong> </p><br><p>  Aquellos que aún no han trabajado con Spring Boot recomiendan omitir un inicio rápido usando Spring Initializr, volver al material recomendado e intentar configurar todo usted mismo, habiendo encontrado muchos problemas diferentes, de lo contrario en el futuro habrá lagunas en la comprensión de varias cosas. </p><br><h4 id="bystryy-start">  Inicio rápido </h4><br><p>  Cree un proyecto para nuestra aplicación web utilizando <a href="https://start.spring.io/" rel="nofollow">Spring Initializr</a> , las dependencias necesarias para nuestra pequeña aplicación web: </p><br><ul><li>  Spring Data JPA (para trabajar con la base de datos) </li><li>  Vaadin (para desarrollo de aplicaciones web) </li><li>  Lombok (para reducir el código de placa de caldera) </li><li>  Controlador MySQL (uso mariadb, en spring initializr'e no lo es) </li></ul><br><h4 id="nastroyka-applicationproperties-i-bazy-dannyh">  Establecer application.properties y base de datos </h4><br><p>  El proyecto creado en Spring Initializr está casi listo para ejecutarse, solo tenemos que configurar application.properties especificando la ruta de la base de datos, nombre de usuario y contraseña </p><br><pre><code class="plaintext hljs">spring.datasource.url = jdbc:mariadb://127.0.0.1:3306/test spring.datasource.username=user spring.datasource.password=password spring.jpa.hibernate.ddl-auto=update</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Precaución: ddl-auto</b> <div class="spoiler_text"><p>  No use ddl-auto con el valor de actualización en una base de datos en vivo o al desarrollar un proyecto, ya que actualiza automáticamente el esquema de la base de datos. <br>  Opciones existentes para ddl-auto: <br>  create: creará una tabla en la base de datos, habiendo eliminado previamente la versión anterior de la tabla (pérdida de datos en caso de un cambio de esquema) <br>  validar: comprueba la tabla en la base de datos; si no coincide con la entidad, hibernar generará una excepción <br>  actualizar: comprueba la tabla y la actualiza automáticamente sin eliminar los campos inexistentes de la entidad <br>  create-drop: comprueba la tabla, la crea o la actualiza y luego la elimina, destinada a pruebas unitarias </p></div></div><br><p>  Con el conjunto de valores ddl-auto: update, hibernate crea automáticamente una tabla en la base de datos basada en nuestra esencia, porque  hacemos una libreta de direcciones simple y luego creamos una clase de contacto. </p><br><div class="spoiler">  <b class="spoiler_title">Contact.class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span>(name = <span class="hljs-string"><span class="hljs-string">"Contacts"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@EqualsAndHashCode</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Contact</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-meta"><span class="hljs-meta">@GeneratedValue</span></span>(strategy = GenerationType.AUTO) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String firstName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String secondName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String fatherName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String numberPhone; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String email; }</code> </pre> </div></div><br><p>  Creemos una interfaz para trabajar con la base de datos y agreguemos un método que devuelva Lista desde  Spring Data JPA por defecto devuelve Iterable en lugar de List. <br></p><div class="spoiler">  <b class="spoiler_title">ContactRepository.class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContactRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CrudRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Contact</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-function">List&lt;Contact&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre> </div></div><br><p>  El desarrollo de la interfaz en Vaadin incluye agregar componentes de entrada, visualización y formas de interacción a los objetos de diseño para el posicionamiento necesario de los elementos.  Se puede encontrar una lista de todos los componentes en el <a href="https://vaadin.com/components" rel="nofollow">sitio web oficial del marco.</a> </p><br><p>  La página principal de nuestra aplicación será ContactList.  <a href="https://vaadin.com/components/vaadin-app-layout" rel="nofollow">Heredaremos</a> todos los objetos de las páginas creadas de <a href="https://vaadin.com/components/vaadin-app-layout" rel="nofollow">AppLayout</a> ; este es un diseño típico de una aplicación web que consiste en: </p><br><ul><li>  Barra de navegación (encabezado) </li><li>  Cajón (barra lateral) </li><li>  Contenido <br>  Al mismo tiempo, los componentes se agregan a Navbar y Drawer, y un componente se establece en Contenido como Contenido, por ejemplo, VerticalLayout en el que los elementos de usuario se colocarán en una disposición vertical. </li></ul><br><p>  La página para editar y crear contactos será ManageContact, e implementaremos la interfaz HasUrlParameter para transferir la identificación del contacto, cuando esta interfaz está activada, el parámetro debe pasarse a la página. <br>  Para vincular una página a una URL específica, se utiliza la anotación de ruta: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"contacts"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContactList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppLayout</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"manageContact"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ManageContact</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppLayout</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasUrlParameter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{}</code> </pre> <br><h4 id="sozdanie-spiska-kontaktov">  Crea una lista de contactos </h4><br><p>  En el constructor del objeto ContactList, especifique los componentes utilizados al convertirlos primero en los campos del objeto.  Como los datos se tomarán de la base de datos, es necesario conectar el repositorio al campo de objeto. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"contacts"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContactList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppLayout</span></span></span><span class="hljs-class"> </span></span>{ VerticalLayout layout; Grid&lt;Contact&gt; grid; RouterLink linkCreate; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> ContactRepository contactRepository; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContactList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ layout = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VerticalLayout(); grid = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Grid&lt;&gt;(); linkCreate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RouterLink(<span class="hljs-string"><span class="hljs-string">" "</span></span>,ManageContact.class,<span class="hljs-number"><span class="hljs-number">0</span></span>); layout.add(linkCreate); layout.add(grid); addToNavbar(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> H3(<span class="hljs-string"><span class="hljs-string">" "</span></span>)); setContent(layout); } }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Acerca de Autowired (actualizado)</b> <div class="spoiler_text"><p>  No intente acceder a contactRepository desde el constructor de un objeto; esto ciertamente causará una NullPointerException, acceso desde métodos con anotación PostConstruct o métodos de un objeto ya creado. <br>  En un consejo de <a href="https://habr.com/ru/users/zesetup/" class="user_link">zesetup</a> : contactRepository, puede inyectar a través del constructor: </p><br><pre> <code class="java hljs">ContactRepository contactRepository; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContactList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ContactRepository contactRepository)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.contactRepository = contactRepository;</code> </pre> <br><p>  Como consejo de <a href="https://habr.com/ru/users/markellg/" class="user_link">markellg</a> : También vale la pena señalar que cuando se usa Spring versión 4.3 y superior, la anotación Autowired en el constructor es opcional si la clase contiene un solo constructor. </p></div></div><br><p>  El componente VerticalLayout se ha agregado a la clase ContactList para la disposición vertical de los elementos en el contenido, <a href="https://vaadin.com/api/platform/14.1.2/com/vaadin/flow/router/RouterLink.html" rel="nofollow">le</a> agregaremos <a href="https://vaadin.com/api/platform/14.1.2/com/vaadin/flow/router/RouterLink.html" rel="nofollow">RouterLink</a> (para ir a la página de creación de contactos) y <a href="https://vaadin.com/components/vaadin-grid" rel="nofollow">Grid</a> para mostrar la tabla.  La cuadrícula está escrita por el objeto Contact para que podamos cargar datos de la lista y que se activen automáticamente cuando se llama al método setItems (); </p><br><pre> <code class="java hljs">Grid&lt;Contact&gt; grid; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContactList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ grid = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Grid&lt;&gt;(); <span class="hljs-comment"><span class="hljs-comment">//      grid = new Grid&lt;&gt;(Contact.class); //      ,       }</span></span></code> </pre> <br><p>  El comportamiento de la creación automática de columnas no nos interesa, porque  En el marco del artículo, vale la pena mostrar la adición de columnas y la visualización de botones para eliminar o editar contactos. </p><br><p>  Para llenar la tabla, obtendremos los datos de contactRepository, para esto crearemos un método con la anotación PostConstruct </p><br><div class="spoiler">  <b class="spoiler_title">Llenar una tabla con fillGrid ()</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@PostConstruct</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fillGrid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ List&lt;Contact&gt; contacts = contactRepository.findAll(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!contacts.isEmpty()){ <span class="hljs-comment"><span class="hljs-comment">//     grid.addColumn(Contact::getFirstName).setHeader(""); grid.addColumn(Contact::getSecondName).setHeader(""); grid.addColumn(Contact::getFatherName).setHeader(""); grid.addColumn(Contact::getNumberPhone).setHeader(""); grid.addColumn(Contact::getEmail).setHeader("E-mail"); //     grid.addColumn(new NativeButtonRenderer&lt;Contact&gt;("", contact -&gt; { UI.getCurrent().navigate(ManageContact.class,contact.getId()); })); grid.addColumn(new NativeButtonRenderer&lt;Contact&gt;("", contact -&gt; { Dialog dialog = new Dialog(); Button confirm = new Button(""); Button cancel = new Button(""); dialog.add("     ?"); dialog.add(confirm); dialog.add(cancel); confirm.addClickListener(clickEvent -&gt; { contactRepository.delete(contact); dialog.close(); Notification notification = new Notification(" ",1000); notification.setPosition(Notification.Position.MIDDLE); notification.open(); grid.setItems(contactRepository.findAll()); }); cancel.addClickListener(clickEvent -&gt; { dialog.close(); }); dialog.open(); })); grid.setItems(contacts); } }</span></span></code> </pre> </div></div><br><p>  NativeButtonRenderer se usa para agregar columnas con botones de edición y eliminación, pasamos el nombre del botón a los argumentos del constructor y un controlador de clic de botón. </p><br><pre> <code class="java hljs">grid.addColumn(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeButtonRenderer&lt;Contact&gt;(<span class="hljs-string"><span class="hljs-string">""</span></span>, contact -&gt; { <span class="hljs-comment"><span class="hljs-comment">//DO SOMETHING })); grid.addColumn(new NativeButtonRenderer&lt;Contact&gt;("", new ClickableRenderer.ItemClickListener&lt;Contact&gt;() { @Override public void onItemClicked(Contact contact) { //DO SOMETHING }}));</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Resultado</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/3r/gv/r_/3rgvr_xegcdji_o0azcc3e6cfb8.png" alt="Lista de contactos"></p></div></div><br><h4 id="sozdanie-stranicy-redaktirovaniya-kontaktov">  Crear una página de edición de contactos </h4><br><p>  La página de edición de contactos acepta el parámetro como la identificación de contacto, por lo que debemos implementar el método setParameter (): </p><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setParameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BeforeEvent beforeEvent, Integer contactId)</span></span></span><span class="hljs-function"> </span></span>{ id = contactId; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!id.equals(<span class="hljs-number"><span class="hljs-number">0</span></span>)){ addToNavbar(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> H3(<span class="hljs-string"><span class="hljs-string">" "</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { addToNavbar(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> H3(<span class="hljs-string"><span class="hljs-string">" "</span></span>)); } fillForm(); <span class="hljs-comment"><span class="hljs-comment">//  }</span></span></code> </pre> <br><p>  Agregar componentes es similar a ContactList, solo en este caso no usamos VerticalLayout, sino que utilizamos marcado especial FormLayout para mostrar dichos formularios.  Rellenamos el formulario con datos que ya no usan el método con la anotación PostConstruct, pero después de obtener el número de contacto de la URL, porque la cadena: Constructor de objetos -&gt; @PostConstruct -&gt; <a href="https://habr.com/ru/users/override/" class="user_link">Override</a> </p><br><div class="spoiler">  <b class="spoiler_title">Managecontact.class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"manageContact"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ManageContact</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppLayout</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasUrlParameter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ Integer id; FormLayout contactForm; TextField firstName; TextField secondName; TextField fatherName; TextField numberPhone; TextField email; Button saveContact; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> ContactRepository contactRepository; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ManageContact</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    contactForm = new FormLayout(); firstName = new TextField(""); secondName = new TextField(""); fatherName = new TextField(""); numberPhone = new TextField(" "); email = new TextField(" "); saveContact = new Button(""); //     contactForm.add(firstName, secondName,fatherName,numberPhone,email,saveContact); setContent(contactForm); } @Override public void setParameter(BeforeEvent beforeEvent, Integer contactId) { id = contactId; if (!id.equals(0)){ addToNavbar(new H3(" ")); } else { addToNavbar(new H3(" ")); } fillForm(); } public void fillForm(){ if (!id.equals(0)){ Optional&lt;Contact&gt; contact = contactRepository.findById(id); contact.ifPresent(x -&gt; { firstName.setValue(x.getFirstName()); secondName.setValue(x.getSecondName()); fatherName.setValue(x.getFatherName()); numberPhone.setValue(x.getNumberPhone()); email.setValue(x.getEmail()); }); } saveContact.addClickListener(clickEvent-&gt;{ //       Contact contact = new Contact(); if (!id.equals(0)){ contact.setId(id); } contact.setFirstName(firstName.getValue()); contact.setSecondName(secondName.getValue()); contact.setFatherName(fatherName.getValue()); contact.setEmail(email.getValue()); contact.setNumberPhone(numberPhone.getValue()); contactRepository.save(contact); Notification notification = new Notification(id.equals(0)? "  ":"  ",1000); notification.setPosition(Notification.Position.MIDDLE); notification.addDetachListener(detachEvent -&gt; { UI.getCurrent().navigate(ContactList.class); }); contactForm.setEnabled(false); notification.open(); }); } }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Resultado</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/gy/el/nx/gyelnxnr0lxp5jjyvx8mbit8ttw.png" alt="Edición de contactos"></p></div></div><br><p>  Resultados: Vaadin 14 es un marco bastante conveniente para crear aplicaciones web simples, al usarlo puede crear rápidamente una aplicación con solo conocimiento de Java en el equipaje, y funcionará.  Pero desafortunadamente, toda la interfaz se crea en el lado del servidor y los recursos son mucho más necesarios que usar HTML5 + JS.  Este marco es más adecuado para pequeños proyectos que deben realizarse rápidamente sin estudiar las tecnologías front-end. </p><br><p>  Este artículo mostró cómo puede crear rápida y fácilmente una aplicación web sin diseñar previamente una base de datos, evitar configuraciones xml largas y qué tan rápido puede desarrollar una interfaz web.  En su mayor parte, Spring Boot y Spring Data JPA facilitan la vida de los desarrolladores y simplifican el desarrollo.  El artículo no revelará nada nuevo para los desarrolladores ya establecidos, pero ayudará al principiante a comenzar a dominar el marco de Spring. </p><br><p>  <a href="https://github.com/DiProtsenko/vaadin-test" rel="nofollow">Repositorio con proyecto</a> </p><br><blockquote>  Los errores de gramática y puntuación son posibles en el artículo; luego de la detección, envíe un mensaje personal </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/480852/">https://habr.com/ru/post/480852/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../480836/index.html">Reemplazar paletas en el juego usando sombreadores</a></li>
<li><a href="../480838/index.html">Las consultas SQL son rápidas. Parte 1</a></li>
<li><a href="../480840/index.html">Ciberataques en sistemas hidroacústicos: mitos y realidad</a></li>
<li><a href="../480844/index.html">Habr Quest {concepto}</a></li>
<li><a href="../480848/index.html">Kits y constructores para principiantes ingenieros electrónicos de 6-10 años. Lo que está disponible en las tiendas.</a></li>
<li><a href="../480856/index.html">Chorda Tratando de hacerlo declarativamente</a></li>
<li><a href="../480858/index.html">Inicie Linux en un navegador: el emulador jor1k ayudará (con Monkey Island, Doom y Frontier Elite II integrados)</a></li>
<li><a href="../480860/index.html">Teoría del antioxidante</a></li>
<li><a href="../480866/index.html">Una nueva era de desarrollo web o "todo ya está ahí"</a></li>
<li><a href="../480870/index.html">Resultados de la década</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>