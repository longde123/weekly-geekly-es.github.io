<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âœğŸ¼ ğŸ—ï¸ ğŸ‘©ğŸ¾â€ğŸ¨ Sistem koordinat ultrasonik 2.0 ğŸ‘‰ğŸ¿ ğŸ• ğŸ“ª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sistem koordinat ultrasonik 2.0 
 Tentang apa artikel ini: Artikel ini menjelaskan prinsip-prinsip pengoperasian sistem penentuan koordinat saya, dan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistem koordinat ultrasonik 2.0</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479530/"><h2>  Sistem koordinat ultrasonik 2.0 </h2><br>  <b>Tentang apa artikel ini:</b> Artikel ini menjelaskan prinsip-prinsip pengoperasian sistem penentuan koordinat saya, dan pengalaman saya dalam pembuatannya.  Artikel ini bukan instruksi untuk pembuatan sistem navigasi, karena tidak begitu mudah untuk dijelaskan dalam satu artikel. <br><br><img src="https://habrastorage.org/webt/-r/zu/xp/-rzuxphjgpq9izjwplxls7rrwue.png"><br><br>  Artikel ini adalah pengembangan dari ide-ide artikel saya sebelumnya: <br>  <a href="https://habr.com/ru/post/451408/">habr.com/en/post/451408</a> <br><a name="habracut"></a><br><h3>  Struktur sistem </h3><br>  Sistem penentuan koordinat memiliki diagram struktural berikut: <br><br><img src="https://habrastorage.org/webt/l1/-w/4j/l1-w4j5qkp9xuwk_2k8x7kvnqfg.png"><br>  Fig.  1 - Diagram skematis dari sistem ultrasound untuk menentukan koordinat. <br><br>  Mari kita perhatikan setiap elemen lebih dekat. <br><br><h3>  Penerima ultrasonik </h3><br><img src="https://habrastorage.org/webt/ix/cv/og/ixcvogrpoy4ntuu0qw9ytjbtyje.png"><br><br><img src="https://habrastorage.org/webt/nc/sr/tf/ncsrtfhxi-rsa8jstcwuuax0nfu.jpeg"><br><br><img src="https://habrastorage.org/webt/f4/83/bj/f483bjd1b0vfkn0a5yywlcv_a-g.jpeg"><br>  Fig.  2 - Pengembangan penerima ultrasound (atas ke bawah). <br><br>  Awalnya, penerima terdiri dari satu modul dan memiliki area cakupan yang sangat kecil di ruangan itu, pada masa itu saya tidak mendigitalkan sinyal, tetapi hanya menerima dari sensor panjang yang diberikan oleh pengontrol biasa. <br><br>  Kemudian, untuk meningkatkan jangkauan, saya memutuskan untuk membuat modul tiga sensor, data yang darinya secara digital didigitalkan dan dikirim ke PC, di mana jarak dan koordinat dihitung.  Setelah menguji penerima tiga komponen, saya melihat bahwa satu penerima sudah cukup jika Anda memproses sinyal sendiri. <br><br>  Hasilnya, receiver kembali menjadi satu komponen, tetapi karena saya sedang memproses sinyal, area jangkauan menjadi cukup besar.  Sinyal sekarang diproses dalam STM32 setelah digitasi, hanya menghasilkan jarak ke keluaran. <br><br>  Komposisi: <br><ul><li>  STM32 - digunakan untuk mendigitalkan sinyal ultrasonik dan menghitung jarak ke emitor; </li><li>  HC-SR04 - Saya memodifikasinya sedikit dan sekarang saya dapat menerima sinyal dari inputnya, ditunjukkan pada Gambar 3; </li><li>  RS485 - untuk mentransmisikan jarak ke emitor ke PC. </li></ul><br><img src="https://habrastorage.org/webt/sd/xb/qp/sdxbqplmpwkrchgdlty-ptpigms.png"><br>  Fig.  3 - Sinyal ultrasonik digital. <br><br><img src="https://habrastorage.org/webt/ty/8c/lf/ty8clfyeg2s3jxde_dbgtolirmo.png"><br>  Fig.  4 - sinyal USG di area 4700 - 5200 dari gambar di atas. <br><br><h3>  Pemancar ultrasonik </h3><br><img src="https://habrastorage.org/webt/fv/ta/el/fvtael07m2b6_r2ybluysab17gk.jpeg"><br><br><img src="https://habrastorage.org/webt/gs/i2/7f/gsi27fd6sg6vyiw39z6rfwebmky.jpeg"><br><br><img src="https://habrastorage.org/webt/t5/s6/ai/t5s6aihoqrlyvq7o1uqyxkv90jy.jpeg"><br>  Fig.  5 - Pengembangan emitor (atas ke bawah). <br><br>  Seperti yang dapat Anda lihat dari Gambar 5, pada awalnya saya hanya menarik kaki Trig pada sensor HC-SR04, itu bukan sistem terbaik, jika hanya karena saya tidak bisa menentukan berapa banyak gelombang ultrasonik yang bisa saya buat, saya tidak bisa mengubah kekuatannya, dan emitor ini cukup besar. <br><br>  Kemudian saya membuat versi kedua, yang jauh lebih rumit, tetapi saya sudah bisa mengatur semuanya dengan STM32 dan L293D, yang terhubung langsung ke speaker ultrasound.  Sekarang, bukannya 5 volt standar, saya menerapkan 17, dan ini sangat meningkatkan area kerja.  Saya juga menambahkan modul radio dan antarmuka RS485, yang membuat modul ini berdiri sendiri. <br><br>  Setelah serangkaian tes, saya memutuskan untuk mengurangi emitor ke ukuran yang layak dan menyatukannya lebih erat, sebagai hasil dari apa yang Anda lihat pada gambar terakhir. <br><br>  <b>Komposisi:</b> <br><ul><li>  STM32 - menerima perintah Trig (mulai mengukur jarak) melalui saluran radio dan memancarkan sinyal ultrasonik, juga mentransmisikan perintah yang diterima dari modul radio ke RS485 (Saya menggunakannya untuk remote control platform mobile); </li><li>  RS485 - antarmuka informasi perangkat untuk pengguna; </li><li>  DC-DC boost - mengubah catu daya 5V ke 17V untuk emitor; </li><li>  L293D - Saya gunakan untuk menghasilkan sinyal ultrasonik yang kuat dengan tegangan 17V; </li><li>  nRF24 - saluran radio; </li><li>  Emitter - 6 emitter yang dikeluarkan dari modul HC-SR04. </li></ul><br><h3>  Modul dasar </h3><br><img src="https://habrastorage.org/webt/sh/ry/r5/shryr5oczq8ct0zjj-nw7ixvpx0.jpeg"><br>  Fig.  6 - Modul dasar. <br><br>  <b>Komposisi:</b> <br><ul><li>  STM32 - mengirim Trig ke emitor dan penerima, menerima perintah USB dari PC untuk transmisi melalui saluran radio ke emitor (alias modul seluler); </li><li>  nRF24 - mentransmisikan Trig ke emitor dan mengirimkan perintah ke emitor. </li></ul><br><h3>  Modul PC </h3><br>  PC melalui adaptor RS485 terhubung ke semua penerima ultrasonik, pada antarmuka ini menerima semua panjang dari mereka dan menghitung koordinat modul mobile.  Melalui USB terhubung ke modul dasar dan melaluinya mentransfer perintah kontrol ke modul seluler. <br><br><h3>  Lokasi modul di area kerja </h3><br>  Peta ruangan dengan penerima ultrasound yang ditempatkan di sudutnya terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/zf/my/cl/zfmyclsx5ihwv9bg1yay6x033ro.png"><br>  Fig.  7 - Gagasan umum lokasi sensor. <br><br><img src="https://habrastorage.org/webt/r_/5p/bz/r_5pbz5hmgbxo4l0wmnfiiew3gi.png"><br>  Fig.  8 - Tampilan teratas pada skala (lingkaran, dengan angka di dalamnya, sensor ditunjukkan). <br><br><h3>  Algoritma kerja sistem penentuan koordinat ultrasonik </h3><br><ol><li>  Modul dasar mengirimkan perintah Trig ke emitor (over the air) dan penerima (over the wire). </li><li>  Emitor mulai mengeluarkan, dan penerima mulai mendengarkan siaran. </li><li>  Setiap penerima, setelah mendengar sinyal ultrasonik, mencatat waktu antara perintah Trig dan waktu penerimaan sinyal ini dan menerjemahkannya ke kejauhan. </li><li>  Penerima RS485 mengirim jarak dari emitor ke diri mereka di PC. </li><li>  PC menghitung koordinat emitor. </li></ol><br><h3>  Operasi sistem </h3><br>  Menjalankan ini semua, kita mendapatkan koordinat objek, akurasi tergantung pada tempat di ruangan itu.  Di tempat terbaik, kesalahan tidak melebihi beberapa sentimeter, dan yang terburuk ... yah, Anda sendiri dapat melihat semuanya pada Gambar 9. <br><br><img src="https://habrastorage.org/webt/f-/_p/dc/f-_pdck7ruxzuay-7y9gsfrh6tk.png"><br>  Fig.  9 - Memindahkan emitor di sekitar ruangan. <br><br>  Ada empat set koordinat dalam gambar ini, karena kita memiliki empat penerima, dan untuk menentukan koordinat dalam ruang tiga dimensi kita hanya membutuhkan tiga, maka kita memiliki empat kombinasi penerima. <br><br>  Seperti dapat dilihat dari gambar, secara umum, sistem menentukan koordinat dengan benar, tetapi di tempat yang berbeda kesalahannya berbeda.  Saya memindahkan paralel emitor ke sumbu X dan Y, di suatu tempat dengan interval antara garis dalam satu meter, di suatu tempat dalam setengah meter, ini dapat dilihat pada gambar.  Keakuratan terbaik ada di tengah, dan di tepi semuanya buruk, karena dari sana sinyal ultrasonik jatuh pada penerima pada sudut yang besar, dan ini menciptakan distorsi pada sinyal digital. <br><br>  Setelah memfilter dan rata-rata empat pasang koordinat, kita mendapatkan gambar berikut: <br><br><img src="https://habrastorage.org/webt/ac/ny/6c/acny6c59da471karux9ty6u0h6m.png"><br>  Fig.  10 - Lintasan rata-rata. <br><br>  Bukan es, tapi apa yang ada di sana. <br><br>  Untuk bersenang-senang, saya akan menunjukkan kepada Anda bagaimana semuanya terlihat dalam 3D, karena kami juga memiliki koordinat ketiga, meskipun tidak diperlukan dalam proyek saya, karena robot seluler hanya bergerak di dalam pesawat. <br><br><img src="https://habrastorage.org/webt/-y/gr/uk/-ygrukcimy5ldmzsmpf3zbcqsqe.png"><br>  Fig.  11 - lintasan 3D. <br><br>  Seperti yang bisa kita lihat, semua titik terletak kira-kira di pesawat yang sama, dan ini benar, karena saya mengemudikan emitor melintasi lantai tanpa melepasnya. <br><br>  Dan ini adalah contoh dari kegagalan platform mobile dengan emitor, lintasannya terlihat jelas.  Menurut rencana, platform itu seharusnya kembali ke titik awal, setelah melewati jalan persegi panjang, tetapi tidak berhasil, dalam artikel berikut saya akan memberi tahu Anda alasannya. <br><br><img src="https://habrastorage.org/webt/qj/nu/ez/qjnuezuiq9q3idwssbngqbdeqoc.png"><br>  Fig.  12 - Lintasan pergerakan platform seluler. <br><br><h3>  Masalah aktual </h3><br>  Saat ini saya memiliki sejumlah masalah mendesak, dan jika seseorang dapat menyarankan sesuatu, silakan tulis ini di komentar atau di VK: <br>  <a href="https://vk.com/b__s__v" rel="nofollow">vk.com/b__s__v</a> <br><br>  1. <b>Apa cara terbaik untuk menerima sinyal ultrasound?</b>  Sensor HC-SR04 yang sekarang saya gunakan untuk menerima dan memperkuat sinyal ultrasound bukan pilihan terbaik.  Pertama, karena mereka selalu menerima sinyal dengan hanya satu frekuensi dan Anda tidak dapat membuat pemisahan frekuensi sumber sinyal dari mereka (yang menarik bagi saya untuk dicoba), mereka juga terlalu besar, dan saya sangat bergantung pada mereka. <br>  2. <b>Bagaimana cara menghilangkan distorsi koordinat di berbagai sudut ruangan?</b>  Pada grid yang saya gambar di lantai, dapat dilihat bahwa kadang-kadang garis lurus mulai menyimpang, meskipun saya selalu memindahkan modul ponsel dengan lancar, dan entah bagaimana saya harus menyingkirkannya. <br>  3. <b>Untuk nRF24, sinyal menghilang.</b>  Ketika modul ditutup, maka tidak ada masalah, tetapi perlu menyebar beberapa meter dan berdiri di antara mereka sendiri, saat pesan mencapai satu.  Saya tidak perlu mengirim ulang pesan di sana, karena saya mengirimkan sinyal jam pada saluran ini, dan pesan itu harus selalu datang dalam detik yang sama.  Saya memiliki modul dengan antena eksternal, dan yang ada di modul dasar berfungsi lebih baik tanpa antena daripada dengan itu.  Saya tidak mengerti apa-apa, daya maksimum. <br>  4. <b>Tempat promosi proyek.</b>  Jika seseorang mengetahui situs internasional seperti Habr dalam bahasa Inggris, harap abaikan tautannya, jika tidak saya tidak menemukan sesuatu yang layak, tetapi stackoverflow, ini hanya pertanyaan dan jawaban, tidak cukup untuk memposting artikel seperti itu. <br>  5. <b>Komentar dan saran.</b>  Jika seseorang ingin berbicara, saya akan senang menerima kritik dan saran. <br><br>  Ini masih jauh dari akhir proyek saya, meskipun waktu hampir berakhir, tetapi jika ada minat, saya akan menulis artikel tentang bagaimana robot seluler melakukan perjalanan berdasarkan sistem ini pada koordinat yang diberikan di kamar saya. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id479530/">https://habr.com/ru/post/id479530/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id479514/index.html">Privasi berdasarkan desain dan privasi secara default (perlindungan data yang dirancang dan privasi default oleh GDPR)</a></li>
<li><a href="../id479516/index.html">Apa itu entropi dalam perangkat lunak dan bagaimana cara mengelolanya?</a></li>
<li><a href="../id479518/index.html">Komunikasi dalam tim jarak jauh adalah pengalaman kami</a></li>
<li><a href="../id479522/index.html">Penerbit Peter. Penjualan musim dingin</a></li>
<li><a href="../id479524/index.html">Layanan untuk Pemulihan Aktif atau sejarah satu proyek industri di Innopolis</a></li>
<li><a href="../id479534/index.html">Kubernetes 1.17 - cara memutakhirkan dan tidak menghabiskan seluruh anggaran kesalahan</a></li>
<li><a href="../id479536/index.html">Load balancing dalam Zimbra Open-Source Edition dengan HAProxy</a></li>
<li><a href="../id479538/index.html">Teknologi memimpin umat manusia ke dalam kemunduran. Sudah waktunya untuk mengubah sesuatu</a></li>
<li><a href="../id479540/index.html">Menggunakan passwordstore.org - pengelola kata sandi gaya KISS</a></li>
<li><a href="../id479542/index.html">Cara menulis transliterator Anda sendiri</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>