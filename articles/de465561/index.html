<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïü üë©üèø‚Äçü§ù‚Äçüë©üèΩ üë∑ Was ich von einem f√ºhrenden Programmierer gelernt habe ‚ùÑÔ∏è üßùüèæ üôãüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor einem Jahr habe ich angefangen, Vollzeit bei Bloomberg zu arbeiten. Und dann habe ich beschlossen, diesen Artikel zu schreiben. Ich dachte, ich w√§...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Was ich von einem f√ºhrenden Programmierer gelernt habe</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/465561/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/cc/m9/v8/ccm9v8yphneof1qcnuaru8peu1e.jpeg"></div><br>  Vor einem Jahr habe ich angefangen, Vollzeit bei Bloomberg zu arbeiten.  Und dann habe ich beschlossen, diesen Artikel zu schreiben.  Ich dachte, ich w√§re voller Ideen, die ich zu gegebener Zeit auf Papier werfen k√∂nnte.  Aber innerhalb eines Monats wurde mir klar, dass nicht alles so einfach sein wird: Ich habe bereits begonnen zu vergessen, was ich gelernt habe.  Entweder war das Wissen so gut erworben, dass mein Verstand mich glauben lie√ü, dass ich es immer wusste, oder sie flogen einfach aus meinem Kopf.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup>1</sup></a> <br><br>  Dies ist einer der Gr√ºnde, warum ich angefangen habe, ein Tagebuch zu f√ºhren.  Jeden Tag, als ich in interessante Situationen geriet, beschrieb ich sie.  Und das alles dank der Tatsache, dass ich neben einem f√ºhrenden Programmierer sa√ü.  Ich konnte seine Arbeit genau beobachten und sah, wie unterschiedlich sie von dem war, was ich tun w√ºrde.  Wir haben viel zusammen programmiert, was meine Beobachtungen noch einfacher machte.  Dar√ºber hinaus verurteilt unser Team nicht das ‚ÄûAusspionieren‚Äú von Personen, die Code schreiben.  Als mir etwas Interessantes passierte, drehte ich mich um und schaute.  Dank des st√§ndigen Aufstiegs war ich mir immer bewusst, was geschah. <br><br>  Ich verbrachte ein Jahr neben einem f√ºhrenden Programmierer.  Das habe ich gelernt. <br><a name="habracut"></a><br><h1>  Inhalt </h1><br><ul><li>  Code schreiben <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie man Dinge im Code benennt</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Geerbter Code und der n√§chste Entwickler</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation und Kommentare im Code</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Atomic Commits</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie man miesen Code sicher l√∂scht</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Code√ºberpr√ºfung</a> <br></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Testen</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Risikominderung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Architektur</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wir schaffen Architektur, ohne die Wartung zu vergessen</a> <br></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bereitstellen</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wenn etwas schief geht</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fahrrad</a> <br></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√úberwachung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fazit</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wor√ºber ich mir nicht sicher bin</a> <br></li></ul><br><h2>  Code schreiben </h2><br><a name="1"></a><h4>  Wie man Dinge im Code benennt </h4><br>  Eine meiner ersten Aufgaben war die Arbeit an React UI.  Wir hatten eine Hauptkomponente, die alle anderen Komponenten enthielt.  Ich mag es, dem Code ein bisschen Humor hinzuzuf√ºgen, und ich wollte die Hauptkomponente von <code>GodComponent</code> .  Es ist an der Zeit, den Code zu √ºberpr√ºfen, und ich habe verstanden, warum es so schwierig ist, Namen zu vergeben. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="7269997868"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  Jeder Code, den ich getauft habe, hat einen impliziten Zweck.  <code>GodComponent</code> ?  Dies ist die Komponente, die all den M√ºll bekommt, den ich nicht an die richtige Stelle bringen m√∂chte.  Es enth√§lt alles.  <code>LayoutComponent</code> es <code>LayoutComponent</code> , und in Zukunft w√ºrde ich entscheiden, dass diese Komponente ein Layout zuweist.  Dass es keinen Zustand enth√§lt. <br><br>  Eine weitere wichtige Lektion, die ich gelernt habe, war, dass wenn etwas zu gro√ü aussieht, wie eine <code>LayoutComponent</code> mit einer Reihe von Gesch√§ftslogiken, es Zeit ist, es <code>LayoutComponent</code> , da es hier keine Gesch√§ftslogik geben sollte.  Und im Fall des Namens <code>GodComponent</code> Vorhandensein von Gesch√§ftslogik keine Rolle. <br><br>  M√ºssen Sie die Cluster benennen?  Das Aufrufen nach den auf ihnen ausgef√ºhrten Diensten ist eine gute Idee, bis Sie auf diesen Clustern etwas anderes ausf√ºhren.  Wir haben ihnen einen Namen zu Ehren unseres Teams gegeben. <br><br>  Gleiches gilt f√ºr Funktionen.  <code>doEverything()</code> ist ein schrecklicher Name mit vielen Konsequenzen.  Wenn die Funktion alles macht, wird es verdammt schwierig sein, ihre einzelnen Teile zu testen.  Egal wie gro√ü diese Funktion werden mag, sie wird Ihnen niemals zu seltsam erscheinen, weil sie alles tun sollte.  Also √§ndere den Namen.  Refact. <br><br>  Ein aussagekr√§ftiger Name hat einen Nachteil.  Pl√∂tzlich wird der Name zu bedeutungsvoll sein und eine Art Nuance verbergen?  Wenn Sie beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sitzungen</a> schlie√üen, wird die Datenbankverbindung nicht geschlossen, wenn <code>session.close()</code> in SQLAlchemy aufgerufen wird.  Ich h√§tte die Dokumentation lesen und diesen Fehler verhindern sollen, mehr dazu im Abschnitt √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fahrr√§der</a> . <br><br>  Unter diesem Gesichtspunkt erlaubt es uns die Benennung von Funktionen wie <code>x</code> , <code>y</code> , <code>z</code> anstelle von <code>count()</code> , <code>close()</code> , <code>insertIntoDB()</code> nicht, ihnen eine bestimmte Bedeutung <code>insertIntoDB()</code> , und l√§sst mich sorgf√§ltig √ºberwachen, was diese Funktionen tun.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup>2</sup></a> <br><br>  Ich h√§tte nie gedacht, dass ich √ºber die Prinzipien schreiben w√ºrde, mehr als eine Textzeile zu benennen. <br><br><a name="2"></a><h4>  Geerbter Code und der n√§chste Entwickler </h4><br>  Haben Sie sich jemals den Code angesehen und es scheint Ihnen seltsam?  Warum hast du das geschrieben?  Das macht keinen Sinn. <br><br>  Ich hatte die M√∂glichkeit, mit einer geerbten Codebasis zu arbeiten.  Dies, wissen Sie, mit Kommentaren wie "Kommentieren Sie den Code aus, wenn Muhammad die Situation versteht."  Was machst du hier  Wer ist Muhammad? <br><br>  Ich kann die Rollen wechseln und √ºber die Person nachdenken, die dann meinen Code erh√§lt. Wird es ihm seltsam erscheinen?  Eine teilweise √úberpr√ºfung Ihres Codes hilft Kollegen, Ihren Code zu √ºberpr√ºfen.  Dies brachte mich dazu, √ºber den Kontext nachzudenken: Ich muss mich an den Kontext erinnern, in dem mein Team arbeitet. <br><br>  Wenn ich diesen Code vergesse, sp√§ter darauf zur√ºckkomme und den Kontext nicht wiederherstellen kann, werde ich sagen: ‚ÄûWas zum Teufel haben sie getan?  Das ist dumm ... Ah, warte, ich habe es getan. " <br><br>  Und hier kommen die Dokumentation und Kommentare im Code ins Spiel. <br><br><a name="3"></a><h4>  Dokumentation und Kommentare im Code </h4><br>  Sie helfen, den Kontext aufrechtzuerhalten und Wissen zu vermitteln.  Wie Lee in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie man gute Software erstellt</a> : <br><br><blockquote>  Der Hauptwert von Software liegt nicht im erstellten Code, sondern im Wissen der Personen, die diese Software erstellt haben </blockquote><br>  Sie haben einen offenen Client-API-Endpunkt, den anscheinend noch niemand verwendet hat.  Muss es nur gel√∂scht werden?  Im Allgemeinen ist es eine technische Pflicht.  Und wenn ich Ihnen sage, dass in einem der L√§nder 10 Journalisten einmal im Jahr ihre Berichte an diesen Endpunkt senden?  Wie √ºberpr√ºfe ich das?  Wenn dies in der Dokumentation nicht erw√§hnt wird (es war), gibt es keine M√∂glichkeit, dies zu √ºberpr√ºfen.  Wir haben nicht √ºberpr√ºft.  Sie entfernten es und einige Monate sp√§ter kam dieser sehr j√§hrliche Moment.  Zehn Journalisten konnten ihre wichtigen Berichte nicht senden, da der Endpunkt nicht mehr vorhanden war.  Und Leute mit Produktkenntnissen haben das Team bereits verlassen.  Nat√ºrlich gibt es jetzt im Code Kommentare, die erkl√§ren, warum dies notwendig ist. <br><br>  Soweit ich wei√ü, k√§mpft jedes Team mit der Dokumentation.  Und mit der Dokumentation nicht nur nach Code, sondern auch nach den damit verbundenen Prozessen. <br><br>  Wir haben noch nicht die perfekte L√∂sung gefunden.  Ich pers√∂nlich mag die Art und Weise, wie Antirez Kommentare im Code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in verschiedene Arten von Werten unterteilt hat</a> . <br><br><a name="4"></a><h4>  Atomic Commits </h4><br>  Wenn Sie ein Rollback durchf√ºhren m√ºssen (und es ben√∂tigen. Siehe Kapitel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Testen</a> ), ist dieses Commit als einzelnes Modul sinnvoll? <br><br><a name="5"></a><h4>  Wie man miesen Code sicher l√∂scht </h4><br>  Es war mir sehr unangenehm, den miesen oder veralteten Code zu l√∂schen.  Es schien mir, dass alles, was vor Jahrhunderten geschrieben wurde, heilig ist.  Ich dachte: "Sie hatten etwas im Sinn, als sie so schrieben."  Dies ist eine Konfrontation zwischen Tradition und Kultur einerseits und Denken im Stil des ‚ÄûPrim√§rprinzips‚Äú andererseits.  Dies entspricht der Entfernung des Jahresendpunkts.  Ich habe eine besondere Lektion gelernt.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup>3</sup></a> <br><br>  Ich w√ºrde versuchen, den Code zu umgehen, und die f√ºhrenden Entwickler w√ºrden versuchen, ihn zu umgehen.  L√∂schen Sie es.  Ein if-Ausdruck, auf den nicht zugegriffen werden kann?  Ja, wir l√∂schen.  Was habe ich getan  Ich habe gerade meine Funktion dar√ºber geschrieben.  Ich habe die technische Verschuldung nicht reduziert.  Wie auch immer, ich habe gerade die Codekomplexit√§t und die Weiterleitung erh√∂ht.  F√ºr die n√§chste Person wird es noch schwieriger sein, die Bildteile zusammenzusetzen. <br><br>  Empirisch bin ich zu dem Schluss gekommen: Es gibt einen Code, den Sie nicht verstehen, aber es gibt einen Code, den Sie definitiv nie kontaktieren werden.  L√∂schen Sie den Code, den Sie nicht kontaktieren, und gehen Sie vorsichtig mit dem Code um, den Sie nicht verstehen. <br><br><a name="6"></a><h4>  Code√ºberpr√ºfung </h4><br>  Eine Code√ºberpr√ºfung ist ein gro√üartiges Werkzeug f√ºr die Selbstbildung.  Dies ist eine externe R√ºckkopplungsschleife, die zeigt, wie sie den Code schreiben w√ºrden und wie Sie ihn geschrieben haben.  Was ist der Unterschied?  Ein Weg besser als ein anderer?  Ich habe mich bei jeder Rezension danach gefragt: "Warum haben sie so geschrieben?"  Und wenn er keine passende Antwort finden konnte, ging er und fragte. <br><br>  Nach dem ersten Monat fing ich an, Fehler im Code meiner Kollegen zu finden (wie sie in meinem gefunden wurden).  Es war eine Art Wahnsinn.  Die Rezension ist f√ºr mich viel interessanter geworden, sie hat sich in ein Spiel verwandelt, das mir gefehlt hat, ein Spiel, das meinen "Sinn f√ºr Code" verbessert hat. <br><br>  Nach meiner Erfahrung m√ºssen Sie den Code erst genehmigen, wenn ich verstanden habe, wie er funktioniert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/96a/2ad/248/96a2ad248018ff0721f16a262dbb294c.png"><br>  <i>Meine Github-Statistik.</i> <br><br><a name="7"></a><h2>  Testen </h2><br>  Ich habe mich so sehr in das Testen verliebt, dass es f√ºr mich unangenehm ist, Code ohne Tests in eine Codebasis zu schreiben. <br><br>  Wenn Ihre Bewerbung nur eines tut (wie alle meine Schulprojekte), k√∂nnen Sie trotzdem manuell testen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup>4</sup></a> Genau das habe ich getan.  Aber was passiert, wenn eine Anwendung 100 verschiedene Aufgaben ausf√ºhrt?  Ich m√∂chte keine halbe Stunde mit Testen verbringen und manchmal verliere ich etwas aus den Augen.  Ein Albtraum. <br><br>  Hier helfen Tests und Testautomatisierung. <br><br>  Ich behandle Tests als Dokumentation.  Dies ist die Dokumentation meiner Ideen zum Code.  Tests sagen mir, wie ich (oder jemand anderes vor mir) mir vorstelle, dass der Code funktioniert und wo etwas erwartet wird, das schief gehen sollte. <br><br>  Wenn ich heute Tests schreibe, versuche ich: <br><br><ol><li>  Zeigen Sie, wie Sie die Testklasse, Funktion oder das System verwenden. <br></li><li>  Zeigen Sie, was meiner Meinung nach schief gehen k√∂nnte. <br></li></ol><br>  Daher teste ich meistens das Verhalten, aber nicht die Implementierung ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier ist ein Beispiel</a> , das ich in den Pausen bei Google ausgew√§hlt habe). <br><br>  In Absatz 2 habe ich die Fehlerquellen nicht erw√§hnt. <br><br>  Wenn ich einen Fehler bemerke, stelle ich sicher, dass der Fix einen geeigneten Test hat (dies wird als Regressionstest bezeichnet), um die Informationen zu dokumentieren.  Dies ist ein weiterer Grund, warum etwas schief gehen k√∂nnte.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup>5</sup></a> <br><br>  Nat√ºrlich verbessert sich die Qualit√§t meines Codes nicht, weil ich Tests schreibe, sondern weil ich Code schreibe.  Aber das Lesen der Tests hilft mir, Situationen besser zu verstehen und besseren Code zu schreiben. <br><br>  Dies ist die allgemeine Situation beim Testen. <br><br>  Dies ist jedoch nicht die einzige Art von Test, die ich anwende.  Ich spreche von Bereitstellungsumgebungen.  M√∂glicherweise haben Sie ideale Komponententests, aber wenn Sie keine Systemtests haben, kann Folgendes passieren: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/905/1c5/bb8/9051c5bb8da5d845cbd0d9c6dcccf236.gif"><br><br>  Dies gilt auch f√ºr gut getesteten Code: Wenn Sie nicht √ºber die erforderlichen Bibliotheken auf Ihrem Computer verf√ºgen, st√ºrzt alles ab. <br><br><ul><li>  Es gibt Maschinen, auf denen Sie entwickeln (die Quelle aller Memes wie "Es hat auf meinem Computer funktioniert!"). <br></li><li>  Es gibt Maschinen, auf denen Sie testen (m√∂glicherweise stimmen sie mit den vorherigen √ºberein). <br></li><li>  Schlie√ülich gibt es Computer, auf denen Sie bereitstellen (sie sollten nicht mit den Computern √ºbereinstimmen, auf denen Sie entwickelt haben). <br></li></ul><br>  Wenn die Test- und Bereitstellungsumgebungen auf den Computern nicht √ºbereinstimmen, treten Probleme auf.  Bereitstellungsumgebungen helfen, dies zu vermeiden. <br><br>  Wir entwickeln in Docker lokal auf unserem Computer. <br><br>  Wir haben eine Entwicklungsumgebung, diese Computer sind mit einer Reihe von Bibliotheken (und Entwicklungstools) ausgestattet, und hier installieren wir den geschriebenen Code.  Hier kann es mit allen notwendigen Systemen getestet werden.  Wir haben auch eine Beta / Staging-Umgebung, die die Betriebsumgebung vollst√§ndig wiederholt.  Schlie√ülich haben wir eine Betriebsumgebung - Maschinen, die Code f√ºr unsere Kunden ausf√ºhren. <br><br>  Die Idee ist, Fehler zu erkennen, die beim Testen von Einheiten und Systemen nicht aufgetreten sind.  Zum Beispiel der Unterschied in der API zwischen dem anfordernden und dem antwortenden System.  Ich denke, bei einem pers√∂nlichen Projekt oder einer kleinen Firma kann die Situation v√∂llig anders sein.  Nicht jeder hat die M√∂glichkeit, seine eigene Infrastruktur aufzubauen.  Sie k√∂nnen jedoch auf Cloud-Dienste wie AWS und Azure zur√ºckgreifen. <br><br>  Sie k√∂nnen einzelne Cluster f√ºr Entwicklung und Betrieb konfigurieren.  AWS ECS verwendet Docker-Images f√ºr die Bereitstellung, sodass Prozesse in verschiedenen Umgebungen relativ konsistent sind.  Die Integration zwischen verschiedenen AWS-Diensten weist Nuancen auf.  Rufen Sie den richtigen Endpunkt aus der richtigen Umgebung auf? <br><br>  Sie k√∂nnen noch weiter gehen: Laden Sie alternative Container-Images f√ºr andere AWS-Services herunter und konfigurieren Sie eine lokale voll funktionsf√§hige Docker-Compose-basierte Umgebung.  Dies beschleunigt die R√ºckkopplungsschleife.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup>6</sup></a> Vielleicht sammle ich mehr Erfahrung, wenn ich mein Nebenprojekt erstelle und starte. <br><br><a name="8"></a><h2>  Risikominderung </h2><br>  Welche Schritte k√∂nnen Sie unternehmen, um das Katastrophenrisiko zu verringern?  Wenn wir √ºber eine neue radikale √Ñnderung sprechen, wie k√∂nnen wir dann die minimale Ausfallzeit √ºberpr√ºfen, wenn etwas schief geht?  "Aufgrund all dieser neuen √Ñnderungen m√ºssen wir das System nicht vollst√§ndig bereitstellen."  Ist es wahr?  Und warum habe ich nicht dar√ºber nachgedacht? <br><br><a name="9"></a><h2>  Architektur </h2><br>  Warum spreche ich nach dem Schreiben von Code und Testen √ºber Architektur?  Es kann zuerst installiert werden, aber wenn ich nicht in der von mir verwendeten Umgebung programmiert und getestet h√§tte, w√§re es mir wahrscheinlich nicht gelungen, eine Architektur zu erstellen, die die Funktionen dieser Umgebung ber√ºcksichtigt.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup>7</sup></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a> <br>  Sie m√ºssen viel nachdenken, wenn Sie eine Architektur erstellen. <br><br><ul><li>  Wie werden Zahlen verwendet? <br></li><li>  Wie viele Benutzer wird es geben?  Wie stark kann sich ihre Anzahl erh√∂hen (die Anzahl der Zeilen in der Datenbank h√§ngt davon ab)? <br></li><li>  Welche Riffe k√∂nnen sich treffen? <br></li></ul><br>  Ich muss daraus eine Checkliste mit dem Namen "Claim Collection" machen.  Im Moment habe ich nicht genug Erfahrung, ich werde versuchen, es n√§chstes Jahr bei Bloomberg zu tun.  Dieser Prozess steht weitgehend im Widerspruch zu Agile: Inwieweit k√∂nnen Sie die Architektur entwerfen, bevor Sie mit der Implementierung fortfahren?  Es geht nur um das Gleichgewicht. Sie m√ºssen entscheiden, wann und was Sie tun m√∂chten.  Wann ist es sinnvoll, vorw√§rts zu eilen und wann - zur√ºckzutreten?  Das Sammeln von Anforderungen ist nat√ºrlich nicht gleichbedeutend mit der Ber√ºcksichtigung aller Probleme.  Ich denke, es zahlt sich aus, wenn wir die Entwicklungsprozesse in das Design einbeziehen.  Zum Beispiel: <br><br><ul><li>  Wie wird die lokale Entwicklung verlaufen? <br></li><li>  Wie werden wir packen und bereitstellen? <br></li><li>  Wie werden wir End-to-End-Tests durchf√ºhren? <br></li><li>  Wie werden wir Stresstests f√ºr den neuen Service durchf√ºhren? <br></li><li>  Wie werden wir Geheimnisse bewahren? <br></li><li>  CI / CD-Integration? <br></li></ul><br>  Wir haben k√ºrzlich eine neue Suchmaschine f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BNEF entwickelt</a> .  Es war wunderbar, daran zu arbeiten. Ich organisierte eine lokale Entwicklung und informierte mich √ºber DPG (Pakete und deren Bereitstellung), wobei die Bereitstellung von Geheimnissen erhoben wurde. <br><br>  Wer h√§tte gedacht, dass das Bereitstellen von Geheimnissen f√ºr einen Sto√ü so trivial sein k√∂nnte: <br><br><ol><li>  Sie k√∂nnen nicht in Code eingef√ºgt werden, da jemand sie bemerken kann <br></li><li>  Um sie als Umgebungsvariable zu speichern, da die Spezifikation 12 Anwendungsfaktoren bietet?  Keine schlechte Idee, aber wie soll man sie dort hinstellen?  (Es ist schmerzhaft, jedes Mal, wenn das Auto startet, zum Produkt zu gehen, um Umgebungsvariablen einzugeben.) <br></li><li>  Als Dateien bereitstellen?  Aber woher kommen sie und wie sollen sie gef√ºllt werden? <br></li></ol><br>  Wir wollen nicht alles manuell machen. <br><br>  Als Ergebnis kamen wir zu einer Datenbank mit rollenbasierter Zugriffskontrolle (nur wir und unsere Computer k√∂nnen mit der Datenbank kommunizieren).  Unser Code erh√§lt beim Start Geheimnisse aus der Datenbank.  Dieser Ansatz l√§sst sich im Rahmen von Entwicklungs-, Staging- und Betriebsumgebungen gut replizieren. Geheimnisse werden in geeigneten Datenbanken gespeichert. <br><br>  Auch bei Cloud-Diensten wie AWS kann die Situation v√∂llig anders sein.  Sie m√ºssen sich irgendwie nicht um Geheimnisse k√ºmmern.  Erstellen Sie ein Konto f√ºr Ihre Rolle, geben Sie die Geheimnisse in die Benutzeroberfl√§che ein, und Ihr Code findet sie, wenn sie ben√∂tigt werden.  Dies vereinfacht alles erheblich, aber ich bin froh, dass ich Erfahrungen gesammelt habe, dank derer ich diese Einfachheit sch√§tzen kann. <br><br><a name="10"></a><h4>  Wir schaffen Architektur, ohne die Wartung zu vergessen </h4><br>  Das Systemdesign ist inspirierend.  Und die Eskorte?  Nicht zu viel.  Meine Reise durch die Welt der Escorts f√ºhrte mich zu der Frage: Warum und wie verschlechtern sich Systeme?  Der erste Teil der Antwort bezieht sich nicht auf die Stilllegung aller veralteten, sondern nur auf die Hinzuf√ºgung einer neuen.  Die Tendenz zum Hinzuf√ºgen statt L√∂schen (erinnert es nichts daran?).  Der zweite Teil ist das Entwerfen mit dem ultimativen Ziel.  Ein System, das im Laufe der Zeit beginnt, das zu tun, wof√ºr es nicht vorgesehen war, funktioniert nicht unbedingt so gut wie ein System, das urspr√ºnglich f√ºr dieselben Aufgaben entwickelt wurde.  Dies ist ein Step-Back-Ansatz, keine Tricks und Tricks. <br><br>  Ich kenne mindestens drei M√∂glichkeiten, um die Abbaurate zu verringern. <br><br><ol><li>  Separate Gesch√§ftslogik und Infrastruktur: Die Infrastruktur verschlechtert sich normalerweise - die Last steigt, Frameworks werden veraltet, Zero-Day-Schwachstellen treten auf usw. <br></li><li>  Erstellen Sie Prozesse f√ºr die zuk√ºnftige Unterst√ºtzung.  Wenden Sie die gleichen Updates f√ºr alte und neue Bits an.  Dies verhindert Unterschiede zwischen dem Alten und dem Neuen und h√§lt den gesamten Code in einem ‚Äûmodernen‚Äú Zustand. <br></li><li>  Stellen Sie sicher, dass Sie alles wegwerfen, was unn√∂tig und alt ist. <br></li></ol><br><a name="11"></a><h2>  Bereitstellung </h2><br>  Werde ich Features zusammenpacken oder einzeln bereitstellen?  Wenn Sie sie je nach aktuellem Prozess zusammenpacken, warten Sie auf Probleme.  Fragen Sie sich, warum Sie Funktionen zusammenpacken m√∂chten? <br><br><ul><li>  Die Bereitstellung nimmt viel Zeit in Anspruch? <br></li><li>  Macht Code√ºberpr√ºfung nicht zu viel Spa√ü? <br></li></ul><br>  Was auch immer der Grund sein mag, diese Situation muss korrigiert werden.  Ich kenne mindestens zwei Probleme im Zusammenhang mit der Verpackung: <br><br><ol><li>  Sie selbst blockieren alle Funktionen, wenn eine davon einen Fehler aufweist. <br></li><li>  Sie erh√∂hen das Risiko von Problemen. <br></li></ol><br>  Unabh√§ngig davon, f√ºr welchen Bereitstellungsprozess Sie sich entscheiden, m√∂chten Sie immer, dass Ihre Autos wie Vieh und nicht wie Haustiere sind.  Sie sind nicht einzigartig.  Sie wissen genau, was auf jeder Maschine ausgef√ºhrt wird und wie Sie sie im Todesfall neu erstellen k√∂nnen.  Sie werden nicht ver√§rgert sein, wenn ein Auto stirbt, Sie holen einfach ein neues ab.  Sie weiden sie, nicht wachsen. <br><br><a name="12"></a><h2>  Wenn etwas schief geht </h2><br>  F√ºr den Fall, dass etwas schief geht - und das tut es auch - gibt es eine goldene Regel: Minimieren Sie die Auswirkungen auf die Kunden.  Im Falle von Fehlern war mein erster Wunsch immer, das Problem zu beheben.  Dies scheint nicht die optimale L√∂sung zu sein.  Anstatt zu reparieren, m√ºssen Sie zuerst ein Rollback durchf√ºhren, auch wenn dies in einer Zeile m√∂glich ist.  Zum vorherigen Betriebszustand zur√ºckkehren.  Dies ist der schnellste Weg, um Kunden zu einer funktionierenden Version zur√ºckzukehren.  Erst dann finde ich heraus, wo das Problem liegt und behebe es. <br><br>  Gleiches gilt f√ºr den ‚Äûbesch√§digten‚Äú Computer in Ihrem Cluster: Schalten Sie ihn aus, markieren Sie ihn als unzug√§nglich, bevor Sie herausfinden, was mit ihm passiert ist.  Ich finde es seltsam, wie sehr mein nat√ºrliches Verlangen und mein Instinkt der optimalen L√∂sung widersprechen. <br><br>  Ich denke, dieser Instinkt hat auch dazu gef√ºhrt, dass ich Fehler l√§nger behoben habe.  Manchmal wurde mir klar, dass etwas nicht funktionierte, weil der Code, den ich schrieb, irgendwie falsch war, und ich stieg in die Wildnis und schaute auf jede Zeile.  So etwas wie eine Suche "zuerst in die Tiefe".  Und als sich herausstellte, dass das Problem aufgrund einer Konfigurations√§nderung auftrat, das hei√üt, ich habe es √ºberhaupt nicht √ºberpr√ºft, beunruhigte mich diese Situation.  Ich habe viel Zeit damit verschwendet, nach einem Fehler zu suchen. <br><br>  Seitdem habe ich gelernt, "zuerst in der Breite" und daher bereits "zuerst in der Tiefe" zu suchen, um √ºbergeordnete Gr√ºnde auszuschlie√üen.  Was genau kann ich mit aktuellen Ressourcen best√§tigen? <br><br><ul><li>  Funktioniert das Auto? <br></li><li>  Ist der Code korrekt installiert? <br></li><li>  Gibt es eine Konfiguration? <br></li><li>  &lt;Codespezifische Konfiguration&gt;, z. B. ob das Routing richtig geschrieben ist? <br></li><li>  Ist die Schemaversion korrekt? <br></li><li>  Und dann tauche ich in den Code ein. <br></li></ul><br><blockquote>  Wir dachten, dass nginx falsch installiert wurde, aber es stellte sich heraus, dass nur die Konfiguration deaktiviert war </blockquote><br>  Nat√ºrlich muss ich das nicht jedes Mal tun.  Manchmal reicht schon eine Fehlermeldung aus, um sofort zum Code zu gelangen.  Wenn ich die Ursache nicht ermitteln kann, versuche ich, die Anzahl der Code√§nderungen zu minimieren, um den Grund zu finden.  Je weniger √Ñnderungen vorgenommen werden, desto schneller kann ich die eigentliche Wurzel des Problems finden.  Au√üerdem habe ich jetzt ein Memo f√ºr Fehler, das mir mehr als eine Stunde Zeit gespart hat, als ich dachte: "Was habe ich vermisst?"  Manchmal vergesse ich die einfachsten √úberpr√ºfungen wie das Konfigurieren des Routings, das √úbereinstimmen von Schema- und Dienstversionen usw.  Dies ist ein weiterer Schritt in der Entwicklung des von mir verwendeten Technologie-Stacks. Was Sie nur mit Erfahrung gewinnen, ist die Intuition, festzustellen, was genau nicht funktioniert. <br><br><a name="13"></a><h4>  Fahrrad </h4><br>  Dieser Artikel kann ohne eine Geschichte nicht vollst√§ndig sein.    ,        .      SQLAlchemy.  BNEF   ,     .      .          SQLAlchemy,   ,        Solr.  -   . <br><br>           ¬´MYSQL server has gone away.¬ª     .     ,     ,   . ,      .         ,    .     ,    ? <br><br>  ,      ?     ,      ,       .     ,         ,      <code>__exit__()</code>  <code>session.close()</code> . <br><br>     ,  ,    .             .          .      .    . <br><br> <code>Session.close()</code>  MySQL- SQLAlchemy      ,    NullPool.   . ,      ,           .      :     StackOverflow (,   !)     ,   ,     SQL- .       ,       .  ,        ,     (),     . <br><br>    ¬´¬ª  ,      1   8.   ,   ,       ‚Äî          . <br><br><blockquote>     ,      . </blockquote><br><a name="14"></a><h2>  √úberwachung </h2><br>  ,       .  ,         ,      .    ,      . <br><br>    ,      ,      ,      .     ,      .  ,      . ¬´ <i>  ?!        ,  ?</i>  ". <br><br>  ,      : ,   .   ,   ,  .  ,     ,     .     ,       .     ‚Äî     ? ,   ,   .          .  ,     -,     ,    ,   ,  ,  ..        . <br><br>      .    ,     ,     ?          (,    AWS CloudWatch  Grafana).            . <br><br>        .       ,      ,       50 %,       ‚Äî   .    ?   .     ,    ‚Äî      (, ?). <br><br>        .   ,      ,  ,    ,      ?   ?    ,    ? <br><br>    ,   .      ,    .      ‚Äî    -  . <br><br><a name="15"></a><h2>  Fazit </h2><br>      .  ,     ,       ,     .   ,      - ! <br><br>        . ,    ! <br><br><blockquote>     ,        .     ,                ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">How to Build Good Software</a> . </blockquote><br><a name="16"></a><h2>      </h2><br>        .       :     !     ,         . <br><br><ol><li>    ? <br></li><li>          ? ,    ?    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">,   </a> ? <br></li><li>   .       ,      ?    ? <br></li><li>     (utils) (,     ,   ,  )  ,   ¬´ ¬ª? <br></li><li>         ? <br></li><li>    ,  ,  -  ? <br></li><li>   ‚Äî      API    ,         ? <br></li><li>    ?  ,     . <br></li><li>     ,   ,  .  ,   ,       . <br></li><li>      PR: ¬´      ,    ,     52 ,  , ,  ,     ,   ¬ª.    ? <br></li><li>    .        ? <br></li><li>    ? <br></li><li>     ? <br></li></ol><br><h2>  Anmerkungen </h2><br><ol><li><a name="17"></a>     .  ,    ?  - ?    ,    ? <br></li><li><a name="18"></a>    ,        <code>x()</code> , <code>y()</code>  <code>z(),</code>       <code>x()</code> , <code>y()</code>  <code>z()</code> .  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WYSIATI</a> . <br></li><li><a name="19"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> .</a> <br></li><li><a name="20"></a>       .      ,   ? <br></li><li><a name="21"></a>  ,    - ,      ,     .   ,   . <br></li><li><a name="22"></a>     ,    ,       Docker-  AWS. <br></li><li><a name="23"></a>         . <br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465561/">https://habr.com/ru/post/de465561/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465547/index.html">SQL-Handbuch: Besseres Schreiben von Abfragen (Teil 1)</a></li>
<li><a href="../de465551/index.html">September IT Events Digest (Teil 1)</a></li>
<li><a href="../de465553/index.html">Programmiersprache √ú. Einf√ºhrung, Motivation zu schaffen, Ziele</a></li>
<li><a href="../de465555/index.html">12 Soft Skills, die IT-Projektmanager unaufhaltsam machen</a></li>
<li><a href="../de465557/index.html">Produktentwicklungsfristen</a></li>
<li><a href="../de465567/index.html">Testen von SQL Server-Code mit tSQLt</a></li>
<li><a href="../de465569/index.html">Entwicklungskarte f√ºr mobile Entwickler</a></li>
<li><a href="../de465571/index.html">Wie man M√§nnerzigaretten f√ºr Frauen verkauft und Wilde dazu bringt, sich selbst zu sch√ºtzen: Texter, die es k√∂nnten</a></li>
<li><a href="../de465573/index.html">Die ganze Kraft von IntelliJ IDEA am Beispiel einer Sprache (in Bildern)</a></li>
<li><a href="../de465575/index.html">Vergleichsoperationen in C ++ 20</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>