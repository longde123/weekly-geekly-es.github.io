<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùå üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø üåÉ Vis√£o geral t√©cnica do NEC HYDRAstor HS8 e mais üë©üèΩ‚Äçüíº üë©üèæ‚Äçüè´ üë©üèº‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quando em nosso pa√≠s as pessoas ouvem o nome da empresa NEC, a primeira coisa que as pessoas da gera√ß√£o mais velha se lembram √©: 

 Aqueles que s√£o um...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vis√£o geral t√©cnica do NEC HYDRAstor HS8 e mais</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466815/">  Quando em nosso pa√≠s as pessoas ouvem o nome da empresa NEC, a primeira coisa que as pessoas da gera√ß√£o mais velha se lembram √©: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wr/0v/ud/wr0vudcg37uxm7hbevhqsrfkuea.jpeg" width="200" height="200"></div><br>  Aqueles que s√£o um pouco mais jovens s√£o: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kx/iu/az/kxiuaz3rpe2cxa0auylepr8y8s8.jpeg" width="300" height="300"></div><br>  <b>(sob o corte muitas fotos)</b> <br><a name="habracut"></a><br><br><h2>  NEC Corporation </h2><br>  Parece "N-si".  E, em ingl√™s, significa Corpora√ß√£o El√©trica <b>N</b> ippon.  Embora em nosso pa√≠s eles geralmente se pronunciam como NEC :). <br><img src="https://habrastorage.org/webt/lq/8a/8k/lq8a8k-5p0aazryyzpzznf3eyo4.jpeg" width="200" height="200" align="left"><ul><li>  Sede do apartamento - T√≥quio, Jap√£o (na foto) </li><li>  Volume de neg√≥cios em 2018 - US $ 29 bilh√µes </li><li>  Total de funcion√°rios 109.000 ou mais </li><li>  As principais f√°bricas est√£o localizadas no Jap√£o, v√°rias f√°bricas na Mal√°sia </li><li>  65% do volume de neg√≥cios - vendas no Jap√£o </li><li>  18 escrit√≥rios em 18 pa√≠ses </li><li>  4 centros de pesquisa em 4 pa√≠ses </li></ul><br>  A empresa foi registrada em T√≥quio em 1899 e nos primeiros anos atuou na produ√ß√£o de equipamentos telef√¥nicos. <br>  Hoje, a NEC produz uma gama bastante ampla de solu√ß√µes, que podem ser encontradas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site oficial da empresa.</a> <br><img src="https://habrastorage.org/webt/11/y6/h5/11y6h5cteoqm6p7jjryov76vl9k.jpeg"><br>  Mas gostaria de contar √† comunidade respeitada sobre a linha de armazenamento de desduplica√ß√£o NEC HYDRAstor para backups e, principalmente, sobre a fam√≠lia HS8 mais antiga. <br><br><h2>  NEC HYDRAstor HS8 </h2><br>  O que me surpreendeu desde o in√≠cio foi que a 5¬™ gera√ß√£o desses sistemas j√° havia sido lan√ßada e na R√∫ssia quase nada se sabe sobre eles.  Pelo menos ao me comunicar com pessoas de fornecedores, integradores ou clientes, muitas vezes vi a surpresa como a primeira rea√ß√£o ao mencionar essas solu√ß√µes. <br>  Nas figuras abaixo, s√£o apresentadas a programa√ß√£o atual do NEC HYDRAstor HS8 e as principais caracter√≠sticas dos modelos. <br><img src="https://habrastorage.org/webt/d0/qb/le/d0qblefnygy9n9su6p10yxu921o.jpeg"><br>  Os sistemas de armazenamento HYDRAstor s√£o sistemas constru√≠dos com base na arquitetura de expans√£o.  Consequentemente, o armazenamento NEC HS8 √© um sistema escal√°vel horizontalmente e pode ser expandido at√© 165 n√≥s para aumentar a capacidade e o desempenho.  Isso permite que voc√™ comece com uma configura√ß√£o pequena e mais barata (Nr: modo √∫nico) e, em seguida, expanda-a sequencialmente conforme suas crescentes necessidades de backup.  Como pode ser visto nas figuras, os clusters HS8 podem conter dois tipos de n√≥s.  N√≥s h√≠bridos (N√≥ H√≠brido), combinando as fun√ß√µes dos controladores (N√≥ do Acelerador), interagindo com os servidores de backup, bem como a fun√ß√£o de armazenamento de dados (N√≥ do Armazenamento).  E n√≥s de armazenamento separados (N√≥ de Armazenamento), usados ‚Äã‚Äãpara aumentar o espa√ßo em disco dispon√≠vel no sistema de armazenamento.  Dependendo do modelo do sistema e dos requisitos do cliente, a propor√ß√£o de n√≥s h√≠bridos e de armazenamento no cluster pode variar. <br><img src="https://habrastorage.org/webt/a4/ua/_u/a4ua_ufbzn8sja7l_0dppsv1wpu.jpeg"><br>  <sup><b>2</b> - Um (1) Terabyte (TB) = 1.000.000.000.000 bytes.</sup> <sup><br></sup>  <sup><b>3</b> - Suposi√ß√£o: backup completo semanal e backup incremental di√°rio e per√≠odo de reten√ß√£o de 3 meses para atingir uma taxa de redu√ß√£o de dados de 20: 1;</sup>  <sup>9 + 3 n√≠vel de resili√™ncia.</sup> <br><img src="https://habrastorage.org/webt/gw/qq/eh/gwqqehdhofjcy4saoczz9ocdd4k.jpeg"><br>  √â poss√≠vel configurar n√≥s com discos de 8 TB, mediante solicita√ß√£o do cliente.  O desempenho m√°ximo por n√≥, de acordo com o fornecedor, √© de 61 TB / h ou 72 TB / h em 1HN + 1SN, mas isso est√° sujeito ao uso de desduplica√ß√£o na origem (Transfer√™ncia Dedupada) e dados que se prestam bem √† desduplica√ß√£o.  Como muitos fornecedores, essa √© mais uma figura de marketing - o chamado Best Case.  E o pior caso √© 450 MB / s por n√≥ em 12 discos SATA - desde que os dados n√£o possam ser duplicados e compactados completamente.  I.e.  todo o fluxo n√£o compactado e n√£o deduplicado vai para as unidades SATA, que s√£o chamadas de o pior caso.  Assim, o descrito acima √© uma esp√©cie de valores extremos, e a realidade em cada caso espec√≠fico estar√° em algum lugar no meio. <br><br>  <b>A apar√™ncia dos n√≥s HS8-5000</b> na frente √© apresentada abaixo.  De fato, esses s√£o os pr√≥prios servidores da NEC com discos e placas de rede.  CPU em todos os n√≥s da gera√ß√£o E5-2600v3. <br><img src="https://habrastorage.org/webt/b9/lx/1s/b9lx1sowaf2gpibu06rd2atdqf0.jpeg"><br><br>  Vista traseira de um n√≥ h√≠brido com portas internas e externas em 1Gbe.  As portas internas s√£o usadas para conex√µes intracluster entre os n√≥s do HydraStor.  As portas externas s√£o usadas para conex√µes de clientes externos ao cluster (por exemplo, para servidores de m√≠dia de backup).  √Ä direita, existem dois discos SAS que hospedam o sistema operacional do n√≥. <br><img src="https://habrastorage.org/webt/oe/e2/ww/oee2ww5bkwvlkhzue0jqixhcgdw.jpeg"><br><br>  Vista traseira de um n√≥ h√≠brido com portas internas e externas em 1Gbe e duas portas externas de 10Gbe. <br><img src="https://habrastorage.org/webt/uy/vb/y-/uyvby-utdabmpzpi5s3_pwcvuly.jpeg"><br><br>  Vista traseira de um n√≥ h√≠brido com portas internas e externas em 1Gbe e quatro portas externas de 10Gbe. <br><img src="https://habrastorage.org/webt/tx/fo/zc/txfozc-za1cpiqxxjhzq8htacvq.jpeg"><br><br>  Vista traseira de uma pilha de n√≥s com portas internas em 1Gbe. <br><img src="https://habrastorage.org/webt/2b/4r/gz/2b4rgzqjcdlohbp71auk5svsp3a.jpeg"><br><br>  Conex√µes internas em um cluster de dois n√≥s consistindo em dois n√≥s h√≠bridos sem o uso de comutadores.  Ao atualizar de uma configura√ß√£o de n√≥ √∫nico para dois clusters de n√≥, √© necess√°rio planejar 4 horas de inatividade para reconfigurar LSNs internos (n√≥s de armazenamento l√≥gico).  Os dados j√° gravados no cluster n√£o s√£o perdidos. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wv/p4/vb/wvp4vbdj57-hqcl2am9ixdz0wks.jpeg" width="600" height="600"></div><br><br>  Conex√µes internas em um cluster de dois n√≥s consistindo em um n√≥ h√≠brido e um n√≥ de cem n√≥s sem usar comutadores. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k2/fn/_f/k2fn_fbrkfuvfdzqkpaeu-wrvyw.jpeg" width="600" height="600"></div><br><br>  Conex√£o esquem√°tica de um cluster que consiste em mais de 2 n√≥s usando comutadores Ethernet intra-cluster. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jh/tw/6s/jhtw6sntifr19ye1nqbux86zdiq.jpeg" width="600" height="600"></div><br><br>  Para o trabalho dentro do cluster, s√£o usados ‚Äã‚Äãcomutadores L2 NEC de produ√ß√£o pr√≥pria.  Abaixo est√° um exemplo de empilhamento de switches intra-cluster NEC, que s√£o usados ‚Äã‚Äãpara conectar as portas internas dos n√≥s do HydraStor.  Dependendo do tamanho do cluster, podem ser usados ‚Äã‚Äãdois a tr√™s comutadores Ethernet de 48 portas por gabinete de telecomunica√ß√µes.  No m√°ximo 39 comutadores de unidade √∫nica por cluster (incluindo comutadores L3 "de parte superior do rack").  Os switches s√£o fornecidos com o cluster como parte de uma √∫nica solu√ß√£o. <br><img src="https://habrastorage.org/webt/xl/aq/jx/xlaqjxm5uzjm6vtvtchevckp7ua.jpeg"><br><br>  Um exemplo de uma tabela de comuta√ß√£o de portas em comutadores Ethernet internos. <br>  HNxxxx-M: Conecte-se √† porta de manuten√ß√£o do n√≥ h√≠brido <br>  HNxxxx-1/2/3/4: Conecte √† porta iLAN1 / 2/3/4 do n√≥ h√≠brido <br>  SNxxxx-M: Conecte-se √† porta de manuten√ß√£o do n√≥ de armazenamento <br>  SNxxxx-1/2/3/4: Conecte ao n√≥ da porta de armazenamento iLAN1 / 2/3/4 <br>  L3xxxxx-xx: conectar aos comutadores L3 <br>  Atrav√©s dos comutadores L3, √© fornecida conectividade entre os gabinetes de telecomunica√ß√µes em grandes configura√ß√µes. <br><img src="https://habrastorage.org/webt/oi/vz/7d/oivz7dknufilzds9ikuca-sb7f8.jpeg"><br><br>  Exemplo de entrega de um cluster NEC HydraStor pronto para instala√ß√£o no gabinete de telecomunica√ß√µes do cliente.  15 n√≥s por gabinete, at√© 11 gabinetes na configura√ß√£o m√°xima. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8o/cq/9u/8ocq9upz3zhu7bqileiew96xsuo.jpeg"></div><br><br>  O HYDRAstor usa desduplica√ß√£o global embutida em todo o cluster - <b>DataRedux</b> . <br>  Durante a desduplica√ß√£o, os dados s√£o divididos em blocos de tamanho vari√°vel, o que permite responder com mais precis√£o √†s altera√ß√µes de arquivo durante os backups subsequentes.  Para blocos √∫nicos, o algoritmo de compacta√ß√£o LZO √© usado adicionalmente para reduzir o tamanho dos dados armazenados. <br><img src="https://habrastorage.org/webt/gu/1e/nb/gu1enb1onagdhwsrsny_p1sfi1q.jpeg"><br><br>  Alterar alguns dados no meio do arquivo n√£o leva √† forma√ß√£o de novos blocos exclusivos, como ocorre com a desduplica√ß√£o usando blocos de comprimento constante.  O algoritmo determina com bastante precis√£o a parte alterada do arquivo e todos os blocos subsequentes permanecem inalterados e deduplicados. <br><img src="https://habrastorage.org/webt/mo/ct/nb/moctnbkpooy_odxg6tcaijv7i9e.jpeg"><br><br>  O armazenamento NEC HS8 oferece um alto n√≠vel de redund√¢ncia de dados armazenados, superior ao usado pelo armazenamento convencional.  Os dados gravados s√£o divididos em v√°rios blocos, adicionando somas de verifica√ß√£o especiais a esses blocos e, em seguida, distribu√≠dos por discos em v√°rios n√≥s, o sistema de armazenamento NEC HS8 fornece recupera√ß√£o de dados mesmo em caso de falhas em v√°rios pontos simultaneamente.  Ele pode lidar n√£o apenas com falhas simult√¢neas de 3 discos, mas tamb√©m de n√≥s, impedindo a perda de informa√ß√µes em caso de falha.  Para proteger os dados, os algoritmos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Erasure Coding</a> s√£o usados. <br><img src="https://habrastorage.org/webt/e5/qi/yj/e5qiyjbgfz_rhsbobeuvddqntya.jpeg"><br><br>  Devido ao fato de o HYDRAStor n√£o usar RAID e discos HS dedicados, a recupera√ß√£o de falhas (discos ou n√≥s) √© muito mais r√°pida do que quando o RAID √© usado.  Como a recupera√ß√£o √© realizada de acordo com o esquema de muitos para muitos, usando espa√ßo livre para recupera√ß√£o de dados. <br><img src="https://habrastorage.org/webt/vc/ir/ch/vcirch3y6eq-4jo1lx-vzr5ctv4.jpeg"><br><br>  Os dados armazenados s√£o verificados periodicamente quanto √† integridade.  Se os dados estiverem danificados, eles ser√£o restaurados automaticamente a partir das somas de verifica√ß√£o. <br><img src="https://habrastorage.org/webt/wa/cu/ur/wacuurbeexrhmjua70ijexehfxc.jpeg"><br><br>  <b>Os Dados Resilientes Distribu√≠dos (DRD) s√£o:</b> <br>  <b>1. Prote√ß√£o definida pelo usu√°rio contra falhas de disco ou n√≥</b> <br><ul><li>  Prote√ß√£o contra tr√™s falhas simult√¢neas por padr√£o </li><li>  A capacidade de usar v√°rios n√≠veis (1-6) de prote√ß√£o para v√°rios aplicativos em um sistema (diferentes sistemas de arquivos com o n√≠vel de prote√ß√£o desejado para diferentes aplicativos) </li></ul><br>  <b>2. Melhor prote√ß√£o a menor custo.</b> <br><ul><li>  Por padr√£o, 75% da capacidade de armazenamento de dados e 25% para a prote√ß√£o deles s√£o usados. </li><li>  1,5 vezes mais confi√°vel que o RAID 6, com custos mais baixos e recupera√ß√£o mais r√°pida </li><li>  N√£o h√° necessidade de discos sobressalentes (Hot Spare), a recupera√ß√£o vai liberar espa√ßo no cluster </li></ul><br>  <b>3. Recupera√ß√£o mais r√°pida com menos degrada√ß√£o no desempenho</b> <br><ul><li>  Apenas os dados s√£o recuperados, n√£o o disco inteiro </li><li>  Os dados s√£o restaurados no modo muitos para muitos, ao contr√°rio do RAID </li></ul><br>  A tabela abaixo mostra a depend√™ncia do n√∫mero de falhas de disco ou n√≥ permitidas para configura√ß√µes de um e dois n√≥s. <br>  Um n√≠vel de seguran√ßa diferente do padr√£o (3) pode ser atribu√≠do a cada sistema de arquivos rec√©m-criado.  Quanto maior o n√≠vel especificado pelo Resilience, mais confi√°veis ‚Äã‚Äãos dados s√£o protegidos contra perdas, mas tamb√©m maior o custo do espa√ßo em disco necess√°rio para essa prote√ß√£o.  Comparado com solu√ß√µes competitivas, aproximadamente os mesmos 25% dos custos de espa√ßo em disco s√£o incorridos pelos concorrentes ao usar o Raid6, o que permite que voc√™ n√£o perca mais de 2 discos de um grupo de Raid.  O HydraStor pode perder at√© 3 discos sem perda de dados, com os mesmos 25% do espa√ßo em disco gasto na prote√ß√£o de dados armazenados. <br><img src="https://habrastorage.org/webt/l7/jz/_3/l7jz_3ksewfq4astvyc1gnm0xvg.jpeg"><br><br>  Uma tabela semelhante, apenas para configura√ß√µes de monogonode. <br><img src="https://habrastorage.org/webt/pf/6x/c1/pf6xc1i5l-gay_g7nmz4uc1amqo.jpeg"><br><br>  Capacidade l√≠quida em n√≥s HS8 sem desduplica√ß√£o e compacta√ß√£o. <br><img src="https://habrastorage.org/webt/pu/8f/6d/pu8f6dxz5po-yg_y961h10egcgi.jpeg"><br><br>  <b>Incluindo novos n√≥s no cluster:</b> <br><ul><li>  A adi√ß√£o do novo HN (N√≥ H√≠brido) aumenta linearmente o desempenho e a capacidade do cluster. </li><li>  Adicionar novo SN (N√≥ de Armazenamento) aumenta linearmente a capacidade do cluster </li><li>  Ao adicionar novos n√≥s, o processo de redistribui√ß√£o de dados armazenados para novos n√≥s inicia automaticamente </li></ul><br><img src="https://habrastorage.org/webt/ys/8z/6p/ys8z6poszmxgs4po8zp_lk6ow1a.jpeg"><br><br>  A capacidade de armazenamento NEC HS8 pode ser facilmente aumentada √† medida que a quantidade de dados aumenta.  O armazenamento NEC HS8 pode armazenar dados com seguran√ßa por longos per√≠odos de tempo usando a tecnologia distribu√≠da de toler√¢ncia a falhas.  Os dados migram automaticamente do n√≥ antigo para o novo durante a substitui√ß√£o.  Isso permite que voc√™ altere os n√≥s em tempo real sem criar inconvenientes para os usu√°rios.  A substitui√ß√£o de n√≥s tamb√©m reduz significativamente os custos, prolongando a vida √∫til de um sistema existente, em compara√ß√£o com a substitui√ß√£o completa de um sistema por um novo.  N√≥s de tr√™s gera√ß√µes podem estar simultaneamente em um cluster. <br><img src="https://habrastorage.org/webt/63/vv/nc/63vvncq0wmcm991g9m0emk4bg1y.jpeg"><br><br>  <b>Universal Express I / O</b> - protocolo leve de E / S NEC (instalado por um plug-in separado no servidor de m√≠dia de backup) <br>  <b>1. Tem menos sobrecarga que o NFS / CIFS, o que significa que √© mais produtivo</b> <b><br></b>  <b>2. Funciona com muitos aplicativos de backup, por exemplo: RMAN, NetWorker, NetVault etc.</b> <b><br></b>  <b>3. Suporta as seguintes fun√ß√µes:</b> <br><ul><li>  Compacta√ß√£o de dados durante a transmiss√£o </li><li>  Criptografia de dados de transmiss√£o </li><li>  Balanceamento de carga de rede </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ml/td/zf/mltdzffub2rgyc62cdr1ppnoxoe.jpeg" width="500" height="500"></div><br><br>  <b>O Universal Express I / O Deduped Transfer</b> √© uma funcionalidade de E / S Universal Express licenciada separadamente que permite ativar a redu√ß√£o de redund√¢ncia na origem. <br>  O Deduped Transfer possui v√°rias limita√ß√µes e n√£o funcionar√° se o n√∫mero de tarefas de backup competitivas exceder: <br><ol><li>  50 backups paralelos em um servidor de backup (o 51¬∫ backup ser√° executado sem deduplica√ß√£o na origem) </li><li>  100 backups paralelos por n√≥ Hybryd (o 101¬∫ backup ser√° executado sem deduplica√ß√£o na origem) </li></ol><br>  A Transfer√™ncia com Desduplica√ß√£o requer uma licen√ßa adicional para o Universal Express I / O ou OST Suite (OpenStorage - Suite). <br><img src="https://habrastorage.org/webt/6b/xo/f4/6bxof4bz8ipcd_t1hm1_nz7ucti.jpeg"><br>  Requisitos para um servidor de backup usando a transfer√™ncia com desduplica√ß√£o: <br><img src="https://habrastorage.org/webt/qe/jb/fo/qejbfo4p7eiccdtgrroebawc1vq.jpeg"><br><br>  <b>Grade de acesso sincronizado</b> - permite ativar o acesso a um sistema de arquivos por meio de v√°rios n√≥s h√≠bridos ao mesmo tempo.  O recurso requer uma licen√ßa separada.  De fato, um √∫nico espa√ßo para nome √© inclu√≠do para um sistema de arquivos espec√≠fico por meio de v√°rios n√≥s h√≠bridos f√≠sicos.  Ao mesmo tempo, o cliente pode n√£o saber atrav√©s de qual n√≥ espec√≠fico est√° conectado no momento.  Para aumentar o desempenho de um sistema de arquivos, voc√™ pode simplesmente adicionar outro n√≥ h√≠brido ao grupo de n√≥s sincronizados.  A grava√ß√£o simult√¢nea no mesmo arquivo de n√≥s diferentes n√£o √© poss√≠vel. <br><br>  A Grade de acesso sincronizada simplifica o design do sistema e fornece um bom desempenho sem a necessidade de criar sistemas de arquivos separados em cada n√≥ h√≠brido. <br><img src="https://habrastorage.org/webt/oq/u4/hi/oqu4hijmbokqd8axktjiqrtqf6u.jpeg"><br><br>  <b>E / S din√¢mica</b> - balanceamento adapt√°vel de fluxos externos.  Distribui√ß√£o din√¢mica de fluxos de backup em todas as portas Ethernet externas (front-end) de todos os n√≥s h√≠bridos. <br><img src="https://habrastorage.org/webt/za/m3/tc/zam3tcch5qo-_w6y1e41ehrlfdw.jpeg"><br>  A E / S din√¢mica funciona se houver licen√ßas da Grade de Acesso Sincronizado e da Universal Express I / O no cluster.  Os fluxos de dados s√£o equilibrados igualmente entre v√°rios n√≥s h√≠bridos e / ou sub-redes dentro de um cluster.  Em uma configura√ß√£o de modo √∫nico, tamb√©m √© poss√≠vel configurar o balanceamento de fluxo nas portas f√≠sicas do n√≥ (sem usar a licen√ßa da Grade de Acesso Sincronizado), mas voc√™ precisar√° usar sub-redes diferentes em cada porta externa f√≠sica do n√≥.  No entanto, uma alternativa para ambas as licen√ßas em uma pequena configura√ß√£o de modo √∫nico pode ser a cole√ß√£o de v√°rias interfaces externas na <b>porta de liga√ß√£o</b> .  Os seguintes tipos de agrega√ß√£o s√£o suportados: <br><ul><li>  <b>balance-rr</b> - lan√ßa sequencialmente pacotes, da primeira √† √∫ltima interface </li><li>  <b>balance-alb</b> - √© a primeira alternativa a considerar se o LACP n√£o for usado.  Equilibra adaptativamente a carga em todas as interfaces, sem a necessidade de suporte dos comutadores.  Mas isso pode causar alertas nos sistemas de monitoramento de rede para duplica√ß√£o de endere√ßos IP. <br></li><li>  <b>backup ativo</b> - uma das interfaces est√° ativa.  Se a interface ativa falhar (link inativo etc.), outra interface substituir√° a interface ativa.  Nenhuma configura√ß√£o de switch adicional √© necess√°ria </li><li>  <b>IEEE 802.3ad</b> ou <b>LACP</b> (requer configura√ß√£o no lado do comutador do cliente) </li></ul><br>  Naturalmente, al√©m de Bonding e Universal Express I / O, voc√™ pode configurar <b>Jumbo Frames</b> ao longo de toda a rota de tr√°fego (nas interfaces de rede do HydraStor inclusive). <br><br>  Para integra√ß√£o com o <b>Veritas NetBackup</b> , os <b>plugins OST s√£o</b> suportados para v√°rios sistemas operacionais.  Se o Universal Express I / O n√£o for usado, o OST fornecer√° um bom desempenho nos protocolos CIFS ou NFS.  O NetBackup tamb√©m pode equilibrar seus trabalhos em v√°rios n√≥s NEC HS.  Para habilitar a desduplica√ß√£o na origem, tamb√©m √© necess√°ria uma licen√ßa de <b>Transfer√™ncia Dedupada</b> .  Al√©m disso, a funcionalidade <b>C√≥pia otimizada</b> √© suportada, o que permite que apenas blocos √∫nicos sejam replicados para um site remoto. <br><img src="https://habrastorage.org/webt/eh/jj/o5/ehjjo5eahzoi_mwltkbenznb6hw.jpeg"><br><br>  <b>A Replica√ß√£o Autom√°tica de Imagem OST</b> √© um recurso que automatiza a importa√ß√£o de um cat√°logo de backup para um servidor de Backup em um site remoto.  Isso permite acelerar a recupera√ß√£o de dados em um site remoto no caso de uma falha completa do site original. <br><img src="https://habrastorage.org/webt/du/j7/vk/duj7vkqyippkg8rymn7dsftkg7a.jpeg"><br><br>  <b>Plug-in OST - configura√ß√£o FC</b> - est√° dispon√≠vel uma <b>configura√ß√£o</b> para o HYDRAStor, na qual √© poss√≠vel gravar (ler) dados em n√≥s h√≠bridos, incluindo o protocolo FiberChannel.  Inicialmente, apenas o NetBackup com um plug-in OST era suportado.  Mas recentemente foi lan√ßado um patch (dispon√≠vel agora), cuja funcionalidade ser√° adicionada √† pr√≥xima vers√£o do software e <b>j√° funciona com o FC usando o protocolo Universal Express IO</b> .  Isso expande bastante a gama de softwares de backup que podem trabalhar com dados em um cluster via FC via Universal Express IO. <br><img src="https://habrastorage.org/webt/xm/oz/wv/xmozwvfjp01elqmod_9n7baxz3o.jpeg"><br><br>  A figura abaixo mostra a configura√ß√£o de n√≥s h√≠bridos com placas FC HBA instaladas. <br><img src="https://habrastorage.org/webt/6_/i0/qc/6_i0qcvydat4hemaeqjxg-8v3ps.jpeg"><br><br>  <b>A funcionalidade de failover para continuidade de neg√≥cios</b> √© o mecanismo de failover do cluster HYDRAstor.  Os n√≥s h√≠bridos (HNs) monitoram o estado um do outro e, em caso de falha de um dos n√≥s, um n√≥ √≠ntegro intercepta a entrada / sa√≠da do n√≥ quebrado para ele pr√≥prio. <br>  Ao usar o protocolo NFS, a E / S n√£o para e as sess√µes no servidor de Backup n√£o s√£o redefinidas.  Em outros casos, a reconex√£o √© necess√°ria. <br><img src="https://habrastorage.org/webt/jp/wg/ke/jpwgkew4xlds1rmop7-z5b6ehky.jpeg"><br><br>  Um exemplo um pouco mais ilustrativo do que na figura anterior.  N√£o apenas os sistemas de arquivos passam de n√≥ para n√≥, mas tamb√©m os endere√ßos IP atrav√©s dos quais esses sistemas de arquivos s√£o exportados. <br><img src="https://habrastorage.org/webt/rh/be/wi/rhbewiomoz4c84z4dspuncxzv8u.jpeg"><br><br>  <b>Replica√ß√£o otimizada para WAN</b> <br><ul><li>  Envia apenas dados exclusivos </li><li>  Reduz significativamente a carga de rede entre sites </li><li>  Elimina os custos de manuten√ß√£o da fita </li><li>  Protege os dados por meio de criptografia on-the-fly </li></ul><br><img src="https://habrastorage.org/webt/bd/s1/a-/bds1a-m2bi4gy-6p6osbuoicaqg.jpeg"><br><br>  <b>Topologia bidirecional 1 para 1</b> suportada para replica√ß√£o <br><img src="https://habrastorage.org/webt/ud/bz/hl/udbzhlwi0pis-3m8pzch1z_8lwy.jpeg"><br><br>  <b>A topologia bidirecional N-para-M</b> (ou muitos para muitos) tamb√©m √© suportada <br>  Os dados podem ser copiados para outros 16 sistemas com uma configura√ß√£o HYDRAstor de n√≥ √∫nico.  Al√©m de copiar dados para outros 50 sistemas em uma configura√ß√£o HYDRAstor de v√°rios n√≥s. <br><img src="https://habrastorage.org/webt/eg/un/fe/egunfew7_jzf5rtoylnnimz008e.jpeg"><br><br>  <b>Recupera√ß√£o de espa√ßo</b> - um local em um cluster, como em muitos n√∫cleos de deduplica√ß√£o, n√£o √© liberado imediatamente ap√≥s a exclus√£o de arquivos ou sistemas de arquivos.  √â necess√°rio o processo de Recupera√ß√£o de Espa√ßo, que prossegue em dois est√°gios: an√°lise e pesquisa de mais blocos de dados n√£o utilizados e o processo real de exclus√£o desses blocos.  A recupera√ß√£o de espa√ßo pode ser iniciada manualmente ou de acordo com uma programa√ß√£o personalizada (por exemplo, durante horas em que os backups de dados ativos n√£o s√£o executados). <br><img src="https://habrastorage.org/webt/ew/kv/u-/ewkvu-yvmosbnaidx1revsgoyg8.jpeg"><br><br>  <b>WORM (HydraLock)</b> - Escreva uma vez, leia muitos.  Uma tecnologia que permite ao longo do tempo impedir que os arquivos fa√ßam altera√ß√µes neles e armazen√°-los ainda mais por um n√∫mero especificado de anos.  Por padr√£o, os dados s√£o armazenados no estado inalterado por 10 anos. <br><img src="https://habrastorage.org/webt/uc/bj/pl/ucbjplfdoywonm_lhxxrtedrusu.jpeg"><br><br>  <b>Criptografia</b> - o HYDRAStor suporta criptografia de dados para transfer√™ncias e discos.  Mas essa funcionalidade n√£o est√° dispon√≠vel na R√∫ssia, de acordo com nossa legisla√ß√£o. <br><img src="https://habrastorage.org/webt/xp/n_/jq/xpn_jqio3fwzmgldf_uxyrzqxzm.jpeg"><br><br>  <b>Lista de licen√ßas Hydrastor HS8 opcionais adquiridas separadamente</b> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_9/fd/by/_9fdbyv5frxfdg9lx3e2s9m0acs.jpeg" width="400" height="400"></div><br>  Quase toda a funcionalidade da lista √© analisada acima no artigo.  Al√©m do <b>DirectDataShadow</b> , que permite o backup direto de volumes dos <b>sistemas de armazenamento M-Series</b> da NEC (sem servidores e software de backup adicionais). <br><br>  <b>A compra do NEC HYDRAstor n√£o requer licenciamento separado de desduplica√ß√£o + compacta√ß√£o (DataRedux), al√©m de protocolos de acesso a arquivos Cifs, NFS e acesso a objetos.</b> <br><br>  <b>Monitoramento e notifica√ß√£o</b> - o administrador do sistema pode receber notifica√ß√µes do sistema para o correio via SMTP (a) e SNMP (b) ou visualiz√°-las na interface de controle ¬©. <br><img src="https://habrastorage.org/webt/wy/2g/lc/wy2glczf-sghxnggawxn4raxk7y.jpeg"><br><br>  <b>Ferramenta de estimativa de redu√ß√£o de dados HS</b> - um utilit√°rio de linha de comando do fornecedor dispon√≠vel mediante solicita√ß√£o.  Usado para testar a desduplicabilidade e a compressibilidade dos dados do cliente.  Dispon√≠vel em Windows e Linux.  A figura abaixo mostra um exemplo de listagem de um arquivo BAT, que pode ser executado com alguma frequ√™ncia manualmente ou colocado no agendador de tarefas no Windows, por exemplo, para fazer uma imita√ß√£o do backup di√°rio de dados.          HydraStor,      . <br><br> <b>    CMD  Windows:</b> <br><pre><code class="dos hljs">hsSimulator.exe -d &lt;tempDBfile&gt; -o &lt;CSVfile <span class="hljs-number"><span class="hljs-number">1</span></span>&gt; &lt;Files/directories to be measured (before update)&gt; hsSimulator.exe -d &lt;tempDBfile&gt; -o &lt;CSVfile <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; &lt;Files/directories to be measured (after update)&gt;</code> </pre> <br><br>  <b>Um exemplo de arquivo BAT para automatizar o lan√ßamento de um utilit√°rio agendado:</b> <br><pre> <code class="dos hljs">@<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> h=<span class="hljs-variable"><span class="hljs-variable">%TIME:~0,2%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> "<span class="hljs-variable"><span class="hljs-variable">%h:~0,1%</span></span>" <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> " " <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> h=<span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-variable"><span class="hljs-variable">%h:~1,1%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> m=<span class="hljs-variable"><span class="hljs-variable">%TIME:~3,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> s=<span class="hljs-variable"><span class="hljs-variable">%TIME:~6,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> dd=<span class="hljs-variable"><span class="hljs-variable">%DATE:~0,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> mm=<span class="hljs-variable"><span class="hljs-variable">%DATE:~3,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> yyyy=<span class="hljs-variable"><span class="hljs-variable">%DATE:~6,4%</span></span> c:\hsSimulator\hsSimulator.exe -dc:\hsSimulator\temp.db ^ -oc:\hsSimulator\test-<span class="hljs-variable"><span class="hljs-variable">%dd%</span></span>-<span class="hljs-variable"><span class="hljs-variable">%mm%</span></span>-<span class="hljs-variable"><span class="hljs-variable">%yyyy%</span></span>_<span class="hljs-variable"><span class="hljs-variable">%h%</span></span>.<span class="hljs-variable"><span class="hljs-variable">%m%</span></span>.<span class="hljs-variable"><span class="hljs-variable">%s%</span></span>.csv c:\temp</code> </pre><br>  Como resultado do trabalho do arquivo BAT, obtemos um arquivo CSV com a data e a hora no nome: <b>test-10-06-2019_17.30.11.csv</b> <br><br><h2>  √önico n√≥ HYDRAStor HS3-50 </h2><br>  A NEC tamb√©m possui um pequeno HYDRAStor HS3-50, que difere dos modelos antigos do HS8 em desempenho inferior e falta de suporte de cluster.  I.e.  pode ser usado apenas como um n√≥ separado.  Este modelo tamb√©m usa uma gera√ß√£o de CPU E5-2600v3.  A funcionalidade √© totalmente compar√°vel com o modelo √∫nico HS8-5001S.  Ele pode ser licenciado em m√∫ltiplos de 8 TB e a capacidade bruta m√°xima √© de 24 TB.  Est√° posicionado para pequenas instala√ß√µes e escrit√≥rios remotos da empresa, com a capacidade de replicar dados em sistemas mais antigos para o escrit√≥rio central. <br><img src="https://habrastorage.org/webt/mt/od/-g/mtod-gekxkxmcxes6kszbxe3cm8.jpeg"><br><br>  Capacidade l√≠quida em n√≥s HS3 sem deduplica√ß√£o e compacta√ß√£o: <br><img src="https://habrastorage.org/webt/hb/j1/eg/hbj1eg0fffclq4bqtmpssebes3m.jpeg"><br><br><h2>  Dispositivo virtual HYDRAStor </h2><br>  O HYDRAStor Virtual Appliance √© um aplicativo virtual com o mesmo software das vers√µes de ferro do HS3 / HS8 e com a possibilidade de replica√ß√£o para essas vers√µes de ferro.  Escal√°vel at√© 15 TB de capacidade utiliz√°vel.  Os requisitos de instala√ß√£o s√£o apresentados na figura abaixo.  Est√° posicionado para pequenas empresas e escrit√≥rios remotos, al√©m do HS3-50. <br>  Mediante solicita√ß√£o, o fornecedor pode fornecer licen√ßas de avalia√ß√£o para o HYDRAStor Virtual Appliance por 90 dias. <br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/oh/ws/sg/ohwssgqoyip0rds6vejmr_e-l7i.jpeg"></a> </div><br>  <sup>Notas de rodap√© em tabelas</sup> <sup><br></sup>  <sup>1. Compacta√ß√£o de backup t√≠pica, dependendo do tipo de dados.</sup> <sup><br></sup>  <sup>2. Capacidade calculada com base em: 1 GB = 1.000.000.000 bytes, 1 TB = 1.000 GB.</sup> <sup><br></sup>  <sup>3. C√°lculo do HS VA no servidor host VMware ESXi com 2 Intel Xeon E5-2470 a 2.30GHz (8 n√∫cleos cada), 96 GB de mem√≥ria, 6x SATA HDD (7.200 rpm 4 TB) em RAID6</sup> <sup><br></sup>  <sup>4. A taxa de compacta√ß√£o de dados √© assumida como 20: 1.</sup> <sup><br></sup>  <sup>5. O tipo de CPU deve ser Nehalem-C (Westmere) ou superior (por exemplo, processador Intel Xeon E56xx / L56xx / X56xx) com uma frequ√™ncia de 1,5 GHz ou superior.</sup> <sup><br></sup>  <sup>6. Os valores de capacit√¢ncia s√£o calculados com base em: 1GiB = 1.073.741.824 bytes, 1 GB = 1.000.000.000 bytes, 1 TB = 1.000 GB.</sup> <br><br><h2>  NEC HYDRAStor HS6 </h2><br>  A NEC possui outra solu√ß√£o mais barata que a fam√≠lia HS8 de sistemas HYDRAstor e est√° posicionada para armazenamento de arquivos (principalmente conte√∫do de m√≠dia).  Ele usa a desduplica√ß√£o n√£o como uma vari√°vel, mas como um bloco fixo.  Caso contr√°rio, as mesmas tecnologias est√£o dispon√≠veis como para o HS8.  Na √∫ltima coluna da linha Capacidade, h√° um erro de digita√ß√£o, referente a Petabytes, n√£o Terabytes. <br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/2x/hd/do/2xhddozxul-870iyiuvzmeio9na.jpeg"></a> </div><br><br>  E quantas fotos mostram como a NEC se v√™ no contexto dos concorrentes :). <br>  <b>NEC HS8 vs DataDomain</b> <br><img src="https://habrastorage.org/webt/1v/cd/3q/1vcd3qlrnlkiakvwzf5y-iqbloa.jpeg"><br><br>  <b>NEC HS8 vs StoreOnce</b> <br><img src="https://habrastorage.org/webt/sh/6n/ev/sh6nevuxow9ksu6pdb0a470uk4k.jpeg"><br><br>  <b>Compara√ß√£o de desempenho (por controlador TB / h)</b> <br><img src="https://habrastorage.org/webt/mx/32/-j/mx32-jfwslbh1zvxxr71ucgx2-y.jpeg"><br><br>  <b>Compara√ß√£o de desempenho (por sistema TB / h)</b> <br><img src="https://habrastorage.org/webt/k6/w4/dh/k6w4dh5bmbz_jbilhsxtudwxvpk.jpeg"><br><br>  Na verdade, foi tudo o que consegui ‚Äúcompilar‚Äù a partir da extensa e extensa documenta√ß√£o da NEC nesses sistemas :). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466815/">https://habr.com/ru/post/pt466815/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466805/index.html">Por que no futuro as naves espaciais ser√£o feitas por extrus√£o</a></li>
<li><a href="../pt466807/index.html">Python, devorando o mundo: como um projeto paralelo de um desenvolvedor, tornou-se uma linguagem de programa√ß√£o popular</a></li>
<li><a href="../pt466809/index.html">O c√≠rculo est√° fechado. Como as mitaps me ajudaram a encontrar um emprego dos sonhos</a></li>
<li><a href="../pt466811/index.html">Hist√≥rico e alternativas √† plataforma .NET</a></li>
<li><a href="../pt466813/index.html">Posit-aritm√©tica: derrotar um ponto flutuante em seu pr√≥prio campo. Parte 2</a></li>
<li><a href="../pt466817/index.html">Varonis descobriu um v√≠rus de minera√ß√£o de criptografia: nossa investiga√ß√£o</a></li>
<li><a href="../pt466819/index.html">Implementa√ß√£o de ofertas promocionais no iOS. Como ganhar mais em assinaturas?</a></li>
<li><a href="../pt466821/index.html">Instale o 3CX no Amazon AWS Marketplace</a></li>
<li><a href="../pt466823/index.html">Como configuramos migra√ß√µes para processos de neg√≥cios no Bitrix24</a></li>
<li><a href="../pt466829/index.html">Alguns retoques no trabalho com bigint ids em R</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>