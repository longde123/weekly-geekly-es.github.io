<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🎤 🐔 🔓 Wettbewerb von Yandex.Taxi: Analyse des Backend-Tracks der Programmiermeisterschaft 👨🏽‍🎓 👩‍✈️ 🤹🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Preisverleihung an die Teilnehmer des Backend-Tracks 
 Wir führen eine Reihe von Analysen der zweiten Programmiermeisterschaft durch. In den letzten W...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wettbewerb von Yandex.Taxi: Analyse des Backend-Tracks der Programmiermeisterschaft</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/483624/"><img src="https://habrastorage.org/webt/za/i-/9x/zai-9xkajiamr99zrbldb0fstty.jpeg"><br><h5>  <sup><sub>Preisverleihung an die Teilnehmer des Backend-Tracks</sub></sup> </h5><br>  Wir führen eine Reihe von Analysen der zweiten Programmiermeisterschaft durch.  In den letzten Wochen haben wir eine Analyse von drei Tracks veröffentlicht: ML, Frontend und Mobile Development.  Es bleibt die Spur im Backend zu analysieren.  Es stellte sich als das beliebteste heraus: 2682 Personen nahmen an der Qualifikation teil, 320 von ihnen erreichten das Finale.  Aufgaben für Backend-Entwickler wurden vom Yandex.Taxi-Team erfunden. <br><a name="habracut"></a><br><h2>  Mars-Gutscheincodes </h2>  <sup><i>Autor: Maxim Pedchenko</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td>  Zeitlimit </td><td>  1 s </td></tr><tr><td>  Speicherlimit </td><td>  64 MB </td></tr><tr><td>  Eintreten </td><td>  Standardeingabe oder input.txt </td></tr><tr><td>  Fazit </td><td>  Standardausgabe oder output.txt </td></tr></tbody></table></div>  Seit dem Start von Yandex.Taxi auf dem Mars sind sechs Monate vergangen.  Bis zum Mars-Neujahr beschloss Yandex.Taxi, den Marsianern Aktionscodes zu geben.  Es stellte sich jedoch heraus, dass die Marsmenschen keine Werbecodes für die Erde verwenden können, da die Server auf dem Mars nicht nach den Regeln der Erde funktionieren.  Aus diesem Grund hat Yandex.Taxi spezielle Mars-Promotion-Codes entwickelt. <br><br>  Der Mars-Werbecode wird wie folgt generiert: <br><br><ol><li>  Ein Verschlüsselungsschlüssel wird generiert. </li><li>  Der Verschlüsselungsschlüssel ist in Teilzeichenfolgen von zufälliger Länge unterteilt. </li><li>  Von allen Unterzeichenfolgen werden Unterzeichenfolgen der Länge L ausgewählt. </li><li>  Die ausgewählten Teilzeichenfolgen werden gemischt und verkettet. </li><li>  Das Ergebnis der Verkettung ist ein Werbecode. </li></ol><br>  Herausforderung: <br>  Es ist zu prüfen, ob der eingegebene Aktionscode gültig ist.  Wenn der Aktionscode gültig ist, müssen Sie "JA" drucken.  Wenn ungültig, "NEIN". <br><br><div class="spoiler">  <b class="spoiler_title">E / A-Formate, Beispiele und Hinweise</b> <div class="spoiler_text"><h4>  Eingabeformat </h4><br>  &lt;Länge des Promotion-Codes&gt; <br>  &lt;Aktionscode&gt; <br><br>  &lt;Schlüssellänge&gt; <br><br>  &lt;key&gt; <br><br>  &lt;Teilstringlänge L&gt; <br><br><h4>  Ausgabeformat </h4><br>  Gültigkeit des Promotion-Codes: JA oder NEIN. <br><br><h4>  Beispiel 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td><code>6 <br> ABCDEA <br> 6 <br> EAABCD <br> 2</code> </td> <td> <code>YES</code> </td> </tr></tbody></table></div><h4>  Beispiel 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>12 <br> MARS1234MARS <br> 24 <br> ASDGRV12MARSS1234VRCMARS <br> 4</code> </td> <td> <code>YES</code> </td> </tr></tbody></table></div><h4>  Beispiel 3 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>12 <br> ABC123123ABC <br> 9 <br> ABC123123 <br> 3</code> </td> <td> <code>NO</code> </td> </tr></tbody></table></div><h4>  Hinweise </h4><br>  Länge L&gt; 1. <br>  Promotion-Code-Alphabet [AZ, 0-9]. <br>  Die Länge des Aktionscodes liegt im Bereich [6, 30]. <br>  Die Schlüssellänge liegt im Bereich [6, 30]. <br>  Teillänge L &lt;Schlüssellänge. <br>  Die Länge des Aktionscodes ist ein Vielfaches von L. </div></div><br><h4>  Lösung </h4><br>  Wir müssen alle möglichen Partitionen des Verschlüsselungsschlüssels in Teilfolgen der Länge L berücksichtigen und prüfen, ob dieser Promo-Code aus möglichen Partitionen zusammengesetzt werden kann. <br><br>  Der Hinweis ist in den Konditionsnotizen versteckt: <br><blockquote>  Die Länge des Aktionscodes liegt im Bereich [6, 30]. <br>  Die Schlüssellänge liegt im Bereich [6, 30]. </blockquote><br>  Kleine Einschränkungen deuten darauf hin, dass keine effektive Lösung erforderlich ist, sodass Sie keine Zeit für die Suche nach Optimierungen aufwenden müssen. Es ist besser, das Problem direkt zu lösen. <br><br>  Diese Situation ist typisch für die Produkt-Backend-Entwicklung.  Oft gibt es Situationen, in denen Sie Wochen mit dem optimalen Algorithmus verbringen können, aber wenn Sie die Einschränkungen abwägen, wird klar, dass es besser ist, eine schnelle und nicht die optimalste Lösung zu verwenden. <br><br>  Wir betrachten also die Zeile mit dem Promo-Code als eine Folge von Teilzeichenfolgen S der Länge L. Für jede Teilzeichenfolge S finden wir alle gleichlautenden Teilzeichenfolgen S <sub>k</sub> aus dem Chiffrierschlüssel.  Denken Sie für jedes S <sub>k</sub> an seine Verwendung, fahren Sie mit dem nächsten Teilstring S fort und wiederholen Sie den Algorithmus. <br><br>  Wenn es für die Teilzeichenfolge S nicht möglich ist, nicht verwendete S <sub>k</sub> zu finden, muss eine andere Variante der Aufteilung versucht werden. Wenn keine andere Variante vorhanden ist, ist der Aktionscode ungültig. <br><br>  Wenn für jeden S S <sub>k</sub> für mindestens einen Fall gefunden wurde, ist der Aktionscode gültig. <br><br><h2>  Optimierung des Mars-Transportsystems </h2>  <sup><i>Autoren: Dmitry Polishchuk und Anton Todua</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td>  Zeitlimit </td><td>  3 s </td></tr><tr><td>  Speicherlimit </td><td>  64 MB </td></tr><tr><td>  Eintreten </td><td>  Standardeingabe </td></tr><tr><td>  Fazit </td><td>  Standardausgabe </td></tr></tbody></table></div>  Es war das Jahr 2058.  Kolonien der ersten Siedler waren bereits auf dem Mars gelandet und begannen, sich dort niederzulassen, und Yandex.Taxi begann, ein System von Shuttle-Stationen einzusetzen. <br><br>  Für den normalen Betrieb benötigt die Shuttle-Station eine konstante Stromversorgung aus dem Energienetz.  Um die Station mit Strom zu versorgen, müssen Sie entweder einen Uran-Atomgenerator in der Station selbst bauen oder ein Kabel zu einer anderen (bereits mit Strom versorgten) Shuttle-Station verlegen.  Die Kosten für den Bau eines Generators in verschiedenen Shuttle-Stationen können variieren.  Die Kabelführung zwischen den Shuttle-Stationen variiert ebenfalls in den Kosten und ist nicht immer möglich.  Die Kabelverbindung ist bidirektional. <br><br>  Die Aufgabe besteht darin, eine effiziente (mit minimalen Kosten verbundene) Stromversorgung für alle Shuttle-Stationen bereitzustellen. <br><br>  Am Eingang erhält das Programm die Gesamtzahl der Shuttle-Stationen, die Kosten für den Bau von Generatoren für jede Shuttle-Station und eine Beschreibung aller möglichen Kabel zwischen den Shuttle-Stationen (Anzahl der angeschlossenen Stationen und Kosten für die Kabelverlegung). <br><br><div class="spoiler">  <b class="spoiler_title">E / A-Formate, Beispiele und Hinweise</b> <div class="spoiler_text"><h4>  Eingabeformat </h4><br>  <b>Die erste Zeile</b> enthält eine einzelne nicht negative Anzahl von Shuttle-Stationen N ≤ 1000. <br><br>  <b>Die zweite Zeile</b> enthält N Nummern, die die Kosten für den Bau des Generators in der entsprechenden Station angeben. <br><br>  <b>Die dritte Zeile</b> enthält eine einzelne nicht negative Anzahl möglicher Kabel K ≤ 100000 zwischen den Shuttle-Stationen. <br><br>  <b>Die nächsten K-Leitungen</b> (ab der vierten) enthalten eine Beschreibung eines Kabels - drei ganzzahlige nicht negative Zahlen: die <b>Nummer der ersten Station</b> , die <b>Nummer der zweiten Station</b> und die <b>Kosten für die Durchführung</b> . <br><br><h4>  Ausgabeformat </h4><br>  Eine ganze Zahl gibt die minimalen Stromkosten für alle Shuttle-Stationen für eine bestimmte Konfiguration an. <br><br><h4>  Beispiel 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>1 <br> 77 <br> 0</code> </td> <td> <code>77</code> </td> </tr></tbody></table></div><h4>  Beispiel 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>2 <br> 11 29 <br> 1 <br> 1 2 17</code> </td> <td> <code>28</code> </td> </tr></tbody></table></div><h4>  Hinweise </h4><br>  Stationen sind von eins nummeriert. <br>  Die Zahlen in der Zeile werden durch ein einzelnes Leerzeichen getrennt. <br>  Die Richtigkeit der Eingabedaten muss nicht überprüft werden. </div></div><br><h4>  Lösung </h4><br>  Erstens lohnt es sich, von einer schönen Beschreibung zu einer ungerichteten gewichteten Grafik überzugehen, bei der an der Stelle der Shuttle-Stationen Spitzen auftreten, Kabel zu Kanten werden und die Kosten für den Bau von Kabeln sich in die Gewichte der entsprechenden Kanten ändern.  Es bleibt jedoch die Frage, wie die Kosten für den Bau von Urangeneratoren in den Stationen (Peaks) selbst zu berücksichtigen sind.  Die Antwort auf diese Frage ist das Wesen des Problems. <br><br>  Angenommen, es gibt einen anderen Scheitelpunkt - eine Energiequelle, und von diesem Scheitelpunkt wird eine Kante zu jedem Scheitelpunkt des Diagramms gezogen, deren Gewicht den Kosten für den Bau eines Urangenerators in der entsprechenden Station (oben) entspricht.  Diese Annahme führt uns zu einem zusammenhängenden Graphen, der in einen Baum verwandelt werden muss, damit die Summe der Gewichte der Kanten darin so klein wie möglich wird.  Dies ist nichts anderes als das Problem, den minimalen Spannbaum in einem Diagramm zu finden.  Sie können einen minimalen Spannbaum mit einem der bekannten Algorithmen erstellen, z. B. Prima oder Kraskal. <br><br><div class="spoiler">  <b class="spoiler_title">Beispielcode mit Kommentaren</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;algorithm&gt; #include &lt;iostream&gt; #include &lt;tuple&gt; #include &lt;vector&gt; using Price = std::size_t; using Vertex = std::size_t; using Transition = std::tuple&lt;Price, Vertex, Vertex&gt;; using Graph = std::vector&lt;Transition&gt;; //        ( ). class Equals { public: //    . explicit Equals(std::size_t size) { equals_.resize(size); //     . for (std::size_t i = 0; i &lt; size; i++) { equals_[i] = i; } } //   v1  v2   true,    //      . bool Emplace(std::size_t v1, std::size_t v2) { while (v1 != v2) { if (v2 &lt; v1) { std::swap(v1, v2); } auto&amp; next_v2 = equals_[v2]; if (next_v2 == v2) { next_v2 = v1; return true; } v2 = next_v2; } return false; } private: std::vector&lt;size_t&gt; equals_; }; int main() { //   . std::size_t vertex_count = 0; std::cin &gt;&gt; vertex_count; if (vertex_count == 0) { std::cout &lt;&lt; 0 &lt;&lt; std::endl; return 0; } //    —   —   . vertex_count++; //  . Graph graph; graph.reserve(vertex_count); //       . for (Vertex i = 1; i &lt; vertex_count; i++) { Price price = 0; std::cin &gt;&gt; price; graph.emplace_back(price, 0, i); } //    . std::size_t edge_count = 0; std::cin &gt;&gt; edge_count; for (std::size_t i = 0; i &lt; edge_count; i++) { Price price = 0; Vertex from = 0, to = 0; std::cin &gt;&gt; from &gt;&gt; to &gt;&gt; price; graph.emplace_back(price, from, to); } //      . std::sort(graph.begin(), graph.end()); //      . // https://ru.wikipedia.org/wiki/_ Price result = 0; Equals equals{vertex_count}; for (const auto&amp; [price, from, to] : graph) { if (equals.Emplace(from, to)) { result += price; } } //  . std::cout &lt;&lt; result &lt;&lt; std::endl; return 0; }</span></span></span></span></code> </pre> </div></div><br><h2>  Kein Parkplatz </h2>  <sup><i>Autoren: Ilya Mescherin und Artyom Serebriysky</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td></td><td>  <b>Alle Sprachen</b> </td><td>  <b>Python 3.7.3 und Python 2.7</b> </td></tr><tr><td>  Zeitlimit </td><td>  1 s </td><td>  10 s </td></tr><tr><td>  Speicherlimit </td><td colspan="2">  256 MB </td></tr><tr><td>  Eintreten </td><td colspan="2">  Standardeingabe oder input.txt </td></tr><tr><td>  Fazit </td><td colspan="2">  Standardausgabe oder output.txt </td></tr></tbody></table></div>  In einer Stadt durften Autos nicht anhalten, es sei denn, sie bestiegen einen Passagier.  Und der Passagier stimmt nicht zu, länger als 3 Minuten zu warten.  In dieser Stadt bestellt ein Fußgänger ein Taxi zum Punkt X und gibt ein Intervall von 180 Sekunden an.  Der Fahrer muss genau in diesem Intervall ankommen.  Wenn Sie früher anreisen, können Sie keinen Passagier erwarten.  Wenn Sie zu spät ankommen, storniert der verärgerte Passagier die Bestellung. <br><br>  Aufgrund solcher Einschränkungen blieben nur Z-Fahrer in dieser Stadt, von denen sich jeder zu Beginn der Aufgabe an einer der Spitzenpositionen in der Verkehrsgrafik befindet.  Das Steuerungssystem sollte den besten Fahrer aus denjenigen bestimmen, die es schaffen, in dem angegebenen Intervall anzukommen.  Der beste Fahrer ist derjenige, der so nah wie möglich am Intervallanfang zur Bestellung kommt.  Wenn es mehrere solcher Treiber gibt, dann einen von ihnen. <br><br>  Jeder Fahrer muss bestimmen, ob er Zeit hat, um in dem angegebenen Intervall anzukommen, und wenn ja, zu welchem ​​frühesten Zeitpunkt in dem angegebenen Intervall er ankommen kann. <br><br>  <b>Formale Beschreibung</b> <br><br>  Gegeben: <br><br><ol><li>  Orientierter Graph G mit N Ecken und K Kanten, die Ecken sind von 0 bis N - 1 nummeriert, 0 ≤ N ≤ 10 <sup>4</sup> , 0 ≤ K ≤ 10 <sup>4</sup> .  Jede Flanke entspricht der darin enthaltenen Laufzeit - eine ganze Zahl W, 10 ≤ W ≤ 10 <sup>4</sup> . </li><li>  Auftragsposition in der ID-Zielspalte. </li><li>  Z-Positionen der Fahrer in der Spalte IDsource <sub>2</sub> , 1 ≤ Z ≤ 10 <sup>4</sup> . </li><li>  Zum Zeitpunkt t <sub>0</sub> ist 0 ≤ t <sub>0</sub> ≤ 600 eine ganze Zahl. </li></ol><br>  Es ist notwendig, dass jeder Fahrer solche t <sub>min findet,</sub> dass: <br><br><ol><li>  es gibt eine solche Route von der Fahrer-IDsource <sub>z</sub> zum ID- <sub>Ziel,</sub> dass der Fahrer bei t <sub>min</sub> ankommt, </li><li>  t <sub>min</sub> ≤ [t <sub>0</sub> ;  t <sub>0</sub> + 180], </li><li>  und dies ist das frühestmögliche t <sub>min</sub> : t <sub>min</sub> ≤ t <sub>i</sub> für jedes t <sub>i, das</sub> die Punkte 1 und 2 erfüllt, </li><li>  oder stellen Sie sicher, dass ein solches t <sub>min</sub> nicht existiert. </li></ol><br><div class="spoiler">  <b class="spoiler_title">E / A-Formate, Beispiele und Hinweise</b> <div class="spoiler_text"><h4>  Eingabeformat </h4><br>  Die Grafik wird in Form von Tripel-Top-Top-End-Zeitreise-Tripeln erstellt. <br><br>  Eingabedaten, jeder Artikel in einer eigenen Zeile: <br><br>  1. K ist die Anzahl der Kanten. <br>  2. K verdreifacht ID ID Gewicht - der anfängliche Scheitelpunkt der Rippe, der endgültige Scheitelpunkt der Rippe, wie stark das Auto die Rippe antreibt. <br>  3. ID- <sub>Ziel</sub> t <sub>0</sub> - Oben auf der Bestellung [Leerzeichen] der Beginn des Bereichs, an dem Sie ankommen müssen. <br>  4. Z - die Anzahl der Fahrer. <br>  5. (Z-mal) ID <sub>z ist das</sub> oberste Zeichen des nächsten Treibers. <br><br><h4>  Ausgabeformat </h4><br>  Geben Sie für jeden Fahrer in derselben Reihenfolge, in der er sie eingegeben hat, in einer separaten Zeile die berechnete t <sub>min</sub> oder –1 aus, wenn diese t <sub>min</sub> nicht existiert. <br><br><h4>  Beispiel 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>2 <br> 0 1 10 <br> 2 3 10 <br> 3 0 <br> 1 <br> 0</code> </td> <td> <code>-1</code> </td> </tr></tbody></table></div><h4>  Beispiel 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>2 <br> 0 1 10 <br> 2 3 10 <br> 1 0 <br> 1 <br> 0</code> </td> <td> <code>10</code> </td> </tr></tbody></table></div><h4>  Beispiel 3 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>1 <br> 0 1 10 <br> 1 100 <br> 1 <br> 0</code> </td> <td> <code>-1</code> </td> </tr></tbody></table></div><h4>  Hinweise </h4><br>  1. Es können mehrere Kanten von Scheitelpunkt A nach Scheitelpunkt B verlaufen, auch solche mit demselben Gewicht. <br>  2. Rippen von A bis A sind erlaubt. <br>  3. Das gleichzeitige Vorhandensein von Kanten (A-&gt; B) und (B-&gt; A) (Zyklen der Länge 2) ist zulässig. </div></div><br><h4>  Lösung </h4><br>  <b>Einzelner Fahrer</b> <br><br>  Zunächst analysieren wir einen einfachen Fall mit einem Fahrer.  Das Maß für die Rippen ist die Zeit [Fahrt darauf], die Einschränkungen des Ziels werden in denselben Einheiten ausgedrückt, sodass wir das Problem umformulieren können: „Der Fahrer fährt gemäß der Grafik von Punkt A nach Punkt B.  Suchen Sie einen minimalen Pfad, dessen Länge im Segment [T, U] liegt. " <br><br>  Der einfachste Weg, dies zu tun, besteht darin, einen modifizierten dijkstra von A nach B auszuführen: <br><br><ol><li>  Änderung 1. Nehmen wir an, wir haben das Top von minQ erhalten und es wurde bereits schwarz markiert (dh der Mindestabstand dazu wurde bereits gefunden).  Dann ignorieren wir es nicht, sondern verarbeiten es auf die übliche Weise - setzen alle angrenzenden Eckpunkte mit dem neuen Abstand zurück in minQ. </li><li>  Wir stoppen es nur, wenn der Abstand zum aktuellen Scheitelpunkt minQ streng größer als U ist. </li><li>  Nehmen wir an, wir stoßen während der Überquerung auf den Peak B. Wenn die aktuelle Distanz ≥ T ist, merken Sie sich dies als Antwort R. An dieser Stelle kann auch die Dijkstra unterbrochen werden. </li></ol><br>  Wenn wir also R haben, ist dies der minimale Pfad mit einer Länge im erforderlichen Intervall. <br><br>  <b>Viele Fahrer</b> <br><br>  Die Lösung für die Stirn besteht darin, für jeden Fahrer einen Algorithmus auszuführen.  Eine solche Lösung ist jedoch nicht zeitlich begrenzt.  Wir müssen lernen, für jeden Fahrer eine Antwort für O (1) zu geben. <br><br>  Dazu modifizieren wir den Algorithmus für einen Treiber: <br><br><ol><li>  Anstelle der dijkstra vom Fahrer zum Bestellpunkt starten wir die dijkstra vom Bestellpunkt gemäß der Grafik mit umgekehrten (!) Kanten. </li><li>  Wir machen uns die Tatsache zunutze, dass die Anzahl der Eckpunkte ebenfalls auf zehntausend begrenzt war.  Lassen Sie uns eine Reihe von Antworten R erhalten - für jeden Scheitelpunkt ist dies die minimale Zeit im Bereich [T, U], in der er von A aus erreicht werden kann. </li><li>  Beim Durchlaufen des Graphen des modifizierten Dijkstroys geben wir ein: <sub>Rj</sub> = min ( <sub>Rj</sub> , dist), wenn wir den Scheitelpunkt j treffen und der aktuelle Abstand dazu im gewünschten Intervall [T, U] liegt. </li></ol><br>  Dann kann für jeden Fahrer am Scheitelpunkt J Rj abgefragt werden <sub>,</sub> um herauszufinden, ob es einen Pfad gibt, der die Bedingungen erfüllt, und wie lang er ist. <br><br>  <b>MinQ-Optimierung</b> <br><br>  Die Pfadlänge ist immer ganzzahlig und von oben auf 781 begrenzt. Bei einer Bestellung bei t <sub>0</sub> = 600 beträgt die letzte gültige Sekunde der Ankunft des Fahrers 780. In diesem Fall müssen Sie zur Implementierung der dijkstra die folgende minQ-Implementierung verwenden. <br><br>  Wir haben ein Fringe-Array der Größe [781].  In jedem Element von Fringe <sub>i</sub> gibt es eine ungeordnete Menge, die die ID aller Scheitelpunkte speichert, zu denen es einen Pfad der Länge i gibt. <br><br>  1. Fügen Sie einen Scheitelpunkt mit Abstand D hinzu: <br><br><pre> <code class="cpp hljs">fringe[D].insert(vertex);</code> </pre> <br>  2. Entsprechend den Bedingungen ist das Mindestgewicht der Kante&gt; 0. Anstatt also Elemente einzeln aus minQ zu entnehmen, können Sie das gesamte Segment durchgehen: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fringe.size(); ++i) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(fringe[i].empty()) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp; vertex : fringe[i]) { <span class="hljs-comment"><span class="hljs-comment">// Do some stuff ProcessVertex(vertex, i); } }</span></span></code> </pre> <br><h2>  Reisekostenrechner </h2>  <sup><i>Urheber: Nikolay Filchenko</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td></td><td>  <b>Alle Sprachen</b> </td><td>  <b>Python 3.7.3 und Python 2.7</b> </td></tr><tr><td>  Zeitlimit </td><td>  3 s </td><td>  65 c </td></tr><tr><td>  Speicherlimit </td><td>  64 MB </td><td>  256 MB </td></tr><tr><td>  Eintreten </td><td colspan="2">  Standardeingabe oder input.txt </td></tr><tr><td>  Fazit </td><td colspan="2">  Standardausgabe oder output.txt </td></tr></tbody></table></div>  Die Reisekosten sind nach der angegebenen Formel zu berechnen.  Jede Fahrt ist durch K ganzzahlige Parameter gekennzeichnet.  Die Formel ist in umgekehrter polnischer Schreibweise angegeben. <br><br>  Zulässige Operationen: <br><br><ul><li>  <b>+ -</b> - Addition und Subtraktion; </li><li>  <b>* /</b> - Multiplikation und Ganzzahldivision; </li><li>  <b>&lt;=</b> - Vergleich; </li><li>  <b>?</b>  - Bedingter Operator.  Wenn das erste Argument wahr ist, wird das zweite zurückgegeben, andernfalls das dritte. </li></ul><br>  Die Variable [az] und ganze Zahlen von -10 <sup>9</sup> bis 10 <sup>9 werden</sup> ebenfalls in der Formel verwendet. <br><br>  Wir können davon ausgehen, dass die Ergebnisse aller Operationen in der Formel den absoluten Wert von 10 <sup>9</sup> nicht überschreiten.  Das Ergebnis von Vergleichsoperationen wird nur als Argument für den bedingten Operator verwendet. <br><br><div class="spoiler">  <b class="spoiler_title">E / A-Formate und Beispiele</b> <div class="spoiler_text"><h4>  Eingabeformat </h4><br>  In der ersten Zeile ist eine Zahl 1 ≤ K ≤ 26 - die Anzahl der Variablen. <br><br>  Die zweite Zeile enthält die Formel zur Berechnung des Preises (nicht mehr als 3⋅10 <sup>4</sup> Elemente).  Alle Elemente sind durch Leerzeichen getrennt. <br><br>  In der dritten Zeile ist 1 ≤ N ≤ 10 <sup>4</sup> die Anzahl der Tests. <br><br>  Die nächsten N Zeilen enthalten jeweils K ganze Zahlen (–10 <sup>9</sup> ≤ v ≤ 10 <sup>9</sup> ) - die Werte der Variablen in alphabetischer Reihenfolge. <br><br><h4>  Ausgabeformat </h4><br>  N Zeilen mit einer ganzen Zahl - die Ergebnisse der Ersetzung jedes Wertesatzes.  Es ist garantiert, dass das Ergebnis des Ausdrucks endlich und definiert ist <br><br><h4>  Beispiel 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>1 <br> a 2 2 + * <br> 2 <br> 2 <br> 3</code> </td> <td> <code>8 <br> 12</code> </td> </tr></tbody></table></div><h4>  Beispiel 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Eintreten</b> </td><td>  <b>Fazit</b> </td></tr><tr><td> <code>2 <br> ab &lt; 5 14 ? <br> 2 <br> 10 5 <br> 5 10</code> </td> <td> <code>14 <br> 5</code> </td> </tr></tbody></table></div></div></div><br><h4>  Lösung </h4><br>  Dies ist eine Aufgabe für eine sorgfältige Umsetzung und Aufmerksamkeit.  Es gibt zwei Hauptpunkte in der Lösung: <br><br><ol><li>  Der ursprüngliche Ausdruck selbst muss in ein Array von Zahlen und Operationen umgewandelt werden, damit die Zeichenfolge nicht in jeden Variablensatz zerlegt wird. </li><li>  Es muss beachtet werden, dass eine Ganzzahldivision durch Null zu SIGFPE führt. Daher sollte bei der Divisionsoperation explizit überprüft werden, ob der Nenner nicht Null ist.  Basierend auf der Garantie der Endlichkeit und der Gewissheit des Ergebnisses des gesamten Ausdrucks kann man verstehen: Das Ergebnis solcher Unterteilungen ist nicht am Endergebnis beteiligt und befindet sich in nicht verwendeten Zweigen von bedingten Operatoren, sodass Sie es mit jedem akzeptieren können (z. B. Null). </li></ol><br><hr><br>  Habrapostie zum Thema: <br><br><ul><li>  <a href="https://habr.com/ru/company/yandex/blog/457262/">Analyse des Backend-Tracks der ersten Meisterschaft</a> </li><li>  Nachbesprechungsstrecken der zweiten Meisterschaft: <a href="https://habr.com/ru/company/yandex/blog/477452">ML</a> , <a href="https://habr.com/ru/company/yandex/blog/478550/">Frontend</a> , <a href="https://habr.com/ru/company/yandex/blog/482210/">Mobile Development</a> </li><li>  <a href="https://habr.com/ru/company/yandex/blog/464179/">Ein Standup in Yandex.Taxi</a> oder Was Sie brauchen, um den Backend-Entwickler zu unterrichten </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483624/">https://habr.com/ru/post/de483624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483608/index.html">Visualisierung der Grenzen einer bildbasierten Klassifikatorlösung</a></li>
<li><a href="../de483610/index.html">Ist ein Automat eine Ereignissache?</a></li>
<li><a href="../de483612/index.html">Tesla-Fahrer wegen Zähneputzens im Autopiloten bestraft</a></li>
<li><a href="../de483614/index.html">Methoden zur Bekämpfung von Diebstahl in einem Robotikclub</a></li>
<li><a href="../de483616/index.html">Lacmus-Projekt: Wie Computer Vision hilft, verlorene Menschen zu retten</a></li>
<li><a href="../de483626/index.html">Wie man einen 100-Gitlab-Job in 100 Zeilen auf Jsonnet beschreibt</a></li>
<li><a href="../de483628/index.html">Codegenerierung von OpenAPI v3 (auch bekannt als Swagger 3) bis TypeScript und nicht nur</a></li>
<li><a href="../de483630/index.html">The Ember Times - Ausgabe 130</a></li>
<li><a href="../de483634/index.html">Min und Max Breite / Höhe Eigenschaften in CSS</a></li>
<li><a href="../de483646/index.html">Hack The Box - Bitlab-Komplettlösung. Schwache JS-Verschleierung, GIT und umgekehrte Windows-Anwendungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>