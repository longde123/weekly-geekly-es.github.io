<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê≥ üë®üèæ‚Äçüöí üèÄ Como sair da sala de escape üí° üò® üîÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O artigo √© em parte um aviso de suposi√ß√µes, sem excluir as quais o desenvolvedor pode sentir todas as suas desvantagens, em parte uma tentativa de exp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como sair da sala de escape</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/406235/"> O artigo √© em parte um aviso de suposi√ß√µes, sem excluir as quais o desenvolvedor pode sentir todas as suas desvantagens, em parte uma tentativa de explicar o que o cliente pode querer de voc√™, em parte o trabalho sobre erros ou o reconhecimento de "enganar a si mesmo".  Cuidado: DotA √† frente: "N√£o sou um nerd!", Al√©m de apresenta√ß√µes h√°beis sem a ajuda de tapetes.  Continuando a ler, voc√™ corre o risco de formar a opini√£o de que o autor √© um animal absolutamente repugnado que n√£o conhece piedade, medo e miseric√≥rdia.  Apenas considere que todo mundo tem o direito de ser imperfeito, e tudo ficar√° bem conosco.  Por favor e obrigado. <br><a name="habracut"></a><br>  Foi realizado um trabalho de automa√ß√£o da sala de fuga, cujos detalhes, como de costume, ser√£o omitidos.  Esse trabalho durou mais de um ano e, inicialmente, havia falhas realmente tang√≠veis em vista da falta banal de experi√™ncia, mas depois tudo se transformou em um gerenciamento n√£o ideal.  Os clientes (chamem-nos, digamos, Goodwin e Urfin) estavam envolvidos principalmente no componente cosm√©tico do projeto, trabalharam de e para, depois de focarmos na l√≥gica e na implementa√ß√£o em si, porque as portas e os objetos estavam prontos e tivemos que garantir que eles se mudaram.  O tempo come√ßou a esmagar e, em algum momento, dormimos 5 horas por dia. <br><br>  Obviamente, √© necess√°rio desfocar os detalhes para manter o sigilo, mas √© muito concreto para eu lembrar e n√£o ser√° bem-sucedido, porque eu interrompi qualquer trabalho nele h√° mais de cinco meses.  Todos os dias havia trabalho suficiente para me permitir abrir uma lata com um sauro com uma faca romba, e os saquinhos de ch√° eram t√£o compactos que a lixeira ficava feliz em me ver uma vez a cada duas semanas.  Meu quarto se transformou em um po√ßo de ventila√ß√£o, no qual Rebecca do filme Aliens morava.  Ou "Alien 2", como quiser.  Se algu√©m n√£o se lembra, aqui est√° uma tela com um monte de lixo: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/248/206/110/248206110be3ae359e2af2cda0c7df10.jpg" alt="Rebecca the newt"><br><br>  O evento que serviu como gatilho;  algo que me fez escrever ‚Äúgg‚Äù no chat e no chuveiro, como n√£o era.  Fui visitado por um pensamento claro e claro: preciso de um longo descanso.  O transmissor no meu celular entrou em modo avi√£o por 4 meses.  Os mesmos quatro meses nas estat√≠sticas de solicita√ß√µes de rosto, em contato, f√≥runs nos quais meus dados de cookies poderiam aparecer de alguma forma foram marcados por esse buraco.  Ningu√©m, por qualquer canal, poderia entrar em contato comigo.  Eu apenas sentei em uma sala em um zumbido, como ensopado e rolar em um ponto.  Ocupa√ß√£o suja, eu sei, mas tive tempo para alcan√ßar a perfei√ß√£o pelo menos em algum lugar. <br><br>  Resumindo todo o projeto, posso nomear imediatamente seu principal erro - a falta de uma abordagem sistem√°tica.  Eu sei que o Space Odyssey usou uma placa de interface especial que fornece intera√ß√£o perif√©rica com TCP / IP.  Eu n√£o tinha essas placas, apenas um punhado de Arduino, que no final eram necess√°rias para algumas coisas completamente simples.  Tentamos reduzir todo o poss√≠vel ao gerenciamento de um simples 0 ou 1, knock-down, como dizem os microcontroladores.  Isso reduziu a carga no servidor central montado no Mega2560 para receber e emitir informa√ß√µes na Web com o menor atraso.  A l√≥gica da busca foi reescrita de Wiring para JavaScript, mas isso levou a freios, porque o JS √© executado em um sistema n√£o-RTOS; como resultado, a l√≥gica foi reescrita para seu pr√≥prio formato (xml, que orientava o aplicativo Java), embora seja geralmente ing√™nuo acreditar que isso deu algo, porque ainda est√° sendo executado no ambiente Windows.  Em geral, algo aparentemente j√° depurado costumava ser refeito neste trabalho, onde alguns batentes subitamente sa√≠am e, inicialmente, o artigo foi escrito sobre isso;  mas agora √© sobre o fato de que a implementa√ß√£o da l√≥gica √© realizada pelo aplicativo em Java, mais precisamente - sobre os motivos e pr√©-requisitos para isso. <br><br>  Por que Java e n√£o JS?  N√£o fa√ßo ideia, foi escrito por outra pessoa, aparentemente este instrumento √© mais familiar para ele.  Tendo recebido uma mensagem do grupo Whatsapp sobre o meu fracasso em aparecer para esclarecimento de detalhes, esse homem enviou uma foto de Picard ao grupo com a m√£o na cabe√ßa, mas se soubesse que naquele momento eu absolutamente n√£o me importei - acho que ele poderia entender.  E tentaremos descobrir como isso aconteceu.  Agora, os poss√≠veis latidos uns para os outros n√£o s√£o mais irritantes: ‚Äúeles s√£o inadequados, n√£o obedecem aos requisitos, n√£o cumprem as normas e normas operacionais, colocam o equipamento em modos inaceit√°veis, questionam minhas qualifica√ß√µes a cada frase‚Äù, ‚Äúele √© inadequado, incompetente, para concluir o projeto n√£o √© talvez quebre os prazos, as altera√ß√µes constantes, algum tipo de auto-fabrica√ß√£o que n√£o seja como a de todos os outros "etc. etc. <br><br>  Enfurecido e suficiente.  Goodwin e Urfin ainda s√£o fantasmas, mas a √∫ltima coisa que me passou pela cabe√ßa √© arruinar intencionalmente os neg√≥cios deles.  N√£o receberei nenhum benef√≠cio, mas, apesar dos danos, assim - n√£o para o bem comum.  Ent√£o, por que piorar o mundo?  Penso que a prioridade deles n√£o √© particularmente alta para a tarefa de me encantar e organizar anti-publicidade, para que ningu√©m nunca entre em contato comigo.  √â improv√°vel que essa tarefa tenha sido definida.  A experi√™ncia √© um professor severo, e voc√™ precisa encontrar for√ßa para seguir em frente.  E o mais importante √© usar essa experi√™ncia.  Parte dessa experi√™ncia, pelo menos a que me lembro - ouso ter esperan√ßa, transmitirei a voc√™, caro leitor. <br><br>  Raramente nos cobr√≠amos de obscenidades, mas ainda assim o clima era mais ou menos.  Para n√£o enlouquecer, tive que usar o mais dif√≠cil de tudo que voc√™ poderia executar no trabalho - guias do VJLink e fluxos de Karina.  Sim, sim, eu lembro: eu n√£o sou um nerd, sou apenas um animal.  √â claro que sei que esses dois s√£o imbecis cl√≠nicos: n√£o pense que um deles √© um professor espiritual para mim;  A itpedia √© muito mais adequada para esse papel.  Mas, de alguma forma, nos distra√≠mos da busca, pensamentos ao longo do caminho que se resumiam a "sim, vi de novo, tanto quanto poss√≠vel, quando termina".  Em geral, a falta de entusiasmo em qualquer projeto se reflete da maneira mais desagrad√°vel.  Quem precisa suar quando Slark em seu time est√° 0-7?  Assim est√° aqui: se todas as tarefas, todas as solu√ß√µes implementadas o encontrarem com uma falha, toda a esperan√ßa derreter√°.  Sente-se e vou compartilhar algumas id√©ias sobre como evitar isso.  Al√©m disso, gostaria de ver mais desses truques nos coment√°rios.  Qualquer experi√™ncia √© subjetiva, mas √© um grande volume de precedentes que lhes permite generalizar e analisar.  Estudar.  Cometi muitos erros, mas ainda nem tudo era poss√≠vel.  Provavelmente, um dos leitores se deparou com outra coisa, mas em geral algo semelhante.  Compartilhe sua experi√™ncia, tudo ser√° grato a voc√™. <br><br><h3>  Minhas regras </h3><br><ul><li>  Todos os sensores devem ter uma indica√ß√£o. </li><li>  Todos os comparadores devem ter histerese. </li><li>  Todas as tor√ß√µes devem ser soldadas. </li><li>  Todos os fios de energia devem ser grossos. </li><li>  Todos os fios de sinal devem ser blindados. </li><li>  Todos os fios com tens√µes superiores a 40 V devem ter melhor isolamento do que apenas um par embotado.  220 sobre par tran√ßado ou macarr√£o - Moveton. </li><li>  Todas as sa√≠das devem ter um coletor / dreno aberto. </li><li>  Todas as entradas devem receber sinais pelos loop / optoacopladores atuais. </li><li>  Todos os dispositivos que realizam recep√ß√£o e transmiss√£o ass√≠ncrona devem ter um modelador de pulsos redefinido e um cron√¥metro de vigil√¢ncia para estar pronto para receber a qualquer momento. </li><li>  Todos os dispositivos de comuta√ß√£o devem ter circuitos de supress√£o de fa√≠sca.  Rel√©s, especialmente, contatos fixos n√£o s√£o divertidos. </li><li>  Qualquer mec√¢nico mais pesado que um quilograma adora uma caixa de c√¢mbio.  As pessoas que colocam o motor diretamente no tijolo, sem uma caixa de c√¢mbio - sabem: a m√£o de Satan√°s ultrapassar√° qualquer um.  Apenas se danem: 3 </li><li>  Todas as cargas indutivas devem ter um diodo anti-paralelo para suprimir o CEM de auto-indu√ß√£o.  Se a corrente puder fluir em ambas as dire√ß√µes (bloqueios de abertura / fechamento do atuador autom√°tico, motor etc.) - em vez do diodo, o capacitor ser√° de 0,1 ŒºF. </li><li>  Resistores, transistores e optoacopladores n√£o s√£o sup√©rfluos. </li><li>  Os resistores em esp√©cie n√£o s√£o sup√©rfluos, especialmente onde h√° um conector ISP. </li><li>  O conector do ISP deve ser tal que n√£o possa ser inserido de cabe√ßa para baixo. </li><li>  As baterias n√£o gostam de descarga profunda.  N√£o importa o que seja. </li><li>  Baterias usadas - especialmente. </li><li>  A estabiliza√ß√£o do quartzo √© boa e positiva, como Sergei Simonov.  Agitar 555 em aplica√ß√µes de tempo cr√≠tico √© ruim e negativo. </li><li>  Um cabo √© sempre melhor que um r√°dio. </li></ul><br><h3>  Sensores de movimento, tel√©metros, interruptores de palheta e sensores n√£o s√£o sensores de presen√ßa </h3><br>  Embora esteja escrito na descri√ß√£o do produto HC-SR501, mas n√£o.  N√ÉO detecta presen√ßa.  Ele determina os dist√∫rbios no padr√£o de interfer√™ncia, que o sensor v√™ atrav√©s da lente Fresnel.  A presen√ßa de uma pessoa em uma determinada √°rea √© determinada pela interrup√ß√£o do feixe de infravermelho, al√©m disso, com um foco estreito e depois com reservas.  Originalmente, pretendia-se usar um tel√™metro ultrass√¥nico.  Infelizmente para o tel√™metro, as paredes da sala eram feitas de poliestireno pintado com uma cartilha.  As reflex√µes eram monstruosas; al√©m disso, no extremo oposto, havia um segundo tel√™metro ao virar da esquina (sim, leitor, est√°vamos presos ao uso do sistema de bandeiras e proibindo a opera√ß√£o simult√¢nea dos dois sensores, mas ainda assim).  Em geral, as leituras desses sensores acabaram se aproximando da verdade apenas por acaso divertido, bem, ou gra√ßas √†s condi√ß√µes de "estufa", quando os emissores n√£o eram direcionados para a sala de trabalho, mas para algum lado, onde no fundo havia uma mesa de madeira, um pano macio ou algo n√£o brilhante, absorvendo efetivamente. <br><br>  Infelizmente, n√£o havia tempo para comprar um tel√™metro infravermelho, tanto para comprar quanto para testar (embora a quem tenha sido informado nesse momento).  Portanto, os receptores de infravermelho em uma parede e os LEDs em outra foram colocados nas paredes da sala.  N√£o havia brincadeira para torn√°-los vis√≠veis, porque destruiria a atmosfera, e √© por isso que os sensores de obst√°culo, t√£o amarelos, com um resistor vari√°vel na parte traseira, n√£o foram usados ‚Äã‚Äã- eles funcionaram bem, mas na frente havia uma luz vermelha avermelhada, do LED que √© como IR, mas n√£o completamente - menor que 808 nm.  Talvez o 780. Em geral, voc√™ pode v√™-los como luz de fundo nas c√¢meras.  Al√©m disso, como n√£o havia alcance suficiente, eles normalmente determinavam as pessoas em apenas 45 cm. Portanto, eu tive que fazer o meu caminho. <br><br>  Estiveram presentes o VS1838 (a prop√≥sito, ainda era universal) e o TSAL6200, inserido em tubos feitos de buchas pl√°sticas.  N√£o deu certo.  Em robocraft (desculpe, n√£o considere isso para publicidade), os fototransistores IR com duas sa√≠das s√£o vendidos, parecem um LED transparente, custam 15 rublos ou mais, sua resist√™ncia diminui acentuadamente quando iluminada com luz est√°vel e n√£o modulada de 780-1000 nm, e era necess√°rio usar eles.  Mas eles n√£o s√£o comprados h√° um ano.  Mas eu tinha um monte de VS1838, arrancado de utens√≠lios dom√©sticos chineses para despensas, que n√£o sabem - este √© um an√°logo t√£o pequeno, menos sens√≠vel e mais barato do TSOP1738.  Como todos sabemos, 1738 cont√©m um demodulador, um filtro e um AGC.  Portanto, neles √© imposs√≠vel brilhar com luz n√£o modulada, pois o sensor ser√° apenas uma ilumina√ß√£o de fundo.  Em geral, o envio de rajadas de pulsos da freq√º√™ncia necess√°ria para os LEDs n√£o foi dif√≠cil, voc√™ s√≥ precisa usar a sa√≠da direta para a porta (porque digitalWrite () √© muito lento para isso) e retarda os microssegundos (27).  27 Œºs √© algo em torno da metade da portadora de 38 kHz transportada pelo sensor.  No entanto, n√£o se pode simplesmente captar e brilhar a 38 kHz, como um sinal AGC √© considerado ru√≠do; portanto, era necess√°rio dividir 38 kHz em rajadas de pulsos para que o sinal n√£o fosse cortado.  Curiosamente, n√£o foi observada ilumina√ß√£o parasit√°ria dos sensores vizinhos (havia seis no total, a dist√¢ncia entre eles era de cerca de 35 cm), n√£o houve quedas especiais no brilho, o que levou √† sensibilidade subestimada de alguns sensores individuais tamb√©m, mas mesmo assim.  N√£o.  Ra.  Bo.  Aquele.  Lo. <br><br>  Podemos ficar confusos com este t√≥pico, discutir a n√£o otimiza√ß√£o do programa (porque, ent√£o, por que o programa de diagn√≥stico no qual o sensor separado interferente foi selecionado funcionou perfeitamente e perfeitamente?), Mas isso est√° al√©m do escopo do t√≥pico.  S√≥ posso dizer que raramente cometo erros.  Se eu torcer seis fios de sinal em um pacote - eu sei: a sa√≠da deles √© um coletor aberto, no pacote eles n√£o se afetar√£o de <b>forma alguma</b> .  Eu sei que cada sensor tem seu pr√≥prio capacitor de 0,1 ŒºF em paralelo com a fonte de alimenta√ß√£o, que cada LED tem seu pr√≥prio resistor separado e que v√°rios LEDs s√£o pendurados em paralelo em um resistor, apenas finalizados.  Portanto, n√£o vamos insistir nisso, era necess√°rio usar fototransistores e aplicar corrente direta aos LEDs.  S√≥ isso.  Al√©m disso, cada um em um tubo para evitar reflexos esp√∫rios.  Poderia funcionar, apenas em um certo est√°gio a decis√£o necess√°ria n√£o foi tomada. <br><br><h3>  RFId n√£o √© eterno, no pensamento n√£o √© infinito </h3><br>  O receptor RFId possui sua pr√≥pria √°rea de leitura muito pequena.  Para os bons receptores, √© de cerca de 7 cm. Para os piores, √© de 4 cm. A bobina pode ser rebobinada (a principal coisa a considerar √© que a frequ√™ncia ressonante n√£o vai muito longe de 125 kHz), mas novamente - n√£o para qualquer tamanho.  No entanto, √© poss√≠vel aumentar seu di√¢metro em 2-2,5 vezes.  A a√ß√£o envolveu tr√™s objetos aut√¥nomos que podem estar em qualquer lugar que precise ser identificado.  O tamanho de dois desses itens estava pr√≥ximo das dimens√µes da fonte de alimenta√ß√£o ATX, respectivamente, o di√¢metro da bobina era dezenas de cent√≠metros, ent√£o tive que abandonar a op√ß√£o com o RFId. <br><br>  Aqui, novamente, o canal de infravermelho ajudou, n√£o apenas com esses LEDs poderosos, mas mais fracos (pelo contr√°rio, era necess√°rio que o sinal fosse recebido apenas nas imedia√ß√µes dos receptores).  Em um dos objetos, 11 LEDs s√£o murados, brilhando em todos os tipos de √¢ngulos, porque o objeto √© redondo.  O outro possui uma al√ßa de madeira, portanto, existem apenas tr√™s LEDs, pois n√£o h√° necessidade de brilhar na dire√ß√£o da al√ßa, ela ainda fica presa, onde n√£o h√° receptor.  O terceiro assunto √© pequeno o suficiente e, talvez, no caso dele, algu√©m pudesse prestar aten√ß√£o ao RFId novamente, mas as dimens√µes ainda eram incompar√°veis ‚Äã‚Äãcom a √°rea de leitura. <br><br>  Todos os itens s√£o alimentados por 18650 baterias com capacidade de 2000 a 3400 mAh.  Onde 2000, usado.  O princ√≠pio do IR √© simples - esperamos um longo per√≠odo de tempo (segundos), emitimos um sinal quadrado de 38 kHz um pouco mais que um milissegundo, para que o receptor funcione e d√™ um zero claro na sa√≠da.  Repita a gosto.  Inicialmente, isso foi feito por dois cron√¥metros de 555x, √© claro que o tempo se arrastou para o meio do nada, √© claro que eles esqueceram de deslig√°-lo e o cron√¥metro <b>sempre</b> quer comer, e ele n√£o precisa usar 20 mA de qualquer maneira, naturalmente, dois bancos usados ‚Äã‚Äãn√£o gostam disso. <br><br>  Os itens tiveram que ser abertos (sim, os membros de silicone de um zumbi, granada F1 de ferro fundido sem uma √∫nica costura, pense por si mesmo), embora n√£o demorasse tanto tempo.  Bem, um total de uma semana foi transportado.  Os temporizadores foram substitu√≠dos por atmega8, o c√≥digo IRRemote n√£o se encaixava l√° (embora engra√ßado, depois de um tempo consegui montar um esbo√ßo para o envio, e o compilador n√£o mostrou nenhum erro com o atmega8 selecionado - talvez eu j√° tivesse uma nova vers√£o da biblioteca).  Por que 8?  Bem, barato, al√©m de 328 n√£o estava dispon√≠vel.  O programa simplesmente emitiu rajadas de pulsos com a pausa necess√°ria e, ap√≥s 7000 segundos, adormeceu, colocando todas as sa√≠das em um estado de alta imped√¢ncia e desligando tudo o que era poss√≠vel para reduzir o consumo de corrente a dezenas de microamperes.  Funciona e o problema est√° resolvido. <br><br>  No lado receptor, tr√™s sensores acionam tr√™s condi√ß√µes.  Ap√≥s a chegada do impulso, o contador inicia e o carimbo de hora (milis) √© salvo.  Se o pr√≥ximo pulso chegasse ao mesmo sensor e o contador atingisse n1 - o primeiro item, n2 - o segundo e assim por diante.  Se n for grande o suficiente e o sinal ainda estiver ausente, aparentemente o sinal foi aleat√≥rio e o contador ser√° redefinido.  Eu n√£o acho que isso seja algum tipo de mega super algoritmo, mas resolve alguns problemas: <br><br><ol><li>  Anexar muito (ou seja, mais de um) de um receptor de infravermelho a um controlador n√£o √© tarefa dos noobs.  Sim, mesmo no mega2560.  Sim, existe um garfo com v√°rios sensores do IRRemote.  Sensores √∫nicos e um sistema de condi√ß√µes fabricado por voc√™ - mais f√°cil. </li><li>  Houve alguns problemas ao escrever o c√≥digo IRRemote no atmega8.  Sim, voc√™ pode escrever um pacote RAW, formar uma matriz a partir dele e emitir novamente fun√ß√µes de baixo n√≠vel e atrasos de microssegundos, mas havia algo muito pregui√ßoso. </li><li>  Os sensores t√™m fios longos, voc√™ nunca sabe.  Longo √© mais de dois metros. </li></ol><br>  O conector DC-05 (conector de alimenta√ß√£o do Arduino) permite redefinir o tempo de contagem regressiva - se voc√™ inserir um conector nele, dois dos tr√™s contatos se abrir√£o, cortando a energia.  O terceiro item n√£o possui um conector (√© aut√™ntico demais para isso), mas tamb√©m a redefini√ß√£o n√£o causou problemas - a bateria √© carregada pelo TP4056, possui uma sa√≠da CH, um zero no qual indica o processo de carregamento - est√° conectada √† redefini√ß√£o.  O TP4056 recebe energia sem fio atrav√©s de uma bobina - n√≥s a colocamos no suporte de carregamento - √© o mesmo que inserir o conector, tudo √© redefinido.  Removido - a descarga n√£o √© puxada para o ch√£o, os impulsos podem ser considerados.  Contados - adormecem, profundamente e por um longo tempo;  para desativar a bateria, voc√™ deve esquecer de carregar essa coisa por um ano.  E ent√£o, √© dobr√°vel.  Esses itens foram a solu√ß√£o mais bem-sucedida, que veio quase imediatamente, embora com algumas dan√ßas. <br><br><h3>  Caramba!  Assinatura de dispositivo inv√°lida.  Verifique as conex√µes e tente novamente ou use -F para ignorar ... </h3><br>  O erro mais vil de toda a minha pr√°tica.  Voc√™ n√£o tem id√©ia de qual √© o problema.  Aqui est√£o as situa√ß√µes que surgiram em mim: <br><br><ol><li>  A ordem dos fios MOSI (D11), MISO (D12), SCK (D13) √© misturada. </li><li>  Em vez de capacitores de 22 pF, outra coisa √© soldada perto do quartzo.  Uma vez, em vez de um deles, acabou sendo um resistor de 1k.  Inscri√ß√£o soldada para baixo. </li><li>  Todos os seis fios devem estar intactos.  Sempre carregue o testador (como um conector), sempre toque do conector at√© os p√©s do controlador (ningu√©m cancelou os defeitos de estrada na placa).  Ou at√© dos p√©s do controlador mestre (no programador) aos p√©s do escravo. </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suponha que a placa seja alimentada por 12 a 7805. Os desvios do programador e do 7805 devem estar conectados. </font><font style="vertical-align: inherit;">Sim, todos os 6 fios est√£o em contato, mas verifique novamente.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Controlador inv√°lido selecionado. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O controlador correto est√° selecionado, mas sua assinatura ainda √© diferente. </font><font style="vertical-align: inherit;">Aqui est√° o que eu escrevi para o mega328 em hardware \ tools \ avr \ etc \ avrdude.conf:</font></font><br><br><pre><code class="hljs smalltalk"># signature = <span class="hljs-number"><span class="hljs-number">0x1e</span></span> <span class="hljs-number"><span class="hljs-number">0x95</span></span> <span class="hljs-number"><span class="hljs-number">0x0f</span></span>; <span class="hljs-symbol"><span class="hljs-symbol">#tqfp32</span></span> # signature = <span class="hljs-number"><span class="hljs-number">0x1e</span></span> <span class="hljs-number"><span class="hljs-number">0x95</span></span> <span class="hljs-number"><span class="hljs-number">0x14</span></span>; <span class="hljs-symbol"><span class="hljs-symbol">#dip28</span></span></code> </pre> <br>  Com o que trabalhamos, descomente. </li><li>  Os fus√≠veis s√£o montados em quartzo externo (mais de 8 MHz), o que de fato est√° faltando.  Aqui sempre tem um cachecol com quartzo e dois capacitores e tr√™s fios.  Al√©m disso, <b>sempre</b> inclua blocos no quadro que v√£o para XTAL1 e XTAL2.  Mesmo que seja definitivamente a 8 MHz, a partir das baterias.  Mesmo se "apenas piscar uma vez, voc√™ simplesmente n√£o pode esquec√™-lo."  Tanto quanto poss√≠vel. </li><li>  M√°gica pura?  Outro, exatamente o mesmo quadro, montado novamente, funcionou. </li></ol><br><h3>  Credibilidade da luz </h3><br>  N√£o use fita tricolor para efeitos de chama.  As chamas cont√™m luz amarela ou vermelha em v√°rias propor√ß√µes.  S√≥ isso.  Tente usar a combina√ß√£o R + G para obter o amarelo - a chama ficar√° verde.  Tente aumentar o brilho adicionando azul ‚Äúbranco‚Äù - a chama ser√° azul, azul ou violeta-p√™ssego, se o amarelo for suficiente.  N√£o √© necess√°rio aplicar cores frias como componentes das cores prim√°rias; em geral, fisicamente, n√£o deve haver LEDs verde e azul nessa fita.  Nem um pouco da palavra.  Esta decis√£o √© a mais malsucedida.  Provavelmente, a fita nos equipamentos Goodwin e Urfin ainda decidem mudar.  Existem canais suficientes l√°, isso tamb√©m √© controlado pela autopropulsora atmega8, na verdade a mini placa Pro, que ao mesmo tempo possui tr√™s transistores de pot√™ncia para sa√≠das compat√≠veis com PWM.  Duas fitas amarelas e uma vermelha ser√£o as mais.  Todos os tr√™s s√£o aleat√≥rios.  √â uma pena que um circuito RNG tolerante em um diodo de ru√≠do n√£o tenha atra√≠do minha aten√ß√£o, embora os ops pseudo-aleat√≥rios atmega8 pare√ßam tolerantes.  Mas n√£o com verde na fita. <br><br><h3>  Luz estrobosc√≥pica </h3><br>  O rel√¢mpago √© um fen√¥meno nobre, de qualquer forma, para aumentar a press√£o atmosf√©rica, mas n√£o √© t√£o exigente quanto parece.  √â mais f√°cil trocar um quadrado de 1x1 m colado com fita (80 metros, 96 amperes a 12 volts, quase 1,2 kW) do que atear fogo a uma l√¢mpada de flash de 10 kV com um pulso a uma corrente de miliamperes.  Porque  Porque a interfer√™ncia √© de banda larga.  O estrobosc√≥pio no momento do flash pisca em cinza sempre que poss√≠vel; uma faixa clara ser√° vis√≠vel em todo o espectro.  Flash.  Como remov√™-lo n√£o est√° claro.  Um estrobosc√≥pio conectado atrav√©s de um filtro de linha trava com seguran√ßa o W5100 e o arduino.  A √∫nica experi√™ncia bem-sucedida sobre esse t√≥pico foi feita com a bateria.  Existem duas maneiras de desatar o estrobosc√≥pio da rede principal. <br><br>  <b>M√©todo um:</b> <br><br><ol><li>  Ligamos o flash para carregar o capacitor de trabalho.  Dois rel√©s, ser√° necess√°rio cortar os dois fios de energia da tomada. </li><li>  N√≥s desconectamos. </li><li>  Aplicamos tens√£o na bobina de igni√ß√£o, via r√°dio ou atrav√©s de um acoplador √≥ptico. </li></ol><br>  <b>A segunda maneira:</b> <br><br><ol><li>  Remodeamos a pot√™ncia do estrobosc√≥pio para baixa tens√£o, para que ele n√£o se conecte √† tomada. </li><li>  Aplicamos tens√£o na bobina de igni√ß√£o, via r√°dio ou atrav√©s de um acoplador √≥ptico. </li></ol><br>  O estorobosc√≥pio deve ser cuidadosamente blindado.  Em torno do transformador de igni√ß√£o √© geralmente √∫til soldar uma caixa de material de alum√≠nio, portanto, apenas por precau√ß√£o.  E n√£o √© fato que, de novo, algo n√£o ir√° depender de voc√™.  Enquanto isso, trabalhadores de campo poderosos trabalham normalmente em frequ√™ncias de at√© 100 kHz, ligam 80 metros de fita a 100 ¬µs - n√£o ... como dois dedos ... ... bem, em geral, n√£o consigo escolher a express√£o certa, o principal √© estocar capacitores para que o PSU n√£o jure.  E a interfer√™ncia ser√° de baixa frequ√™ncia e √© muito mais f√°cil filtrar.  Bobinas de choque, eletr√≥litos, bem, em geral voc√™ entende.  Entendo que esse n√£o √© um exemplo mais caro que uma l√¢mpada de flash, mas √© mais f√°cil trabalhar. <br><br><h3>  Dimmers 220 </h3><br>  Talvez os criadores n√£o tenham encontrado isso, ou talvez tenham encontrado apenas um canal, e na rede tenham se esquecido de mencionar que a tens√£o de um regulador de uma fase pode fluir para o segundo, se estiverem pr√≥ximos.  √â tratado por um filtro de rede.  Nas microondas, √© t√£o ferro, no caso est√° escrito EMI Filter. <br><br><h3>  Sensor do ar de sobrealimenta√ß√£o </h3><br>  O sensor √© simples, √© uma cortina m√≥vel feita de fibra de vidro estanhada, cujo movimento √© limitado pela goma de pesca.  Por que n√£o el√°stico por dinheiro?  - a pesca √© mais dur√°vel.  O ar entra atrav√©s de um tubo com um di√¢metro de cerca de 2 cm. Talvez um impulsor com um codificador / √≠m√£s + sensores Hall, um sensor de press√£o, etc., tivesse entrado aqui, mas isso n√£o estava dispon√≠vel (lol, um <b>ano se</b> passou, at√© agora eu estou queimando isso desculpas pela disponibilidade), bem, eu queria tornar o sensor o mais carvalho poss√≠vel, para que os fios compridos pudessem chegar nele.  N√£o √© muito agrad√°vel, voc√™ sabe, na li√ß√£o "arrastar SPI ou i2c a 7 metros dos arduinos, 7 (sete) metros, Karl". <br><br>  Geralmente considero o sensor bem-sucedido, mas tem uma desvantagem.  Esta desvantagem reside no perfil temporal especial (isto √©, temporal) do sinal, o envelope ADSR, por assim dizer.  Existem v√°rias op√ß√µes, como exatamente o ar entrar√° no sensor, como soprar nele.  Voc√™ pode soprar muito tempo, voc√™ pode brevemente, frequentemente / raramente e assim por diante.  Portanto, precisamos de um per√≠odo de tempo preciso que limite o acionamento do sensor √†queles e somente aos casos em que o zero der origem a ele, por algum tempo, e ap√≥s esse per√≠odo o zero dever√° se tornar uma unidade, novamente n√£o menos que algum tempo.  Parece algumas condi√ß√µes, mas, na verdade, acabou sendo dif√≠cil selecionar esses quadros, e uma diferen√ßa de cerca de 100 ms mudou diametralmente a l√≥gica de resposta do sensor.  Obviamente, n√£o havia oscilosc√≥pio para fazer as leituras necess√°rias durante uma explos√£o de modelo e depois ajustar o sistema de condi√ß√µes para elas.  De uma forma ou de outra, a configura√ß√£o se resumia a duas ou tr√™s semanas de trabalho e n√£o havia truques especiais l√°.  At√© os fios n√£o rasgaram. <br><br><h3>  Falando em fios </h3><br>  Este √©, na maior parte, um STP de par tran√ßado de alum√≠nio banhado a cobre, com uma tela de alum√≠nio.  Anteriormente, havia um par UTP de cobre, mas quase todo era substitu√≠do por um par blindado.  Em primeiro lugar, o vazamento parou por algum motivo nos sensores, que anteriormente levavam a falsos alarmes, e em segundo lugar - √© muito mais calmo.  Verdadeiro bimet√°lico, mas tudo bem.  Foi permitido √† estupidez o n√∫mero de vezes que o t√©cnico que trabalhou com o projeto antes de mim - ele gastou <b>tudo com</b> seu par UTP.  Incluindo os fios das l√¢mpadas, que eram originalmente 220. Em seguida, colocam l√¢mpadas com um fio longo, consumindo corrente insignificante, e isso, em princ√≠pio, em geral, se voc√™ n√£o d√° a m√≠nima para seguran√ßa, √© permitido.  Mas a luz das l√¢mpadas de Goodwin com Urfin n√£o funcionou e as substitu√≠mos por fita, fornecendo 12 em vez de 220. Como as l√¢mpadas j√° estavam instaladas, havia um cartucho E27, e acabamos de fazer alguns len√ßos no mega8, para o qual esses cabos arrancados foram arrancados com l√¢mpadas economizadoras de energia.  Tudo parece ser o caminho, mas em uma parede do cartucho havia uma polaridade e na outra parede - outra polaridade, e foi divertido mudar o 7805 com falha quando as l√¢mpadas foram misturadas.  Desde ent√£o, as inscri√ß√µes foram queimadas sobre eles com um ferro de soldar, de onde veio.  Ent√£o Urfin e Goodwin queriam controlar essas l√¢mpadas, e foi fascinante e divertido explicar-lhes exatamente como e quais op√ß√µes de controle quantos canais eles t√™m, em dois fios, dois dos quais s√£o fios de energia.  De alguma forma eles riram, mas n√£o discutiram, isso √© uma vantagem para eles no karma.  Voltaremos a esse aspecto, mas por enquanto vamos continuar sobre os fios. <br><br>  Em geral, muitas decis√µes interessantes est√£o relacionadas a elas, porque tudo foi constru√≠do e conectado ao mesmo tempo, eu entendo que tudo era pelo bem do pintor de casa Petya, que n√£o deveria fumar e ser est√∫pido, esperando o pedreiro Vasya, mas um pouco mais hipoteticamente poderia fornecer um pouco mais de perguntas.  Os termos de refer√™ncia como tais nasceram no decorrer do trabalho, mas atribu√≠mos isso √† noobilidade e falta de experi√™ncia.  As consequ√™ncias disso s√£o: 8 metros de fita, este √© um minuto, quase 10 amperes, alimentado por <b>um</b> n√∫cleo de um par UTP.  Para o cr√©dito deste n√∫cleo, ele pode suportar essa corrente (spoiler: nem todas) e nem mesmo quente, mas apenas gra√ßas √† modula√ß√£o, bem como ao cobre monol√≠tico real, sem bimet√°lico.  No entanto, se a modula√ß√£o parar e houver uma no obturador do campo, o campo n√£o se importar√°.  Depois de uma hora desse regime, o isolamento derreter√°, e os caras da Terra M√°gica de Oz se divertir√£o escolhendo o fio, porque √© concreto no ch√£o.  Bem, eles n√£o sabiam que no futuro eles decidiriam colar <b>tanta</b> fita l√°, bem, com quem isso n√£o acontecer.  √â claro que tudo precisar√° ser puxado da for√ßa de 70 cent√≠metros, mas mesmo assim ... <br><br>  Alguns dos fios mais tarde se mostraram desnecess√°rios.  Parte dos fios √© um cabo de TV coaxial para c√¢meras (√© claro, n√£o IP) e microfones.  Quando decidimos arrastar um pouco o DVR, descobriu-se que os cabos das c√¢meras e microfones precisavam ser aumentados.  Depois, descobriu-se que os cabos que tentam empurr√°-los com for√ßa para o papel√£o ondulado geralmente quebram no lugar da solda.  Alguns dos pares tran√ßados se divorciaram antes de mim, e o ent√£o Dr. Emmett Brown decidiu que seria √≥timo transformar os contras de um cabo em um par azul e marrom, no outro azul e verde.  Eu estava acostumado a desenroscar pares e transformar todos os fios brancos em menos e em mais - todos os fios coloridos.  Bem, voc√™ v√™, √© mais dif√≠cil misturar polaridade.  Para descobrir mais tarde essa polaridade de cabos pendurados e cortados - era apenas uma m√∫sica!  Especialmente quando um motor com resist√™ncia de alguns ohms √© conectado na outra extremidade, e √© imposs√≠vel distinguir um curto-circuito de um n√£o-curto-circuito por resist√™ncia ... Em geral, um m√™s depois, foi poss√≠vel fazer um teste oral das resist√™ncias de todos os cabos do sistema, bem como dos circuitos cujas cores est√£o conectadas no interior juntos.  Isso nem foi escrito nas tabelas, √© levado ao subc√≥rtex, pois eles dirigem soldados e, no meio da noite, perguntam o n√∫mero de s√©rie da m√°quina. <br><br><h3>  Subsistema de som </h3><br>  WTV-020SD16P n√£o est√° logado.  Ele n√£o l√™ nenhum cart√£o TF, n√£o h√° sinais claros de que funcione, exemplos de resultados intelig√≠veis n√£o d√£o.  Uma alternativa foi a pistola automotriz atmega328 com a biblioteca TMRpcm.  Eu n√£o gostei da amplitude do sinal, eles tentaram reduzir o resistor na sa√≠da PWM, diminu√≠ram-diminu√≠ram 328 e sim, deram um latido.  Mudou, conectado a um amplificador, a um amplificador, em geral - silenciosamente, eles dizem.  N√£o est√° satisfeito.  At√© um desses chelniks expressou uma id√©ia mega brilhante de conectar um amplificador (um alto-falante chin√™s) em s√©rie e a sua sa√≠da, onde h√° dois fios para o alto-falante, existe um segundo amplificador e essa era uma tarefa tit√¢nica: trazer √† mente brilhante uma mensagem simples que afirma "Cara, voc√™ acabou de queimar a entrada."  Nas noites escuras, pesadelos me atormentam e acordo com um suor frio e pegajoso com apenas um pensamento: e se ele n√£o acreditasse em mim?  Um balde de humor, eu n√£o ligo. <br><br>  Existem 6 fontes de som no total, das quais h√° um woofer e som est√©reo em uma das salas, para que possamos chamar arbitrariamente essas 4 zonas das quais o som √© ouvido.  Os tr√™s primeiros simplesmente representam v√°rios canais 5.1 e s√£o dublados em um computador; o √∫ltimo canal do woofer n√£o foi suficiente.  H√° um computador, um alto-falante pequeno e um alto-falante grande, espa√ßados em diferentes canais 2.0 (est√©reo). <br><br>  Quando o computador inicia, o Firefox inicia nele - a p√°gina, na p√°gina - um loop infinito com uma solicita√ß√£o AJAX para o script PHP servido pelo servidor no mesmo computador.  A pedido do PHP de fora, ele escreve um n√∫mero no arquivo, a pedido do AJAX da p√°gina - ele diz o n√∫mero, se o n√∫mero for diferente do anterior - o AJAX, mais precisamente o howler.js, emite um som.  Onde depende do som, em alguns sons no canal direito h√° sil√™ncio completo, eles s√£o para um alto-falante, em outros sons h√° sil√™ncio na esquerda, eles s√£o para outro alto-falante. <br><br>  O computador √© antigo e esquece algo que tornou poss√≠vel acord√°-lo no WOL em poucas horas.  Ou seja, se voc√™ deslig√°-lo e, mesmo pelo telefone, pelo menos em outro computador, enviar um pacote WOL pelo tempo previs√≠vel, o computador ser√° iniciado.  Um dia passa e ele n√£o faz mais isso, portanto, dois fios tiveram que ser arrastados para o bot√£o liga / desliga. <br><br>  O resto do som permaneceu um mist√©rio para mim; antes, ele tamb√©m era reproduzido em HTML usando o howler.js, ent√£o uma nova pessoa adaptou a biblioteca do VLC player para seu aplicativo Java, agora eu n√£o sei.  Eu entendo os coment√°rios no esp√≠rito de "um servidor com furo - uma solu√ß√£o de muleta, onde est√° o mp3 shield?", Explico imediatamente - naquela √©poca ainda n√£o havia visitado a id√©ia de comprar, al√©m de "aqui temos 5 jogadores no WTV020, aqui est√£o os flash drives".  Acabou sendo uma solu√ß√£o funcional, e n√£o acho que seja pior que o mp3 shield. <br><br><h3>  Subsistema de comando </h3><br>  Agora, ele representa dois processadores centrais aos quais os sensores / executores est√£o conectados atrav√©s de fios longos.  Longo - isso significa mais de dois metros.  Se o contratante - atrav√©s do IRFZ48N ou de uma placa de rel√©, ou um rel√© mais poderoso (60A), se o motor ou o regulador de fase no triac + moc3021 / 3051.  Se o sensor for atrav√©s de um acoplador √≥ptico, para que o terra do sensor seja desatado do terra do Arduino.  O comprimento dos fios √© de at√© 20 m, de qualquer forma, s√£o loops de corrente ou fios tran√ßados para cargas poderosas.  Por que n√£o participar imediatamente deles DMX / RS-485, para mim √© um mist√©rio.  Mas existe o que √©.  Anteriormente, eles eram controlados remotamente pela rede de transceptores nRF24L01 +.  O protocolo do transceptor inclu√≠a um c√≥digo de dispositivo, um c√≥digo de opera√ß√£o e at√© uma maldita av√≥, e n√£o havia colis√µes, mas funcionava com o loop Ethernet.  As solicita√ß√µes ocorrem com frequ√™ncia, porque Urfin e Goodwin desejam ver um estado no computador do operador, de prefer√™ncia em tempo real, portanto, primeiro um loop sem fim √© colocado na interface HTML e depois no servi√ßo Java, pesquisando continuamente o estado dos dois controladores. .  Naturalmente, naqueles 150 milissegundos em que o controlador estava envolvido na rede, ele n√£o estava interessado em transceptores. <br><br>  <b>Existem duas maneiras de melhorar esse subsistema.</b> <br>  Primeiro, voc√™ pode interromper o ciclo de pesquisa e enviar o estado apenas alterando as leituras do sensor.  Para fazer isso, voc√™ precisa de um transmissor que possa dar um sinal ao computador (por exemplo, um wifi serial ESP8266 que envia uma solicita√ß√£o para PHP). <br>  Em segundo lugar, √© poss√≠vel dividir o sistema em dispositivos separados, cada um dos quais poder√° se comunicar diretamente com um computador, mas isso exigir√° uma interface de rede em <b>todos os</b> dispositivos, de sensores a motores.  Suponha que para v√°rios dispositivos concentrados geograficamente perto de alguma porta, eles precisem de mais de 2. Em geral, fa√ßa uma placa perif√©rica TCP / IP a partir da busca pela Odisseia no Espa√ßo.  Essa placa √© a melhor solu√ß√£o poss√≠vel. <br><br><h3>  Processo orientado </h3><br>  Essa teoria n√£o me pertence, n√£o insisto em nada.  E, em meus pensamentos, n√£o h√° como questionar as qualidades comerciais de Goodwin e Urfin, mas o n√∫mero de decis√µes que eles tomaram especificamente indicou sua inten√ß√£o de atrasar a entrega do projeto o m√°ximo poss√≠vel.  Trata-se principalmente de implementa√ß√£o.  O mais √©pico, talvez seja uma indica√ß√£o direta para fazer todas as conex√µes com o arduino mec√¢nico, esses s√£o os pinos de a√ßo de 40x2,54 em pl√°stico.  Por que isso foi feito quando a solda na placa √© mais confi√°vel, n√£o est√° claro.  Lembro que o par tran√ßado foi soldado.  O que √© realmente dif√≠cil e pode pular para fora do conector.  Se voc√™ n√£o soldar o pino em um cotonete, caso contr√°rio ele cair√°, o √°cido de solda √© obrigat√≥rio.  Que, ent√£o, no local da solda deve ser fechado com o psiquiatra do calor, voc√™ nunca sabe o que. <br><br>  Anteriormente, tudo, bem ou quase todos os dispositivos estavam localizados junto com conectores e optoacopladores na placa cruzada.  Foi a maior placa j√° feita por mim, seu tamanho √© 305x405 mm.  Infelizmente, a folha era chinesa e, portanto, a camada era de apenas 18 m√≠crons, e estanhar era apenas uma ocupa√ß√£o e tanto.  Devido ao tamanho enorme, todas as altera√ß√µes exigiram levant√°-lo completamente, porque havia mais de 40 conectores, cada um com pelo menos tr√™s fios, e desconect√°-los para remov√™-lo era melhor cortar a cabe√ßa imediatamente.  Soldar qualquer coisa ali era muito desconfort√°vel, porque a placa estava <b>acima do</b> ferro de soldar.  Al√©m disso, apesar de toda a fia√ß√£o verificada, ainda havia erros nos conectores.  Menos de um m√™s, e esse cross-board acabou sendo abandonado, embora fosse mais conveniente conectar artistas com sensores.  Esta √© a segunda solu√ß√£o mais malsucedida, a primeira foram e permanecem LEDs verdes na fita simulando a luz da chama. <br><br>  Se soub√©ssemos imediatamente que era mais l√≥gico colocar toda a l√≥gica nas imedia√ß√µes do roteador / computador e arrastar apenas os fios para os dispositivos finais, que n√£o deveriam ter sido previstos para visualizar os controladores em campo, seria poss√≠vel concluir o trabalho muito mais cedo.  No entanto, n√£o t√≠nhamos experi√™ncia, e provavelmente focamos no processo - algo que se segue logicamente disso.  N√£o compartilho dessa vis√£o e acredito que todas as op√ß√µes testadas e testadas foram uma mais ou outra, uma vez que revelaram muitas solu√ß√µes malsucedidas.  Se eu continuar envolvido na sala de escape da sala de descanso - nossa experi√™ncia ser√° √∫til para algu√©m que ler este artigo. <br><br>  Por um lado, n√£o tenho o direito de falar sobre esse t√≥pico: o trono de nosso inimigo est√° sendo quebrado sem mim.  Mas fiquei especificamente incomodado com algumas de suas decis√µes, que s√£o contr√°rias ao bom senso e minimizam os custos.  Se voc√™ me contratou para tomar algumas decis√µes - n√£o discuta e duvide.  Se eu disser que o sinal do alto-falante de um amplificador n√£o pode ser alimentado na entrada de outro, ent√£o eu tenho raz√£o.  Se digo que a √°rea de leitura da RFId n√£o √© suficiente, tive tempo de verificar, n√£o estou dizendo nada do teto. <br><br><h3>  O homem em que meu trabalho foi despejado </h3><br>  No oitavo m√™s, outro personagem se juntou ao nosso projeto, a quem chamaremos de Lenhador.  Ele tinha √† sua disposi√ß√£o alguns sensores industriais, e alguns dos dispositivos sofreram mudan√ßas tanto no design quanto na l√≥gica.  Naquele momento, j√° estava come√ßando a me ser prestado minuciosamente, e sua interven√ß√£o, em geral, era exigida por mim.  Algo claramente funcionando n√£o funcionou, os mesmos 6 per√≠metros infravermelhos, desempenhando a fun√ß√£o de um sensor de presen√ßa.  Pelo menos conversas poderiam ser feitas com ele, ao contr√°rio de Urfin e Goodwin, pois ele distinguia a persiana da resist√™ncia. Os mesmos dois √†s vezes me pediam para arrancar todos os dentes, um ap√≥s o outro, sem anestesia.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Lenhador prop√¥s imediatamente v√°rias corre√ß√µes que poderiam afetar a confiabilidade, mas poucas delas deram resultados. </font><font style="vertical-align: inherit;">No entanto, mais recentemente, foi ele quem levantou a quest√£o de usar o c√≥digo IRRemote em objetos. </font><font style="vertical-align: inherit;">Ou seja, essa coisa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j√°</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estava </font><font style="vertical-align: inherit;">completamente depurada, e ainda algo lhes aconteceu l√°. </font><font style="vertical-align: inherit;">Oorfene subiu para desmontar um deles e arranjou um curto-circuito; tive que trocar o transistor. </font><font style="vertical-align: inherit;">Embora este seja apenas o momento em que voc√™ n√£o deve subir novamente.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O desenvolvimento exclusivo do Lenhador √© um sensor de √¢ngulo, necess√°rio para, digamos, um volante com pedais. Para determinar onde ele estava sendo girado, o codificador KY040 com o controlador estava inicialmente l√°, a vers√£o alfa ainda tinha disparos de Schmitt e um contador do circuito PighiXXX, que suprime a vibra√ß√£o e converte, n√£o est√° claro qual fase mudou para sinais de passo / dire√ß√£o. Mas n√£o foi poss√≠vel obter um trabalho respons√°vel dele, ent√£o ele come√ßou a cometer erros, depois se desintegrou completamente, e decidiu-se substitu√≠-lo por um disco com um furo e dois interruptores de foto, consistindo no antigo fotodiodo sovi√©tico FD265 com um comparador e LEDs brancos. Quando o disco foi girado, o orif√≠cio apareceu sob os LEDs, foi obtido zero nos comparadores, a ordem em que os zeros vieram dos dois comparadores possibilitou estimar a dire√ß√£o e a posi√ß√£o aproximada. N√£o √© apenas um codificador, mas n√£o requer interrup√ß√µes,o que significa que pode ser conectado atrav√©s de fios longos. Longo significa mais de dois metros. Vamos l√°, sejamos honestos: os acopladores √≥pticos, um diodo anti-paralelo e cer√¢mica de microfarad 0,1 s√£o facilmente instalados no KY040 e voc√™ obt√©m um codificador normal que pode ser conectado por pelo menos cem metros. Al√©m disso, eles foram espalhados em um saco a granel. Mas o precipitado permaneceu, eu n√£o queria mais me comunicar, e o c√≥digo j√° foi reescrito e funcionou com mais precis√£o.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As falhas que surgiram posteriormente foram provavelmente relacionadas a um mau funcionamento na linha, com algum tipo de sinal fantasma que foi induzido, mas no final funcionou. Sua √∫nica desvantagem era que ele trabalhava devagar e podia perder algo em alta velocidade (lembro que o ciclo de pesquisa ainda estava l√°, no controlador central, que ao mesmo tempo tamb√©m atendia solicita√ß√µes HTTP no painel de controle). O ciclo de polling, com alguns outros sensores, foi realocado para pro mini, que transmitiu informa√ß√µes ao controlador principal via Serial0. Qu√£o emocionante foi adivinhar por que n√£o funcionou no Serial1! No entanto, isso n√£o √© sobre isso. O sensor de √¢ngulo tinha alguns defeitos mec√¢nicos, e o Lenhador o substituiu por um complexo de algo que determina o movimento em geral (motor? Codificador? Mas qual √© a diferen√ßa?). E dois sensores Hall,descobrir exatamente onde o movimento est√° acontecendo. Ent√£o, uma nova vers√£o do c√≥digo, que j√° determinava o n√∫mero de revolu√ß√µes, nasceu.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m de refazer alguns sensores, ele tamb√©m lida com a adapta√ß√£o de hardware restante do projeto. </font><font style="vertical-align: inherit;">N√£o atribuo a ele nenhum m√©rito especial, mas o ouro para o creep ir√° para aquele cujo golpe √© o √∫ltimo. </font><font style="vertical-align: inherit;">O projeto ser√° conclu√≠do por essa pessoa, mas receberei os louros dos bastardos, que marcaram muito as pessoas que precisam da minha ajuda. </font><font style="vertical-align: inherit;">Por um lado, meu ato √© nojento, e admito. </font><font style="vertical-align: inherit;">Por outro lado, certas condi√ß√µes me foram fornecidas - quando essas condi√ß√µes deixaram de me agradar, minha pessoa divina deixou de estar nessas condi√ß√µes.</font></font> S√≥ isso.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas nojento, n√£o nojento - para mim de alguma forma indiferente. </font><font style="vertical-align: inherit;">Ao lenhador, expresso minha gratid√£o - ele pegou o que eu n√£o tinha mais for√ßas para fazer.</font></font><br><br><h3>  Tratamento de erros </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro e principal passo para o gerenciamento transparente e sem erros √© o conselho da Space Odyssey. </font><font style="vertical-align: inherit;">Isso √© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">necess√°rio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pois permite resolver v√°rios problemas de uma s√≥ vez:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se o contratado n√£o tiver consumidores poderosos, todo o dispositivo (a pr√≥pria placa e, digamos, alguns metros de fita conectados √† placa) poder√° ser alimentado por PoE. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ n√£o ter√° colis√µes de tr√°fego. </font><font style="vertical-align: inherit;">Voc√™ n√£o ter√° solicita√ß√µes repetidas sistematicamente, o que significa que voc√™ tem dez vezes menos chances de desligar uma rede, perder uma resposta ou qualquer outra coisa. </font><font style="vertical-align: inherit;">Todo o controle pode ser feito </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">completamente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ass√≠ncrono - era necess√°rio algo do executor - eles enviavam uma solicita√ß√£o - foi conclu√≠da. </font><font style="vertical-align: inherit;">Tudo, repita a solicita√ß√£o n√£o √© mais necess√°ria.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ ter√° acesso a informa√ß√µes sobre o artista em geral. </font><font style="vertical-align: inherit;">Sensores? </font><font style="vertical-align: inherit;">Sim, at√© uma d√∫zia, n√≥s conectamos o registrador multiplexador / turno e vemos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cada um</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , em qu√™ e quanto. </font><font style="vertical-align: inherit;">O motor? </font><font style="vertical-align: inherit;">Voc√™ n√£o pode apenas ativ√°-lo, mas tamb√©m garantir que ele realmente esteja ligado com um sensor de corrente.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo t√≠pico de "como n√£o fazer" - fazemos uma imita√ß√£o de chama no oitavo mega, barato, elementar - o que h√° para oferecer? </font><font style="vertical-align: inherit;">random () e somente. </font><font style="vertical-align: inherit;">N√£o importa como. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Garanto-lhe, pensando de tal maneira, que voc√™ se encontrar√° exatamente na mesma situa√ß√£o. </font><font style="vertical-align: inherit;">Ent√£o voc√™ precisa mudar a cor da chama, depois apagar / iluminar suavemente, depois a linha com buzinas, e n√£o h√° fios de controle, a partir da palavra. </font><font style="vertical-align: inherit;">E voc√™ n√£o desligar√° o r√°dio porque o SPI est√° ocupado. </font><font style="vertical-align: inherit;">Ou algo mais. </font><font style="vertical-align: inherit;">E o que voc√™ quiser - t√£o legal, mas </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√™</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† </font><b><font style="vertical-align: inherit;">luz</font></b><font style="vertical-align: inherit;"> uma decis√£o.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, o mais importante √© fornecer acesso direto dos artistas ao computador e vice-versa. Talvez atrav√©s do Modbus. Talvez DMX. Mas quanto mais pr√≥xima a interface, menos hemorr√≥idas estar√£o no futuro. O mais nativo √© o TCP / IP. Eu aconselho voc√™ a n√£o abusar do ESP8266, mesmo que voc√™ realmente queira. H√° uma oportunidade de colocar um cabo - use um cabo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, de volta √†s regras. Trabalhamos atrav√©s dos sensores de e para, para que o estado atual seja avaliado rapidamente, para que tudo funcione de forma clara e inequ√≠voca. Se o sensor for discreto (zero ou um), o n√≠vel no meio n√£o dever√° aparecer nele. Soldamos as tor√ß√µes ou n√£o, distribuindo tudo em escudos / placas. N√£o economizamos em fios. N√£o confundimos polaridade. Temos certeza: se voc√™ esquecer algo, ligue-o incorretamente, apenas um tolo pode quebr√°-lo - sim, isso mesmo, esse tolo pode ser encontrado. Ligue, esque√ßa, quebre. Portanto, prote√ß√£o, prote√ß√£o e at√© toneladas de prote√ß√£o.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesmo a si mesmo deve ser considerado um tolo. Eu costumava me sentir confort√°vel com o conector ISP do arduino habitual, mas um dia chegou o dia em que a porta MOSI / D12 morreu no meu programador. O programador, √© claro, eu tenho um diferente, mas o conector √© diferente - linha √∫nica. E tem sete fios, n√£o seis. Primeiro, mais, depois vazio, depois menos e todo o resto. Afirmar o contr√°rio era geralmente imposs√≠vel. Voc√™ diz - e onde est√£o os resistores de 100 a 300 ohms para cada um desses fios? E funcionaria com o padr√£o, e de cabe√ßa para baixo nada queimaria. √â isso mesmo, e agora eu tamb√©m tenho resistores. Mas eu nunca vou fazer um conector sim√©trico.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outro ponto s√£o os sensores atuais. Eles s√£o baratos, √© um poderoso resistor de baixa resist√™ncia, um resistor de corte e metade de um LM393. Mas ser√° visto que a porta j√° abriu, mas o motor que a puxa ainda est√° ligado e seus enrolamentos n√£o gostam. Eu recomendo coloc√°-los em tudo o que pode ser ligado remotamente. N√£o √© necess√°rio para LEDs / fita, mas se houver realmente muitos LEDs, √© desej√°vel. Um monte de fita carrega a fonte de energia e os motores. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ n√£o precisar criar um cron√¥metro adicional a partir do watchdog, n√≥s o usamos para a finalidade a que se destina. Para que qualquer dispositivo pendente ap√≥s um per√≠odo m√°ximo de 4 segundos n√£o esteja mais danificado. By the way, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nada</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , absolutamente </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nenhuma</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as informa√ß√µes que determinam o modo de opera√ß√£o da busca (inacessibilidade de portas abertas, travas fechadas / abertas, etc., imunidade de sensores) </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o devem ser</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> armazenadas na RAM. Devemos proceder da suposi√ß√£o de que absolutamente tudo pode travar, a qualquer momento. Isso n√£o deve distorcer / violar a l√≥gica das tarefas e decis√µes, atribuir responsabilidade pelo estado do sistema √© poss√≠vel apenas em um dispositivo - o computador do operador, para que ele sempre tenha uma imagem completa do estado diante de seus olhos. </font></font><br><br> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ estiver</font></font></u> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> construindo uma </font><u><font style="vertical-align: inherit;">pistola autopropulsada, esta √© a principal coisa:</font></u><font style="vertical-align: inherit;"> cada caixa deve ter um capacitor de cer√¢mica de 0,1 ŒºF. Cada registro de turno, cada comparador. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no microcontrolador. Al√©m disso, esse capacitor, mais um eletr√≥lito uF, de modo que 100 deve ser soldado a nRF24L01 +, ESP8266, ENC28J60. Diretamente nos pinos da placa ou nos fios nas imedia√ß√µes da placa. A terra na √°rea livre do tabuleiro n√£o √© sup√©rflua. O toner √© barato, mas √© mais r√°pido. Al√©m disso, hipoteticamente, algo protege no quadro. Quartzo √© necess√°rio em qualquer lugar. Sem quartzo, voc√™ pode fazer o arduino no atmega8, desde que n√£o conte intervalos com mais precis√£o do que centenas de microssegundos. Atmega8 √© mais barato que Attiny85 / 2313. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ optar entre as baterias LiIon e NiMH, √© mais f√°cil carregar l√≠tio: as placas no TP4056 podem ser tomadas e revestidas, como costumava dizer Banana, mas ainda n√£o existem controladores especiais para o n√≠quel.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se houver artistas no sistema que n√£o suportam a ativa√ß√£o a longo prazo (travas, solen√≥ides, aquecedores, possivelmente alguns motores potentes, motores com tra√ß√£o final que podem acidentalmente quebrar / quebrar alguma coisa), eles devem ser protegidos adicionalmente contra a troca a longo prazo. Por exemplo, se voc√™ ativar o atuador da trava do carro por um longo tempo, o enrolamento do motor gerar√° calor, o motor aquecer√° e derreter√° a caixa de velocidades, pois √© pl√°stica. Todos sabemos que basta um segundo para ele abrir / fechar. Acabamos de fazer um segundo modelador de pulso, tudo o que precisamos √© 555 e um monte de cintas. Ou uma corrente RC com um gatilho CMOS. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O carregador √©, como regra geral, mau. Escreva atrav√©s do ISP ou, pelo menos, altere o padr√£o para optiboot.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Arduino √© subitamente capaz de ser um dispositivo MIDI. </font><font style="vertical-align: inherit;">Se voc√™ precisar de som em um computador, seria melhor que ele apare√ßa em um player ou instrumento VST, e n√£o em um navegador sob Javascript. </font><font style="vertical-align: inherit;">Isso ocorre se o som local n√£o for poss√≠vel / n√£o for confort√°vel. </font><font style="vertical-align: inherit;">VST arados e anfitri√µes agora para o inferno, incluindo livre.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aspecto psicol√≥gico </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os contratantes mais inteligentes do mundo s√£o prostitutas. Voc√™ pode e deve dar um exemplo deles: eles dizem clara e claramente ao cliente o que ele pode fazer e o que evitar√° de qualquer forma. Meu erro n√£o foi participar do projeto em uma posi√ß√£o espec√≠fica, mas em v√°rias - isso levou a responsabilidades desnecess√°rias e um gasto de tempo abaixo do ideal. Por exemplo, duas semanas foram dedicadas a uma coisa, que em ess√™ncia era apenas um bot√£o / interruptor / par de contatos. Embora voc√™ possa simplesmente abrir a boca e dizer: "Como desejar, fa√ßa, preciso que um fio seja conectado ao outro quando exposto a essa coisa". E sou respons√°vel pelo programa e por qual desses fios ser√° aterrado e qual entrada digital.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quatro semanas foram dedicadas √†s configura√ß√µes na cor do brilho da fita e, em seguida, o resultado est√° longe de ser o ideal. E isso √© imposs√≠vel de controlar. Voc√™ pode simplesmente fazer um r√°dio / fio e enviar a cor completamente para o computador, bem, ou pelo menos alguns fatores. Ou brutalmente, para fornecer uma √°rea na EEPROM, que pode ser controlada por um desvio externo com uma tela 1602 e um bot√£o, porque n√£o seria dif√≠cil torn√°-lo perdido. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tr√™s semanas eles pegaram um batente na mec√¢nica das portas, embora tenha sido a minha franja que estalou, alguns rolos se separaram deles. Bem, √©, nada de especial. Chamamos essa reivindica√ß√£o de lamenta√ß√£o comum.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E te te e te pe. </font><font style="vertical-align: inherit;">Essas pessoas tentaram mover uma carga de 100 libras com um motor de 40 watts. </font><font style="vertical-align: inherit;">Quarenta watts, Carl. </font><font style="vertical-align: inherit;">Essas pessoas me perguntaram sistematicamente por que n√£o fazer isso, absolutamente n√£o se aprofundando nas sutilezas dessa op√ß√£o. </font><font style="vertical-align: inherit;">Sim, algumas de suas decis√µes foram sensatas. </font><font style="vertical-align: inherit;">Mas alguns me fizeram ferozmente queimar e me perguntar - por que latir depois que um cachorro foi comprado? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em geral, nesse aspecto, apenas dois princ√≠pios podem ser distinguidos:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conhe√ßa sua insist√™ncia e insista nisso. </font><font style="vertical-align: inherit;">Voc√™ acha que o ar pode ser bombeado por um compressor? </font><font style="vertical-align: inherit;">N√£o suba com a bomba do seu aqu√°rio.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rotule as regras. </font><font style="vertical-align: inherit;">S√≥ com um el√°stico, apenas em uma pose cl√°ssica, voc√™ sabe, espero. </font><font style="vertical-align: inherit;">Desculpe pela vulgaridade, mas n√£o h√° outras met√°foras para entender.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acho que forneci informa√ß√µes suficientes. </font><font style="vertical-align: inherit;">Pense, lembre-se, compartilhe experi√™ncia. </font><font style="vertical-align: inherit;">A minha n√£o foi a melhor, mas √© valiosa, e o resto ser√° mais f√°cil, mais experi√™ncia passamos nos coment√°rios. </font><font style="vertical-align: inherit;">Ent√£o v√° em frente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FYI: o artigo √© desprovido de ilustra√ß√µes, porque n√£o vejo o objetivo de desenhar dois conectores ISP, um √© padr√£o, o outro √© meu e a assinatura correta / incorreta. </font><font style="vertical-align: inherit;">Todas as solu√ß√µes descritas acima s√£o facilmente do Google, no entanto, se necess√°rio, escreva nos coment√°rios. </font><font style="vertical-align: inherit;">As op√ß√µes de edi√ß√£o est√£o dispon√≠veis e todas as ilustra√ß√µes de interesse podem ser adicionadas.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt406235/">https://habr.com/ru/post/pt406235/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt406225/index.html">Usamos o programa Androzic - mapas GPS offline ainda s√£o relevantes</a></li>
<li><a href="../pt406227/index.html">Novos trajes espaciais para novos navios</a></li>
<li><a href="../pt406229/index.html">Claude Shannon, tubar√£o de Las Vegas</a></li>
<li><a href="../pt406231/index.html">Personalidade e som: Akio Morita - a hist√≥ria do sakezukuri heredit√°rio, o caminho do criador da SONY</a></li>
<li><a href="../pt406233/index.html">Procrastina√ß√£o do ponto de vista de um programador em um site remoto</a></li>
<li><a href="../pt406237/index.html">NASA prop√µe livrar o mundo da amea√ßa do supervulc√£o de Yellowstone por US $ 3 bilh√µes</a></li>
<li><a href="../pt406239/index.html">Nanotubos de carbono tran√ßados fornecem at√© 250 watts por quilograma</a></li>
<li><a href="../pt406241/index.html">Pr√≥ximo truque de Andrew Eun: Treine um milh√£o de especialistas em IA</a></li>
<li><a href="../pt406243/index.html">BBC Micro: bit - um microcomputador de aprendizado infantil: recursos de E / S</a></li>
<li><a href="../pt406245/index.html">Vers√£o offline do playphrase.me</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>