<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóíÔ∏è üñêüèª üëäüèª Cascade √©l√©gante de RiME dans le moteur de jeu: faites un jet d'eau ü¶Ö üíô üìπ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il s'agit de la deuxi√®me (et derni√®re) partie du guide des cascades Unity ou UE4 apr√®s avoir √©t√© inspir√© par le jeu RiME. Le premier a compris les out...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cascade √©l√©gante de RiME dans le moteur de jeu: faites un jet d'eau</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pixonic/blog/442074/"> Il s'agit de la deuxi√®me (et derni√®re) partie du guide des cascades Unity ou UE4 apr√®s avoir √©t√© inspir√© par le jeu RiME.  Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premier a</a> compris les outils, choisi l'environnement de d√©veloppement et cr√©√© un shader pour les cercles d'eau.  Pourquoi as-tu commenc√© avec √ßa?  Tout est simple: la plupart des m√©thodes qui sont maintenant n√©cessaires lors de la cr√©ation d'une cascade y sont utilis√©es.  Mais il y a quelques indices.  Nous ne tirerons pas - passons sous le chat. <br><br><img src="https://habrastorage.org/webt/qr/mn/w2/qrmnw2qdz0twpkledjq7krzgvpe.gif"><br><a name="habracut"></a><br>  Commen√ßons par l'√©vidence - prenez le Panner r√©gulier et le maillage.  Vous pourriez √™tre surpris: pourquoi y a-t-il autant de polygones?  Comme √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Simon Falls</a> , j'utilise le d√©placement des sommets pour d√©caler les sommets du mod√®le en 3D √† travers le shader.  Et pour le rendre beau, nous avons besoin de hauts suppl√©mentaires.  Pour l'optimisation, vous pouvez cr√©er des maillages LOD (Level Of Detail) avec moins de polygones, et forcer Unity √† passer √† des mod√®les de r√©solution inf√©rieure. <br><br><img src="https://habrastorage.org/webt/yw/pz/cf/ywpzcfxo4ezux9s55szmqtmk3my.jpeg"><br><br>  La couture UV est situ√©e √† l'arri√®re.  M√™me si la cascade n'a pas de coutures de texture visibles, il est toujours pr√©f√©rable de la jouer en toute s√©curit√© et de placer les coutures UV dans les endroits les moins visibles pour le joueur. <br><br>  Comme avec le maillage du cercle d'eau, le scan UV doit avoir le plus petit nombre de coutures sur le mod√®le lors de l'utilisation de textures de carrelage.  Un c√¥t√© de la coque UV est li√© √† 0 dans la direction de U, et l'autre √† 1. N'oubliez pas que la largeur de la coque UV doit tenir dans une valeur enti√®re de l'espace U (par exemple, mosa√Øque 1, 2 ou 3).  Si nous carrelons 1,2 fois dans la direction U, une couture appara√Ætra √† la jonction.  Et nous avons besoin d'une texture de carrelage transparente. <br><br><img src="https://habrastorage.org/webt/fe/gf/wi/fegfwibej9wk6dhs734bvctsa3a.jpeg"><br><br>  Voici √† quoi ressemble la carte normale en mosa√Øque 3 fois dans la direction U.  Remarquez comment le c√¥t√© droit de l'image 3D s'int√®gre parfaitement dans 1 dans la direction U.  R√©gler la mosa√Øque sur 3 dans la direction U signifie que la texture se r√©p√®te 3 fois entre 0 et 1 dans la direction U (l'image ci-dessous montre l'espace UV de 0 √† 1). <br><br><img src="https://habrastorage.org/webt/2x/z2/s5/2xz2s5csjdsxlfsay62vvrmggnq.png"><br><br>  Par exemple, voici la m√™me texture carrel√©e 2,2 fois - une couture est apparue imm√©diatement.  Pour beaucoup, cela est √©vident, mais il est important de comprendre pourquoi et comment placer vos analyses UV dans certains sc√©narios.  Nous travaillons avec le panoramique des textures de carrelage, et en plus, nous n'avons pas besoin de coutures, nous devons donc adapter le scan UV. <br><br><img src="https://habrastorage.org/webt/bd/kk/md/bdkkmd5spr83l7ux538khbbrmhe.jpeg"><br><br>  Pour une image plus compl√®te, regardez le gif o√π je d√©place la carte UV.  Pour l'un, la largeur de la coque UV est exactement de 1 (parfaitement carrel√©e), l'autre est rogn√©e pour que la couture soit visible.  Comme nous n'utilisons que des textures de mosa√Øque, la carte UV n'a pas besoin d'√™tre comprise entre 0 et 1. <br><br><img src="https://habrastorage.org/webt/36/ig/0t/36ig0twz0bd8ln0c5b-suk7ud7g.gif"><br><br>  √Ä la cascade (comme avec les cercles sur l'eau), j'ai √©galement d√©form√© la carte UV.  Par cons√©quent, lorsque vous utilisez Panner, la texture se d√©place plus ou moins rapidement √† certains points du maillage.  Des polygones suppl√©mentaires dans ce cas rendent la transition entre les zones d√©form√©es moins perceptible.  Essayez d'activer la s√©lection douce pour d√©former les UV pour des transitions plus fluides. <br><br><img src="https://habrastorage.org/webt/nb/u_/6r/nbu_6ry4rio5yhgndqrhelxif6a.gif"><br><br>  Faites attention √† la fa√ßon dont la texture s'√©tire plus fortement sur le coude de la cascade - cet effet peut √™tre r√©gl√© de diff√©rentes mani√®res.  Imaginez toujours la transition des UV aux 3D.  Plus les sommets des UV sont proches les uns des autres, plus la texture se d√©place rapidement le long de ces UV dans l'espace 3D lors de l'utilisation de Panner.  Si vous √©loignez les sommets UV, la texture appara√Ætra plus souvent dans cette zone du maillage et se d√©placera plus lentement dans l'espace 3D lors de l'utilisation de Panner.  Exp√©rimentez jusqu'√† obtenir l'effet souhait√©. <br><br><img src="https://habrastorage.org/webt/gz/-w/mz/gz-wmzgewq48wkyvg7djsce4mti.gif"><br>  <i>Remarque: il s'agit d'un nouveau mat√©riau.</i>  <i>Cr√©ez un nouveau mat√©riau et appliquez un nouveau shader dessus (voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> ).</i> <br><br>  Nous utilisons √† nouveau la m√™me texture avec plusieurs options de vitesse / direction Panner, ainsi que le carrelage UV (nous inversons l'une d'entre elles, donnant une valeur n√©gative de U).  Ajoutez-les les uns aux autres pour obtenir la sensation d'un effet plus al√©atoire.  Et nous utilisons leur sortie pour ajouter de nombreux autres param√®tres: opacit√©, variation de couleur et d√©placement du sommet. <br><br><img src="https://habrastorage.org/webt/qc/ks/dy/qcksdynqdbihlyfhrx0pqbw6ihq.gif"><br><br>  J'ai √©galement utilis√© le d√©filement normal de la carte.  Un seul, car il se d√©place si vite avec deux Panner pour la variation, que dans ce cas il n'y aura pas de diff√©rence.  Multipliez-le par la valeur de bleu √©gale √† 1 (255 est indiqu√© sur le gif - c'est lorsque chaque canal a 256 √©tapes, de 0 √† 255), ainsi que par les valeurs de rouge et vert √©gal √† 60 (ou la valeur 0,23 si vous utilisez l'√©chelle de 0 √† 1).  En cons√©quence, une carte normale trop satur√©e est devenue plus uniforme et plus calme.  Pour retourner des normales plus intenses, gardez les valeurs de R et G les m√™mes et augmentez-les.  Ainsi, vous obtenez un peu plus de personnalisation √† l'int√©rieur du shader lui-m√™me. <br><br><img src="https://habrastorage.org/webt/lx/i7/ch/lxi7chekbzb8xyvxpdqkmgmucaa.gif"><br><br>  Nous avons mis en place le maillage, les UV et d'autres composants qui seront n√©cessaires au fonctionnement de la cascade.  Analysons quelques √©l√©ments sur ce GIF: <br><br><img src="https://habrastorage.org/webt/qa/pz/zf/qapzzf8nruvfjb_pe9nzaoknb6s.gif"><br><br>  Sur celui-ci, un jet d'eau d√©file √† travers un maillage 3D et se brise en dessous.  On peut voir que le type de rendu de d√©coupe transparent est utilis√© ici - la cascade est compl√®tement opaque ou compl√®tement transparente.  L'eau change de couleur lorsqu'elle approche du sol et semble moins lisse dans les zones blanches.  Le d√©placement du sommet, dont nous avons parl√© plus t√¥t, est imm√©diatement perceptible.  Tous ces facteurs donnent √† la cascade un aspect plus vivant et naturel.  Maintenant, plus en d√©tail - commen√ßons par la couleur. <br><br>  J'utilise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lerp</a> (interpolation lin√©aire) avec deux couleurs et une texture de d√©filement noir et blanc que j'ai faite au d√©but comme alpha (signal d'entr√©e).  Cette texture sert essentiellement de masque pour choisir d'afficher le bleu ou le blanc.  Et Add est connect√© au n≈ìud de couleur de sommet (n≈ìud avec des couleurs de sommet). <br><br><img src="https://habrastorage.org/webt/bk/zj/mi/bkzjmiql_sfs8k92wnkp9c_lc2a.gif"><br><br>  Les couleurs de sommet utilis√©es sont indiqu√©es ci-dessous.  Ils fonctionnent comme les couleurs des sommets de la premi√®re partie, c'est-√†-dire comme un d√©grad√©.  Des couleurs sont n√©cessaires pour s'assurer que l'eau devient plus blanche vers le bas de la cascade.  Puisque nous ajoutons des couleurs de sommet sur la couleur existante (la couleur de sommet la plus blanche = 1), vous pouvez facilement d√©passer la valeur 1. Si cela se produit, nous obtiendrons des r√©sultats trop lumineux et sursatur√©s.  Par cons√©quent, Clamp est √† la fin, de sorte que les valeurs maximales ne d√©passent pas 1 (pour Clamp, minimum = 0 et maximum = 1).  L'utilisation de couleurs blanches et bleues garantit que lorsque l'eau ¬´se brise¬ª, elle se trouvera dans la zone blanche (mouss√©e) du maillage et obtiendra une bordure blanche autour des zones transparentes.  Plus la couleur des sommets est claire, plus les sommets d√©passent vers l'ext√©rieur.  Ainsi, la fin de la cascade, qui est plus claire en couleur de sommet, se d√©place de mani√®re plus al√©atoire.  Le virage de la cascade est √©galement un peu plus l√©ger - d'o√π sa vitesse. <br><br><img src="https://habrastorage.org/webt/bf/r1/id/bfr1id-0wluszfm7d50vil-4ste.jpeg"><br><br>  Ensuite, j'ai fait deux mailles suppl√©mentaires √† l'int√©rieur de la cascade principale - de sorte qu'une sensation de volume est apparue.  Les deux autres mailles sont des versions modifi√©es du maillage principal, avec les m√™mes UV.  Ils sont l√©g√®rement d√©cal√©s et modifi√©s pour que le mat√©riau soit diff√©rent sur les trois mailles.  Cette m√©thode ne prend pas la performance, mais elle aide beaucoup. <br><br><img src="https://habrastorage.org/webt/qr/mn/w2/qrmnw2qdz0twpkledjq7krzgvpe.gif"><br><br>  De plus, connectez le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fresnel</a> dans le canal d'√©mission pour cr√©er une fausse lumi√®re qui traverse l'eau.  Fresnel rend le pixel plus l√©ger que le vecteur normal sur la surface de l'objet 3D est d√©vi√© de la cam√©ra et aussi sombre que le vecteur normal est dirig√© vers la cam√©ra (perpendiculaire √† la cam√©ra). <br><br>  Si vous regardez un angle, la cascade devient "plus mince" - fresnel est utile ici pour montrer plus de lumi√®re fausse dans ces zones.  Dans le m√™me temps, il est impossible que la cascade brille - pour r√©duire l'effet, j'ai utilis√© le n≈ìud min.  Fresnel est souvent utilis√© avec des shaders d'eau pour changer de couleur en fonction de l'angle de vue.  La connexion de 0 (noir) √† l'√©mission ne fera rien, et la connexion de 1 (blanc) en fera un shader non √©clair√© qui semblera compl√®tement √©clair√© de tous les c√¥t√©s (m√™me s'il est √† l'ombre). <br><br><img src="https://habrastorage.org/webt/jj/jj/bh/jjjjbh3vc-8g3wycbgbvuwvcogg.gif"><br><br>  Pour plus de fluidit√©, j'ai invers√© la couleur du sommet en utilisant un n≈ìud n√©gatif.  Si vous faites d√©filer un peu plus haut, vous verrez que la couleur du sommet est claire en dessous et sombre au-dessus.  En les retournant (pour la rendre claire au-dessus et sombre en dessous), vous pouvez rendre la partie inf√©rieure de la cascade moins lisse par rapport √† la partie sup√©rieure.  Des valeurs plus sombres sont √©gales √† une surface moins lisse, et des valeurs plus claires sont plus lisses. <br><br><img src="https://habrastorage.org/webt/1_/ac/bb/1_acbbb2nxklhzl-xtbnhkrz55c.jpeg"><br><br>  Le d√©placement de sommet ou le d√©calage de sommet est une chose importante n√©cessaire pour r√©aliser cet effet.  En d√©pla√ßant les pics, la cascade semble moins statique et donc plus vivante. <br><br>  Il s'agit d'une cascade sans d√©placement de sommet: <br><br><img src="https://habrastorage.org/webt/mz/7p/ki/mz7pkiho3saqawgcua8jrzmiq8e.gif"><br><br>  Et ici avec d√©placement du sommet: <br><br><img src="https://habrastorage.org/webt/8d/ln/of/8dlnofaiqpdtrw3gk8gxbjvp4he.gif"><br><br>  En d√©pla√ßant les pics sur la base de notre texture noir et blanc d√©filante, la cascade devient plus lisse.  Si vous dirigez la valeur 0,5 vers la sortie de d√©calage de sommet du n≈ìud principal, rien ne se passera.  Essayez de garder le gris avec une valeur de 0,5 comme valeur de sommet standard.  Tout ce qui est inf√©rieur √† 0,5 se d√©placera dans le sens n√©gatif et tout ce qui est sup√©rieur √† 0,5 dans le sens positif. <br><br>  Alors, comment savons-nous dans quelle direction les pics se d√©placeront?  Qu'est-ce qui monte et descend? <br><br>  Dans notre cas, nous voulons √©loigner les sommets de la surface du maillage.  Une direction n√©gative signifie que le sommet se d√©place "vers l'int√©rieur" par rapport √† la direction du sommet normale √† la surface, et une direction positive se d√©place "vers l'ext√©rieur".  Pour un tel mouvement de sommet, nous pouvons utiliser des normales de sommet.  Chaque sommet, m√™me s'il ne s'agit que d'un ¬´point¬ª dans l'espace 3D, a une direction qui lui est attribu√©e - sommet normal.  Il est utilis√© pour calculer comment la surface du maillage doit √™tre ombr√©e.  Dans cet exemple, j'ai cr√©√© une boule et d√©fini Maya pour afficher les normales de sommet (affichage&gt; polygones&gt; normales de sommet).  Chaque sommet a une direction qui, par d√©faut, indique la distance de la surface.  Vous pouvez √©galement modifier n'importe quel sommet normal et changer sa direction, mais maintenant le sommet actuel nous convient.  Vous pouvez maintenant l'utiliser dans le shader et sp√©cifier dans quelle direction d√©placer les sommets. <br><br><img src="https://habrastorage.org/webt/0m/ul/hb/0mulhbplxjfi_s6p0ndvgfn8f1a.jpeg"><br><br>  Le n≈ìud normal de sommet produit des valeurs RVB bas√©es sur la direction normale des sommets du maillage.  Dans les shaders et avec les normales en g√©n√©ral, les valeurs RVB sont utilis√©es pour exprimer un objet de coordonn√©es XYZ 3D dans un espace 2D.  Pour que notre Panner noir et blanc dans le shader puisse se d√©placer le long de la surface d'un objet 3D, nous pouvons utiliser des valeurs normales de sommet RVB.  J'ai ajout√© une couleur de sommet aux sommets pour rendre le bas du maillage plus convexe.  Et aussi quelques n≈ìuds pour contr√¥ler la valeur de d√©calage (c'est normal si vos valeurs sont inf√©rieures √† 0 ou sup√©rieures √† 1). <br><br><img src="https://habrastorage.org/webt/ut/lo/9i/utlo9ijazwjcvglbpmv4_r6j3-s.gif"><br><br>  Pour d√©montrer, je donnerai une sph√®re avec un n≈ìud normal de sommet appliqu√© directement √† la sortie d'alb√©do (couleur) du n≈ìud principal. <br><br><img src="https://habrastorage.org/webt/cf/br/yj/cfbryjdr3a3aynhjsz9qnpr4zoy.jpeg"><br><br>  La sortie RVB (XYZ) du n≈ìud normal de sommet est bas√©e sur les normales de sommet du maillage, ce qui nous donne ce r√©sultat. <br><br>  Voici la structure compl√®te des n≈ìuds.  Il montre o√π et comment tout se connecte. <br><br><img src="https://habrastorage.org/webt/w1/ss/ur/w1ssurjvayfyef_kfho-x_whtk8.jpeg"><br><br>  J'esp√®re que vous avez appris quelque chose de nouveau par vous-m√™me.  Mon objectif √©tait de fournir suffisamment de connaissances et de points de d√©part pour la cr√©ation ind√©pendante d'une telle cascade.  Pour faire de telles choses, il n'est pas n√©cessaire de tout savoir - assez de choses de base.  Bien s√ªr, j'ai non seulement ouvert Amplify et cr√©√© cet effet d'un seul coup - il y a eu d'autres tentatives qui n'ont pas fonctionn√©. <br><br>  Quelques liens plus utiles sur le sujet: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Reportage de Julian Love</a> , qui a travaill√© sur Diablo en tant qu'artiste VFX.  Les performances concernent principalement les comp√©tences d'effets, mais la plupart des √©l√©ments pr√©sent√©s s'appliquent √©galement √† d'autres types d'effets visuels en temps r√©el. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Blog de la soci√©t√© Little Chicken Game</a> .  Il est d√©di√© √† la cr√©ation d'art de jeu sans textures et techniques int√©ressantes pour cr√©er un bel environnement. </li><li>  Mon cerveau Simon Trumpler a beaucoup d'autres choses int√©ressantes sur le site.  Un de mes favoris est la page avec les soi-disant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Game Art Tricks</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cha√Æne YouTube avec des vid√©os shader</a> .  Mes favoris sont ceux qui recr√©ent des effets sp√©cifiques √† partir de jeux (dans Unity). </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442074/">https://habr.com/ru/post/fr442074/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442062/index.html">Num√©risation de la communication: pourquoi avons-nous besoin d'emoji</a></li>
<li><a href="../fr442064/index.html">D√©gradation logicielle</a></li>
<li><a href="../fr442066/index.html">Plusieurs fa√ßons de simuler un PDF avec une signature num√©rique</a></li>
<li><a href="../fr442070/index.html">Les entreprises s'inqui√®tent enfin du d√©veloppement des appareils IoT et de leur s√©curit√©</a></li>
<li><a href="../fr442072/index.html">RxJava2 + Retrofit 2. Nous modifions l'adaptateur pour g√©rer le manque de statut Internet sur Android</a></li>
<li><a href="../fr442078/index.html">Travailler avec l'API Jira avec Python</a></li>
<li><a href="../fr442080/index.html">Connexion au microm√®tre pour l'application Web Java</a></li>
<li><a href="../fr442082/index.html">Comment simplifier la recherche dans les bases de donn√©es Oracle: un ¬´jeu de gentleman¬ª de scripts</a></li>
<li><a href="../fr442084/index.html">Antiquit√©s: appareil photo √† disquette de vingt ans</a></li>
<li><a href="../fr442086/index.html">Comment Love Kubernetes est-il all√© au groupe Mail.ru le 14 f√©vrier</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>