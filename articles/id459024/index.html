<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¥ ğŸ‘ ğŸ‘©ğŸ½â€âš•ï¸ Bagaimana kami menembus Great Chinese Firewall (bagian 3) ğŸ¶ ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ âœŒï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai 
 Setiap cerita bagus berakhir. Dan kisah kami tentang bagaimana kami menemukan solusi untuk peralihan yang cepat dari Firewall Cina tidak terkecu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana kami menembus Great Chinese Firewall (bagian 3)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/semrush/blog/459024/"><p>  Hai <br>  Setiap cerita bagus berakhir.  Dan kisah kami tentang bagaimana kami menemukan solusi untuk peralihan yang cepat dari Firewall Cina tidak terkecuali.  Karena itu, saya cepat-cepat membagikan kepada Anda bagian terakhir dan <strong>terakhir</strong> tentang topik ini. </p><br><p>  Pada bagian sebelumnya, kami berbicara tentang banyak bangku tes yang diciptakan oleh kami, dan hasil apa yang mereka berikan.  Dan kami sepakat pada kenyataan bahwa akan menyenangkan untuk menambahkan <strong>CDN!</strong>  <s>untuk viskositas</s> ke sirkuit kami. </p><br><p>  Saya akan memberi tahu Anda bagaimana kami menguji Alibaba Cloud CDN, Tencent Cloud CDN dan Akamai, dan apa yang akhirnya saya lakukan.  Dan tentu saja, untuk meringkas. </p><br><img src="https://habrastorage.org/webt/8n/xq/ur/8nxqurgug_z7ij3eqorfl5hdm0y.png"><a name="habracut"></a><br><h2 id="alibaba-cloud-cdn">  Alibaba Cloud CDN </h2><br><p>  Kami di-host di Alibaba Cloud, kami menggunakan IPSEC dan CEN dari mereka.  Adalah logis untuk mencoba solusi mereka terlebih dahulu. </p><br><p>  Alibaba Cloud memiliki dua jenis produk yang sesuai dengan kami: <strong>CDN</strong> dan <strong>DCDN</strong> .  Opsi pertama adalah CDN klasik untuk domain (subdomain) tertentu.  Pilihan kedua adalah <em>Dynamic Route untuk CDN</em> (saya menyebutnya Dynamic CDN), dapat dinyalakan dalam mode Full-site (untuk wildcard domains), itu juga menyimpan statika dan mempercepat konten dinamis pada dirinya sendiri, yaitu dinamika halaman juga akan memuat dengan cepat penyedia jaringan.  Ini penting bagi kami, karena pada dasarnya situs kami dinamis, ia menggunakan banyak subdomain, dan lebih mudah untuk mengkonfigurasi CDN satu kali untuk "bintang" - * .semrushchina.cn. </p><br><p>  Kami sudah melihat produk ini pada tahap awal proyek China kami, tetapi kemudian tidak berhasil, dan pengembang berjanji bahwa produk tersebut akan tersedia untuk semua pelanggan segera.  Dan dia menjadi. </p><br><p>  Di DCDN, Anda dapat: </p><br><ul><li>  konfigurasikan terminasi SSL dengan sertifikat Anda, </li><li>  aktifkan akselerasi konten dinamis, </li><li>  fleksibel mengkonfigurasi cache file statis, </li><li>  melakukan pembersihan cache, </li><li>  membuang soket web, </li><li>  aktifkan kompresi dan bahkan HTML Beautifier. </li></ul><br><p>  Secara umum, semuanya seperti orang dewasa dan penyedia CDN besar. </p><br><p>  Setelah Asal (tempat di mana server tepi CDN akan pergi) diindikasikan, maka ia tetap membuat CNAME untuk tanda bintang, <em>menautkan</em> ke <em>all.semrushchina.cn.w.kunluncan.com</em> (CNAME ini diperoleh di konsol Cloud Alibaba), dan CDN akan bekerja. </p><br><p>  Menurut hasil tes, CDN ini banyak membantu kami.  Statistik diberikan di bawah ini. </p><br><div class="scrollable-table"><table><thead><tr><th>  Solusi </th><th>  Upime </th><th>  Median </th><th>  75 Persentil </th><th>  95 Persentil </th></tr></thead><tbody><tr><td>  Cloudflare </td><td>  86.6 </td><td>  18-an </td><td>  30-an </td><td>  60-an </td></tr><tr><td>  IPsec </td><td>  99,79 </td><td>  18-an </td><td>  21-an </td><td>  30-an </td></tr><tr><td>  Cen </td><td>  99.75 </td><td>  16-an </td><td>  21-an </td><td>  27-an </td></tr><tr><td>  CEN / IPsec + GLB </td><td>  99,79 </td><td>  13-an </td><td>  16-an </td><td>  25-an </td></tr><tr><td>  <strong>Ali CDN + CEN / IPsec + GLB</strong> </td><td>  <strong>99.75</strong> </td><td>  <strong>10-an</strong> </td><td>  <strong>12.8s</strong> </td><td>  <strong>17.3s</strong> </td></tr></tbody></table></div><br><p>  Ini adalah hasil yang sangat baik, terutama jika kita membandingkannya dengan angka apa yang ada di awal.  Tetapi kami tahu bahwa uji peramban versi Amerika untuk situs kami www.semrush.com bekerja dari Amerika Serikat rata-rata sebesar 8,3 (nilai yang sangat perkiraan).  Ada banyak hal yang harus diperjuangkan.  Selain itu, ada penyedia CDN yang tertarik dalam pengujian. </p><br><p>  Jadi kami lancar pindah ke raksasa lain di pasar Cina - <strong>Tencent</strong> . </p><br><h2 id="tencent-cloud">  Tencent cloud </h2><br><p> Tencent hanya mengembangkan cloud-nya - ini terbukti dalam sejumlah kecil produk.  Dalam perjalanan penggunaannya, kami ingin menguji tidak hanya CDN mereka, tetapi juga infrastruktur jaringan secara keseluruhan: </p><br><ul><li>  Apakah mereka memiliki sesuatu yang mirip dengan CEN? </li><li>  Bagaimana cara kerja IPSEC untuk mereka?  Apakah cepat, apa itu waktu aktif? </li><li>  Apakah mereka punya siaran? </li></ul><br><img src="https://habrastorage.org/webt/jf/ci/aa/jfciaauffli76osi1qyzel6vepq.jpeg"><br><p>  Kami akan menganalisis pertanyaan-pertanyaan ini secara terpisah. </p><br><h4 id="analog-cen">  CEN analog </h4><br><p>  Tencent memiliki produk <strong>Cloud Connect Network</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CCN</a> ) yang memungkinkan Anda untuk menghubungkan VPC dari berbagai wilayah, termasuk wilayah di Cina dan luar.  Produk sekarang dalam versi beta internal, dan Anda perlu membuat tiket dengan permintaan untuk terhubung dengannya.  Dari dukungan, kami mengetahui bahwa akun global (bukan tentang warga negara Tiongkok dan badan hukum) tidak dapat berpartisipasi dalam program pengujian beta dan umumnya menghubungkan wilayah di dalam Tiongkok dengan wilayah di luar.  1-0 untuk Ali Cloud </p><br><h4 id="ipsec">  IPSEC </h4><br><p>  Wilayah paling selatan Tencent adalah <em>Guangzhou</em> .  Kami membangun sebuah terowongan dan menghubungkannya dengan wilayah Hong Kong di GCP (maka wilayah ini sudah tersedia).  Mereka juga mengangkat terowongan kedua ke Ali Cloud dari Shenzhen ke Hong Kong pada saat yang sama.  Ternyata melalui jaringan laten Tencent, Hong Kong umumnya lebih baik (10 ms) dari dari Shenzhen ke Hong Kong ke Ali (120 ms - apa?).  Tapi ini tidak mempercepat pekerjaan situs, yang bertujuan untuk bekerja melalui Tencent dan terowongan ini, yang dengan sendirinya adalah fakta yang menakjubkan dan sekali lagi membuktikan hal berikut: latensi - untuk Cina ini bukan indikator yang harus Anda perhatikan ketika mengembangkan solusi untuk melewati Cina firewall. </p><br><h4 id="anycast-internet-acceleration">  Akselerasi Internet Anycast </h4><br><p>  Produk lain yang memungkinkan Anda bekerja melalui IP siaran adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AIA</a> .  Tetapi juga tidak dapat diakses ke akun global, jadi saya tidak akan menceritakannya, tetapi untuk mengetahui bahwa produk semacam itu ada mungkin berguna. </p><br><p>  Namun tes CDN menunjukkan hasil yang cukup menarik.  CDN Tencent tidak dapat diaktifkan di situs lengkap, hanya pada domain tertentu.  Kami mendapat domain dan mulai lalu lintas di atasnya: </p><br><img src="https://habrastorage.org/webt/4f/hv/ca/4fhvcabi1rmeqmircvjjlv1dhpa.png"><br><p>  Ternyata CDN ini memiliki fungsi sebagai berikut: <strong>Optimasi Lalu Lintas Lintas Batas</strong> .  Fitur ini harus mengurangi biaya ketika lalu lintas mengalir melalui firewall Cina.  Sebagai <em>Asal</em> , alamat IP Google GLB (GLB anycast) telah ditentukan.  Jadi kami ingin menyederhanakan arsitektur proyek. </p><br><p>  Hasilnya sangat baik - pada tingkat Ali Cloud CDN, dan di beberapa tempat bahkan lebih baik.  Ini mengejutkan, karena jika tes berhasil, Anda dapat meninggalkan bagian penting dari infrastruktur, terowongan, CEN, mesin virtual, dll. </p><br><p>  Kami tidak senang lama, karena masalahnya terungkap: tes di Catchpoint dipalsukan untuk penyedia Internet China Mobile.  Dari lokasi mana pun, kami mendapat batas waktu melalui Tencent's CDN.  Korespondensi dengan dukungan teknis tidak mengarah ke apa pun.  Sekitar satu hari kami mencoba menyelesaikan masalah ini, tetapi tidak ada hasilnya. </p><br><p>  Saya berada di China pada waktu itu, tetapi tidak dapat menemukan Wi-Fi publik di jaringan penyedia ini untuk memverifikasi masalah secara pribadi.  Kalau tidak, semuanya tampak cepat dan bagus. <br>  Namun, karena fakta bahwa China Mobile adalah salah satu dari tiga operator terbesar, kami terpaksa mengembalikan lalu lintas ke Ali CDN. <br>  Tetapi secara umum, ini adalah solusi yang agak menarik, yang layak untuk pengujian dan pemecahan masalah yang lebih lama dari masalah ini. </p><br><h2 id="akamai">  Akamai </h2><br><p>  Penyedia CDN terakhir yang kami uji adalah <strong>Akamai</strong> .  Ini adalah penyedia besar yang memiliki jaringan sendiri di Cina.  Tentu saja, kami tidak bisa melewatinya. </p><br><img src="https://habrastorage.org/webt/vj/pd/am/vjpdamb4wn9kdn_1vlvepokaeb4.png"><br><p>  Sejak awal, kami sepakat dengan Akamai pada masa uji coba sehingga kami dapat mengganti domain dan melihat cara kerjanya di jaringan mereka.  Saya akan menjelaskan hasil dari semua pengujian dalam bentuk "Apa yang saya sukai" dan "Apa yang tidak saya sukai", serta hasil tes. </p><br><p>  <strong>Apa yang kamu suka:</strong> </p><br><ul><li>  Orang-orang dari Akamai banyak membantu dalam semua hal dan menemani kami di semua tahap pengujian.  Terus berusaha meningkatkan sesuatu di pihak mereka.  Mereka memberikan saran teknis yang bagus. </li><li>  Akamai berjalan sekitar 10-15% lebih lambat dari solusi kami melalui Ali Cloud CDN.  Sangat mengesankan bahwa di Origin kami menentukan alamat IP GLB untuk Akamai, yaitu, lalu lintas tidak melalui solusi kami (Anda berpotensi dapat meninggalkan bagian dari infrastruktur).  Tapi tetap saja, hasil tes menunjukkan bahwa solusi ini lebih buruk daripada versi kami saat ini (hasil perbandingan di bawah). </li><li>  Telah menguji Origin GLB dan Origin di China.  Kedua opsi tersebut hampir sama. </li><li>  Ada <em>Rute Pasti</em> (optimasi rute otomatis).  Anda dapat meng-host objek pengujian pada Origin, dan Edge server Akamai akan mencoba mengambilnya (GET biasa).  Untuk permintaan ini, kecepatan dan metrik lainnya diukur, atas dasar jaringan Akamai mengoptimalkan rute sehingga lalu lintas berjalan lebih cepat untuk situs kami dan dapat dilihat bahwa dimasukkannya fitur ini benar-benar memiliki pengaruh besar pada kecepatan situs. </li><li>  Versi konfigurasi di antarmuka web itu keren.  Anda dapat melakukan Bandingkan untuk versi, lihat perbedaan.  Lihat versi sebelumnya. </li><li>  Anda dapat meluncurkan versi baru hanya pada jaringan Akamai Staging - jaringan yang sama dengan produksi, hanya saja cara ini tidak memengaruhi pengguna nyata.  Untuk pengujian ini, Anda perlu memalsukan catatan DNS di mesin lokal. </li><li>  Kecepatan unduh yang sangat cepat melalui jaringan statika besar mereka, dan, tampaknya, dari file lainnya.  File dari cache "dingin" diambil beberapa kali lebih cepat dari file yang sama dari cache CDN Ali "dingin".  Dari cache "panas", kecepatan sudah plus atau minus sama. </li></ul><br><p>  <strong>Tes Ali CDN:</strong> </p><br><pre><code class="bash hljs">root@shenzhen1:~<span class="hljs-comment"><span class="hljs-comment"># curl -o /dev/null -w@curl_time https://en.semrushchina.cn/my_reports/build/scripts/simpleInit.js?v=1551879212 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 5757k 0 5757k 0 0 513k 0 --:--:-- 0:00:11 --:--:-- 526k time_namelookup: 0.004286 time_connect: 0.030107 time_appconnect: 0.117525 time_pretransfer: 0.117606 time_redirect: 0.000000 time_starttransfer: 0.840348 ---------- time_total: 11.208119 ---------- size_download: 5895467 Bytes speed_download: 525999.000B/s</span></span></code> </pre> <br><p>  <strong>Tes Akamai:</strong> </p><br><pre> <code class="bash hljs">root@shenzhen1:~<span class="hljs-comment"><span class="hljs-comment"># curl -o /dev/null -w@curl_time https://www.semrushchina.cn/my_reports/build/scripts/simpleInit.js?v=1551879212 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 5757k 0 5757k 0 0 1824k 0 --:--:-- 0:00:03 --:--:-- 1825k time_namelookup: 0.509005 time_connect: 0.528261 time_appconnect: 0.577235 time_pretransfer: 0.577324 time_redirect: 0.000000 time_starttransfer: 1.327013 ---------- time_total: 3.154850 ---------- size_download: 5895467 Bytes speed_download: 1868699.000B/s</span></span></code> </pre> <br><p>  Kami memperhatikan bahwa situasi dari contoh di atas tergantung pada berbagai faktor.  Pada saat penulisan ini, saya menjalankan tes lagi.  Hasil untuk kedua platform kurang lebih sama.  Ini memberitahu kita bahwa Internet di Cina, bahkan untuk operator besar dan penyedia cloud, berperilaku berbeda dari waktu ke waktu. </p><br><p>  Saya akan menambahkan nilai tambah besar untuk Akamai pada paragraf sebelumnya: jika Ali menunjukkan kilasan berkinerja tinggi dan sangat rendah (ini berlaku untuk Ali CDN, dan Ali CEN, dan Ali IPSEC), maka di Akamai setiap saat, tidak peduli bagaimana saya menguji jaringan mereka, semua bekerja dengan stabil. <br>  Akamai benar-benar memiliki banyak jangkauan di Tiongkok dan bekerja melalui banyak penyedia. </p><br><p>  <strong>Apa yang tidak suka:</strong> </p><br><ul><li>  Saya tidak suka antarmuka web dan skema kerja - ini nol.  Tetapi pada dasarnya Anda terbiasa (mungkin). </li><li>  Hasil tes lebih buruk daripada situs kami. </li><li>  Ada lebih banyak kesalahan selama pengujian daripada di situs kami (waktu aktif di bawah). </li><li>  Tidak ada server DNS di Cina.  Dari sini ada banyak kesalahan dalam pengujian karena DNS menyelesaikan batas waktu. </li><li>  Jangan berikan rentang IP mereka -&gt; tidak ada cara untuk mendaftarkan <em>set_real_ip_from yang</em> benar di server kami. </li></ul><br><p>  Metrik (~ 3626 berjalan; semua metrik kecuali Uptime dalam ms; statistik untuk satu periode waktu): </p><br><div class="scrollable-table"><table><thead><tr><th>  Penyedia CDN </th><th>  Median </th><th>  75% </th><th>  95% </th><th>  Tanggapan </th><th>  Respons halaman web </th><th>  Upime </th><th>  DNS </th><th>  Terhubung </th><th>  Tunggu </th><th>  Muat </th><th>  SSL </th></tr></thead><tbody><tr><td>  Ali CDN </td><td>  9195 </td><td>  10749 </td><td>  17489 </td><td>  1,715 </td><td>  10.745 </td><td>  99.531 </td><td>  57 </td><td>  17 </td><td>  927 </td><td>  479 </td><td>  200 </td></tr><tr><td>  Akamai </td><td>  9783 </td><td>  11887 </td><td>  19888 </td><td>  2,352 </td><td>  11.550 </td><td>  98.980 </td><td>  424 </td><td>  91 </td><td>  1408 </td><td>  381 </td><td>  50 </td></tr></tbody></table></div><br><p>  Distribusi persentil (dalam ms): </p><br><div class="scrollable-table"><table><thead><tr><th>  Persentil </th><th>  Akamai </th><th>  Ali CDN </th></tr></thead><tbody><tr><td>  10 </td><td>  7.092 </td><td>  6,942 </td></tr><tr><td>  20 </td><td>  7,775 </td><td>  7,583 </td></tr><tr><td>  30 </td><td>  8.446 </td><td>  8.092 </td></tr><tr><td>  40 </td><td>  9,146 </td><td>  8.596 </td></tr><tr><td>  50 </td><td>  9,783 </td><td>  9,195 </td></tr><tr><td>  60 </td><td>  10.497 </td><td>  9,770 </td></tr><tr><td>  70 </td><td>  11.371 </td><td>  10.383 </td></tr><tr><td>  80 </td><td>  12.670 </td><td>  11.255 </td></tr><tr><td>  90 </td><td>  15.882 </td><td>  13.165 </td></tr><tr><td>  100 </td><td>  91.592 </td><td>  91.596 </td></tr></tbody></table></div><br><p>  Kesimpulannya adalah ini: opsi dengan Akamai layak, tetapi tidak memberikan stabilitas dan kecepatan indikator yang sama dengan solusi kami sendiri, ditambah dengan Ali CDN. </p><br><h2 id="malenkie-zametki">  Catatan kecil </h2><br><p>  Beberapa poin tidak dimasukkan dalam cerita, tetapi saya juga ingin menulis tentangnya. </p><br><h3 id="pekin--tokio-i-gonkong">  Beijing + Tokyo dan Hong Kong </h3><br><p>  Seperti yang saya katakan di atas, kami menguji terowongan IPSEC ke Hong Kong (HK).  Tapi kami juga menguji CEN sebelum HK.  Harganya sedikit lebih murah, dan itu menarik bagaimana itu akan bekerja antara kota-kota dengan jarak ~ 100km.  Ternyata menarik bahwa latensi antara kota-kota ini adalah 100 ms lebih tinggi daripada versi asli kami (ke Taiwan).  Kecepatan, stabilitas juga lebih baik untuk Taiwan.  Akibatnya, kami meninggalkan HK sebagai wilayah IPSEC cadangan. </p><br><p>  Selain itu, kami mencoba meningkatkan instalasi seperti itu: </p><br><ul><li>  pemutusan pelanggan di Beijing, </li><li>  IPSEC dan CEN ke Tokyo, </li><li>  di Ali, CDN terdaftar sebagai server asal di Beijing. </li></ul><br><p>  Skema ini tidak begitu stabil, meskipun dalam hal kecepatan secara keseluruhan tidak kalah dengan solusi kami.  Adapun terowongan, saya melihat tetes berkala bahkan untuk CEN, yang seharusnya stabil.  Karena itu, kami kembali ke skema lama dan membongkar panggung ini. </p><br><p>  Di bawah ini adalah statistik tentang latensi antara berbagai wilayah di berbagai saluran.  Mungkin seseorang akan tertarik. </p><br><p>  <em>IPsec</em> <br>  Ali cn-beijing &lt;--&gt; GCP asia-timur laut1 - 193ms <br>  Ali cn-shenzhen &lt;--&gt; GCP asia-east2 - 91ms <br>  Ali cn-shenzhen &lt;--&gt; GCP us-east4 - 200ms </p><br><p>  <em>Cen</em> <br>  Ali cn-beijing &lt;---&gt; Ali ap-timur laut 1 - 54ms (!) <br>  Ali cn-shenzhen &lt;---&gt; Ali cn-hongkong - 6ms (!) <br>  Ali cn-shenzhen &lt;---&gt; Ali us-east1 - 216ms </p><br><h3 id="obschaya-informaciya-pro-internet-v-kitae">  Informasi umum tentang Internet di Tiongkok </h3><br><p>  Sebagai tambahan masalah dengan Internet, dijelaskan di bagian paling awal, di bagian pertama artikel. </p><br><ul><li>  Internet di China di dalamnya cukup cepat. <br><ul><li>  Kesimpulan dibuat berdasarkan pengujian jaringan Wi-Fi publik di berbagai lokasi di mana jaringan ini digunakan oleh sejumlah besar orang. </li><li>  Kecepatan unduh dan unggah ke server di China masing-masing sekitar 20 Mbps dan 5-10 Mbps. </li><li>  Kecepatan ke server di luar China hanya menyedihkan, kurang dari 1 Mbps. </li></ul></li><li>  Internet di Cina tidak begitu stabil. <br><ul><li>  Terkadang situs dapat dibuka dengan cepat, terkadang lambat (pada waktu yang sama setiap hari pada hari yang berbeda), asalkan konfigurasi tidak berubah.  Kami mengamati ini dengan contoh semrushchina.cn.  Ini dapat dikaitkan dengan Ali CDN, yang juga bekerja dengan cara ini dan itu, tergantung pada waktu, posisi bintang-bintang, dll. </li></ul></li><li>  Internet seluler hampir di mana-mana 4G atau 4G +.  Tangkapan di kereta bawah tanah, lift - singkatnya, di mana-mana. </li><li>  Fakta bahwa pengguna China hanya mempercayai domain di zona .cn adalah mitos.  Kami mempelajari ini langsung dari pengguna. <br><ul><li>  Anda dapat melihat bagaimana <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">http://baidu.cn</a> mengalihkan ke www.baidu.com (di daratan Cina juga). </li></ul></li><li>  Banyak sumber daya benar-benar diblokir.  Primitive: google.com, Facebook, Twitter.  Tetapi banyak sumber daya Google berfungsi (tentu saja, tidak semua Wi-Fi dan VPN digunakan pada saat yang sama (di sisi router, itu sudah pasti). </li><li>  Banyak "teknis" domain perusahaan yang diblokir juga berfungsi.  Ini berarti bahwa Anda tidak harus selalu gegabah memotong semua Google dan sumber daya lainnya yang tampaknya diblokir.  Anda perlu mencari beberapa daftar domain terlarang. </li><li>  Mereka hanya memiliki tiga penyedia Internet utama: China Unicom, China Telecom, China Mobile.  Bahkan ada yang lebih kecil, tetapi pangsa pasar mereka tidak signifikan </li></ul><br><h3 id="bonus-itogovaya-shema-resheniya">  Bonus: skema keputusan akhir </h3><br><img src="https://habrastorage.org/webt/jr/qe/uq/jrqeuqrsssdnjbnkp43rqjm29ro.png"><br><h2 id="itog">  Ringkasan </h2><br><p>  Setahun telah berlalu sejak awal proyek.  Kami mulai dengan fakta bahwa situs kami pada dasarnya menolak untuk bekerja secara normal dari China, tetapi hanya GET curl memerlukan waktu 5,5 detik. </p><br><p>  Kemudian, dengan indikator seperti itu dalam keputusan pertama (Cloudflare): </p><br><div class="scrollable-table"><table><thead><tr><th>  Solusi </th><th>  Upime </th><th>  Median </th><th>  75 Persentil </th><th>  95 Persentil </th></tr></thead><tbody><tr><td>  Cloudflare </td><td>  86.6 </td><td>  18-an </td><td>  30-an </td><td>  60-an </td></tr></tbody></table></div><br><p>  Akibatnya, kami sampai pada hasil berikut (statistik untuk bulan lalu): </p><br><div class="scrollable-table"><table><thead><tr><th>  Solusi </th><th>  Upime </th><th>  Median </th><th>  75 Persentil </th><th>  95 Persentil </th></tr></thead><tbody><tr><td>  Ali CDN + CEN / IPsec + GLB </td><td>  99,86 </td><td>  8.8s </td><td>  9.5s </td><td>  13.7s </td></tr></tbody></table></div><br><p>  Seperti yang Anda lihat, waktu aktif 100% belum tercapai, tetapi kami akan menghasilkan sesuatu, dan kemudian kami akan memberi tahu Anda tentang hasil di artikel baru :) </p><br><p>  Untuk orang yang telah membaca ketiga bagian sampai akhir - hormat.  Saya harap Anda semua sama tertariknya dengan saya ketika saya melakukan ini. </p><br><h3 id="ps-predyduschie-chasti">  PS Bagian Sebelumnya </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 2</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id459024/">https://habr.com/ru/post/id459024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id459012/index.html">Membuat aplikasi untuk Bitrix24 dari awal</a></li>
<li><a href="../id459014/index.html">Keluar dari zona nyaman Anda: dari nodejs ke dlang</a></li>
<li><a href="../id459018/index.html">Taktik bermain peran di desktop</a></li>
<li><a href="../id459020/index.html">Mengapa DFSR tidak mereplikasi beberapa file dan cara mengatasinya</a></li>
<li><a href="../id459022/index.html">Komunikasi video mata-ke-mata: upaya untuk menyelesaikan masalah kurangnya kontak mata</a></li>
<li><a href="../id459028/index.html">Alokasi memori statis dalam mikrokontroler</a></li>
<li><a href="../id459030/index.html">Sekilas ke kotak hitam - sistem baru dari MIT akan menunjukkan bagaimana algoritma pembelajaran mesin bekerja</a></li>
<li><a href="../id459034/index.html">Beberapa tips sederhana namun bermanfaat untuk bekerja dengan getter di Vuex</a></li>
<li><a href="../id459038/index.html">Panduan suara kamera telah menjadi lebih mudah diakses - solusi Pelacakan Suara SmartCam A12 universal</a></li>
<li><a href="../id459046/index.html">Cara menerapkan secara mandiri (Bukti Keberadaan) dalam 2 langkah</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>