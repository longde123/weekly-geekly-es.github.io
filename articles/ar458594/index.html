<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คฆ๐ฟ ๐คณ๐พ ๐จ ูุง ุชูุณ ุฒูุงุฏุฉ ูุฑุตุฉ ุงุณุชุฌุงุจุฉ ุงูุนููู ุจุงุณุชุฎุฏุงู ุทูุจ ูุชูุฑุฑ ูู ููุงุฒูุฉ L7 ๐ ๐ง๐พ ๐ค๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุจุงุณุชุฎุฏุงู nginx ูููุงุฒูุฉ ุญุฑูุฉ ูุฑูุฑ HTTP ุนูู ูุณุชูู L7 ุ ูู ุงููููู ุฅุฑุณุงู ุทูุจ ุนููู ุฅูู ุฎุงุฏู ุงูุชุทุจูู ุงูุชุงูู ุฅุฐุง ูุงู ุงููุฏู ูุง ููุฑุฌุน ุงุณุชุฌุงุจุฉ ุฅูุฌุงุจูุฉ. ุฃุธูุฑ ุงุฎุช...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุง ุชูุณ ุฒูุงุฏุฉ ูุฑุตุฉ ุงุณุชุฌุงุจุฉ ุงูุนููู ุจุงุณุชุฎุฏุงู ุทูุจ ูุชูุฑุฑ ูู ููุงุฒูุฉ L7</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458594/" style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู nginx ูููุงุฒูุฉ ุญุฑูุฉ ูุฑูุฑ HTTP ุนูู ูุณุชูู L7 ุ ูู ุงููููู ุฅุฑุณุงู ุทูุจ ุนููู ุฅูู ุฎุงุฏู ุงูุชุทุจูู ุงูุชุงูู ุฅุฐุง ูุงู ุงููุฏู ูุง ููุฑุฌุน ุงุณุชุฌุงุจุฉ ุฅูุฌุงุจูุฉ.  ุฃุธูุฑ ุงุฎุชุจุงุฑ ูุขููุฉ ุงูุชุญูู ุงูุณูุจู ููุญุงูุฉ ุงูุตุญูุฉ ูุฎุงุฏู ุงูุชุทุจูู ุบููุถ ุงููุซุงุฆู ูุฎุตูุตูุฉ ุงูุฎูุงุฑุฒููุงุช ูุงุณุชุจุนุงุฏ ุงูุฎุงุฏู ูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ููุฎุต ููุงุฒูุฉ ุญุฑูุฉ ูุฑูุฑ HTTP </h2><br>  ููุงู ุทุฑู ูุฎุชููุฉ ูููุงุฒูุฉ ุญุฑูุฉ ูุฑูุฑ HTTP.  ุญุณุจ ูุณุชููุงุช ูููุฐุฌ OSI ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงู ุชูููุงุช ููุงุฒูุฉ</a> ุนูู ูุณุชููุงุช ุงูุดุจูุฉ ูุงูููู ูุงูุชุทุจูู.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ุงุณุชุฎุฏุงู ุงููุฌููุนุงุช</a> ููููุง ูุญุฌู ุงูุชุทุจูู. <br><br>  ุชููุฑ ุชูููุฉ ููุงุฒูุฉ ุงูุญุฑูุฉ ุชุฃุซูุฑุงุช ุฅูุฌุงุจูุฉ ูู ุงูุชุทุจูู ูุตูุงูุชู.  ูููุง ุจุนุถ ูููู.  ุงูุชุญุฌูู ุงูุฃููู ููุชุทุจูู ุ ุญูุซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชู ุชูุฒูุน ุงูุญูู ุจูู ุนุฏุฉ ุนูุฏ</a> .  ุงููุฎุทุท ุฅููุงู ุชุดุบูู ุฎุงุฏู ุงูุชุทุจูู ุนู ุทุฑูู ุฅุฒุงูุฉ ุชุฏูู ุทูุจุงุช ุงูุนููู ููู.  ุชูููุฐ ุงุณุชุฑุงุชูุฌูุฉ ุงุฎุชุจุงุฑ A / B ูููุธุงุฆู ุงููุชุบูุฑุฉ ููุชุทุจูู.  ุชุญุณูู ุงูุชุณุงูุญ ูุน ุฃุฎุทุงุก ุงูุชุทุจูู ุนู ุทุฑูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู ุฎูุงุฏู ุงูุชุทุจููุงุช ุงูุชู ุชุนูู ุจุดูู ุฌูุฏ</a> . <br><br>  ูุชู ุชูููุฐ ุงููุธููุฉ ุงูุฃุฎูุฑุฉ ูู ูุถุนูู.  ูู ุงููุถุน ุงูุฎุงูู ุ ูููู ุงูููุงุฒู ูู ุญุฑูุฉ ูุฑูุฑ ุงูุนููู ุจุชูููู ุงุณุชุฌุงุจุงุช ุฎุงุฏู ุงูุชุทุจูู ุงููุฏู ููุณุชุจุนุฏู ูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ ููููุง ูุดุฑูุท ูุนููุฉ.  ูู ุงููุถุน ุงููุดุท ุ ูุฑุณู ุงูููุงุฒู ุจุดูู ุฏูุฑู ุทูุจุงุช ุฅูู ุฎุงุฏู ุงูุชุทุจูู ุนูู URI ุงููุญุฏุฏ ุ ูุจุงููุณุจุฉ ูุจุนุถ ุนูุงูุงุช ุงูุงุณุชุฌุงุจุฉ ุชูุฑุฑ ุงุณุชุจุนุงุฏู ูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ.  ุจุนุฏ ุฐูู ุ ูููู ุงูููุงุฒู ุ ูู ุธู ุธุฑูู ูุนููุฉ ุ ุจุฅุฑุฌุงุน ุฎุงุฏู ุงูุชุทุจูู ุฅูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุญูู ุงูุณูุจู ูุฎุงุฏู ุงูุชุทุจูู ูุงุณุชุจุนุงุฏู ูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ </h2><br>  ุฏุนููุง ูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุฎุงุฏู ุงูุชุทุจูู ุงูุณูุจู ุชุญูู ูู ุฅุตุฏุงุฑ ูุฌุงููุฉ ูู nginx / 1.17.0.  ูุชู ุชุญุฏูุฏ ุฎูุงุฏู ุงูุชุทุจููุงุช ุจุฏูุฑูุง ุจูุงุณุทุฉ ุฎูุงุฑุฒููุฉ Round Robin ุ ูุงูุฃูุฒุงู ุงูุฎุงุตุฉ ุจูุง ูู ููุณูุง. <br><br>  ููุธูุฑ ุงูุฑุณู ุงูุชุฎุทูุทู ุงููููู ูู ุซูุงุซ ุฎุทูุงุช ูุณููุง ููููุช ูุจุฏุฃ ุจุฅุฑุณุงู ุทูุจ ุงูุนููู ุฅูู ุฎุงุฏู ุงูุชุทุจูู ุฑูู 2.  ูููุฒ ุงููุคุดุฑ ุงูุณุงุทุน ุงูุทูุจุงุช / ุงูุงุณุชุฌุงุจุงุช ุจูู ุงูุนููู ูุงูููุงุฒู.  ูุคุดุฑ ุบุงูู - ุทูุจุงุช / ุงุณุชุฌุงุจุงุช ุจูู nginx ูุฎูุงุฏู ุงูุชุทุจููุงุช. <br><br><img src="https://habrastorage.org/webt/vg/dl/yl/vgdlylmjdofsxs-iktkfimfaqr8.gif"><br><br>  ุชูุถุญ ุงูุฎุทูุฉ ุงูุซุงูุซุฉ ูู ุงููุฎุทุท ููููุฉ ุฅุนุงุฏุฉ ููุงุฒู ุชูุฌูู ุทูุจ ุงูุนููู ุฅูู ุฎุงุฏู ุงูุชุทุจูู ุงูุชุงูู ูู ุญุงูุฉ ููุงู ุงูุฎุงุฏู ุงููุฏู ุจุชูุฏูู ุงุณุชุฌุงุจุฉ ุฎุทุฃ ุฃู ูู ูุฑุฏ ุนูู ุงูุฅุทูุงู. <br><br>  ูุชู ุชุญุฏูุฏ ูุงุฆูุฉ ุฃุฎุทุงุก HTTP ู TCP ุงูุชู ูุณุชุฎุฏู ูููุง ุงูุฎุงุฏู ุงูุฎุงุฏู ุงูุชุงูู ูู ุชูุฌูู <i>proxy_next_upstream</i> . <br><br>  ุจุดูู ุงูุชุฑุงุถู ุ ูุนูุฏ nginx ุชูุฌูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุทูุจุงุช</a> ููุท <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุงุณุชุฎุฏุงู ุฃุณุงููุจ HTTP idempotent</a> ุฅูู ุฎุงุฏู ุงูุชุทุจูู ุงูุชุงูู. <br><br>  ูุงุฐุง ูุญุตู ุงูุนูููุ  ูู ูุงุญูุฉ ุ ุชุฒูุฏ ุงููุฏุฑุฉ ุนูู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจ ุฅูู ุฎุงุฏู ุงูุชุทุจูู ุงูุชุงูู ูู ูุฑุต ุชูุฏูู ุงุณุชุฌุงุจุฉ ูุฑุถูุฉ ููุนููู ุนูุฏ ูุดู ุงูุฎุงุฏู ุงููุฏู.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูู ุงููุงุถุญ ุฃู ุงูููุงููุฉ ุงูุชุณูุณููุฉ ุงูุฃููู ููุฎุงุฏู ุงููุฏู ุ ุซู ุฅูู ุงูุชุงูู ุชุฒูุฏ ูู ุฒูู ุงูุงุณุชุฌุงุจุฉ ุงูููู ููุนููู. <br><br>  ูู ุงูููุงูุฉ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://nginx.org/ru/docs/http/ngx_">ูุชู ุฅุฑุฌุงุน ุงุณุชุฌุงุจุฉ ุฎุงุฏู ุงูุชุทุจูู ุฅูู</a> ุงูุนููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://nginx.org/ru/docs/http/ngx_">ุ ุญูุซ</a> <i>ุชูุชูู ุงูุนุฏุงุฏุงุช proxy_next_upstream_tries</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://nginx.org/ru/docs/http/ngx_">ุงููุณููุญ ุจูุง</a> . <br><br>  ุนูุฏ ุงุณุชุฎุฏุงู ูุธููุฉ ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุฎุงุฏู ุงูุนูู ุงูุชุงูู ุ ุณุชุญุชุงุฌ ุฅูู ููุงุกูุฉ ุงููููุงุช ุนูู ุฎูุงุฏู ุงูููุงุฒู ูุงูุชุทุจููุงุช ุจุดูู ุฅุถุงูู.  ุงูุญุฏ ุงูุฃูุตู ูููุช ุทูุจ "ุงูุณูุฑ" ุจูู ุฎูุงุฏู ุงูุชุทุจููุงุช ูุงูููุงุฒู ูู ูููุฉ ุงูุนููู ุ ุฃู ููุช ุงูุงูุชุธุงุฑ ุงููุญุฏุฏ ูู ูุจู ุงูุดุฑูุฉ.  ุนูุฏ ุญุณุงุจ ุงููููุงุช ุ ูู ุงูุถุฑูุฑู ุฃูุถูุง ูุฑุงุนุงุฉ ูุงูุด ุฃุญุฏุงุซ ุงูุดุจูุฉ (ุงูุชุฃุฎูุฑุงุช / ุงูุฎุณุงุฆุฑ ุฃุซูุงุก ุชุณููู ุงูุญุฒูุฉ).  ุฅุฐุง ุงูุชูู ุงูุนููู ูู ูู ูุฑุฉ ูู ุงูุฌูุณุฉ ุจููุช ุงูุชูุงุก ูููุฉ ุจูููุง ูุญุตู ุงูููุงุฒู ุนูู ุฅุฌุงุจุฉ ูุถูููุฉ ุ ูุฅู ุงูููุฉ ุงูุทูุจุฉ ูุฌุนู ุงูุชุทุจูู ูููู ุงูุงุนุชูุงุฏ ุนููู ุณุชููู ุนูููุฉ. <br><br><img src="https://habrastorage.org/webt/th/wt/da/thwtdayvqkzx3tr6dvlbmou1a3q.jpeg"><br><br>  ูุชู ุงูุชุญูู ูู ุงูุชุญูู ูู ุงูุตุญุฉ ุงูุณูุจูุฉ ูุฎูุงุฏู ุงูุชุทุจููุงุช ูู ุฎูุงู ุงูุชูุฌููุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุน ุงูุฎูุงุฑุงุช ุงูุชุงููุฉ ูููููุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">upstream</span></span> backend { <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> app01:<span class="hljs-number"><span class="hljs-number">80</span></span> weight=<span class="hljs-number"><span class="hljs-number">1</span></span> max_fails=<span class="hljs-number"><span class="hljs-number">5</span></span> fail_timeout=<span class="hljs-number"><span class="hljs-number">100s</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> app02:<span class="hljs-number"><span class="hljs-number">80</span></span> weight=<span class="hljs-number"><span class="hljs-number">1</span></span> max_fails=<span class="hljs-number"><span class="hljs-number">5</span></span> fail_timeout=<span class="hljs-number"><span class="hljs-number">100s</span></span>; } <span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://backend; <span class="hljs-attribute"><span class="hljs-attribute">proxy_next_upstream</span></span> timeout http_500; <span class="hljs-attribute"><span class="hljs-attribute">proxy_next_upstream_tries</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; ... } ... }</code> </pre> <br>  ุงุนุชุจุงุฑูุง ูู 2 ููููู <i>2019</i> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://nginx.org/ru/docs/http/ngx_">ุฃุซุจุชุช</a> ุงููุซุงุฆู ุฃู ุงููุนููุฉ <i>max_fails</i> ุชุนููู ุนุฏุฏ ุงููุญุงููุงุช ุบูุฑ ุงููุงุฌุญุฉ ููุนูู ูุน ุงูุฎุงุฏู ุงูุฐู ูุฌุจ ุฃู ูุญุฏุซ ุฎูุงู ุงูููุช ุงููุญุฏุฏ ุจูุงุณุทุฉ ุงููุนููุฉ <i>fail_timeout</i> . <br><br>  <i>ุชุนููู</i> ุงููุนููุฉ <i>fail_timeout</i> ุงูููุช ุงูุฐู ูุฌุจ ุฃู ูุญุฏุซ ุฎูุงูู ุงูุนุฏุฏ ุงููุญุฏุฏ ูู ุงููุญุงููุงุช ุบูุฑ ุงููุงุฌุญุฉ ููุนูู ูุน ุงูุฎุงุฏู ูู ุฃุฌู ุงุนุชุจุงุฑ ุงูุฎุงุฏู ุบูุฑ ูุชููุฑ ุ  ูุงูููุช ุงูุฐู ุณูุชู ููู ุงุนุชุจุงุฑ ุงูุฎุงุฏู ุบูุฑ ูุชุงุญ. <br><br>  ูู ุงููุซุงู ุงููุญุฏุฏ ุ ููู ุฌุฒุก ูู ููู ุงูุชูููู ุ ูุชู ุชูููู ุงูููุงุฒู ูุฌุฐุจ 5 ููุงููุงุช ูุงุดูุฉ ูู ุบุถูู 100 ุซุงููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฅุฑุฌุงุน ุฎุงุฏู ุงูุชุทุจูู ุฅูู ุชุฌูุน ุฎุงุฏู ุงูุฅูุชุงุฌ </h2><br>  ููุง ููู ูู ุงููุซุงุฆู ุ ูุง ูููู <i>ููููุงุฒู</i> ุจุนุฏ <i>fail_timeout</i> ุงุนุชุจุงุฑ ุงูุฎุงุฏู ุบูุฑ <i>ุตุงูุญ</i> ููุนูู.  ูููู ุ ูุณูุก ุงูุญุธ ุ ูุง ุชุญุฏุฏ ุงููุซุงุฆู ุจุดูู ุตุฑูุญ ููููุฉ ุชูููู ุฃุฏุงุก ุงูุฎุงุฏู. <br><br>  ุจุฏูู ุชุฌุฑุจุฉ ุ ูููู ูููุฑุก ุฃู ููุชุฑุถ ููุท ุฃู ุขููุฉ ุงูุชุญูู ูู ุงูุญุงูุฉ ุชุดุจู ุงูุขููุฉ ุงูููุตููุฉ ูุณุจููุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชููุนุงุช ูุงููุงูุน </h2><br>  ูู ุงูุชูููู ุงูููุฏู ุ ูู ุงููุชููุน ุญุฏูุซ ุงูุณููู ุงูุชุงูู ูู ุงูููุงุฒู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญุชู ูุณุชุจุนุฏ ุงูููุงุฒู ุฎุงุฏู ุงูุชุทุจูู ุฑูู 2 ูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ ุ ุณูุชู ุฅุฑุณุงู ุทูุจุงุช ุงูุนููู ุฅููู. </li><li style=";text-align:right;direction:rtl">  ุณูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจุงุช ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ูุน ูุฌูุฏ ุฎุทุฃ 500 ูู ุฎุงุฏู ุงูุชุทุจูู ุฑูู 2 ุฅูู ุฎุงุฏู ุงูุชุทุจูู ุงูุชุงูู ุ ูุณูู ูุชููู ุงูุนููู ุฑุฏูุฏูุง ุฅูุฌุงุจูุฉ. </li><li style=";text-align:right;direction:rtl">  ุจูุฌุฑุฏ ุฃู ูุชููู ุงูููุงุฒู 5 ุฑุฏูุฏ ุจุงูููุฏ 500 ูู ุบุถูู 100 ุซุงููุฉ ุ ูุณูุณุชุจุนุฏ ุฎุงุฏู ุงูุชุทุจูู ุฑูู 2 ูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ.  ุณูุชู ุฅุฑุณุงู ุฌููุน ุงูุทูุจุงุช ุงูุชุงููุฉ ุจุนุฏ 100 ุซุงููุฉ ุนูู ุงูููุฑ ุฅูู ุฎูุงุฏู ุชุทุจููุงุช ุงูุนูู ุงููุชุจููุฉ ุฏูู ููุช ุฅุถุงูู. </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ 100 ุซุงููุฉ ุ ุจุทุฑููุฉ ูุง ุ ูุฌุจ ุนูู ุงูููุงุฒู ุชูููู ุฃุฏุงุก ุฎุงุฏู ุงูุชุทุจูู ูุฅุนุงุฏุชู ุฅูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ. </li></ol><br>  ุจุนุฏ ุฅุฌุฑุงุก ุงุฎุชุจุงุฑุงุช ุนูููุฉ ุ ููููุง ููุฌูุงุช ุงูููุงุฒู ุ ุซุจุช ุฃู ุงูุจูุงู ุฑูู 3 ูุง ูุนูู.  ูุณุชุจุนุฏ ุงูููุงุฒู ุฎุงุฏู ุงูุฎููู ุจูุฌุฑุฏ ุงุณุชููุงุก ุงูุดุฑุท ูู ุงููุนููุฉ <i>max_fails</i> .  ูุจุงูุชุงูู ุ ูุชู ุงุณุชุจุนุงุฏ ุฎุงุฏู ูุงุดู ูู ุงูุฎุฏูุฉ ุฏูู ุงูุชุธุงุฑ ูุฑูุฑ 100 ุซุงููุฉ.  ุชูุนุจ ุงููุนููุฉ <i>fail_timeout</i> ุฏูุฑ ุงูุญุฏ ุงูุฃุนูู ูููุช ุชุฑุงูู ุงูุฃุฎุทุงุก ููุท. <br><br>  ูุฌุฒุก ูู ุงูุชุฃููุฏ ุฑูู 4 ุ ุงุชุถุญ ุฃู nginx ูุชุญูู ูู ูุธููุฉ ุฃุญุฏ ุงูุชุทุจููุงุช ุงูุชู ูุงูุช ูุณุชุจุนุฏุฉ ุณุงุจููุง ูู ุตูุงูุฉ ุงูุฎุงุฏู ุจุทูุจ ูุงุญุฏ ููุท.  ูุฅุฐุง ูุงู ุงูุฎุงุฏู ูุง ูุฒุงู ูุณุชุฌูุจ ูุน ูุฌูุฏ ุฎุทุฃ ุ ูุณูู <i>ููุดู</i> ุงููุญุต ุงูุชุงูู ุจุนุฏ <i>fail_timeout</i> . <br><br><h2 style=";text-align:right;direction:rtl">  ูุง ูู ููููุฏุ </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฏ ูุง ุชููู ุงูุฎูุงุฑุฒููุฉ ุงููุทุจูุฉ ูู nginx / 1.17.0 ูู ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุฅูุตุงููุง ููุชุญูู ูู ุฃุฏุงุก ุงูุฎุงุฏู ูุจู ุฅุนุงุฏุชู ุฅูู ูุฌููุนุฉ ุฎูุงุฏู ุงูุฅูุชุงุฌ.  ุนูู ุงูุฃูู ุ ููููุง ูููุซุงุฆู ุงูุญุงููุฉ ุ ููุณ ูู ุงููุชููุน ุทูุจ ูุงุญุฏ ุ ูููู ุงููุจูุบ ุงููุญุฏุฏ ูู <i>max_fails</i> . </li><li style=";text-align:right;direction:rtl">  ูุง ุชุฃุฎุฐ ุฎูุงุฑุฒููุฉ ุงูุชุญูู ูู ุงูุญุงูุฉ ูู ุงูุงุนุชุจุงุฑ ุณุฑุนุฉ ุงูุทูุจุงุช.  ูููุง ุฒุงุฏ ุญุฌููุง ุ ูุงู ุงูุทูู ุงูุฃููู ูุน ุงููุญุงููุงุช ุบูุฑ ุงููุงุฌุญุฉ ููุชูู ุฅูู ุงููุณุงุฑ ุ ูุฎุฑุฌ ุฎุงุฏู ุงูุชุทุจูู ูู ุชุฌูุน ุงูุฎูุงุฏู ุงูุนุงููุฉ ุจุณุฑุนุฉ ูุจูุฑุฉ.  ุฃูุชุฑุถ ุฃู ูุฐุง ูููู ุฃู ูุคุซุฑ ุณูุจูุง ุนูู ุงูุชุทุจููุงุช ุงูุชู ุชุณูุญ ูุฃููุณูุง ุจุฅุญุฏุงุซ ุฃุฎุทุงุก "ุชุฌูุทุงุช ุฒูููุฉ ูุตูุฑุฉ".  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุฌูุน ุงูููุงูุฉ. </li></ol><br><img src="https://habrastorage.org/webt/dg/5k/t2/dg5kt2myincbznycsx2owz_rh6w.jpeg"><br><br>  ุฃุฑุฏุช ุฃู ุฃุณุฃูู ุนูุง ุฅุฐุง ูุงู ููุงู ุฃู ูุงุฆุฏุฉ ุนูููุฉ ูู ุฎูุงุฑุฒููุฉ ูุญุต ุตุญุฉ ุงูุฎุงุฏู ุ ูุงูุชู ุชููุณ ุณุฑุนุฉ ุงููุญุงููุงุช ุงููุงุดูุฉุ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458594/">https://habr.com/ru/post/ar458594/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458574/index.html">ููู ุชููู ูู ูุทูุฑ ุฅูู ูุฑูู ูููุฏ ููุนูุด ูุนู ุฃูุซุฑ</a></li>
<li><a href="../ar458576/index.html">ุฅุฏุงุฑุฉ ุงููุตูุต ูุงูุชุนุฑูุจ ูู ุชุทุจูู ุงูููุจ</a></li>
<li><a href="../ar458582/index.html">ุงุจุชูุฑ ูููุฏุณ ุงูุฃูุงุฒูู ุฌูุงุฒ ุญุฌุจ ูููุธูุฉ ุงูุนูู ุงูุฏูููุฉ ูุจูู ุงููุทุท ุฎุงุฑุฌ ุงูุดุงุฑุน</a></li>
<li><a href="../ar458584/index.html">11 ุชููุฒ (ููููู) ุ Group-IB Webinar "ุชุญููู ุงูุจุฑุงูุฌ ุงูุถุงุฑุฉ ูููุจุชุฏุฆูู: ุงูุฃุณุงููุจ ุงูุฃุณุงุณูุฉ"</a></li>
<li><a href="../ar458592/index.html">ูู ุงุฑุชูุงุน ุฒูู ุงูุงูุชูุงู ุฅูู ุชุตุญูุญ Kernel ุจุงุณุชุฎุฏุงู eBPF / BCC</a></li>
<li><a href="../ar458598/index.html">ุงูุชุนุฑู ุนูู ูุตุงุฏุฑ ุงูุถูุก ุนูู ุฎุฑุงุฆุท ุงูุจูุฆุฉ</a></li>
<li><a href="../ar458600/index.html">ูุง ูู ุงูุฏุฑุงุฌุงุช ุงูููุฑุจุงุฆูุฉ (ุงุณุชุนุฑุงุถ ุงููุฌููุนุฉ ูู ุฌุฒุฃูู ูู ุฎูุณุฉ ููุงุฐุฌ ูู ุงุซููู ูู ุงูุดุฑูุงุช ุงููุตูุนุฉ) ุ ุงูุฌุฒุก 1</a></li>
<li><a href="../ar458604/index.html">ููุงุฐุง ุงูุถู ุฃูุจุฑ ูุตูุนู ุฅููุชุฑูููุงุช ุฅูู ูุดุฑูุน GPU ุฌุฏูุฏ</a></li>
<li><a href="../ar458606/index.html">ุดุบูู OpenVPN ูู Docker ุฎูุงู ุซุงููุชูู</a></li>
<li><a href="../ar458608/index.html">ุฃุฏูุงุช ูุทูุฑ Node.js ุทุงุจูุฑ ุงููุธููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>