<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйЁЯП╛тАНЁЯПл ЁЯПг ЁЯСиЁЯП╗тАНЁЯФз рд░реВрд╕реА рдореЗрдВ EHCI рдорд╛рдирд╡реАрдп рд░реВрдк рд╕реЗ ЁЯСЛЁЯП┐ ЁЯНЬ ЁЯзШЁЯП╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд░рд┐рдЪрдп 
 рдореИрдВ рд╕рднреА рдХрд╛ рд╕реНрд╡рд╛рдЧрдд рдХрд░рддрд╛ рд╣реВрдВред рдЖрдЬ рдореИрдВ рдЕрдкрдиреЗ рдЕрдиреБрднрд╡ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдФрд░ рдлрд┐рд░ рднреА, рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ, рдпреВрдПрд╕рдмреА 2.0 рд╣реЛрд╕реНрдЯ рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд▓рд┐рдП ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд░реВрд╕реА рдореЗрдВ EHCI рдорд╛рдирд╡реАрдп рд░реВрдк рд╕реЗ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426421/"><img src="https://habrastorage.org/webt/kk/0o/he/kk0ohepnkx9kfrbmht7mtec5pr4.jpeg" alt="рдЫрд╡рд┐"><br><br><h3>  <b>рдкрд░рд┐рдЪрдп</b> </h3><br>  рдореИрдВ рд╕рднреА рдХрд╛ рд╕реНрд╡рд╛рдЧрдд рдХрд░рддрд╛ рд╣реВрдВред  рдЖрдЬ рдореИрдВ рдЕрдкрдиреЗ рдЕрдиреБрднрд╡ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдФрд░ рдлрд┐рд░ рднреА, рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ, рдпреВрдПрд╕рдмреА 2.0 рд╣реЛрд╕реНрдЯ рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓ рдорд╛рдирдХ, рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдмрддрд╛рдПрдВред <br><br>  рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдЖрдк рдХрд▓реНрдкрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдПрдХ рдпреВрдПрд╕рдмреА 2.0 рдкреЛрд░реНрдЯ рд╕рд┐рд░реНрдл 4 рдкрд┐рди рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рджреЛ рдмрд╕ рдбреЗрдЯрд╛ рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ COM рдкреЛрд░реНрдЯ), рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕рдм рдХреБрдЫ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд рднреАред  USB рдирд┐рдпрдВрддреНрд░рдХ, рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рд╣рдореЗрдВ рдирд┐рдпрдорд┐рдд COM рдкреЛрд░реНрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред  рдИрдПрдЪрд╕реАрдЖрдИ рдПрдХ рдмрд▓реНрдХрд┐ рдЬрдЯрд┐рд▓ рдорд╛рдирдХ рд╣реИ рдЬреЛ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдФрд░ рддреЗрдЬ рдбреЗрдЯрд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХреЛ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рд╕реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рд╣реА рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдФрд░ рд╡рд┐рдкрд░реАрдд рджрд┐рд╢рд╛ рдореЗрдВред <br><br>  рдЖрдкрдХреЛ рдпрд╣ рд▓реЗрдЦ рдЙрдкрдпреЛрдЧреА рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЗ рдкрд╛рд╕ рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд▓реЗрдЦрди рдХреМрд╢рд▓ рдФрд░ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреЗ рд▓рд┐рдП рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдкрдврд╝рдирд╛ рдирд╣реАрдВ рд╣реИред  рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг: рдЖрдк рдЕрдкрдиреЗ рдУрдПрд╕ рдХреЛ рдПрдХ рдорд┐рдиреА-рдкреАрд╕реА рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддрд╛рдХрд┐ рдХреБрдЫ рд╡рд┐рдВрдбреЛрдЬ рдпрд╛ рдЕрдиреНрдп рд▓рд┐рдирдХреНрд╕ рд╡рд┐рддрд░рдг рд▓реЛрд╣рд╛ рдбрд╛рдЙрдирд▓реЛрдб рди рдХрд░реЗрдВ, рдФрд░ рдЖрдк рдЗрд╕рдХреА рд╕рднреА рд╢рдХреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреНрд░рдпреЛрдЬрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВред <br><a name="habracut"></a><br><h3>  <b>рдИрдПрдЪрд╕реАрдЖрдИ рдХреНрдпрд╛ рд╣реИ</b> </h3><br>  рдЕрдЪреНрдЫрд╛, рдЪрд▓рд┐рдП рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  EHCI - рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╣реЛрд╕реНрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕, USB рдбрд┐рд╡рд╛рдЗрд╕ рдФрд░ рдЕрдиреНрдп рджрд┐рд╢рд╛ рдореЗрдВ рдбреЗрдЯрд╛ рдФрд░ рдирд┐рдпрдВрддреНрд░рдг рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ 99% рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдпрд╣ рдХрд┐рд╕реА рднреА рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдФрд░ рдПрдХ рднреМрддрд┐рдХ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдмреАрдЪ рдПрдХ рд▓рд┐рдВрдХ рд╣реИред  EHCI рдПрдХ PCI рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рддрджрдиреБрд╕рд╛рд░ рдирд┐рдпрдВрддреНрд░рдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП MMIO (рдореЗрдореЛрд░реА-рдореИрдкреНрдб-IO) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ (рд╣рд╛рдБ, рдореБрдЭреЗ рдкрддрд╛ рд╣реИ рдХрд┐ рдХреБрдЫ PCI рдбрд┐рд╡рд╛рдЗрд╕ рдкреЛрд░реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рдореИрдВрдиреЗ рд╕рдм рдХреБрдЫ рд╕рд╛рдорд╛рдиреНрдп рдХрд░ рджрд┐рдпрд╛ рд╣реИ)ред  рдЗрдВрдЯреЗрд▓ рд╕реЗ рдкреНрд░рд▓реЗрдЦрди рдХреЗрд╡рд▓ рдСрдкрд░реЗрд╢рди рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдХрдо рд╕реЗ рдХрдо рдЫрджреНрдо рдХреЛрдб рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рд╕рднреА рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдореЗрдВ рдХреЛрдИ рд╕рдВрдХреЗрдд рдирд╣реАрдВ рд╣реИрдВред  EHCI рдореЗрдВ 2 рдкреНрд░рдХрд╛рд░ рдХреЗ MMIO рд░рдЬрд┐рд╕реНрдЯрд░ рд╣реИрдВ: рдХреНрд╖рдорддрд╛ рдФрд░ рдкрд░рд┐рдЪрд╛рд▓рдиред  рдкреВрд░реНрд╡ рдирд┐рдпрдВрддреНрд░рдХ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛ рдХрд░рддреЗ рд╣реИрдВ, рдЬрдмрдХрд┐ рдмрд╛рдж рд╡рд╛рд▓реЗ рдЗрд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛ рдХрд░рддреЗ рд╣реИрдВред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдореИрдВ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдФрд░ EHCI рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдмрд╣реБрдд рд╕рд╛рд░ рд╕рдВрд▓рдЧреНрди рдХрд░реВрдВрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/rh/px/zr/rhpxzre1s167jv51xhcz_shffsu.jpeg" alt="рдЫрд╡рд┐"><br><br>  рдкреНрд░рддреНрдпреЗрдХ рдИрдПрдЪрд╕реАрдЖрдИ рдирд┐рдпрдВрддреНрд░рдХ рдореЗрдВ рдХрдИ рдкреЛрд░реНрдЯ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЛ рдХрд┐рд╕реА рднреА рдпреВрдПрд╕рдмреА рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдИрдПрдЪрд╕реАрдЖрдИ рдпреВрдПрдЪрд╕реАрдЖрдИ рдХрд╛ рдПрдХ рдЙрдиреНрдирдд рд╕рдВрд╕реНрдХрд░рдг рд╣реИ, рдЬрд┐рд╕реЗ рдХреБрдЫ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рдЗрдВрдЯреЗрд▓ рджреНрд╡рд╛рд░рд╛ рднреА рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдкрд┐рдЫрдбрд╝реЗ рд╕рдВрдЧрддрддрд╛ рдХреЗ рд▓рд┐рдП, рдХреЛрдИ рднреА UHCI / OHCI рдирд┐рдпрдВрддреНрд░рдХ рдЬрд┐рд╕рдХрд╛ EHCI рд╕реЗ рдХрдо рд╕рдВрд╕реНрдХрд░рдг рд╣реИ, EHCI рдХрд╛ рд╕рд╛рдереА рд╣реЛрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ USB рдХреАрдмреЛрд░реНрдб (рдФрд░ рд╡рд░реНрд╖ рдХреЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдХреАрдмреЛрд░реНрдб рдЕрднреА рддрдХ рдРрд╕реЗ рд╣реА рд╣реИрдВ) рдЬреЛ USB 1.1 рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ USB 1.1 рдХреА рдЕрдзрд┐рдХрддрдо рдЧрддрд┐ 12 рдореЗрдЧрд╛рдмрд┐рдЯ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рд╣реИ, рдФрд░ FullSpeed тАЛтАЛUSB 2.0 рдореЗрдВ рдмреИрдВрдбрд╡рд┐рдбреНрде рд╣реИ рдЬрд┐рддрдирд╛ рдЕрдзрд┐рдХ 480 рдПрдордмреАрдкреАрдПрд╕), рдФрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдпреВрдПрд╕рдмреА 2.0 рдкреЛрд░реНрдЯ рд╡рд╛рд▓рд╛ рдХрдВрдкреНрдпреВрдЯрд░ рд╣реИ, рдЬрдм рдХреАрдмреЛрд░реНрдб рдХреЛ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдИрдПрдЪрд╕реАрдЖрдИ рд╣реЛрд╕реНрдЯ рдирд┐рдпрдВрддреНрд░рдХ рдпреВрдПрд╕рдмреА 1.1 рдХреЗ рд╕рд╛рде рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред  рдпрд╣ рдореЙрдбрд▓ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/61/mg/lf/61mglfeajk5ivpcqmwjkazxniwy.jpeg" alt="рдЫрд╡рд┐"><br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓рд┐рдП рдореИрдВ рддреБрд░рдВрдд рдЪреЗрддрд╛рд╡рдиреА рджреЗрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдРрд╕реА рдмреЗрддреБрдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдХрд╛рд░рдг рдЖрдкрдХрд╛ рдбреНрд░рд╛рдЗрд╡рд░ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ: рдЖрдкрдиреЗ рдпреВрдПрдЪрд╕реАрдЖрдИ рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд┐рдпрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдИрдПрдЪрд╕реАрдЖрдИ рдиреЗ рджреЛ рд╕рдорд╛рди рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реБрдП рдкреЛрд░реНрдЯ рдУрдирд░ рдХрдВрдЯреНрд░реЛрд▓ рдмрд┐рдЯ рдХреЛ рдкреЛрд░реНрдЯ рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдпреВрдПрдЪрд╕реАрдЖрдИ рдиреЗ рдХрд╛рдо рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛, рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд┐ рдИрдПрдЪрд╕реАрдЖрдИ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреЛрд░реНрдЯ рдХреЛ рдЦреБрдж рд╣реА рдбреНрд░рдЧреНрд╕ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдпреВрдПрдЪрд╕реАрдЖрдИ рдкрд░ рдкреЛрд░реНрдЯ рдЬрд╡рд╛рдм рджреЗрдирд╛ рдмрдВрдж рдХрд░ рджреЗрддрд╛ рд╣реИ, рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдкрд░ рдирдЬрд░ рд░рдЦрдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдЗрдП EHCI рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЛ рджрд┐рдЦрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЖрд░реЗрдЦ рдХреЛ рд╕реНрд╡рдпрдВ рджреЗрдЦреЗрдВ: <br><br><img src="https://habrastorage.org/webt/vq/t-/nt/vqt-ntbqnrcrz4k8he1uzngwyyo.jpeg" alt="рдЫрд╡рд┐"><br><br>  рджрд╛рдИрдВ рдУрд░ рдХрддрд╛рд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд▓рд┐рдЦрд╛ рд╣реИ - рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рджред <br><br><h2>  EHCI рдирд┐рдпрдВрддреНрд░рдХ рдкрдВрдЬреАрдХреГрдд рдХрд░рддрд╛ рд╣реИ </h2><br>  рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд╕реНрдкрд╖реНрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдЗрди рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдк рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░реЗрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рд╡реЗ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИрдВ - рдФрд░ рдЙрдирдХреЗ рдмрд┐рдирд╛ рдИрдПрдЪрд╕реАрдЖрдИ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдЕрд╕рдВрднрд╡ рд╣реИред <br><br>  рдкрд╣рд▓реЗ рдЖрдкрдХреЛ MMIO рдкрддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ рдХрд┐ рдЗрд╕ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдСрдлрд╕реЗрдЯ + 0x10 рдкрд░ рд╣рдорд╛рд░реЗ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдкреНрд░рддреАрдХреНрд╖рд┐рдд рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХрд╛ рдкрддрд╛ рд╣реЛрдЧрд╛ред  рдПрдХ рдмрд╛рдд рд╣реИ: рдкрд╣рд▓реЗ, рдХреНрд╖рдорддрд╛ рд░рдЬрд┐рд╕реНрдЯрд░ рдЬрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдЙрдирдХреЗ рдмрд╛рдж рд╣реА - рдСрдкрд░реЗрд╢рдирд▓, рдЗрд╕рд▓рд┐рдП, рдСрдлрд╕реЗрдЯ 0 рдкрд░ (рдкрд┐рдЫрд▓реЗ рдкрддреЗ рд╕реЗ рдЬреЛ рд╣рдореЗрдВ рд╣рдорд╛рд░реЗ EHCI рдХреЗ MMIO рдХреА рд╢реБрд░реБрдЖрдд рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдСрдлрд╕реЗрдЯ 0x10 рдкрд░ рдкреНрд░рд╛рдкреНрдд рд╣реБрдЖ рд╣реИ) рдПрдХ рдмрд╛рдЗрдЯ рд╣реИ - рдХреНрд╖рдорддрд╛ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреА рд▓рдВрдмрд╛рдИред <br><br><h3>  <b>рдХреНрд╖рдорддрд╛ рд░рдЬрд┐рд╕реНрдЯрд░</b> </h3><br>  рдСрдлрд╝рд╕реЗрдЯ 2 рдореЗрдВ, <b>HCIVERSION</b> рд░рдЬрд┐рд╕реНрдЯрд░ <b>рд╕реНрдерд┐рдд рд╣реИ</b> - рдЗрд╕ HC рдХреА рд╕рдВрд╢реЛрдзрди рд╕рдВрдЦреНрдпрд╛, рдЬрд┐рд╕рдореЗрдВ 2 рдмрд╛рдЗрдЯреНрд╕ рд╣реИрдВ рдФрд░ рдЗрд╕рдореЗрдВ рд╕рдВрд╢реЛрдзрди рдХрд╛ BCD рд╕рдВрд╕реНрдХрд░рдг (рдЬреЛ BCD рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛ рдкрд░ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ) рд╢рд╛рдорд┐рд▓ рд╣реИред <br>  рдСрдлрд╕реЗрдЯ +4 рдкрд░, <b>HCSPARAMS</b> рд░рдЬрд┐рд╕реНрдЯрд░ <b>рд╕реНрдерд┐рдд рд╣реИ</b> , рдЗрд╕рдХрд╛ рдЖрдХрд╛рд░ 2 рд╢рдмреНрдж рд╣реИ, рдЗрд╕рдореЗрдВ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд╕рдВрд░рдЪрдирд╛рддреНрдордХ рдкреИрд░рд╛рдореАрдЯрд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдФрд░ рдЗрд╕рдХреЗ рдмрд┐рдЯреНрд╕ рдирд┐рдореНрди рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВ: <br><br><ul><li>  рдмрд┐рдЯ 16 - рдкреЛрд░реНрдЯ рд╕рдВрдХреЗрддрдХ - рдХрдиреЗрдХреНрдЯреЗрдб рдпреВрдПрд╕рдмреА рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдПрд▓рдИрдбреАред </li><li>  15:12 рдмрд┐рдЯреНрд╕ - рдЗрд╕ рдирд┐рдпрдВрддреНрд░рдХ рдХреЛ рд╕реМрдВрдкреЗ рдЧрдП рд╕рд╛рдереА рдирд┐рдпрдВрддреНрд░рдХ рдХреА рд╕рдВрдЦреНрдпрд╛ </li><li>  рдмрд┐рдЯреНрд╕ 11: 8 - рд╕рд╛рдереА рдирд┐рдпрдВрддреНрд░рдХ рдкрд░ рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ </li><li>  рдмрд┐рдЯ 7 - рдкреЛрд░реНрдЯ рд░реВрдЯрд┐рдВрдЧ рдирд┐рдпрдо - рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдЗрди рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХреЛ рд╕рд╛рдереА рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдкрд░ рдХреИрд╕реЗ рдореИрдк рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдмрд┐рдЯ 4 - рдкреЛрд░реНрдЯ рдкрд╛рд╡рд░ рдХрдВрдЯреНрд░реЛрд▓ - рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдкреНрд░рддреНрдпреЗрдХ рдкреЛрд░реНрдЯ рдХреЛ рдкрд╛рд╡рд░ рдЪрд╛рд▓реВ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, 0 - рдкрд╛рд╡рд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрдкреВрд░реНрддрд┐ рдХреА рдЬрд╛рддреА рд╣реИ </li><li>  рдмрд┐рдЯреНрд╕ 3: 0 - рдЗрд╕ рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд▓рд┐рдП рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ред </li><li>  рдСрдлрд╕реЗрдЯ +8 рдореЗрдВ HCCPARAMS рд░рдЬрд┐рд╕реНрдЯрд░ рдирд┐рд╣рд┐рдд рд╣реИ - рдпрд╣ рдЕрдиреБрдХреВрд▓рддрд╛ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдмрд┐рдЯреНрд╕ рдХрд╛ рдЕрд░реНрде рдирд┐рдореНрди рд╣реИ: </li><li>  рдмрд┐рдЯ 2 - рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрддрд╛рд░ рдЙрдкрд▓рдмреНрдзрддрд╛, </li><li>  рдмрд┐рдЯ 1 - рдЖрд╡рдзрд┐рдХ (рдЕрдиреБрдХреНрд░рдорд┐рдХ) рдХрддрд╛рд░ рдЙрдкрд▓рдмреНрдзрддрд╛ </li><li>  рдмрд┐рдЯ 0 - 64 рдмрд┐рдЯ рд╕рдВрдЧрддрддрд╛ </li></ul><br><h3>  <b>рдСрдкрд░реЗрд╢рди рд░рдЬрд┐рд╕реНрдЯрд░</b> </h3><br>  рдСрдлрд╝рд╕реЗрдЯ 0 рдкрд░, <b>USBCMD</b> рд░рдЬрд┐рд╕реНрдЯрд░ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХрд╛ рдХрдорд╛рдВрдб рд░рдЬрд┐рд╕реНрдЯрд░ рд╣реИ, рдЗрд╕рдХреЗ рдмрд┐рдЯреНрд╕ рдХрд╛ рдорддрд▓рдм рдирд┐рдореНрди рд╣реИ: <br><br><ul><li>  рдмрд┐рдЯреНрд╕ 23:16 - рдЗрдВрдЯрд░рдкреНрдЯ рдереНрд░реЗрд╢реЛрд▓реНрдб рдХрдВрдЯреНрд░реЛрд▓ - рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдирд┐рдпрдорд┐рдд рдлреНрд░реЗрдо рдХреЗ рд▓рд┐рдП рдХрд┐рддрдиреЗ рдорд╛рдЗрдХреНрд░реЛ-рдлреНрд░реЗрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдмрдбрд╝рд╛, рддреЗрдЬ, рд▓реЗрдХрд┐рди рдпрджрд┐ 8 рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ, рддреЛ рдорд╛рдЗрдХреНрд░реЛ-рдлреНрд░реЗрдо рдХреЛ 8 рдХреЗ рд▓рд┐рдП рдЙрд╕реА рдЧрддрд┐ рд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </li><li>  рдмрд┐рдЯ 6 - рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрддрд╛рд░ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд▓реЗрдирджреЗрди рдХреЗ рдмрд╛рдж рд░реБрдХрд╛рд╡рдЯ, </li><li>  рдмрд┐рдЯ 5 - рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрддрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдмрд┐рдЯ 4 - рдЕрдиреБрдХреНрд░рдорд┐рдХ рдХрддрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ, </li><li>  рдмрд┐рдЯреНрд╕ 3: 2 - рдлреНрд░реЗрдорд▓рд┐рд╕реНрдЯ рдХрд╛ рдЖрдХрд╛рд░ (рдЙрд╕ рдкрд░ рдмрд╛рдж рдореЗрдВ)ред  0 рдХрд╛ рдЕрд░реНрде рд╣реИ 1024 рддрддреНрд╡, 1 - 512, 2 - 256, 3 - рдЖрд░рдХреНрд╖рд┐рдд </li><li>  рдмрд┐рдЯ 1 - рдореЗрдЬрдмрд╛рди рдирд┐рдпрдВрддреНрд░рдХ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░реЗрдВред </li><li>  рдмрд┐рдЯ 0 - рд░рди / рд╕реНрдЯреЙрдк </li></ul>  ред <br>  рдЕрдЧрд▓рд╛, рдСрдлрд╕реЗрдЯ +4 рдкрд░, <b>USBSTS</b> рд░рдЬрд┐рд╕реНрдЯрд░ рд╣реИ - рдореЗрдЬрдмрд╛рди рдирд┐рдпрдВрддреНрд░рдХ рдХреА рд╕реНрдерд┐рддрд┐, <br><br><ul><li>  рдмрд┐рдЯ 15 рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдПрдХ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрддрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред </li><li>  рдмрд┐рдЯ 14 рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЕрдиреБрдХреНрд░рдорд┐рдХ рдХрддрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, </li><li>  рдмрд┐рдЯ 13 - рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдЦрд╛рд▓реА рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрддрд╛рд░ рдХрд╛ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ, </li><li>  рдмрд┐рдЯ 12 рдХреЛ 1 рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрджрд┐ рд▓реЗрдирджреЗрди рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддреЗ рд╕рдордп рдХреЛрдИ рддреНрд░реБрдЯрд┐ рд╣реБрдИ, рддреЛ рдореЗрдЬрдмрд╛рди рдирд┐рдпрдВрддреНрд░рдХ рд╕рднреА рдХрддрд╛рд░реЛрдВ рдХреЛ рд░реЛрдХ рджреЗрдЧрд╛ред </li><li>  рдмрд┐рдЯ 4 рдХреЛ 1 рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрджрд┐ рдХреЛрдИ рдЧрдВрднреАрд░ рддреНрд░реБрдЯрд┐ рд╣реЛрддреА рд╣реИ, рддреЛ рд╣реЛрд╕реНрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ рд╕рднреА рдХрддрд╛рд░реЛрдВ рдХреЛ рд░реЛрдХ рджреЗрддрд╛ рд╣реИред </li><li>  рдмрд┐рдЯ 3 рдлреНрд░реЗрдорд▓рд┐рд╕реНрдЯ (рд░рдЬрд┐рд╕реНрдЯрд░) рд░реЛрд▓рдУрд╡рд░ - 1 рдкрд░ рд╕реЗрдЯ рдЬрдм рд╣реЛрд╕реНрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ рдиреЗ рдкреВрд░реЗ рдлреНрд░реЗрдорд▓рд┐рд╕реНрдЯ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ред </li><li>  рдмрд┐рдЯ 1 - USB рддреНрд░реБрдЯрд┐ рдмрд╛рдзрд╛ - рдХреНрдпрд╛ рдореИрдВ рдПрдХ рддреНрд░реБрдЯрд┐ рдЕрд╡рд░реЛрдз рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реВрдВ? </li><li>  рдмрд┐рдЯ 0 - рдпреВрдПрд╕рдмреА рдЗрдВрдЯрд░рдкреНрдЯ - рд╕рдлрд▓ рд▓реЗрдирджреЗрди рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдмрд╛рдж рд╕реЗрдЯ, рдЕрдЧрд░ рдЖрдИрдУрдбреА рдЯреАрдбреА рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ </li></ul><br>  рдирд╣реАрдВ рдердХрд╛?  рдЖрдк рдЕрдкрдиреЗ рдЖрдк рдХреЛ рдПрдХ рдордЬрдмреВрдд рд╕реАрдЧрд▓ рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЬрд┐рдЧрд░ рд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдо рдмрд╣реБрдд рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╣реИрдВ! <br><br>  рдСрдлрд╕реЗрдЯ +8 рдкрд░, рдПрдХ <b>USBINTR</b> рд░рдЬрд┐рд╕реНрдЯрд░ рд╣реИ - рдЗрдВрдЯрд░рдкреНрдЯ <b>рдЗрдиреЗрдмрд▓реНрдб</b> рд░рдЬрд┐рд╕реНрдЯрд░ <br>  рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдирд╣реАрдВ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдФрд░ рдЗрд╕рд╕реЗ рднреА рдЕрдзрд┐рдХ, рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдирд╣реАрдВ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕ рд░рдЬрд┐рд╕реНрдЯрд░ рдХреЗ рдмрд┐рдЯреНрд╕ рдХреЗ рдорд╛рди рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд┐рдВрдХ рдиреАрдЪреЗ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдпрд╣рд╛рдБ рдореИрдВ рд╕рд┐рд░реНрдл 0 рд▓рд┐рдЦрддрд╛ рд╣реВрдБ, рдХреНрдпреЛрдВрдХрд┐  рдореБрдЭреЗ рд╣реИрдВрдбрд▓рд░, рдореИрдк рдЗрдВрдЯрд░рдкреНрдЯ рдЖрджрд┐ рд▓рд┐рдЦрдиреЗ рдХреА рдмрд┐рд▓реНрдХреБрд▓ рдЗрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд▓рдЧрднрдЧ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╡реНрдпрд░реНрде рд╣реИред <br><br>  рдСрдлрд╕реЗрдЯ +12 (0x0C) рдкрд░, <b>FRINDEX</b> рд░рдЬрд┐рд╕реНрдЯрд░ <b>рд╕реНрдерд┐рдд рд╣реИ</b> , рдЬрд┐рд╕рдореЗрдВ рд╡рд░реНрддрдорд╛рди рдлреНрд░реЗрдо рдирдВрдмрд░ рдмрд╕ рдЭреВрда рд╣реИ, рдФрд░ рдореИрдВ рдпрд╣ рдиреЛрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдкрд┐рдЫрд▓реЗ 4 рдмрд┐рдЯреНрд╕ рдорд╛рдЗрдХреНрд░реЛ-рдлреНрд░реЗрдо рдирдВрдмрд░ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ, рдКрдкрд░реА 28 рдмрд┐рдЯреНрд╕ рдореЗрдВ рдлреНрд░реЗрдо рдирдВрдмрд░ (рд╕рдорд╛рди рдореВрд▓реНрдп рдЖрд╡рд╢реНрдпрдХ рд░реВрдк рд╕реЗ рдлреНрд░реЗрдорд▓рд┐рд╕реНрдЯ рдЖрдХрд╛рд░ рд╕реЗ рдХрдо рдирд╣реАрдВ рд╣реИ) рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдкрдХреЛ рдПрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ 0x3FF (рдпрд╛ 0x1FF, рдЖрджрд┐) рдХреЗ рдореБрдЦреМрдЯрд╛ рдХреЗ рд╕рд╛рде рд▓реЗрдирд╛ рдмреЗрд╣рддрд░ рд╣реИред <br><br>  <b>CTRLDSSEGMENT</b> рд░рдЬрд┐рд╕реНрдЯрд░ рдСрдлрд╕реЗрдЯ + 0x10 рдкрд░ рд╣реИ, рдпрд╣ рд╣реЛрд╕реНрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рдлреНрд░реЗрдо рд╢реАрдЯ рдХреЗ рдкрддреЗ рдХреЗ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг 32 рдмрд┐рдЯреНрд╕ рджрд┐рдЦрд╛рддрд╛ рд╣реИред <br><br>  PERIODICLISTBASE рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ + 0x14 рдХреА рдПрдХ рдСрдлрд╕реЗрдЯ рд╣реИ, рдЖрдк рдлреНрд░реЗрдо рд╢реАрдЯ рдХреЗ рдирд┐рдЪрд▓реЗ 32 рдмрд┐рдЯреНрд╕ рдХреЛ рдЗрд╕рдореЗрдВ рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдкрддрд╛ рдХреЛ рд╕реНрдореГрддрд┐ рдкреГрд╖реНрда (4096) рдХреЗ рдЖрдХрд╛рд░ рдореЗрдВ рд╕рдВрд░реЗрдЦрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  <b>ASYNCLISTADDR</b> рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ + 0x18 рдХреА рдСрдлрд╕реЗрдЯ рд╣реИ, рдЖрдк рдЗрд╕рдореЗрдВ рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рдХрддрд╛рд░ рдХрд╛ рдкрддрд╛ рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕реЗ 32 рдмрд╛рдЗрдЯреНрд╕ рдХреА рд╕реАрдорд╛ рдореЗрдВ рдЧрдардмрдВрдзрди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрдмрдХрд┐ рдпрд╣ рднреМрддрд┐рдХ рдореЗрдореЛрд░реА рдХреЗ рдкрд╣рд▓реЗ рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  <b>CONFIGFLAG</b> рд░рдЬрд┐рд╕реНрдЯрд░ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред  рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗрдЯрдЕрдк рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ рдмрд┐рдЯ 0 рд╕реЗрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЗрд╕рдореЗрдВ рдСрдлрд╝рд╕реЗрдЯ 0x40 рд╣реИред <br><br>  рдкреЛрд░реНрдЯ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдкрд░ рдЪрд▓рддреЗ рд╣реИрдВред  рдкреНрд░рддреНрдпреЗрдХ рдкреЛрд░реНрдЯ рдХрд╛ рдЕрдкрдирд╛ рдХрдорд╛рдВрдб-рд╕реНрдЯреЗрдЯрд╕ рд░рдЬрд┐рд╕реНрдЯрд░ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рдкреЛрд░реНрдЯ рд░рдЬрд┐рд╕реНрдЯрд░ рдСрдлрд╕реЗрдЯ <b>+ 0x44 + (рдкреЛрд░реНрдЯрдирдВрдмрд░ - 1) * 4 рд╣реИ</b> , рдЗрд╕рдХреЗ рдмрд┐рдЯреНрд╕ рдХрд╛ рдорддрд▓рдм рдирд┐рдореНрди рд╣реИ: <br><br><ul><li>  рдмрд┐рдЯ 12 - рдкреЛрд░реНрдЯ рдкрд╛рд╡рд░, 1 - рдмрд┐рдЬрд▓реА рдХреА рдЖрдкреВрд░реНрддрд┐ рдХреА рдЬрд╛рддреА рд╣реИ, 0 - рдирд╣реАрдВред </li><li>  рдмрд┐рдЯ 8 - рдкреЛрд░реНрдЯ рд░реЗрд╕реНрдЯ - рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </li><li>  3 рдмрд┐рдЯ - рдкреЛрд░реНрдЯ рдЗрдиреЗрдмрд▓ / рдбрд┐рд╕реЗрдмрд▓ рдЪреЗрдВрдЬ - рдкреЛрд░реНрдЯ рдХреЗ "рдЗрдиреНрдХреНрд▓реВрдЬрди" рдХрд╛ рд╕реНрдЯреЗрдЯрд╕ рдмрджрд▓рддреЗ рд╕рдордп рд╕реЗрдЯ рдХрд░реЗрдВред </li><li>  рдмрд┐рдЯ 2 - рдкреЛрд░реНрдЯ рдСрди / рдСрдлред </li><li>  рдмрд┐рдЯ 1 - рдХрдиреЗрдХреНрд╢рди рдХреА рд╕реНрдерд┐рддрд┐ рдмрджрд▓реЗрдВ, 1 рдкрд░ рд╕реЗрдЯ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдПрдХ рдпреВрдПрд╕рдмреА рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдпрд╛ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рд╣реЛ рдЧрдП рд╣реИрдВред </li><li>  рдмрд┐рдЯ 0 - рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд┐рддрд┐, 1 - рдЬреБрдбрд╝рд╛ рд╣реБрдЖ, 0 - рдирд╣реАрдВред </li></ul><br>  рдЕрдм рдЬреВрд╕ рдкрд░ рд╣реА рдЪрд▓рддреЗ рд╣реИрдВред <br><br><h2>  рдбреЗрдЯрд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдФрд░ рдХреНрд╡реЗрд░реА рд╕рдВрд░рдЪрдирд╛рдПрдБ </h2><br>  рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдЖрдпреЛрдЬрди рдореЗрдВ рдХрддрд╛рд░реЛрдВ рдФрд░ рд╣рд╕реНрддрд╛рдВрддрд░рдг рд╡рд┐рд╡рд░рдгрдХреЛрдВ (рдЯреАрдбреАрдПрд╕) рд╢рд╛рдорд┐рд▓ рд╣реИрдВред <br><br>  рдлрд┐рд▓рд╣рд╛рд▓, рд╣рдо рдХреЗрд╡рд▓ 3 рд╕рдВрд░рдЪрдирд╛рдУрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред <br><br><h3>  рдЕрдиреБрдХреНрд░рдорд┐рдХ рд╕реВрдЪреА </h3><br>  рдЕрдиреБрдХреНрд░рдорд┐рдХ (рдЖрд╡рдзрд┐рдХ, рдкреЗрд░рд┐рдпреЛрдбрд┐рдХ) рд╕реВрдЪреА рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/hv/2h/23/hv2h23mnmv5uks1ffugte6ycpcu.jpeg" alt="рдЫрд╡рд┐"><br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЖрд░реЗрдЦ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╢реАрдЯ рдлреНрд░реЗрдо рд╕реЗ рд╡рд╛рдВрдЫрд┐рдд рдлреНрд░реЗрдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рддрддреНрд╡ рдореЗрдВ 4 рдмрд╛рдЗрдЯреНрд╕ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрд░рдЪрдирд╛ рд╣реЛрддреА рд╣реИ: <br><br><img src="https://habrastorage.org/webt/o_/m7/ic/o_m7icnqm0ifgvnfpfycwahilwy.jpeg" alt="рдЫрд╡рд┐"><br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЪрд┐рддреНрд░ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдХрддрд╛рд░ рдХрд╛ рдкрддрд╛ / рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг 32 рдмрд╛рдЗрдЯреНрд╕ рдХреА рд╕реАрдорд╛ рдкрд░ рд╕рдВрд░реЗрдЦрд┐рдд рд╣реИ, рдмрд┐рдЯ 0 рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдореЗрдЬрдмрд╛рди рдирд┐рдпрдВрддреНрд░рдХ рдЗрд╕ рддрддреНрд╡ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рдмрд┐рдЯреНрд╕ 3: 1 рд╕рдВрдХреЗрдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдореЗрдЬрдмрд╛рди рдирд┐рдпрдВрддреНрд░рдХ рдХреНрдпрд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░реЗрдЧрд╛: 0: isosynchronous TD (iTD), 1 - рдмрд╛рд░реА, 2 рдФрд░ 3 рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд░реВрдВрдЧрд╛ред <br><br><h3>  рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрддрд╛рд░ </h3><br>  рд╣реЛрд╕реНрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ рдЗрд╕ рдХрддрд╛рд░ рдХреЛ рддрднреА рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рддрд╛ рд╣реИ рдЬрдм рдЕрдиреБрдХреНрд░рдорд┐рдХ рдлреНрд░реЗрдо рдЦрд╛рд▓реА рд╣реЛ рдпрд╛ рд╣реЛрд╕реНрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ рдиреЗ рдкреВрд░реА рд╕реАрд░рд┐рдпрд▓ рд▓рд┐рд╕реНрдЯ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░ рджрд┐рдпрд╛ рд╣реЛред <br><br>  рдПрдХ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрддрд╛рд░ рдПрдХ рдХрддрд╛рд░ рдХрд╛ рдПрдХ рд╕рдВрдХреЗрддрдХ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЕрдиреНрдп рдХрддрд╛рд░реЗрдВ рд╣реЛрддреА рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдбреНрд░рд╛рдЗрд╡рд┐рдВрдЧ: <br><br><img src="https://habrastorage.org/webt/rz/sv/4s/rzsv4sqoyqegzwqoij9vl7qpt14.jpeg" alt="рдЫрд╡рд┐"><br><br><h3>  qTD (рдХрддрд╛рд░ рддрддреНрд╡ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░) </h3><br>  рдЗрд╕ рдЯреАрдбреА рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрд░рдЪрдирд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/hf/gq/g5/hfgqg5fvujkx2bv8piy6i3gijyu.jpeg" alt="рдЫрд╡рд┐"><br><br>  <b>рдЕрдЧрд▓рд╛ qTD рдкреЙрдЗрдВрдЯрд░</b> - рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрддрд╛рд░ рдХреА рдирд┐рд░рдВрддрд░рддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реВрдЪрдХ (рдХреНрд╖реИрддрд┐рдЬ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП), рдмрд┐рдЯ 0 рдЕрдЧрд▓рд╛ qTD рд╕реВрдЪрдХ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЖрдЧреЗ рдХреЛрдИ рдХрддрд╛рд░ рдирд╣реАрдВ рд╣реИред <br>  <b>qTD рдЯреЛрдХрди</b> - рдЯреАрдбреА рдЯреЛрдХрди, рдбреЗрдЯрд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ: <br><br><ul><li>  рдмрд┐рдЯ 31 - рдбреЗрдЯрд╛ рдЯреЙрдЧрд▓ (рдЙрд╕ рдкрд░ рдмрд╛рдж рдореЗрдВ) </li><li>  рдмрд┐рдЯреНрд╕ 30:16 - рд╣рд╕реНрддрд╛рдВрддрд░рдг рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛, рд▓реЗрдирджреЗрди рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рд╕реЗ рдЙрдирдХрд╛ рдореВрд▓реНрдп рдШрдЯ рдЬрд╛рддрд╛ рд╣реИред </li><li>  рдмрд┐рдЯ 15 - рдЖрдИрдУрд╕реА - рдЗрдВрдЯрд░рдкреНрдЯ рдСрди рдкреВрд░реНрдг - рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рд░реБрдХрд╛рд╡рдЯред </li><li>  рдмрд┐рдЯреНрд╕ 14:12 рд╡рд░реНрддрдорд╛рди рдмрдлрд╝рд░ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ / рдЬрд┐рд╕рд╕реЗ рдбреЗрдЯрд╛ рдХрд╛ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕ рдкрд░ рдмрд╛рдж рдореЗрдВ рджрд┐рдЦрд╛рддрд╛ рд╣реИред </li><li>  11:10 рдмрд┐рдЯреНрд╕ - рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреА рдЕрдиреБрдорддрд┐ рджреА рд╕рдВрдЦреНрдпрд╛ред  рдЬрдм рддреНрд░реБрдЯрд┐ рдЧрд┐рдирддреА рдХрдо рд╣реЛ рдЬрд╛рддреА рд╣реИ рддреЛ рдпрд╣ рддрд╛рд▓рд┐рдХрд╛ рджрд┐рдЦрд╛рддреА рд╣реИ: <br><br><img src="https://habrastorage.org/webt/ko/hz/ia/kohzia9y2vxtrd1tepp-h5qokgm.jpeg" alt="рдЫрд╡рд┐"><br><br>  рдлреБрдЯрдиреЛрдЯ 1 - рдпрд╛ рддреЛ рдмрдмреНрдмрд▓ рдпрд╛ рд╕реНрдЯрд╛рд▓ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрддрд╛рд░ рдкреНрд░рдореБрдЦ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рд░реЛрдХ рджреЗрддрд╛ рд╣реИред  рдлреБрдЯрдиреЛрдЯ 3 - рдбреЗрдЯрд╛ рдмрдлрд╝рд░ рддреНрд░реБрдЯрд┐рдпрд╛рдБ рд╣реЛрд╕реНрдЯ рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдПрдБ рд╣реИрдВред  рд╡реЗ рдбрд┐рд╡рд╛рдЗрд╕ рд░рд┐рдЯреНрд░реАрдЯ рдХрд╛ рд╣рд┐рд╕рд╛рдм рдирд╣реАрдВ рд░рдЦрддреЗ рд╣реИрдВред </li><li>  9: 8 - рдкреАрдЖрдИрдбреА тАЛтАЛрдХреЛрдб - рдЯреЛрдХрди рдХрд╛ рдкреНрд░рдХрд╛рд░: 0 - рдЗрдирдкреБрдЯ рд╕реЗ рдЯреЛрдХрди (рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рд╣реЛрд╕реНрдЯ рддрдХ), 1 - рдЖрдЙрдЯрдкреБрдЯ рд╕реЗ рдЯреЛрдХрди (рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рд╣реЛрд╕реНрдЯ рддрдХ), 2 - "рд╕реЗрдЯрдЕрдк" рдЯреЛрдХрди </li><li>  рдмрд┐рдЯреНрд╕ 7: 0 рдЯреАрдбреА рд╕реНрдерд┐рддрд┐ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ: <br>  рдмрд┐рдЯ 7 рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЯреАрдбреА рдПрдХ рд╕рдХреНрд░рд┐рдп рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реИ (рдпрд╛рдиреА, рдореЗрдЬрдмрд╛рди рдирд┐рдпрдВрддреНрд░рдХ рдЗрд╕ рдЯреАрдбреА рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИ) <br>  рдмрд┐рдЯ 6 - рд░реБрдХрд╛рд╡рдЯ - рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рддреНрд░реБрдЯрд┐ рд╣реБрдИ рд╣реИ рдФрд░ рдЯреАрдбреА рдирд┐рд╖реНрдкрд╛рджрди рдмрдВрдж рд╣реЛ рдЧрдпрд╛ рд╣реИред <br>  рдмрд┐рдЯ 4 - рдмрдмреНрдмрд▓ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ - рдЙрд╕ рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рднреЗрдЬрд╛ рдерд╛, рдпрд╛ рдкреНрд░рддрд┐ рдХреНрд░рд╛рдВрддрд┐, рд╣рдо рдЬреЛ рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЙрд╕рд╕реЗ рдХрдо рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдбрд┐рд╡рд╛рдЗрд╕ рдиреЗ рд╣рдореЗрдВ 100 рдмрд╛рдЗрдЯ рдбреЗрдЯрд╛ рднреЗрдЬрд╛, рдФрд░ рд╣рдо рдХреЗрд╡рд▓ 50 рдмрд╛рдЗрдЯреНрд╕ рдкрдврд╝рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдПрдХ рдФрд░ 50 рдпрджрд┐ рдЗрд╕ рдмрд┐рдЯ рдХреЛ 1 рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рддреЛ рд╣реЙрд▓реНрдЯреЗрдб рдмрд┐рдЯ рднреА рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br>  3 рдмрд┐рдЯ - рд▓реЗрдирджреЗрди рддреНрд░реБрдЯрд┐ - рд▓реЗрди-рджреЗрди рдХреЗ рджреМрд░рд╛рди рдПрдХ рддреНрд░реБрдЯрд┐ рд╣реБрдИред </li></ul><br>  <b>qTD рдмрдлрд╝рд░ рдкреЗрдЬ рдкреЙрдЗрдВрдЯрд░ рд╕реВрдЪреА</b> - 5 рдмрдлрд╝рд░реНрд╕ рдореЗрдВ рд╕реЗ рдХреЛрдИ рднреАред  рдЗрд╕рдореЗрдВ рдПрдХ рд▓рд┐рдВрдХ рд╣реЛрддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдореЗрдореЛрд░реА рдореЗрдВ рд▓реЗрди-рджреЗрди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдбреЗрдЯрд╛ рднреЗрдЬреЗрдВ / рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ), рдмрдлрд╝рд░реНрд╕ рдореЗрдВ рд╕рднреА рдкрддреЗ, рдкрд╣рд▓реЗ рдХреЛ рдЫреЛрдбрд╝рдХрд░, рдкреГрд╖реНрда рдХреЗ рдЖрдХрд╛рд░ (4096 рдмрд╛рдЗрдЯреНрд╕) рдХреЗ рд▓рд┐рдП рд╕рдВрд░реЗрдЦрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><h3>  рд░реЗрдЦрд╛ рдХреЗ рдкреНрд░рдореБрдЦ </h3><br>  рдХрддрд╛рд░ рдкреНрд░рдореБрдЦ рдХреА рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрд░рдЪрдирд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/9m/ob/l7/9mobl76mr1drsddxbgndgbgoneo.jpeg" alt="рдЫрд╡рд┐"><br><br>  <b>рдХрддрд╛рд░ рд╕рд┐рд░ рдХреНрд╖реИрддрд┐рдЬ рд▓рд┐рдВрдХ рд╕реВрдЪрдХ</b> - рдЕрдЧрд▓реА рдХрддрд╛рд░ рдХреЗ рд╕реВрдЪрдХ, рдмрд┐рдЯреНрд╕ 2: 1 рдореЗрдВ рдХрддрд╛рд░ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рди рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/bu/gw/sa/bugwsap9snr11blm5ifggvhei60.jpeg" alt="рдЫрд╡рд┐"><br><br>  <b>рд╕рдорд╛рдкрди рдмрд┐рдВрджреБ рдХреНрд╖рдорддрд╛рдПрдБ / рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ</b> - рдХрддрд╛рд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ: <br><br><ul><li>  26:16 рдмрд┐рдЯреНрд╕ рдореЗрдВ рд╕рдВрдЪрд░рдг рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрддрдо рдкреИрдХреЗрдЯ рдЖрдХрд╛рд░ рд╣реЛрддрд╛ рд╣реИ </li><li>  рдмрд┐рдЯ 14: рдбреЗрдЯрд╛ рдЯреЙрдЧрд▓ рдХрдВрдЯреНрд░реЛрд▓ - рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рд╣реЛрд╕реНрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рд╢реБрд░реБрдЖрддреА рдбреЗрдЯрд╛ рдЯреЙрдЧрд▓ рд╡реИрд▓реНрдпреВ рдХрд╣рд╛рдВ рд▓реЗрдиреА рдЪрд╛рд╣рд┐рдП, 0 - рдХреНрдпреВрдЯреАрдЯреА рдореЗрдВ рдбреАрдЯреА рдмрд┐рдЯ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░рддрд╛ рд╣реИ, рдХреНрдпреВ рд╣реЗрдб рдХреЗ рд▓рд┐рдП рдбреАрдЯреА рдмрд┐рдЯ рдХреЛ рдмрдЪрд╛рддрд╛ рд╣реИред </li><li>  рдмрд┐рдЯ 13:12 - рд╕рдВрдЪрд░рдг рджрд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ: <img src="https://habrastorage.org/webt/gk/tb/sd/gktbsdm7kys5kcgk6e3uewkgf1q.jpeg" alt="рдЫрд╡рд┐"></li><li>  рдмрд┐рдЯреНрд╕ 11: 8 - рдЕрдВрддрд┐рдо рдмрд┐рдВрджреБ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬрд┐рд╕ рдкрд░ рдЕрдиреБрд░реЛрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ </li><li>  рдмрд┐рдЯреНрд╕ 6: 0 - рдбрд┐рд╡рд╛рдЗрд╕ рдкрддрд╛ </li></ul><br>  <b>рд╕рдорд╛рдкрди рдмрд┐рдВрджреБ рдХреНрд╖рдорддрд╛рдПрдВ: рдХрддрд╛рд░ рдкреНрд░рдореБрдЦ DWORD 2</b> - рдкрд┐рдЫрд▓реЗ рджреЛрд╣рд░реЗ рд╢рдмреНрдж рдХреА рдирд┐рд░рдВрддрд░рддрд╛: <br><br><ul><li>  рдмрд┐рдЯреНрд╕ 29:23 - рд╣рдм рдирдВрдмрд░ </li><li>  рдмрд┐рдЯреНрд╕ 22:16 - рд╣рдм рдПрдбреНрд░реЗрд╕ </li></ul><br>  <b>рд╡рд░реНрддрдорд╛рди qTD рд▓рд┐рдВрдХ рд╕реВрдЪрдХ</b> - рд╡рд░реНрддрдорд╛рди qTD рдХреЛ рд╕реВрдЪрдХред <br><br>  рд╣рдо рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╕реЗ рдЧреБрдЬрд░рддреЗ рд╣реИрдВред <br><br><h2>  EHCI рдбреНрд░рд╛рдЗрд╡рд░ </h2><br>  рдЖрдЗрдП рд╢реБрд░реВ рдХрд░реЗрдВ рдХрд┐ рдИрдПрдЪрд╕реАрдЖрдИ рдХрд┐рди рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдЕрдиреБрд░реЛрдз рдХреЗ 2 рдкреНрд░рдХрд╛рд░ рд╣реИрдВ: рдирд┐рдпрдВрддреНрд░рдг - рдПрдХ рд▓рд╛ рдХрдорд╛рдВрдб, рдФрд░ рдмрд▓реНрдХ - рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХреЗ рд▓рд┐рдП, рдбреЗрдЯрд╛ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдХреЗ рд▓рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпреВрдПрд╕рдмреА рдлреНрд▓реИрд╢ рдбреНрд░рд╛рдЗрд╡ (рдпреВрдПрд╕рдмреА рдорд╛рд╕рд╕реНрдЯреЗрдЬ) рдХреЗ рд╡рд┐рд╢рд╛рд▓ рдмрд╣реБрдордд рдбреЗрдЯрд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдкреНрд░рдХрд╛рд░ рдмрд▓реНрдХ / рдмрд▓реНрдХ / рдмрд▓реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдорд╛рдЙрд╕ рдФрд░ рдХреАрдмреЛрд░реНрдб рдбреЗрдЯрд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХреЗ рд▓рд┐рдП рдмрд▓реНрдХ рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br>  EHCI рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ рдФрд░ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдФрд░ рдЕрдиреБрдХреНрд░рдорд┐рдХ рдХрддрд╛рд░реЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Base I/O Address PciBar bar; PciGetBar(&amp;bar, id, 0); EhciController *hc = VMAlloc(sizeof(EhciController)); hc-&gt;capRegs = (EhciCapRegs *)(uintptr_t)bar.u.address; hc-&gt;opRegs = (EhciOpRegs *)(uintptr_t)(bar.u.address + hc-&gt;capRegs-&gt;capLength); // Read the Command register //    uint cmd = ROR(usbCmdO); // Write it back, setting bit 2 (the Reset bit) //   ,   2(Reset) // and making sure the two schedule Enable bits are clear. //  ,  2   WOR(usbCmdO, 2 | cmd &amp; ~(CMD_ASE | CMD_PSE)); // A small delay here would be good. You don't want to read //     ,     // the register before it has a chance to actually set the bit //   ,         ROR(usbCmdO); // Now wait for the controller to clear the reset bit. //      Reset while (ROR(usbCmdO) &amp; 2); // Again, a small delay here would be good to allow the // reset to actually become complete. //   ROR(usbCmdO); // wait for the halted bit to become set //    Halted    while (!(ROR(usbStsO) &amp; STS_HCHALTED)); //     ,        // ,           128  hc-&gt;frameList = (u32 *)VMAlloc(1024 * sizeof(u32) + 8192 * 4); hc-&gt;frameList = (((uint)hc-&gt;frameList) / 16384) * 16384 + 16384; hc-&gt;qhPool = (EhciQH *)VMAlloc(sizeof(EhciQH) * MAX_QH + 8192 * 4); hc-&gt;tdPool = (EhciTD *)VMAlloc(sizeof(EhciTD) * MAX_TD + 8192 * 4); hc-&gt;qhPool = (((uint)hc-&gt;qhPool) / 16384) * 16384 + 16384; hc-&gt;tdPool = (((uint)hc-&gt;tdPool) / 16384) * 16384 + 16384; // Asynchronous queue setup //    EhciQH *qh = EhciAllocQH(hc); //     ,      // ,    qh-&gt;qhlp = (u32)(uintptr_t)qh | PTR_QH; //  ,  ,     qh-&gt;ch = QH_CH_H; qh-&gt;caps = 0; qh-&gt;curLink = 0; qh-&gt;nextLink = PTR_TERMINATE; qh-&gt;altLink = 0; qh-&gt;token = 0; //    for (uint i = 0; i &lt; 5; ++i) { qh-&gt;buffer[i] = 0; qh-&gt;extBuffer[i] = 0; } hc-&gt;asyncQH = qh; // Periodic list queue setup //    qh = EhciAllocQH(hc); //     qh-&gt;qhlp = PTR_TERMINATE; qh-&gt;ch = 0; qh-&gt;caps = 0; qh-&gt;curLink = 0; qh-&gt;nextLink = PTR_TERMINATE; qh-&gt;altLink = 0; qh-&gt;token = 0; //   for (uint i = 0; i &lt; 5; ++i) { qh-&gt;buffer[i] = 0; qh-&gt;extBuffer[i] = 0; } qh-&gt;transfer = 0; qh-&gt;qhLink.prev = &amp;qh-&gt;qhLink; qh-&gt;qhLink.next = &amp;qh-&gt;qhLink; hc-&gt;periodicQH = qh; //        for (uint i = 0; i &lt; 1024; ++i) hc-&gt;frameList[i] = PTR_QH | (u32)(uintptr_t)qh; kprintf("FrameList filled. Turning off Legacy BIOS support..."); // Check extended capabilities //  BIOS Legacy support uint eecp = (RCR(hccParamsO) &amp; HCCPARAMS_EECP_MASK) &gt;&gt; HCCPARAMS_EECP_SHIFT; if (eecp &gt;= 0x40) { // Disable BIOS legacy support uint legsup = PciRead32(id, eecp + USBLEGSUP); kprintf("."); if (legsup &amp; USBLEGSUP_HC_BIOS) { PciWrite32(id, eecp + USBLEGSUP, legsup | USBLEGSUP_HC_OS); kprintf("."); for (;;) { legsup = PciRead32(id, eecp + USBLEGSUP); kprintf("."); if (~legsup &amp; USBLEGSUP_HC_BIOS &amp;&amp; legsup &amp; USBLEGSUP_HC_OS) { break; } } } } kprintf("Done\n"); // Disable interrupts //   //hc-&gt;opRegs-&gt;usbIntr = 0; MWIR(ehcibase, usbIntrO, 0); // Setup frame list //     //hc-&gt;opRegs-&gt;frameIndex = 0; WOR(frameIndexO, 0); //hc-&gt;opRegs-&gt;periodicListBase = (u32)(uintptr_t)hc-&gt;frameList; WOR(periodicListBaseO, (u32)(uintptr_t)hc-&gt;frameList); //       //hc-&gt;opRegs-&gt;asyncListAddr = (u32)(uintptr_t)hc-&gt;asyncQH; WOR(asyncListAddrO, (u32)(uintptr_t)hc-&gt;asyncQH); //    0 //hc-&gt;opRegs-&gt;ctrlDsSegment = 0; WOR(ctrlDsSegmentO, 0); // Clear status //   //hc-&gt;opRegs-&gt;usbSts = ~0; WOR(usbStsO, ~0); // Enable controller //  , 8 -,  //     //hc-&gt;opRegs-&gt;usbCmd = (8 &lt;&lt; CMD_ITC_SHIFT) | CMD_PSE | CMD_ASE | CMD_RS; WOR(usbCmdO, (8 &lt;&lt; CMD_ITC_SHIFT) | CMD_PSE | CMD_ASE | CMD_RS); while (ROR(usbStsO)&amp;STS_HCHALTED); // Configure all devices to be managed by the EHCI // ,   //hc-&gt;opRegs-&gt;configFlag = 1; WOR(configFlagO, 1);\ // Probe devices //   EhciProbe(hc);</span></span></code> </pre> <br>  рджрд░рдЕрд╕рд▓, рдкреЛрд░реНрдЯ рдХреЛ рдЙрд╕рдХреА рдореВрд▓ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб: <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> u32 *reg = &amp;hc-&gt;opRegs-&gt;ports[port]; <span class="hljs-comment"><span class="hljs-comment">//    ,  100 *reg|=(1&lt;&lt;12)|(1&lt;&lt;20); Wait(100); //  ,  50  EhciPortSet(reg, PORT_RESET | (1&lt;&lt;12) | (1&lt;&lt;20) | (1&lt;&lt;6)); Wait(50); EhciPortClr(reg, PORT_RESET); // Wait 100ms for port to enable (TODO - what is appropriate length of time?) //  100    ,   , //  100    uint status = 0; for (uint i = 0; i &lt; 10; ++i) { // Delay Wait(10); // Get current status //    status = *reg; // Check if device is attached to port //      if (~status &amp; PORT_CONNECTION) break; // Acknowledge change in status //    -    if (status &amp; (PORT_ENABLE_CHANGE | PORT_CONNECTION_CHANGE)) { EhciPortClr(reg, PORT_ENABLE_CHANGE | PORT_CONNECTION_CHANGE); continue; } // Check if device is enabled //    ,    if (status &amp; PORT_ENABLE) break; } return status;</span></span></code> </pre><br>  рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдг рдЕрдиреБрд░реЛрдз: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EhciDevControl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UsbDevice *dev, UsbTransfer *t)</span></span></span><span class="hljs-function"> </span></span>{ EhciController *hc = (EhciController *)dev-&gt;hc; UsbDevReq *req = t-&gt;req; <span class="hljs-comment"><span class="hljs-comment">// Determine transfer properties //    uint speed = dev-&gt;speed; uint addr = dev-&gt;addr; uint maxSize = dev-&gt;maxPacketSize; uint type = req-&gt;type; uint len = req-&gt;len; // Create queue of transfer descriptors //   TDs EhciTD *td = EhciAllocTD(hc); if (!td) return; EhciTD *head = td; EhciTD *prev = 0; // Setup packet //   uint toggle = 0; uint packetType = USB_PACKET_SETUP; uint packetSize = sizeof(UsbDevReq); EhciInitTD(td, prev, toggle, packetType, packetSize, req); prev = td; // Data in/out packets packetType = type &amp; RT_DEV_TO_HOST ? USB_PACKET_IN : USB_PACKET_OUT; u8 *it = (u8 *)t-&gt;data; u8 *end = it + len; //EhciPrintTD(td); while (it &lt; end) { td = EhciAllocTD(hc); if (!td) return; toggle ^= 1; packetSize = end - it; if (packetSize &gt; maxSize) packetSize = maxSize; EhciInitTD(td, prev, toggle, packetType, packetSize, it); it += packetSize; prev = td; } // Status packet //   td = EhciAllocTD(hc); if (!td) return; toggle = 1; packetType = type &amp; RT_DEV_TO_HOST ? USB_PACKET_OUT : USB_PACKET_IN; EhciInitTD(td, prev, toggle, packetType, 0, 0); // Initialize queue head //   : EhciQH *qh = EhciAllocQH(hc); EhciInitQH(qh, t, head, dev-&gt;parent, false, speed, addr, 0, maxSize); // Wait until queue has been processed //       EhciInsertAsyncQH(hc-&gt;asyncQH, qh); EhciWaitForQH(hc, qh); }</span></span></code> </pre><br>  рдХрддрд╛рд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЛрдб: <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (qh-&gt;token &amp; TD_TOK_HALTED) { t-&gt;success = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; t-&gt;complete = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (qh-&gt;nextLink &amp; PTR_TERMINATE) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (~qh-&gt;token &amp; TD_TOK_ACTIVE) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (qh-&gt;token &amp; TD_TOK_DATABUFFER) kprintf(<span class="hljs-string"><span class="hljs-string">" Data Buffer Error\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (qh-&gt;token &amp; TD_TOK_BABBLE) kprintf(<span class="hljs-string"><span class="hljs-string">" Babble Detected\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (qh-&gt;token &amp; TD_TOK_XACT) kprintf(<span class="hljs-string"><span class="hljs-string">" Transaction Error\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (qh-&gt;token &amp; TD_TOK_MMF) kprintf(<span class="hljs-string"><span class="hljs-string">" Missed Micro-Frame\n"</span></span>); t-&gt;success = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; t-&gt;complete = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t-&gt;complete) ....</code> </pre><br>  рдФрд░ рдЕрдм рд╕рдорд╛рдкрди рдмрд┐рдВрджреБ рдЕрдиреБрд░реЛрдз (рдереЛрдХ рдЕрдиреБрд░реЛрдз) <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EhciDevIntr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UsbDevice *dev, UsbTransfer *t)</span></span></span><span class="hljs-function"> </span></span>{ EhciController *hc = (EhciController *)dev-&gt;hc; <span class="hljs-comment"><span class="hljs-comment">// Determine transfer properties //    uint speed = dev-&gt;speed; uint addr = dev-&gt;addr; uint maxSize = t-&gt;endp-&gt;desc-&gt;maxPacketSize; uint endp = t-&gt;endp-&gt;desc-&gt;addr &amp; 0xf; EhciTD *td = EhciAllocTD(hc); if (!td) { t-&gt;success = false; t-&gt;complete = true; return; } EhciTD *head = td; EhciTD *prev = 0; // Data in/out packets uint toggle = t-&gt;endp-&gt;toggle; uint packetType = t-&gt;endp-&gt;desc-&gt;addr &amp; 0x80 ? USB_PACKET_IN : USB_PACKET_OUT; uint packetSize = t-&gt;len; EhciInitTD(td, prev, toggle, packetType, packetSize, t-&gt;data); // Initialize queue head //    EhciQH *qh = EhciAllocQH(hc); EhciInitQH(qh, t, head, dev-&gt;parent, true, speed, addr, endp, maxSize); //printQh(qh); // Schedule queue //    EhciInsertPeriodicQH(hc-&gt;periodicQH, qh); }</span></span></code> </pre><br>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рд╖рдп рдХрд╛рдлреА рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ, рд░реВрд╕реА рдореЗрдВ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рд▓рдЧрднрдЧ рдХреЛрдИ рдкреНрд░рд▓реЗрдЦрди, рд╡рд┐рд╡рд░рдг рдФрд░ рд▓реЗрдЦ рдирд╣реАрдВ рд╣реИрдВ, рдФрд░ рдпрджрд┐ рд╣реИ, рддреЛ рдпрд╣ рдмрд╣реБрдд рдзреБрдВрдзрд▓рд╛ рд╣реИред  рдпрджрд┐ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдФрд░ рдУрдПрд╕ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рд╖рдп рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ, рддреЛ рдмрд╣реБрдд рдХреБрдЫ рдмрддрд╛рдирд╛ рд╣реИред <br><br>  рдбреЙрдХреНрд╕: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi426421/">https://habr.com/ru/post/hi426421/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi426411/index.html">C ++ / CLI рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрдЯрд░ рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдХрд░рдирд╛</a></li>
<li><a href="../hi426413/index.html">рдареЛрд╕ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣рд░ рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП</a></li>
<li><a href="../hi426415/index.html">рдлрд┐рдирдЯреЗрдХ-рдбрд╛рдЗрдЬреЗрд╕реНрдЯ: рд╕реЗрдВрдЯреНрд░рд▓ рдмреИрдВрдХ рджреНрд╡рд╛рд░рд╛ рдбрд┐рдЬрд┐рдЯрд▓реАрдХрд░рдг рдирд┐рдпрдВрддреНрд░рдг, рдХреНрд░рд┐рдкреНрдЯреЛрдХреНрдпреВрд░реЗрдВрд╕реА рд╡реЗрддрди, рдХрдВрдЧрди рдФрд░ рдЪрд╛рдмреА рдХреЗ рдЫрд▓реНрд▓реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдореАрд░ рдХрд╛рд░реНрдб</a></li>
<li><a href="../hi426417/index.html">рдкрд╛рд╡реЗрд▓ 2.0: рдЬреЗрдПрд╕ рдкрд░ рд░реЗрдкреНрдЯрд┐рд▓реЙрдЗрдб рд╕рд▓рд╛рд╣рдХрд╛рд░, рд╕реЙрдХреЗрдЯреНрд╕ рдФрд░ рдЯреЗрд▓реАрдлреЛрдиреА рдХреЗ рд╕рд╛рде рдиреЛрдбред рдЬреЗрдПрд╕</a></li>
<li><a href="../hi426419/index.html">рдЬрд╛рд╡рд╛ рдореЗрдВ рдирд┐рд╖рд┐рджреНрдз рдЕрдзрд┐рднрд╛рд░ рдпрд╛ рдкреБрд▓ рдХреЗ рддрд░реАрдХреЗ</a></li>
<li><a href="../hi426423/index.html">рд╕реНрдорд╛рд░реНрдЯрдлреЛрди рдкрд░ mmWave: рдХреНрд╡рд╛рд▓рдХреЙрдо рдиреЗ рдЕрд╕рдВрднрд╡ рдХреЛ рдХреИрд╕реЗ рд╕рдВрднрд╡ рдмрдирд╛рдпрд╛</a></li>
<li><a href="../hi426425/index.html">RTOS рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрд░реА рд╕рдЪреНрдЪрд╛рдИред рдЕрдиреБрдЪреНрдЫреЗрдж # 14ред рд╕реНрдореГрддрд┐ рдХреА рдзрд╛рд░рд╛рдПрдВ: рдкрд░рд┐рдЪрдп рдФрд░ рдмреБрдирд┐рдпрд╛рджреА рд╕реЗрд╡рд╛рдПрдВ</a></li>
<li><a href="../hi426427/index.html">"рд╕рд╛рдорд╛рди" рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╕рд╛рдорд╛рди: рдХрдо рдХреАрдорддреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЫреЛрдЯрд╛ рдЪрдпрди</a></li>
<li><a href="../hi426429/index.html">рдбреЗрдмрд┐рдпрди 9 рдкрд░ рдлреНрд░реАрд╕реНрд╡рд╛рдЗрдЯ 1.8 рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ (рд░рд╛рд╕реНрдкрдмрд░реА рдкрд╛рдИ рдкрд░ рдореЗрдЬрд░рдбреЛрдореЛ рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо рд╕рд┐рд╕реНрдЯрдо рдХреА рдореВрд▓ рдЫрд╡рд┐)</a></li>
<li><a href="../hi426431/index.html">рдХреБрд▓реА рджреГрд╢реНрдп рдЙрдкрдиреНрдпрд╛рд╕ рдЗрдВрдЬрди рдХреЛ рдЦрд╛рд░рд┐рдЬ рдХрд░ рджрд┐рдпрд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>