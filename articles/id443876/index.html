<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤜🏿 🙏🏾 🙌🏿 Kami sedang mengembangkan bot Telegram untuk melacak film di NodeJS dan TypeScript 🐕 🦑 👟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Itu terjadi pada Anda bahwa Anda datang ke bioskop dan menonton trailer sebelum dimulainya film, sementara beberapa dari mereka berpegang teguh pada A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami sedang mengembangkan bot Telegram untuk melacak film di NodeJS dan TypeScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443876/"><img src="https://habrastorage.org/webt/k8/du/50/k8du50aoufwmy7qczw9n6opy2mq.png"><br><br>  Itu terjadi pada Anda bahwa Anda datang ke bioskop dan menonton trailer sebelum dimulainya film, sementara beberapa dari mereka berpegang teguh pada Anda dan Anda berjanji pada diri sendiri untuk menonton film ini jika tidak di bioskop, maka setidaknya nanti, ketika film itu tersedia untuk diunduh. ?  Saya berani menyarankan itu ya.  Tetapi sering kali berakhir dengan fakta bahwa Anda berhasil melupakannya dan, dalam kasus terbaik, secara tidak sengaja menemukan film ini dengan menggulir daftar film yang sudah dirilis. <br><br>  Saya sering menghadapi masalah seperti itu dan memutuskan untuk membuatnya dengan Eve - Telegram-bot, yang membantu saya untuk tidak melupakan rilis film favorit saya.  Apa itu, bagaimana cara kerjanya dan bagaimana itu dikembangkan, Anda dapat membaca di bawah potongan! <br><a name="habracut"></a><br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kata Pengantar</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mengapa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pemilihan teknologi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Telegraf.js</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Struktur proyek</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Inisialisasi dan Peluncuran</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tangani input pengguna</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lokalisasi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kesimpulan</a> </li></ul><br><a name="foreword"></a><h3>  Kata Pengantar </h3><br>  Artikel ini bukan panduan terperinci tentang cara membuat bot Telegram.  Dan meskipun selama artikel saya akan sering merujuk ke proyek saya, tujuan dari materi ini adalah cerita tentang pengembangan secara umum, yaitu pilihan teknologi, poin-poin penting dan jebakan yang saya temui. <br><a name="why"></a><br><h3>  Mengapa </h3><br>  Jadi, seperti yang saya tulis di atas, saya sering lupa menonton film-film yang trailernya saya sukai.  Saya telah memikirkan solusi untuk masalah ini sejak lama.  Hal pertama yang terpikir oleh saya adalah pembuatan aplikasi asli untuk smartphone, tetapi sejak itu  Saya belum pernah melakukan ini sebelumnya, akan memakan banyak waktu dan bukan fakta bahwa hasil akhirnya akan memuaskan kebutuhan saya, serta kebutuhan pengguna potensial. <br><br>  Ide selanjutnya adalah membuat PWA.  Ini opsi yang cukup menarik untuk berkenalan dengan teknologi, tetapi saya memutuskan untuk meninggalkannya di masa depan.  Pada saat yang sama, saya telah menggunakan Telegram untuk waktu yang lama dan selama ini saya telah mengumpulkan cukup banyak bot yang secara berkala membuat hidup saya sedikit lebih mudah.  Pada akhirnya, setelah mempertimbangkan semua pro dan kontra, saya memutuskan bahwa platform ini sangat cocok untuk ide ini. <br><a name="technologies"></a><br><h3>  Pemilihan teknologi </h3><br>  Jika Anda menggunakan Github untuk bot Telegram, Anda dapat melihat bahwa kebanyakan dari mereka ditulis dalam Python.  Python benar-benar bahasa yang hebat dan bagus untuk ide ini, tetapi saya ingin mengimplementasikan proyek ini secara khusus pada NodeJS + TypeScript.  Menerapkan filter yang sesuai, saya menemukan 2 alat yang cukup populer: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">node-telegram-bot-api</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Telegraf.js</a> . <br><br>  Sebelum pengalaman dalam mengembangkan bot saya tidak punya, jadi ketika memilih dari dua bot ini tidak jelas parameter apa yang harus dilihat.  Akibatnya, setelah melihat dokumentasi dan mencari masalah untuk masing-masing perpustakaan, saya memutuskan Telegraf.js.  Faktor yang menentukan adalah ketersediaan middlewares, yang dirancang dengan cara yang sama seperti dalam kerangka Express.js yang populer.  Telegraf.js juga memiliki riwayat pembaruan yang lebih sering dan dokumentasi yang terstruktur dengan baik, yang menunjukkan bahwa para pengembang melakukan upaya yang cukup untuk meningkatkan alat ini.  Selain itu, ini berisi tip untuk TypeScript, yang pasti merupakan nilai tambah untuk tumpukan yang dipilih. <br><a name="telegraf"></a><br><h3>  Telegraf.js </h3><br>  Telegraf.js adalah perpustakaan utama tempat proyek ini ditulis.  Ini menggunakan beberapa pendekatan menarik yang memungkinkan Anda untuk membuat bot kompleks sambil mempertahankan kesederhanaan kode.  Di bawah ini adalah mekanisme yang paling menarik: <br><br><ul><li>  <b>Middlewares</b> - ya, ini adalah middlewares yang sama dengan yang tersedia di Express.js.  Ketika pengguna mengirim sesuatu ke bot, pesan pertama kali melewati semua middlewares terdaftar, dan setelah itu sampai ke pengontrol.  Middlewares dapat memodifikasi konteks dan juga menunda eksekusi permintaan, misalnya, jika pengguna biasa mencoba masuk ke area untuk administrator.  Telegraf.js menyediakan beberapa middlewares yang sangat berguna di luar kotak, tetapi Anda juga dapat menggunakannya sendiri.  Yaitu middlewares dianggap sebagai fitur pembunuh Telegraf.js </li><li>  <b>Sesi</b> - sesi yang dapat menyimpan informasi yang tidak terikat ke controller.  Anda dapat memberikan analogi dengan variabel global yang dapat diakses dari mana saja di bot.  Suatu hal yang sangat nyaman, yang digunakan, misalnya, untuk pelokalan.  Dimungkinkan untuk menyimpan sesi dalam mode yang berbeda - DB, redis, file lokal, dll. </li><li>  <b>Webooks</b> - bot dapat bekerja dalam dua mode - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">polling panjang</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Webhooks</a> .  Dan meskipun keduanya bekerja sama cepatnya, lebih baik menggunakan opsi kedua dalam lingkungan produksi.  Dengan demikian, bot tidak perlu mengetuk server Telegram, sebagai gantinya, ia akan menerima semua pembaruan sendiri. <br><br>  <b>Penting:</b> Prasyarat untuk Webhooks adalah dukungan untuk server SSL / TLS.  Juga pastikan bahwa port tempat Webhook dijalankan terbuka dan dapat diakses dari luar. </li><li>  <b>Markup</b> - dengan kelas ini Anda bisa mengajarkan bot untuk merespons dalam markup / markdown markup.  Ini penting jika, misalnya, Anda membuat game HTML.  Namun, dalam proyek saya, saya menggunakannya hanya untuk teks tebal / miring. </li><li>  <b>Panggung</b> adalah modul yang sangat menarik yang membantu saya menjaga saraf dan beberapa jam perkembangan.  Di sini saya akan menceritakan lebih detail. <br>  Bot dapat mendengarkan pesan dari pengguna dan, tergantung pada jenis atau konten pesan, mengarahkannya ke pengontrol tertentu yang akan menjalankan fungsinya dan mengirimkan respons kepada pengguna.  Ini terlihat seperti ini: <br><br><pre><code class="javascript hljs">bot.hears(<span class="hljs-string"><span class="hljs-string">'hello'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> ctx =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> ctx.reply(<span class="hljs-string"><span class="hljs-string">'Hello!'</span></span>); });</code> </pre> <br>  Ini hanya berfungsi: jika Anda menulis halo ke bot, itu hanya akan membalas Halo!  Mengetahui aspek pekerjaan ini, mari kita coba bayangkan bagaimana bot dapat bekerja untuk mencari film: <br><br><ol><li>  Pengguna menulis bahwa ia ingin pergi mencari film; </li><li>  Pengguna mengarahkan nama film; </li><li>  Bot mengembalikan daftar film dan meminta pengguna untuk menyimpan film yang dipilih ke perpustakaannya; </li><li>  ... </li></ol><br>  Perhatian, sebuah pertanyaan!  Bagaimana bot dapat membedakan ketika pengguna menulis kepadanya bahwa ia ingin mulai mencari film, dan ketika ia menulis nama film untuk dicari? <br><br>  <i>Ya, Anda dapat mengambil teks yang dikirim sebagai nama film, tetapi kami ingin membuat bot dengan <s>blackjack dan pelacur</s> antarmuka yang baik.</i> <br><br>  Dan di sini adegan (Tahapan) ikut bermain!  Akan lebih mudah untuk mengatakannya dengan contoh di atas.  Ketika pengguna mengatakan bahwa ia ingin pergi mencari film, kami meluncurkan adegan.  Di dalam adegan ini ada penangan teks terpisah - bot.hears (...).  Dengan demikian, semua pesan selanjutnya akan berhubungan langsung dengan pencarian film sampai pengguna menulis pesan untuk keluar dan meninggalkan tempat kejadian.  Setelah itu, penangan di dalam adegan ini dinonaktifkan sampai pengguna kembali ke sana lagi.  Selanjutnya saya akan menjelaskan bagaimana saya menggunakan adegan untuk membuat penanganan acara sesederhana mungkin. <br></li></ul><br><a name="structure"></a><br><h3>  Struktur proyek </h3><br>  Ada kecurigaan bahwa artikel itu akan berubah menjadi sangat banyak, dan karena itu, agar tidak merentangkannya lebih jauh, saya akan menghilangkan beberapa poin.  Misalnya, agar bot mulai bekerja, Anda harus mulai dengan mendapatkan token API API Telegram.  Anda dapat membaca tentang bagaimana melakukan ini di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> Telegram resmi atau dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> untuk Telegraf.js. <br><br>  Struktur file proyek adalah sebagai berikut: <br><br><div class="spoiler">  <b class="spoiler_title">Struktur proyek</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/44/ps/n8/44psn8gqdploz320kpoh0yzmwxg.png"><br></div></div><br>  Ia bekerja sebagai berikut: <br><br><ul><li>  <b>src / controllers</b> - ini adalah adegan yang ditulis di atas.  Dalam proyek ini, setiap adegan adalah pengontrol terpisah yang memproses permintaan yang sesuai. </li><li>  <b>src / locales</b> - terjemahan untuk berbagai bahasa.  Telegraf.js membuatnya relatif mudah untuk menambahkan pelokalan ke bot menggunakan middlewares. </li><li>  <b>src / models</b> - model untuk MongoDB. </li><li>  <b>src / types</b> - tippings untuk TypeScript.  Sayangnya, tidak semua perpustakaan yang digunakan dalam proyek memiliki timing default. </li><li>  <b>src / util</b> - berbagai fungsi pembantu yang digunakan di berbagai bagian proyek.  Di sini Anda dapat melihat bagaimana ketersediaan film untuk diunduh, manajemen sesi, membuat keyboard, penangan kesalahan, dan banyak lagi yang berfungsi. </li><li>  <b>src / bot.ts</b> - file utama tempat semua persiapan dan peluncuran bot dilakukan. </li><li>  <b>src / telegram.ts</b> - dalam hal ini, kami membuat objek kelas Telegram dari perpustakaan Telegraf.js.  Menggunakan objek ini, kita dapat mengirim pesan ke pengguna terlebih dahulu, menggunakan ID mereka, dan tidak menunggu sampai mereka menulis sesuatu.  Misalnya, dalam proyek ini, kami mengirim pesan kepada pengguna yang menyatakan bahwa film yang ia ikuti sudah dapat diunduh.  Tentu saja, objek ini menyediakan lebih banyak fitur. </li><li>  <b>Yang lainnya</b> adalah konfigurasi untuk berbagai bagian proyek yang tidak akan dibahas dalam artikel ini. </li></ul><br><a name="start"></a><h3>  Inisialisasi dan Peluncuran </h3><br>  Ketika kami mengetahui struktur proyek, mari kita lihat bagaimana bot sebenarnya dimulai.  Sekali lagi, untuk mempersingkat artikel, saya tidak akan memasukkan seluruh kode di sini, tetapi hanya akan berbicara tentang utama, menurut pendapat saya, momen.  Anda dapat melihat kode lengkap di repositori, tautan yang tersedia di akhir artikel. <br><br>  Semuanya dimulai dengan menghubungkan ke basis data, yang menyimpan informasi tentang pengguna dan film yang mereka lacak.  Setelah koneksi berhasil, kami mendaftarkan semua adegan yang digunakan dalam proyek, menetapkan parameter untuk pelokalan dan menambahkan beberapa middlewares - sesi pemrosesan, pelokalan, pengaturan adegan, serta beberapa adegan kami sendiri.  Salah satunya, misalnya, menerima semua informasi tentang pengguna sesuai dengan ID-nya dan menambahkannya ke konteks yang digunakan dalam pengontrol.  Akhirnya, setelah semua persiapan dasar, kami meluncurkan bot dalam mode pengembangan (polling panjang) atau produksi (Webhooks). <br><br>  <b>Penting:</b> jika Anda menggunakan metode berbeda untuk menerima pembaruan (polling panjang dan Webhooks), maka ketika memulai bot dalam mode polling panjang, pertama-tama hapus Webhook mendengarkan menggunakan permintaan GET di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">api.telegram.org/botYOUR_TOKEN/deleteWebhook</a> .  Kalau tidak, bot mungkin tidak berfungsi dengan baik. <br><a name="userinput"></a><br><h3>  Tangani input pengguna </h3><br>  Hore!  Bot berfungsi, terhubung ke database dan siap menerima pesan dari pengguna.  Tetapi bagaimana cara melakukannya dengan benar? <br><br>  Pertama-tama, akan lebih mudah bagi pengguna untuk menggunakan Telegram-keyboard bawaan.  Bahkan, ketika Anda mengklik tombol-tombol pada keyboard ini, pesan dikirim dengan isi tombol-tombol ini.  Selanjutnya, kami cukup menambahkan penangan untuk teks ini dan melakukan tindakan tertentu. <br><br>  File <a href="">bot.ts berisi</a> penangan tersebut.  Karena bot mendukung dua bahasa, tombol-tombol itu mungkin juga mengandung teks yang berbeda - dalam bahasa Rusia dan Inggris.  Telegraf-i18n memiliki fungsi kecocokan yang dapat menangani mengklik tombol yang sama dengan berbagai bahasa. <br><br>  Sebagian besar penangan di bot.ts melakukan fungsi tunggal - mereka meluncurkan pengguna ke adegan yang sesuai.  Jadi, kami memiliki beberapa bagian - mencari film, koleksi saya, pengaturan dan kontak.  Setiap bagian memiliki adegan sendiri dan tombolnya sendiri, ketika diklik, pengguna pindah ke adegan yang sesuai. <br><br>  <b>Penting:</b> pastikan untuk menambahkan pawang yang akan melepaskan pengguna dari tempat kejadian, jika tidak mereka berisiko tinggal di sana selamanya!  Ini juga akan berguna untuk membuat satu perintah umum (/ saveme digunakan di bot), yang akan ditambahkan ke setiap adegan dan ke file utama.  Perintah ini akan berfungsi sebagai jalan keluar dari adegan apa pun, serta mengatur ulang pengaturan pengguna. <br><br>  Dan sekarang, pengguna ingin pergi mencari film.  Dengan mengklik tombol yang sesuai, kami memindahkannya ke adegan pencarian.  Untuk kenyamanan, setiap adegan memiliki folder sendiri dengan file, yang masing-masing melakukan fungsi tertentu. <br><br>  Di dalam adegan, Anda dapat menggunakan middlewares Anda, yang ada di file middlewares.ts.  Misalnya, dengan menggunakan middleware di adegan pencarian, kami dapat dengan mudah meneruskan semua informasi tentang film ke metode yang sesuai, daripada melakukan fungsi yang sama setiap kali di dalamnya. <br><br>  Telegram juga memiliki keyboard inline.  Mungkin Anda telah menemukan pesan dengan suara, di mana ada beberapa tombol transparan, dan ketika Anda mengklik salah satu dari mereka, jumlah suara berubah.  Tombol-tombol ini adalah keyboard inline <br><br><div class="spoiler">  <b class="spoiler_title">Begitulah yang terlihat pada Hawa</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/gz/sn/-n/gzsn-nvolazzilaylnhy-ugacny.png"><br></div></div><br>  Setiap tombol berisi informasi, ketika Anda mengklik tombol, itu akan dikirim ke penangan yang sesuai.  <b>Ukuran informasi yang dikirimkan tidak boleh melebihi 64 byte!</b>  Untuk mengajarkan bot mendengarkan klik tombol, kita perlu mendaftarkannya menggunakan bot.action (/ trigger /, callback).  Parameter pertama berisi semua data yang terikat ke tombol.  Saya memutuskan untuk menggunakan sesuatu seperti Actions from Redux, di mana objek bentuk {a: actionName, p: payload} dilampirkan ke setiap tombol.  Saat mendaftarkan pendengar, kita dapat menggunakan RegExp sederhana, misalnya: bot.action (/ actionName /, callBack).  Semua penangan untuk keyboard inline ada di file actions.ts. <br><br>  Selain itu, di beberapa adegan ada file helpers.ts, yang berisi fungsi kecil yang diambil di sana untuk membongkar file yang tersisa.  Sebagian besar, ada generator keyboard untuk berbagai tindakan oleh pengguna. <br><a name="localization"></a><br><h3>  Lokalisasi </h3><br>  Karena ini adalah topik penting, saya pikir perlu disebutkan secara terpisah.  Seperti yang saya katakan sebelumnya, Telegraf.js berisi sejumlah besar middlewares, salah satunya adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">telegraf-i18n</a> .  Repositori berisi instruksi terperinci dan saya tidak memiliki masalah khusus dengan ini, tetapi bagaimanapun saya akan menambahkan beberapa kata tentang bagaimana ini bekerja dalam proyek ini. <br><br>  Ada folder locales di mana file untuk pelokalan berada, yang merupakan objek JSON dari form {"key": "translation"}.  Lebih lanjut, di mana pun kita perlu menggunakan bahasa yang berbeda, kita menggunakan metode dari perpustakaan ini, di mana kita mentransfer terjemahan yang kita butuhkan dengan kunci, dan pada output kita mendapatkan terjemahan yang sesuai.  Sesi dapat digunakan untuk menyimpan informasi tentang bahasa yang dipilih oleh pengguna.  Juga layak disebutkan tentang tombol lagi.  Ada fungsi kecocokan di perpustakaan yang sama, jadi jika teks pada tombol berubah tergantung pada bahasa, fungsi ini akan membantu Anda menggantung pendengar yang benar. <br><br>  <b>Penting:</b> jika Anda akan menggunakan pelokalan dan menulis bot dalam TypeScript, jangan lupa untuk menambahkan folder terjemahan ke tsconfig.json, jika tidak maka kode tidak akan dikompilasi.  Sebagai contoh: <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"include"</span></span>: [<span class="hljs-string"><span class="hljs-string">"src/locales/*.json"</span></span>]</code> </pre> <br><a name="conclusion"></a><h3>  Kesimpulan </h3><br>  Terima kasih sudah membaca sampai akhir!  Pada artikel ini, saya mencoba menggambarkan proses membuat bot Telegram secara keseluruhan serinci mungkin, tanpa keterikatan yang kuat dengan proyek saya.  Saya harap setelah membaca artikel ini, serta mempelajari kode sumber untuk Hawa, Anda dapat dengan mudah membuat bot yang dapat membantu Anda. <br><br>  Seperti yang dijanjikan, Anda dapat melihat kode sumber di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> , dan coba Hawa dalam tindakan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Saya akan sangat berterima kasih atas kritik dan saran untuk perbaikan. <br><br>  Saya juga ingin mencatat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bagian</a> dalam dokumentasi Telegraf.js dengan proyek sumber terbuka yang menarik yang dapat Anda lihat dan terinspirasi oleh arsitektur dan solusi.  Saya, pada gilirannya, ingin menyebutkan salah satu dari mereka - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">The Guard Bot</a> .  Bot yang benar-benar besar dan dibuat dengan baik, dari mana saya meminjam beberapa solusi untuk pengembangan saya. <br><br>  Dan pada saat saya mengatakan semua yang saya inginkan, saya akan dengan senang hati menjawab pertanyaan, saran, dan komentar Anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443876/">https://habr.com/ru/post/id443876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443862/index.html">Mobil jaksa mengunci. Bestchange terkunci lagi</a></li>
<li><a href="../id443868/index.html">Sebagai seorang programmer saya pergi ke gym, dan apa yang terjadi</a></li>
<li><a href="../id443870/index.html">Unity: Editing Jaring Prosedural</a></li>
<li><a href="../id443872/index.html">Tinjauan umum fitur baru nanoCAD SPDS Steelwork versi 1.2</a></li>
<li><a href="../id443874/index.html">Perbandingan kerangka pembelajaran dalam: TensorFlow, PyTorch, Keras, MXNet, Microsoft Cognitive Toolkit, Caffe, dll</a></li>
<li><a href="../id443878/index.html">DEV Labs 2019. Python untuk menyelesaikan tugas yang tidak sepele. Mitap online</a></li>
<li><a href="../id443882/index.html">MOSDROID # 15 Fosfor: video kinerja</a></li>
<li><a href="../id443884/index.html">3 kualitas utama dari manajer produk yang sukses: Anton Danilov</a></li>
<li><a href="../id443886/index.html">Memecahkan tugas dari wawancara Google tentang JavaScript: 4 cara berbeda</a></li>
<li><a href="../id443894/index.html">Tingkat keempat multi-semesta Max Tegmark</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>